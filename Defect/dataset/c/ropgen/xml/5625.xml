<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/5625.c" pos:tabs="8"><function pos:start="1:1" pos:end="519:1"><type pos:start="1:1" pos:end="1:3"><name pos:start="1:1" pos:end="1:3">int</name></type> <name pos:start="1:5" pos:end="1:30">ff_jpeg2000_init_component</name><parameter_list pos:start="1:31" pos:end="9:53">(<parameter pos:start="1:32" pos:end="1:54"><decl pos:start="1:32" pos:end="1:54"><type pos:start="1:32" pos:end="1:54"><name pos:start="1:32" pos:end="1:48">Jpeg2000Component</name> <modifier pos:start="1:50" pos:end="1:50">*</modifier></type><name pos:start="1:51" pos:end="1:54">comp</name></decl></parameter>,

                               <parameter pos:start="3:32" pos:end="3:58"><decl pos:start="3:32" pos:end="3:58"><type pos:start="3:32" pos:end="3:58"><name pos:start="3:32" pos:end="3:50">Jpeg2000CodingStyle</name> <modifier pos:start="3:52" pos:end="3:52">*</modifier></type><name pos:start="3:53" pos:end="3:58">codsty</name></decl></parameter>,

                               <parameter pos:start="5:32" pos:end="5:57"><decl pos:start="5:32" pos:end="5:57"><type pos:start="5:32" pos:end="5:57"><name pos:start="5:32" pos:end="5:49">Jpeg2000QuantStyle</name> <modifier pos:start="5:51" pos:end="5:51">*</modifier></type><name pos:start="5:52" pos:end="5:57">qntsty</name></decl></parameter>,

                               <parameter pos:start="7:32" pos:end="7:39"><decl pos:start="7:32" pos:end="7:39"><type pos:start="7:32" pos:end="7:39"><name pos:start="7:32" pos:end="7:34">int</name></type> <name pos:start="7:36" pos:end="7:39">cbps</name></decl></parameter>, <parameter pos:start="7:42" pos:end="7:47"><decl pos:start="7:42" pos:end="7:47"><type pos:start="7:42" pos:end="7:47"><name pos:start="7:42" pos:end="7:44">int</name></type> <name pos:start="7:46" pos:end="7:47">dx</name></decl></parameter>, <parameter pos:start="7:50" pos:end="7:55"><decl pos:start="7:50" pos:end="7:55"><type pos:start="7:50" pos:end="7:55"><name pos:start="7:50" pos:end="7:52">int</name></type> <name pos:start="7:54" pos:end="7:55">dy</name></decl></parameter>,

                               <parameter pos:start="9:32" pos:end="9:52"><decl pos:start="9:32" pos:end="9:52"><type pos:start="9:32" pos:end="9:52"><name pos:start="9:32" pos:end="9:45">AVCodecContext</name> <modifier pos:start="9:47" pos:end="9:47">*</modifier></type><name pos:start="9:48" pos:end="9:52">avctx</name></decl></parameter>)</parameter_list>

<block pos:start="11:1" pos:end="519:1">{<block_content pos:start="13:5" pos:end="517:13">

    <decl_stmt pos:start="13:5" pos:end="13:56"><decl pos:start="13:5" pos:end="13:32"><type pos:start="13:5" pos:end="13:11"><name pos:start="13:5" pos:end="13:11">uint8_t</name></type> <name pos:start="13:13" pos:end="13:32">log2_band_prec_width</name></decl>, <decl pos:start="13:35" pos:end="13:55"><type ref="prev" pos:start="13:5" pos:end="13:11"/><name pos:start="13:35" pos:end="13:55">log2_band_prec_height</name></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="15:51"><decl pos:start="15:5" pos:end="15:18"><type pos:start="15:5" pos:end="15:7"><name pos:start="15:5" pos:end="15:7">int</name></type> <name pos:start="15:9" pos:end="15:18">reslevelno</name></decl>, <decl pos:start="15:21" pos:end="15:26"><type ref="prev" pos:start="15:5" pos:end="15:7"/><name pos:start="15:21" pos:end="15:26">bandno</name></decl>, <decl pos:start="15:29" pos:end="15:39"><type ref="prev" pos:start="15:5" pos:end="15:7"/><name pos:start="15:29" pos:end="15:35">gbandno</name> <init pos:start="15:37" pos:end="15:39">= <expr pos:start="15:39" pos:end="15:39"><literal type="number" pos:start="15:39" pos:end="15:39">0</literal></expr></init></decl>, <decl pos:start="15:42" pos:end="15:44"><type ref="prev" pos:start="15:5" pos:end="15:7"/><name pos:start="15:42" pos:end="15:44">ret</name></decl>, <decl pos:start="15:47" pos:end="15:47"><type ref="prev" pos:start="15:5" pos:end="15:7"/><name pos:start="15:47" pos:end="15:47">i</name></decl>, <decl pos:start="15:50" pos:end="15:50"><type ref="prev" pos:start="15:5" pos:end="15:7"/><name pos:start="15:50" pos:end="15:50">j</name></decl>;</decl_stmt>

    <decl_stmt pos:start="17:5" pos:end="17:23"><decl pos:start="17:5" pos:end="17:22"><type pos:start="17:5" pos:end="17:12"><name pos:start="17:5" pos:end="17:12">uint32_t</name></type> <name pos:start="17:14" pos:end="17:18">csize</name> <init pos:start="17:20" pos:end="17:22">= <expr pos:start="17:22" pos:end="17:22"><literal type="number" pos:start="17:22" pos:end="17:22">1</literal></expr></init></decl>;</decl_stmt>



    <if_stmt pos:start="21:5" pos:end="27:5"><if pos:start="21:5" pos:end="27:5">if <condition pos:start="21:8" pos:end="21:35">(<expr pos:start="21:9" pos:end="21:34"><operator pos:start="21:9" pos:end="21:9">!</operator><name pos:start="21:10" pos:end="21:34"><name pos:start="21:10" pos:end="21:15">codsty</name><operator pos:start="21:16" pos:end="21:17">-&gt;</operator><name pos:start="21:18" pos:end="21:34">nreslevels2decode</name></name></expr>)</condition> <block pos:start="21:37" pos:end="27:5">{<block_content pos:start="23:9" pos:end="25:35">

        <expr_stmt pos:start="23:9" pos:end="23:73"><expr pos:start="23:9" pos:end="23:72"><call pos:start="23:9" pos:end="23:72"><name pos:start="23:9" pos:end="23:14">av_log</name><argument_list pos:start="23:15" pos:end="23:72">(<argument pos:start="23:16" pos:end="23:20"><expr pos:start="23:16" pos:end="23:20"><name pos:start="23:16" pos:end="23:20">avctx</name></expr></argument>, <argument pos:start="23:23" pos:end="23:34"><expr pos:start="23:23" pos:end="23:34"><name pos:start="23:23" pos:end="23:34">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="23:37" pos:end="23:71"><expr pos:start="23:37" pos:end="23:71"><literal type="string" pos:start="23:37" pos:end="23:71">"nreslevels2decode uninitialized\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <return pos:start="25:9" pos:end="25:35">return <expr pos:start="25:16" pos:end="25:34"><name pos:start="25:16" pos:end="25:34">AVERROR_INVALIDDATA</name></expr>;</return>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="31:5" pos:end="37:19"><if pos:start="31:5" pos:end="37:19">if <condition pos:start="31:8" pos:end="35:54">(<expr pos:start="31:9" pos:end="35:53"><name pos:start="31:9" pos:end="31:11">ret</name> <operator pos:start="31:13" pos:end="31:13">=</operator> <call pos:start="31:15" pos:end="35:53"><name pos:start="31:15" pos:end="31:34">ff_jpeg2000_dwt_init</name><argument_list pos:start="31:35" pos:end="35:53">(<argument pos:start="31:36" pos:end="31:45"><expr pos:start="31:36" pos:end="31:45"><operator pos:start="31:36" pos:end="31:36">&amp;</operator><name pos:start="31:37" pos:end="31:45"><name pos:start="31:37" pos:end="31:40">comp</name><operator pos:start="31:41" pos:end="31:42">-&gt;</operator><name pos:start="31:43" pos:end="31:45">dwt</name></name></expr></argument>, <argument pos:start="31:48" pos:end="31:58"><expr pos:start="31:48" pos:end="31:58"><name pos:start="31:48" pos:end="31:58"><name pos:start="31:48" pos:end="31:51">comp</name><operator pos:start="31:52" pos:end="31:53">-&gt;</operator><name pos:start="31:54" pos:end="31:58">coord</name></name></expr></argument>,

                                   <argument pos:start="33:36" pos:end="33:64"><expr pos:start="33:36" pos:end="33:64"><name pos:start="33:36" pos:end="33:60"><name pos:start="33:36" pos:end="33:41">codsty</name><operator pos:start="33:42" pos:end="33:43">-&gt;</operator><name pos:start="33:44" pos:end="33:60">nreslevels2decode</name></name> <operator pos:start="33:62" pos:end="33:62">-</operator> <literal type="number" pos:start="33:64" pos:end="33:64">1</literal></expr></argument>,

                                   <argument pos:start="35:36" pos:end="35:52"><expr pos:start="35:36" pos:end="35:52"><name pos:start="35:36" pos:end="35:52"><name pos:start="35:36" pos:end="35:41">codsty</name><operator pos:start="35:42" pos:end="35:43">-&gt;</operator><name pos:start="35:44" pos:end="35:52">transform</name></name></expr></argument>)</argument_list></call></expr>)</condition><block type="pseudo" pos:start="37:9" pos:end="37:19"><block_content pos:start="37:9" pos:end="37:19">

        <return pos:start="37:9" pos:end="37:19">return <expr pos:start="37:16" pos:end="37:18"><name pos:start="37:16" pos:end="37:18">ret</name></expr>;</return></block_content></block></if></if_stmt>

    <comment type="line" pos:start="39:5" pos:end="39:67">// component size comp-&gt;coord is uint16_t so ir cannot overflow</comment>

    <expr_stmt pos:start="41:5" pos:end="43:52"><expr pos:start="41:5" pos:end="43:51"><name pos:start="41:5" pos:end="41:9">csize</name> <operator pos:start="41:11" pos:end="41:11">=</operator> <operator pos:start="41:13" pos:end="41:13">(</operator><name pos:start="41:14" pos:end="41:30"><name pos:start="41:14" pos:end="41:17">comp</name><operator pos:start="41:18" pos:end="41:19">-&gt;</operator><name pos:start="41:20" pos:end="41:24">coord</name><index pos:start="41:25" pos:end="41:27">[<expr pos:start="41:26" pos:end="41:26"><literal type="number" pos:start="41:26" pos:end="41:26">0</literal></expr>]</index><index pos:start="41:28" pos:end="41:30">[<expr pos:start="41:29" pos:end="41:29"><literal type="number" pos:start="41:29" pos:end="41:29">1</literal></expr>]</index></name> <operator pos:start="41:32" pos:end="41:32">-</operator> <name pos:start="41:34" pos:end="41:50"><name pos:start="41:34" pos:end="41:37">comp</name><operator pos:start="41:38" pos:end="41:39">-&gt;</operator><name pos:start="41:40" pos:end="41:44">coord</name><index pos:start="41:45" pos:end="41:47">[<expr pos:start="41:46" pos:end="41:46"><literal type="number" pos:start="41:46" pos:end="41:46">0</literal></expr>]</index><index pos:start="41:48" pos:end="41:50">[<expr pos:start="41:49" pos:end="41:49"><literal type="number" pos:start="41:49" pos:end="41:49">0</literal></expr>]</index></name><operator pos:start="41:51" pos:end="41:51">)</operator> <operator pos:start="41:53" pos:end="41:53">*</operator>

            <operator pos:start="43:13" pos:end="43:13">(</operator><name pos:start="43:14" pos:end="43:30"><name pos:start="43:14" pos:end="43:17">comp</name><operator pos:start="43:18" pos:end="43:19">-&gt;</operator><name pos:start="43:20" pos:end="43:24">coord</name><index pos:start="43:25" pos:end="43:27">[<expr pos:start="43:26" pos:end="43:26"><literal type="number" pos:start="43:26" pos:end="43:26">1</literal></expr>]</index><index pos:start="43:28" pos:end="43:30">[<expr pos:start="43:29" pos:end="43:29"><literal type="number" pos:start="43:29" pos:end="43:29">1</literal></expr>]</index></name> <operator pos:start="43:32" pos:end="43:32">-</operator> <name pos:start="43:34" pos:end="43:50"><name pos:start="43:34" pos:end="43:37">comp</name><operator pos:start="43:38" pos:end="43:39">-&gt;</operator><name pos:start="43:40" pos:end="43:44">coord</name><index pos:start="43:45" pos:end="43:47">[<expr pos:start="43:46" pos:end="43:46"><literal type="number" pos:start="43:46" pos:end="43:46">1</literal></expr>]</index><index pos:start="43:48" pos:end="43:50">[<expr pos:start="43:49" pos:end="43:49"><literal type="number" pos:start="43:49" pos:end="43:49">0</literal></expr>]</index></name><operator pos:start="43:51" pos:end="43:51">)</operator></expr>;</expr_stmt>



    <expr_stmt pos:start="47:5" pos:end="47:61"><expr pos:start="47:5" pos:end="47:60"><name pos:start="47:5" pos:end="47:14"><name pos:start="47:5" pos:end="47:8">comp</name><operator pos:start="47:9" pos:end="47:10">-&gt;</operator><name pos:start="47:11" pos:end="47:14">data</name></name> <operator pos:start="47:16" pos:end="47:16">=</operator> <call pos:start="47:18" pos:end="47:60"><name pos:start="47:18" pos:end="47:32">av_malloc_array</name><argument_list pos:start="47:33" pos:end="47:60">(<argument pos:start="47:34" pos:end="47:38"><expr pos:start="47:34" pos:end="47:38"><name pos:start="47:34" pos:end="47:38">csize</name></expr></argument>, <argument pos:start="47:41" pos:end="47:59"><expr pos:start="47:41" pos:end="47:59"><sizeof pos:start="47:41" pos:end="47:59">sizeof<argument_list pos:start="47:47" pos:end="47:59">(<argument pos:start="47:48" pos:end="47:58"><expr pos:start="47:48" pos:end="47:58"><operator pos:start="47:48" pos:end="47:48">*</operator><name pos:start="47:49" pos:end="47:58"><name pos:start="47:49" pos:end="47:52">comp</name><operator pos:start="47:53" pos:end="47:54">-&gt;</operator><name pos:start="47:55" pos:end="47:58">data</name></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="49:5" pos:end="51:31"><if pos:start="49:5" pos:end="51:31">if <condition pos:start="49:8" pos:end="49:20">(<expr pos:start="49:9" pos:end="49:19"><operator pos:start="49:9" pos:end="49:9">!</operator><name pos:start="49:10" pos:end="49:19"><name pos:start="49:10" pos:end="49:13">comp</name><operator pos:start="49:14" pos:end="49:15">-&gt;</operator><name pos:start="49:16" pos:end="49:19">data</name></name></expr>)</condition><block type="pseudo" pos:start="51:9" pos:end="51:31"><block_content pos:start="51:9" pos:end="51:31">

        <return pos:start="51:9" pos:end="51:31">return <expr pos:start="51:16" pos:end="51:30"><call pos:start="51:16" pos:end="51:30"><name pos:start="51:16" pos:end="51:22">AVERROR</name><argument_list pos:start="51:23" pos:end="51:30">(<argument pos:start="51:24" pos:end="51:29"><expr pos:start="51:24" pos:end="51:29"><name pos:start="51:24" pos:end="51:29">ENOMEM</name></expr></argument>)</argument_list></call></expr>;</return></block_content></block></if></if_stmt>

    <expr_stmt pos:start="53:5" pos:end="53:82"><expr pos:start="53:5" pos:end="53:81"><name pos:start="53:5" pos:end="53:18"><name pos:start="53:5" pos:end="53:8">comp</name><operator pos:start="53:9" pos:end="53:10">-&gt;</operator><name pos:start="53:11" pos:end="53:18">reslevel</name></name> <operator pos:start="53:20" pos:end="53:20">=</operator> <call pos:start="53:22" pos:end="53:81"><name pos:start="53:22" pos:end="53:36">av_malloc_array</name><argument_list pos:start="53:37" pos:end="53:81">(<argument pos:start="53:38" pos:end="53:55"><expr pos:start="53:38" pos:end="53:55"><name pos:start="53:38" pos:end="53:55"><name pos:start="53:38" pos:end="53:43">codsty</name><operator pos:start="53:44" pos:end="53:45">-&gt;</operator><name pos:start="53:46" pos:end="53:55">nreslevels</name></name></expr></argument>, <argument pos:start="53:58" pos:end="53:80"><expr pos:start="53:58" pos:end="53:80"><sizeof pos:start="53:58" pos:end="53:80">sizeof<argument_list pos:start="53:64" pos:end="53:80">(<argument pos:start="53:65" pos:end="53:79"><expr pos:start="53:65" pos:end="53:79"><operator pos:start="53:65" pos:end="53:65">*</operator><name pos:start="53:66" pos:end="53:79"><name pos:start="53:66" pos:end="53:69">comp</name><operator pos:start="53:70" pos:end="53:71">-&gt;</operator><name pos:start="53:72" pos:end="53:79">reslevel</name></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="55:5" pos:end="57:31"><if pos:start="55:5" pos:end="57:31">if <condition pos:start="55:8" pos:end="55:24">(<expr pos:start="55:9" pos:end="55:23"><operator pos:start="55:9" pos:end="55:9">!</operator><name pos:start="55:10" pos:end="55:23"><name pos:start="55:10" pos:end="55:13">comp</name><operator pos:start="55:14" pos:end="55:15">-&gt;</operator><name pos:start="55:16" pos:end="55:23">reslevel</name></name></expr>)</condition><block type="pseudo" pos:start="57:9" pos:end="57:31"><block_content pos:start="57:9" pos:end="57:31">

        <return pos:start="57:9" pos:end="57:31">return <expr pos:start="57:16" pos:end="57:30"><call pos:start="57:16" pos:end="57:30"><name pos:start="57:16" pos:end="57:22">AVERROR</name><argument_list pos:start="57:23" pos:end="57:30">(<argument pos:start="57:24" pos:end="57:29"><expr pos:start="57:24" pos:end="57:29"><name pos:start="57:24" pos:end="57:29">ENOMEM</name></expr></argument>)</argument_list></call></expr>;</return></block_content></block></if></if_stmt>

    <comment type="block" pos:start="59:5" pos:end="59:35">/* LOOP on resolution levels */</comment>

    <for pos:start="61:5" pos:end="515:5">for <control pos:start="61:9" pos:end="61:71">(<init pos:start="61:10" pos:end="61:24"><expr pos:start="61:10" pos:end="61:23"><name pos:start="61:10" pos:end="61:19">reslevelno</name> <operator pos:start="61:21" pos:end="61:21">=</operator> <literal type="number" pos:start="61:23" pos:end="61:23">0</literal></expr>;</init> <condition pos:start="61:26" pos:end="61:57"><expr pos:start="61:26" pos:end="61:56"><name pos:start="61:26" pos:end="61:35">reslevelno</name> <operator pos:start="61:37" pos:end="61:37">&lt;</operator> <name pos:start="61:39" pos:end="61:56"><name pos:start="61:39" pos:end="61:44">codsty</name><operator pos:start="61:45" pos:end="61:46">-&gt;</operator><name pos:start="61:47" pos:end="61:56">nreslevels</name></name></expr>;</condition> <incr pos:start="61:59" pos:end="61:70"><expr pos:start="61:59" pos:end="61:70"><name pos:start="61:59" pos:end="61:68">reslevelno</name><operator pos:start="61:69" pos:end="61:70">++</operator></expr></incr>)</control> <block pos:start="61:73" pos:end="515:5">{<block_content pos:start="63:9" pos:end="513:9">

        <decl_stmt pos:start="63:9" pos:end="63:53"><decl pos:start="63:9" pos:end="63:52"><type pos:start="63:9" pos:end="63:11"><name pos:start="63:9" pos:end="63:11">int</name></type> <name pos:start="63:13" pos:end="63:18">declvl</name> <init pos:start="63:20" pos:end="63:52">= <expr pos:start="63:22" pos:end="63:52"><name pos:start="63:22" pos:end="63:39"><name pos:start="63:22" pos:end="63:27">codsty</name><operator pos:start="63:28" pos:end="63:29">-&gt;</operator><name pos:start="63:30" pos:end="63:39">nreslevels</name></name> <operator pos:start="63:41" pos:end="63:41">-</operator> <name pos:start="63:43" pos:end="63:52">reslevelno</name></expr></init></decl>;</decl_stmt>    <comment type="line" pos:start="63:58" pos:end="63:96">// N_L -r see  ISO/IEC 15444-1:2002 B.5</comment>

        <decl_stmt pos:start="65:9" pos:end="65:65"><decl pos:start="65:9" pos:end="65:64"><type pos:start="65:9" pos:end="65:26"><name pos:start="65:9" pos:end="65:24">Jpeg2000ResLevel</name> <modifier pos:start="65:26" pos:end="65:26">*</modifier></type><name pos:start="65:27" pos:end="65:34">reslevel</name> <init pos:start="65:36" pos:end="65:64">= <expr pos:start="65:38" pos:end="65:64"><name pos:start="65:38" pos:end="65:51"><name pos:start="65:38" pos:end="65:41">comp</name><operator pos:start="65:42" pos:end="65:43">-&gt;</operator><name pos:start="65:44" pos:end="65:51">reslevel</name></name> <operator pos:start="65:53" pos:end="65:53">+</operator> <name pos:start="65:55" pos:end="65:64">reslevelno</name></expr></init></decl>;</decl_stmt>



        <comment type="block" pos:start="69:9" pos:end="73:55">/* Compute borders for each resolution level.

         * Computation of trx_0, trx_1, try_0 and try_1.

         * see ISO/IEC 15444-1:2002 eq. B.5 and B-14 */</comment>

        <for pos:start="75:9" pos:end="81:77">for <control pos:start="75:13" pos:end="75:31">(<init pos:start="75:14" pos:end="75:19"><expr pos:start="75:14" pos:end="75:18"><name pos:start="75:14" pos:end="75:14">i</name> <operator pos:start="75:16" pos:end="75:16">=</operator> <literal type="number" pos:start="75:18" pos:end="75:18">0</literal></expr>;</init> <condition pos:start="75:21" pos:end="75:26"><expr pos:start="75:21" pos:end="75:25"><name pos:start="75:21" pos:end="75:21">i</name> <operator pos:start="75:23" pos:end="75:23">&lt;</operator> <literal type="number" pos:start="75:25" pos:end="75:25">2</literal></expr>;</condition> <incr pos:start="75:28" pos:end="75:30"><expr pos:start="75:28" pos:end="75:30"><name pos:start="75:28" pos:end="75:28">i</name><operator pos:start="75:29" pos:end="75:30">++</operator></expr></incr>)</control><block type="pseudo" pos:start="77:13" pos:end="81:77"><block_content pos:start="77:13" pos:end="81:77">

            <for pos:start="77:13" pos:end="81:77">for <control pos:start="77:17" pos:end="77:35">(<init pos:start="77:18" pos:end="77:23"><expr pos:start="77:18" pos:end="77:22"><name pos:start="77:18" pos:end="77:18">j</name> <operator pos:start="77:20" pos:end="77:20">=</operator> <literal type="number" pos:start="77:22" pos:end="77:22">0</literal></expr>;</init> <condition pos:start="77:25" pos:end="77:30"><expr pos:start="77:25" pos:end="77:29"><name pos:start="77:25" pos:end="77:25">j</name> <operator pos:start="77:27" pos:end="77:27">&lt;</operator> <literal type="number" pos:start="77:29" pos:end="77:29">2</literal></expr>;</condition> <incr pos:start="77:32" pos:end="77:34"><expr pos:start="77:32" pos:end="77:34"><name pos:start="77:32" pos:end="77:32">j</name><operator pos:start="77:33" pos:end="77:34">++</operator></expr></incr>)</control><block type="pseudo" pos:start="79:17" pos:end="81:77"><block_content pos:start="79:17" pos:end="81:77">

                <expr_stmt pos:start="79:17" pos:end="81:77"><expr pos:start="79:17" pos:end="81:76"><name pos:start="79:17" pos:end="79:37"><name pos:start="79:17" pos:end="79:24">reslevel</name><operator pos:start="79:25" pos:end="79:26">-&gt;</operator><name pos:start="79:27" pos:end="79:31">coord</name><index pos:start="79:32" pos:end="79:34">[<expr pos:start="79:33" pos:end="79:33"><name pos:start="79:33" pos:end="79:33">i</name></expr>]</index><index pos:start="79:35" pos:end="79:37">[<expr pos:start="79:36" pos:end="79:36"><name pos:start="79:36" pos:end="79:36">j</name></expr>]</index></name> <operator pos:start="79:39" pos:end="79:39">=</operator>

                    <call pos:start="81:21" pos:end="81:76"><name pos:start="81:21" pos:end="81:43">ff_jpeg2000_ceildivpow2</name><argument_list pos:start="81:44" pos:end="81:76">(<argument pos:start="81:45" pos:end="81:63"><expr pos:start="81:45" pos:end="81:63"><name pos:start="81:45" pos:end="81:63"><name pos:start="81:45" pos:end="81:48">comp</name><operator pos:start="81:49" pos:end="81:50">-&gt;</operator><name pos:start="81:51" pos:end="81:57">coord_o</name><index pos:start="81:58" pos:end="81:60">[<expr pos:start="81:59" pos:end="81:59"><name pos:start="81:59" pos:end="81:59">i</name></expr>]</index><index pos:start="81:61" pos:end="81:63">[<expr pos:start="81:62" pos:end="81:62"><name pos:start="81:62" pos:end="81:62">j</name></expr>]</index></name></expr></argument>, <argument pos:start="81:66" pos:end="81:75"><expr pos:start="81:66" pos:end="81:75"><name pos:start="81:66" pos:end="81:71">declvl</name> <operator pos:start="81:73" pos:end="81:73">-</operator> <literal type="number" pos:start="81:75" pos:end="81:75">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></for></block_content></block></for>

        <comment type="line" pos:start="83:9" pos:end="83:43">// update precincts size: 2^n value</comment>

        <expr_stmt pos:start="85:9" pos:end="85:74"><expr pos:start="85:9" pos:end="85:73"><name pos:start="85:9" pos:end="85:33"><name pos:start="85:9" pos:end="85:16">reslevel</name><operator pos:start="85:17" pos:end="85:18">-&gt;</operator><name pos:start="85:19" pos:end="85:33">log2_prec_width</name></name>  <operator pos:start="85:36" pos:end="85:36">=</operator> <name pos:start="85:38" pos:end="85:73"><name pos:start="85:38" pos:end="85:43">codsty</name><operator pos:start="85:44" pos:end="85:45">-&gt;</operator><name pos:start="85:46" pos:end="85:61">log2_prec_widths</name><index pos:start="85:62" pos:end="85:73">[<expr pos:start="85:63" pos:end="85:72"><name pos:start="85:63" pos:end="85:72">reslevelno</name></expr>]</index></name></expr>;</expr_stmt>

        <expr_stmt pos:start="87:9" pos:end="87:75"><expr pos:start="87:9" pos:end="87:74"><name pos:start="87:9" pos:end="87:34"><name pos:start="87:9" pos:end="87:16">reslevel</name><operator pos:start="87:17" pos:end="87:18">-&gt;</operator><name pos:start="87:19" pos:end="87:34">log2_prec_height</name></name> <operator pos:start="87:36" pos:end="87:36">=</operator> <name pos:start="87:38" pos:end="87:74"><name pos:start="87:38" pos:end="87:43">codsty</name><operator pos:start="87:44" pos:end="87:45">-&gt;</operator><name pos:start="87:46" pos:end="87:62">log2_prec_heights</name><index pos:start="87:63" pos:end="87:74">[<expr pos:start="87:64" pos:end="87:73"><name pos:start="87:64" pos:end="87:73">reslevelno</name></expr>]</index></name></expr>;</expr_stmt>



        <comment type="block" pos:start="91:9" pos:end="91:55">/* Number of bands for each resolution level */</comment>

        <if_stmt pos:start="93:9" pos:end="99:33"><if pos:start="93:9" pos:end="95:33">if <condition pos:start="93:12" pos:end="93:28">(<expr pos:start="93:13" pos:end="93:27"><name pos:start="93:13" pos:end="93:22">reslevelno</name> <operator pos:start="93:24" pos:end="93:25">==</operator> <literal type="number" pos:start="93:27" pos:end="93:27">0</literal></expr>)</condition><block type="pseudo" pos:start="95:13" pos:end="95:33"><block_content pos:start="95:13" pos:end="95:33">

            <expr_stmt pos:start="95:13" pos:end="95:33"><expr pos:start="95:13" pos:end="95:32"><name pos:start="95:13" pos:end="95:28"><name pos:start="95:13" pos:end="95:20">reslevel</name><operator pos:start="95:21" pos:end="95:22">-&gt;</operator><name pos:start="95:23" pos:end="95:28">nbands</name></name> <operator pos:start="95:30" pos:end="95:30">=</operator> <literal type="number" pos:start="95:32" pos:end="95:32">1</literal></expr>;</expr_stmt></block_content></block></if>

        <else pos:start="97:9" pos:end="99:33">else<block type="pseudo" pos:start="99:13" pos:end="99:33"><block_content pos:start="99:13" pos:end="99:33">

            <expr_stmt pos:start="99:13" pos:end="99:33"><expr pos:start="99:13" pos:end="99:32"><name pos:start="99:13" pos:end="99:28"><name pos:start="99:13" pos:end="99:20">reslevel</name><operator pos:start="99:21" pos:end="99:22">-&gt;</operator><name pos:start="99:23" pos:end="99:28">nbands</name></name> <operator pos:start="99:30" pos:end="99:30">=</operator> <literal type="number" pos:start="99:32" pos:end="99:32">3</literal></expr>;</expr_stmt></block_content></block></else></if_stmt>



        <comment type="block" pos:start="103:9" pos:end="115:66">/* Number of precincts wich span the tile for resolution level reslevelno

         * see B.6 in ISO/IEC 15444-1:2002 eq. B-16

         * num_precincts_x = |- trx_1 / 2 ^ log2_prec_width) -| - (trx_0 / 2 ^ log2_prec_width)

         * num_precincts_y = |- try_1 / 2 ^ log2_prec_width) -| - (try_0 / 2 ^ log2_prec_width)

         * for Dcinema profiles in JPEG 2000

         * num_precincts_x = |- trx_1 / 2 ^ log2_prec_width) -|

         * num_precincts_y = |- try_1 / 2 ^ log2_prec_width) -| */</comment>

        <if_stmt pos:start="117:9" pos:end="129:69"><if pos:start="117:9" pos:end="119:42">if <condition pos:start="117:12" pos:end="117:59">(<expr pos:start="117:13" pos:end="117:58"><name pos:start="117:13" pos:end="117:33"><name pos:start="117:13" pos:end="117:20">reslevel</name><operator pos:start="117:21" pos:end="117:22">-&gt;</operator><name pos:start="117:23" pos:end="117:27">coord</name><index pos:start="117:28" pos:end="117:30">[<expr pos:start="117:29" pos:end="117:29"><literal type="number" pos:start="117:29" pos:end="117:29">0</literal></expr>]</index><index pos:start="117:31" pos:end="117:33">[<expr pos:start="117:32" pos:end="117:32"><literal type="number" pos:start="117:32" pos:end="117:32">1</literal></expr>]</index></name> <operator pos:start="117:35" pos:end="117:36">==</operator> <name pos:start="117:38" pos:end="117:58"><name pos:start="117:38" pos:end="117:45">reslevel</name><operator pos:start="117:46" pos:end="117:47">-&gt;</operator><name pos:start="117:48" pos:end="117:52">coord</name><index pos:start="117:53" pos:end="117:55">[<expr pos:start="117:54" pos:end="117:54"><literal type="number" pos:start="117:54" pos:end="117:54">0</literal></expr>]</index><index pos:start="117:56" pos:end="117:58">[<expr pos:start="117:57" pos:end="117:57"><literal type="number" pos:start="117:57" pos:end="117:57">0</literal></expr>]</index></name></expr>)</condition><block type="pseudo" pos:start="119:13" pos:end="119:42"><block_content pos:start="119:13" pos:end="119:42">

            <expr_stmt pos:start="119:13" pos:end="119:42"><expr pos:start="119:13" pos:end="119:41"><name pos:start="119:13" pos:end="119:37"><name pos:start="119:13" pos:end="119:20">reslevel</name><operator pos:start="119:21" pos:end="119:22">-&gt;</operator><name pos:start="119:23" pos:end="119:37">num_precincts_x</name></name> <operator pos:start="119:39" pos:end="119:39">=</operator> <literal type="number" pos:start="119:41" pos:end="119:41">0</literal></expr>;</expr_stmt></block_content></block></if>

        <else pos:start="121:9" pos:end="129:69">else<block type="pseudo" pos:start="123:13" pos:end="129:69"><block_content pos:start="123:13" pos:end="129:69">

            <expr_stmt pos:start="123:13" pos:end="129:69"><expr pos:start="123:13" pos:end="129:68"><name pos:start="123:13" pos:end="123:37"><name pos:start="123:13" pos:end="123:20">reslevel</name><operator pos:start="123:21" pos:end="123:22">-&gt;</operator><name pos:start="123:23" pos:end="123:37">num_precincts_x</name></name> <operator pos:start="123:39" pos:end="123:39">=</operator>

                <call pos:start="125:17" pos:end="127:66"><name pos:start="125:17" pos:end="125:39">ff_jpeg2000_ceildivpow2</name><argument_list pos:start="125:40" pos:end="127:66">(<argument pos:start="125:41" pos:end="125:61"><expr pos:start="125:41" pos:end="125:61"><name pos:start="125:41" pos:end="125:61"><name pos:start="125:41" pos:end="125:48">reslevel</name><operator pos:start="125:49" pos:end="125:50">-&gt;</operator><name pos:start="125:51" pos:end="125:55">coord</name><index pos:start="125:56" pos:end="125:58">[<expr pos:start="125:57" pos:end="125:57"><literal type="number" pos:start="125:57" pos:end="125:57">0</literal></expr>]</index><index pos:start="125:59" pos:end="125:61">[<expr pos:start="125:60" pos:end="125:60"><literal type="number" pos:start="125:60" pos:end="125:60">1</literal></expr>]</index></name></expr></argument>,

                                        <argument pos:start="127:41" pos:end="127:65"><expr pos:start="127:41" pos:end="127:65"><name pos:start="127:41" pos:end="127:65"><name pos:start="127:41" pos:end="127:48">reslevel</name><operator pos:start="127:49" pos:end="127:50">-&gt;</operator><name pos:start="127:51" pos:end="127:65">log2_prec_width</name></name></expr></argument>)</argument_list></call> <operator pos:start="127:68" pos:end="127:68">-</operator>

                <operator pos:start="129:17" pos:end="129:17">(</operator><name pos:start="129:18" pos:end="129:38"><name pos:start="129:18" pos:end="129:25">reslevel</name><operator pos:start="129:26" pos:end="129:27">-&gt;</operator><name pos:start="129:28" pos:end="129:32">coord</name><index pos:start="129:33" pos:end="129:35">[<expr pos:start="129:34" pos:end="129:34"><literal type="number" pos:start="129:34" pos:end="129:34">0</literal></expr>]</index><index pos:start="129:36" pos:end="129:38">[<expr pos:start="129:37" pos:end="129:37"><literal type="number" pos:start="129:37" pos:end="129:37">0</literal></expr>]</index></name> <operator pos:start="129:40" pos:end="129:41">&gt;&gt;</operator> <name pos:start="129:43" pos:end="129:67"><name pos:start="129:43" pos:end="129:50">reslevel</name><operator pos:start="129:51" pos:end="129:52">-&gt;</operator><name pos:start="129:53" pos:end="129:67">log2_prec_width</name></name><operator pos:start="129:68" pos:end="129:68">)</operator></expr>;</expr_stmt></block_content></block></else></if_stmt>



        <if_stmt pos:start="133:9" pos:end="145:70"><if pos:start="133:9" pos:end="135:42">if <condition pos:start="133:12" pos:end="133:59">(<expr pos:start="133:13" pos:end="133:58"><name pos:start="133:13" pos:end="133:33"><name pos:start="133:13" pos:end="133:20">reslevel</name><operator pos:start="133:21" pos:end="133:22">-&gt;</operator><name pos:start="133:23" pos:end="133:27">coord</name><index pos:start="133:28" pos:end="133:30">[<expr pos:start="133:29" pos:end="133:29"><literal type="number" pos:start="133:29" pos:end="133:29">1</literal></expr>]</index><index pos:start="133:31" pos:end="133:33">[<expr pos:start="133:32" pos:end="133:32"><literal type="number" pos:start="133:32" pos:end="133:32">1</literal></expr>]</index></name> <operator pos:start="133:35" pos:end="133:36">==</operator> <name pos:start="133:38" pos:end="133:58"><name pos:start="133:38" pos:end="133:45">reslevel</name><operator pos:start="133:46" pos:end="133:47">-&gt;</operator><name pos:start="133:48" pos:end="133:52">coord</name><index pos:start="133:53" pos:end="133:55">[<expr pos:start="133:54" pos:end="133:54"><literal type="number" pos:start="133:54" pos:end="133:54">1</literal></expr>]</index><index pos:start="133:56" pos:end="133:58">[<expr pos:start="133:57" pos:end="133:57"><literal type="number" pos:start="133:57" pos:end="133:57">0</literal></expr>]</index></name></expr>)</condition><block type="pseudo" pos:start="135:13" pos:end="135:42"><block_content pos:start="135:13" pos:end="135:42">

            <expr_stmt pos:start="135:13" pos:end="135:42"><expr pos:start="135:13" pos:end="135:41"><name pos:start="135:13" pos:end="135:37"><name pos:start="135:13" pos:end="135:20">reslevel</name><operator pos:start="135:21" pos:end="135:22">-&gt;</operator><name pos:start="135:23" pos:end="135:37">num_precincts_y</name></name> <operator pos:start="135:39" pos:end="135:39">=</operator> <literal type="number" pos:start="135:41" pos:end="135:41">0</literal></expr>;</expr_stmt></block_content></block></if>

        <else pos:start="137:9" pos:end="145:70">else<block type="pseudo" pos:start="139:13" pos:end="145:70"><block_content pos:start="139:13" pos:end="145:70">

            <expr_stmt pos:start="139:13" pos:end="145:70"><expr pos:start="139:13" pos:end="145:69"><name pos:start="139:13" pos:end="139:37"><name pos:start="139:13" pos:end="139:20">reslevel</name><operator pos:start="139:21" pos:end="139:22">-&gt;</operator><name pos:start="139:23" pos:end="139:37">num_precincts_y</name></name> <operator pos:start="139:39" pos:end="139:39">=</operator>

                <call pos:start="141:17" pos:end="143:67"><name pos:start="141:17" pos:end="141:39">ff_jpeg2000_ceildivpow2</name><argument_list pos:start="141:40" pos:end="143:67">(<argument pos:start="141:41" pos:end="141:61"><expr pos:start="141:41" pos:end="141:61"><name pos:start="141:41" pos:end="141:61"><name pos:start="141:41" pos:end="141:48">reslevel</name><operator pos:start="141:49" pos:end="141:50">-&gt;</operator><name pos:start="141:51" pos:end="141:55">coord</name><index pos:start="141:56" pos:end="141:58">[<expr pos:start="141:57" pos:end="141:57"><literal type="number" pos:start="141:57" pos:end="141:57">1</literal></expr>]</index><index pos:start="141:59" pos:end="141:61">[<expr pos:start="141:60" pos:end="141:60"><literal type="number" pos:start="141:60" pos:end="141:60">1</literal></expr>]</index></name></expr></argument>,

                                        <argument pos:start="143:41" pos:end="143:66"><expr pos:start="143:41" pos:end="143:66"><name pos:start="143:41" pos:end="143:66"><name pos:start="143:41" pos:end="143:48">reslevel</name><operator pos:start="143:49" pos:end="143:50">-&gt;</operator><name pos:start="143:51" pos:end="143:66">log2_prec_height</name></name></expr></argument>)</argument_list></call> <operator pos:start="143:69" pos:end="143:69">-</operator>

                <operator pos:start="145:17" pos:end="145:17">(</operator><name pos:start="145:18" pos:end="145:38"><name pos:start="145:18" pos:end="145:25">reslevel</name><operator pos:start="145:26" pos:end="145:27">-&gt;</operator><name pos:start="145:28" pos:end="145:32">coord</name><index pos:start="145:33" pos:end="145:35">[<expr pos:start="145:34" pos:end="145:34"><literal type="number" pos:start="145:34" pos:end="145:34">1</literal></expr>]</index><index pos:start="145:36" pos:end="145:38">[<expr pos:start="145:37" pos:end="145:37"><literal type="number" pos:start="145:37" pos:end="145:37">0</literal></expr>]</index></name> <operator pos:start="145:40" pos:end="145:41">&gt;&gt;</operator> <name pos:start="145:43" pos:end="145:68"><name pos:start="145:43" pos:end="145:50">reslevel</name><operator pos:start="145:51" pos:end="145:52">-&gt;</operator><name pos:start="145:53" pos:end="145:68">log2_prec_height</name></name><operator pos:start="145:69" pos:end="145:69">)</operator></expr>;</expr_stmt></block_content></block></else></if_stmt>



        <expr_stmt pos:start="149:9" pos:end="149:84"><expr pos:start="149:9" pos:end="149:83"><name pos:start="149:9" pos:end="149:22"><name pos:start="149:9" pos:end="149:16">reslevel</name><operator pos:start="149:17" pos:end="149:18">-&gt;</operator><name pos:start="149:19" pos:end="149:22">band</name></name> <operator pos:start="149:24" pos:end="149:24">=</operator> <call pos:start="149:26" pos:end="149:83"><name pos:start="149:26" pos:end="149:40">av_malloc_array</name><argument_list pos:start="149:41" pos:end="149:83">(<argument pos:start="149:42" pos:end="149:57"><expr pos:start="149:42" pos:end="149:57"><name pos:start="149:42" pos:end="149:57"><name pos:start="149:42" pos:end="149:49">reslevel</name><operator pos:start="149:50" pos:end="149:51">-&gt;</operator><name pos:start="149:52" pos:end="149:57">nbands</name></name></expr></argument>, <argument pos:start="149:60" pos:end="149:82"><expr pos:start="149:60" pos:end="149:82"><sizeof pos:start="149:60" pos:end="149:82">sizeof<argument_list pos:start="149:66" pos:end="149:82">(<argument pos:start="149:67" pos:end="149:81"><expr pos:start="149:67" pos:end="149:81"><operator pos:start="149:67" pos:end="149:67">*</operator><name pos:start="149:68" pos:end="149:81"><name pos:start="149:68" pos:end="149:75">reslevel</name><operator pos:start="149:76" pos:end="149:77">-&gt;</operator><name pos:start="149:78" pos:end="149:81">band</name></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="151:9" pos:end="153:35"><if pos:start="151:9" pos:end="153:35">if <condition pos:start="151:12" pos:end="151:28">(<expr pos:start="151:13" pos:end="151:27"><operator pos:start="151:13" pos:end="151:13">!</operator><name pos:start="151:14" pos:end="151:27"><name pos:start="151:14" pos:end="151:21">reslevel</name><operator pos:start="151:22" pos:end="151:23">-&gt;</operator><name pos:start="151:24" pos:end="151:27">band</name></name></expr>)</condition><block type="pseudo" pos:start="153:13" pos:end="153:35"><block_content pos:start="153:13" pos:end="153:35">

            <return pos:start="153:13" pos:end="153:35">return <expr pos:start="153:20" pos:end="153:34"><call pos:start="153:20" pos:end="153:34"><name pos:start="153:20" pos:end="153:26">AVERROR</name><argument_list pos:start="153:27" pos:end="153:34">(<argument pos:start="153:28" pos:end="153:33"><expr pos:start="153:28" pos:end="153:33"><name pos:start="153:28" pos:end="153:33">ENOMEM</name></expr></argument>)</argument_list></call></expr>;</return></block_content></block></if></if_stmt>



        <for pos:start="157:9" pos:end="513:9">for <control pos:start="157:13" pos:end="157:72">(<init pos:start="157:14" pos:end="157:24"><expr pos:start="157:14" pos:end="157:23"><name pos:start="157:14" pos:end="157:19">bandno</name> <operator pos:start="157:21" pos:end="157:21">=</operator> <literal type="number" pos:start="157:23" pos:end="157:23">0</literal></expr>;</init> <condition pos:start="157:26" pos:end="157:51"><expr pos:start="157:26" pos:end="157:50"><name pos:start="157:26" pos:end="157:31">bandno</name> <operator pos:start="157:33" pos:end="157:33">&lt;</operator> <name pos:start="157:35" pos:end="157:50"><name pos:start="157:35" pos:end="157:42">reslevel</name><operator pos:start="157:43" pos:end="157:44">-&gt;</operator><name pos:start="157:45" pos:end="157:50">nbands</name></name></expr>;</condition> <incr pos:start="157:53" pos:end="157:71"><expr pos:start="157:53" pos:end="157:60"><name pos:start="157:53" pos:end="157:58">bandno</name><operator pos:start="157:59" pos:end="157:60">++</operator></expr><operator pos:start="157:61" pos:end="157:61">,</operator> <expr pos:start="157:63" pos:end="157:71"><name pos:start="157:63" pos:end="157:69">gbandno</name><operator pos:start="157:70" pos:end="157:71">++</operator></expr></incr>)</control> <block pos:start="157:74" pos:end="513:9">{<block_content pos:start="159:13" pos:end="511:13">

            <decl_stmt pos:start="159:13" pos:end="159:57"><decl pos:start="159:13" pos:end="159:56"><type pos:start="159:13" pos:end="159:26"><name pos:start="159:13" pos:end="159:24">Jpeg2000Band</name> <modifier pos:start="159:26" pos:end="159:26">*</modifier></type><name pos:start="159:27" pos:end="159:30">band</name> <init pos:start="159:32" pos:end="159:56">= <expr pos:start="159:34" pos:end="159:56"><name pos:start="159:34" pos:end="159:47"><name pos:start="159:34" pos:end="159:41">reslevel</name><operator pos:start="159:42" pos:end="159:43">-&gt;</operator><name pos:start="159:44" pos:end="159:47">band</name></name> <operator pos:start="159:49" pos:end="159:49">+</operator> <name pos:start="159:51" pos:end="159:56">bandno</name></expr></init></decl>;</decl_stmt>

            <decl_stmt pos:start="161:13" pos:end="161:31"><decl pos:start="161:13" pos:end="161:22"><type pos:start="161:13" pos:end="161:15"><name pos:start="161:13" pos:end="161:15">int</name></type> <name pos:start="161:17" pos:end="161:22">cblkno</name></decl>, <decl pos:start="161:25" pos:end="161:30"><type ref="prev" pos:start="161:13" pos:end="161:15"/><name pos:start="161:25" pos:end="161:30">precno</name></decl>;</decl_stmt>

            <decl_stmt pos:start="163:13" pos:end="163:29"><decl pos:start="163:13" pos:end="163:28"><type pos:start="163:13" pos:end="163:15"><name pos:start="163:13" pos:end="163:15">int</name></type> <name pos:start="163:17" pos:end="163:28">nb_precincts</name></decl>;</decl_stmt>



            <comment type="block" pos:start="167:13" pos:end="169:57">/* TODO: Implementation of quantization step not finished,

             * see ISO/IEC 15444-1:2002 E.1 and A.6.4. */</comment>

            <switch pos:start="171:13" pos:end="239:13">switch <condition pos:start="171:20" pos:end="171:37">(<expr pos:start="171:21" pos:end="171:36"><name pos:start="171:21" pos:end="171:36"><name pos:start="171:21" pos:end="171:26">qntsty</name><operator pos:start="171:27" pos:end="171:28">-&gt;</operator><name pos:start="171:29" pos:end="171:36">quantsty</name></name></expr>)</condition> <block pos:start="171:39" pos:end="239:13">{<block_content pos:start="173:17" pos:end="237:22">

                <decl_stmt pos:start="173:17" pos:end="173:29"><decl pos:start="173:17" pos:end="173:28"><type pos:start="173:17" pos:end="173:23"><name pos:start="173:17" pos:end="173:23">uint8_t</name></type> <name pos:start="173:25" pos:end="173:28">gain</name></decl>;</decl_stmt>

                <decl_stmt pos:start="175:17" pos:end="175:27"><decl pos:start="175:17" pos:end="175:26"><type pos:start="175:17" pos:end="175:19"><name pos:start="175:17" pos:end="175:19">int</name></type> <name pos:start="175:21" pos:end="175:26">numbps</name></decl>;</decl_stmt>

            <case pos:start="177:13" pos:end="177:36">case <expr pos:start="177:18" pos:end="177:35"><name pos:start="177:18" pos:end="177:35">JPEG2000_QSTY_NONE</name></expr>:</case>

                <comment type="block" pos:start="179:17" pos:end="179:67">/* TODO: to verify. No quantization in this case */</comment>

                <expr_stmt pos:start="181:17" pos:end="183:78"><expr pos:start="181:17" pos:end="183:77"><name pos:start="181:17" pos:end="181:22">numbps</name> <operator pos:start="181:24" pos:end="181:24">=</operator> <name pos:start="181:26" pos:end="181:29">cbps</name> <operator pos:start="181:31" pos:end="181:31">+</operator>

                         <name pos:start="183:26" pos:end="183:77"><name pos:start="183:26" pos:end="183:33">lut_gain</name><index pos:start="183:34" pos:end="183:52">[<expr pos:start="183:35" pos:end="183:51"><name pos:start="183:35" pos:end="183:51"><name pos:start="183:35" pos:end="183:40">codsty</name><operator pos:start="183:41" pos:end="183:42">-&gt;</operator><name pos:start="183:43" pos:end="183:51">transform</name></name></expr>]</index><index pos:start="183:53" pos:end="183:77">[<expr pos:start="183:54" pos:end="183:76"><name pos:start="183:54" pos:end="183:59">bandno</name> <operator pos:start="183:61" pos:end="183:61">+</operator> <name pos:start="183:63" pos:end="183:72">reslevelno</name> <operator pos:start="183:74" pos:end="183:74">&gt;</operator> <literal type="number" pos:start="183:76" pos:end="183:76">0</literal></expr>]</index></name></expr>;</expr_stmt>

                <expr_stmt pos:start="185:17" pos:end="187:80"><expr pos:start="185:17" pos:end="187:79"><name pos:start="185:17" pos:end="185:30"><name pos:start="185:17" pos:end="185:20">band</name><operator pos:start="185:21" pos:end="185:22">-&gt;</operator><name pos:start="185:23" pos:end="185:30">stepsize</name></name> <operator pos:start="185:32" pos:end="185:32">=</operator> <operator pos:start="185:34" pos:end="185:34">(</operator><name pos:start="185:35" pos:end="185:39">float</name><operator pos:start="185:40" pos:end="185:40">)</operator><call pos:start="185:41" pos:end="187:79"><name pos:start="185:41" pos:end="185:43">SHL</name><argument_list pos:start="185:44" pos:end="187:79">(<argument pos:start="185:45" pos:end="185:72"><expr pos:start="185:45" pos:end="185:72"><literal type="number" pos:start="185:45" pos:end="185:50">2048</literal> <operator pos:start="185:50" pos:end="185:50">+</operator> <name pos:start="185:52" pos:end="185:72"><name pos:start="185:52" pos:end="185:57">qntsty</name><operator pos:start="185:58" pos:end="185:59">-&gt;</operator><name pos:start="185:60" pos:end="185:63">mant</name><index pos:start="185:64" pos:end="185:72">[<expr pos:start="185:65" pos:end="185:71"><name pos:start="185:65" pos:end="185:71">gbandno</name></expr>]</index></name></expr></argument>,

                                            <argument pos:start="187:45" pos:end="187:78"><expr pos:start="187:45" pos:end="187:78"><literal type="number" pos:start="187:45" pos:end="187:47">2</literal> <operator pos:start="187:47" pos:end="187:47">+</operator> <name pos:start="187:49" pos:end="187:54">numbps</name> <operator pos:start="187:56" pos:end="187:56">-</operator> <name pos:start="187:58" pos:end="187:78"><name pos:start="187:58" pos:end="187:63">qntsty</name><operator pos:start="187:64" pos:end="187:65">-&gt;</operator><name pos:start="187:66" pos:end="187:69">expn</name><index pos:start="187:70" pos:end="187:78">[<expr pos:start="187:71" pos:end="187:77"><name pos:start="187:71" pos:end="187:77">gbandno</name></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <break pos:start="189:17" pos:end="189:22">break;</break>

            <case pos:start="191:13" pos:end="191:34">case <expr pos:start="191:18" pos:end="191:33"><name pos:start="191:18" pos:end="191:33">JPEG2000_QSTY_SI</name></expr>:</case>

                <comment type="block" pos:start="193:17" pos:end="193:56">/*TODO: Compute formula to implement. */</comment>

                <expr_stmt pos:start="195:17" pos:end="195:51"><expr pos:start="195:17" pos:end="195:50"><name pos:start="195:17" pos:end="195:30"><name pos:start="195:17" pos:end="195:20">band</name><operator pos:start="195:21" pos:end="195:22">-&gt;</operator><name pos:start="195:23" pos:end="195:30">stepsize</name></name> <operator pos:start="195:32" pos:end="195:32">=</operator> <operator pos:start="195:34" pos:end="195:34">(</operator><name pos:start="195:35" pos:end="195:39">float</name><operator pos:start="195:40" pos:end="195:40">)</operator> <operator pos:start="195:42" pos:end="195:42">(</operator><literal type="number" pos:start="195:43" pos:end="195:43">1</literal> <operator pos:start="195:45" pos:end="195:46">&lt;&lt;</operator> <literal type="number" pos:start="195:48" pos:end="195:49">13</literal><operator pos:start="195:50" pos:end="195:50">)</operator></expr>;</expr_stmt>

                <break pos:start="197:17" pos:end="197:22">break;</break>

            <case pos:start="199:13" pos:end="199:34">case <expr pos:start="199:18" pos:end="199:33"><name pos:start="199:18" pos:end="199:33">JPEG2000_QSTY_SE</name></expr>:</case>

                <comment type="block" pos:start="201:17" pos:end="209:69">/* Exponent quantization step.

                 * Formula:

                 * delta_b = 2 ^ (R_b - expn_b) * (1 + (mant_b / 2 ^ 11))

                 * R_b = R_I + log2 (gain_b )

                 * see ISO/IEC 15444-1:2002 E.1.1 eqn. E-3 and E-4 */</comment>

                <comment type="block" pos:start="211:17" pos:end="215:51">/* TODO/WARN: value of log2 (gain_b ) not taken into account

                 * but it works (compared to OpenJPEG). Why?

                 * Further investigation needed. */</comment>

                <expr_stmt pos:start="217:17" pos:end="217:39"><expr pos:start="217:17" pos:end="217:38"><name pos:start="217:17" pos:end="217:20">gain</name>            <operator pos:start="217:33" pos:end="217:33">=</operator> <name pos:start="217:35" pos:end="217:38">cbps</name></expr>;</expr_stmt>

                <expr_stmt pos:start="219:17" pos:end="219:73"><expr pos:start="219:17" pos:end="219:72"><name pos:start="219:17" pos:end="219:30"><name pos:start="219:17" pos:end="219:20">band</name><operator pos:start="219:21" pos:end="219:22">-&gt;</operator><name pos:start="219:23" pos:end="219:30">stepsize</name></name>  <operator pos:start="219:33" pos:end="219:33">=</operator> <call pos:start="219:35" pos:end="219:72"><name pos:start="219:35" pos:end="219:37">pow</name><argument_list pos:start="219:38" pos:end="219:72">(<argument pos:start="219:39" pos:end="219:41"><expr pos:start="219:39" pos:end="219:41"><literal type="number" pos:start="219:39" pos:end="219:41">2.0</literal></expr></argument>, <argument pos:start="219:44" pos:end="219:71"><expr pos:start="219:44" pos:end="219:71"><name pos:start="219:44" pos:end="219:47">gain</name> <operator pos:start="219:49" pos:end="219:49">-</operator> <name pos:start="219:51" pos:end="219:71"><name pos:start="219:51" pos:end="219:56">qntsty</name><operator pos:start="219:57" pos:end="219:58">-&gt;</operator><name pos:start="219:59" pos:end="219:62">expn</name><index pos:start="219:63" pos:end="219:71">[<expr pos:start="219:64" pos:end="219:70"><name pos:start="219:64" pos:end="219:70">gbandno</name></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="221:17" pos:end="221:78"><expr pos:start="221:17" pos:end="221:77"><name pos:start="221:17" pos:end="221:30"><name pos:start="221:17" pos:end="221:20">band</name><operator pos:start="221:21" pos:end="221:22">-&gt;</operator><name pos:start="221:23" pos:end="221:30">stepsize</name></name> <operator pos:start="221:32" pos:end="221:33">*=</operator> <operator pos:start="221:35" pos:end="221:35">(</operator><name pos:start="221:36" pos:end="221:40">float</name><operator pos:start="221:41" pos:end="221:41">)</operator><name pos:start="221:42" pos:end="221:62"><name pos:start="221:42" pos:end="221:47">qntsty</name><operator pos:start="221:48" pos:end="221:49">-&gt;</operator><name pos:start="221:50" pos:end="221:53">mant</name><index pos:start="221:54" pos:end="221:62">[<expr pos:start="221:55" pos:end="221:61"><name pos:start="221:55" pos:end="221:61">gbandno</name></expr>]</index></name> <operator pos:start="221:64" pos:end="221:64">/</operator> <literal type="number" pos:start="221:66" pos:end="221:73">2048.0</literal> <operator pos:start="221:73" pos:end="221:73">+</operator> <literal type="number" pos:start="221:75" pos:end="221:77">1.0</literal></expr>;</expr_stmt>

                <comment type="block" pos:start="223:17" pos:end="225:75">/* FIXME: In openjepg code stespize = stepsize * 0.5. Why?

                 * If not set output of entropic decoder is not correct. */</comment>

                <expr_stmt pos:start="227:17" pos:end="227:38"><expr pos:start="227:17" pos:end="227:37"><name pos:start="227:17" pos:end="227:30"><name pos:start="227:17" pos:end="227:20">band</name><operator pos:start="227:21" pos:end="227:22">-&gt;</operator><name pos:start="227:23" pos:end="227:30">stepsize</name></name> <operator pos:start="227:32" pos:end="227:33">*=</operator> <literal type="number" pos:start="227:35" pos:end="227:37">0.5</literal></expr>;</expr_stmt>

                <break pos:start="229:17" pos:end="229:22">break;</break>

            <default pos:start="231:13" pos:end="231:20">default:</default>

                <expr_stmt pos:start="233:17" pos:end="233:35"><expr pos:start="233:17" pos:end="233:34"><name pos:start="233:17" pos:end="233:30"><name pos:start="233:17" pos:end="233:20">band</name><operator pos:start="233:21" pos:end="233:22">-&gt;</operator><name pos:start="233:23" pos:end="233:30">stepsize</name></name> <operator pos:start="233:32" pos:end="233:32">=</operator> <literal type="number" pos:start="233:34" pos:end="233:34">0</literal></expr>;</expr_stmt>

                <expr_stmt pos:start="235:17" pos:end="235:77"><expr pos:start="235:17" pos:end="235:76"><call pos:start="235:17" pos:end="235:76"><name pos:start="235:17" pos:end="235:22">av_log</name><argument_list pos:start="235:23" pos:end="235:76">(<argument pos:start="235:24" pos:end="235:28"><expr pos:start="235:24" pos:end="235:28"><name pos:start="235:24" pos:end="235:28">avctx</name></expr></argument>, <argument pos:start="235:31" pos:end="235:42"><expr pos:start="235:31" pos:end="235:42"><name pos:start="235:31" pos:end="235:42">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="235:45" pos:end="235:75"><expr pos:start="235:45" pos:end="235:75"><literal type="string" pos:start="235:45" pos:end="235:75">"Unknown quantization format\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <break pos:start="237:17" pos:end="237:22">break;</break>

            </block_content>}</block></switch>

            <comment type="block" pos:start="241:13" pos:end="241:60">/* BITEXACT computing case --&gt; convert to int */</comment>

            <if_stmt pos:start="243:13" pos:end="245:71"><if pos:start="243:13" pos:end="245:71">if <condition pos:start="243:16" pos:end="243:51">(<expr pos:start="243:17" pos:end="243:50"><name pos:start="243:17" pos:end="243:28"><name pos:start="243:17" pos:end="243:21">avctx</name><operator pos:start="243:22" pos:end="243:23">-&gt;</operator><name pos:start="243:24" pos:end="243:28">flags</name></name> <operator pos:start="243:30" pos:end="243:30">&amp;</operator> <name pos:start="243:32" pos:end="243:50">CODEC_FLAG_BITEXACT</name></expr>)</condition><block type="pseudo" pos:start="245:17" pos:end="245:71"><block_content pos:start="245:17" pos:end="245:71">

                <expr_stmt pos:start="245:17" pos:end="245:71"><expr pos:start="245:17" pos:end="245:70"><name pos:start="245:17" pos:end="245:30"><name pos:start="245:17" pos:end="245:20">band</name><operator pos:start="245:21" pos:end="245:22">-&gt;</operator><name pos:start="245:23" pos:end="245:30">stepsize</name></name> <operator pos:start="245:32" pos:end="245:32">=</operator> <operator pos:start="245:34" pos:end="245:34">(</operator><name pos:start="245:35" pos:end="245:41">int32_t</name><operator pos:start="245:42" pos:end="245:42">)</operator><operator pos:start="245:43" pos:end="245:43">(</operator><name pos:start="245:44" pos:end="245:57"><name pos:start="245:44" pos:end="245:47">band</name><operator pos:start="245:48" pos:end="245:49">-&gt;</operator><name pos:start="245:50" pos:end="245:57">stepsize</name></name> <operator pos:start="245:59" pos:end="245:59">*</operator> <operator pos:start="245:61" pos:end="245:61">(</operator><literal type="number" pos:start="245:62" pos:end="245:62">1</literal> <operator pos:start="245:64" pos:end="245:65">&lt;&lt;</operator> <literal type="number" pos:start="245:67" pos:end="245:68">16</literal><operator pos:start="245:69" pos:end="245:69">)</operator><operator pos:start="245:70" pos:end="245:70">)</operator></expr>;</expr_stmt></block_content></block></if></if_stmt>



            <comment type="block" pos:start="249:13" pos:end="255:78">/* computation of tbx_0, tbx_1, tby_0, tby_1

             * see ISO/IEC 15444-1:2002 B.5 eq. B-15 and tbl B.1

             * codeblock width and height is computed for

             * DCI JPEG 2000 codeblock_width = codeblock_width = 32 = 2 ^ 5 */</comment>

            <if_stmt pos:start="257:13" pos:end="329:13"><if pos:start="257:13" pos:end="287:13">if <condition pos:start="257:16" pos:end="257:32">(<expr pos:start="257:17" pos:end="257:31"><name pos:start="257:17" pos:end="257:26">reslevelno</name> <operator pos:start="257:28" pos:end="257:29">==</operator> <literal type="number" pos:start="257:31" pos:end="257:31">0</literal></expr>)</condition> <block pos:start="257:34" pos:end="287:13">{<block_content pos:start="261:17" pos:end="285:75">

                <comment type="block" pos:start="259:17" pos:end="259:72">/* for reslevelno = 0, only one band, x0_b = y0_b = 0 */</comment>

                <for pos:start="261:17" pos:end="269:64">for <control pos:start="261:21" pos:end="261:39">(<init pos:start="261:22" pos:end="261:27"><expr pos:start="261:22" pos:end="261:26"><name pos:start="261:22" pos:end="261:22">i</name> <operator pos:start="261:24" pos:end="261:24">=</operator> <literal type="number" pos:start="261:26" pos:end="261:26">0</literal></expr>;</init> <condition pos:start="261:29" pos:end="261:34"><expr pos:start="261:29" pos:end="261:33"><name pos:start="261:29" pos:end="261:29">i</name> <operator pos:start="261:31" pos:end="261:31">&lt;</operator> <literal type="number" pos:start="261:33" pos:end="261:33">2</literal></expr>;</condition> <incr pos:start="261:36" pos:end="261:38"><expr pos:start="261:36" pos:end="261:38"><name pos:start="261:36" pos:end="261:36">i</name><operator pos:start="261:37" pos:end="261:38">++</operator></expr></incr>)</control><block type="pseudo" pos:start="263:21" pos:end="269:64"><block_content pos:start="263:21" pos:end="269:64">

                    <for pos:start="263:21" pos:end="269:64">for <control pos:start="263:25" pos:end="263:43">(<init pos:start="263:26" pos:end="263:31"><expr pos:start="263:26" pos:end="263:30"><name pos:start="263:26" pos:end="263:26">j</name> <operator pos:start="263:28" pos:end="263:28">=</operator> <literal type="number" pos:start="263:30" pos:end="263:30">0</literal></expr>;</init> <condition pos:start="263:33" pos:end="263:38"><expr pos:start="263:33" pos:end="263:37"><name pos:start="263:33" pos:end="263:33">j</name> <operator pos:start="263:35" pos:end="263:35">&lt;</operator> <literal type="number" pos:start="263:37" pos:end="263:37">2</literal></expr>;</condition> <incr pos:start="263:40" pos:end="263:42"><expr pos:start="263:40" pos:end="263:42"><name pos:start="263:40" pos:end="263:40">j</name><operator pos:start="263:41" pos:end="263:42">++</operator></expr></incr>)</control><block type="pseudo" pos:start="265:25" pos:end="269:64"><block_content pos:start="265:25" pos:end="269:64">

                        <expr_stmt pos:start="265:25" pos:end="269:64"><expr pos:start="265:25" pos:end="269:63"><name pos:start="265:25" pos:end="265:41"><name pos:start="265:25" pos:end="265:28">band</name><operator pos:start="265:29" pos:end="265:30">-&gt;</operator><name pos:start="265:31" pos:end="265:35">coord</name><index pos:start="265:36" pos:end="265:38">[<expr pos:start="265:37" pos:end="265:37"><name pos:start="265:37" pos:end="265:37">i</name></expr>]</index><index pos:start="265:39" pos:end="265:41">[<expr pos:start="265:40" pos:end="265:40"><name pos:start="265:40" pos:end="265:40">j</name></expr>]</index></name> <operator pos:start="265:43" pos:end="265:43">=</operator>

                            <call pos:start="267:29" pos:end="269:63"><name pos:start="267:29" pos:end="267:51">ff_jpeg2000_ceildivpow2</name><argument_list pos:start="267:52" pos:end="269:63">(<argument pos:start="267:53" pos:end="267:71"><expr pos:start="267:53" pos:end="267:71"><name pos:start="267:53" pos:end="267:71"><name pos:start="267:53" pos:end="267:56">comp</name><operator pos:start="267:57" pos:end="267:58">-&gt;</operator><name pos:start="267:59" pos:end="267:65">coord_o</name><index pos:start="267:66" pos:end="267:68">[<expr pos:start="267:67" pos:end="267:67"><name pos:start="267:67" pos:end="267:67">i</name></expr>]</index><index pos:start="267:69" pos:end="267:71">[<expr pos:start="267:70" pos:end="267:70"><name pos:start="267:70" pos:end="267:70">j</name></expr>]</index></name></expr></argument>,

                                                    <argument pos:start="269:53" pos:end="269:62"><expr pos:start="269:53" pos:end="269:62"><name pos:start="269:53" pos:end="269:58">declvl</name> <operator pos:start="269:60" pos:end="269:60">-</operator> <literal type="number" pos:start="269:62" pos:end="269:62">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></for></block_content></block></for>



                <expr_stmt pos:start="273:17" pos:end="273:66"><expr pos:start="273:17" pos:end="273:65"><name pos:start="273:17" pos:end="273:36">log2_band_prec_width</name>  <operator pos:start="273:39" pos:end="273:39">=</operator> <name pos:start="273:41" pos:end="273:65"><name pos:start="273:41" pos:end="273:48">reslevel</name><operator pos:start="273:49" pos:end="273:50">-&gt;</operator><name pos:start="273:51" pos:end="273:65">log2_prec_width</name></name></expr>;</expr_stmt>

                <expr_stmt pos:start="275:17" pos:end="275:67"><expr pos:start="275:17" pos:end="275:66"><name pos:start="275:17" pos:end="275:37">log2_band_prec_height</name> <operator pos:start="275:39" pos:end="275:39">=</operator> <name pos:start="275:41" pos:end="275:66"><name pos:start="275:41" pos:end="275:48">reslevel</name><operator pos:start="275:49" pos:end="275:50">-&gt;</operator><name pos:start="275:51" pos:end="275:66">log2_prec_height</name></name></expr>;</expr_stmt>

                <comment type="block" pos:start="277:17" pos:end="277:68">/* see ISO/IEC 15444-1:2002 eq. B-17 and eq. B-15 */</comment>

                <expr_stmt pos:start="279:17" pos:end="281:74"><expr pos:start="279:17" pos:end="281:73"><name pos:start="279:17" pos:end="279:37"><name pos:start="279:17" pos:end="279:20">band</name><operator pos:start="279:21" pos:end="279:22">-&gt;</operator><name pos:start="279:23" pos:end="279:37">log2_cblk_width</name></name>  <operator pos:start="279:40" pos:end="279:40">=</operator> <call pos:start="279:42" pos:end="281:73"><name pos:start="279:42" pos:end="279:46">FFMIN</name><argument_list pos:start="279:47" pos:end="281:73">(<argument pos:start="279:48" pos:end="279:70"><expr pos:start="279:48" pos:end="279:70"><name pos:start="279:48" pos:end="279:70"><name pos:start="279:48" pos:end="279:53">codsty</name><operator pos:start="279:54" pos:end="279:55">-&gt;</operator><name pos:start="279:56" pos:end="279:70">log2_cblk_width</name></name></expr></argument>,

                                               <argument pos:start="281:48" pos:end="281:72"><expr pos:start="281:48" pos:end="281:72"><name pos:start="281:48" pos:end="281:72"><name pos:start="281:48" pos:end="281:55">reslevel</name><operator pos:start="281:56" pos:end="281:57">-&gt;</operator><name pos:start="281:58" pos:end="281:72">log2_prec_width</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="283:17" pos:end="285:75"><expr pos:start="283:17" pos:end="285:74"><name pos:start="283:17" pos:end="283:38"><name pos:start="283:17" pos:end="283:20">band</name><operator pos:start="283:21" pos:end="283:22">-&gt;</operator><name pos:start="283:23" pos:end="283:38">log2_cblk_height</name></name> <operator pos:start="283:40" pos:end="283:40">=</operator> <call pos:start="283:42" pos:end="285:74"><name pos:start="283:42" pos:end="283:46">FFMIN</name><argument_list pos:start="283:47" pos:end="285:74">(<argument pos:start="283:48" pos:end="283:71"><expr pos:start="283:48" pos:end="283:71"><name pos:start="283:48" pos:end="283:71"><name pos:start="283:48" pos:end="283:53">codsty</name><operator pos:start="283:54" pos:end="283:55">-&gt;</operator><name pos:start="283:56" pos:end="283:71">log2_cblk_height</name></name></expr></argument>,

                                               <argument pos:start="285:48" pos:end="285:73"><expr pos:start="285:48" pos:end="285:73"><name pos:start="285:48" pos:end="285:73"><name pos:start="285:48" pos:end="285:55">reslevel</name><operator pos:start="285:56" pos:end="285:57">-&gt;</operator><name pos:start="285:58" pos:end="285:73">log2_prec_height</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></if> <else pos:start="287:15" pos:end="329:13">else <block pos:start="287:20" pos:end="329:13">{<block_content pos:start="293:17" pos:end="327:71">

                <comment type="block" pos:start="289:17" pos:end="289:83">/* 3 bands x0_b = 1 y0_b = 0; x0_b = 0 y0_b = 1; x0_b = y0_b = 1 */</comment>

                <comment type="block" pos:start="291:17" pos:end="291:77">/* x0_b and y0_b are computed with ((bandno + 1 &gt;&gt; i) &amp; 1) */</comment>

                <for pos:start="293:17" pos:end="305:60">for <control pos:start="293:21" pos:end="293:39">(<init pos:start="293:22" pos:end="293:27"><expr pos:start="293:22" pos:end="293:26"><name pos:start="293:22" pos:end="293:22">i</name> <operator pos:start="293:24" pos:end="293:24">=</operator> <literal type="number" pos:start="293:26" pos:end="293:26">0</literal></expr>;</init> <condition pos:start="293:29" pos:end="293:34"><expr pos:start="293:29" pos:end="293:33"><name pos:start="293:29" pos:end="293:29">i</name> <operator pos:start="293:31" pos:end="293:31">&lt;</operator> <literal type="number" pos:start="293:33" pos:end="293:33">2</literal></expr>;</condition> <incr pos:start="293:36" pos:end="293:38"><expr pos:start="293:36" pos:end="293:38"><name pos:start="293:36" pos:end="293:36">i</name><operator pos:start="293:37" pos:end="293:38">++</operator></expr></incr>)</control><block type="pseudo" pos:start="295:21" pos:end="305:60"><block_content pos:start="295:21" pos:end="305:60">

                    <for pos:start="295:21" pos:end="305:60">for <control pos:start="295:25" pos:end="295:43">(<init pos:start="295:26" pos:end="295:31"><expr pos:start="295:26" pos:end="295:30"><name pos:start="295:26" pos:end="295:26">j</name> <operator pos:start="295:28" pos:end="295:28">=</operator> <literal type="number" pos:start="295:30" pos:end="295:30">0</literal></expr>;</init> <condition pos:start="295:33" pos:end="295:38"><expr pos:start="295:33" pos:end="295:37"><name pos:start="295:33" pos:end="295:33">j</name> <operator pos:start="295:35" pos:end="295:35">&lt;</operator> <literal type="number" pos:start="295:37" pos:end="295:37">2</literal></expr>;</condition> <incr pos:start="295:40" pos:end="295:42"><expr pos:start="295:40" pos:end="295:42"><name pos:start="295:40" pos:end="295:40">j</name><operator pos:start="295:41" pos:end="295:42">++</operator></expr></incr>)</control><block type="pseudo" pos:start="299:25" pos:end="305:60"><block_content pos:start="299:25" pos:end="305:60">

                        <comment type="block" pos:start="297:25" pos:end="297:109">/* Formula example for tbx_0 = ceildiv((tcx_0 - 2 ^ (declvl - 1) * x0_b) / declvl) */</comment>

                        <expr_stmt pos:start="299:25" pos:end="305:60"><expr pos:start="299:25" pos:end="305:59"><name pos:start="299:25" pos:end="299:41"><name pos:start="299:25" pos:end="299:28">band</name><operator pos:start="299:29" pos:end="299:30">-&gt;</operator><name pos:start="299:31" pos:end="299:35">coord</name><index pos:start="299:36" pos:end="299:38">[<expr pos:start="299:37" pos:end="299:37"><name pos:start="299:37" pos:end="299:37">i</name></expr>]</index><index pos:start="299:39" pos:end="299:41">[<expr pos:start="299:40" pos:end="299:40"><name pos:start="299:40" pos:end="299:40">j</name></expr>]</index></name> <operator pos:start="299:43" pos:end="299:43">=</operator>

                            <call pos:start="301:29" pos:end="305:59"><name pos:start="301:29" pos:end="301:51">ff_jpeg2000_ceildivpow2</name><argument_list pos:start="301:52" pos:end="305:59">(<argument pos:start="301:53" pos:end="303:91"><expr pos:start="301:53" pos:end="303:91"><name pos:start="301:53" pos:end="301:71"><name pos:start="301:53" pos:end="301:56">comp</name><operator pos:start="301:57" pos:end="301:58">-&gt;</operator><name pos:start="301:59" pos:end="301:65">coord_o</name><index pos:start="301:66" pos:end="301:68">[<expr pos:start="301:67" pos:end="301:67"><name pos:start="301:67" pos:end="301:67">i</name></expr>]</index><index pos:start="301:69" pos:end="301:71">[<expr pos:start="301:70" pos:end="301:70"><name pos:start="301:70" pos:end="301:70">j</name></expr>]</index></name> <operator pos:start="301:73" pos:end="301:73">-</operator>

                                                    <operator pos:start="303:53" pos:end="303:53">(</operator><operator pos:start="303:54" pos:end="303:54">(</operator><operator pos:start="303:55" pos:end="303:55">(</operator><name pos:start="303:56" pos:end="303:61">bandno</name> <operator pos:start="303:63" pos:end="303:63">+</operator> <literal type="number" pos:start="303:65" pos:end="303:65">1</literal> <operator pos:start="303:67" pos:end="303:68">&gt;&gt;</operator> <name pos:start="303:70" pos:end="303:70">i</name><operator pos:start="303:71" pos:end="303:71">)</operator> <operator pos:start="303:73" pos:end="303:73">&amp;</operator> <literal type="number" pos:start="303:75" pos:end="303:75">1</literal><operator pos:start="303:76" pos:end="303:76">)</operator> <operator pos:start="303:78" pos:end="303:79">&lt;&lt;</operator> <name pos:start="303:81" pos:end="303:86">declvl</name> <operator pos:start="303:88" pos:end="303:88">-</operator> <literal type="number" pos:start="303:90" pos:end="303:90">1</literal><operator pos:start="303:91" pos:end="303:91">)</operator></expr></argument>,

                                                    <argument pos:start="305:53" pos:end="305:58"><expr pos:start="305:53" pos:end="305:58"><name pos:start="305:53" pos:end="305:58">declvl</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></for></block_content></block></for>

                <comment type="block" pos:start="307:17" pos:end="309:50">/* TODO: Manage case of 3 band offsets here or

                 * in coding/decoding function? */</comment>



                <comment type="block" pos:start="313:17" pos:end="313:68">/* see ISO/IEC 15444-1:2002 eq. B-17 and eq. B-15 */</comment>

                <expr_stmt pos:start="315:17" pos:end="317:78"><expr pos:start="315:17" pos:end="317:77"><name pos:start="315:17" pos:end="315:37"><name pos:start="315:17" pos:end="315:20">band</name><operator pos:start="315:21" pos:end="315:22">-&gt;</operator><name pos:start="315:23" pos:end="315:37">log2_cblk_width</name></name>  <operator pos:start="315:40" pos:end="315:40">=</operator> <call pos:start="315:42" pos:end="317:77"><name pos:start="315:42" pos:end="315:46">FFMIN</name><argument_list pos:start="315:47" pos:end="317:77">(<argument pos:start="315:48" pos:end="315:70"><expr pos:start="315:48" pos:end="315:70"><name pos:start="315:48" pos:end="315:70"><name pos:start="315:48" pos:end="315:53">codsty</name><operator pos:start="315:54" pos:end="315:55">-&gt;</operator><name pos:start="315:56" pos:end="315:70">log2_cblk_width</name></name></expr></argument>,

                                               <argument pos:start="317:48" pos:end="317:76"><expr pos:start="317:48" pos:end="317:76"><name pos:start="317:48" pos:end="317:72"><name pos:start="317:48" pos:end="317:55">reslevel</name><operator pos:start="317:56" pos:end="317:57">-&gt;</operator><name pos:start="317:58" pos:end="317:72">log2_prec_width</name></name> <operator pos:start="317:74" pos:end="317:74">-</operator> <literal type="number" pos:start="317:76" pos:end="317:76">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="319:17" pos:end="321:79"><expr pos:start="319:17" pos:end="321:78"><name pos:start="319:17" pos:end="319:38"><name pos:start="319:17" pos:end="319:20">band</name><operator pos:start="319:21" pos:end="319:22">-&gt;</operator><name pos:start="319:23" pos:end="319:38">log2_cblk_height</name></name> <operator pos:start="319:40" pos:end="319:40">=</operator> <call pos:start="319:42" pos:end="321:78"><name pos:start="319:42" pos:end="319:46">FFMIN</name><argument_list pos:start="319:47" pos:end="321:78">(<argument pos:start="319:48" pos:end="319:71"><expr pos:start="319:48" pos:end="319:71"><name pos:start="319:48" pos:end="319:71"><name pos:start="319:48" pos:end="319:53">codsty</name><operator pos:start="319:54" pos:end="319:55">-&gt;</operator><name pos:start="319:56" pos:end="319:71">log2_cblk_height</name></name></expr></argument>,

                                               <argument pos:start="321:48" pos:end="321:77"><expr pos:start="321:48" pos:end="321:77"><name pos:start="321:48" pos:end="321:73"><name pos:start="321:48" pos:end="321:55">reslevel</name><operator pos:start="321:56" pos:end="321:57">-&gt;</operator><name pos:start="321:58" pos:end="321:73">log2_prec_height</name></name> <operator pos:start="321:75" pos:end="321:75">-</operator> <literal type="number" pos:start="321:77" pos:end="321:77">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>



                <expr_stmt pos:start="325:17" pos:end="325:71"><expr pos:start="325:17" pos:end="325:70"><name pos:start="325:17" pos:end="325:36">log2_band_prec_width</name>  <operator pos:start="325:39" pos:end="325:39">=</operator> <name pos:start="325:41" pos:end="325:65"><name pos:start="325:41" pos:end="325:48">reslevel</name><operator pos:start="325:49" pos:end="325:50">-&gt;</operator><name pos:start="325:51" pos:end="325:65">log2_prec_width</name></name>  <operator pos:start="325:68" pos:end="325:68">-</operator> <literal type="number" pos:start="325:70" pos:end="325:70">1</literal></expr>;</expr_stmt>

                <expr_stmt pos:start="327:17" pos:end="327:71"><expr pos:start="327:17" pos:end="327:70"><name pos:start="327:17" pos:end="327:37">log2_band_prec_height</name> <operator pos:start="327:39" pos:end="327:39">=</operator> <name pos:start="327:41" pos:end="327:66"><name pos:start="327:41" pos:end="327:48">reslevel</name><operator pos:start="327:49" pos:end="327:50">-&gt;</operator><name pos:start="327:51" pos:end="327:66">log2_prec_height</name></name> <operator pos:start="327:68" pos:end="327:68">-</operator> <literal type="number" pos:start="327:70" pos:end="327:70">1</literal></expr>;</expr_stmt>

            </block_content>}</block></else></if_stmt>



            <expr_stmt pos:start="333:13" pos:end="337:62"><expr pos:start="333:13" pos:end="337:61"><name pos:start="333:13" pos:end="333:22"><name pos:start="333:13" pos:end="333:16">band</name><operator pos:start="333:17" pos:end="333:18">-&gt;</operator><name pos:start="333:19" pos:end="333:22">prec</name></name> <operator pos:start="333:24" pos:end="333:24">=</operator> <call pos:start="333:26" pos:end="337:61"><name pos:start="333:26" pos:end="333:40">av_malloc_array</name><argument_list pos:start="333:41" pos:end="337:61">(<argument pos:start="333:42" pos:end="335:66"><expr pos:start="333:42" pos:end="335:66"><name pos:start="333:42" pos:end="333:66"><name pos:start="333:42" pos:end="333:49">reslevel</name><operator pos:start="333:50" pos:end="333:51">-&gt;</operator><name pos:start="333:52" pos:end="333:66">num_precincts_x</name></name> <operator pos:start="333:68" pos:end="333:68">*</operator>

                                         <name pos:start="335:42" pos:end="335:66"><name pos:start="335:42" pos:end="335:49">reslevel</name><operator pos:start="335:50" pos:end="335:51">-&gt;</operator><name pos:start="335:52" pos:end="335:66">num_precincts_y</name></name></expr></argument>,

                                         <argument pos:start="337:42" pos:end="337:60"><expr pos:start="337:42" pos:end="337:60"><sizeof pos:start="337:42" pos:end="337:60">sizeof<argument_list pos:start="337:48" pos:end="337:60">(<argument pos:start="337:49" pos:end="337:59"><expr pos:start="337:49" pos:end="337:59"><operator pos:start="337:49" pos:end="337:49">*</operator><name pos:start="337:50" pos:end="337:59"><name pos:start="337:50" pos:end="337:53">band</name><operator pos:start="337:54" pos:end="337:55">-&gt;</operator><name pos:start="337:56" pos:end="337:59">prec</name></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <if_stmt pos:start="339:13" pos:end="341:39"><if pos:start="339:13" pos:end="341:39">if <condition pos:start="339:16" pos:end="339:28">(<expr pos:start="339:17" pos:end="339:27"><operator pos:start="339:17" pos:end="339:17">!</operator><name pos:start="339:18" pos:end="339:27"><name pos:start="339:18" pos:end="339:21">band</name><operator pos:start="339:22" pos:end="339:23">-&gt;</operator><name pos:start="339:24" pos:end="339:27">prec</name></name></expr>)</condition><block type="pseudo" pos:start="341:17" pos:end="341:39"><block_content pos:start="341:17" pos:end="341:39">

                <return pos:start="341:17" pos:end="341:39">return <expr pos:start="341:24" pos:end="341:38"><call pos:start="341:24" pos:end="341:38"><name pos:start="341:24" pos:end="341:30">AVERROR</name><argument_list pos:start="341:31" pos:end="341:38">(<argument pos:start="341:32" pos:end="341:37"><expr pos:start="341:32" pos:end="341:37"><name pos:start="341:32" pos:end="341:37">ENOMEM</name></expr></argument>)</argument_list></call></expr>;</return></block_content></block></if></if_stmt>



            <expr_stmt pos:start="345:13" pos:end="345:81"><expr pos:start="345:13" pos:end="345:80"><name pos:start="345:13" pos:end="345:24">nb_precincts</name> <operator pos:start="345:26" pos:end="345:26">=</operator> <name pos:start="345:28" pos:end="345:52"><name pos:start="345:28" pos:end="345:35">reslevel</name><operator pos:start="345:36" pos:end="345:37">-&gt;</operator><name pos:start="345:38" pos:end="345:52">num_precincts_x</name></name> <operator pos:start="345:54" pos:end="345:54">*</operator> <name pos:start="345:56" pos:end="345:80"><name pos:start="345:56" pos:end="345:63">reslevel</name><operator pos:start="345:64" pos:end="345:65">-&gt;</operator><name pos:start="345:66" pos:end="345:80">num_precincts_y</name></name></expr>;</expr_stmt>



            <for pos:start="349:13" pos:end="511:13">for <control pos:start="349:17" pos:end="349:61">(<init pos:start="349:18" pos:end="349:28"><expr pos:start="349:18" pos:end="349:27"><name pos:start="349:18" pos:end="349:23">precno</name> <operator pos:start="349:25" pos:end="349:25">=</operator> <literal type="number" pos:start="349:27" pos:end="349:27">0</literal></expr>;</init> <condition pos:start="349:30" pos:end="349:51"><expr pos:start="349:30" pos:end="349:50"><name pos:start="349:30" pos:end="349:35">precno</name> <operator pos:start="349:37" pos:end="349:37">&lt;</operator> <name pos:start="349:39" pos:end="349:50">nb_precincts</name></expr>;</condition> <incr pos:start="349:53" pos:end="349:60"><expr pos:start="349:53" pos:end="349:60"><name pos:start="349:53" pos:end="349:58">precno</name><operator pos:start="349:59" pos:end="349:60">++</operator></expr></incr>)</control> <block pos:start="349:63" pos:end="511:13">{<block_content pos:start="351:17" pos:end="509:17">

                <decl_stmt pos:start="351:17" pos:end="351:57"><decl pos:start="351:17" pos:end="351:56"><type pos:start="351:17" pos:end="351:30"><name pos:start="351:17" pos:end="351:28">Jpeg2000Prec</name> <modifier pos:start="351:30" pos:end="351:30">*</modifier></type><name pos:start="351:31" pos:end="351:34">prec</name> <init pos:start="351:36" pos:end="351:56">= <expr pos:start="351:38" pos:end="351:56"><name pos:start="351:38" pos:end="351:47"><name pos:start="351:38" pos:end="351:41">band</name><operator pos:start="351:42" pos:end="351:43">-&gt;</operator><name pos:start="351:44" pos:end="351:47">prec</name></name> <operator pos:start="351:49" pos:end="351:49">+</operator> <name pos:start="351:51" pos:end="351:56">precno</name></expr></init></decl>;</decl_stmt>



                <comment type="block" pos:start="355:17" pos:end="355:64">/* TODO: Explain formula for JPEG200 DCINEMA. */</comment>

                <comment type="block" pos:start="357:17" pos:end="357:77">/* TODO: Verify with previous count of codeblocks per band */</comment>



                <comment type="block" pos:start="361:17" pos:end="361:34">/* Compute P_x0 */</comment>

                <expr_stmt pos:start="363:17" pos:end="365:64"><expr pos:start="363:17" pos:end="365:63"><name pos:start="363:17" pos:end="363:33"><name pos:start="363:17" pos:end="363:20">prec</name><operator pos:start="363:21" pos:end="363:22">-&gt;</operator><name pos:start="363:23" pos:end="363:27">coord</name><index pos:start="363:28" pos:end="363:30">[<expr pos:start="363:29" pos:end="363:29"><literal type="number" pos:start="363:29" pos:end="363:29">0</literal></expr>]</index><index pos:start="363:31" pos:end="363:33">[<expr pos:start="363:32" pos:end="363:32"><literal type="number" pos:start="363:32" pos:end="363:32">0</literal></expr>]</index></name> <operator pos:start="363:35" pos:end="363:35">=</operator> <operator pos:start="363:37" pos:end="363:37">(</operator><name pos:start="363:38" pos:end="363:43">precno</name> <operator pos:start="363:45" pos:end="363:45">%</operator> <name pos:start="363:47" pos:end="363:71"><name pos:start="363:47" pos:end="363:54">reslevel</name><operator pos:start="363:55" pos:end="363:56">-&gt;</operator><name pos:start="363:57" pos:end="363:71">num_precincts_x</name></name><operator pos:start="363:72" pos:end="363:72">)</operator> <operator pos:start="363:74" pos:end="363:74">*</operator>

                                    <operator pos:start="365:37" pos:end="365:37">(</operator><literal type="number" pos:start="365:38" pos:end="365:38">1</literal> <operator pos:start="365:40" pos:end="365:41">&lt;&lt;</operator> <name pos:start="365:43" pos:end="365:62">log2_band_prec_width</name><operator pos:start="365:63" pos:end="365:63">)</operator></expr>;</expr_stmt>

                <expr_stmt pos:start="367:17" pos:end="367:80"><expr pos:start="367:17" pos:end="367:79"><name pos:start="367:17" pos:end="367:33"><name pos:start="367:17" pos:end="367:20">prec</name><operator pos:start="367:21" pos:end="367:22">-&gt;</operator><name pos:start="367:23" pos:end="367:27">coord</name><index pos:start="367:28" pos:end="367:30">[<expr pos:start="367:29" pos:end="367:29"><literal type="number" pos:start="367:29" pos:end="367:29">0</literal></expr>]</index><index pos:start="367:31" pos:end="367:33">[<expr pos:start="367:32" pos:end="367:32"><literal type="number" pos:start="367:32" pos:end="367:32">0</literal></expr>]</index></name> <operator pos:start="367:35" pos:end="367:35">=</operator> <call pos:start="367:37" pos:end="367:79"><name pos:start="367:37" pos:end="367:41">FFMAX</name><argument_list pos:start="367:42" pos:end="367:79">(<argument pos:start="367:43" pos:end="367:59"><expr pos:start="367:43" pos:end="367:59"><name pos:start="367:43" pos:end="367:59"><name pos:start="367:43" pos:end="367:46">prec</name><operator pos:start="367:47" pos:end="367:48">-&gt;</operator><name pos:start="367:49" pos:end="367:53">coord</name><index pos:start="367:54" pos:end="367:56">[<expr pos:start="367:55" pos:end="367:55"><literal type="number" pos:start="367:55" pos:end="367:55">0</literal></expr>]</index><index pos:start="367:57" pos:end="367:59">[<expr pos:start="367:58" pos:end="367:58"><literal type="number" pos:start="367:58" pos:end="367:58">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="367:62" pos:end="367:78"><expr pos:start="367:62" pos:end="367:78"><name pos:start="367:62" pos:end="367:78"><name pos:start="367:62" pos:end="367:65">band</name><operator pos:start="367:66" pos:end="367:67">-&gt;</operator><name pos:start="367:68" pos:end="367:72">coord</name><index pos:start="367:73" pos:end="367:75">[<expr pos:start="367:74" pos:end="367:74"><literal type="number" pos:start="367:74" pos:end="367:74">0</literal></expr>]</index><index pos:start="367:76" pos:end="367:78">[<expr pos:start="367:77" pos:end="367:77"><literal type="number" pos:start="367:77" pos:end="367:77">0</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



                <comment type="block" pos:start="371:17" pos:end="371:34">/* Compute P_y0 */</comment>

                <expr_stmt pos:start="373:17" pos:end="375:65"><expr pos:start="373:17" pos:end="375:64"><name pos:start="373:17" pos:end="373:33"><name pos:start="373:17" pos:end="373:20">prec</name><operator pos:start="373:21" pos:end="373:22">-&gt;</operator><name pos:start="373:23" pos:end="373:27">coord</name><index pos:start="373:28" pos:end="373:30">[<expr pos:start="373:29" pos:end="373:29"><literal type="number" pos:start="373:29" pos:end="373:29">1</literal></expr>]</index><index pos:start="373:31" pos:end="373:33">[<expr pos:start="373:32" pos:end="373:32"><literal type="number" pos:start="373:32" pos:end="373:32">0</literal></expr>]</index></name> <operator pos:start="373:35" pos:end="373:35">=</operator> <operator pos:start="373:37" pos:end="373:37">(</operator><name pos:start="373:38" pos:end="373:43">precno</name> <operator pos:start="373:45" pos:end="373:45">/</operator> <name pos:start="373:47" pos:end="373:71"><name pos:start="373:47" pos:end="373:54">reslevel</name><operator pos:start="373:55" pos:end="373:56">-&gt;</operator><name pos:start="373:57" pos:end="373:71">num_precincts_x</name></name><operator pos:start="373:72" pos:end="373:72">)</operator> <operator pos:start="373:74" pos:end="373:74">*</operator>

                                    <operator pos:start="375:37" pos:end="375:37">(</operator><literal type="number" pos:start="375:38" pos:end="375:38">1</literal> <operator pos:start="375:40" pos:end="375:41">&lt;&lt;</operator> <name pos:start="375:43" pos:end="375:63">log2_band_prec_height</name><operator pos:start="375:64" pos:end="375:64">)</operator></expr>;</expr_stmt>

                <expr_stmt pos:start="377:17" pos:end="377:80"><expr pos:start="377:17" pos:end="377:79"><name pos:start="377:17" pos:end="377:33"><name pos:start="377:17" pos:end="377:20">prec</name><operator pos:start="377:21" pos:end="377:22">-&gt;</operator><name pos:start="377:23" pos:end="377:27">coord</name><index pos:start="377:28" pos:end="377:30">[<expr pos:start="377:29" pos:end="377:29"><literal type="number" pos:start="377:29" pos:end="377:29">1</literal></expr>]</index><index pos:start="377:31" pos:end="377:33">[<expr pos:start="377:32" pos:end="377:32"><literal type="number" pos:start="377:32" pos:end="377:32">0</literal></expr>]</index></name> <operator pos:start="377:35" pos:end="377:35">=</operator> <call pos:start="377:37" pos:end="377:79"><name pos:start="377:37" pos:end="377:41">FFMAX</name><argument_list pos:start="377:42" pos:end="377:79">(<argument pos:start="377:43" pos:end="377:59"><expr pos:start="377:43" pos:end="377:59"><name pos:start="377:43" pos:end="377:59"><name pos:start="377:43" pos:end="377:46">prec</name><operator pos:start="377:47" pos:end="377:48">-&gt;</operator><name pos:start="377:49" pos:end="377:53">coord</name><index pos:start="377:54" pos:end="377:56">[<expr pos:start="377:55" pos:end="377:55"><literal type="number" pos:start="377:55" pos:end="377:55">1</literal></expr>]</index><index pos:start="377:57" pos:end="377:59">[<expr pos:start="377:58" pos:end="377:58"><literal type="number" pos:start="377:58" pos:end="377:58">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="377:62" pos:end="377:78"><expr pos:start="377:62" pos:end="377:78"><name pos:start="377:62" pos:end="377:78"><name pos:start="377:62" pos:end="377:65">band</name><operator pos:start="377:66" pos:end="377:67">-&gt;</operator><name pos:start="377:68" pos:end="377:72">coord</name><index pos:start="377:73" pos:end="377:75">[<expr pos:start="377:74" pos:end="377:74"><literal type="number" pos:start="377:74" pos:end="377:74">1</literal></expr>]</index><index pos:start="377:76" pos:end="377:78">[<expr pos:start="377:77" pos:end="377:77"><literal type="number" pos:start="377:77" pos:end="377:77">0</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



                <comment type="block" pos:start="381:17" pos:end="381:34">/* Compute P_x1 */</comment>

                <expr_stmt pos:start="383:17" pos:end="385:64"><expr pos:start="383:17" pos:end="385:63"><name pos:start="383:17" pos:end="383:33"><name pos:start="383:17" pos:end="383:20">prec</name><operator pos:start="383:21" pos:end="383:22">-&gt;</operator><name pos:start="383:23" pos:end="383:27">coord</name><index pos:start="383:28" pos:end="383:30">[<expr pos:start="383:29" pos:end="383:29"><literal type="number" pos:start="383:29" pos:end="383:29">0</literal></expr>]</index><index pos:start="383:31" pos:end="383:33">[<expr pos:start="383:32" pos:end="383:32"><literal type="number" pos:start="383:32" pos:end="383:32">1</literal></expr>]</index></name> <operator pos:start="383:35" pos:end="383:35">=</operator> <name pos:start="383:37" pos:end="383:53"><name pos:start="383:37" pos:end="383:40">prec</name><operator pos:start="383:41" pos:end="383:42">-&gt;</operator><name pos:start="383:43" pos:end="383:47">coord</name><index pos:start="383:48" pos:end="383:50">[<expr pos:start="383:49" pos:end="383:49"><literal type="number" pos:start="383:49" pos:end="383:49">0</literal></expr>]</index><index pos:start="383:51" pos:end="383:53">[<expr pos:start="383:52" pos:end="383:52"><literal type="number" pos:start="383:52" pos:end="383:52">0</literal></expr>]</index></name> <operator pos:start="383:55" pos:end="383:55">+</operator>

                                    <operator pos:start="385:37" pos:end="385:37">(</operator><literal type="number" pos:start="385:38" pos:end="385:38">1</literal> <operator pos:start="385:40" pos:end="385:41">&lt;&lt;</operator> <name pos:start="385:43" pos:end="385:62">log2_band_prec_width</name><operator pos:start="385:63" pos:end="385:63">)</operator></expr>;</expr_stmt>

                <expr_stmt pos:start="387:17" pos:end="387:80"><expr pos:start="387:17" pos:end="387:79"><name pos:start="387:17" pos:end="387:33"><name pos:start="387:17" pos:end="387:20">prec</name><operator pos:start="387:21" pos:end="387:22">-&gt;</operator><name pos:start="387:23" pos:end="387:27">coord</name><index pos:start="387:28" pos:end="387:30">[<expr pos:start="387:29" pos:end="387:29"><literal type="number" pos:start="387:29" pos:end="387:29">0</literal></expr>]</index><index pos:start="387:31" pos:end="387:33">[<expr pos:start="387:32" pos:end="387:32"><literal type="number" pos:start="387:32" pos:end="387:32">1</literal></expr>]</index></name> <operator pos:start="387:35" pos:end="387:35">=</operator> <call pos:start="387:37" pos:end="387:79"><name pos:start="387:37" pos:end="387:41">FFMIN</name><argument_list pos:start="387:42" pos:end="387:79">(<argument pos:start="387:43" pos:end="387:59"><expr pos:start="387:43" pos:end="387:59"><name pos:start="387:43" pos:end="387:59"><name pos:start="387:43" pos:end="387:46">prec</name><operator pos:start="387:47" pos:end="387:48">-&gt;</operator><name pos:start="387:49" pos:end="387:53">coord</name><index pos:start="387:54" pos:end="387:56">[<expr pos:start="387:55" pos:end="387:55"><literal type="number" pos:start="387:55" pos:end="387:55">0</literal></expr>]</index><index pos:start="387:57" pos:end="387:59">[<expr pos:start="387:58" pos:end="387:58"><literal type="number" pos:start="387:58" pos:end="387:58">1</literal></expr>]</index></name></expr></argument>, <argument pos:start="387:62" pos:end="387:78"><expr pos:start="387:62" pos:end="387:78"><name pos:start="387:62" pos:end="387:78"><name pos:start="387:62" pos:end="387:65">band</name><operator pos:start="387:66" pos:end="387:67">-&gt;</operator><name pos:start="387:68" pos:end="387:72">coord</name><index pos:start="387:73" pos:end="387:75">[<expr pos:start="387:74" pos:end="387:74"><literal type="number" pos:start="387:74" pos:end="387:74">0</literal></expr>]</index><index pos:start="387:76" pos:end="387:78">[<expr pos:start="387:77" pos:end="387:77"><literal type="number" pos:start="387:77" pos:end="387:77">1</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



                <comment type="block" pos:start="391:17" pos:end="391:34">/* Compute P_y1 */</comment>

                <expr_stmt pos:start="393:17" pos:end="395:65"><expr pos:start="393:17" pos:end="395:64"><name pos:start="393:17" pos:end="393:33"><name pos:start="393:17" pos:end="393:20">prec</name><operator pos:start="393:21" pos:end="393:22">-&gt;</operator><name pos:start="393:23" pos:end="393:27">coord</name><index pos:start="393:28" pos:end="393:30">[<expr pos:start="393:29" pos:end="393:29"><literal type="number" pos:start="393:29" pos:end="393:29">1</literal></expr>]</index><index pos:start="393:31" pos:end="393:33">[<expr pos:start="393:32" pos:end="393:32"><literal type="number" pos:start="393:32" pos:end="393:32">1</literal></expr>]</index></name> <operator pos:start="393:35" pos:end="393:35">=</operator> <name pos:start="393:37" pos:end="393:53"><name pos:start="393:37" pos:end="393:40">prec</name><operator pos:start="393:41" pos:end="393:42">-&gt;</operator><name pos:start="393:43" pos:end="393:47">coord</name><index pos:start="393:48" pos:end="393:50">[<expr pos:start="393:49" pos:end="393:49"><literal type="number" pos:start="393:49" pos:end="393:49">1</literal></expr>]</index><index pos:start="393:51" pos:end="393:53">[<expr pos:start="393:52" pos:end="393:52"><literal type="number" pos:start="393:52" pos:end="393:52">0</literal></expr>]</index></name> <operator pos:start="393:55" pos:end="393:55">+</operator>

                                    <operator pos:start="395:37" pos:end="395:37">(</operator><literal type="number" pos:start="395:38" pos:end="395:38">1</literal> <operator pos:start="395:40" pos:end="395:41">&lt;&lt;</operator> <name pos:start="395:43" pos:end="395:63">log2_band_prec_height</name><operator pos:start="395:64" pos:end="395:64">)</operator></expr>;</expr_stmt>

                <expr_stmt pos:start="397:17" pos:end="397:80"><expr pos:start="397:17" pos:end="397:79"><name pos:start="397:17" pos:end="397:33"><name pos:start="397:17" pos:end="397:20">prec</name><operator pos:start="397:21" pos:end="397:22">-&gt;</operator><name pos:start="397:23" pos:end="397:27">coord</name><index pos:start="397:28" pos:end="397:30">[<expr pos:start="397:29" pos:end="397:29"><literal type="number" pos:start="397:29" pos:end="397:29">1</literal></expr>]</index><index pos:start="397:31" pos:end="397:33">[<expr pos:start="397:32" pos:end="397:32"><literal type="number" pos:start="397:32" pos:end="397:32">1</literal></expr>]</index></name> <operator pos:start="397:35" pos:end="397:35">=</operator> <call pos:start="397:37" pos:end="397:79"><name pos:start="397:37" pos:end="397:41">FFMIN</name><argument_list pos:start="397:42" pos:end="397:79">(<argument pos:start="397:43" pos:end="397:59"><expr pos:start="397:43" pos:end="397:59"><name pos:start="397:43" pos:end="397:59"><name pos:start="397:43" pos:end="397:46">prec</name><operator pos:start="397:47" pos:end="397:48">-&gt;</operator><name pos:start="397:49" pos:end="397:53">coord</name><index pos:start="397:54" pos:end="397:56">[<expr pos:start="397:55" pos:end="397:55"><literal type="number" pos:start="397:55" pos:end="397:55">1</literal></expr>]</index><index pos:start="397:57" pos:end="397:59">[<expr pos:start="397:58" pos:end="397:58"><literal type="number" pos:start="397:58" pos:end="397:58">1</literal></expr>]</index></name></expr></argument>, <argument pos:start="397:62" pos:end="397:78"><expr pos:start="397:62" pos:end="397:78"><name pos:start="397:62" pos:end="397:78"><name pos:start="397:62" pos:end="397:65">band</name><operator pos:start="397:66" pos:end="397:67">-&gt;</operator><name pos:start="397:68" pos:end="397:72">coord</name><index pos:start="397:73" pos:end="397:75">[<expr pos:start="397:74" pos:end="397:74"><literal type="number" pos:start="397:74" pos:end="397:74">1</literal></expr>]</index><index pos:start="397:76" pos:end="397:78">[<expr pos:start="397:77" pos:end="397:77"><literal type="number" pos:start="397:77" pos:end="397:77">1</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



                <expr_stmt pos:start="401:17" pos:end="407:67"><expr pos:start="401:17" pos:end="407:66"><name pos:start="401:17" pos:end="401:41"><name pos:start="401:17" pos:end="401:20">prec</name><operator pos:start="401:21" pos:end="401:22">-&gt;</operator><name pos:start="401:23" pos:end="401:41">nb_codeblocks_width</name></name> <operator pos:start="401:43" pos:end="401:43">=</operator>

                    <call pos:start="403:21" pos:end="407:66"><name pos:start="403:21" pos:end="403:43">ff_jpeg2000_ceildivpow2</name><argument_list pos:start="403:44" pos:end="407:66">(<argument pos:start="403:45" pos:end="405:61"><expr pos:start="403:45" pos:end="405:61"><name pos:start="403:45" pos:end="403:61"><name pos:start="403:45" pos:end="403:48">prec</name><operator pos:start="403:49" pos:end="403:50">-&gt;</operator><name pos:start="403:51" pos:end="403:55">coord</name><index pos:start="403:56" pos:end="403:58">[<expr pos:start="403:57" pos:end="403:57"><literal type="number" pos:start="403:57" pos:end="403:57">0</literal></expr>]</index><index pos:start="403:59" pos:end="403:61">[<expr pos:start="403:60" pos:end="403:60"><literal type="number" pos:start="403:60" pos:end="403:60">1</literal></expr>]</index></name> <operator pos:start="403:63" pos:end="403:63">-</operator>

                                            <name pos:start="405:45" pos:end="405:61"><name pos:start="405:45" pos:end="405:48">prec</name><operator pos:start="405:49" pos:end="405:50">-&gt;</operator><name pos:start="405:51" pos:end="405:55">coord</name><index pos:start="405:56" pos:end="405:58">[<expr pos:start="405:57" pos:end="405:57"><literal type="number" pos:start="405:57" pos:end="405:57">0</literal></expr>]</index><index pos:start="405:59" pos:end="405:61">[<expr pos:start="405:60" pos:end="405:60"><literal type="number" pos:start="405:60" pos:end="405:60">0</literal></expr>]</index></name></expr></argument>,

                                            <argument pos:start="407:45" pos:end="407:65"><expr pos:start="407:45" pos:end="407:65"><name pos:start="407:45" pos:end="407:65"><name pos:start="407:45" pos:end="407:48">band</name><operator pos:start="407:49" pos:end="407:50">-&gt;</operator><name pos:start="407:51" pos:end="407:65">log2_cblk_width</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="409:17" pos:end="415:68"><expr pos:start="409:17" pos:end="415:67"><name pos:start="409:17" pos:end="409:42"><name pos:start="409:17" pos:end="409:20">prec</name><operator pos:start="409:21" pos:end="409:22">-&gt;</operator><name pos:start="409:23" pos:end="409:42">nb_codeblocks_height</name></name> <operator pos:start="409:44" pos:end="409:44">=</operator>

                    <call pos:start="411:21" pos:end="415:67"><name pos:start="411:21" pos:end="411:43">ff_jpeg2000_ceildivpow2</name><argument_list pos:start="411:44" pos:end="415:67">(<argument pos:start="411:45" pos:end="413:61"><expr pos:start="411:45" pos:end="413:61"><name pos:start="411:45" pos:end="411:61"><name pos:start="411:45" pos:end="411:48">prec</name><operator pos:start="411:49" pos:end="411:50">-&gt;</operator><name pos:start="411:51" pos:end="411:55">coord</name><index pos:start="411:56" pos:end="411:58">[<expr pos:start="411:57" pos:end="411:57"><literal type="number" pos:start="411:57" pos:end="411:57">1</literal></expr>]</index><index pos:start="411:59" pos:end="411:61">[<expr pos:start="411:60" pos:end="411:60"><literal type="number" pos:start="411:60" pos:end="411:60">1</literal></expr>]</index></name> <operator pos:start="411:63" pos:end="411:63">-</operator>

                                            <name pos:start="413:45" pos:end="413:61"><name pos:start="413:45" pos:end="413:48">prec</name><operator pos:start="413:49" pos:end="413:50">-&gt;</operator><name pos:start="413:51" pos:end="413:55">coord</name><index pos:start="413:56" pos:end="413:58">[<expr pos:start="413:57" pos:end="413:57"><literal type="number" pos:start="413:57" pos:end="413:57">1</literal></expr>]</index><index pos:start="413:59" pos:end="413:61">[<expr pos:start="413:60" pos:end="413:60"><literal type="number" pos:start="413:60" pos:end="413:60">0</literal></expr>]</index></name></expr></argument>,

                                            <argument pos:start="415:45" pos:end="415:66"><expr pos:start="415:45" pos:end="415:66"><name pos:start="415:45" pos:end="415:66"><name pos:start="415:45" pos:end="415:48">band</name><operator pos:start="415:49" pos:end="415:50">-&gt;</operator><name pos:start="415:51" pos:end="415:66">log2_cblk_height</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



                <comment type="block" pos:start="419:17" pos:end="419:46">/* Tag trees initialization */</comment>

                <expr_stmt pos:start="421:17" pos:end="425:74"><expr pos:start="421:17" pos:end="425:73"><name pos:start="421:17" pos:end="421:30"><name pos:start="421:17" pos:end="421:20">prec</name><operator pos:start="421:21" pos:end="421:22">-&gt;</operator><name pos:start="421:23" pos:end="421:30">cblkincl</name></name> <operator pos:start="421:32" pos:end="421:32">=</operator>

                    <call pos:start="423:21" pos:end="425:73"><name pos:start="423:21" pos:end="423:45">ff_jpeg2000_tag_tree_init</name><argument_list pos:start="423:46" pos:end="425:73">(<argument pos:start="423:47" pos:end="423:71"><expr pos:start="423:47" pos:end="423:71"><name pos:start="423:47" pos:end="423:71"><name pos:start="423:47" pos:end="423:50">prec</name><operator pos:start="423:51" pos:end="423:52">-&gt;</operator><name pos:start="423:53" pos:end="423:71">nb_codeblocks_width</name></name></expr></argument>,

                                              <argument pos:start="425:47" pos:end="425:72"><expr pos:start="425:47" pos:end="425:72"><name pos:start="425:47" pos:end="425:72"><name pos:start="425:47" pos:end="425:50">prec</name><operator pos:start="425:51" pos:end="425:52">-&gt;</operator><name pos:start="425:53" pos:end="425:72">nb_codeblocks_height</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <if_stmt pos:start="427:17" pos:end="429:43"><if pos:start="427:17" pos:end="429:43">if <condition pos:start="427:20" pos:end="427:36">(<expr pos:start="427:21" pos:end="427:35"><operator pos:start="427:21" pos:end="427:21">!</operator><name pos:start="427:22" pos:end="427:35"><name pos:start="427:22" pos:end="427:25">prec</name><operator pos:start="427:26" pos:end="427:27">-&gt;</operator><name pos:start="427:28" pos:end="427:35">cblkincl</name></name></expr>)</condition><block type="pseudo" pos:start="429:21" pos:end="429:43"><block_content pos:start="429:21" pos:end="429:43">

                    <return pos:start="429:21" pos:end="429:43">return <expr pos:start="429:28" pos:end="429:42"><call pos:start="429:28" pos:end="429:42"><name pos:start="429:28" pos:end="429:34">AVERROR</name><argument_list pos:start="429:35" pos:end="429:42">(<argument pos:start="429:36" pos:end="429:41"><expr pos:start="429:36" pos:end="429:41"><name pos:start="429:36" pos:end="429:41">ENOMEM</name></expr></argument>)</argument_list></call></expr>;</return></block_content></block></if></if_stmt>



                <expr_stmt pos:start="433:17" pos:end="437:74"><expr pos:start="433:17" pos:end="437:73"><name pos:start="433:17" pos:end="433:30"><name pos:start="433:17" pos:end="433:20">prec</name><operator pos:start="433:21" pos:end="433:22">-&gt;</operator><name pos:start="433:23" pos:end="433:30">zerobits</name></name> <operator pos:start="433:32" pos:end="433:32">=</operator>

                    <call pos:start="435:21" pos:end="437:73"><name pos:start="435:21" pos:end="435:45">ff_jpeg2000_tag_tree_init</name><argument_list pos:start="435:46" pos:end="437:73">(<argument pos:start="435:47" pos:end="435:71"><expr pos:start="435:47" pos:end="435:71"><name pos:start="435:47" pos:end="435:71"><name pos:start="435:47" pos:end="435:50">prec</name><operator pos:start="435:51" pos:end="435:52">-&gt;</operator><name pos:start="435:53" pos:end="435:71">nb_codeblocks_width</name></name></expr></argument>,

                                              <argument pos:start="437:47" pos:end="437:72"><expr pos:start="437:47" pos:end="437:72"><name pos:start="437:47" pos:end="437:72"><name pos:start="437:47" pos:end="437:50">prec</name><operator pos:start="437:51" pos:end="437:52">-&gt;</operator><name pos:start="437:53" pos:end="437:72">nb_codeblocks_height</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <if_stmt pos:start="439:17" pos:end="441:43"><if pos:start="439:17" pos:end="441:43">if <condition pos:start="439:20" pos:end="439:36">(<expr pos:start="439:21" pos:end="439:35"><operator pos:start="439:21" pos:end="439:21">!</operator><name pos:start="439:22" pos:end="439:35"><name pos:start="439:22" pos:end="439:25">prec</name><operator pos:start="439:26" pos:end="439:27">-&gt;</operator><name pos:start="439:28" pos:end="439:35">zerobits</name></name></expr>)</condition><block type="pseudo" pos:start="441:21" pos:end="441:43"><block_content pos:start="441:21" pos:end="441:43">

                    <return pos:start="441:21" pos:end="441:43">return <expr pos:start="441:28" pos:end="441:42"><call pos:start="441:28" pos:end="441:42"><name pos:start="441:28" pos:end="441:34">AVERROR</name><argument_list pos:start="441:35" pos:end="441:42">(<argument pos:start="441:36" pos:end="441:41"><expr pos:start="441:36" pos:end="441:41"><name pos:start="441:36" pos:end="441:41">ENOMEM</name></expr></argument>)</argument_list></call></expr>;</return></block_content></block></if></if_stmt>



                <expr_stmt pos:start="445:17" pos:end="449:66"><expr pos:start="445:17" pos:end="449:65"><name pos:start="445:17" pos:end="445:26"><name pos:start="445:17" pos:end="445:20">prec</name><operator pos:start="445:21" pos:end="445:22">-&gt;</operator><name pos:start="445:23" pos:end="445:26">cblk</name></name> <operator pos:start="445:28" pos:end="445:28">=</operator> <call pos:start="445:30" pos:end="449:65"><name pos:start="445:30" pos:end="445:44">av_malloc_array</name><argument_list pos:start="445:45" pos:end="449:65">(<argument pos:start="445:46" pos:end="447:71"><expr pos:start="445:46" pos:end="447:71"><name pos:start="445:46" pos:end="445:70"><name pos:start="445:46" pos:end="445:49">prec</name><operator pos:start="445:50" pos:end="445:51">-&gt;</operator><name pos:start="445:52" pos:end="445:70">nb_codeblocks_width</name></name> <operator pos:start="445:72" pos:end="445:72">*</operator>

                                             <name pos:start="447:46" pos:end="447:71"><name pos:start="447:46" pos:end="447:49">prec</name><operator pos:start="447:50" pos:end="447:51">-&gt;</operator><name pos:start="447:52" pos:end="447:71">nb_codeblocks_height</name></name></expr></argument>,

                                             <argument pos:start="449:46" pos:end="449:64"><expr pos:start="449:46" pos:end="449:64"><sizeof pos:start="449:46" pos:end="449:64">sizeof<argument_list pos:start="449:52" pos:end="449:64">(<argument pos:start="449:53" pos:end="449:63"><expr pos:start="449:53" pos:end="449:63"><operator pos:start="449:53" pos:end="449:53">*</operator><name pos:start="449:54" pos:end="449:63"><name pos:start="449:54" pos:end="449:57">prec</name><operator pos:start="449:58" pos:end="449:59">-&gt;</operator><name pos:start="449:60" pos:end="449:63">cblk</name></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <if_stmt pos:start="451:17" pos:end="453:43"><if pos:start="451:17" pos:end="453:43">if <condition pos:start="451:20" pos:end="451:32">(<expr pos:start="451:21" pos:end="451:31"><operator pos:start="451:21" pos:end="451:21">!</operator><name pos:start="451:22" pos:end="451:31"><name pos:start="451:22" pos:end="451:25">prec</name><operator pos:start="451:26" pos:end="451:27">-&gt;</operator><name pos:start="451:28" pos:end="451:31">cblk</name></name></expr>)</condition><block type="pseudo" pos:start="453:21" pos:end="453:43"><block_content pos:start="453:21" pos:end="453:43">

                    <return pos:start="453:21" pos:end="453:43">return <expr pos:start="453:28" pos:end="453:42"><call pos:start="453:28" pos:end="453:42"><name pos:start="453:28" pos:end="453:34">AVERROR</name><argument_list pos:start="453:35" pos:end="453:42">(<argument pos:start="453:36" pos:end="453:41"><expr pos:start="453:36" pos:end="453:41"><name pos:start="453:36" pos:end="453:41">ENOMEM</name></expr></argument>)</argument_list></call></expr>;</return></block_content></block></if></if_stmt>

                <for pos:start="455:17" pos:end="509:17">for <control pos:start="455:21" pos:end="455:107">(<init pos:start="455:22" pos:end="455:32"><expr pos:start="455:22" pos:end="455:31"><name pos:start="455:22" pos:end="455:27">cblkno</name> <operator pos:start="455:29" pos:end="455:29">=</operator> <literal type="number" pos:start="455:31" pos:end="455:31">0</literal></expr>;</init> <condition pos:start="455:34" pos:end="455:97"><expr pos:start="455:34" pos:end="455:96"><name pos:start="455:34" pos:end="455:39">cblkno</name> <operator pos:start="455:41" pos:end="455:41">&lt;</operator> <name pos:start="455:43" pos:end="455:67"><name pos:start="455:43" pos:end="455:46">prec</name><operator pos:start="455:47" pos:end="455:48">-&gt;</operator><name pos:start="455:49" pos:end="455:67">nb_codeblocks_width</name></name> <operator pos:start="455:69" pos:end="455:69">*</operator> <name pos:start="455:71" pos:end="455:96"><name pos:start="455:71" pos:end="455:74">prec</name><operator pos:start="455:75" pos:end="455:76">-&gt;</operator><name pos:start="455:77" pos:end="455:96">nb_codeblocks_height</name></name></expr>;</condition> <incr pos:start="455:99" pos:end="455:106"><expr pos:start="455:99" pos:end="455:106"><name pos:start="455:99" pos:end="455:104">cblkno</name><operator pos:start="455:105" pos:end="455:106">++</operator></expr></incr>)</control> <block pos:start="455:109" pos:end="509:17">{<block_content pos:start="457:21" pos:end="507:40">

                    <decl_stmt pos:start="457:21" pos:end="457:61"><decl pos:start="457:21" pos:end="457:60"><type pos:start="457:21" pos:end="457:34"><name pos:start="457:21" pos:end="457:32">Jpeg2000Cblk</name> <modifier pos:start="457:34" pos:end="457:34">*</modifier></type><name pos:start="457:35" pos:end="457:38">cblk</name> <init pos:start="457:40" pos:end="457:60">= <expr pos:start="457:42" pos:end="457:60"><name pos:start="457:42" pos:end="457:51"><name pos:start="457:42" pos:end="457:45">prec</name><operator pos:start="457:46" pos:end="457:47">-&gt;</operator><name pos:start="457:48" pos:end="457:51">cblk</name></name> <operator pos:start="457:53" pos:end="457:53">+</operator> <name pos:start="457:55" pos:end="457:60">cblkno</name></expr></init></decl>;</decl_stmt>

                    <decl_stmt pos:start="459:21" pos:end="459:38"><decl pos:start="459:21" pos:end="459:32"><type pos:start="459:21" pos:end="459:28"><name pos:start="459:21" pos:end="459:28">uint16_t</name></type> <name pos:start="459:30" pos:end="459:32">Cx0</name></decl>, <decl pos:start="459:35" pos:end="459:37"><type ref="prev" pos:start="459:21" pos:end="459:28"/><name pos:start="459:35" pos:end="459:37">Cy0</name></decl>;</decl_stmt>



                    <comment type="block" pos:start="463:21" pos:end="463:59">/* Compute coordinates of codeblocks */</comment>

                    <comment type="block" pos:start="465:21" pos:end="465:36">/* Compute Cx0*/</comment>

                    <expr_stmt pos:start="467:21" pos:end="467:96"><expr pos:start="467:21" pos:end="467:95"><name pos:start="467:21" pos:end="467:23">Cx0</name> <operator pos:start="467:25" pos:end="467:25">=</operator> <operator pos:start="467:27" pos:end="467:27">(</operator><name pos:start="467:28" pos:end="467:44"><name pos:start="467:28" pos:end="467:31">prec</name><operator pos:start="467:32" pos:end="467:33">-&gt;</operator><name pos:start="467:34" pos:end="467:38">coord</name><index pos:start="467:39" pos:end="467:41">[<expr pos:start="467:40" pos:end="467:40"><literal type="number" pos:start="467:40" pos:end="467:40">0</literal></expr>]</index><index pos:start="467:42" pos:end="467:44">[<expr pos:start="467:43" pos:end="467:43"><literal type="number" pos:start="467:43" pos:end="467:43">0</literal></expr>]</index></name> <operator pos:start="467:46" pos:end="467:47">&gt;&gt;</operator> <name pos:start="467:49" pos:end="467:69"><name pos:start="467:49" pos:end="467:52">band</name><operator pos:start="467:53" pos:end="467:54">-&gt;</operator><name pos:start="467:55" pos:end="467:69">log2_cblk_width</name></name><operator pos:start="467:70" pos:end="467:70">)</operator> <operator pos:start="467:72" pos:end="467:73">&lt;&lt;</operator> <name pos:start="467:75" pos:end="467:95"><name pos:start="467:75" pos:end="467:78">band</name><operator pos:start="467:79" pos:end="467:80">-&gt;</operator><name pos:start="467:81" pos:end="467:95">log2_cblk_width</name></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="469:21" pos:end="469:97"><expr pos:start="469:21" pos:end="469:96"><name pos:start="469:21" pos:end="469:23">Cx0</name> <operator pos:start="469:25" pos:end="469:25">=</operator> <name pos:start="469:27" pos:end="469:29">Cx0</name> <operator pos:start="469:31" pos:end="469:31">+</operator> <operator pos:start="469:33" pos:end="469:33">(</operator><operator pos:start="469:34" pos:end="469:34">(</operator><name pos:start="469:35" pos:end="469:40">cblkno</name> <operator pos:start="469:42" pos:end="469:42">%</operator> <name pos:start="469:44" pos:end="469:68"><name pos:start="469:44" pos:end="469:47">prec</name><operator pos:start="469:48" pos:end="469:49">-&gt;</operator><name pos:start="469:50" pos:end="469:68">nb_codeblocks_width</name></name><operator pos:start="469:69" pos:end="469:69">)</operator>  <operator pos:start="469:72" pos:end="469:73">&lt;&lt;</operator> <name pos:start="469:75" pos:end="469:95"><name pos:start="469:75" pos:end="469:78">band</name><operator pos:start="469:79" pos:end="469:80">-&gt;</operator><name pos:start="469:81" pos:end="469:95">log2_cblk_width</name></name><operator pos:start="469:96" pos:end="469:96">)</operator></expr>;</expr_stmt>

                    <expr_stmt pos:start="471:21" pos:end="471:70"><expr pos:start="471:21" pos:end="471:69"><name pos:start="471:21" pos:end="471:37"><name pos:start="471:21" pos:end="471:24">cblk</name><operator pos:start="471:25" pos:end="471:26">-&gt;</operator><name pos:start="471:27" pos:end="471:31">coord</name><index pos:start="471:32" pos:end="471:34">[<expr pos:start="471:33" pos:end="471:33"><literal type="number" pos:start="471:33" pos:end="471:33">0</literal></expr>]</index><index pos:start="471:35" pos:end="471:37">[<expr pos:start="471:36" pos:end="471:36"><literal type="number" pos:start="471:36" pos:end="471:36">0</literal></expr>]</index></name> <operator pos:start="471:39" pos:end="471:39">=</operator> <call pos:start="471:41" pos:end="471:69"><name pos:start="471:41" pos:end="471:45">FFMAX</name><argument_list pos:start="471:46" pos:end="471:69">(<argument pos:start="471:47" pos:end="471:49"><expr pos:start="471:47" pos:end="471:49"><name pos:start="471:47" pos:end="471:49">Cx0</name></expr></argument>, <argument pos:start="471:52" pos:end="471:68"><expr pos:start="471:52" pos:end="471:68"><name pos:start="471:52" pos:end="471:68"><name pos:start="471:52" pos:end="471:55">prec</name><operator pos:start="471:56" pos:end="471:57">-&gt;</operator><name pos:start="471:58" pos:end="471:62">coord</name><index pos:start="471:63" pos:end="471:65">[<expr pos:start="471:64" pos:end="471:64"><literal type="number" pos:start="471:64" pos:end="471:64">0</literal></expr>]</index><index pos:start="471:66" pos:end="471:68">[<expr pos:start="471:67" pos:end="471:67"><literal type="number" pos:start="471:67" pos:end="471:67">0</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



                    <comment type="block" pos:start="475:21" pos:end="475:36">/* Compute Cy0*/</comment>

                    <expr_stmt pos:start="477:21" pos:end="477:98"><expr pos:start="477:21" pos:end="477:97"><name pos:start="477:21" pos:end="477:23">Cy0</name> <operator pos:start="477:25" pos:end="477:25">=</operator> <operator pos:start="477:27" pos:end="477:27">(</operator><name pos:start="477:28" pos:end="477:44"><name pos:start="477:28" pos:end="477:31">prec</name><operator pos:start="477:32" pos:end="477:33">-&gt;</operator><name pos:start="477:34" pos:end="477:38">coord</name><index pos:start="477:39" pos:end="477:41">[<expr pos:start="477:40" pos:end="477:40"><literal type="number" pos:start="477:40" pos:end="477:40">1</literal></expr>]</index><index pos:start="477:42" pos:end="477:44">[<expr pos:start="477:43" pos:end="477:43"><literal type="number" pos:start="477:43" pos:end="477:43">0</literal></expr>]</index></name> <operator pos:start="477:46" pos:end="477:47">&gt;&gt;</operator> <name pos:start="477:49" pos:end="477:70"><name pos:start="477:49" pos:end="477:52">band</name><operator pos:start="477:53" pos:end="477:54">-&gt;</operator><name pos:start="477:55" pos:end="477:70">log2_cblk_height</name></name><operator pos:start="477:71" pos:end="477:71">)</operator> <operator pos:start="477:73" pos:end="477:74">&lt;&lt;</operator> <name pos:start="477:76" pos:end="477:97"><name pos:start="477:76" pos:end="477:79">band</name><operator pos:start="477:80" pos:end="477:81">-&gt;</operator><name pos:start="477:82" pos:end="477:97">log2_cblk_height</name></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="479:21" pos:end="479:99"><expr pos:start="479:21" pos:end="479:98"><name pos:start="479:21" pos:end="479:23">Cy0</name> <operator pos:start="479:25" pos:end="479:25">=</operator> <name pos:start="479:27" pos:end="479:29">Cy0</name> <operator pos:start="479:31" pos:end="479:31">+</operator> <operator pos:start="479:33" pos:end="479:33">(</operator><operator pos:start="479:34" pos:end="479:34">(</operator><name pos:start="479:35" pos:end="479:40">cblkno</name> <operator pos:start="479:42" pos:end="479:42">/</operator> <name pos:start="479:44" pos:end="479:68"><name pos:start="479:44" pos:end="479:47">prec</name><operator pos:start="479:48" pos:end="479:49">-&gt;</operator><name pos:start="479:50" pos:end="479:68">nb_codeblocks_width</name></name><operator pos:start="479:69" pos:end="479:69">)</operator>   <operator pos:start="479:73" pos:end="479:74">&lt;&lt;</operator> <name pos:start="479:76" pos:end="479:97"><name pos:start="479:76" pos:end="479:79">band</name><operator pos:start="479:80" pos:end="479:81">-&gt;</operator><name pos:start="479:82" pos:end="479:97">log2_cblk_height</name></name><operator pos:start="479:98" pos:end="479:98">)</operator></expr>;</expr_stmt>

                    <expr_stmt pos:start="481:21" pos:end="481:70"><expr pos:start="481:21" pos:end="481:69"><name pos:start="481:21" pos:end="481:37"><name pos:start="481:21" pos:end="481:24">cblk</name><operator pos:start="481:25" pos:end="481:26">-&gt;</operator><name pos:start="481:27" pos:end="481:31">coord</name><index pos:start="481:32" pos:end="481:34">[<expr pos:start="481:33" pos:end="481:33"><literal type="number" pos:start="481:33" pos:end="481:33">1</literal></expr>]</index><index pos:start="481:35" pos:end="481:37">[<expr pos:start="481:36" pos:end="481:36"><literal type="number" pos:start="481:36" pos:end="481:36">0</literal></expr>]</index></name> <operator pos:start="481:39" pos:end="481:39">=</operator> <call pos:start="481:41" pos:end="481:69"><name pos:start="481:41" pos:end="481:45">FFMAX</name><argument_list pos:start="481:46" pos:end="481:69">(<argument pos:start="481:47" pos:end="481:49"><expr pos:start="481:47" pos:end="481:49"><name pos:start="481:47" pos:end="481:49">Cy0</name></expr></argument>, <argument pos:start="481:52" pos:end="481:68"><expr pos:start="481:52" pos:end="481:68"><name pos:start="481:52" pos:end="481:68"><name pos:start="481:52" pos:end="481:55">prec</name><operator pos:start="481:56" pos:end="481:57">-&gt;</operator><name pos:start="481:58" pos:end="481:62">coord</name><index pos:start="481:63" pos:end="481:65">[<expr pos:start="481:64" pos:end="481:64"><literal type="number" pos:start="481:64" pos:end="481:64">1</literal></expr>]</index><index pos:start="481:66" pos:end="481:68">[<expr pos:start="481:67" pos:end="481:67"><literal type="number" pos:start="481:67" pos:end="481:67">0</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



                    <comment type="block" pos:start="485:21" pos:end="485:37">/* Compute Cx1 */</comment>

                    <expr_stmt pos:start="487:21" pos:end="489:65"><expr pos:start="487:21" pos:end="489:64"><name pos:start="487:21" pos:end="487:37"><name pos:start="487:21" pos:end="487:24">cblk</name><operator pos:start="487:25" pos:end="487:26">-&gt;</operator><name pos:start="487:27" pos:end="487:31">coord</name><index pos:start="487:32" pos:end="487:34">[<expr pos:start="487:33" pos:end="487:33"><literal type="number" pos:start="487:33" pos:end="487:33">0</literal></expr>]</index><index pos:start="487:35" pos:end="487:37">[<expr pos:start="487:36" pos:end="487:36"><literal type="number" pos:start="487:36" pos:end="487:36">1</literal></expr>]</index></name> <operator pos:start="487:39" pos:end="487:39">=</operator> <call pos:start="487:41" pos:end="489:64"><name pos:start="487:41" pos:end="487:45">FFMIN</name><argument_list pos:start="487:46" pos:end="489:64">(<argument pos:start="487:47" pos:end="487:80"><expr pos:start="487:47" pos:end="487:80"><name pos:start="487:47" pos:end="487:49">Cx0</name> <operator pos:start="487:51" pos:end="487:51">+</operator> <operator pos:start="487:53" pos:end="487:53">(</operator><literal type="number" pos:start="487:54" pos:end="487:54">1</literal> <operator pos:start="487:56" pos:end="487:57">&lt;&lt;</operator> <name pos:start="487:59" pos:end="487:79"><name pos:start="487:59" pos:end="487:62">band</name><operator pos:start="487:63" pos:end="487:64">-&gt;</operator><name pos:start="487:65" pos:end="487:79">log2_cblk_width</name></name><operator pos:start="487:80" pos:end="487:80">)</operator></expr></argument>,

                                              <argument pos:start="489:47" pos:end="489:63"><expr pos:start="489:47" pos:end="489:63"><name pos:start="489:47" pos:end="489:63"><name pos:start="489:47" pos:end="489:50">prec</name><operator pos:start="489:51" pos:end="489:52">-&gt;</operator><name pos:start="489:53" pos:end="489:57">coord</name><index pos:start="489:58" pos:end="489:60">[<expr pos:start="489:59" pos:end="489:59"><literal type="number" pos:start="489:59" pos:end="489:59">0</literal></expr>]</index><index pos:start="489:61" pos:end="489:63">[<expr pos:start="489:62" pos:end="489:62"><literal type="number" pos:start="489:62" pos:end="489:62">1</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



                    <comment type="block" pos:start="493:21" pos:end="493:37">/* Compute Cy1 */</comment>

                    <expr_stmt pos:start="495:21" pos:end="497:65"><expr pos:start="495:21" pos:end="497:64"><name pos:start="495:21" pos:end="495:37"><name pos:start="495:21" pos:end="495:24">cblk</name><operator pos:start="495:25" pos:end="495:26">-&gt;</operator><name pos:start="495:27" pos:end="495:31">coord</name><index pos:start="495:32" pos:end="495:34">[<expr pos:start="495:33" pos:end="495:33"><literal type="number" pos:start="495:33" pos:end="495:33">1</literal></expr>]</index><index pos:start="495:35" pos:end="495:37">[<expr pos:start="495:36" pos:end="495:36"><literal type="number" pos:start="495:36" pos:end="495:36">1</literal></expr>]</index></name> <operator pos:start="495:39" pos:end="495:39">=</operator> <call pos:start="495:41" pos:end="497:64"><name pos:start="495:41" pos:end="495:45">FFMIN</name><argument_list pos:start="495:46" pos:end="497:64">(<argument pos:start="495:47" pos:end="495:81"><expr pos:start="495:47" pos:end="495:81"><name pos:start="495:47" pos:end="495:49">Cy0</name> <operator pos:start="495:51" pos:end="495:51">+</operator> <operator pos:start="495:53" pos:end="495:53">(</operator><literal type="number" pos:start="495:54" pos:end="495:54">1</literal> <operator pos:start="495:56" pos:end="495:57">&lt;&lt;</operator> <name pos:start="495:59" pos:end="495:80"><name pos:start="495:59" pos:end="495:62">band</name><operator pos:start="495:63" pos:end="495:64">-&gt;</operator><name pos:start="495:65" pos:end="495:80">log2_cblk_height</name></name><operator pos:start="495:81" pos:end="495:81">)</operator></expr></argument>,

                                              <argument pos:start="497:47" pos:end="497:63"><expr pos:start="497:47" pos:end="497:63"><name pos:start="497:47" pos:end="497:63"><name pos:start="497:47" pos:end="497:50">prec</name><operator pos:start="497:51" pos:end="497:52">-&gt;</operator><name pos:start="497:53" pos:end="497:57">coord</name><index pos:start="497:58" pos:end="497:60">[<expr pos:start="497:59" pos:end="497:59"><literal type="number" pos:start="497:59" pos:end="497:59">1</literal></expr>]</index><index pos:start="497:61" pos:end="497:63">[<expr pos:start="497:62" pos:end="497:62"><literal type="number" pos:start="497:62" pos:end="497:62">1</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="499:21" pos:end="499:40"><expr pos:start="499:21" pos:end="499:39"><name pos:start="499:21" pos:end="499:30"><name pos:start="499:21" pos:end="499:24">cblk</name><operator pos:start="499:25" pos:end="499:26">-&gt;</operator><name pos:start="499:27" pos:end="499:30">zero</name></name>      <operator pos:start="499:37" pos:end="499:37">=</operator> <literal type="number" pos:start="499:39" pos:end="499:39">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="501:21" pos:end="501:40"><expr pos:start="501:21" pos:end="501:39"><name pos:start="501:21" pos:end="501:32"><name pos:start="501:21" pos:end="501:24">cblk</name><operator pos:start="501:25" pos:end="501:26">-&gt;</operator><name pos:start="501:27" pos:end="501:32">lblock</name></name>    <operator pos:start="501:37" pos:end="501:37">=</operator> <literal type="number" pos:start="501:39" pos:end="501:39">3</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="503:21" pos:end="503:40"><expr pos:start="503:21" pos:end="503:39"><name pos:start="503:21" pos:end="503:32"><name pos:start="503:21" pos:end="503:24">cblk</name><operator pos:start="503:25" pos:end="503:26">-&gt;</operator><name pos:start="503:27" pos:end="503:32">length</name></name>    <operator pos:start="503:37" pos:end="503:37">=</operator> <literal type="number" pos:start="503:39" pos:end="503:39">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="505:21" pos:end="505:40"><expr pos:start="505:21" pos:end="505:39"><name pos:start="505:21" pos:end="505:35"><name pos:start="505:21" pos:end="505:24">cblk</name><operator pos:start="505:25" pos:end="505:26">-&gt;</operator><name pos:start="505:27" pos:end="505:35">lengthinc</name></name> <operator pos:start="505:37" pos:end="505:37">=</operator> <literal type="number" pos:start="505:39" pos:end="505:39">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="507:21" pos:end="507:40"><expr pos:start="507:21" pos:end="507:39"><name pos:start="507:21" pos:end="507:33"><name pos:start="507:21" pos:end="507:24">cblk</name><operator pos:start="507:25" pos:end="507:26">-&gt;</operator><name pos:start="507:27" pos:end="507:33">npasses</name></name>   <operator pos:start="507:37" pos:end="507:37">=</operator> <literal type="number" pos:start="507:39" pos:end="507:39">0</literal></expr>;</expr_stmt>

                </block_content>}</block></for>

            </block_content>}</block></for>

        </block_content>}</block></for>

    </block_content>}</block></for>

    <return pos:start="517:5" pos:end="517:13">return <expr pos:start="517:12" pos:end="517:12"><literal type="number" pos:start="517:12" pos:end="517:12">0</literal></expr>;</return>

</block_content>}</block></function>
</unit>
