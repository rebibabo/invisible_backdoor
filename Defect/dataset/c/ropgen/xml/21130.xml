<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/21130.c" pos:tabs="8"><function pos:start="1:1" pos:end="509:1"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:21">filter_mb</name><parameter_list pos:start="1:22" pos:end="1:156">( <parameter pos:start="1:24" pos:end="1:37"><decl pos:start="1:24" pos:end="1:37"><type pos:start="1:24" pos:end="1:37"><name pos:start="1:24" pos:end="1:34">H264Context</name> <modifier pos:start="1:36" pos:end="1:36">*</modifier></type><name pos:start="1:37" pos:end="1:37">h</name></decl></parameter>, <parameter pos:start="1:40" pos:end="1:47"><decl pos:start="1:40" pos:end="1:47"><type pos:start="1:40" pos:end="1:47"><name pos:start="1:40" pos:end="1:42">int</name></type> <name pos:start="1:44" pos:end="1:47">mb_x</name></decl></parameter>, <parameter pos:start="1:50" pos:end="1:57"><decl pos:start="1:50" pos:end="1:57"><type pos:start="1:50" pos:end="1:57"><name pos:start="1:50" pos:end="1:52">int</name></type> <name pos:start="1:54" pos:end="1:57">mb_y</name></decl></parameter>, <parameter pos:start="1:60" pos:end="1:73"><decl pos:start="1:60" pos:end="1:73"><type pos:start="1:60" pos:end="1:73"><name pos:start="1:60" pos:end="1:66">uint8_t</name> <modifier pos:start="1:68" pos:end="1:68">*</modifier></type><name pos:start="1:69" pos:end="1:73">img_y</name></decl></parameter>, <parameter pos:start="1:76" pos:end="1:90"><decl pos:start="1:76" pos:end="1:90"><type pos:start="1:76" pos:end="1:90"><name pos:start="1:76" pos:end="1:82">uint8_t</name> <modifier pos:start="1:84" pos:end="1:84">*</modifier></type><name pos:start="1:85" pos:end="1:90">img_cb</name></decl></parameter>, <parameter pos:start="1:93" pos:end="1:107"><decl pos:start="1:93" pos:end="1:107"><type pos:start="1:93" pos:end="1:107"><name pos:start="1:93" pos:end="1:99">uint8_t</name> <modifier pos:start="1:101" pos:end="1:101">*</modifier></type><name pos:start="1:102" pos:end="1:107">img_cr</name></decl></parameter>, <parameter pos:start="1:110" pos:end="1:130"><decl pos:start="1:110" pos:end="1:130"><type pos:start="1:110" pos:end="1:130"><name pos:start="1:110" pos:end="1:117">unsigned</name> <name pos:start="1:119" pos:end="1:121">int</name></type> <name pos:start="1:123" pos:end="1:130">linesize</name></decl></parameter>, <parameter pos:start="1:133" pos:end="1:155"><decl pos:start="1:133" pos:end="1:155"><type pos:start="1:133" pos:end="1:155"><name pos:start="1:133" pos:end="1:140">unsigned</name> <name pos:start="1:142" pos:end="1:144">int</name></type> <name pos:start="1:146" pos:end="1:155">uvlinesize</name></decl></parameter>)</parameter_list> <block pos:start="1:158" pos:end="509:1">{<block_content pos:start="3:5" pos:end="507:5">

    <decl_stmt pos:start="3:5" pos:end="3:37"><decl pos:start="3:5" pos:end="3:36"><type pos:start="3:5" pos:end="3:26"><name pos:start="3:5" pos:end="3:18">MpegEncContext</name> <modifier pos:start="3:20" pos:end="3:20">*</modifier> <specifier pos:start="3:22" pos:end="3:26">const</specifier></type> <name pos:start="3:28" pos:end="3:28">s</name> <init pos:start="3:30" pos:end="3:36">= <expr pos:start="3:32" pos:end="3:36"><operator pos:start="3:32" pos:end="3:32">&amp;</operator><name pos:start="3:33" pos:end="3:36"><name pos:start="3:33" pos:end="3:33">h</name><operator pos:start="3:34" pos:end="3:35">-&gt;</operator><name pos:start="3:36" pos:end="3:36">s</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="5:5" pos:end="5:46"><decl pos:start="5:5" pos:end="5:45"><type pos:start="5:5" pos:end="5:13"><specifier pos:start="5:5" pos:end="5:9">const</specifier> <name pos:start="5:11" pos:end="5:13">int</name></type> <name pos:start="5:15" pos:end="5:19">mb_xy</name><init pos:start="5:20" pos:end="5:45">= <expr pos:start="5:22" pos:end="5:45"><name pos:start="5:22" pos:end="5:25">mb_x</name> <operator pos:start="5:27" pos:end="5:27">+</operator> <name pos:start="5:29" pos:end="5:32">mb_y</name><operator pos:start="5:33" pos:end="5:33">*</operator><name pos:start="5:34" pos:end="5:45"><name pos:start="5:34" pos:end="5:34">s</name><operator pos:start="5:35" pos:end="5:36">-&gt;</operator><name pos:start="5:37" pos:end="5:45">mb_stride</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:58"><decl pos:start="7:5" pos:end="7:57"><type pos:start="7:5" pos:end="7:13"><specifier pos:start="7:5" pos:end="7:9">const</specifier> <name pos:start="7:11" pos:end="7:13">int</name></type> <name pos:start="7:15" pos:end="7:21">mb_type</name> <init pos:start="7:23" pos:end="7:57">= <expr pos:start="7:25" pos:end="7:57"><name pos:start="7:25" pos:end="7:57"><name pos:start="7:25" pos:end="7:25">s</name><operator pos:start="7:26" pos:end="7:27">-&gt;</operator><name pos:start="7:28" pos:end="7:42">current_picture</name><operator pos:start="7:43" pos:end="7:43">.</operator><name pos:start="7:44" pos:end="7:50">mb_type</name><index pos:start="7:51" pos:end="7:57">[<expr pos:start="7:52" pos:end="7:56"><name pos:start="7:52" pos:end="7:56">mb_xy</name></expr>]</index></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:57"><decl pos:start="9:5" pos:end="9:56"><type pos:start="9:5" pos:end="9:13"><specifier pos:start="9:5" pos:end="9:9">const</specifier> <name pos:start="9:11" pos:end="9:13">int</name></type> <name pos:start="9:15" pos:end="9:23">mvy_limit</name> <init pos:start="9:25" pos:end="9:56">= <expr pos:start="9:27" pos:end="9:56"><ternary pos:start="9:27" pos:end="9:56"><condition pos:start="9:27" pos:end="9:50"><expr pos:start="9:27" pos:end="9:48"><call pos:start="9:27" pos:end="9:48"><name pos:start="9:27" pos:end="9:39">IS_INTERLACED</name><argument_list pos:start="9:40" pos:end="9:48">(<argument pos:start="9:41" pos:end="9:47"><expr pos:start="9:41" pos:end="9:47"><name pos:start="9:41" pos:end="9:47">mb_type</name></expr></argument>)</argument_list></call></expr> ?</condition><then pos:start="9:52" pos:end="9:52"> <expr pos:start="9:52" pos:end="9:52"><literal type="number" pos:start="9:52" pos:end="9:52">2</literal></expr> </then><else pos:start="9:54" pos:end="9:56">: <expr pos:start="9:56" pos:end="9:56"><literal type="number" pos:start="9:56" pos:end="9:56">4</literal></expr></else></ternary></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:37"><decl pos:start="11:5" pos:end="11:36"><type pos:start="11:5" pos:end="11:7"><name pos:start="11:5" pos:end="11:7">int</name></type> <name pos:start="11:9" pos:end="11:32">first_vertical_edge_done</name> <init pos:start="11:34" pos:end="11:36">= <expr pos:start="11:36" pos:end="11:36"><literal type="number" pos:start="11:36" pos:end="11:36">0</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:12"><decl pos:start="13:5" pos:end="13:11"><type pos:start="13:5" pos:end="13:7"><name pos:start="13:5" pos:end="13:7">int</name></type> <name pos:start="13:9" pos:end="13:11">dir</name></decl>;</decl_stmt>

    <comment type="block" pos:start="15:5" pos:end="19:37">/* FIXME: A given frame may occupy more than one position in

     * the reference list. So ref2frm should be populated with

     * frame numbers, not indices. */</comment>

    <decl_stmt pos:start="21:5" pos:end="23:85"><decl pos:start="21:5" pos:end="23:84"><type pos:start="21:5" pos:end="21:20"><specifier pos:start="21:5" pos:end="21:10">static</specifier> <specifier pos:start="21:12" pos:end="21:16">const</specifier> <name pos:start="21:18" pos:end="21:20">int</name></type> <name pos:start="21:22" pos:end="21:32"><name pos:start="21:22" pos:end="21:28">ref2frm</name><index pos:start="21:29" pos:end="21:32">[<expr pos:start="21:30" pos:end="21:31"><literal type="number" pos:start="21:30" pos:end="21:31">34</literal></expr>]</index></name> <init pos:start="21:34" pos:end="23:84">= <expr pos:start="21:36" pos:end="23:84"><block pos:start="21:36" pos:end="23:84">{<expr pos:start="21:37" pos:end="21:38"><operator pos:start="21:37" pos:end="21:37">-</operator><literal type="number" pos:start="21:38" pos:end="21:38">1</literal></expr>,<expr pos:start="21:40" pos:end="21:41"><operator pos:start="21:40" pos:end="21:40">-</operator><literal type="number" pos:start="21:41" pos:end="21:41">1</literal></expr>,<expr pos:start="21:43" pos:end="21:43"><literal type="number" pos:start="21:43" pos:end="21:43">0</literal></expr>,<expr pos:start="21:45" pos:end="21:45"><literal type="number" pos:start="21:45" pos:end="21:45">1</literal></expr>,<expr pos:start="21:47" pos:end="21:47"><literal type="number" pos:start="21:47" pos:end="21:47">2</literal></expr>,<expr pos:start="21:49" pos:end="21:49"><literal type="number" pos:start="21:49" pos:end="21:49">3</literal></expr>,<expr pos:start="21:51" pos:end="21:51"><literal type="number" pos:start="21:51" pos:end="21:51">4</literal></expr>,<expr pos:start="21:53" pos:end="21:53"><literal type="number" pos:start="21:53" pos:end="21:53">5</literal></expr>,<expr pos:start="21:55" pos:end="21:55"><literal type="number" pos:start="21:55" pos:end="21:55">6</literal></expr>,<expr pos:start="21:57" pos:end="21:57"><literal type="number" pos:start="21:57" pos:end="21:57">7</literal></expr>,<expr pos:start="21:59" pos:end="21:59"><literal type="number" pos:start="21:59" pos:end="21:59">8</literal></expr>,<expr pos:start="21:61" pos:end="21:61"><literal type="number" pos:start="21:61" pos:end="21:61">9</literal></expr>,<expr pos:start="21:63" pos:end="21:64"><literal type="number" pos:start="21:63" pos:end="21:64">10</literal></expr>,<expr pos:start="21:66" pos:end="21:67"><literal type="number" pos:start="21:66" pos:end="21:67">11</literal></expr>,<expr pos:start="21:69" pos:end="21:70"><literal type="number" pos:start="21:69" pos:end="21:70">12</literal></expr>,<expr pos:start="21:72" pos:end="21:73"><literal type="number" pos:start="21:72" pos:end="21:73">13</literal></expr>,<expr pos:start="21:75" pos:end="21:76"><literal type="number" pos:start="21:75" pos:end="21:76">14</literal></expr>,<expr pos:start="21:78" pos:end="21:79"><literal type="number" pos:start="21:78" pos:end="21:79">15</literal></expr>,

                                    <expr pos:start="23:37" pos:end="23:38"><literal type="number" pos:start="23:37" pos:end="23:38">16</literal></expr>,<expr pos:start="23:40" pos:end="23:41"><literal type="number" pos:start="23:40" pos:end="23:41">17</literal></expr>,<expr pos:start="23:43" pos:end="23:44"><literal type="number" pos:start="23:43" pos:end="23:44">18</literal></expr>,<expr pos:start="23:46" pos:end="23:47"><literal type="number" pos:start="23:46" pos:end="23:47">19</literal></expr>,<expr pos:start="23:49" pos:end="23:50"><literal type="number" pos:start="23:49" pos:end="23:50">20</literal></expr>,<expr pos:start="23:52" pos:end="23:53"><literal type="number" pos:start="23:52" pos:end="23:53">21</literal></expr>,<expr pos:start="23:55" pos:end="23:56"><literal type="number" pos:start="23:55" pos:end="23:56">22</literal></expr>,<expr pos:start="23:58" pos:end="23:59"><literal type="number" pos:start="23:58" pos:end="23:59">23</literal></expr>,<expr pos:start="23:61" pos:end="23:62"><literal type="number" pos:start="23:61" pos:end="23:62">24</literal></expr>,<expr pos:start="23:64" pos:end="23:65"><literal type="number" pos:start="23:64" pos:end="23:65">25</literal></expr>,<expr pos:start="23:67" pos:end="23:68"><literal type="number" pos:start="23:67" pos:end="23:68">26</literal></expr>,<expr pos:start="23:70" pos:end="23:71"><literal type="number" pos:start="23:70" pos:end="23:71">27</literal></expr>,<expr pos:start="23:73" pos:end="23:74"><literal type="number" pos:start="23:73" pos:end="23:74">28</literal></expr>,<expr pos:start="23:76" pos:end="23:77"><literal type="number" pos:start="23:76" pos:end="23:77">29</literal></expr>,<expr pos:start="23:79" pos:end="23:80"><literal type="number" pos:start="23:79" pos:end="23:80">30</literal></expr>,<expr pos:start="23:82" pos:end="23:83"><literal type="number" pos:start="23:82" pos:end="23:83">31</literal></expr>}</block></expr></init></decl>;</decl_stmt>



    <comment type="line" pos:start="27:5" pos:end="27:61">//for sufficiently low qp, filtering wouldn't do anything</comment>

    <comment type="line" pos:start="29:5" pos:end="29:95">//this is a conservative estimate: could also check beta_offset and more accurate chroma_qp</comment>

    <if_stmt pos:start="31:5" pos:end="47:5"><if pos:start="31:5" pos:end="47:5">if<condition pos:start="31:7" pos:end="31:20">(<expr pos:start="31:8" pos:end="31:19"><operator pos:start="31:8" pos:end="31:8">!</operator><name pos:start="31:9" pos:end="31:19">FRAME_MBAFF</name></expr>)</condition><block pos:start="31:21" pos:end="47:5">{<block_content pos:start="33:9" pos:end="45:9">

        <decl_stmt pos:start="33:9" pos:end="33:96"><decl pos:start="33:9" pos:end="33:95"><type pos:start="33:9" pos:end="33:11"><name pos:start="33:9" pos:end="33:11">int</name></type> <name pos:start="33:13" pos:end="33:21">qp_thresh</name> <init pos:start="33:23" pos:end="33:95">= <expr pos:start="33:25" pos:end="33:95"><literal type="number" pos:start="33:25" pos:end="33:28">15</literal> <operator pos:start="33:28" pos:end="33:28">-</operator> <name pos:start="33:30" pos:end="33:53"><name pos:start="33:30" pos:end="33:30">h</name><operator pos:start="33:31" pos:end="33:32">-&gt;</operator><name pos:start="33:33" pos:end="33:53">slice_alpha_c0_offset</name></name> <operator pos:start="33:55" pos:end="33:55">-</operator> <call pos:start="33:57" pos:end="33:95"><name pos:start="33:57" pos:end="33:61">FFMAX</name><argument_list pos:start="33:62" pos:end="33:95">(<argument pos:start="33:63" pos:end="33:63"><expr pos:start="33:63" pos:end="33:63"><literal type="number" pos:start="33:63" pos:end="33:63">0</literal></expr></argument>, <argument pos:start="33:66" pos:end="33:94"><expr pos:start="33:66" pos:end="33:94"><name pos:start="33:66" pos:end="33:94"><name pos:start="33:66" pos:end="33:66">h</name><operator pos:start="33:67" pos:end="33:68">-&gt;</operator><name pos:start="33:69" pos:end="33:71">pps</name><operator pos:start="33:72" pos:end="33:72">.</operator><name pos:start="33:73" pos:end="33:94">chroma_qp_index_offset</name></name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

        <decl_stmt pos:start="35:9" pos:end="35:56"><decl pos:start="35:9" pos:end="35:55"><type pos:start="35:9" pos:end="35:11"><name pos:start="35:9" pos:end="35:11">int</name></type> <name pos:start="35:13" pos:end="35:14">qp</name> <init pos:start="35:16" pos:end="35:55">= <expr pos:start="35:18" pos:end="35:55"><name pos:start="35:18" pos:end="35:55"><name pos:start="35:18" pos:end="35:18">s</name><operator pos:start="35:19" pos:end="35:20">-&gt;</operator><name pos:start="35:21" pos:end="35:35">current_picture</name><operator pos:start="35:36" pos:end="35:36">.</operator><name pos:start="35:37" pos:end="35:48">qscale_table</name><index pos:start="35:49" pos:end="35:55">[<expr pos:start="35:50" pos:end="35:54"><name pos:start="35:50" pos:end="35:54">mb_xy</name></expr>]</index></name></expr></init></decl>;</decl_stmt>

        <if_stmt pos:start="37:9" pos:end="45:9"><if pos:start="37:9" pos:end="45:9">if<condition pos:start="37:11" pos:end="41:104">(<expr pos:start="37:12" pos:end="41:103"><name pos:start="37:12" pos:end="37:13">qp</name> <operator pos:start="37:15" pos:end="37:16">&lt;=</operator> <name pos:start="37:18" pos:end="37:26">qp_thresh</name>

           <operator pos:start="39:12" pos:end="39:13">&amp;&amp;</operator> <operator pos:start="39:15" pos:end="39:15">(</operator><name pos:start="39:16" pos:end="39:19">mb_x</name> <operator pos:start="39:21" pos:end="39:22">==</operator> <literal type="number" pos:start="39:24" pos:end="39:24">0</literal> <operator pos:start="39:26" pos:end="39:27">||</operator> <operator pos:start="39:29" pos:end="39:29">(</operator><operator pos:start="39:30" pos:end="39:30">(</operator><name pos:start="39:31" pos:end="39:32">qp</name> <operator pos:start="39:34" pos:end="39:34">+</operator> <name pos:start="39:36" pos:end="39:75"><name pos:start="39:36" pos:end="39:36">s</name><operator pos:start="39:37" pos:end="39:38">-&gt;</operator><name pos:start="39:39" pos:end="39:53">current_picture</name><operator pos:start="39:54" pos:end="39:54">.</operator><name pos:start="39:55" pos:end="39:66">qscale_table</name><index pos:start="39:67" pos:end="39:75">[<expr pos:start="39:68" pos:end="39:74"><name pos:start="39:68" pos:end="39:72">mb_xy</name><operator pos:start="39:73" pos:end="39:73">-</operator><literal type="number" pos:start="39:74" pos:end="39:74">1</literal></expr>]</index></name> <operator pos:start="39:77" pos:end="39:77">+</operator> <literal type="number" pos:start="39:79" pos:end="39:79">1</literal><operator pos:start="39:80" pos:end="39:80">)</operator><operator pos:start="39:81" pos:end="39:82">&gt;&gt;</operator><literal type="number" pos:start="39:83" pos:end="39:83">1</literal><operator pos:start="39:84" pos:end="39:84">)</operator> <operator pos:start="39:86" pos:end="39:87">&lt;=</operator> <name pos:start="39:89" pos:end="39:97">qp_thresh</name><operator pos:start="39:98" pos:end="39:98">)</operator>

           <operator pos:start="41:12" pos:end="41:13">&amp;&amp;</operator> <operator pos:start="41:15" pos:end="41:15">(</operator><name pos:start="41:16" pos:end="41:19">mb_y</name> <operator pos:start="41:21" pos:end="41:22">==</operator> <literal type="number" pos:start="41:24" pos:end="41:24">0</literal> <operator pos:start="41:26" pos:end="41:27">||</operator> <operator pos:start="41:29" pos:end="41:29">(</operator><operator pos:start="41:30" pos:end="41:30">(</operator><name pos:start="41:31" pos:end="41:32">qp</name> <operator pos:start="41:34" pos:end="41:34">+</operator> <name pos:start="41:36" pos:end="41:80"><name pos:start="41:36" pos:end="41:36">s</name><operator pos:start="41:37" pos:end="41:38">-&gt;</operator><name pos:start="41:39" pos:end="41:53">current_picture</name><operator pos:start="41:54" pos:end="41:54">.</operator><name pos:start="41:55" pos:end="41:66">qscale_table</name><index pos:start="41:67" pos:end="41:80">[<expr pos:start="41:68" pos:end="41:79"><name pos:start="41:68" pos:end="41:79"><name pos:start="41:68" pos:end="41:68">h</name><operator pos:start="41:69" pos:end="41:70">-&gt;</operator><name pos:start="41:71" pos:end="41:79">top_mb_xy</name></name></expr>]</index></name> <operator pos:start="41:82" pos:end="41:82">+</operator> <literal type="number" pos:start="41:84" pos:end="41:84">1</literal><operator pos:start="41:85" pos:end="41:85">)</operator><operator pos:start="41:86" pos:end="41:87">&gt;&gt;</operator><literal type="number" pos:start="41:88" pos:end="41:88">1</literal><operator pos:start="41:89" pos:end="41:89">)</operator> <operator pos:start="41:91" pos:end="41:92">&lt;=</operator> <name pos:start="41:94" pos:end="41:102">qp_thresh</name><operator pos:start="41:103" pos:end="41:103">)</operator></expr>)</condition><block pos:start="41:105" pos:end="45:9">{<block_content pos:start="43:13" pos:end="43:19">

            <return pos:start="43:13" pos:end="43:19">return;</return>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="51:5" pos:end="155:5"><if pos:start="51:5" pos:end="155:5">if <condition pos:start="51:8" pos:end="63:93">(<expr pos:start="51:9" pos:end="63:92"><name pos:start="51:9" pos:end="51:19">FRAME_MBAFF</name>

            <comment type="line" pos:start="53:13" pos:end="53:36">// left mb is in picture</comment>

            <operator pos:start="55:13" pos:end="55:14">&amp;&amp;</operator> <name pos:start="55:16" pos:end="55:38"><name pos:start="55:16" pos:end="55:16">h</name><operator pos:start="55:17" pos:end="55:18">-&gt;</operator><name pos:start="55:19" pos:end="55:29">slice_table</name><index pos:start="55:30" pos:end="55:38">[<expr pos:start="55:31" pos:end="55:37"><name pos:start="55:31" pos:end="55:35">mb_xy</name><operator pos:start="55:36" pos:end="55:36">-</operator><literal type="number" pos:start="55:37" pos:end="55:37">1</literal></expr>]</index></name> <operator pos:start="55:40" pos:end="55:41">!=</operator> <literal type="number" pos:start="55:43" pos:end="55:45">255</literal>

            <comment type="line" pos:start="57:13" pos:end="57:77">// and current and left pair do not have the same interlaced type</comment>

            <operator pos:start="59:13" pos:end="59:14">&amp;&amp;</operator> <operator pos:start="59:16" pos:end="59:16">(</operator><call pos:start="59:17" pos:end="59:38"><name pos:start="59:17" pos:end="59:29">IS_INTERLACED</name><argument_list pos:start="59:30" pos:end="59:38">(<argument pos:start="59:31" pos:end="59:37"><expr pos:start="59:31" pos:end="59:37"><name pos:start="59:31" pos:end="59:37">mb_type</name></expr></argument>)</argument_list></call> <operator pos:start="59:40" pos:end="59:41">!=</operator> <call pos:start="59:43" pos:end="59:92"><name pos:start="59:43" pos:end="59:55">IS_INTERLACED</name><argument_list pos:start="59:56" pos:end="59:92">(<argument pos:start="59:57" pos:end="59:91"><expr pos:start="59:57" pos:end="59:91"><name pos:start="59:57" pos:end="59:91"><name pos:start="59:57" pos:end="59:57">s</name><operator pos:start="59:58" pos:end="59:59">-&gt;</operator><name pos:start="59:60" pos:end="59:74">current_picture</name><operator pos:start="59:75" pos:end="59:75">.</operator><name pos:start="59:76" pos:end="59:82">mb_type</name><index pos:start="59:83" pos:end="59:91">[<expr pos:start="59:84" pos:end="59:90"><name pos:start="59:84" pos:end="59:88">mb_xy</name><operator pos:start="59:89" pos:end="59:89">-</operator><literal type="number" pos:start="59:90" pos:end="59:90">1</literal></expr>]</index></name></expr></argument>)</argument_list></call><operator pos:start="59:93" pos:end="59:93">)</operator>

            <comment type="line" pos:start="61:13" pos:end="61:73">// and left mb is in the same slice if deblocking_filter == 2</comment>

            <operator pos:start="63:13" pos:end="63:14">&amp;&amp;</operator> <operator pos:start="63:16" pos:end="63:16">(</operator><name pos:start="63:17" pos:end="63:36"><name pos:start="63:17" pos:end="63:17">h</name><operator pos:start="63:18" pos:end="63:19">-&gt;</operator><name pos:start="63:20" pos:end="63:36">deblocking_filter</name></name><operator pos:start="63:37" pos:end="63:38">!=</operator><literal type="number" pos:start="63:39" pos:end="63:39">2</literal> <operator pos:start="63:41" pos:end="63:42">||</operator> <name pos:start="63:44" pos:end="63:66"><name pos:start="63:44" pos:end="63:44">h</name><operator pos:start="63:45" pos:end="63:46">-&gt;</operator><name pos:start="63:47" pos:end="63:57">slice_table</name><index pos:start="63:58" pos:end="63:66">[<expr pos:start="63:59" pos:end="63:65"><name pos:start="63:59" pos:end="63:63">mb_xy</name><operator pos:start="63:64" pos:end="63:64">-</operator><literal type="number" pos:start="63:65" pos:end="63:65">1</literal></expr>]</index></name> <operator pos:start="63:68" pos:end="63:69">==</operator> <name pos:start="63:71" pos:end="63:91"><name pos:start="63:71" pos:end="63:71">h</name><operator pos:start="63:72" pos:end="63:73">-&gt;</operator><name pos:start="63:74" pos:end="63:84">slice_table</name><index pos:start="63:85" pos:end="63:91">[<expr pos:start="63:86" pos:end="63:90"><name pos:start="63:86" pos:end="63:90">mb_xy</name></expr>]</index></name><operator pos:start="63:92" pos:end="63:92">)</operator></expr>)</condition> <block pos:start="63:95" pos:end="155:5">{<block_content pos:start="71:9" pos:end="153:75">

        <comment type="block" pos:start="65:9" pos:end="69:11">/* First vertical edge is different in MBAFF frames

         * There are 8 different bS to compute and 2 different Qp

         */</comment>

        <decl_stmt pos:start="71:9" pos:end="71:58"><decl pos:start="71:9" pos:end="71:57"><type pos:start="71:9" pos:end="71:17"><specifier pos:start="71:9" pos:end="71:13">const</specifier> <name pos:start="71:15" pos:end="71:17">int</name></type> <name pos:start="71:19" pos:end="71:25">pair_xy</name> <init pos:start="71:27" pos:end="71:57">= <expr pos:start="71:29" pos:end="71:57"><name pos:start="71:29" pos:end="71:32">mb_x</name> <operator pos:start="71:34" pos:end="71:34">+</operator> <operator pos:start="71:36" pos:end="71:36">(</operator><name pos:start="71:37" pos:end="71:40">mb_y</name><operator pos:start="71:41" pos:end="71:41">&amp;</operator><operator pos:start="71:42" pos:end="71:42">~</operator><literal type="number" pos:start="71:43" pos:end="71:43">1</literal><operator pos:start="71:44" pos:end="71:44">)</operator><operator pos:start="71:45" pos:end="71:45">*</operator><name pos:start="71:46" pos:end="71:57"><name pos:start="71:46" pos:end="71:46">s</name><operator pos:start="71:47" pos:end="71:48">-&gt;</operator><name pos:start="71:49" pos:end="71:57">mb_stride</name></name></expr></init></decl>;</decl_stmt>

        <decl_stmt pos:start="73:9" pos:end="73:72"><decl pos:start="73:9" pos:end="73:71"><type pos:start="73:9" pos:end="73:17"><specifier pos:start="73:9" pos:end="73:13">const</specifier> <name pos:start="73:15" pos:end="73:17">int</name></type> <name pos:start="73:19" pos:end="73:31"><name pos:start="73:19" pos:end="73:28">left_mb_xy</name><index pos:start="73:29" pos:end="73:31">[<expr pos:start="73:30" pos:end="73:30"><literal type="number" pos:start="73:30" pos:end="73:30">2</literal></expr>]</index></name> <init pos:start="73:33" pos:end="73:71">= <expr pos:start="73:35" pos:end="73:71"><block pos:start="73:35" pos:end="73:71">{ <expr pos:start="73:37" pos:end="73:45"><name pos:start="73:37" pos:end="73:43">pair_xy</name><operator pos:start="73:44" pos:end="73:44">-</operator><literal type="number" pos:start="73:45" pos:end="73:45">1</literal></expr>, <expr pos:start="73:48" pos:end="73:69"><name pos:start="73:48" pos:end="73:54">pair_xy</name><operator pos:start="73:55" pos:end="73:55">-</operator><literal type="number" pos:start="73:56" pos:end="73:57">1</literal><operator pos:start="73:57" pos:end="73:57">+</operator><name pos:start="73:58" pos:end="73:69"><name pos:start="73:58" pos:end="73:58">s</name><operator pos:start="73:59" pos:end="73:60">-&gt;</operator><name pos:start="73:61" pos:end="73:69">mb_stride</name></name></expr> }</block></expr></init></decl>;</decl_stmt>

        <decl_stmt pos:start="75:9" pos:end="75:22"><decl pos:start="75:9" pos:end="75:21"><type pos:start="75:9" pos:end="75:15"><name pos:start="75:9" pos:end="75:15">int16_t</name></type> <name pos:start="75:17" pos:end="75:21"><name pos:start="75:17" pos:end="75:18">bS</name><index pos:start="75:19" pos:end="75:21">[<expr pos:start="75:20" pos:end="75:20"><literal type="number" pos:start="75:20" pos:end="75:20">8</literal></expr>]</index></name></decl>;</decl_stmt>

        <decl_stmt pos:start="77:9" pos:end="77:18"><decl pos:start="77:9" pos:end="77:17"><type pos:start="77:9" pos:end="77:11"><name pos:start="77:9" pos:end="77:11">int</name></type> <name pos:start="77:13" pos:end="77:17"><name pos:start="77:13" pos:end="77:14">qp</name><index pos:start="77:15" pos:end="77:17">[<expr pos:start="77:16" pos:end="77:16"><literal type="number" pos:start="77:16" pos:end="77:16">2</literal></expr>]</index></name></decl>;</decl_stmt>

        <decl_stmt pos:start="79:9" pos:end="79:25"><decl pos:start="79:9" pos:end="79:24"><type pos:start="79:9" pos:end="79:11"><name pos:start="79:9" pos:end="79:11">int</name></type> <name pos:start="79:13" pos:end="79:24"><name pos:start="79:13" pos:end="79:21">chroma_qp</name><index pos:start="79:22" pos:end="79:24">[<expr pos:start="79:23" pos:end="79:23"><literal type="number" pos:start="79:23" pos:end="79:23">2</literal></expr>]</index></name></decl>;</decl_stmt>

        <decl_stmt pos:start="81:9" pos:end="81:36"><decl pos:start="81:9" pos:end="81:17"><type pos:start="81:9" pos:end="81:11"><name pos:start="81:9" pos:end="81:11">int</name></type> <name pos:start="81:13" pos:end="81:17">mb_qp</name></decl>, <decl pos:start="81:20" pos:end="81:26"><type ref="prev" pos:start="81:9" pos:end="81:11"/><name pos:start="81:20" pos:end="81:26">mbn0_qp</name></decl>, <decl pos:start="81:29" pos:end="81:35"><type ref="prev" pos:start="81:9" pos:end="81:11"/><name pos:start="81:29" pos:end="81:35">mbn1_qp</name></decl>;</decl_stmt>

        <decl_stmt pos:start="83:9" pos:end="83:14"><decl pos:start="83:9" pos:end="83:13"><type pos:start="83:9" pos:end="83:11"><name pos:start="83:9" pos:end="83:11">int</name></type> <name pos:start="83:13" pos:end="83:13">i</name></decl>;</decl_stmt>

        <expr_stmt pos:start="85:9" pos:end="85:37"><expr pos:start="85:9" pos:end="85:36"><name pos:start="85:9" pos:end="85:32">first_vertical_edge_done</name> <operator pos:start="85:34" pos:end="85:34">=</operator> <literal type="number" pos:start="85:36" pos:end="85:36">1</literal></expr>;</expr_stmt>



        <if_stmt pos:start="89:9" pos:end="119:9"><if pos:start="89:9" pos:end="91:78">if<condition pos:start="89:11" pos:end="89:31">( <expr pos:start="89:13" pos:end="89:29"><call pos:start="89:13" pos:end="89:29"><name pos:start="89:13" pos:end="89:20">IS_INTRA</name><argument_list pos:start="89:21" pos:end="89:29">(<argument pos:start="89:22" pos:end="89:28"><expr pos:start="89:22" pos:end="89:28"><name pos:start="89:22" pos:end="89:28">mb_type</name></expr></argument>)</argument_list></call></expr> )</condition><block type="pseudo" pos:start="91:13" pos:end="91:78"><block_content pos:start="91:13" pos:end="91:78">

            <expr_stmt pos:start="91:13" pos:end="91:78"><expr pos:start="91:13" pos:end="91:77"><name pos:start="91:13" pos:end="91:17"><name pos:start="91:13" pos:end="91:14">bS</name><index pos:start="91:15" pos:end="91:17">[<expr pos:start="91:16" pos:end="91:16"><literal type="number" pos:start="91:16" pos:end="91:16">0</literal></expr>]</index></name> <operator pos:start="91:19" pos:end="91:19">=</operator> <name pos:start="91:21" pos:end="91:25"><name pos:start="91:21" pos:end="91:22">bS</name><index pos:start="91:23" pos:end="91:25">[<expr pos:start="91:24" pos:end="91:24"><literal type="number" pos:start="91:24" pos:end="91:24">1</literal></expr>]</index></name> <operator pos:start="91:27" pos:end="91:27">=</operator> <name pos:start="91:29" pos:end="91:33"><name pos:start="91:29" pos:end="91:30">bS</name><index pos:start="91:31" pos:end="91:33">[<expr pos:start="91:32" pos:end="91:32"><literal type="number" pos:start="91:32" pos:end="91:32">2</literal></expr>]</index></name> <operator pos:start="91:35" pos:end="91:35">=</operator> <name pos:start="91:37" pos:end="91:41"><name pos:start="91:37" pos:end="91:38">bS</name><index pos:start="91:39" pos:end="91:41">[<expr pos:start="91:40" pos:end="91:40"><literal type="number" pos:start="91:40" pos:end="91:40">3</literal></expr>]</index></name> <operator pos:start="91:43" pos:end="91:43">=</operator> <name pos:start="91:45" pos:end="91:49"><name pos:start="91:45" pos:end="91:46">bS</name><index pos:start="91:47" pos:end="91:49">[<expr pos:start="91:48" pos:end="91:48"><literal type="number" pos:start="91:48" pos:end="91:48">4</literal></expr>]</index></name> <operator pos:start="91:51" pos:end="91:51">=</operator> <name pos:start="91:53" pos:end="91:57"><name pos:start="91:53" pos:end="91:54">bS</name><index pos:start="91:55" pos:end="91:57">[<expr pos:start="91:56" pos:end="91:56"><literal type="number" pos:start="91:56" pos:end="91:56">5</literal></expr>]</index></name> <operator pos:start="91:59" pos:end="91:59">=</operator> <name pos:start="91:61" pos:end="91:65"><name pos:start="91:61" pos:end="91:62">bS</name><index pos:start="91:63" pos:end="91:65">[<expr pos:start="91:64" pos:end="91:64"><literal type="number" pos:start="91:64" pos:end="91:64">6</literal></expr>]</index></name> <operator pos:start="91:67" pos:end="91:67">=</operator> <name pos:start="91:69" pos:end="91:73"><name pos:start="91:69" pos:end="91:70">bS</name><index pos:start="91:71" pos:end="91:73">[<expr pos:start="91:72" pos:end="91:72"><literal type="number" pos:start="91:72" pos:end="91:72">7</literal></expr>]</index></name> <operator pos:start="91:75" pos:end="91:75">=</operator> <literal type="number" pos:start="91:77" pos:end="91:77">4</literal></expr>;</expr_stmt></block_content></block></if>

        <else pos:start="93:9" pos:end="119:9">else <block pos:start="93:14" pos:end="119:9">{<block_content pos:start="95:13" pos:end="117:13">

            <for pos:start="95:13" pos:end="117:13">for<control pos:start="95:16" pos:end="95:36">( <init pos:start="95:18" pos:end="95:23"><expr pos:start="95:18" pos:end="95:22"><name pos:start="95:18" pos:end="95:18">i</name> <operator pos:start="95:20" pos:end="95:20">=</operator> <literal type="number" pos:start="95:22" pos:end="95:22">0</literal></expr>;</init> <condition pos:start="95:25" pos:end="95:30"><expr pos:start="95:25" pos:end="95:29"><name pos:start="95:25" pos:end="95:25">i</name> <operator pos:start="95:27" pos:end="95:27">&lt;</operator> <literal type="number" pos:start="95:29" pos:end="95:29">8</literal></expr>;</condition> <incr pos:start="95:32" pos:end="95:34"><expr pos:start="95:32" pos:end="95:34"><name pos:start="95:32" pos:end="95:32">i</name><operator pos:start="95:33" pos:end="95:34">++</operator></expr></incr> )</control> <block pos:start="95:38" pos:end="117:13">{<block_content pos:start="97:17" pos:end="115:30">

                <decl_stmt pos:start="97:17" pos:end="97:75"><decl pos:start="97:17" pos:end="97:74"><type pos:start="97:17" pos:end="97:19"><name pos:start="97:17" pos:end="97:19">int</name></type> <name pos:start="97:21" pos:end="97:26">mbn_xy</name> <init pos:start="97:28" pos:end="97:74">= <expr pos:start="97:30" pos:end="97:74"><ternary pos:start="97:30" pos:end="97:74"><condition pos:start="97:30" pos:end="97:39"><expr pos:start="97:30" pos:end="97:37"><name pos:start="97:30" pos:end="97:37">MB_FIELD</name></expr> ?</condition><then pos:start="97:41" pos:end="97:56"> <expr pos:start="97:41" pos:end="97:56"><name pos:start="97:41" pos:end="97:56"><name pos:start="97:41" pos:end="97:50">left_mb_xy</name><index pos:start="97:51" pos:end="97:56">[<expr pos:start="97:52" pos:end="97:55"><name pos:start="97:52" pos:end="97:52">i</name><operator pos:start="97:53" pos:end="97:54">&gt;&gt;</operator><literal type="number" pos:start="97:55" pos:end="97:55">2</literal></expr>]</index></name></expr> </then><else pos:start="97:58" pos:end="97:74">: <expr pos:start="97:60" pos:end="97:74"><name pos:start="97:60" pos:end="97:74"><name pos:start="97:60" pos:end="97:69">left_mb_xy</name><index pos:start="97:70" pos:end="97:74">[<expr pos:start="97:71" pos:end="97:73"><name pos:start="97:71" pos:end="97:71">i</name><operator pos:start="97:72" pos:end="97:72">&amp;</operator><literal type="number" pos:start="97:73" pos:end="97:73">1</literal></expr>]</index></name></expr></else></ternary></expr></init></decl>;</decl_stmt>



                <if_stmt pos:start="101:17" pos:end="115:30"><if pos:start="101:17" pos:end="103:30">if<condition pos:start="101:19" pos:end="101:68">( <expr pos:start="101:21" pos:end="101:66"><call pos:start="101:21" pos:end="101:66"><name pos:start="101:21" pos:end="101:28">IS_INTRA</name><argument_list pos:start="101:29" pos:end="101:66">( <argument pos:start="101:31" pos:end="101:64"><expr pos:start="101:31" pos:end="101:64"><name pos:start="101:31" pos:end="101:64"><name pos:start="101:31" pos:end="101:31">s</name><operator pos:start="101:32" pos:end="101:33">-&gt;</operator><name pos:start="101:34" pos:end="101:48">current_picture</name><operator pos:start="101:49" pos:end="101:49">.</operator><name pos:start="101:50" pos:end="101:56">mb_type</name><index pos:start="101:57" pos:end="101:64">[<expr pos:start="101:58" pos:end="101:63"><name pos:start="101:58" pos:end="101:63">mbn_xy</name></expr>]</index></name></expr></argument> )</argument_list></call></expr> )</condition><block type="pseudo" pos:start="103:21" pos:end="103:30"><block_content pos:start="103:21" pos:end="103:30">

                    <expr_stmt pos:start="103:21" pos:end="103:30"><expr pos:start="103:21" pos:end="103:29"><name pos:start="103:21" pos:end="103:25"><name pos:start="103:21" pos:end="103:22">bS</name><index pos:start="103:23" pos:end="103:25">[<expr pos:start="103:24" pos:end="103:24"><name pos:start="103:24" pos:end="103:24">i</name></expr>]</index></name> <operator pos:start="103:27" pos:end="103:27">=</operator> <literal type="number" pos:start="103:29" pos:end="103:29">4</literal></expr>;</expr_stmt></block_content></block></if>

                <if type="elseif" pos:start="105:17" pos:end="111:30">else if<condition pos:start="105:24" pos:end="109:88">( <expr pos:start="105:26" pos:end="109:86"><name pos:start="105:26" pos:end="105:61"><name pos:start="105:26" pos:end="105:26">h</name><operator pos:start="105:27" pos:end="105:28">-&gt;</operator><name pos:start="105:29" pos:end="105:48">non_zero_count_cache</name><index pos:start="105:49" pos:end="105:61">[<expr pos:start="105:50" pos:end="105:60"><literal type="number" pos:start="105:50" pos:end="105:51">12</literal><operator pos:start="105:52" pos:end="105:52">+</operator><literal type="number" pos:start="105:53" pos:end="105:53">8</literal><operator pos:start="105:54" pos:end="105:54">*</operator><operator pos:start="105:55" pos:end="105:55">(</operator><name pos:start="105:56" pos:end="105:56">i</name><operator pos:start="105:57" pos:end="105:58">&gt;&gt;</operator><literal type="number" pos:start="105:59" pos:end="105:59">1</literal><operator pos:start="105:60" pos:end="105:60">)</operator></expr>]</index></name> <operator pos:start="105:63" pos:end="105:64">!=</operator> <literal type="number" pos:start="105:66" pos:end="105:66">0</literal> <operator pos:start="105:68" pos:end="105:69">||</operator>

                         <comment type="block" pos:start="107:26" pos:end="107:90">/* FIXME: with 8x8dct + cavlc, should check cbp instead of nnz */</comment>

                         <name pos:start="109:26" pos:end="109:86"><name pos:start="109:26" pos:end="109:26">h</name><operator pos:start="109:27" pos:end="109:28">-&gt;</operator><name pos:start="109:29" pos:end="109:42">non_zero_count</name><index pos:start="109:43" pos:end="109:50">[<expr pos:start="109:44" pos:end="109:49"><name pos:start="109:44" pos:end="109:49">mbn_xy</name></expr>]</index><index pos:start="109:51" pos:end="109:86">[<expr pos:start="109:52" pos:end="109:85"><ternary pos:start="109:52" pos:end="109:85"><condition pos:start="109:52" pos:end="109:61"><expr pos:start="109:52" pos:end="109:59"><name pos:start="109:52" pos:end="109:59">MB_FIELD</name></expr> ?</condition><then pos:start="109:63" pos:end="109:65"> <expr pos:start="109:63" pos:end="109:65"><name pos:start="109:63" pos:end="109:63">i</name><operator pos:start="109:64" pos:end="109:64">&amp;</operator><literal type="number" pos:start="109:65" pos:end="109:65">3</literal></expr> </then><else pos:start="109:67" pos:end="109:85">: <expr pos:start="109:69" pos:end="109:85"><operator pos:start="109:69" pos:end="109:69">(</operator><name pos:start="109:70" pos:end="109:70">i</name><operator pos:start="109:71" pos:end="109:72">&gt;&gt;</operator><literal type="number" pos:start="109:73" pos:end="109:73">2</literal><operator pos:start="109:74" pos:end="109:74">)</operator><operator pos:start="109:75" pos:end="109:75">+</operator><operator pos:start="109:76" pos:end="109:76">(</operator><name pos:start="109:77" pos:end="109:80">mb_y</name><operator pos:start="109:81" pos:end="109:81">&amp;</operator><literal type="number" pos:start="109:82" pos:end="109:82">1</literal><operator pos:start="109:83" pos:end="109:83">)</operator><operator pos:start="109:84" pos:end="109:84">*</operator><literal type="number" pos:start="109:85" pos:end="109:85">2</literal></expr></else></ternary></expr>]</index></name></expr> )</condition><block type="pseudo" pos:start="111:21" pos:end="111:30"><block_content pos:start="111:21" pos:end="111:30">

                    <expr_stmt pos:start="111:21" pos:end="111:30"><expr pos:start="111:21" pos:end="111:29"><name pos:start="111:21" pos:end="111:25"><name pos:start="111:21" pos:end="111:22">bS</name><index pos:start="111:23" pos:end="111:25">[<expr pos:start="111:24" pos:end="111:24"><name pos:start="111:24" pos:end="111:24">i</name></expr>]</index></name> <operator pos:start="111:27" pos:end="111:27">=</operator> <literal type="number" pos:start="111:29" pos:end="111:29">2</literal></expr>;</expr_stmt></block_content></block></if>

                <else pos:start="113:17" pos:end="115:30">else<block type="pseudo" pos:start="115:21" pos:end="115:30"><block_content pos:start="115:21" pos:end="115:30">

                    <expr_stmt pos:start="115:21" pos:end="115:30"><expr pos:start="115:21" pos:end="115:29"><name pos:start="115:21" pos:end="115:25"><name pos:start="115:21" pos:end="115:22">bS</name><index pos:start="115:23" pos:end="115:25">[<expr pos:start="115:24" pos:end="115:24"><name pos:start="115:24" pos:end="115:24">i</name></expr>]</index></name> <operator pos:start="115:27" pos:end="115:27">=</operator> <literal type="number" pos:start="115:29" pos:end="115:29">1</literal></expr>;</expr_stmt></block_content></block></else></if_stmt>

            </block_content>}</block></for>

        </block_content>}</block></else></if_stmt>



        <expr_stmt pos:start="123:9" pos:end="123:55"><expr pos:start="123:9" pos:end="123:54"><name pos:start="123:9" pos:end="123:13">mb_qp</name> <operator pos:start="123:15" pos:end="123:15">=</operator> <name pos:start="123:17" pos:end="123:54"><name pos:start="123:17" pos:end="123:17">s</name><operator pos:start="123:18" pos:end="123:19">-&gt;</operator><name pos:start="123:20" pos:end="123:34">current_picture</name><operator pos:start="123:35" pos:end="123:35">.</operator><name pos:start="123:36" pos:end="123:47">qscale_table</name><index pos:start="123:48" pos:end="123:54">[<expr pos:start="123:49" pos:end="123:53"><name pos:start="123:49" pos:end="123:53">mb_xy</name></expr>]</index></name></expr>;</expr_stmt>

        <expr_stmt pos:start="125:9" pos:end="125:65"><expr pos:start="125:9" pos:end="125:64"><name pos:start="125:9" pos:end="125:15">mbn0_qp</name> <operator pos:start="125:17" pos:end="125:17">=</operator> <name pos:start="125:19" pos:end="125:64"><name pos:start="125:19" pos:end="125:19">s</name><operator pos:start="125:20" pos:end="125:21">-&gt;</operator><name pos:start="125:22" pos:end="125:36">current_picture</name><operator pos:start="125:37" pos:end="125:37">.</operator><name pos:start="125:38" pos:end="125:49">qscale_table</name><index pos:start="125:50" pos:end="125:64">[<expr pos:start="125:51" pos:end="125:63"><name pos:start="125:51" pos:end="125:63"><name pos:start="125:51" pos:end="125:60">left_mb_xy</name><index pos:start="125:61" pos:end="125:63">[<expr pos:start="125:62" pos:end="125:62"><literal type="number" pos:start="125:62" pos:end="125:62">0</literal></expr>]</index></name></expr>]</index></name></expr>;</expr_stmt>

        <expr_stmt pos:start="127:9" pos:end="127:65"><expr pos:start="127:9" pos:end="127:64"><name pos:start="127:9" pos:end="127:15">mbn1_qp</name> <operator pos:start="127:17" pos:end="127:17">=</operator> <name pos:start="127:19" pos:end="127:64"><name pos:start="127:19" pos:end="127:19">s</name><operator pos:start="127:20" pos:end="127:21">-&gt;</operator><name pos:start="127:22" pos:end="127:36">current_picture</name><operator pos:start="127:37" pos:end="127:37">.</operator><name pos:start="127:38" pos:end="127:49">qscale_table</name><index pos:start="127:50" pos:end="127:64">[<expr pos:start="127:51" pos:end="127:63"><name pos:start="127:51" pos:end="127:63"><name pos:start="127:51" pos:end="127:60">left_mb_xy</name><index pos:start="127:61" pos:end="127:63">[<expr pos:start="127:62" pos:end="127:62"><literal type="number" pos:start="127:62" pos:end="127:62">1</literal></expr>]</index></name></expr>]</index></name></expr>;</expr_stmt>

        <expr_stmt pos:start="129:9" pos:end="129:45"><expr pos:start="129:9" pos:end="129:44"><name pos:start="129:9" pos:end="129:13"><name pos:start="129:9" pos:end="129:10">qp</name><index pos:start="129:11" pos:end="129:13">[<expr pos:start="129:12" pos:end="129:12"><literal type="number" pos:start="129:12" pos:end="129:12">0</literal></expr>]</index></name> <operator pos:start="129:15" pos:end="129:15">=</operator> <operator pos:start="129:17" pos:end="129:17">(</operator> <name pos:start="129:19" pos:end="129:23">mb_qp</name> <operator pos:start="129:25" pos:end="129:25">+</operator> <name pos:start="129:27" pos:end="129:33">mbn0_qp</name> <operator pos:start="129:35" pos:end="129:35">+</operator> <literal type="number" pos:start="129:37" pos:end="129:37">1</literal> <operator pos:start="129:39" pos:end="129:39">)</operator> <operator pos:start="129:41" pos:end="129:42">&gt;&gt;</operator> <literal type="number" pos:start="129:44" pos:end="129:44">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="131:9" pos:end="133:64"><expr pos:start="131:9" pos:end="133:63"><name pos:start="131:9" pos:end="131:20"><name pos:start="131:9" pos:end="131:17">chroma_qp</name><index pos:start="131:18" pos:end="131:20">[<expr pos:start="131:19" pos:end="131:19"><literal type="number" pos:start="131:19" pos:end="131:19">0</literal></expr>]</index></name> <operator pos:start="131:22" pos:end="131:22">=</operator> <operator pos:start="131:24" pos:end="131:24">(</operator> <call pos:start="131:26" pos:end="131:50"><name pos:start="131:26" pos:end="131:38">get_chroma_qp</name><argument_list pos:start="131:39" pos:end="131:50">( <argument pos:start="131:41" pos:end="131:41"><expr pos:start="131:41" pos:end="131:41"><name pos:start="131:41" pos:end="131:41">h</name></expr></argument>, <argument pos:start="131:44" pos:end="131:48"><expr pos:start="131:44" pos:end="131:48"><name pos:start="131:44" pos:end="131:48">mb_qp</name></expr></argument> )</argument_list></call> <operator pos:start="131:52" pos:end="131:52">+</operator>

                         <call pos:start="133:26" pos:end="133:52"><name pos:start="133:26" pos:end="133:38">get_chroma_qp</name><argument_list pos:start="133:39" pos:end="133:52">( <argument pos:start="133:41" pos:end="133:41"><expr pos:start="133:41" pos:end="133:41"><name pos:start="133:41" pos:end="133:41">h</name></expr></argument>, <argument pos:start="133:44" pos:end="133:50"><expr pos:start="133:44" pos:end="133:50"><name pos:start="133:44" pos:end="133:50">mbn0_qp</name></expr></argument> )</argument_list></call> <operator pos:start="133:54" pos:end="133:54">+</operator> <literal type="number" pos:start="133:56" pos:end="133:56">1</literal> <operator pos:start="133:58" pos:end="133:58">)</operator> <operator pos:start="133:60" pos:end="133:61">&gt;&gt;</operator> <literal type="number" pos:start="133:63" pos:end="133:63">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="135:9" pos:end="135:45"><expr pos:start="135:9" pos:end="135:44"><name pos:start="135:9" pos:end="135:13"><name pos:start="135:9" pos:end="135:10">qp</name><index pos:start="135:11" pos:end="135:13">[<expr pos:start="135:12" pos:end="135:12"><literal type="number" pos:start="135:12" pos:end="135:12">1</literal></expr>]</index></name> <operator pos:start="135:15" pos:end="135:15">=</operator> <operator pos:start="135:17" pos:end="135:17">(</operator> <name pos:start="135:19" pos:end="135:23">mb_qp</name> <operator pos:start="135:25" pos:end="135:25">+</operator> <name pos:start="135:27" pos:end="135:33">mbn1_qp</name> <operator pos:start="135:35" pos:end="135:35">+</operator> <literal type="number" pos:start="135:37" pos:end="135:37">1</literal> <operator pos:start="135:39" pos:end="135:39">)</operator> <operator pos:start="135:41" pos:end="135:42">&gt;&gt;</operator> <literal type="number" pos:start="135:44" pos:end="135:44">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="137:9" pos:end="139:64"><expr pos:start="137:9" pos:end="139:63"><name pos:start="137:9" pos:end="137:20"><name pos:start="137:9" pos:end="137:17">chroma_qp</name><index pos:start="137:18" pos:end="137:20">[<expr pos:start="137:19" pos:end="137:19"><literal type="number" pos:start="137:19" pos:end="137:19">1</literal></expr>]</index></name> <operator pos:start="137:22" pos:end="137:22">=</operator> <operator pos:start="137:24" pos:end="137:24">(</operator> <call pos:start="137:26" pos:end="137:50"><name pos:start="137:26" pos:end="137:38">get_chroma_qp</name><argument_list pos:start="137:39" pos:end="137:50">( <argument pos:start="137:41" pos:end="137:41"><expr pos:start="137:41" pos:end="137:41"><name pos:start="137:41" pos:end="137:41">h</name></expr></argument>, <argument pos:start="137:44" pos:end="137:48"><expr pos:start="137:44" pos:end="137:48"><name pos:start="137:44" pos:end="137:48">mb_qp</name></expr></argument> )</argument_list></call> <operator pos:start="137:52" pos:end="137:52">+</operator>

                         <call pos:start="139:26" pos:end="139:52"><name pos:start="139:26" pos:end="139:38">get_chroma_qp</name><argument_list pos:start="139:39" pos:end="139:52">( <argument pos:start="139:41" pos:end="139:41"><expr pos:start="139:41" pos:end="139:41"><name pos:start="139:41" pos:end="139:41">h</name></expr></argument>, <argument pos:start="139:44" pos:end="139:50"><expr pos:start="139:44" pos:end="139:50"><name pos:start="139:44" pos:end="139:50">mbn1_qp</name></expr></argument> )</argument_list></call> <operator pos:start="139:54" pos:end="139:54">+</operator> <literal type="number" pos:start="139:56" pos:end="139:56">1</literal> <operator pos:start="139:58" pos:end="139:58">)</operator> <operator pos:start="139:60" pos:end="139:61">&gt;&gt;</operator> <literal type="number" pos:start="139:63" pos:end="139:63">1</literal></expr>;</expr_stmt>



        <comment type="block" pos:start="143:9" pos:end="143:25">/* Filter edge */</comment>

        <expr_stmt pos:start="145:9" pos:end="145:163"><expr pos:start="145:9" pos:end="145:162"><call pos:start="145:9" pos:end="145:162"><name pos:start="145:9" pos:end="145:15">tprintf</name><argument_list pos:start="145:16" pos:end="145:162">(<argument pos:start="145:17" pos:end="145:24"><expr pos:start="145:17" pos:end="145:24"><name pos:start="145:17" pos:end="145:24"><name pos:start="145:17" pos:end="145:17">s</name><operator pos:start="145:18" pos:end="145:19">-&gt;</operator><name pos:start="145:20" pos:end="145:24">avctx</name></name></expr></argument>, <argument pos:start="145:27" pos:end="145:85"><expr pos:start="145:27" pos:end="145:85"><literal type="string" pos:start="145:27" pos:end="145:85">"filter mb:%d/%d MBAFF, QPy:%d/%d, QPc:%d/%d ls:%d uvls:%d"</literal></expr></argument>, <argument pos:start="145:88" pos:end="145:91"><expr pos:start="145:88" pos:end="145:91"><name pos:start="145:88" pos:end="145:91">mb_x</name></expr></argument>, <argument pos:start="145:94" pos:end="145:97"><expr pos:start="145:94" pos:end="145:97"><name pos:start="145:94" pos:end="145:97">mb_y</name></expr></argument>, <argument pos:start="145:100" pos:end="145:104"><expr pos:start="145:100" pos:end="145:104"><name pos:start="145:100" pos:end="145:104"><name pos:start="145:100" pos:end="145:101">qp</name><index pos:start="145:102" pos:end="145:104">[<expr pos:start="145:103" pos:end="145:103"><literal type="number" pos:start="145:103" pos:end="145:103">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="145:107" pos:end="145:111"><expr pos:start="145:107" pos:end="145:111"><name pos:start="145:107" pos:end="145:111"><name pos:start="145:107" pos:end="145:108">qp</name><index pos:start="145:109" pos:end="145:111">[<expr pos:start="145:110" pos:end="145:110"><literal type="number" pos:start="145:110" pos:end="145:110">1</literal></expr>]</index></name></expr></argument>, <argument pos:start="145:114" pos:end="145:125"><expr pos:start="145:114" pos:end="145:125"><name pos:start="145:114" pos:end="145:125"><name pos:start="145:114" pos:end="145:122">chroma_qp</name><index pos:start="145:123" pos:end="145:125">[<expr pos:start="145:124" pos:end="145:124"><literal type="number" pos:start="145:124" pos:end="145:124">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="145:128" pos:end="145:139"><expr pos:start="145:128" pos:end="145:139"><name pos:start="145:128" pos:end="145:139"><name pos:start="145:128" pos:end="145:136">chroma_qp</name><index pos:start="145:137" pos:end="145:139">[<expr pos:start="145:138" pos:end="145:138"><literal type="number" pos:start="145:138" pos:end="145:138">1</literal></expr>]</index></name></expr></argument>, <argument pos:start="145:142" pos:end="145:149"><expr pos:start="145:142" pos:end="145:149"><name pos:start="145:142" pos:end="145:149">linesize</name></expr></argument>, <argument pos:start="145:152" pos:end="145:161"><expr pos:start="145:152" pos:end="145:161"><name pos:start="145:152" pos:end="145:161">uvlinesize</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <block pos:start="147:9" pos:end="147:110">{<block_content pos:start="147:11" pos:end="147:108"> <decl_stmt pos:start="147:11" pos:end="147:16"><decl pos:start="147:11" pos:end="147:15"><type pos:start="147:11" pos:end="147:13"><name pos:start="147:11" pos:end="147:13">int</name></type> <name pos:start="147:15" pos:end="147:15">i</name></decl>;</decl_stmt> <for pos:start="147:18" pos:end="147:83">for <control pos:start="147:22" pos:end="147:40">(<init pos:start="147:23" pos:end="147:28"><expr pos:start="147:23" pos:end="147:27"><name pos:start="147:23" pos:end="147:23">i</name> <operator pos:start="147:25" pos:end="147:25">=</operator> <literal type="number" pos:start="147:27" pos:end="147:27">0</literal></expr>;</init> <condition pos:start="147:30" pos:end="147:35"><expr pos:start="147:30" pos:end="147:34"><name pos:start="147:30" pos:end="147:30">i</name> <operator pos:start="147:32" pos:end="147:32">&lt;</operator> <literal type="number" pos:start="147:34" pos:end="147:34">8</literal></expr>;</condition> <incr pos:start="147:37" pos:end="147:39"><expr pos:start="147:37" pos:end="147:39"><name pos:start="147:37" pos:end="147:37">i</name><operator pos:start="147:38" pos:end="147:39">++</operator></expr></incr>)</control><block type="pseudo" pos:start="147:42" pos:end="147:83"><block_content pos:start="147:42" pos:end="147:83"> <expr_stmt pos:start="147:42" pos:end="147:83"><expr pos:start="147:42" pos:end="147:82"><call pos:start="147:42" pos:end="147:82"><name pos:start="147:42" pos:end="147:48">tprintf</name><argument_list pos:start="147:49" pos:end="147:82">(<argument pos:start="147:50" pos:end="147:57"><expr pos:start="147:50" pos:end="147:57"><name pos:start="147:50" pos:end="147:57"><name pos:start="147:50" pos:end="147:50">s</name><operator pos:start="147:51" pos:end="147:52">-&gt;</operator><name pos:start="147:53" pos:end="147:57">avctx</name></name></expr></argument>, <argument pos:start="147:60" pos:end="147:71"><expr pos:start="147:60" pos:end="147:71"><literal type="string" pos:start="147:60" pos:end="147:71">" bS[%d]:%d"</literal></expr></argument>, <argument pos:start="147:74" pos:end="147:74"><expr pos:start="147:74" pos:end="147:74"><name pos:start="147:74" pos:end="147:74">i</name></expr></argument>, <argument pos:start="147:77" pos:end="147:81"><expr pos:start="147:77" pos:end="147:81"><name pos:start="147:77" pos:end="147:81"><name pos:start="147:77" pos:end="147:78">bS</name><index pos:start="147:79" pos:end="147:81">[<expr pos:start="147:80" pos:end="147:80"><name pos:start="147:80" pos:end="147:80">i</name></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></for> <expr_stmt pos:start="147:85" pos:end="147:108"><expr pos:start="147:85" pos:end="147:107"><call pos:start="147:85" pos:end="147:107"><name pos:start="147:85" pos:end="147:91">tprintf</name><argument_list pos:start="147:92" pos:end="147:107">(<argument pos:start="147:93" pos:end="147:100"><expr pos:start="147:93" pos:end="147:100"><name pos:start="147:93" pos:end="147:100"><name pos:start="147:93" pos:end="147:93">s</name><operator pos:start="147:94" pos:end="147:95">-&gt;</operator><name pos:start="147:96" pos:end="147:100">avctx</name></name></expr></argument>, <argument pos:start="147:103" pos:end="147:106"><expr pos:start="147:103" pos:end="147:106"><literal type="string" pos:start="147:103" pos:end="147:106">"\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt> </block_content>}</block>

        <expr_stmt pos:start="149:9" pos:end="149:68"><expr pos:start="149:9" pos:end="149:67"><call pos:start="149:9" pos:end="149:67"><name pos:start="149:9" pos:end="149:29">filter_mb_mbaff_edgev</name> <argument_list pos:start="149:31" pos:end="149:67">( <argument pos:start="149:33" pos:end="149:33"><expr pos:start="149:33" pos:end="149:33"><name pos:start="149:33" pos:end="149:33">h</name></expr></argument>, <argument pos:start="149:36" pos:end="149:45"><expr pos:start="149:36" pos:end="149:45"><operator pos:start="149:36" pos:end="149:36">&amp;</operator><name pos:start="149:37" pos:end="149:45"><name pos:start="149:37" pos:end="149:41">img_y</name> <index pos:start="149:43" pos:end="149:45">[<expr pos:start="149:44" pos:end="149:44"><literal type="number" pos:start="149:44" pos:end="149:44">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="149:48" pos:end="149:55"><expr pos:start="149:48" pos:end="149:55"><name pos:start="149:48" pos:end="149:55">linesize</name></expr></argument>,   <argument pos:start="149:60" pos:end="149:61"><expr pos:start="149:60" pos:end="149:61"><name pos:start="149:60" pos:end="149:61">bS</name></expr></argument>, <argument pos:start="149:64" pos:end="149:65"><expr pos:start="149:64" pos:end="149:65"><name pos:start="149:64" pos:end="149:65">qp</name></expr></argument> )</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="151:9" pos:end="151:75"><expr pos:start="151:9" pos:end="151:74"><call pos:start="151:9" pos:end="151:74"><name pos:start="151:9" pos:end="151:30">filter_mb_mbaff_edgecv</name><argument_list pos:start="151:31" pos:end="151:74">( <argument pos:start="151:33" pos:end="151:33"><expr pos:start="151:33" pos:end="151:33"><name pos:start="151:33" pos:end="151:33">h</name></expr></argument>, <argument pos:start="151:36" pos:end="151:45"><expr pos:start="151:36" pos:end="151:45"><operator pos:start="151:36" pos:end="151:36">&amp;</operator><name pos:start="151:37" pos:end="151:45"><name pos:start="151:37" pos:end="151:42">img_cb</name><index pos:start="151:43" pos:end="151:45">[<expr pos:start="151:44" pos:end="151:44"><literal type="number" pos:start="151:44" pos:end="151:44">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="151:48" pos:end="151:57"><expr pos:start="151:48" pos:end="151:57"><name pos:start="151:48" pos:end="151:57">uvlinesize</name></expr></argument>, <argument pos:start="151:60" pos:end="151:61"><expr pos:start="151:60" pos:end="151:61"><name pos:start="151:60" pos:end="151:61">bS</name></expr></argument>, <argument pos:start="151:64" pos:end="151:72"><expr pos:start="151:64" pos:end="151:72"><name pos:start="151:64" pos:end="151:72">chroma_qp</name></expr></argument> )</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="153:9" pos:end="153:75"><expr pos:start="153:9" pos:end="153:74"><call pos:start="153:9" pos:end="153:74"><name pos:start="153:9" pos:end="153:30">filter_mb_mbaff_edgecv</name><argument_list pos:start="153:31" pos:end="153:74">( <argument pos:start="153:33" pos:end="153:33"><expr pos:start="153:33" pos:end="153:33"><name pos:start="153:33" pos:end="153:33">h</name></expr></argument>, <argument pos:start="153:36" pos:end="153:45"><expr pos:start="153:36" pos:end="153:45"><operator pos:start="153:36" pos:end="153:36">&amp;</operator><name pos:start="153:37" pos:end="153:45"><name pos:start="153:37" pos:end="153:42">img_cr</name><index pos:start="153:43" pos:end="153:45">[<expr pos:start="153:44" pos:end="153:44"><literal type="number" pos:start="153:44" pos:end="153:44">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="153:48" pos:end="153:57"><expr pos:start="153:48" pos:end="153:57"><name pos:start="153:48" pos:end="153:57">uvlinesize</name></expr></argument>, <argument pos:start="153:60" pos:end="153:61"><expr pos:start="153:60" pos:end="153:61"><name pos:start="153:60" pos:end="153:61">bS</name></expr></argument>, <argument pos:start="153:64" pos:end="153:72"><expr pos:start="153:64" pos:end="153:72"><name pos:start="153:64" pos:end="153:72">chroma_qp</name></expr></argument> )</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    <comment type="block" pos:start="157:5" pos:end="157:56">/* dir : 0 -&gt; vertical edge, 1 -&gt; horizontal edge */</comment>

    <for pos:start="159:5" pos:end="507:5">for<control pos:start="159:8" pos:end="159:34">( <init pos:start="159:10" pos:end="159:17"><expr pos:start="159:10" pos:end="159:16"><name pos:start="159:10" pos:end="159:12">dir</name> <operator pos:start="159:14" pos:end="159:14">=</operator> <literal type="number" pos:start="159:16" pos:end="159:16">0</literal></expr>;</init> <condition pos:start="159:19" pos:end="159:26"><expr pos:start="159:19" pos:end="159:25"><name pos:start="159:19" pos:end="159:21">dir</name> <operator pos:start="159:23" pos:end="159:23">&lt;</operator> <literal type="number" pos:start="159:25" pos:end="159:25">2</literal></expr>;</condition> <incr pos:start="159:28" pos:end="159:32"><expr pos:start="159:28" pos:end="159:32"><name pos:start="159:28" pos:end="159:30">dir</name><operator pos:start="159:31" pos:end="159:32">++</operator></expr></incr> )</control>

    <block pos:start="161:5" pos:end="507:5">{<block_content pos:start="163:9" pos:end="505:9">

        <decl_stmt pos:start="163:9" pos:end="163:17"><decl pos:start="163:9" pos:end="163:16"><type pos:start="163:9" pos:end="163:11"><name pos:start="163:9" pos:end="163:11">int</name></type> <name pos:start="163:13" pos:end="163:16">edge</name></decl>;</decl_stmt>

        <decl_stmt pos:start="165:9" pos:end="165:62"><decl pos:start="165:9" pos:end="165:61"><type pos:start="165:9" pos:end="165:17"><specifier pos:start="165:9" pos:end="165:13">const</specifier> <name pos:start="165:15" pos:end="165:17">int</name></type> <name pos:start="165:19" pos:end="165:24">mbm_xy</name> <init pos:start="165:26" pos:end="165:61">= <expr pos:start="165:28" pos:end="165:61"><ternary pos:start="165:28" pos:end="165:61"><condition pos:start="165:28" pos:end="165:37"><expr pos:start="165:28" pos:end="165:35"><name pos:start="165:28" pos:end="165:30">dir</name> <operator pos:start="165:32" pos:end="165:33">==</operator> <literal type="number" pos:start="165:35" pos:end="165:35">0</literal></expr> ?</condition><then pos:start="165:39" pos:end="165:46"> <expr pos:start="165:39" pos:end="165:46"><name pos:start="165:39" pos:end="165:43">mb_xy</name> <operator pos:start="165:45" pos:end="165:45">-</operator><literal type="number" pos:start="165:46" pos:end="165:46">1</literal></expr> </then><else pos:start="165:48" pos:end="165:61">: <expr pos:start="165:50" pos:end="165:61"><name pos:start="165:50" pos:end="165:61"><name pos:start="165:50" pos:end="165:50">h</name><operator pos:start="165:51" pos:end="165:52">-&gt;</operator><name pos:start="165:53" pos:end="165:61">top_mb_xy</name></name></expr></else></ternary></expr></init></decl>;</decl_stmt>

        <decl_stmt pos:start="167:9" pos:end="167:64"><decl pos:start="167:9" pos:end="167:63"><type pos:start="167:9" pos:end="167:17"><specifier pos:start="167:9" pos:end="167:13">const</specifier> <name pos:start="167:15" pos:end="167:17">int</name></type> <name pos:start="167:19" pos:end="167:26">mbm_type</name> <init pos:start="167:28" pos:end="167:63">= <expr pos:start="167:30" pos:end="167:63"><name pos:start="167:30" pos:end="167:63"><name pos:start="167:30" pos:end="167:30">s</name><operator pos:start="167:31" pos:end="167:32">-&gt;</operator><name pos:start="167:33" pos:end="167:47">current_picture</name><operator pos:start="167:48" pos:end="167:48">.</operator><name pos:start="167:49" pos:end="167:55">mb_type</name><index pos:start="167:56" pos:end="167:63">[<expr pos:start="167:57" pos:end="167:62"><name pos:start="167:57" pos:end="167:62">mbm_xy</name></expr>]</index></name></expr></init></decl>;</decl_stmt>

        <decl_stmt pos:start="169:9" pos:end="169:58"><decl pos:start="169:9" pos:end="169:57"><type pos:start="169:9" pos:end="169:11"><name pos:start="169:9" pos:end="169:11">int</name></type> <name pos:start="169:13" pos:end="169:17">start</name> <init pos:start="169:19" pos:end="169:57">= <expr pos:start="169:21" pos:end="169:57"><ternary pos:start="169:21" pos:end="169:57"><condition pos:start="169:21" pos:end="169:51"><expr pos:start="169:21" pos:end="169:49"><name pos:start="169:21" pos:end="169:42"><name pos:start="169:21" pos:end="169:21">h</name><operator pos:start="169:22" pos:end="169:23">-&gt;</operator><name pos:start="169:24" pos:end="169:34">slice_table</name><index pos:start="169:35" pos:end="169:42">[<expr pos:start="169:36" pos:end="169:41"><name pos:start="169:36" pos:end="169:41">mbm_xy</name></expr>]</index></name> <operator pos:start="169:44" pos:end="169:45">==</operator> <literal type="number" pos:start="169:47" pos:end="169:49">255</literal></expr> ?</condition><then pos:start="169:53" pos:end="169:53"> <expr pos:start="169:53" pos:end="169:53"><literal type="number" pos:start="169:53" pos:end="169:53">1</literal></expr> </then><else pos:start="169:55" pos:end="169:57">: <expr pos:start="169:57" pos:end="169:57"><literal type="number" pos:start="169:57" pos:end="169:57">0</literal></expr></else></ternary></expr></init></decl>;</decl_stmt>



        <decl_stmt pos:start="173:9" pos:end="175:74"><decl pos:start="173:9" pos:end="175:73"><type pos:start="173:9" pos:end="173:17"><specifier pos:start="173:9" pos:end="173:13">const</specifier> <name pos:start="173:15" pos:end="173:17">int</name></type> <name pos:start="173:19" pos:end="173:23">edges</name> <init pos:start="173:25" pos:end="175:73">= <expr pos:start="173:27" pos:end="175:73"><ternary pos:start="173:27" pos:end="175:73"><condition pos:start="173:27" pos:end="175:67"><expr pos:start="173:27" pos:end="175:65"><operator pos:start="173:27" pos:end="173:27">(</operator><name pos:start="173:28" pos:end="173:34">mb_type</name> <operator pos:start="173:36" pos:end="173:36">&amp;</operator> <operator pos:start="173:38" pos:end="173:38">(</operator><name pos:start="173:39" pos:end="173:51">MB_TYPE_16x16</name><operator pos:start="173:52" pos:end="173:52">|</operator><name pos:start="173:53" pos:end="173:64">MB_TYPE_SKIP</name><operator pos:start="173:65" pos:end="173:65">)</operator><operator pos:start="173:66" pos:end="173:66">)</operator>

                                  <operator pos:start="175:35" pos:end="175:36">==</operator> <operator pos:start="175:38" pos:end="175:38">(</operator><name pos:start="175:39" pos:end="175:51">MB_TYPE_16x16</name><operator pos:start="175:52" pos:end="175:52">|</operator><name pos:start="175:53" pos:end="175:64">MB_TYPE_SKIP</name><operator pos:start="175:65" pos:end="175:65">)</operator></expr> ?</condition><then pos:start="175:69" pos:end="175:69"> <expr pos:start="175:69" pos:end="175:69"><literal type="number" pos:start="175:69" pos:end="175:69">1</literal></expr> </then><else pos:start="175:71" pos:end="175:73">: <expr pos:start="175:73" pos:end="175:73"><literal type="number" pos:start="175:73" pos:end="175:73">4</literal></expr></else></ternary></expr></init></decl>;</decl_stmt>

        <comment type="line" pos:start="177:9" pos:end="177:72">// how often to recheck mv-based bS when iterating between edges</comment>

        <decl_stmt pos:start="179:9" pos:end="181:72"><decl pos:start="179:9" pos:end="181:71"><type pos:start="179:9" pos:end="179:17"><specifier pos:start="179:9" pos:end="179:13">const</specifier> <name pos:start="179:15" pos:end="179:17">int</name></type> <name pos:start="179:19" pos:end="179:27">mask_edge</name> <init pos:start="179:29" pos:end="181:71">= <expr pos:start="179:31" pos:end="181:71"><ternary pos:start="179:31" pos:end="181:71"><condition pos:start="179:31" pos:end="179:83"><expr pos:start="179:31" pos:end="179:81"><operator pos:start="179:31" pos:end="179:31">(</operator><name pos:start="179:32" pos:end="179:38">mb_type</name> <operator pos:start="179:40" pos:end="179:40">&amp;</operator> <operator pos:start="179:42" pos:end="179:42">(</operator><name pos:start="179:43" pos:end="179:55">MB_TYPE_16x16</name> <operator pos:start="179:57" pos:end="179:57">|</operator> <operator pos:start="179:59" pos:end="179:59">(</operator><name pos:start="179:60" pos:end="179:71">MB_TYPE_16x8</name> <operator pos:start="179:73" pos:end="179:74">&lt;&lt;</operator> <name pos:start="179:76" pos:end="179:78">dir</name><operator pos:start="179:79" pos:end="179:79">)</operator><operator pos:start="179:80" pos:end="179:80">)</operator><operator pos:start="179:81" pos:end="179:81">)</operator></expr> ?</condition><then pos:start="179:85" pos:end="179:85"> <expr pos:start="179:85" pos:end="179:85"><literal type="number" pos:start="179:85" pos:end="179:85">3</literal></expr> </then><else pos:start="179:87" pos:end="181:71">:

                              <expr pos:start="181:31" pos:end="181:71"><ternary pos:start="181:31" pos:end="181:71"><condition pos:start="181:31" pos:end="181:65"><expr pos:start="181:31" pos:end="181:63"><operator pos:start="181:31" pos:end="181:31">(</operator><name pos:start="181:32" pos:end="181:38">mb_type</name> <operator pos:start="181:40" pos:end="181:40">&amp;</operator> <operator pos:start="181:42" pos:end="181:42">(</operator><name pos:start="181:43" pos:end="181:54">MB_TYPE_8x16</name> <operator pos:start="181:56" pos:end="181:57">&gt;&gt;</operator> <name pos:start="181:59" pos:end="181:61">dir</name><operator pos:start="181:62" pos:end="181:62">)</operator><operator pos:start="181:63" pos:end="181:63">)</operator></expr> ?</condition><then pos:start="181:67" pos:end="181:67"> <expr pos:start="181:67" pos:end="181:67"><literal type="number" pos:start="181:67" pos:end="181:67">1</literal></expr> </then><else pos:start="181:69" pos:end="181:71">: <expr pos:start="181:71" pos:end="181:71"><literal type="number" pos:start="181:71" pos:end="181:71">0</literal></expr></else></ternary></expr></else></ternary></expr></init></decl>;</decl_stmt>

        <comment type="line" pos:start="183:9" pos:end="183:74">// how often to recheck mv-based bS when iterating along each edge</comment>

        <decl_stmt pos:start="185:9" pos:end="185:80"><decl pos:start="185:9" pos:end="185:79"><type pos:start="185:9" pos:end="185:17"><specifier pos:start="185:9" pos:end="185:13">const</specifier> <name pos:start="185:15" pos:end="185:17">int</name></type> <name pos:start="185:19" pos:end="185:27">mask_par0</name> <init pos:start="185:29" pos:end="185:79">= <expr pos:start="185:31" pos:end="185:79"><name pos:start="185:31" pos:end="185:37">mb_type</name> <operator pos:start="185:39" pos:end="185:39">&amp;</operator> <operator pos:start="185:41" pos:end="185:41">(</operator><name pos:start="185:42" pos:end="185:54">MB_TYPE_16x16</name> <operator pos:start="185:56" pos:end="185:56">|</operator> <operator pos:start="185:58" pos:end="185:58">(</operator><name pos:start="185:59" pos:end="185:70">MB_TYPE_8x16</name> <operator pos:start="185:72" pos:end="185:73">&gt;&gt;</operator> <name pos:start="185:75" pos:end="185:77">dir</name><operator pos:start="185:78" pos:end="185:78">)</operator><operator pos:start="185:79" pos:end="185:79">)</operator></expr></init></decl>;</decl_stmt>



        <if_stmt pos:start="189:9" pos:end="195:9"><if pos:start="189:9" pos:end="195:9">if <condition pos:start="189:12" pos:end="189:37">(<expr pos:start="189:13" pos:end="189:36"><name pos:start="189:13" pos:end="189:36">first_vertical_edge_done</name></expr>)</condition> <block pos:start="189:39" pos:end="195:9">{<block_content pos:start="191:13" pos:end="193:41">

            <expr_stmt pos:start="191:13" pos:end="191:22"><expr pos:start="191:13" pos:end="191:21"><name pos:start="191:13" pos:end="191:17">start</name> <operator pos:start="191:19" pos:end="191:19">=</operator> <literal type="number" pos:start="191:21" pos:end="191:21">1</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="193:13" pos:end="193:41"><expr pos:start="193:13" pos:end="193:40"><name pos:start="193:13" pos:end="193:36">first_vertical_edge_done</name> <operator pos:start="193:38" pos:end="193:38">=</operator> <literal type="number" pos:start="193:40" pos:end="193:40">0</literal></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>



        <if_stmt pos:start="199:9" pos:end="201:22"><if pos:start="199:9" pos:end="201:22">if <condition pos:start="199:12" pos:end="199:87">(<expr pos:start="199:13" pos:end="199:86"><name pos:start="199:13" pos:end="199:32"><name pos:start="199:13" pos:end="199:13">h</name><operator pos:start="199:14" pos:end="199:15">-&gt;</operator><name pos:start="199:16" pos:end="199:32">deblocking_filter</name></name><operator pos:start="199:33" pos:end="199:34">==</operator><literal type="number" pos:start="199:35" pos:end="199:35">2</literal> <operator pos:start="199:37" pos:end="199:38">&amp;&amp;</operator> <name pos:start="199:40" pos:end="199:61"><name pos:start="199:40" pos:end="199:40">h</name><operator pos:start="199:41" pos:end="199:42">-&gt;</operator><name pos:start="199:43" pos:end="199:53">slice_table</name><index pos:start="199:54" pos:end="199:61">[<expr pos:start="199:55" pos:end="199:60"><name pos:start="199:55" pos:end="199:60">mbm_xy</name></expr>]</index></name> <operator pos:start="199:63" pos:end="199:64">!=</operator> <name pos:start="199:66" pos:end="199:86"><name pos:start="199:66" pos:end="199:66">h</name><operator pos:start="199:67" pos:end="199:68">-&gt;</operator><name pos:start="199:69" pos:end="199:79">slice_table</name><index pos:start="199:80" pos:end="199:86">[<expr pos:start="199:81" pos:end="199:85"><name pos:start="199:81" pos:end="199:85">mb_xy</name></expr>]</index></name></expr>)</condition><block type="pseudo" pos:start="201:13" pos:end="201:22"><block_content pos:start="201:13" pos:end="201:22">

            <expr_stmt pos:start="201:13" pos:end="201:22"><expr pos:start="201:13" pos:end="201:21"><name pos:start="201:13" pos:end="201:17">start</name> <operator pos:start="201:19" pos:end="201:19">=</operator> <literal type="number" pos:start="201:21" pos:end="201:21">1</literal></expr>;</expr_stmt></block_content></block></if></if_stmt>



        <if_stmt pos:start="205:9" pos:end="291:9"><if pos:start="205:9" pos:end="291:9">if <condition pos:start="205:12" pos:end="211:13">(<expr pos:start="205:13" pos:end="209:38"><name pos:start="205:13" pos:end="205:23">FRAME_MBAFF</name> <operator pos:start="205:25" pos:end="205:26">&amp;&amp;</operator> <operator pos:start="205:28" pos:end="205:28">(</operator><name pos:start="205:29" pos:end="205:31">dir</name> <operator pos:start="205:33" pos:end="205:34">==</operator> <literal type="number" pos:start="205:36" pos:end="205:36">1</literal><operator pos:start="205:37" pos:end="205:37">)</operator> <operator pos:start="205:39" pos:end="205:40">&amp;&amp;</operator> <operator pos:start="205:42" pos:end="205:42">(</operator><operator pos:start="205:43" pos:end="205:43">(</operator><name pos:start="205:44" pos:end="205:47">mb_y</name><operator pos:start="205:48" pos:end="205:48">&amp;</operator><literal type="number" pos:start="205:49" pos:end="205:49">1</literal><operator pos:start="205:50" pos:end="205:50">)</operator> <operator pos:start="205:52" pos:end="205:53">==</operator> <literal type="number" pos:start="205:55" pos:end="205:55">0</literal><operator pos:start="205:56" pos:end="205:56">)</operator> <operator pos:start="205:58" pos:end="205:59">&amp;&amp;</operator> <name pos:start="205:61" pos:end="205:65">start</name> <operator pos:start="205:67" pos:end="205:68">==</operator> <literal type="number" pos:start="205:70" pos:end="205:70">0</literal>

            <operator pos:start="207:13" pos:end="207:14">&amp;&amp;</operator> <operator pos:start="207:16" pos:end="207:16">!</operator><call pos:start="207:17" pos:end="207:38"><name pos:start="207:17" pos:end="207:29">IS_INTERLACED</name><argument_list pos:start="207:30" pos:end="207:38">(<argument pos:start="207:31" pos:end="207:37"><expr pos:start="207:31" pos:end="207:37"><name pos:start="207:31" pos:end="207:37">mb_type</name></expr></argument>)</argument_list></call>

            <operator pos:start="209:13" pos:end="209:14">&amp;&amp;</operator> <call pos:start="209:16" pos:end="209:38"><name pos:start="209:16" pos:end="209:28">IS_INTERLACED</name><argument_list pos:start="209:29" pos:end="209:38">(<argument pos:start="209:30" pos:end="209:37"><expr pos:start="209:30" pos:end="209:37"><name pos:start="209:30" pos:end="209:37">mbm_type</name></expr></argument>)</argument_list></call></expr>

            )</condition> <block pos:start="211:15" pos:end="291:9">{<block_content pos:start="221:13" pos:end="289:22">

            <comment type="line" pos:start="213:13" pos:end="213:74">// This is a special case in the norm where the filtering must</comment>

            <comment type="line" pos:start="215:13" pos:end="215:72">// be done twice (one each of the field) even if we are in a</comment>

            <comment type="line" pos:start="217:13" pos:end="217:32">// frame macroblock.</comment>

            <comment type="line" pos:start="219:13" pos:end="219:14">//</comment>

            <decl_stmt pos:start="221:13" pos:end="221:52"><decl pos:start="221:13" pos:end="221:51"><type pos:start="221:13" pos:end="221:28"><specifier pos:start="221:13" pos:end="221:18">static</specifier> <specifier pos:start="221:20" pos:end="221:24">const</specifier> <name pos:start="221:26" pos:end="221:28">int</name></type> <name pos:start="221:30" pos:end="221:39"><name pos:start="221:30" pos:end="221:36">nnz_idx</name><index pos:start="221:37" pos:end="221:39">[<expr pos:start="221:38" pos:end="221:38"><literal type="number" pos:start="221:38" pos:end="221:38">4</literal></expr>]</index></name> <init pos:start="221:41" pos:end="221:51">= <expr pos:start="221:43" pos:end="221:51"><block pos:start="221:43" pos:end="221:51">{<expr pos:start="221:44" pos:end="221:44"><literal type="number" pos:start="221:44" pos:end="221:44">4</literal></expr>,<expr pos:start="221:46" pos:end="221:46"><literal type="number" pos:start="221:46" pos:end="221:46">5</literal></expr>,<expr pos:start="221:48" pos:end="221:48"><literal type="number" pos:start="221:48" pos:end="221:48">6</literal></expr>,<expr pos:start="221:50" pos:end="221:50"><literal type="number" pos:start="221:50" pos:end="221:50">3</literal></expr>}</block></expr></init></decl>;</decl_stmt>

            <decl_stmt pos:start="223:13" pos:end="223:57"><decl pos:start="223:13" pos:end="223:56"><type pos:start="223:13" pos:end="223:24"><name pos:start="223:13" pos:end="223:20">unsigned</name> <name pos:start="223:22" pos:end="223:24">int</name></type> <name pos:start="223:26" pos:end="223:37">tmp_linesize</name>   <init pos:start="223:41" pos:end="223:56">= <expr pos:start="223:43" pos:end="223:56"><literal type="number" pos:start="223:43" pos:end="223:43">2</literal> <operator pos:start="223:45" pos:end="223:45">*</operator>   <name pos:start="223:49" pos:end="223:56">linesize</name></expr></init></decl>;</decl_stmt>

            <decl_stmt pos:start="225:13" pos:end="225:57"><decl pos:start="225:13" pos:end="225:56"><type pos:start="225:13" pos:end="225:24"><name pos:start="225:13" pos:end="225:20">unsigned</name> <name pos:start="225:22" pos:end="225:24">int</name></type> <name pos:start="225:26" pos:end="225:39">tmp_uvlinesize</name> <init pos:start="225:41" pos:end="225:56">= <expr pos:start="225:43" pos:end="225:56"><literal type="number" pos:start="225:43" pos:end="225:43">2</literal> <operator pos:start="225:45" pos:end="225:45">*</operator> <name pos:start="225:47" pos:end="225:56">uvlinesize</name></expr></init></decl>;</decl_stmt>

            <decl_stmt pos:start="227:13" pos:end="227:50"><decl pos:start="227:13" pos:end="227:49"><type pos:start="227:13" pos:end="227:15"><name pos:start="227:13" pos:end="227:15">int</name></type> <name pos:start="227:17" pos:end="227:22">mbn_xy</name> <init pos:start="227:24" pos:end="227:49">= <expr pos:start="227:26" pos:end="227:49"><name pos:start="227:26" pos:end="227:30">mb_xy</name> <operator pos:start="227:32" pos:end="227:32">-</operator> <literal type="number" pos:start="227:34" pos:end="227:34">2</literal> <operator pos:start="227:36" pos:end="227:36">*</operator> <name pos:start="227:38" pos:end="227:49"><name pos:start="227:38" pos:end="227:38">s</name><operator pos:start="227:39" pos:end="227:40">-&gt;</operator><name pos:start="227:41" pos:end="227:49">mb_stride</name></name></expr></init></decl>;</decl_stmt>

            <decl_stmt pos:start="229:13" pos:end="229:30"><decl pos:start="229:13" pos:end="229:18"><type pos:start="229:13" pos:end="229:15"><name pos:start="229:13" pos:end="229:15">int</name></type> <name pos:start="229:17" pos:end="229:18">qp</name></decl>, <decl pos:start="229:21" pos:end="229:29"><type ref="prev" pos:start="229:13" pos:end="229:15"/><name pos:start="229:21" pos:end="229:29">chroma_qp</name></decl>;</decl_stmt>

            <decl_stmt pos:start="231:13" pos:end="231:21"><decl pos:start="231:13" pos:end="231:17"><type pos:start="231:13" pos:end="231:15"><name pos:start="231:13" pos:end="231:15">int</name></type> <name pos:start="231:17" pos:end="231:17">i</name></decl>, <decl pos:start="231:20" pos:end="231:20"><type ref="prev" pos:start="231:13" pos:end="231:15"/><name pos:start="231:20" pos:end="231:20">j</name></decl>;</decl_stmt>

            <decl_stmt pos:start="233:13" pos:end="233:26"><decl pos:start="233:13" pos:end="233:25"><type pos:start="233:13" pos:end="233:19"><name pos:start="233:13" pos:end="233:19">int16_t</name></type> <name pos:start="233:21" pos:end="233:25"><name pos:start="233:21" pos:end="233:22">bS</name><index pos:start="233:23" pos:end="233:25">[<expr pos:start="233:24" pos:end="233:24"><literal type="number" pos:start="233:24" pos:end="233:24">4</literal></expr>]</index></name></decl>;</decl_stmt>



            <for pos:start="237:13" pos:end="285:13">for<control pos:start="237:16" pos:end="237:54">(<init pos:start="237:17" pos:end="237:20"><expr pos:start="237:17" pos:end="237:19"><name pos:start="237:17" pos:end="237:17">j</name><operator pos:start="237:18" pos:end="237:18">=</operator><literal type="number" pos:start="237:19" pos:end="237:19">0</literal></expr>;</init> <condition pos:start="237:22" pos:end="237:25"><expr pos:start="237:22" pos:end="237:24"><name pos:start="237:22" pos:end="237:22">j</name><operator pos:start="237:23" pos:end="237:23">&lt;</operator><literal type="number" pos:start="237:24" pos:end="237:24">2</literal></expr>;</condition> <incr pos:start="237:27" pos:end="237:53"><expr pos:start="237:27" pos:end="237:29"><name pos:start="237:27" pos:end="237:27">j</name><operator pos:start="237:28" pos:end="237:29">++</operator></expr><operator pos:start="237:30" pos:end="237:30">,</operator> <expr pos:start="237:32" pos:end="237:53"><name pos:start="237:32" pos:end="237:37">mbn_xy</name> <operator pos:start="237:39" pos:end="237:40">+=</operator> <name pos:start="237:42" pos:end="237:53"><name pos:start="237:42" pos:end="237:42">s</name><operator pos:start="237:43" pos:end="237:44">-&gt;</operator><name pos:start="237:45" pos:end="237:53">mb_stride</name></name></expr></incr>)</control><block pos:start="237:55" pos:end="285:13">{<block_content pos:start="239:17" pos:end="283:92">

                <if_stmt pos:start="239:17" pos:end="263:17"><if pos:start="239:17" pos:end="245:17">if<condition pos:start="239:19" pos:end="241:66">( <expr pos:start="239:21" pos:end="241:64"><call pos:start="239:21" pos:end="239:37"><name pos:start="239:21" pos:end="239:28">IS_INTRA</name><argument_list pos:start="239:29" pos:end="239:37">(<argument pos:start="239:30" pos:end="239:36"><expr pos:start="239:30" pos:end="239:36"><name pos:start="239:30" pos:end="239:36">mb_type</name></expr></argument>)</argument_list></call> <operator pos:start="239:39" pos:end="239:40">||</operator>

                    <call pos:start="241:21" pos:end="241:64"><name pos:start="241:21" pos:end="241:28">IS_INTRA</name><argument_list pos:start="241:29" pos:end="241:64">(<argument pos:start="241:30" pos:end="241:63"><expr pos:start="241:30" pos:end="241:63"><name pos:start="241:30" pos:end="241:63"><name pos:start="241:30" pos:end="241:30">s</name><operator pos:start="241:31" pos:end="241:32">-&gt;</operator><name pos:start="241:33" pos:end="241:47">current_picture</name><operator pos:start="241:48" pos:end="241:48">.</operator><name pos:start="241:49" pos:end="241:55">mb_type</name><index pos:start="241:56" pos:end="241:63">[<expr pos:start="241:57" pos:end="241:62"><name pos:start="241:57" pos:end="241:62">mbn_xy</name></expr>]</index></name></expr></argument>)</argument_list></call></expr> )</condition> <block pos:start="241:68" pos:end="245:17">{<block_content pos:start="243:21" pos:end="243:54">

                    <expr_stmt pos:start="243:21" pos:end="243:54"><expr pos:start="243:21" pos:end="243:53"><name pos:start="243:21" pos:end="243:25"><name pos:start="243:21" pos:end="243:22">bS</name><index pos:start="243:23" pos:end="243:25">[<expr pos:start="243:24" pos:end="243:24"><literal type="number" pos:start="243:24" pos:end="243:24">0</literal></expr>]</index></name> <operator pos:start="243:27" pos:end="243:27">=</operator> <name pos:start="243:29" pos:end="243:33"><name pos:start="243:29" pos:end="243:30">bS</name><index pos:start="243:31" pos:end="243:33">[<expr pos:start="243:32" pos:end="243:32"><literal type="number" pos:start="243:32" pos:end="243:32">1</literal></expr>]</index></name> <operator pos:start="243:35" pos:end="243:35">=</operator> <name pos:start="243:37" pos:end="243:41"><name pos:start="243:37" pos:end="243:38">bS</name><index pos:start="243:39" pos:end="243:41">[<expr pos:start="243:40" pos:end="243:40"><literal type="number" pos:start="243:40" pos:end="243:40">2</literal></expr>]</index></name> <operator pos:start="243:43" pos:end="243:43">=</operator> <name pos:start="243:45" pos:end="243:49"><name pos:start="243:45" pos:end="243:46">bS</name><index pos:start="243:47" pos:end="243:49">[<expr pos:start="243:48" pos:end="243:48"><literal type="number" pos:start="243:48" pos:end="243:48">3</literal></expr>]</index></name> <operator pos:start="243:51" pos:end="243:51">=</operator> <literal type="number" pos:start="243:53" pos:end="243:53">3</literal></expr>;</expr_stmt>

                </block_content>}</block></if> <else pos:start="245:19" pos:end="263:17">else <block pos:start="245:24" pos:end="263:17">{<block_content pos:start="247:21" pos:end="261:21">

                    <decl_stmt pos:start="247:21" pos:end="247:71"><decl pos:start="247:21" pos:end="247:70"><type pos:start="247:21" pos:end="247:35"><specifier pos:start="247:21" pos:end="247:25">const</specifier> <name pos:start="247:27" pos:end="247:33">uint8_t</name> <modifier pos:start="247:35" pos:end="247:35">*</modifier></type><name pos:start="247:36" pos:end="247:42">mbn_nnz</name> <init pos:start="247:44" pos:end="247:70">= <expr pos:start="247:46" pos:end="247:70"><name pos:start="247:46" pos:end="247:70"><name pos:start="247:46" pos:end="247:46">h</name><operator pos:start="247:47" pos:end="247:48">-&gt;</operator><name pos:start="247:49" pos:end="247:62">non_zero_count</name><index pos:start="247:63" pos:end="247:70">[<expr pos:start="247:64" pos:end="247:69"><name pos:start="247:64" pos:end="247:69">mbn_xy</name></expr>]</index></name></expr></init></decl>;</decl_stmt>

                    <for pos:start="249:21" pos:end="261:21">for<control pos:start="249:24" pos:end="249:44">( <init pos:start="249:26" pos:end="249:31"><expr pos:start="249:26" pos:end="249:30"><name pos:start="249:26" pos:end="249:26">i</name> <operator pos:start="249:28" pos:end="249:28">=</operator> <literal type="number" pos:start="249:30" pos:end="249:30">0</literal></expr>;</init> <condition pos:start="249:33" pos:end="249:38"><expr pos:start="249:33" pos:end="249:37"><name pos:start="249:33" pos:end="249:33">i</name> <operator pos:start="249:35" pos:end="249:35">&lt;</operator> <literal type="number" pos:start="249:37" pos:end="249:37">4</literal></expr>;</condition> <incr pos:start="249:40" pos:end="249:42"><expr pos:start="249:40" pos:end="249:42"><name pos:start="249:40" pos:end="249:40">i</name><operator pos:start="249:41" pos:end="249:42">++</operator></expr></incr> )</control> <block pos:start="249:46" pos:end="261:21">{<block_content pos:start="251:25" pos:end="259:38">

                        <if_stmt pos:start="251:25" pos:end="259:38"><if pos:start="251:25" pos:end="255:38">if<condition pos:start="251:27" pos:end="253:54">( <expr pos:start="251:29" pos:end="253:52"><name pos:start="251:29" pos:end="251:63"><name pos:start="251:29" pos:end="251:29">h</name><operator pos:start="251:30" pos:end="251:31">-&gt;</operator><name pos:start="251:32" pos:end="251:51">non_zero_count_cache</name><index pos:start="251:52" pos:end="251:63">[<expr pos:start="251:53" pos:end="251:62"><name pos:start="251:53" pos:end="251:60"><name pos:start="251:53" pos:end="251:57">scan8</name><index pos:start="251:58" pos:end="251:60">[<expr pos:start="251:59" pos:end="251:59"><literal type="number" pos:start="251:59" pos:end="251:59">0</literal></expr>]</index></name><operator pos:start="251:61" pos:end="251:61">+</operator><name pos:start="251:62" pos:end="251:62">i</name></expr>]</index></name> <operator pos:start="251:65" pos:end="251:66">!=</operator> <literal type="number" pos:start="251:68" pos:end="251:68">0</literal> <operator pos:start="251:70" pos:end="251:71">||</operator>

                            <name pos:start="253:29" pos:end="253:47"><name pos:start="253:29" pos:end="253:35">mbn_nnz</name><index pos:start="253:36" pos:end="253:47">[<expr pos:start="253:37" pos:end="253:46"><name pos:start="253:37" pos:end="253:46"><name pos:start="253:37" pos:end="253:43">nnz_idx</name><index pos:start="253:44" pos:end="253:46">[<expr pos:start="253:45" pos:end="253:45"><name pos:start="253:45" pos:end="253:45">i</name></expr>]</index></name></expr>]</index></name> <operator pos:start="253:49" pos:end="253:50">!=</operator> <literal type="number" pos:start="253:52" pos:end="253:52">0</literal></expr> )</condition><block type="pseudo" pos:start="255:29" pos:end="255:38"><block_content pos:start="255:29" pos:end="255:38">

                            <expr_stmt pos:start="255:29" pos:end="255:38"><expr pos:start="255:29" pos:end="255:37"><name pos:start="255:29" pos:end="255:33"><name pos:start="255:29" pos:end="255:30">bS</name><index pos:start="255:31" pos:end="255:33">[<expr pos:start="255:32" pos:end="255:32"><name pos:start="255:32" pos:end="255:32">i</name></expr>]</index></name> <operator pos:start="255:35" pos:end="255:35">=</operator> <literal type="number" pos:start="255:37" pos:end="255:37">2</literal></expr>;</expr_stmt></block_content></block></if>

                        <else pos:start="257:25" pos:end="259:38">else<block type="pseudo" pos:start="259:29" pos:end="259:38"><block_content pos:start="259:29" pos:end="259:38">

                            <expr_stmt pos:start="259:29" pos:end="259:38"><expr pos:start="259:29" pos:end="259:37"><name pos:start="259:29" pos:end="259:33"><name pos:start="259:29" pos:end="259:30">bS</name><index pos:start="259:31" pos:end="259:33">[<expr pos:start="259:32" pos:end="259:32"><name pos:start="259:32" pos:end="259:32">i</name></expr>]</index></name> <operator pos:start="259:35" pos:end="259:35">=</operator> <literal type="number" pos:start="259:37" pos:end="259:37">1</literal></expr>;</expr_stmt></block_content></block></else></if_stmt>

                    </block_content>}</block></for>

                </block_content>}</block></else></if_stmt>

                <comment type="line" pos:start="265:17" pos:end="265:85">// Do not use s-&gt;qscale as luma quantizer because it has not the same</comment>

                <comment type="line" pos:start="267:17" pos:end="267:45">// value in IPCM macroblocks.</comment>

                <expr_stmt pos:start="269:17" pos:end="269:115"><expr pos:start="269:17" pos:end="269:114"><name pos:start="269:17" pos:end="269:18">qp</name> <operator pos:start="269:20" pos:end="269:20">=</operator> <operator pos:start="269:22" pos:end="269:22">(</operator> <name pos:start="269:24" pos:end="269:61"><name pos:start="269:24" pos:end="269:24">s</name><operator pos:start="269:25" pos:end="269:26">-&gt;</operator><name pos:start="269:27" pos:end="269:41">current_picture</name><operator pos:start="269:42" pos:end="269:42">.</operator><name pos:start="269:43" pos:end="269:54">qscale_table</name><index pos:start="269:55" pos:end="269:61">[<expr pos:start="269:56" pos:end="269:60"><name pos:start="269:56" pos:end="269:60">mb_xy</name></expr>]</index></name> <operator pos:start="269:63" pos:end="269:63">+</operator> <name pos:start="269:65" pos:end="269:103"><name pos:start="269:65" pos:end="269:65">s</name><operator pos:start="269:66" pos:end="269:67">-&gt;</operator><name pos:start="269:68" pos:end="269:82">current_picture</name><operator pos:start="269:83" pos:end="269:83">.</operator><name pos:start="269:84" pos:end="269:95">qscale_table</name><index pos:start="269:96" pos:end="269:103">[<expr pos:start="269:97" pos:end="269:102"><name pos:start="269:97" pos:end="269:102">mbn_xy</name></expr>]</index></name> <operator pos:start="269:105" pos:end="269:105">+</operator> <literal type="number" pos:start="269:107" pos:end="269:107">1</literal> <operator pos:start="269:109" pos:end="269:109">)</operator> <operator pos:start="269:111" pos:end="269:112">&gt;&gt;</operator> <literal type="number" pos:start="269:114" pos:end="269:114">1</literal></expr>;</expr_stmt>

                <expr_stmt pos:start="271:17" pos:end="271:147"><expr pos:start="271:17" pos:end="271:146"><call pos:start="271:17" pos:end="271:146"><name pos:start="271:17" pos:end="271:23">tprintf</name><argument_list pos:start="271:24" pos:end="271:146">(<argument pos:start="271:25" pos:end="271:32"><expr pos:start="271:25" pos:end="271:32"><name pos:start="271:25" pos:end="271:32"><name pos:start="271:25" pos:end="271:25">s</name><operator pos:start="271:26" pos:end="271:27">-&gt;</operator><name pos:start="271:28" pos:end="271:32">avctx</name></name></expr></argument>, <argument pos:start="271:35" pos:end="271:88"><expr pos:start="271:35" pos:end="271:88"><literal type="string" pos:start="271:35" pos:end="271:88">"filter mb:%d/%d dir:%d edge:%d, QPy:%d ls:%d uvls:%d"</literal></expr></argument>, <argument pos:start="271:91" pos:end="271:94"><expr pos:start="271:91" pos:end="271:94"><name pos:start="271:91" pos:end="271:94">mb_x</name></expr></argument>, <argument pos:start="271:97" pos:end="271:100"><expr pos:start="271:97" pos:end="271:100"><name pos:start="271:97" pos:end="271:100">mb_y</name></expr></argument>, <argument pos:start="271:103" pos:end="271:105"><expr pos:start="271:103" pos:end="271:105"><name pos:start="271:103" pos:end="271:105">dir</name></expr></argument>, <argument pos:start="271:108" pos:end="271:111"><expr pos:start="271:108" pos:end="271:111"><name pos:start="271:108" pos:end="271:111">edge</name></expr></argument>, <argument pos:start="271:114" pos:end="271:115"><expr pos:start="271:114" pos:end="271:115"><name pos:start="271:114" pos:end="271:115">qp</name></expr></argument>, <argument pos:start="271:118" pos:end="271:129"><expr pos:start="271:118" pos:end="271:129"><name pos:start="271:118" pos:end="271:129">tmp_linesize</name></expr></argument>, <argument pos:start="271:132" pos:end="271:145"><expr pos:start="271:132" pos:end="271:145"><name pos:start="271:132" pos:end="271:145">tmp_uvlinesize</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <block pos:start="273:17" pos:end="273:118">{<block_content pos:start="273:19" pos:end="273:116"> <decl_stmt pos:start="273:19" pos:end="273:24"><decl pos:start="273:19" pos:end="273:23"><type pos:start="273:19" pos:end="273:21"><name pos:start="273:19" pos:end="273:21">int</name></type> <name pos:start="273:23" pos:end="273:23">i</name></decl>;</decl_stmt> <for pos:start="273:26" pos:end="273:91">for <control pos:start="273:30" pos:end="273:48">(<init pos:start="273:31" pos:end="273:36"><expr pos:start="273:31" pos:end="273:35"><name pos:start="273:31" pos:end="273:31">i</name> <operator pos:start="273:33" pos:end="273:33">=</operator> <literal type="number" pos:start="273:35" pos:end="273:35">0</literal></expr>;</init> <condition pos:start="273:38" pos:end="273:43"><expr pos:start="273:38" pos:end="273:42"><name pos:start="273:38" pos:end="273:38">i</name> <operator pos:start="273:40" pos:end="273:40">&lt;</operator> <literal type="number" pos:start="273:42" pos:end="273:42">4</literal></expr>;</condition> <incr pos:start="273:45" pos:end="273:47"><expr pos:start="273:45" pos:end="273:47"><name pos:start="273:45" pos:end="273:45">i</name><operator pos:start="273:46" pos:end="273:47">++</operator></expr></incr>)</control><block type="pseudo" pos:start="273:50" pos:end="273:91"><block_content pos:start="273:50" pos:end="273:91"> <expr_stmt pos:start="273:50" pos:end="273:91"><expr pos:start="273:50" pos:end="273:90"><call pos:start="273:50" pos:end="273:90"><name pos:start="273:50" pos:end="273:56">tprintf</name><argument_list pos:start="273:57" pos:end="273:90">(<argument pos:start="273:58" pos:end="273:65"><expr pos:start="273:58" pos:end="273:65"><name pos:start="273:58" pos:end="273:65"><name pos:start="273:58" pos:end="273:58">s</name><operator pos:start="273:59" pos:end="273:60">-&gt;</operator><name pos:start="273:61" pos:end="273:65">avctx</name></name></expr></argument>, <argument pos:start="273:68" pos:end="273:79"><expr pos:start="273:68" pos:end="273:79"><literal type="string" pos:start="273:68" pos:end="273:79">" bS[%d]:%d"</literal></expr></argument>, <argument pos:start="273:82" pos:end="273:82"><expr pos:start="273:82" pos:end="273:82"><name pos:start="273:82" pos:end="273:82">i</name></expr></argument>, <argument pos:start="273:85" pos:end="273:89"><expr pos:start="273:85" pos:end="273:89"><name pos:start="273:85" pos:end="273:89"><name pos:start="273:85" pos:end="273:86">bS</name><index pos:start="273:87" pos:end="273:89">[<expr pos:start="273:88" pos:end="273:88"><name pos:start="273:88" pos:end="273:88">i</name></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></for> <expr_stmt pos:start="273:93" pos:end="273:116"><expr pos:start="273:93" pos:end="273:115"><call pos:start="273:93" pos:end="273:115"><name pos:start="273:93" pos:end="273:99">tprintf</name><argument_list pos:start="273:100" pos:end="273:115">(<argument pos:start="273:101" pos:end="273:108"><expr pos:start="273:101" pos:end="273:108"><name pos:start="273:101" pos:end="273:108"><name pos:start="273:101" pos:end="273:101">s</name><operator pos:start="273:102" pos:end="273:103">-&gt;</operator><name pos:start="273:104" pos:end="273:108">avctx</name></name></expr></argument>, <argument pos:start="273:111" pos:end="273:114"><expr pos:start="273:111" pos:end="273:114"><literal type="string" pos:start="273:111" pos:end="273:114">"\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt> </block_content>}</block>

                <expr_stmt pos:start="275:17" pos:end="275:79"><expr pos:start="275:17" pos:end="275:78"><call pos:start="275:17" pos:end="275:78"><name pos:start="275:17" pos:end="275:31">filter_mb_edgeh</name><argument_list pos:start="275:32" pos:end="275:78">( <argument pos:start="275:34" pos:end="275:34"><expr pos:start="275:34" pos:end="275:34"><name pos:start="275:34" pos:end="275:34">h</name></expr></argument>, <argument pos:start="275:37" pos:end="275:54"><expr pos:start="275:37" pos:end="275:54"><operator pos:start="275:37" pos:end="275:37">&amp;</operator><name pos:start="275:38" pos:end="275:54"><name pos:start="275:38" pos:end="275:42">img_y</name><index pos:start="275:43" pos:end="275:54">[<expr pos:start="275:44" pos:end="275:53"><name pos:start="275:44" pos:end="275:44">j</name><operator pos:start="275:45" pos:end="275:45">*</operator><name pos:start="275:46" pos:end="275:53">linesize</name></expr>]</index></name></expr></argument>, <argument pos:start="275:57" pos:end="275:68"><expr pos:start="275:57" pos:end="275:68"><name pos:start="275:57" pos:end="275:68">tmp_linesize</name></expr></argument>, <argument pos:start="275:71" pos:end="275:72"><expr pos:start="275:71" pos:end="275:72"><name pos:start="275:71" pos:end="275:72">bS</name></expr></argument>, <argument pos:start="275:75" pos:end="275:76"><expr pos:start="275:75" pos:end="275:76"><name pos:start="275:75" pos:end="275:76">qp</name></expr></argument> )</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="277:17" pos:end="279:101"><expr pos:start="277:17" pos:end="279:100"><name pos:start="277:17" pos:end="277:25">chroma_qp</name> <operator pos:start="277:27" pos:end="277:27">=</operator> <operator pos:start="277:29" pos:end="277:29">(</operator> <name pos:start="277:31" pos:end="277:42"><name pos:start="277:31" pos:end="277:31">h</name><operator pos:start="277:32" pos:end="277:33">-&gt;</operator><name pos:start="277:34" pos:end="277:42">chroma_qp</name></name> <operator pos:start="277:44" pos:end="277:44">+</operator>

                              <call pos:start="279:31" pos:end="279:89"><name pos:start="279:31" pos:end="279:43">get_chroma_qp</name><argument_list pos:start="279:44" pos:end="279:89">( <argument pos:start="279:46" pos:end="279:46"><expr pos:start="279:46" pos:end="279:46"><name pos:start="279:46" pos:end="279:46">h</name></expr></argument>, <argument pos:start="279:49" pos:end="279:87"><expr pos:start="279:49" pos:end="279:87"><name pos:start="279:49" pos:end="279:87"><name pos:start="279:49" pos:end="279:49">s</name><operator pos:start="279:50" pos:end="279:51">-&gt;</operator><name pos:start="279:52" pos:end="279:66">current_picture</name><operator pos:start="279:67" pos:end="279:67">.</operator><name pos:start="279:68" pos:end="279:79">qscale_table</name><index pos:start="279:80" pos:end="279:87">[<expr pos:start="279:81" pos:end="279:86"><name pos:start="279:81" pos:end="279:86">mbn_xy</name></expr>]</index></name></expr></argument> )</argument_list></call> <operator pos:start="279:91" pos:end="279:91">+</operator> <literal type="number" pos:start="279:93" pos:end="279:93">1</literal> <operator pos:start="279:95" pos:end="279:95">)</operator> <operator pos:start="279:97" pos:end="279:98">&gt;&gt;</operator> <literal type="number" pos:start="279:100" pos:end="279:100">1</literal></expr>;</expr_stmt>

                <expr_stmt pos:start="281:17" pos:end="281:92"><expr pos:start="281:17" pos:end="281:91"><call pos:start="281:17" pos:end="281:91"><name pos:start="281:17" pos:end="281:32">filter_mb_edgech</name><argument_list pos:start="281:33" pos:end="281:91">( <argument pos:start="281:35" pos:end="281:35"><expr pos:start="281:35" pos:end="281:35"><name pos:start="281:35" pos:end="281:35">h</name></expr></argument>, <argument pos:start="281:38" pos:end="281:58"><expr pos:start="281:38" pos:end="281:58"><operator pos:start="281:38" pos:end="281:38">&amp;</operator><name pos:start="281:39" pos:end="281:58"><name pos:start="281:39" pos:end="281:44">img_cb</name><index pos:start="281:45" pos:end="281:58">[<expr pos:start="281:46" pos:end="281:57"><name pos:start="281:46" pos:end="281:46">j</name><operator pos:start="281:47" pos:end="281:47">*</operator><name pos:start="281:48" pos:end="281:57">uvlinesize</name></expr>]</index></name></expr></argument>, <argument pos:start="281:61" pos:end="281:74"><expr pos:start="281:61" pos:end="281:74"><name pos:start="281:61" pos:end="281:74">tmp_uvlinesize</name></expr></argument>, <argument pos:start="281:77" pos:end="281:78"><expr pos:start="281:77" pos:end="281:78"><name pos:start="281:77" pos:end="281:78">bS</name></expr></argument>, <argument pos:start="281:81" pos:end="281:89"><expr pos:start="281:81" pos:end="281:89"><name pos:start="281:81" pos:end="281:89">chroma_qp</name></expr></argument> )</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="283:17" pos:end="283:92"><expr pos:start="283:17" pos:end="283:91"><call pos:start="283:17" pos:end="283:91"><name pos:start="283:17" pos:end="283:32">filter_mb_edgech</name><argument_list pos:start="283:33" pos:end="283:91">( <argument pos:start="283:35" pos:end="283:35"><expr pos:start="283:35" pos:end="283:35"><name pos:start="283:35" pos:end="283:35">h</name></expr></argument>, <argument pos:start="283:38" pos:end="283:58"><expr pos:start="283:38" pos:end="283:58"><operator pos:start="283:38" pos:end="283:38">&amp;</operator><name pos:start="283:39" pos:end="283:58"><name pos:start="283:39" pos:end="283:44">img_cr</name><index pos:start="283:45" pos:end="283:58">[<expr pos:start="283:46" pos:end="283:57"><name pos:start="283:46" pos:end="283:46">j</name><operator pos:start="283:47" pos:end="283:47">*</operator><name pos:start="283:48" pos:end="283:57">uvlinesize</name></expr>]</index></name></expr></argument>, <argument pos:start="283:61" pos:end="283:74"><expr pos:start="283:61" pos:end="283:74"><name pos:start="283:61" pos:end="283:74">tmp_uvlinesize</name></expr></argument>, <argument pos:start="283:77" pos:end="283:78"><expr pos:start="283:77" pos:end="283:78"><name pos:start="283:77" pos:end="283:78">bS</name></expr></argument>, <argument pos:start="283:81" pos:end="283:89"><expr pos:start="283:81" pos:end="283:89"><name pos:start="283:81" pos:end="283:89">chroma_qp</name></expr></argument> )</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></for>



            <expr_stmt pos:start="289:13" pos:end="289:22"><expr pos:start="289:13" pos:end="289:21"><name pos:start="289:13" pos:end="289:17">start</name> <operator pos:start="289:19" pos:end="289:19">=</operator> <literal type="number" pos:start="289:21" pos:end="289:21">1</literal></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>



        <comment type="block" pos:start="295:9" pos:end="295:26">/* Calculate bS */</comment>

        <for pos:start="297:9" pos:end="505:9">for<control pos:start="297:12" pos:end="297:49">( <init pos:start="297:14" pos:end="297:26"><expr pos:start="297:14" pos:end="297:25"><name pos:start="297:14" pos:end="297:17">edge</name> <operator pos:start="297:19" pos:end="297:19">=</operator> <name pos:start="297:21" pos:end="297:25">start</name></expr>;</init> <condition pos:start="297:28" pos:end="297:40"><expr pos:start="297:28" pos:end="297:39"><name pos:start="297:28" pos:end="297:31">edge</name> <operator pos:start="297:33" pos:end="297:33">&lt;</operator> <name pos:start="297:35" pos:end="297:39">edges</name></expr>;</condition> <incr pos:start="297:42" pos:end="297:47"><expr pos:start="297:42" pos:end="297:47"><name pos:start="297:42" pos:end="297:45">edge</name><operator pos:start="297:46" pos:end="297:47">++</operator></expr></incr> )</control> <block pos:start="297:51" pos:end="505:9">{<block_content pos:start="301:13" pos:end="503:13">

            <comment type="block" pos:start="299:13" pos:end="299:45">/* mbn_xy: neighbor macroblock */</comment>

            <decl_stmt pos:start="301:13" pos:end="301:57"><decl pos:start="301:13" pos:end="301:56"><type pos:start="301:13" pos:end="301:21"><specifier pos:start="301:13" pos:end="301:17">const</specifier> <name pos:start="301:19" pos:end="301:21">int</name></type> <name pos:start="301:23" pos:end="301:28">mbn_xy</name> <init pos:start="301:30" pos:end="301:56">= <expr pos:start="301:32" pos:end="301:56"><ternary pos:start="301:32" pos:end="301:56"><condition pos:start="301:32" pos:end="301:41"><expr pos:start="301:32" pos:end="301:39"><name pos:start="301:32" pos:end="301:35">edge</name> <operator pos:start="301:37" pos:end="301:37">&gt;</operator> <literal type="number" pos:start="301:39" pos:end="301:39">0</literal></expr> ?</condition><then pos:start="301:43" pos:end="301:47"> <expr pos:start="301:43" pos:end="301:47"><name pos:start="301:43" pos:end="301:47">mb_xy</name></expr> </then><else pos:start="301:49" pos:end="301:56">: <expr pos:start="301:51" pos:end="301:56"><name pos:start="301:51" pos:end="301:56">mbm_xy</name></expr></else></ternary></expr></init></decl>;</decl_stmt>

            <decl_stmt pos:start="303:13" pos:end="303:68"><decl pos:start="303:13" pos:end="303:67"><type pos:start="303:13" pos:end="303:21"><specifier pos:start="303:13" pos:end="303:17">const</specifier> <name pos:start="303:19" pos:end="303:21">int</name></type> <name pos:start="303:23" pos:end="303:30">mbn_type</name> <init pos:start="303:32" pos:end="303:67">= <expr pos:start="303:34" pos:end="303:67"><name pos:start="303:34" pos:end="303:67"><name pos:start="303:34" pos:end="303:34">s</name><operator pos:start="303:35" pos:end="303:36">-&gt;</operator><name pos:start="303:37" pos:end="303:51">current_picture</name><operator pos:start="303:52" pos:end="303:52">.</operator><name pos:start="303:53" pos:end="303:59">mb_type</name><index pos:start="303:60" pos:end="303:67">[<expr pos:start="303:61" pos:end="303:66"><name pos:start="303:61" pos:end="303:66">mbn_xy</name></expr>]</index></name></expr></init></decl>;</decl_stmt>

            <decl_stmt pos:start="305:13" pos:end="305:26"><decl pos:start="305:13" pos:end="305:25"><type pos:start="305:13" pos:end="305:19"><name pos:start="305:13" pos:end="305:19">int16_t</name></type> <name pos:start="305:21" pos:end="305:25"><name pos:start="305:21" pos:end="305:22">bS</name><index pos:start="305:23" pos:end="305:25">[<expr pos:start="305:24" pos:end="305:24"><literal type="number" pos:start="305:24" pos:end="305:24">4</literal></expr>]</index></name></decl>;</decl_stmt>

            <decl_stmt pos:start="307:13" pos:end="307:19"><decl pos:start="307:13" pos:end="307:18"><type pos:start="307:13" pos:end="307:15"><name pos:start="307:13" pos:end="307:15">int</name></type> <name pos:start="307:17" pos:end="307:18">qp</name></decl>;</decl_stmt>



            <if_stmt pos:start="311:13" pos:end="313:25"><if pos:start="311:13" pos:end="313:25">if<condition pos:start="311:15" pos:end="311:48">( <expr pos:start="311:17" pos:end="311:46"><operator pos:start="311:17" pos:end="311:17">(</operator><name pos:start="311:18" pos:end="311:21">edge</name><operator pos:start="311:22" pos:end="311:22">&amp;</operator><literal type="number" pos:start="311:23" pos:end="311:23">1</literal><operator pos:start="311:24" pos:end="311:24">)</operator> <operator pos:start="311:26" pos:end="311:27">&amp;&amp;</operator> <call pos:start="311:29" pos:end="311:46"><name pos:start="311:29" pos:end="311:37">IS_8x8DCT</name><argument_list pos:start="311:38" pos:end="311:46">(<argument pos:start="311:39" pos:end="311:45"><expr pos:start="311:39" pos:end="311:45"><name pos:start="311:39" pos:end="311:45">mb_type</name></expr></argument>)</argument_list></call></expr> )</condition><block type="pseudo" pos:start="313:17" pos:end="313:25"><block_content pos:start="313:17" pos:end="313:25">

                <continue pos:start="313:17" pos:end="313:25">continue;</continue></block_content></block></if></if_stmt>



            <if_stmt pos:start="317:13" pos:end="453:13"><if pos:start="317:13" pos:end="347:13">if<condition pos:start="317:15" pos:end="319:36">( <expr pos:start="317:17" pos:end="319:34"><call pos:start="317:17" pos:end="317:33"><name pos:start="317:17" pos:end="317:24">IS_INTRA</name><argument_list pos:start="317:25" pos:end="317:33">(<argument pos:start="317:26" pos:end="317:32"><expr pos:start="317:26" pos:end="317:32"><name pos:start="317:26" pos:end="317:32">mb_type</name></expr></argument>)</argument_list></call> <operator pos:start="317:35" pos:end="317:36">||</operator>

                <call pos:start="319:17" pos:end="319:34"><name pos:start="319:17" pos:end="319:24">IS_INTRA</name><argument_list pos:start="319:25" pos:end="319:34">(<argument pos:start="319:26" pos:end="319:33"><expr pos:start="319:26" pos:end="319:33"><name pos:start="319:26" pos:end="319:33">mbn_type</name></expr></argument>)</argument_list></call></expr> )</condition> <block pos:start="319:38" pos:end="347:13">{<block_content pos:start="321:17" pos:end="345:54">

                <decl_stmt pos:start="321:17" pos:end="321:26"><decl pos:start="321:17" pos:end="321:25"><type pos:start="321:17" pos:end="321:19"><name pos:start="321:17" pos:end="321:19">int</name></type> <name pos:start="321:21" pos:end="321:25">value</name></decl>;</decl_stmt>

                <if_stmt pos:start="323:17" pos:end="343:17"><if pos:start="323:17" pos:end="339:17">if <condition pos:start="323:20" pos:end="323:30">(<expr pos:start="323:21" pos:end="323:29"><name pos:start="323:21" pos:end="323:24">edge</name> <operator pos:start="323:26" pos:end="323:27">==</operator> <literal type="number" pos:start="323:29" pos:end="323:29">0</literal></expr>)</condition> <block pos:start="323:32" pos:end="339:17">{<block_content pos:start="325:21" pos:end="337:21">

                    <if_stmt pos:start="325:21" pos:end="337:21"><if pos:start="325:21" pos:end="333:21">if <condition pos:start="325:24" pos:end="329:21">(   <expr pos:start="325:28" pos:end="327:96"><operator pos:start="325:28" pos:end="325:28">(</operator><operator pos:start="325:29" pos:end="325:29">!</operator><call pos:start="325:30" pos:end="325:51"><name pos:start="325:30" pos:end="325:42">IS_INTERLACED</name><argument_list pos:start="325:43" pos:end="325:51">(<argument pos:start="325:44" pos:end="325:50"><expr pos:start="325:44" pos:end="325:50"><name pos:start="325:44" pos:end="325:50">mb_type</name></expr></argument>)</argument_list></call> <operator pos:start="325:53" pos:end="325:54">&amp;&amp;</operator> <operator pos:start="325:56" pos:end="325:56">!</operator><call pos:start="325:57" pos:end="325:79"><name pos:start="325:57" pos:end="325:69">IS_INTERLACED</name><argument_list pos:start="325:70" pos:end="325:79">(<argument pos:start="325:71" pos:end="325:78"><expr pos:start="325:71" pos:end="325:78"><name pos:start="325:71" pos:end="325:78">mbm_type</name></expr></argument>)</argument_list></call><operator pos:start="325:80" pos:end="325:80">)</operator>

                        <operator pos:start="327:25" pos:end="327:26">||</operator> <operator pos:start="327:28" pos:end="327:28">(</operator><operator pos:start="327:29" pos:end="327:29">(</operator><name pos:start="327:30" pos:end="327:40">FRAME_MBAFF</name> <operator pos:start="327:42" pos:end="327:43">||</operator> <operator pos:start="327:45" pos:end="327:45">(</operator><name pos:start="327:46" pos:end="327:65"><name pos:start="327:46" pos:end="327:46">s</name><operator pos:start="327:47" pos:end="327:48">-&gt;</operator><name pos:start="327:49" pos:end="327:65">picture_structure</name></name> <operator pos:start="327:67" pos:end="327:68">!=</operator> <name pos:start="327:70" pos:end="327:79">PICT_FRAME</name><operator pos:start="327:80" pos:end="327:80">)</operator><operator pos:start="327:81" pos:end="327:81">)</operator> <operator pos:start="327:83" pos:end="327:84">&amp;&amp;</operator> <operator pos:start="327:86" pos:end="327:86">(</operator><name pos:start="327:87" pos:end="327:89">dir</name> <operator pos:start="327:91" pos:end="327:92">==</operator> <literal type="number" pos:start="327:94" pos:end="327:94">0</literal><operator pos:start="327:95" pos:end="327:95">)</operator><operator pos:start="327:96" pos:end="327:96">)</operator></expr>

                    )</condition> <block pos:start="329:23" pos:end="333:21">{<block_content pos:start="331:25" pos:end="331:34">

                        <expr_stmt pos:start="331:25" pos:end="331:34"><expr pos:start="331:25" pos:end="331:33"><name pos:start="331:25" pos:end="331:29">value</name> <operator pos:start="331:31" pos:end="331:31">=</operator> <literal type="number" pos:start="331:33" pos:end="331:33">4</literal></expr>;</expr_stmt>

                    </block_content>}</block></if> <else pos:start="333:23" pos:end="337:21">else <block pos:start="333:28" pos:end="337:21">{<block_content pos:start="335:25" pos:end="335:34">

                        <expr_stmt pos:start="335:25" pos:end="335:34"><expr pos:start="335:25" pos:end="335:33"><name pos:start="335:25" pos:end="335:29">value</name> <operator pos:start="335:31" pos:end="335:31">=</operator> <literal type="number" pos:start="335:33" pos:end="335:33">3</literal></expr>;</expr_stmt>

                    </block_content>}</block></else></if_stmt>

                </block_content>}</block></if> <else pos:start="339:19" pos:end="343:17">else <block pos:start="339:24" pos:end="343:17">{<block_content pos:start="341:21" pos:end="341:30">

                    <expr_stmt pos:start="341:21" pos:end="341:30"><expr pos:start="341:21" pos:end="341:29"><name pos:start="341:21" pos:end="341:25">value</name> <operator pos:start="341:27" pos:end="341:27">=</operator> <literal type="number" pos:start="341:29" pos:end="341:29">3</literal></expr>;</expr_stmt>

                </block_content>}</block></else></if_stmt>

                <expr_stmt pos:start="345:17" pos:end="345:54"><expr pos:start="345:17" pos:end="345:53"><name pos:start="345:17" pos:end="345:21"><name pos:start="345:17" pos:end="345:18">bS</name><index pos:start="345:19" pos:end="345:21">[<expr pos:start="345:20" pos:end="345:20"><literal type="number" pos:start="345:20" pos:end="345:20">0</literal></expr>]</index></name> <operator pos:start="345:23" pos:end="345:23">=</operator> <name pos:start="345:25" pos:end="345:29"><name pos:start="345:25" pos:end="345:26">bS</name><index pos:start="345:27" pos:end="345:29">[<expr pos:start="345:28" pos:end="345:28"><literal type="number" pos:start="345:28" pos:end="345:28">1</literal></expr>]</index></name> <operator pos:start="345:31" pos:end="345:31">=</operator> <name pos:start="345:33" pos:end="345:37"><name pos:start="345:33" pos:end="345:34">bS</name><index pos:start="345:35" pos:end="345:37">[<expr pos:start="345:36" pos:end="345:36"><literal type="number" pos:start="345:36" pos:end="345:36">2</literal></expr>]</index></name> <operator pos:start="345:39" pos:end="345:39">=</operator> <name pos:start="345:41" pos:end="345:45"><name pos:start="345:41" pos:end="345:42">bS</name><index pos:start="345:43" pos:end="345:45">[<expr pos:start="345:44" pos:end="345:44"><literal type="number" pos:start="345:44" pos:end="345:44">3</literal></expr>]</index></name> <operator pos:start="345:47" pos:end="345:47">=</operator> <name pos:start="345:49" pos:end="345:53">value</name></expr>;</expr_stmt>

            </block_content>}</block></if> <else pos:start="347:15" pos:end="453:13">else <block pos:start="347:20" pos:end="453:13">{<block_content pos:start="349:17" pos:end="451:29">

                <decl_stmt pos:start="349:17" pos:end="349:25"><decl pos:start="349:17" pos:end="349:21"><type pos:start="349:17" pos:end="349:19"><name pos:start="349:17" pos:end="349:19">int</name></type> <name pos:start="349:21" pos:end="349:21">i</name></decl>, <decl pos:start="349:24" pos:end="349:24"><type ref="prev" pos:start="349:17" pos:end="349:19"/><name pos:start="349:24" pos:end="349:24">l</name></decl>;</decl_stmt>

                <decl_stmt pos:start="351:17" pos:end="351:28"><decl pos:start="351:17" pos:end="351:27"><type pos:start="351:17" pos:end="351:19"><name pos:start="351:17" pos:end="351:19">int</name></type> <name pos:start="351:21" pos:end="351:27">mv_done</name></decl>;</decl_stmt>



                <if_stmt pos:start="355:17" pos:end="397:32"><if pos:start="355:17" pos:end="361:17">if<condition pos:start="355:19" pos:end="355:38">( <expr pos:start="355:21" pos:end="355:36"><name pos:start="355:21" pos:end="355:24">edge</name> <operator pos:start="355:26" pos:end="355:26">&amp;</operator> <name pos:start="355:28" pos:end="355:36">mask_edge</name></expr> )</condition> <block pos:start="355:40" pos:end="361:17">{<block_content pos:start="357:21" pos:end="359:32">

                    <expr_stmt pos:start="357:21" pos:end="357:54"><expr pos:start="357:21" pos:end="357:53"><name pos:start="357:21" pos:end="357:25"><name pos:start="357:21" pos:end="357:22">bS</name><index pos:start="357:23" pos:end="357:25">[<expr pos:start="357:24" pos:end="357:24"><literal type="number" pos:start="357:24" pos:end="357:24">0</literal></expr>]</index></name> <operator pos:start="357:27" pos:end="357:27">=</operator> <name pos:start="357:29" pos:end="357:33"><name pos:start="357:29" pos:end="357:30">bS</name><index pos:start="357:31" pos:end="357:33">[<expr pos:start="357:32" pos:end="357:32"><literal type="number" pos:start="357:32" pos:end="357:32">1</literal></expr>]</index></name> <operator pos:start="357:35" pos:end="357:35">=</operator> <name pos:start="357:37" pos:end="357:41"><name pos:start="357:37" pos:end="357:38">bS</name><index pos:start="357:39" pos:end="357:41">[<expr pos:start="357:40" pos:end="357:40"><literal type="number" pos:start="357:40" pos:end="357:40">2</literal></expr>]</index></name> <operator pos:start="357:43" pos:end="357:43">=</operator> <name pos:start="357:45" pos:end="357:49"><name pos:start="357:45" pos:end="357:46">bS</name><index pos:start="357:47" pos:end="357:49">[<expr pos:start="357:48" pos:end="357:48"><literal type="number" pos:start="357:48" pos:end="357:48">3</literal></expr>]</index></name> <operator pos:start="357:51" pos:end="357:51">=</operator> <literal type="number" pos:start="357:53" pos:end="357:53">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="359:21" pos:end="359:32"><expr pos:start="359:21" pos:end="359:31"><name pos:start="359:21" pos:end="359:27">mv_done</name> <operator pos:start="359:29" pos:end="359:29">=</operator> <literal type="number" pos:start="359:31" pos:end="359:31">1</literal></expr>;</expr_stmt>

                </block_content>}</block></if>

                <if type="elseif" pos:start="363:17" pos:end="369:17">else if<condition pos:start="363:24" pos:end="363:74">( <expr pos:start="363:26" pos:end="363:73"><name pos:start="363:26" pos:end="363:36">FRAME_MBAFF</name> <operator pos:start="363:38" pos:end="363:39">&amp;&amp;</operator> <call pos:start="363:41" pos:end="363:73"><name pos:start="363:41" pos:end="363:53">IS_INTERLACED</name><argument_list pos:start="363:54" pos:end="363:73">(<argument pos:start="363:55" pos:end="363:72"><expr pos:start="363:55" pos:end="363:72"><name pos:start="363:55" pos:end="363:61">mb_type</name> <operator pos:start="363:63" pos:end="363:63">^</operator> <name pos:start="363:65" pos:end="363:72">mbn_type</name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="363:76" pos:end="369:17">{<block_content pos:start="365:21" pos:end="367:32">

                    <expr_stmt pos:start="365:21" pos:end="365:54"><expr pos:start="365:21" pos:end="365:53"><name pos:start="365:21" pos:end="365:25"><name pos:start="365:21" pos:end="365:22">bS</name><index pos:start="365:23" pos:end="365:25">[<expr pos:start="365:24" pos:end="365:24"><literal type="number" pos:start="365:24" pos:end="365:24">0</literal></expr>]</index></name> <operator pos:start="365:27" pos:end="365:27">=</operator> <name pos:start="365:29" pos:end="365:33"><name pos:start="365:29" pos:end="365:30">bS</name><index pos:start="365:31" pos:end="365:33">[<expr pos:start="365:32" pos:end="365:32"><literal type="number" pos:start="365:32" pos:end="365:32">1</literal></expr>]</index></name> <operator pos:start="365:35" pos:end="365:35">=</operator> <name pos:start="365:37" pos:end="365:41"><name pos:start="365:37" pos:end="365:38">bS</name><index pos:start="365:39" pos:end="365:41">[<expr pos:start="365:40" pos:end="365:40"><literal type="number" pos:start="365:40" pos:end="365:40">2</literal></expr>]</index></name> <operator pos:start="365:43" pos:end="365:43">=</operator> <name pos:start="365:45" pos:end="365:49"><name pos:start="365:45" pos:end="365:46">bS</name><index pos:start="365:47" pos:end="365:49">[<expr pos:start="365:48" pos:end="365:48"><literal type="number" pos:start="365:48" pos:end="365:48">3</literal></expr>]</index></name> <operator pos:start="365:51" pos:end="365:51">=</operator> <literal type="number" pos:start="365:53" pos:end="365:53">1</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="367:21" pos:end="367:32"><expr pos:start="367:21" pos:end="367:31"><name pos:start="367:21" pos:end="367:27">mv_done</name> <operator pos:start="367:29" pos:end="367:29">=</operator> <literal type="number" pos:start="367:31" pos:end="367:31">1</literal></expr>;</expr_stmt>

                </block_content>}</block></if>

                <if type="elseif" pos:start="371:17" pos:end="393:17">else if<condition pos:start="371:24" pos:end="371:102">( <expr pos:start="371:26" pos:end="371:100"><name pos:start="371:26" pos:end="371:34">mask_par0</name> <operator pos:start="371:36" pos:end="371:37">&amp;&amp;</operator> <operator pos:start="371:39" pos:end="371:39">(</operator><name pos:start="371:40" pos:end="371:43">edge</name> <operator pos:start="371:45" pos:end="371:46">||</operator> <operator pos:start="371:48" pos:end="371:48">(</operator><name pos:start="371:49" pos:end="371:56">mbn_type</name> <operator pos:start="371:58" pos:end="371:58">&amp;</operator> <operator pos:start="371:60" pos:end="371:60">(</operator><name pos:start="371:61" pos:end="371:73">MB_TYPE_16x16</name> <operator pos:start="371:75" pos:end="371:75">|</operator> <operator pos:start="371:77" pos:end="371:77">(</operator><name pos:start="371:78" pos:end="371:89">MB_TYPE_8x16</name> <operator pos:start="371:91" pos:end="371:92">&gt;&gt;</operator> <name pos:start="371:94" pos:end="371:96">dir</name><operator pos:start="371:97" pos:end="371:97">)</operator><operator pos:start="371:98" pos:end="371:98">)</operator><operator pos:start="371:99" pos:end="371:99">)</operator><operator pos:start="371:100" pos:end="371:100">)</operator></expr> )</condition> <block pos:start="371:104" pos:end="393:17">{<block_content pos:start="373:21" pos:end="391:32">

                    <decl_stmt pos:start="373:21" pos:end="373:58"><decl pos:start="373:21" pos:end="373:57"><type pos:start="373:21" pos:end="373:23"><name pos:start="373:21" pos:end="373:23">int</name></type> <name pos:start="373:25" pos:end="373:29">b_idx</name><init pos:start="373:30" pos:end="373:57">= <expr pos:start="373:32" pos:end="373:57"><literal type="number" pos:start="373:32" pos:end="373:34">8</literal> <operator pos:start="373:34" pos:end="373:34">+</operator> <literal type="number" pos:start="373:36" pos:end="373:38">4</literal> <operator pos:start="373:38" pos:end="373:38">+</operator> <name pos:start="373:40" pos:end="373:43">edge</name> <operator pos:start="373:45" pos:end="373:45">*</operator> <operator pos:start="373:47" pos:end="373:47">(</operator><ternary pos:start="373:48" pos:end="373:56"><condition pos:start="373:48" pos:end="373:52"><expr pos:start="373:48" pos:end="373:50"><name pos:start="373:48" pos:end="373:50">dir</name></expr> ?</condition><then pos:start="373:54" pos:end="373:54"> <expr pos:start="373:54" pos:end="373:54"><literal type="number" pos:start="373:54" pos:end="373:54">8</literal></expr></then><else pos:start="373:55" pos:end="373:56">:<expr pos:start="373:56" pos:end="373:56"><literal type="number" pos:start="373:56" pos:end="373:56">1</literal></expr></else></ternary><operator pos:start="373:57" pos:end="373:57">)</operator></expr></init></decl>;</decl_stmt>

                    <decl_stmt pos:start="375:21" pos:end="375:52"><decl pos:start="375:21" pos:end="375:51"><type pos:start="375:21" pos:end="375:23"><name pos:start="375:21" pos:end="375:23">int</name></type> <name pos:start="375:25" pos:end="375:30">bn_idx</name><init pos:start="375:31" pos:end="375:51">= <expr pos:start="375:33" pos:end="375:51"><name pos:start="375:33" pos:end="375:37">b_idx</name> <operator pos:start="375:39" pos:end="375:39">-</operator> <operator pos:start="375:41" pos:end="375:41">(</operator><ternary pos:start="375:42" pos:end="375:50"><condition pos:start="375:42" pos:end="375:46"><expr pos:start="375:42" pos:end="375:44"><name pos:start="375:42" pos:end="375:44">dir</name></expr> ?</condition><then pos:start="375:48" pos:end="375:48"> <expr pos:start="375:48" pos:end="375:48"><literal type="number" pos:start="375:48" pos:end="375:48">8</literal></expr></then><else pos:start="375:49" pos:end="375:50">:<expr pos:start="375:50" pos:end="375:50"><literal type="number" pos:start="375:50" pos:end="375:50">1</literal></expr></else></ternary><operator pos:start="375:51" pos:end="375:51">)</operator></expr></init></decl>;</decl_stmt>

                    <decl_stmt pos:start="377:21" pos:end="377:30"><decl pos:start="377:21" pos:end="377:29"><type pos:start="377:21" pos:end="377:23"><name pos:start="377:21" pos:end="377:23">int</name></type> <name pos:start="377:25" pos:end="377:25">v</name> <init pos:start="377:27" pos:end="377:29">= <expr pos:start="377:29" pos:end="377:29"><literal type="number" pos:start="377:29" pos:end="377:29">0</literal></expr></init></decl>;</decl_stmt>

                    <for pos:start="379:21" pos:end="387:21">for<control pos:start="379:24" pos:end="379:78">( <init pos:start="379:26" pos:end="379:31"><expr pos:start="379:26" pos:end="379:30"><name pos:start="379:26" pos:end="379:26">l</name> <operator pos:start="379:28" pos:end="379:28">=</operator> <literal type="number" pos:start="379:30" pos:end="379:30">0</literal></expr>;</init> <condition pos:start="379:33" pos:end="379:72"><expr pos:start="379:33" pos:end="379:71"><operator pos:start="379:33" pos:end="379:33">!</operator><name pos:start="379:34" pos:end="379:34">v</name> <operator pos:start="379:36" pos:end="379:37">&amp;&amp;</operator> <name pos:start="379:39" pos:end="379:39">l</name> <operator pos:start="379:41" pos:end="379:41">&lt;</operator> <literal type="number" pos:start="379:43" pos:end="379:45">1</literal> <operator pos:start="379:45" pos:end="379:45">+</operator> <operator pos:start="379:47" pos:end="379:47">(</operator><name pos:start="379:48" pos:end="379:60"><name pos:start="379:48" pos:end="379:48">h</name><operator pos:start="379:49" pos:end="379:50">-&gt;</operator><name pos:start="379:51" pos:end="379:60">slice_type</name></name> <operator pos:start="379:62" pos:end="379:63">==</operator> <name pos:start="379:65" pos:end="379:70">B_TYPE</name><operator pos:start="379:71" pos:end="379:71">)</operator></expr>;</condition> <incr pos:start="379:74" pos:end="379:76"><expr pos:start="379:74" pos:end="379:76"><name pos:start="379:74" pos:end="379:74">l</name><operator pos:start="379:75" pos:end="379:76">++</operator></expr></incr> )</control> <block pos:start="379:80" pos:end="387:21">{<block_content pos:start="381:25" pos:end="385:104">

                        <expr_stmt pos:start="381:25" pos:end="385:104"><expr pos:start="381:25" pos:end="385:103"><name pos:start="381:25" pos:end="381:25">v</name> <operator pos:start="381:27" pos:end="381:28">|=</operator> <name pos:start="381:30" pos:end="381:62"><name pos:start="381:30" pos:end="381:36">ref2frm</name><index pos:start="381:37" pos:end="381:62">[<expr pos:start="381:38" pos:end="381:61"><name pos:start="381:38" pos:end="381:59"><name pos:start="381:38" pos:end="381:38">h</name><operator pos:start="381:39" pos:end="381:40">-&gt;</operator><name pos:start="381:41" pos:end="381:49">ref_cache</name><index pos:start="381:50" pos:end="381:52">[<expr pos:start="381:51" pos:end="381:51"><name pos:start="381:51" pos:end="381:51">l</name></expr>]</index><index pos:start="381:53" pos:end="381:59">[<expr pos:start="381:54" pos:end="381:58"><name pos:start="381:54" pos:end="381:58">b_idx</name></expr>]</index></name><operator pos:start="381:60" pos:end="381:60">+</operator><literal type="number" pos:start="381:61" pos:end="381:61">2</literal></expr>]</index></name> <operator pos:start="381:64" pos:end="381:65">!=</operator> <name pos:start="381:67" pos:end="381:100"><name pos:start="381:67" pos:end="381:73">ref2frm</name><index pos:start="381:74" pos:end="381:100">[<expr pos:start="381:75" pos:end="381:99"><name pos:start="381:75" pos:end="381:97"><name pos:start="381:75" pos:end="381:75">h</name><operator pos:start="381:76" pos:end="381:77">-&gt;</operator><name pos:start="381:78" pos:end="381:86">ref_cache</name><index pos:start="381:87" pos:end="381:89">[<expr pos:start="381:88" pos:end="381:88"><name pos:start="381:88" pos:end="381:88">l</name></expr>]</index><index pos:start="381:90" pos:end="381:97">[<expr pos:start="381:91" pos:end="381:96"><name pos:start="381:91" pos:end="381:96">bn_idx</name></expr>]</index></name><operator pos:start="381:98" pos:end="381:98">+</operator><literal type="number" pos:start="381:99" pos:end="381:99">2</literal></expr>]</index></name> <operator pos:start="381:102" pos:end="381:103">||</operator>

                             <call pos:start="383:30" pos:end="383:90"><name pos:start="383:30" pos:end="383:34">FFABS</name><argument_list pos:start="383:35" pos:end="383:90">( <argument pos:start="383:37" pos:end="383:88"><expr pos:start="383:37" pos:end="383:88"><name pos:start="383:37" pos:end="383:60"><name pos:start="383:37" pos:end="383:37">h</name><operator pos:start="383:38" pos:end="383:39">-&gt;</operator><name pos:start="383:40" pos:end="383:47">mv_cache</name><index pos:start="383:48" pos:end="383:50">[<expr pos:start="383:49" pos:end="383:49"><name pos:start="383:49" pos:end="383:49">l</name></expr>]</index><index pos:start="383:51" pos:end="383:57">[<expr pos:start="383:52" pos:end="383:56"><name pos:start="383:52" pos:end="383:56">b_idx</name></expr>]</index><index pos:start="383:58" pos:end="383:60">[<expr pos:start="383:59" pos:end="383:59"><literal type="number" pos:start="383:59" pos:end="383:59">0</literal></expr>]</index></name> <operator pos:start="383:62" pos:end="383:62">-</operator> <name pos:start="383:64" pos:end="383:88"><name pos:start="383:64" pos:end="383:64">h</name><operator pos:start="383:65" pos:end="383:66">-&gt;</operator><name pos:start="383:67" pos:end="383:74">mv_cache</name><index pos:start="383:75" pos:end="383:77">[<expr pos:start="383:76" pos:end="383:76"><name pos:start="383:76" pos:end="383:76">l</name></expr>]</index><index pos:start="383:78" pos:end="383:85">[<expr pos:start="383:79" pos:end="383:84"><name pos:start="383:79" pos:end="383:84">bn_idx</name></expr>]</index><index pos:start="383:86" pos:end="383:88">[<expr pos:start="383:87" pos:end="383:87"><literal type="number" pos:start="383:87" pos:end="383:87">0</literal></expr>]</index></name></expr></argument> )</argument_list></call> <operator pos:start="383:92" pos:end="383:93">&gt;=</operator> <literal type="number" pos:start="383:95" pos:end="383:95">4</literal> <operator pos:start="383:97" pos:end="383:98">||</operator>

                             <call pos:start="385:30" pos:end="385:90"><name pos:start="385:30" pos:end="385:34">FFABS</name><argument_list pos:start="385:35" pos:end="385:90">( <argument pos:start="385:37" pos:end="385:88"><expr pos:start="385:37" pos:end="385:88"><name pos:start="385:37" pos:end="385:60"><name pos:start="385:37" pos:end="385:37">h</name><operator pos:start="385:38" pos:end="385:39">-&gt;</operator><name pos:start="385:40" pos:end="385:47">mv_cache</name><index pos:start="385:48" pos:end="385:50">[<expr pos:start="385:49" pos:end="385:49"><name pos:start="385:49" pos:end="385:49">l</name></expr>]</index><index pos:start="385:51" pos:end="385:57">[<expr pos:start="385:52" pos:end="385:56"><name pos:start="385:52" pos:end="385:56">b_idx</name></expr>]</index><index pos:start="385:58" pos:end="385:60">[<expr pos:start="385:59" pos:end="385:59"><literal type="number" pos:start="385:59" pos:end="385:59">1</literal></expr>]</index></name> <operator pos:start="385:62" pos:end="385:62">-</operator> <name pos:start="385:64" pos:end="385:88"><name pos:start="385:64" pos:end="385:64">h</name><operator pos:start="385:65" pos:end="385:66">-&gt;</operator><name pos:start="385:67" pos:end="385:74">mv_cache</name><index pos:start="385:75" pos:end="385:77">[<expr pos:start="385:76" pos:end="385:76"><name pos:start="385:76" pos:end="385:76">l</name></expr>]</index><index pos:start="385:78" pos:end="385:85">[<expr pos:start="385:79" pos:end="385:84"><name pos:start="385:79" pos:end="385:84">bn_idx</name></expr>]</index><index pos:start="385:86" pos:end="385:88">[<expr pos:start="385:87" pos:end="385:87"><literal type="number" pos:start="385:87" pos:end="385:87">1</literal></expr>]</index></name></expr></argument> )</argument_list></call> <operator pos:start="385:92" pos:end="385:93">&gt;=</operator> <name pos:start="385:95" pos:end="385:103">mvy_limit</name></expr>;</expr_stmt>

                    </block_content>}</block></for>

                    <expr_stmt pos:start="389:21" pos:end="389:54"><expr pos:start="389:21" pos:end="389:53"><name pos:start="389:21" pos:end="389:25"><name pos:start="389:21" pos:end="389:22">bS</name><index pos:start="389:23" pos:end="389:25">[<expr pos:start="389:24" pos:end="389:24"><literal type="number" pos:start="389:24" pos:end="389:24">0</literal></expr>]</index></name> <operator pos:start="389:27" pos:end="389:27">=</operator> <name pos:start="389:29" pos:end="389:33"><name pos:start="389:29" pos:end="389:30">bS</name><index pos:start="389:31" pos:end="389:33">[<expr pos:start="389:32" pos:end="389:32"><literal type="number" pos:start="389:32" pos:end="389:32">1</literal></expr>]</index></name> <operator pos:start="389:35" pos:end="389:35">=</operator> <name pos:start="389:37" pos:end="389:41"><name pos:start="389:37" pos:end="389:38">bS</name><index pos:start="389:39" pos:end="389:41">[<expr pos:start="389:40" pos:end="389:40"><literal type="number" pos:start="389:40" pos:end="389:40">2</literal></expr>]</index></name> <operator pos:start="389:43" pos:end="389:43">=</operator> <name pos:start="389:45" pos:end="389:49"><name pos:start="389:45" pos:end="389:46">bS</name><index pos:start="389:47" pos:end="389:49">[<expr pos:start="389:48" pos:end="389:48"><literal type="number" pos:start="389:48" pos:end="389:48">3</literal></expr>]</index></name> <operator pos:start="389:51" pos:end="389:51">=</operator> <name pos:start="389:53" pos:end="389:53">v</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="391:21" pos:end="391:32"><expr pos:start="391:21" pos:end="391:31"><name pos:start="391:21" pos:end="391:27">mv_done</name> <operator pos:start="391:29" pos:end="391:29">=</operator> <literal type="number" pos:start="391:31" pos:end="391:31">1</literal></expr>;</expr_stmt>

                </block_content>}</block></if>

                <else pos:start="395:17" pos:end="397:32">else<block type="pseudo" pos:start="397:21" pos:end="397:32"><block_content pos:start="397:21" pos:end="397:32">

                    <expr_stmt pos:start="397:21" pos:end="397:32"><expr pos:start="397:21" pos:end="397:31"><name pos:start="397:21" pos:end="397:27">mv_done</name> <operator pos:start="397:29" pos:end="397:29">=</operator> <literal type="number" pos:start="397:31" pos:end="397:31">0</literal></expr>;</expr_stmt></block_content></block></else></if_stmt>



                <for pos:start="401:17" pos:end="445:17">for<control pos:start="401:20" pos:end="401:40">( <init pos:start="401:22" pos:end="401:27"><expr pos:start="401:22" pos:end="401:26"><name pos:start="401:22" pos:end="401:22">i</name> <operator pos:start="401:24" pos:end="401:24">=</operator> <literal type="number" pos:start="401:26" pos:end="401:26">0</literal></expr>;</init> <condition pos:start="401:29" pos:end="401:34"><expr pos:start="401:29" pos:end="401:33"><name pos:start="401:29" pos:end="401:29">i</name> <operator pos:start="401:31" pos:end="401:31">&lt;</operator> <literal type="number" pos:start="401:33" pos:end="401:33">4</literal></expr>;</condition> <incr pos:start="401:36" pos:end="401:38"><expr pos:start="401:36" pos:end="401:38"><name pos:start="401:36" pos:end="401:36">i</name><operator pos:start="401:37" pos:end="401:38">++</operator></expr></incr> )</control> <block pos:start="401:42" pos:end="445:17">{<block_content pos:start="403:21" pos:end="443:21">

                    <decl_stmt pos:start="403:21" pos:end="403:48"><decl pos:start="403:21" pos:end="403:47"><type pos:start="403:21" pos:end="403:23"><name pos:start="403:21" pos:end="403:23">int</name></type> <name pos:start="403:25" pos:end="403:25">x</name> <init pos:start="403:27" pos:end="403:47">= <expr pos:start="403:29" pos:end="403:47"><ternary pos:start="403:29" pos:end="403:47"><condition pos:start="403:29" pos:end="403:38"><expr pos:start="403:29" pos:end="403:36"><name pos:start="403:29" pos:end="403:31">dir</name> <operator pos:start="403:33" pos:end="403:34">==</operator> <literal type="number" pos:start="403:36" pos:end="403:36">0</literal></expr> ?</condition><then pos:start="403:40" pos:end="403:43"> <expr pos:start="403:40" pos:end="403:43"><name pos:start="403:40" pos:end="403:43">edge</name></expr> </then><else pos:start="403:45" pos:end="403:47">: <expr pos:start="403:47" pos:end="403:47"><name pos:start="403:47" pos:end="403:47">i</name></expr></else></ternary></expr></init></decl>;</decl_stmt>

                    <decl_stmt pos:start="405:21" pos:end="405:51"><decl pos:start="405:21" pos:end="405:50"><type pos:start="405:21" pos:end="405:23"><name pos:start="405:21" pos:end="405:23">int</name></type> <name pos:start="405:25" pos:end="405:25">y</name> <init pos:start="405:27" pos:end="405:50">= <expr pos:start="405:29" pos:end="405:50"><ternary pos:start="405:29" pos:end="405:50"><condition pos:start="405:29" pos:end="405:38"><expr pos:start="405:29" pos:end="405:36"><name pos:start="405:29" pos:end="405:31">dir</name> <operator pos:start="405:33" pos:end="405:34">==</operator> <literal type="number" pos:start="405:36" pos:end="405:36">0</literal></expr> ?</condition><then pos:start="405:40" pos:end="405:40"> <expr pos:start="405:40" pos:end="405:40"><name pos:start="405:40" pos:end="405:40">i</name></expr>    </then><else pos:start="405:45" pos:end="405:50">: <expr pos:start="405:47" pos:end="405:50"><name pos:start="405:47" pos:end="405:50">edge</name></expr></else></ternary></expr></init></decl>;</decl_stmt>

                    <decl_stmt pos:start="407:21" pos:end="407:47"><decl pos:start="407:21" pos:end="407:46"><type pos:start="407:21" pos:end="407:23"><name pos:start="407:21" pos:end="407:23">int</name></type> <name pos:start="407:25" pos:end="407:29">b_idx</name><init pos:start="407:30" pos:end="407:46">= <expr pos:start="407:32" pos:end="407:46"><literal type="number" pos:start="407:32" pos:end="407:34">8</literal> <operator pos:start="407:34" pos:end="407:34">+</operator> <literal type="number" pos:start="407:36" pos:end="407:38">4</literal> <operator pos:start="407:38" pos:end="407:38">+</operator> <name pos:start="407:40" pos:end="407:40">x</name> <operator pos:start="407:42" pos:end="407:42">+</operator> <literal type="number" pos:start="407:44" pos:end="407:44">8</literal><operator pos:start="407:45" pos:end="407:45">*</operator><name pos:start="407:46" pos:end="407:46">y</name></expr></init></decl>;</decl_stmt>

                    <decl_stmt pos:start="409:21" pos:end="409:52"><decl pos:start="409:21" pos:end="409:51"><type pos:start="409:21" pos:end="409:23"><name pos:start="409:21" pos:end="409:23">int</name></type> <name pos:start="409:25" pos:end="409:30">bn_idx</name><init pos:start="409:31" pos:end="409:51">= <expr pos:start="409:33" pos:end="409:51"><name pos:start="409:33" pos:end="409:37">b_idx</name> <operator pos:start="409:39" pos:end="409:39">-</operator> <operator pos:start="409:41" pos:end="409:41">(</operator><ternary pos:start="409:42" pos:end="409:50"><condition pos:start="409:42" pos:end="409:46"><expr pos:start="409:42" pos:end="409:44"><name pos:start="409:42" pos:end="409:44">dir</name></expr> ?</condition><then pos:start="409:48" pos:end="409:48"> <expr pos:start="409:48" pos:end="409:48"><literal type="number" pos:start="409:48" pos:end="409:48">8</literal></expr></then><else pos:start="409:49" pos:end="409:50">:<expr pos:start="409:50" pos:end="409:50"><literal type="number" pos:start="409:50" pos:end="409:50">1</literal></expr></else></ternary><operator pos:start="409:51" pos:end="409:51">)</operator></expr></init></decl>;</decl_stmt>



                    <if_stmt pos:start="413:21" pos:end="443:21"><if pos:start="413:21" pos:end="419:21">if<condition pos:start="413:23" pos:end="415:62">( <expr pos:start="413:25" pos:end="415:60"><name pos:start="413:25" pos:end="413:54"><name pos:start="413:25" pos:end="413:25">h</name><operator pos:start="413:26" pos:end="413:27">-&gt;</operator><name pos:start="413:28" pos:end="413:47">non_zero_count_cache</name><index pos:start="413:48" pos:end="413:54">[<expr pos:start="413:49" pos:end="413:53"><name pos:start="413:49" pos:end="413:53">b_idx</name></expr>]</index></name> <operator pos:start="413:56" pos:end="413:57">!=</operator> <literal type="number" pos:start="413:59" pos:end="413:59">0</literal> <operator pos:start="413:61" pos:end="413:62">||</operator>

                        <name pos:start="415:25" pos:end="415:55"><name pos:start="415:25" pos:end="415:25">h</name><operator pos:start="415:26" pos:end="415:27">-&gt;</operator><name pos:start="415:28" pos:end="415:47">non_zero_count_cache</name><index pos:start="415:48" pos:end="415:55">[<expr pos:start="415:49" pos:end="415:54"><name pos:start="415:49" pos:end="415:54">bn_idx</name></expr>]</index></name> <operator pos:start="415:57" pos:end="415:58">!=</operator> <literal type="number" pos:start="415:60" pos:end="415:60">0</literal></expr> )</condition> <block pos:start="415:64" pos:end="419:21">{<block_content pos:start="417:25" pos:end="417:34">

                        <expr_stmt pos:start="417:25" pos:end="417:34"><expr pos:start="417:25" pos:end="417:33"><name pos:start="417:25" pos:end="417:29"><name pos:start="417:25" pos:end="417:26">bS</name><index pos:start="417:27" pos:end="417:29">[<expr pos:start="417:28" pos:end="417:28"><name pos:start="417:28" pos:end="417:28">i</name></expr>]</index></name> <operator pos:start="417:31" pos:end="417:31">=</operator> <literal type="number" pos:start="417:33" pos:end="417:33">2</literal></expr>;</expr_stmt>

                    </block_content>}</block></if>

                    <if type="elseif" pos:start="421:21" pos:end="443:21">else if<condition pos:start="421:28" pos:end="421:37">(<expr pos:start="421:29" pos:end="421:36"><operator pos:start="421:29" pos:end="421:29">!</operator><name pos:start="421:30" pos:end="421:36">mv_done</name></expr>)</condition>

                    <block pos:start="423:21" pos:end="443:21">{<block_content pos:start="425:25" pos:end="441:25">

                        <expr_stmt pos:start="425:25" pos:end="425:34"><expr pos:start="425:25" pos:end="425:33"><name pos:start="425:25" pos:end="425:29"><name pos:start="425:25" pos:end="425:26">bS</name><index pos:start="425:27" pos:end="425:29">[<expr pos:start="425:28" pos:end="425:28"><name pos:start="425:28" pos:end="425:28">i</name></expr>]</index></name> <operator pos:start="425:31" pos:end="425:31">=</operator> <literal type="number" pos:start="425:33" pos:end="425:33">0</literal></expr>;</expr_stmt>

                        <for pos:start="427:25" pos:end="441:25">for<control pos:start="427:28" pos:end="427:76">( <init pos:start="427:30" pos:end="427:35"><expr pos:start="427:30" pos:end="427:34"><name pos:start="427:30" pos:end="427:30">l</name> <operator pos:start="427:32" pos:end="427:32">=</operator> <literal type="number" pos:start="427:34" pos:end="427:34">0</literal></expr>;</init> <condition pos:start="427:37" pos:end="427:70"><expr pos:start="427:37" pos:end="427:69"><name pos:start="427:37" pos:end="427:37">l</name> <operator pos:start="427:39" pos:end="427:39">&lt;</operator> <literal type="number" pos:start="427:41" pos:end="427:43">1</literal> <operator pos:start="427:43" pos:end="427:43">+</operator> <operator pos:start="427:45" pos:end="427:45">(</operator><name pos:start="427:46" pos:end="427:58"><name pos:start="427:46" pos:end="427:46">h</name><operator pos:start="427:47" pos:end="427:48">-&gt;</operator><name pos:start="427:49" pos:end="427:58">slice_type</name></name> <operator pos:start="427:60" pos:end="427:61">==</operator> <name pos:start="427:63" pos:end="427:68">B_TYPE</name><operator pos:start="427:69" pos:end="427:69">)</operator></expr>;</condition> <incr pos:start="427:72" pos:end="427:74"><expr pos:start="427:72" pos:end="427:74"><name pos:start="427:72" pos:end="427:72">l</name><operator pos:start="427:73" pos:end="427:74">++</operator></expr></incr> )</control> <block pos:start="427:78" pos:end="441:25">{<block_content pos:start="429:29" pos:end="439:29">

                            <if_stmt pos:start="429:29" pos:end="439:29"><if pos:start="429:29" pos:end="439:29">if<condition pos:start="429:31" pos:end="433:108">( <expr pos:start="429:33" pos:end="433:106"><name pos:start="429:33" pos:end="429:65"><name pos:start="429:33" pos:end="429:39">ref2frm</name><index pos:start="429:40" pos:end="429:65">[<expr pos:start="429:41" pos:end="429:64"><name pos:start="429:41" pos:end="429:62"><name pos:start="429:41" pos:end="429:41">h</name><operator pos:start="429:42" pos:end="429:43">-&gt;</operator><name pos:start="429:44" pos:end="429:52">ref_cache</name><index pos:start="429:53" pos:end="429:55">[<expr pos:start="429:54" pos:end="429:54"><name pos:start="429:54" pos:end="429:54">l</name></expr>]</index><index pos:start="429:56" pos:end="429:62">[<expr pos:start="429:57" pos:end="429:61"><name pos:start="429:57" pos:end="429:61">b_idx</name></expr>]</index></name><operator pos:start="429:63" pos:end="429:63">+</operator><literal type="number" pos:start="429:64" pos:end="429:64">2</literal></expr>]</index></name> <operator pos:start="429:67" pos:end="429:68">!=</operator> <name pos:start="429:70" pos:end="429:103"><name pos:start="429:70" pos:end="429:76">ref2frm</name><index pos:start="429:77" pos:end="429:103">[<expr pos:start="429:78" pos:end="429:102"><name pos:start="429:78" pos:end="429:100"><name pos:start="429:78" pos:end="429:78">h</name><operator pos:start="429:79" pos:end="429:80">-&gt;</operator><name pos:start="429:81" pos:end="429:89">ref_cache</name><index pos:start="429:90" pos:end="429:92">[<expr pos:start="429:91" pos:end="429:91"><name pos:start="429:91" pos:end="429:91">l</name></expr>]</index><index pos:start="429:93" pos:end="429:100">[<expr pos:start="429:94" pos:end="429:99"><name pos:start="429:94" pos:end="429:99">bn_idx</name></expr>]</index></name><operator pos:start="429:101" pos:end="429:101">+</operator><literal type="number" pos:start="429:102" pos:end="429:102">2</literal></expr>]</index></name> <operator pos:start="429:105" pos:end="429:106">||</operator>

                                <call pos:start="431:33" pos:end="431:93"><name pos:start="431:33" pos:end="431:37">FFABS</name><argument_list pos:start="431:38" pos:end="431:93">( <argument pos:start="431:40" pos:end="431:91"><expr pos:start="431:40" pos:end="431:91"><name pos:start="431:40" pos:end="431:63"><name pos:start="431:40" pos:end="431:40">h</name><operator pos:start="431:41" pos:end="431:42">-&gt;</operator><name pos:start="431:43" pos:end="431:50">mv_cache</name><index pos:start="431:51" pos:end="431:53">[<expr pos:start="431:52" pos:end="431:52"><name pos:start="431:52" pos:end="431:52">l</name></expr>]</index><index pos:start="431:54" pos:end="431:60">[<expr pos:start="431:55" pos:end="431:59"><name pos:start="431:55" pos:end="431:59">b_idx</name></expr>]</index><index pos:start="431:61" pos:end="431:63">[<expr pos:start="431:62" pos:end="431:62"><literal type="number" pos:start="431:62" pos:end="431:62">0</literal></expr>]</index></name> <operator pos:start="431:65" pos:end="431:65">-</operator> <name pos:start="431:67" pos:end="431:91"><name pos:start="431:67" pos:end="431:67">h</name><operator pos:start="431:68" pos:end="431:69">-&gt;</operator><name pos:start="431:70" pos:end="431:77">mv_cache</name><index pos:start="431:78" pos:end="431:80">[<expr pos:start="431:79" pos:end="431:79"><name pos:start="431:79" pos:end="431:79">l</name></expr>]</index><index pos:start="431:81" pos:end="431:88">[<expr pos:start="431:82" pos:end="431:87"><name pos:start="431:82" pos:end="431:87">bn_idx</name></expr>]</index><index pos:start="431:89" pos:end="431:91">[<expr pos:start="431:90" pos:end="431:90"><literal type="number" pos:start="431:90" pos:end="431:90">0</literal></expr>]</index></name></expr></argument> )</argument_list></call> <operator pos:start="431:95" pos:end="431:96">&gt;=</operator> <literal type="number" pos:start="431:98" pos:end="431:98">4</literal> <operator pos:start="431:100" pos:end="431:101">||</operator>

                                <call pos:start="433:33" pos:end="433:93"><name pos:start="433:33" pos:end="433:37">FFABS</name><argument_list pos:start="433:38" pos:end="433:93">( <argument pos:start="433:40" pos:end="433:91"><expr pos:start="433:40" pos:end="433:91"><name pos:start="433:40" pos:end="433:63"><name pos:start="433:40" pos:end="433:40">h</name><operator pos:start="433:41" pos:end="433:42">-&gt;</operator><name pos:start="433:43" pos:end="433:50">mv_cache</name><index pos:start="433:51" pos:end="433:53">[<expr pos:start="433:52" pos:end="433:52"><name pos:start="433:52" pos:end="433:52">l</name></expr>]</index><index pos:start="433:54" pos:end="433:60">[<expr pos:start="433:55" pos:end="433:59"><name pos:start="433:55" pos:end="433:59">b_idx</name></expr>]</index><index pos:start="433:61" pos:end="433:63">[<expr pos:start="433:62" pos:end="433:62"><literal type="number" pos:start="433:62" pos:end="433:62">1</literal></expr>]</index></name> <operator pos:start="433:65" pos:end="433:65">-</operator> <name pos:start="433:67" pos:end="433:91"><name pos:start="433:67" pos:end="433:67">h</name><operator pos:start="433:68" pos:end="433:69">-&gt;</operator><name pos:start="433:70" pos:end="433:77">mv_cache</name><index pos:start="433:78" pos:end="433:80">[<expr pos:start="433:79" pos:end="433:79"><name pos:start="433:79" pos:end="433:79">l</name></expr>]</index><index pos:start="433:81" pos:end="433:88">[<expr pos:start="433:82" pos:end="433:87"><name pos:start="433:82" pos:end="433:87">bn_idx</name></expr>]</index><index pos:start="433:89" pos:end="433:91">[<expr pos:start="433:90" pos:end="433:90"><literal type="number" pos:start="433:90" pos:end="433:90">1</literal></expr>]</index></name></expr></argument> )</argument_list></call> <operator pos:start="433:95" pos:end="433:96">&gt;=</operator> <name pos:start="433:98" pos:end="433:106">mvy_limit</name></expr> )</condition> <block pos:start="433:110" pos:end="439:29">{<block_content pos:start="435:33" pos:end="437:38">

                                <expr_stmt pos:start="435:33" pos:end="435:42"><expr pos:start="435:33" pos:end="435:41"><name pos:start="435:33" pos:end="435:37"><name pos:start="435:33" pos:end="435:34">bS</name><index pos:start="435:35" pos:end="435:37">[<expr pos:start="435:36" pos:end="435:36"><name pos:start="435:36" pos:end="435:36">i</name></expr>]</index></name> <operator pos:start="435:39" pos:end="435:39">=</operator> <literal type="number" pos:start="435:41" pos:end="435:41">1</literal></expr>;</expr_stmt>

                                <break pos:start="437:33" pos:end="437:38">break;</break>

                            </block_content>}</block></if></if_stmt>

                        </block_content>}</block></for>

                    </block_content>}</block></if></if_stmt>

                </block_content>}</block></for>



                <if_stmt pos:start="449:17" pos:end="451:29"><if pos:start="449:17" pos:end="451:29">if<condition pos:start="449:19" pos:end="449:48">(<expr pos:start="449:20" pos:end="449:47"><name pos:start="449:20" pos:end="449:24"><name pos:start="449:20" pos:end="449:21">bS</name><index pos:start="449:22" pos:end="449:24">[<expr pos:start="449:23" pos:end="449:23"><literal type="number" pos:start="449:23" pos:end="449:23">0</literal></expr>]</index></name><operator pos:start="449:25" pos:end="449:25">+</operator><name pos:start="449:26" pos:end="449:30"><name pos:start="449:26" pos:end="449:27">bS</name><index pos:start="449:28" pos:end="449:30">[<expr pos:start="449:29" pos:end="449:29"><literal type="number" pos:start="449:29" pos:end="449:29">1</literal></expr>]</index></name><operator pos:start="449:31" pos:end="449:31">+</operator><name pos:start="449:32" pos:end="449:36"><name pos:start="449:32" pos:end="449:33">bS</name><index pos:start="449:34" pos:end="449:36">[<expr pos:start="449:35" pos:end="449:35"><literal type="number" pos:start="449:35" pos:end="449:35">2</literal></expr>]</index></name><operator pos:start="449:37" pos:end="449:37">+</operator><name pos:start="449:38" pos:end="449:42"><name pos:start="449:38" pos:end="449:39">bS</name><index pos:start="449:40" pos:end="449:42">[<expr pos:start="449:41" pos:end="449:41"><literal type="number" pos:start="449:41" pos:end="449:41">3</literal></expr>]</index></name> <operator pos:start="449:44" pos:end="449:45">==</operator> <literal type="number" pos:start="449:47" pos:end="449:47">0</literal></expr>)</condition><block type="pseudo" pos:start="451:21" pos:end="451:29"><block_content pos:start="451:21" pos:end="451:29">

                    <continue pos:start="451:21" pos:end="451:29">continue;</continue></block_content></block></if></if_stmt>

            </block_content>}</block></else></if_stmt>



            <comment type="block" pos:start="457:13" pos:end="457:29">/* Filter edge */</comment>

            <comment type="line" pos:start="459:13" pos:end="459:81">// Do not use s-&gt;qscale as luma quantizer because it has not the same</comment>

            <comment type="line" pos:start="461:13" pos:end="461:41">// value in IPCM macroblocks.</comment>

            <expr_stmt pos:start="463:13" pos:end="463:111"><expr pos:start="463:13" pos:end="463:110"><name pos:start="463:13" pos:end="463:14">qp</name> <operator pos:start="463:16" pos:end="463:16">=</operator> <operator pos:start="463:18" pos:end="463:18">(</operator> <name pos:start="463:20" pos:end="463:57"><name pos:start="463:20" pos:end="463:20">s</name><operator pos:start="463:21" pos:end="463:22">-&gt;</operator><name pos:start="463:23" pos:end="463:37">current_picture</name><operator pos:start="463:38" pos:end="463:38">.</operator><name pos:start="463:39" pos:end="463:50">qscale_table</name><index pos:start="463:51" pos:end="463:57">[<expr pos:start="463:52" pos:end="463:56"><name pos:start="463:52" pos:end="463:56">mb_xy</name></expr>]</index></name> <operator pos:start="463:59" pos:end="463:59">+</operator> <name pos:start="463:61" pos:end="463:99"><name pos:start="463:61" pos:end="463:61">s</name><operator pos:start="463:62" pos:end="463:63">-&gt;</operator><name pos:start="463:64" pos:end="463:78">current_picture</name><operator pos:start="463:79" pos:end="463:79">.</operator><name pos:start="463:80" pos:end="463:91">qscale_table</name><index pos:start="463:92" pos:end="463:99">[<expr pos:start="463:93" pos:end="463:98"><name pos:start="463:93" pos:end="463:98">mbn_xy</name></expr>]</index></name> <operator pos:start="463:101" pos:end="463:101">+</operator> <literal type="number" pos:start="463:103" pos:end="463:103">1</literal> <operator pos:start="463:105" pos:end="463:105">)</operator> <operator pos:start="463:107" pos:end="463:108">&gt;&gt;</operator> <literal type="number" pos:start="463:110" pos:end="463:110">1</literal></expr>;</expr_stmt>

            <comment type="line" pos:start="465:13" pos:end="465:175">//tprintf(s-&gt;avctx, "filter mb:%d/%d dir:%d edge:%d, QPy:%d, QPc:%d, QPcn:%d\n", mb_x, mb_y, dir, edge, qp, h-&gt;chroma_qp, s-&gt;current_picture.qscale_table[mbn_xy]);</comment>

            <expr_stmt pos:start="467:13" pos:end="467:135"><expr pos:start="467:13" pos:end="467:134"><call pos:start="467:13" pos:end="467:134"><name pos:start="467:13" pos:end="467:19">tprintf</name><argument_list pos:start="467:20" pos:end="467:134">(<argument pos:start="467:21" pos:end="467:28"><expr pos:start="467:21" pos:end="467:28"><name pos:start="467:21" pos:end="467:28"><name pos:start="467:21" pos:end="467:21">s</name><operator pos:start="467:22" pos:end="467:23">-&gt;</operator><name pos:start="467:24" pos:end="467:28">avctx</name></name></expr></argument>, <argument pos:start="467:31" pos:end="467:84"><expr pos:start="467:31" pos:end="467:84"><literal type="string" pos:start="467:31" pos:end="467:84">"filter mb:%d/%d dir:%d edge:%d, QPy:%d ls:%d uvls:%d"</literal></expr></argument>, <argument pos:start="467:87" pos:end="467:90"><expr pos:start="467:87" pos:end="467:90"><name pos:start="467:87" pos:end="467:90">mb_x</name></expr></argument>, <argument pos:start="467:93" pos:end="467:96"><expr pos:start="467:93" pos:end="467:96"><name pos:start="467:93" pos:end="467:96">mb_y</name></expr></argument>, <argument pos:start="467:99" pos:end="467:101"><expr pos:start="467:99" pos:end="467:101"><name pos:start="467:99" pos:end="467:101">dir</name></expr></argument>, <argument pos:start="467:104" pos:end="467:107"><expr pos:start="467:104" pos:end="467:107"><name pos:start="467:104" pos:end="467:107">edge</name></expr></argument>, <argument pos:start="467:110" pos:end="467:111"><expr pos:start="467:110" pos:end="467:111"><name pos:start="467:110" pos:end="467:111">qp</name></expr></argument>, <argument pos:start="467:114" pos:end="467:121"><expr pos:start="467:114" pos:end="467:121"><name pos:start="467:114" pos:end="467:121">linesize</name></expr></argument>, <argument pos:start="467:124" pos:end="467:133"><expr pos:start="467:124" pos:end="467:133"><name pos:start="467:124" pos:end="467:133">uvlinesize</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <block pos:start="469:13" pos:end="469:114">{<block_content pos:start="469:15" pos:end="469:112"> <decl_stmt pos:start="469:15" pos:end="469:20"><decl pos:start="469:15" pos:end="469:19"><type pos:start="469:15" pos:end="469:17"><name pos:start="469:15" pos:end="469:17">int</name></type> <name pos:start="469:19" pos:end="469:19">i</name></decl>;</decl_stmt> <for pos:start="469:22" pos:end="469:87">for <control pos:start="469:26" pos:end="469:44">(<init pos:start="469:27" pos:end="469:32"><expr pos:start="469:27" pos:end="469:31"><name pos:start="469:27" pos:end="469:27">i</name> <operator pos:start="469:29" pos:end="469:29">=</operator> <literal type="number" pos:start="469:31" pos:end="469:31">0</literal></expr>;</init> <condition pos:start="469:34" pos:end="469:39"><expr pos:start="469:34" pos:end="469:38"><name pos:start="469:34" pos:end="469:34">i</name> <operator pos:start="469:36" pos:end="469:36">&lt;</operator> <literal type="number" pos:start="469:38" pos:end="469:38">4</literal></expr>;</condition> <incr pos:start="469:41" pos:end="469:43"><expr pos:start="469:41" pos:end="469:43"><name pos:start="469:41" pos:end="469:41">i</name><operator pos:start="469:42" pos:end="469:43">++</operator></expr></incr>)</control><block type="pseudo" pos:start="469:46" pos:end="469:87"><block_content pos:start="469:46" pos:end="469:87"> <expr_stmt pos:start="469:46" pos:end="469:87"><expr pos:start="469:46" pos:end="469:86"><call pos:start="469:46" pos:end="469:86"><name pos:start="469:46" pos:end="469:52">tprintf</name><argument_list pos:start="469:53" pos:end="469:86">(<argument pos:start="469:54" pos:end="469:61"><expr pos:start="469:54" pos:end="469:61"><name pos:start="469:54" pos:end="469:61"><name pos:start="469:54" pos:end="469:54">s</name><operator pos:start="469:55" pos:end="469:56">-&gt;</operator><name pos:start="469:57" pos:end="469:61">avctx</name></name></expr></argument>, <argument pos:start="469:64" pos:end="469:75"><expr pos:start="469:64" pos:end="469:75"><literal type="string" pos:start="469:64" pos:end="469:75">" bS[%d]:%d"</literal></expr></argument>, <argument pos:start="469:78" pos:end="469:78"><expr pos:start="469:78" pos:end="469:78"><name pos:start="469:78" pos:end="469:78">i</name></expr></argument>, <argument pos:start="469:81" pos:end="469:85"><expr pos:start="469:81" pos:end="469:85"><name pos:start="469:81" pos:end="469:85"><name pos:start="469:81" pos:end="469:82">bS</name><index pos:start="469:83" pos:end="469:85">[<expr pos:start="469:84" pos:end="469:84"><name pos:start="469:84" pos:end="469:84">i</name></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></for> <expr_stmt pos:start="469:89" pos:end="469:112"><expr pos:start="469:89" pos:end="469:111"><call pos:start="469:89" pos:end="469:111"><name pos:start="469:89" pos:end="469:95">tprintf</name><argument_list pos:start="469:96" pos:end="469:111">(<argument pos:start="469:97" pos:end="469:104"><expr pos:start="469:97" pos:end="469:104"><name pos:start="469:97" pos:end="469:104"><name pos:start="469:97" pos:end="469:97">s</name><operator pos:start="469:98" pos:end="469:99">-&gt;</operator><name pos:start="469:100" pos:end="469:104">avctx</name></name></expr></argument>, <argument pos:start="469:107" pos:end="469:110"><expr pos:start="469:107" pos:end="469:110"><literal type="string" pos:start="469:107" pos:end="469:110">"\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt> </block_content>}</block>

            <if_stmt pos:start="471:13" pos:end="503:13"><if pos:start="471:13" pos:end="487:13">if<condition pos:start="471:15" pos:end="471:26">( <expr pos:start="471:17" pos:end="471:24"><name pos:start="471:17" pos:end="471:19">dir</name> <operator pos:start="471:21" pos:end="471:22">==</operator> <literal type="number" pos:start="471:24" pos:end="471:24">0</literal></expr> )</condition> <block pos:start="471:28" pos:end="487:13">{<block_content pos:start="473:17" pos:end="485:17">

                <expr_stmt pos:start="473:17" pos:end="473:71"><expr pos:start="473:17" pos:end="473:70"><call pos:start="473:17" pos:end="473:70"><name pos:start="473:17" pos:end="473:31">filter_mb_edgev</name><argument_list pos:start="473:32" pos:end="473:70">( <argument pos:start="473:34" pos:end="473:34"><expr pos:start="473:34" pos:end="473:34"><name pos:start="473:34" pos:end="473:34">h</name></expr></argument>, <argument pos:start="473:37" pos:end="473:50"><expr pos:start="473:37" pos:end="473:50"><operator pos:start="473:37" pos:end="473:37">&amp;</operator><name pos:start="473:38" pos:end="473:50"><name pos:start="473:38" pos:end="473:42">img_y</name><index pos:start="473:43" pos:end="473:50">[<expr pos:start="473:44" pos:end="473:49"><literal type="number" pos:start="473:44" pos:end="473:44">4</literal><operator pos:start="473:45" pos:end="473:45">*</operator><name pos:start="473:46" pos:end="473:49">edge</name></expr>]</index></name></expr></argument>, <argument pos:start="473:53" pos:end="473:60"><expr pos:start="473:53" pos:end="473:60"><name pos:start="473:53" pos:end="473:60">linesize</name></expr></argument>, <argument pos:start="473:63" pos:end="473:64"><expr pos:start="473:63" pos:end="473:64"><name pos:start="473:63" pos:end="473:64">bS</name></expr></argument>, <argument pos:start="473:67" pos:end="473:68"><expr pos:start="473:67" pos:end="473:68"><name pos:start="473:67" pos:end="473:68">qp</name></expr></argument> )</argument_list></call></expr>;</expr_stmt>

                <if_stmt pos:start="475:17" pos:end="485:17"><if pos:start="475:17" pos:end="485:17">if<condition pos:start="475:19" pos:end="475:35">( <expr pos:start="475:21" pos:end="475:33"><operator pos:start="475:21" pos:end="475:21">(</operator><name pos:start="475:22" pos:end="475:25">edge</name><operator pos:start="475:26" pos:end="475:26">&amp;</operator><literal type="number" pos:start="475:27" pos:end="475:27">1</literal><operator pos:start="475:28" pos:end="475:28">)</operator> <operator pos:start="475:30" pos:end="475:31">==</operator> <literal type="number" pos:start="475:33" pos:end="475:33">0</literal></expr> )</condition> <block pos:start="475:37" pos:end="485:17">{<block_content pos:start="477:21" pos:end="483:86">

                    <decl_stmt pos:start="477:21" pos:end="479:109"><decl pos:start="477:21" pos:end="479:108"><type pos:start="477:21" pos:end="477:23"><name pos:start="477:21" pos:end="477:23">int</name></type> <name pos:start="477:25" pos:end="477:33">chroma_qp</name> <init pos:start="477:35" pos:end="479:108">= <expr pos:start="477:37" pos:end="479:108"><operator pos:start="477:37" pos:end="477:37">(</operator> <name pos:start="477:39" pos:end="477:50"><name pos:start="477:39" pos:end="477:39">h</name><operator pos:start="477:40" pos:end="477:41">-&gt;</operator><name pos:start="477:42" pos:end="477:50">chroma_qp</name></name> <operator pos:start="477:52" pos:end="477:52">+</operator>

                                      <call pos:start="479:39" pos:end="479:97"><name pos:start="479:39" pos:end="479:51">get_chroma_qp</name><argument_list pos:start="479:52" pos:end="479:97">( <argument pos:start="479:54" pos:end="479:54"><expr pos:start="479:54" pos:end="479:54"><name pos:start="479:54" pos:end="479:54">h</name></expr></argument>, <argument pos:start="479:57" pos:end="479:95"><expr pos:start="479:57" pos:end="479:95"><name pos:start="479:57" pos:end="479:95"><name pos:start="479:57" pos:end="479:57">s</name><operator pos:start="479:58" pos:end="479:59">-&gt;</operator><name pos:start="479:60" pos:end="479:74">current_picture</name><operator pos:start="479:75" pos:end="479:75">.</operator><name pos:start="479:76" pos:end="479:87">qscale_table</name><index pos:start="479:88" pos:end="479:95">[<expr pos:start="479:89" pos:end="479:94"><name pos:start="479:89" pos:end="479:94">mbn_xy</name></expr>]</index></name></expr></argument> )</argument_list></call> <operator pos:start="479:99" pos:end="479:99">+</operator> <literal type="number" pos:start="479:101" pos:end="479:101">1</literal> <operator pos:start="479:103" pos:end="479:103">)</operator> <operator pos:start="479:105" pos:end="479:106">&gt;&gt;</operator> <literal type="number" pos:start="479:108" pos:end="479:108">1</literal></expr></init></decl>;</decl_stmt>

                    <expr_stmt pos:start="481:21" pos:end="481:86"><expr pos:start="481:21" pos:end="481:85"><call pos:start="481:21" pos:end="481:85"><name pos:start="481:21" pos:end="481:36">filter_mb_edgecv</name><argument_list pos:start="481:37" pos:end="481:85">( <argument pos:start="481:39" pos:end="481:39"><expr pos:start="481:39" pos:end="481:39"><name pos:start="481:39" pos:end="481:39">h</name></expr></argument>, <argument pos:start="481:42" pos:end="481:56"><expr pos:start="481:42" pos:end="481:56"><operator pos:start="481:42" pos:end="481:42">&amp;</operator><name pos:start="481:43" pos:end="481:56"><name pos:start="481:43" pos:end="481:48">img_cb</name><index pos:start="481:49" pos:end="481:56">[<expr pos:start="481:50" pos:end="481:55"><literal type="number" pos:start="481:50" pos:end="481:50">2</literal><operator pos:start="481:51" pos:end="481:51">*</operator><name pos:start="481:52" pos:end="481:55">edge</name></expr>]</index></name></expr></argument>, <argument pos:start="481:59" pos:end="481:68"><expr pos:start="481:59" pos:end="481:68"><name pos:start="481:59" pos:end="481:68">uvlinesize</name></expr></argument>, <argument pos:start="481:71" pos:end="481:72"><expr pos:start="481:71" pos:end="481:72"><name pos:start="481:71" pos:end="481:72">bS</name></expr></argument>, <argument pos:start="481:75" pos:end="481:83"><expr pos:start="481:75" pos:end="481:83"><name pos:start="481:75" pos:end="481:83">chroma_qp</name></expr></argument> )</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="483:21" pos:end="483:86"><expr pos:start="483:21" pos:end="483:85"><call pos:start="483:21" pos:end="483:85"><name pos:start="483:21" pos:end="483:36">filter_mb_edgecv</name><argument_list pos:start="483:37" pos:end="483:85">( <argument pos:start="483:39" pos:end="483:39"><expr pos:start="483:39" pos:end="483:39"><name pos:start="483:39" pos:end="483:39">h</name></expr></argument>, <argument pos:start="483:42" pos:end="483:56"><expr pos:start="483:42" pos:end="483:56"><operator pos:start="483:42" pos:end="483:42">&amp;</operator><name pos:start="483:43" pos:end="483:56"><name pos:start="483:43" pos:end="483:48">img_cr</name><index pos:start="483:49" pos:end="483:56">[<expr pos:start="483:50" pos:end="483:55"><literal type="number" pos:start="483:50" pos:end="483:50">2</literal><operator pos:start="483:51" pos:end="483:51">*</operator><name pos:start="483:52" pos:end="483:55">edge</name></expr>]</index></name></expr></argument>, <argument pos:start="483:59" pos:end="483:68"><expr pos:start="483:59" pos:end="483:68"><name pos:start="483:59" pos:end="483:68">uvlinesize</name></expr></argument>, <argument pos:start="483:71" pos:end="483:72"><expr pos:start="483:71" pos:end="483:72"><name pos:start="483:71" pos:end="483:72">bS</name></expr></argument>, <argument pos:start="483:75" pos:end="483:83"><expr pos:start="483:75" pos:end="483:83"><name pos:start="483:75" pos:end="483:83">chroma_qp</name></expr></argument> )</argument_list></call></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

            </block_content>}</block></if> <else pos:start="487:15" pos:end="503:13">else <block pos:start="487:20" pos:end="503:13">{<block_content pos:start="489:17" pos:end="501:17">

                <expr_stmt pos:start="489:17" pos:end="489:80"><expr pos:start="489:17" pos:end="489:79"><call pos:start="489:17" pos:end="489:79"><name pos:start="489:17" pos:end="489:31">filter_mb_edgeh</name><argument_list pos:start="489:32" pos:end="489:79">( <argument pos:start="489:34" pos:end="489:34"><expr pos:start="489:34" pos:end="489:34"><name pos:start="489:34" pos:end="489:34">h</name></expr></argument>, <argument pos:start="489:37" pos:end="489:59"><expr pos:start="489:37" pos:end="489:59"><operator pos:start="489:37" pos:end="489:37">&amp;</operator><name pos:start="489:38" pos:end="489:59"><name pos:start="489:38" pos:end="489:42">img_y</name><index pos:start="489:43" pos:end="489:59">[<expr pos:start="489:44" pos:end="489:58"><literal type="number" pos:start="489:44" pos:end="489:44">4</literal><operator pos:start="489:45" pos:end="489:45">*</operator><name pos:start="489:46" pos:end="489:49">edge</name><operator pos:start="489:50" pos:end="489:50">*</operator><name pos:start="489:51" pos:end="489:58">linesize</name></expr>]</index></name></expr></argument>, <argument pos:start="489:62" pos:end="489:69"><expr pos:start="489:62" pos:end="489:69"><name pos:start="489:62" pos:end="489:69">linesize</name></expr></argument>, <argument pos:start="489:72" pos:end="489:73"><expr pos:start="489:72" pos:end="489:73"><name pos:start="489:72" pos:end="489:73">bS</name></expr></argument>, <argument pos:start="489:76" pos:end="489:77"><expr pos:start="489:76" pos:end="489:77"><name pos:start="489:76" pos:end="489:77">qp</name></expr></argument> )</argument_list></call></expr>;</expr_stmt>

                <if_stmt pos:start="491:17" pos:end="501:17"><if pos:start="491:17" pos:end="501:17">if<condition pos:start="491:19" pos:end="491:35">( <expr pos:start="491:21" pos:end="491:33"><operator pos:start="491:21" pos:end="491:21">(</operator><name pos:start="491:22" pos:end="491:25">edge</name><operator pos:start="491:26" pos:end="491:26">&amp;</operator><literal type="number" pos:start="491:27" pos:end="491:27">1</literal><operator pos:start="491:28" pos:end="491:28">)</operator> <operator pos:start="491:30" pos:end="491:31">==</operator> <literal type="number" pos:start="491:33" pos:end="491:33">0</literal></expr> )</condition> <block pos:start="491:37" pos:end="501:17">{<block_content pos:start="493:21" pos:end="499:97">

                    <decl_stmt pos:start="493:21" pos:end="495:109"><decl pos:start="493:21" pos:end="495:108"><type pos:start="493:21" pos:end="493:23"><name pos:start="493:21" pos:end="493:23">int</name></type> <name pos:start="493:25" pos:end="493:33">chroma_qp</name> <init pos:start="493:35" pos:end="495:108">= <expr pos:start="493:37" pos:end="495:108"><operator pos:start="493:37" pos:end="493:37">(</operator> <name pos:start="493:39" pos:end="493:50"><name pos:start="493:39" pos:end="493:39">h</name><operator pos:start="493:40" pos:end="493:41">-&gt;</operator><name pos:start="493:42" pos:end="493:50">chroma_qp</name></name> <operator pos:start="493:52" pos:end="493:52">+</operator>

                                      <call pos:start="495:39" pos:end="495:97"><name pos:start="495:39" pos:end="495:51">get_chroma_qp</name><argument_list pos:start="495:52" pos:end="495:97">( <argument pos:start="495:54" pos:end="495:54"><expr pos:start="495:54" pos:end="495:54"><name pos:start="495:54" pos:end="495:54">h</name></expr></argument>, <argument pos:start="495:57" pos:end="495:95"><expr pos:start="495:57" pos:end="495:95"><name pos:start="495:57" pos:end="495:95"><name pos:start="495:57" pos:end="495:57">s</name><operator pos:start="495:58" pos:end="495:59">-&gt;</operator><name pos:start="495:60" pos:end="495:74">current_picture</name><operator pos:start="495:75" pos:end="495:75">.</operator><name pos:start="495:76" pos:end="495:87">qscale_table</name><index pos:start="495:88" pos:end="495:95">[<expr pos:start="495:89" pos:end="495:94"><name pos:start="495:89" pos:end="495:94">mbn_xy</name></expr>]</index></name></expr></argument> )</argument_list></call> <operator pos:start="495:99" pos:end="495:99">+</operator> <literal type="number" pos:start="495:101" pos:end="495:101">1</literal> <operator pos:start="495:103" pos:end="495:103">)</operator> <operator pos:start="495:105" pos:end="495:106">&gt;&gt;</operator> <literal type="number" pos:start="495:108" pos:end="495:108">1</literal></expr></init></decl>;</decl_stmt>

                    <expr_stmt pos:start="497:21" pos:end="497:97"><expr pos:start="497:21" pos:end="497:96"><call pos:start="497:21" pos:end="497:96"><name pos:start="497:21" pos:end="497:36">filter_mb_edgech</name><argument_list pos:start="497:37" pos:end="497:96">( <argument pos:start="497:39" pos:end="497:39"><expr pos:start="497:39" pos:end="497:39"><name pos:start="497:39" pos:end="497:39">h</name></expr></argument>, <argument pos:start="497:42" pos:end="497:67"><expr pos:start="497:42" pos:end="497:67"><operator pos:start="497:42" pos:end="497:42">&amp;</operator><name pos:start="497:43" pos:end="497:67"><name pos:start="497:43" pos:end="497:48">img_cb</name><index pos:start="497:49" pos:end="497:67">[<expr pos:start="497:50" pos:end="497:66"><literal type="number" pos:start="497:50" pos:end="497:50">2</literal><operator pos:start="497:51" pos:end="497:51">*</operator><name pos:start="497:52" pos:end="497:55">edge</name><operator pos:start="497:56" pos:end="497:56">*</operator><name pos:start="497:57" pos:end="497:66">uvlinesize</name></expr>]</index></name></expr></argument>, <argument pos:start="497:70" pos:end="497:79"><expr pos:start="497:70" pos:end="497:79"><name pos:start="497:70" pos:end="497:79">uvlinesize</name></expr></argument>, <argument pos:start="497:82" pos:end="497:83"><expr pos:start="497:82" pos:end="497:83"><name pos:start="497:82" pos:end="497:83">bS</name></expr></argument>, <argument pos:start="497:86" pos:end="497:94"><expr pos:start="497:86" pos:end="497:94"><name pos:start="497:86" pos:end="497:94">chroma_qp</name></expr></argument> )</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="499:21" pos:end="499:97"><expr pos:start="499:21" pos:end="499:96"><call pos:start="499:21" pos:end="499:96"><name pos:start="499:21" pos:end="499:36">filter_mb_edgech</name><argument_list pos:start="499:37" pos:end="499:96">( <argument pos:start="499:39" pos:end="499:39"><expr pos:start="499:39" pos:end="499:39"><name pos:start="499:39" pos:end="499:39">h</name></expr></argument>, <argument pos:start="499:42" pos:end="499:67"><expr pos:start="499:42" pos:end="499:67"><operator pos:start="499:42" pos:end="499:42">&amp;</operator><name pos:start="499:43" pos:end="499:67"><name pos:start="499:43" pos:end="499:48">img_cr</name><index pos:start="499:49" pos:end="499:67">[<expr pos:start="499:50" pos:end="499:66"><literal type="number" pos:start="499:50" pos:end="499:50">2</literal><operator pos:start="499:51" pos:end="499:51">*</operator><name pos:start="499:52" pos:end="499:55">edge</name><operator pos:start="499:56" pos:end="499:56">*</operator><name pos:start="499:57" pos:end="499:66">uvlinesize</name></expr>]</index></name></expr></argument>, <argument pos:start="499:70" pos:end="499:79"><expr pos:start="499:70" pos:end="499:79"><name pos:start="499:70" pos:end="499:79">uvlinesize</name></expr></argument>, <argument pos:start="499:82" pos:end="499:83"><expr pos:start="499:82" pos:end="499:83"><name pos:start="499:82" pos:end="499:83">bS</name></expr></argument>, <argument pos:start="499:86" pos:end="499:94"><expr pos:start="499:86" pos:end="499:94"><name pos:start="499:86" pos:end="499:94">chroma_qp</name></expr></argument> )</argument_list></call></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

            </block_content>}</block></else></if_stmt>

        </block_content>}</block></for>

    </block_content>}</block></for>

</block_content>}</block></function>
</unit>
