<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/8806.c" pos:tabs="8"><macro pos:start="1:1" pos:end="2:71"><name pos:start="1:1" pos:end="1:34">virtio_gpu_resource_attach_backing</name><argument_list pos:start="1:35" pos:end="2:71">(<argument pos:start="1:36" pos:end="1:47">VirtIOGPU *g</argument>,
                                   <argument pos:start="2:36" pos:end="2:70">struct virtio_gpu_ctrl_command *cmd</argument>)</argument_list></macro>
<block pos:start="3:1" pos:end="16:33">{<block_content pos:start="4:5" pos:end="16:33">
    <decl_stmt pos:start="4:5" pos:end="4:43"><decl pos:start="4:5" pos:end="4:42"><type pos:start="4:5" pos:end="4:39"><name pos:start="4:5" pos:end="4:37"><name pos:start="4:5" pos:end="4:10">struct</name> <name pos:start="4:12" pos:end="4:37">virtio_gpu_simple_resource</name></name> <modifier pos:start="4:39" pos:end="4:39">*</modifier></type><name pos:start="4:40" pos:end="4:42">res</name></decl>;</decl_stmt>
    <decl_stmt pos:start="5:5" pos:end="5:49"><decl pos:start="5:5" pos:end="5:48"><type pos:start="5:5" pos:end="5:45"><name pos:start="5:5" pos:end="5:45"><name pos:start="5:5" pos:end="5:10">struct</name> <name pos:start="5:12" pos:end="5:45">virtio_gpu_resource_attach_backing</name></name></type> <name pos:start="5:47" pos:end="5:48">ab</name></decl>;</decl_stmt>
    <decl_stmt pos:start="6:5" pos:end="6:12"><decl pos:start="6:5" pos:end="6:11"><type pos:start="6:5" pos:end="6:7"><name pos:start="6:5" pos:end="6:7">int</name></type> <name pos:start="6:9" pos:end="6:11">ret</name></decl>;</decl_stmt>
    <expr_stmt pos:start="7:5" pos:end="7:28"><expr pos:start="7:5" pos:end="7:27"><call pos:start="7:5" pos:end="7:27"><name pos:start="7:5" pos:end="7:23">VIRTIO_GPU_FILL_CMD</name><argument_list pos:start="7:24" pos:end="7:27">(<argument pos:start="7:25" pos:end="7:26"><expr pos:start="7:25" pos:end="7:26"><name pos:start="7:25" pos:end="7:26">ab</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <expr_stmt pos:start="8:5" pos:end="8:57"><expr pos:start="8:5" pos:end="8:56"><call pos:start="8:5" pos:end="8:56"><name pos:start="8:5" pos:end="8:40">trace_virtio_gpu_cmd_res_back_attach</name><argument_list pos:start="8:41" pos:end="8:56">(<argument pos:start="8:42" pos:end="8:55"><expr pos:start="8:42" pos:end="8:55"><name pos:start="8:42" pos:end="8:55"><name pos:start="8:42" pos:end="8:43">ab</name><operator pos:start="8:44" pos:end="8:44">.</operator><name pos:start="8:45" pos:end="8:55">resource_id</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <expr_stmt pos:start="9:5" pos:end="9:54"><expr pos:start="9:5" pos:end="9:53"><name pos:start="9:5" pos:end="9:7">res</name> <operator pos:start="9:9" pos:end="9:9">=</operator> <call pos:start="9:11" pos:end="9:53"><name pos:start="9:11" pos:end="9:34">virtio_gpu_find_resource</name><argument_list pos:start="9:35" pos:end="9:53">(<argument pos:start="9:36" pos:end="9:36"><expr pos:start="9:36" pos:end="9:36"><name pos:start="9:36" pos:end="9:36">g</name></expr></argument>, <argument pos:start="9:39" pos:end="9:52"><expr pos:start="9:39" pos:end="9:52"><name pos:start="9:39" pos:end="9:52"><name pos:start="9:39" pos:end="9:40">ab</name><operator pos:start="9:41" pos:end="9:41">.</operator><name pos:start="9:42" pos:end="9:52">resource_id</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <if_stmt pos:start="10:5" pos:end="16:33"><if pos:start="10:5" pos:end="16:33">if <condition pos:start="10:8" pos:end="10:13">(<expr pos:start="10:9" pos:end="10:12"><operator pos:start="10:9" pos:end="10:9">!</operator><name pos:start="10:10" pos:end="10:12">res</name></expr>)</condition> <block pos:start="10:15" pos:end="16:33">{<block_content pos:start="11:9" pos:end="16:33">
        <expr_stmt pos:start="11:9" pos:end="12:48"><expr pos:start="11:9" pos:end="12:47"><call pos:start="11:9" pos:end="12:47"><name pos:start="11:9" pos:end="11:21">qemu_log_mask</name><argument_list pos:start="11:22" pos:end="12:47">(<argument pos:start="11:23" pos:end="11:37"><expr pos:start="11:23" pos:end="11:37"><name pos:start="11:23" pos:end="11:37">LOG_GUEST_ERROR</name></expr></argument>, <argument pos:start="11:40" pos:end="11:76"><expr pos:start="11:40" pos:end="11:76"><literal type="string" pos:start="11:40" pos:end="11:76">"%s: illegal resource specified %d\n"</literal></expr></argument>,
                      <argument pos:start="12:23" pos:end="12:30"><expr pos:start="12:23" pos:end="12:30"><name pos:start="12:23" pos:end="12:30">__func__</name></expr></argument>, <argument pos:start="12:33" pos:end="12:46"><expr pos:start="12:33" pos:end="12:46"><name pos:start="12:33" pos:end="12:46"><name pos:start="12:33" pos:end="12:34">ab</name><operator pos:start="12:35" pos:end="12:35">.</operator><name pos:start="12:36" pos:end="12:46">resource_id</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt pos:start="13:9" pos:end="13:61"><expr pos:start="13:9" pos:end="13:60"><name pos:start="13:9" pos:end="13:18"><name pos:start="13:9" pos:end="13:11">cmd</name><operator pos:start="13:12" pos:end="13:13">-&gt;</operator><name pos:start="13:14" pos:end="13:18">error</name></name> <operator pos:start="13:20" pos:end="13:20">=</operator> <name pos:start="13:22" pos:end="13:60">VIRTIO_GPU_RESP_ERR_INVALID_RESOURCE_ID</name></expr>;</expr_stmt>
    <expr_stmt pos:start="14:5" pos:end="14:74"><expr pos:start="14:5" pos:end="14:73"><name pos:start="14:5" pos:end="14:7">ret</name> <operator pos:start="14:9" pos:end="14:9">=</operator> <call pos:start="14:11" pos:end="14:73"><name pos:start="14:11" pos:end="14:39">virtio_gpu_create_mapping_iov</name><argument_list pos:start="14:40" pos:end="14:73">(<argument pos:start="14:41" pos:end="14:43"><expr pos:start="14:41" pos:end="14:43"><operator pos:start="14:41" pos:end="14:41">&amp;</operator><name pos:start="14:42" pos:end="14:43">ab</name></expr></argument>, <argument pos:start="14:46" pos:end="14:48"><expr pos:start="14:46" pos:end="14:48"><name pos:start="14:46" pos:end="14:48">cmd</name></expr></argument>, <argument pos:start="14:51" pos:end="14:61"><expr pos:start="14:51" pos:end="14:61"><operator pos:start="14:51" pos:end="14:51">&amp;</operator><name pos:start="14:52" pos:end="14:61"><name pos:start="14:52" pos:end="14:54">res</name><operator pos:start="14:55" pos:end="14:56">-&gt;</operator><name pos:start="14:57" pos:end="14:61">addrs</name></name></expr></argument>, <argument pos:start="14:64" pos:end="14:72"><expr pos:start="14:64" pos:end="14:72"><operator pos:start="14:64" pos:end="14:64">&amp;</operator><name pos:start="14:65" pos:end="14:72"><name pos:start="14:65" pos:end="14:67">res</name><operator pos:start="14:68" pos:end="14:69">-&gt;</operator><name pos:start="14:70" pos:end="14:72">iov</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <if_stmt pos:start="15:5" pos:end="16:33"><if pos:start="15:5" pos:end="16:33">if <condition pos:start="15:8" pos:end="15:17">(<expr pos:start="15:9" pos:end="15:16"><name pos:start="15:9" pos:end="15:11">ret</name> <operator pos:start="15:13" pos:end="15:14">!=</operator> <literal type="number" pos:start="15:16" pos:end="15:16">0</literal></expr>)</condition> <block pos:start="15:19" pos:end="16:33">{<block_content pos:start="16:5" pos:end="16:33">
    <expr_stmt pos:start="16:5" pos:end="16:33"><expr pos:start="16:5" pos:end="16:32"><name pos:start="16:5" pos:end="16:16"><name pos:start="16:5" pos:end="16:7">res</name><operator pos:start="16:8" pos:end="16:9">-&gt;</operator><name pos:start="16:10" pos:end="16:16">iov_cnt</name></name> <operator pos:start="16:18" pos:end="16:18">=</operator> <name pos:start="16:20" pos:end="16:32"><name pos:start="16:20" pos:end="16:21">ab</name><operator pos:start="16:22" pos:end="16:22">.</operator><name pos:start="16:23" pos:end="16:32">nr_entries</name></name></expr>;</expr_stmt></block_content></block></if></if_stmt></block_content></block></if></if_stmt></block_content></block></unit>
