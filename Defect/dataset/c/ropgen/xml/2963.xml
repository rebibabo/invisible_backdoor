<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/2963.c" pos:tabs="8"><function pos:start="1:1" pos:end="323:1"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:29">vc1_mc_4mv_chroma</name><parameter_list pos:start="1:30" pos:end="1:53">(<parameter pos:start="1:31" pos:end="1:43"><decl pos:start="1:31" pos:end="1:43"><type pos:start="1:31" pos:end="1:43"><name pos:start="1:31" pos:end="1:40">VC1Context</name> <modifier pos:start="1:42" pos:end="1:42">*</modifier></type><name pos:start="1:43" pos:end="1:43">v</name></decl></parameter>, <parameter pos:start="1:46" pos:end="1:52"><decl pos:start="1:46" pos:end="1:52"><type pos:start="1:46" pos:end="1:52"><name pos:start="1:46" pos:end="1:48">int</name></type> <name pos:start="1:50" pos:end="1:52">dir</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="323:1">{<block_content pos:start="5:5" pos:end="321:5">

    <decl_stmt pos:start="5:5" pos:end="5:30"><decl pos:start="5:5" pos:end="5:29"><type pos:start="5:5" pos:end="5:20"><name pos:start="5:5" pos:end="5:18">MpegEncContext</name> <modifier pos:start="5:20" pos:end="5:20">*</modifier></type><name pos:start="5:21" pos:end="5:21">s</name> <init pos:start="5:23" pos:end="5:29">= <expr pos:start="5:25" pos:end="5:29"><operator pos:start="5:25" pos:end="5:25">&amp;</operator><name pos:start="5:26" pos:end="5:29"><name pos:start="5:26" pos:end="5:26">v</name><operator pos:start="5:27" pos:end="5:28">-&gt;</operator><name pos:start="5:29" pos:end="5:29">s</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:51"><decl pos:start="7:5" pos:end="7:50"><type pos:start="7:5" pos:end="7:23"><name pos:start="7:5" pos:end="7:21">H264ChromaContext</name> <modifier pos:start="7:23" pos:end="7:23">*</modifier></type><name pos:start="7:24" pos:end="7:33">h264chroma</name> <init pos:start="7:35" pos:end="7:50">= <expr pos:start="7:37" pos:end="7:50"><operator pos:start="7:37" pos:end="7:37">&amp;</operator><name pos:start="7:38" pos:end="7:50"><name pos:start="7:38" pos:end="7:38">v</name><operator pos:start="7:39" pos:end="7:40">-&gt;</operator><name pos:start="7:41" pos:end="7:50">h264chroma</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:25"><decl pos:start="9:5" pos:end="9:17"><type pos:start="9:5" pos:end="9:13"><name pos:start="9:5" pos:end="9:11">uint8_t</name> <modifier pos:start="9:13" pos:end="9:13">*</modifier></type><name pos:start="9:14" pos:end="9:17">srcU</name></decl>, <decl pos:start="9:20" pos:end="9:24"><type ref="prev" pos:start="9:5" pos:end="9:13"><modifier pos:start="9:20" pos:end="9:20">*</modifier></type><name pos:start="9:21" pos:end="9:24">srcV</name></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:37"><decl pos:start="11:5" pos:end="11:12"><type pos:start="11:5" pos:end="11:7"><name pos:start="11:5" pos:end="11:7">int</name></type> <name pos:start="11:9" pos:end="11:12">uvmx</name></decl>, <decl pos:start="11:15" pos:end="11:18"><type ref="prev" pos:start="11:5" pos:end="11:7"/><name pos:start="11:15" pos:end="11:18">uvmy</name></decl>, <decl pos:start="11:21" pos:end="11:27"><type ref="prev" pos:start="11:5" pos:end="11:7"/><name pos:start="11:21" pos:end="11:27">uvsrc_x</name></decl>, <decl pos:start="11:30" pos:end="11:36"><type ref="prev" pos:start="11:5" pos:end="11:7"/><name pos:start="11:30" pos:end="11:36">uvsrc_y</name></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:26"><decl pos:start="13:5" pos:end="13:9"><type pos:start="13:5" pos:end="13:7"><name pos:start="13:5" pos:end="13:7">int</name></type> <name pos:start="13:9" pos:end="13:9">k</name></decl>, <decl pos:start="13:12" pos:end="13:17"><type ref="prev" pos:start="13:5" pos:end="13:7"/><name pos:start="13:12" pos:end="13:13">tx</name> <init pos:start="13:15" pos:end="13:17">= <expr pos:start="13:17" pos:end="13:17"><literal type="number" pos:start="13:17" pos:end="13:17">0</literal></expr></init></decl>, <decl pos:start="13:20" pos:end="13:25"><type ref="prev" pos:start="13:5" pos:end="13:7"/><name pos:start="13:20" pos:end="13:21">ty</name> <init pos:start="13:23" pos:end="13:25">= <expr pos:start="13:25" pos:end="13:25"><literal type="number" pos:start="13:25" pos:end="13:25">0</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="15:42"><decl pos:start="15:5" pos:end="15:14"><type pos:start="15:5" pos:end="15:7"><name pos:start="15:5" pos:end="15:7">int</name></type> <name pos:start="15:9" pos:end="15:14"><name pos:start="15:9" pos:end="15:11">mvx</name><index pos:start="15:12" pos:end="15:14">[<expr pos:start="15:13" pos:end="15:13"><literal type="number" pos:start="15:13" pos:end="15:13">4</literal></expr>]</index></name></decl>, <decl pos:start="15:17" pos:end="15:22"><type ref="prev" pos:start="15:5" pos:end="15:7"/><name pos:start="15:17" pos:end="15:22"><name pos:start="15:17" pos:end="15:19">mvy</name><index pos:start="15:20" pos:end="15:22">[<expr pos:start="15:21" pos:end="15:21"><literal type="number" pos:start="15:21" pos:end="15:21">4</literal></expr>]</index></name></decl>, <decl pos:start="15:25" pos:end="15:32"><type ref="prev" pos:start="15:5" pos:end="15:7"/><name pos:start="15:25" pos:end="15:32"><name pos:start="15:25" pos:end="15:29">intra</name><index pos:start="15:30" pos:end="15:32">[<expr pos:start="15:31" pos:end="15:31"><literal type="number" pos:start="15:31" pos:end="15:31">4</literal></expr>]</index></name></decl>, <decl pos:start="15:35" pos:end="15:41"><type ref="prev" pos:start="15:5" pos:end="15:7"/><name pos:start="15:35" pos:end="15:41"><name pos:start="15:35" pos:end="15:38">mv_f</name><index pos:start="15:39" pos:end="15:41">[<expr pos:start="15:40" pos:end="15:40"><literal type="number" pos:start="15:40" pos:end="15:40">4</literal></expr>]</index></name></decl>;</decl_stmt>

    <decl_stmt pos:start="17:5" pos:end="17:20"><decl pos:start="17:5" pos:end="17:19"><type pos:start="17:5" pos:end="17:7"><name pos:start="17:5" pos:end="17:7">int</name></type> <name pos:start="17:9" pos:end="17:19">valid_count</name></decl>;</decl_stmt>

    <decl_stmt pos:start="19:5" pos:end="19:53"><decl pos:start="19:5" pos:end="19:43"><type pos:start="19:5" pos:end="19:7"><name pos:start="19:5" pos:end="19:7">int</name></type> <name pos:start="19:9" pos:end="19:23">chroma_ref_type</name> <init pos:start="19:25" pos:end="19:43">= <expr pos:start="19:27" pos:end="19:43"><name pos:start="19:27" pos:end="19:43"><name pos:start="19:27" pos:end="19:27">v</name><operator pos:start="19:28" pos:end="19:29">-&gt;</operator><name pos:start="19:30" pos:end="19:43">cur_field_type</name></name></expr></init></decl>, <decl pos:start="19:46" pos:end="19:52"><type ref="prev" pos:start="19:5" pos:end="19:7"/><name pos:start="19:46" pos:end="19:48">off</name> <init pos:start="19:50" pos:end="19:52">= <expr pos:start="19:52" pos:end="19:52"><literal type="number" pos:start="19:52" pos:end="19:52">0</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="21:5" pos:end="21:52"><decl pos:start="21:5" pos:end="21:51"><type pos:start="21:5" pos:end="21:7"><name pos:start="21:5" pos:end="21:7">int</name></type> <name pos:start="21:9" pos:end="21:18">v_edge_pos</name> <init pos:start="21:20" pos:end="21:51">= <expr pos:start="21:22" pos:end="21:51"><name pos:start="21:22" pos:end="21:34"><name pos:start="21:22" pos:end="21:22">s</name><operator pos:start="21:23" pos:end="21:24">-&gt;</operator><name pos:start="21:25" pos:end="21:34">v_edge_pos</name></name> <operator pos:start="21:36" pos:end="21:37">&gt;&gt;</operator> <name pos:start="21:39" pos:end="21:51"><name pos:start="21:39" pos:end="21:39">v</name><operator pos:start="21:40" pos:end="21:41">-&gt;</operator><name pos:start="21:42" pos:end="21:51">field_mode</name></name></expr></init></decl>;</decl_stmt>



    <if_stmt pos:start="25:5" pos:end="27:15"><if pos:start="25:5" pos:end="27:15">if <condition pos:start="25:8" pos:end="25:55">(<expr pos:start="25:9" pos:end="25:54"><operator pos:start="25:9" pos:end="25:9">!</operator><name pos:start="25:10" pos:end="25:22"><name pos:start="25:10" pos:end="25:10">v</name><operator pos:start="25:11" pos:end="25:12">-&gt;</operator><name pos:start="25:13" pos:end="25:22">field_mode</name></name> <operator pos:start="25:24" pos:end="25:25">&amp;&amp;</operator> <operator pos:start="25:27" pos:end="25:27">!</operator><name pos:start="25:28" pos:end="25:54"><name pos:start="25:28" pos:end="25:28">v</name><operator pos:start="25:29" pos:end="25:30">-&gt;</operator><name pos:start="25:31" pos:end="25:31">s</name><operator pos:start="25:32" pos:end="25:32">.</operator><name pos:start="25:33" pos:end="25:44">last_picture</name><operator pos:start="25:45" pos:end="25:45">.</operator><name pos:start="25:46" pos:end="25:46">f</name><operator pos:start="25:47" pos:end="25:47">.</operator><name pos:start="25:48" pos:end="25:51">data</name><index pos:start="25:52" pos:end="25:54">[<expr pos:start="25:53" pos:end="25:53"><literal type="number" pos:start="25:53" pos:end="25:53">0</literal></expr>]</index></name></expr>)</condition><block type="pseudo" pos:start="27:9" pos:end="27:15"><block_content pos:start="27:9" pos:end="27:15">

        <return pos:start="27:9" pos:end="27:15">return;</return></block_content></block></if></if_stmt>

    <if_stmt pos:start="29:5" pos:end="31:15"><if pos:start="29:5" pos:end="31:15">if <condition pos:start="29:8" pos:end="29:35">(<expr pos:start="29:9" pos:end="29:34"><name pos:start="29:9" pos:end="29:16"><name pos:start="29:9" pos:end="29:9">s</name><operator pos:start="29:10" pos:end="29:11">-&gt;</operator><name pos:start="29:12" pos:end="29:16">flags</name></name> <operator pos:start="29:18" pos:end="29:18">&amp;</operator> <name pos:start="29:20" pos:end="29:34">CODEC_FLAG_GRAY</name></expr>)</condition><block type="pseudo" pos:start="31:9" pos:end="31:15"><block_content pos:start="31:9" pos:end="31:15">

        <return pos:start="31:9" pos:end="31:15">return;</return></block_content></block></if></if_stmt>



    <for pos:start="35:5" pos:end="47:5">for <control pos:start="35:9" pos:end="35:27">(<init pos:start="35:10" pos:end="35:15"><expr pos:start="35:10" pos:end="35:14"><name pos:start="35:10" pos:end="35:10">k</name> <operator pos:start="35:12" pos:end="35:12">=</operator> <literal type="number" pos:start="35:14" pos:end="35:14">0</literal></expr>;</init> <condition pos:start="35:17" pos:end="35:22"><expr pos:start="35:17" pos:end="35:21"><name pos:start="35:17" pos:end="35:17">k</name> <operator pos:start="35:19" pos:end="35:19">&lt;</operator> <literal type="number" pos:start="35:21" pos:end="35:21">4</literal></expr>;</condition> <incr pos:start="35:24" pos:end="35:26"><expr pos:start="35:24" pos:end="35:26"><name pos:start="35:24" pos:end="35:24">k</name><operator pos:start="35:25" pos:end="35:26">++</operator></expr></incr>)</control> <block pos:start="35:29" pos:end="47:5">{<block_content pos:start="37:9" pos:end="45:70">

        <expr_stmt pos:start="37:9" pos:end="37:34"><expr pos:start="37:9" pos:end="37:33"><name pos:start="37:9" pos:end="37:14"><name pos:start="37:9" pos:end="37:11">mvx</name><index pos:start="37:12" pos:end="37:14">[<expr pos:start="37:13" pos:end="37:13"><name pos:start="37:13" pos:end="37:13">k</name></expr>]</index></name> <operator pos:start="37:16" pos:end="37:16">=</operator> <name pos:start="37:18" pos:end="37:33"><name pos:start="37:18" pos:end="37:18">s</name><operator pos:start="37:19" pos:end="37:20">-&gt;</operator><name pos:start="37:21" pos:end="37:22">mv</name><index pos:start="37:23" pos:end="37:27">[<expr pos:start="37:24" pos:end="37:26"><name pos:start="37:24" pos:end="37:26">dir</name></expr>]</index><index pos:start="37:28" pos:end="37:30">[<expr pos:start="37:29" pos:end="37:29"><name pos:start="37:29" pos:end="37:29">k</name></expr>]</index><index pos:start="37:31" pos:end="37:33">[<expr pos:start="37:32" pos:end="37:32"><literal type="number" pos:start="37:32" pos:end="37:32">0</literal></expr>]</index></name></expr>;</expr_stmt>

        <expr_stmt pos:start="39:9" pos:end="39:34"><expr pos:start="39:9" pos:end="39:33"><name pos:start="39:9" pos:end="39:14"><name pos:start="39:9" pos:end="39:11">mvy</name><index pos:start="39:12" pos:end="39:14">[<expr pos:start="39:13" pos:end="39:13"><name pos:start="39:13" pos:end="39:13">k</name></expr>]</index></name> <operator pos:start="39:16" pos:end="39:16">=</operator> <name pos:start="39:18" pos:end="39:33"><name pos:start="39:18" pos:end="39:18">s</name><operator pos:start="39:19" pos:end="39:20">-&gt;</operator><name pos:start="39:21" pos:end="39:22">mv</name><index pos:start="39:23" pos:end="39:27">[<expr pos:start="39:24" pos:end="39:26"><name pos:start="39:24" pos:end="39:26">dir</name></expr>]</index><index pos:start="39:28" pos:end="39:30">[<expr pos:start="39:29" pos:end="39:29"><name pos:start="39:29" pos:end="39:29">k</name></expr>]</index><index pos:start="39:31" pos:end="39:33">[<expr pos:start="39:32" pos:end="39:32"><literal type="number" pos:start="39:32" pos:end="39:32">1</literal></expr>]</index></name></expr>;</expr_stmt>

        <expr_stmt pos:start="41:9" pos:end="41:52"><expr pos:start="41:9" pos:end="41:51"><name pos:start="41:9" pos:end="41:16"><name pos:start="41:9" pos:end="41:13">intra</name><index pos:start="41:14" pos:end="41:16">[<expr pos:start="41:15" pos:end="41:15"><name pos:start="41:15" pos:end="41:15">k</name></expr>]</index></name> <operator pos:start="41:18" pos:end="41:18">=</operator> <name pos:start="41:20" pos:end="41:51"><name pos:start="41:20" pos:end="41:20">v</name><operator pos:start="41:21" pos:end="41:22">-&gt;</operator><name pos:start="41:23" pos:end="41:29">mb_type</name><index pos:start="41:30" pos:end="41:32">[<expr pos:start="41:31" pos:end="41:31"><literal type="number" pos:start="41:31" pos:end="41:31">0</literal></expr>]</index><index pos:start="41:33" pos:end="41:51">[<expr pos:start="41:34" pos:end="41:50"><name pos:start="41:34" pos:end="41:50"><name pos:start="41:34" pos:end="41:34">s</name><operator pos:start="41:35" pos:end="41:36">-&gt;</operator><name pos:start="41:37" pos:end="41:47">block_index</name><index pos:start="41:48" pos:end="41:50">[<expr pos:start="41:49" pos:end="41:49"><name pos:start="41:49" pos:end="41:49">k</name></expr>]</index></name></expr>]</index></name></expr>;</expr_stmt>

        <if_stmt pos:start="43:9" pos:end="45:70"><if pos:start="43:9" pos:end="45:70">if <condition pos:start="43:12" pos:end="43:26">(<expr pos:start="43:13" pos:end="43:25"><name pos:start="43:13" pos:end="43:25"><name pos:start="43:13" pos:end="43:13">v</name><operator pos:start="43:14" pos:end="43:15">-&gt;</operator><name pos:start="43:16" pos:end="43:25">field_mode</name></name></expr>)</condition><block type="pseudo" pos:start="45:13" pos:end="45:70"><block_content pos:start="45:13" pos:end="45:70">

            <expr_stmt pos:start="45:13" pos:end="45:70"><expr pos:start="45:13" pos:end="45:69"><name pos:start="45:13" pos:end="45:19"><name pos:start="45:13" pos:end="45:16">mv_f</name><index pos:start="45:17" pos:end="45:19">[<expr pos:start="45:18" pos:end="45:18"><name pos:start="45:18" pos:end="45:18">k</name></expr>]</index></name> <operator pos:start="45:21" pos:end="45:21">=</operator> <name pos:start="45:23" pos:end="45:69"><name pos:start="45:23" pos:end="45:23">v</name><operator pos:start="45:24" pos:end="45:25">-&gt;</operator><name pos:start="45:26" pos:end="45:29">mv_f</name><index pos:start="45:30" pos:end="45:34">[<expr pos:start="45:31" pos:end="45:33"><name pos:start="45:31" pos:end="45:33">dir</name></expr>]</index><index pos:start="45:35" pos:end="45:69">[<expr pos:start="45:36" pos:end="45:68"><name pos:start="45:36" pos:end="45:52"><name pos:start="45:36" pos:end="45:36">s</name><operator pos:start="45:37" pos:end="45:38">-&gt;</operator><name pos:start="45:39" pos:end="45:49">block_index</name><index pos:start="45:50" pos:end="45:52">[<expr pos:start="45:51" pos:end="45:51"><name pos:start="45:51" pos:end="45:51">k</name></expr>]</index></name> <operator pos:start="45:54" pos:end="45:54">+</operator> <name pos:start="45:56" pos:end="45:68"><name pos:start="45:56" pos:end="45:56">v</name><operator pos:start="45:57" pos:end="45:58">-&gt;</operator><name pos:start="45:59" pos:end="45:68">blocks_off</name></name></expr>]</index></name></expr>;</expr_stmt></block_content></block></if></if_stmt>

    </block_content>}</block></for>



    <comment type="block" pos:start="51:5" pos:end="51:55">/* calculate chroma MV vector from four luma MVs */</comment>

    <if_stmt pos:start="53:5" pos:end="85:5"><if pos:start="53:5" pos:end="71:5">if <condition pos:start="53:8" pos:end="53:56">(<expr pos:start="53:9" pos:end="53:55"><operator pos:start="53:9" pos:end="53:9">!</operator><name pos:start="53:10" pos:end="53:22"><name pos:start="53:10" pos:end="53:10">v</name><operator pos:start="53:11" pos:end="53:12">-&gt;</operator><name pos:start="53:13" pos:end="53:22">field_mode</name></name> <operator pos:start="53:24" pos:end="53:25">||</operator> <operator pos:start="53:27" pos:end="53:27">(</operator><name pos:start="53:28" pos:end="53:40"><name pos:start="53:28" pos:end="53:28">v</name><operator pos:start="53:29" pos:end="53:30">-&gt;</operator><name pos:start="53:31" pos:end="53:40">field_mode</name></name> <operator pos:start="53:42" pos:end="53:43">&amp;&amp;</operator> <operator pos:start="53:45" pos:end="53:45">!</operator><name pos:start="53:46" pos:end="53:54"><name pos:start="53:46" pos:end="53:46">v</name><operator pos:start="53:47" pos:end="53:48">-&gt;</operator><name pos:start="53:49" pos:end="53:54">numref</name></name><operator pos:start="53:55" pos:end="53:55">)</operator></expr>)</condition> <block pos:start="53:58" pos:end="71:5">{<block_content pos:start="55:9" pos:end="69:9">

        <expr_stmt pos:start="55:9" pos:end="55:66"><expr pos:start="55:9" pos:end="55:65"><name pos:start="55:9" pos:end="55:19">valid_count</name> <operator pos:start="55:21" pos:end="55:21">=</operator> <call pos:start="55:23" pos:end="55:65"><name pos:start="55:23" pos:end="55:35">get_chroma_mv</name><argument_list pos:start="55:36" pos:end="55:65">(<argument pos:start="55:37" pos:end="55:39"><expr pos:start="55:37" pos:end="55:39"><name pos:start="55:37" pos:end="55:39">mvx</name></expr></argument>, <argument pos:start="55:42" pos:end="55:44"><expr pos:start="55:42" pos:end="55:44"><name pos:start="55:42" pos:end="55:44">mvy</name></expr></argument>, <argument pos:start="55:47" pos:end="55:51"><expr pos:start="55:47" pos:end="55:51"><name pos:start="55:47" pos:end="55:51">intra</name></expr></argument>, <argument pos:start="55:54" pos:end="55:54"><expr pos:start="55:54" pos:end="55:54"><literal type="number" pos:start="55:54" pos:end="55:54">0</literal></expr></argument>, <argument pos:start="55:57" pos:end="55:59"><expr pos:start="55:57" pos:end="55:59"><operator pos:start="55:57" pos:end="55:57">&amp;</operator><name pos:start="55:58" pos:end="55:59">tx</name></expr></argument>, <argument pos:start="55:62" pos:end="55:64"><expr pos:start="55:62" pos:end="55:64"><operator pos:start="55:62" pos:end="55:62">&amp;</operator><name pos:start="55:63" pos:end="55:64">ty</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="57:9" pos:end="57:38"><expr pos:start="57:9" pos:end="57:37"><name pos:start="57:9" pos:end="57:23">chroma_ref_type</name> <operator pos:start="57:25" pos:end="57:25">=</operator> <name pos:start="57:27" pos:end="57:37"><name pos:start="57:27" pos:end="57:27">v</name><operator pos:start="57:28" pos:end="57:29">-&gt;</operator><name pos:start="57:30" pos:end="57:37">reffield</name></name></expr>;</expr_stmt>

        <if_stmt pos:start="59:9" pos:end="69:9"><if pos:start="59:9" pos:end="69:9">if <condition pos:start="59:12" pos:end="59:25">(<expr pos:start="59:13" pos:end="59:24"><operator pos:start="59:13" pos:end="59:13">!</operator><name pos:start="59:14" pos:end="59:24">valid_count</name></expr>)</condition> <block pos:start="59:27" pos:end="69:9">{<block_content pos:start="61:13" pos:end="67:19">

            <expr_stmt pos:start="61:13" pos:end="61:89"><expr pos:start="61:13" pos:end="61:88"><name pos:start="61:13" pos:end="61:84"><name pos:start="61:13" pos:end="61:13">s</name><operator pos:start="61:14" pos:end="61:15">-&gt;</operator><name pos:start="61:16" pos:end="61:30">current_picture</name><operator pos:start="61:31" pos:end="61:31">.</operator><name pos:start="61:32" pos:end="61:32">f</name><operator pos:start="61:33" pos:end="61:33">.</operator><name pos:start="61:34" pos:end="61:43">motion_val</name><index pos:start="61:44" pos:end="61:46">[<expr pos:start="61:45" pos:end="61:45"><literal type="number" pos:start="61:45" pos:end="61:45">1</literal></expr>]</index><index pos:start="61:47" pos:end="61:81">[<expr pos:start="61:48" pos:end="61:80"><name pos:start="61:48" pos:end="61:64"><name pos:start="61:48" pos:end="61:48">s</name><operator pos:start="61:49" pos:end="61:50">-&gt;</operator><name pos:start="61:51" pos:end="61:61">block_index</name><index pos:start="61:62" pos:end="61:64">[<expr pos:start="61:63" pos:end="61:63"><literal type="number" pos:start="61:63" pos:end="61:63">0</literal></expr>]</index></name> <operator pos:start="61:66" pos:end="61:66">+</operator> <name pos:start="61:68" pos:end="61:80"><name pos:start="61:68" pos:end="61:68">v</name><operator pos:start="61:69" pos:end="61:70">-&gt;</operator><name pos:start="61:71" pos:end="61:80">blocks_off</name></name></expr>]</index><index pos:start="61:82" pos:end="61:84">[<expr pos:start="61:83" pos:end="61:83"><literal type="number" pos:start="61:83" pos:end="61:83">0</literal></expr>]</index></name> <operator pos:start="61:86" pos:end="61:86">=</operator> <literal type="number" pos:start="61:88" pos:end="61:88">0</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="63:13" pos:end="63:89"><expr pos:start="63:13" pos:end="63:88"><name pos:start="63:13" pos:end="63:84"><name pos:start="63:13" pos:end="63:13">s</name><operator pos:start="63:14" pos:end="63:15">-&gt;</operator><name pos:start="63:16" pos:end="63:30">current_picture</name><operator pos:start="63:31" pos:end="63:31">.</operator><name pos:start="63:32" pos:end="63:32">f</name><operator pos:start="63:33" pos:end="63:33">.</operator><name pos:start="63:34" pos:end="63:43">motion_val</name><index pos:start="63:44" pos:end="63:46">[<expr pos:start="63:45" pos:end="63:45"><literal type="number" pos:start="63:45" pos:end="63:45">1</literal></expr>]</index><index pos:start="63:47" pos:end="63:81">[<expr pos:start="63:48" pos:end="63:80"><name pos:start="63:48" pos:end="63:64"><name pos:start="63:48" pos:end="63:48">s</name><operator pos:start="63:49" pos:end="63:50">-&gt;</operator><name pos:start="63:51" pos:end="63:61">block_index</name><index pos:start="63:62" pos:end="63:64">[<expr pos:start="63:63" pos:end="63:63"><literal type="number" pos:start="63:63" pos:end="63:63">0</literal></expr>]</index></name> <operator pos:start="63:66" pos:end="63:66">+</operator> <name pos:start="63:68" pos:end="63:80"><name pos:start="63:68" pos:end="63:68">v</name><operator pos:start="63:69" pos:end="63:70">-&gt;</operator><name pos:start="63:71" pos:end="63:80">blocks_off</name></name></expr>]</index><index pos:start="63:82" pos:end="63:84">[<expr pos:start="63:83" pos:end="63:83"><literal type="number" pos:start="63:83" pos:end="63:83">1</literal></expr>]</index></name> <operator pos:start="63:86" pos:end="63:86">=</operator> <literal type="number" pos:start="63:88" pos:end="63:88">0</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="65:13" pos:end="65:64"><expr pos:start="65:13" pos:end="65:63"><name pos:start="65:13" pos:end="65:34"><name pos:start="65:13" pos:end="65:13">v</name><operator pos:start="65:14" pos:end="65:15">-&gt;</operator><name pos:start="65:16" pos:end="65:22">luma_mv</name><index pos:start="65:23" pos:end="65:31">[<expr pos:start="65:24" pos:end="65:30"><name pos:start="65:24" pos:end="65:30"><name pos:start="65:24" pos:end="65:24">s</name><operator pos:start="65:25" pos:end="65:26">-&gt;</operator><name pos:start="65:27" pos:end="65:30">mb_x</name></name></expr>]</index><index pos:start="65:32" pos:end="65:34">[<expr pos:start="65:33" pos:end="65:33"><literal type="number" pos:start="65:33" pos:end="65:33">0</literal></expr>]</index></name> <operator pos:start="65:36" pos:end="65:36">=</operator> <name pos:start="65:38" pos:end="65:59"><name pos:start="65:38" pos:end="65:38">v</name><operator pos:start="65:39" pos:end="65:40">-&gt;</operator><name pos:start="65:41" pos:end="65:47">luma_mv</name><index pos:start="65:48" pos:end="65:56">[<expr pos:start="65:49" pos:end="65:55"><name pos:start="65:49" pos:end="65:55"><name pos:start="65:49" pos:end="65:49">s</name><operator pos:start="65:50" pos:end="65:51">-&gt;</operator><name pos:start="65:52" pos:end="65:55">mb_x</name></name></expr>]</index><index pos:start="65:57" pos:end="65:59">[<expr pos:start="65:58" pos:end="65:58"><literal type="number" pos:start="65:58" pos:end="65:58">1</literal></expr>]</index></name> <operator pos:start="65:61" pos:end="65:61">=</operator> <literal type="number" pos:start="65:63" pos:end="65:63">0</literal></expr>;</expr_stmt>

            <return pos:start="67:13" pos:end="67:19">return;</return> <comment type="line" pos:start="67:21" pos:end="67:55">//no need to do MC for intra blocks</comment>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></if> <else pos:start="71:7" pos:end="85:5">else <block pos:start="71:12" pos:end="85:5">{<block_content pos:start="73:9" pos:end="83:49">

        <decl_stmt pos:start="73:9" pos:end="73:25"><decl pos:start="73:9" pos:end="73:24"><type pos:start="73:9" pos:end="73:11"><name pos:start="73:9" pos:end="73:11">int</name></type> <name pos:start="73:13" pos:end="73:20">dominant</name> <init pos:start="73:22" pos:end="73:24">= <expr pos:start="73:24" pos:end="73:24"><literal type="number" pos:start="73:24" pos:end="73:24">0</literal></expr></init></decl>;</decl_stmt>

        <if_stmt pos:start="75:9" pos:end="77:25"><if pos:start="75:9" pos:end="77:25">if <condition pos:start="75:12" pos:end="75:54">(<expr pos:start="75:13" pos:end="75:53"><name pos:start="75:13" pos:end="75:19"><name pos:start="75:13" pos:end="75:16">mv_f</name><index pos:start="75:17" pos:end="75:19">[<expr pos:start="75:18" pos:end="75:18"><literal type="number" pos:start="75:18" pos:end="75:18">0</literal></expr>]</index></name> <operator pos:start="75:21" pos:end="75:21">+</operator> <name pos:start="75:23" pos:end="75:29"><name pos:start="75:23" pos:end="75:26">mv_f</name><index pos:start="75:27" pos:end="75:29">[<expr pos:start="75:28" pos:end="75:28"><literal type="number" pos:start="75:28" pos:end="75:28">1</literal></expr>]</index></name> <operator pos:start="75:31" pos:end="75:31">+</operator> <name pos:start="75:33" pos:end="75:39"><name pos:start="75:33" pos:end="75:36">mv_f</name><index pos:start="75:37" pos:end="75:39">[<expr pos:start="75:38" pos:end="75:38"><literal type="number" pos:start="75:38" pos:end="75:38">2</literal></expr>]</index></name> <operator pos:start="75:41" pos:end="75:41">+</operator> <name pos:start="75:43" pos:end="75:49"><name pos:start="75:43" pos:end="75:46">mv_f</name><index pos:start="75:47" pos:end="75:49">[<expr pos:start="75:48" pos:end="75:48"><literal type="number" pos:start="75:48" pos:end="75:48">3</literal></expr>]</index></name> <operator pos:start="75:51" pos:end="75:51">&gt;</operator> <literal type="number" pos:start="75:53" pos:end="75:53">2</literal></expr>)</condition><block type="pseudo" pos:start="77:13" pos:end="77:25"><block_content pos:start="77:13" pos:end="77:25">

            <expr_stmt pos:start="77:13" pos:end="77:25"><expr pos:start="77:13" pos:end="77:24"><name pos:start="77:13" pos:end="77:20">dominant</name> <operator pos:start="77:22" pos:end="77:22">=</operator> <literal type="number" pos:start="77:24" pos:end="77:24">1</literal></expr>;</expr_stmt></block_content></block></if></if_stmt>

        <expr_stmt pos:start="79:9" pos:end="79:72"><expr pos:start="79:9" pos:end="79:71"><name pos:start="79:9" pos:end="79:19">valid_count</name> <operator pos:start="79:21" pos:end="79:21">=</operator> <call pos:start="79:23" pos:end="79:71"><name pos:start="79:23" pos:end="79:35">get_chroma_mv</name><argument_list pos:start="79:36" pos:end="79:71">(<argument pos:start="79:37" pos:end="79:39"><expr pos:start="79:37" pos:end="79:39"><name pos:start="79:37" pos:end="79:39">mvx</name></expr></argument>, <argument pos:start="79:42" pos:end="79:44"><expr pos:start="79:42" pos:end="79:44"><name pos:start="79:42" pos:end="79:44">mvy</name></expr></argument>, <argument pos:start="79:47" pos:end="79:50"><expr pos:start="79:47" pos:end="79:50"><name pos:start="79:47" pos:end="79:50">mv_f</name></expr></argument>, <argument pos:start="79:53" pos:end="79:60"><expr pos:start="79:53" pos:end="79:60"><name pos:start="79:53" pos:end="79:60">dominant</name></expr></argument>, <argument pos:start="79:63" pos:end="79:65"><expr pos:start="79:63" pos:end="79:65"><operator pos:start="79:63" pos:end="79:63">&amp;</operator><name pos:start="79:64" pos:end="79:65">tx</name></expr></argument>, <argument pos:start="79:68" pos:end="79:70"><expr pos:start="79:68" pos:end="79:70"><operator pos:start="79:68" pos:end="79:68">&amp;</operator><name pos:start="79:69" pos:end="79:70">ty</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="81:9" pos:end="83:49"><if pos:start="81:9" pos:end="83:49">if <condition pos:start="81:12" pos:end="81:21">(<expr pos:start="81:13" pos:end="81:20"><name pos:start="81:13" pos:end="81:20">dominant</name></expr>)</condition><block type="pseudo" pos:start="83:13" pos:end="83:49"><block_content pos:start="83:13" pos:end="83:49">

            <expr_stmt pos:start="83:13" pos:end="83:49"><expr pos:start="83:13" pos:end="83:48"><name pos:start="83:13" pos:end="83:27">chroma_ref_type</name> <operator pos:start="83:29" pos:end="83:29">=</operator> <operator pos:start="83:31" pos:end="83:31">!</operator><name pos:start="83:32" pos:end="83:48"><name pos:start="83:32" pos:end="83:32">v</name><operator pos:start="83:33" pos:end="83:34">-&gt;</operator><name pos:start="83:35" pos:end="83:48">cur_field_type</name></name></expr>;</expr_stmt></block_content></block></if></if_stmt>

    </block_content>}</block></else></if_stmt>

    <if_stmt pos:start="87:5" pos:end="89:15"><if pos:start="87:5" pos:end="89:15">if <condition pos:start="87:8" pos:end="87:104">(<expr pos:start="87:9" pos:end="87:103"><name pos:start="87:9" pos:end="87:21"><name pos:start="87:9" pos:end="87:9">v</name><operator pos:start="87:10" pos:end="87:11">-&gt;</operator><name pos:start="87:12" pos:end="87:21">field_mode</name></name> <operator pos:start="87:23" pos:end="87:24">&amp;&amp;</operator> <name pos:start="87:26" pos:end="87:40">chroma_ref_type</name> <operator pos:start="87:42" pos:end="87:43">==</operator> <literal type="number" pos:start="87:45" pos:end="87:45">1</literal> <operator pos:start="87:47" pos:end="87:48">&amp;&amp;</operator> <name pos:start="87:50" pos:end="87:66"><name pos:start="87:50" pos:end="87:50">v</name><operator pos:start="87:51" pos:end="87:52">-&gt;</operator><name pos:start="87:53" pos:end="87:66">cur_field_type</name></name> <operator pos:start="87:68" pos:end="87:69">==</operator> <literal type="number" pos:start="87:71" pos:end="87:71">1</literal> <operator pos:start="87:73" pos:end="87:74">&amp;&amp;</operator> <operator pos:start="87:76" pos:end="87:76">!</operator><name pos:start="87:77" pos:end="87:103"><name pos:start="87:77" pos:end="87:77">v</name><operator pos:start="87:78" pos:end="87:79">-&gt;</operator><name pos:start="87:80" pos:end="87:80">s</name><operator pos:start="87:81" pos:end="87:81">.</operator><name pos:start="87:82" pos:end="87:93">last_picture</name><operator pos:start="87:94" pos:end="87:94">.</operator><name pos:start="87:95" pos:end="87:95">f</name><operator pos:start="87:96" pos:end="87:96">.</operator><name pos:start="87:97" pos:end="87:100">data</name><index pos:start="87:101" pos:end="87:103">[<expr pos:start="87:102" pos:end="87:102"><literal type="number" pos:start="87:102" pos:end="87:102">0</literal></expr>]</index></name></expr>)</condition><block type="pseudo" pos:start="89:9" pos:end="89:15"><block_content pos:start="89:9" pos:end="89:15">

        <return pos:start="89:9" pos:end="89:15">return;</return></block_content></block></if></if_stmt>

    <expr_stmt pos:start="91:5" pos:end="91:82"><expr pos:start="91:5" pos:end="91:81"><name pos:start="91:5" pos:end="91:76"><name pos:start="91:5" pos:end="91:5">s</name><operator pos:start="91:6" pos:end="91:7">-&gt;</operator><name pos:start="91:8" pos:end="91:22">current_picture</name><operator pos:start="91:23" pos:end="91:23">.</operator><name pos:start="91:24" pos:end="91:24">f</name><operator pos:start="91:25" pos:end="91:25">.</operator><name pos:start="91:26" pos:end="91:35">motion_val</name><index pos:start="91:36" pos:end="91:38">[<expr pos:start="91:37" pos:end="91:37"><literal type="number" pos:start="91:37" pos:end="91:37">1</literal></expr>]</index><index pos:start="91:39" pos:end="91:73">[<expr pos:start="91:40" pos:end="91:72"><name pos:start="91:40" pos:end="91:56"><name pos:start="91:40" pos:end="91:40">s</name><operator pos:start="91:41" pos:end="91:42">-&gt;</operator><name pos:start="91:43" pos:end="91:53">block_index</name><index pos:start="91:54" pos:end="91:56">[<expr pos:start="91:55" pos:end="91:55"><literal type="number" pos:start="91:55" pos:end="91:55">0</literal></expr>]</index></name> <operator pos:start="91:58" pos:end="91:58">+</operator> <name pos:start="91:60" pos:end="91:72"><name pos:start="91:60" pos:end="91:60">v</name><operator pos:start="91:61" pos:end="91:62">-&gt;</operator><name pos:start="91:63" pos:end="91:72">blocks_off</name></name></expr>]</index><index pos:start="91:74" pos:end="91:76">[<expr pos:start="91:75" pos:end="91:75"><literal type="number" pos:start="91:75" pos:end="91:75">0</literal></expr>]</index></name> <operator pos:start="91:78" pos:end="91:78">=</operator> <name pos:start="91:80" pos:end="91:81">tx</name></expr>;</expr_stmt>

    <expr_stmt pos:start="93:5" pos:end="93:82"><expr pos:start="93:5" pos:end="93:81"><name pos:start="93:5" pos:end="93:76"><name pos:start="93:5" pos:end="93:5">s</name><operator pos:start="93:6" pos:end="93:7">-&gt;</operator><name pos:start="93:8" pos:end="93:22">current_picture</name><operator pos:start="93:23" pos:end="93:23">.</operator><name pos:start="93:24" pos:end="93:24">f</name><operator pos:start="93:25" pos:end="93:25">.</operator><name pos:start="93:26" pos:end="93:35">motion_val</name><index pos:start="93:36" pos:end="93:38">[<expr pos:start="93:37" pos:end="93:37"><literal type="number" pos:start="93:37" pos:end="93:37">1</literal></expr>]</index><index pos:start="93:39" pos:end="93:73">[<expr pos:start="93:40" pos:end="93:72"><name pos:start="93:40" pos:end="93:56"><name pos:start="93:40" pos:end="93:40">s</name><operator pos:start="93:41" pos:end="93:42">-&gt;</operator><name pos:start="93:43" pos:end="93:53">block_index</name><index pos:start="93:54" pos:end="93:56">[<expr pos:start="93:55" pos:end="93:55"><literal type="number" pos:start="93:55" pos:end="93:55">0</literal></expr>]</index></name> <operator pos:start="93:58" pos:end="93:58">+</operator> <name pos:start="93:60" pos:end="93:72"><name pos:start="93:60" pos:end="93:60">v</name><operator pos:start="93:61" pos:end="93:62">-&gt;</operator><name pos:start="93:63" pos:end="93:72">blocks_off</name></name></expr>]</index><index pos:start="93:74" pos:end="93:76">[<expr pos:start="93:75" pos:end="93:75"><literal type="number" pos:start="93:75" pos:end="93:75">1</literal></expr>]</index></name> <operator pos:start="93:78" pos:end="93:78">=</operator> <name pos:start="93:80" pos:end="93:81">ty</name></expr>;</expr_stmt>

    <expr_stmt pos:start="95:5" pos:end="95:39"><expr pos:start="95:5" pos:end="95:38"><name pos:start="95:5" pos:end="95:8">uvmx</name> <operator pos:start="95:10" pos:end="95:10">=</operator> <operator pos:start="95:12" pos:end="95:12">(</operator><name pos:start="95:13" pos:end="95:14">tx</name> <operator pos:start="95:16" pos:end="95:16">+</operator> <operator pos:start="95:18" pos:end="95:18">(</operator><operator pos:start="95:19" pos:end="95:19">(</operator><name pos:start="95:20" pos:end="95:21">tx</name> <operator pos:start="95:23" pos:end="95:23">&amp;</operator> <literal type="number" pos:start="95:25" pos:end="95:25">3</literal><operator pos:start="95:26" pos:end="95:26">)</operator> <operator pos:start="95:28" pos:end="95:29">==</operator> <literal type="number" pos:start="95:31" pos:end="95:31">3</literal><operator pos:start="95:32" pos:end="95:32">)</operator><operator pos:start="95:33" pos:end="95:33">)</operator> <operator pos:start="95:35" pos:end="95:36">&gt;&gt;</operator> <literal type="number" pos:start="95:38" pos:end="95:38">1</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="97:5" pos:end="97:39"><expr pos:start="97:5" pos:end="97:38"><name pos:start="97:5" pos:end="97:8">uvmy</name> <operator pos:start="97:10" pos:end="97:10">=</operator> <operator pos:start="97:12" pos:end="97:12">(</operator><name pos:start="97:13" pos:end="97:14">ty</name> <operator pos:start="97:16" pos:end="97:16">+</operator> <operator pos:start="97:18" pos:end="97:18">(</operator><operator pos:start="97:19" pos:end="97:19">(</operator><name pos:start="97:20" pos:end="97:21">ty</name> <operator pos:start="97:23" pos:end="97:23">&amp;</operator> <literal type="number" pos:start="97:25" pos:end="97:25">3</literal><operator pos:start="97:26" pos:end="97:26">)</operator> <operator pos:start="97:28" pos:end="97:29">==</operator> <literal type="number" pos:start="97:31" pos:end="97:31">3</literal><operator pos:start="97:32" pos:end="97:32">)</operator><operator pos:start="97:33" pos:end="97:33">)</operator> <operator pos:start="97:35" pos:end="97:36">&gt;&gt;</operator> <literal type="number" pos:start="97:38" pos:end="97:38">1</literal></expr>;</expr_stmt>



    <expr_stmt pos:start="101:5" pos:end="101:34"><expr pos:start="101:5" pos:end="101:33"><name pos:start="101:5" pos:end="101:26"><name pos:start="101:5" pos:end="101:5">v</name><operator pos:start="101:6" pos:end="101:7">-&gt;</operator><name pos:start="101:8" pos:end="101:14">luma_mv</name><index pos:start="101:15" pos:end="101:23">[<expr pos:start="101:16" pos:end="101:22"><name pos:start="101:16" pos:end="101:22"><name pos:start="101:16" pos:end="101:16">s</name><operator pos:start="101:17" pos:end="101:18">-&gt;</operator><name pos:start="101:19" pos:end="101:22">mb_x</name></name></expr>]</index><index pos:start="101:24" pos:end="101:26">[<expr pos:start="101:25" pos:end="101:25"><literal type="number" pos:start="101:25" pos:end="101:25">0</literal></expr>]</index></name> <operator pos:start="101:28" pos:end="101:28">=</operator> <name pos:start="101:30" pos:end="101:33">uvmx</name></expr>;</expr_stmt>

    <expr_stmt pos:start="103:5" pos:end="103:34"><expr pos:start="103:5" pos:end="103:33"><name pos:start="103:5" pos:end="103:26"><name pos:start="103:5" pos:end="103:5">v</name><operator pos:start="103:6" pos:end="103:7">-&gt;</operator><name pos:start="103:8" pos:end="103:14">luma_mv</name><index pos:start="103:15" pos:end="103:23">[<expr pos:start="103:16" pos:end="103:22"><name pos:start="103:16" pos:end="103:22"><name pos:start="103:16" pos:end="103:16">s</name><operator pos:start="103:17" pos:end="103:18">-&gt;</operator><name pos:start="103:19" pos:end="103:22">mb_x</name></name></expr>]</index><index pos:start="103:24" pos:end="103:26">[<expr pos:start="103:25" pos:end="103:25"><literal type="number" pos:start="103:25" pos:end="103:25">1</literal></expr>]</index></name> <operator pos:start="103:28" pos:end="103:28">=</operator> <name pos:start="103:30" pos:end="103:33">uvmy</name></expr>;</expr_stmt>



    <if_stmt pos:start="107:5" pos:end="113:5"><if pos:start="107:5" pos:end="113:5">if <condition pos:start="107:8" pos:end="107:20">(<expr pos:start="107:9" pos:end="107:19"><name pos:start="107:9" pos:end="107:19"><name pos:start="107:9" pos:end="107:9">v</name><operator pos:start="107:10" pos:end="107:11">-&gt;</operator><name pos:start="107:12" pos:end="107:19">fastuvmc</name></name></expr>)</condition> <block pos:start="107:22" pos:end="113:5">{<block_content pos:start="109:9" pos:end="111:62">

        <expr_stmt pos:start="109:9" pos:end="109:62"><expr pos:start="109:9" pos:end="109:61"><name pos:start="109:9" pos:end="109:12">uvmx</name> <operator pos:start="109:14" pos:end="109:14">=</operator> <name pos:start="109:16" pos:end="109:19">uvmx</name> <operator pos:start="109:21" pos:end="109:21">+</operator> <operator pos:start="109:23" pos:end="109:23">(</operator><ternary pos:start="109:24" pos:end="109:60"><condition pos:start="109:24" pos:end="109:35"><expr pos:start="109:24" pos:end="109:33"><operator pos:start="109:24" pos:end="109:24">(</operator><name pos:start="109:25" pos:end="109:28">uvmx</name> <operator pos:start="109:30" pos:end="109:30">&lt;</operator> <literal type="number" pos:start="109:32" pos:end="109:32">0</literal><operator pos:start="109:33" pos:end="109:33">)</operator></expr> ?</condition><then pos:start="109:37" pos:end="109:46"> <expr pos:start="109:37" pos:end="109:46"><operator pos:start="109:37" pos:end="109:37">(</operator><name pos:start="109:38" pos:end="109:41">uvmx</name> <operator pos:start="109:43" pos:end="109:43">&amp;</operator> <literal type="number" pos:start="109:45" pos:end="109:45">1</literal><operator pos:start="109:46" pos:end="109:46">)</operator></expr> </then><else pos:start="109:48" pos:end="109:60">: <expr pos:start="109:50" pos:end="109:60"><operator pos:start="109:50" pos:end="109:50">-</operator><operator pos:start="109:51" pos:end="109:51">(</operator><name pos:start="109:52" pos:end="109:55">uvmx</name> <operator pos:start="109:57" pos:end="109:57">&amp;</operator> <literal type="number" pos:start="109:59" pos:end="109:59">1</literal><operator pos:start="109:60" pos:end="109:60">)</operator></expr></else></ternary><operator pos:start="109:61" pos:end="109:61">)</operator></expr>;</expr_stmt>

        <expr_stmt pos:start="111:9" pos:end="111:62"><expr pos:start="111:9" pos:end="111:61"><name pos:start="111:9" pos:end="111:12">uvmy</name> <operator pos:start="111:14" pos:end="111:14">=</operator> <name pos:start="111:16" pos:end="111:19">uvmy</name> <operator pos:start="111:21" pos:end="111:21">+</operator> <operator pos:start="111:23" pos:end="111:23">(</operator><ternary pos:start="111:24" pos:end="111:60"><condition pos:start="111:24" pos:end="111:35"><expr pos:start="111:24" pos:end="111:33"><operator pos:start="111:24" pos:end="111:24">(</operator><name pos:start="111:25" pos:end="111:28">uvmy</name> <operator pos:start="111:30" pos:end="111:30">&lt;</operator> <literal type="number" pos:start="111:32" pos:end="111:32">0</literal><operator pos:start="111:33" pos:end="111:33">)</operator></expr> ?</condition><then pos:start="111:37" pos:end="111:46"> <expr pos:start="111:37" pos:end="111:46"><operator pos:start="111:37" pos:end="111:37">(</operator><name pos:start="111:38" pos:end="111:41">uvmy</name> <operator pos:start="111:43" pos:end="111:43">&amp;</operator> <literal type="number" pos:start="111:45" pos:end="111:45">1</literal><operator pos:start="111:46" pos:end="111:46">)</operator></expr> </then><else pos:start="111:48" pos:end="111:60">: <expr pos:start="111:50" pos:end="111:60"><operator pos:start="111:50" pos:end="111:50">-</operator><operator pos:start="111:51" pos:end="111:51">(</operator><name pos:start="111:52" pos:end="111:55">uvmy</name> <operator pos:start="111:57" pos:end="111:57">&amp;</operator> <literal type="number" pos:start="111:59" pos:end="111:59">1</literal><operator pos:start="111:60" pos:end="111:60">)</operator></expr></else></ternary><operator pos:start="111:61" pos:end="111:61">)</operator></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    <comment type="line" pos:start="115:5" pos:end="115:28">// Field conversion bias</comment>

    <if_stmt pos:start="117:5" pos:end="119:40"><if pos:start="117:5" pos:end="119:40">if <condition pos:start="117:8" pos:end="117:45">(<expr pos:start="117:9" pos:end="117:44"><name pos:start="117:9" pos:end="117:25"><name pos:start="117:9" pos:end="117:9">v</name><operator pos:start="117:10" pos:end="117:11">-&gt;</operator><name pos:start="117:12" pos:end="117:25">cur_field_type</name></name> <operator pos:start="117:27" pos:end="117:28">!=</operator> <name pos:start="117:30" pos:end="117:44">chroma_ref_type</name></expr>)</condition><block type="pseudo" pos:start="119:9" pos:end="119:40"><block_content pos:start="119:9" pos:end="119:40">

        <expr_stmt pos:start="119:9" pos:end="119:40"><expr pos:start="119:9" pos:end="119:39"><name pos:start="119:9" pos:end="119:12">uvmy</name> <operator pos:start="119:14" pos:end="119:15">+=</operator> <literal type="number" pos:start="119:17" pos:end="119:19">2</literal> <operator pos:start="119:19" pos:end="119:19">-</operator> <literal type="number" pos:start="119:21" pos:end="119:21">4</literal> <operator pos:start="119:23" pos:end="119:23">*</operator> <name pos:start="119:25" pos:end="119:39">chroma_ref_type</name></expr>;</expr_stmt></block_content></block></if></if_stmt>



    <expr_stmt pos:start="123:5" pos:end="123:40"><expr pos:start="123:5" pos:end="123:39"><name pos:start="123:5" pos:end="123:11">uvsrc_x</name> <operator pos:start="123:13" pos:end="123:13">=</operator> <name pos:start="123:15" pos:end="123:21"><name pos:start="123:15" pos:end="123:15">s</name><operator pos:start="123:16" pos:end="123:17">-&gt;</operator><name pos:start="123:18" pos:end="123:21">mb_x</name></name> <operator pos:start="123:23" pos:end="123:23">*</operator> <literal type="number" pos:start="123:25" pos:end="123:27">8</literal> <operator pos:start="123:27" pos:end="123:27">+</operator> <operator pos:start="123:29" pos:end="123:29">(</operator><name pos:start="123:30" pos:end="123:33">uvmx</name> <operator pos:start="123:35" pos:end="123:36">&gt;&gt;</operator> <literal type="number" pos:start="123:38" pos:end="123:38">2</literal><operator pos:start="123:39" pos:end="123:39">)</operator></expr>;</expr_stmt>

    <expr_stmt pos:start="125:5" pos:end="125:40"><expr pos:start="125:5" pos:end="125:39"><name pos:start="125:5" pos:end="125:11">uvsrc_y</name> <operator pos:start="125:13" pos:end="125:13">=</operator> <name pos:start="125:15" pos:end="125:21"><name pos:start="125:15" pos:end="125:15">s</name><operator pos:start="125:16" pos:end="125:17">-&gt;</operator><name pos:start="125:18" pos:end="125:21">mb_y</name></name> <operator pos:start="125:23" pos:end="125:23">*</operator> <literal type="number" pos:start="125:25" pos:end="125:27">8</literal> <operator pos:start="125:27" pos:end="125:27">+</operator> <operator pos:start="125:29" pos:end="125:29">(</operator><name pos:start="125:30" pos:end="125:33">uvmy</name> <operator pos:start="125:35" pos:end="125:36">&gt;&gt;</operator> <literal type="number" pos:start="125:38" pos:end="125:38">2</literal><operator pos:start="125:39" pos:end="125:39">)</operator></expr>;</expr_stmt>



    <if_stmt pos:start="129:5" pos:end="141:5"><if pos:start="129:5" pos:end="135:5">if <condition pos:start="129:8" pos:end="129:39">(<expr pos:start="129:9" pos:end="129:38"><name pos:start="129:9" pos:end="129:18"><name pos:start="129:9" pos:end="129:9">v</name><operator pos:start="129:10" pos:end="129:11">-&gt;</operator><name pos:start="129:12" pos:end="129:18">profile</name></name> <operator pos:start="129:20" pos:end="129:21">!=</operator> <name pos:start="129:23" pos:end="129:38">PROFILE_ADVANCED</name></expr>)</condition> <block pos:start="129:41" pos:end="135:5">{<block_content pos:start="131:9" pos:end="133:57">

        <expr_stmt pos:start="131:9" pos:end="131:57"><expr pos:start="131:9" pos:end="131:56"><name pos:start="131:9" pos:end="131:15">uvsrc_x</name> <operator pos:start="131:17" pos:end="131:17">=</operator> <call pos:start="131:19" pos:end="131:56"><name pos:start="131:19" pos:end="131:25">av_clip</name><argument_list pos:start="131:26" pos:end="131:56">(<argument pos:start="131:27" pos:end="131:33"><expr pos:start="131:27" pos:end="131:33"><name pos:start="131:27" pos:end="131:33">uvsrc_x</name></expr></argument>, <argument pos:start="131:36" pos:end="131:37"><expr pos:start="131:36" pos:end="131:37"><operator pos:start="131:36" pos:end="131:36">-</operator><literal type="number" pos:start="131:37" pos:end="131:37">8</literal></expr></argument>, <argument pos:start="131:40" pos:end="131:55"><expr pos:start="131:40" pos:end="131:55"><name pos:start="131:40" pos:end="131:50"><name pos:start="131:40" pos:end="131:40">s</name><operator pos:start="131:41" pos:end="131:42">-&gt;</operator><name pos:start="131:43" pos:end="131:50">mb_width</name></name>  <operator pos:start="131:53" pos:end="131:53">*</operator> <literal type="number" pos:start="131:55" pos:end="131:55">8</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="133:9" pos:end="133:57"><expr pos:start="133:9" pos:end="133:56"><name pos:start="133:9" pos:end="133:15">uvsrc_y</name> <operator pos:start="133:17" pos:end="133:17">=</operator> <call pos:start="133:19" pos:end="133:56"><name pos:start="133:19" pos:end="133:25">av_clip</name><argument_list pos:start="133:26" pos:end="133:56">(<argument pos:start="133:27" pos:end="133:33"><expr pos:start="133:27" pos:end="133:33"><name pos:start="133:27" pos:end="133:33">uvsrc_y</name></expr></argument>, <argument pos:start="133:36" pos:end="133:37"><expr pos:start="133:36" pos:end="133:37"><operator pos:start="133:36" pos:end="133:36">-</operator><literal type="number" pos:start="133:37" pos:end="133:37">8</literal></expr></argument>, <argument pos:start="133:40" pos:end="133:55"><expr pos:start="133:40" pos:end="133:55"><name pos:start="133:40" pos:end="133:51"><name pos:start="133:40" pos:end="133:40">s</name><operator pos:start="133:41" pos:end="133:42">-&gt;</operator><name pos:start="133:43" pos:end="133:51">mb_height</name></name> <operator pos:start="133:53" pos:end="133:53">*</operator> <literal type="number" pos:start="133:55" pos:end="133:55">8</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="135:7" pos:end="141:5">else <block pos:start="135:12" pos:end="141:5">{<block_content pos:start="137:9" pos:end="139:68">

        <expr_stmt pos:start="137:9" pos:end="137:68"><expr pos:start="137:9" pos:end="137:67"><name pos:start="137:9" pos:end="137:15">uvsrc_x</name> <operator pos:start="137:17" pos:end="137:17">=</operator> <call pos:start="137:19" pos:end="137:67"><name pos:start="137:19" pos:end="137:25">av_clip</name><argument_list pos:start="137:26" pos:end="137:67">(<argument pos:start="137:27" pos:end="137:33"><expr pos:start="137:27" pos:end="137:33"><name pos:start="137:27" pos:end="137:33">uvsrc_x</name></expr></argument>, <argument pos:start="137:36" pos:end="137:37"><expr pos:start="137:36" pos:end="137:37"><operator pos:start="137:36" pos:end="137:36">-</operator><literal type="number" pos:start="137:37" pos:end="137:37">8</literal></expr></argument>, <argument pos:start="137:40" pos:end="137:66"><expr pos:start="137:40" pos:end="137:66"><name pos:start="137:40" pos:end="137:60"><name pos:start="137:40" pos:end="137:40">s</name><operator pos:start="137:41" pos:end="137:42">-&gt;</operator><name pos:start="137:43" pos:end="137:47">avctx</name><operator pos:start="137:48" pos:end="137:49">-&gt;</operator><name pos:start="137:50" pos:end="137:60">coded_width</name></name>  <operator pos:start="137:63" pos:end="137:64">&gt;&gt;</operator> <literal type="number" pos:start="137:66" pos:end="137:66">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="139:9" pos:end="139:68"><expr pos:start="139:9" pos:end="139:67"><name pos:start="139:9" pos:end="139:15">uvsrc_y</name> <operator pos:start="139:17" pos:end="139:17">=</operator> <call pos:start="139:19" pos:end="139:67"><name pos:start="139:19" pos:end="139:25">av_clip</name><argument_list pos:start="139:26" pos:end="139:67">(<argument pos:start="139:27" pos:end="139:33"><expr pos:start="139:27" pos:end="139:33"><name pos:start="139:27" pos:end="139:33">uvsrc_y</name></expr></argument>, <argument pos:start="139:36" pos:end="139:37"><expr pos:start="139:36" pos:end="139:37"><operator pos:start="139:36" pos:end="139:36">-</operator><literal type="number" pos:start="139:37" pos:end="139:37">8</literal></expr></argument>, <argument pos:start="139:40" pos:end="139:66"><expr pos:start="139:40" pos:end="139:66"><name pos:start="139:40" pos:end="139:61"><name pos:start="139:40" pos:end="139:40">s</name><operator pos:start="139:41" pos:end="139:42">-&gt;</operator><name pos:start="139:43" pos:end="139:47">avctx</name><operator pos:start="139:48" pos:end="139:49">-&gt;</operator><name pos:start="139:50" pos:end="139:61">coded_height</name></name> <operator pos:start="139:63" pos:end="139:64">&gt;&gt;</operator> <literal type="number" pos:start="139:66" pos:end="139:66">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></else></if_stmt>



    <if_stmt pos:start="145:5" pos:end="177:5"><if pos:start="145:5" pos:end="171:5">if <condition pos:start="145:8" pos:end="145:13">(<expr pos:start="145:9" pos:end="145:12"><operator pos:start="145:9" pos:end="145:9">!</operator><name pos:start="145:10" pos:end="145:12">dir</name></expr>)</condition> <block pos:start="145:15" pos:end="171:5">{<block_content pos:start="147:9" pos:end="169:9">

        <if_stmt pos:start="147:9" pos:end="169:9"><if pos:start="147:9" pos:end="163:9">if <condition pos:start="147:12" pos:end="147:26">(<expr pos:start="147:13" pos:end="147:25"><name pos:start="147:13" pos:end="147:25"><name pos:start="147:13" pos:end="147:13">v</name><operator pos:start="147:14" pos:end="147:15">-&gt;</operator><name pos:start="147:16" pos:end="147:25">field_mode</name></name></expr>)</condition> <block pos:start="147:28" pos:end="163:9">{<block_content pos:start="149:13" pos:end="161:13">

            <if_stmt pos:start="149:13" pos:end="161:13"><if pos:start="149:13" pos:end="155:13">if <condition pos:start="149:16" pos:end="149:76">(<expr pos:start="149:17" pos:end="149:75"><operator pos:start="149:17" pos:end="149:17">(</operator><name pos:start="149:18" pos:end="149:34"><name pos:start="149:18" pos:end="149:18">v</name><operator pos:start="149:19" pos:end="149:20">-&gt;</operator><name pos:start="149:21" pos:end="149:34">cur_field_type</name></name> <operator pos:start="149:36" pos:end="149:37">!=</operator> <name pos:start="149:39" pos:end="149:53">chroma_ref_type</name><operator pos:start="149:54" pos:end="149:54">)</operator> <operator pos:start="149:56" pos:end="149:57">&amp;&amp;</operator> <name pos:start="149:59" pos:end="149:75"><name pos:start="149:59" pos:end="149:59">v</name><operator pos:start="149:60" pos:end="149:61">-&gt;</operator><name pos:start="149:62" pos:end="149:75">cur_field_type</name></name></expr>)</condition> <block pos:start="149:78" pos:end="155:13">{<block_content pos:start="151:17" pos:end="153:52">

                <expr_stmt pos:start="151:17" pos:end="151:52"><expr pos:start="151:17" pos:end="151:51"><name pos:start="151:17" pos:end="151:20">srcU</name> <operator pos:start="151:22" pos:end="151:22">=</operator> <name pos:start="151:24" pos:end="151:51"><name pos:start="151:24" pos:end="151:24">s</name><operator pos:start="151:25" pos:end="151:26">-&gt;</operator><name pos:start="151:27" pos:end="151:41">current_picture</name><operator pos:start="151:42" pos:end="151:42">.</operator><name pos:start="151:43" pos:end="151:43">f</name><operator pos:start="151:44" pos:end="151:44">.</operator><name pos:start="151:45" pos:end="151:48">data</name><index pos:start="151:49" pos:end="151:51">[<expr pos:start="151:50" pos:end="151:50"><literal type="number" pos:start="151:50" pos:end="151:50">1</literal></expr>]</index></name></expr>;</expr_stmt>

                <expr_stmt pos:start="153:17" pos:end="153:52"><expr pos:start="153:17" pos:end="153:51"><name pos:start="153:17" pos:end="153:20">srcV</name> <operator pos:start="153:22" pos:end="153:22">=</operator> <name pos:start="153:24" pos:end="153:51"><name pos:start="153:24" pos:end="153:24">s</name><operator pos:start="153:25" pos:end="153:26">-&gt;</operator><name pos:start="153:27" pos:end="153:41">current_picture</name><operator pos:start="153:42" pos:end="153:42">.</operator><name pos:start="153:43" pos:end="153:43">f</name><operator pos:start="153:44" pos:end="153:44">.</operator><name pos:start="153:45" pos:end="153:48">data</name><index pos:start="153:49" pos:end="153:51">[<expr pos:start="153:50" pos:end="153:50"><literal type="number" pos:start="153:50" pos:end="153:50">2</literal></expr>]</index></name></expr>;</expr_stmt>

            </block_content>}</block></if> <else pos:start="155:15" pos:end="161:13">else <block pos:start="155:20" pos:end="161:13">{<block_content pos:start="157:17" pos:end="159:49">

                <expr_stmt pos:start="157:17" pos:end="157:49"><expr pos:start="157:17" pos:end="157:48"><name pos:start="157:17" pos:end="157:20">srcU</name> <operator pos:start="157:22" pos:end="157:22">=</operator> <name pos:start="157:24" pos:end="157:48"><name pos:start="157:24" pos:end="157:24">s</name><operator pos:start="157:25" pos:end="157:26">-&gt;</operator><name pos:start="157:27" pos:end="157:38">last_picture</name><operator pos:start="157:39" pos:end="157:39">.</operator><name pos:start="157:40" pos:end="157:40">f</name><operator pos:start="157:41" pos:end="157:41">.</operator><name pos:start="157:42" pos:end="157:45">data</name><index pos:start="157:46" pos:end="157:48">[<expr pos:start="157:47" pos:end="157:47"><literal type="number" pos:start="157:47" pos:end="157:47">1</literal></expr>]</index></name></expr>;</expr_stmt>

                <expr_stmt pos:start="159:17" pos:end="159:49"><expr pos:start="159:17" pos:end="159:48"><name pos:start="159:17" pos:end="159:20">srcV</name> <operator pos:start="159:22" pos:end="159:22">=</operator> <name pos:start="159:24" pos:end="159:48"><name pos:start="159:24" pos:end="159:24">s</name><operator pos:start="159:25" pos:end="159:26">-&gt;</operator><name pos:start="159:27" pos:end="159:38">last_picture</name><operator pos:start="159:39" pos:end="159:39">.</operator><name pos:start="159:40" pos:end="159:40">f</name><operator pos:start="159:41" pos:end="159:41">.</operator><name pos:start="159:42" pos:end="159:45">data</name><index pos:start="159:46" pos:end="159:48">[<expr pos:start="159:47" pos:end="159:47"><literal type="number" pos:start="159:47" pos:end="159:47">2</literal></expr>]</index></name></expr>;</expr_stmt>

            </block_content>}</block></else></if_stmt>

        </block_content>}</block></if> <else pos:start="163:11" pos:end="169:9">else <block pos:start="163:16" pos:end="169:9">{<block_content pos:start="165:13" pos:end="167:45">

            <expr_stmt pos:start="165:13" pos:end="165:45"><expr pos:start="165:13" pos:end="165:44"><name pos:start="165:13" pos:end="165:16">srcU</name> <operator pos:start="165:18" pos:end="165:18">=</operator> <name pos:start="165:20" pos:end="165:44"><name pos:start="165:20" pos:end="165:20">s</name><operator pos:start="165:21" pos:end="165:22">-&gt;</operator><name pos:start="165:23" pos:end="165:34">last_picture</name><operator pos:start="165:35" pos:end="165:35">.</operator><name pos:start="165:36" pos:end="165:36">f</name><operator pos:start="165:37" pos:end="165:37">.</operator><name pos:start="165:38" pos:end="165:41">data</name><index pos:start="165:42" pos:end="165:44">[<expr pos:start="165:43" pos:end="165:43"><literal type="number" pos:start="165:43" pos:end="165:43">1</literal></expr>]</index></name></expr>;</expr_stmt>

            <expr_stmt pos:start="167:13" pos:end="167:45"><expr pos:start="167:13" pos:end="167:44"><name pos:start="167:13" pos:end="167:16">srcV</name> <operator pos:start="167:18" pos:end="167:18">=</operator> <name pos:start="167:20" pos:end="167:44"><name pos:start="167:20" pos:end="167:20">s</name><operator pos:start="167:21" pos:end="167:22">-&gt;</operator><name pos:start="167:23" pos:end="167:34">last_picture</name><operator pos:start="167:35" pos:end="167:35">.</operator><name pos:start="167:36" pos:end="167:36">f</name><operator pos:start="167:37" pos:end="167:37">.</operator><name pos:start="167:38" pos:end="167:41">data</name><index pos:start="167:42" pos:end="167:44">[<expr pos:start="167:43" pos:end="167:43"><literal type="number" pos:start="167:43" pos:end="167:43">2</literal></expr>]</index></name></expr>;</expr_stmt>

        </block_content>}</block></else></if_stmt>

    </block_content>}</block></if> <else pos:start="171:7" pos:end="177:5">else <block pos:start="171:12" pos:end="177:5">{<block_content pos:start="173:9" pos:end="175:41">

        <expr_stmt pos:start="173:9" pos:end="173:41"><expr pos:start="173:9" pos:end="173:40"><name pos:start="173:9" pos:end="173:12">srcU</name> <operator pos:start="173:14" pos:end="173:14">=</operator> <name pos:start="173:16" pos:end="173:40"><name pos:start="173:16" pos:end="173:16">s</name><operator pos:start="173:17" pos:end="173:18">-&gt;</operator><name pos:start="173:19" pos:end="173:30">next_picture</name><operator pos:start="173:31" pos:end="173:31">.</operator><name pos:start="173:32" pos:end="173:32">f</name><operator pos:start="173:33" pos:end="173:33">.</operator><name pos:start="173:34" pos:end="173:37">data</name><index pos:start="173:38" pos:end="173:40">[<expr pos:start="173:39" pos:end="173:39"><literal type="number" pos:start="173:39" pos:end="173:39">1</literal></expr>]</index></name></expr>;</expr_stmt>

        <expr_stmt pos:start="175:9" pos:end="175:41"><expr pos:start="175:9" pos:end="175:40"><name pos:start="175:9" pos:end="175:12">srcV</name> <operator pos:start="175:14" pos:end="175:14">=</operator> <name pos:start="175:16" pos:end="175:40"><name pos:start="175:16" pos:end="175:16">s</name><operator pos:start="175:17" pos:end="175:18">-&gt;</operator><name pos:start="175:19" pos:end="175:30">next_picture</name><operator pos:start="175:31" pos:end="175:31">.</operator><name pos:start="175:32" pos:end="175:32">f</name><operator pos:start="175:33" pos:end="175:33">.</operator><name pos:start="175:34" pos:end="175:37">data</name><index pos:start="175:38" pos:end="175:40">[<expr pos:start="175:39" pos:end="175:39"><literal type="number" pos:start="175:39" pos:end="175:39">2</literal></expr>]</index></name></expr>;</expr_stmt>

    </block_content>}</block></else></if_stmt>



    <if_stmt pos:start="181:5" pos:end="183:15"><if pos:start="181:5" pos:end="183:15">if<condition pos:start="181:7" pos:end="181:13">(<expr pos:start="181:8" pos:end="181:12"><operator pos:start="181:8" pos:end="181:8">!</operator><name pos:start="181:9" pos:end="181:12">srcU</name></expr>)</condition><block type="pseudo" pos:start="183:9" pos:end="183:15"><block_content pos:start="183:9" pos:end="183:15">

        <return pos:start="183:9" pos:end="183:15">return;</return></block_content></block></if></if_stmt>



    <expr_stmt pos:start="187:5" pos:end="187:46"><expr pos:start="187:5" pos:end="187:45"><name pos:start="187:5" pos:end="187:8">srcU</name> <operator pos:start="187:10" pos:end="187:11">+=</operator> <name pos:start="187:13" pos:end="187:19">uvsrc_y</name> <operator pos:start="187:21" pos:end="187:21">*</operator> <name pos:start="187:23" pos:end="187:35"><name pos:start="187:23" pos:end="187:23">s</name><operator pos:start="187:24" pos:end="187:25">-&gt;</operator><name pos:start="187:26" pos:end="187:35">uvlinesize</name></name> <operator pos:start="187:37" pos:end="187:37">+</operator> <name pos:start="187:39" pos:end="187:45">uvsrc_x</name></expr>;</expr_stmt>

    <expr_stmt pos:start="189:5" pos:end="189:46"><expr pos:start="189:5" pos:end="189:45"><name pos:start="189:5" pos:end="189:8">srcV</name> <operator pos:start="189:10" pos:end="189:11">+=</operator> <name pos:start="189:13" pos:end="189:19">uvsrc_y</name> <operator pos:start="189:21" pos:end="189:21">*</operator> <name pos:start="189:23" pos:end="189:35"><name pos:start="189:23" pos:end="189:23">s</name><operator pos:start="189:24" pos:end="189:25">-&gt;</operator><name pos:start="189:26" pos:end="189:35">uvlinesize</name></name> <operator pos:start="189:37" pos:end="189:37">+</operator> <name pos:start="189:39" pos:end="189:45">uvsrc_x</name></expr>;</expr_stmt>



    <if_stmt pos:start="193:5" pos:end="205:5"><if pos:start="193:5" pos:end="205:5">if <condition pos:start="193:8" pos:end="193:22">(<expr pos:start="193:9" pos:end="193:21"><name pos:start="193:9" pos:end="193:21"><name pos:start="193:9" pos:end="193:9">v</name><operator pos:start="193:10" pos:end="193:11">-&gt;</operator><name pos:start="193:12" pos:end="193:21">field_mode</name></name></expr>)</condition> <block pos:start="193:24" pos:end="205:5">{<block_content pos:start="195:9" pos:end="203:74">

        <if_stmt pos:start="195:9" pos:end="201:9"><if pos:start="195:9" pos:end="201:9">if <condition pos:start="195:12" pos:end="195:28">(<expr pos:start="195:13" pos:end="195:27"><name pos:start="195:13" pos:end="195:27">chroma_ref_type</name></expr>)</condition> <block pos:start="195:30" pos:end="201:9">{<block_content pos:start="197:13" pos:end="199:58">

            <expr_stmt pos:start="197:13" pos:end="197:58"><expr pos:start="197:13" pos:end="197:57"><name pos:start="197:13" pos:end="197:16">srcU</name> <operator pos:start="197:18" pos:end="197:19">+=</operator> <name pos:start="197:21" pos:end="197:57"><name pos:start="197:21" pos:end="197:21">s</name><operator pos:start="197:22" pos:end="197:23">-&gt;</operator><name pos:start="197:24" pos:end="197:42">current_picture_ptr</name><operator pos:start="197:43" pos:end="197:44">-&gt;</operator><name pos:start="197:45" pos:end="197:45">f</name><operator pos:start="197:46" pos:end="197:46">.</operator><name pos:start="197:47" pos:end="197:54">linesize</name><index pos:start="197:55" pos:end="197:57">[<expr pos:start="197:56" pos:end="197:56"><literal type="number" pos:start="197:56" pos:end="197:56">1</literal></expr>]</index></name></expr>;</expr_stmt>

            <expr_stmt pos:start="199:13" pos:end="199:58"><expr pos:start="199:13" pos:end="199:57"><name pos:start="199:13" pos:end="199:16">srcV</name> <operator pos:start="199:18" pos:end="199:19">+=</operator> <name pos:start="199:21" pos:end="199:57"><name pos:start="199:21" pos:end="199:21">s</name><operator pos:start="199:22" pos:end="199:23">-&gt;</operator><name pos:start="199:24" pos:end="199:42">current_picture_ptr</name><operator pos:start="199:43" pos:end="199:44">-&gt;</operator><name pos:start="199:45" pos:end="199:45">f</name><operator pos:start="199:46" pos:end="199:46">.</operator><name pos:start="199:47" pos:end="199:54">linesize</name><index pos:start="199:55" pos:end="199:57">[<expr pos:start="199:56" pos:end="199:56"><literal type="number" pos:start="199:56" pos:end="199:56">2</literal></expr>]</index></name></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>

        <expr_stmt pos:start="203:9" pos:end="203:74"><expr pos:start="203:9" pos:end="203:73"><name pos:start="203:9" pos:end="203:11">off</name> <operator pos:start="203:13" pos:end="203:13">=</operator> <ternary pos:start="203:15" pos:end="203:73"><condition pos:start="203:15" pos:end="203:31"><expr pos:start="203:15" pos:end="203:29"><name pos:start="203:15" pos:end="203:29"><name pos:start="203:15" pos:end="203:15">v</name><operator pos:start="203:16" pos:end="203:17">-&gt;</operator><name pos:start="203:18" pos:end="203:29">second_field</name></name></expr> ?</condition><then pos:start="203:33" pos:end="203:69"> <expr pos:start="203:33" pos:end="203:69"><name pos:start="203:33" pos:end="203:69"><name pos:start="203:33" pos:end="203:33">s</name><operator pos:start="203:34" pos:end="203:35">-&gt;</operator><name pos:start="203:36" pos:end="203:54">current_picture_ptr</name><operator pos:start="203:55" pos:end="203:56">-&gt;</operator><name pos:start="203:57" pos:end="203:57">f</name><operator pos:start="203:58" pos:end="203:58">.</operator><name pos:start="203:59" pos:end="203:66">linesize</name><index pos:start="203:67" pos:end="203:69">[<expr pos:start="203:68" pos:end="203:68"><literal type="number" pos:start="203:68" pos:end="203:68">1</literal></expr>]</index></name></expr> </then><else pos:start="203:71" pos:end="203:73">: <expr pos:start="203:73" pos:end="203:73"><literal type="number" pos:start="203:73" pos:end="203:73">0</literal></expr></else></ternary></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="209:5" pos:end="299:5"><if pos:start="209:5" pos:end="299:5">if <condition pos:start="209:8" pos:end="215:56">(<expr pos:start="209:9" pos:end="215:55"><name pos:start="209:9" pos:end="209:22"><name pos:start="209:9" pos:end="209:9">v</name><operator pos:start="209:10" pos:end="209:11">-&gt;</operator><name pos:start="209:12" pos:end="209:22">rangeredfrm</name></name> <operator pos:start="209:24" pos:end="209:25">||</operator> <operator pos:start="209:27" pos:end="209:27">(</operator><name pos:start="209:28" pos:end="209:37"><name pos:start="209:28" pos:end="209:28">v</name><operator pos:start="209:29" pos:end="209:30">-&gt;</operator><name pos:start="209:31" pos:end="209:37">mv_mode</name></name> <operator pos:start="209:39" pos:end="209:40">==</operator> <name pos:start="209:42" pos:end="209:64">MV_PMODE_INTENSITY_COMP</name><operator pos:start="209:65" pos:end="209:65">)</operator>

        <operator pos:start="211:9" pos:end="211:10">||</operator> <name pos:start="211:12" pos:end="211:24"><name pos:start="211:12" pos:end="211:12">s</name><operator pos:start="211:13" pos:end="211:14">-&gt;</operator><name pos:start="211:15" pos:end="211:24">h_edge_pos</name></name> <operator pos:start="211:26" pos:end="211:26">&lt;</operator> <literal type="number" pos:start="211:28" pos:end="211:29">18</literal> <operator pos:start="211:31" pos:end="211:32">||</operator> <call pos:start="211:34" pos:end="213:51"><name pos:start="211:34" pos:end="213:30"><name pos:start="211:34" pos:end="211:43">v_edge_pos</name> <argument_list type="generic" pos:start="211:45" pos:end="213:30">&lt; <argument pos:start="211:47" pos:end="213:28"><expr pos:start="211:47" pos:end="213:28"><literal type="number" pos:start="211:47" pos:end="211:48">18</literal>

        <operator pos:start="213:9" pos:end="213:10">||</operator> <operator pos:start="213:12" pos:end="213:12">(</operator><name pos:start="213:13" pos:end="213:20">unsigned</name><operator pos:start="213:21" pos:end="213:21">)</operator><name pos:start="213:22" pos:end="213:28">uvsrc_x</name></expr></argument> &gt;</argument_list></name> <argument_list pos:start="213:32" pos:end="213:51">(<argument pos:start="213:33" pos:end="213:50"><expr pos:start="213:33" pos:end="213:50"><name pos:start="213:33" pos:end="213:45"><name pos:start="213:33" pos:end="213:33">s</name><operator pos:start="213:34" pos:end="213:35">-&gt;</operator><name pos:start="213:36" pos:end="213:45">h_edge_pos</name></name> <operator pos:start="213:47" pos:end="213:48">&gt;&gt;</operator> <literal type="number" pos:start="213:50" pos:end="213:50">1</literal></expr></argument>)</argument_list></call> <operator pos:start="213:53" pos:end="213:53">-</operator> <literal type="number" pos:start="213:55" pos:end="213:55">9</literal>

        <operator pos:start="215:9" pos:end="215:10">||</operator> <operator pos:start="215:12" pos:end="215:12">(</operator><name pos:start="215:13" pos:end="215:20">unsigned</name><operator pos:start="215:21" pos:end="215:21">)</operator><name pos:start="215:22" pos:end="215:28">uvsrc_y</name> <operator pos:start="215:30" pos:end="215:30">&gt;</operator> <operator pos:start="215:32" pos:end="215:32">(</operator><name pos:start="215:33" pos:end="215:42">v_edge_pos</name>    <operator pos:start="215:47" pos:end="215:48">&gt;&gt;</operator> <literal type="number" pos:start="215:50" pos:end="215:50">1</literal><operator pos:start="215:51" pos:end="215:51">)</operator> <operator pos:start="215:53" pos:end="215:53">-</operator> <literal type="number" pos:start="215:55" pos:end="215:55">9</literal></expr>)</condition> <block pos:start="215:58" pos:end="299:5">{<block_content pos:start="217:9" pos:end="297:9">

        <expr_stmt pos:start="217:9" pos:end="221:70"><expr pos:start="217:9" pos:end="221:69"><call pos:start="217:9" pos:end="221:69"><name pos:start="217:9" pos:end="217:32"><name pos:start="217:9" pos:end="217:9">s</name><operator pos:start="217:10" pos:end="217:11">-&gt;</operator><name pos:start="217:12" pos:end="217:15">vdsp</name><operator pos:start="217:16" pos:end="217:16">.</operator><name pos:start="217:17" pos:end="217:32">emulated_edge_mc</name></name><argument_list pos:start="217:33" pos:end="221:69">(<argument pos:start="217:34" pos:end="217:51"><expr pos:start="217:34" pos:end="217:51"><name pos:start="217:34" pos:end="217:51"><name pos:start="217:34" pos:end="217:34">s</name><operator pos:start="217:35" pos:end="217:36">-&gt;</operator><name pos:start="217:37" pos:end="217:51">edge_emu_buffer</name></name></expr></argument>     , <argument pos:start="217:59" pos:end="217:62"><expr pos:start="217:59" pos:end="217:62"><name pos:start="217:59" pos:end="217:62">srcU</name></expr></argument>, <argument pos:start="217:65" pos:end="217:77"><expr pos:start="217:65" pos:end="217:77"><name pos:start="217:65" pos:end="217:77"><name pos:start="217:65" pos:end="217:65">s</name><operator pos:start="217:66" pos:end="217:67">-&gt;</operator><name pos:start="217:68" pos:end="217:77">uvlinesize</name></name></expr></argument>,

                                 <argument pos:start="219:34" pos:end="219:38"><expr pos:start="219:34" pos:end="219:38"><literal type="number" pos:start="219:34" pos:end="219:36">8</literal> <operator pos:start="219:36" pos:end="219:36">+</operator> <literal type="number" pos:start="219:38" pos:end="219:38">1</literal></expr></argument>, <argument pos:start="219:41" pos:end="219:45"><expr pos:start="219:41" pos:end="219:45"><literal type="number" pos:start="219:41" pos:end="219:43">8</literal> <operator pos:start="219:43" pos:end="219:43">+</operator> <literal type="number" pos:start="219:45" pos:end="219:45">1</literal></expr></argument>, <argument pos:start="219:48" pos:end="219:54"><expr pos:start="219:48" pos:end="219:54"><name pos:start="219:48" pos:end="219:54">uvsrc_x</name></expr></argument>, <argument pos:start="219:57" pos:end="219:63"><expr pos:start="219:57" pos:end="219:63"><name pos:start="219:57" pos:end="219:63">uvsrc_y</name></expr></argument>,

                                 <argument pos:start="221:34" pos:end="221:51"><expr pos:start="221:34" pos:end="221:51"><name pos:start="221:34" pos:end="221:46"><name pos:start="221:34" pos:end="221:34">s</name><operator pos:start="221:35" pos:end="221:36">-&gt;</operator><name pos:start="221:37" pos:end="221:46">h_edge_pos</name></name> <operator pos:start="221:48" pos:end="221:49">&gt;&gt;</operator> <literal type="number" pos:start="221:51" pos:end="221:51">1</literal></expr></argument>, <argument pos:start="221:54" pos:end="221:68"><expr pos:start="221:54" pos:end="221:68"><name pos:start="221:54" pos:end="221:63">v_edge_pos</name> <operator pos:start="221:65" pos:end="221:66">&gt;&gt;</operator> <literal type="number" pos:start="221:68" pos:end="221:68">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="223:9" pos:end="227:70"><expr pos:start="223:9" pos:end="227:69"><call pos:start="223:9" pos:end="227:69"><name pos:start="223:9" pos:end="223:32"><name pos:start="223:9" pos:end="223:9">s</name><operator pos:start="223:10" pos:end="223:11">-&gt;</operator><name pos:start="223:12" pos:end="223:15">vdsp</name><operator pos:start="223:16" pos:end="223:16">.</operator><name pos:start="223:17" pos:end="223:32">emulated_edge_mc</name></name><argument_list pos:start="223:33" pos:end="227:69">(<argument pos:start="223:34" pos:end="223:56"><expr pos:start="223:34" pos:end="223:56"><name pos:start="223:34" pos:end="223:51"><name pos:start="223:34" pos:end="223:34">s</name><operator pos:start="223:35" pos:end="223:36">-&gt;</operator><name pos:start="223:37" pos:end="223:51">edge_emu_buffer</name></name> <operator pos:start="223:53" pos:end="223:53">+</operator> <literal type="number" pos:start="223:55" pos:end="223:56">16</literal></expr></argument>, <argument pos:start="223:59" pos:end="223:62"><expr pos:start="223:59" pos:end="223:62"><name pos:start="223:59" pos:end="223:62">srcV</name></expr></argument>, <argument pos:start="223:65" pos:end="223:77"><expr pos:start="223:65" pos:end="223:77"><name pos:start="223:65" pos:end="223:77"><name pos:start="223:65" pos:end="223:65">s</name><operator pos:start="223:66" pos:end="223:67">-&gt;</operator><name pos:start="223:68" pos:end="223:77">uvlinesize</name></name></expr></argument>,

                                 <argument pos:start="225:34" pos:end="225:38"><expr pos:start="225:34" pos:end="225:38"><literal type="number" pos:start="225:34" pos:end="225:36">8</literal> <operator pos:start="225:36" pos:end="225:36">+</operator> <literal type="number" pos:start="225:38" pos:end="225:38">1</literal></expr></argument>, <argument pos:start="225:41" pos:end="225:45"><expr pos:start="225:41" pos:end="225:45"><literal type="number" pos:start="225:41" pos:end="225:43">8</literal> <operator pos:start="225:43" pos:end="225:43">+</operator> <literal type="number" pos:start="225:45" pos:end="225:45">1</literal></expr></argument>, <argument pos:start="225:48" pos:end="225:54"><expr pos:start="225:48" pos:end="225:54"><name pos:start="225:48" pos:end="225:54">uvsrc_x</name></expr></argument>, <argument pos:start="225:57" pos:end="225:63"><expr pos:start="225:57" pos:end="225:63"><name pos:start="225:57" pos:end="225:63">uvsrc_y</name></expr></argument>,

                                 <argument pos:start="227:34" pos:end="227:51"><expr pos:start="227:34" pos:end="227:51"><name pos:start="227:34" pos:end="227:46"><name pos:start="227:34" pos:end="227:34">s</name><operator pos:start="227:35" pos:end="227:36">-&gt;</operator><name pos:start="227:37" pos:end="227:46">h_edge_pos</name></name> <operator pos:start="227:48" pos:end="227:49">&gt;&gt;</operator> <literal type="number" pos:start="227:51" pos:end="227:51">1</literal></expr></argument>, <argument pos:start="227:54" pos:end="227:68"><expr pos:start="227:54" pos:end="227:68"><name pos:start="227:54" pos:end="227:63">v_edge_pos</name> <operator pos:start="227:65" pos:end="227:66">&gt;&gt;</operator> <literal type="number" pos:start="227:68" pos:end="227:68">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="229:9" pos:end="229:34"><expr pos:start="229:9" pos:end="229:33"><name pos:start="229:9" pos:end="229:12">srcU</name> <operator pos:start="229:14" pos:end="229:14">=</operator> <name pos:start="229:16" pos:end="229:33"><name pos:start="229:16" pos:end="229:16">s</name><operator pos:start="229:17" pos:end="229:18">-&gt;</operator><name pos:start="229:19" pos:end="229:33">edge_emu_buffer</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="231:9" pos:end="231:39"><expr pos:start="231:9" pos:end="231:38"><name pos:start="231:9" pos:end="231:12">srcV</name> <operator pos:start="231:14" pos:end="231:14">=</operator> <name pos:start="231:16" pos:end="231:33"><name pos:start="231:16" pos:end="231:16">s</name><operator pos:start="231:17" pos:end="231:18">-&gt;</operator><name pos:start="231:19" pos:end="231:33">edge_emu_buffer</name></name> <operator pos:start="231:35" pos:end="231:35">+</operator> <literal type="number" pos:start="231:37" pos:end="231:38">16</literal></expr>;</expr_stmt>



        <comment type="block" pos:start="235:9" pos:end="235:76">/* if we deal with range reduction we need to scale source blocks */</comment>

        <if_stmt pos:start="237:9" pos:end="265:9"><if pos:start="237:9" pos:end="265:9">if <condition pos:start="237:12" pos:end="237:27">(<expr pos:start="237:13" pos:end="237:26"><name pos:start="237:13" pos:end="237:26"><name pos:start="237:13" pos:end="237:13">v</name><operator pos:start="237:14" pos:end="237:15">-&gt;</operator><name pos:start="237:16" pos:end="237:26">rangeredfrm</name></name></expr>)</condition> <block pos:start="237:29" pos:end="265:9">{<block_content pos:start="239:13" pos:end="263:13">

            <decl_stmt pos:start="239:13" pos:end="239:21"><decl pos:start="239:13" pos:end="239:17"><type pos:start="239:13" pos:end="239:15"><name pos:start="239:13" pos:end="239:15">int</name></type> <name pos:start="239:17" pos:end="239:17">i</name></decl>, <decl pos:start="239:20" pos:end="239:20"><type ref="prev" pos:start="239:13" pos:end="239:15"/><name pos:start="239:20" pos:end="239:20">j</name></decl>;</decl_stmt>

            <decl_stmt pos:start="241:13" pos:end="241:32"><decl pos:start="241:13" pos:end="241:24"><type pos:start="241:13" pos:end="241:21"><name pos:start="241:13" pos:end="241:19">uint8_t</name> <modifier pos:start="241:21" pos:end="241:21">*</modifier></type><name pos:start="241:22" pos:end="241:24">src</name></decl>, <decl pos:start="241:27" pos:end="241:31"><type ref="prev" pos:start="241:13" pos:end="241:21"><modifier pos:start="241:27" pos:end="241:27">*</modifier></type><name pos:start="241:28" pos:end="241:31">src2</name></decl>;</decl_stmt>



            <expr_stmt pos:start="245:13" pos:end="245:24"><expr pos:start="245:13" pos:end="245:23"><name pos:start="245:13" pos:end="245:15">src</name>  <operator pos:start="245:18" pos:end="245:18">=</operator> <name pos:start="245:20" pos:end="245:23">srcU</name></expr>;</expr_stmt>

            <expr_stmt pos:start="247:13" pos:end="247:24"><expr pos:start="247:13" pos:end="247:23"><name pos:start="247:13" pos:end="247:16">src2</name> <operator pos:start="247:18" pos:end="247:18">=</operator> <name pos:start="247:20" pos:end="247:23">srcV</name></expr>;</expr_stmt>

            <for pos:start="249:13" pos:end="263:13">for <control pos:start="249:17" pos:end="249:35">(<init pos:start="249:18" pos:end="249:23"><expr pos:start="249:18" pos:end="249:22"><name pos:start="249:18" pos:end="249:18">j</name> <operator pos:start="249:20" pos:end="249:20">=</operator> <literal type="number" pos:start="249:22" pos:end="249:22">0</literal></expr>;</init> <condition pos:start="249:25" pos:end="249:30"><expr pos:start="249:25" pos:end="249:29"><name pos:start="249:25" pos:end="249:25">j</name> <operator pos:start="249:27" pos:end="249:27">&lt;</operator> <literal type="number" pos:start="249:29" pos:end="249:29">9</literal></expr>;</condition> <incr pos:start="249:32" pos:end="249:34"><expr pos:start="249:32" pos:end="249:34"><name pos:start="249:32" pos:end="249:32">j</name><operator pos:start="249:33" pos:end="249:34">++</operator></expr></incr>)</control> <block pos:start="249:37" pos:end="263:13">{<block_content pos:start="251:17" pos:end="261:38">

                <for pos:start="251:17" pos:end="257:17">for <control pos:start="251:21" pos:end="251:39">(<init pos:start="251:22" pos:end="251:27"><expr pos:start="251:22" pos:end="251:26"><name pos:start="251:22" pos:end="251:22">i</name> <operator pos:start="251:24" pos:end="251:24">=</operator> <literal type="number" pos:start="251:26" pos:end="251:26">0</literal></expr>;</init> <condition pos:start="251:29" pos:end="251:34"><expr pos:start="251:29" pos:end="251:33"><name pos:start="251:29" pos:end="251:29">i</name> <operator pos:start="251:31" pos:end="251:31">&lt;</operator> <literal type="number" pos:start="251:33" pos:end="251:33">9</literal></expr>;</condition> <incr pos:start="251:36" pos:end="251:38"><expr pos:start="251:36" pos:end="251:38"><name pos:start="251:36" pos:end="251:36">i</name><operator pos:start="251:37" pos:end="251:38">++</operator></expr></incr>)</control> <block pos:start="251:41" pos:end="257:17">{<block_content pos:start="253:21" pos:end="255:59">

                    <expr_stmt pos:start="253:21" pos:end="253:59"><expr pos:start="253:21" pos:end="253:58"><name pos:start="253:21" pos:end="253:26"><name pos:start="253:21" pos:end="253:23">src</name><index pos:start="253:24" pos:end="253:26">[<expr pos:start="253:25" pos:end="253:25"><name pos:start="253:25" pos:end="253:25">i</name></expr>]</index></name>  <operator pos:start="253:29" pos:end="253:29">=</operator> <operator pos:start="253:31" pos:end="253:31">(</operator><operator pos:start="253:32" pos:end="253:32">(</operator><name pos:start="253:33" pos:end="253:38"><name pos:start="253:33" pos:end="253:35">src</name><index pos:start="253:36" pos:end="253:38">[<expr pos:start="253:37" pos:end="253:37"><name pos:start="253:37" pos:end="253:37">i</name></expr>]</index></name>  <operator pos:start="253:41" pos:end="253:41">-</operator> <literal type="number" pos:start="253:43" pos:end="253:45">128</literal><operator pos:start="253:46" pos:end="253:46">)</operator> <operator pos:start="253:48" pos:end="253:49">&gt;&gt;</operator> <literal type="number" pos:start="253:51" pos:end="253:51">1</literal><operator pos:start="253:52" pos:end="253:52">)</operator> <operator pos:start="253:54" pos:end="253:54">+</operator> <literal type="number" pos:start="253:56" pos:end="253:58">128</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="255:21" pos:end="255:59"><expr pos:start="255:21" pos:end="255:58"><name pos:start="255:21" pos:end="255:27"><name pos:start="255:21" pos:end="255:24">src2</name><index pos:start="255:25" pos:end="255:27">[<expr pos:start="255:26" pos:end="255:26"><name pos:start="255:26" pos:end="255:26">i</name></expr>]</index></name> <operator pos:start="255:29" pos:end="255:29">=</operator> <operator pos:start="255:31" pos:end="255:31">(</operator><operator pos:start="255:32" pos:end="255:32">(</operator><name pos:start="255:33" pos:end="255:39"><name pos:start="255:33" pos:end="255:36">src2</name><index pos:start="255:37" pos:end="255:39">[<expr pos:start="255:38" pos:end="255:38"><name pos:start="255:38" pos:end="255:38">i</name></expr>]</index></name> <operator pos:start="255:41" pos:end="255:41">-</operator> <literal type="number" pos:start="255:43" pos:end="255:45">128</literal><operator pos:start="255:46" pos:end="255:46">)</operator> <operator pos:start="255:48" pos:end="255:49">&gt;&gt;</operator> <literal type="number" pos:start="255:51" pos:end="255:51">1</literal><operator pos:start="255:52" pos:end="255:52">)</operator> <operator pos:start="255:54" pos:end="255:54">+</operator> <literal type="number" pos:start="255:56" pos:end="255:58">128</literal></expr>;</expr_stmt>

                </block_content>}</block></for>

                <expr_stmt pos:start="259:17" pos:end="259:38"><expr pos:start="259:17" pos:end="259:37"><name pos:start="259:17" pos:end="259:19">src</name>  <operator pos:start="259:22" pos:end="259:23">+=</operator> <name pos:start="259:25" pos:end="259:37"><name pos:start="259:25" pos:end="259:25">s</name><operator pos:start="259:26" pos:end="259:27">-&gt;</operator><name pos:start="259:28" pos:end="259:37">uvlinesize</name></name></expr>;</expr_stmt>

                <expr_stmt pos:start="261:17" pos:end="261:38"><expr pos:start="261:17" pos:end="261:37"><name pos:start="261:17" pos:end="261:20">src2</name> <operator pos:start="261:22" pos:end="261:23">+=</operator> <name pos:start="261:25" pos:end="261:37"><name pos:start="261:25" pos:end="261:25">s</name><operator pos:start="261:26" pos:end="261:27">-&gt;</operator><name pos:start="261:28" pos:end="261:37">uvlinesize</name></name></expr>;</expr_stmt>

            </block_content>}</block></for>

        </block_content>}</block></if></if_stmt>

        <comment type="block" pos:start="267:9" pos:end="267:83">/* if we deal with intensity compensation we need to scale source blocks */</comment>

        <if_stmt pos:start="269:9" pos:end="297:9"><if pos:start="269:9" pos:end="297:9">if <condition pos:start="269:12" pos:end="269:50">(<expr pos:start="269:13" pos:end="269:49"><name pos:start="269:13" pos:end="269:22"><name pos:start="269:13" pos:end="269:13">v</name><operator pos:start="269:14" pos:end="269:15">-&gt;</operator><name pos:start="269:16" pos:end="269:22">mv_mode</name></name> <operator pos:start="269:24" pos:end="269:25">==</operator> <name pos:start="269:27" pos:end="269:49">MV_PMODE_INTENSITY_COMP</name></expr>)</condition> <block pos:start="269:52" pos:end="297:9">{<block_content pos:start="271:13" pos:end="295:13">

            <decl_stmt pos:start="271:13" pos:end="271:21"><decl pos:start="271:13" pos:end="271:17"><type pos:start="271:13" pos:end="271:15"><name pos:start="271:13" pos:end="271:15">int</name></type> <name pos:start="271:17" pos:end="271:17">i</name></decl>, <decl pos:start="271:20" pos:end="271:20"><type ref="prev" pos:start="271:13" pos:end="271:15"/><name pos:start="271:20" pos:end="271:20">j</name></decl>;</decl_stmt>

            <decl_stmt pos:start="273:13" pos:end="273:32"><decl pos:start="273:13" pos:end="273:24"><type pos:start="273:13" pos:end="273:21"><name pos:start="273:13" pos:end="273:19">uint8_t</name> <modifier pos:start="273:21" pos:end="273:21">*</modifier></type><name pos:start="273:22" pos:end="273:24">src</name></decl>, <decl pos:start="273:27" pos:end="273:31"><type ref="prev" pos:start="273:13" pos:end="273:21"><modifier pos:start="273:27" pos:end="273:27">*</modifier></type><name pos:start="273:28" pos:end="273:31">src2</name></decl>;</decl_stmt>



            <expr_stmt pos:start="277:13" pos:end="277:24"><expr pos:start="277:13" pos:end="277:23"><name pos:start="277:13" pos:end="277:15">src</name>  <operator pos:start="277:18" pos:end="277:18">=</operator> <name pos:start="277:20" pos:end="277:23">srcU</name></expr>;</expr_stmt>

            <expr_stmt pos:start="279:13" pos:end="279:24"><expr pos:start="279:13" pos:end="279:23"><name pos:start="279:13" pos:end="279:16">src2</name> <operator pos:start="279:18" pos:end="279:18">=</operator> <name pos:start="279:20" pos:end="279:23">srcV</name></expr>;</expr_stmt>

            <for pos:start="281:13" pos:end="295:13">for <control pos:start="281:17" pos:end="281:35">(<init pos:start="281:18" pos:end="281:23"><expr pos:start="281:18" pos:end="281:22"><name pos:start="281:18" pos:end="281:18">j</name> <operator pos:start="281:20" pos:end="281:20">=</operator> <literal type="number" pos:start="281:22" pos:end="281:22">0</literal></expr>;</init> <condition pos:start="281:25" pos:end="281:30"><expr pos:start="281:25" pos:end="281:29"><name pos:start="281:25" pos:end="281:25">j</name> <operator pos:start="281:27" pos:end="281:27">&lt;</operator> <literal type="number" pos:start="281:29" pos:end="281:29">9</literal></expr>;</condition> <incr pos:start="281:32" pos:end="281:34"><expr pos:start="281:32" pos:end="281:34"><name pos:start="281:32" pos:end="281:32">j</name><operator pos:start="281:33" pos:end="281:34">++</operator></expr></incr>)</control> <block pos:start="281:37" pos:end="295:13">{<block_content pos:start="283:17" pos:end="293:38">

                <for pos:start="283:17" pos:end="289:17">for <control pos:start="283:21" pos:end="283:39">(<init pos:start="283:22" pos:end="283:27"><expr pos:start="283:22" pos:end="283:26"><name pos:start="283:22" pos:end="283:22">i</name> <operator pos:start="283:24" pos:end="283:24">=</operator> <literal type="number" pos:start="283:26" pos:end="283:26">0</literal></expr>;</init> <condition pos:start="283:29" pos:end="283:34"><expr pos:start="283:29" pos:end="283:33"><name pos:start="283:29" pos:end="283:29">i</name> <operator pos:start="283:31" pos:end="283:31">&lt;</operator> <literal type="number" pos:start="283:33" pos:end="283:33">9</literal></expr>;</condition> <incr pos:start="283:36" pos:end="283:38"><expr pos:start="283:36" pos:end="283:38"><name pos:start="283:36" pos:end="283:36">i</name><operator pos:start="283:37" pos:end="283:38">++</operator></expr></incr>)</control> <block pos:start="283:41" pos:end="289:17">{<block_content pos:start="285:21" pos:end="287:48">

                    <expr_stmt pos:start="285:21" pos:end="285:47"><expr pos:start="285:21" pos:end="285:46"><name pos:start="285:21" pos:end="285:26"><name pos:start="285:21" pos:end="285:23">src</name><index pos:start="285:24" pos:end="285:26">[<expr pos:start="285:25" pos:end="285:25"><name pos:start="285:25" pos:end="285:25">i</name></expr>]</index></name>  <operator pos:start="285:29" pos:end="285:29">=</operator> <name pos:start="285:31" pos:end="285:46"><name pos:start="285:31" pos:end="285:31">v</name><operator pos:start="285:32" pos:end="285:33">-&gt;</operator><name pos:start="285:34" pos:end="285:38">lutuv</name><index pos:start="285:39" pos:end="285:46">[<expr pos:start="285:40" pos:end="285:45"><name pos:start="285:40" pos:end="285:45"><name pos:start="285:40" pos:end="285:42">src</name><index pos:start="285:43" pos:end="285:45">[<expr pos:start="285:44" pos:end="285:44"><name pos:start="285:44" pos:end="285:44">i</name></expr>]</index></name></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="287:21" pos:end="287:48"><expr pos:start="287:21" pos:end="287:47"><name pos:start="287:21" pos:end="287:27"><name pos:start="287:21" pos:end="287:24">src2</name><index pos:start="287:25" pos:end="287:27">[<expr pos:start="287:26" pos:end="287:26"><name pos:start="287:26" pos:end="287:26">i</name></expr>]</index></name> <operator pos:start="287:29" pos:end="287:29">=</operator> <name pos:start="287:31" pos:end="287:47"><name pos:start="287:31" pos:end="287:31">v</name><operator pos:start="287:32" pos:end="287:33">-&gt;</operator><name pos:start="287:34" pos:end="287:38">lutuv</name><index pos:start="287:39" pos:end="287:47">[<expr pos:start="287:40" pos:end="287:46"><name pos:start="287:40" pos:end="287:46"><name pos:start="287:40" pos:end="287:43">src2</name><index pos:start="287:44" pos:end="287:46">[<expr pos:start="287:45" pos:end="287:45"><name pos:start="287:45" pos:end="287:45">i</name></expr>]</index></name></expr>]</index></name></expr>;</expr_stmt>

                </block_content>}</block></for>

                <expr_stmt pos:start="291:17" pos:end="291:38"><expr pos:start="291:17" pos:end="291:37"><name pos:start="291:17" pos:end="291:19">src</name>  <operator pos:start="291:22" pos:end="291:23">+=</operator> <name pos:start="291:25" pos:end="291:37"><name pos:start="291:25" pos:end="291:25">s</name><operator pos:start="291:26" pos:end="291:27">-&gt;</operator><name pos:start="291:28" pos:end="291:37">uvlinesize</name></name></expr>;</expr_stmt>

                <expr_stmt pos:start="293:17" pos:end="293:38"><expr pos:start="293:17" pos:end="293:37"><name pos:start="293:17" pos:end="293:20">src2</name> <operator pos:start="293:22" pos:end="293:23">+=</operator> <name pos:start="293:25" pos:end="293:37"><name pos:start="293:25" pos:end="293:25">s</name><operator pos:start="293:26" pos:end="293:27">-&gt;</operator><name pos:start="293:28" pos:end="293:37">uvlinesize</name></name></expr>;</expr_stmt>

            </block_content>}</block></for>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></if></if_stmt>



    <comment type="block" pos:start="303:5" pos:end="303:45">/* Chroma MC always uses qpel bilinear */</comment>

    <expr_stmt pos:start="305:5" pos:end="305:27"><expr pos:start="305:5" pos:end="305:26"><name pos:start="305:5" pos:end="305:8">uvmx</name> <operator pos:start="305:10" pos:end="305:10">=</operator> <operator pos:start="305:12" pos:end="305:12">(</operator><name pos:start="305:13" pos:end="305:16">uvmx</name> <operator pos:start="305:18" pos:end="305:18">&amp;</operator> <literal type="number" pos:start="305:20" pos:end="305:20">3</literal><operator pos:start="305:21" pos:end="305:21">)</operator> <operator pos:start="305:23" pos:end="305:24">&lt;&lt;</operator> <literal type="number" pos:start="305:26" pos:end="305:26">1</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="307:5" pos:end="307:27"><expr pos:start="307:5" pos:end="307:26"><name pos:start="307:5" pos:end="307:8">uvmy</name> <operator pos:start="307:10" pos:end="307:10">=</operator> <operator pos:start="307:12" pos:end="307:12">(</operator><name pos:start="307:13" pos:end="307:16">uvmy</name> <operator pos:start="307:18" pos:end="307:18">&amp;</operator> <literal type="number" pos:start="307:20" pos:end="307:20">3</literal><operator pos:start="307:21" pos:end="307:21">)</operator> <operator pos:start="307:23" pos:end="307:24">&lt;&lt;</operator> <literal type="number" pos:start="307:26" pos:end="307:26">1</literal></expr>;</expr_stmt>

    <if_stmt pos:start="309:5" pos:end="321:5"><if pos:start="309:5" pos:end="315:5">if <condition pos:start="309:8" pos:end="309:16">(<expr pos:start="309:9" pos:end="309:15"><operator pos:start="309:9" pos:end="309:9">!</operator><name pos:start="309:10" pos:end="309:15"><name pos:start="309:10" pos:end="309:10">v</name><operator pos:start="309:11" pos:end="309:12">-&gt;</operator><name pos:start="309:13" pos:end="309:15">rnd</name></name></expr>)</condition> <block pos:start="309:18" pos:end="315:5">{<block_content pos:start="311:9" pos:end="313:104">

        <expr_stmt pos:start="311:9" pos:end="311:104"><expr pos:start="311:9" pos:end="311:103"><name pos:start="311:9" pos:end="311:49"><name pos:start="311:9" pos:end="311:18">h264chroma</name><operator pos:start="311:19" pos:end="311:20">-&gt;</operator><name pos:start="311:21" pos:end="311:46">put_h264_chroma_pixels_tab</name><index pos:start="311:47" pos:end="311:49">[<expr pos:start="311:48" pos:end="311:48"><literal type="number" pos:start="311:48" pos:end="311:48">0</literal></expr>]</index></name><operator pos:start="311:50" pos:end="311:50">(</operator><name pos:start="311:51" pos:end="311:60"><name pos:start="311:51" pos:end="311:51">s</name><operator pos:start="311:52" pos:end="311:53">-&gt;</operator><name pos:start="311:54" pos:end="311:57">dest</name><index pos:start="311:58" pos:end="311:60">[<expr pos:start="311:59" pos:end="311:59"><literal type="number" pos:start="311:59" pos:end="311:59">1</literal></expr>]</index></name> <operator pos:start="311:62" pos:end="311:62">+</operator> <name pos:start="311:64" pos:end="311:66">off</name><operator pos:start="311:67" pos:end="311:67">,</operator> <name pos:start="311:69" pos:end="311:72">srcU</name><operator pos:start="311:73" pos:end="311:73">,</operator> <name pos:start="311:75" pos:end="311:87"><name pos:start="311:75" pos:end="311:75">s</name><operator pos:start="311:76" pos:end="311:77">-&gt;</operator><name pos:start="311:78" pos:end="311:87">uvlinesize</name></name><operator pos:start="311:88" pos:end="311:88">,</operator> <literal type="number" pos:start="311:90" pos:end="311:90">8</literal><operator pos:start="311:91" pos:end="311:91">,</operator> <name pos:start="311:93" pos:end="311:96">uvmx</name><operator pos:start="311:97" pos:end="311:97">,</operator> <name pos:start="311:99" pos:end="311:102">uvmy</name><operator pos:start="311:103" pos:end="311:103">)</operator></expr>;</expr_stmt>

        <expr_stmt pos:start="313:9" pos:end="313:104"><expr pos:start="313:9" pos:end="313:103"><name pos:start="313:9" pos:end="313:49"><name pos:start="313:9" pos:end="313:18">h264chroma</name><operator pos:start="313:19" pos:end="313:20">-&gt;</operator><name pos:start="313:21" pos:end="313:46">put_h264_chroma_pixels_tab</name><index pos:start="313:47" pos:end="313:49">[<expr pos:start="313:48" pos:end="313:48"><literal type="number" pos:start="313:48" pos:end="313:48">0</literal></expr>]</index></name><operator pos:start="313:50" pos:end="313:50">(</operator><name pos:start="313:51" pos:end="313:60"><name pos:start="313:51" pos:end="313:51">s</name><operator pos:start="313:52" pos:end="313:53">-&gt;</operator><name pos:start="313:54" pos:end="313:57">dest</name><index pos:start="313:58" pos:end="313:60">[<expr pos:start="313:59" pos:end="313:59"><literal type="number" pos:start="313:59" pos:end="313:59">2</literal></expr>]</index></name> <operator pos:start="313:62" pos:end="313:62">+</operator> <name pos:start="313:64" pos:end="313:66">off</name><operator pos:start="313:67" pos:end="313:67">,</operator> <name pos:start="313:69" pos:end="313:72">srcV</name><operator pos:start="313:73" pos:end="313:73">,</operator> <name pos:start="313:75" pos:end="313:87"><name pos:start="313:75" pos:end="313:75">s</name><operator pos:start="313:76" pos:end="313:77">-&gt;</operator><name pos:start="313:78" pos:end="313:87">uvlinesize</name></name><operator pos:start="313:88" pos:end="313:88">,</operator> <literal type="number" pos:start="313:90" pos:end="313:90">8</literal><operator pos:start="313:91" pos:end="313:91">,</operator> <name pos:start="313:93" pos:end="313:96">uvmx</name><operator pos:start="313:97" pos:end="313:97">,</operator> <name pos:start="313:99" pos:end="313:102">uvmy</name><operator pos:start="313:103" pos:end="313:103">)</operator></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="315:7" pos:end="321:5">else <block pos:start="315:12" pos:end="321:5">{<block_content pos:start="317:9" pos:end="319:108">

        <expr_stmt pos:start="317:9" pos:end="317:108"><expr pos:start="317:9" pos:end="317:107"><name pos:start="317:9" pos:end="317:53"><name pos:start="317:9" pos:end="317:9">v</name><operator pos:start="317:10" pos:end="317:11">-&gt;</operator><name pos:start="317:12" pos:end="317:17">vc1dsp</name><operator pos:start="317:18" pos:end="317:18">.</operator><name pos:start="317:19" pos:end="317:50">put_no_rnd_vc1_chroma_pixels_tab</name><index pos:start="317:51" pos:end="317:53">[<expr pos:start="317:52" pos:end="317:52"><literal type="number" pos:start="317:52" pos:end="317:52">0</literal></expr>]</index></name><operator pos:start="317:54" pos:end="317:54">(</operator><name pos:start="317:55" pos:end="317:64"><name pos:start="317:55" pos:end="317:55">s</name><operator pos:start="317:56" pos:end="317:57">-&gt;</operator><name pos:start="317:58" pos:end="317:61">dest</name><index pos:start="317:62" pos:end="317:64">[<expr pos:start="317:63" pos:end="317:63"><literal type="number" pos:start="317:63" pos:end="317:63">1</literal></expr>]</index></name> <operator pos:start="317:66" pos:end="317:66">+</operator> <name pos:start="317:68" pos:end="317:70">off</name><operator pos:start="317:71" pos:end="317:71">,</operator> <name pos:start="317:73" pos:end="317:76">srcU</name><operator pos:start="317:77" pos:end="317:77">,</operator> <name pos:start="317:79" pos:end="317:91"><name pos:start="317:79" pos:end="317:79">s</name><operator pos:start="317:80" pos:end="317:81">-&gt;</operator><name pos:start="317:82" pos:end="317:91">uvlinesize</name></name><operator pos:start="317:92" pos:end="317:92">,</operator> <literal type="number" pos:start="317:94" pos:end="317:94">8</literal><operator pos:start="317:95" pos:end="317:95">,</operator> <name pos:start="317:97" pos:end="317:100">uvmx</name><operator pos:start="317:101" pos:end="317:101">,</operator> <name pos:start="317:103" pos:end="317:106">uvmy</name><operator pos:start="317:107" pos:end="317:107">)</operator></expr>;</expr_stmt>

        <expr_stmt pos:start="319:9" pos:end="319:108"><expr pos:start="319:9" pos:end="319:107"><name pos:start="319:9" pos:end="319:53"><name pos:start="319:9" pos:end="319:9">v</name><operator pos:start="319:10" pos:end="319:11">-&gt;</operator><name pos:start="319:12" pos:end="319:17">vc1dsp</name><operator pos:start="319:18" pos:end="319:18">.</operator><name pos:start="319:19" pos:end="319:50">put_no_rnd_vc1_chroma_pixels_tab</name><index pos:start="319:51" pos:end="319:53">[<expr pos:start="319:52" pos:end="319:52"><literal type="number" pos:start="319:52" pos:end="319:52">0</literal></expr>]</index></name><operator pos:start="319:54" pos:end="319:54">(</operator><name pos:start="319:55" pos:end="319:64"><name pos:start="319:55" pos:end="319:55">s</name><operator pos:start="319:56" pos:end="319:57">-&gt;</operator><name pos:start="319:58" pos:end="319:61">dest</name><index pos:start="319:62" pos:end="319:64">[<expr pos:start="319:63" pos:end="319:63"><literal type="number" pos:start="319:63" pos:end="319:63">2</literal></expr>]</index></name> <operator pos:start="319:66" pos:end="319:66">+</operator> <name pos:start="319:68" pos:end="319:70">off</name><operator pos:start="319:71" pos:end="319:71">,</operator> <name pos:start="319:73" pos:end="319:76">srcV</name><operator pos:start="319:77" pos:end="319:77">,</operator> <name pos:start="319:79" pos:end="319:91"><name pos:start="319:79" pos:end="319:79">s</name><operator pos:start="319:80" pos:end="319:81">-&gt;</operator><name pos:start="319:82" pos:end="319:91">uvlinesize</name></name><operator pos:start="319:92" pos:end="319:92">,</operator> <literal type="number" pos:start="319:94" pos:end="319:94">8</literal><operator pos:start="319:95" pos:end="319:95">,</operator> <name pos:start="319:97" pos:end="319:100">uvmx</name><operator pos:start="319:101" pos:end="319:101">,</operator> <name pos:start="319:103" pos:end="319:106">uvmy</name><operator pos:start="319:107" pos:end="319:107">)</operator></expr>;</expr_stmt>

    </block_content>}</block></else></if_stmt>

</block_content>}</block></function>
</unit>
