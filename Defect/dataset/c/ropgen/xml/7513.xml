<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/7513.c" pos:tabs="8"><function pos:start="1:1" pos:end="72:1"><type pos:start="1:1" pos:end="1:4"><name pos:start="1:1" pos:end="1:4">void</name></type> <name pos:start="1:6" pos:end="1:20">bdrv_query_info</name><parameter_list pos:start="1:21" pos:end="3:34">(<parameter pos:start="1:22" pos:end="1:41"><decl pos:start="1:22" pos:end="1:41"><type pos:start="1:22" pos:end="1:41"><name pos:start="1:22" pos:end="1:37">BlockDriverState</name> <modifier pos:start="1:39" pos:end="1:39">*</modifier></type><name pos:start="1:40" pos:end="1:41">bs</name></decl></parameter>,
                     <parameter pos:start="2:22" pos:end="2:39"><decl pos:start="2:22" pos:end="2:39"><type pos:start="2:22" pos:end="2:39"><name pos:start="2:22" pos:end="2:30">BlockInfo</name> <modifier pos:start="2:32" pos:end="2:32">*</modifier><modifier pos:start="2:33" pos:end="2:33">*</modifier></type><name pos:start="2:34" pos:end="2:39">p_info</name></decl></parameter>,
                     <parameter pos:start="3:22" pos:end="3:33"><decl pos:start="3:22" pos:end="3:33"><type pos:start="3:22" pos:end="3:33"><name pos:start="3:22" pos:end="3:26">Error</name> <modifier pos:start="3:28" pos:end="3:28">*</modifier><modifier pos:start="3:29" pos:end="3:29">*</modifier></type><name pos:start="3:30" pos:end="3:33">errp</name></decl></parameter>)</parameter_list>
<block pos:start="4:1" pos:end="72:1">{<block_content pos:start="5:5" pos:end="71:30">
    <decl_stmt pos:start="5:5" pos:end="5:47"><decl pos:start="5:5" pos:end="5:46"><type pos:start="5:5" pos:end="5:15"><name pos:start="5:5" pos:end="5:13">BlockInfo</name> <modifier pos:start="5:15" pos:end="5:15">*</modifier></type><name pos:start="5:16" pos:end="5:19">info</name> <init pos:start="5:21" pos:end="5:46">= <expr pos:start="5:23" pos:end="5:46"><call pos:start="5:23" pos:end="5:46"><name pos:start="5:23" pos:end="5:31">g_malloc0</name><argument_list pos:start="5:32" pos:end="5:46">(<argument pos:start="5:33" pos:end="5:45"><expr pos:start="5:33" pos:end="5:45"><sizeof pos:start="5:33" pos:end="5:45">sizeof<argument_list pos:start="5:39" pos:end="5:45">(<argument pos:start="5:40" pos:end="5:44"><expr pos:start="5:40" pos:end="5:44"><operator pos:start="5:40" pos:end="5:40">*</operator><name pos:start="5:41" pos:end="5:44">info</name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
    <decl_stmt pos:start="6:5" pos:end="6:26"><decl pos:start="6:5" pos:end="6:25"><type pos:start="6:5" pos:end="6:22"><name pos:start="6:5" pos:end="6:20">BlockDriverState</name> <modifier pos:start="6:22" pos:end="6:22">*</modifier></type><name pos:start="6:23" pos:end="6:25">bs0</name></decl>;</decl_stmt>
    <decl_stmt pos:start="7:5" pos:end="7:29"><decl pos:start="7:5" pos:end="7:28"><type pos:start="7:5" pos:end="7:16"><name pos:start="7:5" pos:end="7:13">ImageInfo</name> <modifier pos:start="7:15" pos:end="7:15">*</modifier><modifier pos:start="7:16" pos:end="7:16">*</modifier></type><name pos:start="7:17" pos:end="7:28">p_image_info</name></decl>;</decl_stmt>
    <decl_stmt pos:start="8:5" pos:end="8:28"><decl pos:start="8:5" pos:end="8:27"><type pos:start="8:5" pos:end="8:11"><name pos:start="8:5" pos:end="8:9">Error</name> <modifier pos:start="8:11" pos:end="8:11">*</modifier></type><name pos:start="8:12" pos:end="8:20">local_err</name> <init pos:start="8:22" pos:end="8:27">= <expr pos:start="8:24" pos:end="8:27"><name pos:start="8:24" pos:end="8:27">NULL</name></expr></init></decl>;</decl_stmt>
    <expr_stmt pos:start="9:5" pos:end="9:45"><expr pos:start="9:5" pos:end="9:44"><name pos:start="9:5" pos:end="9:16"><name pos:start="9:5" pos:end="9:8">info</name><operator pos:start="9:9" pos:end="9:10">-&gt;</operator><name pos:start="9:11" pos:end="9:16">device</name></name> <operator pos:start="9:18" pos:end="9:18">=</operator> <call pos:start="9:20" pos:end="9:44"><name pos:start="9:20" pos:end="9:27">g_strdup</name><argument_list pos:start="9:28" pos:end="9:44">(<argument pos:start="9:29" pos:end="9:43"><expr pos:start="9:29" pos:end="9:43"><name pos:start="9:29" pos:end="9:43"><name pos:start="9:29" pos:end="9:30">bs</name><operator pos:start="9:31" pos:end="9:32">-&gt;</operator><name pos:start="9:33" pos:end="9:43">device_name</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <expr_stmt pos:start="10:5" pos:end="10:37"><expr pos:start="10:5" pos:end="10:36"><name pos:start="10:5" pos:end="10:14"><name pos:start="10:5" pos:end="10:8">info</name><operator pos:start="10:9" pos:end="10:10">-&gt;</operator><name pos:start="10:11" pos:end="10:14">type</name></name> <operator pos:start="10:16" pos:end="10:16">=</operator> <call pos:start="10:18" pos:end="10:36"><name pos:start="10:18" pos:end="10:25">g_strdup</name><argument_list pos:start="10:26" pos:end="10:36">(<argument pos:start="10:27" pos:end="10:35"><expr pos:start="10:27" pos:end="10:35"><literal type="string" pos:start="10:27" pos:end="10:35">"unknown"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <expr_stmt pos:start="11:5" pos:end="11:49"><expr pos:start="11:5" pos:end="11:48"><name pos:start="11:5" pos:end="11:16"><name pos:start="11:5" pos:end="11:8">info</name><operator pos:start="11:9" pos:end="11:10">-&gt;</operator><name pos:start="11:11" pos:end="11:16">locked</name></name> <operator pos:start="11:18" pos:end="11:18">=</operator> <call pos:start="11:20" pos:end="11:48"><name pos:start="11:20" pos:end="11:44">bdrv_dev_is_medium_locked</name><argument_list pos:start="11:45" pos:end="11:48">(<argument pos:start="11:46" pos:end="11:47"><expr pos:start="11:46" pos:end="11:47"><name pos:start="11:46" pos:end="11:47">bs</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <expr_stmt pos:start="12:5" pos:end="12:55"><expr pos:start="12:5" pos:end="12:54"><name pos:start="12:5" pos:end="12:19"><name pos:start="12:5" pos:end="12:8">info</name><operator pos:start="12:9" pos:end="12:10">-&gt;</operator><name pos:start="12:11" pos:end="12:19">removable</name></name> <operator pos:start="12:21" pos:end="12:21">=</operator> <call pos:start="12:23" pos:end="12:54"><name pos:start="12:23" pos:end="12:50">bdrv_dev_has_removable_media</name><argument_list pos:start="12:51" pos:end="12:54">(<argument pos:start="12:52" pos:end="12:53"><expr pos:start="12:52" pos:end="12:53"><name pos:start="12:52" pos:end="12:53">bs</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <if_stmt pos:start="13:5" pos:end="16:5"><if pos:start="13:5" pos:end="16:5">if <condition pos:start="13:8" pos:end="13:41">(<expr pos:start="13:9" pos:end="13:40"><call pos:start="13:9" pos:end="13:40"><name pos:start="13:9" pos:end="13:36">bdrv_dev_has_removable_media</name><argument_list pos:start="13:37" pos:end="13:40">(<argument pos:start="13:38" pos:end="13:39"><expr pos:start="13:38" pos:end="13:39"><name pos:start="13:38" pos:end="13:39">bs</name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="13:43" pos:end="16:5">{<block_content pos:start="14:9" pos:end="15:52">
        <expr_stmt pos:start="14:9" pos:end="14:35"><expr pos:start="14:9" pos:end="14:34"><name pos:start="14:9" pos:end="14:27"><name pos:start="14:9" pos:end="14:12">info</name><operator pos:start="14:13" pos:end="14:14">-&gt;</operator><name pos:start="14:15" pos:end="14:27">has_tray_open</name></name> <operator pos:start="14:29" pos:end="14:29">=</operator> <name pos:start="14:31" pos:end="14:34">true</name></expr>;</expr_stmt>
        <expr_stmt pos:start="15:9" pos:end="15:52"><expr pos:start="15:9" pos:end="15:51"><name pos:start="15:9" pos:end="15:23"><name pos:start="15:9" pos:end="15:12">info</name><operator pos:start="15:13" pos:end="15:14">-&gt;</operator><name pos:start="15:15" pos:end="15:23">tray_open</name></name> <operator pos:start="15:25" pos:end="15:25">=</operator> <call pos:start="15:27" pos:end="15:51"><name pos:start="15:27" pos:end="15:47">bdrv_dev_is_tray_open</name><argument_list pos:start="15:48" pos:end="15:51">(<argument pos:start="15:49" pos:end="15:50"><expr pos:start="15:49" pos:end="15:50"><name pos:start="15:49" pos:end="15:50">bs</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    </block_content>}</block></if></if_stmt>
    <if_stmt pos:start="17:5" pos:end="20:5"><if pos:start="17:5" pos:end="20:5">if <condition pos:start="17:8" pos:end="17:37">(<expr pos:start="17:9" pos:end="17:36"><call pos:start="17:9" pos:end="17:36"><name pos:start="17:9" pos:end="17:32">bdrv_iostatus_is_enabled</name><argument_list pos:start="17:33" pos:end="17:36">(<argument pos:start="17:34" pos:end="17:35"><expr pos:start="17:34" pos:end="17:35"><name pos:start="17:34" pos:end="17:35">bs</name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="17:39" pos:end="20:5">{<block_content pos:start="18:9" pos:end="19:39">
        <expr_stmt pos:start="18:9" pos:end="18:35"><expr pos:start="18:9" pos:end="18:34"><name pos:start="18:9" pos:end="18:27"><name pos:start="18:9" pos:end="18:12">info</name><operator pos:start="18:13" pos:end="18:14">-&gt;</operator><name pos:start="18:15" pos:end="18:27">has_io_status</name></name> <operator pos:start="18:29" pos:end="18:29">=</operator> <name pos:start="18:31" pos:end="18:34">true</name></expr>;</expr_stmt>
        <expr_stmt pos:start="19:9" pos:end="19:39"><expr pos:start="19:9" pos:end="19:38"><name pos:start="19:9" pos:end="19:23"><name pos:start="19:9" pos:end="19:12">info</name><operator pos:start="19:13" pos:end="19:14">-&gt;</operator><name pos:start="19:15" pos:end="19:23">io_status</name></name> <operator pos:start="19:25" pos:end="19:25">=</operator> <name pos:start="19:27" pos:end="19:38"><name pos:start="19:27" pos:end="19:28">bs</name><operator pos:start="19:29" pos:end="19:30">-&gt;</operator><name pos:start="19:31" pos:end="19:38">iostatus</name></name></expr>;</expr_stmt>
    </block_content>}</block></if></if_stmt>
    <if_stmt pos:start="21:5" pos:end="27:5"><if pos:start="21:5" pos:end="27:5">if <condition pos:start="21:8" pos:end="21:25">(<expr pos:start="21:9" pos:end="21:24"><name pos:start="21:9" pos:end="21:24"><name pos:start="21:9" pos:end="21:10">bs</name><operator pos:start="21:11" pos:end="21:12">-&gt;</operator><name pos:start="21:13" pos:end="21:24">dirty_bitmap</name></name></expr>)</condition> <block pos:start="21:27" pos:end="27:5">{<block_content pos:start="22:9" pos:end="26:79">
        <expr_stmt pos:start="22:9" pos:end="22:31"><expr pos:start="22:9" pos:end="22:30"><name pos:start="22:9" pos:end="22:23"><name pos:start="22:9" pos:end="22:12">info</name><operator pos:start="22:13" pos:end="22:14">-&gt;</operator><name pos:start="22:15" pos:end="22:23">has_dirty</name></name> <operator pos:start="22:25" pos:end="22:25">=</operator> <name pos:start="22:27" pos:end="22:30">true</name></expr>;</expr_stmt>
        <expr_stmt pos:start="23:9" pos:end="23:54"><expr pos:start="23:9" pos:end="23:53"><name pos:start="23:9" pos:end="23:19"><name pos:start="23:9" pos:end="23:12">info</name><operator pos:start="23:13" pos:end="23:14">-&gt;</operator><name pos:start="23:15" pos:end="23:19">dirty</name></name> <operator pos:start="23:21" pos:end="23:21">=</operator> <call pos:start="23:23" pos:end="23:53"><name pos:start="23:23" pos:end="23:31">g_malloc0</name><argument_list pos:start="23:32" pos:end="23:53">(<argument pos:start="23:33" pos:end="23:52"><expr pos:start="23:33" pos:end="23:52"><sizeof pos:start="23:33" pos:end="23:52">sizeof<argument_list pos:start="23:39" pos:end="23:52">(<argument pos:start="23:40" pos:end="23:51"><expr pos:start="23:40" pos:end="23:51"><operator pos:start="23:40" pos:end="23:40">*</operator><name pos:start="23:41" pos:end="23:51"><name pos:start="23:41" pos:end="23:44">info</name><operator pos:start="23:45" pos:end="23:46">-&gt;</operator><name pos:start="23:47" pos:end="23:51">dirty</name></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt pos:start="24:9" pos:end="24:73"><expr pos:start="24:9" pos:end="24:72"><name pos:start="24:9" pos:end="24:26"><name pos:start="24:9" pos:end="24:12">info</name><operator pos:start="24:13" pos:end="24:14">-&gt;</operator><name pos:start="24:15" pos:end="24:19">dirty</name><operator pos:start="24:20" pos:end="24:21">-&gt;</operator><name pos:start="24:22" pos:end="24:26">count</name></name> <operator pos:start="24:28" pos:end="24:28">=</operator> <call pos:start="24:30" pos:end="24:53"><name pos:start="24:30" pos:end="24:49">bdrv_get_dirty_count</name><argument_list pos:start="24:50" pos:end="24:53">(<argument pos:start="24:51" pos:end="24:52"><expr pos:start="24:51" pos:end="24:52"><name pos:start="24:51" pos:end="24:52">bs</name></expr></argument>)</argument_list></call> <operator pos:start="24:55" pos:end="24:55">*</operator> <name pos:start="24:57" pos:end="24:72">BDRV_SECTOR_SIZE</name></expr>;</expr_stmt>
        <expr_stmt pos:start="25:9" pos:end="26:79"><expr pos:start="25:9" pos:end="26:78"><name pos:start="25:9" pos:end="25:32"><name pos:start="25:9" pos:end="25:12">info</name><operator pos:start="25:13" pos:end="25:14">-&gt;</operator><name pos:start="25:15" pos:end="25:19">dirty</name><operator pos:start="25:20" pos:end="25:21">-&gt;</operator><name pos:start="25:22" pos:end="25:32">granularity</name></name> <operator pos:start="25:34" pos:end="25:34">=</operator>
         <operator pos:start="26:10" pos:end="26:10">(</operator><operator pos:start="26:11" pos:end="26:11">(</operator><name pos:start="26:12" pos:end="26:18">int64_t</name><operator pos:start="26:19" pos:end="26:19">)</operator> <name pos:start="26:21" pos:end="26:36">BDRV_SECTOR_SIZE</name> <operator pos:start="26:38" pos:end="26:39">&lt;&lt;</operator> <call pos:start="26:41" pos:end="26:77"><name pos:start="26:41" pos:end="26:59">hbitmap_granularity</name><argument_list pos:start="26:60" pos:end="26:77">(<argument pos:start="26:61" pos:end="26:76"><expr pos:start="26:61" pos:end="26:76"><name pos:start="26:61" pos:end="26:76"><name pos:start="26:61" pos:end="26:62">bs</name><operator pos:start="26:63" pos:end="26:64">-&gt;</operator><name pos:start="26:65" pos:end="26:76">dirty_bitmap</name></name></expr></argument>)</argument_list></call><operator pos:start="26:78" pos:end="26:78">)</operator></expr>;</expr_stmt>
    </block_content>}</block></if></if_stmt>
    <if_stmt pos:start="28:5" pos:end="67:5"><if pos:start="28:5" pos:end="67:5">if <condition pos:start="28:8" pos:end="28:16">(<expr pos:start="28:9" pos:end="28:15"><name pos:start="28:9" pos:end="28:15"><name pos:start="28:9" pos:end="28:10">bs</name><operator pos:start="28:11" pos:end="28:12">-&gt;</operator><name pos:start="28:13" pos:end="28:15">drv</name></name></expr>)</condition> <block pos:start="28:18" pos:end="67:5">{<block_content pos:start="29:9" pos:end="66:9">
        <expr_stmt pos:start="29:9" pos:end="29:34"><expr pos:start="29:9" pos:end="29:33"><name pos:start="29:9" pos:end="29:26"><name pos:start="29:9" pos:end="29:12">info</name><operator pos:start="29:13" pos:end="29:14">-&gt;</operator><name pos:start="29:15" pos:end="29:26">has_inserted</name></name> <operator pos:start="29:28" pos:end="29:28">=</operator> <name pos:start="29:30" pos:end="29:33">true</name></expr>;</expr_stmt>
        <expr_stmt pos:start="30:9" pos:end="30:60"><expr pos:start="30:9" pos:end="30:59"><name pos:start="30:9" pos:end="30:22"><name pos:start="30:9" pos:end="30:12">info</name><operator pos:start="30:13" pos:end="30:14">-&gt;</operator><name pos:start="30:15" pos:end="30:22">inserted</name></name> <operator pos:start="30:24" pos:end="30:24">=</operator> <call pos:start="30:26" pos:end="30:59"><name pos:start="30:26" pos:end="30:34">g_malloc0</name><argument_list pos:start="30:35" pos:end="30:59">(<argument pos:start="30:36" pos:end="30:58"><expr pos:start="30:36" pos:end="30:58"><sizeof pos:start="30:36" pos:end="30:58">sizeof<argument_list pos:start="30:42" pos:end="30:58">(<argument pos:start="30:43" pos:end="30:57"><expr pos:start="30:43" pos:end="30:57"><operator pos:start="30:43" pos:end="30:43">*</operator><name pos:start="30:44" pos:end="30:57"><name pos:start="30:44" pos:end="30:47">info</name><operator pos:start="30:48" pos:end="30:49">-&gt;</operator><name pos:start="30:50" pos:end="30:57">inserted</name></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt pos:start="31:9" pos:end="31:54"><expr pos:start="31:9" pos:end="31:53"><name pos:start="31:9" pos:end="31:28"><name pos:start="31:9" pos:end="31:12">info</name><operator pos:start="31:13" pos:end="31:14">-&gt;</operator><name pos:start="31:15" pos:end="31:22">inserted</name><operator pos:start="31:23" pos:end="31:24">-&gt;</operator><name pos:start="31:25" pos:end="31:28">file</name></name> <operator pos:start="31:30" pos:end="31:30">=</operator> <call pos:start="31:32" pos:end="31:53"><name pos:start="31:32" pos:end="31:39">g_strdup</name><argument_list pos:start="31:40" pos:end="31:53">(<argument pos:start="31:41" pos:end="31:52"><expr pos:start="31:41" pos:end="31:52"><name pos:start="31:41" pos:end="31:52"><name pos:start="31:41" pos:end="31:42">bs</name><operator pos:start="31:43" pos:end="31:44">-&gt;</operator><name pos:start="31:45" pos:end="31:52">filename</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt pos:start="32:9" pos:end="32:43"><expr pos:start="32:9" pos:end="32:42"><name pos:start="32:9" pos:end="32:26"><name pos:start="32:9" pos:end="32:12">info</name><operator pos:start="32:13" pos:end="32:14">-&gt;</operator><name pos:start="32:15" pos:end="32:22">inserted</name><operator pos:start="32:23" pos:end="32:24">-&gt;</operator><name pos:start="32:25" pos:end="32:26">ro</name></name> <operator pos:start="32:28" pos:end="32:28">=</operator> <name pos:start="32:30" pos:end="32:42"><name pos:start="32:30" pos:end="32:31">bs</name><operator pos:start="32:32" pos:end="32:33">-&gt;</operator><name pos:start="32:34" pos:end="32:42">read_only</name></name></expr>;</expr_stmt>
        <expr_stmt pos:start="33:9" pos:end="33:61"><expr pos:start="33:9" pos:end="33:60"><name pos:start="33:9" pos:end="33:27"><name pos:start="33:9" pos:end="33:12">info</name><operator pos:start="33:13" pos:end="33:14">-&gt;</operator><name pos:start="33:15" pos:end="33:22">inserted</name><operator pos:start="33:23" pos:end="33:24">-&gt;</operator><name pos:start="33:25" pos:end="33:27">drv</name></name> <operator pos:start="33:29" pos:end="33:29">=</operator> <call pos:start="33:31" pos:end="33:60"><name pos:start="33:31" pos:end="33:38">g_strdup</name><argument_list pos:start="33:39" pos:end="33:60">(<argument pos:start="33:40" pos:end="33:59"><expr pos:start="33:40" pos:end="33:59"><name pos:start="33:40" pos:end="33:59"><name pos:start="33:40" pos:end="33:41">bs</name><operator pos:start="33:42" pos:end="33:43">-&gt;</operator><name pos:start="33:44" pos:end="33:46">drv</name><operator pos:start="33:47" pos:end="33:48">-&gt;</operator><name pos:start="33:49" pos:end="33:59">format_name</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt pos:start="34:9" pos:end="34:50"><expr pos:start="34:9" pos:end="34:49"><name pos:start="34:9" pos:end="34:33"><name pos:start="34:9" pos:end="34:12">info</name><operator pos:start="34:13" pos:end="34:14">-&gt;</operator><name pos:start="34:15" pos:end="34:22">inserted</name><operator pos:start="34:23" pos:end="34:24">-&gt;</operator><name pos:start="34:25" pos:end="34:33">encrypted</name></name> <operator pos:start="34:35" pos:end="34:35">=</operator> <name pos:start="34:37" pos:end="34:49"><name pos:start="34:37" pos:end="34:38">bs</name><operator pos:start="34:39" pos:end="34:40">-&gt;</operator><name pos:start="34:41" pos:end="34:49">encrypted</name></name></expr>;</expr_stmt>
        <expr_stmt pos:start="35:9" pos:end="35:71"><expr pos:start="35:9" pos:end="35:70"><name pos:start="35:9" pos:end="35:46"><name pos:start="35:9" pos:end="35:12">info</name><operator pos:start="35:13" pos:end="35:14">-&gt;</operator><name pos:start="35:15" pos:end="35:22">inserted</name><operator pos:start="35:23" pos:end="35:24">-&gt;</operator><name pos:start="35:25" pos:end="35:46">encryption_key_missing</name></name> <operator pos:start="35:48" pos:end="35:48">=</operator> <call pos:start="35:50" pos:end="35:70"><name pos:start="35:50" pos:end="35:66">bdrv_key_required</name><argument_list pos:start="35:67" pos:end="35:70">(<argument pos:start="35:68" pos:end="35:69"><expr pos:start="35:68" pos:end="35:69"><name pos:start="35:68" pos:end="35:69">bs</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <if_stmt pos:start="36:9" pos:end="39:9"><if pos:start="36:9" pos:end="39:9">if <condition pos:start="36:12" pos:end="36:32">(<expr pos:start="36:13" pos:end="36:31"><name pos:start="36:13" pos:end="36:31"><name pos:start="36:13" pos:end="36:14">bs</name><operator pos:start="36:15" pos:end="36:16">-&gt;</operator><name pos:start="36:17" pos:end="36:28">backing_file</name><index pos:start="36:29" pos:end="36:31">[<expr pos:start="36:30" pos:end="36:30"><literal type="number" pos:start="36:30" pos:end="36:30">0</literal></expr>]</index></name></expr>)</condition> <block pos:start="36:34" pos:end="39:9">{<block_content pos:start="37:13" pos:end="38:70">
            <expr_stmt pos:start="37:13" pos:end="37:52"><expr pos:start="37:13" pos:end="37:51"><name pos:start="37:13" pos:end="37:44"><name pos:start="37:13" pos:end="37:16">info</name><operator pos:start="37:17" pos:end="37:18">-&gt;</operator><name pos:start="37:19" pos:end="37:26">inserted</name><operator pos:start="37:27" pos:end="37:28">-&gt;</operator><name pos:start="37:29" pos:end="37:44">has_backing_file</name></name> <operator pos:start="37:46" pos:end="37:46">=</operator> <name pos:start="37:48" pos:end="37:51">true</name></expr>;</expr_stmt>
            <expr_stmt pos:start="38:13" pos:end="38:70"><expr pos:start="38:13" pos:end="38:69"><name pos:start="38:13" pos:end="38:40"><name pos:start="38:13" pos:end="38:16">info</name><operator pos:start="38:17" pos:end="38:18">-&gt;</operator><name pos:start="38:19" pos:end="38:26">inserted</name><operator pos:start="38:27" pos:end="38:28">-&gt;</operator><name pos:start="38:29" pos:end="38:40">backing_file</name></name> <operator pos:start="38:42" pos:end="38:42">=</operator> <call pos:start="38:44" pos:end="38:69"><name pos:start="38:44" pos:end="38:51">g_strdup</name><argument_list pos:start="38:52" pos:end="38:69">(<argument pos:start="38:53" pos:end="38:68"><expr pos:start="38:53" pos:end="38:68"><name pos:start="38:53" pos:end="38:68"><name pos:start="38:53" pos:end="38:54">bs</name><operator pos:start="38:55" pos:end="38:56">-&gt;</operator><name pos:start="38:57" pos:end="38:68">backing_file</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        </block_content>}</block></if></if_stmt>
        <expr_stmt pos:start="40:9" pos:end="40:77"><expr pos:start="40:9" pos:end="40:76"><name pos:start="40:9" pos:end="40:42"><name pos:start="40:9" pos:end="40:12">info</name><operator pos:start="40:13" pos:end="40:14">-&gt;</operator><name pos:start="40:15" pos:end="40:22">inserted</name><operator pos:start="40:23" pos:end="40:24">-&gt;</operator><name pos:start="40:25" pos:end="40:42">backing_file_depth</name></name> <operator pos:start="40:44" pos:end="40:44">=</operator> <call pos:start="40:46" pos:end="40:76"><name pos:start="40:46" pos:end="40:72">bdrv_get_backing_file_depth</name><argument_list pos:start="40:73" pos:end="40:76">(<argument pos:start="40:74" pos:end="40:75"><expr pos:start="40:74" pos:end="40:75"><name pos:start="40:74" pos:end="40:75">bs</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <if_stmt pos:start="41:9" pos:end="50:9"><if pos:start="41:9" pos:end="50:9">if <condition pos:start="41:12" pos:end="41:34">(<expr pos:start="41:13" pos:end="41:33"><name pos:start="41:13" pos:end="41:33"><name pos:start="41:13" pos:end="41:14">bs</name><operator pos:start="41:15" pos:end="41:16">-&gt;</operator><name pos:start="41:17" pos:end="41:33">io_limits_enabled</name></name></expr>)</condition> <block pos:start="41:36" pos:end="50:9">{<block_content pos:start="42:13" pos:end="49:74">
            <decl_stmt pos:start="42:13" pos:end="42:31"><decl pos:start="42:13" pos:end="42:30"><type pos:start="42:13" pos:end="42:26"><name pos:start="42:13" pos:end="42:26">ThrottleConfig</name></type> <name pos:start="42:28" pos:end="42:30">cfg</name></decl>;</decl_stmt>
            <expr_stmt pos:start="43:13" pos:end="43:59"><expr pos:start="43:13" pos:end="43:58"><call pos:start="43:13" pos:end="43:58"><name pos:start="43:13" pos:end="43:31">throttle_get_config</name><argument_list pos:start="43:32" pos:end="43:58">(<argument pos:start="43:33" pos:end="43:51"><expr pos:start="43:33" pos:end="43:51"><operator pos:start="43:33" pos:end="43:33">&amp;</operator><name pos:start="43:34" pos:end="43:51"><name pos:start="43:34" pos:end="43:35">bs</name><operator pos:start="43:36" pos:end="43:37">-&gt;</operator><name pos:start="43:38" pos:end="43:51">throttle_state</name></name></expr></argument>, <argument pos:start="43:54" pos:end="43:57"><expr pos:start="43:54" pos:end="43:57"><operator pos:start="43:54" pos:end="43:54">&amp;</operator><name pos:start="43:55" pos:end="43:57">cfg</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
            <expr_stmt pos:start="44:13" pos:end="44:74"><expr pos:start="44:13" pos:end="44:73"><name pos:start="44:13" pos:end="44:31"><name pos:start="44:13" pos:end="44:16">info</name><operator pos:start="44:17" pos:end="44:18">-&gt;</operator><name pos:start="44:19" pos:end="44:26">inserted</name><operator pos:start="44:27" pos:end="44:28">-&gt;</operator><name pos:start="44:29" pos:end="44:31">bps</name></name>     <operator pos:start="44:37" pos:end="44:37">=</operator> <name pos:start="44:39" pos:end="44:69"><name pos:start="44:39" pos:end="44:41">cfg</name><operator pos:start="44:42" pos:end="44:42">.</operator><name pos:start="44:43" pos:end="44:49">buckets</name><index pos:start="44:50" pos:end="44:69">[<expr pos:start="44:51" pos:end="44:68"><name pos:start="44:51" pos:end="44:68">THROTTLE_BPS_TOTAL</name></expr>]</index></name><operator pos:start="44:70" pos:end="44:70">.</operator><name pos:start="44:71" pos:end="44:73">avg</name></expr>;</expr_stmt>
            <expr_stmt pos:start="45:13" pos:end="45:73"><expr pos:start="45:13" pos:end="45:72"><name pos:start="45:13" pos:end="45:34"><name pos:start="45:13" pos:end="45:16">info</name><operator pos:start="45:17" pos:end="45:18">-&gt;</operator><name pos:start="45:19" pos:end="45:26">inserted</name><operator pos:start="45:27" pos:end="45:28">-&gt;</operator><name pos:start="45:29" pos:end="45:34">bps_rd</name></name>  <operator pos:start="45:37" pos:end="45:37">=</operator> <name pos:start="45:39" pos:end="45:68"><name pos:start="45:39" pos:end="45:41">cfg</name><operator pos:start="45:42" pos:end="45:42">.</operator><name pos:start="45:43" pos:end="45:49">buckets</name><index pos:start="45:50" pos:end="45:68">[<expr pos:start="45:51" pos:end="45:67"><name pos:start="45:51" pos:end="45:67">THROTTLE_BPS_READ</name></expr>]</index></name><operator pos:start="45:69" pos:end="45:69">.</operator><name pos:start="45:70" pos:end="45:72">avg</name></expr>;</expr_stmt>
            <expr_stmt pos:start="46:13" pos:end="46:74"><expr pos:start="46:13" pos:end="46:73"><name pos:start="46:13" pos:end="46:34"><name pos:start="46:13" pos:end="46:16">info</name><operator pos:start="46:17" pos:end="46:18">-&gt;</operator><name pos:start="46:19" pos:end="46:26">inserted</name><operator pos:start="46:27" pos:end="46:28">-&gt;</operator><name pos:start="46:29" pos:end="46:34">bps_wr</name></name>  <operator pos:start="46:37" pos:end="46:37">=</operator> <name pos:start="46:39" pos:end="46:69"><name pos:start="46:39" pos:end="46:41">cfg</name><operator pos:start="46:42" pos:end="46:42">.</operator><name pos:start="46:43" pos:end="46:49">buckets</name><index pos:start="46:50" pos:end="46:69">[<expr pos:start="46:51" pos:end="46:68"><name pos:start="46:51" pos:end="46:68">THROTTLE_BPS_WRITE</name></expr>]</index></name><operator pos:start="46:70" pos:end="46:70">.</operator><name pos:start="46:71" pos:end="46:73">avg</name></expr>;</expr_stmt>
            <expr_stmt pos:start="47:13" pos:end="47:74"><expr pos:start="47:13" pos:end="47:73"><name pos:start="47:13" pos:end="47:32"><name pos:start="47:13" pos:end="47:16">info</name><operator pos:start="47:17" pos:end="47:18">-&gt;</operator><name pos:start="47:19" pos:end="47:26">inserted</name><operator pos:start="47:27" pos:end="47:28">-&gt;</operator><name pos:start="47:29" pos:end="47:32">iops</name></name>    <operator pos:start="47:37" pos:end="47:37">=</operator> <name pos:start="47:39" pos:end="47:69"><name pos:start="47:39" pos:end="47:41">cfg</name><operator pos:start="47:42" pos:end="47:42">.</operator><name pos:start="47:43" pos:end="47:49">buckets</name><index pos:start="47:50" pos:end="47:69">[<expr pos:start="47:51" pos:end="47:68"><name pos:start="47:51" pos:end="47:68">THROTTLE_OPS_TOTAL</name></expr>]</index></name><operator pos:start="47:70" pos:end="47:70">.</operator><name pos:start="47:71" pos:end="47:73">avg</name></expr>;</expr_stmt>
            <expr_stmt pos:start="48:13" pos:end="48:73"><expr pos:start="48:13" pos:end="48:72"><name pos:start="48:13" pos:end="48:35"><name pos:start="48:13" pos:end="48:16">info</name><operator pos:start="48:17" pos:end="48:18">-&gt;</operator><name pos:start="48:19" pos:end="48:26">inserted</name><operator pos:start="48:27" pos:end="48:28">-&gt;</operator><name pos:start="48:29" pos:end="48:35">iops_rd</name></name> <operator pos:start="48:37" pos:end="48:37">=</operator> <name pos:start="48:39" pos:end="48:68"><name pos:start="48:39" pos:end="48:41">cfg</name><operator pos:start="48:42" pos:end="48:42">.</operator><name pos:start="48:43" pos:end="48:49">buckets</name><index pos:start="48:50" pos:end="48:68">[<expr pos:start="48:51" pos:end="48:67"><name pos:start="48:51" pos:end="48:67">THROTTLE_OPS_READ</name></expr>]</index></name><operator pos:start="48:69" pos:end="48:69">.</operator><name pos:start="48:70" pos:end="48:72">avg</name></expr>;</expr_stmt>
            <expr_stmt pos:start="49:13" pos:end="49:74"><expr pos:start="49:13" pos:end="49:73"><name pos:start="49:13" pos:end="49:35"><name pos:start="49:13" pos:end="49:16">info</name><operator pos:start="49:17" pos:end="49:18">-&gt;</operator><name pos:start="49:19" pos:end="49:26">inserted</name><operator pos:start="49:27" pos:end="49:28">-&gt;</operator><name pos:start="49:29" pos:end="49:35">iops_wr</name></name> <operator pos:start="49:37" pos:end="49:37">=</operator> <name pos:start="49:39" pos:end="49:69"><name pos:start="49:39" pos:end="49:41">cfg</name><operator pos:start="49:42" pos:end="49:42">.</operator><name pos:start="49:43" pos:end="49:49">buckets</name><index pos:start="49:50" pos:end="49:69">[<expr pos:start="49:51" pos:end="49:68"><name pos:start="49:51" pos:end="49:68">THROTTLE_OPS_WRITE</name></expr>]</index></name><operator pos:start="49:70" pos:end="49:70">.</operator><name pos:start="49:71" pos:end="49:73">avg</name></expr>;</expr_stmt>
        </block_content>}</block></if></if_stmt>
        <expr_stmt pos:start="51:9" pos:end="51:17"><expr pos:start="51:9" pos:end="51:16"><name pos:start="51:9" pos:end="51:11">bs0</name> <operator pos:start="51:13" pos:end="51:13">=</operator> <name pos:start="51:15" pos:end="51:16">bs</name></expr>;</expr_stmt>
        <expr_stmt pos:start="52:9" pos:end="52:46"><expr pos:start="52:9" pos:end="52:45"><name pos:start="52:9" pos:end="52:20">p_image_info</name> <operator pos:start="52:22" pos:end="52:22">=</operator> <operator pos:start="52:24" pos:end="52:24">&amp;</operator><name pos:start="52:25" pos:end="52:45"><name pos:start="52:25" pos:end="52:28">info</name><operator pos:start="52:29" pos:end="52:30">-&gt;</operator><name pos:start="52:31" pos:end="52:38">inserted</name><operator pos:start="52:39" pos:end="52:40">-&gt;</operator><name pos:start="52:41" pos:end="52:45">image</name></name></expr>;</expr_stmt>
        <while pos:start="53:9" pos:end="66:9">while <condition pos:start="53:15" pos:end="53:17">(<expr pos:start="53:16" pos:end="53:16"><literal type="number" pos:start="53:16" pos:end="53:16">1</literal></expr>)</condition> <block pos:start="53:19" pos:end="66:9">{<block_content pos:start="54:13" pos:end="65:13">
            <expr_stmt pos:start="54:13" pos:end="54:65"><expr pos:start="54:13" pos:end="54:64"><call pos:start="54:13" pos:end="54:64"><name pos:start="54:13" pos:end="54:33">bdrv_query_image_info</name><argument_list pos:start="54:34" pos:end="54:64">(<argument pos:start="54:35" pos:end="54:37"><expr pos:start="54:35" pos:end="54:37"><name pos:start="54:35" pos:end="54:37">bs0</name></expr></argument>, <argument pos:start="54:40" pos:end="54:51"><expr pos:start="54:40" pos:end="54:51"><name pos:start="54:40" pos:end="54:51">p_image_info</name></expr></argument>, <argument pos:start="54:54" pos:end="54:63"><expr pos:start="54:54" pos:end="54:63"><operator pos:start="54:54" pos:end="54:54">&amp;</operator><name pos:start="54:55" pos:end="54:63">local_err</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
            <if_stmt pos:start="55:13" pos:end="58:13"><if pos:start="55:13" pos:end="58:13">if <condition pos:start="55:16" pos:end="55:41">(<expr pos:start="55:17" pos:end="55:40"><call pos:start="55:17" pos:end="55:40"><name pos:start="55:17" pos:end="55:28">error_is_set</name><argument_list pos:start="55:29" pos:end="55:40">(<argument pos:start="55:30" pos:end="55:39"><expr pos:start="55:30" pos:end="55:39"><operator pos:start="55:30" pos:end="55:30">&amp;</operator><name pos:start="55:31" pos:end="55:39">local_err</name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="55:43" pos:end="58:13">{<block_content pos:start="56:17" pos:end="57:25">
                <expr_stmt pos:start="56:17" pos:end="56:49"><expr pos:start="56:17" pos:end="56:48"><call pos:start="56:17" pos:end="56:48"><name pos:start="56:17" pos:end="56:31">error_propagate</name><argument_list pos:start="56:32" pos:end="56:48">(<argument pos:start="56:33" pos:end="56:36"><expr pos:start="56:33" pos:end="56:36"><name pos:start="56:33" pos:end="56:36">errp</name></expr></argument>, <argument pos:start="56:39" pos:end="56:47"><expr pos:start="56:39" pos:end="56:47"><name pos:start="56:39" pos:end="56:47">local_err</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
                <goto pos:start="57:17" pos:end="57:25">goto <name pos:start="57:22" pos:end="57:24">err</name>;</goto>
            </block_content>}</block></if></if_stmt>
            <if_stmt pos:start="59:13" pos:end="65:13"><if pos:start="59:13" pos:end="63:13">if <condition pos:start="59:16" pos:end="59:44">(<expr pos:start="59:17" pos:end="59:43"><name pos:start="59:17" pos:end="59:24"><name pos:start="59:17" pos:end="59:19">bs0</name><operator pos:start="59:20" pos:end="59:21">-&gt;</operator><name pos:start="59:22" pos:end="59:24">drv</name></name> <operator pos:start="59:26" pos:end="59:27">&amp;&amp;</operator> <name pos:start="59:29" pos:end="59:43"><name pos:start="59:29" pos:end="59:31">bs0</name><operator pos:start="59:32" pos:end="59:33">-&gt;</operator><name pos:start="59:34" pos:end="59:43">backing_hd</name></name></expr>)</condition> <block pos:start="59:46" pos:end="63:13">{<block_content pos:start="60:17" pos:end="62:65">
                <expr_stmt pos:start="60:17" pos:end="60:38"><expr pos:start="60:17" pos:end="60:37"><name pos:start="60:17" pos:end="60:19">bs0</name> <operator pos:start="60:21" pos:end="60:21">=</operator> <name pos:start="60:23" pos:end="60:37"><name pos:start="60:23" pos:end="60:25">bs0</name><operator pos:start="60:26" pos:end="60:27">-&gt;</operator><name pos:start="60:28" pos:end="60:37">backing_hd</name></name></expr>;</expr_stmt>
                <expr_stmt pos:start="61:17" pos:end="61:58"><expr pos:start="61:17" pos:end="61:57"><name pos:start="61:17" pos:end="61:50"><operator pos:start="61:17" pos:end="61:17">(</operator><operator pos:start="61:18" pos:end="61:18">*</operator><name pos:start="61:19" pos:end="61:30">p_image_info</name><operator pos:start="61:31" pos:end="61:31">)</operator><operator pos:start="61:32" pos:end="61:33">-&gt;</operator><name pos:start="61:34" pos:end="61:50">has_backing_image</name></name> <operator pos:start="61:52" pos:end="61:52">=</operator> <name pos:start="61:54" pos:end="61:57">true</name></expr>;</expr_stmt>
                <expr_stmt pos:start="62:17" pos:end="62:65"><expr pos:start="62:17" pos:end="62:64"><name pos:start="62:17" pos:end="62:28">p_image_info</name> <operator pos:start="62:30" pos:end="62:30">=</operator> <operator pos:start="62:32" pos:end="62:32">&amp;</operator><operator pos:start="62:33" pos:end="62:33">(</operator><name pos:start="62:34" pos:end="62:63"><operator pos:start="62:34" pos:end="62:34">(</operator><operator pos:start="62:35" pos:end="62:35">*</operator><name pos:start="62:36" pos:end="62:47">p_image_info</name><operator pos:start="62:48" pos:end="62:48">)</operator><operator pos:start="62:49" pos:end="62:50">-&gt;</operator><name pos:start="62:51" pos:end="62:63">backing_image</name></name><operator pos:start="62:64" pos:end="62:64">)</operator></expr>;</expr_stmt>
            </block_content>}</block></if> <else pos:start="63:15" pos:end="65:13">else <block pos:start="63:20" pos:end="65:13">{<block_content pos:start="64:17" pos:end="64:22">
                <break pos:start="64:17" pos:end="64:22">break;</break>
            </block_content>}</block></else></if_stmt>
        </block_content>}</block></while>
    </block_content>}</block></if></if_stmt>
    <expr_stmt pos:start="68:5" pos:end="68:19"><expr pos:start="68:5" pos:end="68:18"><operator pos:start="68:5" pos:end="68:5">*</operator><name pos:start="68:6" pos:end="68:11">p_info</name> <operator pos:start="68:13" pos:end="68:13">=</operator> <name pos:start="68:15" pos:end="68:18">info</name></expr>;</expr_stmt>
    <return pos:start="69:5" pos:end="69:11">return;</return>
 <label pos:start="70:2" pos:end="70:5"><name pos:start="70:2" pos:end="70:4">err</name>:</label>
    <expr_stmt pos:start="71:5" pos:end="71:30"><expr pos:start="71:5" pos:end="71:29"><call pos:start="71:5" pos:end="71:29"><name pos:start="71:5" pos:end="71:23">qapi_free_BlockInfo</name><argument_list pos:start="71:24" pos:end="71:29">(<argument pos:start="71:25" pos:end="71:28"><expr pos:start="71:25" pos:end="71:28"><name pos:start="71:25" pos:end="71:28">info</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
</block_content>}</block></function></unit>
