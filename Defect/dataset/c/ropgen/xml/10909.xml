<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:cpp="http://www.srcML.org/srcML/cpp" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/10909.c" pos:tabs="8"><function pos:start="1:1" pos:end="601:1"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:24">do_video_out</name><parameter_list pos:start="1:25" pos:end="7:42">(<parameter pos:start="1:26" pos:end="1:43"><decl pos:start="1:26" pos:end="1:43"><type pos:start="1:26" pos:end="1:43"><name pos:start="1:26" pos:end="1:40">AVFormatContext</name> <modifier pos:start="1:42" pos:end="1:42">*</modifier></type><name pos:start="1:43" pos:end="1:43">s</name></decl></parameter>,

                         <parameter pos:start="3:26" pos:end="3:42"><decl pos:start="3:26" pos:end="3:42"><type pos:start="3:26" pos:end="3:42"><name pos:start="3:26" pos:end="3:37">OutputStream</name> <modifier pos:start="3:39" pos:end="3:39">*</modifier></type><name pos:start="3:40" pos:end="3:42">ost</name></decl></parameter>,

                         <parameter pos:start="5:26" pos:end="5:46"><decl pos:start="5:26" pos:end="5:46"><type pos:start="5:26" pos:end="5:46"><name pos:start="5:26" pos:end="5:32">AVFrame</name> <modifier pos:start="5:34" pos:end="5:34">*</modifier></type><name pos:start="5:35" pos:end="5:46">next_picture</name></decl></parameter>,

                         <parameter pos:start="7:26" pos:end="7:41"><decl pos:start="7:26" pos:end="7:41"><type pos:start="7:26" pos:end="7:41"><name pos:start="7:26" pos:end="7:31">double</name></type> <name pos:start="7:33" pos:end="7:41">sync_ipts</name></decl></parameter>)</parameter_list>

<block pos:start="9:1" pos:end="601:1">{<block_content pos:start="11:5" pos:end="599:40">

    <decl_stmt pos:start="11:5" pos:end="11:31"><decl pos:start="11:5" pos:end="11:11"><type pos:start="11:5" pos:end="11:7"><name pos:start="11:5" pos:end="11:7">int</name></type> <name pos:start="11:9" pos:end="11:11">ret</name></decl>, <decl pos:start="11:14" pos:end="11:30"><type ref="prev" pos:start="11:5" pos:end="11:7"/><name pos:start="11:14" pos:end="11:30">format_video_sync</name></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:17"><decl pos:start="13:5" pos:end="13:16"><type pos:start="13:5" pos:end="13:12"><name pos:start="13:5" pos:end="13:12">AVPacket</name></type> <name pos:start="13:14" pos:end="13:16">pkt</name></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="15:39"><decl pos:start="15:5" pos:end="15:38"><type pos:start="15:5" pos:end="15:20"><name pos:start="15:5" pos:end="15:18">AVCodecContext</name> <modifier pos:start="15:20" pos:end="15:20">*</modifier></type><name pos:start="15:21" pos:end="15:23">enc</name> <init pos:start="15:25" pos:end="15:38">= <expr pos:start="15:27" pos:end="15:38"><name pos:start="15:27" pos:end="15:38"><name pos:start="15:27" pos:end="15:29">ost</name><operator pos:start="15:30" pos:end="15:31">-&gt;</operator><name pos:start="15:32" pos:end="15:38">enc_ctx</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="17:5" pos:end="17:45"><decl pos:start="17:5" pos:end="17:44"><type pos:start="17:5" pos:end="17:20"><name pos:start="17:5" pos:end="17:18">AVCodecContext</name> <modifier pos:start="17:20" pos:end="17:20">*</modifier></type><name pos:start="17:21" pos:end="17:27">mux_enc</name> <init pos:start="17:29" pos:end="17:44">= <expr pos:start="17:31" pos:end="17:44"><name pos:start="17:31" pos:end="17:44"><name pos:start="17:31" pos:end="17:33">ost</name><operator pos:start="17:34" pos:end="17:35">-&gt;</operator><name pos:start="17:36" pos:end="17:37">st</name><operator pos:start="17:38" pos:end="17:39">-&gt;</operator><name pos:start="17:40" pos:end="17:44">codec</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="19:5" pos:end="19:33"><decl pos:start="19:5" pos:end="19:17"><type pos:start="19:5" pos:end="19:7"><name pos:start="19:5" pos:end="19:7">int</name></type> <name pos:start="19:9" pos:end="19:17">nb_frames</name></decl>, <decl pos:start="19:20" pos:end="19:29"><type ref="prev" pos:start="19:5" pos:end="19:7"/><name pos:start="19:20" pos:end="19:29">nb0_frames</name></decl>, <decl pos:start="19:32" pos:end="19:32"><type ref="prev" pos:start="19:5" pos:end="19:7"/><name pos:start="19:32" pos:end="19:32">i</name></decl>;</decl_stmt>

    <decl_stmt pos:start="21:5" pos:end="21:25"><decl pos:start="21:5" pos:end="21:16"><type pos:start="21:5" pos:end="21:10"><name pos:start="21:5" pos:end="21:10">double</name></type> <name pos:start="21:12" pos:end="21:16">delta</name></decl>, <decl pos:start="21:19" pos:end="21:24"><type ref="prev" pos:start="21:5" pos:end="21:10"/><name pos:start="21:19" pos:end="21:24">delta0</name></decl>;</decl_stmt>

    <decl_stmt pos:start="23:5" pos:end="23:24"><decl pos:start="23:5" pos:end="23:23"><type pos:start="23:5" pos:end="23:10"><name pos:start="23:5" pos:end="23:10">double</name></type> <name pos:start="23:12" pos:end="23:19">duration</name> <init pos:start="23:21" pos:end="23:23">= <expr pos:start="23:23" pos:end="23:23"><literal type="number" pos:start="23:23" pos:end="23:23">0</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="25:5" pos:end="25:23"><decl pos:start="25:5" pos:end="25:22"><type pos:start="25:5" pos:end="25:7"><name pos:start="25:5" pos:end="25:7">int</name></type> <name pos:start="25:9" pos:end="25:18">frame_size</name> <init pos:start="25:20" pos:end="25:22">= <expr pos:start="25:22" pos:end="25:22"><literal type="number" pos:start="25:22" pos:end="25:22">0</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="27:5" pos:end="27:28"><decl pos:start="27:5" pos:end="27:27"><type pos:start="27:5" pos:end="27:17"><name pos:start="27:5" pos:end="27:15">InputStream</name> <modifier pos:start="27:17" pos:end="27:17">*</modifier></type><name pos:start="27:18" pos:end="27:20">ist</name> <init pos:start="27:22" pos:end="27:27">= <expr pos:start="27:24" pos:end="27:27"><name pos:start="27:24" pos:end="27:27">NULL</name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="29:5" pos:end="29:50"><decl pos:start="29:5" pos:end="29:49"><type pos:start="29:5" pos:end="29:21"><name pos:start="29:5" pos:end="29:19">AVFilterContext</name> <modifier pos:start="29:21" pos:end="29:21">*</modifier></type><name pos:start="29:22" pos:end="29:27">filter</name> <init pos:start="29:29" pos:end="29:49">= <expr pos:start="29:31" pos:end="29:49"><name pos:start="29:31" pos:end="29:49"><name pos:start="29:31" pos:end="29:33">ost</name><operator pos:start="29:34" pos:end="29:35">-&gt;</operator><name pos:start="29:36" pos:end="29:41">filter</name><operator pos:start="29:42" pos:end="29:43">-&gt;</operator><name pos:start="29:44" pos:end="29:49">filter</name></name></expr></init></decl>;</decl_stmt>



    <if_stmt pos:start="33:5" pos:end="35:47"><if pos:start="33:5" pos:end="35:47">if <condition pos:start="33:8" pos:end="33:31">(<expr pos:start="33:9" pos:end="33:30"><name pos:start="33:9" pos:end="33:25"><name pos:start="33:9" pos:end="33:11">ost</name><operator pos:start="33:12" pos:end="33:13">-&gt;</operator><name pos:start="33:14" pos:end="33:25">source_index</name></name> <operator pos:start="33:27" pos:end="33:28">&gt;=</operator> <literal type="number" pos:start="33:30" pos:end="33:30">0</literal></expr>)</condition><block type="pseudo" pos:start="35:9" pos:end="35:47"><block_content pos:start="35:9" pos:end="35:47">

        <expr_stmt pos:start="35:9" pos:end="35:47"><expr pos:start="35:9" pos:end="35:46"><name pos:start="35:9" pos:end="35:11">ist</name> <operator pos:start="35:13" pos:end="35:13">=</operator> <name pos:start="35:15" pos:end="35:46"><name pos:start="35:15" pos:end="35:27">input_streams</name><index pos:start="35:28" pos:end="35:46">[<expr pos:start="35:29" pos:end="35:45"><name pos:start="35:29" pos:end="35:45"><name pos:start="35:29" pos:end="35:31">ost</name><operator pos:start="35:32" pos:end="35:33">-&gt;</operator><name pos:start="35:34" pos:end="35:45">source_index</name></name></expr>]</index></name></expr>;</expr_stmt></block_content></block></if></if_stmt>



    <if_stmt pos:start="39:5" pos:end="43:86"><if pos:start="39:5" pos:end="43:86">if <condition pos:start="39:8" pos:end="41:46">(<expr pos:start="39:9" pos:end="41:45"><name pos:start="39:9" pos:end="39:25"><name pos:start="39:9" pos:end="39:14">filter</name><operator pos:start="39:15" pos:end="39:16">-&gt;</operator><name pos:start="39:17" pos:end="39:22">inputs</name><index pos:start="39:23" pos:end="39:25">[<expr pos:start="39:24" pos:end="39:24"><literal type="number" pos:start="39:24" pos:end="39:24">0</literal></expr>]</index></name><operator pos:start="39:26" pos:end="39:27">-&gt;</operator><name pos:start="39:28" pos:end="39:41"><name pos:start="39:28" pos:end="39:37">frame_rate</name><operator pos:start="39:38" pos:end="39:38">.</operator><name pos:start="39:39" pos:end="39:41">num</name></name> <operator pos:start="39:43" pos:end="39:43">&gt;</operator> <literal type="number" pos:start="39:45" pos:end="39:45">0</literal> <operator pos:start="39:47" pos:end="39:48">&amp;&amp;</operator>

        <name pos:start="41:9" pos:end="41:25"><name pos:start="41:9" pos:end="41:14">filter</name><operator pos:start="41:15" pos:end="41:16">-&gt;</operator><name pos:start="41:17" pos:end="41:22">inputs</name><index pos:start="41:23" pos:end="41:25">[<expr pos:start="41:24" pos:end="41:24"><literal type="number" pos:start="41:24" pos:end="41:24">0</literal></expr>]</index></name><operator pos:start="41:26" pos:end="41:27">-&gt;</operator><name pos:start="41:28" pos:end="41:41"><name pos:start="41:28" pos:end="41:37">frame_rate</name><operator pos:start="41:38" pos:end="41:38">.</operator><name pos:start="41:39" pos:end="41:41">den</name></name> <operator pos:start="41:43" pos:end="41:43">&gt;</operator> <literal type="number" pos:start="41:45" pos:end="41:45">0</literal></expr>)</condition><block type="pseudo" pos:start="43:9" pos:end="43:86"><block_content pos:start="43:9" pos:end="43:86">

        <expr_stmt pos:start="43:9" pos:end="43:86"><expr pos:start="43:9" pos:end="43:85"><name pos:start="43:9" pos:end="43:16">duration</name> <operator pos:start="43:18" pos:end="43:18">=</operator> <literal type="number" pos:start="43:20" pos:end="43:20">1</literal><operator pos:start="43:21" pos:end="43:21">/</operator><operator pos:start="43:22" pos:end="43:22">(</operator><call pos:start="43:23" pos:end="43:59"><name pos:start="43:23" pos:end="43:28">av_q2d</name><argument_list pos:start="43:29" pos:end="43:59">(<argument pos:start="43:30" pos:end="43:58"><expr pos:start="43:30" pos:end="43:58"><name pos:start="43:30" pos:end="43:46"><name pos:start="43:30" pos:end="43:35">filter</name><operator pos:start="43:36" pos:end="43:37">-&gt;</operator><name pos:start="43:38" pos:end="43:43">inputs</name><index pos:start="43:44" pos:end="43:46">[<expr pos:start="43:45" pos:end="43:45"><literal type="number" pos:start="43:45" pos:end="43:45">0</literal></expr>]</index></name><operator pos:start="43:47" pos:end="43:48">-&gt;</operator><name pos:start="43:49" pos:end="43:58">frame_rate</name></expr></argument>)</argument_list></call> <operator pos:start="43:61" pos:end="43:61">*</operator> <call pos:start="43:63" pos:end="43:84"><name pos:start="43:63" pos:end="43:68">av_q2d</name><argument_list pos:start="43:69" pos:end="43:84">(<argument pos:start="43:70" pos:end="43:83"><expr pos:start="43:70" pos:end="43:83"><name pos:start="43:70" pos:end="43:83"><name pos:start="43:70" pos:end="43:72">enc</name><operator pos:start="43:73" pos:end="43:74">-&gt;</operator><name pos:start="43:75" pos:end="43:83">time_base</name></name></expr></argument>)</argument_list></call><operator pos:start="43:85" pos:end="43:85">)</operator></expr>;</expr_stmt></block_content></block></if></if_stmt>



    <if_stmt pos:start="47:5" pos:end="49:89"><if pos:start="47:5" pos:end="49:89">if<condition pos:start="47:7" pos:end="47:115">(<expr pos:start="47:8" pos:end="47:114"><name pos:start="47:8" pos:end="47:10">ist</name> <operator pos:start="47:12" pos:end="47:13">&amp;&amp;</operator> <name pos:start="47:15" pos:end="47:33"><name pos:start="47:15" pos:end="47:17">ist</name><operator pos:start="47:18" pos:end="47:19">-&gt;</operator><name pos:start="47:20" pos:end="47:21">st</name><operator pos:start="47:22" pos:end="47:23">-&gt;</operator><name pos:start="47:24" pos:end="47:33">start_time</name></name> <operator pos:start="47:35" pos:end="47:36">!=</operator> <name pos:start="47:38" pos:end="47:51">AV_NOPTS_VALUE</name> <operator pos:start="47:53" pos:end="47:54">&amp;&amp;</operator> <name pos:start="47:56" pos:end="47:73"><name pos:start="47:56" pos:end="47:58">ist</name><operator pos:start="47:59" pos:end="47:60">-&gt;</operator><name pos:start="47:61" pos:end="47:62">st</name><operator pos:start="47:63" pos:end="47:64">-&gt;</operator><name pos:start="47:65" pos:end="47:73">first_dts</name></name> <operator pos:start="47:75" pos:end="47:76">!=</operator> <name pos:start="47:78" pos:end="47:91">AV_NOPTS_VALUE</name> <operator pos:start="47:93" pos:end="47:94">&amp;&amp;</operator> <name pos:start="47:96" pos:end="47:114"><name pos:start="47:96" pos:end="47:98">ost</name><operator pos:start="47:99" pos:end="47:100">-&gt;</operator><name pos:start="47:101" pos:end="47:110">frame_rate</name><operator pos:start="47:111" pos:end="47:111">.</operator><name pos:start="47:112" pos:end="47:114">num</name></name></expr>)</condition><block type="pseudo" pos:start="49:9" pos:end="49:89"><block_content pos:start="49:9" pos:end="49:89">

        <expr_stmt pos:start="49:9" pos:end="49:89"><expr pos:start="49:9" pos:end="49:88"><name pos:start="49:9" pos:end="49:16">duration</name> <operator pos:start="49:18" pos:end="49:18">=</operator> <call pos:start="49:20" pos:end="49:88"><name pos:start="49:20" pos:end="49:24">FFMIN</name><argument_list pos:start="49:25" pos:end="49:88">(<argument pos:start="49:26" pos:end="49:33"><expr pos:start="49:26" pos:end="49:33"><name pos:start="49:26" pos:end="49:33">duration</name></expr></argument>, <argument pos:start="49:36" pos:end="49:87"><expr pos:start="49:36" pos:end="49:87"><literal type="number" pos:start="49:36" pos:end="49:36">1</literal><operator pos:start="49:37" pos:end="49:37">/</operator><operator pos:start="49:38" pos:end="49:38">(</operator><call pos:start="49:39" pos:end="49:61"><name pos:start="49:39" pos:end="49:44">av_q2d</name><argument_list pos:start="49:45" pos:end="49:61">(<argument pos:start="49:46" pos:end="49:60"><expr pos:start="49:46" pos:end="49:60"><name pos:start="49:46" pos:end="49:60"><name pos:start="49:46" pos:end="49:48">ost</name><operator pos:start="49:49" pos:end="49:50">-&gt;</operator><name pos:start="49:51" pos:end="49:60">frame_rate</name></name></expr></argument>)</argument_list></call> <operator pos:start="49:63" pos:end="49:63">*</operator> <call pos:start="49:65" pos:end="49:86"><name pos:start="49:65" pos:end="49:70">av_q2d</name><argument_list pos:start="49:71" pos:end="49:86">(<argument pos:start="49:72" pos:end="49:85"><expr pos:start="49:72" pos:end="49:85"><name pos:start="49:72" pos:end="49:85"><name pos:start="49:72" pos:end="49:74">enc</name><operator pos:start="49:75" pos:end="49:76">-&gt;</operator><name pos:start="49:77" pos:end="49:85">time_base</name></name></expr></argument>)</argument_list></call><operator pos:start="49:87" pos:end="49:87">)</operator></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>



    <if_stmt pos:start="53:5" pos:end="65:5"><if pos:start="53:5" pos:end="65:5">if <condition pos:start="53:8" pos:end="61:114">(<expr pos:start="53:9" pos:end="61:113"><operator pos:start="53:9" pos:end="53:9">!</operator><name pos:start="53:10" pos:end="53:28"><name pos:start="53:10" pos:end="53:12">ost</name><operator pos:start="53:13" pos:end="53:14">-&gt;</operator><name pos:start="53:15" pos:end="53:28">filters_script</name></name> <operator pos:start="53:30" pos:end="53:31">&amp;&amp;</operator>

        <operator pos:start="55:9" pos:end="55:9">!</operator><name pos:start="55:10" pos:end="55:21"><name pos:start="55:10" pos:end="55:12">ost</name><operator pos:start="55:13" pos:end="55:14">-&gt;</operator><name pos:start="55:15" pos:end="55:21">filters</name></name> <operator pos:start="55:23" pos:end="55:24">&amp;&amp;</operator>

        <name pos:start="57:9" pos:end="57:20">next_picture</name> <operator pos:start="57:22" pos:end="57:23">&amp;&amp;</operator>

        <name pos:start="59:9" pos:end="59:11">ist</name> <operator pos:start="59:13" pos:end="59:14">&amp;&amp;</operator>

        <call pos:start="61:9" pos:end="61:109"><name pos:start="61:9" pos:end="61:14">lrintf</name><argument_list pos:start="61:15" pos:end="61:109">(<argument pos:start="61:16" pos:end="61:108"><expr pos:start="61:16" pos:end="61:108"><call pos:start="61:16" pos:end="61:54"><name pos:start="61:16" pos:end="61:40">av_frame_get_pkt_duration</name><argument_list pos:start="61:41" pos:end="61:54">(<argument pos:start="61:42" pos:end="61:53"><expr pos:start="61:42" pos:end="61:53"><name pos:start="61:42" pos:end="61:53">next_picture</name></expr></argument>)</argument_list></call> <operator pos:start="61:56" pos:end="61:56">*</operator> <call pos:start="61:58" pos:end="61:83"><name pos:start="61:58" pos:end="61:63">av_q2d</name><argument_list pos:start="61:64" pos:end="61:83">(<argument pos:start="61:65" pos:end="61:82"><expr pos:start="61:65" pos:end="61:82"><name pos:start="61:65" pos:end="61:82"><name pos:start="61:65" pos:end="61:67">ist</name><operator pos:start="61:68" pos:end="61:69">-&gt;</operator><name pos:start="61:70" pos:end="61:71">st</name><operator pos:start="61:72" pos:end="61:73">-&gt;</operator><name pos:start="61:74" pos:end="61:82">time_base</name></name></expr></argument>)</argument_list></call> <operator pos:start="61:85" pos:end="61:85">/</operator> <call pos:start="61:87" pos:end="61:108"><name pos:start="61:87" pos:end="61:92">av_q2d</name><argument_list pos:start="61:93" pos:end="61:108">(<argument pos:start="61:94" pos:end="61:107"><expr pos:start="61:94" pos:end="61:107"><name pos:start="61:94" pos:end="61:107"><name pos:start="61:94" pos:end="61:96">enc</name><operator pos:start="61:97" pos:end="61:98">-&gt;</operator><name pos:start="61:99" pos:end="61:107">time_base</name></name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call> <operator pos:start="61:111" pos:end="61:111">&gt;</operator> <literal type="number" pos:start="61:113" pos:end="61:113">0</literal></expr>)</condition> <block pos:start="61:116" pos:end="65:5">{<block_content pos:start="63:9" pos:end="63:121">

        <expr_stmt pos:start="63:9" pos:end="63:121"><expr pos:start="63:9" pos:end="63:120"><name pos:start="63:9" pos:end="63:16">duration</name> <operator pos:start="63:18" pos:end="63:18">=</operator> <call pos:start="63:20" pos:end="63:120"><name pos:start="63:20" pos:end="63:25">lrintf</name><argument_list pos:start="63:26" pos:end="63:120">(<argument pos:start="63:27" pos:end="63:119"><expr pos:start="63:27" pos:end="63:119"><call pos:start="63:27" pos:end="63:65"><name pos:start="63:27" pos:end="63:51">av_frame_get_pkt_duration</name><argument_list pos:start="63:52" pos:end="63:65">(<argument pos:start="63:53" pos:end="63:64"><expr pos:start="63:53" pos:end="63:64"><name pos:start="63:53" pos:end="63:64">next_picture</name></expr></argument>)</argument_list></call> <operator pos:start="63:67" pos:end="63:67">*</operator> <call pos:start="63:69" pos:end="63:94"><name pos:start="63:69" pos:end="63:74">av_q2d</name><argument_list pos:start="63:75" pos:end="63:94">(<argument pos:start="63:76" pos:end="63:93"><expr pos:start="63:76" pos:end="63:93"><name pos:start="63:76" pos:end="63:93"><name pos:start="63:76" pos:end="63:78">ist</name><operator pos:start="63:79" pos:end="63:80">-&gt;</operator><name pos:start="63:81" pos:end="63:82">st</name><operator pos:start="63:83" pos:end="63:84">-&gt;</operator><name pos:start="63:85" pos:end="63:93">time_base</name></name></expr></argument>)</argument_list></call> <operator pos:start="63:96" pos:end="63:96">/</operator> <call pos:start="63:98" pos:end="63:119"><name pos:start="63:98" pos:end="63:103">av_q2d</name><argument_list pos:start="63:104" pos:end="63:119">(<argument pos:start="63:105" pos:end="63:118"><expr pos:start="63:105" pos:end="63:118"><name pos:start="63:105" pos:end="63:118"><name pos:start="63:105" pos:end="63:107">enc</name><operator pos:start="63:108" pos:end="63:109">-&gt;</operator><name pos:start="63:110" pos:end="63:118">time_base</name></name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="69:5" pos:end="223:5"><if pos:start="69:5" pos:end="79:5">if <condition pos:start="69:8" pos:end="69:22">(<expr pos:start="69:9" pos:end="69:21"><operator pos:start="69:9" pos:end="69:9">!</operator><name pos:start="69:10" pos:end="69:21">next_picture</name></expr>)</condition> <block pos:start="69:24" pos:end="79:5">{<block_content pos:start="73:9" pos:end="77:67">

        <comment type="line" pos:start="71:9" pos:end="71:23">//end, flushing</comment>

        <expr_stmt pos:start="73:9" pos:end="77:67"><expr pos:start="73:9" pos:end="77:66"><name pos:start="73:9" pos:end="73:18">nb0_frames</name> <operator pos:start="73:20" pos:end="73:20">=</operator> <name pos:start="73:22" pos:end="73:30">nb_frames</name> <operator pos:start="73:32" pos:end="73:32">=</operator> <call pos:start="73:34" pos:end="77:66"><name pos:start="73:34" pos:end="73:41">mid_pred</name><argument_list pos:start="73:42" pos:end="77:66">(<argument pos:start="73:43" pos:end="73:65"><expr pos:start="73:43" pos:end="73:65"><name pos:start="73:43" pos:end="73:65"><name pos:start="73:43" pos:end="73:45">ost</name><operator pos:start="73:46" pos:end="73:47">-&gt;</operator><name pos:start="73:48" pos:end="73:62">last_nb0_frames</name><index pos:start="73:63" pos:end="73:65">[<expr pos:start="73:64" pos:end="73:64"><literal type="number" pos:start="73:64" pos:end="73:64">0</literal></expr>]</index></name></expr></argument>,

                                          <argument pos:start="75:43" pos:end="75:65"><expr pos:start="75:43" pos:end="75:65"><name pos:start="75:43" pos:end="75:65"><name pos:start="75:43" pos:end="75:45">ost</name><operator pos:start="75:46" pos:end="75:47">-&gt;</operator><name pos:start="75:48" pos:end="75:62">last_nb0_frames</name><index pos:start="75:63" pos:end="75:65">[<expr pos:start="75:64" pos:end="75:64"><literal type="number" pos:start="75:64" pos:end="75:64">1</literal></expr>]</index></name></expr></argument>,

                                          <argument pos:start="77:43" pos:end="77:65"><expr pos:start="77:43" pos:end="77:65"><name pos:start="77:43" pos:end="77:65"><name pos:start="77:43" pos:end="77:45">ost</name><operator pos:start="77:46" pos:end="77:47">-&gt;</operator><name pos:start="77:48" pos:end="77:62">last_nb0_frames</name><index pos:start="77:63" pos:end="77:65">[<expr pos:start="77:64" pos:end="77:64"><literal type="number" pos:start="77:64" pos:end="77:64">2</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="79:7" pos:end="223:5">else <block pos:start="79:12" pos:end="223:5">{<block_content pos:start="81:9" pos:end="221:9">

        <expr_stmt pos:start="81:9" pos:end="81:44"><expr pos:start="81:9" pos:end="81:43"><name pos:start="81:9" pos:end="81:14">delta0</name> <operator pos:start="81:16" pos:end="81:16">=</operator> <name pos:start="81:18" pos:end="81:26">sync_ipts</name> <operator pos:start="81:28" pos:end="81:28">-</operator> <name pos:start="81:30" pos:end="81:43"><name pos:start="81:30" pos:end="81:32">ost</name><operator pos:start="81:33" pos:end="81:34">-&gt;</operator><name pos:start="81:35" pos:end="81:43">sync_opts</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="83:9" pos:end="83:35"><expr pos:start="83:9" pos:end="83:34"><name pos:start="83:9" pos:end="83:13">delta</name>  <operator pos:start="83:16" pos:end="83:16">=</operator> <name pos:start="83:18" pos:end="83:23">delta0</name> <operator pos:start="83:25" pos:end="83:25">+</operator> <name pos:start="83:27" pos:end="83:34">duration</name></expr>;</expr_stmt>



        <comment type="block" pos:start="87:9" pos:end="87:50">/* by default, we output a single frame */</comment>

        <expr_stmt pos:start="89:9" pos:end="89:23"><expr pos:start="89:9" pos:end="89:22"><name pos:start="89:9" pos:end="89:18">nb0_frames</name> <operator pos:start="89:20" pos:end="89:20">=</operator> <literal type="number" pos:start="89:22" pos:end="89:22">0</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="91:9" pos:end="91:22"><expr pos:start="91:9" pos:end="91:21"><name pos:start="91:9" pos:end="91:17">nb_frames</name> <operator pos:start="91:19" pos:end="91:19">=</operator> <literal type="number" pos:start="91:21" pos:end="91:21">1</literal></expr>;</expr_stmt>



        <expr_stmt pos:start="95:9" pos:end="95:46"><expr pos:start="95:9" pos:end="95:45"><name pos:start="95:9" pos:end="95:25">format_video_sync</name> <operator pos:start="95:27" pos:end="95:27">=</operator> <name pos:start="95:29" pos:end="95:45">video_sync_method</name></expr>;</expr_stmt>

        <if_stmt pos:start="97:9" pos:end="125:9"><if pos:start="97:9" pos:end="125:9">if <condition pos:start="97:12" pos:end="97:44">(<expr pos:start="97:13" pos:end="97:43"><name pos:start="97:13" pos:end="97:29">format_video_sync</name> <operator pos:start="97:31" pos:end="97:32">==</operator> <name pos:start="97:34" pos:end="97:43">VSYNC_AUTO</name></expr>)</condition> <block pos:start="97:46" pos:end="125:9">{<block_content pos:start="99:13" pos:end="123:13">

            <if_stmt pos:start="99:13" pos:end="105:166"><if pos:start="99:13" pos:end="103:13">if<condition pos:start="99:15" pos:end="99:48">(<expr pos:start="99:16" pos:end="99:47"><operator pos:start="99:16" pos:end="99:16">!</operator><call pos:start="99:17" pos:end="99:47"><name pos:start="99:17" pos:end="99:22">strcmp</name><argument_list pos:start="99:23" pos:end="99:47">(<argument pos:start="99:24" pos:end="99:39"><expr pos:start="99:24" pos:end="99:39"><name pos:start="99:24" pos:end="99:39"><name pos:start="99:24" pos:end="99:24">s</name><operator pos:start="99:25" pos:end="99:26">-&gt;</operator><name pos:start="99:27" pos:end="99:33">oformat</name><operator pos:start="99:34" pos:end="99:35">-&gt;</operator><name pos:start="99:36" pos:end="99:39">name</name></name></expr></argument>, <argument pos:start="99:42" pos:end="99:46"><expr pos:start="99:42" pos:end="99:46"><literal type="string" pos:start="99:42" pos:end="99:46">"avi"</literal></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="99:50" pos:end="103:13">{<block_content pos:start="101:17" pos:end="101:46">

                <expr_stmt pos:start="101:17" pos:end="101:46"><expr pos:start="101:17" pos:end="101:45"><name pos:start="101:17" pos:end="101:33">format_video_sync</name> <operator pos:start="101:35" pos:end="101:35">=</operator> <name pos:start="101:37" pos:end="101:45">VSYNC_VFR</name></expr>;</expr_stmt>

            </block_content>}</block></if> <else pos:start="103:15" pos:end="105:166">else<block type="pseudo" pos:start="105:17" pos:end="105:166"><block_content pos:start="105:17" pos:end="105:166">

                <expr_stmt pos:start="105:17" pos:end="105:166"><expr pos:start="105:17" pos:end="105:165"><name pos:start="105:17" pos:end="105:33">format_video_sync</name> <operator pos:start="105:35" pos:end="105:35">=</operator> <ternary pos:start="105:37" pos:end="105:165"><condition pos:start="105:37" pos:end="105:78"><expr pos:start="105:37" pos:end="105:76"><operator pos:start="105:37" pos:end="105:37">(</operator><name pos:start="105:38" pos:end="105:54"><name pos:start="105:38" pos:end="105:38">s</name><operator pos:start="105:39" pos:end="105:40">-&gt;</operator><name pos:start="105:41" pos:end="105:47">oformat</name><operator pos:start="105:48" pos:end="105:49">-&gt;</operator><name pos:start="105:50" pos:end="105:54">flags</name></name> <operator pos:start="105:56" pos:end="105:56">&amp;</operator> <name pos:start="105:58" pos:end="105:75">AVFMT_VARIABLE_FPS</name><operator pos:start="105:76" pos:end="105:76">)</operator></expr> ?</condition><then pos:start="105:80" pos:end="105:153"> <expr pos:start="105:80" pos:end="105:153"><operator pos:start="105:80" pos:end="105:80">(</operator><ternary pos:start="105:81" pos:end="105:152"><condition pos:start="105:81" pos:end="105:122"><expr pos:start="105:81" pos:end="105:120"><operator pos:start="105:81" pos:end="105:81">(</operator><name pos:start="105:82" pos:end="105:98"><name pos:start="105:82" pos:end="105:82">s</name><operator pos:start="105:83" pos:end="105:84">-&gt;</operator><name pos:start="105:85" pos:end="105:91">oformat</name><operator pos:start="105:92" pos:end="105:93">-&gt;</operator><name pos:start="105:94" pos:end="105:98">flags</name></name> <operator pos:start="105:100" pos:end="105:100">&amp;</operator> <name pos:start="105:102" pos:end="105:119">AVFMT_NOTIMESTAMPS</name><operator pos:start="105:120" pos:end="105:120">)</operator></expr> ?</condition><then pos:start="105:124" pos:end="105:140"> <expr pos:start="105:124" pos:end="105:140"><name pos:start="105:124" pos:end="105:140">VSYNC_PASSTHROUGH</name></expr> </then><else pos:start="105:142" pos:end="105:152">: <expr pos:start="105:144" pos:end="105:152"><name pos:start="105:144" pos:end="105:152">VSYNC_VFR</name></expr></else></ternary><operator pos:start="105:153" pos:end="105:153">)</operator></expr> </then><else pos:start="105:155" pos:end="105:165">: <expr pos:start="105:157" pos:end="105:165"><name pos:start="105:157" pos:end="105:165">VSYNC_CFR</name></expr></else></ternary></expr>;</expr_stmt></block_content></block></else></if_stmt>

            <if_stmt pos:start="107:13" pos:end="117:13"><if pos:start="107:13" pos:end="117:13">if <condition pos:start="107:16" pos:end="113:70">(   <expr pos:start="107:20" pos:end="113:69"><name pos:start="107:20" pos:end="107:22">ist</name>

                <operator pos:start="109:17" pos:end="109:18">&amp;&amp;</operator> <name pos:start="109:20" pos:end="109:36">format_video_sync</name> <operator pos:start="109:38" pos:end="109:39">==</operator> <name pos:start="109:41" pos:end="109:49">VSYNC_CFR</name>

                <operator pos:start="111:17" pos:end="111:18">&amp;&amp;</operator> <name pos:start="111:20" pos:end="111:47"><name pos:start="111:20" pos:end="111:30">input_files</name><index pos:start="111:31" pos:end="111:47">[<expr pos:start="111:32" pos:end="111:46"><name pos:start="111:32" pos:end="111:46"><name pos:start="111:32" pos:end="111:34">ist</name><operator pos:start="111:35" pos:end="111:36">-&gt;</operator><name pos:start="111:37" pos:end="111:46">file_index</name></name></expr>]</index></name><operator pos:start="111:48" pos:end="111:49">-&gt;</operator><name pos:start="111:50" pos:end="111:64"><name pos:start="111:50" pos:end="111:52">ctx</name><operator pos:start="111:53" pos:end="111:54">-&gt;</operator><name pos:start="111:55" pos:end="111:64">nb_streams</name></name> <operator pos:start="111:66" pos:end="111:67">==</operator> <literal type="number" pos:start="111:69" pos:end="111:69">1</literal>

                <operator pos:start="113:17" pos:end="113:18">&amp;&amp;</operator> <name pos:start="113:20" pos:end="113:47"><name pos:start="113:20" pos:end="113:30">input_files</name><index pos:start="113:31" pos:end="113:47">[<expr pos:start="113:32" pos:end="113:46"><name pos:start="113:32" pos:end="113:46"><name pos:start="113:32" pos:end="113:34">ist</name><operator pos:start="113:35" pos:end="113:36">-&gt;</operator><name pos:start="113:37" pos:end="113:46">file_index</name></name></expr>]</index></name><operator pos:start="113:48" pos:end="113:49">-&gt;</operator><name pos:start="113:50" pos:end="113:64">input_ts_offset</name> <operator pos:start="113:66" pos:end="113:67">==</operator> <literal type="number" pos:start="113:69" pos:end="113:69">0</literal></expr>)</condition> <block pos:start="113:72" pos:end="117:13">{<block_content pos:start="115:17" pos:end="115:48">

                <expr_stmt pos:start="115:17" pos:end="115:48"><expr pos:start="115:17" pos:end="115:47"><name pos:start="115:17" pos:end="115:33">format_video_sync</name> <operator pos:start="115:35" pos:end="115:35">=</operator> <name pos:start="115:37" pos:end="115:47">VSYNC_VSCFR</name></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>

            <if_stmt pos:start="119:13" pos:end="123:13"><if pos:start="119:13" pos:end="123:13">if <condition pos:start="119:16" pos:end="119:58">(<expr pos:start="119:17" pos:end="119:57"><name pos:start="119:17" pos:end="119:33">format_video_sync</name> <operator pos:start="119:35" pos:end="119:36">==</operator> <name pos:start="119:38" pos:end="119:46">VSYNC_CFR</name> <operator pos:start="119:48" pos:end="119:49">&amp;&amp;</operator> <name pos:start="119:51" pos:end="119:57">copy_ts</name></expr>)</condition> <block pos:start="119:60" pos:end="123:13">{<block_content pos:start="121:17" pos:end="121:48">

                <expr_stmt pos:start="121:17" pos:end="121:48"><expr pos:start="121:17" pos:end="121:47"><name pos:start="121:17" pos:end="121:33">format_video_sync</name> <operator pos:start="121:35" pos:end="121:35">=</operator> <name pos:start="121:37" pos:end="121:47">VSYNC_VSCFR</name></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>

        </block_content>}</block></if></if_stmt>



        <if_stmt pos:start="129:9" pos:end="153:9"><if pos:start="129:9" pos:end="153:9">if <condition pos:start="129:12" pos:end="135:44">(<expr pos:start="129:13" pos:end="135:43"><name pos:start="129:13" pos:end="131:19"><name pos:start="129:13" pos:end="129:18">delta0</name> <argument_list type="generic" pos:start="129:20" pos:end="131:19">&lt; <argument pos:start="129:22" pos:end="131:17"><expr pos:start="129:22" pos:end="131:17"><literal type="number" pos:start="129:22" pos:end="129:22">0</literal> <operator pos:start="129:24" pos:end="129:25">&amp;&amp;</operator>

            <name pos:start="131:13" pos:end="131:17">delta</name></expr></argument> &gt;</argument_list></name> <literal type="number" pos:start="131:21" pos:end="131:21">0</literal> <operator pos:start="131:23" pos:end="131:24">&amp;&amp;</operator>

            <name pos:start="133:13" pos:end="133:29">format_video_sync</name> <operator pos:start="133:31" pos:end="133:32">!=</operator> <name pos:start="133:34" pos:end="133:50">VSYNC_PASSTHROUGH</name> <operator pos:start="133:52" pos:end="133:53">&amp;&amp;</operator>

            <name pos:start="135:13" pos:end="135:29">format_video_sync</name> <operator pos:start="135:31" pos:end="135:32">!=</operator> <name pos:start="135:34" pos:end="135:43">VSYNC_DROP</name></expr>)</condition> <block pos:start="135:46" pos:end="153:9">{<block_content pos:start="137:13" pos:end="151:26">

            <decl_stmt pos:start="137:13" pos:end="137:50"><decl pos:start="137:13" pos:end="137:49"><type pos:start="137:13" pos:end="137:18"><name pos:start="137:13" pos:end="137:18">double</name></type> <name pos:start="137:20" pos:end="137:22">cor</name> <init pos:start="137:24" pos:end="137:49">= <expr pos:start="137:26" pos:end="137:49"><call pos:start="137:26" pos:end="137:49"><name pos:start="137:26" pos:end="137:30">FFMIN</name><argument_list pos:start="137:31" pos:end="137:49">(<argument pos:start="137:32" pos:end="137:38"><expr pos:start="137:32" pos:end="137:38"><operator pos:start="137:32" pos:end="137:32">-</operator><name pos:start="137:33" pos:end="137:38">delta0</name></expr></argument>, <argument pos:start="137:41" pos:end="137:48"><expr pos:start="137:41" pos:end="137:48"><name pos:start="137:41" pos:end="137:48">duration</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

            <if_stmt pos:start="139:13" pos:end="145:96"><if pos:start="139:13" pos:end="143:13">if <condition pos:start="139:16" pos:end="139:30">(<expr pos:start="139:17" pos:end="139:29"><name pos:start="139:17" pos:end="139:22">delta0</name> <operator pos:start="139:24" pos:end="139:24">&lt;</operator> <operator pos:start="139:26" pos:end="139:26">-</operator><literal type="number" pos:start="139:27" pos:end="139:29">0.6</literal></expr>)</condition> <block pos:start="139:32" pos:end="143:13">{<block_content pos:start="141:17" pos:end="141:86">

                <expr_stmt pos:start="141:17" pos:end="141:86"><expr pos:start="141:17" pos:end="141:85"><call pos:start="141:17" pos:end="141:85"><name pos:start="141:17" pos:end="141:22">av_log</name><argument_list pos:start="141:23" pos:end="141:85">(<argument pos:start="141:24" pos:end="141:27"><expr pos:start="141:24" pos:end="141:27"><name pos:start="141:24" pos:end="141:27">NULL</name></expr></argument>, <argument pos:start="141:30" pos:end="141:43"><expr pos:start="141:30" pos:end="141:43"><name pos:start="141:30" pos:end="141:43">AV_LOG_WARNING</name></expr></argument>, <argument pos:start="141:46" pos:end="141:75"><expr pos:start="141:46" pos:end="141:75"><literal type="string" pos:start="141:46" pos:end="141:75">"Past duration %f too large\n"</literal></expr></argument>, <argument pos:start="141:78" pos:end="141:84"><expr pos:start="141:78" pos:end="141:84"><operator pos:start="141:78" pos:end="141:78">-</operator><name pos:start="141:79" pos:end="141:84">delta0</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></if> <else pos:start="143:15" pos:end="145:96">else<block type="pseudo" pos:start="145:17" pos:end="145:96"><block_content pos:start="145:17" pos:end="145:96">

                <expr_stmt pos:start="145:17" pos:end="145:96"><expr pos:start="145:17" pos:end="145:95"><call pos:start="145:17" pos:end="145:95"><name pos:start="145:17" pos:end="145:22">av_log</name><argument_list pos:start="145:23" pos:end="145:95">(<argument pos:start="145:24" pos:end="145:27"><expr pos:start="145:24" pos:end="145:27"><name pos:start="145:24" pos:end="145:27">NULL</name></expr></argument>, <argument pos:start="145:30" pos:end="145:41"><expr pos:start="145:30" pos:end="145:41"><name pos:start="145:30" pos:end="145:41">AV_LOG_DEBUG</name></expr></argument>, <argument pos:start="145:44" pos:end="145:85"><expr pos:start="145:44" pos:end="145:85"><literal type="string" pos:start="145:44" pos:end="145:85">"Cliping frame in rate conversion by %f\n"</literal></expr></argument>, <argument pos:start="145:88" pos:end="145:94"><expr pos:start="145:88" pos:end="145:94"><operator pos:start="145:88" pos:end="145:88">-</operator><name pos:start="145:89" pos:end="145:94">delta0</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></else></if_stmt>

            <expr_stmt pos:start="147:13" pos:end="147:29"><expr pos:start="147:13" pos:end="147:28"><name pos:start="147:13" pos:end="147:21">sync_ipts</name> <operator pos:start="147:23" pos:end="147:24">+=</operator> <name pos:start="147:26" pos:end="147:28">cor</name></expr>;</expr_stmt>

            <expr_stmt pos:start="149:13" pos:end="149:28"><expr pos:start="149:13" pos:end="149:27"><name pos:start="149:13" pos:end="149:20">duration</name> <operator pos:start="149:22" pos:end="149:23">-=</operator> <name pos:start="149:25" pos:end="149:27">cor</name></expr>;</expr_stmt>

            <expr_stmt pos:start="151:13" pos:end="151:26"><expr pos:start="151:13" pos:end="151:25"><name pos:start="151:13" pos:end="151:18">delta0</name> <operator pos:start="151:20" pos:end="151:21">+=</operator> <name pos:start="151:23" pos:end="151:25">cor</name></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>



        <switch pos:start="157:9" pos:end="221:9">switch <condition pos:start="157:16" pos:end="157:34">(<expr pos:start="157:17" pos:end="157:33"><name pos:start="157:17" pos:end="157:33">format_video_sync</name></expr>)</condition> <block pos:start="157:36" pos:end="221:9">{<block_content pos:start="159:9" pos:end="219:26">

        <case pos:start="159:9" pos:end="159:25">case <expr pos:start="159:14" pos:end="159:24"><name pos:start="159:14" pos:end="159:24">VSYNC_VSCFR</name></expr>:</case>

            <if_stmt pos:start="161:13" pos:end="171:13"><if pos:start="161:13" pos:end="171:13">if <condition pos:start="161:16" pos:end="161:66">(<expr pos:start="161:17" pos:end="161:65"><name pos:start="161:17" pos:end="161:33"><name pos:start="161:17" pos:end="161:19">ost</name><operator pos:start="161:20" pos:end="161:21">-&gt;</operator><name pos:start="161:22" pos:end="161:33">frame_number</name></name> <operator pos:start="161:35" pos:end="161:36">==</operator> <literal type="number" pos:start="161:38" pos:end="161:38">0</literal> <operator pos:start="161:40" pos:end="161:41">&amp;&amp;</operator> <name pos:start="161:43" pos:end="161:47">delta</name> <operator pos:start="161:49" pos:end="161:49">-</operator> <name pos:start="161:51" pos:end="161:58">duration</name> <operator pos:start="161:60" pos:end="161:61">&gt;=</operator> <literal type="number" pos:start="161:63" pos:end="161:65">0.5</literal></expr>)</condition> <block pos:start="161:68" pos:end="171:13">{<block_content pos:start="163:17" pos:end="169:50">

                <expr_stmt pos:start="163:17" pos:end="163:113"><expr pos:start="163:17" pos:end="163:112"><call pos:start="163:17" pos:end="163:112"><name pos:start="163:17" pos:end="163:22">av_log</name><argument_list pos:start="163:23" pos:end="163:112">(<argument pos:start="163:24" pos:end="163:27"><expr pos:start="163:24" pos:end="163:27"><name pos:start="163:24" pos:end="163:27">NULL</name></expr></argument>, <argument pos:start="163:30" pos:end="163:41"><expr pos:start="163:30" pos:end="163:41"><name pos:start="163:30" pos:end="163:41">AV_LOG_DEBUG</name></expr></argument>, <argument pos:start="163:44" pos:end="163:80"><expr pos:start="163:44" pos:end="163:80"><literal type="string" pos:start="163:44" pos:end="163:80">"Not duplicating %d initial frames\n"</literal></expr></argument>, <argument pos:start="163:83" pos:end="163:111"><expr pos:start="163:83" pos:end="163:111"><operator pos:start="163:83" pos:end="163:83">(</operator><name pos:start="163:84" pos:end="163:86">int</name><operator pos:start="163:87" pos:end="163:87">)</operator><call pos:start="163:88" pos:end="163:111"><name pos:start="163:88" pos:end="163:93">lrintf</name><argument_list pos:start="163:94" pos:end="163:111">(<argument pos:start="163:95" pos:end="163:110"><expr pos:start="163:95" pos:end="163:110"><name pos:start="163:95" pos:end="163:99">delta</name> <operator pos:start="163:101" pos:end="163:101">-</operator> <name pos:start="163:103" pos:end="163:110">duration</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="165:17" pos:end="165:33"><expr pos:start="165:17" pos:end="165:32"><name pos:start="165:17" pos:end="165:21">delta</name> <operator pos:start="165:23" pos:end="165:23">=</operator> <name pos:start="165:25" pos:end="165:32">duration</name></expr>;</expr_stmt>

                <expr_stmt pos:start="167:17" pos:end="167:27"><expr pos:start="167:17" pos:end="167:26"><name pos:start="167:17" pos:end="167:22">delta0</name> <operator pos:start="167:24" pos:end="167:24">=</operator> <literal type="number" pos:start="167:26" pos:end="167:26">0</literal></expr>;</expr_stmt>

                <expr_stmt pos:start="169:17" pos:end="169:50"><expr pos:start="169:17" pos:end="169:49"><name pos:start="169:17" pos:end="169:30"><name pos:start="169:17" pos:end="169:19">ost</name><operator pos:start="169:20" pos:end="169:21">-&gt;</operator><name pos:start="169:22" pos:end="169:30">sync_opts</name></name> <operator pos:start="169:32" pos:end="169:32">=</operator> <call pos:start="169:34" pos:end="169:49"><name pos:start="169:34" pos:end="169:38">lrint</name><argument_list pos:start="169:39" pos:end="169:49">(<argument pos:start="169:40" pos:end="169:48"><expr pos:start="169:40" pos:end="169:48"><name pos:start="169:40" pos:end="169:48">sync_ipts</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>

        <case pos:start="173:9" pos:end="173:23">case <expr pos:start="173:14" pos:end="173:22"><name pos:start="173:14" pos:end="173:22">VSYNC_CFR</name></expr>:</case>

            <comment type="line" pos:start="175:13" pos:end="175:79">// FIXME set to 0.5 after we fix some dts/pts bugs like in avidec.c</comment>

            <if_stmt pos:start="177:13" pos:end="193:13"><if pos:start="177:13" pos:end="181:13">if <condition pos:start="177:16" pos:end="177:90">(<expr pos:start="177:17" pos:end="177:89"><name pos:start="177:17" pos:end="177:36">frame_drop_threshold</name> <operator pos:start="177:38" pos:end="177:39">&amp;&amp;</operator> <name pos:start="177:41" pos:end="177:45">delta</name> <operator pos:start="177:47" pos:end="177:47">&lt;</operator> <name pos:start="177:49" pos:end="177:68">frame_drop_threshold</name> <operator pos:start="177:70" pos:end="177:71">&amp;&amp;</operator> <name pos:start="177:73" pos:end="177:89"><name pos:start="177:73" pos:end="177:75">ost</name><operator pos:start="177:76" pos:end="177:77">-&gt;</operator><name pos:start="177:78" pos:end="177:89">frame_number</name></name></expr>)</condition> <block pos:start="177:92" pos:end="181:13">{<block_content pos:start="179:17" pos:end="179:30">

                <expr_stmt pos:start="179:17" pos:end="179:30"><expr pos:start="179:17" pos:end="179:29"><name pos:start="179:17" pos:end="179:25">nb_frames</name> <operator pos:start="179:27" pos:end="179:27">=</operator> <literal type="number" pos:start="179:29" pos:end="179:29">0</literal></expr>;</expr_stmt>

            </block_content>}</block></if> <if type="elseif" pos:start="181:15" pos:end="183:30">else if <condition pos:start="181:23" pos:end="181:36">(<expr pos:start="181:24" pos:end="181:35"><name pos:start="181:24" pos:end="181:28">delta</name> <operator pos:start="181:30" pos:end="181:30">&lt;</operator> <operator pos:start="181:32" pos:end="181:32">-</operator><literal type="number" pos:start="181:33" pos:end="181:35">1.1</literal></expr>)</condition><block type="pseudo" pos:start="183:17" pos:end="183:30"><block_content pos:start="183:17" pos:end="183:30">

                <expr_stmt pos:start="183:17" pos:end="183:30"><expr pos:start="183:17" pos:end="183:29"><name pos:start="183:17" pos:end="183:25">nb_frames</name> <operator pos:start="183:27" pos:end="183:27">=</operator> <literal type="number" pos:start="183:29" pos:end="183:29">0</literal></expr>;</expr_stmt></block_content></block></if>

            <if type="elseif" pos:start="185:13" pos:end="193:13">else if <condition pos:start="185:21" pos:end="185:33">(<expr pos:start="185:22" pos:end="185:32"><name pos:start="185:22" pos:end="185:26">delta</name> <operator pos:start="185:28" pos:end="185:28">&gt;</operator> <literal type="number" pos:start="185:30" pos:end="185:32">1.1</literal></expr>)</condition> <block pos:start="185:35" pos:end="193:13">{<block_content pos:start="187:17" pos:end="191:54">

                <expr_stmt pos:start="187:17" pos:end="187:42"><expr pos:start="187:17" pos:end="187:41"><name pos:start="187:17" pos:end="187:25">nb_frames</name> <operator pos:start="187:27" pos:end="187:27">=</operator> <call pos:start="187:29" pos:end="187:41"><name pos:start="187:29" pos:end="187:34">lrintf</name><argument_list pos:start="187:35" pos:end="187:41">(<argument pos:start="187:36" pos:end="187:40"><expr pos:start="187:36" pos:end="187:40"><name pos:start="187:36" pos:end="187:40">delta</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <if_stmt pos:start="189:17" pos:end="191:54"><if pos:start="189:17" pos:end="191:54">if <condition pos:start="189:20" pos:end="189:33">(<expr pos:start="189:21" pos:end="189:32"><name pos:start="189:21" pos:end="189:26">delta0</name> <operator pos:start="189:28" pos:end="189:28">&gt;</operator> <literal type="number" pos:start="189:30" pos:end="189:32">1.1</literal></expr>)</condition><block type="pseudo" pos:start="191:21" pos:end="191:54"><block_content pos:start="191:21" pos:end="191:54">

                    <expr_stmt pos:start="191:21" pos:end="191:54"><expr pos:start="191:21" pos:end="191:53"><name pos:start="191:21" pos:end="191:30">nb0_frames</name> <operator pos:start="191:32" pos:end="191:32">=</operator> <call pos:start="191:34" pos:end="191:53"><name pos:start="191:34" pos:end="191:39">lrintf</name><argument_list pos:start="191:40" pos:end="191:53">(<argument pos:start="191:41" pos:end="191:52"><expr pos:start="191:41" pos:end="191:52"><name pos:start="191:41" pos:end="191:46">delta0</name> <operator pos:start="191:48" pos:end="191:48">-</operator> <literal type="number" pos:start="191:50" pos:end="191:52">0.6</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

            </block_content>}</block></if></if_stmt>

            <break pos:start="195:13" pos:end="195:18">break;</break>

        <case pos:start="197:9" pos:end="197:23">case <expr pos:start="197:14" pos:end="197:22"><name pos:start="197:14" pos:end="197:22">VSYNC_VFR</name></expr>:</case>

            <if_stmt pos:start="199:13" pos:end="205:50"><if pos:start="199:13" pos:end="201:30">if <condition pos:start="199:16" pos:end="199:30">(<expr pos:start="199:17" pos:end="199:29"><name pos:start="199:17" pos:end="199:21">delta</name> <operator pos:start="199:23" pos:end="199:24">&lt;=</operator> <operator pos:start="199:26" pos:end="199:26">-</operator><literal type="number" pos:start="199:27" pos:end="199:29">0.6</literal></expr>)</condition><block type="pseudo" pos:start="201:17" pos:end="201:30"><block_content pos:start="201:17" pos:end="201:30">

                <expr_stmt pos:start="201:17" pos:end="201:30"><expr pos:start="201:17" pos:end="201:29"><name pos:start="201:17" pos:end="201:25">nb_frames</name> <operator pos:start="201:27" pos:end="201:27">=</operator> <literal type="number" pos:start="201:29" pos:end="201:29">0</literal></expr>;</expr_stmt></block_content></block></if>

            <if type="elseif" pos:start="203:13" pos:end="205:50">else if <condition pos:start="203:21" pos:end="203:33">(<expr pos:start="203:22" pos:end="203:32"><name pos:start="203:22" pos:end="203:26">delta</name> <operator pos:start="203:28" pos:end="203:28">&gt;</operator> <literal type="number" pos:start="203:30" pos:end="203:32">0.6</literal></expr>)</condition><block type="pseudo" pos:start="205:17" pos:end="205:50"><block_content pos:start="205:17" pos:end="205:50">

                <expr_stmt pos:start="205:17" pos:end="205:50"><expr pos:start="205:17" pos:end="205:49"><name pos:start="205:17" pos:end="205:30"><name pos:start="205:17" pos:end="205:19">ost</name><operator pos:start="205:20" pos:end="205:21">-&gt;</operator><name pos:start="205:22" pos:end="205:30">sync_opts</name></name> <operator pos:start="205:32" pos:end="205:32">=</operator> <call pos:start="205:34" pos:end="205:49"><name pos:start="205:34" pos:end="205:38">lrint</name><argument_list pos:start="205:39" pos:end="205:49">(<argument pos:start="205:40" pos:end="205:48"><expr pos:start="205:40" pos:end="205:48"><name pos:start="205:40" pos:end="205:48">sync_ipts</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

            <break pos:start="207:13" pos:end="207:18">break;</break>

        <case pos:start="209:9" pos:end="209:24">case <expr pos:start="209:14" pos:end="209:23"><name pos:start="209:14" pos:end="209:23">VSYNC_DROP</name></expr>:</case>

        <case pos:start="211:9" pos:end="211:31">case <expr pos:start="211:14" pos:end="211:30"><name pos:start="211:14" pos:end="211:30">VSYNC_PASSTHROUGH</name></expr>:</case>

            <expr_stmt pos:start="213:13" pos:end="213:46"><expr pos:start="213:13" pos:end="213:45"><name pos:start="213:13" pos:end="213:26"><name pos:start="213:13" pos:end="213:15">ost</name><operator pos:start="213:16" pos:end="213:17">-&gt;</operator><name pos:start="213:18" pos:end="213:26">sync_opts</name></name> <operator pos:start="213:28" pos:end="213:28">=</operator> <call pos:start="213:30" pos:end="213:45"><name pos:start="213:30" pos:end="213:34">lrint</name><argument_list pos:start="213:35" pos:end="213:45">(<argument pos:start="213:36" pos:end="213:44"><expr pos:start="213:36" pos:end="213:44"><name pos:start="213:36" pos:end="213:44">sync_ipts</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <break pos:start="215:13" pos:end="215:18">break;</break>

        <default pos:start="217:9" pos:end="217:16">default:</default>

            <expr_stmt pos:start="219:13" pos:end="219:26"><expr pos:start="219:13" pos:end="219:25"><call pos:start="219:13" pos:end="219:25"><name pos:start="219:13" pos:end="219:22">av_assert0</name><argument_list pos:start="219:23" pos:end="219:25">(<argument pos:start="219:24" pos:end="219:24"><expr pos:start="219:24" pos:end="219:24"><literal type="number" pos:start="219:24" pos:end="219:24">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></switch>

    </block_content>}</block></else></if_stmt>



    <expr_stmt pos:start="227:5" pos:end="227:70"><expr pos:start="227:5" pos:end="227:69"><name pos:start="227:5" pos:end="227:13">nb_frames</name> <operator pos:start="227:15" pos:end="227:15">=</operator> <call pos:start="227:17" pos:end="227:69"><name pos:start="227:17" pos:end="227:21">FFMIN</name><argument_list pos:start="227:22" pos:end="227:69">(<argument pos:start="227:23" pos:end="227:31"><expr pos:start="227:23" pos:end="227:31"><name pos:start="227:23" pos:end="227:31">nb_frames</name></expr></argument>, <argument pos:start="227:34" pos:end="227:68"><expr pos:start="227:34" pos:end="227:68"><name pos:start="227:34" pos:end="227:48"><name pos:start="227:34" pos:end="227:36">ost</name><operator pos:start="227:37" pos:end="227:38">-&gt;</operator><name pos:start="227:39" pos:end="227:48">max_frames</name></name> <operator pos:start="227:50" pos:end="227:50">-</operator> <name pos:start="227:52" pos:end="227:68"><name pos:start="227:52" pos:end="227:54">ost</name><operator pos:start="227:55" pos:end="227:56">-&gt;</operator><name pos:start="227:57" pos:end="227:68">frame_number</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="229:5" pos:end="229:46"><expr pos:start="229:5" pos:end="229:45"><name pos:start="229:5" pos:end="229:14">nb0_frames</name> <operator pos:start="229:16" pos:end="229:16">=</operator> <call pos:start="229:18" pos:end="229:45"><name pos:start="229:18" pos:end="229:22">FFMIN</name><argument_list pos:start="229:23" pos:end="229:45">(<argument pos:start="229:24" pos:end="229:33"><expr pos:start="229:24" pos:end="229:33"><name pos:start="229:24" pos:end="229:33">nb0_frames</name></expr></argument>, <argument pos:start="229:36" pos:end="229:44"><expr pos:start="229:36" pos:end="229:44"><name pos:start="229:36" pos:end="229:44">nb_frames</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="233:5" pos:end="237:90"><expr pos:start="233:5" pos:end="237:89"><call pos:start="233:5" pos:end="237:89"><name pos:start="233:5" pos:end="233:11">memmove</name><argument_list pos:start="233:12" pos:end="237:89">(<argument pos:start="233:13" pos:end="233:36"><expr pos:start="233:13" pos:end="233:36"><name pos:start="233:13" pos:end="233:32"><name pos:start="233:13" pos:end="233:15">ost</name><operator pos:start="233:16" pos:end="233:17">-&gt;</operator><name pos:start="233:18" pos:end="233:32">last_nb0_frames</name></name> <operator pos:start="233:34" pos:end="233:34">+</operator> <literal type="number" pos:start="233:36" pos:end="233:36">1</literal></expr></argument>,

            <argument pos:start="235:13" pos:end="235:32"><expr pos:start="235:13" pos:end="235:32"><name pos:start="235:13" pos:end="235:32"><name pos:start="235:13" pos:end="235:15">ost</name><operator pos:start="235:16" pos:end="235:17">-&gt;</operator><name pos:start="235:18" pos:end="235:32">last_nb0_frames</name></name></expr></argument>,

            <argument pos:start="237:13" pos:end="237:88"><expr pos:start="237:13" pos:end="237:88"><sizeof pos:start="237:13" pos:end="237:43">sizeof<argument_list pos:start="237:19" pos:end="237:43">(<argument pos:start="237:20" pos:end="237:42"><expr pos:start="237:20" pos:end="237:42"><name pos:start="237:20" pos:end="237:42"><name pos:start="237:20" pos:end="237:22">ost</name><operator pos:start="237:23" pos:end="237:24">-&gt;</operator><name pos:start="237:25" pos:end="237:39">last_nb0_frames</name><index pos:start="237:40" pos:end="237:42">[<expr pos:start="237:41" pos:end="237:41"><literal type="number" pos:start="237:41" pos:end="237:41">0</literal></expr>]</index></name></expr></argument>)</argument_list></sizeof> <operator pos:start="237:45" pos:end="237:45">*</operator> <operator pos:start="237:47" pos:end="237:47">(</operator><call pos:start="237:48" pos:end="237:83"><name pos:start="237:48" pos:end="237:61">FF_ARRAY_ELEMS</name><argument_list pos:start="237:62" pos:end="237:83">(<argument pos:start="237:63" pos:end="237:82"><expr pos:start="237:63" pos:end="237:82"><name pos:start="237:63" pos:end="237:82"><name pos:start="237:63" pos:end="237:65">ost</name><operator pos:start="237:66" pos:end="237:67">-&gt;</operator><name pos:start="237:68" pos:end="237:82">last_nb0_frames</name></name></expr></argument>)</argument_list></call> <operator pos:start="237:85" pos:end="237:85">-</operator> <literal type="number" pos:start="237:87" pos:end="237:87">1</literal><operator pos:start="237:88" pos:end="237:88">)</operator></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="239:5" pos:end="239:41"><expr pos:start="239:5" pos:end="239:40"><name pos:start="239:5" pos:end="239:27"><name pos:start="239:5" pos:end="239:7">ost</name><operator pos:start="239:8" pos:end="239:9">-&gt;</operator><name pos:start="239:10" pos:end="239:24">last_nb0_frames</name><index pos:start="239:25" pos:end="239:27">[<expr pos:start="239:26" pos:end="239:26"><literal type="number" pos:start="239:26" pos:end="239:26">0</literal></expr>]</index></name> <operator pos:start="239:29" pos:end="239:29">=</operator> <name pos:start="239:31" pos:end="239:40">nb0_frames</name></expr>;</expr_stmt>



    <if_stmt pos:start="243:5" pos:end="253:5"><if pos:start="243:5" pos:end="253:5">if <condition pos:start="243:8" pos:end="243:44">(<expr pos:start="243:9" pos:end="243:43"><name pos:start="243:9" pos:end="243:18">nb0_frames</name> <operator pos:start="243:20" pos:end="243:21">==</operator> <literal type="number" pos:start="243:23" pos:end="243:23">0</literal> <operator pos:start="243:25" pos:end="243:26">&amp;&amp;</operator> <name pos:start="243:28" pos:end="243:43"><name pos:start="243:28" pos:end="243:30">ost</name><operator pos:start="243:31" pos:end="243:32">-&gt;</operator><name pos:start="243:33" pos:end="243:43">last_droped</name></name></expr>)</condition> <block pos:start="243:46" pos:end="253:5">{<block_content pos:start="245:9" pos:end="251:72">

        <expr_stmt pos:start="245:9" pos:end="245:25"><expr pos:start="245:9" pos:end="245:24"><name pos:start="245:9" pos:end="245:22">nb_frames_drop</name><operator pos:start="245:23" pos:end="245:24">++</operator></expr>;</expr_stmt>

        <expr_stmt pos:start="247:9" pos:end="251:72"><expr pos:start="247:9" pos:end="251:71"><call pos:start="247:9" pos:end="251:71"><name pos:start="247:9" pos:end="247:14">av_log</name><argument_list pos:start="247:15" pos:end="251:71">(<argument pos:start="247:16" pos:end="247:19"><expr pos:start="247:16" pos:end="247:19"><name pos:start="247:16" pos:end="247:19">NULL</name></expr></argument>, <argument pos:start="247:22" pos:end="247:35"><expr pos:start="247:22" pos:end="247:35"><name pos:start="247:22" pos:end="247:35">AV_LOG_VERBOSE</name></expr></argument>,

               <argument pos:start="249:16" pos:end="249:71"><expr pos:start="249:16" pos:end="249:71"><literal type="string" pos:start="249:16" pos:end="249:61">"*** dropping frame %d from stream %d at ts %"</literal><name pos:start="249:62" pos:end="249:67">PRId64</name><literal type="string" pos:start="249:68" pos:end="249:71">"\n"</literal></expr></argument>,

               <argument pos:start="251:16" pos:end="251:32"><expr pos:start="251:16" pos:end="251:32"><name pos:start="251:16" pos:end="251:32"><name pos:start="251:16" pos:end="251:18">ost</name><operator pos:start="251:19" pos:end="251:20">-&gt;</operator><name pos:start="251:21" pos:end="251:32">frame_number</name></name></expr></argument>, <argument pos:start="251:35" pos:end="251:48"><expr pos:start="251:35" pos:end="251:48"><name pos:start="251:35" pos:end="251:48"><name pos:start="251:35" pos:end="251:37">ost</name><operator pos:start="251:38" pos:end="251:39">-&gt;</operator><name pos:start="251:40" pos:end="251:41">st</name><operator pos:start="251:42" pos:end="251:43">-&gt;</operator><name pos:start="251:44" pos:end="251:48">index</name></name></expr></argument>, <argument pos:start="251:51" pos:end="251:70"><expr pos:start="251:51" pos:end="251:70"><name pos:start="251:51" pos:end="251:70"><name pos:start="251:51" pos:end="251:53">ost</name><operator pos:start="251:54" pos:end="251:55">-&gt;</operator><name pos:start="251:56" pos:end="251:65">last_frame</name><operator pos:start="251:66" pos:end="251:67">-&gt;</operator><name pos:start="251:68" pos:end="251:70">pts</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    <if_stmt pos:start="255:5" pos:end="271:5"><if pos:start="255:5" pos:end="271:5">if <condition pos:start="255:8" pos:end="255:80">(<expr pos:start="255:9" pos:end="255:79"><name pos:start="255:9" pos:end="255:17">nb_frames</name> <operator pos:start="255:19" pos:end="255:19">&gt;</operator> <operator pos:start="255:21" pos:end="255:21">(</operator><name pos:start="255:22" pos:end="255:31">nb0_frames</name> <operator pos:start="255:33" pos:end="255:34">&amp;&amp;</operator> <name pos:start="255:36" pos:end="255:51"><name pos:start="255:36" pos:end="255:38">ost</name><operator pos:start="255:39" pos:end="255:40">-&gt;</operator><name pos:start="255:41" pos:end="255:51">last_droped</name></name><operator pos:start="255:52" pos:end="255:52">)</operator> <operator pos:start="255:54" pos:end="255:54">+</operator> <operator pos:start="255:56" pos:end="255:56">(</operator><name pos:start="255:57" pos:end="255:65">nb_frames</name> <operator pos:start="255:67" pos:end="255:67">&gt;</operator> <name pos:start="255:69" pos:end="255:78">nb0_frames</name><operator pos:start="255:79" pos:end="255:79">)</operator></expr>)</condition> <block pos:start="255:82" pos:end="271:5">{<block_content pos:start="257:9" pos:end="269:69">

        <if_stmt pos:start="257:9" pos:end="265:9"><if pos:start="257:9" pos:end="265:9">if <condition pos:start="257:12" pos:end="257:49">(<expr pos:start="257:13" pos:end="257:48"><name pos:start="257:13" pos:end="257:21">nb_frames</name> <operator pos:start="257:23" pos:end="257:23">&gt;</operator> <name pos:start="257:25" pos:end="257:43">dts_error_threshold</name> <operator pos:start="257:45" pos:end="257:45">*</operator> <literal type="number" pos:start="257:47" pos:end="257:48">30</literal></expr>)</condition> <block pos:start="257:51" pos:end="265:9">{<block_content pos:start="259:13" pos:end="263:19">

            <expr_stmt pos:start="259:13" pos:end="259:100"><expr pos:start="259:13" pos:end="259:99"><call pos:start="259:13" pos:end="259:99"><name pos:start="259:13" pos:end="259:18">av_log</name><argument_list pos:start="259:19" pos:end="259:99">(<argument pos:start="259:20" pos:end="259:23"><expr pos:start="259:20" pos:end="259:23"><name pos:start="259:20" pos:end="259:23">NULL</name></expr></argument>, <argument pos:start="259:26" pos:end="259:37"><expr pos:start="259:26" pos:end="259:37"><name pos:start="259:26" pos:end="259:37">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="259:40" pos:end="259:83"><expr pos:start="259:40" pos:end="259:83"><literal type="string" pos:start="259:40" pos:end="259:83">"%d frame duplication too large, skipping\n"</literal></expr></argument>, <argument pos:start="259:86" pos:end="259:98"><expr pos:start="259:86" pos:end="259:98"><name pos:start="259:86" pos:end="259:94">nb_frames</name> <operator pos:start="259:96" pos:end="259:96">-</operator> <literal type="number" pos:start="259:98" pos:end="259:98">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="261:13" pos:end="261:29"><expr pos:start="261:13" pos:end="261:28"><name pos:start="261:13" pos:end="261:26">nb_frames_drop</name><operator pos:start="261:27" pos:end="261:28">++</operator></expr>;</expr_stmt>

            <return pos:start="263:13" pos:end="263:19">return;</return>

        </block_content>}</block></if></if_stmt>

        <expr_stmt pos:start="267:9" pos:end="267:97"><expr pos:start="267:9" pos:end="267:96"><name pos:start="267:9" pos:end="267:21">nb_frames_dup</name> <operator pos:start="267:23" pos:end="267:24">+=</operator> <name pos:start="267:26" pos:end="267:34">nb_frames</name> <operator pos:start="267:36" pos:end="267:36">-</operator> <operator pos:start="267:38" pos:end="267:38">(</operator><name pos:start="267:39" pos:end="267:48">nb0_frames</name> <operator pos:start="267:50" pos:end="267:51">&amp;&amp;</operator> <name pos:start="267:53" pos:end="267:68"><name pos:start="267:53" pos:end="267:55">ost</name><operator pos:start="267:56" pos:end="267:57">-&gt;</operator><name pos:start="267:58" pos:end="267:68">last_droped</name></name><operator pos:start="267:69" pos:end="267:69">)</operator> <operator pos:start="267:71" pos:end="267:71">-</operator> <operator pos:start="267:73" pos:end="267:73">(</operator><name pos:start="267:74" pos:end="267:82">nb_frames</name> <operator pos:start="267:84" pos:end="267:84">&gt;</operator> <name pos:start="267:86" pos:end="267:95">nb0_frames</name><operator pos:start="267:96" pos:end="267:96">)</operator></expr>;</expr_stmt>

        <expr_stmt pos:start="269:9" pos:end="269:69"><expr pos:start="269:9" pos:end="269:68"><call pos:start="269:9" pos:end="269:68"><name pos:start="269:9" pos:end="269:14">av_log</name><argument_list pos:start="269:15" pos:end="269:68">(<argument pos:start="269:16" pos:end="269:19"><expr pos:start="269:16" pos:end="269:19"><name pos:start="269:16" pos:end="269:19">NULL</name></expr></argument>, <argument pos:start="269:22" pos:end="269:35"><expr pos:start="269:22" pos:end="269:35"><name pos:start="269:22" pos:end="269:35">AV_LOG_VERBOSE</name></expr></argument>, <argument pos:start="269:38" pos:end="269:52"><expr pos:start="269:38" pos:end="269:52"><literal type="string" pos:start="269:38" pos:end="269:52">"*** %d dup!\n"</literal></expr></argument>, <argument pos:start="269:55" pos:end="269:67"><expr pos:start="269:55" pos:end="269:67"><name pos:start="269:55" pos:end="269:63">nb_frames</name> <operator pos:start="269:65" pos:end="269:65">-</operator> <literal type="number" pos:start="269:67" pos:end="269:67">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    <expr_stmt pos:start="273:5" pos:end="273:63"><expr pos:start="273:5" pos:end="273:62"><name pos:start="273:5" pos:end="273:20"><name pos:start="273:5" pos:end="273:7">ost</name><operator pos:start="273:8" pos:end="273:9">-&gt;</operator><name pos:start="273:10" pos:end="273:20">last_droped</name></name> <operator pos:start="273:22" pos:end="273:22">=</operator> <name pos:start="273:24" pos:end="273:32">nb_frames</name> <operator pos:start="273:34" pos:end="273:35">==</operator> <name pos:start="273:37" pos:end="273:46">nb0_frames</name> <operator pos:start="273:48" pos:end="273:49">&amp;&amp;</operator> <name pos:start="273:51" pos:end="273:62">next_picture</name></expr>;</expr_stmt>



  <comment type="block" pos:start="277:3" pos:end="277:34">/* duplicates frame if needed */</comment>

  <for pos:start="279:3" pos:end="583:3">for <control pos:start="279:7" pos:end="279:33">(<init pos:start="279:8" pos:end="279:13"><expr pos:start="279:8" pos:end="279:12"><name pos:start="279:8" pos:end="279:8">i</name> <operator pos:start="279:10" pos:end="279:10">=</operator> <literal type="number" pos:start="279:12" pos:end="279:12">0</literal></expr>;</init> <condition pos:start="279:15" pos:end="279:28"><expr pos:start="279:15" pos:end="279:27"><name pos:start="279:15" pos:end="279:15">i</name> <operator pos:start="279:17" pos:end="279:17">&lt;</operator> <name pos:start="279:19" pos:end="279:27">nb_frames</name></expr>;</condition> <incr pos:start="279:30" pos:end="279:32"><expr pos:start="279:30" pos:end="279:32"><name pos:start="279:30" pos:end="279:30">i</name><operator pos:start="279:31" pos:end="279:32">++</operator></expr></incr>)</control> <block pos:start="279:35" pos:end="583:3">{<block_content pos:start="281:5" pos:end="581:40">

    <decl_stmt pos:start="281:5" pos:end="281:24"><decl pos:start="281:5" pos:end="281:23"><type pos:start="281:5" pos:end="281:13"><name pos:start="281:5" pos:end="281:11">AVFrame</name> <modifier pos:start="281:13" pos:end="281:13">*</modifier></type><name pos:start="281:14" pos:end="281:23">in_picture</name></decl>;</decl_stmt>

    <expr_stmt pos:start="283:5" pos:end="283:25"><expr pos:start="283:5" pos:end="283:24"><call pos:start="283:5" pos:end="283:24"><name pos:start="283:5" pos:end="283:18">av_init_packet</name><argument_list pos:start="283:19" pos:end="283:24">(<argument pos:start="283:20" pos:end="283:23"><expr pos:start="283:20" pos:end="283:23"><operator pos:start="283:20" pos:end="283:20">&amp;</operator><name pos:start="283:21" pos:end="283:23">pkt</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="285:5" pos:end="285:20"><expr pos:start="285:5" pos:end="285:19"><name pos:start="285:5" pos:end="285:12"><name pos:start="285:5" pos:end="285:7">pkt</name><operator pos:start="285:8" pos:end="285:8">.</operator><name pos:start="285:9" pos:end="285:12">data</name></name> <operator pos:start="285:14" pos:end="285:14">=</operator> <name pos:start="285:16" pos:end="285:19">NULL</name></expr>;</expr_stmt>

    <expr_stmt pos:start="287:5" pos:end="287:17"><expr pos:start="287:5" pos:end="287:16"><name pos:start="287:5" pos:end="287:12"><name pos:start="287:5" pos:end="287:7">pkt</name><operator pos:start="287:8" pos:end="287:8">.</operator><name pos:start="287:9" pos:end="287:12">size</name></name> <operator pos:start="287:14" pos:end="287:14">=</operator> <literal type="number" pos:start="287:16" pos:end="287:16">0</literal></expr>;</expr_stmt>



    <if_stmt pos:start="291:5" pos:end="297:34"><if pos:start="291:5" pos:end="295:5">if <condition pos:start="291:8" pos:end="291:42">(<expr pos:start="291:9" pos:end="291:41"><name pos:start="291:9" pos:end="291:9">i</name> <operator pos:start="291:11" pos:end="291:11">&lt;</operator> <name pos:start="291:13" pos:end="291:22">nb0_frames</name> <operator pos:start="291:24" pos:end="291:25">&amp;&amp;</operator> <name pos:start="291:27" pos:end="291:41"><name pos:start="291:27" pos:end="291:29">ost</name><operator pos:start="291:30" pos:end="291:31">-&gt;</operator><name pos:start="291:32" pos:end="291:41">last_frame</name></name></expr>)</condition> <block pos:start="291:44" pos:end="295:5">{<block_content pos:start="293:9" pos:end="293:37">

        <expr_stmt pos:start="293:9" pos:end="293:37"><expr pos:start="293:9" pos:end="293:36"><name pos:start="293:9" pos:end="293:18">in_picture</name> <operator pos:start="293:20" pos:end="293:20">=</operator> <name pos:start="293:22" pos:end="293:36"><name pos:start="293:22" pos:end="293:24">ost</name><operator pos:start="293:25" pos:end="293:26">-&gt;</operator><name pos:start="293:27" pos:end="293:36">last_frame</name></name></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="295:7" pos:end="297:34">else<block type="pseudo" pos:start="297:9" pos:end="297:34"><block_content pos:start="297:9" pos:end="297:34">

        <expr_stmt pos:start="297:9" pos:end="297:34"><expr pos:start="297:9" pos:end="297:33"><name pos:start="297:9" pos:end="297:18">in_picture</name> <operator pos:start="297:20" pos:end="297:20">=</operator> <name pos:start="297:22" pos:end="297:33">next_picture</name></expr>;</expr_stmt></block_content></block></else></if_stmt>



    <if_stmt pos:start="301:5" pos:end="303:15"><if pos:start="301:5" pos:end="303:15">if <condition pos:start="301:8" pos:end="301:20">(<expr pos:start="301:9" pos:end="301:19"><operator pos:start="301:9" pos:end="301:9">!</operator><name pos:start="301:10" pos:end="301:19">in_picture</name></expr>)</condition><block type="pseudo" pos:start="303:9" pos:end="303:15"><block_content pos:start="303:9" pos:end="303:15">

        <return pos:start="303:9" pos:end="303:15">return;</return></block_content></block></if></if_stmt>



    <expr_stmt pos:start="307:5" pos:end="312:0"><expr pos:start="307:5" pos:end="307:36"><name pos:start="307:5" pos:end="307:19"><name pos:start="307:5" pos:end="307:14">in_picture</name><operator pos:start="307:15" pos:end="307:16">-&gt;</operator><name pos:start="307:17" pos:end="307:19">pts</name></name> <operator pos:start="307:21" pos:end="307:21">=</operator> <name pos:start="307:23" pos:end="307:36"><name pos:start="307:23" pos:end="307:25">ost</name><operator pos:start="307:26" pos:end="307:27">-&gt;</operator><name pos:start="307:28" pos:end="307:36">sync_opts</name></name></expr>;</expr_stmt>



<cpp:if pos:start="311:1" pos:end="311:5">#<cpp:directive pos:start="311:2" pos:end="311:3">if</cpp:directive> <expr pos:start="311:5" pos:end="311:5"><literal type="number" pos:start="311:5" pos:end="311:5">1</literal></expr></cpp:if>

    <if_stmt pos:start="313:5" pos:end="321:15"><if pos:start="313:5" pos:end="321:15">if <condition pos:start="313:8" pos:end="316:0">(<expr pos:start="313:9" pos:end="313:34"><operator pos:start="313:9" pos:end="313:9">!</operator><call pos:start="313:10" pos:end="313:34"><name pos:start="313:10" pos:end="313:29">check_recording_time</name><argument_list pos:start="313:30" pos:end="313:34">(<argument pos:start="313:31" pos:end="313:33"><expr pos:start="313:31" pos:end="313:33"><name pos:start="313:31" pos:end="313:33">ost</name></expr></argument>)</argument_list></call></expr>)</condition><block type="pseudo" pos:start="317:5" pos:end="321:15"><block_content pos:start="317:5" pos:end="321:15">

<cpp:else pos:start="315:1" pos:end="315:5">#<cpp:directive pos:start="315:2" pos:end="315:5">else</cpp:directive></cpp:else>

    <if_stmt pos:start="317:5" pos:end="321:15"><if pos:start="317:5" pos:end="321:15">if <condition pos:start="317:8" pos:end="320:0">(<expr pos:start="317:9" pos:end="317:44"><name pos:start="317:9" pos:end="317:25"><name pos:start="317:9" pos:end="317:11">ost</name><operator pos:start="317:12" pos:end="317:13">-&gt;</operator><name pos:start="317:14" pos:end="317:25">frame_number</name></name> <operator pos:start="317:27" pos:end="317:28">&gt;=</operator> <name pos:start="317:30" pos:end="317:44"><name pos:start="317:30" pos:end="317:32">ost</name><operator pos:start="317:33" pos:end="317:34">-&gt;</operator><name pos:start="317:35" pos:end="317:44">max_frames</name></name></expr>)</condition><block type="pseudo" pos:start="321:9" pos:end="321:15"><block_content pos:start="321:9" pos:end="321:15">

<cpp:endif pos:start="319:1" pos:end="319:6">#<cpp:directive pos:start="319:2" pos:end="319:6">endif</cpp:directive></cpp:endif>

        <return pos:start="321:9" pos:end="321:15">return;</return></block_content></block></if></if_stmt></block_content></block></if></if_stmt>



    <if_stmt pos:start="325:5" pos:end="561:5"><if pos:start="325:5" pos:end="355:5">if <condition pos:start="325:8" pos:end="327:47">(<expr pos:start="325:9" pos:end="327:46"><name pos:start="325:9" pos:end="325:25"><name pos:start="325:9" pos:end="325:9">s</name><operator pos:start="325:10" pos:end="325:11">-&gt;</operator><name pos:start="325:12" pos:end="325:18">oformat</name><operator pos:start="325:19" pos:end="325:20">-&gt;</operator><name pos:start="325:21" pos:end="325:25">flags</name></name> <operator pos:start="325:27" pos:end="325:27">&amp;</operator> <name pos:start="325:29" pos:end="325:44">AVFMT_RAWPICTURE</name> <operator pos:start="325:46" pos:end="325:47">&amp;&amp;</operator>

        <name pos:start="327:9" pos:end="327:22"><name pos:start="327:9" pos:end="327:11">enc</name><operator pos:start="327:12" pos:end="327:13">-&gt;</operator><name pos:start="327:14" pos:end="327:18">codec</name><operator pos:start="327:19" pos:end="327:20">-&gt;</operator><name pos:start="327:21" pos:end="327:22">id</name></name> <operator pos:start="327:24" pos:end="327:25">==</operator> <name pos:start="327:27" pos:end="327:46">AV_CODEC_ID_RAWVIDEO</name></expr>)</condition> <block pos:start="327:49" pos:end="355:5">{<block_content pos:start="335:9" pos:end="353:34">

        <comment type="block" pos:start="329:9" pos:end="333:21">/* raw pictures are written as AVPicture structure to

           avoid any copies. We support temporarily the older

           method. */</comment>

        <if_stmt pos:start="335:9" pos:end="341:56"><if pos:start="335:9" pos:end="337:89">if <condition pos:start="335:12" pos:end="335:41">(<expr pos:start="335:13" pos:end="335:40"><name pos:start="335:13" pos:end="335:40"><name pos:start="335:13" pos:end="335:22">in_picture</name><operator pos:start="335:23" pos:end="335:24">-&gt;</operator><name pos:start="335:25" pos:end="335:40">interlaced_frame</name></name></expr>)</condition><block type="pseudo" pos:start="337:13" pos:end="337:89"><block_content pos:start="337:13" pos:end="337:89">

            <expr_stmt pos:start="337:13" pos:end="337:89"><expr pos:start="337:13" pos:end="337:88"><name pos:start="337:13" pos:end="337:32"><name pos:start="337:13" pos:end="337:19">mux_enc</name><operator pos:start="337:20" pos:end="337:21">-&gt;</operator><name pos:start="337:22" pos:end="337:32">field_order</name></name> <operator pos:start="337:34" pos:end="337:34">=</operator> <ternary pos:start="337:36" pos:end="337:88"><condition pos:start="337:36" pos:end="337:64"><expr pos:start="337:36" pos:end="337:62"><name pos:start="337:36" pos:end="337:62"><name pos:start="337:36" pos:end="337:45">in_picture</name><operator pos:start="337:46" pos:end="337:47">-&gt;</operator><name pos:start="337:48" pos:end="337:62">top_field_first</name></name></expr> ?</condition><then pos:start="337:66" pos:end="337:76"> <expr pos:start="337:66" pos:end="337:76"><name pos:start="337:66" pos:end="337:76">AV_FIELD_TB</name></expr></then><else pos:start="337:77" pos:end="337:88">:<expr pos:start="337:78" pos:end="337:88"><name pos:start="337:78" pos:end="337:88">AV_FIELD_BT</name></expr></else></ternary></expr>;</expr_stmt></block_content></block></if>

        <else pos:start="339:9" pos:end="341:56">else<block type="pseudo" pos:start="341:13" pos:end="341:56"><block_content pos:start="341:13" pos:end="341:56">

            <expr_stmt pos:start="341:13" pos:end="341:56"><expr pos:start="341:13" pos:end="341:55"><name pos:start="341:13" pos:end="341:32"><name pos:start="341:13" pos:end="341:19">mux_enc</name><operator pos:start="341:20" pos:end="341:21">-&gt;</operator><name pos:start="341:22" pos:end="341:32">field_order</name></name> <operator pos:start="341:34" pos:end="341:34">=</operator> <name pos:start="341:36" pos:end="341:55">AV_FIELD_PROGRESSIVE</name></expr>;</expr_stmt></block_content></block></else></if_stmt>

        <expr_stmt pos:start="343:9" pos:end="343:43"><expr pos:start="343:9" pos:end="343:42"><name pos:start="343:9" pos:end="343:16"><name pos:start="343:9" pos:end="343:11">pkt</name><operator pos:start="343:12" pos:end="343:12">.</operator><name pos:start="343:13" pos:end="343:16">data</name></name>   <operator pos:start="343:20" pos:end="343:20">=</operator> <operator pos:start="343:22" pos:end="343:22">(</operator><name pos:start="343:23" pos:end="343:29">uint8_t</name> <operator pos:start="343:31" pos:end="343:31">*</operator><operator pos:start="343:32" pos:end="343:32">)</operator><name pos:start="343:33" pos:end="343:42">in_picture</name></expr>;</expr_stmt>

        <expr_stmt pos:start="345:9" pos:end="345:40"><expr pos:start="345:9" pos:end="345:39"><name pos:start="345:9" pos:end="345:16"><name pos:start="345:9" pos:end="345:11">pkt</name><operator pos:start="345:12" pos:end="345:12">.</operator><name pos:start="345:13" pos:end="345:16">size</name></name>   <operator pos:start="345:20" pos:end="345:20">=</operator>  <sizeof pos:start="345:23" pos:end="345:39">sizeof<argument_list pos:start="345:29" pos:end="345:39">(<argument pos:start="345:30" pos:end="345:38"><expr pos:start="345:30" pos:end="345:38"><name pos:start="345:30" pos:end="345:38">AVPicture</name></expr></argument>)</argument_list></sizeof></expr>;</expr_stmt>

        <expr_stmt pos:start="347:9" pos:end="347:87"><expr pos:start="347:9" pos:end="347:86"><name pos:start="347:9" pos:end="347:15"><name pos:start="347:9" pos:end="347:11">pkt</name><operator pos:start="347:12" pos:end="347:12">.</operator><name pos:start="347:13" pos:end="347:15">pts</name></name>    <operator pos:start="347:20" pos:end="347:20">=</operator> <call pos:start="347:22" pos:end="347:86"><name pos:start="347:22" pos:end="347:33">av_rescale_q</name><argument_list pos:start="347:34" pos:end="347:86">(<argument pos:start="347:35" pos:end="347:49"><expr pos:start="347:35" pos:end="347:49"><name pos:start="347:35" pos:end="347:49"><name pos:start="347:35" pos:end="347:44">in_picture</name><operator pos:start="347:45" pos:end="347:46">-&gt;</operator><name pos:start="347:47" pos:end="347:49">pts</name></name></expr></argument>, <argument pos:start="347:52" pos:end="347:65"><expr pos:start="347:52" pos:end="347:65"><name pos:start="347:52" pos:end="347:65"><name pos:start="347:52" pos:end="347:54">enc</name><operator pos:start="347:55" pos:end="347:56">-&gt;</operator><name pos:start="347:57" pos:end="347:65">time_base</name></name></expr></argument>, <argument pos:start="347:68" pos:end="347:85"><expr pos:start="347:68" pos:end="347:85"><name pos:start="347:68" pos:end="347:85"><name pos:start="347:68" pos:end="347:70">ost</name><operator pos:start="347:71" pos:end="347:72">-&gt;</operator><name pos:start="347:73" pos:end="347:74">st</name><operator pos:start="347:75" pos:end="347:76">-&gt;</operator><name pos:start="347:77" pos:end="347:85">time_base</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="349:9" pos:end="349:37"><expr pos:start="349:9" pos:end="349:36"><name pos:start="349:9" pos:end="349:17"><name pos:start="349:9" pos:end="349:11">pkt</name><operator pos:start="349:12" pos:end="349:12">.</operator><name pos:start="349:13" pos:end="349:17">flags</name></name> <operator pos:start="349:19" pos:end="349:20">|=</operator> <name pos:start="349:22" pos:end="349:36">AV_PKT_FLAG_KEY</name></expr>;</expr_stmt>



        <expr_stmt pos:start="353:9" pos:end="353:34"><expr pos:start="353:9" pos:end="353:33"><call pos:start="353:9" pos:end="353:33"><name pos:start="353:9" pos:end="353:19">write_frame</name><argument_list pos:start="353:20" pos:end="353:33">(<argument pos:start="353:21" pos:end="353:21"><expr pos:start="353:21" pos:end="353:21"><name pos:start="353:21" pos:end="353:21">s</name></expr></argument>, <argument pos:start="353:24" pos:end="353:27"><expr pos:start="353:24" pos:end="353:27"><operator pos:start="353:24" pos:end="353:24">&amp;</operator><name pos:start="353:25" pos:end="353:27">pkt</name></expr></argument>, <argument pos:start="353:30" pos:end="353:32"><expr pos:start="353:30" pos:end="353:32"><name pos:start="353:30" pos:end="353:32">ost</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="355:7" pos:end="561:5">else <block pos:start="355:12" pos:end="561:5">{<block_content pos:start="357:9" pos:end="559:9">

        <decl_stmt pos:start="357:9" pos:end="357:44"><decl pos:start="357:9" pos:end="357:22"><type pos:start="357:9" pos:end="357:11"><name pos:start="357:9" pos:end="357:11">int</name></type> <name pos:start="357:13" pos:end="357:22">got_packet</name></decl>, <decl pos:start="357:25" pos:end="357:43"><type ref="prev" pos:start="357:9" pos:end="357:11"/><name pos:start="357:25" pos:end="357:39">forced_keyframe</name> <init pos:start="357:41" pos:end="357:43">= <expr pos:start="357:43" pos:end="357:43"><literal type="number" pos:start="357:43" pos:end="357:43">0</literal></expr></init></decl>;</decl_stmt>

        <decl_stmt pos:start="359:9" pos:end="359:24"><decl pos:start="359:9" pos:end="359:23"><type pos:start="359:9" pos:end="359:14"><name pos:start="359:9" pos:end="359:14">double</name></type> <name pos:start="359:16" pos:end="359:23">pts_time</name></decl>;</decl_stmt>



        <if_stmt pos:start="363:9" pos:end="367:65"><if pos:start="363:9" pos:end="367:65">if <condition pos:start="363:12" pos:end="365:38">(<expr pos:start="363:13" pos:end="365:37"><name pos:start="363:13" pos:end="363:22"><name pos:start="363:13" pos:end="363:15">enc</name><operator pos:start="363:16" pos:end="363:17">-&gt;</operator><name pos:start="363:18" pos:end="363:22">flags</name></name> <operator pos:start="363:24" pos:end="363:24">&amp;</operator> <operator pos:start="363:26" pos:end="363:26">(</operator><name pos:start="363:27" pos:end="363:54">AV_CODEC_FLAG_INTERLACED_DCT</name> <operator pos:start="363:56" pos:end="363:56">|</operator> <name pos:start="363:58" pos:end="363:84">AV_CODEC_FLAG_INTERLACED_ME</name><operator pos:start="363:85" pos:end="363:85">)</operator> <operator pos:start="363:87" pos:end="363:88">&amp;&amp;</operator>

            <name pos:start="365:13" pos:end="365:32"><name pos:start="365:13" pos:end="365:15">ost</name><operator pos:start="365:16" pos:end="365:17">-&gt;</operator><name pos:start="365:18" pos:end="365:32">top_field_first</name></name> <operator pos:start="365:34" pos:end="365:35">&gt;=</operator> <literal type="number" pos:start="365:37" pos:end="365:37">0</literal></expr>)</condition><block type="pseudo" pos:start="367:13" pos:end="367:65"><block_content pos:start="367:13" pos:end="367:65">

            <expr_stmt pos:start="367:13" pos:end="367:65"><expr pos:start="367:13" pos:end="367:64"><name pos:start="367:13" pos:end="367:39"><name pos:start="367:13" pos:end="367:22">in_picture</name><operator pos:start="367:23" pos:end="367:24">-&gt;</operator><name pos:start="367:25" pos:end="367:39">top_field_first</name></name> <operator pos:start="367:41" pos:end="367:41">=</operator> <operator pos:start="367:43" pos:end="367:43">!</operator><operator pos:start="367:44" pos:end="367:44">!</operator><name pos:start="367:45" pos:end="367:64"><name pos:start="367:45" pos:end="367:47">ost</name><operator pos:start="367:48" pos:end="367:49">-&gt;</operator><name pos:start="367:50" pos:end="367:64">top_field_first</name></name></expr>;</expr_stmt></block_content></block></if></if_stmt>



        <if_stmt pos:start="371:9" pos:end="383:56"><if pos:start="371:9" pos:end="381:9">if <condition pos:start="371:12" pos:end="371:41">(<expr pos:start="371:13" pos:end="371:40"><name pos:start="371:13" pos:end="371:40"><name pos:start="371:13" pos:end="371:22">in_picture</name><operator pos:start="371:23" pos:end="371:24">-&gt;</operator><name pos:start="371:25" pos:end="371:40">interlaced_frame</name></name></expr>)</condition> <block pos:start="371:43" pos:end="381:9">{<block_content pos:start="373:13" pos:end="379:93">

            <if_stmt pos:start="373:13" pos:end="379:93"><if pos:start="373:13" pos:end="375:93">if <condition pos:start="373:16" pos:end="373:52">(<expr pos:start="373:17" pos:end="373:51"><name pos:start="373:17" pos:end="373:30"><name pos:start="373:17" pos:end="373:19">enc</name><operator pos:start="373:20" pos:end="373:21">-&gt;</operator><name pos:start="373:22" pos:end="373:26">codec</name><operator pos:start="373:27" pos:end="373:28">-&gt;</operator><name pos:start="373:29" pos:end="373:30">id</name></name> <operator pos:start="373:32" pos:end="373:33">==</operator> <name pos:start="373:35" pos:end="373:51">AV_CODEC_ID_MJPEG</name></expr>)</condition><block type="pseudo" pos:start="375:17" pos:end="375:93"><block_content pos:start="375:17" pos:end="375:93">

                <expr_stmt pos:start="375:17" pos:end="375:93"><expr pos:start="375:17" pos:end="375:92"><name pos:start="375:17" pos:end="375:36"><name pos:start="375:17" pos:end="375:23">mux_enc</name><operator pos:start="375:24" pos:end="375:25">-&gt;</operator><name pos:start="375:26" pos:end="375:36">field_order</name></name> <operator pos:start="375:38" pos:end="375:38">=</operator> <ternary pos:start="375:40" pos:end="375:92"><condition pos:start="375:40" pos:end="375:68"><expr pos:start="375:40" pos:end="375:66"><name pos:start="375:40" pos:end="375:66"><name pos:start="375:40" pos:end="375:49">in_picture</name><operator pos:start="375:50" pos:end="375:51">-&gt;</operator><name pos:start="375:52" pos:end="375:66">top_field_first</name></name></expr> ?</condition><then pos:start="375:70" pos:end="375:80"> <expr pos:start="375:70" pos:end="375:80"><name pos:start="375:70" pos:end="375:80">AV_FIELD_TT</name></expr></then><else pos:start="375:81" pos:end="375:92">:<expr pos:start="375:82" pos:end="375:92"><name pos:start="375:82" pos:end="375:92">AV_FIELD_BB</name></expr></else></ternary></expr>;</expr_stmt></block_content></block></if>

            <else pos:start="377:13" pos:end="379:93">else<block type="pseudo" pos:start="379:17" pos:end="379:93"><block_content pos:start="379:17" pos:end="379:93">

                <expr_stmt pos:start="379:17" pos:end="379:93"><expr pos:start="379:17" pos:end="379:92"><name pos:start="379:17" pos:end="379:36"><name pos:start="379:17" pos:end="379:23">mux_enc</name><operator pos:start="379:24" pos:end="379:25">-&gt;</operator><name pos:start="379:26" pos:end="379:36">field_order</name></name> <operator pos:start="379:38" pos:end="379:38">=</operator> <ternary pos:start="379:40" pos:end="379:92"><condition pos:start="379:40" pos:end="379:68"><expr pos:start="379:40" pos:end="379:66"><name pos:start="379:40" pos:end="379:66"><name pos:start="379:40" pos:end="379:49">in_picture</name><operator pos:start="379:50" pos:end="379:51">-&gt;</operator><name pos:start="379:52" pos:end="379:66">top_field_first</name></name></expr> ?</condition><then pos:start="379:70" pos:end="379:80"> <expr pos:start="379:70" pos:end="379:80"><name pos:start="379:70" pos:end="379:80">AV_FIELD_TB</name></expr></then><else pos:start="379:81" pos:end="379:92">:<expr pos:start="379:82" pos:end="379:92"><name pos:start="379:82" pos:end="379:92">AV_FIELD_BT</name></expr></else></ternary></expr>;</expr_stmt></block_content></block></else></if_stmt>

        </block_content>}</block></if> <else pos:start="381:11" pos:end="383:56">else<block type="pseudo" pos:start="383:13" pos:end="383:56"><block_content pos:start="383:13" pos:end="383:56">

            <expr_stmt pos:start="383:13" pos:end="383:56"><expr pos:start="383:13" pos:end="383:55"><name pos:start="383:13" pos:end="383:32"><name pos:start="383:13" pos:end="383:19">mux_enc</name><operator pos:start="383:20" pos:end="383:21">-&gt;</operator><name pos:start="383:22" pos:end="383:32">field_order</name></name> <operator pos:start="383:34" pos:end="383:34">=</operator> <name pos:start="383:36" pos:end="383:55">AV_FIELD_PROGRESSIVE</name></expr>;</expr_stmt></block_content></block></else></if_stmt>



        <expr_stmt pos:start="387:9" pos:end="387:50"><expr pos:start="387:9" pos:end="387:49"><name pos:start="387:9" pos:end="387:27"><name pos:start="387:9" pos:end="387:18">in_picture</name><operator pos:start="387:19" pos:end="387:20">-&gt;</operator><name pos:start="387:21" pos:end="387:27">quality</name></name> <operator pos:start="387:29" pos:end="387:29">=</operator> <name pos:start="387:31" pos:end="387:49"><name pos:start="387:31" pos:end="387:33">enc</name><operator pos:start="387:34" pos:end="387:35">-&gt;</operator><name pos:start="387:36" pos:end="387:49">global_quality</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="389:9" pos:end="389:34"><expr pos:start="389:9" pos:end="389:33"><name pos:start="389:9" pos:end="389:29"><name pos:start="389:9" pos:end="389:18">in_picture</name><operator pos:start="389:19" pos:end="389:20">-&gt;</operator><name pos:start="389:21" pos:end="389:29">pict_type</name></name> <operator pos:start="389:31" pos:end="389:31">=</operator> <literal type="number" pos:start="389:33" pos:end="389:33">0</literal></expr>;</expr_stmt>



        <expr_stmt pos:start="393:9" pos:end="395:59"><expr pos:start="393:9" pos:end="395:58"><name pos:start="393:9" pos:end="393:16">pts_time</name> <operator pos:start="393:18" pos:end="393:18">=</operator> <ternary pos:start="393:20" pos:end="395:58"><condition pos:start="393:20" pos:end="393:54"><expr pos:start="393:20" pos:end="393:52"><name pos:start="393:20" pos:end="393:34"><name pos:start="393:20" pos:end="393:29">in_picture</name><operator pos:start="393:30" pos:end="393:31">-&gt;</operator><name pos:start="393:32" pos:end="393:34">pts</name></name> <operator pos:start="393:36" pos:end="393:37">!=</operator> <name pos:start="393:39" pos:end="393:52">AV_NOPTS_VALUE</name></expr> ?</condition><then pos:start="395:13" pos:end="395:52">

            <expr pos:start="395:13" pos:end="395:52"><name pos:start="395:13" pos:end="395:27"><name pos:start="395:13" pos:end="395:22">in_picture</name><operator pos:start="395:23" pos:end="395:24">-&gt;</operator><name pos:start="395:25" pos:end="395:27">pts</name></name> <operator pos:start="395:29" pos:end="395:29">*</operator> <call pos:start="395:31" pos:end="395:52"><name pos:start="395:31" pos:end="395:36">av_q2d</name><argument_list pos:start="395:37" pos:end="395:52">(<argument pos:start="395:38" pos:end="395:51"><expr pos:start="395:38" pos:end="395:51"><name pos:start="395:38" pos:end="395:51"><name pos:start="395:38" pos:end="395:40">enc</name><operator pos:start="395:41" pos:end="395:42">-&gt;</operator><name pos:start="395:43" pos:end="395:51">time_base</name></name></expr></argument>)</argument_list></call></expr> </then><else pos:start="395:54" pos:end="395:58">: <expr pos:start="395:56" pos:end="395:58"><name pos:start="395:56" pos:end="395:58">NAN</name></expr></else></ternary></expr>;</expr_stmt>

        <if_stmt pos:start="397:9" pos:end="457:9"><if pos:start="397:9" pos:end="405:9">if <condition pos:start="397:12" pos:end="399:72">(<expr pos:start="397:13" pos:end="399:71"><name pos:start="397:13" pos:end="397:32"><name pos:start="397:13" pos:end="397:15">ost</name><operator pos:start="397:16" pos:end="397:17">-&gt;</operator><name pos:start="397:18" pos:end="397:32">forced_kf_index</name></name> <operator pos:start="397:34" pos:end="397:34">&lt;</operator> <name pos:start="397:36" pos:end="397:55"><name pos:start="397:36" pos:end="397:38">ost</name><operator pos:start="397:39" pos:end="397:40">-&gt;</operator><name pos:start="397:41" pos:end="397:55">forced_kf_count</name></name> <operator pos:start="397:57" pos:end="397:58">&amp;&amp;</operator>

            <name pos:start="399:13" pos:end="399:27"><name pos:start="399:13" pos:end="399:22">in_picture</name><operator pos:start="399:23" pos:end="399:24">-&gt;</operator><name pos:start="399:25" pos:end="399:27">pts</name></name> <operator pos:start="399:29" pos:end="399:30">&gt;=</operator> <name pos:start="399:32" pos:end="399:71"><name pos:start="399:32" pos:end="399:34">ost</name><operator pos:start="399:35" pos:end="399:36">-&gt;</operator><name pos:start="399:37" pos:end="399:49">forced_kf_pts</name><index pos:start="399:50" pos:end="399:71">[<expr pos:start="399:51" pos:end="399:70"><name pos:start="399:51" pos:end="399:70"><name pos:start="399:51" pos:end="399:53">ost</name><operator pos:start="399:54" pos:end="399:55">-&gt;</operator><name pos:start="399:56" pos:end="399:70">forced_kf_index</name></name></expr>]</index></name></expr>)</condition> <block pos:start="399:74" pos:end="405:9">{<block_content pos:start="401:13" pos:end="403:32">

            <expr_stmt pos:start="401:13" pos:end="401:35"><expr pos:start="401:13" pos:end="401:34"><name pos:start="401:13" pos:end="401:32"><name pos:start="401:13" pos:end="401:15">ost</name><operator pos:start="401:16" pos:end="401:17">-&gt;</operator><name pos:start="401:18" pos:end="401:32">forced_kf_index</name></name><operator pos:start="401:33" pos:end="401:34">++</operator></expr>;</expr_stmt>

            <expr_stmt pos:start="403:13" pos:end="403:32"><expr pos:start="403:13" pos:end="403:31"><name pos:start="403:13" pos:end="403:27">forced_keyframe</name> <operator pos:start="403:29" pos:end="403:29">=</operator> <literal type="number" pos:start="403:31" pos:end="403:31">1</literal></expr>;</expr_stmt>

        </block_content>}</block></if> <if type="elseif" pos:start="405:11" pos:end="449:9">else if <condition pos:start="405:19" pos:end="405:47">(<expr pos:start="405:20" pos:end="405:46"><name pos:start="405:20" pos:end="405:46"><name pos:start="405:20" pos:end="405:22">ost</name><operator pos:start="405:23" pos:end="405:24">-&gt;</operator><name pos:start="405:25" pos:end="405:46">forced_keyframes_pexpr</name></name></expr>)</condition> <block pos:start="405:49" pos:end="449:9">{<block_content pos:start="407:13" pos:end="447:64">

            <decl_stmt pos:start="407:13" pos:end="407:23"><decl pos:start="407:13" pos:end="407:22"><type pos:start="407:13" pos:end="407:18"><name pos:start="407:13" pos:end="407:18">double</name></type> <name pos:start="407:20" pos:end="407:22">res</name></decl>;</decl_stmt>

            <expr_stmt pos:start="409:13" pos:end="409:70"><expr pos:start="409:13" pos:end="409:69"><name pos:start="409:13" pos:end="409:58"><name pos:start="409:13" pos:end="409:15">ost</name><operator pos:start="409:16" pos:end="409:17">-&gt;</operator><name pos:start="409:18" pos:end="409:51">forced_keyframes_expr_const_values</name><index pos:start="409:52" pos:end="409:58">[<expr pos:start="409:53" pos:end="409:57"><name pos:start="409:53" pos:end="409:57">FKF_T</name></expr>]</index></name> <operator pos:start="409:60" pos:end="409:60">=</operator> <name pos:start="409:62" pos:end="409:69">pts_time</name></expr>;</expr_stmt>

            <expr_stmt pos:start="411:13" pos:end="413:78"><expr pos:start="411:13" pos:end="413:77"><name pos:start="411:13" pos:end="411:15">res</name> <operator pos:start="411:17" pos:end="411:17">=</operator> <call pos:start="411:19" pos:end="413:77"><name pos:start="411:19" pos:end="411:30">av_expr_eval</name><argument_list pos:start="411:31" pos:end="413:77">(<argument pos:start="411:32" pos:end="411:58"><expr pos:start="411:32" pos:end="411:58"><name pos:start="411:32" pos:end="411:58"><name pos:start="411:32" pos:end="411:34">ost</name><operator pos:start="411:35" pos:end="411:36">-&gt;</operator><name pos:start="411:37" pos:end="411:58">forced_keyframes_pexpr</name></name></expr></argument>,

                               <argument pos:start="413:32" pos:end="413:70"><expr pos:start="413:32" pos:end="413:70"><name pos:start="413:32" pos:end="413:70"><name pos:start="413:32" pos:end="413:34">ost</name><operator pos:start="413:35" pos:end="413:36">-&gt;</operator><name pos:start="413:37" pos:end="413:70">forced_keyframes_expr_const_values</name></name></expr></argument>, <argument pos:start="413:73" pos:end="413:76"><expr pos:start="413:73" pos:end="413:76"><name pos:start="413:73" pos:end="413:76">NULL</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="415:13" pos:end="427:25"><expr pos:start="415:13" pos:end="427:24"><call pos:start="415:13" pos:end="427:24"><name pos:start="415:13" pos:end="415:19">ff_dlog</name><argument_list pos:start="415:20" pos:end="427:24">(<argument pos:start="415:21" pos:end="415:24"><expr pos:start="415:21" pos:end="415:24"><name pos:start="415:21" pos:end="415:24">NULL</name></expr></argument>, <argument pos:start="415:27" pos:end="415:112"><expr pos:start="415:27" pos:end="415:112"><literal type="string" pos:start="415:27" pos:end="415:112">"force_key_frame: n:%f n_forced:%f prev_forced_n:%f t:%f prev_forced_t:%f -&gt; res:%f\n"</literal></expr></argument>,

                    <argument pos:start="417:21" pos:end="417:66"><expr pos:start="417:21" pos:end="417:66"><name pos:start="417:21" pos:end="417:66"><name pos:start="417:21" pos:end="417:23">ost</name><operator pos:start="417:24" pos:end="417:25">-&gt;</operator><name pos:start="417:26" pos:end="417:59">forced_keyframes_expr_const_values</name><index pos:start="417:60" pos:end="417:66">[<expr pos:start="417:61" pos:end="417:65"><name pos:start="417:61" pos:end="417:65">FKF_N</name></expr>]</index></name></expr></argument>,

                    <argument pos:start="419:21" pos:end="419:73"><expr pos:start="419:21" pos:end="419:73"><name pos:start="419:21" pos:end="419:73"><name pos:start="419:21" pos:end="419:23">ost</name><operator pos:start="419:24" pos:end="419:25">-&gt;</operator><name pos:start="419:26" pos:end="419:59">forced_keyframes_expr_const_values</name><index pos:start="419:60" pos:end="419:73">[<expr pos:start="419:61" pos:end="419:72"><name pos:start="419:61" pos:end="419:72">FKF_N_FORCED</name></expr>]</index></name></expr></argument>,

                    <argument pos:start="421:21" pos:end="421:78"><expr pos:start="421:21" pos:end="421:78"><name pos:start="421:21" pos:end="421:78"><name pos:start="421:21" pos:end="421:23">ost</name><operator pos:start="421:24" pos:end="421:25">-&gt;</operator><name pos:start="421:26" pos:end="421:59">forced_keyframes_expr_const_values</name><index pos:start="421:60" pos:end="421:78">[<expr pos:start="421:61" pos:end="421:77"><name pos:start="421:61" pos:end="421:77">FKF_PREV_FORCED_N</name></expr>]</index></name></expr></argument>,

                    <argument pos:start="423:21" pos:end="423:66"><expr pos:start="423:21" pos:end="423:66"><name pos:start="423:21" pos:end="423:66"><name pos:start="423:21" pos:end="423:23">ost</name><operator pos:start="423:24" pos:end="423:25">-&gt;</operator><name pos:start="423:26" pos:end="423:59">forced_keyframes_expr_const_values</name><index pos:start="423:60" pos:end="423:66">[<expr pos:start="423:61" pos:end="423:65"><name pos:start="423:61" pos:end="423:65">FKF_T</name></expr>]</index></name></expr></argument>,

                    <argument pos:start="425:21" pos:end="425:78"><expr pos:start="425:21" pos:end="425:78"><name pos:start="425:21" pos:end="425:78"><name pos:start="425:21" pos:end="425:23">ost</name><operator pos:start="425:24" pos:end="425:25">-&gt;</operator><name pos:start="425:26" pos:end="425:59">forced_keyframes_expr_const_values</name><index pos:start="425:60" pos:end="425:78">[<expr pos:start="425:61" pos:end="425:77"><name pos:start="425:61" pos:end="425:77">FKF_PREV_FORCED_T</name></expr>]</index></name></expr></argument>,

                    <argument pos:start="427:21" pos:end="427:23"><expr pos:start="427:21" pos:end="427:23"><name pos:start="427:21" pos:end="427:23">res</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <if_stmt pos:start="429:13" pos:end="443:13"><if pos:start="429:13" pos:end="443:13">if <condition pos:start="429:16" pos:end="429:20">(<expr pos:start="429:17" pos:end="429:19"><name pos:start="429:17" pos:end="429:19">res</name></expr>)</condition> <block pos:start="429:22" pos:end="443:13">{<block_content pos:start="431:17" pos:end="441:75">

                <expr_stmt pos:start="431:17" pos:end="431:36"><expr pos:start="431:17" pos:end="431:35"><name pos:start="431:17" pos:end="431:31">forced_keyframe</name> <operator pos:start="431:33" pos:end="431:33">=</operator> <literal type="number" pos:start="431:35" pos:end="431:35">1</literal></expr>;</expr_stmt>

                <expr_stmt pos:start="433:17" pos:end="435:67"><expr pos:start="433:17" pos:end="435:66"><name pos:start="433:17" pos:end="433:74"><name pos:start="433:17" pos:end="433:19">ost</name><operator pos:start="433:20" pos:end="433:21">-&gt;</operator><name pos:start="433:22" pos:end="433:55">forced_keyframes_expr_const_values</name><index pos:start="433:56" pos:end="433:74">[<expr pos:start="433:57" pos:end="433:73"><name pos:start="433:57" pos:end="433:73">FKF_PREV_FORCED_N</name></expr>]</index></name> <operator pos:start="433:76" pos:end="433:76">=</operator>

                    <name pos:start="435:21" pos:end="435:66"><name pos:start="435:21" pos:end="435:23">ost</name><operator pos:start="435:24" pos:end="435:25">-&gt;</operator><name pos:start="435:26" pos:end="435:59">forced_keyframes_expr_const_values</name><index pos:start="435:60" pos:end="435:66">[<expr pos:start="435:61" pos:end="435:65"><name pos:start="435:61" pos:end="435:65">FKF_N</name></expr>]</index></name></expr>;</expr_stmt>

                <expr_stmt pos:start="437:17" pos:end="439:67"><expr pos:start="437:17" pos:end="439:66"><name pos:start="437:17" pos:end="437:74"><name pos:start="437:17" pos:end="437:19">ost</name><operator pos:start="437:20" pos:end="437:21">-&gt;</operator><name pos:start="437:22" pos:end="437:55">forced_keyframes_expr_const_values</name><index pos:start="437:56" pos:end="437:74">[<expr pos:start="437:57" pos:end="437:73"><name pos:start="437:57" pos:end="437:73">FKF_PREV_FORCED_T</name></expr>]</index></name> <operator pos:start="437:76" pos:end="437:76">=</operator>

                    <name pos:start="439:21" pos:end="439:66"><name pos:start="439:21" pos:end="439:23">ost</name><operator pos:start="439:24" pos:end="439:25">-&gt;</operator><name pos:start="439:26" pos:end="439:59">forced_keyframes_expr_const_values</name><index pos:start="439:60" pos:end="439:66">[<expr pos:start="439:61" pos:end="439:65"><name pos:start="439:61" pos:end="439:65">FKF_T</name></expr>]</index></name></expr>;</expr_stmt>

                <expr_stmt pos:start="441:17" pos:end="441:75"><expr pos:start="441:17" pos:end="441:74"><name pos:start="441:17" pos:end="441:69"><name pos:start="441:17" pos:end="441:19">ost</name><operator pos:start="441:20" pos:end="441:21">-&gt;</operator><name pos:start="441:22" pos:end="441:55">forced_keyframes_expr_const_values</name><index pos:start="441:56" pos:end="441:69">[<expr pos:start="441:57" pos:end="441:68"><name pos:start="441:57" pos:end="441:68">FKF_N_FORCED</name></expr>]</index></name> <operator pos:start="441:71" pos:end="441:72">+=</operator> <literal type="number" pos:start="441:74" pos:end="441:74">1</literal></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>



            <expr_stmt pos:start="447:13" pos:end="447:64"><expr pos:start="447:13" pos:end="447:63"><name pos:start="447:13" pos:end="447:58"><name pos:start="447:13" pos:end="447:15">ost</name><operator pos:start="447:16" pos:end="447:17">-&gt;</operator><name pos:start="447:18" pos:end="447:51">forced_keyframes_expr_const_values</name><index pos:start="447:52" pos:end="447:58">[<expr pos:start="447:53" pos:end="447:57"><name pos:start="447:53" pos:end="447:57">FKF_N</name></expr>]</index></name> <operator pos:start="447:60" pos:end="447:61">+=</operator> <literal type="number" pos:start="447:63" pos:end="447:63">1</literal></expr>;</expr_stmt>

        </block_content>}</block></if> <if type="elseif" pos:start="449:11" pos:end="457:9">else if <condition pos:start="449:19" pos:end="453:47">(   <expr pos:start="449:23" pos:end="453:46"><name pos:start="449:23" pos:end="449:43"><name pos:start="449:23" pos:end="449:25">ost</name><operator pos:start="449:26" pos:end="449:27">-&gt;</operator><name pos:start="449:28" pos:end="449:43">forced_keyframes</name></name>

                   <operator pos:start="451:20" pos:end="451:21">&amp;&amp;</operator> <operator pos:start="451:23" pos:end="451:23">!</operator><call pos:start="451:24" pos:end="451:66"><name pos:start="451:24" pos:end="451:30">strncmp</name><argument_list pos:start="451:31" pos:end="451:66">(<argument pos:start="451:32" pos:end="451:52"><expr pos:start="451:32" pos:end="451:52"><name pos:start="451:32" pos:end="451:52"><name pos:start="451:32" pos:end="451:34">ost</name><operator pos:start="451:35" pos:end="451:36">-&gt;</operator><name pos:start="451:37" pos:end="451:52">forced_keyframes</name></name></expr></argument>, <argument pos:start="451:55" pos:end="451:62"><expr pos:start="451:55" pos:end="451:62"><literal type="string" pos:start="451:55" pos:end="451:62">"source"</literal></expr></argument>, <argument pos:start="451:65" pos:end="451:65"><expr pos:start="451:65" pos:end="451:65"><literal type="number" pos:start="451:65" pos:end="451:65">6</literal></expr></argument>)</argument_list></call>

                   <operator pos:start="453:20" pos:end="453:21">&amp;&amp;</operator> <name pos:start="453:23" pos:end="453:43"><name pos:start="453:23" pos:end="453:32">in_picture</name><operator pos:start="453:33" pos:end="453:34">-&gt;</operator><name pos:start="453:35" pos:end="453:43">key_frame</name></name><operator pos:start="453:44" pos:end="453:45">==</operator><literal type="number" pos:start="453:46" pos:end="453:46">1</literal></expr>)</condition> <block pos:start="453:49" pos:end="457:9">{<block_content pos:start="455:13" pos:end="455:32">

            <expr_stmt pos:start="455:13" pos:end="455:32"><expr pos:start="455:13" pos:end="455:31"><name pos:start="455:13" pos:end="455:27">forced_keyframe</name> <operator pos:start="455:29" pos:end="455:29">=</operator> <literal type="number" pos:start="455:31" pos:end="455:31">1</literal></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>



        <if_stmt pos:start="461:9" pos:end="467:9"><if pos:start="461:9" pos:end="467:9">if <condition pos:start="461:12" pos:end="461:28">(<expr pos:start="461:13" pos:end="461:27"><name pos:start="461:13" pos:end="461:27">forced_keyframe</name></expr>)</condition> <block pos:start="461:30" pos:end="467:9">{<block_content pos:start="463:13" pos:end="465:81">

            <expr_stmt pos:start="463:13" pos:end="463:54"><expr pos:start="463:13" pos:end="463:53"><name pos:start="463:13" pos:end="463:33"><name pos:start="463:13" pos:end="463:22">in_picture</name><operator pos:start="463:23" pos:end="463:24">-&gt;</operator><name pos:start="463:25" pos:end="463:33">pict_type</name></name> <operator pos:start="463:35" pos:end="463:35">=</operator> <name pos:start="463:37" pos:end="463:53">AV_PICTURE_TYPE_I</name></expr>;</expr_stmt>

            <expr_stmt pos:start="465:13" pos:end="465:81"><expr pos:start="465:13" pos:end="465:80"><call pos:start="465:13" pos:end="465:80"><name pos:start="465:13" pos:end="465:18">av_log</name><argument_list pos:start="465:19" pos:end="465:80">(<argument pos:start="465:20" pos:end="465:23"><expr pos:start="465:20" pos:end="465:23"><name pos:start="465:20" pos:end="465:23">NULL</name></expr></argument>, <argument pos:start="465:26" pos:end="465:37"><expr pos:start="465:26" pos:end="465:37"><name pos:start="465:26" pos:end="465:37">AV_LOG_DEBUG</name></expr></argument>, <argument pos:start="465:40" pos:end="465:69"><expr pos:start="465:40" pos:end="465:69"><literal type="string" pos:start="465:40" pos:end="465:69">"Forced keyframe at time %f\n"</literal></expr></argument>, <argument pos:start="465:72" pos:end="465:79"><expr pos:start="465:72" pos:end="465:79"><name pos:start="465:72" pos:end="465:79">pts_time</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>



        <expr_stmt pos:start="471:9" pos:end="471:31"><expr pos:start="471:9" pos:end="471:30"><call pos:start="471:9" pos:end="471:30"><name pos:start="471:9" pos:end="471:24">update_benchmark</name><argument_list pos:start="471:25" pos:end="471:30">(<argument pos:start="471:26" pos:end="471:29"><expr pos:start="471:26" pos:end="471:29"><name pos:start="471:26" pos:end="471:29">NULL</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="473:9" pos:end="483:9"><if pos:start="473:9" pos:end="483:9">if <condition pos:start="473:12" pos:end="473:21">(<expr pos:start="473:13" pos:end="473:20"><name pos:start="473:13" pos:end="473:20">debug_ts</name></expr>)</condition> <block pos:start="473:23" pos:end="483:9">{<block_content pos:start="475:13" pos:end="481:59">

            <expr_stmt pos:start="475:13" pos:end="481:59"><expr pos:start="475:13" pos:end="481:58"><call pos:start="475:13" pos:end="481:58"><name pos:start="475:13" pos:end="475:18">av_log</name><argument_list pos:start="475:19" pos:end="481:58">(<argument pos:start="475:20" pos:end="475:23"><expr pos:start="475:20" pos:end="475:23"><name pos:start="475:20" pos:end="475:23">NULL</name></expr></argument>, <argument pos:start="475:26" pos:end="475:36"><expr pos:start="475:26" pos:end="475:36"><name pos:start="475:26" pos:end="475:36">AV_LOG_INFO</name></expr></argument>, <argument pos:start="475:39" pos:end="477:69"><expr pos:start="475:39" pos:end="477:69"><literal type="string" pos:start="475:39" pos:end="475:62">"encoder &lt;- type:video "</literal>

                   <literal type="string" pos:start="477:20" pos:end="477:69">"frame_pts:%s frame_pts_time:%s time_base:%d/%d\n"</literal></expr></argument>,

                   <argument pos:start="479:20" pos:end="479:45"><expr pos:start="479:20" pos:end="479:45"><call pos:start="479:20" pos:end="479:45"><name pos:start="479:20" pos:end="479:28">av_ts2str</name><argument_list pos:start="479:29" pos:end="479:45">(<argument pos:start="479:30" pos:end="479:44"><expr pos:start="479:30" pos:end="479:44"><name pos:start="479:30" pos:end="479:44"><name pos:start="479:30" pos:end="479:39">in_picture</name><operator pos:start="479:40" pos:end="479:41">-&gt;</operator><name pos:start="479:42" pos:end="479:44">pts</name></name></expr></argument>)</argument_list></call></expr></argument>, <argument pos:start="479:48" pos:end="479:94"><expr pos:start="479:48" pos:end="479:94"><call pos:start="479:48" pos:end="479:94"><name pos:start="479:48" pos:end="479:60">av_ts2timestr</name><argument_list pos:start="479:61" pos:end="479:94">(<argument pos:start="479:62" pos:end="479:76"><expr pos:start="479:62" pos:end="479:76"><name pos:start="479:62" pos:end="479:76"><name pos:start="479:62" pos:end="479:71">in_picture</name><operator pos:start="479:72" pos:end="479:73">-&gt;</operator><name pos:start="479:74" pos:end="479:76">pts</name></name></expr></argument>, <argument pos:start="479:79" pos:end="479:93"><expr pos:start="479:79" pos:end="479:93"><operator pos:start="479:79" pos:end="479:79">&amp;</operator><name pos:start="479:80" pos:end="479:93"><name pos:start="479:80" pos:end="479:82">enc</name><operator pos:start="479:83" pos:end="479:84">-&gt;</operator><name pos:start="479:85" pos:end="479:93">time_base</name></name></expr></argument>)</argument_list></call></expr></argument>,

                   <argument pos:start="481:20" pos:end="481:37"><expr pos:start="481:20" pos:end="481:37"><name pos:start="481:20" pos:end="481:37"><name pos:start="481:20" pos:end="481:22">enc</name><operator pos:start="481:23" pos:end="481:24">-&gt;</operator><name pos:start="481:25" pos:end="481:33">time_base</name><operator pos:start="481:34" pos:end="481:34">.</operator><name pos:start="481:35" pos:end="481:37">num</name></name></expr></argument>, <argument pos:start="481:40" pos:end="481:57"><expr pos:start="481:40" pos:end="481:57"><name pos:start="481:40" pos:end="481:57"><name pos:start="481:40" pos:end="481:42">enc</name><operator pos:start="481:43" pos:end="481:44">-&gt;</operator><name pos:start="481:45" pos:end="481:53">time_base</name><operator pos:start="481:54" pos:end="481:54">.</operator><name pos:start="481:55" pos:end="481:57">den</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>



        <expr_stmt pos:start="487:9" pos:end="487:30"><expr pos:start="487:9" pos:end="487:29"><name pos:start="487:9" pos:end="487:27"><name pos:start="487:9" pos:end="487:11">ost</name><operator pos:start="487:12" pos:end="487:13">-&gt;</operator><name pos:start="487:14" pos:end="487:27">frames_encoded</name></name><operator pos:start="487:28" pos:end="487:29">++</operator></expr>;</expr_stmt>



        <expr_stmt pos:start="491:9" pos:end="491:72"><expr pos:start="491:9" pos:end="491:71"><name pos:start="491:9" pos:end="491:11">ret</name> <operator pos:start="491:13" pos:end="491:13">=</operator> <call pos:start="491:15" pos:end="491:71"><name pos:start="491:15" pos:end="491:35">avcodec_encode_video2</name><argument_list pos:start="491:36" pos:end="491:71">(<argument pos:start="491:37" pos:end="491:39"><expr pos:start="491:37" pos:end="491:39"><name pos:start="491:37" pos:end="491:39">enc</name></expr></argument>, <argument pos:start="491:42" pos:end="491:45"><expr pos:start="491:42" pos:end="491:45"><operator pos:start="491:42" pos:end="491:42">&amp;</operator><name pos:start="491:43" pos:end="491:45">pkt</name></expr></argument>, <argument pos:start="491:48" pos:end="491:57"><expr pos:start="491:48" pos:end="491:57"><name pos:start="491:48" pos:end="491:57">in_picture</name></expr></argument>, <argument pos:start="491:60" pos:end="491:70"><expr pos:start="491:60" pos:end="491:70"><operator pos:start="491:60" pos:end="491:60">&amp;</operator><name pos:start="491:61" pos:end="491:70">got_packet</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="493:9" pos:end="493:76"><expr pos:start="493:9" pos:end="493:75"><call pos:start="493:9" pos:end="493:75"><name pos:start="493:9" pos:end="493:24">update_benchmark</name><argument_list pos:start="493:25" pos:end="493:75">(<argument pos:start="493:26" pos:end="493:45"><expr pos:start="493:26" pos:end="493:45"><literal type="string" pos:start="493:26" pos:end="493:45">"encode_video %d.%d"</literal></expr></argument>, <argument pos:start="493:48" pos:end="493:62"><expr pos:start="493:48" pos:end="493:62"><name pos:start="493:48" pos:end="493:62"><name pos:start="493:48" pos:end="493:50">ost</name><operator pos:start="493:51" pos:end="493:52">-&gt;</operator><name pos:start="493:53" pos:end="493:62">file_index</name></name></expr></argument>, <argument pos:start="493:65" pos:end="493:74"><expr pos:start="493:65" pos:end="493:74"><name pos:start="493:65" pos:end="493:74"><name pos:start="493:65" pos:end="493:67">ost</name><operator pos:start="493:68" pos:end="493:69">-&gt;</operator><name pos:start="493:70" pos:end="493:74">index</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="495:9" pos:end="501:9"><if pos:start="495:9" pos:end="501:9">if <condition pos:start="495:12" pos:end="495:20">(<expr pos:start="495:13" pos:end="495:19"><name pos:start="495:13" pos:end="495:15">ret</name> <operator pos:start="495:17" pos:end="495:17">&lt;</operator> <literal type="number" pos:start="495:19" pos:end="495:19">0</literal></expr>)</condition> <block pos:start="495:22" pos:end="501:9">{<block_content pos:start="497:13" pos:end="499:28">

            <expr_stmt pos:start="497:13" pos:end="497:66"><expr pos:start="497:13" pos:end="497:65"><call pos:start="497:13" pos:end="497:65"><name pos:start="497:13" pos:end="497:18">av_log</name><argument_list pos:start="497:19" pos:end="497:65">(<argument pos:start="497:20" pos:end="497:23"><expr pos:start="497:20" pos:end="497:23"><name pos:start="497:20" pos:end="497:23">NULL</name></expr></argument>, <argument pos:start="497:26" pos:end="497:37"><expr pos:start="497:26" pos:end="497:37"><name pos:start="497:26" pos:end="497:37">AV_LOG_FATAL</name></expr></argument>, <argument pos:start="497:40" pos:end="497:64"><expr pos:start="497:40" pos:end="497:64"><literal type="string" pos:start="497:40" pos:end="497:64">"Video encoding failed\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="499:13" pos:end="499:28"><expr pos:start="499:13" pos:end="499:27"><call pos:start="499:13" pos:end="499:27"><name pos:start="499:13" pos:end="499:24">exit_program</name><argument_list pos:start="499:25" pos:end="499:27">(<argument pos:start="499:26" pos:end="499:26"><expr pos:start="499:26" pos:end="499:26"><literal type="number" pos:start="499:26" pos:end="499:26">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>



        <if_stmt pos:start="505:9" pos:end="559:9"><if pos:start="505:9" pos:end="559:9">if <condition pos:start="505:12" pos:end="505:23">(<expr pos:start="505:13" pos:end="505:22"><name pos:start="505:13" pos:end="505:22">got_packet</name></expr>)</condition> <block pos:start="505:25" pos:end="559:9">{<block_content pos:start="507:13" pos:end="557:13">

            <if_stmt pos:start="507:13" pos:end="517:13"><if pos:start="507:13" pos:end="517:13">if <condition pos:start="507:16" pos:end="507:25">(<expr pos:start="507:17" pos:end="507:24"><name pos:start="507:17" pos:end="507:24">debug_ts</name></expr>)</condition> <block pos:start="507:27" pos:end="517:13">{<block_content pos:start="509:17" pos:end="515:84">

                <expr_stmt pos:start="509:17" pos:end="515:84"><expr pos:start="509:17" pos:end="515:83"><call pos:start="509:17" pos:end="515:83"><name pos:start="509:17" pos:end="509:22">av_log</name><argument_list pos:start="509:23" pos:end="515:83">(<argument pos:start="509:24" pos:end="509:27"><expr pos:start="509:24" pos:end="509:27"><name pos:start="509:24" pos:end="509:27">NULL</name></expr></argument>, <argument pos:start="509:30" pos:end="509:40"><expr pos:start="509:30" pos:end="509:40"><name pos:start="509:30" pos:end="509:40">AV_LOG_INFO</name></expr></argument>, <argument pos:start="509:43" pos:end="511:80"><expr pos:start="509:43" pos:end="511:80"><literal type="string" pos:start="509:43" pos:end="509:66">"encoder -&gt; type:video "</literal>

                       <literal type="string" pos:start="511:24" pos:end="511:80">"pkt_pts:%s pkt_pts_time:%s pkt_dts:%s pkt_dts_time:%s\n"</literal></expr></argument>,

                       <argument pos:start="513:24" pos:end="513:41"><expr pos:start="513:24" pos:end="513:41"><call pos:start="513:24" pos:end="513:41"><name pos:start="513:24" pos:end="513:32">av_ts2str</name><argument_list pos:start="513:33" pos:end="513:41">(<argument pos:start="513:34" pos:end="513:40"><expr pos:start="513:34" pos:end="513:40"><name pos:start="513:34" pos:end="513:40"><name pos:start="513:34" pos:end="513:36">pkt</name><operator pos:start="513:37" pos:end="513:37">.</operator><name pos:start="513:38" pos:end="513:40">pts</name></name></expr></argument>)</argument_list></call></expr></argument>, <argument pos:start="513:44" pos:end="513:82"><expr pos:start="513:44" pos:end="513:82"><call pos:start="513:44" pos:end="513:82"><name pos:start="513:44" pos:end="513:56">av_ts2timestr</name><argument_list pos:start="513:57" pos:end="513:82">(<argument pos:start="513:58" pos:end="513:64"><expr pos:start="513:58" pos:end="513:64"><name pos:start="513:58" pos:end="513:64"><name pos:start="513:58" pos:end="513:60">pkt</name><operator pos:start="513:61" pos:end="513:61">.</operator><name pos:start="513:62" pos:end="513:64">pts</name></name></expr></argument>, <argument pos:start="513:67" pos:end="513:81"><expr pos:start="513:67" pos:end="513:81"><operator pos:start="513:67" pos:end="513:67">&amp;</operator><name pos:start="513:68" pos:end="513:81"><name pos:start="513:68" pos:end="513:70">enc</name><operator pos:start="513:71" pos:end="513:72">-&gt;</operator><name pos:start="513:73" pos:end="513:81">time_base</name></name></expr></argument>)</argument_list></call></expr></argument>,

                       <argument pos:start="515:24" pos:end="515:41"><expr pos:start="515:24" pos:end="515:41"><call pos:start="515:24" pos:end="515:41"><name pos:start="515:24" pos:end="515:32">av_ts2str</name><argument_list pos:start="515:33" pos:end="515:41">(<argument pos:start="515:34" pos:end="515:40"><expr pos:start="515:34" pos:end="515:40"><name pos:start="515:34" pos:end="515:40"><name pos:start="515:34" pos:end="515:36">pkt</name><operator pos:start="515:37" pos:end="515:37">.</operator><name pos:start="515:38" pos:end="515:40">dts</name></name></expr></argument>)</argument_list></call></expr></argument>, <argument pos:start="515:44" pos:end="515:82"><expr pos:start="515:44" pos:end="515:82"><call pos:start="515:44" pos:end="515:82"><name pos:start="515:44" pos:end="515:56">av_ts2timestr</name><argument_list pos:start="515:57" pos:end="515:82">(<argument pos:start="515:58" pos:end="515:64"><expr pos:start="515:58" pos:end="515:64"><name pos:start="515:58" pos:end="515:64"><name pos:start="515:58" pos:end="515:60">pkt</name><operator pos:start="515:61" pos:end="515:61">.</operator><name pos:start="515:62" pos:end="515:64">dts</name></name></expr></argument>, <argument pos:start="515:67" pos:end="515:81"><expr pos:start="515:67" pos:end="515:81"><operator pos:start="515:67" pos:end="515:67">&amp;</operator><name pos:start="515:68" pos:end="515:81"><name pos:start="515:68" pos:end="515:70">enc</name><operator pos:start="515:71" pos:end="515:72">-&gt;</operator><name pos:start="515:73" pos:end="515:81">time_base</name></name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>



            <if_stmt pos:start="521:13" pos:end="523:41"><if pos:start="521:13" pos:end="523:41">if <condition pos:start="521:16" pos:end="521:94">(<expr pos:start="521:17" pos:end="521:93"><name pos:start="521:17" pos:end="521:23"><name pos:start="521:17" pos:end="521:19">pkt</name><operator pos:start="521:20" pos:end="521:20">.</operator><name pos:start="521:21" pos:end="521:23">pts</name></name> <operator pos:start="521:25" pos:end="521:26">==</operator> <name pos:start="521:28" pos:end="521:41">AV_NOPTS_VALUE</name> <operator pos:start="521:43" pos:end="521:44">&amp;&amp;</operator> <operator pos:start="521:46" pos:end="521:46">!</operator><operator pos:start="521:47" pos:end="521:47">(</operator><name pos:start="521:48" pos:end="521:71"><name pos:start="521:48" pos:end="521:50">enc</name><operator pos:start="521:51" pos:end="521:52">-&gt;</operator><name pos:start="521:53" pos:end="521:57">codec</name><operator pos:start="521:58" pos:end="521:59">-&gt;</operator><name pos:start="521:60" pos:end="521:71">capabilities</name></name> <operator pos:start="521:73" pos:end="521:73">&amp;</operator> <name pos:start="521:75" pos:end="521:92">AV_CODEC_CAP_DELAY</name><operator pos:start="521:93" pos:end="521:93">)</operator></expr>)</condition><block type="pseudo" pos:start="523:17" pos:end="523:41"><block_content pos:start="523:17" pos:end="523:41">

                <expr_stmt pos:start="523:17" pos:end="523:41"><expr pos:start="523:17" pos:end="523:40"><name pos:start="523:17" pos:end="523:23"><name pos:start="523:17" pos:end="523:19">pkt</name><operator pos:start="523:20" pos:end="523:20">.</operator><name pos:start="523:21" pos:end="523:23">pts</name></name> <operator pos:start="523:25" pos:end="523:25">=</operator> <name pos:start="523:27" pos:end="523:40"><name pos:start="523:27" pos:end="523:29">ost</name><operator pos:start="523:30" pos:end="523:31">-&gt;</operator><name pos:start="523:32" pos:end="523:40">sync_opts</name></name></expr>;</expr_stmt></block_content></block></if></if_stmt>



            <expr_stmt pos:start="527:13" pos:end="527:75"><expr pos:start="527:13" pos:end="527:74"><call pos:start="527:13" pos:end="527:74"><name pos:start="527:13" pos:end="527:32">av_packet_rescale_ts</name><argument_list pos:start="527:33" pos:end="527:74">(<argument pos:start="527:34" pos:end="527:37"><expr pos:start="527:34" pos:end="527:37"><operator pos:start="527:34" pos:end="527:34">&amp;</operator><name pos:start="527:35" pos:end="527:37">pkt</name></expr></argument>, <argument pos:start="527:40" pos:end="527:53"><expr pos:start="527:40" pos:end="527:53"><name pos:start="527:40" pos:end="527:53"><name pos:start="527:40" pos:end="527:42">enc</name><operator pos:start="527:43" pos:end="527:44">-&gt;</operator><name pos:start="527:45" pos:end="527:53">time_base</name></name></expr></argument>, <argument pos:start="527:56" pos:end="527:73"><expr pos:start="527:56" pos:end="527:73"><name pos:start="527:56" pos:end="527:73"><name pos:start="527:56" pos:end="527:58">ost</name><operator pos:start="527:59" pos:end="527:60">-&gt;</operator><name pos:start="527:61" pos:end="527:62">st</name><operator pos:start="527:63" pos:end="527:64">-&gt;</operator><name pos:start="527:65" pos:end="527:73">time_base</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



            <if_stmt pos:start="531:13" pos:end="541:13"><if pos:start="531:13" pos:end="541:13">if <condition pos:start="531:16" pos:end="531:25">(<expr pos:start="531:17" pos:end="531:24"><name pos:start="531:17" pos:end="531:24">debug_ts</name></expr>)</condition> <block pos:start="531:27" pos:end="541:13">{<block_content pos:start="533:17" pos:end="539:85">

                <expr_stmt pos:start="533:17" pos:end="539:85"><expr pos:start="533:17" pos:end="539:84"><call pos:start="533:17" pos:end="539:84"><name pos:start="533:17" pos:end="533:22">av_log</name><argument_list pos:start="533:23" pos:end="539:84">(<argument pos:start="533:24" pos:end="533:27"><expr pos:start="533:24" pos:end="533:27"><name pos:start="533:24" pos:end="533:27">NULL</name></expr></argument>, <argument pos:start="533:30" pos:end="533:40"><expr pos:start="533:30" pos:end="533:40"><name pos:start="533:30" pos:end="533:40">AV_LOG_INFO</name></expr></argument>, <argument pos:start="533:43" pos:end="535:77"><expr pos:start="533:43" pos:end="535:77"><literal type="string" pos:start="533:43" pos:end="533:66">"encoder -&gt; type:video "</literal>

                    <literal type="string" pos:start="535:21" pos:end="535:77">"pkt_pts:%s pkt_pts_time:%s pkt_dts:%s pkt_dts_time:%s\n"</literal></expr></argument>,

                    <argument pos:start="537:21" pos:end="537:38"><expr pos:start="537:21" pos:end="537:38"><call pos:start="537:21" pos:end="537:38"><name pos:start="537:21" pos:end="537:29">av_ts2str</name><argument_list pos:start="537:30" pos:end="537:38">(<argument pos:start="537:31" pos:end="537:37"><expr pos:start="537:31" pos:end="537:37"><name pos:start="537:31" pos:end="537:37"><name pos:start="537:31" pos:end="537:33">pkt</name><operator pos:start="537:34" pos:end="537:34">.</operator><name pos:start="537:35" pos:end="537:37">pts</name></name></expr></argument>)</argument_list></call></expr></argument>, <argument pos:start="537:41" pos:end="537:83"><expr pos:start="537:41" pos:end="537:83"><call pos:start="537:41" pos:end="537:83"><name pos:start="537:41" pos:end="537:53">av_ts2timestr</name><argument_list pos:start="537:54" pos:end="537:83">(<argument pos:start="537:55" pos:end="537:61"><expr pos:start="537:55" pos:end="537:61"><name pos:start="537:55" pos:end="537:61"><name pos:start="537:55" pos:end="537:57">pkt</name><operator pos:start="537:58" pos:end="537:58">.</operator><name pos:start="537:59" pos:end="537:61">pts</name></name></expr></argument>, <argument pos:start="537:64" pos:end="537:82"><expr pos:start="537:64" pos:end="537:82"><operator pos:start="537:64" pos:end="537:64">&amp;</operator><name pos:start="537:65" pos:end="537:82"><name pos:start="537:65" pos:end="537:67">ost</name><operator pos:start="537:68" pos:end="537:69">-&gt;</operator><name pos:start="537:70" pos:end="537:71">st</name><operator pos:start="537:72" pos:end="537:73">-&gt;</operator><name pos:start="537:74" pos:end="537:82">time_base</name></name></expr></argument>)</argument_list></call></expr></argument>,

                    <argument pos:start="539:21" pos:end="539:38"><expr pos:start="539:21" pos:end="539:38"><call pos:start="539:21" pos:end="539:38"><name pos:start="539:21" pos:end="539:29">av_ts2str</name><argument_list pos:start="539:30" pos:end="539:38">(<argument pos:start="539:31" pos:end="539:37"><expr pos:start="539:31" pos:end="539:37"><name pos:start="539:31" pos:end="539:37"><name pos:start="539:31" pos:end="539:33">pkt</name><operator pos:start="539:34" pos:end="539:34">.</operator><name pos:start="539:35" pos:end="539:37">dts</name></name></expr></argument>)</argument_list></call></expr></argument>, <argument pos:start="539:41" pos:end="539:83"><expr pos:start="539:41" pos:end="539:83"><call pos:start="539:41" pos:end="539:83"><name pos:start="539:41" pos:end="539:53">av_ts2timestr</name><argument_list pos:start="539:54" pos:end="539:83">(<argument pos:start="539:55" pos:end="539:61"><expr pos:start="539:55" pos:end="539:61"><name pos:start="539:55" pos:end="539:61"><name pos:start="539:55" pos:end="539:57">pkt</name><operator pos:start="539:58" pos:end="539:58">.</operator><name pos:start="539:59" pos:end="539:61">dts</name></name></expr></argument>, <argument pos:start="539:64" pos:end="539:82"><expr pos:start="539:64" pos:end="539:82"><operator pos:start="539:64" pos:end="539:64">&amp;</operator><name pos:start="539:65" pos:end="539:82"><name pos:start="539:65" pos:end="539:67">ost</name><operator pos:start="539:68" pos:end="539:69">-&gt;</operator><name pos:start="539:70" pos:end="539:71">st</name><operator pos:start="539:72" pos:end="539:73">-&gt;</operator><name pos:start="539:74" pos:end="539:82">time_base</name></name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>



            <expr_stmt pos:start="545:13" pos:end="545:34"><expr pos:start="545:13" pos:end="545:33"><name pos:start="545:13" pos:end="545:22">frame_size</name> <operator pos:start="545:24" pos:end="545:24">=</operator> <name pos:start="545:26" pos:end="545:33"><name pos:start="545:26" pos:end="545:28">pkt</name><operator pos:start="545:29" pos:end="545:29">.</operator><name pos:start="545:30" pos:end="545:33">size</name></name></expr>;</expr_stmt>

            <expr_stmt pos:start="547:13" pos:end="547:38"><expr pos:start="547:13" pos:end="547:37"><call pos:start="547:13" pos:end="547:37"><name pos:start="547:13" pos:end="547:23">write_frame</name><argument_list pos:start="547:24" pos:end="547:37">(<argument pos:start="547:25" pos:end="547:25"><expr pos:start="547:25" pos:end="547:25"><name pos:start="547:25" pos:end="547:25">s</name></expr></argument>, <argument pos:start="547:28" pos:end="547:31"><expr pos:start="547:28" pos:end="547:31"><operator pos:start="547:28" pos:end="547:28">&amp;</operator><name pos:start="547:29" pos:end="547:31">pkt</name></expr></argument>, <argument pos:start="547:34" pos:end="547:36"><expr pos:start="547:34" pos:end="547:36"><name pos:start="547:34" pos:end="547:36">ost</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



            <comment type="block" pos:start="551:13" pos:end="551:41">/* if two pass, output log */</comment>

            <if_stmt pos:start="553:13" pos:end="557:13"><if pos:start="553:13" pos:end="557:13">if <condition pos:start="553:16" pos:end="553:47">(<expr pos:start="553:17" pos:end="553:46"><name pos:start="553:17" pos:end="553:28"><name pos:start="553:17" pos:end="553:19">ost</name><operator pos:start="553:20" pos:end="553:21">-&gt;</operator><name pos:start="553:22" pos:end="553:28">logfile</name></name> <operator pos:start="553:30" pos:end="553:31">&amp;&amp;</operator> <name pos:start="553:33" pos:end="553:46"><name pos:start="553:33" pos:end="553:35">enc</name><operator pos:start="553:36" pos:end="553:37">-&gt;</operator><name pos:start="553:38" pos:end="553:46">stats_out</name></name></expr>)</condition> <block pos:start="553:49" pos:end="557:13">{<block_content pos:start="555:17" pos:end="555:60">

                <expr_stmt pos:start="555:17" pos:end="555:60"><expr pos:start="555:17" pos:end="555:59"><call pos:start="555:17" pos:end="555:59"><name pos:start="555:17" pos:end="555:23">fprintf</name><argument_list pos:start="555:24" pos:end="555:59">(<argument pos:start="555:25" pos:end="555:36"><expr pos:start="555:25" pos:end="555:36"><name pos:start="555:25" pos:end="555:36"><name pos:start="555:25" pos:end="555:27">ost</name><operator pos:start="555:28" pos:end="555:29">-&gt;</operator><name pos:start="555:30" pos:end="555:36">logfile</name></name></expr></argument>, <argument pos:start="555:39" pos:end="555:42"><expr pos:start="555:39" pos:end="555:42"><literal type="string" pos:start="555:39" pos:end="555:42">"%s"</literal></expr></argument>, <argument pos:start="555:45" pos:end="555:58"><expr pos:start="555:45" pos:end="555:58"><name pos:start="555:45" pos:end="555:58"><name pos:start="555:45" pos:end="555:47">enc</name><operator pos:start="555:48" pos:end="555:49">-&gt;</operator><name pos:start="555:50" pos:end="555:58">stats_out</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></else></if_stmt>

    <expr_stmt pos:start="563:5" pos:end="563:21"><expr pos:start="563:5" pos:end="563:20"><name pos:start="563:5" pos:end="563:18"><name pos:start="563:5" pos:end="563:7">ost</name><operator pos:start="563:8" pos:end="563:9">-&gt;</operator><name pos:start="563:10" pos:end="563:18">sync_opts</name></name><operator pos:start="563:19" pos:end="563:20">++</operator></expr>;</expr_stmt>

    <comment type="block" pos:start="565:5" pos:end="573:7">/*

     * For video, number of frames in == number of packets out.

     * But there may be reordering, so we can't throw away frames on encoder

     * flush, we need to limit them here, before they go into encoder.

     */</comment>

    <expr_stmt pos:start="575:5" pos:end="575:24"><expr pos:start="575:5" pos:end="575:23"><name pos:start="575:5" pos:end="575:21"><name pos:start="575:5" pos:end="575:7">ost</name><operator pos:start="575:8" pos:end="575:9">-&gt;</operator><name pos:start="575:10" pos:end="575:21">frame_number</name></name><operator pos:start="575:22" pos:end="575:23">++</operator></expr>;</expr_stmt>



    <if_stmt pos:start="579:5" pos:end="581:40"><if pos:start="579:5" pos:end="581:40">if <condition pos:start="579:8" pos:end="579:38">(<expr pos:start="579:9" pos:end="579:37"><name pos:start="579:9" pos:end="579:23">vstats_filename</name> <operator pos:start="579:25" pos:end="579:26">&amp;&amp;</operator> <name pos:start="579:28" pos:end="579:37">frame_size</name></expr>)</condition><block type="pseudo" pos:start="581:9" pos:end="581:40"><block_content pos:start="581:9" pos:end="581:40">

        <expr_stmt pos:start="581:9" pos:end="581:40"><expr pos:start="581:9" pos:end="581:39"><call pos:start="581:9" pos:end="581:39"><name pos:start="581:9" pos:end="581:22">do_video_stats</name><argument_list pos:start="581:23" pos:end="581:39">(<argument pos:start="581:24" pos:end="581:26"><expr pos:start="581:24" pos:end="581:26"><name pos:start="581:24" pos:end="581:26">ost</name></expr></argument>, <argument pos:start="581:29" pos:end="581:38"><expr pos:start="581:29" pos:end="581:38"><name pos:start="581:29" pos:end="581:38">frame_size</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

  </block_content>}</block></for>



    <if_stmt pos:start="587:5" pos:end="589:43"><if pos:start="587:5" pos:end="589:43">if <condition pos:start="587:8" pos:end="587:25">(<expr pos:start="587:9" pos:end="587:24"><operator pos:start="587:9" pos:end="587:9">!</operator><name pos:start="587:10" pos:end="587:24"><name pos:start="587:10" pos:end="587:12">ost</name><operator pos:start="587:13" pos:end="587:14">-&gt;</operator><name pos:start="587:15" pos:end="587:24">last_frame</name></name></expr>)</condition><block type="pseudo" pos:start="589:9" pos:end="589:43"><block_content pos:start="589:9" pos:end="589:43">

        <expr_stmt pos:start="589:9" pos:end="589:43"><expr pos:start="589:9" pos:end="589:42"><name pos:start="589:9" pos:end="589:23"><name pos:start="589:9" pos:end="589:11">ost</name><operator pos:start="589:12" pos:end="589:13">-&gt;</operator><name pos:start="589:14" pos:end="589:23">last_frame</name></name> <operator pos:start="589:25" pos:end="589:25">=</operator> <call pos:start="589:27" pos:end="589:42"><name pos:start="589:27" pos:end="589:40">av_frame_alloc</name><argument_list pos:start="589:41" pos:end="589:42">()</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

    <expr_stmt pos:start="591:5" pos:end="591:36"><expr pos:start="591:5" pos:end="591:35"><call pos:start="591:5" pos:end="591:35"><name pos:start="591:5" pos:end="591:18">av_frame_unref</name><argument_list pos:start="591:19" pos:end="591:35">(<argument pos:start="591:20" pos:end="591:34"><expr pos:start="591:20" pos:end="591:34"><name pos:start="591:20" pos:end="591:34"><name pos:start="591:20" pos:end="591:22">ost</name><operator pos:start="591:23" pos:end="591:24">-&gt;</operator><name pos:start="591:25" pos:end="591:34">last_frame</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="593:5" pos:end="599:40"><if pos:start="593:5" pos:end="595:52">if <condition pos:start="593:8" pos:end="593:40">(<expr pos:start="593:9" pos:end="593:39"><name pos:start="593:9" pos:end="593:20">next_picture</name> <operator pos:start="593:22" pos:end="593:23">&amp;&amp;</operator> <name pos:start="593:25" pos:end="593:39"><name pos:start="593:25" pos:end="593:27">ost</name><operator pos:start="593:28" pos:end="593:29">-&gt;</operator><name pos:start="593:30" pos:end="593:39">last_frame</name></name></expr>)</condition><block type="pseudo" pos:start="595:9" pos:end="595:52"><block_content pos:start="595:9" pos:end="595:52">

        <expr_stmt pos:start="595:9" pos:end="595:52"><expr pos:start="595:9" pos:end="595:51"><call pos:start="595:9" pos:end="595:51"><name pos:start="595:9" pos:end="595:20">av_frame_ref</name><argument_list pos:start="595:21" pos:end="595:51">(<argument pos:start="595:22" pos:end="595:36"><expr pos:start="595:22" pos:end="595:36"><name pos:start="595:22" pos:end="595:36"><name pos:start="595:22" pos:end="595:24">ost</name><operator pos:start="595:25" pos:end="595:26">-&gt;</operator><name pos:start="595:27" pos:end="595:36">last_frame</name></name></expr></argument>, <argument pos:start="595:39" pos:end="595:50"><expr pos:start="595:39" pos:end="595:50"><name pos:start="595:39" pos:end="595:50">next_picture</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if>

    <else pos:start="597:5" pos:end="599:40">else<block type="pseudo" pos:start="599:9" pos:end="599:40"><block_content pos:start="599:9" pos:end="599:40">

        <expr_stmt pos:start="599:9" pos:end="599:40"><expr pos:start="599:9" pos:end="599:39"><call pos:start="599:9" pos:end="599:39"><name pos:start="599:9" pos:end="599:21">av_frame_free</name><argument_list pos:start="599:22" pos:end="599:39">(<argument pos:start="599:23" pos:end="599:38"><expr pos:start="599:23" pos:end="599:38"><operator pos:start="599:23" pos:end="599:23">&amp;</operator><name pos:start="599:24" pos:end="599:38"><name pos:start="599:24" pos:end="599:26">ost</name><operator pos:start="599:27" pos:end="599:28">-&gt;</operator><name pos:start="599:29" pos:end="599:38">last_frame</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></else></if_stmt>

</block_content>}</block></function>
</unit>
