<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/10043.c" pos:tabs="8"><function pos:start="1:1" pos:end="99:1"><type pos:start="1:1" pos:end="1:3"><name pos:start="1:1" pos:end="1:3">int</name></type> <name pos:start="1:5" pos:end="1:25">xenstore_domain_init1</name><parameter_list pos:start="1:26" pos:end="3:46">(<parameter pos:start="1:27" pos:end="1:44"><decl pos:start="1:27" pos:end="1:44"><type pos:start="1:27" pos:end="1:44"><specifier pos:start="1:27" pos:end="1:31">const</specifier> <name pos:start="1:33" pos:end="1:36">char</name> <modifier pos:start="1:38" pos:end="1:38">*</modifier></type><name pos:start="1:39" pos:end="1:44">kernel</name></decl></parameter>, <parameter pos:start="1:47" pos:end="1:65"><decl pos:start="1:47" pos:end="1:65"><type pos:start="1:47" pos:end="1:65"><specifier pos:start="1:47" pos:end="1:51">const</specifier> <name pos:start="1:53" pos:end="1:56">char</name> <modifier pos:start="1:58" pos:end="1:58">*</modifier></type><name pos:start="1:59" pos:end="1:65">ramdisk</name></decl></parameter>,

                          <parameter pos:start="3:27" pos:end="3:45"><decl pos:start="3:27" pos:end="3:45"><type pos:start="3:27" pos:end="3:45"><specifier pos:start="3:27" pos:end="3:31">const</specifier> <name pos:start="3:33" pos:end="3:36">char</name> <modifier pos:start="3:38" pos:end="3:38">*</modifier></type><name pos:start="3:39" pos:end="3:45">cmdline</name></decl></parameter>)</parameter_list>

<block pos:start="5:1" pos:end="99:1">{<block_content pos:start="7:5" pos:end="97:13">

    <decl_stmt pos:start="7:5" pos:end="7:51"><decl pos:start="7:5" pos:end="7:13"><type pos:start="7:5" pos:end="7:10"><name pos:start="7:5" pos:end="7:8">char</name> <modifier pos:start="7:10" pos:end="7:10">*</modifier></type><name pos:start="7:11" pos:end="7:13">dom</name></decl>, <decl pos:start="7:16" pos:end="7:30"><type ref="prev" pos:start="7:5" pos:end="7:10"/><name pos:start="7:16" pos:end="7:30"><name pos:start="7:16" pos:end="7:26">uuid_string</name><index pos:start="7:27" pos:end="7:30">[<expr pos:start="7:28" pos:end="7:29"><literal type="number" pos:start="7:28" pos:end="7:29">42</literal></expr>]</index></name></decl>, <decl pos:start="7:33" pos:end="7:39"><type ref="prev" pos:start="7:5" pos:end="7:10"/><name pos:start="7:33" pos:end="7:39"><name pos:start="7:33" pos:end="7:34">vm</name><index pos:start="7:35" pos:end="7:39">[<expr pos:start="7:36" pos:end="7:38"><literal type="number" pos:start="7:36" pos:end="7:38">256</literal></expr>]</index></name></decl>, <decl pos:start="7:42" pos:end="7:50"><type ref="prev" pos:start="7:5" pos:end="7:10"/><name pos:start="7:42" pos:end="7:50"><name pos:start="7:42" pos:end="7:45">path</name><index pos:start="7:46" pos:end="7:50">[<expr pos:start="7:47" pos:end="7:49"><literal type="number" pos:start="7:47" pos:end="7:49">256</literal></expr>]</index></name></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:10"><decl pos:start="9:5" pos:end="9:9"><type pos:start="9:5" pos:end="9:7"><name pos:start="9:5" pos:end="9:7">int</name></type> <name pos:start="9:9" pos:end="9:9">i</name></decl>;</decl_stmt>



    <expr_stmt pos:start="13:5" pos:end="21:73"><expr pos:start="13:5" pos:end="21:72"><call pos:start="13:5" pos:end="21:72"><name pos:start="13:5" pos:end="13:12">snprintf</name><argument_list pos:start="13:13" pos:end="21:72">(<argument pos:start="13:14" pos:end="13:24"><expr pos:start="13:14" pos:end="13:24"><name pos:start="13:14" pos:end="13:24">uuid_string</name></expr></argument>, <argument pos:start="13:27" pos:end="13:45"><expr pos:start="13:27" pos:end="13:45"><sizeof pos:start="13:27" pos:end="13:45">sizeof<argument_list pos:start="13:33" pos:end="13:45">(<argument pos:start="13:34" pos:end="13:44"><expr pos:start="13:34" pos:end="13:44"><name pos:start="13:34" pos:end="13:44">uuid_string</name></expr></argument>)</argument_list></sizeof></expr></argument>, <argument pos:start="13:48" pos:end="13:55"><expr pos:start="13:48" pos:end="13:55"><name pos:start="13:48" pos:end="13:55">UUID_FMT</name></expr></argument>,

             <argument pos:start="15:14" pos:end="15:25"><expr pos:start="15:14" pos:end="15:25"><name pos:start="15:14" pos:end="15:25"><name pos:start="15:14" pos:end="15:22">qemu_uuid</name><index pos:start="15:23" pos:end="15:25">[<expr pos:start="15:24" pos:end="15:24"><literal type="number" pos:start="15:24" pos:end="15:24">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="15:28" pos:end="15:39"><expr pos:start="15:28" pos:end="15:39"><name pos:start="15:28" pos:end="15:39"><name pos:start="15:28" pos:end="15:36">qemu_uuid</name><index pos:start="15:37" pos:end="15:39">[<expr pos:start="15:38" pos:end="15:38"><literal type="number" pos:start="15:38" pos:end="15:38">1</literal></expr>]</index></name></expr></argument>, <argument pos:start="15:42" pos:end="15:53"><expr pos:start="15:42" pos:end="15:53"><name pos:start="15:42" pos:end="15:53"><name pos:start="15:42" pos:end="15:50">qemu_uuid</name><index pos:start="15:51" pos:end="15:53">[<expr pos:start="15:52" pos:end="15:52"><literal type="number" pos:start="15:52" pos:end="15:52">2</literal></expr>]</index></name></expr></argument>, <argument pos:start="15:56" pos:end="15:67"><expr pos:start="15:56" pos:end="15:67"><name pos:start="15:56" pos:end="15:67"><name pos:start="15:56" pos:end="15:64">qemu_uuid</name><index pos:start="15:65" pos:end="15:67">[<expr pos:start="15:66" pos:end="15:66"><literal type="number" pos:start="15:66" pos:end="15:66">3</literal></expr>]</index></name></expr></argument>,

             <argument pos:start="17:14" pos:end="17:25"><expr pos:start="17:14" pos:end="17:25"><name pos:start="17:14" pos:end="17:25"><name pos:start="17:14" pos:end="17:22">qemu_uuid</name><index pos:start="17:23" pos:end="17:25">[<expr pos:start="17:24" pos:end="17:24"><literal type="number" pos:start="17:24" pos:end="17:24">4</literal></expr>]</index></name></expr></argument>, <argument pos:start="17:28" pos:end="17:39"><expr pos:start="17:28" pos:end="17:39"><name pos:start="17:28" pos:end="17:39"><name pos:start="17:28" pos:end="17:36">qemu_uuid</name><index pos:start="17:37" pos:end="17:39">[<expr pos:start="17:38" pos:end="17:38"><literal type="number" pos:start="17:38" pos:end="17:38">5</literal></expr>]</index></name></expr></argument>, <argument pos:start="17:42" pos:end="17:53"><expr pos:start="17:42" pos:end="17:53"><name pos:start="17:42" pos:end="17:53"><name pos:start="17:42" pos:end="17:50">qemu_uuid</name><index pos:start="17:51" pos:end="17:53">[<expr pos:start="17:52" pos:end="17:52"><literal type="number" pos:start="17:52" pos:end="17:52">6</literal></expr>]</index></name></expr></argument>, <argument pos:start="17:56" pos:end="17:67"><expr pos:start="17:56" pos:end="17:67"><name pos:start="17:56" pos:end="17:67"><name pos:start="17:56" pos:end="17:64">qemu_uuid</name><index pos:start="17:65" pos:end="17:67">[<expr pos:start="17:66" pos:end="17:66"><literal type="number" pos:start="17:66" pos:end="17:66">7</literal></expr>]</index></name></expr></argument>,

             <argument pos:start="19:14" pos:end="19:25"><expr pos:start="19:14" pos:end="19:25"><name pos:start="19:14" pos:end="19:25"><name pos:start="19:14" pos:end="19:22">qemu_uuid</name><index pos:start="19:23" pos:end="19:25">[<expr pos:start="19:24" pos:end="19:24"><literal type="number" pos:start="19:24" pos:end="19:24">8</literal></expr>]</index></name></expr></argument>, <argument pos:start="19:28" pos:end="19:39"><expr pos:start="19:28" pos:end="19:39"><name pos:start="19:28" pos:end="19:39"><name pos:start="19:28" pos:end="19:36">qemu_uuid</name><index pos:start="19:37" pos:end="19:39">[<expr pos:start="19:38" pos:end="19:38"><literal type="number" pos:start="19:38" pos:end="19:38">9</literal></expr>]</index></name></expr></argument>, <argument pos:start="19:42" pos:end="19:54"><expr pos:start="19:42" pos:end="19:54"><name pos:start="19:42" pos:end="19:54"><name pos:start="19:42" pos:end="19:50">qemu_uuid</name><index pos:start="19:51" pos:end="19:54">[<expr pos:start="19:52" pos:end="19:53"><literal type="number" pos:start="19:52" pos:end="19:53">10</literal></expr>]</index></name></expr></argument>, <argument pos:start="19:57" pos:end="19:69"><expr pos:start="19:57" pos:end="19:69"><name pos:start="19:57" pos:end="19:69"><name pos:start="19:57" pos:end="19:65">qemu_uuid</name><index pos:start="19:66" pos:end="19:69">[<expr pos:start="19:67" pos:end="19:68"><literal type="number" pos:start="19:67" pos:end="19:68">11</literal></expr>]</index></name></expr></argument>,

             <argument pos:start="21:14" pos:end="21:26"><expr pos:start="21:14" pos:end="21:26"><name pos:start="21:14" pos:end="21:26"><name pos:start="21:14" pos:end="21:22">qemu_uuid</name><index pos:start="21:23" pos:end="21:26">[<expr pos:start="21:24" pos:end="21:25"><literal type="number" pos:start="21:24" pos:end="21:25">12</literal></expr>]</index></name></expr></argument>, <argument pos:start="21:29" pos:end="21:41"><expr pos:start="21:29" pos:end="21:41"><name pos:start="21:29" pos:end="21:41"><name pos:start="21:29" pos:end="21:37">qemu_uuid</name><index pos:start="21:38" pos:end="21:41">[<expr pos:start="21:39" pos:end="21:40"><literal type="number" pos:start="21:39" pos:end="21:40">13</literal></expr>]</index></name></expr></argument>, <argument pos:start="21:44" pos:end="21:56"><expr pos:start="21:44" pos:end="21:56"><name pos:start="21:44" pos:end="21:56"><name pos:start="21:44" pos:end="21:52">qemu_uuid</name><index pos:start="21:53" pos:end="21:56">[<expr pos:start="21:54" pos:end="21:55"><literal type="number" pos:start="21:54" pos:end="21:55">14</literal></expr>]</index></name></expr></argument>, <argument pos:start="21:59" pos:end="21:71"><expr pos:start="21:59" pos:end="21:71"><name pos:start="21:59" pos:end="21:71"><name pos:start="21:59" pos:end="21:67">qemu_uuid</name><index pos:start="21:68" pos:end="21:71">[<expr pos:start="21:69" pos:end="21:70"><literal type="number" pos:start="21:69" pos:end="21:70">15</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="23:5" pos:end="23:50"><expr pos:start="23:5" pos:end="23:49"><name pos:start="23:5" pos:end="23:7">dom</name> <operator pos:start="23:9" pos:end="23:9">=</operator> <call pos:start="23:11" pos:end="23:49"><name pos:start="23:11" pos:end="23:28">xs_get_domain_path</name><argument_list pos:start="23:29" pos:end="23:49">(<argument pos:start="23:30" pos:end="23:37"><expr pos:start="23:30" pos:end="23:37"><name pos:start="23:30" pos:end="23:37">xenstore</name></expr></argument>, <argument pos:start="23:40" pos:end="23:48"><expr pos:start="23:40" pos:end="23:48"><name pos:start="23:40" pos:end="23:48">xen_domid</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="25:5" pos:end="25:54"><expr pos:start="25:5" pos:end="25:53"><call pos:start="25:5" pos:end="25:53"><name pos:start="25:5" pos:end="25:12">snprintf</name><argument_list pos:start="25:13" pos:end="25:53">(<argument pos:start="25:14" pos:end="25:15"><expr pos:start="25:14" pos:end="25:15"><name pos:start="25:14" pos:end="25:15">vm</name></expr></argument>,  <argument pos:start="25:19" pos:end="25:28"><expr pos:start="25:19" pos:end="25:28"><sizeof pos:start="25:19" pos:end="25:28">sizeof<argument_list pos:start="25:25" pos:end="25:28">(<argument pos:start="25:26" pos:end="25:27"><expr pos:start="25:26" pos:end="25:27"><name pos:start="25:26" pos:end="25:27">vm</name></expr></argument>)</argument_list></sizeof></expr></argument>,  <argument pos:start="25:32" pos:end="25:39"><expr pos:start="25:32" pos:end="25:39"><literal type="string" pos:start="25:32" pos:end="25:39">"/vm/%s"</literal></expr></argument>, <argument pos:start="25:42" pos:end="25:52"><expr pos:start="25:42" pos:end="25:52"><name pos:start="25:42" pos:end="25:52">uuid_string</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="29:5" pos:end="29:31"><expr pos:start="29:5" pos:end="29:30"><call pos:start="29:5" pos:end="29:30"><name pos:start="29:5" pos:end="29:25">xenstore_domain_mkdir</name><argument_list pos:start="29:26" pos:end="29:30">(<argument pos:start="29:27" pos:end="29:29"><expr pos:start="29:27" pos:end="29:29"><name pos:start="29:27" pos:end="29:29">dom</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="33:5" pos:end="33:53"><expr pos:start="33:5" pos:end="33:52"><call pos:start="33:5" pos:end="33:52"><name pos:start="33:5" pos:end="33:22">xenstore_write_str</name><argument_list pos:start="33:23" pos:end="33:52">(<argument pos:start="33:24" pos:end="33:25"><expr pos:start="33:24" pos:end="33:25"><name pos:start="33:24" pos:end="33:25">vm</name></expr></argument>, <argument pos:start="33:28" pos:end="33:41"><expr pos:start="33:28" pos:end="33:41"><literal type="string" pos:start="33:28" pos:end="33:41">"image/ostype"</literal></expr></argument>,  <argument pos:start="33:45" pos:end="33:51"><expr pos:start="33:45" pos:end="33:51"><literal type="string" pos:start="33:45" pos:end="33:51">"linux"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="35:5" pos:end="37:56"><if pos:start="35:5" pos:end="37:56">if <condition pos:start="35:8" pos:end="35:15">(<expr pos:start="35:9" pos:end="35:14"><name pos:start="35:9" pos:end="35:14">kernel</name></expr>)</condition><block type="pseudo" pos:start="37:9" pos:end="37:56"><block_content pos:start="37:9" pos:end="37:56">

        <expr_stmt pos:start="37:9" pos:end="37:56"><expr pos:start="37:9" pos:end="37:55"><call pos:start="37:9" pos:end="37:55"><name pos:start="37:9" pos:end="37:26">xenstore_write_str</name><argument_list pos:start="37:27" pos:end="37:55">(<argument pos:start="37:28" pos:end="37:29"><expr pos:start="37:28" pos:end="37:29"><name pos:start="37:28" pos:end="37:29">vm</name></expr></argument>, <argument pos:start="37:32" pos:end="37:45"><expr pos:start="37:32" pos:end="37:45"><literal type="string" pos:start="37:32" pos:end="37:45">"image/kernel"</literal></expr></argument>,  <argument pos:start="37:49" pos:end="37:54"><expr pos:start="37:49" pos:end="37:54"><name pos:start="37:49" pos:end="37:54">kernel</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

    <if_stmt pos:start="39:5" pos:end="41:57"><if pos:start="39:5" pos:end="41:57">if <condition pos:start="39:8" pos:end="39:16">(<expr pos:start="39:9" pos:end="39:15"><name pos:start="39:9" pos:end="39:15">ramdisk</name></expr>)</condition><block type="pseudo" pos:start="41:9" pos:end="41:57"><block_content pos:start="41:9" pos:end="41:57">

        <expr_stmt pos:start="41:9" pos:end="41:57"><expr pos:start="41:9" pos:end="41:56"><call pos:start="41:9" pos:end="41:56"><name pos:start="41:9" pos:end="41:26">xenstore_write_str</name><argument_list pos:start="41:27" pos:end="41:56">(<argument pos:start="41:28" pos:end="41:29"><expr pos:start="41:28" pos:end="41:29"><name pos:start="41:28" pos:end="41:29">vm</name></expr></argument>, <argument pos:start="41:32" pos:end="41:46"><expr pos:start="41:32" pos:end="41:46"><literal type="string" pos:start="41:32" pos:end="41:46">"image/ramdisk"</literal></expr></argument>, <argument pos:start="41:49" pos:end="41:55"><expr pos:start="41:49" pos:end="41:55"><name pos:start="41:49" pos:end="41:55">ramdisk</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

    <if_stmt pos:start="43:5" pos:end="45:57"><if pos:start="43:5" pos:end="45:57">if <condition pos:start="43:8" pos:end="43:16">(<expr pos:start="43:9" pos:end="43:15"><name pos:start="43:9" pos:end="43:15">cmdline</name></expr>)</condition><block type="pseudo" pos:start="45:9" pos:end="45:57"><block_content pos:start="45:9" pos:end="45:57">

        <expr_stmt pos:start="45:9" pos:end="45:57"><expr pos:start="45:9" pos:end="45:56"><call pos:start="45:9" pos:end="45:56"><name pos:start="45:9" pos:end="45:26">xenstore_write_str</name><argument_list pos:start="45:27" pos:end="45:56">(<argument pos:start="45:28" pos:end="45:29"><expr pos:start="45:28" pos:end="45:29"><name pos:start="45:28" pos:end="45:29">vm</name></expr></argument>, <argument pos:start="45:32" pos:end="45:46"><expr pos:start="45:32" pos:end="45:46"><literal type="string" pos:start="45:32" pos:end="45:46">"image/cmdline"</literal></expr></argument>, <argument pos:start="45:49" pos:end="45:55"><expr pos:start="45:49" pos:end="45:55"><name pos:start="45:49" pos:end="45:55">cmdline</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>



    <comment type="block" pos:start="49:5" pos:end="49:19">/* name + id */</comment>

    <expr_stmt pos:start="51:5" pos:end="51:73"><expr pos:start="51:5" pos:end="51:72"><call pos:start="51:5" pos:end="51:72"><name pos:start="51:5" pos:end="51:22">xenstore_write_str</name><argument_list pos:start="51:23" pos:end="51:72">(<argument pos:start="51:24" pos:end="51:25"><expr pos:start="51:24" pos:end="51:25"><name pos:start="51:24" pos:end="51:25">vm</name></expr></argument>,  <argument pos:start="51:29" pos:end="51:34"><expr pos:start="51:29" pos:end="51:34"><literal type="string" pos:start="51:29" pos:end="51:34">"name"</literal></expr></argument>,   <argument pos:start="51:39" pos:end="51:71"><expr pos:start="51:39" pos:end="51:71"><ternary pos:start="51:39" pos:end="51:71"><condition pos:start="51:39" pos:end="51:49"><expr pos:start="51:39" pos:end="51:47"><name pos:start="51:39" pos:end="51:47">qemu_name</name></expr> ?</condition><then pos:start="51:51" pos:end="51:59"> <expr pos:start="51:51" pos:end="51:59"><name pos:start="51:51" pos:end="51:59">qemu_name</name></expr> </then><else pos:start="51:61" pos:end="51:71">: <expr pos:start="51:63" pos:end="51:71"><literal type="string" pos:start="51:63" pos:end="51:71">"no-name"</literal></expr></else></ternary></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="53:5" pos:end="53:51"><expr pos:start="53:5" pos:end="53:50"><call pos:start="53:5" pos:end="53:50"><name pos:start="53:5" pos:end="53:22">xenstore_write_str</name><argument_list pos:start="53:23" pos:end="53:50">(<argument pos:start="53:24" pos:end="53:25"><expr pos:start="53:24" pos:end="53:25"><name pos:start="53:24" pos:end="53:25">vm</name></expr></argument>,  <argument pos:start="53:29" pos:end="53:34"><expr pos:start="53:29" pos:end="53:34"><literal type="string" pos:start="53:29" pos:end="53:34">"uuid"</literal></expr></argument>,   <argument pos:start="53:39" pos:end="53:49"><expr pos:start="53:39" pos:end="53:49"><name pos:start="53:39" pos:end="53:49">uuid_string</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="55:5" pos:end="55:73"><expr pos:start="55:5" pos:end="55:72"><call pos:start="55:5" pos:end="55:72"><name pos:start="55:5" pos:end="55:22">xenstore_write_str</name><argument_list pos:start="55:23" pos:end="55:72">(<argument pos:start="55:24" pos:end="55:26"><expr pos:start="55:24" pos:end="55:26"><name pos:start="55:24" pos:end="55:26">dom</name></expr></argument>, <argument pos:start="55:29" pos:end="55:34"><expr pos:start="55:29" pos:end="55:34"><literal type="string" pos:start="55:29" pos:end="55:34">"name"</literal></expr></argument>,   <argument pos:start="55:39" pos:end="55:71"><expr pos:start="55:39" pos:end="55:71"><ternary pos:start="55:39" pos:end="55:71"><condition pos:start="55:39" pos:end="55:49"><expr pos:start="55:39" pos:end="55:47"><name pos:start="55:39" pos:end="55:47">qemu_name</name></expr> ?</condition><then pos:start="55:51" pos:end="55:59"> <expr pos:start="55:51" pos:end="55:59"><name pos:start="55:51" pos:end="55:59">qemu_name</name></expr> </then><else pos:start="55:61" pos:end="55:71">: <expr pos:start="55:63" pos:end="55:71"><literal type="string" pos:start="55:63" pos:end="55:71">"no-name"</literal></expr></else></ternary></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="57:5" pos:end="57:49"><expr pos:start="57:5" pos:end="57:48"><call pos:start="57:5" pos:end="57:48"><name pos:start="57:5" pos:end="57:22">xenstore_write_int</name><argument_list pos:start="57:23" pos:end="57:48">(<argument pos:start="57:24" pos:end="57:26"><expr pos:start="57:24" pos:end="57:26"><name pos:start="57:24" pos:end="57:26">dom</name></expr></argument>, <argument pos:start="57:29" pos:end="57:35"><expr pos:start="57:29" pos:end="57:35"><literal type="string" pos:start="57:29" pos:end="57:35">"domid"</literal></expr></argument>,  <argument pos:start="57:39" pos:end="57:47"><expr pos:start="57:39" pos:end="57:47"><name pos:start="57:39" pos:end="57:47">xen_domid</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="59:5" pos:end="59:42"><expr pos:start="59:5" pos:end="59:41"><call pos:start="59:5" pos:end="59:41"><name pos:start="59:5" pos:end="59:22">xenstore_write_str</name><argument_list pos:start="59:23" pos:end="59:41">(<argument pos:start="59:24" pos:end="59:26"><expr pos:start="59:24" pos:end="59:26"><name pos:start="59:24" pos:end="59:26">dom</name></expr></argument>, <argument pos:start="59:29" pos:end="59:32"><expr pos:start="59:29" pos:end="59:32"><literal type="string" pos:start="59:29" pos:end="59:32">"vm"</literal></expr></argument>,     <argument pos:start="59:39" pos:end="59:40"><expr pos:start="59:39" pos:end="59:40"><name pos:start="59:39" pos:end="59:40">vm</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <comment type="block" pos:start="63:5" pos:end="63:16">/* memory */</comment>

    <expr_stmt pos:start="65:5" pos:end="65:61"><expr pos:start="65:5" pos:end="65:60"><call pos:start="65:5" pos:end="65:60"><name pos:start="65:5" pos:end="65:22">xenstore_write_int</name><argument_list pos:start="65:23" pos:end="65:60">(<argument pos:start="65:24" pos:end="65:26"><expr pos:start="65:24" pos:end="65:26"><name pos:start="65:24" pos:end="65:26">dom</name></expr></argument>, <argument pos:start="65:29" pos:end="65:43"><expr pos:start="65:29" pos:end="65:43"><literal type="string" pos:start="65:29" pos:end="65:43">"memory/target"</literal></expr></argument>, <argument pos:start="65:46" pos:end="65:59"><expr pos:start="65:46" pos:end="65:59"><name pos:start="65:46" pos:end="65:53">ram_size</name> <operator pos:start="65:55" pos:end="65:56">&gt;&gt;</operator> <literal type="number" pos:start="65:58" pos:end="65:59">10</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>  <comment type="line" pos:start="65:64" pos:end="65:68">// kB</comment>

    <expr_stmt pos:start="67:5" pos:end="67:61"><expr pos:start="67:5" pos:end="67:60"><call pos:start="67:5" pos:end="67:60"><name pos:start="67:5" pos:end="67:22">xenstore_write_int</name><argument_list pos:start="67:23" pos:end="67:60">(<argument pos:start="67:24" pos:end="67:25"><expr pos:start="67:24" pos:end="67:25"><name pos:start="67:24" pos:end="67:25">vm</name></expr></argument>, <argument pos:start="67:28" pos:end="67:35"><expr pos:start="67:28" pos:end="67:35"><literal type="string" pos:start="67:28" pos:end="67:35">"memory"</literal></expr></argument>,         <argument pos:start="67:46" pos:end="67:59"><expr pos:start="67:46" pos:end="67:59"><name pos:start="67:46" pos:end="67:53">ram_size</name> <operator pos:start="67:55" pos:end="67:56">&gt;&gt;</operator> <literal type="number" pos:start="67:58" pos:end="67:59">20</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>  <comment type="line" pos:start="67:64" pos:end="67:68">// MB</comment>

    <expr_stmt pos:start="69:5" pos:end="69:61"><expr pos:start="69:5" pos:end="69:60"><call pos:start="69:5" pos:end="69:60"><name pos:start="69:5" pos:end="69:22">xenstore_write_int</name><argument_list pos:start="69:23" pos:end="69:60">(<argument pos:start="69:24" pos:end="69:25"><expr pos:start="69:24" pos:end="69:25"><name pos:start="69:24" pos:end="69:25">vm</name></expr></argument>, <argument pos:start="69:28" pos:end="69:35"><expr pos:start="69:28" pos:end="69:35"><literal type="string" pos:start="69:28" pos:end="69:35">"maxmem"</literal></expr></argument>,         <argument pos:start="69:46" pos:end="69:59"><expr pos:start="69:46" pos:end="69:59"><name pos:start="69:46" pos:end="69:53">ram_size</name> <operator pos:start="69:55" pos:end="69:56">&gt;&gt;</operator> <literal type="number" pos:start="69:58" pos:end="69:59">20</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>  <comment type="line" pos:start="69:64" pos:end="69:68">// MB</comment>



    <comment type="block" pos:start="73:5" pos:end="73:14">/* cpus */</comment>

    <for pos:start="75:5" pos:end="81:5">for <control pos:start="75:9" pos:end="75:34">(<init pos:start="75:10" pos:end="75:15"><expr pos:start="75:10" pos:end="75:14"><name pos:start="75:10" pos:end="75:10">i</name> <operator pos:start="75:12" pos:end="75:12">=</operator> <literal type="number" pos:start="75:14" pos:end="75:14">0</literal></expr>;</init> <condition pos:start="75:17" pos:end="75:29"><expr pos:start="75:17" pos:end="75:28"><name pos:start="75:17" pos:end="75:17">i</name> <operator pos:start="75:19" pos:end="75:19">&lt;</operator> <name pos:start="75:21" pos:end="75:28">smp_cpus</name></expr>;</condition> <incr pos:start="75:31" pos:end="75:33"><expr pos:start="75:31" pos:end="75:33"><name pos:start="75:31" pos:end="75:31">i</name><operator pos:start="75:32" pos:end="75:33">++</operator></expr></incr>)</control> <block pos:start="75:36" pos:end="81:5">{<block_content pos:start="77:9" pos:end="79:48">

	<expr_stmt pos:start="77:9" pos:end="77:62"><expr pos:start="77:9" pos:end="77:61"><call pos:start="77:9" pos:end="77:61"><name pos:start="77:9" pos:end="77:16">snprintf</name><argument_list pos:start="77:17" pos:end="77:61">(<argument pos:start="77:18" pos:end="77:21"><expr pos:start="77:18" pos:end="77:21"><name pos:start="77:18" pos:end="77:21">path</name></expr></argument>, <argument pos:start="77:24" pos:end="77:35"><expr pos:start="77:24" pos:end="77:35"><sizeof pos:start="77:24" pos:end="77:35">sizeof<argument_list pos:start="77:30" pos:end="77:35">(<argument pos:start="77:31" pos:end="77:34"><expr pos:start="77:31" pos:end="77:34"><name pos:start="77:31" pos:end="77:34">path</name></expr></argument>)</argument_list></sizeof></expr></argument>, <argument pos:start="77:38" pos:end="77:58"><expr pos:start="77:38" pos:end="77:58"><literal type="string" pos:start="77:38" pos:end="77:58">"cpu/%d/availability"</literal></expr></argument>,<argument pos:start="77:60" pos:end="77:60"><expr pos:start="77:60" pos:end="77:60"><name pos:start="77:60" pos:end="77:60">i</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

	<expr_stmt pos:start="79:9" pos:end="79:48"><expr pos:start="79:9" pos:end="79:47"><call pos:start="79:9" pos:end="79:47"><name pos:start="79:9" pos:end="79:26">xenstore_write_str</name><argument_list pos:start="79:27" pos:end="79:47">(<argument pos:start="79:28" pos:end="79:30"><expr pos:start="79:28" pos:end="79:30"><name pos:start="79:28" pos:end="79:30">dom</name></expr></argument>, <argument pos:start="79:33" pos:end="79:36"><expr pos:start="79:33" pos:end="79:36"><name pos:start="79:33" pos:end="79:36">path</name></expr></argument>, <argument pos:start="79:39" pos:end="79:46"><expr pos:start="79:39" pos:end="79:46"><literal type="string" pos:start="79:39" pos:end="79:46">"online"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></for>

    <expr_stmt pos:start="83:5" pos:end="83:52"><expr pos:start="83:5" pos:end="83:51"><call pos:start="83:5" pos:end="83:51"><name pos:start="83:5" pos:end="83:22">xenstore_write_int</name><argument_list pos:start="83:23" pos:end="83:51">(<argument pos:start="83:24" pos:end="83:25"><expr pos:start="83:24" pos:end="83:25"><name pos:start="83:24" pos:end="83:25">vm</name></expr></argument>, <argument pos:start="83:28" pos:end="83:39"><expr pos:start="83:28" pos:end="83:39"><literal type="string" pos:start="83:28" pos:end="83:39">"vcpu_avail"</literal></expr></argument>,  <argument pos:start="83:43" pos:end="83:50"><expr pos:start="83:43" pos:end="83:50"><name pos:start="83:43" pos:end="83:50">smp_cpus</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="85:5" pos:end="85:52"><expr pos:start="85:5" pos:end="85:51"><call pos:start="85:5" pos:end="85:51"><name pos:start="85:5" pos:end="85:22">xenstore_write_int</name><argument_list pos:start="85:23" pos:end="85:51">(<argument pos:start="85:24" pos:end="85:25"><expr pos:start="85:24" pos:end="85:25"><name pos:start="85:24" pos:end="85:25">vm</name></expr></argument>, <argument pos:start="85:28" pos:end="85:34"><expr pos:start="85:28" pos:end="85:34"><literal type="string" pos:start="85:28" pos:end="85:34">"vcpus"</literal></expr></argument>,       <argument pos:start="85:43" pos:end="85:50"><expr pos:start="85:43" pos:end="85:50"><name pos:start="85:43" pos:end="85:50">smp_cpus</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <comment type="block" pos:start="89:5" pos:end="89:22">/* vnc password */</comment>

    <expr_stmt pos:start="91:5" pos:end="91:58"><expr pos:start="91:5" pos:end="91:57"><call pos:start="91:5" pos:end="91:57"><name pos:start="91:5" pos:end="91:22">xenstore_write_str</name><argument_list pos:start="91:23" pos:end="91:57">(<argument pos:start="91:24" pos:end="91:25"><expr pos:start="91:24" pos:end="91:25"><name pos:start="91:24" pos:end="91:25">vm</name></expr></argument>, <argument pos:start="91:28" pos:end="91:40"><expr pos:start="91:28" pos:end="91:40"><literal type="string" pos:start="91:28" pos:end="91:40">"vncpassword"</literal></expr></argument>, <argument pos:start="91:43" pos:end="91:44"><expr pos:start="91:43" pos:end="91:44"><literal type="string" pos:start="91:43" pos:end="91:44">""</literal></expr></argument> <comment type="block" pos:start="91:46" pos:end="91:56">/* FIXME */</comment>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="95:5" pos:end="95:14"><expr pos:start="95:5" pos:end="95:13"><call pos:start="95:5" pos:end="95:13"><name pos:start="95:5" pos:end="95:8">free</name><argument_list pos:start="95:9" pos:end="95:13">(<argument pos:start="95:10" pos:end="95:12"><expr pos:start="95:10" pos:end="95:12"><name pos:start="95:10" pos:end="95:12">dom</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <return pos:start="97:5" pos:end="97:13">return <expr pos:start="97:12" pos:end="97:12"><literal type="number" pos:start="97:12" pos:end="97:12">0</literal></expr>;</return>

</block_content>}</block></function>
</unit>
