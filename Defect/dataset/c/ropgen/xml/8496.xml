<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:cpp="http://www.srcML.org/srcML/cpp" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/8496.c" pos:tabs="8"><function pos:start="1:1" pos:end="291:1"><type pos:start="1:1" pos:end="1:10"><name pos:start="1:1" pos:end="1:8">pflash_t</name> <modifier pos:start="1:10" pos:end="1:10">*</modifier></type><name pos:start="1:11" pos:end="1:31">pflash_cfi01_register</name><parameter_list pos:start="1:32" pos:end="13:67">(<parameter pos:start="1:33" pos:end="1:55"><decl pos:start="1:33" pos:end="1:55"><type pos:start="1:33" pos:end="1:55"><name pos:start="1:33" pos:end="1:50">target_phys_addr_t</name></type> <name pos:start="1:52" pos:end="1:55">base</name></decl></parameter>,

                                <parameter pos:start="3:33" pos:end="3:49"><decl pos:start="3:33" pos:end="3:49"><type pos:start="3:33" pos:end="3:49"><name pos:start="3:33" pos:end="3:43">DeviceState</name> <modifier pos:start="3:45" pos:end="3:45">*</modifier></type><name pos:start="3:46" pos:end="3:49">qdev</name></decl></parameter>, <parameter pos:start="3:52" pos:end="3:67"><decl pos:start="3:52" pos:end="3:67"><type pos:start="3:52" pos:end="3:67"><specifier pos:start="3:52" pos:end="3:56">const</specifier> <name pos:start="3:58" pos:end="3:61">char</name> <modifier pos:start="3:63" pos:end="3:63">*</modifier></type><name pos:start="3:64" pos:end="3:67">name</name></decl></parameter>,

                                <parameter pos:start="5:33" pos:end="5:55"><decl pos:start="5:33" pos:end="5:55"><type pos:start="5:33" pos:end="5:55"><name pos:start="5:33" pos:end="5:50">target_phys_addr_t</name></type> <name pos:start="5:52" pos:end="5:55">size</name></decl></parameter>,

                                <parameter pos:start="7:33" pos:end="7:52"><decl pos:start="7:33" pos:end="7:52"><type pos:start="7:33" pos:end="7:52"><name pos:start="7:33" pos:end="7:48">BlockDriverState</name> <modifier pos:start="7:50" pos:end="7:50">*</modifier></type><name pos:start="7:51" pos:end="7:52">bs</name></decl></parameter>, <parameter pos:start="7:55" pos:end="7:73"><decl pos:start="7:55" pos:end="7:73"><type pos:start="7:55" pos:end="7:73"><name pos:start="7:55" pos:end="7:62">uint32_t</name></type> <name pos:start="7:64" pos:end="7:73">sector_len</name></decl></parameter>,

                                <parameter pos:start="9:33" pos:end="9:44"><decl pos:start="9:33" pos:end="9:44"><type pos:start="9:33" pos:end="9:44"><name pos:start="9:33" pos:end="9:35">int</name></type> <name pos:start="9:37" pos:end="9:44">nb_blocs</name></decl></parameter>, <parameter pos:start="9:47" pos:end="9:55"><decl pos:start="9:47" pos:end="9:55"><type pos:start="9:47" pos:end="9:55"><name pos:start="9:47" pos:end="9:49">int</name></type> <name pos:start="9:51" pos:end="9:55">width</name></decl></parameter>,

                                <parameter pos:start="11:33" pos:end="11:44"><decl pos:start="11:33" pos:end="11:44"><type pos:start="11:33" pos:end="11:44"><name pos:start="11:33" pos:end="11:40">uint16_t</name></type> <name pos:start="11:42" pos:end="11:44">id0</name></decl></parameter>, <parameter pos:start="11:47" pos:end="11:58"><decl pos:start="11:47" pos:end="11:58"><type pos:start="11:47" pos:end="11:58"><name pos:start="11:47" pos:end="11:54">uint16_t</name></type> <name pos:start="11:56" pos:end="11:58">id1</name></decl></parameter>,

                                <parameter pos:start="13:33" pos:end="13:44"><decl pos:start="13:33" pos:end="13:44"><type pos:start="13:33" pos:end="13:44"><name pos:start="13:33" pos:end="13:40">uint16_t</name></type> <name pos:start="13:42" pos:end="13:44">id2</name></decl></parameter>, <parameter pos:start="13:47" pos:end="13:58"><decl pos:start="13:47" pos:end="13:58"><type pos:start="13:47" pos:end="13:58"><name pos:start="13:47" pos:end="13:54">uint16_t</name></type> <name pos:start="13:56" pos:end="13:58">id3</name></decl></parameter>, <parameter pos:start="13:61" pos:end="13:66"><decl pos:start="13:61" pos:end="13:66"><type pos:start="13:61" pos:end="13:66"><name pos:start="13:61" pos:end="13:63">int</name></type> <name pos:start="13:65" pos:end="13:66">be</name></decl></parameter>)</parameter_list>

<block pos:start="15:1" pos:end="291:1">{<block_content pos:start="17:5" pos:end="289:15">

    <decl_stmt pos:start="17:5" pos:end="17:18"><decl pos:start="17:5" pos:end="17:17"><type pos:start="17:5" pos:end="17:14"><name pos:start="17:5" pos:end="17:12">pflash_t</name> <modifier pos:start="17:14" pos:end="17:14">*</modifier></type><name pos:start="17:15" pos:end="17:17">pfl</name></decl>;</decl_stmt>

    <decl_stmt pos:start="19:5" pos:end="19:33"><decl pos:start="19:5" pos:end="19:32"><type pos:start="19:5" pos:end="19:22"><name pos:start="19:5" pos:end="19:22">target_phys_addr_t</name></type> <name pos:start="19:24" pos:end="19:32">total_len</name></decl>;</decl_stmt>

    <decl_stmt pos:start="21:5" pos:end="21:12"><decl pos:start="21:5" pos:end="21:11"><type pos:start="21:5" pos:end="21:7"><name pos:start="21:5" pos:end="21:7">int</name></type> <name pos:start="21:9" pos:end="21:11">ret</name></decl>;</decl_stmt>



    <expr_stmt pos:start="25:5" pos:end="40:0"><expr pos:start="25:5" pos:end="25:37"><name pos:start="25:5" pos:end="25:13">total_len</name> <operator pos:start="25:15" pos:end="25:15">=</operator> <name pos:start="25:17" pos:end="25:26">sector_len</name> <operator pos:start="25:28" pos:end="25:28">*</operator> <name pos:start="25:30" pos:end="25:37">nb_blocs</name></expr>;</expr_stmt>



    <comment type="block" pos:start="29:5" pos:end="29:26">/* XXX: to be fixed */</comment>

<cpp:if pos:start="31:1" pos:end="31:5">#<cpp:directive pos:start="31:2" pos:end="31:3">if</cpp:directive> <expr pos:start="31:5" pos:end="31:5"><literal type="number" pos:start="31:5" pos:end="31:5">0</literal></expr></cpp:if>

    if (total_len != (8 * 1024 * 1024) &amp;&amp; total_len != (16 * 1024 * 1024) &amp;&amp;

        total_len != (32 * 1024 * 1024) &amp;&amp; total_len != (64 * 1024 * 1024))

        return NULL;

<cpp:endif pos:start="39:1" pos:end="39:6">#<cpp:directive pos:start="39:2" pos:end="39:6">endif</cpp:directive></cpp:endif>



    <expr_stmt pos:start="43:5" pos:end="43:38"><expr pos:start="43:5" pos:end="43:37"><name pos:start="43:5" pos:end="43:7">pfl</name> <operator pos:start="43:9" pos:end="43:9">=</operator> <call pos:start="43:11" pos:end="43:37"><name pos:start="43:11" pos:end="43:19">g_malloc0</name><argument_list pos:start="43:20" pos:end="43:37">(<argument pos:start="43:21" pos:end="43:36"><expr pos:start="43:21" pos:end="43:36"><sizeof pos:start="43:21" pos:end="43:36">sizeof<argument_list pos:start="43:27" pos:end="43:36">(<argument pos:start="43:28" pos:end="43:35"><expr pos:start="43:28" pos:end="43:35"><name pos:start="43:28" pos:end="43:35">pflash_t</name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="47:5" pos:end="51:20"><expr pos:start="47:5" pos:end="51:19"><call pos:start="47:5" pos:end="51:19"><name pos:start="47:5" pos:end="47:33">memory_region_init_rom_device</name><argument_list pos:start="47:34" pos:end="51:19">(

        <argument pos:start="49:9" pos:end="49:17"><expr pos:start="49:9" pos:end="49:17"><operator pos:start="49:9" pos:end="49:9">&amp;</operator><name pos:start="49:10" pos:end="49:17"><name pos:start="49:10" pos:end="49:12">pfl</name><operator pos:start="49:13" pos:end="49:14">-&gt;</operator><name pos:start="49:15" pos:end="49:17">mem</name></name></expr></argument>, <argument pos:start="49:20" pos:end="49:67"><expr pos:start="49:20" pos:end="49:67"><ternary pos:start="49:20" pos:end="49:67"><condition pos:start="49:20" pos:end="49:23"><expr pos:start="49:20" pos:end="49:21"><name pos:start="49:20" pos:end="49:21">be</name></expr> ?</condition><then pos:start="49:25" pos:end="49:44"> <expr pos:start="49:25" pos:end="49:44"><operator pos:start="49:25" pos:end="49:25">&amp;</operator><name pos:start="49:26" pos:end="49:44">pflash_cfi01_ops_be</name></expr> </then><else pos:start="49:46" pos:end="49:67">: <expr pos:start="49:48" pos:end="49:67"><operator pos:start="49:48" pos:end="49:48">&amp;</operator><name pos:start="49:49" pos:end="49:67">pflash_cfi01_ops_le</name></expr></else></ternary></expr></argument>, <argument pos:start="49:70" pos:end="49:72"><expr pos:start="49:70" pos:end="49:72"><name pos:start="49:70" pos:end="49:72">pfl</name></expr></argument>,

        <argument pos:start="51:9" pos:end="51:12"><expr pos:start="51:9" pos:end="51:12"><name pos:start="51:9" pos:end="51:12">name</name></expr></argument>, <argument pos:start="51:15" pos:end="51:18"><expr pos:start="51:15" pos:end="51:18"><name pos:start="51:15" pos:end="51:18">size</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="53:5" pos:end="53:42"><expr pos:start="53:5" pos:end="53:41"><call pos:start="53:5" pos:end="53:41"><name pos:start="53:5" pos:end="53:24">vmstate_register_ram</name><argument_list pos:start="53:25" pos:end="53:41">(<argument pos:start="53:26" pos:end="53:34"><expr pos:start="53:26" pos:end="53:34"><operator pos:start="53:26" pos:end="53:26">&amp;</operator><name pos:start="53:27" pos:end="53:34"><name pos:start="53:27" pos:end="53:29">pfl</name><operator pos:start="53:30" pos:end="53:31">-&gt;</operator><name pos:start="53:32" pos:end="53:34">mem</name></name></expr></argument>, <argument pos:start="53:37" pos:end="53:40"><expr pos:start="53:37" pos:end="53:40"><name pos:start="53:37" pos:end="53:40">qdev</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="55:5" pos:end="55:56"><expr pos:start="55:5" pos:end="55:55"><name pos:start="55:5" pos:end="55:16"><name pos:start="55:5" pos:end="55:7">pfl</name><operator pos:start="55:8" pos:end="55:9">-&gt;</operator><name pos:start="55:10" pos:end="55:16">storage</name></name> <operator pos:start="55:18" pos:end="55:18">=</operator> <call pos:start="55:20" pos:end="55:55"><name pos:start="55:20" pos:end="55:44">memory_region_get_ram_ptr</name><argument_list pos:start="55:45" pos:end="55:55">(<argument pos:start="55:46" pos:end="55:54"><expr pos:start="55:46" pos:end="55:54"><operator pos:start="55:46" pos:end="55:46">&amp;</operator><name pos:start="55:47" pos:end="55:54"><name pos:start="55:47" pos:end="55:49">pfl</name><operator pos:start="55:50" pos:end="55:51">-&gt;</operator><name pos:start="55:52" pos:end="55:54">mem</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="57:5" pos:end="57:70"><expr pos:start="57:5" pos:end="57:69"><call pos:start="57:5" pos:end="57:69"><name pos:start="57:5" pos:end="57:31">memory_region_add_subregion</name><argument_list pos:start="57:32" pos:end="57:69">(<argument pos:start="57:33" pos:end="57:51"><expr pos:start="57:33" pos:end="57:51"><call pos:start="57:33" pos:end="57:51"><name pos:start="57:33" pos:end="57:49">get_system_memory</name><argument_list pos:start="57:50" pos:end="57:51">()</argument_list></call></expr></argument>, <argument pos:start="57:54" pos:end="57:57"><expr pos:start="57:54" pos:end="57:57"><name pos:start="57:54" pos:end="57:57">base</name></expr></argument>, <argument pos:start="57:60" pos:end="57:68"><expr pos:start="57:60" pos:end="57:68"><operator pos:start="57:60" pos:end="57:60">&amp;</operator><name pos:start="57:61" pos:end="57:68"><name pos:start="57:61" pos:end="57:63">pfl</name><operator pos:start="57:64" pos:end="57:65">-&gt;</operator><name pos:start="57:66" pos:end="57:68">mem</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="61:5" pos:end="61:17"><expr pos:start="61:5" pos:end="61:16"><name pos:start="61:5" pos:end="61:11"><name pos:start="61:5" pos:end="61:7">pfl</name><operator pos:start="61:8" pos:end="61:9">-&gt;</operator><name pos:start="61:10" pos:end="61:11">bs</name></name> <operator pos:start="61:13" pos:end="61:13">=</operator> <name pos:start="61:15" pos:end="61:16">bs</name></expr>;</expr_stmt>

    <if_stmt pos:start="63:5" pos:end="85:5"><if pos:start="63:5" pos:end="85:5">if <condition pos:start="63:8" pos:end="63:16">(<expr pos:start="63:9" pos:end="63:15"><name pos:start="63:9" pos:end="63:15"><name pos:start="63:9" pos:end="63:11">pfl</name><operator pos:start="63:12" pos:end="63:13">-&gt;</operator><name pos:start="63:14" pos:end="63:15">bs</name></name></expr>)</condition> <block pos:start="63:18" pos:end="85:5">{<block_content pos:start="67:9" pos:end="83:45">

        <comment type="block" pos:start="65:9" pos:end="65:44">/* read the initial flash content */</comment>

        <expr_stmt pos:start="67:9" pos:end="67:66"><expr pos:start="67:9" pos:end="67:65"><name pos:start="67:9" pos:end="67:11">ret</name> <operator pos:start="67:13" pos:end="67:13">=</operator> <call pos:start="67:15" pos:end="67:65"><name pos:start="67:15" pos:end="67:23">bdrv_read</name><argument_list pos:start="67:24" pos:end="67:65">(<argument pos:start="67:25" pos:end="67:31"><expr pos:start="67:25" pos:end="67:31"><name pos:start="67:25" pos:end="67:31"><name pos:start="67:25" pos:end="67:27">pfl</name><operator pos:start="67:28" pos:end="67:29">-&gt;</operator><name pos:start="67:30" pos:end="67:31">bs</name></name></expr></argument>, <argument pos:start="67:34" pos:end="67:34"><expr pos:start="67:34" pos:end="67:34"><literal type="number" pos:start="67:34" pos:end="67:34">0</literal></expr></argument>, <argument pos:start="67:37" pos:end="67:48"><expr pos:start="67:37" pos:end="67:48"><name pos:start="67:37" pos:end="67:48"><name pos:start="67:37" pos:end="67:39">pfl</name><operator pos:start="67:40" pos:end="67:41">-&gt;</operator><name pos:start="67:42" pos:end="67:48">storage</name></name></expr></argument>, <argument pos:start="67:51" pos:end="67:64"><expr pos:start="67:51" pos:end="67:64"><name pos:start="67:51" pos:end="67:59">total_len</name> <operator pos:start="67:61" pos:end="67:62">&gt;&gt;</operator> <literal type="number" pos:start="67:64" pos:end="67:64">9</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="69:9" pos:end="81:9"><if pos:start="69:9" pos:end="81:9">if <condition pos:start="69:12" pos:end="69:20">(<expr pos:start="69:13" pos:end="69:19"><name pos:start="69:13" pos:end="69:15">ret</name> <operator pos:start="69:17" pos:end="69:17">&lt;</operator> <literal type="number" pos:start="69:19" pos:end="69:19">0</literal></expr>)</condition> <block pos:start="69:22" pos:end="81:9">{<block_content pos:start="71:13" pos:end="79:24">

            <expr_stmt pos:start="71:13" pos:end="71:72"><expr pos:start="71:13" pos:end="71:71"><call pos:start="71:13" pos:end="71:71"><name pos:start="71:13" pos:end="71:39">memory_region_del_subregion</name><argument_list pos:start="71:40" pos:end="71:71">(<argument pos:start="71:41" pos:end="71:59"><expr pos:start="71:41" pos:end="71:59"><call pos:start="71:41" pos:end="71:59"><name pos:start="71:41" pos:end="71:57">get_system_memory</name><argument_list pos:start="71:58" pos:end="71:59">()</argument_list></call></expr></argument>, <argument pos:start="71:62" pos:end="71:70"><expr pos:start="71:62" pos:end="71:70"><operator pos:start="71:62" pos:end="71:62">&amp;</operator><name pos:start="71:63" pos:end="71:70"><name pos:start="71:63" pos:end="71:65">pfl</name><operator pos:start="71:66" pos:end="71:67">-&gt;</operator><name pos:start="71:68" pos:end="71:70">mem</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="73:13" pos:end="73:52"><expr pos:start="73:13" pos:end="73:51"><call pos:start="73:13" pos:end="73:51"><name pos:start="73:13" pos:end="73:34">vmstate_unregister_ram</name><argument_list pos:start="73:35" pos:end="73:51">(<argument pos:start="73:36" pos:end="73:44"><expr pos:start="73:36" pos:end="73:44"><operator pos:start="73:36" pos:end="73:36">&amp;</operator><name pos:start="73:37" pos:end="73:44"><name pos:start="73:37" pos:end="73:39">pfl</name><operator pos:start="73:40" pos:end="73:41">-&gt;</operator><name pos:start="73:42" pos:end="73:44">mem</name></name></expr></argument>, <argument pos:start="73:47" pos:end="73:50"><expr pos:start="73:47" pos:end="73:50"><name pos:start="73:47" pos:end="73:50">qdev</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="75:13" pos:end="75:45"><expr pos:start="75:13" pos:end="75:44"><call pos:start="75:13" pos:end="75:44"><name pos:start="75:13" pos:end="75:33">memory_region_destroy</name><argument_list pos:start="75:34" pos:end="75:44">(<argument pos:start="75:35" pos:end="75:43"><expr pos:start="75:35" pos:end="75:43"><operator pos:start="75:35" pos:end="75:35">&amp;</operator><name pos:start="75:36" pos:end="75:43"><name pos:start="75:36" pos:end="75:38">pfl</name><operator pos:start="75:39" pos:end="75:40">-&gt;</operator><name pos:start="75:41" pos:end="75:43">mem</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="77:13" pos:end="77:24"><expr pos:start="77:13" pos:end="77:23"><call pos:start="77:13" pos:end="77:23"><name pos:start="77:13" pos:end="77:18">g_free</name><argument_list pos:start="77:19" pos:end="77:23">(<argument pos:start="77:20" pos:end="77:22"><expr pos:start="77:20" pos:end="77:22"><name pos:start="77:20" pos:end="77:22">pfl</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <return pos:start="79:13" pos:end="79:24">return <expr pos:start="79:20" pos:end="79:23"><name pos:start="79:20" pos:end="79:23">NULL</name></expr>;</return>

        </block_content>}</block></if></if_stmt>

        <expr_stmt pos:start="83:9" pos:end="83:45"><expr pos:start="83:9" pos:end="83:44"><call pos:start="83:9" pos:end="83:44"><name pos:start="83:9" pos:end="83:30">bdrv_attach_dev_nofail</name><argument_list pos:start="83:31" pos:end="83:44">(<argument pos:start="83:32" pos:end="83:38"><expr pos:start="83:32" pos:end="83:38"><name pos:start="83:32" pos:end="83:38"><name pos:start="83:32" pos:end="83:34">pfl</name><operator pos:start="83:35" pos:end="83:36">-&gt;</operator><name pos:start="83:37" pos:end="83:38">bs</name></name></expr></argument>, <argument pos:start="83:41" pos:end="83:43"><expr pos:start="83:41" pos:end="83:43"><name pos:start="83:41" pos:end="83:43">pfl</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="89:5" pos:end="97:5"><if pos:start="89:5" pos:end="93:5">if <condition pos:start="89:8" pos:end="89:16">(<expr pos:start="89:9" pos:end="89:15"><name pos:start="89:9" pos:end="89:15"><name pos:start="89:9" pos:end="89:11">pfl</name><operator pos:start="89:12" pos:end="89:13">-&gt;</operator><name pos:start="89:14" pos:end="89:15">bs</name></name></expr>)</condition> <block pos:start="89:18" pos:end="93:5">{<block_content pos:start="91:9" pos:end="91:45">

        <expr_stmt pos:start="91:9" pos:end="91:45"><expr pos:start="91:9" pos:end="91:44"><name pos:start="91:9" pos:end="91:15"><name pos:start="91:9" pos:end="91:11">pfl</name><operator pos:start="91:12" pos:end="91:13">-&gt;</operator><name pos:start="91:14" pos:end="91:15">ro</name></name> <operator pos:start="91:17" pos:end="91:17">=</operator> <call pos:start="91:19" pos:end="91:44"><name pos:start="91:19" pos:end="91:35">bdrv_is_read_only</name><argument_list pos:start="91:36" pos:end="91:44">(<argument pos:start="91:37" pos:end="91:43"><expr pos:start="91:37" pos:end="91:43"><name pos:start="91:37" pos:end="91:43"><name pos:start="91:37" pos:end="91:39">pfl</name><operator pos:start="91:40" pos:end="91:41">-&gt;</operator><name pos:start="91:42" pos:end="91:43">bs</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="93:7" pos:end="97:5">else <block pos:start="93:12" pos:end="97:5">{<block_content pos:start="95:9" pos:end="95:20">

        <expr_stmt pos:start="95:9" pos:end="95:20"><expr pos:start="95:9" pos:end="95:19"><name pos:start="95:9" pos:end="95:15"><name pos:start="95:9" pos:end="95:11">pfl</name><operator pos:start="95:12" pos:end="95:13">-&gt;</operator><name pos:start="95:14" pos:end="95:15">ro</name></name> <operator pos:start="95:17" pos:end="95:17">=</operator> <literal type="number" pos:start="95:19" pos:end="95:19">0</literal></expr>;</expr_stmt>

    </block_content>}</block></else></if_stmt>



    <expr_stmt pos:start="101:5" pos:end="101:64"><expr pos:start="101:5" pos:end="101:63"><name pos:start="101:5" pos:end="101:14"><name pos:start="101:5" pos:end="101:7">pfl</name><operator pos:start="101:8" pos:end="101:9">-&gt;</operator><name pos:start="101:10" pos:end="101:14">timer</name></name> <operator pos:start="101:16" pos:end="101:16">=</operator> <call pos:start="101:18" pos:end="101:63"><name pos:start="101:18" pos:end="101:34">qemu_new_timer_ns</name><argument_list pos:start="101:35" pos:end="101:63">(<argument pos:start="101:36" pos:end="101:43"><expr pos:start="101:36" pos:end="101:43"><name pos:start="101:36" pos:end="101:43">vm_clock</name></expr></argument>, <argument pos:start="101:46" pos:end="101:57"><expr pos:start="101:46" pos:end="101:57"><name pos:start="101:46" pos:end="101:57">pflash_timer</name></expr></argument>, <argument pos:start="101:60" pos:end="101:62"><expr pos:start="101:60" pos:end="101:62"><name pos:start="101:60" pos:end="101:62">pfl</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="103:5" pos:end="103:21"><expr pos:start="103:5" pos:end="103:20"><name pos:start="103:5" pos:end="103:13"><name pos:start="103:5" pos:end="103:7">pfl</name><operator pos:start="103:8" pos:end="103:9">-&gt;</operator><name pos:start="103:10" pos:end="103:13">base</name></name> <operator pos:start="103:15" pos:end="103:15">=</operator> <name pos:start="103:17" pos:end="103:20">base</name></expr>;</expr_stmt>

    <expr_stmt pos:start="105:5" pos:end="105:33"><expr pos:start="105:5" pos:end="105:32"><name pos:start="105:5" pos:end="105:19"><name pos:start="105:5" pos:end="105:7">pfl</name><operator pos:start="105:8" pos:end="105:9">-&gt;</operator><name pos:start="105:10" pos:end="105:19">sector_len</name></name> <operator pos:start="105:21" pos:end="105:21">=</operator> <name pos:start="105:23" pos:end="105:32">sector_len</name></expr>;</expr_stmt>

    <expr_stmt pos:start="107:5" pos:end="107:31"><expr pos:start="107:5" pos:end="107:30"><name pos:start="107:5" pos:end="107:18"><name pos:start="107:5" pos:end="107:7">pfl</name><operator pos:start="107:8" pos:end="107:9">-&gt;</operator><name pos:start="107:10" pos:end="107:18">total_len</name></name> <operator pos:start="107:20" pos:end="107:20">=</operator> <name pos:start="107:22" pos:end="107:30">total_len</name></expr>;</expr_stmt>

    <expr_stmt pos:start="109:5" pos:end="109:23"><expr pos:start="109:5" pos:end="109:22"><name pos:start="109:5" pos:end="109:14"><name pos:start="109:5" pos:end="109:7">pfl</name><operator pos:start="109:8" pos:end="109:9">-&gt;</operator><name pos:start="109:10" pos:end="109:14">width</name></name> <operator pos:start="109:16" pos:end="109:16">=</operator> <name pos:start="109:18" pos:end="109:22">width</name></expr>;</expr_stmt>

    <expr_stmt pos:start="111:5" pos:end="111:20"><expr pos:start="111:5" pos:end="111:19"><name pos:start="111:5" pos:end="111:15"><name pos:start="111:5" pos:end="111:7">pfl</name><operator pos:start="111:8" pos:end="111:9">-&gt;</operator><name pos:start="111:10" pos:end="111:15">wcycle</name></name> <operator pos:start="111:17" pos:end="111:17">=</operator> <literal type="number" pos:start="111:19" pos:end="111:19">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="113:5" pos:end="113:17"><expr pos:start="113:5" pos:end="113:16"><name pos:start="113:5" pos:end="113:12"><name pos:start="113:5" pos:end="113:7">pfl</name><operator pos:start="113:8" pos:end="113:9">-&gt;</operator><name pos:start="113:10" pos:end="113:12">cmd</name></name> <operator pos:start="113:14" pos:end="113:14">=</operator> <literal type="number" pos:start="113:16" pos:end="113:16">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="115:5" pos:end="115:20"><expr pos:start="115:5" pos:end="115:19"><name pos:start="115:5" pos:end="115:15"><name pos:start="115:5" pos:end="115:7">pfl</name><operator pos:start="115:8" pos:end="115:9">-&gt;</operator><name pos:start="115:10" pos:end="115:15">status</name></name> <operator pos:start="115:17" pos:end="115:17">=</operator> <literal type="number" pos:start="115:19" pos:end="115:19">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="117:5" pos:end="117:24"><expr pos:start="117:5" pos:end="117:23"><name pos:start="117:5" pos:end="117:17"><name pos:start="117:5" pos:end="117:7">pfl</name><operator pos:start="117:8" pos:end="117:9">-&gt;</operator><name pos:start="117:10" pos:end="117:14">ident</name><index pos:start="117:15" pos:end="117:17">[<expr pos:start="117:16" pos:end="117:16"><literal type="number" pos:start="117:16" pos:end="117:16">0</literal></expr>]</index></name> <operator pos:start="117:19" pos:end="117:19">=</operator> <name pos:start="117:21" pos:end="117:23">id0</name></expr>;</expr_stmt>

    <expr_stmt pos:start="119:5" pos:end="119:24"><expr pos:start="119:5" pos:end="119:23"><name pos:start="119:5" pos:end="119:17"><name pos:start="119:5" pos:end="119:7">pfl</name><operator pos:start="119:8" pos:end="119:9">-&gt;</operator><name pos:start="119:10" pos:end="119:14">ident</name><index pos:start="119:15" pos:end="119:17">[<expr pos:start="119:16" pos:end="119:16"><literal type="number" pos:start="119:16" pos:end="119:16">1</literal></expr>]</index></name> <operator pos:start="119:19" pos:end="119:19">=</operator> <name pos:start="119:21" pos:end="119:23">id1</name></expr>;</expr_stmt>

    <expr_stmt pos:start="121:5" pos:end="121:24"><expr pos:start="121:5" pos:end="121:23"><name pos:start="121:5" pos:end="121:17"><name pos:start="121:5" pos:end="121:7">pfl</name><operator pos:start="121:8" pos:end="121:9">-&gt;</operator><name pos:start="121:10" pos:end="121:14">ident</name><index pos:start="121:15" pos:end="121:17">[<expr pos:start="121:16" pos:end="121:16"><literal type="number" pos:start="121:16" pos:end="121:16">2</literal></expr>]</index></name> <operator pos:start="121:19" pos:end="121:19">=</operator> <name pos:start="121:21" pos:end="121:23">id2</name></expr>;</expr_stmt>

    <expr_stmt pos:start="123:5" pos:end="123:24"><expr pos:start="123:5" pos:end="123:23"><name pos:start="123:5" pos:end="123:17"><name pos:start="123:5" pos:end="123:7">pfl</name><operator pos:start="123:8" pos:end="123:9">-&gt;</operator><name pos:start="123:10" pos:end="123:14">ident</name><index pos:start="123:15" pos:end="123:17">[<expr pos:start="123:16" pos:end="123:16"><literal type="number" pos:start="123:16" pos:end="123:16">3</literal></expr>]</index></name> <operator pos:start="123:19" pos:end="123:19">=</operator> <name pos:start="123:21" pos:end="123:23">id3</name></expr>;</expr_stmt>

    <comment type="block" pos:start="125:5" pos:end="125:29">/* Hardcoded CFI table */</comment>

    <expr_stmt pos:start="127:5" pos:end="127:24"><expr pos:start="127:5" pos:end="127:23"><name pos:start="127:5" pos:end="127:16"><name pos:start="127:5" pos:end="127:7">pfl</name><operator pos:start="127:8" pos:end="127:9">-&gt;</operator><name pos:start="127:10" pos:end="127:16">cfi_len</name></name> <operator pos:start="127:18" pos:end="127:18">=</operator> <literal type="number" pos:start="127:20" pos:end="127:23">0x52</literal></expr>;</expr_stmt>

    <comment type="block" pos:start="129:5" pos:end="129:31">/* Standard "QRY" string */</comment>

    <expr_stmt pos:start="131:5" pos:end="131:31"><expr pos:start="131:5" pos:end="131:30"><name pos:start="131:5" pos:end="131:24"><name pos:start="131:5" pos:end="131:7">pfl</name><operator pos:start="131:8" pos:end="131:9">-&gt;</operator><name pos:start="131:10" pos:end="131:18">cfi_table</name><index pos:start="131:19" pos:end="131:24">[<expr pos:start="131:20" pos:end="131:23"><literal type="number" pos:start="131:20" pos:end="131:23">0x10</literal></expr>]</index></name> <operator pos:start="131:26" pos:end="131:26">=</operator> <literal type="char" pos:start="131:28" pos:end="131:30">'Q'</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="133:5" pos:end="133:31"><expr pos:start="133:5" pos:end="133:30"><name pos:start="133:5" pos:end="133:24"><name pos:start="133:5" pos:end="133:7">pfl</name><operator pos:start="133:8" pos:end="133:9">-&gt;</operator><name pos:start="133:10" pos:end="133:18">cfi_table</name><index pos:start="133:19" pos:end="133:24">[<expr pos:start="133:20" pos:end="133:23"><literal type="number" pos:start="133:20" pos:end="133:23">0x11</literal></expr>]</index></name> <operator pos:start="133:26" pos:end="133:26">=</operator> <literal type="char" pos:start="133:28" pos:end="133:30">'R'</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="135:5" pos:end="135:31"><expr pos:start="135:5" pos:end="135:30"><name pos:start="135:5" pos:end="135:24"><name pos:start="135:5" pos:end="135:7">pfl</name><operator pos:start="135:8" pos:end="135:9">-&gt;</operator><name pos:start="135:10" pos:end="135:18">cfi_table</name><index pos:start="135:19" pos:end="135:24">[<expr pos:start="135:20" pos:end="135:23"><literal type="number" pos:start="135:20" pos:end="135:23">0x12</literal></expr>]</index></name> <operator pos:start="135:26" pos:end="135:26">=</operator> <literal type="char" pos:start="135:28" pos:end="135:30">'Y'</literal></expr>;</expr_stmt>

    <comment type="block" pos:start="137:5" pos:end="137:29">/* Command set (Intel) */</comment>

    <expr_stmt pos:start="139:5" pos:end="139:32"><expr pos:start="139:5" pos:end="139:31"><name pos:start="139:5" pos:end="139:24"><name pos:start="139:5" pos:end="139:7">pfl</name><operator pos:start="139:8" pos:end="139:9">-&gt;</operator><name pos:start="139:10" pos:end="139:18">cfi_table</name><index pos:start="139:19" pos:end="139:24">[<expr pos:start="139:20" pos:end="139:23"><literal type="number" pos:start="139:20" pos:end="139:23">0x13</literal></expr>]</index></name> <operator pos:start="139:26" pos:end="139:26">=</operator> <literal type="number" pos:start="139:28" pos:end="139:31">0x01</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="141:5" pos:end="141:32"><expr pos:start="141:5" pos:end="141:31"><name pos:start="141:5" pos:end="141:24"><name pos:start="141:5" pos:end="141:7">pfl</name><operator pos:start="141:8" pos:end="141:9">-&gt;</operator><name pos:start="141:10" pos:end="141:18">cfi_table</name><index pos:start="141:19" pos:end="141:24">[<expr pos:start="141:20" pos:end="141:23"><literal type="number" pos:start="141:20" pos:end="141:23">0x14</literal></expr>]</index></name> <operator pos:start="141:26" pos:end="141:26">=</operator> <literal type="number" pos:start="141:28" pos:end="141:31">0x00</literal></expr>;</expr_stmt>

    <comment type="block" pos:start="143:5" pos:end="143:47">/* Primary extended table address (none) */</comment>

    <expr_stmt pos:start="145:5" pos:end="145:32"><expr pos:start="145:5" pos:end="145:31"><name pos:start="145:5" pos:end="145:24"><name pos:start="145:5" pos:end="145:7">pfl</name><operator pos:start="145:8" pos:end="145:9">-&gt;</operator><name pos:start="145:10" pos:end="145:18">cfi_table</name><index pos:start="145:19" pos:end="145:24">[<expr pos:start="145:20" pos:end="145:23"><literal type="number" pos:start="145:20" pos:end="145:23">0x15</literal></expr>]</index></name> <operator pos:start="145:26" pos:end="145:26">=</operator> <literal type="number" pos:start="145:28" pos:end="145:31">0x31</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="147:5" pos:end="147:32"><expr pos:start="147:5" pos:end="147:31"><name pos:start="147:5" pos:end="147:24"><name pos:start="147:5" pos:end="147:7">pfl</name><operator pos:start="147:8" pos:end="147:9">-&gt;</operator><name pos:start="147:10" pos:end="147:18">cfi_table</name><index pos:start="147:19" pos:end="147:24">[<expr pos:start="147:20" pos:end="147:23"><literal type="number" pos:start="147:20" pos:end="147:23">0x16</literal></expr>]</index></name> <operator pos:start="147:26" pos:end="147:26">=</operator> <literal type="number" pos:start="147:28" pos:end="147:31">0x00</literal></expr>;</expr_stmt>

    <comment type="block" pos:start="149:5" pos:end="149:38">/* Alternate command set (none) */</comment>

    <expr_stmt pos:start="151:5" pos:end="151:32"><expr pos:start="151:5" pos:end="151:31"><name pos:start="151:5" pos:end="151:24"><name pos:start="151:5" pos:end="151:7">pfl</name><operator pos:start="151:8" pos:end="151:9">-&gt;</operator><name pos:start="151:10" pos:end="151:18">cfi_table</name><index pos:start="151:19" pos:end="151:24">[<expr pos:start="151:20" pos:end="151:23"><literal type="number" pos:start="151:20" pos:end="151:23">0x17</literal></expr>]</index></name> <operator pos:start="151:26" pos:end="151:26">=</operator> <literal type="number" pos:start="151:28" pos:end="151:31">0x00</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="153:5" pos:end="153:32"><expr pos:start="153:5" pos:end="153:31"><name pos:start="153:5" pos:end="153:24"><name pos:start="153:5" pos:end="153:7">pfl</name><operator pos:start="153:8" pos:end="153:9">-&gt;</operator><name pos:start="153:10" pos:end="153:18">cfi_table</name><index pos:start="153:19" pos:end="153:24">[<expr pos:start="153:20" pos:end="153:23"><literal type="number" pos:start="153:20" pos:end="153:23">0x18</literal></expr>]</index></name> <operator pos:start="153:26" pos:end="153:26">=</operator> <literal type="number" pos:start="153:28" pos:end="153:31">0x00</literal></expr>;</expr_stmt>

    <comment type="block" pos:start="155:5" pos:end="155:41">/* Alternate extended table (none) */</comment>

    <expr_stmt pos:start="157:5" pos:end="157:32"><expr pos:start="157:5" pos:end="157:31"><name pos:start="157:5" pos:end="157:24"><name pos:start="157:5" pos:end="157:7">pfl</name><operator pos:start="157:8" pos:end="157:9">-&gt;</operator><name pos:start="157:10" pos:end="157:18">cfi_table</name><index pos:start="157:19" pos:end="157:24">[<expr pos:start="157:20" pos:end="157:23"><literal type="number" pos:start="157:20" pos:end="157:23">0x19</literal></expr>]</index></name> <operator pos:start="157:26" pos:end="157:26">=</operator> <literal type="number" pos:start="157:28" pos:end="157:31">0x00</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="159:5" pos:end="159:32"><expr pos:start="159:5" pos:end="159:31"><name pos:start="159:5" pos:end="159:24"><name pos:start="159:5" pos:end="159:7">pfl</name><operator pos:start="159:8" pos:end="159:9">-&gt;</operator><name pos:start="159:10" pos:end="159:18">cfi_table</name><index pos:start="159:19" pos:end="159:24">[<expr pos:start="159:20" pos:end="159:23"><literal type="number" pos:start="159:20" pos:end="159:23">0x1A</literal></expr>]</index></name> <operator pos:start="159:26" pos:end="159:26">=</operator> <literal type="number" pos:start="159:28" pos:end="159:31">0x00</literal></expr>;</expr_stmt>

    <comment type="block" pos:start="161:5" pos:end="161:17">/* Vcc min */</comment>

    <expr_stmt pos:start="163:5" pos:end="163:32"><expr pos:start="163:5" pos:end="163:31"><name pos:start="163:5" pos:end="163:24"><name pos:start="163:5" pos:end="163:7">pfl</name><operator pos:start="163:8" pos:end="163:9">-&gt;</operator><name pos:start="163:10" pos:end="163:18">cfi_table</name><index pos:start="163:19" pos:end="163:24">[<expr pos:start="163:20" pos:end="163:23"><literal type="number" pos:start="163:20" pos:end="163:23">0x1B</literal></expr>]</index></name> <operator pos:start="163:26" pos:end="163:26">=</operator> <literal type="number" pos:start="163:28" pos:end="163:31">0x45</literal></expr>;</expr_stmt>

    <comment type="block" pos:start="165:5" pos:end="165:17">/* Vcc max */</comment>

    <expr_stmt pos:start="167:5" pos:end="167:32"><expr pos:start="167:5" pos:end="167:31"><name pos:start="167:5" pos:end="167:24"><name pos:start="167:5" pos:end="167:7">pfl</name><operator pos:start="167:8" pos:end="167:9">-&gt;</operator><name pos:start="167:10" pos:end="167:18">cfi_table</name><index pos:start="167:19" pos:end="167:24">[<expr pos:start="167:20" pos:end="167:23"><literal type="number" pos:start="167:20" pos:end="167:23">0x1C</literal></expr>]</index></name> <operator pos:start="167:26" pos:end="167:26">=</operator> <literal type="number" pos:start="167:28" pos:end="167:31">0x55</literal></expr>;</expr_stmt>

    <comment type="block" pos:start="169:5" pos:end="169:30">/* Vpp min (no Vpp pin) */</comment>

    <expr_stmt pos:start="171:5" pos:end="171:32"><expr pos:start="171:5" pos:end="171:31"><name pos:start="171:5" pos:end="171:24"><name pos:start="171:5" pos:end="171:7">pfl</name><operator pos:start="171:8" pos:end="171:9">-&gt;</operator><name pos:start="171:10" pos:end="171:18">cfi_table</name><index pos:start="171:19" pos:end="171:24">[<expr pos:start="171:20" pos:end="171:23"><literal type="number" pos:start="171:20" pos:end="171:23">0x1D</literal></expr>]</index></name> <operator pos:start="171:26" pos:end="171:26">=</operator> <literal type="number" pos:start="171:28" pos:end="171:31">0x00</literal></expr>;</expr_stmt>

    <comment type="block" pos:start="173:5" pos:end="173:30">/* Vpp max (no Vpp pin) */</comment>

    <expr_stmt pos:start="175:5" pos:end="175:32"><expr pos:start="175:5" pos:end="175:31"><name pos:start="175:5" pos:end="175:24"><name pos:start="175:5" pos:end="175:7">pfl</name><operator pos:start="175:8" pos:end="175:9">-&gt;</operator><name pos:start="175:10" pos:end="175:18">cfi_table</name><index pos:start="175:19" pos:end="175:24">[<expr pos:start="175:20" pos:end="175:23"><literal type="number" pos:start="175:20" pos:end="175:23">0x1E</literal></expr>]</index></name> <operator pos:start="175:26" pos:end="175:26">=</operator> <literal type="number" pos:start="175:28" pos:end="175:31">0x00</literal></expr>;</expr_stmt>

    <comment type="block" pos:start="177:5" pos:end="177:18">/* Reserved */</comment>

    <expr_stmt pos:start="179:5" pos:end="179:32"><expr pos:start="179:5" pos:end="179:31"><name pos:start="179:5" pos:end="179:24"><name pos:start="179:5" pos:end="179:7">pfl</name><operator pos:start="179:8" pos:end="179:9">-&gt;</operator><name pos:start="179:10" pos:end="179:18">cfi_table</name><index pos:start="179:19" pos:end="179:24">[<expr pos:start="179:20" pos:end="179:23"><literal type="number" pos:start="179:20" pos:end="179:23">0x1F</literal></expr>]</index></name> <operator pos:start="179:26" pos:end="179:26">=</operator> <literal type="number" pos:start="179:28" pos:end="179:31">0x07</literal></expr>;</expr_stmt>

    <comment type="block" pos:start="181:5" pos:end="181:43">/* Timeout for min size buffer write */</comment>

    <expr_stmt pos:start="183:5" pos:end="183:32"><expr pos:start="183:5" pos:end="183:31"><name pos:start="183:5" pos:end="183:24"><name pos:start="183:5" pos:end="183:7">pfl</name><operator pos:start="183:8" pos:end="183:9">-&gt;</operator><name pos:start="183:10" pos:end="183:18">cfi_table</name><index pos:start="183:19" pos:end="183:24">[<expr pos:start="183:20" pos:end="183:23"><literal type="number" pos:start="183:20" pos:end="183:23">0x20</literal></expr>]</index></name> <operator pos:start="183:26" pos:end="183:26">=</operator> <literal type="number" pos:start="183:28" pos:end="183:31">0x07</literal></expr>;</expr_stmt>

    <comment type="block" pos:start="185:5" pos:end="185:41">/* Typical timeout for block erase */</comment>

    <expr_stmt pos:start="187:5" pos:end="187:32"><expr pos:start="187:5" pos:end="187:31"><name pos:start="187:5" pos:end="187:24"><name pos:start="187:5" pos:end="187:7">pfl</name><operator pos:start="187:8" pos:end="187:9">-&gt;</operator><name pos:start="187:10" pos:end="187:18">cfi_table</name><index pos:start="187:19" pos:end="187:24">[<expr pos:start="187:20" pos:end="187:23"><literal type="number" pos:start="187:20" pos:end="187:23">0x21</literal></expr>]</index></name> <operator pos:start="187:26" pos:end="187:26">=</operator> <literal type="number" pos:start="187:28" pos:end="187:31">0x0a</literal></expr>;</expr_stmt>

    <comment type="block" pos:start="189:5" pos:end="189:55">/* Typical timeout for full chip erase (4096 ms) */</comment>

    <expr_stmt pos:start="191:5" pos:end="191:32"><expr pos:start="191:5" pos:end="191:31"><name pos:start="191:5" pos:end="191:24"><name pos:start="191:5" pos:end="191:7">pfl</name><operator pos:start="191:8" pos:end="191:9">-&gt;</operator><name pos:start="191:10" pos:end="191:18">cfi_table</name><index pos:start="191:19" pos:end="191:24">[<expr pos:start="191:20" pos:end="191:23"><literal type="number" pos:start="191:20" pos:end="191:23">0x22</literal></expr>]</index></name> <operator pos:start="191:26" pos:end="191:26">=</operator> <literal type="number" pos:start="191:28" pos:end="191:31">0x00</literal></expr>;</expr_stmt>

    <comment type="block" pos:start="193:5" pos:end="193:18">/* Reserved */</comment>

    <expr_stmt pos:start="195:5" pos:end="195:32"><expr pos:start="195:5" pos:end="195:31"><name pos:start="195:5" pos:end="195:24"><name pos:start="195:5" pos:end="195:7">pfl</name><operator pos:start="195:8" pos:end="195:9">-&gt;</operator><name pos:start="195:10" pos:end="195:18">cfi_table</name><index pos:start="195:19" pos:end="195:24">[<expr pos:start="195:20" pos:end="195:23"><literal type="number" pos:start="195:20" pos:end="195:23">0x23</literal></expr>]</index></name> <operator pos:start="195:26" pos:end="195:26">=</operator> <literal type="number" pos:start="195:28" pos:end="195:31">0x04</literal></expr>;</expr_stmt>

    <comment type="block" pos:start="197:5" pos:end="197:38">/* Max timeout for buffer write */</comment>

    <expr_stmt pos:start="199:5" pos:end="199:32"><expr pos:start="199:5" pos:end="199:31"><name pos:start="199:5" pos:end="199:24"><name pos:start="199:5" pos:end="199:7">pfl</name><operator pos:start="199:8" pos:end="199:9">-&gt;</operator><name pos:start="199:10" pos:end="199:18">cfi_table</name><index pos:start="199:19" pos:end="199:24">[<expr pos:start="199:20" pos:end="199:23"><literal type="number" pos:start="199:20" pos:end="199:23">0x24</literal></expr>]</index></name> <operator pos:start="199:26" pos:end="199:26">=</operator> <literal type="number" pos:start="199:28" pos:end="199:31">0x04</literal></expr>;</expr_stmt>

    <comment type="block" pos:start="201:5" pos:end="201:37">/* Max timeout for block erase */</comment>

    <expr_stmt pos:start="203:5" pos:end="203:32"><expr pos:start="203:5" pos:end="203:31"><name pos:start="203:5" pos:end="203:24"><name pos:start="203:5" pos:end="203:7">pfl</name><operator pos:start="203:8" pos:end="203:9">-&gt;</operator><name pos:start="203:10" pos:end="203:18">cfi_table</name><index pos:start="203:19" pos:end="203:24">[<expr pos:start="203:20" pos:end="203:23"><literal type="number" pos:start="203:20" pos:end="203:23">0x25</literal></expr>]</index></name> <operator pos:start="203:26" pos:end="203:26">=</operator> <literal type="number" pos:start="203:28" pos:end="203:31">0x04</literal></expr>;</expr_stmt>

    <comment type="block" pos:start="205:5" pos:end="205:36">/* Max timeout for chip erase */</comment>

    <expr_stmt pos:start="207:5" pos:end="207:32"><expr pos:start="207:5" pos:end="207:31"><name pos:start="207:5" pos:end="207:24"><name pos:start="207:5" pos:end="207:7">pfl</name><operator pos:start="207:8" pos:end="207:9">-&gt;</operator><name pos:start="207:10" pos:end="207:18">cfi_table</name><index pos:start="207:19" pos:end="207:24">[<expr pos:start="207:20" pos:end="207:23"><literal type="number" pos:start="207:20" pos:end="207:23">0x26</literal></expr>]</index></name> <operator pos:start="207:26" pos:end="207:26">=</operator> <literal type="number" pos:start="207:28" pos:end="207:31">0x00</literal></expr>;</expr_stmt>

    <comment type="block" pos:start="209:5" pos:end="209:21">/* Device size */</comment>

    <expr_stmt pos:start="211:5" pos:end="211:44"><expr pos:start="211:5" pos:end="211:43"><name pos:start="211:5" pos:end="211:24"><name pos:start="211:5" pos:end="211:7">pfl</name><operator pos:start="211:8" pos:end="211:9">-&gt;</operator><name pos:start="211:10" pos:end="211:18">cfi_table</name><index pos:start="211:19" pos:end="211:24">[<expr pos:start="211:20" pos:end="211:23"><literal type="number" pos:start="211:20" pos:end="211:23">0x27</literal></expr>]</index></name> <operator pos:start="211:26" pos:end="211:26">=</operator> <call pos:start="211:28" pos:end="211:43"><name pos:start="211:28" pos:end="211:32">ctz32</name><argument_list pos:start="211:33" pos:end="211:43">(<argument pos:start="211:34" pos:end="211:42"><expr pos:start="211:34" pos:end="211:42"><name pos:start="211:34" pos:end="211:42">total_len</name></expr></argument>)</argument_list></call></expr>;</expr_stmt> <comment type="line" pos:start="211:46" pos:end="211:52">// + 1;</comment>

    <comment type="block" pos:start="213:5" pos:end="213:46">/* Flash device interface (8 &amp; 16 bits) */</comment>

    <expr_stmt pos:start="215:5" pos:end="215:32"><expr pos:start="215:5" pos:end="215:31"><name pos:start="215:5" pos:end="215:24"><name pos:start="215:5" pos:end="215:7">pfl</name><operator pos:start="215:8" pos:end="215:9">-&gt;</operator><name pos:start="215:10" pos:end="215:18">cfi_table</name><index pos:start="215:19" pos:end="215:24">[<expr pos:start="215:20" pos:end="215:23"><literal type="number" pos:start="215:20" pos:end="215:23">0x28</literal></expr>]</index></name> <operator pos:start="215:26" pos:end="215:26">=</operator> <literal type="number" pos:start="215:28" pos:end="215:31">0x02</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="217:5" pos:end="217:32"><expr pos:start="217:5" pos:end="217:31"><name pos:start="217:5" pos:end="217:24"><name pos:start="217:5" pos:end="217:7">pfl</name><operator pos:start="217:8" pos:end="217:9">-&gt;</operator><name pos:start="217:10" pos:end="217:18">cfi_table</name><index pos:start="217:19" pos:end="217:24">[<expr pos:start="217:20" pos:end="217:23"><literal type="number" pos:start="217:20" pos:end="217:23">0x29</literal></expr>]</index></name> <operator pos:start="217:26" pos:end="217:26">=</operator> <literal type="number" pos:start="217:28" pos:end="217:31">0x00</literal></expr>;</expr_stmt>

    <comment type="block" pos:start="219:5" pos:end="219:50">/* Max number of bytes in multi-bytes write */</comment>

    <if_stmt pos:start="221:5" pos:end="229:5"><if pos:start="221:5" pos:end="225:5">if <condition pos:start="221:8" pos:end="221:19">(<expr pos:start="221:9" pos:end="221:18"><name pos:start="221:9" pos:end="221:13">width</name> <operator pos:start="221:15" pos:end="221:16">==</operator> <literal type="number" pos:start="221:18" pos:end="221:18">1</literal></expr>)</condition> <block pos:start="221:21" pos:end="225:5">{<block_content pos:start="223:9" pos:end="223:36">

        <expr_stmt pos:start="223:9" pos:end="223:36"><expr pos:start="223:9" pos:end="223:35"><name pos:start="223:9" pos:end="223:28"><name pos:start="223:9" pos:end="223:11">pfl</name><operator pos:start="223:12" pos:end="223:13">-&gt;</operator><name pos:start="223:14" pos:end="223:22">cfi_table</name><index pos:start="223:23" pos:end="223:28">[<expr pos:start="223:24" pos:end="223:27"><literal type="number" pos:start="223:24" pos:end="223:27">0x2A</literal></expr>]</index></name> <operator pos:start="223:30" pos:end="223:30">=</operator> <literal type="number" pos:start="223:32" pos:end="223:35">0x08</literal></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="225:7" pos:end="229:5">else <block pos:start="225:12" pos:end="229:5">{<block_content pos:start="227:9" pos:end="227:36">

        <expr_stmt pos:start="227:9" pos:end="227:36"><expr pos:start="227:9" pos:end="227:35"><name pos:start="227:9" pos:end="227:28"><name pos:start="227:9" pos:end="227:11">pfl</name><operator pos:start="227:12" pos:end="227:13">-&gt;</operator><name pos:start="227:14" pos:end="227:22">cfi_table</name><index pos:start="227:23" pos:end="227:28">[<expr pos:start="227:24" pos:end="227:27"><literal type="number" pos:start="227:24" pos:end="227:27">0x2A</literal></expr>]</index></name> <operator pos:start="227:30" pos:end="227:30">=</operator> <literal type="number" pos:start="227:32" pos:end="227:35">0x0B</literal></expr>;</expr_stmt>

    </block_content>}</block></else></if_stmt>

    <expr_stmt pos:start="231:5" pos:end="231:53"><expr pos:start="231:5" pos:end="231:52"><name pos:start="231:5" pos:end="231:24"><name pos:start="231:5" pos:end="231:7">pfl</name><operator pos:start="231:8" pos:end="231:9">-&gt;</operator><name pos:start="231:10" pos:end="231:24">writeblock_size</name></name> <operator pos:start="231:26" pos:end="231:26">=</operator> <literal type="number" pos:start="231:28" pos:end="231:28">1</literal> <operator pos:start="231:30" pos:end="231:31">&lt;&lt;</operator> <name pos:start="231:33" pos:end="231:52"><name pos:start="231:33" pos:end="231:35">pfl</name><operator pos:start="231:36" pos:end="231:37">-&gt;</operator><name pos:start="231:38" pos:end="231:46">cfi_table</name><index pos:start="231:47" pos:end="231:52">[<expr pos:start="231:48" pos:end="231:51"><literal type="number" pos:start="231:48" pos:end="231:51">0x2A</literal></expr>]</index></name></expr>;</expr_stmt>



    <expr_stmt pos:start="235:5" pos:end="235:32"><expr pos:start="235:5" pos:end="235:31"><name pos:start="235:5" pos:end="235:24"><name pos:start="235:5" pos:end="235:7">pfl</name><operator pos:start="235:8" pos:end="235:9">-&gt;</operator><name pos:start="235:10" pos:end="235:18">cfi_table</name><index pos:start="235:19" pos:end="235:24">[<expr pos:start="235:20" pos:end="235:23"><literal type="number" pos:start="235:20" pos:end="235:23">0x2B</literal></expr>]</index></name> <operator pos:start="235:26" pos:end="235:26">=</operator> <literal type="number" pos:start="235:28" pos:end="235:31">0x00</literal></expr>;</expr_stmt>

    <comment type="block" pos:start="237:5" pos:end="237:49">/* Number of erase block regions (uniform) */</comment>

    <expr_stmt pos:start="239:5" pos:end="239:32"><expr pos:start="239:5" pos:end="239:31"><name pos:start="239:5" pos:end="239:24"><name pos:start="239:5" pos:end="239:7">pfl</name><operator pos:start="239:8" pos:end="239:9">-&gt;</operator><name pos:start="239:10" pos:end="239:18">cfi_table</name><index pos:start="239:19" pos:end="239:24">[<expr pos:start="239:20" pos:end="239:23"><literal type="number" pos:start="239:20" pos:end="239:23">0x2C</literal></expr>]</index></name> <operator pos:start="239:26" pos:end="239:26">=</operator> <literal type="number" pos:start="239:28" pos:end="239:31">0x01</literal></expr>;</expr_stmt>

    <comment type="block" pos:start="241:5" pos:end="241:30">/* Erase block region 1 */</comment>

    <expr_stmt pos:start="243:5" pos:end="243:40"><expr pos:start="243:5" pos:end="243:39"><name pos:start="243:5" pos:end="243:24"><name pos:start="243:5" pos:end="243:7">pfl</name><operator pos:start="243:8" pos:end="243:9">-&gt;</operator><name pos:start="243:10" pos:end="243:18">cfi_table</name><index pos:start="243:19" pos:end="243:24">[<expr pos:start="243:20" pos:end="243:23"><literal type="number" pos:start="243:20" pos:end="243:23">0x2D</literal></expr>]</index></name> <operator pos:start="243:26" pos:end="243:26">=</operator> <name pos:start="243:28" pos:end="243:35">nb_blocs</name> <operator pos:start="243:37" pos:end="243:37">-</operator> <literal type="number" pos:start="243:39" pos:end="243:39">1</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="245:5" pos:end="245:47"><expr pos:start="245:5" pos:end="245:46"><name pos:start="245:5" pos:end="245:24"><name pos:start="245:5" pos:end="245:7">pfl</name><operator pos:start="245:8" pos:end="245:9">-&gt;</operator><name pos:start="245:10" pos:end="245:18">cfi_table</name><index pos:start="245:19" pos:end="245:24">[<expr pos:start="245:20" pos:end="245:23"><literal type="number" pos:start="245:20" pos:end="245:23">0x2E</literal></expr>]</index></name> <operator pos:start="245:26" pos:end="245:26">=</operator> <operator pos:start="245:28" pos:end="245:28">(</operator><name pos:start="245:29" pos:end="245:36">nb_blocs</name> <operator pos:start="245:38" pos:end="245:38">-</operator> <literal type="number" pos:start="245:40" pos:end="245:40">1</literal><operator pos:start="245:41" pos:end="245:41">)</operator> <operator pos:start="245:43" pos:end="245:44">&gt;&gt;</operator> <literal type="number" pos:start="245:46" pos:end="245:46">8</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="247:5" pos:end="247:43"><expr pos:start="247:5" pos:end="247:42"><name pos:start="247:5" pos:end="247:24"><name pos:start="247:5" pos:end="247:7">pfl</name><operator pos:start="247:8" pos:end="247:9">-&gt;</operator><name pos:start="247:10" pos:end="247:18">cfi_table</name><index pos:start="247:19" pos:end="247:24">[<expr pos:start="247:20" pos:end="247:23"><literal type="number" pos:start="247:20" pos:end="247:23">0x2F</literal></expr>]</index></name> <operator pos:start="247:26" pos:end="247:26">=</operator> <name pos:start="247:28" pos:end="247:37">sector_len</name> <operator pos:start="247:39" pos:end="247:40">&gt;&gt;</operator> <literal type="number" pos:start="247:42" pos:end="247:42">8</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="249:5" pos:end="249:44"><expr pos:start="249:5" pos:end="249:43"><name pos:start="249:5" pos:end="249:24"><name pos:start="249:5" pos:end="249:7">pfl</name><operator pos:start="249:8" pos:end="249:9">-&gt;</operator><name pos:start="249:10" pos:end="249:18">cfi_table</name><index pos:start="249:19" pos:end="249:24">[<expr pos:start="249:20" pos:end="249:23"><literal type="number" pos:start="249:20" pos:end="249:23">0x30</literal></expr>]</index></name> <operator pos:start="249:26" pos:end="249:26">=</operator> <name pos:start="249:28" pos:end="249:37">sector_len</name> <operator pos:start="249:39" pos:end="249:40">&gt;&gt;</operator> <literal type="number" pos:start="249:42" pos:end="249:43">16</literal></expr>;</expr_stmt>



    <comment type="block" pos:start="253:5" pos:end="253:18">/* Extended */</comment>

    <expr_stmt pos:start="255:5" pos:end="255:31"><expr pos:start="255:5" pos:end="255:30"><name pos:start="255:5" pos:end="255:24"><name pos:start="255:5" pos:end="255:7">pfl</name><operator pos:start="255:8" pos:end="255:9">-&gt;</operator><name pos:start="255:10" pos:end="255:18">cfi_table</name><index pos:start="255:19" pos:end="255:24">[<expr pos:start="255:20" pos:end="255:23"><literal type="number" pos:start="255:20" pos:end="255:23">0x31</literal></expr>]</index></name> <operator pos:start="255:26" pos:end="255:26">=</operator> <literal type="char" pos:start="255:28" pos:end="255:30">'P'</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="257:5" pos:end="257:31"><expr pos:start="257:5" pos:end="257:30"><name pos:start="257:5" pos:end="257:24"><name pos:start="257:5" pos:end="257:7">pfl</name><operator pos:start="257:8" pos:end="257:9">-&gt;</operator><name pos:start="257:10" pos:end="257:18">cfi_table</name><index pos:start="257:19" pos:end="257:24">[<expr pos:start="257:20" pos:end="257:23"><literal type="number" pos:start="257:20" pos:end="257:23">0x32</literal></expr>]</index></name> <operator pos:start="257:26" pos:end="257:26">=</operator> <literal type="char" pos:start="257:28" pos:end="257:30">'R'</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="259:5" pos:end="259:31"><expr pos:start="259:5" pos:end="259:30"><name pos:start="259:5" pos:end="259:24"><name pos:start="259:5" pos:end="259:7">pfl</name><operator pos:start="259:8" pos:end="259:9">-&gt;</operator><name pos:start="259:10" pos:end="259:18">cfi_table</name><index pos:start="259:19" pos:end="259:24">[<expr pos:start="259:20" pos:end="259:23"><literal type="number" pos:start="259:20" pos:end="259:23">0x33</literal></expr>]</index></name> <operator pos:start="259:26" pos:end="259:26">=</operator> <literal type="char" pos:start="259:28" pos:end="259:30">'I'</literal></expr>;</expr_stmt>



    <expr_stmt pos:start="263:5" pos:end="263:31"><expr pos:start="263:5" pos:end="263:30"><name pos:start="263:5" pos:end="263:24"><name pos:start="263:5" pos:end="263:7">pfl</name><operator pos:start="263:8" pos:end="263:9">-&gt;</operator><name pos:start="263:10" pos:end="263:18">cfi_table</name><index pos:start="263:19" pos:end="263:24">[<expr pos:start="263:20" pos:end="263:23"><literal type="number" pos:start="263:20" pos:end="263:23">0x34</literal></expr>]</index></name> <operator pos:start="263:26" pos:end="263:26">=</operator> <literal type="char" pos:start="263:28" pos:end="263:30">'1'</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="265:5" pos:end="265:31"><expr pos:start="265:5" pos:end="265:30"><name pos:start="265:5" pos:end="265:24"><name pos:start="265:5" pos:end="265:7">pfl</name><operator pos:start="265:8" pos:end="265:9">-&gt;</operator><name pos:start="265:10" pos:end="265:18">cfi_table</name><index pos:start="265:19" pos:end="265:24">[<expr pos:start="265:20" pos:end="265:23"><literal type="number" pos:start="265:20" pos:end="265:23">0x35</literal></expr>]</index></name> <operator pos:start="265:26" pos:end="265:26">=</operator> <literal type="char" pos:start="265:28" pos:end="265:30">'1'</literal></expr>;</expr_stmt>



    <expr_stmt pos:start="269:5" pos:end="269:32"><expr pos:start="269:5" pos:end="269:31"><name pos:start="269:5" pos:end="269:24"><name pos:start="269:5" pos:end="269:7">pfl</name><operator pos:start="269:8" pos:end="269:9">-&gt;</operator><name pos:start="269:10" pos:end="269:18">cfi_table</name><index pos:start="269:19" pos:end="269:24">[<expr pos:start="269:20" pos:end="269:23"><literal type="number" pos:start="269:20" pos:end="269:23">0x36</literal></expr>]</index></name> <operator pos:start="269:26" pos:end="269:26">=</operator> <literal type="number" pos:start="269:28" pos:end="269:31">0x00</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="271:5" pos:end="271:32"><expr pos:start="271:5" pos:end="271:31"><name pos:start="271:5" pos:end="271:24"><name pos:start="271:5" pos:end="271:7">pfl</name><operator pos:start="271:8" pos:end="271:9">-&gt;</operator><name pos:start="271:10" pos:end="271:18">cfi_table</name><index pos:start="271:19" pos:end="271:24">[<expr pos:start="271:20" pos:end="271:23"><literal type="number" pos:start="271:20" pos:end="271:23">0x37</literal></expr>]</index></name> <operator pos:start="271:26" pos:end="271:26">=</operator> <literal type="number" pos:start="271:28" pos:end="271:31">0x00</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="273:5" pos:end="273:32"><expr pos:start="273:5" pos:end="273:31"><name pos:start="273:5" pos:end="273:24"><name pos:start="273:5" pos:end="273:7">pfl</name><operator pos:start="273:8" pos:end="273:9">-&gt;</operator><name pos:start="273:10" pos:end="273:18">cfi_table</name><index pos:start="273:19" pos:end="273:24">[<expr pos:start="273:20" pos:end="273:23"><literal type="number" pos:start="273:20" pos:end="273:23">0x38</literal></expr>]</index></name> <operator pos:start="273:26" pos:end="273:26">=</operator> <literal type="number" pos:start="273:28" pos:end="273:31">0x00</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="275:5" pos:end="275:32"><expr pos:start="275:5" pos:end="275:31"><name pos:start="275:5" pos:end="275:24"><name pos:start="275:5" pos:end="275:7">pfl</name><operator pos:start="275:8" pos:end="275:9">-&gt;</operator><name pos:start="275:10" pos:end="275:18">cfi_table</name><index pos:start="275:19" pos:end="275:24">[<expr pos:start="275:20" pos:end="275:23"><literal type="number" pos:start="275:20" pos:end="275:23">0x39</literal></expr>]</index></name> <operator pos:start="275:26" pos:end="275:26">=</operator> <literal type="number" pos:start="275:28" pos:end="275:31">0x00</literal></expr>;</expr_stmt>



    <expr_stmt pos:start="279:5" pos:end="279:32"><expr pos:start="279:5" pos:end="279:31"><name pos:start="279:5" pos:end="279:24"><name pos:start="279:5" pos:end="279:7">pfl</name><operator pos:start="279:8" pos:end="279:9">-&gt;</operator><name pos:start="279:10" pos:end="279:18">cfi_table</name><index pos:start="279:19" pos:end="279:24">[<expr pos:start="279:20" pos:end="279:23"><literal type="number" pos:start="279:20" pos:end="279:23">0x3a</literal></expr>]</index></name> <operator pos:start="279:26" pos:end="279:26">=</operator> <literal type="number" pos:start="279:28" pos:end="279:31">0x00</literal></expr>;</expr_stmt>



    <expr_stmt pos:start="283:5" pos:end="283:32"><expr pos:start="283:5" pos:end="283:31"><name pos:start="283:5" pos:end="283:24"><name pos:start="283:5" pos:end="283:7">pfl</name><operator pos:start="283:8" pos:end="283:9">-&gt;</operator><name pos:start="283:10" pos:end="283:18">cfi_table</name><index pos:start="283:19" pos:end="283:24">[<expr pos:start="283:20" pos:end="283:23"><literal type="number" pos:start="283:20" pos:end="283:23">0x3b</literal></expr>]</index></name> <operator pos:start="283:26" pos:end="283:26">=</operator> <literal type="number" pos:start="283:28" pos:end="283:31">0x00</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="285:5" pos:end="285:32"><expr pos:start="285:5" pos:end="285:31"><name pos:start="285:5" pos:end="285:24"><name pos:start="285:5" pos:end="285:7">pfl</name><operator pos:start="285:8" pos:end="285:9">-&gt;</operator><name pos:start="285:10" pos:end="285:18">cfi_table</name><index pos:start="285:19" pos:end="285:24">[<expr pos:start="285:20" pos:end="285:23"><literal type="number" pos:start="285:20" pos:end="285:23">0x3c</literal></expr>]</index></name> <operator pos:start="285:26" pos:end="285:26">=</operator> <literal type="number" pos:start="285:28" pos:end="285:31">0x00</literal></expr>;</expr_stmt>



    <return pos:start="289:5" pos:end="289:15">return <expr pos:start="289:12" pos:end="289:14"><name pos:start="289:12" pos:end="289:14">pfl</name></expr>;</return>

</block_content>}</block></function>
</unit>
