<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:cpp="http://www.srcML.org/srcML/cpp" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/26421.c" pos:tabs="8"><function pos:start="1:1" pos:end="107:1"><type pos:start="1:1" pos:end="1:10"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:10">int</name></type> <name pos:start="1:12" pos:end="1:33">virtio_blk_device_init</name><parameter_list pos:start="1:34" pos:end="1:53">(<parameter pos:start="1:35" pos:end="1:52"><decl pos:start="1:35" pos:end="1:52"><type pos:start="1:35" pos:end="1:48"><name pos:start="1:35" pos:end="1:46">VirtIODevice</name> <modifier pos:start="1:48" pos:end="1:48">*</modifier></type><name pos:start="1:49" pos:end="1:52">vdev</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="107:1">{<block_content pos:start="5:5" pos:end="105:13">

    <decl_stmt pos:start="5:5" pos:end="5:37"><decl pos:start="5:5" pos:end="5:36"><type pos:start="5:5" pos:end="5:17"><name pos:start="5:5" pos:end="5:15">DeviceState</name> <modifier pos:start="5:17" pos:end="5:17">*</modifier></type><name pos:start="5:18" pos:end="5:21">qdev</name> <init pos:start="5:23" pos:end="5:36">= <expr pos:start="5:25" pos:end="5:36"><call pos:start="5:25" pos:end="5:36"><name pos:start="5:25" pos:end="5:30">DEVICE</name><argument_list pos:start="5:31" pos:end="5:36">(<argument pos:start="5:32" pos:end="5:35"><expr pos:start="5:32" pos:end="5:35"><name pos:start="5:32" pos:end="5:35">vdev</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:38"><decl pos:start="7:5" pos:end="7:37"><type pos:start="7:5" pos:end="7:17"><name pos:start="7:5" pos:end="7:15">VirtIOBlock</name> <modifier pos:start="7:17" pos:end="7:17">*</modifier></type><name pos:start="7:18" pos:end="7:18">s</name> <init pos:start="7:20" pos:end="7:37">= <expr pos:start="7:22" pos:end="7:37"><call pos:start="7:22" pos:end="7:37"><name pos:start="7:22" pos:end="7:31">VIRTIO_BLK</name><argument_list pos:start="7:32" pos:end="7:37">(<argument pos:start="7:33" pos:end="7:36"><expr pos:start="7:33" pos:end="7:36"><name pos:start="7:33" pos:end="7:36">vdev</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:35"><decl pos:start="9:5" pos:end="9:34"><type pos:start="9:5" pos:end="9:19"><name pos:start="9:5" pos:end="9:17">VirtIOBlkConf</name> <modifier pos:start="9:19" pos:end="9:19">*</modifier></type><name pos:start="9:20" pos:end="9:22">blk</name> <init pos:start="9:24" pos:end="9:34">= <expr pos:start="9:26" pos:end="9:34"><operator pos:start="9:26" pos:end="9:26">&amp;</operator><operator pos:start="9:27" pos:end="9:27">(</operator><name pos:start="9:28" pos:end="9:33"><name pos:start="9:28" pos:end="9:28">s</name><operator pos:start="9:29" pos:end="9:30">-&gt;</operator><name pos:start="9:31" pos:end="9:33">blk</name></name><operator pos:start="9:34" pos:end="9:34">)</operator></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:29"><decl pos:start="11:5" pos:end="11:28"><type pos:start="11:5" pos:end="11:14"><specifier pos:start="11:5" pos:end="11:10">static</specifier> <name pos:start="11:12" pos:end="11:14">int</name></type> <name pos:start="11:16" pos:end="11:28">virtio_blk_id</name></decl>;</decl_stmt>



    <if_stmt pos:start="15:5" pos:end="21:5"><if pos:start="15:5" pos:end="21:5">if <condition pos:start="15:8" pos:end="15:22">(<expr pos:start="15:9" pos:end="15:21"><operator pos:start="15:9" pos:end="15:9">!</operator><name pos:start="15:10" pos:end="15:21"><name pos:start="15:10" pos:end="15:12">blk</name><operator pos:start="15:13" pos:end="15:14">-&gt;</operator><name pos:start="15:15" pos:end="15:18">conf</name><operator pos:start="15:19" pos:end="15:19">.</operator><name pos:start="15:20" pos:end="15:21">bs</name></name></expr>)</condition> <block pos:start="15:24" pos:end="21:5">{<block_content pos:start="17:9" pos:end="19:18">

        <expr_stmt pos:start="17:9" pos:end="17:47"><expr pos:start="17:9" pos:end="17:46"><call pos:start="17:9" pos:end="17:46"><name pos:start="17:9" pos:end="17:20">error_report</name><argument_list pos:start="17:21" pos:end="17:46">(<argument pos:start="17:22" pos:end="17:45"><expr pos:start="17:22" pos:end="17:45"><literal type="string" pos:start="17:22" pos:end="17:45">"drive property not set"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <return pos:start="19:9" pos:end="19:18">return <expr pos:start="19:16" pos:end="19:17"><operator pos:start="19:16" pos:end="19:16">-</operator><literal type="number" pos:start="19:17" pos:end="19:17">1</literal></expr>;</return>

    </block_content>}</block></if></if_stmt>

    <if_stmt pos:start="23:5" pos:end="29:5"><if pos:start="23:5" pos:end="29:5">if <condition pos:start="23:8" pos:end="23:40">(<expr pos:start="23:9" pos:end="23:39"><operator pos:start="23:9" pos:end="23:9">!</operator><call pos:start="23:10" pos:end="23:39"><name pos:start="23:10" pos:end="23:25">bdrv_is_inserted</name><argument_list pos:start="23:26" pos:end="23:39">(<argument pos:start="23:27" pos:end="23:38"><expr pos:start="23:27" pos:end="23:38"><name pos:start="23:27" pos:end="23:38"><name pos:start="23:27" pos:end="23:29">blk</name><operator pos:start="23:30" pos:end="23:31">-&gt;</operator><name pos:start="23:32" pos:end="23:35">conf</name><operator pos:start="23:36" pos:end="23:36">.</operator><name pos:start="23:37" pos:end="23:38">bs</name></name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="23:42" pos:end="29:5">{<block_content pos:start="25:9" pos:end="27:18">

        <expr_stmt pos:start="25:9" pos:end="25:63"><expr pos:start="25:9" pos:end="25:62"><call pos:start="25:9" pos:end="25:62"><name pos:start="25:9" pos:end="25:20">error_report</name><argument_list pos:start="25:21" pos:end="25:62">(<argument pos:start="25:22" pos:end="25:61"><expr pos:start="25:22" pos:end="25:61"><literal type="string" pos:start="25:22" pos:end="25:61">"Device needs media, but drive is empty"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <return pos:start="27:9" pos:end="27:18">return <expr pos:start="27:16" pos:end="27:17"><operator pos:start="27:16" pos:end="27:16">-</operator><literal type="number" pos:start="27:17" pos:end="27:17">1</literal></expr>;</return>

    </block_content>}</block></if></if_stmt>



    <expr_stmt pos:start="33:5" pos:end="33:45"><expr pos:start="33:5" pos:end="33:44"><call pos:start="33:5" pos:end="33:44"><name pos:start="33:5" pos:end="33:18">blkconf_serial</name><argument_list pos:start="33:19" pos:end="33:44">(<argument pos:start="33:20" pos:end="33:29"><expr pos:start="33:20" pos:end="33:29"><operator pos:start="33:20" pos:end="33:20">&amp;</operator><name pos:start="33:21" pos:end="33:29"><name pos:start="33:21" pos:end="33:23">blk</name><operator pos:start="33:24" pos:end="33:25">-&gt;</operator><name pos:start="33:26" pos:end="33:29">conf</name></name></expr></argument>, <argument pos:start="33:32" pos:end="33:43"><expr pos:start="33:32" pos:end="33:43"><operator pos:start="33:32" pos:end="33:32">&amp;</operator><name pos:start="33:33" pos:end="33:43"><name pos:start="33:33" pos:end="33:35">blk</name><operator pos:start="33:36" pos:end="33:37">-&gt;</operator><name pos:start="33:38" pos:end="33:43">serial</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="35:5" pos:end="39:5"><if pos:start="35:5" pos:end="39:5">if <condition pos:start="35:8" pos:end="35:64">(<expr pos:start="35:9" pos:end="35:63"><call pos:start="35:9" pos:end="35:59"><name pos:start="35:9" pos:end="35:24">blkconf_geometry</name><argument_list pos:start="35:25" pos:end="35:59">(<argument pos:start="35:26" pos:end="35:35"><expr pos:start="35:26" pos:end="35:35"><operator pos:start="35:26" pos:end="35:26">&amp;</operator><name pos:start="35:27" pos:end="35:35"><name pos:start="35:27" pos:end="35:29">blk</name><operator pos:start="35:30" pos:end="35:31">-&gt;</operator><name pos:start="35:32" pos:end="35:35">conf</name></name></expr></argument>, <argument pos:start="35:38" pos:end="35:41"><expr pos:start="35:38" pos:end="35:41"><name pos:start="35:38" pos:end="35:41">NULL</name></expr></argument>, <argument pos:start="35:44" pos:end="35:48"><expr pos:start="35:44" pos:end="35:48"><literal type="number" pos:start="35:44" pos:end="35:48">65535</literal></expr></argument>, <argument pos:start="35:51" pos:end="35:53"><expr pos:start="35:51" pos:end="35:53"><literal type="number" pos:start="35:51" pos:end="35:53">255</literal></expr></argument>, <argument pos:start="35:56" pos:end="35:58"><expr pos:start="35:56" pos:end="35:58"><literal type="number" pos:start="35:56" pos:end="35:58">255</literal></expr></argument>)</argument_list></call> <operator pos:start="35:61" pos:end="35:61">&lt;</operator> <literal type="number" pos:start="35:63" pos:end="35:63">0</literal></expr>)</condition> <block pos:start="35:66" pos:end="39:5">{<block_content pos:start="37:9" pos:end="37:18">

        <return pos:start="37:9" pos:end="37:18">return <expr pos:start="37:16" pos:end="37:17"><operator pos:start="37:16" pos:end="37:16">-</operator><literal type="number" pos:start="37:17" pos:end="37:17">1</literal></expr>;</return>

    </block_content>}</block></if></if_stmt>



    <expr_stmt pos:start="43:5" pos:end="45:50"><expr pos:start="43:5" pos:end="45:49"><call pos:start="43:5" pos:end="45:49"><name pos:start="43:5" pos:end="43:15">virtio_init</name><argument_list pos:start="43:16" pos:end="45:49">(<argument pos:start="43:17" pos:end="43:20"><expr pos:start="43:17" pos:end="43:20"><name pos:start="43:17" pos:end="43:20">vdev</name></expr></argument>, <argument pos:start="43:23" pos:end="43:34"><expr pos:start="43:23" pos:end="43:34"><literal type="string" pos:start="43:23" pos:end="43:34">"virtio-blk"</literal></expr></argument>, <argument pos:start="43:37" pos:end="43:51"><expr pos:start="43:37" pos:end="43:51"><name pos:start="43:37" pos:end="43:51">VIRTIO_ID_BLOCK</name></expr></argument>,

                <argument pos:start="45:17" pos:end="45:48"><expr pos:start="45:17" pos:end="45:48"><sizeof pos:start="45:17" pos:end="45:48">sizeof<argument_list pos:start="45:23" pos:end="45:48">(<argument pos:start="45:24" pos:end="45:47"><expr pos:start="45:24" pos:end="45:47">struct <name pos:start="45:31" pos:end="45:47">virtio_blk_config</name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="49:5" pos:end="49:48"><expr pos:start="49:5" pos:end="49:47"><name pos:start="49:5" pos:end="49:20"><name pos:start="49:5" pos:end="49:8">vdev</name><operator pos:start="49:9" pos:end="49:10">-&gt;</operator><name pos:start="49:11" pos:end="49:20">get_config</name></name> <operator pos:start="49:22" pos:end="49:22">=</operator> <name pos:start="49:24" pos:end="49:47">virtio_blk_update_config</name></expr>;</expr_stmt>

    <expr_stmt pos:start="51:5" pos:end="51:45"><expr pos:start="51:5" pos:end="51:44"><name pos:start="51:5" pos:end="51:20"><name pos:start="51:5" pos:end="51:8">vdev</name><operator pos:start="51:9" pos:end="51:10">-&gt;</operator><name pos:start="51:11" pos:end="51:20">set_config</name></name> <operator pos:start="51:22" pos:end="51:22">=</operator> <name pos:start="51:24" pos:end="51:44">virtio_blk_set_config</name></expr>;</expr_stmt>

    <expr_stmt pos:start="53:5" pos:end="53:49"><expr pos:start="53:5" pos:end="53:48"><name pos:start="53:5" pos:end="53:22"><name pos:start="53:5" pos:end="53:8">vdev</name><operator pos:start="53:9" pos:end="53:10">-&gt;</operator><name pos:start="53:11" pos:end="53:22">get_features</name></name> <operator pos:start="53:24" pos:end="53:24">=</operator> <name pos:start="53:26" pos:end="53:48">virtio_blk_get_features</name></expr>;</expr_stmt>

    <expr_stmt pos:start="55:5" pos:end="55:45"><expr pos:start="55:5" pos:end="55:44"><name pos:start="55:5" pos:end="55:20"><name pos:start="55:5" pos:end="55:8">vdev</name><operator pos:start="55:9" pos:end="55:10">-&gt;</operator><name pos:start="55:11" pos:end="55:20">set_status</name></name> <operator pos:start="55:22" pos:end="55:22">=</operator> <name pos:start="55:24" pos:end="55:44">virtio_blk_set_status</name></expr>;</expr_stmt>

    <expr_stmt pos:start="57:5" pos:end="57:35"><expr pos:start="57:5" pos:end="57:34"><name pos:start="57:5" pos:end="57:15"><name pos:start="57:5" pos:end="57:8">vdev</name><operator pos:start="57:9" pos:end="57:10">-&gt;</operator><name pos:start="57:11" pos:end="57:15">reset</name></name> <operator pos:start="57:17" pos:end="57:17">=</operator> <name pos:start="57:19" pos:end="57:34">virtio_blk_reset</name></expr>;</expr_stmt>

    <expr_stmt pos:start="59:5" pos:end="59:25"><expr pos:start="59:5" pos:end="59:24"><name pos:start="59:5" pos:end="59:9"><name pos:start="59:5" pos:end="59:5">s</name><operator pos:start="59:6" pos:end="59:7">-&gt;</operator><name pos:start="59:8" pos:end="59:9">bs</name></name> <operator pos:start="59:11" pos:end="59:11">=</operator> <name pos:start="59:13" pos:end="59:24"><name pos:start="59:13" pos:end="59:15">blk</name><operator pos:start="59:16" pos:end="59:17">-&gt;</operator><name pos:start="59:18" pos:end="59:21">conf</name><operator pos:start="59:22" pos:end="59:22">.</operator><name pos:start="59:23" pos:end="59:24">bs</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="61:5" pos:end="61:25"><expr pos:start="61:5" pos:end="61:24"><name pos:start="61:5" pos:end="61:11"><name pos:start="61:5" pos:end="61:5">s</name><operator pos:start="61:6" pos:end="61:7">-&gt;</operator><name pos:start="61:8" pos:end="61:11">conf</name></name> <operator pos:start="61:13" pos:end="61:13">=</operator> <operator pos:start="61:15" pos:end="61:15">&amp;</operator><name pos:start="61:16" pos:end="61:24"><name pos:start="61:16" pos:end="61:18">blk</name><operator pos:start="61:19" pos:end="61:20">-&gt;</operator><name pos:start="61:21" pos:end="61:24">conf</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="63:5" pos:end="63:57"><expr pos:start="63:5" pos:end="63:56"><call pos:start="63:5" pos:end="63:56"><name pos:start="63:5" pos:end="63:10">memcpy</name><argument_list pos:start="63:11" pos:end="63:56">(<argument pos:start="63:12" pos:end="63:20"><expr pos:start="63:12" pos:end="63:20"><operator pos:start="63:12" pos:end="63:12">&amp;</operator><operator pos:start="63:13" pos:end="63:13">(</operator><name pos:start="63:14" pos:end="63:19"><name pos:start="63:14" pos:end="63:14">s</name><operator pos:start="63:15" pos:end="63:16">-&gt;</operator><name pos:start="63:17" pos:end="63:19">blk</name></name><operator pos:start="63:20" pos:end="63:20">)</operator></expr></argument>, <argument pos:start="63:23" pos:end="63:25"><expr pos:start="63:23" pos:end="63:25"><name pos:start="63:23" pos:end="63:25">blk</name></expr></argument>, <argument pos:start="63:28" pos:end="63:55"><expr pos:start="63:28" pos:end="63:55"><sizeof pos:start="63:28" pos:end="63:55">sizeof<argument_list pos:start="63:34" pos:end="63:55">(<argument pos:start="63:35" pos:end="63:54"><expr pos:start="63:35" pos:end="63:54">struct <name pos:start="63:42" pos:end="63:54">VirtIOBlkConf</name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="65:5" pos:end="65:17"><expr pos:start="65:5" pos:end="65:16"><name pos:start="65:5" pos:end="65:9"><name pos:start="65:5" pos:end="65:5">s</name><operator pos:start="65:6" pos:end="65:7">-&gt;</operator><name pos:start="65:8" pos:end="65:9">rq</name></name> <operator pos:start="65:11" pos:end="65:11">=</operator> <name pos:start="65:13" pos:end="65:16">NULL</name></expr>;</expr_stmt>

    <expr_stmt pos:start="67:5" pos:end="67:74"><expr pos:start="67:5" pos:end="67:73"><name pos:start="67:5" pos:end="67:18"><name pos:start="67:5" pos:end="67:5">s</name><operator pos:start="67:6" pos:end="67:7">-&gt;</operator><name pos:start="67:8" pos:end="67:18">sector_mask</name></name> <operator pos:start="67:20" pos:end="67:20">=</operator> <operator pos:start="67:22" pos:end="67:22">(</operator><name pos:start="67:23" pos:end="67:49"><name pos:start="67:23" pos:end="67:23">s</name><operator pos:start="67:24" pos:end="67:25">-&gt;</operator><name pos:start="67:26" pos:end="67:29">conf</name><operator pos:start="67:30" pos:end="67:31">-&gt;</operator><name pos:start="67:32" pos:end="67:49">logical_block_size</name></name> <operator pos:start="67:51" pos:end="67:51">/</operator> <name pos:start="67:53" pos:end="67:68">BDRV_SECTOR_SIZE</name><operator pos:start="67:69" pos:end="67:69">)</operator> <operator pos:start="67:71" pos:end="67:71">-</operator> <literal type="number" pos:start="67:73" pos:end="67:73">1</literal></expr>;</expr_stmt>



    <expr_stmt pos:start="71:5" pos:end="74:0"><expr pos:start="71:5" pos:end="71:65"><name pos:start="71:5" pos:end="71:9"><name pos:start="71:5" pos:end="71:5">s</name><operator pos:start="71:6" pos:end="71:7">-&gt;</operator><name pos:start="71:8" pos:end="71:9">vq</name></name> <operator pos:start="71:11" pos:end="71:11">=</operator> <call pos:start="71:13" pos:end="71:65"><name pos:start="71:13" pos:end="71:28">virtio_add_queue</name><argument_list pos:start="71:29" pos:end="71:65">(<argument pos:start="71:30" pos:end="71:33"><expr pos:start="71:30" pos:end="71:33"><name pos:start="71:30" pos:end="71:33">vdev</name></expr></argument>, <argument pos:start="71:36" pos:end="71:38"><expr pos:start="71:36" pos:end="71:38"><literal type="number" pos:start="71:36" pos:end="71:38">128</literal></expr></argument>, <argument pos:start="71:41" pos:end="71:64"><expr pos:start="71:41" pos:end="71:64"><name pos:start="71:41" pos:end="71:64">virtio_blk_handle_output</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

<cpp:ifdef pos:start="73:1" pos:end="73:35">#<cpp:directive pos:start="73:2" pos:end="73:6">ifdef</cpp:directive> <name pos:start="73:8" pos:end="73:35">CONFIG_VIRTIO_BLK_DATA_PLANE</name></cpp:ifdef>

    <if_stmt pos:start="75:5" pos:end="84:0"><if pos:start="75:5" pos:end="84:0">if <condition pos:start="75:8" pos:end="75:64">(<expr pos:start="75:9" pos:end="75:63"><operator pos:start="75:9" pos:end="75:9">!</operator><call pos:start="75:10" pos:end="75:63"><name pos:start="75:10" pos:end="75:37">virtio_blk_data_plane_create</name><argument_list pos:start="75:38" pos:end="75:63">(<argument pos:start="75:39" pos:end="75:42"><expr pos:start="75:39" pos:end="75:42"><name pos:start="75:39" pos:end="75:42">vdev</name></expr></argument>, <argument pos:start="75:45" pos:end="75:47"><expr pos:start="75:45" pos:end="75:47"><name pos:start="75:45" pos:end="75:47">blk</name></expr></argument>, <argument pos:start="75:50" pos:end="75:62"><expr pos:start="75:50" pos:end="75:62"><operator pos:start="75:50" pos:end="75:50">&amp;</operator><name pos:start="75:51" pos:end="75:62"><name pos:start="75:51" pos:end="75:51">s</name><operator pos:start="75:52" pos:end="75:53">-&gt;</operator><name pos:start="75:54" pos:end="75:62">dataplane</name></name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="75:66" pos:end="84:0">{<block_content pos:start="77:9" pos:end="79:18">

        <expr_stmt pos:start="77:9" pos:end="77:29"><expr pos:start="77:9" pos:end="77:28"><call pos:start="77:9" pos:end="77:28"><name pos:start="77:9" pos:end="77:22">virtio_cleanup</name><argument_list pos:start="77:23" pos:end="77:28">(<argument pos:start="77:24" pos:end="77:27"><expr pos:start="77:24" pos:end="77:27"><name pos:start="77:24" pos:end="77:27">vdev</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <return pos:start="79:9" pos:end="79:18">return <expr pos:start="79:16" pos:end="79:17"><operator pos:start="79:16" pos:end="79:16">-</operator><literal type="number" pos:start="79:17" pos:end="79:17">1</literal></expr>;</return>

    </block_content>}</block></if></if_stmt>

<cpp:endif pos:start="83:1" pos:end="83:6">#<cpp:directive pos:start="83:2" pos:end="83:6">endif</cpp:directive></cpp:endif>



    <expr_stmt pos:start="87:5" pos:end="87:79"><expr pos:start="87:5" pos:end="87:78"><name pos:start="87:5" pos:end="87:13"><name pos:start="87:5" pos:end="87:5">s</name><operator pos:start="87:6" pos:end="87:7">-&gt;</operator><name pos:start="87:8" pos:end="87:13">change</name></name> <operator pos:start="87:15" pos:end="87:15">=</operator> <call pos:start="87:17" pos:end="87:78"><name pos:start="87:17" pos:end="87:48">qemu_add_vm_change_state_handler</name><argument_list pos:start="87:49" pos:end="87:78">(<argument pos:start="87:50" pos:end="87:74"><expr pos:start="87:50" pos:end="87:74"><name pos:start="87:50" pos:end="87:74">virtio_blk_dma_restart_cb</name></expr></argument>, <argument pos:start="87:77" pos:end="87:77"><expr pos:start="87:77" pos:end="87:77"><name pos:start="87:77" pos:end="87:77">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="89:5" pos:end="91:57"><expr pos:start="89:5" pos:end="91:56"><call pos:start="89:5" pos:end="91:56"><name pos:start="89:5" pos:end="89:19">register_savevm</name><argument_list pos:start="89:20" pos:end="91:56">(<argument pos:start="89:21" pos:end="89:24"><expr pos:start="89:21" pos:end="89:24"><name pos:start="89:21" pos:end="89:24">qdev</name></expr></argument>, <argument pos:start="89:27" pos:end="89:38"><expr pos:start="89:27" pos:end="89:38"><literal type="string" pos:start="89:27" pos:end="89:38">"virtio-blk"</literal></expr></argument>, <argument pos:start="89:41" pos:end="89:55"><expr pos:start="89:41" pos:end="89:55"><name pos:start="89:41" pos:end="89:53">virtio_blk_id</name><operator pos:start="89:54" pos:end="89:55">++</operator></expr></argument>, <argument pos:start="89:58" pos:end="89:58"><expr pos:start="89:58" pos:end="89:58"><literal type="number" pos:start="89:58" pos:end="89:58">2</literal></expr></argument>,

                    <argument pos:start="91:21" pos:end="91:35"><expr pos:start="91:21" pos:end="91:35"><name pos:start="91:21" pos:end="91:35">virtio_blk_save</name></expr></argument>, <argument pos:start="91:38" pos:end="91:52"><expr pos:start="91:38" pos:end="91:52"><name pos:start="91:38" pos:end="91:52">virtio_blk_load</name></expr></argument>, <argument pos:start="91:55" pos:end="91:55"><expr pos:start="91:55" pos:end="91:55"><name pos:start="91:55" pos:end="91:55">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="93:5" pos:end="93:50"><expr pos:start="93:5" pos:end="93:49"><call pos:start="93:5" pos:end="93:49"><name pos:start="93:5" pos:end="93:20">bdrv_set_dev_ops</name><argument_list pos:start="93:21" pos:end="93:49">(<argument pos:start="93:22" pos:end="93:26"><expr pos:start="93:22" pos:end="93:26"><name pos:start="93:22" pos:end="93:26"><name pos:start="93:22" pos:end="93:22">s</name><operator pos:start="93:23" pos:end="93:24">-&gt;</operator><name pos:start="93:25" pos:end="93:26">bs</name></name></expr></argument>, <argument pos:start="93:29" pos:end="93:45"><expr pos:start="93:29" pos:end="93:45"><operator pos:start="93:29" pos:end="93:29">&amp;</operator><name pos:start="93:30" pos:end="93:45">virtio_block_ops</name></expr></argument>, <argument pos:start="93:48" pos:end="93:48"><expr pos:start="93:48" pos:end="93:48"><name pos:start="93:48" pos:end="93:48">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="95:5" pos:end="95:66"><expr pos:start="95:5" pos:end="95:65"><call pos:start="95:5" pos:end="95:65"><name pos:start="95:5" pos:end="95:29">bdrv_set_buffer_alignment</name><argument_list pos:start="95:30" pos:end="95:65">(<argument pos:start="95:31" pos:end="95:35"><expr pos:start="95:31" pos:end="95:35"><name pos:start="95:31" pos:end="95:35"><name pos:start="95:31" pos:end="95:31">s</name><operator pos:start="95:32" pos:end="95:33">-&gt;</operator><name pos:start="95:34" pos:end="95:35">bs</name></name></expr></argument>, <argument pos:start="95:38" pos:end="95:64"><expr pos:start="95:38" pos:end="95:64"><name pos:start="95:38" pos:end="95:64"><name pos:start="95:38" pos:end="95:38">s</name><operator pos:start="95:39" pos:end="95:40">-&gt;</operator><name pos:start="95:41" pos:end="95:44">conf</name><operator pos:start="95:45" pos:end="95:46">-&gt;</operator><name pos:start="95:47" pos:end="95:64">logical_block_size</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="99:5" pos:end="99:32"><expr pos:start="99:5" pos:end="99:31"><call pos:start="99:5" pos:end="99:31"><name pos:start="99:5" pos:end="99:24">bdrv_iostatus_enable</name><argument_list pos:start="99:25" pos:end="99:31">(<argument pos:start="99:26" pos:end="99:30"><expr pos:start="99:26" pos:end="99:30"><name pos:start="99:26" pos:end="99:30"><name pos:start="99:26" pos:end="99:26">s</name><operator pos:start="99:27" pos:end="99:28">-&gt;</operator><name pos:start="99:29" pos:end="99:30">bs</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="103:5" pos:end="103:64"><expr pos:start="103:5" pos:end="103:63"><call pos:start="103:5" pos:end="103:63"><name pos:start="103:5" pos:end="103:24">add_boot_device_path</name><argument_list pos:start="103:25" pos:end="103:63">(<argument pos:start="103:26" pos:end="103:43"><expr pos:start="103:26" pos:end="103:43"><name pos:start="103:26" pos:end="103:43"><name pos:start="103:26" pos:end="103:26">s</name><operator pos:start="103:27" pos:end="103:28">-&gt;</operator><name pos:start="103:29" pos:end="103:32">conf</name><operator pos:start="103:33" pos:end="103:34">-&gt;</operator><name pos:start="103:35" pos:end="103:43">bootindex</name></name></expr></argument>, <argument pos:start="103:46" pos:end="103:49"><expr pos:start="103:46" pos:end="103:49"><name pos:start="103:46" pos:end="103:49">qdev</name></expr></argument>, <argument pos:start="103:52" pos:end="103:62"><expr pos:start="103:52" pos:end="103:62"><literal type="string" pos:start="103:52" pos:end="103:62">"/disk@0,0"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <return pos:start="105:5" pos:end="105:13">return <expr pos:start="105:12" pos:end="105:12"><literal type="number" pos:start="105:12" pos:end="105:12">0</literal></expr>;</return>

</block_content>}</block></function>
</unit>
