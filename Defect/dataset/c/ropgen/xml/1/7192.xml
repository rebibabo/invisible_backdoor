<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/7192.c" pos:tabs="8"><function pos:start="1:1" pos:end="295:1"><type pos:start="1:1" pos:end="1:23"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:19">coroutine_fn</name> <name pos:start="1:21" pos:end="1:23">int</name></type> <name pos:start="1:25" pos:end="1:40">qcow2_co_pwritev</name><parameter_list pos:start="1:41" pos:end="5:51">(<parameter pos:start="1:42" pos:end="1:61"><decl pos:start="1:42" pos:end="1:61"><type pos:start="1:42" pos:end="1:61"><name pos:start="1:42" pos:end="1:57">BlockDriverState</name> <modifier pos:start="1:59" pos:end="1:59">*</modifier></type><name pos:start="1:60" pos:end="1:61">bs</name></decl></parameter>, <parameter pos:start="1:64" pos:end="1:78"><decl pos:start="1:64" pos:end="1:78"><type pos:start="1:64" pos:end="1:78"><name pos:start="1:64" pos:end="1:71">uint64_t</name></type> <name pos:start="1:73" pos:end="1:78">offset</name></decl></parameter>,

                                         <parameter pos:start="3:42" pos:end="3:55"><decl pos:start="3:42" pos:end="3:55"><type pos:start="3:42" pos:end="3:55"><name pos:start="3:42" pos:end="3:49">uint64_t</name></type> <name pos:start="3:51" pos:end="3:55">bytes</name></decl></parameter>, <parameter pos:start="3:58" pos:end="3:75"><decl pos:start="3:58" pos:end="3:75"><type pos:start="3:58" pos:end="3:75"><name pos:start="3:58" pos:end="3:69">QEMUIOVector</name> <modifier pos:start="3:71" pos:end="3:71">*</modifier></type><name pos:start="3:72" pos:end="3:75">qiov</name></decl></parameter>,

                                         <parameter pos:start="5:42" pos:end="5:50"><decl pos:start="5:42" pos:end="5:50"><type pos:start="5:42" pos:end="5:50"><name pos:start="5:42" pos:end="5:44">int</name></type> <name pos:start="5:46" pos:end="5:50">flags</name></decl></parameter>)</parameter_list>

<block pos:start="7:1" pos:end="295:1">{<block_content pos:start="9:5" pos:end="293:15">

    <decl_stmt pos:start="9:5" pos:end="9:35"><decl pos:start="9:5" pos:end="9:34"><type pos:start="9:5" pos:end="9:20"><name pos:start="9:5" pos:end="9:18">BDRVQcow2State</name> <modifier pos:start="9:20" pos:end="9:20">*</modifier></type><name pos:start="9:21" pos:end="9:21">s</name> <init pos:start="9:23" pos:end="9:34">= <expr pos:start="9:25" pos:end="9:34"><name pos:start="9:25" pos:end="9:34"><name pos:start="9:25" pos:end="9:26">bs</name><operator pos:start="9:27" pos:end="9:28">-&gt;</operator><name pos:start="9:29" pos:end="9:34">opaque</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:26"><decl pos:start="11:5" pos:end="11:25"><type pos:start="11:5" pos:end="11:7"><name pos:start="11:5" pos:end="11:7">int</name></type> <name pos:start="11:9" pos:end="11:25">offset_in_cluster</name></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:12"><decl pos:start="13:5" pos:end="13:11"><type pos:start="13:5" pos:end="13:7"><name pos:start="13:5" pos:end="13:7">int</name></type> <name pos:start="13:9" pos:end="13:11">ret</name></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="15:27"><decl pos:start="15:5" pos:end="15:26"><type pos:start="15:5" pos:end="15:16"><name pos:start="15:5" pos:end="15:12">unsigned</name> <name pos:start="15:14" pos:end="15:16">int</name></type> <name pos:start="15:18" pos:end="15:26">cur_bytes</name></decl>;</decl_stmt> <comment type="block" pos:start="15:29" pos:end="15:72">/* number of sectors in current iteration */</comment>

    <decl_stmt pos:start="17:5" pos:end="17:28"><decl pos:start="17:5" pos:end="17:27"><type pos:start="17:5" pos:end="17:12"><name pos:start="17:5" pos:end="17:12">uint64_t</name></type> <name pos:start="17:14" pos:end="17:27">cluster_offset</name></decl>;</decl_stmt>

    <decl_stmt pos:start="19:5" pos:end="19:25"><decl pos:start="19:5" pos:end="19:24"><type pos:start="19:5" pos:end="19:16"><name pos:start="19:5" pos:end="19:16">QEMUIOVector</name></type> <name pos:start="19:18" pos:end="19:24">hd_qiov</name></decl>;</decl_stmt>

    <decl_stmt pos:start="21:5" pos:end="21:28"><decl pos:start="21:5" pos:end="21:27"><type pos:start="21:5" pos:end="21:12"><name pos:start="21:5" pos:end="21:12">uint64_t</name></type> <name pos:start="21:14" pos:end="21:23">bytes_done</name> <init pos:start="21:25" pos:end="21:27">= <expr pos:start="21:27" pos:end="21:27"><literal type="number" pos:start="21:27" pos:end="21:27">0</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="23:5" pos:end="23:33"><decl pos:start="23:5" pos:end="23:32"><type pos:start="23:5" pos:end="23:13"><name pos:start="23:5" pos:end="23:11">uint8_t</name> <modifier pos:start="23:13" pos:end="23:13">*</modifier></type><name pos:start="23:14" pos:end="23:25">cluster_data</name> <init pos:start="23:27" pos:end="23:32">= <expr pos:start="23:29" pos:end="23:32"><name pos:start="23:29" pos:end="23:32">NULL</name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="25:5" pos:end="25:30"><decl pos:start="25:5" pos:end="25:29"><type pos:start="25:5" pos:end="25:16"><name pos:start="25:5" pos:end="25:14">QCowL2Meta</name> <modifier pos:start="25:16" pos:end="25:16">*</modifier></type><name pos:start="25:17" pos:end="25:22">l2meta</name> <init pos:start="25:24" pos:end="25:29">= <expr pos:start="25:26" pos:end="25:29"><name pos:start="25:26" pos:end="25:29">NULL</name></expr></init></decl>;</decl_stmt>



    <expr_stmt pos:start="29:5" pos:end="29:71"><expr pos:start="29:5" pos:end="29:70"><call pos:start="29:5" pos:end="29:70"><name pos:start="29:5" pos:end="29:32">trace_qcow2_writev_start_req</name><argument_list pos:start="29:33" pos:end="29:70">(<argument pos:start="29:34" pos:end="29:54"><expr pos:start="29:34" pos:end="29:54"><call pos:start="29:34" pos:end="29:54"><name pos:start="29:34" pos:end="29:52">qemu_coroutine_self</name><argument_list pos:start="29:53" pos:end="29:54">()</argument_list></call></expr></argument>, <argument pos:start="29:57" pos:end="29:62"><expr pos:start="29:57" pos:end="29:62"><name pos:start="29:57" pos:end="29:62">offset</name></expr></argument>, <argument pos:start="29:65" pos:end="29:69"><expr pos:start="29:65" pos:end="29:69"><name pos:start="29:65" pos:end="29:69">bytes</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="33:5" pos:end="33:42"><expr pos:start="33:5" pos:end="33:41"><call pos:start="33:5" pos:end="33:41"><name pos:start="33:5" pos:end="33:19">qemu_iovec_init</name><argument_list pos:start="33:20" pos:end="33:41">(<argument pos:start="33:21" pos:end="33:28"><expr pos:start="33:21" pos:end="33:28"><operator pos:start="33:21" pos:end="33:21">&amp;</operator><name pos:start="33:22" pos:end="33:28">hd_qiov</name></expr></argument>, <argument pos:start="33:31" pos:end="33:40"><expr pos:start="33:31" pos:end="33:40"><name pos:start="33:31" pos:end="33:40"><name pos:start="33:31" pos:end="33:34">qiov</name><operator pos:start="33:35" pos:end="33:36">-&gt;</operator><name pos:start="33:37" pos:end="33:40">niov</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="37:5" pos:end="37:33"><expr pos:start="37:5" pos:end="37:32"><name pos:start="37:5" pos:end="37:27"><name pos:start="37:5" pos:end="37:5">s</name><operator pos:start="37:6" pos:end="37:7">-&gt;</operator><name pos:start="37:8" pos:end="37:27">cluster_cache_offset</name></name> <operator pos:start="37:29" pos:end="37:29">=</operator> <operator pos:start="37:31" pos:end="37:31">-</operator><literal type="number" pos:start="37:32" pos:end="37:32">1</literal></expr>;</expr_stmt> <comment type="block" pos:start="37:35" pos:end="37:64">/* disable compressed cache */</comment>



    <expr_stmt pos:start="41:5" pos:end="41:33"><expr pos:start="41:5" pos:end="41:32"><call pos:start="41:5" pos:end="41:32"><name pos:start="41:5" pos:end="41:22">qemu_co_mutex_lock</name><argument_list pos:start="41:23" pos:end="41:32">(<argument pos:start="41:24" pos:end="41:31"><expr pos:start="41:24" pos:end="41:31"><operator pos:start="41:24" pos:end="41:24">&amp;</operator><name pos:start="41:25" pos:end="41:31"><name pos:start="41:25" pos:end="41:25">s</name><operator pos:start="41:26" pos:end="41:27">-&gt;</operator><name pos:start="41:28" pos:end="41:31">lock</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <while pos:start="45:5" pos:end="247:5">while <condition pos:start="45:11" pos:end="45:22">(<expr pos:start="45:12" pos:end="45:21"><name pos:start="45:12" pos:end="45:16">bytes</name> <operator pos:start="45:18" pos:end="45:19">!=</operator> <literal type="number" pos:start="45:21" pos:end="45:21">0</literal></expr>)</condition> <block pos:start="45:24" pos:end="247:5">{<block_content pos:start="49:9" pos:end="245:71">



        <expr_stmt pos:start="49:9" pos:end="49:22"><expr pos:start="49:9" pos:end="49:21"><name pos:start="49:9" pos:end="49:14">l2meta</name> <operator pos:start="49:16" pos:end="49:16">=</operator> <name pos:start="49:18" pos:end="49:21">NULL</name></expr>;</expr_stmt>



        <expr_stmt pos:start="53:9" pos:end="53:61"><expr pos:start="53:9" pos:end="53:60"><call pos:start="53:9" pos:end="53:60"><name pos:start="53:9" pos:end="53:37">trace_qcow2_writev_start_part</name><argument_list pos:start="53:38" pos:end="53:60">(<argument pos:start="53:39" pos:end="53:59"><expr pos:start="53:39" pos:end="53:59"><call pos:start="53:39" pos:end="53:59"><name pos:start="53:39" pos:end="53:57">qemu_coroutine_self</name><argument_list pos:start="53:58" pos:end="53:59">()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="55:9" pos:end="55:59"><expr pos:start="55:9" pos:end="55:58"><name pos:start="55:9" pos:end="55:25">offset_in_cluster</name> <operator pos:start="55:27" pos:end="55:27">=</operator> <call pos:start="55:29" pos:end="55:58"><name pos:start="55:29" pos:end="55:47">offset_into_cluster</name><argument_list pos:start="55:48" pos:end="55:58">(<argument pos:start="55:49" pos:end="55:49"><expr pos:start="55:49" pos:end="55:49"><name pos:start="55:49" pos:end="55:49">s</name></expr></argument>, <argument pos:start="55:52" pos:end="55:57"><expr pos:start="55:52" pos:end="55:57"><name pos:start="55:52" pos:end="55:57">offset</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="57:9" pos:end="57:40"><expr pos:start="57:9" pos:end="57:39"><name pos:start="57:9" pos:end="57:17">cur_bytes</name> <operator pos:start="57:19" pos:end="57:19">=</operator> <call pos:start="57:21" pos:end="57:39"><name pos:start="57:21" pos:end="57:23">MIN</name><argument_list pos:start="57:24" pos:end="57:39">(<argument pos:start="57:25" pos:end="57:29"><expr pos:start="57:25" pos:end="57:29"><name pos:start="57:25" pos:end="57:29">bytes</name></expr></argument>, <argument pos:start="57:32" pos:end="57:38"><expr pos:start="57:32" pos:end="57:38"><name pos:start="57:32" pos:end="57:38">INT_MAX</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="59:9" pos:end="67:9"><if pos:start="59:9" pos:end="67:9">if <condition pos:start="59:12" pos:end="59:26">(<expr pos:start="59:13" pos:end="59:25"><name pos:start="59:13" pos:end="59:25"><name pos:start="59:13" pos:end="59:14">bs</name><operator pos:start="59:15" pos:end="59:16">-&gt;</operator><name pos:start="59:17" pos:end="59:25">encrypted</name></name></expr>)</condition> <block pos:start="59:28" pos:end="67:9">{<block_content pos:start="61:13" pos:end="65:49">

            <expr_stmt pos:start="61:13" pos:end="65:49"><expr pos:start="61:13" pos:end="65:48"><name pos:start="61:13" pos:end="61:21">cur_bytes</name> <operator pos:start="61:23" pos:end="61:23">=</operator> <call pos:start="61:25" pos:end="65:48"><name pos:start="61:25" pos:end="61:27">MIN</name><argument_list pos:start="61:28" pos:end="65:48">(<argument pos:start="61:29" pos:end="61:37"><expr pos:start="61:29" pos:end="61:37"><name pos:start="61:29" pos:end="61:37">cur_bytes</name></expr></argument>,

                            <argument pos:start="63:29" pos:end="65:47"><expr pos:start="63:29" pos:end="65:47"><name pos:start="63:29" pos:end="63:51">QCOW_MAX_CRYPT_CLUSTERS</name> <operator pos:start="63:53" pos:end="63:53">*</operator> <name pos:start="63:55" pos:end="63:69"><name pos:start="63:55" pos:end="63:55">s</name><operator pos:start="63:56" pos:end="63:57">-&gt;</operator><name pos:start="63:58" pos:end="63:69">cluster_size</name></name>

                            <operator pos:start="65:29" pos:end="65:29">-</operator> <name pos:start="65:31" pos:end="65:47">offset_in_cluster</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>



        <expr_stmt pos:start="71:9" pos:end="73:67"><expr pos:start="71:9" pos:end="73:66"><name pos:start="71:9" pos:end="71:11">ret</name> <operator pos:start="71:13" pos:end="71:13">=</operator> <call pos:start="71:15" pos:end="73:66"><name pos:start="71:15" pos:end="71:40">qcow2_alloc_cluster_offset</name><argument_list pos:start="71:41" pos:end="73:66">(<argument pos:start="71:42" pos:end="71:43"><expr pos:start="71:42" pos:end="71:43"><name pos:start="71:42" pos:end="71:43">bs</name></expr></argument>, <argument pos:start="71:46" pos:end="71:51"><expr pos:start="71:46" pos:end="71:51"><name pos:start="71:46" pos:end="71:51">offset</name></expr></argument>, <argument pos:start="71:54" pos:end="71:63"><expr pos:start="71:54" pos:end="71:63"><operator pos:start="71:54" pos:end="71:54">&amp;</operator><name pos:start="71:55" pos:end="71:63">cur_bytes</name></expr></argument>,

                                         <argument pos:start="73:42" pos:end="73:56"><expr pos:start="73:42" pos:end="73:56"><operator pos:start="73:42" pos:end="73:42">&amp;</operator><name pos:start="73:43" pos:end="73:56">cluster_offset</name></expr></argument>, <argument pos:start="73:59" pos:end="73:65"><expr pos:start="73:59" pos:end="73:65"><operator pos:start="73:59" pos:end="73:59">&amp;</operator><name pos:start="73:60" pos:end="73:65">l2meta</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="75:9" pos:end="79:9"><if pos:start="75:9" pos:end="79:9">if <condition pos:start="75:12" pos:end="75:20">(<expr pos:start="75:13" pos:end="75:19"><name pos:start="75:13" pos:end="75:15">ret</name> <operator pos:start="75:17" pos:end="75:17">&lt;</operator> <literal type="number" pos:start="75:19" pos:end="75:19">0</literal></expr>)</condition> <block pos:start="75:22" pos:end="79:9">{<block_content pos:start="77:13" pos:end="77:22">

            <goto pos:start="77:13" pos:end="77:22">goto <name pos:start="77:18" pos:end="77:21">fail</name>;</goto>

        </block_content>}</block></if></if_stmt>



        <expr_stmt pos:start="83:9" pos:end="83:44"><expr pos:start="83:9" pos:end="83:43"><call pos:start="83:9" pos:end="83:43"><name pos:start="83:9" pos:end="83:14">assert</name><argument_list pos:start="83:15" pos:end="83:43">(<argument pos:start="83:16" pos:end="83:42"><expr pos:start="83:16" pos:end="83:42"><operator pos:start="83:16" pos:end="83:16">(</operator><name pos:start="83:17" pos:end="83:30">cluster_offset</name> <operator pos:start="83:32" pos:end="83:32">&amp;</operator> <literal type="number" pos:start="83:34" pos:end="83:36">511</literal><operator pos:start="83:37" pos:end="83:37">)</operator> <operator pos:start="83:39" pos:end="83:40">==</operator> <literal type="number" pos:start="83:42" pos:end="83:42">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <expr_stmt pos:start="87:9" pos:end="87:35"><expr pos:start="87:9" pos:end="87:34"><call pos:start="87:9" pos:end="87:34"><name pos:start="87:9" pos:end="87:24">qemu_iovec_reset</name><argument_list pos:start="87:25" pos:end="87:34">(<argument pos:start="87:26" pos:end="87:33"><expr pos:start="87:26" pos:end="87:33"><operator pos:start="87:26" pos:end="87:26">&amp;</operator><name pos:start="87:27" pos:end="87:33">hd_qiov</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="89:9" pos:end="89:65"><expr pos:start="89:9" pos:end="89:64"><call pos:start="89:9" pos:end="89:64"><name pos:start="89:9" pos:end="89:25">qemu_iovec_concat</name><argument_list pos:start="89:26" pos:end="89:64">(<argument pos:start="89:27" pos:end="89:34"><expr pos:start="89:27" pos:end="89:34"><operator pos:start="89:27" pos:end="89:27">&amp;</operator><name pos:start="89:28" pos:end="89:34">hd_qiov</name></expr></argument>, <argument pos:start="89:37" pos:end="89:40"><expr pos:start="89:37" pos:end="89:40"><name pos:start="89:37" pos:end="89:40">qiov</name></expr></argument>, <argument pos:start="89:43" pos:end="89:52"><expr pos:start="89:43" pos:end="89:52"><name pos:start="89:43" pos:end="89:52">bytes_done</name></expr></argument>, <argument pos:start="89:55" pos:end="89:63"><expr pos:start="89:55" pos:end="89:63"><name pos:start="89:55" pos:end="89:63">cur_bytes</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <if_stmt pos:start="93:9" pos:end="147:9"><if pos:start="93:9" pos:end="147:9">if <condition pos:start="93:12" pos:end="93:26">(<expr pos:start="93:13" pos:end="93:25"><name pos:start="93:13" pos:end="93:25"><name pos:start="93:13" pos:end="93:14">bs</name><operator pos:start="93:15" pos:end="93:16">-&gt;</operator><name pos:start="93:17" pos:end="93:25">encrypted</name></name></expr>)</condition> <block pos:start="93:28" pos:end="147:9">{<block_content pos:start="95:13" pos:end="145:62">

            <decl_stmt pos:start="95:13" pos:end="95:30"><decl pos:start="95:13" pos:end="95:29"><type pos:start="95:13" pos:end="95:19"><name pos:start="95:13" pos:end="95:17">Error</name> <modifier pos:start="95:19" pos:end="95:19">*</modifier></type><name pos:start="95:20" pos:end="95:22">err</name> <init pos:start="95:24" pos:end="95:29">= <expr pos:start="95:26" pos:end="95:29"><name pos:start="95:26" pos:end="95:29">NULL</name></expr></init></decl>;</decl_stmt>

            <expr_stmt pos:start="97:13" pos:end="97:30"><expr pos:start="97:13" pos:end="97:29"><call pos:start="97:13" pos:end="97:29"><name pos:start="97:13" pos:end="97:18">assert</name><argument_list pos:start="97:19" pos:end="97:29">(<argument pos:start="97:20" pos:end="97:28"><expr pos:start="97:20" pos:end="97:28"><name pos:start="97:20" pos:end="97:28"><name pos:start="97:20" pos:end="97:20">s</name><operator pos:start="97:21" pos:end="97:22">-&gt;</operator><name pos:start="97:23" pos:end="97:28">crypto</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <if_stmt pos:start="99:13" pos:end="115:13"><if pos:start="99:13" pos:end="115:13">if <condition pos:start="99:16" pos:end="99:30">(<expr pos:start="99:17" pos:end="99:29"><operator pos:start="99:17" pos:end="99:17">!</operator><name pos:start="99:18" pos:end="99:29">cluster_data</name></expr>)</condition> <block pos:start="99:32" pos:end="115:13">{<block_content pos:start="101:17" pos:end="113:17">

                <expr_stmt pos:start="101:17" pos:end="105:70"><expr pos:start="101:17" pos:end="105:69"><name pos:start="101:17" pos:end="101:28">cluster_data</name> <operator pos:start="101:30" pos:end="101:30">=</operator> <call pos:start="101:32" pos:end="105:69"><name pos:start="101:32" pos:end="101:50">qemu_try_blockalign</name><argument_list pos:start="101:51" pos:end="105:69">(<argument pos:start="101:52" pos:end="101:63"><expr pos:start="101:52" pos:end="101:63"><name pos:start="101:52" pos:end="101:63"><name pos:start="101:52" pos:end="101:53">bs</name><operator pos:start="101:54" pos:end="101:55">-&gt;</operator><name pos:start="101:56" pos:end="101:59">file</name><operator pos:start="101:60" pos:end="101:61">-&gt;</operator><name pos:start="101:62" pos:end="101:63">bs</name></name></expr></argument>,

                                                   <argument pos:start="103:52" pos:end="105:68"><expr pos:start="103:52" pos:end="105:68"><name pos:start="103:52" pos:end="103:74">QCOW_MAX_CRYPT_CLUSTERS</name>

                                                   <operator pos:start="105:52" pos:end="105:52">*</operator> <name pos:start="105:54" pos:end="105:68"><name pos:start="105:54" pos:end="105:54">s</name><operator pos:start="105:55" pos:end="105:56">-&gt;</operator><name pos:start="105:57" pos:end="105:68">cluster_size</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <if_stmt pos:start="107:17" pos:end="113:17"><if pos:start="107:17" pos:end="113:17">if <condition pos:start="107:20" pos:end="107:41">(<expr pos:start="107:21" pos:end="107:40"><name pos:start="107:21" pos:end="107:32">cluster_data</name> <operator pos:start="107:34" pos:end="107:35">==</operator> <name pos:start="107:37" pos:end="107:40">NULL</name></expr>)</condition> <block pos:start="107:43" pos:end="113:17">{<block_content pos:start="109:21" pos:end="111:30">

                    <expr_stmt pos:start="109:21" pos:end="109:34"><expr pos:start="109:21" pos:end="109:33"><name pos:start="109:21" pos:end="109:23">ret</name> <operator pos:start="109:25" pos:end="109:25">=</operator> <operator pos:start="109:27" pos:end="109:27">-</operator><name pos:start="109:28" pos:end="109:33">ENOMEM</name></expr>;</expr_stmt>

                    <goto pos:start="111:21" pos:end="111:30">goto <name pos:start="111:26" pos:end="111:29">fail</name>;</goto>

                </block_content>}</block></if></if_stmt>

            </block_content>}</block></if></if_stmt>



            <expr_stmt pos:start="119:13" pos:end="121:62"><expr pos:start="119:13" pos:end="121:61"><call pos:start="119:13" pos:end="121:61"><name pos:start="119:13" pos:end="119:18">assert</name><argument_list pos:start="119:19" pos:end="121:61">(<argument pos:start="119:20" pos:end="121:60"><expr pos:start="119:20" pos:end="121:60"><name pos:start="119:20" pos:end="119:31"><name pos:start="119:20" pos:end="119:26">hd_qiov</name><operator pos:start="119:27" pos:end="119:27">.</operator><name pos:start="119:28" pos:end="119:31">size</name></name> <operator pos:start="119:33" pos:end="119:34">&lt;=</operator>

                   <name pos:start="121:20" pos:end="121:42">QCOW_MAX_CRYPT_CLUSTERS</name> <operator pos:start="121:44" pos:end="121:44">*</operator> <name pos:start="121:46" pos:end="121:60"><name pos:start="121:46" pos:end="121:46">s</name><operator pos:start="121:47" pos:end="121:48">-&gt;</operator><name pos:start="121:49" pos:end="121:60">cluster_size</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="123:13" pos:end="123:71"><expr pos:start="123:13" pos:end="123:70"><call pos:start="123:13" pos:end="123:70"><name pos:start="123:13" pos:end="123:29">qemu_iovec_to_buf</name><argument_list pos:start="123:30" pos:end="123:70">(<argument pos:start="123:31" pos:end="123:38"><expr pos:start="123:31" pos:end="123:38"><operator pos:start="123:31" pos:end="123:31">&amp;</operator><name pos:start="123:32" pos:end="123:38">hd_qiov</name></expr></argument>, <argument pos:start="123:41" pos:end="123:41"><expr pos:start="123:41" pos:end="123:41"><literal type="number" pos:start="123:41" pos:end="123:41">0</literal></expr></argument>, <argument pos:start="123:44" pos:end="123:55"><expr pos:start="123:44" pos:end="123:55"><name pos:start="123:44" pos:end="123:55">cluster_data</name></expr></argument>, <argument pos:start="123:58" pos:end="123:69"><expr pos:start="123:58" pos:end="123:69"><name pos:start="123:58" pos:end="123:69"><name pos:start="123:58" pos:end="123:64">hd_qiov</name><operator pos:start="123:65" pos:end="123:65">.</operator><name pos:start="123:66" pos:end="123:69">size</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



            <if_stmt pos:start="127:13" pos:end="139:13"><if pos:start="127:13" pos:end="139:13">if <condition pos:start="127:16" pos:end="131:59">(<expr pos:start="127:17" pos:end="131:58"><call pos:start="127:17" pos:end="131:54"><name pos:start="127:17" pos:end="127:37">qcrypto_block_encrypt</name><argument_list pos:start="127:38" pos:end="131:54">(<argument pos:start="127:39" pos:end="127:47"><expr pos:start="127:39" pos:end="127:47"><name pos:start="127:39" pos:end="127:47"><name pos:start="127:39" pos:end="127:39">s</name><operator pos:start="127:40" pos:end="127:41">-&gt;</operator><name pos:start="127:42" pos:end="127:47">crypto</name></name></expr></argument>, <argument pos:start="127:50" pos:end="127:75"><expr pos:start="127:50" pos:end="127:75"><name pos:start="127:50" pos:end="127:55">offset</name> <operator pos:start="127:57" pos:end="127:58">&gt;&gt;</operator> <name pos:start="127:60" pos:end="127:75">BDRV_SECTOR_BITS</name></expr></argument>,

                                      <argument pos:start="129:39" pos:end="129:50"><expr pos:start="129:39" pos:end="129:50"><name pos:start="129:39" pos:end="129:50">cluster_data</name></expr></argument>,

                                      <argument pos:start="131:39" pos:end="131:47"><expr pos:start="131:39" pos:end="131:47"><name pos:start="131:39" pos:end="131:47">cur_bytes</name></expr></argument>, <argument pos:start="131:50" pos:end="131:53"><expr pos:start="131:50" pos:end="131:53"><operator pos:start="131:50" pos:end="131:50">&amp;</operator><name pos:start="131:51" pos:end="131:53">err</name></expr></argument>)</argument_list></call> <operator pos:start="131:56" pos:end="131:56">&lt;</operator> <literal type="number" pos:start="131:58" pos:end="131:58">0</literal></expr>)</condition> <block pos:start="131:61" pos:end="139:13">{<block_content pos:start="133:17" pos:end="137:26">

                <expr_stmt pos:start="133:17" pos:end="133:32"><expr pos:start="133:17" pos:end="133:31"><call pos:start="133:17" pos:end="133:31"><name pos:start="133:17" pos:end="133:26">error_free</name><argument_list pos:start="133:27" pos:end="133:31">(<argument pos:start="133:28" pos:end="133:30"><expr pos:start="133:28" pos:end="133:30"><name pos:start="133:28" pos:end="133:30">err</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="135:17" pos:end="135:27"><expr pos:start="135:17" pos:end="135:26"><name pos:start="135:17" pos:end="135:19">ret</name> <operator pos:start="135:21" pos:end="135:21">=</operator> <operator pos:start="135:23" pos:end="135:23">-</operator><name pos:start="135:24" pos:end="135:26">EIO</name></expr>;</expr_stmt>

                <goto pos:start="137:17" pos:end="137:26">goto <name pos:start="137:22" pos:end="137:25">fail</name>;</goto>

            </block_content>}</block></if></if_stmt>



            <expr_stmt pos:start="143:13" pos:end="143:39"><expr pos:start="143:13" pos:end="143:38"><call pos:start="143:13" pos:end="143:38"><name pos:start="143:13" pos:end="143:28">qemu_iovec_reset</name><argument_list pos:start="143:29" pos:end="143:38">(<argument pos:start="143:30" pos:end="143:37"><expr pos:start="143:30" pos:end="143:37"><operator pos:start="143:30" pos:end="143:30">&amp;</operator><name pos:start="143:31" pos:end="143:37">hd_qiov</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="145:13" pos:end="145:62"><expr pos:start="145:13" pos:end="145:61"><call pos:start="145:13" pos:end="145:61"><name pos:start="145:13" pos:end="145:26">qemu_iovec_add</name><argument_list pos:start="145:27" pos:end="145:61">(<argument pos:start="145:28" pos:end="145:35"><expr pos:start="145:28" pos:end="145:35"><operator pos:start="145:28" pos:end="145:28">&amp;</operator><name pos:start="145:29" pos:end="145:35">hd_qiov</name></expr></argument>, <argument pos:start="145:38" pos:end="145:49"><expr pos:start="145:38" pos:end="145:49"><name pos:start="145:38" pos:end="145:49">cluster_data</name></expr></argument>, <argument pos:start="145:52" pos:end="145:60"><expr pos:start="145:52" pos:end="145:60"><name pos:start="145:52" pos:end="145:60">cur_bytes</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>



        <expr_stmt pos:start="151:9" pos:end="153:63"><expr pos:start="151:9" pos:end="153:62"><name pos:start="151:9" pos:end="151:11">ret</name> <operator pos:start="151:13" pos:end="151:13">=</operator> <call pos:start="151:15" pos:end="153:62"><name pos:start="151:15" pos:end="151:43">qcow2_pre_write_overlap_check</name><argument_list pos:start="151:44" pos:end="153:62">(<argument pos:start="151:45" pos:end="151:46"><expr pos:start="151:45" pos:end="151:46"><name pos:start="151:45" pos:end="151:46">bs</name></expr></argument>, <argument pos:start="151:49" pos:end="151:49"><expr pos:start="151:49" pos:end="151:49"><literal type="number" pos:start="151:49" pos:end="151:49">0</literal></expr></argument>,

                <argument pos:start="153:17" pos:end="153:50"><expr pos:start="153:17" pos:end="153:50"><name pos:start="153:17" pos:end="153:30">cluster_offset</name> <operator pos:start="153:32" pos:end="153:32">+</operator> <name pos:start="153:34" pos:end="153:50">offset_in_cluster</name></expr></argument>, <argument pos:start="153:53" pos:end="153:61"><expr pos:start="153:53" pos:end="153:61"><name pos:start="153:53" pos:end="153:61">cur_bytes</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="155:9" pos:end="159:9"><if pos:start="155:9" pos:end="159:9">if <condition pos:start="155:12" pos:end="155:20">(<expr pos:start="155:13" pos:end="155:19"><name pos:start="155:13" pos:end="155:15">ret</name> <operator pos:start="155:17" pos:end="155:17">&lt;</operator> <literal type="number" pos:start="155:19" pos:end="155:19">0</literal></expr>)</condition> <block pos:start="155:22" pos:end="159:9">{<block_content pos:start="157:13" pos:end="157:22">

            <goto pos:start="157:13" pos:end="157:22">goto <name pos:start="157:18" pos:end="157:21">fail</name>;</goto>

        </block_content>}</block></if></if_stmt>



        <comment type="block" pos:start="163:9" pos:end="169:29">/* If we need to do COW, check if it's possible to merge the

         * writing of the guest data together with that of the COW regions.

         * If it's not possible (or not necessary) then write the

         * guest data now. */</comment>

        <if_stmt pos:start="171:9" pos:end="195:9"><if pos:start="171:9" pos:end="195:9">if <condition pos:start="171:12" pos:end="171:60">(<expr pos:start="171:13" pos:end="171:59"><operator pos:start="171:13" pos:end="171:13">!</operator><call pos:start="171:14" pos:end="171:59"><name pos:start="171:14" pos:end="171:22">merge_cow</name><argument_list pos:start="171:23" pos:end="171:59">(<argument pos:start="171:24" pos:end="171:29"><expr pos:start="171:24" pos:end="171:29"><name pos:start="171:24" pos:end="171:29">offset</name></expr></argument>, <argument pos:start="171:32" pos:end="171:40"><expr pos:start="171:32" pos:end="171:40"><name pos:start="171:32" pos:end="171:40">cur_bytes</name></expr></argument>, <argument pos:start="171:43" pos:end="171:50"><expr pos:start="171:43" pos:end="171:50"><operator pos:start="171:43" pos:end="171:43">&amp;</operator><name pos:start="171:44" pos:end="171:50">hd_qiov</name></expr></argument>, <argument pos:start="171:53" pos:end="171:58"><expr pos:start="171:53" pos:end="171:58"><name pos:start="171:53" pos:end="171:58">l2meta</name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="171:62" pos:end="195:9">{<block_content pos:start="173:13" pos:end="193:13">

            <expr_stmt pos:start="173:13" pos:end="173:43"><expr pos:start="173:13" pos:end="173:42"><call pos:start="173:13" pos:end="173:42"><name pos:start="173:13" pos:end="173:32">qemu_co_mutex_unlock</name><argument_list pos:start="173:33" pos:end="173:42">(<argument pos:start="173:34" pos:end="173:41"><expr pos:start="173:34" pos:end="173:41"><operator pos:start="173:34" pos:end="173:34">&amp;</operator><name pos:start="173:35" pos:end="173:41"><name pos:start="173:35" pos:end="173:35">s</name><operator pos:start="173:36" pos:end="173:37">-&gt;</operator><name pos:start="173:38" pos:end="173:41">lock</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="175:13" pos:end="175:53"><expr pos:start="175:13" pos:end="175:52"><call pos:start="175:13" pos:end="175:52"><name pos:start="175:13" pos:end="175:24">BLKDBG_EVENT</name><argument_list pos:start="175:25" pos:end="175:52">(<argument pos:start="175:26" pos:end="175:33"><expr pos:start="175:26" pos:end="175:33"><name pos:start="175:26" pos:end="175:33"><name pos:start="175:26" pos:end="175:27">bs</name><operator pos:start="175:28" pos:end="175:29">-&gt;</operator><name pos:start="175:30" pos:end="175:33">file</name></name></expr></argument>, <argument pos:start="175:36" pos:end="175:51"><expr pos:start="175:36" pos:end="175:51"><name pos:start="175:36" pos:end="175:51">BLKDBG_WRITE_AIO</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="177:13" pos:end="179:72"><expr pos:start="177:13" pos:end="179:71"><call pos:start="177:13" pos:end="179:71"><name pos:start="177:13" pos:end="177:35">trace_qcow2_writev_data</name><argument_list pos:start="177:36" pos:end="179:71">(<argument pos:start="177:37" pos:end="177:57"><expr pos:start="177:37" pos:end="177:57"><call pos:start="177:37" pos:end="177:57"><name pos:start="177:37" pos:end="177:55">qemu_coroutine_self</name><argument_list pos:start="177:56" pos:end="177:57">()</argument_list></call></expr></argument>,

                                    <argument pos:start="179:37" pos:end="179:70"><expr pos:start="179:37" pos:end="179:70"><name pos:start="179:37" pos:end="179:50">cluster_offset</name> <operator pos:start="179:52" pos:end="179:52">+</operator> <name pos:start="179:54" pos:end="179:70">offset_in_cluster</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="181:13" pos:end="185:58"><expr pos:start="181:13" pos:end="185:57"><name pos:start="181:13" pos:end="181:15">ret</name> <operator pos:start="181:17" pos:end="181:17">=</operator> <call pos:start="181:19" pos:end="185:57"><name pos:start="181:19" pos:end="181:33">bdrv_co_pwritev</name><argument_list pos:start="181:34" pos:end="185:57">(<argument pos:start="181:35" pos:end="181:42"><expr pos:start="181:35" pos:end="181:42"><name pos:start="181:35" pos:end="181:42"><name pos:start="181:35" pos:end="181:36">bs</name><operator pos:start="181:37" pos:end="181:38">-&gt;</operator><name pos:start="181:39" pos:end="181:42">file</name></name></expr></argument>,

                                  <argument pos:start="183:35" pos:end="183:68"><expr pos:start="183:35" pos:end="183:68"><name pos:start="183:35" pos:end="183:48">cluster_offset</name> <operator pos:start="183:50" pos:end="183:50">+</operator> <name pos:start="183:52" pos:end="183:68">offset_in_cluster</name></expr></argument>,

                                  <argument pos:start="185:35" pos:end="185:43"><expr pos:start="185:35" pos:end="185:43"><name pos:start="185:35" pos:end="185:43">cur_bytes</name></expr></argument>, <argument pos:start="185:46" pos:end="185:53"><expr pos:start="185:46" pos:end="185:53"><operator pos:start="185:46" pos:end="185:46">&amp;</operator><name pos:start="185:47" pos:end="185:53">hd_qiov</name></expr></argument>, <argument pos:start="185:56" pos:end="185:56"><expr pos:start="185:56" pos:end="185:56"><literal type="number" pos:start="185:56" pos:end="185:56">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="187:13" pos:end="187:41"><expr pos:start="187:13" pos:end="187:40"><call pos:start="187:13" pos:end="187:40"><name pos:start="187:13" pos:end="187:30">qemu_co_mutex_lock</name><argument_list pos:start="187:31" pos:end="187:40">(<argument pos:start="187:32" pos:end="187:39"><expr pos:start="187:32" pos:end="187:39"><operator pos:start="187:32" pos:end="187:32">&amp;</operator><name pos:start="187:33" pos:end="187:39"><name pos:start="187:33" pos:end="187:33">s</name><operator pos:start="187:34" pos:end="187:35">-&gt;</operator><name pos:start="187:36" pos:end="187:39">lock</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <if_stmt pos:start="189:13" pos:end="193:13"><if pos:start="189:13" pos:end="193:13">if <condition pos:start="189:16" pos:end="189:24">(<expr pos:start="189:17" pos:end="189:23"><name pos:start="189:17" pos:end="189:19">ret</name> <operator pos:start="189:21" pos:end="189:21">&lt;</operator> <literal type="number" pos:start="189:23" pos:end="189:23">0</literal></expr>)</condition> <block pos:start="189:26" pos:end="193:13">{<block_content pos:start="191:17" pos:end="191:26">

                <goto pos:start="191:17" pos:end="191:26">goto <name pos:start="191:22" pos:end="191:25">fail</name>;</goto>

            </block_content>}</block></if></if_stmt>

        </block_content>}</block></if></if_stmt>



        <while pos:start="199:9" pos:end="235:9">while <condition pos:start="199:15" pos:end="199:30">(<expr pos:start="199:16" pos:end="199:29"><name pos:start="199:16" pos:end="199:21">l2meta</name> <operator pos:start="199:23" pos:end="199:24">!=</operator> <name pos:start="199:26" pos:end="199:29">NULL</name></expr>)</condition> <block pos:start="199:32" pos:end="235:9">{<block_content pos:start="201:13" pos:end="233:26">

            <decl_stmt pos:start="201:13" pos:end="201:29"><decl pos:start="201:13" pos:end="201:28"><type pos:start="201:13" pos:end="201:24"><name pos:start="201:13" pos:end="201:22">QCowL2Meta</name> <modifier pos:start="201:24" pos:end="201:24">*</modifier></type><name pos:start="201:25" pos:end="201:28">next</name></decl>;</decl_stmt>



            <expr_stmt pos:start="205:13" pos:end="205:58"><expr pos:start="205:13" pos:end="205:57"><name pos:start="205:13" pos:end="205:15">ret</name> <operator pos:start="205:17" pos:end="205:17">=</operator> <call pos:start="205:19" pos:end="205:57"><name pos:start="205:19" pos:end="205:45">qcow2_alloc_cluster_link_l2</name><argument_list pos:start="205:46" pos:end="205:57">(<argument pos:start="205:47" pos:end="205:48"><expr pos:start="205:47" pos:end="205:48"><name pos:start="205:47" pos:end="205:48">bs</name></expr></argument>, <argument pos:start="205:51" pos:end="205:56"><expr pos:start="205:51" pos:end="205:56"><name pos:start="205:51" pos:end="205:56">l2meta</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <if_stmt pos:start="207:13" pos:end="211:13"><if pos:start="207:13" pos:end="211:13">if <condition pos:start="207:16" pos:end="207:24">(<expr pos:start="207:17" pos:end="207:23"><name pos:start="207:17" pos:end="207:19">ret</name> <operator pos:start="207:21" pos:end="207:21">&lt;</operator> <literal type="number" pos:start="207:23" pos:end="207:23">0</literal></expr>)</condition> <block pos:start="207:26" pos:end="211:13">{<block_content pos:start="209:17" pos:end="209:26">

                <goto pos:start="209:17" pos:end="209:26">goto <name pos:start="209:22" pos:end="209:25">fail</name>;</goto>

            </block_content>}</block></if></if_stmt>



            <comment type="block" pos:start="215:13" pos:end="215:67">/* Take the request off the list of running requests */</comment>

            <if_stmt pos:start="217:13" pos:end="221:13"><if pos:start="217:13" pos:end="221:13">if <condition pos:start="217:16" pos:end="217:41">(<expr pos:start="217:17" pos:end="217:40"><name pos:start="217:17" pos:end="217:35"><name pos:start="217:17" pos:end="217:22">l2meta</name><operator pos:start="217:23" pos:end="217:24">-&gt;</operator><name pos:start="217:25" pos:end="217:35">nb_clusters</name></name> <operator pos:start="217:37" pos:end="217:38">!=</operator> <literal type="number" pos:start="217:40" pos:end="217:40">0</literal></expr>)</condition> <block pos:start="217:43" pos:end="221:13">{<block_content pos:start="219:17" pos:end="219:53">

                <expr_stmt pos:start="219:17" pos:end="219:53"><expr pos:start="219:17" pos:end="219:52"><call pos:start="219:17" pos:end="219:52"><name pos:start="219:17" pos:end="219:28">QLIST_REMOVE</name><argument_list pos:start="219:29" pos:end="219:52">(<argument pos:start="219:30" pos:end="219:35"><expr pos:start="219:30" pos:end="219:35"><name pos:start="219:30" pos:end="219:35">l2meta</name></expr></argument>, <argument pos:start="219:38" pos:end="219:51"><expr pos:start="219:38" pos:end="219:51"><name pos:start="219:38" pos:end="219:51">next_in_flight</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>



            <expr_stmt pos:start="225:13" pos:end="225:67"><expr pos:start="225:13" pos:end="225:66"><call pos:start="225:13" pos:end="225:66"><name pos:start="225:13" pos:end="225:37">qemu_co_queue_restart_all</name><argument_list pos:start="225:38" pos:end="225:66">(<argument pos:start="225:39" pos:end="225:65"><expr pos:start="225:39" pos:end="225:65"><operator pos:start="225:39" pos:end="225:39">&amp;</operator><name pos:start="225:40" pos:end="225:65"><name pos:start="225:40" pos:end="225:45">l2meta</name><operator pos:start="225:46" pos:end="225:47">-&gt;</operator><name pos:start="225:48" pos:end="225:65">dependent_requests</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



            <expr_stmt pos:start="229:13" pos:end="229:32"><expr pos:start="229:13" pos:end="229:31"><name pos:start="229:13" pos:end="229:16">next</name> <operator pos:start="229:18" pos:end="229:18">=</operator> <name pos:start="229:20" pos:end="229:31"><name pos:start="229:20" pos:end="229:25">l2meta</name><operator pos:start="229:26" pos:end="229:27">-&gt;</operator><name pos:start="229:28" pos:end="229:31">next</name></name></expr>;</expr_stmt>

            <expr_stmt pos:start="231:13" pos:end="231:27"><expr pos:start="231:13" pos:end="231:26"><call pos:start="231:13" pos:end="231:26"><name pos:start="231:13" pos:end="231:18">g_free</name><argument_list pos:start="231:19" pos:end="231:26">(<argument pos:start="231:20" pos:end="231:25"><expr pos:start="231:20" pos:end="231:25"><name pos:start="231:20" pos:end="231:25">l2meta</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="233:13" pos:end="233:26"><expr pos:start="233:13" pos:end="233:25"><name pos:start="233:13" pos:end="233:18">l2meta</name> <operator pos:start="233:20" pos:end="233:20">=</operator> <name pos:start="233:22" pos:end="233:25">next</name></expr>;</expr_stmt>

        </block_content>}</block></while>



        <expr_stmt pos:start="239:9" pos:end="239:27"><expr pos:start="239:9" pos:end="239:26"><name pos:start="239:9" pos:end="239:13">bytes</name> <operator pos:start="239:15" pos:end="239:16">-=</operator> <name pos:start="239:18" pos:end="239:26">cur_bytes</name></expr>;</expr_stmt>

        <expr_stmt pos:start="241:9" pos:end="241:28"><expr pos:start="241:9" pos:end="241:27"><name pos:start="241:9" pos:end="241:14">offset</name> <operator pos:start="241:16" pos:end="241:17">+=</operator> <name pos:start="241:19" pos:end="241:27">cur_bytes</name></expr>;</expr_stmt>

        <expr_stmt pos:start="243:9" pos:end="243:32"><expr pos:start="243:9" pos:end="243:31"><name pos:start="243:9" pos:end="243:18">bytes_done</name> <operator pos:start="243:20" pos:end="243:21">+=</operator> <name pos:start="243:23" pos:end="243:31">cur_bytes</name></expr>;</expr_stmt>

        <expr_stmt pos:start="245:9" pos:end="245:71"><expr pos:start="245:9" pos:end="245:70"><call pos:start="245:9" pos:end="245:70"><name pos:start="245:9" pos:end="245:36">trace_qcow2_writev_done_part</name><argument_list pos:start="245:37" pos:end="245:70">(<argument pos:start="245:38" pos:end="245:58"><expr pos:start="245:38" pos:end="245:58"><call pos:start="245:38" pos:end="245:58"><name pos:start="245:38" pos:end="245:56">qemu_coroutine_self</name><argument_list pos:start="245:57" pos:end="245:58">()</argument_list></call></expr></argument>, <argument pos:start="245:61" pos:end="245:69"><expr pos:start="245:61" pos:end="245:69"><name pos:start="245:61" pos:end="245:69">cur_bytes</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></while>

    <expr_stmt pos:start="249:5" pos:end="249:12"><expr pos:start="249:5" pos:end="249:11"><name pos:start="249:5" pos:end="249:7">ret</name> <operator pos:start="249:9" pos:end="249:9">=</operator> <literal type="number" pos:start="249:11" pos:end="249:11">0</literal></expr>;</expr_stmt>



<label pos:start="253:1" pos:end="253:5"><name pos:start="253:1" pos:end="253:4">fail</name>:</label>

    <expr_stmt pos:start="255:5" pos:end="255:35"><expr pos:start="255:5" pos:end="255:34"><call pos:start="255:5" pos:end="255:34"><name pos:start="255:5" pos:end="255:24">qemu_co_mutex_unlock</name><argument_list pos:start="255:25" pos:end="255:34">(<argument pos:start="255:26" pos:end="255:33"><expr pos:start="255:26" pos:end="255:33"><operator pos:start="255:26" pos:end="255:26">&amp;</operator><name pos:start="255:27" pos:end="255:33"><name pos:start="255:27" pos:end="255:27">s</name><operator pos:start="255:28" pos:end="255:29">-&gt;</operator><name pos:start="255:30" pos:end="255:33">lock</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <while pos:start="259:5" pos:end="281:5">while <condition pos:start="259:11" pos:end="259:26">(<expr pos:start="259:12" pos:end="259:25"><name pos:start="259:12" pos:end="259:17">l2meta</name> <operator pos:start="259:19" pos:end="259:20">!=</operator> <name pos:start="259:22" pos:end="259:25">NULL</name></expr>)</condition> <block pos:start="259:28" pos:end="281:5">{<block_content pos:start="261:9" pos:end="279:22">

        <decl_stmt pos:start="261:9" pos:end="261:25"><decl pos:start="261:9" pos:end="261:24"><type pos:start="261:9" pos:end="261:20"><name pos:start="261:9" pos:end="261:18">QCowL2Meta</name> <modifier pos:start="261:20" pos:end="261:20">*</modifier></type><name pos:start="261:21" pos:end="261:24">next</name></decl>;</decl_stmt>



        <if_stmt pos:start="265:9" pos:end="269:9"><if pos:start="265:9" pos:end="269:9">if <condition pos:start="265:12" pos:end="265:37">(<expr pos:start="265:13" pos:end="265:36"><name pos:start="265:13" pos:end="265:31"><name pos:start="265:13" pos:end="265:18">l2meta</name><operator pos:start="265:19" pos:end="265:20">-&gt;</operator><name pos:start="265:21" pos:end="265:31">nb_clusters</name></name> <operator pos:start="265:33" pos:end="265:34">!=</operator> <literal type="number" pos:start="265:36" pos:end="265:36">0</literal></expr>)</condition> <block pos:start="265:39" pos:end="269:9">{<block_content pos:start="267:13" pos:end="267:49">

            <expr_stmt pos:start="267:13" pos:end="267:49"><expr pos:start="267:13" pos:end="267:48"><call pos:start="267:13" pos:end="267:48"><name pos:start="267:13" pos:end="267:24">QLIST_REMOVE</name><argument_list pos:start="267:25" pos:end="267:48">(<argument pos:start="267:26" pos:end="267:31"><expr pos:start="267:26" pos:end="267:31"><name pos:start="267:26" pos:end="267:31">l2meta</name></expr></argument>, <argument pos:start="267:34" pos:end="267:47"><expr pos:start="267:34" pos:end="267:47"><name pos:start="267:34" pos:end="267:47">next_in_flight</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>

        <expr_stmt pos:start="271:9" pos:end="271:63"><expr pos:start="271:9" pos:end="271:62"><call pos:start="271:9" pos:end="271:62"><name pos:start="271:9" pos:end="271:33">qemu_co_queue_restart_all</name><argument_list pos:start="271:34" pos:end="271:62">(<argument pos:start="271:35" pos:end="271:61"><expr pos:start="271:35" pos:end="271:61"><operator pos:start="271:35" pos:end="271:35">&amp;</operator><name pos:start="271:36" pos:end="271:61"><name pos:start="271:36" pos:end="271:41">l2meta</name><operator pos:start="271:42" pos:end="271:43">-&gt;</operator><name pos:start="271:44" pos:end="271:61">dependent_requests</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <expr_stmt pos:start="275:9" pos:end="275:28"><expr pos:start="275:9" pos:end="275:27"><name pos:start="275:9" pos:end="275:12">next</name> <operator pos:start="275:14" pos:end="275:14">=</operator> <name pos:start="275:16" pos:end="275:27"><name pos:start="275:16" pos:end="275:21">l2meta</name><operator pos:start="275:22" pos:end="275:23">-&gt;</operator><name pos:start="275:24" pos:end="275:27">next</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="277:9" pos:end="277:23"><expr pos:start="277:9" pos:end="277:22"><call pos:start="277:9" pos:end="277:22"><name pos:start="277:9" pos:end="277:14">g_free</name><argument_list pos:start="277:15" pos:end="277:22">(<argument pos:start="277:16" pos:end="277:21"><expr pos:start="277:16" pos:end="277:21"><name pos:start="277:16" pos:end="277:21">l2meta</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="279:9" pos:end="279:22"><expr pos:start="279:9" pos:end="279:21"><name pos:start="279:9" pos:end="279:14">l2meta</name> <operator pos:start="279:16" pos:end="279:16">=</operator> <name pos:start="279:18" pos:end="279:21">next</name></expr>;</expr_stmt>

    </block_content>}</block></while>



    <expr_stmt pos:start="285:5" pos:end="285:33"><expr pos:start="285:5" pos:end="285:32"><call pos:start="285:5" pos:end="285:32"><name pos:start="285:5" pos:end="285:22">qemu_iovec_destroy</name><argument_list pos:start="285:23" pos:end="285:32">(<argument pos:start="285:24" pos:end="285:31"><expr pos:start="285:24" pos:end="285:31"><operator pos:start="285:24" pos:end="285:24">&amp;</operator><name pos:start="285:25" pos:end="285:31">hd_qiov</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="287:5" pos:end="287:29"><expr pos:start="287:5" pos:end="287:28"><call pos:start="287:5" pos:end="287:28"><name pos:start="287:5" pos:end="287:14">qemu_vfree</name><argument_list pos:start="287:15" pos:end="287:28">(<argument pos:start="287:16" pos:end="287:27"><expr pos:start="287:16" pos:end="287:27"><name pos:start="287:16" pos:end="287:27">cluster_data</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="289:5" pos:end="289:60"><expr pos:start="289:5" pos:end="289:59"><call pos:start="289:5" pos:end="289:59"><name pos:start="289:5" pos:end="289:31">trace_qcow2_writev_done_req</name><argument_list pos:start="289:32" pos:end="289:59">(<argument pos:start="289:33" pos:end="289:53"><expr pos:start="289:33" pos:end="289:53"><call pos:start="289:33" pos:end="289:53"><name pos:start="289:33" pos:end="289:51">qemu_coroutine_self</name><argument_list pos:start="289:52" pos:end="289:53">()</argument_list></call></expr></argument>, <argument pos:start="289:56" pos:end="289:58"><expr pos:start="289:56" pos:end="289:58"><name pos:start="289:56" pos:end="289:58">ret</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <return pos:start="293:5" pos:end="293:15">return <expr pos:start="293:12" pos:end="293:14"><name pos:start="293:12" pos:end="293:14">ret</name></expr>;</return>

</block_content>}</block></function>
</unit>
