<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/4429.c" pos:tabs="8"><function pos:start="1:1" pos:end="153:1"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:28">new_audio_stream</name><parameter_list pos:start="1:29" pos:end="1:63">(<parameter pos:start="1:30" pos:end="1:48"><decl pos:start="1:30" pos:end="1:48"><type pos:start="1:30" pos:end="1:48"><name pos:start="1:30" pos:end="1:44">AVFormatContext</name> <modifier pos:start="1:46" pos:end="1:46">*</modifier></type><name pos:start="1:47" pos:end="1:48">oc</name></decl></parameter>, <parameter pos:start="1:51" pos:end="1:62"><decl pos:start="1:51" pos:end="1:62"><type pos:start="1:51" pos:end="1:62"><name pos:start="1:51" pos:end="1:53">int</name></type> <name pos:start="1:55" pos:end="1:62">file_idx</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="153:1">{<block_content pos:start="5:5" pos:end="151:26">

    <decl_stmt pos:start="5:5" pos:end="5:17"><decl pos:start="5:5" pos:end="5:16"><type pos:start="5:5" pos:end="5:14"><name pos:start="5:5" pos:end="5:12">AVStream</name> <modifier pos:start="5:14" pos:end="5:14">*</modifier></type><name pos:start="5:15" pos:end="5:16">st</name></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:24"><decl pos:start="7:5" pos:end="7:23"><type pos:start="7:5" pos:end="7:20"><name pos:start="7:5" pos:end="7:18">AVOutputStream</name> <modifier pos:start="7:20" pos:end="7:20">*</modifier></type><name pos:start="7:21" pos:end="7:23">ost</name></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:25"><decl pos:start="9:5" pos:end="9:24"><type pos:start="9:5" pos:end="9:13"><name pos:start="9:5" pos:end="9:11">AVCodec</name> <modifier pos:start="9:13" pos:end="9:13">*</modifier></type><name pos:start="9:14" pos:end="9:18">codec</name><init pos:start="9:19" pos:end="9:24">= <expr pos:start="9:21" pos:end="9:24"><name pos:start="9:21" pos:end="9:24">NULL</name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:30"><decl pos:start="11:5" pos:end="11:29"><type pos:start="11:5" pos:end="11:20"><name pos:start="11:5" pos:end="11:18">AVCodecContext</name> <modifier pos:start="11:20" pos:end="11:20">*</modifier></type><name pos:start="11:21" pos:end="11:29">audio_enc</name></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:26"><decl pos:start="13:5" pos:end="13:25"><type pos:start="13:5" pos:end="13:16"><name pos:start="13:5" pos:end="13:16"><name pos:start="13:5" pos:end="13:8">enum</name> <name pos:start="13:10" pos:end="13:16">CodecID</name></name></type> <name pos:start="13:18" pos:end="13:25">codec_id</name></decl>;</decl_stmt>



    <expr_stmt pos:start="17:5" pos:end="17:96"><expr pos:start="17:5" pos:end="17:95"><name pos:start="17:5" pos:end="17:6">st</name> <operator pos:start="17:8" pos:end="17:8">=</operator> <call pos:start="17:10" pos:end="17:95"><name pos:start="17:10" pos:end="17:22">av_new_stream</name><argument_list pos:start="17:23" pos:end="17:95">(<argument pos:start="17:24" pos:end="17:25"><expr pos:start="17:24" pos:end="17:25"><name pos:start="17:24" pos:end="17:25">oc</name></expr></argument>, <argument pos:start="17:28" pos:end="17:94"><expr pos:start="17:28" pos:end="17:94"><ternary pos:start="17:28" pos:end="17:94"><condition pos:start="17:28" pos:end="17:61"><expr pos:start="17:28" pos:end="17:59"><name pos:start="17:28" pos:end="17:41"><name pos:start="17:28" pos:end="17:29">oc</name><operator pos:start="17:30" pos:end="17:31">-&gt;</operator><name pos:start="17:32" pos:end="17:41">nb_streams</name></name> <operator pos:start="17:43" pos:end="17:43">&lt;</operator> <name pos:start="17:45" pos:end="17:59">nb_streamid_map</name></expr> ?</condition><then pos:start="17:63" pos:end="17:90"> <expr pos:start="17:63" pos:end="17:90"><name pos:start="17:63" pos:end="17:90"><name pos:start="17:63" pos:end="17:74">streamid_map</name><index pos:start="17:75" pos:end="17:90">[<expr pos:start="17:76" pos:end="17:89"><name pos:start="17:76" pos:end="17:89"><name pos:start="17:76" pos:end="17:77">oc</name><operator pos:start="17:78" pos:end="17:79">-&gt;</operator><name pos:start="17:80" pos:end="17:89">nb_streams</name></name></expr>]</index></name></expr> </then><else pos:start="17:92" pos:end="17:94">: <expr pos:start="17:94" pos:end="17:94"><literal type="number" pos:start="17:94" pos:end="17:94">0</literal></expr></else></ternary></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="19:5" pos:end="25:5"><if pos:start="19:5" pos:end="25:5">if <condition pos:start="19:8" pos:end="19:12">(<expr pos:start="19:9" pos:end="19:11"><operator pos:start="19:9" pos:end="19:9">!</operator><name pos:start="19:10" pos:end="19:11">st</name></expr>)</condition> <block pos:start="19:14" pos:end="25:5">{<block_content pos:start="21:9" pos:end="23:23">

        <expr_stmt pos:start="21:9" pos:end="21:52"><expr pos:start="21:9" pos:end="21:51"><call pos:start="21:9" pos:end="21:51"><name pos:start="21:9" pos:end="21:15">fprintf</name><argument_list pos:start="21:16" pos:end="21:51">(<argument pos:start="21:17" pos:end="21:22"><expr pos:start="21:17" pos:end="21:22"><name pos:start="21:17" pos:end="21:22">stderr</name></expr></argument>, <argument pos:start="21:25" pos:end="21:50"><expr pos:start="21:25" pos:end="21:50"><literal type="string" pos:start="21:25" pos:end="21:50">"Could not alloc stream\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="23:9" pos:end="23:23"><expr pos:start="23:9" pos:end="23:22"><call pos:start="23:9" pos:end="23:22"><name pos:start="23:9" pos:end="23:19">ffmpeg_exit</name><argument_list pos:start="23:20" pos:end="23:22">(<argument pos:start="23:21" pos:end="23:21"><expr pos:start="23:21" pos:end="23:21"><literal type="number" pos:start="23:21" pos:end="23:21">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    <expr_stmt pos:start="27:5" pos:end="27:42"><expr pos:start="27:5" pos:end="27:41"><name pos:start="27:5" pos:end="27:7">ost</name> <operator pos:start="27:9" pos:end="27:9">=</operator> <call pos:start="27:11" pos:end="27:41"><name pos:start="27:11" pos:end="27:27">new_output_stream</name><argument_list pos:start="27:28" pos:end="27:41">(<argument pos:start="27:29" pos:end="27:30"><expr pos:start="27:29" pos:end="27:30"><name pos:start="27:29" pos:end="27:30">oc</name></expr></argument>, <argument pos:start="27:33" pos:end="27:40"><expr pos:start="27:33" pos:end="27:40"><name pos:start="27:33" pos:end="27:40">file_idx</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="31:5" pos:end="31:111"><expr pos:start="31:5" pos:end="31:110"><name pos:start="31:5" pos:end="31:17">output_codecs</name> <operator pos:start="31:19" pos:end="31:19">=</operator> <call pos:start="31:21" pos:end="31:110"><name pos:start="31:21" pos:end="31:30">grow_array</name><argument_list pos:start="31:31" pos:end="31:110">(<argument pos:start="31:32" pos:end="31:44"><expr pos:start="31:32" pos:end="31:44"><name pos:start="31:32" pos:end="31:44">output_codecs</name></expr></argument>, <argument pos:start="31:47" pos:end="31:68"><expr pos:start="31:47" pos:end="31:68"><sizeof pos:start="31:47" pos:end="31:68">sizeof<argument_list pos:start="31:53" pos:end="31:68">(<argument pos:start="31:54" pos:end="31:67"><expr pos:start="31:54" pos:end="31:67"><operator pos:start="31:54" pos:end="31:54">*</operator><name pos:start="31:55" pos:end="31:67">output_codecs</name></expr></argument>)</argument_list></sizeof></expr></argument>, <argument pos:start="31:71" pos:end="31:87"><expr pos:start="31:71" pos:end="31:87"><operator pos:start="31:71" pos:end="31:71">&amp;</operator><name pos:start="31:72" pos:end="31:87">nb_output_codecs</name></expr></argument>, <argument pos:start="31:90" pos:end="31:109"><expr pos:start="31:90" pos:end="31:109"><name pos:start="31:90" pos:end="31:105">nb_output_codecs</name> <operator pos:start="31:107" pos:end="31:107">+</operator> <literal type="number" pos:start="31:109" pos:end="31:109">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="33:5" pos:end="53:5"><if pos:start="33:5" pos:end="53:5">if<condition pos:start="33:7" pos:end="33:26">(<expr pos:start="33:8" pos:end="33:25"><operator pos:start="33:8" pos:end="33:8">!</operator><name pos:start="33:9" pos:end="33:25">audio_stream_copy</name></expr>)</condition><block pos:start="33:27" pos:end="53:5">{<block_content pos:start="35:9" pos:end="51:9">

        <if_stmt pos:start="35:9" pos:end="51:9"><if pos:start="35:9" pos:end="45:9">if <condition pos:start="35:12" pos:end="35:29">(<expr pos:start="35:13" pos:end="35:28"><name pos:start="35:13" pos:end="35:28">audio_codec_name</name></expr>)</condition> <block pos:start="35:31" pos:end="45:9">{<block_content pos:start="37:13" pos:end="43:54">

            <expr_stmt pos:start="37:13" pos:end="39:98"><expr pos:start="37:13" pos:end="39:97"><name pos:start="37:13" pos:end="37:20">codec_id</name> <operator pos:start="37:22" pos:end="37:22">=</operator> <call pos:start="37:24" pos:end="39:97"><name pos:start="37:24" pos:end="37:40">find_codec_or_die</name><argument_list pos:start="37:41" pos:end="39:97">(<argument pos:start="37:42" pos:end="37:57"><expr pos:start="37:42" pos:end="37:57"><name pos:start="37:42" pos:end="37:57">audio_codec_name</name></expr></argument>, <argument pos:start="37:60" pos:end="37:77"><expr pos:start="37:60" pos:end="37:77"><name pos:start="37:60" pos:end="37:77">AVMEDIA_TYPE_AUDIO</name></expr></argument>, <argument pos:start="37:80" pos:end="37:80"><expr pos:start="37:80" pos:end="37:80"><literal type="number" pos:start="37:80" pos:end="37:80">1</literal></expr></argument>,

                                         <argument pos:start="39:42" pos:end="39:96"><expr pos:start="39:42" pos:end="39:96"><name pos:start="39:42" pos:end="39:73"><name pos:start="39:42" pos:end="39:53">avcodec_opts</name><index pos:start="39:54" pos:end="39:73">[<expr pos:start="39:55" pos:end="39:72"><name pos:start="39:55" pos:end="39:72">AVMEDIA_TYPE_AUDIO</name></expr>]</index></name><operator pos:start="39:74" pos:end="39:75">-&gt;</operator><name pos:start="39:76" pos:end="39:96">strict_std_compliance</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="41:13" pos:end="41:67"><expr pos:start="41:13" pos:end="41:66"><name pos:start="41:13" pos:end="41:17">codec</name> <operator pos:start="41:19" pos:end="41:19">=</operator> <call pos:start="41:21" pos:end="41:66"><name pos:start="41:21" pos:end="41:48">avcodec_find_encoder_by_name</name><argument_list pos:start="41:49" pos:end="41:66">(<argument pos:start="41:50" pos:end="41:65"><expr pos:start="41:50" pos:end="41:65"><name pos:start="41:50" pos:end="41:65">audio_codec_name</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="43:13" pos:end="43:54"><expr pos:start="43:13" pos:end="43:53"><name pos:start="43:13" pos:end="43:45"><name pos:start="43:13" pos:end="43:25">output_codecs</name><index pos:start="43:26" pos:end="43:45">[<expr pos:start="43:27" pos:end="43:44"><name pos:start="43:27" pos:end="43:42">nb_output_codecs</name><operator pos:start="43:43" pos:end="43:43">-</operator><literal type="number" pos:start="43:44" pos:end="43:44">1</literal></expr>]</index></name> <operator pos:start="43:47" pos:end="43:47">=</operator> <name pos:start="43:49" pos:end="43:53">codec</name></expr>;</expr_stmt>

        </block_content>}</block></if> <else pos:start="45:11" pos:end="51:9">else <block pos:start="45:16" pos:end="51:9">{<block_content pos:start="47:13" pos:end="49:51">

            <expr_stmt pos:start="47:13" pos:end="47:97"><expr pos:start="47:13" pos:end="47:96"><name pos:start="47:13" pos:end="47:20">codec_id</name> <operator pos:start="47:22" pos:end="47:22">=</operator> <call pos:start="47:24" pos:end="47:96"><name pos:start="47:24" pos:end="47:37">av_guess_codec</name><argument_list pos:start="47:38" pos:end="47:96">(<argument pos:start="47:39" pos:end="47:49"><expr pos:start="47:39" pos:end="47:49"><name pos:start="47:39" pos:end="47:49"><name pos:start="47:39" pos:end="47:40">oc</name><operator pos:start="47:41" pos:end="47:42">-&gt;</operator><name pos:start="47:43" pos:end="47:49">oformat</name></name></expr></argument>, <argument pos:start="47:52" pos:end="47:55"><expr pos:start="47:52" pos:end="47:55"><name pos:start="47:52" pos:end="47:55">NULL</name></expr></argument>, <argument pos:start="47:58" pos:end="47:69"><expr pos:start="47:58" pos:end="47:69"><name pos:start="47:58" pos:end="47:69"><name pos:start="47:58" pos:end="47:59">oc</name><operator pos:start="47:60" pos:end="47:61">-&gt;</operator><name pos:start="47:62" pos:end="47:69">filename</name></name></expr></argument>, <argument pos:start="47:72" pos:end="47:75"><expr pos:start="47:72" pos:end="47:75"><name pos:start="47:72" pos:end="47:75">NULL</name></expr></argument>, <argument pos:start="47:78" pos:end="47:95"><expr pos:start="47:78" pos:end="47:95"><name pos:start="47:78" pos:end="47:95">AVMEDIA_TYPE_AUDIO</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="49:13" pos:end="49:51"><expr pos:start="49:13" pos:end="49:50"><name pos:start="49:13" pos:end="49:17">codec</name> <operator pos:start="49:19" pos:end="49:19">=</operator> <call pos:start="49:21" pos:end="49:50"><name pos:start="49:21" pos:end="49:40">avcodec_find_encoder</name><argument_list pos:start="49:41" pos:end="49:50">(<argument pos:start="49:42" pos:end="49:49"><expr pos:start="49:42" pos:end="49:49"><name pos:start="49:42" pos:end="49:49">codec_id</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></else></if_stmt>

    </block_content>}</block></if></if_stmt>



    <expr_stmt pos:start="57:5" pos:end="57:52"><expr pos:start="57:5" pos:end="57:51"><call pos:start="57:5" pos:end="57:51"><name pos:start="57:5" pos:end="57:33">avcodec_get_context_defaults3</name><argument_list pos:start="57:34" pos:end="57:51">(<argument pos:start="57:35" pos:end="57:43"><expr pos:start="57:35" pos:end="57:43"><name pos:start="57:35" pos:end="57:43"><name pos:start="57:35" pos:end="57:36">st</name><operator pos:start="57:37" pos:end="57:38">-&gt;</operator><name pos:start="57:39" pos:end="57:43">codec</name></name></expr></argument>, <argument pos:start="57:46" pos:end="57:50"><expr pos:start="57:46" pos:end="57:50"><name pos:start="57:46" pos:end="57:50">codec</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="61:5" pos:end="61:53"><expr pos:start="61:5" pos:end="61:52"><name pos:start="61:5" pos:end="61:26"><name pos:start="61:5" pos:end="61:7">ost</name><operator pos:start="61:8" pos:end="61:9">-&gt;</operator><name pos:start="61:10" pos:end="61:26">bitstream_filters</name></name> <operator pos:start="61:28" pos:end="61:28">=</operator> <name pos:start="61:30" pos:end="61:52">audio_bitstream_filters</name></expr>;</expr_stmt>

    <expr_stmt pos:start="63:5" pos:end="63:34"><expr pos:start="63:5" pos:end="63:33"><name pos:start="63:5" pos:end="63:27">audio_bitstream_filters</name><operator pos:start="63:28" pos:end="63:28">=</operator> <name pos:start="63:30" pos:end="63:33">NULL</name></expr>;</expr_stmt>



    <expr_stmt pos:start="67:5" pos:end="67:49"><expr pos:start="67:5" pos:end="67:48"><call pos:start="67:5" pos:end="67:48"><name pos:start="67:5" pos:end="67:23">avcodec_thread_init</name><argument_list pos:start="67:24" pos:end="67:48">(<argument pos:start="67:25" pos:end="67:33"><expr pos:start="67:25" pos:end="67:33"><name pos:start="67:25" pos:end="67:33"><name pos:start="67:25" pos:end="67:26">st</name><operator pos:start="67:27" pos:end="67:28">-&gt;</operator><name pos:start="67:29" pos:end="67:33">codec</name></name></expr></argument>, <argument pos:start="67:36" pos:end="67:47"><expr pos:start="67:36" pos:end="67:47"><name pos:start="67:36" pos:end="67:47">thread_count</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="71:5" pos:end="71:26"><expr pos:start="71:5" pos:end="71:25"><name pos:start="71:5" pos:end="71:13">audio_enc</name> <operator pos:start="71:15" pos:end="71:15">=</operator> <name pos:start="71:17" pos:end="71:25"><name pos:start="71:17" pos:end="71:18">st</name><operator pos:start="71:19" pos:end="71:20">-&gt;</operator><name pos:start="71:21" pos:end="71:25">codec</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="73:5" pos:end="73:47"><expr pos:start="73:5" pos:end="73:46"><name pos:start="73:5" pos:end="73:25"><name pos:start="73:5" pos:end="73:13">audio_enc</name><operator pos:start="73:14" pos:end="73:15">-&gt;</operator><name pos:start="73:16" pos:end="73:25">codec_type</name></name> <operator pos:start="73:27" pos:end="73:27">=</operator> <name pos:start="73:29" pos:end="73:46">AVMEDIA_TYPE_AUDIO</name></expr>;</expr_stmt>



    <if_stmt pos:start="77:5" pos:end="79:46"><if pos:start="77:5" pos:end="79:46">if<condition pos:start="77:7" pos:end="77:23">(<expr pos:start="77:8" pos:end="77:22"><name pos:start="77:8" pos:end="77:22">audio_codec_tag</name></expr>)</condition><block type="pseudo" pos:start="79:9" pos:end="79:46"><block_content pos:start="79:9" pos:end="79:46">

        <expr_stmt pos:start="79:9" pos:end="79:46"><expr pos:start="79:9" pos:end="79:45"><name pos:start="79:9" pos:end="79:28"><name pos:start="79:9" pos:end="79:17">audio_enc</name><operator pos:start="79:18" pos:end="79:19">-&gt;</operator><name pos:start="79:20" pos:end="79:28">codec_tag</name></name><operator pos:start="79:29" pos:end="79:29">=</operator> <name pos:start="79:31" pos:end="79:45">audio_codec_tag</name></expr>;</expr_stmt></block_content></block></if></if_stmt>



    <if_stmt pos:start="83:5" pos:end="89:5"><if pos:start="83:5" pos:end="89:5">if <condition pos:start="83:8" pos:end="83:48">(<expr pos:start="83:9" pos:end="83:47"><name pos:start="83:9" pos:end="83:26"><name pos:start="83:9" pos:end="83:10">oc</name><operator pos:start="83:11" pos:end="83:12">-&gt;</operator><name pos:start="83:13" pos:end="83:19">oformat</name><operator pos:start="83:20" pos:end="83:21">-&gt;</operator><name pos:start="83:22" pos:end="83:26">flags</name></name> <operator pos:start="83:28" pos:end="83:28">&amp;</operator> <name pos:start="83:30" pos:end="83:47">AVFMT_GLOBALHEADER</name></expr>)</condition> <block pos:start="83:50" pos:end="89:5">{<block_content pos:start="85:9" pos:end="87:75">

        <expr_stmt pos:start="85:9" pos:end="85:53"><expr pos:start="85:9" pos:end="85:52"><name pos:start="85:9" pos:end="85:24"><name pos:start="85:9" pos:end="85:17">audio_enc</name><operator pos:start="85:18" pos:end="85:19">-&gt;</operator><name pos:start="85:20" pos:end="85:24">flags</name></name> <operator pos:start="85:26" pos:end="85:27">|=</operator> <name pos:start="85:29" pos:end="85:52">CODEC_FLAG_GLOBAL_HEADER</name></expr>;</expr_stmt>

        <expr_stmt pos:start="87:9" pos:end="87:75"><expr pos:start="87:9" pos:end="87:74"><name pos:start="87:9" pos:end="87:40"><name pos:start="87:9" pos:end="87:20">avcodec_opts</name><index pos:start="87:21" pos:end="87:40">[<expr pos:start="87:22" pos:end="87:39"><name pos:start="87:22" pos:end="87:39">AVMEDIA_TYPE_AUDIO</name></expr>]</index></name><operator pos:start="87:41" pos:end="87:42">-&gt;</operator><name pos:start="87:43" pos:end="87:47">flags</name><operator pos:start="87:48" pos:end="87:49">|=</operator> <name pos:start="87:51" pos:end="87:74">CODEC_FLAG_GLOBAL_HEADER</name></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    <if_stmt pos:start="91:5" pos:end="131:5"><if pos:start="91:5" pos:end="99:5">if <condition pos:start="91:8" pos:end="91:26">(<expr pos:start="91:9" pos:end="91:25"><name pos:start="91:9" pos:end="91:25">audio_stream_copy</name></expr>)</condition> <block pos:start="91:28" pos:end="99:5">{<block_content pos:start="93:9" pos:end="97:51">

        <expr_stmt pos:start="93:9" pos:end="93:28"><expr pos:start="93:9" pos:end="93:27"><name pos:start="93:9" pos:end="93:23"><name pos:start="93:9" pos:end="93:10">st</name><operator pos:start="93:11" pos:end="93:12">-&gt;</operator><name pos:start="93:13" pos:end="93:23">stream_copy</name></name> <operator pos:start="93:25" pos:end="93:25">=</operator> <literal type="number" pos:start="93:27" pos:end="93:27">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="95:9" pos:end="95:45"><expr pos:start="95:9" pos:end="95:44"><name pos:start="95:9" pos:end="95:27"><name pos:start="95:9" pos:end="95:17">audio_enc</name><operator pos:start="95:18" pos:end="95:19">-&gt;</operator><name pos:start="95:20" pos:end="95:27">channels</name></name> <operator pos:start="95:29" pos:end="95:29">=</operator> <name pos:start="95:31" pos:end="95:44">audio_channels</name></expr>;</expr_stmt>

        <expr_stmt pos:start="97:9" pos:end="97:51"><expr pos:start="97:9" pos:end="97:50"><name pos:start="97:9" pos:end="97:30"><name pos:start="97:9" pos:end="97:17">audio_enc</name><operator pos:start="97:18" pos:end="97:19">-&gt;</operator><name pos:start="97:20" pos:end="97:30">sample_rate</name></name> <operator pos:start="97:32" pos:end="97:32">=</operator> <name pos:start="97:34" pos:end="97:50">audio_sample_rate</name></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="99:7" pos:end="131:5">else <block pos:start="99:12" pos:end="131:5">{<block_content pos:start="101:9" pos:end="129:38">

        <expr_stmt pos:start="101:9" pos:end="101:39"><expr pos:start="101:9" pos:end="101:38"><name pos:start="101:9" pos:end="101:27"><name pos:start="101:9" pos:end="101:17">audio_enc</name><operator pos:start="101:18" pos:end="101:19">-&gt;</operator><name pos:start="101:20" pos:end="101:27">codec_id</name></name> <operator pos:start="101:29" pos:end="101:29">=</operator> <name pos:start="101:31" pos:end="101:38">codec_id</name></expr>;</expr_stmt>

        <expr_stmt pos:start="103:9" pos:end="103:131"><expr pos:start="103:9" pos:end="103:130"><call pos:start="103:9" pos:end="103:130"><name pos:start="103:9" pos:end="103:24">set_context_opts</name><argument_list pos:start="103:25" pos:end="103:130">(<argument pos:start="103:26" pos:end="103:34"><expr pos:start="103:26" pos:end="103:34"><name pos:start="103:26" pos:end="103:34">audio_enc</name></expr></argument>, <argument pos:start="103:37" pos:end="103:68"><expr pos:start="103:37" pos:end="103:68"><name pos:start="103:37" pos:end="103:68"><name pos:start="103:37" pos:end="103:48">avcodec_opts</name><index pos:start="103:49" pos:end="103:68">[<expr pos:start="103:50" pos:end="103:67"><name pos:start="103:50" pos:end="103:67">AVMEDIA_TYPE_AUDIO</name></expr>]</index></name></expr></argument>, <argument pos:start="103:71" pos:end="103:122"><expr pos:start="103:71" pos:end="103:122"><name pos:start="103:71" pos:end="103:93">AV_OPT_FLAG_AUDIO_PARAM</name> <operator pos:start="103:95" pos:end="103:95">|</operator> <name pos:start="103:97" pos:end="103:122">AV_OPT_FLAG_ENCODING_PARAM</name></expr></argument>, <argument pos:start="103:125" pos:end="103:129"><expr pos:start="103:125" pos:end="103:129"><name pos:start="103:125" pos:end="103:129">codec</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <if_stmt pos:start="107:9" pos:end="113:9"><if pos:start="107:9" pos:end="113:9">if <condition pos:start="107:12" pos:end="107:39">(<expr pos:start="107:13" pos:end="107:38"><name pos:start="107:13" pos:end="107:24">audio_qscale</name> <operator pos:start="107:26" pos:end="107:26">&gt;</operator> <name pos:start="107:28" pos:end="107:38">QSCALE_NONE</name></expr>)</condition> <block pos:start="107:41" pos:end="113:9">{<block_content pos:start="109:13" pos:end="111:82">

            <expr_stmt pos:start="109:13" pos:end="109:50"><expr pos:start="109:13" pos:end="109:49"><name pos:start="109:13" pos:end="109:28"><name pos:start="109:13" pos:end="109:21">audio_enc</name><operator pos:start="109:22" pos:end="109:23">-&gt;</operator><name pos:start="109:24" pos:end="109:28">flags</name></name> <operator pos:start="109:30" pos:end="109:31">|=</operator> <name pos:start="109:33" pos:end="109:49">CODEC_FLAG_QSCALE</name></expr>;</expr_stmt>

            <expr_stmt pos:start="111:13" pos:end="111:82"><expr pos:start="111:13" pos:end="111:81"><name pos:start="111:13" pos:end="111:37"><name pos:start="111:13" pos:end="111:21">audio_enc</name><operator pos:start="111:22" pos:end="111:23">-&gt;</operator><name pos:start="111:24" pos:end="111:37">global_quality</name></name> <operator pos:start="111:39" pos:end="111:39">=</operator> <name pos:start="111:41" pos:end="111:51"><name pos:start="111:41" pos:end="111:42">st</name><operator pos:start="111:43" pos:end="111:44">-&gt;</operator><name pos:start="111:45" pos:end="111:51">quality</name></name> <operator pos:start="111:53" pos:end="111:53">=</operator> <name pos:start="111:55" pos:end="111:66">FF_QP2LAMBDA</name> <operator pos:start="111:68" pos:end="111:68">*</operator> <name pos:start="111:70" pos:end="111:81">audio_qscale</name></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>

        <expr_stmt pos:start="115:9" pos:end="115:45"><expr pos:start="115:9" pos:end="115:44"><name pos:start="115:9" pos:end="115:27"><name pos:start="115:9" pos:end="115:17">audio_enc</name><operator pos:start="115:18" pos:end="115:19">-&gt;</operator><name pos:start="115:20" pos:end="115:27">channels</name></name> <operator pos:start="115:29" pos:end="115:29">=</operator> <name pos:start="115:31" pos:end="115:44">audio_channels</name></expr>;</expr_stmt>

        <expr_stmt pos:start="117:9" pos:end="117:49"><expr pos:start="117:9" pos:end="117:48"><name pos:start="117:9" pos:end="117:29"><name pos:start="117:9" pos:end="117:17">audio_enc</name><operator pos:start="117:18" pos:end="117:19">-&gt;</operator><name pos:start="117:20" pos:end="117:29">sample_fmt</name></name> <operator pos:start="117:31" pos:end="117:31">=</operator> <name pos:start="117:33" pos:end="117:48">audio_sample_fmt</name></expr>;</expr_stmt>

        <expr_stmt pos:start="119:9" pos:end="119:51"><expr pos:start="119:9" pos:end="119:50"><name pos:start="119:9" pos:end="119:30"><name pos:start="119:9" pos:end="119:17">audio_enc</name><operator pos:start="119:18" pos:end="119:19">-&gt;</operator><name pos:start="119:20" pos:end="119:30">sample_rate</name></name> <operator pos:start="119:32" pos:end="119:32">=</operator> <name pos:start="119:34" pos:end="119:50">audio_sample_rate</name></expr>;</expr_stmt>

        <expr_stmt pos:start="121:9" pos:end="121:51"><expr pos:start="121:9" pos:end="121:50"><name pos:start="121:9" pos:end="121:33"><name pos:start="121:9" pos:end="121:17">audio_enc</name><operator pos:start="121:18" pos:end="121:19">-&gt;</operator><name pos:start="121:20" pos:end="121:33">channel_layout</name></name> <operator pos:start="121:35" pos:end="121:35">=</operator> <name pos:start="121:37" pos:end="121:50">channel_layout</name></expr>;</expr_stmt>

        <if_stmt pos:start="123:9" pos:end="125:42"><if pos:start="123:9" pos:end="125:42">if <condition pos:start="123:12" pos:end="123:80">(<expr pos:start="123:13" pos:end="123:79"><call pos:start="123:13" pos:end="123:61"><name pos:start="123:13" pos:end="123:45">av_get_channel_layout_nb_channels</name><argument_list pos:start="123:46" pos:end="123:61">(<argument pos:start="123:47" pos:end="123:60"><expr pos:start="123:47" pos:end="123:60"><name pos:start="123:47" pos:end="123:60">channel_layout</name></expr></argument>)</argument_list></call> <operator pos:start="123:63" pos:end="123:64">!=</operator> <name pos:start="123:66" pos:end="123:79">audio_channels</name></expr>)</condition><block type="pseudo" pos:start="125:13" pos:end="125:42"><block_content pos:start="125:13" pos:end="125:42">

            <expr_stmt pos:start="125:13" pos:end="125:42"><expr pos:start="125:13" pos:end="125:41"><name pos:start="125:13" pos:end="125:37"><name pos:start="125:13" pos:end="125:21">audio_enc</name><operator pos:start="125:22" pos:end="125:23">-&gt;</operator><name pos:start="125:24" pos:end="125:37">channel_layout</name></name> <operator pos:start="125:39" pos:end="125:39">=</operator> <literal type="number" pos:start="125:41" pos:end="125:41">0</literal></expr>;</expr_stmt></block_content></block></if></if_stmt>

        <expr_stmt pos:start="127:9" pos:end="127:37"><expr pos:start="127:9" pos:end="127:36"><call pos:start="127:9" pos:end="127:36"><name pos:start="127:9" pos:end="127:25">choose_sample_fmt</name><argument_list pos:start="127:26" pos:end="127:36">(<argument pos:start="127:27" pos:end="127:28"><expr pos:start="127:27" pos:end="127:28"><name pos:start="127:27" pos:end="127:28">st</name></expr></argument>, <argument pos:start="127:31" pos:end="127:35"><expr pos:start="127:31" pos:end="127:35"><name pos:start="127:31" pos:end="127:35">codec</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="129:9" pos:end="129:38"><expr pos:start="129:9" pos:end="129:37"><call pos:start="129:9" pos:end="129:37"><name pos:start="129:9" pos:end="129:26">choose_sample_rate</name><argument_list pos:start="129:27" pos:end="129:37">(<argument pos:start="129:28" pos:end="129:29"><expr pos:start="129:28" pos:end="129:29"><name pos:start="129:28" pos:end="129:29">st</name></expr></argument>, <argument pos:start="129:32" pos:end="129:36"><expr pos:start="129:32" pos:end="129:36"><name pos:start="129:32" pos:end="129:36">codec</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></else></if_stmt>

    <expr_stmt pos:start="133:5" pos:end="133:61"><expr pos:start="133:5" pos:end="133:60"><name pos:start="133:5" pos:end="133:24"><name pos:start="133:5" pos:end="133:13">audio_enc</name><operator pos:start="133:14" pos:end="133:15">-&gt;</operator><name pos:start="133:16" pos:end="133:24">time_base</name></name><operator pos:start="133:25" pos:end="133:25">=</operator> <operator pos:start="133:27" pos:end="133:27">(</operator><name pos:start="133:28" pos:end="133:37">AVRational</name><operator pos:start="133:38" pos:end="133:38">)</operator><block pos:start="133:39" pos:end="133:60">{<expr pos:start="133:40" pos:end="133:40"><literal type="number" pos:start="133:40" pos:end="133:40">1</literal></expr>, <expr pos:start="133:43" pos:end="133:59"><name pos:start="133:43" pos:end="133:59">audio_sample_rate</name></expr>}</block></expr>;</expr_stmt>

    <if_stmt pos:start="135:5" pos:end="141:5"><if pos:start="135:5" pos:end="141:5">if <condition pos:start="135:8" pos:end="135:23">(<expr pos:start="135:9" pos:end="135:22"><name pos:start="135:9" pos:end="135:22">audio_language</name></expr>)</condition> <block pos:start="135:25" pos:end="141:5">{<block_content pos:start="137:9" pos:end="139:34">

        <expr_stmt pos:start="137:9" pos:end="137:71"><expr pos:start="137:9" pos:end="137:70"><call pos:start="137:9" pos:end="137:70"><name pos:start="137:9" pos:end="137:24">av_metadata_set2</name><argument_list pos:start="137:25" pos:end="137:70">(<argument pos:start="137:26" pos:end="137:38"><expr pos:start="137:26" pos:end="137:38"><operator pos:start="137:26" pos:end="137:26">&amp;</operator><name pos:start="137:27" pos:end="137:38"><name pos:start="137:27" pos:end="137:28">st</name><operator pos:start="137:29" pos:end="137:30">-&gt;</operator><name pos:start="137:31" pos:end="137:38">metadata</name></name></expr></argument>, <argument pos:start="137:41" pos:end="137:50"><expr pos:start="137:41" pos:end="137:50"><literal type="string" pos:start="137:41" pos:end="137:50">"language"</literal></expr></argument>, <argument pos:start="137:53" pos:end="137:66"><expr pos:start="137:53" pos:end="137:66"><name pos:start="137:53" pos:end="137:66">audio_language</name></expr></argument>, <argument pos:start="137:69" pos:end="137:69"><expr pos:start="137:69" pos:end="137:69"><literal type="number" pos:start="137:69" pos:end="137:69">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="139:9" pos:end="139:34"><expr pos:start="139:9" pos:end="139:33"><call pos:start="139:9" pos:end="139:33"><name pos:start="139:9" pos:end="139:16">av_freep</name><argument_list pos:start="139:17" pos:end="139:33">(<argument pos:start="139:18" pos:end="139:32"><expr pos:start="139:18" pos:end="139:32"><operator pos:start="139:18" pos:end="139:18">&amp;</operator><name pos:start="139:19" pos:end="139:32">audio_language</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <comment type="block" pos:start="145:5" pos:end="145:35">/* reset some key parameters */</comment>

    <expr_stmt pos:start="147:5" pos:end="147:22"><expr pos:start="147:5" pos:end="147:21"><name pos:start="147:5" pos:end="147:17">audio_disable</name> <operator pos:start="147:19" pos:end="147:19">=</operator> <literal type="number" pos:start="147:21" pos:end="147:21">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="149:5" pos:end="149:32"><expr pos:start="149:5" pos:end="149:31"><call pos:start="149:5" pos:end="149:31"><name pos:start="149:5" pos:end="149:12">av_freep</name><argument_list pos:start="149:13" pos:end="149:31">(<argument pos:start="149:14" pos:end="149:30"><expr pos:start="149:14" pos:end="149:30"><operator pos:start="149:14" pos:end="149:14">&amp;</operator><name pos:start="149:15" pos:end="149:30">audio_codec_name</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="151:5" pos:end="151:26"><expr pos:start="151:5" pos:end="151:25"><name pos:start="151:5" pos:end="151:21">audio_stream_copy</name> <operator pos:start="151:23" pos:end="151:23">=</operator> <literal type="number" pos:start="151:25" pos:end="151:25">0</literal></expr>;</expr_stmt>

</block_content>}</block></function>
</unit>
