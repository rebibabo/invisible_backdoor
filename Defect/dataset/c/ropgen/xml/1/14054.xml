<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/14054.c" pos:tabs="8"><function pos:start="1:1" pos:end="307:76"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:24">do_video_out</name><parameter_list pos:start="1:25" pos:end="7:39">(<parameter pos:start="1:26" pos:end="1:43"><decl pos:start="1:26" pos:end="1:43"><type pos:start="1:26" pos:end="1:43"><name pos:start="1:26" pos:end="1:40">AVFormatContext</name> <modifier pos:start="1:42" pos:end="1:42">*</modifier></type><name pos:start="1:43" pos:end="1:43">s</name></decl></parameter>,

                         <parameter pos:start="3:26" pos:end="3:42"><decl pos:start="3:26" pos:end="3:42"><type pos:start="3:26" pos:end="3:42"><name pos:start="3:26" pos:end="3:37">OutputStream</name> <modifier pos:start="3:39" pos:end="3:39">*</modifier></type><name pos:start="3:40" pos:end="3:42">ost</name></decl></parameter>,

                         <parameter pos:start="5:26" pos:end="5:44"><decl pos:start="5:26" pos:end="5:44"><type pos:start="5:26" pos:end="5:44"><name pos:start="5:26" pos:end="5:32">AVFrame</name> <modifier pos:start="5:34" pos:end="5:34">*</modifier></type><name pos:start="5:35" pos:end="5:44">in_picture</name></decl></parameter>,

                         <parameter pos:start="7:26" pos:end="7:38"><decl pos:start="7:26" pos:end="7:38"><type pos:start="7:26" pos:end="7:38"><name pos:start="7:26" pos:end="7:30">float</name></type> <name pos:start="7:32" pos:end="7:38">quality</name></decl></parameter>)</parameter_list>

<block pos:start="9:1" pos:end="307:76">{<block_content pos:start="11:5" pos:end="307:76">

    <decl_stmt pos:start="11:5" pos:end="11:31"><decl pos:start="11:5" pos:end="11:11"><type pos:start="11:5" pos:end="11:7"><name pos:start="11:5" pos:end="11:7">int</name></type> <name pos:start="11:9" pos:end="11:11">ret</name></decl>, <decl pos:start="11:14" pos:end="11:30"><type ref="prev" pos:start="11:5" pos:end="11:7"/><name pos:start="11:14" pos:end="11:30">format_video_sync</name></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:17"><decl pos:start="13:5" pos:end="13:16"><type pos:start="13:5" pos:end="13:12"><name pos:start="13:5" pos:end="13:12">AVPacket</name></type> <name pos:start="13:14" pos:end="13:16">pkt</name></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="15:41"><decl pos:start="15:5" pos:end="15:40"><type pos:start="15:5" pos:end="15:20"><name pos:start="15:5" pos:end="15:18">AVCodecContext</name> <modifier pos:start="15:20" pos:end="15:20">*</modifier></type><name pos:start="15:21" pos:end="15:23">enc</name> <init pos:start="15:25" pos:end="15:40">= <expr pos:start="15:27" pos:end="15:40"><name pos:start="15:27" pos:end="15:40"><name pos:start="15:27" pos:end="15:29">ost</name><operator pos:start="15:30" pos:end="15:31">-&gt;</operator><name pos:start="15:32" pos:end="15:33">st</name><operator pos:start="15:34" pos:end="15:35">-&gt;</operator><name pos:start="15:36" pos:end="15:40">codec</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="17:5" pos:end="17:18"><decl pos:start="17:5" pos:end="17:17"><type pos:start="17:5" pos:end="17:7"><name pos:start="17:5" pos:end="17:7">int</name></type> <name pos:start="17:9" pos:end="17:17">nb_frames</name></decl>;</decl_stmt>

    <decl_stmt pos:start="19:5" pos:end="19:28"><decl pos:start="19:5" pos:end="19:20"><type pos:start="19:5" pos:end="19:10"><name pos:start="19:5" pos:end="19:10">double</name></type> <name pos:start="19:12" pos:end="19:20">sync_ipts</name></decl>, <decl pos:start="19:23" pos:end="19:27"><type ref="prev" pos:start="19:5" pos:end="19:10"/><name pos:start="19:23" pos:end="19:27">delta</name></decl>;</decl_stmt>

    <decl_stmt pos:start="21:5" pos:end="21:24"><decl pos:start="21:5" pos:end="21:23"><type pos:start="21:5" pos:end="21:10"><name pos:start="21:5" pos:end="21:10">double</name></type> <name pos:start="21:12" pos:end="21:19">duration</name> <init pos:start="21:21" pos:end="21:23">= <expr pos:start="21:23" pos:end="21:23"><literal type="number" pos:start="21:23" pos:end="21:23">0</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="23:5" pos:end="23:23"><decl pos:start="23:5" pos:end="23:22"><type pos:start="23:5" pos:end="23:7"><name pos:start="23:5" pos:end="23:7">int</name></type> <name pos:start="23:9" pos:end="23:18">frame_size</name> <init pos:start="23:20" pos:end="23:22">= <expr pos:start="23:22" pos:end="23:22"><literal type="number" pos:start="23:22" pos:end="23:22">0</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="25:5" pos:end="25:28"><decl pos:start="25:5" pos:end="25:27"><type pos:start="25:5" pos:end="25:17"><name pos:start="25:5" pos:end="25:15">InputStream</name> <modifier pos:start="25:17" pos:end="25:17">*</modifier></type><name pos:start="25:18" pos:end="25:20">ist</name> <init pos:start="25:22" pos:end="25:27">= <expr pos:start="25:24" pos:end="25:27"><name pos:start="25:24" pos:end="25:27">NULL</name></expr></init></decl>;</decl_stmt>



    <if_stmt pos:start="29:5" pos:end="31:47"><if pos:start="29:5" pos:end="31:47">if <condition pos:start="29:8" pos:end="29:31">(<expr pos:start="29:9" pos:end="29:30"><name pos:start="29:9" pos:end="29:25"><name pos:start="29:9" pos:end="29:11">ost</name><operator pos:start="29:12" pos:end="29:13">-&gt;</operator><name pos:start="29:14" pos:end="29:25">source_index</name></name> <operator pos:start="29:27" pos:end="29:28">&gt;=</operator> <literal type="number" pos:start="29:30" pos:end="29:30">0</literal></expr>)</condition><block type="pseudo" pos:start="31:9" pos:end="31:47"><block_content pos:start="31:9" pos:end="31:47">

        <expr_stmt pos:start="31:9" pos:end="31:47"><expr pos:start="31:9" pos:end="31:46"><name pos:start="31:9" pos:end="31:11">ist</name> <operator pos:start="31:13" pos:end="31:13">=</operator> <name pos:start="31:15" pos:end="31:46"><name pos:start="31:15" pos:end="31:27">input_streams</name><index pos:start="31:28" pos:end="31:46">[<expr pos:start="31:29" pos:end="31:45"><name pos:start="31:29" pos:end="31:45"><name pos:start="31:29" pos:end="31:31">ost</name><operator pos:start="31:32" pos:end="31:33">-&gt;</operator><name pos:start="31:34" pos:end="31:45">source_index</name></name></expr>]</index></name></expr>;</expr_stmt></block_content></block></if></if_stmt>



    <if_stmt pos:start="35:5" pos:end="37:72"><if pos:start="35:5" pos:end="37:72">if<condition pos:start="35:7" pos:end="35:115">(<expr pos:start="35:8" pos:end="35:114"><name pos:start="35:8" pos:end="35:10">ist</name> <operator pos:start="35:12" pos:end="35:13">&amp;&amp;</operator> <name pos:start="35:15" pos:end="35:33"><name pos:start="35:15" pos:end="35:17">ist</name><operator pos:start="35:18" pos:end="35:19">-&gt;</operator><name pos:start="35:20" pos:end="35:21">st</name><operator pos:start="35:22" pos:end="35:23">-&gt;</operator><name pos:start="35:24" pos:end="35:33">start_time</name></name> <operator pos:start="35:35" pos:end="35:36">!=</operator> <name pos:start="35:38" pos:end="35:51">AV_NOPTS_VALUE</name> <operator pos:start="35:53" pos:end="35:54">&amp;&amp;</operator> <name pos:start="35:56" pos:end="35:73"><name pos:start="35:56" pos:end="35:58">ist</name><operator pos:start="35:59" pos:end="35:60">-&gt;</operator><name pos:start="35:61" pos:end="35:62">st</name><operator pos:start="35:63" pos:end="35:64">-&gt;</operator><name pos:start="35:65" pos:end="35:73">first_dts</name></name> <operator pos:start="35:75" pos:end="35:76">!=</operator> <name pos:start="35:78" pos:end="35:91">AV_NOPTS_VALUE</name> <operator pos:start="35:93" pos:end="35:94">&amp;&amp;</operator> <name pos:start="35:96" pos:end="35:114"><name pos:start="35:96" pos:end="35:98">ost</name><operator pos:start="35:99" pos:end="35:100">-&gt;</operator><name pos:start="35:101" pos:end="35:110">frame_rate</name><operator pos:start="35:111" pos:end="35:111">.</operator><name pos:start="35:112" pos:end="35:114">num</name></name></expr>)</condition><block type="pseudo" pos:start="37:9" pos:end="37:72"><block_content pos:start="37:9" pos:end="37:72">

        <expr_stmt pos:start="37:9" pos:end="37:72"><expr pos:start="37:9" pos:end="37:71"><name pos:start="37:9" pos:end="37:16">duration</name> <operator pos:start="37:18" pos:end="37:18">=</operator> <literal type="number" pos:start="37:20" pos:end="37:20">1</literal><operator pos:start="37:21" pos:end="37:21">/</operator><operator pos:start="37:22" pos:end="37:22">(</operator><call pos:start="37:23" pos:end="37:45"><name pos:start="37:23" pos:end="37:28">av_q2d</name><argument_list pos:start="37:29" pos:end="37:45">(<argument pos:start="37:30" pos:end="37:44"><expr pos:start="37:30" pos:end="37:44"><name pos:start="37:30" pos:end="37:44"><name pos:start="37:30" pos:end="37:32">ost</name><operator pos:start="37:33" pos:end="37:34">-&gt;</operator><name pos:start="37:35" pos:end="37:44">frame_rate</name></name></expr></argument>)</argument_list></call> <operator pos:start="37:47" pos:end="37:47">*</operator> <call pos:start="37:49" pos:end="37:70"><name pos:start="37:49" pos:end="37:54">av_q2d</name><argument_list pos:start="37:55" pos:end="37:70">(<argument pos:start="37:56" pos:end="37:69"><expr pos:start="37:56" pos:end="37:69"><name pos:start="37:56" pos:end="37:69"><name pos:start="37:56" pos:end="37:58">enc</name><operator pos:start="37:59" pos:end="37:60">-&gt;</operator><name pos:start="37:61" pos:end="37:69">time_base</name></name></expr></argument>)</argument_list></call><operator pos:start="37:71" pos:end="37:71">)</operator></expr>;</expr_stmt></block_content></block></if></if_stmt>



    <expr_stmt pos:start="41:5" pos:end="41:32"><expr pos:start="41:5" pos:end="41:31"><name pos:start="41:5" pos:end="41:13">sync_ipts</name> <operator pos:start="41:15" pos:end="41:15">=</operator> <name pos:start="41:17" pos:end="41:31"><name pos:start="41:17" pos:end="41:26">in_picture</name><operator pos:start="41:27" pos:end="41:28">-&gt;</operator><name pos:start="41:29" pos:end="41:31">pts</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="43:5" pos:end="43:50"><expr pos:start="43:5" pos:end="43:49"><name pos:start="43:5" pos:end="43:9">delta</name> <operator pos:start="43:11" pos:end="43:11">=</operator> <name pos:start="43:13" pos:end="43:21">sync_ipts</name> <operator pos:start="43:23" pos:end="43:23">-</operator> <name pos:start="43:25" pos:end="43:38"><name pos:start="43:25" pos:end="43:27">ost</name><operator pos:start="43:28" pos:end="43:29">-&gt;</operator><name pos:start="43:30" pos:end="43:38">sync_opts</name></name> <operator pos:start="43:40" pos:end="43:40">+</operator> <name pos:start="43:42" pos:end="43:49">duration</name></expr>;</expr_stmt>



    <comment type="block" pos:start="47:5" pos:end="47:46">/* by default, we output a single frame */</comment>

    <expr_stmt pos:start="49:5" pos:end="49:18"><expr pos:start="49:5" pos:end="49:17"><name pos:start="49:5" pos:end="49:13">nb_frames</name> <operator pos:start="49:15" pos:end="49:15">=</operator> <literal type="number" pos:start="49:17" pos:end="49:17">1</literal></expr>;</expr_stmt>



    <expr_stmt pos:start="53:5" pos:end="53:42"><expr pos:start="53:5" pos:end="53:41"><name pos:start="53:5" pos:end="53:21">format_video_sync</name> <operator pos:start="53:23" pos:end="53:23">=</operator> <name pos:start="53:25" pos:end="53:41">video_sync_method</name></expr>;</expr_stmt>

    <if_stmt pos:start="55:5" pos:end="57:150"><if pos:start="55:5" pos:end="57:150">if <condition pos:start="55:8" pos:end="55:40">(<expr pos:start="55:9" pos:end="55:39"><name pos:start="55:9" pos:end="55:25">format_video_sync</name> <operator pos:start="55:27" pos:end="55:28">==</operator> <name pos:start="55:30" pos:end="55:39">VSYNC_AUTO</name></expr>)</condition><block type="pseudo" pos:start="57:9" pos:end="57:150"><block_content pos:start="57:9" pos:end="57:150">

        <expr_stmt pos:start="57:9" pos:end="57:150"><expr pos:start="57:9" pos:end="57:149"><name pos:start="57:9" pos:end="57:25">format_video_sync</name> <operator pos:start="57:27" pos:end="57:27">=</operator> <ternary pos:start="57:29" pos:end="57:149"><condition pos:start="57:29" pos:end="57:70"><expr pos:start="57:29" pos:end="57:68"><operator pos:start="57:29" pos:end="57:29">(</operator><name pos:start="57:30" pos:end="57:46"><name pos:start="57:30" pos:end="57:30">s</name><operator pos:start="57:31" pos:end="57:32">-&gt;</operator><name pos:start="57:33" pos:end="57:39">oformat</name><operator pos:start="57:40" pos:end="57:41">-&gt;</operator><name pos:start="57:42" pos:end="57:46">flags</name></name> <operator pos:start="57:48" pos:end="57:48">&amp;</operator> <name pos:start="57:50" pos:end="57:67">AVFMT_VARIABLE_FPS</name><operator pos:start="57:68" pos:end="57:68">)</operator></expr> ?</condition><then pos:start="57:72" pos:end="57:145"> <expr pos:start="57:72" pos:end="57:145"><operator pos:start="57:72" pos:end="57:72">(</operator><ternary pos:start="57:73" pos:end="57:144"><condition pos:start="57:73" pos:end="57:114"><expr pos:start="57:73" pos:end="57:112"><operator pos:start="57:73" pos:end="57:73">(</operator><name pos:start="57:74" pos:end="57:90"><name pos:start="57:74" pos:end="57:74">s</name><operator pos:start="57:75" pos:end="57:76">-&gt;</operator><name pos:start="57:77" pos:end="57:83">oformat</name><operator pos:start="57:84" pos:end="57:85">-&gt;</operator><name pos:start="57:86" pos:end="57:90">flags</name></name> <operator pos:start="57:92" pos:end="57:92">&amp;</operator> <name pos:start="57:94" pos:end="57:111">AVFMT_NOTIMESTAMPS</name><operator pos:start="57:112" pos:end="57:112">)</operator></expr> ?</condition><then pos:start="57:116" pos:end="57:132"> <expr pos:start="57:116" pos:end="57:132"><name pos:start="57:116" pos:end="57:132">VSYNC_PASSTHROUGH</name></expr> </then><else pos:start="57:134" pos:end="57:144">: <expr pos:start="57:136" pos:end="57:144"><name pos:start="57:136" pos:end="57:144">VSYNC_VFR</name></expr></else></ternary><operator pos:start="57:145" pos:end="57:145">)</operator></expr> </then><else pos:start="57:147" pos:end="57:149">: <expr pos:start="57:149" pos:end="57:149"><literal type="number" pos:start="57:149" pos:end="57:149">1</literal></expr></else></ternary></expr>;</expr_stmt></block_content></block></if></if_stmt>



    <switch pos:start="61:5" pos:end="307:76">switch <condition pos:start="61:12" pos:end="61:30">(<expr pos:start="61:13" pos:end="61:29"><name pos:start="61:13" pos:end="61:29">format_video_sync</name></expr>)</condition> <block pos:start="61:32" pos:end="307:76">{<block_content pos:start="63:5" pos:end="307:76">

    <case pos:start="63:5" pos:end="63:19">case <expr pos:start="63:10" pos:end="63:18"><name pos:start="63:10" pos:end="63:18">VSYNC_CFR</name></expr>:</case>

        <comment type="line" pos:start="65:9" pos:end="65:75">// FIXME set to 0.5 after we fix some dts/pts bugs like in avidec.c</comment>

        <if_stmt pos:start="67:9" pos:end="73:38"><if pos:start="67:9" pos:end="69:26">if <condition pos:start="67:12" pos:end="67:25">(<expr pos:start="67:13" pos:end="67:24"><name pos:start="67:13" pos:end="67:17">delta</name> <operator pos:start="67:19" pos:end="67:19">&lt;</operator> <operator pos:start="67:21" pos:end="67:21">-</operator><literal type="number" pos:start="67:22" pos:end="67:24">1.1</literal></expr>)</condition><block type="pseudo" pos:start="69:13" pos:end="69:26"><block_content pos:start="69:13" pos:end="69:26">

            <expr_stmt pos:start="69:13" pos:end="69:26"><expr pos:start="69:13" pos:end="69:25"><name pos:start="69:13" pos:end="69:21">nb_frames</name> <operator pos:start="69:23" pos:end="69:23">=</operator> <literal type="number" pos:start="69:25" pos:end="69:25">0</literal></expr>;</expr_stmt></block_content></block></if>

        <if type="elseif" pos:start="71:9" pos:end="73:38">else if <condition pos:start="71:17" pos:end="71:29">(<expr pos:start="71:18" pos:end="71:28"><name pos:start="71:18" pos:end="71:22">delta</name> <operator pos:start="71:24" pos:end="71:24">&gt;</operator> <literal type="number" pos:start="71:26" pos:end="71:28">1.1</literal></expr>)</condition><block type="pseudo" pos:start="73:13" pos:end="73:38"><block_content pos:start="73:13" pos:end="73:38">

            <expr_stmt pos:start="73:13" pos:end="73:38"><expr pos:start="73:13" pos:end="73:37"><name pos:start="73:13" pos:end="73:21">nb_frames</name> <operator pos:start="73:23" pos:end="73:23">=</operator> <call pos:start="73:25" pos:end="73:37"><name pos:start="73:25" pos:end="73:30">lrintf</name><argument_list pos:start="73:31" pos:end="73:37">(<argument pos:start="73:32" pos:end="73:36"><expr pos:start="73:32" pos:end="73:36"><name pos:start="73:32" pos:end="73:36">delta</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

        <break pos:start="75:9" pos:end="75:14">break;</break>

    <case pos:start="77:5" pos:end="77:19">case <expr pos:start="77:10" pos:end="77:18"><name pos:start="77:10" pos:end="77:18">VSYNC_VFR</name></expr>:</case>

        <if_stmt pos:start="79:9" pos:end="85:46"><if pos:start="79:9" pos:end="81:26">if <condition pos:start="79:12" pos:end="79:26">(<expr pos:start="79:13" pos:end="79:25"><name pos:start="79:13" pos:end="79:17">delta</name> <operator pos:start="79:19" pos:end="79:20">&lt;=</operator> <operator pos:start="79:22" pos:end="79:22">-</operator><literal type="number" pos:start="79:23" pos:end="79:25">0.6</literal></expr>)</condition><block type="pseudo" pos:start="81:13" pos:end="81:26"><block_content pos:start="81:13" pos:end="81:26">

            <expr_stmt pos:start="81:13" pos:end="81:26"><expr pos:start="81:13" pos:end="81:25"><name pos:start="81:13" pos:end="81:21">nb_frames</name> <operator pos:start="81:23" pos:end="81:23">=</operator> <literal type="number" pos:start="81:25" pos:end="81:25">0</literal></expr>;</expr_stmt></block_content></block></if>

        <if type="elseif" pos:start="83:9" pos:end="85:46">else if <condition pos:start="83:17" pos:end="83:29">(<expr pos:start="83:18" pos:end="83:28"><name pos:start="83:18" pos:end="83:22">delta</name> <operator pos:start="83:24" pos:end="83:24">&gt;</operator> <literal type="number" pos:start="83:26" pos:end="83:28">0.6</literal></expr>)</condition><block type="pseudo" pos:start="85:13" pos:end="85:46"><block_content pos:start="85:13" pos:end="85:46">

            <expr_stmt pos:start="85:13" pos:end="85:46"><expr pos:start="85:13" pos:end="85:45"><name pos:start="85:13" pos:end="85:26"><name pos:start="85:13" pos:end="85:15">ost</name><operator pos:start="85:16" pos:end="85:17">-&gt;</operator><name pos:start="85:18" pos:end="85:26">sync_opts</name></name> <operator pos:start="85:28" pos:end="85:28">=</operator> <call pos:start="85:30" pos:end="85:45"><name pos:start="85:30" pos:end="85:34">lrint</name><argument_list pos:start="85:35" pos:end="85:45">(<argument pos:start="85:36" pos:end="85:44"><expr pos:start="85:36" pos:end="85:44"><name pos:start="85:36" pos:end="85:44">sync_ipts</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

        <break pos:start="87:9" pos:end="87:14">break;</break>

    <case pos:start="89:5" pos:end="89:20">case <expr pos:start="89:10" pos:end="89:19"><name pos:start="89:10" pos:end="89:19">VSYNC_DROP</name></expr>:</case>

    <case pos:start="91:5" pos:end="91:27">case <expr pos:start="91:10" pos:end="91:26"><name pos:start="91:10" pos:end="91:26">VSYNC_PASSTHROUGH</name></expr>:</case>

        <expr_stmt pos:start="93:9" pos:end="93:42"><expr pos:start="93:9" pos:end="93:41"><name pos:start="93:9" pos:end="93:22"><name pos:start="93:9" pos:end="93:11">ost</name><operator pos:start="93:12" pos:end="93:13">-&gt;</operator><name pos:start="93:14" pos:end="93:22">sync_opts</name></name> <operator pos:start="93:24" pos:end="93:24">=</operator> <call pos:start="93:26" pos:end="93:41"><name pos:start="93:26" pos:end="93:30">lrint</name><argument_list pos:start="93:31" pos:end="93:41">(<argument pos:start="93:32" pos:end="93:40"><expr pos:start="93:32" pos:end="93:40"><name pos:start="93:32" pos:end="93:40">sync_ipts</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <break pos:start="95:9" pos:end="95:14">break;</break>

    <default pos:start="97:5" pos:end="97:12">default:</default>

        <expr_stmt pos:start="99:9" pos:end="99:22"><expr pos:start="99:9" pos:end="99:21"><call pos:start="99:9" pos:end="99:21"><name pos:start="99:9" pos:end="99:18">av_assert0</name><argument_list pos:start="99:19" pos:end="99:21">(<argument pos:start="99:20" pos:end="99:20"><expr pos:start="99:20" pos:end="99:20"><literal type="number" pos:start="99:20" pos:end="99:20">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>




    <expr_stmt pos:start="104:5" pos:end="104:70"><expr pos:start="104:5" pos:end="104:69"><name pos:start="104:5" pos:end="104:13">nb_frames</name> <operator pos:start="104:15" pos:end="104:15">=</operator> <call pos:start="104:17" pos:end="104:69"><name pos:start="104:17" pos:end="104:21">FFMIN</name><argument_list pos:start="104:22" pos:end="104:69">(<argument pos:start="104:23" pos:end="104:31"><expr pos:start="104:23" pos:end="104:31"><name pos:start="104:23" pos:end="104:31">nb_frames</name></expr></argument>, <argument pos:start="104:34" pos:end="104:68"><expr pos:start="104:34" pos:end="104:68"><name pos:start="104:34" pos:end="104:48"><name pos:start="104:34" pos:end="104:36">ost</name><operator pos:start="104:37" pos:end="104:38">-&gt;</operator><name pos:start="104:39" pos:end="104:48">max_frames</name></name> <operator pos:start="104:50" pos:end="104:50">-</operator> <name pos:start="104:52" pos:end="104:68"><name pos:start="104:52" pos:end="104:54">ost</name><operator pos:start="104:55" pos:end="104:56">-&gt;</operator><name pos:start="104:57" pos:end="104:68">frame_number</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="106:5" pos:end="307:76"><if pos:start="106:5" pos:end="112:5">if <condition pos:start="106:8" pos:end="106:23">(<expr pos:start="106:9" pos:end="106:22"><name pos:start="106:9" pos:end="106:17">nb_frames</name> <operator pos:start="106:19" pos:end="106:20">==</operator> <literal type="number" pos:start="106:22" pos:end="106:22">0</literal></expr>)</condition> <block pos:start="106:25" pos:end="112:5">{<block_content pos:start="109:9" pos:end="109:52">


        <expr_stmt pos:start="109:9" pos:end="109:52"><expr pos:start="109:9" pos:end="109:51"><call pos:start="109:9" pos:end="109:51"><name pos:start="109:9" pos:end="109:14">av_log</name><argument_list pos:start="109:15" pos:end="109:51">(<argument pos:start="109:16" pos:end="109:19"><expr pos:start="109:16" pos:end="109:19"><name pos:start="109:16" pos:end="109:19">NULL</name></expr></argument>, <argument pos:start="109:22" pos:end="109:35"><expr pos:start="109:22" pos:end="109:35"><name pos:start="109:22" pos:end="109:35">AV_LOG_VERBOSE</name></expr></argument>, <argument pos:start="109:38" pos:end="109:50"><expr pos:start="109:38" pos:end="109:50"><literal type="string" pos:start="109:38" pos:end="109:50">"*** drop!\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>


    </block_content>}</block></if> <if type="elseif" pos:start="112:7" pos:end="307:76">else if <condition pos:start="112:15" pos:end="112:29">(<expr pos:start="112:16" pos:end="112:28"><name pos:start="112:16" pos:end="112:24">nb_frames</name> <operator pos:start="112:26" pos:end="112:26">&gt;</operator> <literal type="number" pos:start="112:28" pos:end="112:28">1</literal></expr>)</condition> <block pos:start="112:31" pos:end="307:76">{<block_content pos:start="119:9" pos:end="307:76">






        <expr_stmt pos:start="119:9" pos:end="119:39"><expr pos:start="119:9" pos:end="119:38"><name pos:start="119:9" pos:end="119:21">nb_frames_dup</name> <operator pos:start="119:23" pos:end="119:24">+=</operator> <name pos:start="119:26" pos:end="119:34">nb_frames</name> <operator pos:start="119:36" pos:end="119:36">-</operator> <literal type="number" pos:start="119:38" pos:end="119:38">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="121:9" pos:end="121:69"><expr pos:start="121:9" pos:end="121:68"><call pos:start="121:9" pos:end="121:68"><name pos:start="121:9" pos:end="121:14">av_log</name><argument_list pos:start="121:15" pos:end="121:68">(<argument pos:start="121:16" pos:end="121:19"><expr pos:start="121:16" pos:end="121:19"><name pos:start="121:16" pos:end="121:19">NULL</name></expr></argument>, <argument pos:start="121:22" pos:end="121:35"><expr pos:start="121:22" pos:end="121:35"><name pos:start="121:22" pos:end="121:35">AV_LOG_VERBOSE</name></expr></argument>, <argument pos:start="121:38" pos:end="121:52"><expr pos:start="121:38" pos:end="121:52"><literal type="string" pos:start="121:38" pos:end="121:52">"*** %d dup!\n"</literal></expr></argument>, <argument pos:start="121:55" pos:end="121:67"><expr pos:start="121:55" pos:end="121:67"><name pos:start="121:55" pos:end="121:63">nb_frames</name> <operator pos:start="121:65" pos:end="121:65">-</operator> <literal type="number" pos:start="121:67" pos:end="121:67">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>






<label pos:start="128:1" pos:end="128:16"><name pos:start="128:1" pos:end="128:15">duplicate_frame</name>:</label>

    <expr_stmt pos:start="130:5" pos:end="130:25"><expr pos:start="130:5" pos:end="130:24"><call pos:start="130:5" pos:end="130:24"><name pos:start="130:5" pos:end="130:18">av_init_packet</name><argument_list pos:start="130:19" pos:end="130:24">(<argument pos:start="130:20" pos:end="130:23"><expr pos:start="130:20" pos:end="130:23"><operator pos:start="130:20" pos:end="130:20">&amp;</operator><name pos:start="130:21" pos:end="130:23">pkt</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="132:5" pos:end="132:20"><expr pos:start="132:5" pos:end="132:19"><name pos:start="132:5" pos:end="132:12"><name pos:start="132:5" pos:end="132:7">pkt</name><operator pos:start="132:8" pos:end="132:8">.</operator><name pos:start="132:9" pos:end="132:12">data</name></name> <operator pos:start="132:14" pos:end="132:14">=</operator> <name pos:start="132:16" pos:end="132:19">NULL</name></expr>;</expr_stmt>

    <expr_stmt pos:start="134:5" pos:end="134:17"><expr pos:start="134:5" pos:end="134:16"><name pos:start="134:5" pos:end="134:12"><name pos:start="134:5" pos:end="134:7">pkt</name><operator pos:start="134:8" pos:end="134:8">.</operator><name pos:start="134:9" pos:end="134:12">size</name></name> <operator pos:start="134:14" pos:end="134:14">=</operator> <literal type="number" pos:start="134:16" pos:end="134:16">0</literal></expr>;</expr_stmt>



    <expr_stmt pos:start="138:5" pos:end="138:37"><expr pos:start="138:5" pos:end="138:36"><name pos:start="138:5" pos:end="138:19"><name pos:start="138:5" pos:end="138:14">in_picture</name><operator pos:start="138:15" pos:end="138:16">-&gt;</operator><name pos:start="138:17" pos:end="138:19">pts</name></name> <operator pos:start="138:21" pos:end="138:21">=</operator> <name pos:start="138:23" pos:end="138:36"><name pos:start="138:23" pos:end="138:25">ost</name><operator pos:start="138:26" pos:end="138:27">-&gt;</operator><name pos:start="138:28" pos:end="138:36">sync_opts</name></name></expr>;</expr_stmt>



    <if_stmt pos:start="142:5" pos:end="307:76"><if pos:start="142:5" pos:end="170:5">if <condition pos:start="142:8" pos:end="144:44">(<expr pos:start="142:9" pos:end="144:43"><name pos:start="142:9" pos:end="142:25"><name pos:start="142:9" pos:end="142:9">s</name><operator pos:start="142:10" pos:end="142:11">-&gt;</operator><name pos:start="142:12" pos:end="142:18">oformat</name><operator pos:start="142:19" pos:end="142:20">-&gt;</operator><name pos:start="142:21" pos:end="142:25">flags</name></name> <operator pos:start="142:27" pos:end="142:27">&amp;</operator> <name pos:start="142:29" pos:end="142:44">AVFMT_RAWPICTURE</name> <operator pos:start="142:46" pos:end="142:47">&amp;&amp;</operator>

        <name pos:start="144:9" pos:end="144:22"><name pos:start="144:9" pos:end="144:11">enc</name><operator pos:start="144:12" pos:end="144:13">-&gt;</operator><name pos:start="144:14" pos:end="144:18">codec</name><operator pos:start="144:19" pos:end="144:20">-&gt;</operator><name pos:start="144:21" pos:end="144:22">id</name></name> <operator pos:start="144:24" pos:end="144:25">==</operator> <name pos:start="144:27" pos:end="144:43">CODEC_ID_RAWVIDEO</name></expr>)</condition> <block pos:start="144:46" pos:end="170:5">{<block_content pos:start="152:9" pos:end="168:31">

        <comment type="block" pos:start="146:9" pos:end="150:21">/* raw pictures are written as AVPicture structure to

           avoid any copies. We support temporarily the older

           method. */</comment>

        <expr_stmt pos:start="152:9" pos:end="152:74"><expr pos:start="152:9" pos:end="152:73"><name pos:start="152:9" pos:end="152:42"><name pos:start="152:9" pos:end="152:11">enc</name><operator pos:start="152:12" pos:end="152:13">-&gt;</operator><name pos:start="152:14" pos:end="152:24">coded_frame</name><operator pos:start="152:25" pos:end="152:26">-&gt;</operator><name pos:start="152:27" pos:end="152:42">interlaced_frame</name></name> <operator pos:start="152:44" pos:end="152:44">=</operator> <name pos:start="152:46" pos:end="152:73"><name pos:start="152:46" pos:end="152:55">in_picture</name><operator pos:start="152:56" pos:end="152:57">-&gt;</operator><name pos:start="152:58" pos:end="152:73">interlaced_frame</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="154:9" pos:end="154:73"><expr pos:start="154:9" pos:end="154:72"><name pos:start="154:9" pos:end="154:41"><name pos:start="154:9" pos:end="154:11">enc</name><operator pos:start="154:12" pos:end="154:13">-&gt;</operator><name pos:start="154:14" pos:end="154:24">coded_frame</name><operator pos:start="154:25" pos:end="154:26">-&gt;</operator><name pos:start="154:27" pos:end="154:41">top_field_first</name></name>  <operator pos:start="154:44" pos:end="154:44">=</operator> <name pos:start="154:46" pos:end="154:72"><name pos:start="154:46" pos:end="154:55">in_picture</name><operator pos:start="154:56" pos:end="154:57">-&gt;</operator><name pos:start="154:58" pos:end="154:72">top_field_first</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="156:9" pos:end="156:43"><expr pos:start="156:9" pos:end="156:42"><name pos:start="156:9" pos:end="156:16"><name pos:start="156:9" pos:end="156:11">pkt</name><operator pos:start="156:12" pos:end="156:12">.</operator><name pos:start="156:13" pos:end="156:16">data</name></name>   <operator pos:start="156:20" pos:end="156:20">=</operator> <operator pos:start="156:22" pos:end="156:22">(</operator><name pos:start="156:23" pos:end="156:29">uint8_t</name> <operator pos:start="156:31" pos:end="156:31">*</operator><operator pos:start="156:32" pos:end="156:32">)</operator><name pos:start="156:33" pos:end="156:42">in_picture</name></expr>;</expr_stmt>

        <expr_stmt pos:start="158:9" pos:end="158:40"><expr pos:start="158:9" pos:end="158:39"><name pos:start="158:9" pos:end="158:16"><name pos:start="158:9" pos:end="158:11">pkt</name><operator pos:start="158:12" pos:end="158:12">.</operator><name pos:start="158:13" pos:end="158:16">size</name></name>   <operator pos:start="158:20" pos:end="158:20">=</operator>  <sizeof pos:start="158:23" pos:end="158:39">sizeof<argument_list pos:start="158:29" pos:end="158:39">(<argument pos:start="158:30" pos:end="158:38"><expr pos:start="158:30" pos:end="158:38"><name pos:start="158:30" pos:end="158:38">AVPicture</name></expr></argument>)</argument_list></sizeof></expr>;</expr_stmt>

        <expr_stmt pos:start="160:9" pos:end="160:87"><expr pos:start="160:9" pos:end="160:86"><name pos:start="160:9" pos:end="160:15"><name pos:start="160:9" pos:end="160:11">pkt</name><operator pos:start="160:12" pos:end="160:12">.</operator><name pos:start="160:13" pos:end="160:15">pts</name></name>    <operator pos:start="160:20" pos:end="160:20">=</operator> <call pos:start="160:22" pos:end="160:86"><name pos:start="160:22" pos:end="160:33">av_rescale_q</name><argument_list pos:start="160:34" pos:end="160:86">(<argument pos:start="160:35" pos:end="160:49"><expr pos:start="160:35" pos:end="160:49"><name pos:start="160:35" pos:end="160:49"><name pos:start="160:35" pos:end="160:44">in_picture</name><operator pos:start="160:45" pos:end="160:46">-&gt;</operator><name pos:start="160:47" pos:end="160:49">pts</name></name></expr></argument>, <argument pos:start="160:52" pos:end="160:65"><expr pos:start="160:52" pos:end="160:65"><name pos:start="160:52" pos:end="160:65"><name pos:start="160:52" pos:end="160:54">enc</name><operator pos:start="160:55" pos:end="160:56">-&gt;</operator><name pos:start="160:57" pos:end="160:65">time_base</name></name></expr></argument>, <argument pos:start="160:68" pos:end="160:85"><expr pos:start="160:68" pos:end="160:85"><name pos:start="160:68" pos:end="160:85"><name pos:start="160:68" pos:end="160:70">ost</name><operator pos:start="160:71" pos:end="160:72">-&gt;</operator><name pos:start="160:73" pos:end="160:74">st</name><operator pos:start="160:75" pos:end="160:76">-&gt;</operator><name pos:start="160:77" pos:end="160:85">time_base</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="162:9" pos:end="162:37"><expr pos:start="162:9" pos:end="162:36"><name pos:start="162:9" pos:end="162:17"><name pos:start="162:9" pos:end="162:11">pkt</name><operator pos:start="162:12" pos:end="162:12">.</operator><name pos:start="162:13" pos:end="162:17">flags</name></name> <operator pos:start="162:19" pos:end="162:20">|=</operator> <name pos:start="162:22" pos:end="162:36">AV_PKT_FLAG_KEY</name></expr>;</expr_stmt>



        <expr_stmt pos:start="166:9" pos:end="166:34"><expr pos:start="166:9" pos:end="166:33"><call pos:start="166:9" pos:end="166:33"><name pos:start="166:9" pos:end="166:19">write_frame</name><argument_list pos:start="166:20" pos:end="166:33">(<argument pos:start="166:21" pos:end="166:21"><expr pos:start="166:21" pos:end="166:21"><name pos:start="166:21" pos:end="166:21">s</name></expr></argument>, <argument pos:start="166:24" pos:end="166:27"><expr pos:start="166:24" pos:end="166:27"><operator pos:start="166:24" pos:end="166:24">&amp;</operator><name pos:start="166:25" pos:end="166:27">pkt</name></expr></argument>, <argument pos:start="166:30" pos:end="166:32"><expr pos:start="166:30" pos:end="166:32"><name pos:start="166:30" pos:end="166:32">ost</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="168:9" pos:end="168:31"><expr pos:start="168:9" pos:end="168:30"><name pos:start="168:9" pos:end="168:18">video_size</name> <operator pos:start="168:20" pos:end="168:21">+=</operator> <name pos:start="168:23" pos:end="168:30"><name pos:start="168:23" pos:end="168:25">pkt</name><operator pos:start="168:26" pos:end="168:26">.</operator><name pos:start="168:27" pos:end="168:30">size</name></name></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="170:7" pos:end="307:76">else <block pos:start="170:12" pos:end="307:76">{<block_content pos:start="172:9" pos:end="307:76">

        <decl_stmt pos:start="172:9" pos:end="172:23"><decl pos:start="172:9" pos:end="172:22"><type pos:start="172:9" pos:end="172:11"><name pos:start="172:9" pos:end="172:11">int</name></type> <name pos:start="172:13" pos:end="172:22">got_packet</name></decl>;</decl_stmt>

        <decl_stmt pos:start="174:9" pos:end="174:28"><decl pos:start="174:9" pos:end="174:27"><type pos:start="174:9" pos:end="174:15"><name pos:start="174:9" pos:end="174:15">AVFrame</name></type> <name pos:start="174:17" pos:end="174:27">big_picture</name></decl>;</decl_stmt>



        <expr_stmt pos:start="178:9" pos:end="178:34"><expr pos:start="178:9" pos:end="178:33"><name pos:start="178:9" pos:end="178:19">big_picture</name> <operator pos:start="178:21" pos:end="178:21">=</operator> <operator pos:start="178:23" pos:end="178:23">*</operator><name pos:start="178:24" pos:end="178:33">in_picture</name></expr>;</expr_stmt>

        <comment type="block" pos:start="180:9" pos:end="182:22">/* better than nothing: use input picture interlaced

           settings */</comment>

        <expr_stmt pos:start="184:9" pos:end="184:68"><expr pos:start="184:9" pos:end="184:67"><name pos:start="184:9" pos:end="184:36"><name pos:start="184:9" pos:end="184:19">big_picture</name><operator pos:start="184:20" pos:end="184:20">.</operator><name pos:start="184:21" pos:end="184:36">interlaced_frame</name></name> <operator pos:start="184:38" pos:end="184:38">=</operator> <name pos:start="184:40" pos:end="184:67"><name pos:start="184:40" pos:end="184:49">in_picture</name><operator pos:start="184:50" pos:end="184:51">-&gt;</operator><name pos:start="184:52" pos:end="184:67">interlaced_frame</name></name></expr>;</expr_stmt>

        <if_stmt pos:start="186:9" pos:end="307:76"><if pos:start="186:9" pos:end="307:76">if <condition pos:start="186:12" pos:end="186:89">(<expr pos:start="186:13" pos:end="186:88"><name pos:start="186:13" pos:end="186:33"><name pos:start="186:13" pos:end="186:15">ost</name><operator pos:start="186:16" pos:end="186:17">-&gt;</operator><name pos:start="186:18" pos:end="186:19">st</name><operator pos:start="186:20" pos:end="186:21">-&gt;</operator><name pos:start="186:22" pos:end="186:26">codec</name><operator pos:start="186:27" pos:end="186:28">-&gt;</operator><name pos:start="186:29" pos:end="186:33">flags</name></name> <operator pos:start="186:35" pos:end="186:35">&amp;</operator> <operator pos:start="186:37" pos:end="186:37">(</operator><name pos:start="186:38" pos:end="186:62">CODEC_FLAG_INTERLACED_DCT</name><operator pos:start="186:63" pos:end="186:63">|</operator><name pos:start="186:64" pos:end="186:87">CODEC_FLAG_INTERLACED_ME</name><operator pos:start="186:88" pos:end="186:88">)</operator></expr>)</condition> <block pos:start="186:91" pos:end="307:76">{<block_content pos:start="188:13" pos:end="307:76">

            <if_stmt pos:start="188:13" pos:end="194:69"><if pos:start="188:13" pos:end="190:74">if <condition pos:start="188:16" pos:end="188:43">(<expr pos:start="188:17" pos:end="188:42"><name pos:start="188:17" pos:end="188:36"><name pos:start="188:17" pos:end="188:19">ost</name><operator pos:start="188:20" pos:end="188:21">-&gt;</operator><name pos:start="188:22" pos:end="188:36">top_field_first</name></name> <operator pos:start="188:38" pos:end="188:39">==</operator> <operator pos:start="188:41" pos:end="188:41">-</operator><literal type="number" pos:start="188:42" pos:end="188:42">1</literal></expr>)</condition><block type="pseudo" pos:start="190:17" pos:end="190:74"><block_content pos:start="190:17" pos:end="190:74">

                <expr_stmt pos:start="190:17" pos:end="190:74"><expr pos:start="190:17" pos:end="190:73"><name pos:start="190:17" pos:end="190:43"><name pos:start="190:17" pos:end="190:27">big_picture</name><operator pos:start="190:28" pos:end="190:28">.</operator><name pos:start="190:29" pos:end="190:43">top_field_first</name></name> <operator pos:start="190:45" pos:end="190:45">=</operator> <name pos:start="190:47" pos:end="190:73"><name pos:start="190:47" pos:end="190:56">in_picture</name><operator pos:start="190:57" pos:end="190:58">-&gt;</operator><name pos:start="190:59" pos:end="190:73">top_field_first</name></name></expr>;</expr_stmt></block_content></block></if>

            <else pos:start="192:13" pos:end="194:69">else<block type="pseudo" pos:start="194:17" pos:end="194:69"><block_content pos:start="194:17" pos:end="194:69">

                <expr_stmt pos:start="194:17" pos:end="194:69"><expr pos:start="194:17" pos:end="194:68"><name pos:start="194:17" pos:end="194:43"><name pos:start="194:17" pos:end="194:27">big_picture</name><operator pos:start="194:28" pos:end="194:28">.</operator><name pos:start="194:29" pos:end="194:43">top_field_first</name></name> <operator pos:start="194:45" pos:end="194:45">=</operator> <operator pos:start="194:47" pos:end="194:47">!</operator><operator pos:start="194:48" pos:end="194:48">!</operator><name pos:start="194:49" pos:end="194:68"><name pos:start="194:49" pos:end="194:51">ost</name><operator pos:start="194:52" pos:end="194:53">-&gt;</operator><name pos:start="194:54" pos:end="194:68">top_field_first</name></name></expr>;</expr_stmt></block_content></block></else></if_stmt>




        <comment type="block" pos:start="199:9" pos:end="201:36">/* handles same_quant here. This is not correct because it may

           not be a global option */</comment>

        <expr_stmt pos:start="203:9" pos:end="203:38"><expr pos:start="203:9" pos:end="203:37"><name pos:start="203:9" pos:end="203:27"><name pos:start="203:9" pos:end="203:19">big_picture</name><operator pos:start="203:20" pos:end="203:20">.</operator><name pos:start="203:21" pos:end="203:27">quality</name></name> <operator pos:start="203:29" pos:end="203:29">=</operator> <name pos:start="203:31" pos:end="203:37">quality</name></expr>;</expr_stmt>

        <if_stmt pos:start="205:9" pos:end="207:38"><if pos:start="205:9" pos:end="207:38">if <condition pos:start="205:12" pos:end="205:31">(<expr pos:start="205:13" pos:end="205:30"><operator pos:start="205:13" pos:end="205:13">!</operator><name pos:start="205:14" pos:end="205:30"><name pos:start="205:14" pos:end="205:16">enc</name><operator pos:start="205:17" pos:end="205:18">-&gt;</operator><name pos:start="205:19" pos:end="205:30">me_threshold</name></name></expr>)</condition><block type="pseudo" pos:start="207:13" pos:end="207:38"><block_content pos:start="207:13" pos:end="207:38">

            <expr_stmt pos:start="207:13" pos:end="207:38"><expr pos:start="207:13" pos:end="207:37"><name pos:start="207:13" pos:end="207:33"><name pos:start="207:13" pos:end="207:23">big_picture</name><operator pos:start="207:24" pos:end="207:24">.</operator><name pos:start="207:25" pos:end="207:33">pict_type</name></name> <operator pos:start="207:35" pos:end="207:35">=</operator> <literal type="number" pos:start="207:37" pos:end="207:37">0</literal></expr>;</expr_stmt></block_content></block></if></if_stmt>

        <if_stmt pos:start="209:9" pos:end="307:76"><if pos:start="209:9" pos:end="307:76">if <condition pos:start="209:12" pos:end="211:72">(<expr pos:start="209:13" pos:end="211:71"><name pos:start="209:13" pos:end="209:32"><name pos:start="209:13" pos:end="209:15">ost</name><operator pos:start="209:16" pos:end="209:17">-&gt;</operator><name pos:start="209:18" pos:end="209:32">forced_kf_index</name></name> <operator pos:start="209:34" pos:end="209:34">&lt;</operator> <name pos:start="209:36" pos:end="209:55"><name pos:start="209:36" pos:end="209:38">ost</name><operator pos:start="209:39" pos:end="209:40">-&gt;</operator><name pos:start="209:41" pos:end="209:55">forced_kf_count</name></name> <operator pos:start="209:57" pos:end="209:58">&amp;&amp;</operator>

            <name pos:start="211:13" pos:end="211:27"><name pos:start="211:13" pos:end="211:23">big_picture</name><operator pos:start="211:24" pos:end="211:24">.</operator><name pos:start="211:25" pos:end="211:27">pts</name></name> <operator pos:start="211:29" pos:end="211:30">&gt;=</operator> <name pos:start="211:32" pos:end="211:71"><name pos:start="211:32" pos:end="211:34">ost</name><operator pos:start="211:35" pos:end="211:36">-&gt;</operator><name pos:start="211:37" pos:end="211:49">forced_kf_pts</name><index pos:start="211:50" pos:end="211:71">[<expr pos:start="211:51" pos:end="211:70"><name pos:start="211:51" pos:end="211:70"><name pos:start="211:51" pos:end="211:53">ost</name><operator pos:start="211:54" pos:end="211:55">-&gt;</operator><name pos:start="211:56" pos:end="211:70">forced_kf_index</name></name></expr>]</index></name></expr>)</condition> <block pos:start="211:74" pos:end="307:76">{<block_content pos:start="213:13" pos:end="307:76">

            <expr_stmt pos:start="213:13" pos:end="213:54"><expr pos:start="213:13" pos:end="213:53"><name pos:start="213:13" pos:end="213:33"><name pos:start="213:13" pos:end="213:23">big_picture</name><operator pos:start="213:24" pos:end="213:24">.</operator><name pos:start="213:25" pos:end="213:33">pict_type</name></name> <operator pos:start="213:35" pos:end="213:35">=</operator> <name pos:start="213:37" pos:end="213:53">AV_PICTURE_TYPE_I</name></expr>;</expr_stmt>

            <expr_stmt pos:start="215:13" pos:end="215:35"><expr pos:start="215:13" pos:end="215:34"><name pos:start="215:13" pos:end="215:32"><name pos:start="215:13" pos:end="215:15">ost</name><operator pos:start="215:16" pos:end="215:17">-&gt;</operator><name pos:start="215:18" pos:end="215:32">forced_kf_index</name></name><operator pos:start="215:33" pos:end="215:34">++</operator></expr>;</expr_stmt>


        <expr_stmt pos:start="218:9" pos:end="218:31"><expr pos:start="218:9" pos:end="218:30"><call pos:start="218:9" pos:end="218:30"><name pos:start="218:9" pos:end="218:24">update_benchmark</name><argument_list pos:start="218:25" pos:end="218:30">(<argument pos:start="218:26" pos:end="218:29"><expr pos:start="218:26" pos:end="218:29"><name pos:start="218:26" pos:end="218:29">NULL</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="220:9" pos:end="220:74"><expr pos:start="220:9" pos:end="220:73"><name pos:start="220:9" pos:end="220:11">ret</name> <operator pos:start="220:13" pos:end="220:13">=</operator> <call pos:start="220:15" pos:end="220:73"><name pos:start="220:15" pos:end="220:35">avcodec_encode_video2</name><argument_list pos:start="220:36" pos:end="220:73">(<argument pos:start="220:37" pos:end="220:39"><expr pos:start="220:37" pos:end="220:39"><name pos:start="220:37" pos:end="220:39">enc</name></expr></argument>, <argument pos:start="220:42" pos:end="220:45"><expr pos:start="220:42" pos:end="220:45"><operator pos:start="220:42" pos:end="220:42">&amp;</operator><name pos:start="220:43" pos:end="220:45">pkt</name></expr></argument>, <argument pos:start="220:48" pos:end="220:59"><expr pos:start="220:48" pos:end="220:59"><operator pos:start="220:48" pos:end="220:48">&amp;</operator><name pos:start="220:49" pos:end="220:59">big_picture</name></expr></argument>, <argument pos:start="220:62" pos:end="220:72"><expr pos:start="220:62" pos:end="220:72"><operator pos:start="220:62" pos:end="220:62">&amp;</operator><name pos:start="220:63" pos:end="220:72">got_packet</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="222:9" pos:end="222:76"><expr pos:start="222:9" pos:end="222:75"><call pos:start="222:9" pos:end="222:75"><name pos:start="222:9" pos:end="222:24">update_benchmark</name><argument_list pos:start="222:25" pos:end="222:75">(<argument pos:start="222:26" pos:end="222:45"><expr pos:start="222:26" pos:end="222:45"><literal type="string" pos:start="222:26" pos:end="222:45">"encode_video %d.%d"</literal></expr></argument>, <argument pos:start="222:48" pos:end="222:62"><expr pos:start="222:48" pos:end="222:62"><name pos:start="222:48" pos:end="222:62"><name pos:start="222:48" pos:end="222:50">ost</name><operator pos:start="222:51" pos:end="222:52">-&gt;</operator><name pos:start="222:53" pos:end="222:62">file_index</name></name></expr></argument>, <argument pos:start="222:65" pos:end="222:74"><expr pos:start="222:65" pos:end="222:74"><name pos:start="222:65" pos:end="222:74"><name pos:start="222:65" pos:end="222:67">ost</name><operator pos:start="222:68" pos:end="222:69">-&gt;</operator><name pos:start="222:70" pos:end="222:74">index</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="224:9" pos:end="307:76"><if pos:start="224:9" pos:end="307:76">if <condition pos:start="224:12" pos:end="224:20">(<expr pos:start="224:13" pos:end="224:19"><name pos:start="224:13" pos:end="224:15">ret</name> <operator pos:start="224:17" pos:end="224:17">&lt;</operator> <literal type="number" pos:start="224:19" pos:end="224:19">0</literal></expr>)</condition> <block pos:start="224:22" pos:end="307:76">{<block_content pos:start="226:13" pos:end="307:76">

            <expr_stmt pos:start="226:13" pos:end="226:66"><expr pos:start="226:13" pos:end="226:65"><call pos:start="226:13" pos:end="226:65"><name pos:start="226:13" pos:end="226:18">av_log</name><argument_list pos:start="226:19" pos:end="226:65">(<argument pos:start="226:20" pos:end="226:23"><expr pos:start="226:20" pos:end="226:23"><name pos:start="226:20" pos:end="226:23">NULL</name></expr></argument>, <argument pos:start="226:26" pos:end="226:37"><expr pos:start="226:26" pos:end="226:37"><name pos:start="226:26" pos:end="226:37">AV_LOG_FATAL</name></expr></argument>, <argument pos:start="226:40" pos:end="226:64"><expr pos:start="226:40" pos:end="226:64"><literal type="string" pos:start="226:40" pos:end="226:64">"Video encoding failed\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="228:13" pos:end="228:28"><expr pos:start="228:13" pos:end="228:27"><call pos:start="228:13" pos:end="228:27"><name pos:start="228:13" pos:end="228:24">exit_program</name><argument_list pos:start="228:25" pos:end="228:27">(<argument pos:start="228:26" pos:end="228:26"><expr pos:start="228:26" pos:end="228:26"><literal type="number" pos:start="228:26" pos:end="228:26">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>




        <if_stmt pos:start="233:9" pos:end="307:76"><if pos:start="233:9" pos:end="307:76">if <condition pos:start="233:12" pos:end="233:23">(<expr pos:start="233:13" pos:end="233:22"><name pos:start="233:13" pos:end="233:22">got_packet</name></expr>)</condition> <block pos:start="233:25" pos:end="307:76">{<block_content pos:start="235:13" pos:end="307:76">

            <if_stmt pos:start="235:13" pos:end="237:41"><if pos:start="235:13" pos:end="237:41">if <condition pos:start="235:16" pos:end="235:91">(<expr pos:start="235:17" pos:end="235:90"><name pos:start="235:17" pos:end="235:23"><name pos:start="235:17" pos:end="235:19">pkt</name><operator pos:start="235:20" pos:end="235:20">.</operator><name pos:start="235:21" pos:end="235:23">pts</name></name> <operator pos:start="235:25" pos:end="235:26">==</operator> <name pos:start="235:28" pos:end="235:41">AV_NOPTS_VALUE</name> <operator pos:start="235:43" pos:end="235:44">&amp;&amp;</operator> <operator pos:start="235:46" pos:end="235:46">!</operator><operator pos:start="235:47" pos:end="235:47">(</operator><name pos:start="235:48" pos:end="235:71"><name pos:start="235:48" pos:end="235:50">enc</name><operator pos:start="235:51" pos:end="235:52">-&gt;</operator><name pos:start="235:53" pos:end="235:57">codec</name><operator pos:start="235:58" pos:end="235:59">-&gt;</operator><name pos:start="235:60" pos:end="235:71">capabilities</name></name> <operator pos:start="235:73" pos:end="235:73">&amp;</operator> <name pos:start="235:75" pos:end="235:89">CODEC_CAP_DELAY</name><operator pos:start="235:90" pos:end="235:90">)</operator></expr>)</condition><block type="pseudo" pos:start="237:17" pos:end="237:41"><block_content pos:start="237:17" pos:end="237:41">

                <expr_stmt pos:start="237:17" pos:end="237:41"><expr pos:start="237:17" pos:end="237:40"><name pos:start="237:17" pos:end="237:23"><name pos:start="237:17" pos:end="237:19">pkt</name><operator pos:start="237:20" pos:end="237:20">.</operator><name pos:start="237:21" pos:end="237:23">pts</name></name> <operator pos:start="237:25" pos:end="237:25">=</operator> <name pos:start="237:27" pos:end="237:40"><name pos:start="237:27" pos:end="237:29">ost</name><operator pos:start="237:30" pos:end="237:31">-&gt;</operator><name pos:start="237:32" pos:end="237:40">sync_opts</name></name></expr>;</expr_stmt></block_content></block></if></if_stmt>



            <if_stmt pos:start="241:13" pos:end="243:84"><if pos:start="241:13" pos:end="243:84">if <condition pos:start="241:16" pos:end="241:42">(<expr pos:start="241:17" pos:end="241:41"><name pos:start="241:17" pos:end="241:23"><name pos:start="241:17" pos:end="241:19">pkt</name><operator pos:start="241:20" pos:end="241:20">.</operator><name pos:start="241:21" pos:end="241:23">pts</name></name> <operator pos:start="241:25" pos:end="241:26">!=</operator> <name pos:start="241:28" pos:end="241:41">AV_NOPTS_VALUE</name></expr>)</condition><block type="pseudo" pos:start="243:17" pos:end="243:84"><block_content pos:start="243:17" pos:end="243:84">

                <expr_stmt pos:start="243:17" pos:end="243:84"><expr pos:start="243:17" pos:end="243:83"><name pos:start="243:17" pos:end="243:23"><name pos:start="243:17" pos:end="243:19">pkt</name><operator pos:start="243:20" pos:end="243:20">.</operator><name pos:start="243:21" pos:end="243:23">pts</name></name> <operator pos:start="243:25" pos:end="243:25">=</operator> <call pos:start="243:27" pos:end="243:83"><name pos:start="243:27" pos:end="243:38">av_rescale_q</name><argument_list pos:start="243:39" pos:end="243:83">(<argument pos:start="243:40" pos:end="243:46"><expr pos:start="243:40" pos:end="243:46"><name pos:start="243:40" pos:end="243:46"><name pos:start="243:40" pos:end="243:42">pkt</name><operator pos:start="243:43" pos:end="243:43">.</operator><name pos:start="243:44" pos:end="243:46">pts</name></name></expr></argument>, <argument pos:start="243:49" pos:end="243:62"><expr pos:start="243:49" pos:end="243:62"><name pos:start="243:49" pos:end="243:62"><name pos:start="243:49" pos:end="243:51">enc</name><operator pos:start="243:52" pos:end="243:53">-&gt;</operator><name pos:start="243:54" pos:end="243:62">time_base</name></name></expr></argument>, <argument pos:start="243:65" pos:end="243:82"><expr pos:start="243:65" pos:end="243:82"><name pos:start="243:65" pos:end="243:82"><name pos:start="243:65" pos:end="243:67">ost</name><operator pos:start="243:68" pos:end="243:69">-&gt;</operator><name pos:start="243:70" pos:end="243:71">st</name><operator pos:start="243:72" pos:end="243:73">-&gt;</operator><name pos:start="243:74" pos:end="243:82">time_base</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

            <if_stmt pos:start="245:13" pos:end="247:84"><if pos:start="245:13" pos:end="247:84">if <condition pos:start="245:16" pos:end="245:42">(<expr pos:start="245:17" pos:end="245:41"><name pos:start="245:17" pos:end="245:23"><name pos:start="245:17" pos:end="245:19">pkt</name><operator pos:start="245:20" pos:end="245:20">.</operator><name pos:start="245:21" pos:end="245:23">dts</name></name> <operator pos:start="245:25" pos:end="245:26">!=</operator> <name pos:start="245:28" pos:end="245:41">AV_NOPTS_VALUE</name></expr>)</condition><block type="pseudo" pos:start="247:17" pos:end="247:84"><block_content pos:start="247:17" pos:end="247:84">

                <expr_stmt pos:start="247:17" pos:end="247:84"><expr pos:start="247:17" pos:end="247:83"><name pos:start="247:17" pos:end="247:23"><name pos:start="247:17" pos:end="247:19">pkt</name><operator pos:start="247:20" pos:end="247:20">.</operator><name pos:start="247:21" pos:end="247:23">dts</name></name> <operator pos:start="247:25" pos:end="247:25">=</operator> <call pos:start="247:27" pos:end="247:83"><name pos:start="247:27" pos:end="247:38">av_rescale_q</name><argument_list pos:start="247:39" pos:end="247:83">(<argument pos:start="247:40" pos:end="247:46"><expr pos:start="247:40" pos:end="247:46"><name pos:start="247:40" pos:end="247:46"><name pos:start="247:40" pos:end="247:42">pkt</name><operator pos:start="247:43" pos:end="247:43">.</operator><name pos:start="247:44" pos:end="247:46">dts</name></name></expr></argument>, <argument pos:start="247:49" pos:end="247:62"><expr pos:start="247:49" pos:end="247:62"><name pos:start="247:49" pos:end="247:62"><name pos:start="247:49" pos:end="247:51">enc</name><operator pos:start="247:52" pos:end="247:53">-&gt;</operator><name pos:start="247:54" pos:end="247:62">time_base</name></name></expr></argument>, <argument pos:start="247:65" pos:end="247:82"><expr pos:start="247:65" pos:end="247:82"><name pos:start="247:65" pos:end="247:82"><name pos:start="247:65" pos:end="247:67">ost</name><operator pos:start="247:68" pos:end="247:69">-&gt;</operator><name pos:start="247:70" pos:end="247:71">st</name><operator pos:start="247:72" pos:end="247:73">-&gt;</operator><name pos:start="247:74" pos:end="247:82">time_base</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>



            <if_stmt pos:start="251:13" pos:end="307:76"><if pos:start="251:13" pos:end="307:76">if <condition pos:start="251:16" pos:end="251:25">(<expr pos:start="251:17" pos:end="251:24"><name pos:start="251:17" pos:end="251:24">debug_ts</name></expr>)</condition> <block pos:start="251:27" pos:end="307:76">{<block_content pos:start="253:17" pos:end="307:76">

                <expr_stmt pos:start="253:17" pos:end="259:85"><expr pos:start="253:17" pos:end="259:84"><call pos:start="253:17" pos:end="259:84"><name pos:start="253:17" pos:end="253:22">av_log</name><argument_list pos:start="253:23" pos:end="259:84">(<argument pos:start="253:24" pos:end="253:27"><expr pos:start="253:24" pos:end="253:27"><name pos:start="253:24" pos:end="253:27">NULL</name></expr></argument>, <argument pos:start="253:30" pos:end="253:40"><expr pos:start="253:30" pos:end="253:40"><name pos:start="253:30" pos:end="253:40">AV_LOG_INFO</name></expr></argument>, <argument pos:start="253:43" pos:end="255:77"><expr pos:start="253:43" pos:end="255:77"><literal type="string" pos:start="253:43" pos:end="253:66">"encoder -&gt; type:video "</literal>

                    <literal type="string" pos:start="255:21" pos:end="255:77">"pkt_pts:%s pkt_pts_time:%s pkt_dts:%s pkt_dts_time:%s\n"</literal></expr></argument>,

                    <argument pos:start="257:21" pos:end="257:38"><expr pos:start="257:21" pos:end="257:38"><call pos:start="257:21" pos:end="257:38"><name pos:start="257:21" pos:end="257:29">av_ts2str</name><argument_list pos:start="257:30" pos:end="257:38">(<argument pos:start="257:31" pos:end="257:37"><expr pos:start="257:31" pos:end="257:37"><name pos:start="257:31" pos:end="257:37"><name pos:start="257:31" pos:end="257:33">pkt</name><operator pos:start="257:34" pos:end="257:34">.</operator><name pos:start="257:35" pos:end="257:37">pts</name></name></expr></argument>)</argument_list></call></expr></argument>, <argument pos:start="257:41" pos:end="257:83"><expr pos:start="257:41" pos:end="257:83"><call pos:start="257:41" pos:end="257:83"><name pos:start="257:41" pos:end="257:53">av_ts2timestr</name><argument_list pos:start="257:54" pos:end="257:83">(<argument pos:start="257:55" pos:end="257:61"><expr pos:start="257:55" pos:end="257:61"><name pos:start="257:55" pos:end="257:61"><name pos:start="257:55" pos:end="257:57">pkt</name><operator pos:start="257:58" pos:end="257:58">.</operator><name pos:start="257:59" pos:end="257:61">pts</name></name></expr></argument>, <argument pos:start="257:64" pos:end="257:82"><expr pos:start="257:64" pos:end="257:82"><operator pos:start="257:64" pos:end="257:64">&amp;</operator><name pos:start="257:65" pos:end="257:82"><name pos:start="257:65" pos:end="257:67">ost</name><operator pos:start="257:68" pos:end="257:69">-&gt;</operator><name pos:start="257:70" pos:end="257:71">st</name><operator pos:start="257:72" pos:end="257:73">-&gt;</operator><name pos:start="257:74" pos:end="257:82">time_base</name></name></expr></argument>)</argument_list></call></expr></argument>,

                    <argument pos:start="259:21" pos:end="259:38"><expr pos:start="259:21" pos:end="259:38"><call pos:start="259:21" pos:end="259:38"><name pos:start="259:21" pos:end="259:29">av_ts2str</name><argument_list pos:start="259:30" pos:end="259:38">(<argument pos:start="259:31" pos:end="259:37"><expr pos:start="259:31" pos:end="259:37"><name pos:start="259:31" pos:end="259:37"><name pos:start="259:31" pos:end="259:33">pkt</name><operator pos:start="259:34" pos:end="259:34">.</operator><name pos:start="259:35" pos:end="259:37">dts</name></name></expr></argument>)</argument_list></call></expr></argument>, <argument pos:start="259:41" pos:end="259:83"><expr pos:start="259:41" pos:end="259:83"><call pos:start="259:41" pos:end="259:83"><name pos:start="259:41" pos:end="259:53">av_ts2timestr</name><argument_list pos:start="259:54" pos:end="259:83">(<argument pos:start="259:55" pos:end="259:61"><expr pos:start="259:55" pos:end="259:61"><name pos:start="259:55" pos:end="259:61"><name pos:start="259:55" pos:end="259:57">pkt</name><operator pos:start="259:58" pos:end="259:58">.</operator><name pos:start="259:59" pos:end="259:61">dts</name></name></expr></argument>, <argument pos:start="259:64" pos:end="259:82"><expr pos:start="259:64" pos:end="259:82"><operator pos:start="259:64" pos:end="259:64">&amp;</operator><name pos:start="259:65" pos:end="259:82"><name pos:start="259:65" pos:end="259:67">ost</name><operator pos:start="259:68" pos:end="259:69">-&gt;</operator><name pos:start="259:70" pos:end="259:71">st</name><operator pos:start="259:72" pos:end="259:73">-&gt;</operator><name pos:start="259:74" pos:end="259:82">time_base</name></name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>




            <expr_stmt pos:start="264:13" pos:end="264:38"><expr pos:start="264:13" pos:end="264:37"><call pos:start="264:13" pos:end="264:37"><name pos:start="264:13" pos:end="264:23">write_frame</name><argument_list pos:start="264:24" pos:end="264:37">(<argument pos:start="264:25" pos:end="264:25"><expr pos:start="264:25" pos:end="264:25"><name pos:start="264:25" pos:end="264:25">s</name></expr></argument>, <argument pos:start="264:28" pos:end="264:31"><expr pos:start="264:28" pos:end="264:31"><operator pos:start="264:28" pos:end="264:28">&amp;</operator><name pos:start="264:29" pos:end="264:31">pkt</name></expr></argument>, <argument pos:start="264:34" pos:end="264:36"><expr pos:start="264:34" pos:end="264:36"><name pos:start="264:34" pos:end="264:36">ost</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="266:13" pos:end="266:34"><expr pos:start="266:13" pos:end="266:33"><name pos:start="266:13" pos:end="266:22">frame_size</name> <operator pos:start="266:24" pos:end="266:24">=</operator> <name pos:start="266:26" pos:end="266:33"><name pos:start="266:26" pos:end="266:28">pkt</name><operator pos:start="266:29" pos:end="266:29">.</operator><name pos:start="266:30" pos:end="266:33">size</name></name></expr>;</expr_stmt>

            <expr_stmt pos:start="268:13" pos:end="268:35"><expr pos:start="268:13" pos:end="268:34"><name pos:start="268:13" pos:end="268:22">video_size</name> <operator pos:start="268:24" pos:end="268:25">+=</operator> <name pos:start="268:27" pos:end="268:34"><name pos:start="268:27" pos:end="268:29">pkt</name><operator pos:start="268:30" pos:end="268:30">.</operator><name pos:start="268:31" pos:end="268:34">size</name></name></expr>;</expr_stmt>

            <expr_stmt pos:start="270:13" pos:end="270:33"><expr pos:start="270:13" pos:end="270:32"><call pos:start="270:13" pos:end="270:32"><name pos:start="270:13" pos:end="270:26">av_free_packet</name><argument_list pos:start="270:27" pos:end="270:32">(<argument pos:start="270:28" pos:end="270:31"><expr pos:start="270:28" pos:end="270:31"><operator pos:start="270:28" pos:end="270:28">&amp;</operator><name pos:start="270:29" pos:end="270:31">pkt</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



            <comment type="block" pos:start="274:13" pos:end="274:41">/* if two pass, output log */</comment>

            <if_stmt pos:start="276:13" pos:end="307:76"><if pos:start="276:13" pos:end="307:76">if <condition pos:start="276:16" pos:end="276:47">(<expr pos:start="276:17" pos:end="276:46"><name pos:start="276:17" pos:end="276:28"><name pos:start="276:17" pos:end="276:19">ost</name><operator pos:start="276:20" pos:end="276:21">-&gt;</operator><name pos:start="276:22" pos:end="276:28">logfile</name></name> <operator pos:start="276:30" pos:end="276:31">&amp;&amp;</operator> <name pos:start="276:33" pos:end="276:46"><name pos:start="276:33" pos:end="276:35">enc</name><operator pos:start="276:36" pos:end="276:37">-&gt;</operator><name pos:start="276:38" pos:end="276:46">stats_out</name></name></expr>)</condition> <block pos:start="276:49" pos:end="307:76">{<block_content pos:start="278:17" pos:end="307:76">

                <expr_stmt pos:start="278:17" pos:end="278:60"><expr pos:start="278:17" pos:end="278:59"><call pos:start="278:17" pos:end="278:59"><name pos:start="278:17" pos:end="278:23">fprintf</name><argument_list pos:start="278:24" pos:end="278:59">(<argument pos:start="278:25" pos:end="278:36"><expr pos:start="278:25" pos:end="278:36"><name pos:start="278:25" pos:end="278:36"><name pos:start="278:25" pos:end="278:27">ost</name><operator pos:start="278:28" pos:end="278:29">-&gt;</operator><name pos:start="278:30" pos:end="278:36">logfile</name></name></expr></argument>, <argument pos:start="278:39" pos:end="278:42"><expr pos:start="278:39" pos:end="278:42"><literal type="string" pos:start="278:39" pos:end="278:42">"%s"</literal></expr></argument>, <argument pos:start="278:45" pos:end="278:58"><expr pos:start="278:45" pos:end="278:58"><name pos:start="278:45" pos:end="278:58"><name pos:start="278:45" pos:end="278:47">enc</name><operator pos:start="278:48" pos:end="278:49">-&gt;</operator><name pos:start="278:50" pos:end="278:58">stats_out</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>




    <expr_stmt pos:start="283:5" pos:end="283:21"><expr pos:start="283:5" pos:end="283:20"><name pos:start="283:5" pos:end="283:18"><name pos:start="283:5" pos:end="283:7">ost</name><operator pos:start="283:8" pos:end="283:9">-&gt;</operator><name pos:start="283:10" pos:end="283:18">sync_opts</name></name><operator pos:start="283:19" pos:end="283:20">++</operator></expr>;</expr_stmt>

    <comment type="block" pos:start="285:5" pos:end="293:7">/*

     * For video, number of frames in == number of packets out.

     * But there may be reordering, so we can't throw away frames on encoder

     * flush, we need to limit them here, before they go into encoder.

     */</comment>

    <expr_stmt pos:start="295:5" pos:end="295:24"><expr pos:start="295:5" pos:end="295:23"><name pos:start="295:5" pos:end="295:21"><name pos:start="295:5" pos:end="295:7">ost</name><operator pos:start="295:8" pos:end="295:9">-&gt;</operator><name pos:start="295:10" pos:end="295:21">frame_number</name></name><operator pos:start="295:22" pos:end="295:23">++</operator></expr>;</expr_stmt>



    <if_stmt pos:start="299:5" pos:end="301:29"><if pos:start="299:5" pos:end="301:29">if<condition pos:start="299:7" pos:end="299:19">(<expr pos:start="299:8" pos:end="299:18"><operator pos:start="299:8" pos:end="299:9">--</operator><name pos:start="299:10" pos:end="299:18">nb_frames</name></expr>)</condition><block type="pseudo" pos:start="301:9" pos:end="301:29"><block_content pos:start="301:9" pos:end="301:29">

        <goto pos:start="301:9" pos:end="301:29">goto <name pos:start="301:14" pos:end="301:28">duplicate_frame</name>;</goto></block_content></block></if></if_stmt>



    <if_stmt pos:start="305:5" pos:end="307:76"><if pos:start="305:5" pos:end="307:76">if <condition pos:start="305:8" pos:end="305:38">(<expr pos:start="305:9" pos:end="305:37"><name pos:start="305:9" pos:end="305:23">vstats_filename</name> <operator pos:start="305:25" pos:end="305:26">&amp;&amp;</operator> <name pos:start="305:28" pos:end="305:37">frame_size</name></expr>)</condition><block type="pseudo" pos:start="307:9" pos:end="307:76"><block_content pos:start="307:9" pos:end="307:76">

        <expr_stmt pos:start="307:9" pos:end="307:76"><expr pos:start="307:9" pos:end="307:75"><call pos:start="307:9" pos:end="307:75"><name pos:start="307:9" pos:end="307:22">do_video_stats</name><argument_list pos:start="307:23" pos:end="307:75">(<argument pos:start="307:24" pos:end="307:57"><expr pos:start="307:24" pos:end="307:57"><name pos:start="307:24" pos:end="307:52"><name pos:start="307:24" pos:end="307:35">output_files</name><index pos:start="307:36" pos:end="307:52">[<expr pos:start="307:37" pos:end="307:51"><name pos:start="307:37" pos:end="307:51"><name pos:start="307:37" pos:end="307:39">ost</name><operator pos:start="307:40" pos:end="307:41">-&gt;</operator><name pos:start="307:42" pos:end="307:51">file_index</name></name></expr>]</index></name><operator pos:start="307:53" pos:end="307:54">-&gt;</operator><name pos:start="307:55" pos:end="307:57">ctx</name></expr></argument>, <argument pos:start="307:60" pos:end="307:62"><expr pos:start="307:60" pos:end="307:62"><name pos:start="307:60" pos:end="307:62">ost</name></expr></argument>, <argument pos:start="307:65" pos:end="307:74"><expr pos:start="307:65" pos:end="307:74"><name pos:start="307:65" pos:end="307:74">frame_size</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt></block_content></block></if></if_stmt></block_content></block></if></if_stmt></block_content></block></if></if_stmt></block_content></block></if></if_stmt></block_content></block></if></if_stmt></block_content></block></if></if_stmt></block_content></block></else></if_stmt></block_content></block></if></if_stmt></block_content></block></switch></block_content></block></function>
</unit>
