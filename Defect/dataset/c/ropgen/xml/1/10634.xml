<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/10634.c" pos:tabs="8"><function pos:start="1:1" pos:end="159:57"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:37">virtio_net_device_realize</name><parameter_list pos:start="1:38" pos:end="1:69">(<parameter pos:start="1:39" pos:end="1:54"><decl pos:start="1:39" pos:end="1:54"><type pos:start="1:39" pos:end="1:54"><name pos:start="1:39" pos:end="1:49">DeviceState</name> <modifier pos:start="1:51" pos:end="1:51">*</modifier></type><name pos:start="1:52" pos:end="1:54">dev</name></decl></parameter>, <parameter pos:start="1:57" pos:end="1:68"><decl pos:start="1:57" pos:end="1:68"><type pos:start="1:57" pos:end="1:68"><name pos:start="1:57" pos:end="1:61">Error</name> <modifier pos:start="1:63" pos:end="1:63">*</modifier><modifier pos:start="1:64" pos:end="1:64">*</modifier></type><name pos:start="1:65" pos:end="1:68">errp</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="159:57">{<block_content pos:start="5:5" pos:end="159:57">

    <decl_stmt pos:start="5:5" pos:end="5:44"><decl pos:start="5:5" pos:end="5:43"><type pos:start="5:5" pos:end="5:18"><name pos:start="5:5" pos:end="5:16">VirtIODevice</name> <modifier pos:start="5:18" pos:end="5:18">*</modifier></type><name pos:start="5:19" pos:end="5:22">vdev</name> <init pos:start="5:24" pos:end="5:43">= <expr pos:start="5:26" pos:end="5:43"><call pos:start="5:26" pos:end="5:43"><name pos:start="5:26" pos:end="5:38">VIRTIO_DEVICE</name><argument_list pos:start="5:39" pos:end="5:43">(<argument pos:start="5:40" pos:end="5:42"><expr pos:start="5:40" pos:end="5:42"><name pos:start="5:40" pos:end="5:42">dev</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:35"><decl pos:start="7:5" pos:end="7:34"><type pos:start="7:5" pos:end="7:15"><name pos:start="7:5" pos:end="7:13">VirtIONet</name> <modifier pos:start="7:15" pos:end="7:15">*</modifier></type><name pos:start="7:16" pos:end="7:16">n</name> <init pos:start="7:18" pos:end="7:34">= <expr pos:start="7:20" pos:end="7:34"><call pos:start="7:20" pos:end="7:34"><name pos:start="7:20" pos:end="7:29">VIRTIO_NET</name><argument_list pos:start="7:30" pos:end="7:34">(<argument pos:start="7:31" pos:end="7:33"><expr pos:start="7:31" pos:end="7:33"><name pos:start="7:31" pos:end="7:33">dev</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:23"><decl pos:start="9:5" pos:end="9:22"><type pos:start="9:5" pos:end="9:20"><name pos:start="9:5" pos:end="9:18">NetClientState</name> <modifier pos:start="9:20" pos:end="9:20">*</modifier></type><name pos:start="9:21" pos:end="9:22">nc</name></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:10"><decl pos:start="11:5" pos:end="11:9"><type pos:start="11:5" pos:end="11:7"><name pos:start="11:5" pos:end="11:7">int</name></type> <name pos:start="11:9" pos:end="11:9">i</name></decl>;</decl_stmt>



    <expr_stmt pos:start="15:5" pos:end="15:67"><expr pos:start="15:5" pos:end="15:66"><call pos:start="15:5" pos:end="15:66"><name pos:start="15:5" pos:end="15:15">virtio_init</name><argument_list pos:start="15:16" pos:end="15:66">(<argument pos:start="15:17" pos:end="15:20"><expr pos:start="15:17" pos:end="15:20"><name pos:start="15:17" pos:end="15:20">vdev</name></expr></argument>, <argument pos:start="15:23" pos:end="15:34"><expr pos:start="15:23" pos:end="15:34"><literal type="string" pos:start="15:23" pos:end="15:34">"virtio-net"</literal></expr></argument>, <argument pos:start="15:37" pos:end="15:49"><expr pos:start="15:37" pos:end="15:49"><name pos:start="15:37" pos:end="15:49">VIRTIO_ID_NET</name></expr></argument>, <argument pos:start="15:52" pos:end="15:65"><expr pos:start="15:52" pos:end="15:65"><name pos:start="15:52" pos:end="15:65"><name pos:start="15:52" pos:end="15:52">n</name><operator pos:start="15:53" pos:end="15:54">-&gt;</operator><name pos:start="15:55" pos:end="15:65">config_size</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="19:5" pos:end="19:53"><expr pos:start="19:5" pos:end="19:52"><name pos:start="19:5" pos:end="19:17"><name pos:start="19:5" pos:end="19:5">n</name><operator pos:start="19:6" pos:end="19:7">-&gt;</operator><name pos:start="19:8" pos:end="19:17">max_queues</name></name> <operator pos:start="19:19" pos:end="19:19">=</operator> <call pos:start="19:21" pos:end="19:52"><name pos:start="19:21" pos:end="19:23">MAX</name><argument_list pos:start="19:24" pos:end="19:52">(<argument pos:start="19:25" pos:end="19:48"><expr pos:start="19:25" pos:end="19:48"><name pos:start="19:25" pos:end="19:48"><name pos:start="19:25" pos:end="19:25">n</name><operator pos:start="19:26" pos:end="19:27">-&gt;</operator><name pos:start="19:28" pos:end="19:35">nic_conf</name><operator pos:start="19:36" pos:end="19:36">.</operator><name pos:start="19:37" pos:end="19:41">peers</name><operator pos:start="19:42" pos:end="19:42">.</operator><name pos:start="19:43" pos:end="19:48">queues</name></name></expr></argument>, <argument pos:start="19:51" pos:end="19:51"><expr pos:start="19:51" pos:end="19:51"><literal type="number" pos:start="19:51" pos:end="19:51">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>








    <expr_stmt pos:start="28:5" pos:end="28:63"><expr pos:start="28:5" pos:end="28:62"><name pos:start="28:5" pos:end="28:10"><name pos:start="28:5" pos:end="28:5">n</name><operator pos:start="28:6" pos:end="28:7">-&gt;</operator><name pos:start="28:8" pos:end="28:10">vqs</name></name> <operator pos:start="28:12" pos:end="28:12">=</operator> <call pos:start="28:14" pos:end="28:62"><name pos:start="28:14" pos:end="28:22">g_malloc0</name><argument_list pos:start="28:23" pos:end="28:62">(<argument pos:start="28:24" pos:end="28:61"><expr pos:start="28:24" pos:end="28:61"><sizeof pos:start="28:24" pos:end="28:45">sizeof<argument_list pos:start="28:30" pos:end="28:45">(<argument pos:start="28:31" pos:end="28:44"><expr pos:start="28:31" pos:end="28:44"><name pos:start="28:31" pos:end="28:44">VirtIONetQueue</name></expr></argument>)</argument_list></sizeof> <operator pos:start="28:47" pos:end="28:47">*</operator> <name pos:start="28:49" pos:end="28:61"><name pos:start="28:49" pos:end="28:49">n</name><operator pos:start="28:50" pos:end="28:51">-&gt;</operator><name pos:start="28:52" pos:end="28:61">max_queues</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="30:5" pos:end="30:72"><expr pos:start="30:5" pos:end="30:71"><name pos:start="30:5" pos:end="30:13"><name pos:start="30:5" pos:end="30:5">n</name><operator pos:start="30:6" pos:end="30:7">-&gt;</operator><name pos:start="30:8" pos:end="30:10">vqs</name><index pos:start="30:11" pos:end="30:13">[<expr pos:start="30:12" pos:end="30:12"><literal type="number" pos:start="30:12" pos:end="30:12">0</literal></expr>]</index></name><operator pos:start="30:14" pos:end="30:14">.</operator><name pos:start="30:15" pos:end="30:19">rx_vq</name> <operator pos:start="30:21" pos:end="30:21">=</operator> <call pos:start="30:23" pos:end="30:71"><name pos:start="30:23" pos:end="30:38">virtio_add_queue</name><argument_list pos:start="30:39" pos:end="30:71">(<argument pos:start="30:40" pos:end="30:43"><expr pos:start="30:40" pos:end="30:43"><name pos:start="30:40" pos:end="30:43">vdev</name></expr></argument>, <argument pos:start="30:46" pos:end="30:48"><expr pos:start="30:46" pos:end="30:48"><literal type="number" pos:start="30:46" pos:end="30:48">256</literal></expr></argument>, <argument pos:start="30:51" pos:end="30:70"><expr pos:start="30:51" pos:end="30:70"><name pos:start="30:51" pos:end="30:70">virtio_net_handle_rx</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="32:5" pos:end="32:23"><expr pos:start="32:5" pos:end="32:22"><name pos:start="32:5" pos:end="32:18"><name pos:start="32:5" pos:end="32:5">n</name><operator pos:start="32:6" pos:end="32:7">-&gt;</operator><name pos:start="32:8" pos:end="32:18">curr_queues</name></name> <operator pos:start="32:20" pos:end="32:20">=</operator> <literal type="number" pos:start="32:22" pos:end="32:22">1</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="34:5" pos:end="34:20"><expr pos:start="34:5" pos:end="34:19"><name pos:start="34:5" pos:end="34:13"><name pos:start="34:5" pos:end="34:5">n</name><operator pos:start="34:6" pos:end="34:7">-&gt;</operator><name pos:start="34:8" pos:end="34:10">vqs</name><index pos:start="34:11" pos:end="34:13">[<expr pos:start="34:12" pos:end="34:12"><literal type="number" pos:start="34:12" pos:end="34:12">0</literal></expr>]</index></name><operator pos:start="34:14" pos:end="34:14">.</operator><name pos:start="34:15" pos:end="34:15">n</name> <operator pos:start="34:17" pos:end="34:17">=</operator> <name pos:start="34:19" pos:end="34:19">n</name></expr>;</expr_stmt>

    <expr_stmt pos:start="36:5" pos:end="36:40"><expr pos:start="36:5" pos:end="36:39"><name pos:start="36:5" pos:end="36:17"><name pos:start="36:5" pos:end="36:5">n</name><operator pos:start="36:6" pos:end="36:7">-&gt;</operator><name pos:start="36:8" pos:end="36:17">tx_timeout</name></name> <operator pos:start="36:19" pos:end="36:19">=</operator> <name pos:start="36:21" pos:end="36:39"><name pos:start="36:21" pos:end="36:21">n</name><operator pos:start="36:22" pos:end="36:23">-&gt;</operator><name pos:start="36:24" pos:end="36:31">net_conf</name><operator pos:start="36:32" pos:end="36:32">.</operator><name pos:start="36:33" pos:end="36:39">txtimer</name></name></expr>;</expr_stmt>



    <if_stmt pos:start="40:5" pos:end="159:57"><if pos:start="40:5" pos:end="159:57">if <condition pos:start="40:8" pos:end="42:55">(<expr pos:start="40:9" pos:end="42:54"><name pos:start="40:9" pos:end="40:22"><name pos:start="40:9" pos:end="40:9">n</name><operator pos:start="40:10" pos:end="40:11">-&gt;</operator><name pos:start="40:12" pos:end="40:19">net_conf</name><operator pos:start="40:20" pos:end="40:20">.</operator><name pos:start="40:21" pos:end="40:22">tx</name></name> <operator pos:start="40:24" pos:end="40:25">&amp;&amp;</operator> <call pos:start="40:27" pos:end="40:57"><name pos:start="40:27" pos:end="40:32">strcmp</name><argument_list pos:start="40:33" pos:end="40:57">(<argument pos:start="40:34" pos:end="40:47"><expr pos:start="40:34" pos:end="40:47"><name pos:start="40:34" pos:end="40:47"><name pos:start="40:34" pos:end="40:34">n</name><operator pos:start="40:35" pos:end="40:36">-&gt;</operator><name pos:start="40:37" pos:end="40:44">net_conf</name><operator pos:start="40:45" pos:end="40:45">.</operator><name pos:start="40:46" pos:end="40:47">tx</name></name></expr></argument>, <argument pos:start="40:50" pos:end="40:56"><expr pos:start="40:50" pos:end="40:56"><literal type="string" pos:start="40:50" pos:end="40:56">"timer"</literal></expr></argument>)</argument_list></call>

                       <operator pos:start="42:24" pos:end="42:25">&amp;&amp;</operator> <call pos:start="42:27" pos:end="42:54"><name pos:start="42:27" pos:end="42:32">strcmp</name><argument_list pos:start="42:33" pos:end="42:54">(<argument pos:start="42:34" pos:end="42:47"><expr pos:start="42:34" pos:end="42:47"><name pos:start="42:34" pos:end="42:47"><name pos:start="42:34" pos:end="42:34">n</name><operator pos:start="42:35" pos:end="42:36">-&gt;</operator><name pos:start="42:37" pos:end="42:44">net_conf</name><operator pos:start="42:45" pos:end="42:45">.</operator><name pos:start="42:46" pos:end="42:47">tx</name></name></expr></argument>, <argument pos:start="42:50" pos:end="42:53"><expr pos:start="42:50" pos:end="42:53"><literal type="string" pos:start="42:50" pos:end="42:53">"bh"</literal></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="42:57" pos:end="159:57">{<block_content pos:start="44:9" pos:end="159:57">

        <expr_stmt pos:start="44:9" pos:end="48:37"><expr pos:start="44:9" pos:end="48:36"><call pos:start="44:9" pos:end="48:36"><name pos:start="44:9" pos:end="44:20">error_report</name><argument_list pos:start="44:21" pos:end="48:36">(<argument pos:start="44:22" pos:end="46:76"><expr pos:start="44:22" pos:end="46:76"><literal type="string" pos:start="44:22" pos:end="44:35">"virtio-net: "</literal>

                     <literal type="string" pos:start="46:22" pos:end="46:76">"Unknown option tx=%s, valid options: \"timer\" \"bh\""</literal></expr></argument>,

                     <argument pos:start="48:22" pos:end="48:35"><expr pos:start="48:22" pos:end="48:35"><name pos:start="48:22" pos:end="48:35"><name pos:start="48:22" pos:end="48:22">n</name><operator pos:start="48:23" pos:end="48:24">-&gt;</operator><name pos:start="48:25" pos:end="48:32">net_conf</name><operator pos:start="48:33" pos:end="48:33">.</operator><name pos:start="48:34" pos:end="48:35">tx</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="50:9" pos:end="50:45"><expr pos:start="50:9" pos:end="50:44"><call pos:start="50:9" pos:end="50:44"><name pos:start="50:9" pos:end="50:20">error_report</name><argument_list pos:start="50:21" pos:end="50:44">(<argument pos:start="50:22" pos:end="50:43"><expr pos:start="50:22" pos:end="50:43"><literal type="string" pos:start="50:22" pos:end="50:43">"Defaulting to \"bh\""</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>




    <if_stmt pos:start="55:5" pos:end="159:57"><if pos:start="55:5" pos:end="65:5">if <condition pos:start="55:8" pos:end="55:59">(<expr pos:start="55:9" pos:end="55:58"><name pos:start="55:9" pos:end="55:22"><name pos:start="55:9" pos:end="55:9">n</name><operator pos:start="55:10" pos:end="55:11">-&gt;</operator><name pos:start="55:12" pos:end="55:19">net_conf</name><operator pos:start="55:20" pos:end="55:20">.</operator><name pos:start="55:21" pos:end="55:22">tx</name></name> <operator pos:start="55:24" pos:end="55:25">&amp;&amp;</operator> <operator pos:start="55:27" pos:end="55:27">!</operator><call pos:start="55:28" pos:end="55:58"><name pos:start="55:28" pos:end="55:33">strcmp</name><argument_list pos:start="55:34" pos:end="55:58">(<argument pos:start="55:35" pos:end="55:48"><expr pos:start="55:35" pos:end="55:48"><name pos:start="55:35" pos:end="55:48"><name pos:start="55:35" pos:end="55:35">n</name><operator pos:start="55:36" pos:end="55:37">-&gt;</operator><name pos:start="55:38" pos:end="55:45">net_conf</name><operator pos:start="55:46" pos:end="55:46">.</operator><name pos:start="55:47" pos:end="55:48">tx</name></name></expr></argument>, <argument pos:start="55:51" pos:end="55:57"><expr pos:start="55:51" pos:end="55:57"><literal type="string" pos:start="55:51" pos:end="55:57">"timer"</literal></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="55:61" pos:end="65:5">{<block_content pos:start="57:9" pos:end="63:59">

        <expr_stmt pos:start="57:9" pos:end="59:71"><expr pos:start="57:9" pos:end="59:70"><name pos:start="57:9" pos:end="57:17"><name pos:start="57:9" pos:end="57:9">n</name><operator pos:start="57:10" pos:end="57:11">-&gt;</operator><name pos:start="57:12" pos:end="57:14">vqs</name><index pos:start="57:15" pos:end="57:17">[<expr pos:start="57:16" pos:end="57:16"><literal type="number" pos:start="57:16" pos:end="57:16">0</literal></expr>]</index></name><operator pos:start="57:18" pos:end="57:18">.</operator><name pos:start="57:19" pos:end="57:23">tx_vq</name> <operator pos:start="57:25" pos:end="57:25">=</operator> <call pos:start="57:27" pos:end="59:70"><name pos:start="57:27" pos:end="57:42">virtio_add_queue</name><argument_list pos:start="57:43" pos:end="59:70">(<argument pos:start="57:44" pos:end="57:47"><expr pos:start="57:44" pos:end="57:47"><name pos:start="57:44" pos:end="57:47">vdev</name></expr></argument>, <argument pos:start="57:50" pos:end="57:52"><expr pos:start="57:50" pos:end="57:52"><literal type="number" pos:start="57:50" pos:end="57:52">256</literal></expr></argument>,

                                           <argument pos:start="59:44" pos:end="59:69"><expr pos:start="59:44" pos:end="59:69"><name pos:start="59:44" pos:end="59:69">virtio_net_handle_tx_timer</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="61:9" pos:end="63:59"><expr pos:start="61:9" pos:end="63:58"><name pos:start="61:9" pos:end="61:17"><name pos:start="61:9" pos:end="61:9">n</name><operator pos:start="61:10" pos:end="61:11">-&gt;</operator><name pos:start="61:12" pos:end="61:14">vqs</name><index pos:start="61:15" pos:end="61:17">[<expr pos:start="61:16" pos:end="61:16"><literal type="number" pos:start="61:16" pos:end="61:16">0</literal></expr>]</index></name><operator pos:start="61:18" pos:end="61:18">.</operator><name pos:start="61:19" pos:end="61:26">tx_timer</name> <operator pos:start="61:28" pos:end="61:28">=</operator> <call pos:start="61:30" pos:end="63:58"><name pos:start="61:30" pos:end="61:41">timer_new_ns</name><argument_list pos:start="61:42" pos:end="63:58">(<argument pos:start="61:43" pos:end="61:60"><expr pos:start="61:43" pos:end="61:60"><name pos:start="61:43" pos:end="61:60">QEMU_CLOCK_VIRTUAL</name></expr></argument>, <argument pos:start="61:63" pos:end="61:81"><expr pos:start="61:63" pos:end="61:81"><name pos:start="61:63" pos:end="61:81">virtio_net_tx_timer</name></expr></argument>,

                                               <argument pos:start="63:48" pos:end="63:57"><expr pos:start="63:48" pos:end="63:57"><operator pos:start="63:48" pos:end="63:48">&amp;</operator><name pos:start="63:49" pos:end="63:57"><name pos:start="63:49" pos:end="63:49">n</name><operator pos:start="63:50" pos:end="63:51">-&gt;</operator><name pos:start="63:52" pos:end="63:54">vqs</name><index pos:start="63:55" pos:end="63:57">[<expr pos:start="63:56" pos:end="63:56"><literal type="number" pos:start="63:56" pos:end="63:56">0</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="65:7" pos:end="159:57">else <block pos:start="65:12" pos:end="159:57">{<block_content pos:start="67:9" pos:end="159:57">

        <expr_stmt pos:start="67:9" pos:end="69:68"><expr pos:start="67:9" pos:end="69:67"><name pos:start="67:9" pos:end="67:17"><name pos:start="67:9" pos:end="67:9">n</name><operator pos:start="67:10" pos:end="67:11">-&gt;</operator><name pos:start="67:12" pos:end="67:14">vqs</name><index pos:start="67:15" pos:end="67:17">[<expr pos:start="67:16" pos:end="67:16"><literal type="number" pos:start="67:16" pos:end="67:16">0</literal></expr>]</index></name><operator pos:start="67:18" pos:end="67:18">.</operator><name pos:start="67:19" pos:end="67:23">tx_vq</name> <operator pos:start="67:25" pos:end="67:25">=</operator> <call pos:start="67:27" pos:end="69:67"><name pos:start="67:27" pos:end="67:42">virtio_add_queue</name><argument_list pos:start="67:43" pos:end="69:67">(<argument pos:start="67:44" pos:end="67:47"><expr pos:start="67:44" pos:end="67:47"><name pos:start="67:44" pos:end="67:47">vdev</name></expr></argument>, <argument pos:start="67:50" pos:end="67:52"><expr pos:start="67:50" pos:end="67:52"><literal type="number" pos:start="67:50" pos:end="67:52">256</literal></expr></argument>,

                                           <argument pos:start="69:44" pos:end="69:66"><expr pos:start="69:44" pos:end="69:66"><name pos:start="69:44" pos:end="69:66">virtio_net_handle_tx_bh</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="71:9" pos:end="71:68"><expr pos:start="71:9" pos:end="71:67"><name pos:start="71:9" pos:end="71:17"><name pos:start="71:9" pos:end="71:9">n</name><operator pos:start="71:10" pos:end="71:11">-&gt;</operator><name pos:start="71:12" pos:end="71:14">vqs</name><index pos:start="71:15" pos:end="71:17">[<expr pos:start="71:16" pos:end="71:16"><literal type="number" pos:start="71:16" pos:end="71:16">0</literal></expr>]</index></name><operator pos:start="71:18" pos:end="71:18">.</operator><name pos:start="71:19" pos:end="71:23">tx_bh</name> <operator pos:start="71:25" pos:end="71:25">=</operator> <call pos:start="71:27" pos:end="71:67"><name pos:start="71:27" pos:end="71:37">qemu_bh_new</name><argument_list pos:start="71:38" pos:end="71:67">(<argument pos:start="71:39" pos:end="71:54"><expr pos:start="71:39" pos:end="71:54"><name pos:start="71:39" pos:end="71:54">virtio_net_tx_bh</name></expr></argument>, <argument pos:start="71:57" pos:end="71:66"><expr pos:start="71:57" pos:end="71:66"><operator pos:start="71:57" pos:end="71:57">&amp;</operator><name pos:start="71:58" pos:end="71:66"><name pos:start="71:58" pos:end="71:58">n</name><operator pos:start="71:59" pos:end="71:60">-&gt;</operator><name pos:start="71:61" pos:end="71:63">vqs</name><index pos:start="71:64" pos:end="71:66">[<expr pos:start="71:65" pos:end="71:65"><literal type="number" pos:start="71:65" pos:end="71:65">0</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>


    <expr_stmt pos:start="74:5" pos:end="74:68"><expr pos:start="74:5" pos:end="74:67"><name pos:start="74:5" pos:end="74:14"><name pos:start="74:5" pos:end="74:5">n</name><operator pos:start="74:6" pos:end="74:7">-&gt;</operator><name pos:start="74:8" pos:end="74:14">ctrl_vq</name></name> <operator pos:start="74:16" pos:end="74:16">=</operator> <call pos:start="74:18" pos:end="74:67"><name pos:start="74:18" pos:end="74:33">virtio_add_queue</name><argument_list pos:start="74:34" pos:end="74:67">(<argument pos:start="74:35" pos:end="74:38"><expr pos:start="74:35" pos:end="74:38"><name pos:start="74:35" pos:end="74:38">vdev</name></expr></argument>, <argument pos:start="74:41" pos:end="74:42"><expr pos:start="74:41" pos:end="74:42"><literal type="number" pos:start="74:41" pos:end="74:42">64</literal></expr></argument>, <argument pos:start="74:45" pos:end="74:66"><expr pos:start="74:45" pos:end="74:66"><name pos:start="74:45" pos:end="74:66">virtio_net_handle_ctrl</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="76:5" pos:end="76:56"><expr pos:start="76:5" pos:end="76:55"><call pos:start="76:5" pos:end="76:55"><name pos:start="76:5" pos:end="76:33">qemu_macaddr_default_if_unset</name><argument_list pos:start="76:34" pos:end="76:55">(<argument pos:start="76:35" pos:end="76:54"><expr pos:start="76:35" pos:end="76:54"><operator pos:start="76:35" pos:end="76:35">&amp;</operator><name pos:start="76:36" pos:end="76:54"><name pos:start="76:36" pos:end="76:36">n</name><operator pos:start="76:37" pos:end="76:38">-&gt;</operator><name pos:start="76:39" pos:end="76:46">nic_conf</name><operator pos:start="76:47" pos:end="76:47">.</operator><name pos:start="76:48" pos:end="76:54">macaddr</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="78:5" pos:end="78:61"><expr pos:start="78:5" pos:end="78:60"><call pos:start="78:5" pos:end="78:60"><name pos:start="78:5" pos:end="78:10">memcpy</name><argument_list pos:start="78:11" pos:end="78:60">(<argument pos:start="78:12" pos:end="78:21"><expr pos:start="78:12" pos:end="78:21"><operator pos:start="78:12" pos:end="78:12">&amp;</operator><name pos:start="78:13" pos:end="78:21"><name pos:start="78:13" pos:end="78:13">n</name><operator pos:start="78:14" pos:end="78:15">-&gt;</operator><name pos:start="78:16" pos:end="78:18">mac</name><index pos:start="78:19" pos:end="78:21">[<expr pos:start="78:20" pos:end="78:20"><literal type="number" pos:start="78:20" pos:end="78:20">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="78:24" pos:end="78:43"><expr pos:start="78:24" pos:end="78:43"><operator pos:start="78:24" pos:end="78:24">&amp;</operator><name pos:start="78:25" pos:end="78:43"><name pos:start="78:25" pos:end="78:25">n</name><operator pos:start="78:26" pos:end="78:27">-&gt;</operator><name pos:start="78:28" pos:end="78:35">nic_conf</name><operator pos:start="78:36" pos:end="78:36">.</operator><name pos:start="78:37" pos:end="78:43">macaddr</name></name></expr></argument>, <argument pos:start="78:46" pos:end="78:59"><expr pos:start="78:46" pos:end="78:59"><sizeof pos:start="78:46" pos:end="78:59">sizeof<argument_list pos:start="78:52" pos:end="78:59">(<argument pos:start="78:53" pos:end="78:58"><expr pos:start="78:53" pos:end="78:58"><name pos:start="78:53" pos:end="78:58"><name pos:start="78:53" pos:end="78:53">n</name><operator pos:start="78:54" pos:end="78:55">-&gt;</operator><name pos:start="78:56" pos:end="78:58">mac</name></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="80:5" pos:end="80:37"><expr pos:start="80:5" pos:end="80:36"><name pos:start="80:5" pos:end="80:13"><name pos:start="80:5" pos:end="80:5">n</name><operator pos:start="80:6" pos:end="80:7">-&gt;</operator><name pos:start="80:8" pos:end="80:13">status</name></name> <operator pos:start="80:15" pos:end="80:15">=</operator> <name pos:start="80:17" pos:end="80:36">VIRTIO_NET_S_LINK_UP</name></expr>;</expr_stmt>

    <expr_stmt pos:start="82:5" pos:end="84:67"><expr pos:start="82:5" pos:end="84:66"><name pos:start="82:5" pos:end="82:21"><name pos:start="82:5" pos:end="82:5">n</name><operator pos:start="82:6" pos:end="82:7">-&gt;</operator><name pos:start="82:8" pos:end="82:21">announce_timer</name></name> <operator pos:start="82:23" pos:end="82:23">=</operator> <call pos:start="82:25" pos:end="84:66"><name pos:start="82:25" pos:end="82:36">timer_new_ms</name><argument_list pos:start="82:37" pos:end="84:66">(<argument pos:start="82:38" pos:end="82:55"><expr pos:start="82:38" pos:end="82:55"><name pos:start="82:38" pos:end="82:55">QEMU_CLOCK_VIRTUAL</name></expr></argument>,

                                     <argument pos:start="84:38" pos:end="84:62"><expr pos:start="84:38" pos:end="84:62"><name pos:start="84:38" pos:end="84:62">virtio_net_announce_timer</name></expr></argument>, <argument pos:start="84:65" pos:end="84:65"><expr pos:start="84:65" pos:end="84:65"><name pos:start="84:65" pos:end="84:65">n</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <if_stmt pos:start="88:5" pos:end="159:57"><if pos:start="88:5" pos:end="100:5">if <condition pos:start="88:8" pos:end="88:26">(<expr pos:start="88:9" pos:end="88:25"><name pos:start="88:9" pos:end="88:25"><name pos:start="88:9" pos:end="88:9">n</name><operator pos:start="88:10" pos:end="88:11">-&gt;</operator><name pos:start="88:12" pos:end="88:25">netclient_type</name></name></expr>)</condition> <block pos:start="88:28" pos:end="100:5">{<block_content pos:start="96:9" pos:end="98:71">

        <comment type="block" pos:start="90:9" pos:end="94:11">/*

         * Happen when virtio_net_set_netclient_name has been called.

         */</comment>

        <expr_stmt pos:start="96:9" pos:end="98:71"><expr pos:start="96:9" pos:end="98:70"><name pos:start="96:9" pos:end="96:14"><name pos:start="96:9" pos:end="96:9">n</name><operator pos:start="96:10" pos:end="96:11">-&gt;</operator><name pos:start="96:12" pos:end="96:14">nic</name></name> <operator pos:start="96:16" pos:end="96:16">=</operator> <call pos:start="96:18" pos:end="98:70"><name pos:start="96:18" pos:end="96:29">qemu_new_nic</name><argument_list pos:start="96:30" pos:end="98:70">(<argument pos:start="96:31" pos:end="96:46"><expr pos:start="96:31" pos:end="96:46"><operator pos:start="96:31" pos:end="96:31">&amp;</operator><name pos:start="96:32" pos:end="96:46">net_virtio_info</name></expr></argument>, <argument pos:start="96:49" pos:end="96:60"><expr pos:start="96:49" pos:end="96:60"><operator pos:start="96:49" pos:end="96:49">&amp;</operator><name pos:start="96:50" pos:end="96:60"><name pos:start="96:50" pos:end="96:50">n</name><operator pos:start="96:51" pos:end="96:52">-&gt;</operator><name pos:start="96:53" pos:end="96:60">nic_conf</name></name></expr></argument>,

                              <argument pos:start="98:31" pos:end="98:47"><expr pos:start="98:31" pos:end="98:47"><name pos:start="98:31" pos:end="98:47"><name pos:start="98:31" pos:end="98:31">n</name><operator pos:start="98:32" pos:end="98:33">-&gt;</operator><name pos:start="98:34" pos:end="98:47">netclient_type</name></name></expr></argument>, <argument pos:start="98:50" pos:end="98:66"><expr pos:start="98:50" pos:end="98:66"><name pos:start="98:50" pos:end="98:66"><name pos:start="98:50" pos:end="98:50">n</name><operator pos:start="98:51" pos:end="98:52">-&gt;</operator><name pos:start="98:53" pos:end="98:66">netclient_name</name></name></expr></argument>, <argument pos:start="98:69" pos:end="98:69"><expr pos:start="98:69" pos:end="98:69"><name pos:start="98:69" pos:end="98:69">n</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="100:7" pos:end="159:57">else <block pos:start="100:12" pos:end="159:57">{<block_content pos:start="102:9" pos:end="159:57">

        <expr_stmt pos:start="102:9" pos:end="104:76"><expr pos:start="102:9" pos:end="104:75"><name pos:start="102:9" pos:end="102:14"><name pos:start="102:9" pos:end="102:9">n</name><operator pos:start="102:10" pos:end="102:11">-&gt;</operator><name pos:start="102:12" pos:end="102:14">nic</name></name> <operator pos:start="102:16" pos:end="102:16">=</operator> <call pos:start="102:18" pos:end="104:75"><name pos:start="102:18" pos:end="102:29">qemu_new_nic</name><argument_list pos:start="102:30" pos:end="104:75">(<argument pos:start="102:31" pos:end="102:46"><expr pos:start="102:31" pos:end="102:46"><operator pos:start="102:31" pos:end="102:31">&amp;</operator><name pos:start="102:32" pos:end="102:46">net_virtio_info</name></expr></argument>, <argument pos:start="102:49" pos:end="102:60"><expr pos:start="102:49" pos:end="102:60"><operator pos:start="102:49" pos:end="102:49">&amp;</operator><name pos:start="102:50" pos:end="102:60"><name pos:start="102:50" pos:end="102:50">n</name><operator pos:start="102:51" pos:end="102:52">-&gt;</operator><name pos:start="102:53" pos:end="102:60">nic_conf</name></name></expr></argument>,

                              <argument pos:start="104:31" pos:end="104:62"><expr pos:start="104:31" pos:end="104:62"><call pos:start="104:31" pos:end="104:62"><name pos:start="104:31" pos:end="104:49">object_get_typename</name><argument_list pos:start="104:50" pos:end="104:62">(<argument pos:start="104:51" pos:end="104:61"><expr pos:start="104:51" pos:end="104:61"><call pos:start="104:51" pos:end="104:61"><name pos:start="104:51" pos:end="104:56">OBJECT</name><argument_list pos:start="104:57" pos:end="104:61">(<argument pos:start="104:58" pos:end="104:60"><expr pos:start="104:58" pos:end="104:60"><name pos:start="104:58" pos:end="104:60">dev</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr></argument>, <argument pos:start="104:65" pos:end="104:71"><expr pos:start="104:65" pos:end="104:71"><name pos:start="104:65" pos:end="104:71"><name pos:start="104:65" pos:end="104:67">dev</name><operator pos:start="104:68" pos:end="104:69">-&gt;</operator><name pos:start="104:70" pos:end="104:71">id</name></name></expr></argument>, <argument pos:start="104:74" pos:end="104:74"><expr pos:start="104:74" pos:end="104:74"><name pos:start="104:74" pos:end="104:74">n</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>




    <expr_stmt pos:start="109:5" pos:end="109:26"><expr pos:start="109:5" pos:end="109:25"><call pos:start="109:5" pos:end="109:25"><name pos:start="109:5" pos:end="109:22">peer_test_vnet_hdr</name><argument_list pos:start="109:23" pos:end="109:25">(<argument pos:start="109:24" pos:end="109:24"><expr pos:start="109:24" pos:end="109:24"><name pos:start="109:24" pos:end="109:24">n</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="111:5" pos:end="159:57"><if pos:start="111:5" pos:end="159:57">if <condition pos:start="111:8" pos:end="111:29">(<expr pos:start="111:9" pos:end="111:28"><call pos:start="111:9" pos:end="111:28"><name pos:start="111:9" pos:end="111:25">peer_has_vnet_hdr</name><argument_list pos:start="111:26" pos:end="111:28">(<argument pos:start="111:27" pos:end="111:27"><expr pos:start="111:27" pos:end="111:27"><name pos:start="111:27" pos:end="111:27">n</name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="111:31" pos:end="159:57">{<block_content pos:start="113:9" pos:end="159:57">

        <for pos:start="113:9" pos:end="120:5">for <control pos:start="113:13" pos:end="113:43">(<init pos:start="113:14" pos:end="113:19"><expr pos:start="113:14" pos:end="113:18"><name pos:start="113:14" pos:end="113:14">i</name> <operator pos:start="113:16" pos:end="113:16">=</operator> <literal type="number" pos:start="113:18" pos:end="113:18">0</literal></expr>;</init> <condition pos:start="113:21" pos:end="113:38"><expr pos:start="113:21" pos:end="113:37"><name pos:start="113:21" pos:end="113:21">i</name> <operator pos:start="113:23" pos:end="113:23">&lt;</operator> <name pos:start="113:25" pos:end="113:37"><name pos:start="113:25" pos:end="113:25">n</name><operator pos:start="113:26" pos:end="113:27">-&gt;</operator><name pos:start="113:28" pos:end="113:37">max_queues</name></name></expr>;</condition> <incr pos:start="113:40" pos:end="113:42"><expr pos:start="113:40" pos:end="113:42"><name pos:start="113:40" pos:end="113:40">i</name><operator pos:start="113:41" pos:end="113:42">++</operator></expr></incr>)</control> <block pos:start="113:45" pos:end="120:5">{<block_content pos:start="115:13" pos:end="118:56">

            <expr_stmt pos:start="115:13" pos:end="115:74"><expr pos:start="115:13" pos:end="115:73"><call pos:start="115:13" pos:end="115:73"><name pos:start="115:13" pos:end="115:31">qemu_using_vnet_hdr</name><argument_list pos:start="115:32" pos:end="115:73">(<argument pos:start="115:33" pos:end="115:66"><expr pos:start="115:33" pos:end="115:66"><call pos:start="115:33" pos:end="115:60"><name pos:start="115:33" pos:end="115:49">qemu_get_subqueue</name><argument_list pos:start="115:50" pos:end="115:60">(<argument pos:start="115:51" pos:end="115:56"><expr pos:start="115:51" pos:end="115:56"><name pos:start="115:51" pos:end="115:56"><name pos:start="115:51" pos:end="115:51">n</name><operator pos:start="115:52" pos:end="115:53">-&gt;</operator><name pos:start="115:54" pos:end="115:56">nic</name></name></expr></argument>, <argument pos:start="115:59" pos:end="115:59"><expr pos:start="115:59" pos:end="115:59"><name pos:start="115:59" pos:end="115:59">i</name></expr></argument>)</argument_list></call><operator pos:start="115:61" pos:end="115:62">-&gt;</operator><name pos:start="115:63" pos:end="115:66">peer</name></expr></argument>, <argument pos:start="115:69" pos:end="115:72"><expr pos:start="115:69" pos:end="115:72"><name pos:start="115:69" pos:end="115:72">true</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>


        <expr_stmt pos:start="118:9" pos:end="118:56"><expr pos:start="118:9" pos:end="118:55"><name pos:start="118:9" pos:end="118:23"><name pos:start="118:9" pos:end="118:9">n</name><operator pos:start="118:10" pos:end="118:11">-&gt;</operator><name pos:start="118:12" pos:end="118:23">host_hdr_len</name></name> <operator pos:start="118:25" pos:end="118:25">=</operator> <sizeof pos:start="118:27" pos:end="118:55">sizeof<argument_list pos:start="118:33" pos:end="118:55">(<argument pos:start="118:34" pos:end="118:54"><expr pos:start="118:34" pos:end="118:54">struct <name pos:start="118:41" pos:end="118:54">virtio_net_hdr</name></expr></argument>)</argument_list></sizeof></expr>;</expr_stmt>

    </block_content>}</block></for> <if_stmt pos:start="120:7" pos:end="159:57"><else pos:start="120:7" pos:end="159:57">else <block pos:start="120:12" pos:end="159:57">{<block_content pos:start="122:9" pos:end="159:57">

        <expr_stmt pos:start="122:9" pos:end="122:28"><expr pos:start="122:9" pos:end="122:27"><name pos:start="122:9" pos:end="122:23"><name pos:start="122:9" pos:end="122:9">n</name><operator pos:start="122:10" pos:end="122:11">-&gt;</operator><name pos:start="122:12" pos:end="122:23">host_hdr_len</name></name> <operator pos:start="122:25" pos:end="122:25">=</operator> <literal type="number" pos:start="122:27" pos:end="122:27">0</literal></expr>;</expr_stmt>




    <expr_stmt pos:start="127:5" pos:end="127:76"><expr pos:start="127:5" pos:end="127:75"><call pos:start="127:5" pos:end="127:75"><name pos:start="127:5" pos:end="127:28">qemu_format_nic_info_str</name><argument_list pos:start="127:29" pos:end="127:75">(<argument pos:start="127:30" pos:end="127:51"><expr pos:start="127:30" pos:end="127:51"><call pos:start="127:30" pos:end="127:51"><name pos:start="127:30" pos:end="127:43">qemu_get_queue</name><argument_list pos:start="127:44" pos:end="127:51">(<argument pos:start="127:45" pos:end="127:50"><expr pos:start="127:45" pos:end="127:50"><name pos:start="127:45" pos:end="127:50"><name pos:start="127:45" pos:end="127:45">n</name><operator pos:start="127:46" pos:end="127:47">-&gt;</operator><name pos:start="127:48" pos:end="127:50">nic</name></name></expr></argument>)</argument_list></call></expr></argument>, <argument pos:start="127:54" pos:end="127:74"><expr pos:start="127:54" pos:end="127:74"><name pos:start="127:54" pos:end="127:74"><name pos:start="127:54" pos:end="127:54">n</name><operator pos:start="127:55" pos:end="127:56">-&gt;</operator><name pos:start="127:57" pos:end="127:64">nic_conf</name><operator pos:start="127:65" pos:end="127:65">.</operator><name pos:start="127:66" pos:end="127:72">macaddr</name><operator pos:start="127:73" pos:end="127:73">.</operator><name pos:start="127:74" pos:end="127:74">a</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="131:5" pos:end="131:29"><expr pos:start="131:5" pos:end="131:28"><name pos:start="131:5" pos:end="131:13"><name pos:start="131:5" pos:end="131:5">n</name><operator pos:start="131:6" pos:end="131:7">-&gt;</operator><name pos:start="131:8" pos:end="131:10">vqs</name><index pos:start="131:11" pos:end="131:13">[<expr pos:start="131:12" pos:end="131:12"><literal type="number" pos:start="131:12" pos:end="131:12">0</literal></expr>]</index></name><operator pos:start="131:14" pos:end="131:14">.</operator><name pos:start="131:15" pos:end="131:24">tx_waiting</name> <operator pos:start="131:26" pos:end="131:26">=</operator> <literal type="number" pos:start="131:28" pos:end="131:28">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="133:5" pos:end="133:38"><expr pos:start="133:5" pos:end="133:37"><name pos:start="133:5" pos:end="133:15"><name pos:start="133:5" pos:end="133:5">n</name><operator pos:start="133:6" pos:end="133:7">-&gt;</operator><name pos:start="133:8" pos:end="133:15">tx_burst</name></name> <operator pos:start="133:17" pos:end="133:17">=</operator> <name pos:start="133:19" pos:end="133:37"><name pos:start="133:19" pos:end="133:19">n</name><operator pos:start="133:20" pos:end="133:21">-&gt;</operator><name pos:start="133:22" pos:end="133:29">net_conf</name><operator pos:start="133:30" pos:end="133:30">.</operator><name pos:start="133:31" pos:end="133:37">txburst</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="135:5" pos:end="135:37"><expr pos:start="135:5" pos:end="135:36"><call pos:start="135:5" pos:end="135:36"><name pos:start="135:5" pos:end="135:30">virtio_net_set_mrg_rx_bufs</name><argument_list pos:start="135:31" pos:end="135:36">(<argument pos:start="135:32" pos:end="135:32"><expr pos:start="135:32" pos:end="135:32"><name pos:start="135:32" pos:end="135:32">n</name></expr></argument>, <argument pos:start="135:35" pos:end="135:35"><expr pos:start="135:35" pos:end="135:35"><literal type="number" pos:start="135:35" pos:end="135:35">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="137:5" pos:end="137:19"><expr pos:start="137:5" pos:end="137:18"><name pos:start="137:5" pos:end="137:14"><name pos:start="137:5" pos:end="137:5">n</name><operator pos:start="137:6" pos:end="137:7">-&gt;</operator><name pos:start="137:8" pos:end="137:14">promisc</name></name> <operator pos:start="137:16" pos:end="137:16">=</operator> <literal type="number" pos:start="137:18" pos:end="137:18">1</literal></expr>;</expr_stmt> <comment type="block" pos:start="137:21" pos:end="137:43">/* for compatibility */</comment>



    <expr_stmt pos:start="141:5" pos:end="141:64"><expr pos:start="141:5" pos:end="141:63"><name pos:start="141:5" pos:end="141:21"><name pos:start="141:5" pos:end="141:5">n</name><operator pos:start="141:6" pos:end="141:7">-&gt;</operator><name pos:start="141:8" pos:end="141:16">mac_table</name><operator pos:start="141:17" pos:end="141:17">.</operator><name pos:start="141:18" pos:end="141:21">macs</name></name> <operator pos:start="141:23" pos:end="141:23">=</operator> <call pos:start="141:25" pos:end="141:63"><name pos:start="141:25" pos:end="141:33">g_malloc0</name><argument_list pos:start="141:34" pos:end="141:63">(<argument pos:start="141:35" pos:end="141:62"><expr pos:start="141:35" pos:end="141:62"><name pos:start="141:35" pos:end="141:51">MAC_TABLE_ENTRIES</name> <operator pos:start="141:53" pos:end="141:53">*</operator> <name pos:start="141:55" pos:end="141:62">ETH_ALEN</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="145:5" pos:end="145:40"><expr pos:start="145:5" pos:end="145:39"><name pos:start="145:5" pos:end="145:12"><name pos:start="145:5" pos:end="145:5">n</name><operator pos:start="145:6" pos:end="145:7">-&gt;</operator><name pos:start="145:8" pos:end="145:12">vlans</name></name> <operator pos:start="145:14" pos:end="145:14">=</operator> <call pos:start="145:16" pos:end="145:39"><name pos:start="145:16" pos:end="145:24">g_malloc0</name><argument_list pos:start="145:25" pos:end="145:39">(<argument pos:start="145:26" pos:end="145:38"><expr pos:start="145:26" pos:end="145:38"><name pos:start="145:26" pos:end="145:33">MAX_VLAN</name> <operator pos:start="145:35" pos:end="145:36">&gt;&gt;</operator> <literal type="number" pos:start="145:38" pos:end="145:38">3</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="149:5" pos:end="149:32"><expr pos:start="149:5" pos:end="149:31"><name pos:start="149:5" pos:end="149:6">nc</name> <operator pos:start="149:8" pos:end="149:8">=</operator> <call pos:start="149:10" pos:end="149:31"><name pos:start="149:10" pos:end="149:23">qemu_get_queue</name><argument_list pos:start="149:24" pos:end="149:31">(<argument pos:start="149:25" pos:end="149:30"><expr pos:start="149:25" pos:end="149:30"><name pos:start="149:25" pos:end="149:30"><name pos:start="149:25" pos:end="149:25">n</name><operator pos:start="149:26" pos:end="149:27">-&gt;</operator><name pos:start="149:28" pos:end="149:30">nic</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="151:5" pos:end="151:36"><expr pos:start="151:5" pos:end="151:35"><name pos:start="151:5" pos:end="151:31"><name pos:start="151:5" pos:end="151:6">nc</name><operator pos:start="151:7" pos:end="151:8">-&gt;</operator><name pos:start="151:9" pos:end="151:31">rxfilter_notify_enabled</name></name> <operator pos:start="151:33" pos:end="151:33">=</operator> <literal type="number" pos:start="151:35" pos:end="151:35">1</literal></expr>;</expr_stmt>



    <expr_stmt pos:start="155:5" pos:end="155:18"><expr pos:start="155:5" pos:end="155:17"><name pos:start="155:5" pos:end="155:11"><name pos:start="155:5" pos:end="155:5">n</name><operator pos:start="155:6" pos:end="155:7">-&gt;</operator><name pos:start="155:8" pos:end="155:11">qdev</name></name> <operator pos:start="155:13" pos:end="155:13">=</operator> <name pos:start="155:15" pos:end="155:17">dev</name></expr>;</expr_stmt>

    <expr_stmt pos:start="157:5" pos:end="159:57"><expr pos:start="157:5" pos:end="159:56"><call pos:start="157:5" pos:end="159:56"><name pos:start="157:5" pos:end="157:19">register_savevm</name><argument_list pos:start="157:20" pos:end="159:56">(<argument pos:start="157:21" pos:end="157:23"><expr pos:start="157:21" pos:end="157:23"><name pos:start="157:21" pos:end="157:23">dev</name></expr></argument>, <argument pos:start="157:26" pos:end="157:37"><expr pos:start="157:26" pos:end="157:37"><literal type="string" pos:start="157:26" pos:end="157:37">"virtio-net"</literal></expr></argument>, <argument pos:start="157:40" pos:end="157:41"><expr pos:start="157:40" pos:end="157:41"><operator pos:start="157:40" pos:end="157:40">-</operator><literal type="number" pos:start="157:41" pos:end="157:41">1</literal></expr></argument>, <argument pos:start="157:44" pos:end="157:64"><expr pos:start="157:44" pos:end="157:64"><name pos:start="157:44" pos:end="157:64">VIRTIO_NET_VM_VERSION</name></expr></argument>,

                    <argument pos:start="159:21" pos:end="159:35"><expr pos:start="159:21" pos:end="159:35"><name pos:start="159:21" pos:end="159:35">virtio_net_save</name></expr></argument>, <argument pos:start="159:38" pos:end="159:52"><expr pos:start="159:38" pos:end="159:52"><name pos:start="159:38" pos:end="159:52">virtio_net_load</name></expr></argument>, <argument pos:start="159:55" pos:end="159:55"><expr pos:start="159:55" pos:end="159:55"><name pos:start="159:55" pos:end="159:55">n</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></else></if_stmt></block_content></block></if></if_stmt></block_content></block></else></if_stmt></block_content></block></else></if_stmt></block_content></block></if></if_stmt></block_content></block></function>
</unit>
