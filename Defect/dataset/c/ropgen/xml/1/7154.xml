<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:cpp="http://www.srcML.org/srcML/cpp" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/7154.c" pos:tabs="8"><function pos:start="1:1" pos:end="181:1"><type pos:start="1:1" pos:end="1:18"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:14">av_cold</name> <name pos:start="1:16" pos:end="1:18">int</name></type> <name pos:start="1:20" pos:end="1:38">cinepak_encode_init</name><parameter_list pos:start="1:39" pos:end="1:61">(<parameter pos:start="1:40" pos:end="1:60"><decl pos:start="1:40" pos:end="1:60"><type pos:start="1:40" pos:end="1:55"><name pos:start="1:40" pos:end="1:53">AVCodecContext</name> <modifier pos:start="1:55" pos:end="1:55">*</modifier></type><name pos:start="1:56" pos:end="1:60">avctx</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="181:1">{<block_content pos:start="5:5" pos:end="179:27">

    <decl_stmt pos:start="5:5" pos:end="5:44"><decl pos:start="5:5" pos:end="5:43"><type pos:start="5:5" pos:end="5:23"><name pos:start="5:5" pos:end="5:21">CinepakEncContext</name> <modifier pos:start="5:23" pos:end="5:23">*</modifier></type><name pos:start="5:24" pos:end="5:24">s</name> <init pos:start="5:26" pos:end="5:43">= <expr pos:start="5:28" pos:end="5:43"><name pos:start="5:28" pos:end="5:43"><name pos:start="5:28" pos:end="5:32">avctx</name><operator pos:start="5:33" pos:end="5:34">-&gt;</operator><name pos:start="5:35" pos:end="5:43">priv_data</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:52"><decl pos:start="7:5" pos:end="7:9"><type pos:start="7:5" pos:end="7:7"><name pos:start="7:5" pos:end="7:7">int</name></type> <name pos:start="7:9" pos:end="7:9">x</name></decl>, <decl pos:start="7:12" pos:end="7:19"><type ref="prev" pos:start="7:5" pos:end="7:7"/><name pos:start="7:12" pos:end="7:19">mb_count</name></decl>, <decl pos:start="7:22" pos:end="7:35"><type ref="prev" pos:start="7:5" pos:end="7:7"/><name pos:start="7:22" pos:end="7:35">strip_buf_size</name></decl>, <decl pos:start="7:38" pos:end="7:51"><type ref="prev" pos:start="7:5" pos:end="7:7"/><name pos:start="7:38" pos:end="7:51">frame_buf_size</name></decl>;</decl_stmt>



    <if_stmt pos:start="11:5" pos:end="19:5"><if pos:start="11:5" pos:end="19:5">if <condition pos:start="11:8" pos:end="11:46">(<expr pos:start="11:9" pos:end="11:45"><name pos:start="11:9" pos:end="11:20"><name pos:start="11:9" pos:end="11:13">avctx</name><operator pos:start="11:14" pos:end="11:15">-&gt;</operator><name pos:start="11:16" pos:end="11:20">width</name></name> <operator pos:start="11:22" pos:end="11:22">&amp;</operator> <literal type="number" pos:start="11:24" pos:end="11:24">3</literal> <operator pos:start="11:26" pos:end="11:27">||</operator> <name pos:start="11:29" pos:end="11:41"><name pos:start="11:29" pos:end="11:33">avctx</name><operator pos:start="11:34" pos:end="11:35">-&gt;</operator><name pos:start="11:36" pos:end="11:41">height</name></name> <operator pos:start="11:43" pos:end="11:43">&amp;</operator> <literal type="number" pos:start="11:45" pos:end="11:45">3</literal></expr>)</condition> <block pos:start="11:48" pos:end="19:5">{<block_content pos:start="13:9" pos:end="17:31">

        <expr_stmt pos:start="13:9" pos:end="15:45"><expr pos:start="13:9" pos:end="15:44"><call pos:start="13:9" pos:end="15:44"><name pos:start="13:9" pos:end="13:14">av_log</name><argument_list pos:start="13:15" pos:end="15:44">(<argument pos:start="13:16" pos:end="13:20"><expr pos:start="13:16" pos:end="13:20"><name pos:start="13:16" pos:end="13:20">avctx</name></expr></argument>, <argument pos:start="13:23" pos:end="13:34"><expr pos:start="13:23" pos:end="13:34"><name pos:start="13:23" pos:end="13:34">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="13:37" pos:end="13:94"><expr pos:start="13:37" pos:end="13:94"><literal type="string" pos:start="13:37" pos:end="13:94">"width and height must be multiples of four (got %ix%i)\n"</literal></expr></argument>,

                <argument pos:start="15:17" pos:end="15:28"><expr pos:start="15:17" pos:end="15:28"><name pos:start="15:17" pos:end="15:28"><name pos:start="15:17" pos:end="15:21">avctx</name><operator pos:start="15:22" pos:end="15:23">-&gt;</operator><name pos:start="15:24" pos:end="15:28">width</name></name></expr></argument>, <argument pos:start="15:31" pos:end="15:43"><expr pos:start="15:31" pos:end="15:43"><name pos:start="15:31" pos:end="15:43"><name pos:start="15:31" pos:end="15:35">avctx</name><operator pos:start="15:36" pos:end="15:37">-&gt;</operator><name pos:start="15:38" pos:end="15:43">height</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <return pos:start="17:9" pos:end="17:31">return <expr pos:start="17:16" pos:end="17:30"><call pos:start="17:16" pos:end="17:30"><name pos:start="17:16" pos:end="17:22">AVERROR</name><argument_list pos:start="17:23" pos:end="17:30">(<argument pos:start="17:24" pos:end="17:29"><expr pos:start="17:24" pos:end="17:29"><name pos:start="17:24" pos:end="17:29">EINVAL</name></expr></argument>)</argument_list></call></expr>;</return>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="23:5" pos:end="25:31"><if pos:start="23:5" pos:end="25:31">if <condition pos:start="23:8" pos:end="23:141">(<expr pos:start="23:9" pos:end="23:140"><operator pos:start="23:9" pos:end="23:9">!</operator><operator pos:start="23:10" pos:end="23:10">(</operator><name pos:start="23:11" pos:end="23:27"><name pos:start="23:11" pos:end="23:11">s</name><operator pos:start="23:12" pos:end="23:13">-&gt;</operator><name pos:start="23:14" pos:end="23:27">codebook_input</name></name> <operator pos:start="23:29" pos:end="23:29">=</operator> <call pos:start="23:31" pos:end="23:139"><name pos:start="23:31" pos:end="23:39">av_malloc</name><argument_list pos:start="23:40" pos:end="23:139">(<argument pos:start="23:41" pos:end="23:138"><expr pos:start="23:41" pos:end="23:138"><sizeof pos:start="23:41" pos:end="23:51">sizeof<argument_list pos:start="23:47" pos:end="23:51">(<argument pos:start="23:48" pos:end="23:50"><expr pos:start="23:48" pos:end="23:50"><name pos:start="23:48" pos:end="23:50">int</name></expr></argument>)</argument_list></sizeof> <operator pos:start="23:53" pos:end="23:53">*</operator> <operator pos:start="23:55" pos:end="23:55">(</operator><ternary pos:start="23:56" pos:end="23:99"><condition pos:start="23:56" pos:end="23:93"><expr pos:start="23:56" pos:end="23:91"><name pos:start="23:56" pos:end="23:69"><name pos:start="23:56" pos:end="23:60">avctx</name><operator pos:start="23:61" pos:end="23:62">-&gt;</operator><name pos:start="23:63" pos:end="23:69">pix_fmt</name></name> <operator pos:start="23:71" pos:end="23:72">==</operator> <name pos:start="23:74" pos:end="23:91">AV_PIX_FMT_YUV420P</name></expr> ?</condition><then pos:start="23:95" pos:end="23:95"> <expr pos:start="23:95" pos:end="23:95"><literal type="number" pos:start="23:95" pos:end="23:95">6</literal></expr> </then><else pos:start="23:97" pos:end="23:99">: <expr pos:start="23:99" pos:end="23:99"><literal type="number" pos:start="23:99" pos:end="23:99">4</literal></expr></else></ternary><operator pos:start="23:100" pos:end="23:100">)</operator> <operator pos:start="23:102" pos:end="23:102">*</operator> <operator pos:start="23:104" pos:end="23:104">(</operator><name pos:start="23:105" pos:end="23:116"><name pos:start="23:105" pos:end="23:109">avctx</name><operator pos:start="23:110" pos:end="23:111">-&gt;</operator><name pos:start="23:112" pos:end="23:116">width</name></name> <operator pos:start="23:118" pos:end="23:118">*</operator> <name pos:start="23:120" pos:end="23:132"><name pos:start="23:120" pos:end="23:124">avctx</name><operator pos:start="23:125" pos:end="23:126">-&gt;</operator><name pos:start="23:127" pos:end="23:132">height</name></name><operator pos:start="23:133" pos:end="23:133">)</operator> <operator pos:start="23:135" pos:end="23:136">&gt;&gt;</operator> <literal type="number" pos:start="23:138" pos:end="23:138">2</literal></expr></argument>)</argument_list></call><operator pos:start="23:140" pos:end="23:140">)</operator></expr>)</condition><block type="pseudo" pos:start="25:9" pos:end="25:31"><block_content pos:start="25:9" pos:end="25:31">

        <return pos:start="25:9" pos:end="25:31">return <expr pos:start="25:16" pos:end="25:30"><call pos:start="25:16" pos:end="25:30"><name pos:start="25:16" pos:end="25:22">AVERROR</name><argument_list pos:start="25:23" pos:end="25:30">(<argument pos:start="25:24" pos:end="25:29"><expr pos:start="25:24" pos:end="25:29"><name pos:start="25:24" pos:end="25:29">ENOMEM</name></expr></argument>)</argument_list></call></expr>;</return></block_content></block></if></if_stmt>



    <if_stmt pos:start="29:5" pos:end="31:20"><if pos:start="29:5" pos:end="31:20">if <condition pos:start="29:8" pos:end="29:94">(<expr pos:start="29:9" pos:end="29:93"><operator pos:start="29:9" pos:end="29:9">!</operator><operator pos:start="29:10" pos:end="29:10">(</operator><name pos:start="29:11" pos:end="29:29"><name pos:start="29:11" pos:end="29:11">s</name><operator pos:start="29:12" pos:end="29:13">-&gt;</operator><name pos:start="29:14" pos:end="29:29">codebook_closest</name></name> <operator pos:start="29:31" pos:end="29:31">=</operator> <call pos:start="29:33" pos:end="29:92"><name pos:start="29:33" pos:end="29:41">av_malloc</name><argument_list pos:start="29:42" pos:end="29:92">(<argument pos:start="29:43" pos:end="29:91"><expr pos:start="29:43" pos:end="29:91"><sizeof pos:start="29:43" pos:end="29:53">sizeof<argument_list pos:start="29:49" pos:end="29:53">(<argument pos:start="29:50" pos:end="29:52"><expr pos:start="29:50" pos:end="29:52"><name pos:start="29:50" pos:end="29:52">int</name></expr></argument>)</argument_list></sizeof> <operator pos:start="29:55" pos:end="29:55">*</operator> <operator pos:start="29:57" pos:end="29:57">(</operator><name pos:start="29:58" pos:end="29:69"><name pos:start="29:58" pos:end="29:62">avctx</name><operator pos:start="29:63" pos:end="29:64">-&gt;</operator><name pos:start="29:65" pos:end="29:69">width</name></name> <operator pos:start="29:71" pos:end="29:71">*</operator> <name pos:start="29:73" pos:end="29:85"><name pos:start="29:73" pos:end="29:77">avctx</name><operator pos:start="29:78" pos:end="29:79">-&gt;</operator><name pos:start="29:80" pos:end="29:85">height</name></name><operator pos:start="29:86" pos:end="29:86">)</operator> <operator pos:start="29:88" pos:end="29:89">&gt;&gt;</operator> <literal type="number" pos:start="29:91" pos:end="29:91">2</literal></expr></argument>)</argument_list></call><operator pos:start="29:93" pos:end="29:93">)</operator></expr>)</condition><block type="pseudo" pos:start="31:9" pos:end="31:20"><block_content pos:start="31:9" pos:end="31:20">

        <goto pos:start="31:9" pos:end="31:20">goto <name pos:start="31:14" pos:end="31:19">enomem</name>;</goto></block_content></block></if></if_stmt>



    <for pos:start="35:5" pos:end="39:24">for<control pos:start="35:8" pos:end="35:26">(<init pos:start="35:9" pos:end="35:14"><expr pos:start="35:9" pos:end="35:13"><name pos:start="35:9" pos:end="35:9">x</name> <operator pos:start="35:11" pos:end="35:11">=</operator> <literal type="number" pos:start="35:13" pos:end="35:13">0</literal></expr>;</init> <condition pos:start="35:16" pos:end="35:21"><expr pos:start="35:16" pos:end="35:20"><name pos:start="35:16" pos:end="35:16">x</name> <operator pos:start="35:18" pos:end="35:18">&lt;</operator> <literal type="number" pos:start="35:20" pos:end="35:20">3</literal></expr>;</condition> <incr pos:start="35:23" pos:end="35:25"><expr pos:start="35:23" pos:end="35:25"><name pos:start="35:23" pos:end="35:23">x</name><operator pos:start="35:24" pos:end="35:25">++</operator></expr></incr>)</control><block type="pseudo" pos:start="37:9" pos:end="39:24"><block_content pos:start="37:9" pos:end="39:24">

        <if_stmt pos:start="37:9" pos:end="39:24"><if pos:start="37:9" pos:end="39:24">if<condition pos:start="37:11" pos:end="37:128">(<expr pos:start="37:12" pos:end="37:127"><operator pos:start="37:12" pos:end="37:12">!</operator><operator pos:start="37:13" pos:end="37:13">(</operator><name pos:start="37:14" pos:end="37:28"><name pos:start="37:14" pos:end="37:14">s</name><operator pos:start="37:15" pos:end="37:16">-&gt;</operator><name pos:start="37:17" pos:end="37:25">pict_bufs</name><index pos:start="37:26" pos:end="37:28">[<expr pos:start="37:27" pos:end="37:27"><name pos:start="37:27" pos:end="37:27">x</name></expr>]</index></name> <operator pos:start="37:30" pos:end="37:30">=</operator> <call pos:start="37:32" pos:end="37:126"><name pos:start="37:32" pos:end="37:40">av_malloc</name><argument_list pos:start="37:41" pos:end="37:126">(<argument pos:start="37:42" pos:end="37:125"><expr pos:start="37:42" pos:end="37:125"><operator pos:start="37:42" pos:end="37:42">(</operator><ternary pos:start="37:43" pos:end="37:86"><condition pos:start="37:43" pos:end="37:80"><expr pos:start="37:43" pos:end="37:78"><name pos:start="37:43" pos:end="37:56"><name pos:start="37:43" pos:end="37:47">avctx</name><operator pos:start="37:48" pos:end="37:49">-&gt;</operator><name pos:start="37:50" pos:end="37:56">pix_fmt</name></name> <operator pos:start="37:58" pos:end="37:59">==</operator> <name pos:start="37:61" pos:end="37:78">AV_PIX_FMT_YUV420P</name></expr> ?</condition><then pos:start="37:82" pos:end="37:82"> <expr pos:start="37:82" pos:end="37:82"><literal type="number" pos:start="37:82" pos:end="37:82">6</literal></expr> </then><else pos:start="37:84" pos:end="37:86">: <expr pos:start="37:86" pos:end="37:86"><literal type="number" pos:start="37:86" pos:end="37:86">4</literal></expr></else></ternary><operator pos:start="37:87" pos:end="37:87">)</operator> <operator pos:start="37:89" pos:end="37:89">*</operator> <operator pos:start="37:91" pos:end="37:91">(</operator><name pos:start="37:92" pos:end="37:103"><name pos:start="37:92" pos:end="37:96">avctx</name><operator pos:start="37:97" pos:end="37:98">-&gt;</operator><name pos:start="37:99" pos:end="37:103">width</name></name> <operator pos:start="37:105" pos:end="37:105">*</operator> <name pos:start="37:107" pos:end="37:119"><name pos:start="37:107" pos:end="37:111">avctx</name><operator pos:start="37:112" pos:end="37:113">-&gt;</operator><name pos:start="37:114" pos:end="37:119">height</name></name><operator pos:start="37:120" pos:end="37:120">)</operator> <operator pos:start="37:122" pos:end="37:123">&gt;&gt;</operator> <literal type="number" pos:start="37:125" pos:end="37:125">2</literal></expr></argument>)</argument_list></call><operator pos:start="37:127" pos:end="37:127">)</operator></expr>)</condition><block type="pseudo" pos:start="39:13" pos:end="39:24"><block_content pos:start="39:13" pos:end="39:24">

            <goto pos:start="39:13" pos:end="39:24">goto <name pos:start="39:18" pos:end="39:23">enomem</name>;</goto></block_content></block></if></if_stmt></block_content></block></for>



    <expr_stmt pos:start="43:5" pos:end="43:54"><expr pos:start="43:5" pos:end="43:53"><name pos:start="43:5" pos:end="43:12">mb_count</name> <operator pos:start="43:14" pos:end="43:14">=</operator> <name pos:start="43:16" pos:end="43:27"><name pos:start="43:16" pos:end="43:20">avctx</name><operator pos:start="43:21" pos:end="43:22">-&gt;</operator><name pos:start="43:23" pos:end="43:27">width</name></name> <operator pos:start="43:29" pos:end="43:29">*</operator> <name pos:start="43:31" pos:end="43:43"><name pos:start="43:31" pos:end="43:35">avctx</name><operator pos:start="43:36" pos:end="43:37">-&gt;</operator><name pos:start="43:38" pos:end="43:43">height</name></name> <operator pos:start="43:45" pos:end="43:45">/</operator> <name pos:start="43:47" pos:end="43:53">MB_AREA</name></expr>;</expr_stmt>



    <comment type="line" pos:start="47:5" pos:end="47:97">//the largest possible chunk is 0x31 with all MBs encoded in V4 mode, which is 34 bits per MB</comment>

    <expr_stmt pos:start="49:5" pos:end="49:135"><expr pos:start="49:5" pos:end="49:134"><name pos:start="49:5" pos:end="49:18">strip_buf_size</name> <operator pos:start="49:20" pos:end="49:20">=</operator> <name pos:start="49:22" pos:end="49:38">STRIP_HEADER_SIZE</name> <operator pos:start="49:40" pos:end="49:40">+</operator> <literal type="number" pos:start="49:42" pos:end="49:42">3</literal> <operator pos:start="49:44" pos:end="49:44">*</operator> <name pos:start="49:46" pos:end="49:62">CHUNK_HEADER_SIZE</name> <operator pos:start="49:64" pos:end="49:64">+</operator> <literal type="number" pos:start="49:66" pos:end="49:66">2</literal> <operator pos:start="49:68" pos:end="49:68">*</operator> <name pos:start="49:70" pos:end="49:79">VECTOR_MAX</name> <operator pos:start="49:81" pos:end="49:81">*</operator> <name pos:start="49:83" pos:end="49:94">CODEBOOK_MAX</name> <operator pos:start="49:96" pos:end="49:96">+</operator> <literal type="number" pos:start="49:98" pos:end="49:98">4</literal> <operator pos:start="49:100" pos:end="49:100">*</operator> <operator pos:start="49:102" pos:end="49:102">(</operator><name pos:start="49:103" pos:end="49:110">mb_count</name> <operator pos:start="49:112" pos:end="49:112">+</operator> <operator pos:start="49:114" pos:end="49:114">(</operator><name pos:start="49:115" pos:end="49:122">mb_count</name> <operator pos:start="49:124" pos:end="49:124">+</operator> <literal type="number" pos:start="49:126" pos:end="49:127">15</literal><operator pos:start="49:128" pos:end="49:128">)</operator> <operator pos:start="49:130" pos:end="49:130">/</operator> <literal type="number" pos:start="49:132" pos:end="49:133">16</literal><operator pos:start="49:134" pos:end="49:134">)</operator></expr>;</expr_stmt>



    <expr_stmt pos:start="53:5" pos:end="53:68"><expr pos:start="53:5" pos:end="53:67"><name pos:start="53:5" pos:end="53:18">frame_buf_size</name> <operator pos:start="53:20" pos:end="53:20">=</operator> <name pos:start="53:22" pos:end="53:37">CVID_HEADER_SIZE</name> <operator pos:start="53:39" pos:end="53:39">+</operator> <name pos:start="53:41" pos:end="53:50">MAX_STRIPS</name> <operator pos:start="53:52" pos:end="53:52">*</operator> <name pos:start="53:54" pos:end="53:67">strip_buf_size</name></expr>;</expr_stmt>



    <if_stmt pos:start="57:5" pos:end="59:20"><if pos:start="57:5" pos:end="59:20">if <condition pos:start="57:8" pos:end="57:52">(<expr pos:start="57:9" pos:end="57:51"><operator pos:start="57:9" pos:end="57:9">!</operator><operator pos:start="57:10" pos:end="57:10">(</operator><name pos:start="57:11" pos:end="57:22"><name pos:start="57:11" pos:end="57:11">s</name><operator pos:start="57:12" pos:end="57:13">-&gt;</operator><name pos:start="57:14" pos:end="57:22">strip_buf</name></name> <operator pos:start="57:24" pos:end="57:24">=</operator> <call pos:start="57:26" pos:end="57:50"><name pos:start="57:26" pos:end="57:34">av_malloc</name><argument_list pos:start="57:35" pos:end="57:50">(<argument pos:start="57:36" pos:end="57:49"><expr pos:start="57:36" pos:end="57:49"><name pos:start="57:36" pos:end="57:49">strip_buf_size</name></expr></argument>)</argument_list></call><operator pos:start="57:51" pos:end="57:51">)</operator></expr>)</condition><block type="pseudo" pos:start="59:9" pos:end="59:20"><block_content pos:start="59:9" pos:end="59:20">

        <goto pos:start="59:9" pos:end="59:20">goto <name pos:start="59:14" pos:end="59:19">enomem</name>;</goto></block_content></block></if></if_stmt>



    <if_stmt pos:start="63:5" pos:end="65:20"><if pos:start="63:5" pos:end="65:20">if <condition pos:start="63:8" pos:end="63:52">(<expr pos:start="63:9" pos:end="63:51"><operator pos:start="63:9" pos:end="63:9">!</operator><operator pos:start="63:10" pos:end="63:10">(</operator><name pos:start="63:11" pos:end="63:22"><name pos:start="63:11" pos:end="63:11">s</name><operator pos:start="63:12" pos:end="63:13">-&gt;</operator><name pos:start="63:14" pos:end="63:22">frame_buf</name></name> <operator pos:start="63:24" pos:end="63:24">=</operator> <call pos:start="63:26" pos:end="63:50"><name pos:start="63:26" pos:end="63:34">av_malloc</name><argument_list pos:start="63:35" pos:end="63:50">(<argument pos:start="63:36" pos:end="63:49"><expr pos:start="63:36" pos:end="63:49"><name pos:start="63:36" pos:end="63:49">frame_buf_size</name></expr></argument>)</argument_list></call><operator pos:start="63:51" pos:end="63:51">)</operator></expr>)</condition><block type="pseudo" pos:start="65:9" pos:end="65:20"><block_content pos:start="65:9" pos:end="65:20">

        <goto pos:start="65:9" pos:end="65:20">goto <name pos:start="65:14" pos:end="65:19">enomem</name>;</goto></block_content></block></if></if_stmt>



    <if_stmt pos:start="69:5" pos:end="76:0"><if pos:start="69:5" pos:end="76:0">if <condition pos:start="69:8" pos:end="69:55">(<expr pos:start="69:9" pos:end="69:54"><operator pos:start="69:9" pos:end="69:9">!</operator><operator pos:start="69:10" pos:end="69:10">(</operator><name pos:start="69:11" pos:end="69:15"><name pos:start="69:11" pos:end="69:11">s</name><operator pos:start="69:12" pos:end="69:13">-&gt;</operator><name pos:start="69:14" pos:end="69:15">mb</name></name> <operator pos:start="69:17" pos:end="69:17">=</operator> <call pos:start="69:19" pos:end="69:53"><name pos:start="69:19" pos:end="69:27">av_malloc</name><argument_list pos:start="69:28" pos:end="69:53">(<argument pos:start="69:29" pos:end="69:52"><expr pos:start="69:29" pos:end="69:52"><name pos:start="69:29" pos:end="69:36">mb_count</name><operator pos:start="69:37" pos:end="69:37">*</operator><sizeof pos:start="69:38" pos:end="69:52">sizeof<argument_list pos:start="69:44" pos:end="69:52">(<argument pos:start="69:45" pos:end="69:51"><expr pos:start="69:45" pos:end="69:51"><name pos:start="69:45" pos:end="69:51">mb_info</name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call><operator pos:start="69:54" pos:end="69:54">)</operator></expr>)</condition><block type="pseudo" pos:start="71:9" pos:end="76:0"><block_content pos:start="71:9" pos:end="76:0">

        <goto pos:start="71:9" pos:end="76:0">goto <name pos:start="71:14" pos:end="71:19">enomem</name>;</goto></block_content></block></if></if_stmt>



<cpp:ifdef pos:start="75:1" pos:end="75:23">#<cpp:directive pos:start="75:2" pos:end="75:6">ifdef</cpp:directive> <name pos:start="75:8" pos:end="75:23">CINEPAKENC_DEBUG</name></cpp:ifdef>

    <if_stmt pos:start="77:5" pos:end="82:0"><if pos:start="77:5" pos:end="82:0">if <condition pos:start="77:8" pos:end="77:60">(<expr pos:start="77:9" pos:end="77:59"><operator pos:start="77:9" pos:end="77:9">!</operator><operator pos:start="77:10" pos:end="77:10">(</operator><name pos:start="77:11" pos:end="77:20"><name pos:start="77:11" pos:end="77:11">s</name><operator pos:start="77:12" pos:end="77:13">-&gt;</operator><name pos:start="77:14" pos:end="77:20">best_mb</name></name> <operator pos:start="77:22" pos:end="77:22">=</operator> <call pos:start="77:24" pos:end="77:58"><name pos:start="77:24" pos:end="77:32">av_malloc</name><argument_list pos:start="77:33" pos:end="77:58">(<argument pos:start="77:34" pos:end="77:57"><expr pos:start="77:34" pos:end="77:57"><name pos:start="77:34" pos:end="77:41">mb_count</name><operator pos:start="77:42" pos:end="77:42">*</operator><sizeof pos:start="77:43" pos:end="77:57">sizeof<argument_list pos:start="77:49" pos:end="77:57">(<argument pos:start="77:50" pos:end="77:56"><expr pos:start="77:50" pos:end="77:56"><name pos:start="77:50" pos:end="77:56">mb_info</name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call><operator pos:start="77:59" pos:end="77:59">)</operator></expr>)</condition><block type="pseudo" pos:start="79:9" pos:end="82:0"><block_content pos:start="79:9" pos:end="82:0">

        <goto pos:start="79:9" pos:end="82:0">goto <name pos:start="79:14" pos:end="79:19">enomem</name>;</goto></block_content></block></if></if_stmt>

<cpp:endif pos:start="81:1" pos:end="81:6">#<cpp:directive pos:start="81:2" pos:end="81:6">endif</cpp:directive></cpp:endif>



    <expr_stmt pos:start="85:5" pos:end="85:32"><expr pos:start="85:5" pos:end="85:31"><call pos:start="85:5" pos:end="85:31"><name pos:start="85:5" pos:end="85:15">av_lfg_init</name><argument_list pos:start="85:16" pos:end="85:31">(<argument pos:start="85:17" pos:end="85:27"><expr pos:start="85:17" pos:end="85:27"><operator pos:start="85:17" pos:end="85:17">&amp;</operator><name pos:start="85:18" pos:end="85:27"><name pos:start="85:18" pos:end="85:18">s</name><operator pos:start="85:19" pos:end="85:20">-&gt;</operator><name pos:start="85:21" pos:end="85:27">randctx</name></name></expr></argument>, <argument pos:start="85:30" pos:end="85:30"><expr pos:start="85:30" pos:end="85:30"><literal type="number" pos:start="85:30" pos:end="85:30">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="87:5" pos:end="87:21"><expr pos:start="87:5" pos:end="87:20"><name pos:start="87:5" pos:end="87:12"><name pos:start="87:5" pos:end="87:5">s</name><operator pos:start="87:6" pos:end="87:7">-&gt;</operator><name pos:start="87:8" pos:end="87:12">avctx</name></name> <operator pos:start="87:14" pos:end="87:14">=</operator> <name pos:start="87:16" pos:end="87:20">avctx</name></expr>;</expr_stmt>

    <expr_stmt pos:start="89:5" pos:end="89:24"><expr pos:start="89:5" pos:end="89:23"><name pos:start="89:5" pos:end="89:8"><name pos:start="89:5" pos:end="89:5">s</name><operator pos:start="89:6" pos:end="89:7">-&gt;</operator><name pos:start="89:8" pos:end="89:8">w</name></name> <operator pos:start="89:10" pos:end="89:10">=</operator> <name pos:start="89:12" pos:end="89:23"><name pos:start="89:12" pos:end="89:16">avctx</name><operator pos:start="89:17" pos:end="89:18">-&gt;</operator><name pos:start="89:19" pos:end="89:23">width</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="91:5" pos:end="91:25"><expr pos:start="91:5" pos:end="91:24"><name pos:start="91:5" pos:end="91:8"><name pos:start="91:5" pos:end="91:5">s</name><operator pos:start="91:6" pos:end="91:7">-&gt;</operator><name pos:start="91:8" pos:end="91:8">h</name></name> <operator pos:start="91:10" pos:end="91:10">=</operator> <name pos:start="91:12" pos:end="91:24"><name pos:start="91:12" pos:end="91:16">avctx</name><operator pos:start="91:17" pos:end="91:18">-&gt;</operator><name pos:start="91:19" pos:end="91:24">height</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="93:5" pos:end="93:20"><expr pos:start="93:5" pos:end="93:19"><name pos:start="93:5" pos:end="93:15"><name pos:start="93:5" pos:end="93:5">s</name><operator pos:start="93:6" pos:end="93:7">-&gt;</operator><name pos:start="93:8" pos:end="93:15">curframe</name></name> <operator pos:start="93:17" pos:end="93:17">=</operator> <literal type="number" pos:start="93:19" pos:end="93:19">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="95:5" pos:end="95:34"><expr pos:start="95:5" pos:end="95:33"><name pos:start="95:5" pos:end="95:13"><name pos:start="95:5" pos:end="95:5">s</name><operator pos:start="95:6" pos:end="95:7">-&gt;</operator><name pos:start="95:8" pos:end="95:13">keyint</name></name> <operator pos:start="95:15" pos:end="95:15">=</operator> <name pos:start="95:17" pos:end="95:33"><name pos:start="95:17" pos:end="95:21">avctx</name><operator pos:start="95:22" pos:end="95:23">-&gt;</operator><name pos:start="95:24" pos:end="95:33">keyint_min</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="97:5" pos:end="97:32"><expr pos:start="97:5" pos:end="97:31"><name pos:start="97:5" pos:end="97:14"><name pos:start="97:5" pos:end="97:5">s</name><operator pos:start="97:6" pos:end="97:7">-&gt;</operator><name pos:start="97:8" pos:end="97:14">pix_fmt</name></name> <operator pos:start="97:16" pos:end="97:16">=</operator> <name pos:start="97:18" pos:end="97:31"><name pos:start="97:18" pos:end="97:22">avctx</name><operator pos:start="97:23" pos:end="97:24">-&gt;</operator><name pos:start="97:25" pos:end="97:31">pix_fmt</name></name></expr>;</expr_stmt>



    <comment type="line" pos:start="101:5" pos:end="101:21">//set up AVFrames</comment>

    <expr_stmt pos:start="103:5" pos:end="103:51"><expr pos:start="103:5" pos:end="103:50"><name pos:start="103:5" pos:end="103:25"><name pos:start="103:5" pos:end="103:5">s</name><operator pos:start="103:6" pos:end="103:7">-&gt;</operator><name pos:start="103:8" pos:end="103:17">last_frame</name><operator pos:start="103:18" pos:end="103:18">.</operator><name pos:start="103:19" pos:end="103:22">data</name><index pos:start="103:23" pos:end="103:25">[<expr pos:start="103:24" pos:end="103:24"><literal type="number" pos:start="103:24" pos:end="103:24">0</literal></expr>]</index></name>        <operator pos:start="103:34" pos:end="103:34">=</operator> <name pos:start="103:36" pos:end="103:50"><name pos:start="103:36" pos:end="103:36">s</name><operator pos:start="103:37" pos:end="103:38">-&gt;</operator><name pos:start="103:39" pos:end="103:47">pict_bufs</name><index pos:start="103:48" pos:end="103:50">[<expr pos:start="103:49" pos:end="103:49"><literal type="number" pos:start="103:49" pos:end="103:49">0</literal></expr>]</index></name></expr>;</expr_stmt>

    <expr_stmt pos:start="105:5" pos:end="105:40"><expr pos:start="105:5" pos:end="105:39"><name pos:start="105:5" pos:end="105:29"><name pos:start="105:5" pos:end="105:5">s</name><operator pos:start="105:6" pos:end="105:7">-&gt;</operator><name pos:start="105:8" pos:end="105:17">last_frame</name><operator pos:start="105:18" pos:end="105:18">.</operator><name pos:start="105:19" pos:end="105:26">linesize</name><index pos:start="105:27" pos:end="105:29">[<expr pos:start="105:28" pos:end="105:28"><literal type="number" pos:start="105:28" pos:end="105:28">0</literal></expr>]</index></name>    <operator pos:start="105:34" pos:end="105:34">=</operator> <name pos:start="105:36" pos:end="105:39"><name pos:start="105:36" pos:end="105:36">s</name><operator pos:start="105:37" pos:end="105:38">-&gt;</operator><name pos:start="105:39" pos:end="105:39">w</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="107:5" pos:end="107:51"><expr pos:start="107:5" pos:end="107:50"><name pos:start="107:5" pos:end="107:25"><name pos:start="107:5" pos:end="107:5">s</name><operator pos:start="107:6" pos:end="107:7">-&gt;</operator><name pos:start="107:8" pos:end="107:17">best_frame</name><operator pos:start="107:18" pos:end="107:18">.</operator><name pos:start="107:19" pos:end="107:22">data</name><index pos:start="107:23" pos:end="107:25">[<expr pos:start="107:24" pos:end="107:24"><literal type="number" pos:start="107:24" pos:end="107:24">0</literal></expr>]</index></name>        <operator pos:start="107:34" pos:end="107:34">=</operator> <name pos:start="107:36" pos:end="107:50"><name pos:start="107:36" pos:end="107:36">s</name><operator pos:start="107:37" pos:end="107:38">-&gt;</operator><name pos:start="107:39" pos:end="107:47">pict_bufs</name><index pos:start="107:48" pos:end="107:50">[<expr pos:start="107:49" pos:end="107:49"><literal type="number" pos:start="107:49" pos:end="107:49">1</literal></expr>]</index></name></expr>;</expr_stmt>

    <expr_stmt pos:start="109:5" pos:end="109:40"><expr pos:start="109:5" pos:end="109:39"><name pos:start="109:5" pos:end="109:29"><name pos:start="109:5" pos:end="109:5">s</name><operator pos:start="109:6" pos:end="109:7">-&gt;</operator><name pos:start="109:8" pos:end="109:17">best_frame</name><operator pos:start="109:18" pos:end="109:18">.</operator><name pos:start="109:19" pos:end="109:26">linesize</name><index pos:start="109:27" pos:end="109:29">[<expr pos:start="109:28" pos:end="109:28"><literal type="number" pos:start="109:28" pos:end="109:28">0</literal></expr>]</index></name>    <operator pos:start="109:34" pos:end="109:34">=</operator> <name pos:start="109:36" pos:end="109:39"><name pos:start="109:36" pos:end="109:36">s</name><operator pos:start="109:37" pos:end="109:38">-&gt;</operator><name pos:start="109:39" pos:end="109:39">w</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="111:5" pos:end="111:51"><expr pos:start="111:5" pos:end="111:50"><name pos:start="111:5" pos:end="111:28"><name pos:start="111:5" pos:end="111:5">s</name><operator pos:start="111:6" pos:end="111:7">-&gt;</operator><name pos:start="111:8" pos:end="111:20">scratch_frame</name><operator pos:start="111:21" pos:end="111:21">.</operator><name pos:start="111:22" pos:end="111:25">data</name><index pos:start="111:26" pos:end="111:28">[<expr pos:start="111:27" pos:end="111:27"><literal type="number" pos:start="111:27" pos:end="111:27">0</literal></expr>]</index></name>     <operator pos:start="111:34" pos:end="111:34">=</operator> <name pos:start="111:36" pos:end="111:50"><name pos:start="111:36" pos:end="111:36">s</name><operator pos:start="111:37" pos:end="111:38">-&gt;</operator><name pos:start="111:39" pos:end="111:47">pict_bufs</name><index pos:start="111:48" pos:end="111:50">[<expr pos:start="111:49" pos:end="111:49"><literal type="number" pos:start="111:49" pos:end="111:49">2</literal></expr>]</index></name></expr>;</expr_stmt>

    <expr_stmt pos:start="113:5" pos:end="113:40"><expr pos:start="113:5" pos:end="113:39"><name pos:start="113:5" pos:end="113:32"><name pos:start="113:5" pos:end="113:5">s</name><operator pos:start="113:6" pos:end="113:7">-&gt;</operator><name pos:start="113:8" pos:end="113:20">scratch_frame</name><operator pos:start="113:21" pos:end="113:21">.</operator><name pos:start="113:22" pos:end="113:29">linesize</name><index pos:start="113:30" pos:end="113:32">[<expr pos:start="113:31" pos:end="113:31"><literal type="number" pos:start="113:31" pos:end="113:31">0</literal></expr>]</index></name> <operator pos:start="113:34" pos:end="113:34">=</operator> <name pos:start="113:36" pos:end="113:39"><name pos:start="113:36" pos:end="113:36">s</name><operator pos:start="113:37" pos:end="113:38">-&gt;</operator><name pos:start="113:39" pos:end="113:39">w</name></name></expr>;</expr_stmt>



    <if_stmt pos:start="117:5" pos:end="141:5"><if pos:start="117:5" pos:end="141:5">if<condition pos:start="117:7" pos:end="117:40">(<expr pos:start="117:8" pos:end="117:39"><name pos:start="117:8" pos:end="117:17"><name pos:start="117:8" pos:end="117:8">s</name><operator pos:start="117:9" pos:end="117:10">-&gt;</operator><name pos:start="117:11" pos:end="117:17">pix_fmt</name></name> <operator pos:start="117:19" pos:end="117:20">==</operator> <name pos:start="117:22" pos:end="117:39">AV_PIX_FMT_YUV420P</name></expr>)</condition> <block pos:start="117:42" pos:end="141:5">{<block_content pos:start="119:9" pos:end="139:80">

        <expr_stmt pos:start="119:9" pos:end="119:75"><expr pos:start="119:9" pos:end="119:74"><name pos:start="119:9" pos:end="119:29"><name pos:start="119:9" pos:end="119:9">s</name><operator pos:start="119:10" pos:end="119:11">-&gt;</operator><name pos:start="119:12" pos:end="119:21">last_frame</name><operator pos:start="119:22" pos:end="119:22">.</operator><name pos:start="119:23" pos:end="119:26">data</name><index pos:start="119:27" pos:end="119:29">[<expr pos:start="119:28" pos:end="119:28"><literal type="number" pos:start="119:28" pos:end="119:28">1</literal></expr>]</index></name>        <operator pos:start="119:38" pos:end="119:38">=</operator> <name pos:start="119:40" pos:end="119:60"><name pos:start="119:40" pos:end="119:40">s</name><operator pos:start="119:41" pos:end="119:42">-&gt;</operator><name pos:start="119:43" pos:end="119:52">last_frame</name><operator pos:start="119:53" pos:end="119:53">.</operator><name pos:start="119:54" pos:end="119:57">data</name><index pos:start="119:58" pos:end="119:60">[<expr pos:start="119:59" pos:end="119:59"><literal type="number" pos:start="119:59" pos:end="119:59">0</literal></expr>]</index></name> <operator pos:start="119:62" pos:end="119:62">+</operator> <name pos:start="119:64" pos:end="119:67"><name pos:start="119:64" pos:end="119:64">s</name><operator pos:start="119:65" pos:end="119:66">-&gt;</operator><name pos:start="119:67" pos:end="119:67">w</name></name> <operator pos:start="119:69" pos:end="119:69">*</operator> <name pos:start="119:71" pos:end="119:74"><name pos:start="119:71" pos:end="119:71">s</name><operator pos:start="119:72" pos:end="119:73">-&gt;</operator><name pos:start="119:74" pos:end="119:74">h</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="121:9" pos:end="121:84"><expr pos:start="121:9" pos:end="121:83"><name pos:start="121:9" pos:end="121:29"><name pos:start="121:9" pos:end="121:9">s</name><operator pos:start="121:10" pos:end="121:11">-&gt;</operator><name pos:start="121:12" pos:end="121:21">last_frame</name><operator pos:start="121:22" pos:end="121:22">.</operator><name pos:start="121:23" pos:end="121:26">data</name><index pos:start="121:27" pos:end="121:29">[<expr pos:start="121:28" pos:end="121:28"><literal type="number" pos:start="121:28" pos:end="121:28">2</literal></expr>]</index></name>        <operator pos:start="121:38" pos:end="121:38">=</operator> <name pos:start="121:40" pos:end="121:60"><name pos:start="121:40" pos:end="121:40">s</name><operator pos:start="121:41" pos:end="121:42">-&gt;</operator><name pos:start="121:43" pos:end="121:52">last_frame</name><operator pos:start="121:53" pos:end="121:53">.</operator><name pos:start="121:54" pos:end="121:57">data</name><index pos:start="121:58" pos:end="121:60">[<expr pos:start="121:59" pos:end="121:59"><literal type="number" pos:start="121:59" pos:end="121:59">1</literal></expr>]</index></name> <operator pos:start="121:62" pos:end="121:62">+</operator> <operator pos:start="121:64" pos:end="121:64">(</operator><operator pos:start="121:65" pos:end="121:65">(</operator><name pos:start="121:66" pos:end="121:69"><name pos:start="121:66" pos:end="121:66">s</name><operator pos:start="121:67" pos:end="121:68">-&gt;</operator><name pos:start="121:69" pos:end="121:69">w</name></name> <operator pos:start="121:71" pos:end="121:71">*</operator> <name pos:start="121:73" pos:end="121:76"><name pos:start="121:73" pos:end="121:73">s</name><operator pos:start="121:74" pos:end="121:75">-&gt;</operator><name pos:start="121:76" pos:end="121:76">h</name></name><operator pos:start="121:77" pos:end="121:77">)</operator> <operator pos:start="121:79" pos:end="121:80">&gt;&gt;</operator> <literal type="number" pos:start="121:82" pos:end="121:82">2</literal><operator pos:start="121:83" pos:end="121:83">)</operator></expr>;</expr_stmt>

        <expr_stmt pos:start="123:9" pos:end="123:77"><expr pos:start="123:9" pos:end="123:76"><name pos:start="123:9" pos:end="123:33"><name pos:start="123:9" pos:end="123:9">s</name><operator pos:start="123:10" pos:end="123:11">-&gt;</operator><name pos:start="123:12" pos:end="123:21">last_frame</name><operator pos:start="123:22" pos:end="123:22">.</operator><name pos:start="123:23" pos:end="123:30">linesize</name><index pos:start="123:31" pos:end="123:33">[<expr pos:start="123:32" pos:end="123:32"><literal type="number" pos:start="123:32" pos:end="123:32">1</literal></expr>]</index></name>    <operator pos:start="123:38" pos:end="123:38">=</operator> <name pos:start="123:40" pos:end="123:64"><name pos:start="123:40" pos:end="123:40">s</name><operator pos:start="123:41" pos:end="123:42">-&gt;</operator><name pos:start="123:43" pos:end="123:52">last_frame</name><operator pos:start="123:53" pos:end="123:53">.</operator><name pos:start="123:54" pos:end="123:61">linesize</name><index pos:start="123:62" pos:end="123:64">[<expr pos:start="123:63" pos:end="123:63"><literal type="number" pos:start="123:63" pos:end="123:63">2</literal></expr>]</index></name> <operator pos:start="123:66" pos:end="123:66">=</operator> <name pos:start="123:68" pos:end="123:71"><name pos:start="123:68" pos:end="123:68">s</name><operator pos:start="123:69" pos:end="123:70">-&gt;</operator><name pos:start="123:71" pos:end="123:71">w</name></name> <operator pos:start="123:73" pos:end="123:74">&gt;&gt;</operator> <literal type="number" pos:start="123:76" pos:end="123:76">1</literal></expr>;</expr_stmt>



        <expr_stmt pos:start="127:9" pos:end="127:75"><expr pos:start="127:9" pos:end="127:74"><name pos:start="127:9" pos:end="127:29"><name pos:start="127:9" pos:end="127:9">s</name><operator pos:start="127:10" pos:end="127:11">-&gt;</operator><name pos:start="127:12" pos:end="127:21">best_frame</name><operator pos:start="127:22" pos:end="127:22">.</operator><name pos:start="127:23" pos:end="127:26">data</name><index pos:start="127:27" pos:end="127:29">[<expr pos:start="127:28" pos:end="127:28"><literal type="number" pos:start="127:28" pos:end="127:28">1</literal></expr>]</index></name>        <operator pos:start="127:38" pos:end="127:38">=</operator> <name pos:start="127:40" pos:end="127:60"><name pos:start="127:40" pos:end="127:40">s</name><operator pos:start="127:41" pos:end="127:42">-&gt;</operator><name pos:start="127:43" pos:end="127:52">best_frame</name><operator pos:start="127:53" pos:end="127:53">.</operator><name pos:start="127:54" pos:end="127:57">data</name><index pos:start="127:58" pos:end="127:60">[<expr pos:start="127:59" pos:end="127:59"><literal type="number" pos:start="127:59" pos:end="127:59">0</literal></expr>]</index></name> <operator pos:start="127:62" pos:end="127:62">+</operator> <name pos:start="127:64" pos:end="127:67"><name pos:start="127:64" pos:end="127:64">s</name><operator pos:start="127:65" pos:end="127:66">-&gt;</operator><name pos:start="127:67" pos:end="127:67">w</name></name> <operator pos:start="127:69" pos:end="127:69">*</operator> <name pos:start="127:71" pos:end="127:74"><name pos:start="127:71" pos:end="127:71">s</name><operator pos:start="127:72" pos:end="127:73">-&gt;</operator><name pos:start="127:74" pos:end="127:74">h</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="129:9" pos:end="129:84"><expr pos:start="129:9" pos:end="129:83"><name pos:start="129:9" pos:end="129:29"><name pos:start="129:9" pos:end="129:9">s</name><operator pos:start="129:10" pos:end="129:11">-&gt;</operator><name pos:start="129:12" pos:end="129:21">best_frame</name><operator pos:start="129:22" pos:end="129:22">.</operator><name pos:start="129:23" pos:end="129:26">data</name><index pos:start="129:27" pos:end="129:29">[<expr pos:start="129:28" pos:end="129:28"><literal type="number" pos:start="129:28" pos:end="129:28">2</literal></expr>]</index></name>        <operator pos:start="129:38" pos:end="129:38">=</operator> <name pos:start="129:40" pos:end="129:60"><name pos:start="129:40" pos:end="129:40">s</name><operator pos:start="129:41" pos:end="129:42">-&gt;</operator><name pos:start="129:43" pos:end="129:52">best_frame</name><operator pos:start="129:53" pos:end="129:53">.</operator><name pos:start="129:54" pos:end="129:57">data</name><index pos:start="129:58" pos:end="129:60">[<expr pos:start="129:59" pos:end="129:59"><literal type="number" pos:start="129:59" pos:end="129:59">1</literal></expr>]</index></name> <operator pos:start="129:62" pos:end="129:62">+</operator> <operator pos:start="129:64" pos:end="129:64">(</operator><operator pos:start="129:65" pos:end="129:65">(</operator><name pos:start="129:66" pos:end="129:69"><name pos:start="129:66" pos:end="129:66">s</name><operator pos:start="129:67" pos:end="129:68">-&gt;</operator><name pos:start="129:69" pos:end="129:69">w</name></name> <operator pos:start="129:71" pos:end="129:71">*</operator> <name pos:start="129:73" pos:end="129:76"><name pos:start="129:73" pos:end="129:73">s</name><operator pos:start="129:74" pos:end="129:75">-&gt;</operator><name pos:start="129:76" pos:end="129:76">h</name></name><operator pos:start="129:77" pos:end="129:77">)</operator> <operator pos:start="129:79" pos:end="129:80">&gt;&gt;</operator> <literal type="number" pos:start="129:82" pos:end="129:82">2</literal><operator pos:start="129:83" pos:end="129:83">)</operator></expr>;</expr_stmt>

        <expr_stmt pos:start="131:9" pos:end="131:77"><expr pos:start="131:9" pos:end="131:76"><name pos:start="131:9" pos:end="131:33"><name pos:start="131:9" pos:end="131:9">s</name><operator pos:start="131:10" pos:end="131:11">-&gt;</operator><name pos:start="131:12" pos:end="131:21">best_frame</name><operator pos:start="131:22" pos:end="131:22">.</operator><name pos:start="131:23" pos:end="131:30">linesize</name><index pos:start="131:31" pos:end="131:33">[<expr pos:start="131:32" pos:end="131:32"><literal type="number" pos:start="131:32" pos:end="131:32">1</literal></expr>]</index></name>    <operator pos:start="131:38" pos:end="131:38">=</operator> <name pos:start="131:40" pos:end="131:64"><name pos:start="131:40" pos:end="131:40">s</name><operator pos:start="131:41" pos:end="131:42">-&gt;</operator><name pos:start="131:43" pos:end="131:52">best_frame</name><operator pos:start="131:53" pos:end="131:53">.</operator><name pos:start="131:54" pos:end="131:61">linesize</name><index pos:start="131:62" pos:end="131:64">[<expr pos:start="131:63" pos:end="131:63"><literal type="number" pos:start="131:63" pos:end="131:63">2</literal></expr>]</index></name> <operator pos:start="131:66" pos:end="131:66">=</operator> <name pos:start="131:68" pos:end="131:71"><name pos:start="131:68" pos:end="131:68">s</name><operator pos:start="131:69" pos:end="131:70">-&gt;</operator><name pos:start="131:71" pos:end="131:71">w</name></name> <operator pos:start="131:73" pos:end="131:74">&gt;&gt;</operator> <literal type="number" pos:start="131:76" pos:end="131:76">1</literal></expr>;</expr_stmt>



        <expr_stmt pos:start="135:9" pos:end="135:78"><expr pos:start="135:9" pos:end="135:77"><name pos:start="135:9" pos:end="135:32"><name pos:start="135:9" pos:end="135:9">s</name><operator pos:start="135:10" pos:end="135:11">-&gt;</operator><name pos:start="135:12" pos:end="135:24">scratch_frame</name><operator pos:start="135:25" pos:end="135:25">.</operator><name pos:start="135:26" pos:end="135:29">data</name><index pos:start="135:30" pos:end="135:32">[<expr pos:start="135:31" pos:end="135:31"><literal type="number" pos:start="135:31" pos:end="135:31">1</literal></expr>]</index></name>     <operator pos:start="135:38" pos:end="135:38">=</operator> <name pos:start="135:40" pos:end="135:63"><name pos:start="135:40" pos:end="135:40">s</name><operator pos:start="135:41" pos:end="135:42">-&gt;</operator><name pos:start="135:43" pos:end="135:55">scratch_frame</name><operator pos:start="135:56" pos:end="135:56">.</operator><name pos:start="135:57" pos:end="135:60">data</name><index pos:start="135:61" pos:end="135:63">[<expr pos:start="135:62" pos:end="135:62"><literal type="number" pos:start="135:62" pos:end="135:62">0</literal></expr>]</index></name> <operator pos:start="135:65" pos:end="135:65">+</operator> <name pos:start="135:67" pos:end="135:70"><name pos:start="135:67" pos:end="135:67">s</name><operator pos:start="135:68" pos:end="135:69">-&gt;</operator><name pos:start="135:70" pos:end="135:70">w</name></name> <operator pos:start="135:72" pos:end="135:72">*</operator> <name pos:start="135:74" pos:end="135:77"><name pos:start="135:74" pos:end="135:74">s</name><operator pos:start="135:75" pos:end="135:76">-&gt;</operator><name pos:start="135:77" pos:end="135:77">h</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="137:9" pos:end="137:87"><expr pos:start="137:9" pos:end="137:86"><name pos:start="137:9" pos:end="137:32"><name pos:start="137:9" pos:end="137:9">s</name><operator pos:start="137:10" pos:end="137:11">-&gt;</operator><name pos:start="137:12" pos:end="137:24">scratch_frame</name><operator pos:start="137:25" pos:end="137:25">.</operator><name pos:start="137:26" pos:end="137:29">data</name><index pos:start="137:30" pos:end="137:32">[<expr pos:start="137:31" pos:end="137:31"><literal type="number" pos:start="137:31" pos:end="137:31">2</literal></expr>]</index></name>     <operator pos:start="137:38" pos:end="137:38">=</operator> <name pos:start="137:40" pos:end="137:63"><name pos:start="137:40" pos:end="137:40">s</name><operator pos:start="137:41" pos:end="137:42">-&gt;</operator><name pos:start="137:43" pos:end="137:55">scratch_frame</name><operator pos:start="137:56" pos:end="137:56">.</operator><name pos:start="137:57" pos:end="137:60">data</name><index pos:start="137:61" pos:end="137:63">[<expr pos:start="137:62" pos:end="137:62"><literal type="number" pos:start="137:62" pos:end="137:62">1</literal></expr>]</index></name> <operator pos:start="137:65" pos:end="137:65">+</operator> <operator pos:start="137:67" pos:end="137:67">(</operator><operator pos:start="137:68" pos:end="137:68">(</operator><name pos:start="137:69" pos:end="137:72"><name pos:start="137:69" pos:end="137:69">s</name><operator pos:start="137:70" pos:end="137:71">-&gt;</operator><name pos:start="137:72" pos:end="137:72">w</name></name> <operator pos:start="137:74" pos:end="137:74">*</operator> <name pos:start="137:76" pos:end="137:79"><name pos:start="137:76" pos:end="137:76">s</name><operator pos:start="137:77" pos:end="137:78">-&gt;</operator><name pos:start="137:79" pos:end="137:79">h</name></name><operator pos:start="137:80" pos:end="137:80">)</operator> <operator pos:start="137:82" pos:end="137:83">&gt;&gt;</operator> <literal type="number" pos:start="137:85" pos:end="137:85">2</literal><operator pos:start="137:86" pos:end="137:86">)</operator></expr>;</expr_stmt>

        <expr_stmt pos:start="139:9" pos:end="139:80"><expr pos:start="139:9" pos:end="139:79"><name pos:start="139:9" pos:end="139:36"><name pos:start="139:9" pos:end="139:9">s</name><operator pos:start="139:10" pos:end="139:11">-&gt;</operator><name pos:start="139:12" pos:end="139:24">scratch_frame</name><operator pos:start="139:25" pos:end="139:25">.</operator><name pos:start="139:26" pos:end="139:33">linesize</name><index pos:start="139:34" pos:end="139:36">[<expr pos:start="139:35" pos:end="139:35"><literal type="number" pos:start="139:35" pos:end="139:35">1</literal></expr>]</index></name> <operator pos:start="139:38" pos:end="139:38">=</operator> <name pos:start="139:40" pos:end="139:67"><name pos:start="139:40" pos:end="139:40">s</name><operator pos:start="139:41" pos:end="139:42">-&gt;</operator><name pos:start="139:43" pos:end="139:55">scratch_frame</name><operator pos:start="139:56" pos:end="139:56">.</operator><name pos:start="139:57" pos:end="139:64">linesize</name><index pos:start="139:65" pos:end="139:67">[<expr pos:start="139:66" pos:end="139:66"><literal type="number" pos:start="139:66" pos:end="139:66">2</literal></expr>]</index></name> <operator pos:start="139:69" pos:end="139:69">=</operator> <name pos:start="139:71" pos:end="139:74"><name pos:start="139:71" pos:end="139:71">s</name><operator pos:start="139:72" pos:end="139:73">-&gt;</operator><name pos:start="139:74" pos:end="139:74">w</name></name> <operator pos:start="139:76" pos:end="139:77">&gt;&gt;</operator> <literal type="number" pos:start="139:79" pos:end="139:79">1</literal></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <expr_stmt pos:start="145:5" pos:end="145:106"><expr pos:start="145:5" pos:end="145:105"><name pos:start="145:5" pos:end="145:18"><name pos:start="145:5" pos:end="145:5">s</name><operator pos:start="145:6" pos:end="145:7">-&gt;</operator><name pos:start="145:8" pos:end="145:18">num_v1_mode</name></name> <operator pos:start="145:20" pos:end="145:20">=</operator> <name pos:start="145:22" pos:end="145:35"><name pos:start="145:22" pos:end="145:22">s</name><operator pos:start="145:23" pos:end="145:24">-&gt;</operator><name pos:start="145:25" pos:end="145:35">num_v4_mode</name></name> <operator pos:start="145:37" pos:end="145:37">=</operator> <name pos:start="145:39" pos:end="145:52"><name pos:start="145:39" pos:end="145:39">s</name><operator pos:start="145:40" pos:end="145:41">-&gt;</operator><name pos:start="145:42" pos:end="145:52">num_mc_mode</name></name> <operator pos:start="145:54" pos:end="145:54">=</operator> <name pos:start="145:56" pos:end="145:69"><name pos:start="145:56" pos:end="145:56">s</name><operator pos:start="145:57" pos:end="145:58">-&gt;</operator><name pos:start="145:59" pos:end="145:69">num_v1_encs</name></name> <operator pos:start="145:71" pos:end="145:71">=</operator> <name pos:start="145:73" pos:end="145:86"><name pos:start="145:73" pos:end="145:73">s</name><operator pos:start="145:74" pos:end="145:75">-&gt;</operator><name pos:start="145:76" pos:end="145:86">num_v4_encs</name></name> <operator pos:start="145:88" pos:end="145:88">=</operator> <name pos:start="145:90" pos:end="145:101"><name pos:start="145:90" pos:end="145:90">s</name><operator pos:start="145:91" pos:end="145:92">-&gt;</operator><name pos:start="145:93" pos:end="145:101">num_skips</name></name> <operator pos:start="145:103" pos:end="145:103">=</operator> <literal type="number" pos:start="145:105" pos:end="145:105">0</literal></expr>;</expr_stmt>



    <return pos:start="149:5" pos:end="149:13">return <expr pos:start="149:12" pos:end="149:12"><literal type="number" pos:start="149:12" pos:end="149:12">0</literal></expr>;</return>



<label pos:start="153:1" pos:end="153:7"><name pos:start="153:1" pos:end="153:6">enomem</name>:</label>

    <expr_stmt pos:start="155:5" pos:end="155:31"><expr pos:start="155:5" pos:end="155:30"><call pos:start="155:5" pos:end="155:30"><name pos:start="155:5" pos:end="155:11">av_free</name><argument_list pos:start="155:12" pos:end="155:30">(<argument pos:start="155:13" pos:end="155:29"><expr pos:start="155:13" pos:end="155:29"><name pos:start="155:13" pos:end="155:29"><name pos:start="155:13" pos:end="155:13">s</name><operator pos:start="155:14" pos:end="155:15">-&gt;</operator><name pos:start="155:16" pos:end="155:29">codebook_input</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="157:5" pos:end="157:33"><expr pos:start="157:5" pos:end="157:32"><call pos:start="157:5" pos:end="157:32"><name pos:start="157:5" pos:end="157:11">av_free</name><argument_list pos:start="157:12" pos:end="157:32">(<argument pos:start="157:13" pos:end="157:31"><expr pos:start="157:13" pos:end="157:31"><name pos:start="157:13" pos:end="157:31"><name pos:start="157:13" pos:end="157:13">s</name><operator pos:start="157:14" pos:end="157:15">-&gt;</operator><name pos:start="157:16" pos:end="157:31">codebook_closest</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="159:5" pos:end="159:26"><expr pos:start="159:5" pos:end="159:25"><call pos:start="159:5" pos:end="159:25"><name pos:start="159:5" pos:end="159:11">av_free</name><argument_list pos:start="159:12" pos:end="159:25">(<argument pos:start="159:13" pos:end="159:24"><expr pos:start="159:13" pos:end="159:24"><name pos:start="159:13" pos:end="159:24"><name pos:start="159:13" pos:end="159:13">s</name><operator pos:start="159:14" pos:end="159:15">-&gt;</operator><name pos:start="159:16" pos:end="159:24">strip_buf</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="161:5" pos:end="161:26"><expr pos:start="161:5" pos:end="161:25"><call pos:start="161:5" pos:end="161:25"><name pos:start="161:5" pos:end="161:11">av_free</name><argument_list pos:start="161:12" pos:end="161:25">(<argument pos:start="161:13" pos:end="161:24"><expr pos:start="161:13" pos:end="161:24"><name pos:start="161:13" pos:end="161:24"><name pos:start="161:13" pos:end="161:13">s</name><operator pos:start="161:14" pos:end="161:15">-&gt;</operator><name pos:start="161:16" pos:end="161:24">frame_buf</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="163:5" pos:end="166:0"><expr pos:start="163:5" pos:end="163:18"><call pos:start="163:5" pos:end="163:18"><name pos:start="163:5" pos:end="163:11">av_free</name><argument_list pos:start="163:12" pos:end="163:18">(<argument pos:start="163:13" pos:end="163:17"><expr pos:start="163:13" pos:end="163:17"><name pos:start="163:13" pos:end="163:17"><name pos:start="163:13" pos:end="163:13">s</name><operator pos:start="163:14" pos:end="163:15">-&gt;</operator><name pos:start="163:16" pos:end="163:17">mb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

<cpp:ifdef pos:start="165:1" pos:end="165:23">#<cpp:directive pos:start="165:2" pos:end="165:6">ifdef</cpp:directive> <name pos:start="165:8" pos:end="165:23">CINEPAKENC_DEBUG</name></cpp:ifdef>

    <expr_stmt pos:start="167:5" pos:end="170:0"><expr pos:start="167:5" pos:end="167:23"><call pos:start="167:5" pos:end="167:23"><name pos:start="167:5" pos:end="167:11">av_free</name><argument_list pos:start="167:12" pos:end="167:23">(<argument pos:start="167:13" pos:end="167:22"><expr pos:start="167:13" pos:end="167:22"><name pos:start="167:13" pos:end="167:22"><name pos:start="167:13" pos:end="167:13">s</name><operator pos:start="167:14" pos:end="167:15">-&gt;</operator><name pos:start="167:16" pos:end="167:22">best_mb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

<cpp:endif pos:start="169:1" pos:end="169:6">#<cpp:directive pos:start="169:2" pos:end="169:6">endif</cpp:directive></cpp:endif>



    <for pos:start="173:5" pos:end="175:33">for<control pos:start="173:8" pos:end="173:26">(<init pos:start="173:9" pos:end="173:14"><expr pos:start="173:9" pos:end="173:13"><name pos:start="173:9" pos:end="173:9">x</name> <operator pos:start="173:11" pos:end="173:11">=</operator> <literal type="number" pos:start="173:13" pos:end="173:13">0</literal></expr>;</init> <condition pos:start="173:16" pos:end="173:21"><expr pos:start="173:16" pos:end="173:20"><name pos:start="173:16" pos:end="173:16">x</name> <operator pos:start="173:18" pos:end="173:18">&lt;</operator> <literal type="number" pos:start="173:20" pos:end="173:20">3</literal></expr>;</condition> <incr pos:start="173:23" pos:end="173:25"><expr pos:start="173:23" pos:end="173:25"><name pos:start="173:23" pos:end="173:23">x</name><operator pos:start="173:24" pos:end="173:25">++</operator></expr></incr>)</control><block type="pseudo" pos:start="175:9" pos:end="175:33"><block_content pos:start="175:9" pos:end="175:33">

        <expr_stmt pos:start="175:9" pos:end="175:33"><expr pos:start="175:9" pos:end="175:32"><call pos:start="175:9" pos:end="175:32"><name pos:start="175:9" pos:end="175:15">av_free</name><argument_list pos:start="175:16" pos:end="175:32">(<argument pos:start="175:17" pos:end="175:31"><expr pos:start="175:17" pos:end="175:31"><name pos:start="175:17" pos:end="175:31"><name pos:start="175:17" pos:end="175:17">s</name><operator pos:start="175:18" pos:end="175:19">-&gt;</operator><name pos:start="175:20" pos:end="175:28">pict_bufs</name><index pos:start="175:29" pos:end="175:31">[<expr pos:start="175:30" pos:end="175:30"><name pos:start="175:30" pos:end="175:30">x</name></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></for>



    <return pos:start="179:5" pos:end="179:27">return <expr pos:start="179:12" pos:end="179:26"><call pos:start="179:12" pos:end="179:26"><name pos:start="179:12" pos:end="179:18">AVERROR</name><argument_list pos:start="179:19" pos:end="179:26">(<argument pos:start="179:20" pos:end="179:25"><expr pos:start="179:20" pos:end="179:25"><name pos:start="179:20" pos:end="179:25">ENOMEM</name></expr></argument>)</argument_list></call></expr>;</return>

</block_content>}</block></function>
</unit>
