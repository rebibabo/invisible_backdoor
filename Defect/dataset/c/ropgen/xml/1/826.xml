<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:cpp="http://www.srcML.org/srcML/cpp" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/826.c" pos:tabs="8"><function pos:start="1:1" pos:end="443:1"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:27">console_putchar</name><parameter_list pos:start="1:28" pos:end="1:51">(<parameter pos:start="1:29" pos:end="1:42"><decl pos:start="1:29" pos:end="1:42"><type pos:start="1:29" pos:end="1:42"><name pos:start="1:29" pos:end="1:39">TextConsole</name> <modifier pos:start="1:41" pos:end="1:41">*</modifier></type><name pos:start="1:42" pos:end="1:42">s</name></decl></parameter>, <parameter pos:start="1:45" pos:end="1:50"><decl pos:start="1:45" pos:end="1:50"><type pos:start="1:45" pos:end="1:50"><name pos:start="1:45" pos:end="1:47">int</name></type> <name pos:start="1:49" pos:end="1:50">ch</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="443:1">{<block_content pos:start="5:5" pos:end="441:5">

    <decl_stmt pos:start="5:5" pos:end="5:16"><decl pos:start="5:5" pos:end="5:15"><type pos:start="5:5" pos:end="5:14"><name pos:start="5:5" pos:end="5:12">TextCell</name> <modifier pos:start="5:14" pos:end="5:14">*</modifier></type><name pos:start="5:15" pos:end="5:15">c</name></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:14"><decl pos:start="7:5" pos:end="7:10"><type pos:start="7:5" pos:end="7:7"><name pos:start="7:5" pos:end="7:7">int</name></type> <name pos:start="7:9" pos:end="7:10">y1</name></decl>, <decl pos:start="7:13" pos:end="7:13"><type ref="prev" pos:start="7:5" pos:end="7:7"/><name pos:start="7:13" pos:end="7:13">i</name></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:13"><decl pos:start="9:5" pos:end="9:9"><type pos:start="9:5" pos:end="9:7"><name pos:start="9:5" pos:end="9:7">int</name></type> <name pos:start="9:9" pos:end="9:9">x</name></decl>, <decl pos:start="9:12" pos:end="9:12"><type ref="prev" pos:start="9:5" pos:end="9:7"/><name pos:start="9:12" pos:end="9:12">y</name></decl>;</decl_stmt>



    <switch pos:start="13:5" pos:end="441:5">switch<condition pos:start="13:11" pos:end="13:20">(<expr pos:start="13:12" pos:end="13:19"><name pos:start="13:12" pos:end="13:19"><name pos:start="13:12" pos:end="13:12">s</name><operator pos:start="13:13" pos:end="13:14">-&gt;</operator><name pos:start="13:15" pos:end="13:19">state</name></name></expr>)</condition> <block pos:start="13:22" pos:end="441:5">{<block_content pos:start="15:5" pos:end="439:9">

    <case pos:start="15:5" pos:end="15:24">case <expr pos:start="15:10" pos:end="15:23"><name pos:start="15:10" pos:end="15:23">TTY_STATE_NORM</name></expr>:</case>

        <switch pos:start="17:9" pos:end="105:9">switch<condition pos:start="17:15" pos:end="17:18">(<expr pos:start="17:16" pos:end="17:17"><name pos:start="17:16" pos:end="17:17">ch</name></expr>)</condition> <block pos:start="17:20" pos:end="105:9">{<block_content pos:start="19:9" pos:end="103:18">

        <case pos:start="19:9" pos:end="19:18">case <expr pos:start="19:14" pos:end="19:17"><literal type="char" pos:start="19:14" pos:end="19:17">'\r'</literal></expr>:</case>  <comment type="block" pos:start="19:21" pos:end="19:41">/* carriage return */</comment>

            <expr_stmt pos:start="21:13" pos:end="21:21"><expr pos:start="21:13" pos:end="21:20"><name pos:start="21:13" pos:end="21:16"><name pos:start="21:13" pos:end="21:13">s</name><operator pos:start="21:14" pos:end="21:15">-&gt;</operator><name pos:start="21:16" pos:end="21:16">x</name></name> <operator pos:start="21:18" pos:end="21:18">=</operator> <literal type="number" pos:start="21:20" pos:end="21:20">0</literal></expr>;</expr_stmt>

            <break pos:start="23:13" pos:end="23:18">break;</break>

        <case pos:start="25:9" pos:end="25:18">case <expr pos:start="25:14" pos:end="25:17"><literal type="char" pos:start="25:14" pos:end="25:17">'\n'</literal></expr>:</case>  <comment type="block" pos:start="25:21" pos:end="25:33">/* newline */</comment>

            <expr_stmt pos:start="27:13" pos:end="27:30"><expr pos:start="27:13" pos:end="27:29"><call pos:start="27:13" pos:end="27:29"><name pos:start="27:13" pos:end="27:26">console_put_lf</name><argument_list pos:start="27:27" pos:end="27:29">(<argument pos:start="27:28" pos:end="27:28"><expr pos:start="27:28" pos:end="27:28"><name pos:start="27:28" pos:end="27:28">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <break pos:start="29:13" pos:end="29:18">break;</break>

        <case pos:start="31:9" pos:end="31:18">case <expr pos:start="31:14" pos:end="31:17"><literal type="char" pos:start="31:14" pos:end="31:17">'\b'</literal></expr>:</case>  <comment type="block" pos:start="31:21" pos:end="31:35">/* backspace */</comment>

            <if_stmt pos:start="33:13" pos:end="35:23"><if pos:start="33:13" pos:end="35:23">if <condition pos:start="33:16" pos:end="33:25">(<expr pos:start="33:17" pos:end="33:24"><name pos:start="33:17" pos:end="33:20"><name pos:start="33:17" pos:end="33:17">s</name><operator pos:start="33:18" pos:end="33:19">-&gt;</operator><name pos:start="33:20" pos:end="33:20">x</name></name> <operator pos:start="33:22" pos:end="33:22">&gt;</operator> <literal type="number" pos:start="33:24" pos:end="33:24">0</literal></expr>)</condition><block type="pseudo" pos:start="35:17" pos:end="35:23"><block_content pos:start="35:17" pos:end="35:23">

                <expr_stmt pos:start="35:17" pos:end="35:23"><expr pos:start="35:17" pos:end="35:22"><name pos:start="35:17" pos:end="35:20"><name pos:start="35:17" pos:end="35:17">s</name><operator pos:start="35:18" pos:end="35:19">-&gt;</operator><name pos:start="35:20" pos:end="35:20">x</name></name><operator pos:start="35:21" pos:end="35:22">--</operator></expr>;</expr_stmt></block_content></block></if></if_stmt>

            <break pos:start="37:13" pos:end="37:18">break;</break>

        <case pos:start="39:9" pos:end="39:18">case <expr pos:start="39:14" pos:end="39:17"><literal type="char" pos:start="39:14" pos:end="39:17">'\t'</literal></expr>:</case>  <comment type="block" pos:start="39:21" pos:end="39:34">/* tabspace */</comment>

            <if_stmt pos:start="41:13" pos:end="51:13"><if pos:start="41:13" pos:end="47:13">if <condition pos:start="41:16" pos:end="41:51">(<expr pos:start="41:17" pos:end="41:50"><name pos:start="41:17" pos:end="41:20"><name pos:start="41:17" pos:end="41:17">s</name><operator pos:start="41:18" pos:end="41:19">-&gt;</operator><name pos:start="41:20" pos:end="41:20">x</name></name> <operator pos:start="41:22" pos:end="41:22">+</operator> <operator pos:start="41:24" pos:end="41:24">(</operator><literal type="number" pos:start="41:25" pos:end="41:27">8</literal> <operator pos:start="41:27" pos:end="41:27">-</operator> <operator pos:start="41:29" pos:end="41:29">(</operator><name pos:start="41:30" pos:end="41:33"><name pos:start="41:30" pos:end="41:30">s</name><operator pos:start="41:31" pos:end="41:32">-&gt;</operator><name pos:start="41:33" pos:end="41:33">x</name></name> <operator pos:start="41:35" pos:end="41:35">%</operator> <literal type="number" pos:start="41:37" pos:end="41:37">8</literal><operator pos:start="41:38" pos:end="41:38">)</operator><operator pos:start="41:39" pos:end="41:39">)</operator> <operator pos:start="41:41" pos:end="41:41">&gt;</operator> <name pos:start="41:43" pos:end="41:50"><name pos:start="41:43" pos:end="41:43">s</name><operator pos:start="41:44" pos:end="41:45">-&gt;</operator><name pos:start="41:46" pos:end="41:50">width</name></name></expr>)</condition> <block pos:start="41:53" pos:end="47:13">{<block_content pos:start="43:17" pos:end="45:34">

                <expr_stmt pos:start="43:17" pos:end="43:25"><expr pos:start="43:17" pos:end="43:24"><name pos:start="43:17" pos:end="43:20"><name pos:start="43:17" pos:end="43:17">s</name><operator pos:start="43:18" pos:end="43:19">-&gt;</operator><name pos:start="43:20" pos:end="43:20">x</name></name> <operator pos:start="43:22" pos:end="43:22">=</operator> <literal type="number" pos:start="43:24" pos:end="43:24">0</literal></expr>;</expr_stmt>

                <expr_stmt pos:start="45:17" pos:end="45:34"><expr pos:start="45:17" pos:end="45:33"><call pos:start="45:17" pos:end="45:33"><name pos:start="45:17" pos:end="45:30">console_put_lf</name><argument_list pos:start="45:31" pos:end="45:33">(<argument pos:start="45:32" pos:end="45:32"><expr pos:start="45:32" pos:end="45:32"><name pos:start="45:32" pos:end="45:32">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></if> <else pos:start="47:15" pos:end="51:13">else <block pos:start="47:20" pos:end="51:13">{<block_content pos:start="49:17" pos:end="49:47">

                <expr_stmt pos:start="49:17" pos:end="49:47"><expr pos:start="49:17" pos:end="49:46"><name pos:start="49:17" pos:end="49:20"><name pos:start="49:17" pos:end="49:17">s</name><operator pos:start="49:18" pos:end="49:19">-&gt;</operator><name pos:start="49:20" pos:end="49:20">x</name></name> <operator pos:start="49:22" pos:end="49:22">=</operator> <name pos:start="49:24" pos:end="49:27"><name pos:start="49:24" pos:end="49:24">s</name><operator pos:start="49:25" pos:end="49:26">-&gt;</operator><name pos:start="49:27" pos:end="49:27">x</name></name> <operator pos:start="49:29" pos:end="49:29">+</operator> <operator pos:start="49:31" pos:end="49:31">(</operator><literal type="number" pos:start="49:32" pos:end="49:34">8</literal> <operator pos:start="49:34" pos:end="49:34">-</operator> <operator pos:start="49:36" pos:end="49:36">(</operator><name pos:start="49:37" pos:end="49:40"><name pos:start="49:37" pos:end="49:37">s</name><operator pos:start="49:38" pos:end="49:39">-&gt;</operator><name pos:start="49:40" pos:end="49:40">x</name></name> <operator pos:start="49:42" pos:end="49:42">%</operator> <literal type="number" pos:start="49:44" pos:end="49:44">8</literal><operator pos:start="49:45" pos:end="49:45">)</operator><operator pos:start="49:46" pos:end="49:46">)</operator></expr>;</expr_stmt>

            </block_content>}</block></else></if_stmt>

            <break pos:start="53:13" pos:end="53:18">break;</break>

        <case pos:start="55:9" pos:end="55:18">case <expr pos:start="55:14" pos:end="55:17"><literal type="char" pos:start="55:14" pos:end="55:17">'\a'</literal></expr>:</case>  <comment type="block" pos:start="55:21" pos:end="55:41">/* alert aka. bell */</comment>

            <comment type="block" pos:start="57:13" pos:end="57:45">/* TODO: has to be implemented */</comment>

            <break pos:start="59:13" pos:end="59:18">break;</break>

        <case pos:start="61:9" pos:end="61:16">case <expr pos:start="61:14" pos:end="61:15"><literal type="number" pos:start="61:14" pos:end="61:15">14</literal></expr>:</case>

            <comment type="block" pos:start="63:13" pos:end="63:58">/* SI (shift in), character set 0 (ignored) */</comment>

            <break pos:start="65:13" pos:end="65:18">break;</break>

        <case pos:start="67:9" pos:end="67:16">case <expr pos:start="67:14" pos:end="67:15"><literal type="number" pos:start="67:14" pos:end="67:15">15</literal></expr>:</case>

            <comment type="block" pos:start="69:13" pos:end="69:59">/* SO (shift out), character set 1 (ignored) */</comment>

            <break pos:start="71:13" pos:end="71:18">break;</break>

        <case pos:start="73:9" pos:end="73:16">case <expr pos:start="73:14" pos:end="73:15"><literal type="number" pos:start="73:14" pos:end="73:15">27</literal></expr>:</case>    <comment type="block" pos:start="73:21" pos:end="73:62">/* esc (introducing an escape sequence) */</comment>

            <expr_stmt pos:start="75:13" pos:end="75:37"><expr pos:start="75:13" pos:end="75:36"><name pos:start="75:13" pos:end="75:20"><name pos:start="75:13" pos:end="75:13">s</name><operator pos:start="75:14" pos:end="75:15">-&gt;</operator><name pos:start="75:16" pos:end="75:20">state</name></name> <operator pos:start="75:22" pos:end="75:22">=</operator> <name pos:start="75:24" pos:end="75:36">TTY_STATE_ESC</name></expr>;</expr_stmt>

            <break pos:start="77:13" pos:end="77:18">break;</break>

        <default pos:start="79:9" pos:end="79:16">default:</default>

            <if_stmt pos:start="81:13" pos:end="89:13"><if pos:start="81:13" pos:end="89:13">if <condition pos:start="81:16" pos:end="81:33">(<expr pos:start="81:17" pos:end="81:32"><name pos:start="81:17" pos:end="81:20"><name pos:start="81:17" pos:end="81:17">s</name><operator pos:start="81:18" pos:end="81:19">-&gt;</operator><name pos:start="81:20" pos:end="81:20">x</name></name> <operator pos:start="81:22" pos:end="81:23">&gt;=</operator> <name pos:start="81:25" pos:end="81:32"><name pos:start="81:25" pos:end="81:25">s</name><operator pos:start="81:26" pos:end="81:27">-&gt;</operator><name pos:start="81:28" pos:end="81:32">width</name></name></expr>)</condition> <block pos:start="81:35" pos:end="89:13">{<block_content pos:start="85:17" pos:end="87:34">

                <comment type="block" pos:start="83:17" pos:end="83:31">/* line wrap */</comment>

                <expr_stmt pos:start="85:17" pos:end="85:25"><expr pos:start="85:17" pos:end="85:24"><name pos:start="85:17" pos:end="85:20"><name pos:start="85:17" pos:end="85:17">s</name><operator pos:start="85:18" pos:end="85:19">-&gt;</operator><name pos:start="85:20" pos:end="85:20">x</name></name> <operator pos:start="85:22" pos:end="85:22">=</operator> <literal type="number" pos:start="85:24" pos:end="85:24">0</literal></expr>;</expr_stmt>

                <expr_stmt pos:start="87:17" pos:end="87:34"><expr pos:start="87:17" pos:end="87:33"><call pos:start="87:17" pos:end="87:33"><name pos:start="87:17" pos:end="87:30">console_put_lf</name><argument_list pos:start="87:31" pos:end="87:33">(<argument pos:start="87:32" pos:end="87:32"><expr pos:start="87:32" pos:end="87:32"><name pos:start="87:32" pos:end="87:32">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>

            <expr_stmt pos:start="91:13" pos:end="91:54"><expr pos:start="91:13" pos:end="91:53"><name pos:start="91:13" pos:end="91:14">y1</name> <operator pos:start="91:16" pos:end="91:16">=</operator> <operator pos:start="91:18" pos:end="91:18">(</operator><name pos:start="91:19" pos:end="91:27"><name pos:start="91:19" pos:end="91:19">s</name><operator pos:start="91:20" pos:end="91:21">-&gt;</operator><name pos:start="91:22" pos:end="91:27">y_base</name></name> <operator pos:start="91:29" pos:end="91:29">+</operator> <name pos:start="91:31" pos:end="91:34"><name pos:start="91:31" pos:end="91:31">s</name><operator pos:start="91:32" pos:end="91:33">-&gt;</operator><name pos:start="91:34" pos:end="91:34">y</name></name><operator pos:start="91:35" pos:end="91:35">)</operator> <operator pos:start="91:37" pos:end="91:37">%</operator> <name pos:start="91:39" pos:end="91:53"><name pos:start="91:39" pos:end="91:39">s</name><operator pos:start="91:40" pos:end="91:41">-&gt;</operator><name pos:start="91:42" pos:end="91:53">total_height</name></name></expr>;</expr_stmt>

            <expr_stmt pos:start="93:13" pos:end="93:48"><expr pos:start="93:13" pos:end="93:47"><name pos:start="93:13" pos:end="93:13">c</name> <operator pos:start="93:15" pos:end="93:15">=</operator> <operator pos:start="93:17" pos:end="93:17">&amp;</operator><name pos:start="93:18" pos:end="93:47"><name pos:start="93:18" pos:end="93:18">s</name><operator pos:start="93:19" pos:end="93:20">-&gt;</operator><name pos:start="93:21" pos:end="93:25">cells</name><index pos:start="93:26" pos:end="93:47">[<expr pos:start="93:27" pos:end="93:46"><name pos:start="93:27" pos:end="93:28">y1</name> <operator pos:start="93:30" pos:end="93:30">*</operator> <name pos:start="93:32" pos:end="93:39"><name pos:start="93:32" pos:end="93:32">s</name><operator pos:start="93:33" pos:end="93:34">-&gt;</operator><name pos:start="93:35" pos:end="93:39">width</name></name> <operator pos:start="93:41" pos:end="93:41">+</operator> <name pos:start="93:43" pos:end="93:46"><name pos:start="93:43" pos:end="93:43">s</name><operator pos:start="93:44" pos:end="93:45">-&gt;</operator><name pos:start="93:46" pos:end="93:46">x</name></name></expr>]</index></name></expr>;</expr_stmt>

            <expr_stmt pos:start="95:13" pos:end="95:23"><expr pos:start="95:13" pos:end="95:22"><name pos:start="95:13" pos:end="95:17"><name pos:start="95:13" pos:end="95:13">c</name><operator pos:start="95:14" pos:end="95:15">-&gt;</operator><name pos:start="95:16" pos:end="95:17">ch</name></name> <operator pos:start="95:19" pos:end="95:19">=</operator> <name pos:start="95:21" pos:end="95:22">ch</name></expr>;</expr_stmt>

            <expr_stmt pos:start="97:13" pos:end="97:38"><expr pos:start="97:13" pos:end="97:37"><name pos:start="97:13" pos:end="97:23"><name pos:start="97:13" pos:end="97:13">c</name><operator pos:start="97:14" pos:end="97:15">-&gt;</operator><name pos:start="97:16" pos:end="97:23">t_attrib</name></name> <operator pos:start="97:25" pos:end="97:25">=</operator> <name pos:start="97:27" pos:end="97:37"><name pos:start="97:27" pos:end="97:27">s</name><operator pos:start="97:28" pos:end="97:29">-&gt;</operator><name pos:start="97:30" pos:end="97:37">t_attrib</name></name></expr>;</expr_stmt>

            <expr_stmt pos:start="99:13" pos:end="99:37"><expr pos:start="99:13" pos:end="99:36"><call pos:start="99:13" pos:end="99:36"><name pos:start="99:13" pos:end="99:21">update_xy</name><argument_list pos:start="99:22" pos:end="99:36">(<argument pos:start="99:23" pos:end="99:23"><expr pos:start="99:23" pos:end="99:23"><name pos:start="99:23" pos:end="99:23">s</name></expr></argument>, <argument pos:start="99:26" pos:end="99:29"><expr pos:start="99:26" pos:end="99:29"><name pos:start="99:26" pos:end="99:29"><name pos:start="99:26" pos:end="99:26">s</name><operator pos:start="99:27" pos:end="99:28">-&gt;</operator><name pos:start="99:29" pos:end="99:29">x</name></name></expr></argument>, <argument pos:start="99:32" pos:end="99:35"><expr pos:start="99:32" pos:end="99:35"><name pos:start="99:32" pos:end="99:35"><name pos:start="99:32" pos:end="99:32">s</name><operator pos:start="99:33" pos:end="99:34">-&gt;</operator><name pos:start="99:35" pos:end="99:35">y</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="101:13" pos:end="101:19"><expr pos:start="101:13" pos:end="101:18"><name pos:start="101:13" pos:end="101:16"><name pos:start="101:13" pos:end="101:13">s</name><operator pos:start="101:14" pos:end="101:15">-&gt;</operator><name pos:start="101:16" pos:end="101:16">x</name></name><operator pos:start="101:17" pos:end="101:18">++</operator></expr>;</expr_stmt>

            <break pos:start="103:13" pos:end="103:18">break;</break>

        </block_content>}</block></switch>

        <break pos:start="107:9" pos:end="107:14">break;</break>

    <case pos:start="109:5" pos:end="109:23">case <expr pos:start="109:10" pos:end="109:22"><name pos:start="109:10" pos:end="109:22">TTY_STATE_ESC</name></expr>:</case> <comment type="block" pos:start="109:25" pos:end="109:71">/* check if it is a terminal escape sequence */</comment>

        <if_stmt pos:start="111:9" pos:end="125:9"><if pos:start="111:9" pos:end="121:9">if <condition pos:start="111:12" pos:end="111:22">(<expr pos:start="111:13" pos:end="111:21"><name pos:start="111:13" pos:end="111:14">ch</name> <operator pos:start="111:16" pos:end="111:17">==</operator> <literal type="char" pos:start="111:19" pos:end="111:21">'['</literal></expr>)</condition> <block pos:start="111:24" pos:end="121:9">{<block_content pos:start="113:13" pos:end="119:37">

            <for pos:start="113:13" pos:end="115:37">for<control pos:start="113:16" pos:end="113:41">(<init pos:start="113:17" pos:end="113:20"><expr pos:start="113:17" pos:end="113:19"><name pos:start="113:17" pos:end="113:17">i</name><operator pos:start="113:18" pos:end="113:18">=</operator><literal type="number" pos:start="113:19" pos:end="113:19">0</literal></expr>;</init><condition pos:start="113:21" pos:end="113:37"><expr pos:start="113:21" pos:end="113:36"><name pos:start="113:21" pos:end="113:21">i</name><operator pos:start="113:22" pos:end="113:22">&lt;</operator><name pos:start="113:23" pos:end="113:36">MAX_ESC_PARAMS</name></expr>;</condition><incr pos:start="113:38" pos:end="113:40"><expr pos:start="113:38" pos:end="113:40"><name pos:start="113:38" pos:end="113:38">i</name><operator pos:start="113:39" pos:end="113:40">++</operator></expr></incr>)</control><block type="pseudo" pos:start="115:17" pos:end="115:37"><block_content pos:start="115:17" pos:end="115:37">

                <expr_stmt pos:start="115:17" pos:end="115:37"><expr pos:start="115:17" pos:end="115:36"><name pos:start="115:17" pos:end="115:32"><name pos:start="115:17" pos:end="115:17">s</name><operator pos:start="115:18" pos:end="115:19">-&gt;</operator><name pos:start="115:20" pos:end="115:29">esc_params</name><index pos:start="115:30" pos:end="115:32">[<expr pos:start="115:31" pos:end="115:31"><name pos:start="115:31" pos:end="115:31">i</name></expr>]</index></name> <operator pos:start="115:34" pos:end="115:34">=</operator> <literal type="number" pos:start="115:36" pos:end="115:36">0</literal></expr>;</expr_stmt></block_content></block></for>

            <expr_stmt pos:start="117:13" pos:end="117:33"><expr pos:start="117:13" pos:end="117:32"><name pos:start="117:13" pos:end="117:28"><name pos:start="117:13" pos:end="117:13">s</name><operator pos:start="117:14" pos:end="117:15">-&gt;</operator><name pos:start="117:16" pos:end="117:28">nb_esc_params</name></name> <operator pos:start="117:30" pos:end="117:30">=</operator> <literal type="number" pos:start="117:32" pos:end="117:32">0</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="119:13" pos:end="119:37"><expr pos:start="119:13" pos:end="119:36"><name pos:start="119:13" pos:end="119:20"><name pos:start="119:13" pos:end="119:13">s</name><operator pos:start="119:14" pos:end="119:15">-&gt;</operator><name pos:start="119:16" pos:end="119:20">state</name></name> <operator pos:start="119:22" pos:end="119:22">=</operator> <name pos:start="119:24" pos:end="119:36">TTY_STATE_CSI</name></expr>;</expr_stmt>

        </block_content>}</block></if> <else pos:start="121:11" pos:end="125:9">else <block pos:start="121:16" pos:end="125:9">{<block_content pos:start="123:13" pos:end="123:38">

            <expr_stmt pos:start="123:13" pos:end="123:38"><expr pos:start="123:13" pos:end="123:37"><name pos:start="123:13" pos:end="123:20"><name pos:start="123:13" pos:end="123:13">s</name><operator pos:start="123:14" pos:end="123:15">-&gt;</operator><name pos:start="123:16" pos:end="123:20">state</name></name> <operator pos:start="123:22" pos:end="123:22">=</operator> <name pos:start="123:24" pos:end="123:37">TTY_STATE_NORM</name></expr>;</expr_stmt>

        </block_content>}</block></else></if_stmt>

        <break pos:start="127:9" pos:end="127:14">break;</break>

    <case pos:start="129:5" pos:end="129:23">case <expr pos:start="129:10" pos:end="129:22"><name pos:start="129:10" pos:end="129:22">TTY_STATE_CSI</name></expr>:</case> <comment type="block" pos:start="129:25" pos:end="129:63">/* handle escape sequence parameters */</comment>

        <if_stmt pos:start="131:9" pos:end="439:9"><if pos:start="131:9" pos:end="141:9">if <condition pos:start="131:12" pos:end="131:35">(<expr pos:start="131:13" pos:end="131:34"><name pos:start="131:13" pos:end="131:14">ch</name> <operator pos:start="131:16" pos:end="131:17">&gt;=</operator> <literal type="char" pos:start="131:19" pos:end="131:21">'0'</literal> <operator pos:start="131:23" pos:end="131:24">&amp;&amp;</operator> <name pos:start="131:26" pos:end="131:27">ch</name> <operator pos:start="131:29" pos:end="131:30">&lt;=</operator> <literal type="char" pos:start="131:32" pos:end="131:34">'9'</literal></expr>)</condition> <block pos:start="131:37" pos:end="141:9">{<block_content pos:start="133:13" pos:end="139:13">

            <if_stmt pos:start="133:13" pos:end="139:13"><if pos:start="133:13" pos:end="139:13">if <condition pos:start="133:16" pos:end="133:50">(<expr pos:start="133:17" pos:end="133:49"><name pos:start="133:17" pos:end="133:32"><name pos:start="133:17" pos:end="133:17">s</name><operator pos:start="133:18" pos:end="133:19">-&gt;</operator><name pos:start="133:20" pos:end="133:32">nb_esc_params</name></name> <operator pos:start="133:34" pos:end="133:34">&lt;</operator> <name pos:start="133:36" pos:end="133:49">MAX_ESC_PARAMS</name></expr>)</condition> <block pos:start="133:52" pos:end="139:13">{<block_content pos:start="135:17" pos:end="137:68">

                <expr_stmt pos:start="135:17" pos:end="137:68"><expr pos:start="135:17" pos:end="137:67"><name pos:start="135:17" pos:end="135:47"><name pos:start="135:17" pos:end="135:17">s</name><operator pos:start="135:18" pos:end="135:19">-&gt;</operator><name pos:start="135:20" pos:end="135:29">esc_params</name><index pos:start="135:30" pos:end="135:47">[<expr pos:start="135:31" pos:end="135:46"><name pos:start="135:31" pos:end="135:46"><name pos:start="135:31" pos:end="135:31">s</name><operator pos:start="135:32" pos:end="135:33">-&gt;</operator><name pos:start="135:34" pos:end="135:46">nb_esc_params</name></name></expr>]</index></name> <operator pos:start="135:49" pos:end="135:49">=</operator>

                    <name pos:start="137:21" pos:end="137:51"><name pos:start="137:21" pos:end="137:21">s</name><operator pos:start="137:22" pos:end="137:23">-&gt;</operator><name pos:start="137:24" pos:end="137:33">esc_params</name><index pos:start="137:34" pos:end="137:51">[<expr pos:start="137:35" pos:end="137:50"><name pos:start="137:35" pos:end="137:50"><name pos:start="137:35" pos:end="137:35">s</name><operator pos:start="137:36" pos:end="137:37">-&gt;</operator><name pos:start="137:38" pos:end="137:50">nb_esc_params</name></name></expr>]</index></name> <operator pos:start="137:53" pos:end="137:53">*</operator> <literal type="number" pos:start="137:55" pos:end="137:58">10</literal> <operator pos:start="137:58" pos:end="137:58">+</operator> <name pos:start="137:60" pos:end="137:61">ch</name> <operator pos:start="137:63" pos:end="137:63">-</operator> <literal type="char" pos:start="137:65" pos:end="137:67">'0'</literal></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>

        </block_content>}</block></if> <else pos:start="141:11" pos:end="439:9">else <block pos:start="141:16" pos:end="439:9">{<block_content pos:start="143:13" pos:end="437:18">

            <expr_stmt pos:start="143:13" pos:end="143:31"><expr pos:start="143:13" pos:end="143:30"><name pos:start="143:13" pos:end="143:28"><name pos:start="143:13" pos:end="143:13">s</name><operator pos:start="143:14" pos:end="143:15">-&gt;</operator><name pos:start="143:16" pos:end="143:28">nb_esc_params</name></name><operator pos:start="143:29" pos:end="143:30">++</operator></expr>;</expr_stmt>

            <if_stmt pos:start="145:13" pos:end="150:0"><if pos:start="145:13" pos:end="150:0">if <condition pos:start="145:16" pos:end="145:26">(<expr pos:start="145:17" pos:end="145:25"><name pos:start="145:17" pos:end="145:18">ch</name> <operator pos:start="145:20" pos:end="145:21">==</operator> <literal type="char" pos:start="145:23" pos:end="145:25">';'</literal></expr>)</condition><block type="pseudo" pos:start="147:17" pos:end="150:0"><block_content pos:start="147:17" pos:end="150:0">

                <break pos:start="147:17" pos:end="150:0">break;</break></block_content></block></if></if_stmt>

<cpp:ifdef pos:start="149:1" pos:end="149:20">#<cpp:directive pos:start="149:2" pos:end="149:6">ifdef</cpp:directive> <name pos:start="149:8" pos:end="149:20">DEBUG_CONSOLE</name></cpp:ifdef>

            <expr_stmt pos:start="151:13" pos:end="156:0"><expr pos:start="151:13" pos:end="153:77"><call pos:start="151:13" pos:end="153:77"><name pos:start="151:13" pos:end="151:19">fprintf</name><argument_list pos:start="151:20" pos:end="153:77">(<argument pos:start="151:21" pos:end="151:26"><expr pos:start="151:21" pos:end="151:26"><name pos:start="151:21" pos:end="151:26">stderr</name></expr></argument>, <argument pos:start="151:29" pos:end="151:73"><expr pos:start="151:29" pos:end="151:73"><literal type="string" pos:start="151:29" pos:end="151:73">"escape sequence CSI%d;%d%c, %d parameters\n"</literal></expr></argument>,

                    <argument pos:start="153:21" pos:end="153:36"><expr pos:start="153:21" pos:end="153:36"><name pos:start="153:21" pos:end="153:36"><name pos:start="153:21" pos:end="153:21">s</name><operator pos:start="153:22" pos:end="153:23">-&gt;</operator><name pos:start="153:24" pos:end="153:33">esc_params</name><index pos:start="153:34" pos:end="153:36">[<expr pos:start="153:35" pos:end="153:35"><literal type="number" pos:start="153:35" pos:end="153:35">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="153:39" pos:end="153:54"><expr pos:start="153:39" pos:end="153:54"><name pos:start="153:39" pos:end="153:54"><name pos:start="153:39" pos:end="153:39">s</name><operator pos:start="153:40" pos:end="153:41">-&gt;</operator><name pos:start="153:42" pos:end="153:51">esc_params</name><index pos:start="153:52" pos:end="153:54">[<expr pos:start="153:53" pos:end="153:53"><literal type="number" pos:start="153:53" pos:end="153:53">1</literal></expr>]</index></name></expr></argument>, <argument pos:start="153:57" pos:end="153:58"><expr pos:start="153:57" pos:end="153:58"><name pos:start="153:57" pos:end="153:58">ch</name></expr></argument>, <argument pos:start="153:61" pos:end="153:76"><expr pos:start="153:61" pos:end="153:76"><name pos:start="153:61" pos:end="153:76"><name pos:start="153:61" pos:end="153:61">s</name><operator pos:start="153:62" pos:end="153:63">-&gt;</operator><name pos:start="153:64" pos:end="153:76">nb_esc_params</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

<cpp:endif pos:start="155:1" pos:end="155:6">#<cpp:directive pos:start="155:2" pos:end="155:6">endif</cpp:directive></cpp:endif>

            <expr_stmt pos:start="157:13" pos:end="157:38"><expr pos:start="157:13" pos:end="157:37"><name pos:start="157:13" pos:end="157:20"><name pos:start="157:13" pos:end="157:13">s</name><operator pos:start="157:14" pos:end="157:15">-&gt;</operator><name pos:start="157:16" pos:end="157:20">state</name></name> <operator pos:start="157:22" pos:end="157:22">=</operator> <name pos:start="157:24" pos:end="157:37">TTY_STATE_NORM</name></expr>;</expr_stmt>

            <switch pos:start="159:13" pos:end="435:13">switch<condition pos:start="159:19" pos:end="159:22">(<expr pos:start="159:20" pos:end="159:21"><name pos:start="159:20" pos:end="159:21">ch</name></expr>)</condition> <block pos:start="159:24" pos:end="435:13">{<block_content pos:start="161:13" pos:end="433:22">

            <case pos:start="161:13" pos:end="161:21">case <expr pos:start="161:18" pos:end="161:20"><literal type="char" pos:start="161:18" pos:end="161:20">'A'</literal></expr>:</case>

                <comment type="block" pos:start="163:17" pos:end="163:36">/* move cursor up */</comment>

                <if_stmt pos:start="165:17" pos:end="169:17"><if pos:start="165:17" pos:end="169:17">if <condition pos:start="165:20" pos:end="165:42">(<expr pos:start="165:21" pos:end="165:41"><name pos:start="165:21" pos:end="165:36"><name pos:start="165:21" pos:end="165:21">s</name><operator pos:start="165:22" pos:end="165:23">-&gt;</operator><name pos:start="165:24" pos:end="165:33">esc_params</name><index pos:start="165:34" pos:end="165:36">[<expr pos:start="165:35" pos:end="165:35"><literal type="number" pos:start="165:35" pos:end="165:35">0</literal></expr>]</index></name> <operator pos:start="165:38" pos:end="165:39">==</operator> <literal type="number" pos:start="165:41" pos:end="165:41">0</literal></expr>)</condition> <block pos:start="165:44" pos:end="169:17">{<block_content pos:start="167:21" pos:end="167:41">

                    <expr_stmt pos:start="167:21" pos:end="167:41"><expr pos:start="167:21" pos:end="167:40"><name pos:start="167:21" pos:end="167:36"><name pos:start="167:21" pos:end="167:21">s</name><operator pos:start="167:22" pos:end="167:23">-&gt;</operator><name pos:start="167:24" pos:end="167:33">esc_params</name><index pos:start="167:34" pos:end="167:36">[<expr pos:start="167:35" pos:end="167:35"><literal type="number" pos:start="167:35" pos:end="167:35">0</literal></expr>]</index></name> <operator pos:start="167:38" pos:end="167:38">=</operator> <literal type="number" pos:start="167:40" pos:end="167:40">1</literal></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

                <expr_stmt pos:start="171:17" pos:end="171:41"><expr pos:start="171:17" pos:end="171:40"><name pos:start="171:17" pos:end="171:20"><name pos:start="171:17" pos:end="171:17">s</name><operator pos:start="171:18" pos:end="171:19">-&gt;</operator><name pos:start="171:20" pos:end="171:20">y</name></name> <operator pos:start="171:22" pos:end="171:23">-=</operator> <name pos:start="171:25" pos:end="171:40"><name pos:start="171:25" pos:end="171:25">s</name><operator pos:start="171:26" pos:end="171:27">-&gt;</operator><name pos:start="171:28" pos:end="171:37">esc_params</name><index pos:start="171:38" pos:end="171:40">[<expr pos:start="171:39" pos:end="171:39"><literal type="number" pos:start="171:39" pos:end="171:39">0</literal></expr>]</index></name></expr>;</expr_stmt>

                <if_stmt pos:start="173:17" pos:end="177:17"><if pos:start="173:17" pos:end="177:17">if <condition pos:start="173:20" pos:end="173:29">(<expr pos:start="173:21" pos:end="173:28"><name pos:start="173:21" pos:end="173:24"><name pos:start="173:21" pos:end="173:21">s</name><operator pos:start="173:22" pos:end="173:23">-&gt;</operator><name pos:start="173:24" pos:end="173:24">y</name></name> <operator pos:start="173:26" pos:end="173:26">&lt;</operator> <literal type="number" pos:start="173:28" pos:end="173:28">0</literal></expr>)</condition> <block pos:start="173:31" pos:end="177:17">{<block_content pos:start="175:21" pos:end="175:29">

                    <expr_stmt pos:start="175:21" pos:end="175:29"><expr pos:start="175:21" pos:end="175:28"><name pos:start="175:21" pos:end="175:24"><name pos:start="175:21" pos:end="175:21">s</name><operator pos:start="175:22" pos:end="175:23">-&gt;</operator><name pos:start="175:24" pos:end="175:24">y</name></name> <operator pos:start="175:26" pos:end="175:26">=</operator> <literal type="number" pos:start="175:28" pos:end="175:28">0</literal></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

                <break pos:start="179:17" pos:end="179:22">break;</break>

            <case pos:start="181:13" pos:end="181:21">case <expr pos:start="181:18" pos:end="181:20"><literal type="char" pos:start="181:18" pos:end="181:20">'B'</literal></expr>:</case>

                <comment type="block" pos:start="183:17" pos:end="183:38">/* move cursor down */</comment>

                <if_stmt pos:start="185:17" pos:end="189:17"><if pos:start="185:17" pos:end="189:17">if <condition pos:start="185:20" pos:end="185:42">(<expr pos:start="185:21" pos:end="185:41"><name pos:start="185:21" pos:end="185:36"><name pos:start="185:21" pos:end="185:21">s</name><operator pos:start="185:22" pos:end="185:23">-&gt;</operator><name pos:start="185:24" pos:end="185:33">esc_params</name><index pos:start="185:34" pos:end="185:36">[<expr pos:start="185:35" pos:end="185:35"><literal type="number" pos:start="185:35" pos:end="185:35">0</literal></expr>]</index></name> <operator pos:start="185:38" pos:end="185:39">==</operator> <literal type="number" pos:start="185:41" pos:end="185:41">0</literal></expr>)</condition> <block pos:start="185:44" pos:end="189:17">{<block_content pos:start="187:21" pos:end="187:41">

                    <expr_stmt pos:start="187:21" pos:end="187:41"><expr pos:start="187:21" pos:end="187:40"><name pos:start="187:21" pos:end="187:36"><name pos:start="187:21" pos:end="187:21">s</name><operator pos:start="187:22" pos:end="187:23">-&gt;</operator><name pos:start="187:24" pos:end="187:33">esc_params</name><index pos:start="187:34" pos:end="187:36">[<expr pos:start="187:35" pos:end="187:35"><literal type="number" pos:start="187:35" pos:end="187:35">0</literal></expr>]</index></name> <operator pos:start="187:38" pos:end="187:38">=</operator> <literal type="number" pos:start="187:40" pos:end="187:40">1</literal></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

                <expr_stmt pos:start="191:17" pos:end="191:41"><expr pos:start="191:17" pos:end="191:40"><name pos:start="191:17" pos:end="191:20"><name pos:start="191:17" pos:end="191:17">s</name><operator pos:start="191:18" pos:end="191:19">-&gt;</operator><name pos:start="191:20" pos:end="191:20">y</name></name> <operator pos:start="191:22" pos:end="191:23">+=</operator> <name pos:start="191:25" pos:end="191:40"><name pos:start="191:25" pos:end="191:25">s</name><operator pos:start="191:26" pos:end="191:27">-&gt;</operator><name pos:start="191:28" pos:end="191:37">esc_params</name><index pos:start="191:38" pos:end="191:40">[<expr pos:start="191:39" pos:end="191:39"><literal type="number" pos:start="191:39" pos:end="191:39">0</literal></expr>]</index></name></expr>;</expr_stmt>

                <if_stmt pos:start="193:17" pos:end="197:17"><if pos:start="193:17" pos:end="197:17">if <condition pos:start="193:20" pos:end="193:38">(<expr pos:start="193:21" pos:end="193:37"><name pos:start="193:21" pos:end="193:24"><name pos:start="193:21" pos:end="193:21">s</name><operator pos:start="193:22" pos:end="193:23">-&gt;</operator><name pos:start="193:24" pos:end="193:24">y</name></name> <operator pos:start="193:26" pos:end="193:27">&gt;=</operator> <name pos:start="193:29" pos:end="193:37"><name pos:start="193:29" pos:end="193:29">s</name><operator pos:start="193:30" pos:end="193:31">-&gt;</operator><name pos:start="193:32" pos:end="193:37">height</name></name></expr>)</condition> <block pos:start="193:40" pos:end="197:17">{<block_content pos:start="195:21" pos:end="195:41">

                    <expr_stmt pos:start="195:21" pos:end="195:41"><expr pos:start="195:21" pos:end="195:40"><name pos:start="195:21" pos:end="195:24"><name pos:start="195:21" pos:end="195:21">s</name><operator pos:start="195:22" pos:end="195:23">-&gt;</operator><name pos:start="195:24" pos:end="195:24">y</name></name> <operator pos:start="195:26" pos:end="195:26">=</operator> <name pos:start="195:28" pos:end="195:36"><name pos:start="195:28" pos:end="195:28">s</name><operator pos:start="195:29" pos:end="195:30">-&gt;</operator><name pos:start="195:31" pos:end="195:36">height</name></name> <operator pos:start="195:38" pos:end="195:38">-</operator> <literal type="number" pos:start="195:40" pos:end="195:40">1</literal></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

                <break pos:start="199:17" pos:end="199:22">break;</break>

            <case pos:start="201:13" pos:end="201:21">case <expr pos:start="201:18" pos:end="201:20"><literal type="char" pos:start="201:18" pos:end="201:20">'C'</literal></expr>:</case>

                <comment type="block" pos:start="203:17" pos:end="203:39">/* move cursor right */</comment>

                <if_stmt pos:start="205:17" pos:end="209:17"><if pos:start="205:17" pos:end="209:17">if <condition pos:start="205:20" pos:end="205:42">(<expr pos:start="205:21" pos:end="205:41"><name pos:start="205:21" pos:end="205:36"><name pos:start="205:21" pos:end="205:21">s</name><operator pos:start="205:22" pos:end="205:23">-&gt;</operator><name pos:start="205:24" pos:end="205:33">esc_params</name><index pos:start="205:34" pos:end="205:36">[<expr pos:start="205:35" pos:end="205:35"><literal type="number" pos:start="205:35" pos:end="205:35">0</literal></expr>]</index></name> <operator pos:start="205:38" pos:end="205:39">==</operator> <literal type="number" pos:start="205:41" pos:end="205:41">0</literal></expr>)</condition> <block pos:start="205:44" pos:end="209:17">{<block_content pos:start="207:21" pos:end="207:41">

                    <expr_stmt pos:start="207:21" pos:end="207:41"><expr pos:start="207:21" pos:end="207:40"><name pos:start="207:21" pos:end="207:36"><name pos:start="207:21" pos:end="207:21">s</name><operator pos:start="207:22" pos:end="207:23">-&gt;</operator><name pos:start="207:24" pos:end="207:33">esc_params</name><index pos:start="207:34" pos:end="207:36">[<expr pos:start="207:35" pos:end="207:35"><literal type="number" pos:start="207:35" pos:end="207:35">0</literal></expr>]</index></name> <operator pos:start="207:38" pos:end="207:38">=</operator> <literal type="number" pos:start="207:40" pos:end="207:40">1</literal></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

                <expr_stmt pos:start="211:17" pos:end="211:41"><expr pos:start="211:17" pos:end="211:40"><name pos:start="211:17" pos:end="211:20"><name pos:start="211:17" pos:end="211:17">s</name><operator pos:start="211:18" pos:end="211:19">-&gt;</operator><name pos:start="211:20" pos:end="211:20">x</name></name> <operator pos:start="211:22" pos:end="211:23">+=</operator> <name pos:start="211:25" pos:end="211:40"><name pos:start="211:25" pos:end="211:25">s</name><operator pos:start="211:26" pos:end="211:27">-&gt;</operator><name pos:start="211:28" pos:end="211:37">esc_params</name><index pos:start="211:38" pos:end="211:40">[<expr pos:start="211:39" pos:end="211:39"><literal type="number" pos:start="211:39" pos:end="211:39">0</literal></expr>]</index></name></expr>;</expr_stmt>

                <if_stmt pos:start="213:17" pos:end="217:17"><if pos:start="213:17" pos:end="217:17">if <condition pos:start="213:20" pos:end="213:37">(<expr pos:start="213:21" pos:end="213:36"><name pos:start="213:21" pos:end="213:24"><name pos:start="213:21" pos:end="213:21">s</name><operator pos:start="213:22" pos:end="213:23">-&gt;</operator><name pos:start="213:24" pos:end="213:24">x</name></name> <operator pos:start="213:26" pos:end="213:27">&gt;=</operator> <name pos:start="213:29" pos:end="213:36"><name pos:start="213:29" pos:end="213:29">s</name><operator pos:start="213:30" pos:end="213:31">-&gt;</operator><name pos:start="213:32" pos:end="213:36">width</name></name></expr>)</condition> <block pos:start="213:39" pos:end="217:17">{<block_content pos:start="215:21" pos:end="215:40">

                    <expr_stmt pos:start="215:21" pos:end="215:40"><expr pos:start="215:21" pos:end="215:39"><name pos:start="215:21" pos:end="215:24"><name pos:start="215:21" pos:end="215:21">s</name><operator pos:start="215:22" pos:end="215:23">-&gt;</operator><name pos:start="215:24" pos:end="215:24">x</name></name> <operator pos:start="215:26" pos:end="215:26">=</operator> <name pos:start="215:28" pos:end="215:35"><name pos:start="215:28" pos:end="215:28">s</name><operator pos:start="215:29" pos:end="215:30">-&gt;</operator><name pos:start="215:31" pos:end="215:35">width</name></name> <operator pos:start="215:37" pos:end="215:37">-</operator> <literal type="number" pos:start="215:39" pos:end="215:39">1</literal></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

                <break pos:start="219:17" pos:end="219:22">break;</break>

            <case pos:start="221:13" pos:end="221:21">case <expr pos:start="221:18" pos:end="221:20"><literal type="char" pos:start="221:18" pos:end="221:20">'D'</literal></expr>:</case>

                <comment type="block" pos:start="223:17" pos:end="223:38">/* move cursor left */</comment>

                <if_stmt pos:start="225:17" pos:end="229:17"><if pos:start="225:17" pos:end="229:17">if <condition pos:start="225:20" pos:end="225:42">(<expr pos:start="225:21" pos:end="225:41"><name pos:start="225:21" pos:end="225:36"><name pos:start="225:21" pos:end="225:21">s</name><operator pos:start="225:22" pos:end="225:23">-&gt;</operator><name pos:start="225:24" pos:end="225:33">esc_params</name><index pos:start="225:34" pos:end="225:36">[<expr pos:start="225:35" pos:end="225:35"><literal type="number" pos:start="225:35" pos:end="225:35">0</literal></expr>]</index></name> <operator pos:start="225:38" pos:end="225:39">==</operator> <literal type="number" pos:start="225:41" pos:end="225:41">0</literal></expr>)</condition> <block pos:start="225:44" pos:end="229:17">{<block_content pos:start="227:21" pos:end="227:41">

                    <expr_stmt pos:start="227:21" pos:end="227:41"><expr pos:start="227:21" pos:end="227:40"><name pos:start="227:21" pos:end="227:36"><name pos:start="227:21" pos:end="227:21">s</name><operator pos:start="227:22" pos:end="227:23">-&gt;</operator><name pos:start="227:24" pos:end="227:33">esc_params</name><index pos:start="227:34" pos:end="227:36">[<expr pos:start="227:35" pos:end="227:35"><literal type="number" pos:start="227:35" pos:end="227:35">0</literal></expr>]</index></name> <operator pos:start="227:38" pos:end="227:38">=</operator> <literal type="number" pos:start="227:40" pos:end="227:40">1</literal></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

                <expr_stmt pos:start="231:17" pos:end="231:41"><expr pos:start="231:17" pos:end="231:40"><name pos:start="231:17" pos:end="231:20"><name pos:start="231:17" pos:end="231:17">s</name><operator pos:start="231:18" pos:end="231:19">-&gt;</operator><name pos:start="231:20" pos:end="231:20">x</name></name> <operator pos:start="231:22" pos:end="231:23">-=</operator> <name pos:start="231:25" pos:end="231:40"><name pos:start="231:25" pos:end="231:25">s</name><operator pos:start="231:26" pos:end="231:27">-&gt;</operator><name pos:start="231:28" pos:end="231:37">esc_params</name><index pos:start="231:38" pos:end="231:40">[<expr pos:start="231:39" pos:end="231:39"><literal type="number" pos:start="231:39" pos:end="231:39">0</literal></expr>]</index></name></expr>;</expr_stmt>

                <if_stmt pos:start="233:17" pos:end="237:17"><if pos:start="233:17" pos:end="237:17">if <condition pos:start="233:20" pos:end="233:29">(<expr pos:start="233:21" pos:end="233:28"><name pos:start="233:21" pos:end="233:24"><name pos:start="233:21" pos:end="233:21">s</name><operator pos:start="233:22" pos:end="233:23">-&gt;</operator><name pos:start="233:24" pos:end="233:24">x</name></name> <operator pos:start="233:26" pos:end="233:26">&lt;</operator> <literal type="number" pos:start="233:28" pos:end="233:28">0</literal></expr>)</condition> <block pos:start="233:31" pos:end="237:17">{<block_content pos:start="235:21" pos:end="235:29">

                    <expr_stmt pos:start="235:21" pos:end="235:29"><expr pos:start="235:21" pos:end="235:28"><name pos:start="235:21" pos:end="235:24"><name pos:start="235:21" pos:end="235:21">s</name><operator pos:start="235:22" pos:end="235:23">-&gt;</operator><name pos:start="235:24" pos:end="235:24">x</name></name> <operator pos:start="235:26" pos:end="235:26">=</operator> <literal type="number" pos:start="235:28" pos:end="235:28">0</literal></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

                <break pos:start="239:17" pos:end="239:22">break;</break>

            <case pos:start="241:13" pos:end="241:21">case <expr pos:start="241:18" pos:end="241:20"><literal type="char" pos:start="241:18" pos:end="241:20">'G'</literal></expr>:</case>

                <comment type="block" pos:start="243:17" pos:end="243:43">/* move cursor to column */</comment>

                <expr_stmt pos:start="245:17" pos:end="245:44"><expr pos:start="245:17" pos:end="245:43"><name pos:start="245:17" pos:end="245:20"><name pos:start="245:17" pos:end="245:17">s</name><operator pos:start="245:18" pos:end="245:19">-&gt;</operator><name pos:start="245:20" pos:end="245:20">x</name></name> <operator pos:start="245:22" pos:end="245:22">=</operator> <name pos:start="245:24" pos:end="245:39"><name pos:start="245:24" pos:end="245:24">s</name><operator pos:start="245:25" pos:end="245:26">-&gt;</operator><name pos:start="245:27" pos:end="245:36">esc_params</name><index pos:start="245:37" pos:end="245:39">[<expr pos:start="245:38" pos:end="245:38"><literal type="number" pos:start="245:38" pos:end="245:38">0</literal></expr>]</index></name> <operator pos:start="245:41" pos:end="245:41">-</operator> <literal type="number" pos:start="245:43" pos:end="245:43">1</literal></expr>;</expr_stmt>

                <if_stmt pos:start="247:17" pos:end="251:17"><if pos:start="247:17" pos:end="251:17">if <condition pos:start="247:20" pos:end="247:29">(<expr pos:start="247:21" pos:end="247:28"><name pos:start="247:21" pos:end="247:24"><name pos:start="247:21" pos:end="247:21">s</name><operator pos:start="247:22" pos:end="247:23">-&gt;</operator><name pos:start="247:24" pos:end="247:24">x</name></name> <operator pos:start="247:26" pos:end="247:26">&lt;</operator> <literal type="number" pos:start="247:28" pos:end="247:28">0</literal></expr>)</condition> <block pos:start="247:31" pos:end="251:17">{<block_content pos:start="249:21" pos:end="249:29">

                    <expr_stmt pos:start="249:21" pos:end="249:29"><expr pos:start="249:21" pos:end="249:28"><name pos:start="249:21" pos:end="249:24"><name pos:start="249:21" pos:end="249:21">s</name><operator pos:start="249:22" pos:end="249:23">-&gt;</operator><name pos:start="249:24" pos:end="249:24">x</name></name> <operator pos:start="249:26" pos:end="249:26">=</operator> <literal type="number" pos:start="249:28" pos:end="249:28">0</literal></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

                <break pos:start="253:17" pos:end="253:22">break;</break>

            <case pos:start="255:13" pos:end="255:21">case <expr pos:start="255:18" pos:end="255:20"><literal type="char" pos:start="255:18" pos:end="255:20">'f'</literal></expr>:</case>

            <case pos:start="257:13" pos:end="257:21">case <expr pos:start="257:18" pos:end="257:20"><literal type="char" pos:start="257:18" pos:end="257:20">'H'</literal></expr>:</case>

                <comment type="block" pos:start="259:17" pos:end="259:48">/* move cursor to row, column */</comment>

                <expr_stmt pos:start="261:17" pos:end="261:44"><expr pos:start="261:17" pos:end="261:43"><name pos:start="261:17" pos:end="261:20"><name pos:start="261:17" pos:end="261:17">s</name><operator pos:start="261:18" pos:end="261:19">-&gt;</operator><name pos:start="261:20" pos:end="261:20">x</name></name> <operator pos:start="261:22" pos:end="261:22">=</operator> <name pos:start="261:24" pos:end="261:39"><name pos:start="261:24" pos:end="261:24">s</name><operator pos:start="261:25" pos:end="261:26">-&gt;</operator><name pos:start="261:27" pos:end="261:36">esc_params</name><index pos:start="261:37" pos:end="261:39">[<expr pos:start="261:38" pos:end="261:38"><literal type="number" pos:start="261:38" pos:end="261:38">1</literal></expr>]</index></name> <operator pos:start="261:41" pos:end="261:41">-</operator> <literal type="number" pos:start="261:43" pos:end="261:43">1</literal></expr>;</expr_stmt>

                <if_stmt pos:start="263:17" pos:end="267:17"><if pos:start="263:17" pos:end="267:17">if <condition pos:start="263:20" pos:end="263:29">(<expr pos:start="263:21" pos:end="263:28"><name pos:start="263:21" pos:end="263:24"><name pos:start="263:21" pos:end="263:21">s</name><operator pos:start="263:22" pos:end="263:23">-&gt;</operator><name pos:start="263:24" pos:end="263:24">x</name></name> <operator pos:start="263:26" pos:end="263:26">&lt;</operator> <literal type="number" pos:start="263:28" pos:end="263:28">0</literal></expr>)</condition> <block pos:start="263:31" pos:end="267:17">{<block_content pos:start="265:21" pos:end="265:29">

                    <expr_stmt pos:start="265:21" pos:end="265:29"><expr pos:start="265:21" pos:end="265:28"><name pos:start="265:21" pos:end="265:24"><name pos:start="265:21" pos:end="265:21">s</name><operator pos:start="265:22" pos:end="265:23">-&gt;</operator><name pos:start="265:24" pos:end="265:24">x</name></name> <operator pos:start="265:26" pos:end="265:26">=</operator> <literal type="number" pos:start="265:28" pos:end="265:28">0</literal></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

                <expr_stmt pos:start="269:17" pos:end="269:44"><expr pos:start="269:17" pos:end="269:43"><name pos:start="269:17" pos:end="269:20"><name pos:start="269:17" pos:end="269:17">s</name><operator pos:start="269:18" pos:end="269:19">-&gt;</operator><name pos:start="269:20" pos:end="269:20">y</name></name> <operator pos:start="269:22" pos:end="269:22">=</operator> <name pos:start="269:24" pos:end="269:39"><name pos:start="269:24" pos:end="269:24">s</name><operator pos:start="269:25" pos:end="269:26">-&gt;</operator><name pos:start="269:27" pos:end="269:36">esc_params</name><index pos:start="269:37" pos:end="269:39">[<expr pos:start="269:38" pos:end="269:38"><literal type="number" pos:start="269:38" pos:end="269:38">0</literal></expr>]</index></name> <operator pos:start="269:41" pos:end="269:41">-</operator> <literal type="number" pos:start="269:43" pos:end="269:43">1</literal></expr>;</expr_stmt>

                <if_stmt pos:start="271:17" pos:end="275:17"><if pos:start="271:17" pos:end="275:17">if <condition pos:start="271:20" pos:end="271:29">(<expr pos:start="271:21" pos:end="271:28"><name pos:start="271:21" pos:end="271:24"><name pos:start="271:21" pos:end="271:21">s</name><operator pos:start="271:22" pos:end="271:23">-&gt;</operator><name pos:start="271:24" pos:end="271:24">y</name></name> <operator pos:start="271:26" pos:end="271:26">&lt;</operator> <literal type="number" pos:start="271:28" pos:end="271:28">0</literal></expr>)</condition> <block pos:start="271:31" pos:end="275:17">{<block_content pos:start="273:21" pos:end="273:29">

                    <expr_stmt pos:start="273:21" pos:end="273:29"><expr pos:start="273:21" pos:end="273:28"><name pos:start="273:21" pos:end="273:24"><name pos:start="273:21" pos:end="273:21">s</name><operator pos:start="273:22" pos:end="273:23">-&gt;</operator><name pos:start="273:24" pos:end="273:24">y</name></name> <operator pos:start="273:26" pos:end="273:26">=</operator> <literal type="number" pos:start="273:28" pos:end="273:28">0</literal></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

                <break pos:start="277:17" pos:end="277:22">break;</break>

            <case pos:start="279:13" pos:end="279:21">case <expr pos:start="279:18" pos:end="279:20"><literal type="char" pos:start="279:18" pos:end="279:20">'J'</literal></expr>:</case>

                <switch pos:start="281:17" pos:end="343:17">switch <condition pos:start="281:24" pos:end="281:41">(<expr pos:start="281:25" pos:end="281:40"><name pos:start="281:25" pos:end="281:40"><name pos:start="281:25" pos:end="281:25">s</name><operator pos:start="281:26" pos:end="281:27">-&gt;</operator><name pos:start="281:28" pos:end="281:37">esc_params</name><index pos:start="281:38" pos:end="281:40">[<expr pos:start="281:39" pos:end="281:39"><literal type="number" pos:start="281:39" pos:end="281:39">0</literal></expr>]</index></name></expr>)</condition> <block pos:start="281:43" pos:end="343:17">{<block_content pos:start="283:17" pos:end="341:26">

                <case pos:start="283:17" pos:end="283:23">case <expr pos:start="283:22" pos:end="283:22"><literal type="number" pos:start="283:22" pos:end="283:22">0</literal></expr>:</case>

                    <comment type="block" pos:start="285:21" pos:end="285:48">/* clear to end of screen */</comment>

                    <for pos:start="287:21" pos:end="301:21">for <control pos:start="287:25" pos:end="287:54">(<init pos:start="287:26" pos:end="287:34"><expr pos:start="287:26" pos:end="287:33"><name pos:start="287:26" pos:end="287:26">y</name> <operator pos:start="287:28" pos:end="287:28">=</operator> <name pos:start="287:30" pos:end="287:33"><name pos:start="287:30" pos:end="287:30">s</name><operator pos:start="287:31" pos:end="287:32">-&gt;</operator><name pos:start="287:33" pos:end="287:33">y</name></name></expr>;</init> <condition pos:start="287:36" pos:end="287:49"><expr pos:start="287:36" pos:end="287:48"><name pos:start="287:36" pos:end="287:36">y</name> <operator pos:start="287:38" pos:end="287:38">&lt;</operator> <name pos:start="287:40" pos:end="287:48"><name pos:start="287:40" pos:end="287:40">s</name><operator pos:start="287:41" pos:end="287:42">-&gt;</operator><name pos:start="287:43" pos:end="287:48">height</name></name></expr>;</condition> <incr pos:start="287:51" pos:end="287:53"><expr pos:start="287:51" pos:end="287:53"><name pos:start="287:51" pos:end="287:51">y</name><operator pos:start="287:52" pos:end="287:53">++</operator></expr></incr>)</control> <block pos:start="287:56" pos:end="301:21">{<block_content pos:start="289:25" pos:end="299:25">

                        <for pos:start="289:25" pos:end="299:25">for <control pos:start="289:29" pos:end="289:54">(<init pos:start="289:30" pos:end="289:35"><expr pos:start="289:30" pos:end="289:34"><name pos:start="289:30" pos:end="289:30">x</name> <operator pos:start="289:32" pos:end="289:32">=</operator> <literal type="number" pos:start="289:34" pos:end="289:34">0</literal></expr>;</init> <condition pos:start="289:37" pos:end="289:49"><expr pos:start="289:37" pos:end="289:48"><name pos:start="289:37" pos:end="289:37">x</name> <operator pos:start="289:39" pos:end="289:39">&lt;</operator> <name pos:start="289:41" pos:end="289:48"><name pos:start="289:41" pos:end="289:41">s</name><operator pos:start="289:42" pos:end="289:43">-&gt;</operator><name pos:start="289:44" pos:end="289:48">width</name></name></expr>;</condition> <incr pos:start="289:51" pos:end="289:53"><expr pos:start="289:51" pos:end="289:53"><name pos:start="289:51" pos:end="289:51">x</name><operator pos:start="289:52" pos:end="289:53">++</operator></expr></incr>)</control> <block pos:start="289:56" pos:end="299:25">{<block_content pos:start="291:29" pos:end="297:54">

                            <if_stmt pos:start="291:29" pos:end="295:29"><if pos:start="291:29" pos:end="295:29">if <condition pos:start="291:32" pos:end="291:54">(<expr pos:start="291:33" pos:end="291:53"><name pos:start="291:33" pos:end="291:33">y</name> <operator pos:start="291:35" pos:end="291:36">==</operator> <name pos:start="291:38" pos:end="291:41"><name pos:start="291:38" pos:end="291:38">s</name><operator pos:start="291:39" pos:end="291:40">-&gt;</operator><name pos:start="291:41" pos:end="291:41">y</name></name> <operator pos:start="291:43" pos:end="291:44">&amp;&amp;</operator> <name pos:start="291:46" pos:end="291:46">x</name> <operator pos:start="291:48" pos:end="291:48">&lt;</operator> <name pos:start="291:50" pos:end="291:53"><name pos:start="291:50" pos:end="291:50">s</name><operator pos:start="291:51" pos:end="291:52">-&gt;</operator><name pos:start="291:53" pos:end="291:53">x</name></name></expr>)</condition> <block pos:start="291:56" pos:end="295:29">{<block_content pos:start="293:33" pos:end="293:41">

                                <continue pos:start="293:33" pos:end="293:41">continue;</continue>

                            </block_content>}</block></if></if_stmt>

                            <expr_stmt pos:start="297:29" pos:end="297:54"><expr pos:start="297:29" pos:end="297:53"><call pos:start="297:29" pos:end="297:53"><name pos:start="297:29" pos:end="297:44">console_clear_xy</name><argument_list pos:start="297:45" pos:end="297:53">(<argument pos:start="297:46" pos:end="297:46"><expr pos:start="297:46" pos:end="297:46"><name pos:start="297:46" pos:end="297:46">s</name></expr></argument>, <argument pos:start="297:49" pos:end="297:49"><expr pos:start="297:49" pos:end="297:49"><name pos:start="297:49" pos:end="297:49">x</name></expr></argument>, <argument pos:start="297:52" pos:end="297:52"><expr pos:start="297:52" pos:end="297:52"><name pos:start="297:52" pos:end="297:52">y</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                        </block_content>}</block></for>

                    </block_content>}</block></for>

                    <break pos:start="303:21" pos:end="303:26">break;</break>

                <case pos:start="305:17" pos:end="305:23">case <expr pos:start="305:22" pos:end="305:22"><literal type="number" pos:start="305:22" pos:end="305:22">1</literal></expr>:</case>

                    <comment type="block" pos:start="307:21" pos:end="307:56">/* clear from beginning of screen */</comment>

                    <for pos:start="309:21" pos:end="323:21">for <control pos:start="309:25" pos:end="309:47">(<init pos:start="309:26" pos:end="309:31"><expr pos:start="309:26" pos:end="309:30"><name pos:start="309:26" pos:end="309:26">y</name> <operator pos:start="309:28" pos:end="309:28">=</operator> <literal type="number" pos:start="309:30" pos:end="309:30">0</literal></expr>;</init> <condition pos:start="309:33" pos:end="309:42"><expr pos:start="309:33" pos:end="309:41"><name pos:start="309:33" pos:end="309:33">y</name> <operator pos:start="309:35" pos:end="309:36">&lt;=</operator> <name pos:start="309:38" pos:end="309:41"><name pos:start="309:38" pos:end="309:38">s</name><operator pos:start="309:39" pos:end="309:40">-&gt;</operator><name pos:start="309:41" pos:end="309:41">y</name></name></expr>;</condition> <incr pos:start="309:44" pos:end="309:46"><expr pos:start="309:44" pos:end="309:46"><name pos:start="309:44" pos:end="309:44">y</name><operator pos:start="309:45" pos:end="309:46">++</operator></expr></incr>)</control> <block pos:start="309:49" pos:end="323:21">{<block_content pos:start="311:25" pos:end="321:25">

                        <for pos:start="311:25" pos:end="321:25">for <control pos:start="311:29" pos:end="311:54">(<init pos:start="311:30" pos:end="311:35"><expr pos:start="311:30" pos:end="311:34"><name pos:start="311:30" pos:end="311:30">x</name> <operator pos:start="311:32" pos:end="311:32">=</operator> <literal type="number" pos:start="311:34" pos:end="311:34">0</literal></expr>;</init> <condition pos:start="311:37" pos:end="311:49"><expr pos:start="311:37" pos:end="311:48"><name pos:start="311:37" pos:end="311:37">x</name> <operator pos:start="311:39" pos:end="311:39">&lt;</operator> <name pos:start="311:41" pos:end="311:48"><name pos:start="311:41" pos:end="311:41">s</name><operator pos:start="311:42" pos:end="311:43">-&gt;</operator><name pos:start="311:44" pos:end="311:48">width</name></name></expr>;</condition> <incr pos:start="311:51" pos:end="311:53"><expr pos:start="311:51" pos:end="311:53"><name pos:start="311:51" pos:end="311:51">x</name><operator pos:start="311:52" pos:end="311:53">++</operator></expr></incr>)</control> <block pos:start="311:56" pos:end="321:25">{<block_content pos:start="313:29" pos:end="319:54">

                            <if_stmt pos:start="313:29" pos:end="317:29"><if pos:start="313:29" pos:end="317:29">if <condition pos:start="313:32" pos:end="313:54">(<expr pos:start="313:33" pos:end="313:53"><name pos:start="313:33" pos:end="313:33">y</name> <operator pos:start="313:35" pos:end="313:36">==</operator> <name pos:start="313:38" pos:end="313:41"><name pos:start="313:38" pos:end="313:38">s</name><operator pos:start="313:39" pos:end="313:40">-&gt;</operator><name pos:start="313:41" pos:end="313:41">y</name></name> <operator pos:start="313:43" pos:end="313:44">&amp;&amp;</operator> <name pos:start="313:46" pos:end="313:46">x</name> <operator pos:start="313:48" pos:end="313:48">&gt;</operator> <name pos:start="313:50" pos:end="313:53"><name pos:start="313:50" pos:end="313:50">s</name><operator pos:start="313:51" pos:end="313:52">-&gt;</operator><name pos:start="313:53" pos:end="313:53">x</name></name></expr>)</condition> <block pos:start="313:56" pos:end="317:29">{<block_content pos:start="315:33" pos:end="315:38">

                                <break pos:start="315:33" pos:end="315:38">break;</break>

                            </block_content>}</block></if></if_stmt>

                            <expr_stmt pos:start="319:29" pos:end="319:54"><expr pos:start="319:29" pos:end="319:53"><call pos:start="319:29" pos:end="319:53"><name pos:start="319:29" pos:end="319:44">console_clear_xy</name><argument_list pos:start="319:45" pos:end="319:53">(<argument pos:start="319:46" pos:end="319:46"><expr pos:start="319:46" pos:end="319:46"><name pos:start="319:46" pos:end="319:46">s</name></expr></argument>, <argument pos:start="319:49" pos:end="319:49"><expr pos:start="319:49" pos:end="319:49"><name pos:start="319:49" pos:end="319:49">x</name></expr></argument>, <argument pos:start="319:52" pos:end="319:52"><expr pos:start="319:52" pos:end="319:52"><name pos:start="319:52" pos:end="319:52">y</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                        </block_content>}</block></for>

                    </block_content>}</block></for>

                    <break pos:start="325:21" pos:end="325:26">break;</break>

                <case pos:start="327:17" pos:end="327:23">case <expr pos:start="327:22" pos:end="327:22"><literal type="number" pos:start="327:22" pos:end="327:22">2</literal></expr>:</case>

                    <comment type="block" pos:start="329:21" pos:end="329:45">/* clear entire screen */</comment>

                    <for pos:start="331:21" pos:end="339:21">for <control pos:start="331:25" pos:end="331:52">(<init pos:start="331:26" pos:end="331:31"><expr pos:start="331:26" pos:end="331:30"><name pos:start="331:26" pos:end="331:26">y</name> <operator pos:start="331:28" pos:end="331:28">=</operator> <literal type="number" pos:start="331:30" pos:end="331:30">0</literal></expr>;</init> <condition pos:start="331:33" pos:end="331:47"><expr pos:start="331:33" pos:end="331:46"><name pos:start="331:33" pos:end="331:33">y</name> <operator pos:start="331:35" pos:end="331:36">&lt;=</operator> <name pos:start="331:38" pos:end="331:46"><name pos:start="331:38" pos:end="331:38">s</name><operator pos:start="331:39" pos:end="331:40">-&gt;</operator><name pos:start="331:41" pos:end="331:46">height</name></name></expr>;</condition> <incr pos:start="331:49" pos:end="331:51"><expr pos:start="331:49" pos:end="331:51"><name pos:start="331:49" pos:end="331:49">y</name><operator pos:start="331:50" pos:end="331:51">++</operator></expr></incr>)</control> <block pos:start="331:54" pos:end="339:21">{<block_content pos:start="333:25" pos:end="337:25">

                        <for pos:start="333:25" pos:end="337:25">for <control pos:start="333:29" pos:end="333:54">(<init pos:start="333:30" pos:end="333:35"><expr pos:start="333:30" pos:end="333:34"><name pos:start="333:30" pos:end="333:30">x</name> <operator pos:start="333:32" pos:end="333:32">=</operator> <literal type="number" pos:start="333:34" pos:end="333:34">0</literal></expr>;</init> <condition pos:start="333:37" pos:end="333:49"><expr pos:start="333:37" pos:end="333:48"><name pos:start="333:37" pos:end="333:37">x</name> <operator pos:start="333:39" pos:end="333:39">&lt;</operator> <name pos:start="333:41" pos:end="333:48"><name pos:start="333:41" pos:end="333:41">s</name><operator pos:start="333:42" pos:end="333:43">-&gt;</operator><name pos:start="333:44" pos:end="333:48">width</name></name></expr>;</condition> <incr pos:start="333:51" pos:end="333:53"><expr pos:start="333:51" pos:end="333:53"><name pos:start="333:51" pos:end="333:51">x</name><operator pos:start="333:52" pos:end="333:53">++</operator></expr></incr>)</control> <block pos:start="333:56" pos:end="337:25">{<block_content pos:start="335:29" pos:end="335:54">

                            <expr_stmt pos:start="335:29" pos:end="335:54"><expr pos:start="335:29" pos:end="335:53"><call pos:start="335:29" pos:end="335:53"><name pos:start="335:29" pos:end="335:44">console_clear_xy</name><argument_list pos:start="335:45" pos:end="335:53">(<argument pos:start="335:46" pos:end="335:46"><expr pos:start="335:46" pos:end="335:46"><name pos:start="335:46" pos:end="335:46">s</name></expr></argument>, <argument pos:start="335:49" pos:end="335:49"><expr pos:start="335:49" pos:end="335:49"><name pos:start="335:49" pos:end="335:49">x</name></expr></argument>, <argument pos:start="335:52" pos:end="335:52"><expr pos:start="335:52" pos:end="335:52"><name pos:start="335:52" pos:end="335:52">y</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                        </block_content>}</block></for>

                    </block_content>}</block></for>

                    <break pos:start="341:21" pos:end="341:26">break;</break>

                </block_content>}</block></switch>

                <break pos:start="345:17" pos:end="345:22">break;</break>

            <case pos:start="347:13" pos:end="347:21">case <expr pos:start="347:18" pos:end="347:20"><literal type="char" pos:start="347:18" pos:end="347:20">'K'</literal></expr>:</case>

                <switch pos:start="349:17" pos:end="387:17">switch <condition pos:start="349:24" pos:end="349:41">(<expr pos:start="349:25" pos:end="349:40"><name pos:start="349:25" pos:end="349:40"><name pos:start="349:25" pos:end="349:25">s</name><operator pos:start="349:26" pos:end="349:27">-&gt;</operator><name pos:start="349:28" pos:end="349:37">esc_params</name><index pos:start="349:38" pos:end="349:40">[<expr pos:start="349:39" pos:end="349:39"><literal type="number" pos:start="349:39" pos:end="349:39">0</literal></expr>]</index></name></expr>)</condition> <block pos:start="349:43" pos:end="387:17">{<block_content pos:start="351:17" pos:end="385:26">

                <case pos:start="351:17" pos:end="351:23">case <expr pos:start="351:22" pos:end="351:22"><literal type="number" pos:start="351:22" pos:end="351:22">0</literal></expr>:</case>

                    <comment type="block" pos:start="353:21" pos:end="353:38">/* clear to eol */</comment>

                    <for pos:start="355:21" pos:end="359:21">for<control pos:start="355:24" pos:end="355:52">(<init pos:start="355:25" pos:end="355:33"><expr pos:start="355:25" pos:end="355:32"><name pos:start="355:25" pos:end="355:25">x</name> <operator pos:start="355:27" pos:end="355:27">=</operator> <name pos:start="355:29" pos:end="355:32"><name pos:start="355:29" pos:end="355:29">s</name><operator pos:start="355:30" pos:end="355:31">-&gt;</operator><name pos:start="355:32" pos:end="355:32">x</name></name></expr>;</init> <condition pos:start="355:35" pos:end="355:47"><expr pos:start="355:35" pos:end="355:46"><name pos:start="355:35" pos:end="355:35">x</name> <operator pos:start="355:37" pos:end="355:37">&lt;</operator> <name pos:start="355:39" pos:end="355:46"><name pos:start="355:39" pos:end="355:39">s</name><operator pos:start="355:40" pos:end="355:41">-&gt;</operator><name pos:start="355:42" pos:end="355:46">width</name></name></expr>;</condition> <incr pos:start="355:49" pos:end="355:51"><expr pos:start="355:49" pos:end="355:51"><name pos:start="355:49" pos:end="355:49">x</name><operator pos:start="355:50" pos:end="355:51">++</operator></expr></incr>)</control> <block pos:start="355:54" pos:end="359:21">{<block_content pos:start="357:25" pos:end="357:53">

                        <expr_stmt pos:start="357:25" pos:end="357:53"><expr pos:start="357:25" pos:end="357:52"><call pos:start="357:25" pos:end="357:52"><name pos:start="357:25" pos:end="357:40">console_clear_xy</name><argument_list pos:start="357:41" pos:end="357:52">(<argument pos:start="357:42" pos:end="357:42"><expr pos:start="357:42" pos:end="357:42"><name pos:start="357:42" pos:end="357:42">s</name></expr></argument>, <argument pos:start="357:45" pos:end="357:45"><expr pos:start="357:45" pos:end="357:45"><name pos:start="357:45" pos:end="357:45">x</name></expr></argument>, <argument pos:start="357:48" pos:end="357:51"><expr pos:start="357:48" pos:end="357:51"><name pos:start="357:48" pos:end="357:51"><name pos:start="357:48" pos:end="357:48">s</name><operator pos:start="357:49" pos:end="357:50">-&gt;</operator><name pos:start="357:51" pos:end="357:51">y</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    </block_content>}</block></for>

                    <break pos:start="361:21" pos:end="361:26">break;</break>

                <case pos:start="363:17" pos:end="363:23">case <expr pos:start="363:22" pos:end="363:22"><literal type="number" pos:start="363:22" pos:end="363:22">1</literal></expr>:</case>

                    <comment type="block" pos:start="365:21" pos:end="365:54">/* clear from beginning of line */</comment>

                    <for pos:start="367:21" pos:end="371:21">for <control pos:start="367:25" pos:end="367:47">(<init pos:start="367:26" pos:end="367:31"><expr pos:start="367:26" pos:end="367:30"><name pos:start="367:26" pos:end="367:26">x</name> <operator pos:start="367:28" pos:end="367:28">=</operator> <literal type="number" pos:start="367:30" pos:end="367:30">0</literal></expr>;</init> <condition pos:start="367:33" pos:end="367:42"><expr pos:start="367:33" pos:end="367:41"><name pos:start="367:33" pos:end="367:33">x</name> <operator pos:start="367:35" pos:end="367:36">&lt;=</operator> <name pos:start="367:38" pos:end="367:41"><name pos:start="367:38" pos:end="367:38">s</name><operator pos:start="367:39" pos:end="367:40">-&gt;</operator><name pos:start="367:41" pos:end="367:41">x</name></name></expr>;</condition> <incr pos:start="367:44" pos:end="367:46"><expr pos:start="367:44" pos:end="367:46"><name pos:start="367:44" pos:end="367:44">x</name><operator pos:start="367:45" pos:end="367:46">++</operator></expr></incr>)</control> <block pos:start="367:49" pos:end="371:21">{<block_content pos:start="369:25" pos:end="369:53">

                        <expr_stmt pos:start="369:25" pos:end="369:53"><expr pos:start="369:25" pos:end="369:52"><call pos:start="369:25" pos:end="369:52"><name pos:start="369:25" pos:end="369:40">console_clear_xy</name><argument_list pos:start="369:41" pos:end="369:52">(<argument pos:start="369:42" pos:end="369:42"><expr pos:start="369:42" pos:end="369:42"><name pos:start="369:42" pos:end="369:42">s</name></expr></argument>, <argument pos:start="369:45" pos:end="369:45"><expr pos:start="369:45" pos:end="369:45"><name pos:start="369:45" pos:end="369:45">x</name></expr></argument>, <argument pos:start="369:48" pos:end="369:51"><expr pos:start="369:48" pos:end="369:51"><name pos:start="369:48" pos:end="369:51"><name pos:start="369:48" pos:end="369:48">s</name><operator pos:start="369:49" pos:end="369:50">-&gt;</operator><name pos:start="369:51" pos:end="369:51">y</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    </block_content>}</block></for>

                    <break pos:start="373:21" pos:end="373:26">break;</break>

                <case pos:start="375:17" pos:end="375:23">case <expr pos:start="375:22" pos:end="375:22"><literal type="number" pos:start="375:22" pos:end="375:22">2</literal></expr>:</case>

                    <comment type="block" pos:start="377:21" pos:end="377:43">/* clear entire line */</comment>

                    <for pos:start="379:21" pos:end="383:21">for<control pos:start="379:24" pos:end="379:49">(<init pos:start="379:25" pos:end="379:30"><expr pos:start="379:25" pos:end="379:29"><name pos:start="379:25" pos:end="379:25">x</name> <operator pos:start="379:27" pos:end="379:27">=</operator> <literal type="number" pos:start="379:29" pos:end="379:29">0</literal></expr>;</init> <condition pos:start="379:32" pos:end="379:44"><expr pos:start="379:32" pos:end="379:43"><name pos:start="379:32" pos:end="379:32">x</name> <operator pos:start="379:34" pos:end="379:34">&lt;</operator> <name pos:start="379:36" pos:end="379:43"><name pos:start="379:36" pos:end="379:36">s</name><operator pos:start="379:37" pos:end="379:38">-&gt;</operator><name pos:start="379:39" pos:end="379:43">width</name></name></expr>;</condition> <incr pos:start="379:46" pos:end="379:48"><expr pos:start="379:46" pos:end="379:48"><name pos:start="379:46" pos:end="379:46">x</name><operator pos:start="379:47" pos:end="379:48">++</operator></expr></incr>)</control> <block pos:start="379:51" pos:end="383:21">{<block_content pos:start="381:25" pos:end="381:53">

                        <expr_stmt pos:start="381:25" pos:end="381:53"><expr pos:start="381:25" pos:end="381:52"><call pos:start="381:25" pos:end="381:52"><name pos:start="381:25" pos:end="381:40">console_clear_xy</name><argument_list pos:start="381:41" pos:end="381:52">(<argument pos:start="381:42" pos:end="381:42"><expr pos:start="381:42" pos:end="381:42"><name pos:start="381:42" pos:end="381:42">s</name></expr></argument>, <argument pos:start="381:45" pos:end="381:45"><expr pos:start="381:45" pos:end="381:45"><name pos:start="381:45" pos:end="381:45">x</name></expr></argument>, <argument pos:start="381:48" pos:end="381:51"><expr pos:start="381:48" pos:end="381:51"><name pos:start="381:48" pos:end="381:51"><name pos:start="381:48" pos:end="381:48">s</name><operator pos:start="381:49" pos:end="381:50">-&gt;</operator><name pos:start="381:51" pos:end="381:51">y</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    </block_content>}</block></for>

                    <break pos:start="385:21" pos:end="385:26">break;</break>

                </block_content>}</block></switch>

                <break pos:start="389:17" pos:end="389:22">break;</break>

            <case pos:start="391:13" pos:end="391:21">case <expr pos:start="391:18" pos:end="391:20"><literal type="char" pos:start="391:18" pos:end="391:20">'m'</literal></expr>:</case>

                <expr_stmt pos:start="393:17" pos:end="393:41"><expr pos:start="393:17" pos:end="393:40"><call pos:start="393:17" pos:end="393:40"><name pos:start="393:17" pos:end="393:37">console_handle_escape</name><argument_list pos:start="393:38" pos:end="393:40">(<argument pos:start="393:39" pos:end="393:39"><expr pos:start="393:39" pos:end="393:39"><name pos:start="393:39" pos:end="393:39">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <break pos:start="395:17" pos:end="395:22">break;</break>

            <case pos:start="397:13" pos:end="397:21">case <expr pos:start="397:18" pos:end="397:20"><literal type="char" pos:start="397:18" pos:end="397:20">'n'</literal></expr>:</case>

                <comment type="block" pos:start="399:17" pos:end="399:44">/* report cursor position */</comment>

                <comment type="block" pos:start="401:17" pos:end="401:45">/* TODO: send ESC[row;colR */</comment>

                <break pos:start="403:17" pos:end="403:22">break;</break>

            <case pos:start="405:13" pos:end="405:21">case <expr pos:start="405:18" pos:end="405:20"><literal type="char" pos:start="405:18" pos:end="405:20">'s'</literal></expr>:</case>

                <comment type="block" pos:start="407:17" pos:end="407:42">/* save cursor position */</comment>

                <expr_stmt pos:start="409:17" pos:end="409:34"><expr pos:start="409:17" pos:end="409:33"><name pos:start="409:17" pos:end="409:26"><name pos:start="409:17" pos:end="409:17">s</name><operator pos:start="409:18" pos:end="409:19">-&gt;</operator><name pos:start="409:20" pos:end="409:26">x_saved</name></name> <operator pos:start="409:28" pos:end="409:28">=</operator> <name pos:start="409:30" pos:end="409:33"><name pos:start="409:30" pos:end="409:30">s</name><operator pos:start="409:31" pos:end="409:32">-&gt;</operator><name pos:start="409:33" pos:end="409:33">x</name></name></expr>;</expr_stmt>

                <expr_stmt pos:start="411:17" pos:end="411:34"><expr pos:start="411:17" pos:end="411:33"><name pos:start="411:17" pos:end="411:26"><name pos:start="411:17" pos:end="411:17">s</name><operator pos:start="411:18" pos:end="411:19">-&gt;</operator><name pos:start="411:20" pos:end="411:26">y_saved</name></name> <operator pos:start="411:28" pos:end="411:28">=</operator> <name pos:start="411:30" pos:end="411:33"><name pos:start="411:30" pos:end="411:30">s</name><operator pos:start="411:31" pos:end="411:32">-&gt;</operator><name pos:start="411:33" pos:end="411:33">y</name></name></expr>;</expr_stmt>

                <break pos:start="413:17" pos:end="413:22">break;</break>

            <case pos:start="415:13" pos:end="415:21">case <expr pos:start="415:18" pos:end="415:20"><literal type="char" pos:start="415:18" pos:end="415:20">'u'</literal></expr>:</case>

                <comment type="block" pos:start="417:17" pos:end="417:45">/* restore cursor position */</comment>

                <expr_stmt pos:start="419:17" pos:end="419:34"><expr pos:start="419:17" pos:end="419:33"><name pos:start="419:17" pos:end="419:20"><name pos:start="419:17" pos:end="419:17">s</name><operator pos:start="419:18" pos:end="419:19">-&gt;</operator><name pos:start="419:20" pos:end="419:20">x</name></name> <operator pos:start="419:22" pos:end="419:22">=</operator> <name pos:start="419:24" pos:end="419:33"><name pos:start="419:24" pos:end="419:24">s</name><operator pos:start="419:25" pos:end="419:26">-&gt;</operator><name pos:start="419:27" pos:end="419:33">x_saved</name></name></expr>;</expr_stmt>

                <expr_stmt pos:start="421:17" pos:end="421:34"><expr pos:start="421:17" pos:end="421:33"><name pos:start="421:17" pos:end="421:20"><name pos:start="421:17" pos:end="421:17">s</name><operator pos:start="421:18" pos:end="421:19">-&gt;</operator><name pos:start="421:20" pos:end="421:20">y</name></name> <operator pos:start="421:22" pos:end="421:22">=</operator> <name pos:start="421:24" pos:end="421:33"><name pos:start="421:24" pos:end="421:24">s</name><operator pos:start="421:25" pos:end="421:26">-&gt;</operator><name pos:start="421:27" pos:end="421:33">y_saved</name></name></expr>;</expr_stmt>

                <break pos:start="423:17" pos:end="423:22">break;</break>

            <default pos:start="425:13" pos:end="428:0">default:</default>

<cpp:ifdef pos:start="427:1" pos:end="427:20">#<cpp:directive pos:start="427:2" pos:end="427:6">ifdef</cpp:directive> <name pos:start="427:8" pos:end="427:20">DEBUG_CONSOLE</name></cpp:ifdef>

                <expr_stmt pos:start="429:17" pos:end="432:0"><expr pos:start="429:17" pos:end="429:72"><call pos:start="429:17" pos:end="429:72"><name pos:start="429:17" pos:end="429:23">fprintf</name><argument_list pos:start="429:24" pos:end="429:72">(<argument pos:start="429:25" pos:end="429:30"><expr pos:start="429:25" pos:end="429:30"><name pos:start="429:25" pos:end="429:30">stderr</name></expr></argument>, <argument pos:start="429:33" pos:end="429:67"><expr pos:start="429:33" pos:end="429:67"><literal type="string" pos:start="429:33" pos:end="429:67">"unhandled escape character '%c'\n"</literal></expr></argument>, <argument pos:start="429:70" pos:end="429:71"><expr pos:start="429:70" pos:end="429:71"><name pos:start="429:70" pos:end="429:71">ch</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

<cpp:endif pos:start="431:1" pos:end="431:6">#<cpp:directive pos:start="431:2" pos:end="431:6">endif</cpp:directive></cpp:endif>

                <break pos:start="433:17" pos:end="433:22">break;</break>

            </block_content>}</block></switch>

            <break pos:start="437:13" pos:end="437:18">break;</break>

        </block_content>}</block></else></if_stmt>

    </block_content>}</block></switch>

</block_content>}</block></function>
</unit>
