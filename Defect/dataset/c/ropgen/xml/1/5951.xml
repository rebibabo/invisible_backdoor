<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/5951.c" pos:tabs="8"><function pos:start="1:1" pos:end="125:1"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:20">init_fps</name><parameter_list pos:start="1:21" pos:end="1:56">(<parameter pos:start="1:22" pos:end="1:27"><decl pos:start="1:22" pos:end="1:27"><type pos:start="1:22" pos:end="1:27"><name pos:start="1:22" pos:end="1:24">int</name></type> <name pos:start="1:26" pos:end="1:27">bf</name></decl></parameter>, <parameter pos:start="1:30" pos:end="1:46"><decl pos:start="1:30" pos:end="1:46"><type pos:start="1:30" pos:end="1:46"><name pos:start="1:30" pos:end="1:32">int</name></type> <name pos:start="1:34" pos:end="1:46">audio_preroll</name></decl></parameter>, <parameter pos:start="1:49" pos:end="1:55"><decl pos:start="1:49" pos:end="1:55"><type pos:start="1:49" pos:end="1:55"><name pos:start="1:49" pos:end="1:51">int</name></type> <name pos:start="1:53" pos:end="1:55">fps</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="125:1">{<block_content pos:start="5:5" pos:end="123:31">

    <decl_stmt pos:start="5:5" pos:end="5:17"><decl pos:start="5:5" pos:end="5:16"><type pos:start="5:5" pos:end="5:14"><name pos:start="5:5" pos:end="5:12">AVStream</name> <modifier pos:start="5:14" pos:end="5:14">*</modifier></type><name pos:start="5:15" pos:end="5:16">st</name></decl>;</decl_stmt>

    <expr_stmt pos:start="7:5" pos:end="7:35"><expr pos:start="7:5" pos:end="7:34"><name pos:start="7:5" pos:end="7:7">ctx</name> <operator pos:start="7:9" pos:end="7:9">=</operator> <call pos:start="7:11" pos:end="7:34"><name pos:start="7:11" pos:end="7:32">avformat_alloc_context</name><argument_list pos:start="7:33" pos:end="7:34">()</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="9:5" pos:end="11:16"><if pos:start="9:5" pos:end="11:16">if <condition pos:start="9:8" pos:end="9:13">(<expr pos:start="9:9" pos:end="9:12"><operator pos:start="9:9" pos:end="9:9">!</operator><name pos:start="9:10" pos:end="9:12">ctx</name></expr>)</condition><block type="pseudo" pos:start="11:9" pos:end="11:16"><block_content pos:start="11:9" pos:end="11:16">

        <expr_stmt pos:start="11:9" pos:end="11:16"><expr pos:start="11:9" pos:end="11:15"><call pos:start="11:9" pos:end="11:15"><name pos:start="11:9" pos:end="11:12">exit</name><argument_list pos:start="11:13" pos:end="11:15">(<argument pos:start="11:14" pos:end="11:14"><expr pos:start="11:14" pos:end="11:14"><literal type="number" pos:start="11:14" pos:end="11:14">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

    <expr_stmt pos:start="13:5" pos:end="13:55"><expr pos:start="13:5" pos:end="13:54"><name pos:start="13:5" pos:end="13:16"><name pos:start="13:5" pos:end="13:7">ctx</name><operator pos:start="13:8" pos:end="13:9">-&gt;</operator><name pos:start="13:10" pos:end="13:16">oformat</name></name> <operator pos:start="13:18" pos:end="13:18">=</operator> <call pos:start="13:20" pos:end="13:54"><name pos:start="13:20" pos:end="13:34">av_guess_format</name><argument_list pos:start="13:35" pos:end="13:54">(<argument pos:start="13:36" pos:end="13:41"><expr pos:start="13:36" pos:end="13:41"><name pos:start="13:36" pos:end="13:41">format</name></expr></argument>, <argument pos:start="13:44" pos:end="13:47"><expr pos:start="13:44" pos:end="13:47"><name pos:start="13:44" pos:end="13:47">NULL</name></expr></argument>, <argument pos:start="13:50" pos:end="13:53"><expr pos:start="13:50" pos:end="13:53"><name pos:start="13:50" pos:end="13:53">NULL</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="15:5" pos:end="17:16"><if pos:start="15:5" pos:end="17:16">if <condition pos:start="15:8" pos:end="15:22">(<expr pos:start="15:9" pos:end="15:21"><operator pos:start="15:9" pos:end="15:9">!</operator><name pos:start="15:10" pos:end="15:21"><name pos:start="15:10" pos:end="15:12">ctx</name><operator pos:start="15:13" pos:end="15:14">-&gt;</operator><name pos:start="15:15" pos:end="15:21">oformat</name></name></expr>)</condition><block type="pseudo" pos:start="17:9" pos:end="17:16"><block_content pos:start="17:9" pos:end="17:16">

        <expr_stmt pos:start="17:9" pos:end="17:16"><expr pos:start="17:9" pos:end="17:15"><call pos:start="17:9" pos:end="17:15"><name pos:start="17:9" pos:end="17:12">exit</name><argument_list pos:start="17:13" pos:end="17:15">(<argument pos:start="17:14" pos:end="17:14"><expr pos:start="17:14" pos:end="17:14"><literal type="number" pos:start="17:14" pos:end="17:14">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

    <expr_stmt pos:start="19:5" pos:end="19:100"><expr pos:start="19:5" pos:end="19:99"><name pos:start="19:5" pos:end="19:11"><name pos:start="19:5" pos:end="19:7">ctx</name><operator pos:start="19:8" pos:end="19:9">-&gt;</operator><name pos:start="19:10" pos:end="19:11">pb</name></name> <operator pos:start="19:13" pos:end="19:13">=</operator> <call pos:start="19:15" pos:end="19:99"><name pos:start="19:15" pos:end="19:32">avio_alloc_context</name><argument_list pos:start="19:33" pos:end="19:99">(<argument pos:start="19:34" pos:end="19:38"><expr pos:start="19:34" pos:end="19:38"><name pos:start="19:34" pos:end="19:38">iobuf</name></expr></argument>, <argument pos:start="19:41" pos:end="19:53"><expr pos:start="19:41" pos:end="19:53"><sizeof pos:start="19:41" pos:end="19:53">sizeof<argument_list pos:start="19:47" pos:end="19:53">(<argument pos:start="19:48" pos:end="19:52"><expr pos:start="19:48" pos:end="19:52"><name pos:start="19:48" pos:end="19:52">iobuf</name></expr></argument>)</argument_list></sizeof></expr></argument>, <argument pos:start="19:56" pos:end="19:70"><expr pos:start="19:56" pos:end="19:70"><name pos:start="19:56" pos:end="19:70">AVIO_FLAG_WRITE</name></expr></argument>, <argument pos:start="19:73" pos:end="19:76"><expr pos:start="19:73" pos:end="19:76"><name pos:start="19:73" pos:end="19:76">NULL</name></expr></argument>, <argument pos:start="19:79" pos:end="19:82"><expr pos:start="19:79" pos:end="19:82"><name pos:start="19:79" pos:end="19:82">NULL</name></expr></argument>, <argument pos:start="19:85" pos:end="19:92"><expr pos:start="19:85" pos:end="19:92"><name pos:start="19:85" pos:end="19:92">io_write</name></expr></argument>, <argument pos:start="19:95" pos:end="19:98"><expr pos:start="19:95" pos:end="19:98"><name pos:start="19:95" pos:end="19:98">NULL</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="21:5" pos:end="23:16"><if pos:start="21:5" pos:end="23:16">if <condition pos:start="21:8" pos:end="21:17">(<expr pos:start="21:9" pos:end="21:16"><operator pos:start="21:9" pos:end="21:9">!</operator><name pos:start="21:10" pos:end="21:16"><name pos:start="21:10" pos:end="21:12">ctx</name><operator pos:start="21:13" pos:end="21:14">-&gt;</operator><name pos:start="21:15" pos:end="21:16">pb</name></name></expr>)</condition><block type="pseudo" pos:start="23:9" pos:end="23:16"><block_content pos:start="23:9" pos:end="23:16">

        <expr_stmt pos:start="23:9" pos:end="23:16"><expr pos:start="23:9" pos:end="23:15"><call pos:start="23:9" pos:end="23:15"><name pos:start="23:9" pos:end="23:12">exit</name><argument_list pos:start="23:13" pos:end="23:15">(<argument pos:start="23:14" pos:end="23:14"><expr pos:start="23:14" pos:end="23:14"><literal type="number" pos:start="23:14" pos:end="23:14">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

    <expr_stmt pos:start="25:5" pos:end="25:38"><expr pos:start="25:5" pos:end="25:37"><name pos:start="25:5" pos:end="25:14"><name pos:start="25:5" pos:end="25:7">ctx</name><operator pos:start="25:8" pos:end="25:9">-&gt;</operator><name pos:start="25:10" pos:end="25:14">flags</name></name> <operator pos:start="25:16" pos:end="25:17">|=</operator> <name pos:start="25:19" pos:end="25:37">AVFMT_FLAG_BITEXACT</name></expr>;</expr_stmt>



    <expr_stmt pos:start="29:5" pos:end="29:40"><expr pos:start="29:5" pos:end="29:39"><name pos:start="29:5" pos:end="29:6">st</name> <operator pos:start="29:8" pos:end="29:8">=</operator> <call pos:start="29:10" pos:end="29:39"><name pos:start="29:10" pos:end="29:28">avformat_new_stream</name><argument_list pos:start="29:29" pos:end="29:39">(<argument pos:start="29:30" pos:end="29:32"><expr pos:start="29:30" pos:end="29:32"><name pos:start="29:30" pos:end="29:32">ctx</name></expr></argument>, <argument pos:start="29:35" pos:end="29:38"><expr pos:start="29:35" pos:end="29:38"><name pos:start="29:35" pos:end="29:38">NULL</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="31:5" pos:end="33:16"><if pos:start="31:5" pos:end="33:16">if <condition pos:start="31:8" pos:end="31:12">(<expr pos:start="31:9" pos:end="31:11"><operator pos:start="31:9" pos:end="31:9">!</operator><name pos:start="31:10" pos:end="31:11">st</name></expr>)</condition><block type="pseudo" pos:start="33:9" pos:end="33:16"><block_content pos:start="33:9" pos:end="33:16">

        <expr_stmt pos:start="33:9" pos:end="33:16"><expr pos:start="33:9" pos:end="33:15"><call pos:start="33:9" pos:end="33:15"><name pos:start="33:9" pos:end="33:12">exit</name><argument_list pos:start="33:13" pos:end="33:15">(<argument pos:start="33:14" pos:end="33:14"><expr pos:start="33:14" pos:end="33:14"><literal type="number" pos:start="33:14" pos:end="33:14">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

    <expr_stmt pos:start="35:5" pos:end="35:47"><expr pos:start="35:5" pos:end="35:46"><name pos:start="35:5" pos:end="35:25"><name pos:start="35:5" pos:end="35:6">st</name><operator pos:start="35:7" pos:end="35:8">-&gt;</operator><name pos:start="35:9" pos:end="35:13">codec</name><operator pos:start="35:14" pos:end="35:15">-&gt;</operator><name pos:start="35:16" pos:end="35:25">codec_type</name></name> <operator pos:start="35:27" pos:end="35:27">=</operator> <name pos:start="35:29" pos:end="35:46">AVMEDIA_TYPE_VIDEO</name></expr>;</expr_stmt>

    <expr_stmt pos:start="37:5" pos:end="37:43"><expr pos:start="37:5" pos:end="37:42"><name pos:start="37:5" pos:end="37:23"><name pos:start="37:5" pos:end="37:6">st</name><operator pos:start="37:7" pos:end="37:8">-&gt;</operator><name pos:start="37:9" pos:end="37:13">codec</name><operator pos:start="37:14" pos:end="37:15">-&gt;</operator><name pos:start="37:16" pos:end="37:23">codec_id</name></name> <operator pos:start="37:25" pos:end="37:25">=</operator> <name pos:start="37:27" pos:end="37:42">AV_CODEC_ID_H264</name></expr>;</expr_stmt>

    <expr_stmt pos:start="39:5" pos:end="39:27"><expr pos:start="39:5" pos:end="39:26"><name pos:start="39:5" pos:end="39:20"><name pos:start="39:5" pos:end="39:6">st</name><operator pos:start="39:7" pos:end="39:8">-&gt;</operator><name pos:start="39:9" pos:end="39:13">codec</name><operator pos:start="39:14" pos:end="39:15">-&gt;</operator><name pos:start="39:16" pos:end="39:20">width</name></name> <operator pos:start="39:22" pos:end="39:22">=</operator> <literal type="number" pos:start="39:24" pos:end="39:26">640</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="41:5" pos:end="41:28"><expr pos:start="41:5" pos:end="41:27"><name pos:start="41:5" pos:end="41:21"><name pos:start="41:5" pos:end="41:6">st</name><operator pos:start="41:7" pos:end="41:8">-&gt;</operator><name pos:start="41:9" pos:end="41:13">codec</name><operator pos:start="41:14" pos:end="41:15">-&gt;</operator><name pos:start="41:16" pos:end="41:21">height</name></name> <operator pos:start="41:23" pos:end="41:23">=</operator> <literal type="number" pos:start="41:25" pos:end="41:27">480</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="43:5" pos:end="43:26"><expr pos:start="43:5" pos:end="43:25"><name pos:start="43:5" pos:end="43:21"><name pos:start="43:5" pos:end="43:6">st</name><operator pos:start="43:7" pos:end="43:8">-&gt;</operator><name pos:start="43:9" pos:end="43:17">time_base</name><operator pos:start="43:18" pos:end="43:18">.</operator><name pos:start="43:19" pos:end="43:21">num</name></name> <operator pos:start="43:23" pos:end="43:23">=</operator> <literal type="number" pos:start="43:25" pos:end="43:25">1</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="45:5" pos:end="45:27"><expr pos:start="45:5" pos:end="45:26"><name pos:start="45:5" pos:end="45:21"><name pos:start="45:5" pos:end="45:6">st</name><operator pos:start="45:7" pos:end="45:8">-&gt;</operator><name pos:start="45:9" pos:end="45:17">time_base</name><operator pos:start="45:18" pos:end="45:18">.</operator><name pos:start="45:19" pos:end="45:21">den</name></name> <operator pos:start="45:23" pos:end="45:23">=</operator> <literal type="number" pos:start="45:25" pos:end="45:26">30</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="47:5" pos:end="47:55"><expr pos:start="47:5" pos:end="47:54"><name pos:start="47:5" pos:end="47:29"><name pos:start="47:5" pos:end="47:6">st</name><operator pos:start="47:7" pos:end="47:8">-&gt;</operator><name pos:start="47:9" pos:end="47:13">codec</name><operator pos:start="47:14" pos:end="47:15">-&gt;</operator><name pos:start="47:16" pos:end="47:29">extradata_size</name></name> <operator pos:start="47:31" pos:end="47:31">=</operator> <sizeof pos:start="47:33" pos:end="47:54">sizeof<argument_list pos:start="47:39" pos:end="47:54">(<argument pos:start="47:40" pos:end="47:53"><expr pos:start="47:40" pos:end="47:53"><name pos:start="47:40" pos:end="47:53">h264_extradata</name></expr></argument>)</argument_list></sizeof></expr>;</expr_stmt>

    <expr_stmt pos:start="49:5" pos:end="49:96"><expr pos:start="49:5" pos:end="49:95"><name pos:start="49:5" pos:end="49:24"><name pos:start="49:5" pos:end="49:6">st</name><operator pos:start="49:7" pos:end="49:8">-&gt;</operator><name pos:start="49:9" pos:end="49:13">codec</name><operator pos:start="49:14" pos:end="49:15">-&gt;</operator><name pos:start="49:16" pos:end="49:24">extradata</name></name> <operator pos:start="49:26" pos:end="49:26">=</operator> <call pos:start="49:28" pos:end="49:95"><name pos:start="49:28" pos:end="49:37">av_mallocz</name><argument_list pos:start="49:38" pos:end="49:95">(<argument pos:start="49:39" pos:end="49:94"><expr pos:start="49:39" pos:end="49:94"><name pos:start="49:39" pos:end="49:63"><name pos:start="49:39" pos:end="49:40">st</name><operator pos:start="49:41" pos:end="49:42">-&gt;</operator><name pos:start="49:43" pos:end="49:47">codec</name><operator pos:start="49:48" pos:end="49:49">-&gt;</operator><name pos:start="49:50" pos:end="49:63">extradata_size</name></name> <operator pos:start="49:65" pos:end="49:65">+</operator> <name pos:start="49:67" pos:end="49:94">AV_INPUT_BUFFER_PADDING_SIZE</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="51:5" pos:end="53:16"><if pos:start="51:5" pos:end="53:16">if <condition pos:start="51:8" pos:end="51:30">(<expr pos:start="51:9" pos:end="51:29"><operator pos:start="51:9" pos:end="51:9">!</operator><name pos:start="51:10" pos:end="51:29"><name pos:start="51:10" pos:end="51:11">st</name><operator pos:start="51:12" pos:end="51:13">-&gt;</operator><name pos:start="51:14" pos:end="51:18">codec</name><operator pos:start="51:19" pos:end="51:20">-&gt;</operator><name pos:start="51:21" pos:end="51:29">extradata</name></name></expr>)</condition><block type="pseudo" pos:start="53:9" pos:end="53:16"><block_content pos:start="53:9" pos:end="53:16">

        <expr_stmt pos:start="53:9" pos:end="53:16"><expr pos:start="53:9" pos:end="53:15"><call pos:start="53:9" pos:end="53:15"><name pos:start="53:9" pos:end="53:12">exit</name><argument_list pos:start="53:13" pos:end="53:15">(<argument pos:start="53:14" pos:end="53:14"><expr pos:start="53:14" pos:end="53:14"><literal type="number" pos:start="53:14" pos:end="53:14">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

    <expr_stmt pos:start="55:5" pos:end="55:73"><expr pos:start="55:5" pos:end="55:72"><call pos:start="55:5" pos:end="55:72"><name pos:start="55:5" pos:end="55:10">memcpy</name><argument_list pos:start="55:11" pos:end="55:72">(<argument pos:start="55:12" pos:end="55:31"><expr pos:start="55:12" pos:end="55:31"><name pos:start="55:12" pos:end="55:31"><name pos:start="55:12" pos:end="55:13">st</name><operator pos:start="55:14" pos:end="55:15">-&gt;</operator><name pos:start="55:16" pos:end="55:20">codec</name><operator pos:start="55:21" pos:end="55:22">-&gt;</operator><name pos:start="55:23" pos:end="55:31">extradata</name></name></expr></argument>, <argument pos:start="55:34" pos:end="55:47"><expr pos:start="55:34" pos:end="55:47"><name pos:start="55:34" pos:end="55:47">h264_extradata</name></expr></argument>, <argument pos:start="55:50" pos:end="55:71"><expr pos:start="55:50" pos:end="55:71"><sizeof pos:start="55:50" pos:end="55:71">sizeof<argument_list pos:start="55:56" pos:end="55:71">(<argument pos:start="55:57" pos:end="55:70"><expr pos:start="55:57" pos:end="55:70"><name pos:start="55:57" pos:end="55:70">h264_extradata</name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="57:5" pos:end="57:52"><expr pos:start="57:5" pos:end="57:51"><name pos:start="57:5" pos:end="57:20"><name pos:start="57:5" pos:end="57:6">st</name><operator pos:start="57:7" pos:end="57:8">-&gt;</operator><name pos:start="57:9" pos:end="57:13">codec</name><operator pos:start="57:14" pos:end="57:15">-&gt;</operator><name pos:start="57:16" pos:end="57:20">flags</name></name> <operator pos:start="57:22" pos:end="57:23">|=</operator> <name pos:start="57:25" pos:end="57:51">AV_CODEC_FLAG_GLOBAL_HEADER</name></expr>;</expr_stmt>

    <expr_stmt pos:start="59:5" pos:end="59:18"><expr pos:start="59:5" pos:end="59:17"><name pos:start="59:5" pos:end="59:12">video_st</name> <operator pos:start="59:14" pos:end="59:14">=</operator> <name pos:start="59:16" pos:end="59:17">st</name></expr>;</expr_stmt>



    <expr_stmt pos:start="63:5" pos:end="63:40"><expr pos:start="63:5" pos:end="63:39"><name pos:start="63:5" pos:end="63:6">st</name> <operator pos:start="63:8" pos:end="63:8">=</operator> <call pos:start="63:10" pos:end="63:39"><name pos:start="63:10" pos:end="63:28">avformat_new_stream</name><argument_list pos:start="63:29" pos:end="63:39">(<argument pos:start="63:30" pos:end="63:32"><expr pos:start="63:30" pos:end="63:32"><name pos:start="63:30" pos:end="63:32">ctx</name></expr></argument>, <argument pos:start="63:35" pos:end="63:38"><expr pos:start="63:35" pos:end="63:38"><name pos:start="63:35" pos:end="63:38">NULL</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="65:5" pos:end="67:16"><if pos:start="65:5" pos:end="67:16">if <condition pos:start="65:8" pos:end="65:12">(<expr pos:start="65:9" pos:end="65:11"><operator pos:start="65:9" pos:end="65:9">!</operator><name pos:start="65:10" pos:end="65:11">st</name></expr>)</condition><block type="pseudo" pos:start="67:9" pos:end="67:16"><block_content pos:start="67:9" pos:end="67:16">

        <expr_stmt pos:start="67:9" pos:end="67:16"><expr pos:start="67:9" pos:end="67:15"><call pos:start="67:9" pos:end="67:15"><name pos:start="67:9" pos:end="67:12">exit</name><argument_list pos:start="67:13" pos:end="67:15">(<argument pos:start="67:14" pos:end="67:14"><expr pos:start="67:14" pos:end="67:14"><literal type="number" pos:start="67:14" pos:end="67:14">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

    <expr_stmt pos:start="69:5" pos:end="69:47"><expr pos:start="69:5" pos:end="69:46"><name pos:start="69:5" pos:end="69:25"><name pos:start="69:5" pos:end="69:6">st</name><operator pos:start="69:7" pos:end="69:8">-&gt;</operator><name pos:start="69:9" pos:end="69:13">codec</name><operator pos:start="69:14" pos:end="69:15">-&gt;</operator><name pos:start="69:16" pos:end="69:25">codec_type</name></name> <operator pos:start="69:27" pos:end="69:27">=</operator> <name pos:start="69:29" pos:end="69:46">AVMEDIA_TYPE_AUDIO</name></expr>;</expr_stmt>

    <expr_stmt pos:start="71:5" pos:end="71:42"><expr pos:start="71:5" pos:end="71:41"><name pos:start="71:5" pos:end="71:23"><name pos:start="71:5" pos:end="71:6">st</name><operator pos:start="71:7" pos:end="71:8">-&gt;</operator><name pos:start="71:9" pos:end="71:13">codec</name><operator pos:start="71:14" pos:end="71:15">-&gt;</operator><name pos:start="71:16" pos:end="71:23">codec_id</name></name> <operator pos:start="71:25" pos:end="71:25">=</operator> <name pos:start="71:27" pos:end="71:41">AV_CODEC_ID_AAC</name></expr>;</expr_stmt>

    <expr_stmt pos:start="73:5" pos:end="73:35"><expr pos:start="73:5" pos:end="73:34"><name pos:start="73:5" pos:end="73:26"><name pos:start="73:5" pos:end="73:6">st</name><operator pos:start="73:7" pos:end="73:8">-&gt;</operator><name pos:start="73:9" pos:end="73:13">codec</name><operator pos:start="73:14" pos:end="73:15">-&gt;</operator><name pos:start="73:16" pos:end="73:26">sample_rate</name></name> <operator pos:start="73:28" pos:end="73:28">=</operator> <literal type="number" pos:start="73:30" pos:end="73:34">44100</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="75:5" pos:end="75:28"><expr pos:start="75:5" pos:end="75:27"><name pos:start="75:5" pos:end="75:23"><name pos:start="75:5" pos:end="75:6">st</name><operator pos:start="75:7" pos:end="75:8">-&gt;</operator><name pos:start="75:9" pos:end="75:13">codec</name><operator pos:start="75:14" pos:end="75:15">-&gt;</operator><name pos:start="75:16" pos:end="75:23">channels</name></name> <operator pos:start="75:25" pos:end="75:25">=</operator> <literal type="number" pos:start="75:27" pos:end="75:27">2</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="77:5" pos:end="77:26"><expr pos:start="77:5" pos:end="77:25"><name pos:start="77:5" pos:end="77:21"><name pos:start="77:5" pos:end="77:6">st</name><operator pos:start="77:7" pos:end="77:8">-&gt;</operator><name pos:start="77:9" pos:end="77:17">time_base</name><operator pos:start="77:18" pos:end="77:18">.</operator><name pos:start="77:19" pos:end="77:21">num</name></name> <operator pos:start="77:23" pos:end="77:23">=</operator> <literal type="number" pos:start="77:25" pos:end="77:25">1</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="79:5" pos:end="79:30"><expr pos:start="79:5" pos:end="79:29"><name pos:start="79:5" pos:end="79:21"><name pos:start="79:5" pos:end="79:6">st</name><operator pos:start="79:7" pos:end="79:8">-&gt;</operator><name pos:start="79:9" pos:end="79:17">time_base</name><operator pos:start="79:18" pos:end="79:18">.</operator><name pos:start="79:19" pos:end="79:21">den</name></name> <operator pos:start="79:23" pos:end="79:23">=</operator> <literal type="number" pos:start="79:25" pos:end="79:29">44100</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="81:5" pos:end="81:54"><expr pos:start="81:5" pos:end="81:53"><name pos:start="81:5" pos:end="81:29"><name pos:start="81:5" pos:end="81:6">st</name><operator pos:start="81:7" pos:end="81:8">-&gt;</operator><name pos:start="81:9" pos:end="81:13">codec</name><operator pos:start="81:14" pos:end="81:15">-&gt;</operator><name pos:start="81:16" pos:end="81:29">extradata_size</name></name> <operator pos:start="81:31" pos:end="81:31">=</operator> <sizeof pos:start="81:33" pos:end="81:53">sizeof<argument_list pos:start="81:39" pos:end="81:53">(<argument pos:start="81:40" pos:end="81:52"><expr pos:start="81:40" pos:end="81:52"><name pos:start="81:40" pos:end="81:52">aac_extradata</name></expr></argument>)</argument_list></sizeof></expr>;</expr_stmt>

    <expr_stmt pos:start="83:5" pos:end="83:96"><expr pos:start="83:5" pos:end="83:95"><name pos:start="83:5" pos:end="83:24"><name pos:start="83:5" pos:end="83:6">st</name><operator pos:start="83:7" pos:end="83:8">-&gt;</operator><name pos:start="83:9" pos:end="83:13">codec</name><operator pos:start="83:14" pos:end="83:15">-&gt;</operator><name pos:start="83:16" pos:end="83:24">extradata</name></name> <operator pos:start="83:26" pos:end="83:26">=</operator> <call pos:start="83:28" pos:end="83:95"><name pos:start="83:28" pos:end="83:37">av_mallocz</name><argument_list pos:start="83:38" pos:end="83:95">(<argument pos:start="83:39" pos:end="83:94"><expr pos:start="83:39" pos:end="83:94"><name pos:start="83:39" pos:end="83:63"><name pos:start="83:39" pos:end="83:40">st</name><operator pos:start="83:41" pos:end="83:42">-&gt;</operator><name pos:start="83:43" pos:end="83:47">codec</name><operator pos:start="83:48" pos:end="83:49">-&gt;</operator><name pos:start="83:50" pos:end="83:63">extradata_size</name></name> <operator pos:start="83:65" pos:end="83:65">+</operator> <name pos:start="83:67" pos:end="83:94">AV_INPUT_BUFFER_PADDING_SIZE</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="85:5" pos:end="87:16"><if pos:start="85:5" pos:end="87:16">if <condition pos:start="85:8" pos:end="85:30">(<expr pos:start="85:9" pos:end="85:29"><operator pos:start="85:9" pos:end="85:9">!</operator><name pos:start="85:10" pos:end="85:29"><name pos:start="85:10" pos:end="85:11">st</name><operator pos:start="85:12" pos:end="85:13">-&gt;</operator><name pos:start="85:14" pos:end="85:18">codec</name><operator pos:start="85:19" pos:end="85:20">-&gt;</operator><name pos:start="85:21" pos:end="85:29">extradata</name></name></expr>)</condition><block type="pseudo" pos:start="87:9" pos:end="87:16"><block_content pos:start="87:9" pos:end="87:16">

        <expr_stmt pos:start="87:9" pos:end="87:16"><expr pos:start="87:9" pos:end="87:15"><call pos:start="87:9" pos:end="87:15"><name pos:start="87:9" pos:end="87:12">exit</name><argument_list pos:start="87:13" pos:end="87:15">(<argument pos:start="87:14" pos:end="87:14"><expr pos:start="87:14" pos:end="87:14"><literal type="number" pos:start="87:14" pos:end="87:14">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

    <expr_stmt pos:start="89:5" pos:end="89:71"><expr pos:start="89:5" pos:end="89:70"><call pos:start="89:5" pos:end="89:70"><name pos:start="89:5" pos:end="89:10">memcpy</name><argument_list pos:start="89:11" pos:end="89:70">(<argument pos:start="89:12" pos:end="89:31"><expr pos:start="89:12" pos:end="89:31"><name pos:start="89:12" pos:end="89:31"><name pos:start="89:12" pos:end="89:13">st</name><operator pos:start="89:14" pos:end="89:15">-&gt;</operator><name pos:start="89:16" pos:end="89:20">codec</name><operator pos:start="89:21" pos:end="89:22">-&gt;</operator><name pos:start="89:23" pos:end="89:31">extradata</name></name></expr></argument>, <argument pos:start="89:34" pos:end="89:46"><expr pos:start="89:34" pos:end="89:46"><name pos:start="89:34" pos:end="89:46">aac_extradata</name></expr></argument>, <argument pos:start="89:49" pos:end="89:69"><expr pos:start="89:49" pos:end="89:69"><sizeof pos:start="89:49" pos:end="89:69">sizeof<argument_list pos:start="89:55" pos:end="89:69">(<argument pos:start="89:56" pos:end="89:68"><expr pos:start="89:56" pos:end="89:68"><name pos:start="89:56" pos:end="89:68">aac_extradata</name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="91:5" pos:end="91:52"><expr pos:start="91:5" pos:end="91:51"><name pos:start="91:5" pos:end="91:20"><name pos:start="91:5" pos:end="91:6">st</name><operator pos:start="91:7" pos:end="91:8">-&gt;</operator><name pos:start="91:9" pos:end="91:13">codec</name><operator pos:start="91:14" pos:end="91:15">-&gt;</operator><name pos:start="91:16" pos:end="91:20">flags</name></name> <operator pos:start="91:22" pos:end="91:23">|=</operator> <name pos:start="91:25" pos:end="91:51">AV_CODEC_FLAG_GLOBAL_HEADER</name></expr>;</expr_stmt>

    <expr_stmt pos:start="93:5" pos:end="93:18"><expr pos:start="93:5" pos:end="93:17"><name pos:start="93:5" pos:end="93:12">audio_st</name> <operator pos:start="93:14" pos:end="93:14">=</operator> <name pos:start="93:16" pos:end="93:17">st</name></expr>;</expr_stmt>



    <if_stmt pos:start="97:5" pos:end="99:16"><if pos:start="97:5" pos:end="99:16">if <condition pos:start="97:8" pos:end="97:46">(<expr pos:start="97:9" pos:end="97:45"><call pos:start="97:9" pos:end="97:41"><name pos:start="97:9" pos:end="97:29">avformat_write_header</name><argument_list pos:start="97:30" pos:end="97:41">(<argument pos:start="97:31" pos:end="97:33"><expr pos:start="97:31" pos:end="97:33"><name pos:start="97:31" pos:end="97:33">ctx</name></expr></argument>, <argument pos:start="97:36" pos:end="97:40"><expr pos:start="97:36" pos:end="97:40"><operator pos:start="97:36" pos:end="97:36">&amp;</operator><name pos:start="97:37" pos:end="97:40">opts</name></expr></argument>)</argument_list></call> <operator pos:start="97:43" pos:end="97:43">&lt;</operator> <literal type="number" pos:start="97:45" pos:end="97:45">0</literal></expr>)</condition><block type="pseudo" pos:start="99:9" pos:end="99:16"><block_content pos:start="99:9" pos:end="99:16">

        <expr_stmt pos:start="99:9" pos:end="99:16"><expr pos:start="99:9" pos:end="99:15"><call pos:start="99:9" pos:end="99:15"><name pos:start="99:9" pos:end="99:12">exit</name><argument_list pos:start="99:13" pos:end="99:15">(<argument pos:start="99:14" pos:end="99:14"><expr pos:start="99:14" pos:end="99:14"><literal type="number" pos:start="99:14" pos:end="99:14">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

    <expr_stmt pos:start="101:5" pos:end="101:24"><expr pos:start="101:5" pos:end="101:23"><call pos:start="101:5" pos:end="101:23"><name pos:start="101:5" pos:end="101:16">av_dict_free</name><argument_list pos:start="101:17" pos:end="101:23">(<argument pos:start="101:18" pos:end="101:22"><expr pos:start="101:18" pos:end="101:22"><operator pos:start="101:18" pos:end="101:18">&amp;</operator><name pos:start="101:19" pos:end="101:22">opts</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="105:5" pos:end="105:15"><expr pos:start="105:5" pos:end="105:14"><name pos:start="105:5" pos:end="105:10">frames</name> <operator pos:start="105:12" pos:end="105:12">=</operator> <literal type="number" pos:start="105:14" pos:end="105:14">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="107:5" pos:end="107:18"><expr pos:start="107:5" pos:end="107:17"><name pos:start="107:5" pos:end="107:12">gop_size</name> <operator pos:start="107:14" pos:end="107:14">=</operator> <literal type="number" pos:start="107:16" pos:end="107:17">30</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="109:5" pos:end="109:45"><expr pos:start="109:5" pos:end="109:44"><name pos:start="109:5" pos:end="109:12">duration</name> <operator pos:start="109:14" pos:end="109:14">=</operator> <name pos:start="109:16" pos:end="109:38"><name pos:start="109:16" pos:end="109:23">video_st</name><operator pos:start="109:24" pos:end="109:25">-&gt;</operator><name pos:start="109:26" pos:end="109:34">time_base</name><operator pos:start="109:35" pos:end="109:35">.</operator><name pos:start="109:36" pos:end="109:38">den</name></name> <operator pos:start="109:40" pos:end="109:40">/</operator> <name pos:start="109:42" pos:end="109:44">fps</name></expr>;</expr_stmt>

    <expr_stmt pos:start="111:5" pos:end="111:83"><expr pos:start="111:5" pos:end="111:82"><name pos:start="111:5" pos:end="111:18">audio_duration</name> <operator pos:start="111:20" pos:end="111:20">=</operator> <literal type="number" pos:start="111:22" pos:end="111:25">1024</literal> <operator pos:start="111:27" pos:end="111:27">*</operator> <name pos:start="111:29" pos:end="111:51"><name pos:start="111:29" pos:end="111:36">audio_st</name><operator pos:start="111:37" pos:end="111:38">-&gt;</operator><name pos:start="111:39" pos:end="111:47">time_base</name><operator pos:start="111:48" pos:end="111:48">.</operator><name pos:start="111:49" pos:end="111:51">den</name></name> <operator pos:start="111:53" pos:end="111:53">/</operator> <name pos:start="111:55" pos:end="111:82"><name pos:start="111:55" pos:end="111:62">audio_st</name><operator pos:start="111:63" pos:end="111:64">-&gt;</operator><name pos:start="111:65" pos:end="111:69">codec</name><operator pos:start="111:70" pos:end="111:71">-&gt;</operator><name pos:start="111:72" pos:end="111:82">sample_rate</name></name></expr>;</expr_stmt>

    <if_stmt pos:start="113:5" pos:end="115:86"><if pos:start="113:5" pos:end="115:86">if <condition pos:start="113:8" pos:end="113:22">(<expr pos:start="113:9" pos:end="113:21"><name pos:start="113:9" pos:end="113:21">audio_preroll</name></expr>)</condition><block type="pseudo" pos:start="115:9" pos:end="115:86"><block_content pos:start="115:9" pos:end="115:86">

        <expr_stmt pos:start="115:9" pos:end="115:86"><expr pos:start="115:9" pos:end="115:85"><name pos:start="115:9" pos:end="115:21">audio_preroll</name> <operator pos:start="115:23" pos:end="115:23">=</operator> <literal type="number" pos:start="115:25" pos:end="115:28">2048</literal> <operator pos:start="115:30" pos:end="115:30">*</operator> <name pos:start="115:32" pos:end="115:54"><name pos:start="115:32" pos:end="115:39">audio_st</name><operator pos:start="115:40" pos:end="115:41">-&gt;</operator><name pos:start="115:42" pos:end="115:50">time_base</name><operator pos:start="115:51" pos:end="115:51">.</operator><name pos:start="115:52" pos:end="115:54">den</name></name> <operator pos:start="115:56" pos:end="115:56">/</operator> <name pos:start="115:58" pos:end="115:85"><name pos:start="115:58" pos:end="115:65">audio_st</name><operator pos:start="115:66" pos:end="115:67">-&gt;</operator><name pos:start="115:68" pos:end="115:72">codec</name><operator pos:start="115:73" pos:end="115:74">-&gt;</operator><name pos:start="115:75" pos:end="115:85">sample_rate</name></name></expr>;</expr_stmt></block_content></block></if></if_stmt>



    <expr_stmt pos:start="119:5" pos:end="119:17"><expr pos:start="119:5" pos:end="119:16"><name pos:start="119:5" pos:end="119:11">bframes</name> <operator pos:start="119:13" pos:end="119:13">=</operator> <name pos:start="119:15" pos:end="119:16">bf</name></expr>;</expr_stmt>

    <expr_stmt pos:start="121:5" pos:end="121:40"><expr pos:start="121:5" pos:end="121:39"><name pos:start="121:5" pos:end="121:13">video_dts</name> <operator pos:start="121:15" pos:end="121:15">=</operator> <ternary pos:start="121:17" pos:end="121:39"><condition pos:start="121:17" pos:end="121:25"><expr pos:start="121:17" pos:end="121:23"><name pos:start="121:17" pos:end="121:23">bframes</name></expr> ?</condition><then pos:start="121:27" pos:end="121:35"> <expr pos:start="121:27" pos:end="121:35"><operator pos:start="121:27" pos:end="121:27">-</operator><name pos:start="121:28" pos:end="121:35">duration</name></expr> </then><else pos:start="121:37" pos:end="121:39">: <expr pos:start="121:39" pos:end="121:39"><literal type="number" pos:start="121:39" pos:end="121:39">0</literal></expr></else></ternary></expr>;</expr_stmt>

    <expr_stmt pos:start="123:5" pos:end="123:31"><expr pos:start="123:5" pos:end="123:30"><name pos:start="123:5" pos:end="123:13">audio_dts</name> <operator pos:start="123:15" pos:end="123:15">=</operator> <operator pos:start="123:17" pos:end="123:17">-</operator><name pos:start="123:18" pos:end="123:30">audio_preroll</name></expr>;</expr_stmt>

</block_content>}</block></function>
</unit>
