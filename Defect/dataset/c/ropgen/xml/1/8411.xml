<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/8411.c" pos:tabs="8"><function pos:start="1:1" pos:end="61:1"><type pos:start="1:1" pos:end="1:4"><name pos:start="1:1" pos:end="1:4">void</name></type> <name pos:start="1:6" pos:end="1:20">fw_cfg_add_file</name><parameter_list pos:start="1:21" pos:end="3:34">(<parameter pos:start="1:22" pos:end="1:34"><decl pos:start="1:22" pos:end="1:34"><type pos:start="1:22" pos:end="1:34"><name pos:start="1:22" pos:end="1:31">FWCfgState</name> <modifier pos:start="1:33" pos:end="1:33">*</modifier></type><name pos:start="1:34" pos:end="1:34">s</name></decl></parameter>,  <parameter pos:start="1:38" pos:end="1:57"><decl pos:start="1:38" pos:end="1:57"><type pos:start="1:38" pos:end="1:57"><specifier pos:start="1:38" pos:end="1:42">const</specifier> <name pos:start="1:44" pos:end="1:47">char</name> <modifier pos:start="1:49" pos:end="1:49">*</modifier></type><name pos:start="1:50" pos:end="1:57">filename</name></decl></parameter>, <parameter pos:start="1:60" pos:end="1:72"><decl pos:start="1:60" pos:end="1:72"><type pos:start="1:60" pos:end="1:72"><name pos:start="1:60" pos:end="1:66">uint8_t</name> <modifier pos:start="1:68" pos:end="1:68">*</modifier></type><name pos:start="1:69" pos:end="1:72">data</name></decl></parameter>,

                     <parameter pos:start="3:22" pos:end="3:33"><decl pos:start="3:22" pos:end="3:33"><type pos:start="3:22" pos:end="3:33"><name pos:start="3:22" pos:end="3:29">uint32_t</name></type> <name pos:start="3:31" pos:end="3:33">len</name></decl></parameter>)</parameter_list>

<block pos:start="5:1" pos:end="61:1">{<block_content pos:start="7:5" pos:end="59:43">

    <decl_stmt pos:start="7:5" pos:end="7:17"><decl pos:start="7:5" pos:end="7:9"><type pos:start="7:5" pos:end="7:7"><name pos:start="7:5" pos:end="7:7">int</name></type> <name pos:start="7:9" pos:end="7:9">i</name></decl>, <decl pos:start="7:12" pos:end="7:16"><type ref="prev" pos:start="7:5" pos:end="7:7"/><name pos:start="7:12" pos:end="7:16">index</name></decl>;</decl_stmt>



    <if_stmt pos:start="11:5" pos:end="19:5"><if pos:start="11:5" pos:end="19:5">if <condition pos:start="11:8" pos:end="11:18">(<expr pos:start="11:9" pos:end="11:17"><operator pos:start="11:9" pos:end="11:9">!</operator><name pos:start="11:10" pos:end="11:17"><name pos:start="11:10" pos:end="11:10">s</name><operator pos:start="11:11" pos:end="11:12">-&gt;</operator><name pos:start="11:13" pos:end="11:17">files</name></name></expr>)</condition> <block pos:start="11:20" pos:end="19:5">{<block_content pos:start="13:9" pos:end="17:72">

        <decl_stmt pos:start="13:9" pos:end="13:77"><decl pos:start="13:9" pos:end="13:76"><type pos:start="13:9" pos:end="13:11"><name pos:start="13:9" pos:end="13:11">int</name></type> <name pos:start="13:13" pos:end="13:17">dsize</name> <init pos:start="13:19" pos:end="13:76">= <expr pos:start="13:21" pos:end="13:76"><sizeof pos:start="13:21" pos:end="13:36">sizeof<argument_list pos:start="13:27" pos:end="13:36">(<argument pos:start="13:28" pos:end="13:35"><expr pos:start="13:28" pos:end="13:35"><name pos:start="13:28" pos:end="13:35">uint32_t</name></expr></argument>)</argument_list></sizeof> <operator pos:start="13:38" pos:end="13:38">+</operator> <sizeof pos:start="13:40" pos:end="13:56">sizeof<argument_list pos:start="13:46" pos:end="13:56">(<argument pos:start="13:47" pos:end="13:55"><expr pos:start="13:47" pos:end="13:55"><name pos:start="13:47" pos:end="13:55">FWCfgFile</name></expr></argument>)</argument_list></sizeof> <operator pos:start="13:58" pos:end="13:58">*</operator> <name pos:start="13:60" pos:end="13:76">FW_CFG_FILE_SLOTS</name></expr></init></decl>;</decl_stmt>

        <expr_stmt pos:start="15:9" pos:end="15:36"><expr pos:start="15:9" pos:end="15:35"><name pos:start="15:9" pos:end="15:16"><name pos:start="15:9" pos:end="15:9">s</name><operator pos:start="15:10" pos:end="15:11">-&gt;</operator><name pos:start="15:12" pos:end="15:16">files</name></name> <operator pos:start="15:18" pos:end="15:18">=</operator> <call pos:start="15:20" pos:end="15:35"><name pos:start="15:20" pos:end="15:28">g_malloc0</name><argument_list pos:start="15:29" pos:end="15:35">(<argument pos:start="15:30" pos:end="15:34"><expr pos:start="15:30" pos:end="15:34"><name pos:start="15:30" pos:end="15:34">dsize</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="17:9" pos:end="17:72"><expr pos:start="17:9" pos:end="17:71"><call pos:start="17:9" pos:end="17:71"><name pos:start="17:9" pos:end="17:24">fw_cfg_add_bytes</name><argument_list pos:start="17:25" pos:end="17:71">(<argument pos:start="17:26" pos:end="17:26"><expr pos:start="17:26" pos:end="17:26"><name pos:start="17:26" pos:end="17:26">s</name></expr></argument>, <argument pos:start="17:29" pos:end="17:43"><expr pos:start="17:29" pos:end="17:43"><name pos:start="17:29" pos:end="17:43">FW_CFG_FILE_DIR</name></expr></argument>, <argument pos:start="17:46" pos:end="17:63"><expr pos:start="17:46" pos:end="17:63"><operator pos:start="17:46" pos:end="17:46">(</operator><name pos:start="17:47" pos:end="17:53">uint8_t</name><operator pos:start="17:54" pos:end="17:54">*</operator><operator pos:start="17:55" pos:end="17:55">)</operator><name pos:start="17:56" pos:end="17:63"><name pos:start="17:56" pos:end="17:56">s</name><operator pos:start="17:57" pos:end="17:58">-&gt;</operator><name pos:start="17:59" pos:end="17:63">files</name></name></expr></argument>, <argument pos:start="17:66" pos:end="17:70"><expr pos:start="17:66" pos:end="17:70"><name pos:start="17:66" pos:end="17:70">dsize</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <expr_stmt pos:start="23:5" pos:end="23:41"><expr pos:start="23:5" pos:end="23:40"><name pos:start="23:5" pos:end="23:9">index</name> <operator pos:start="23:11" pos:end="23:11">=</operator> <call pos:start="23:13" pos:end="23:40"><name pos:start="23:13" pos:end="23:23">be32_to_cpu</name><argument_list pos:start="23:24" pos:end="23:40">(<argument pos:start="23:25" pos:end="23:39"><expr pos:start="23:25" pos:end="23:39"><name pos:start="23:25" pos:end="23:39"><name pos:start="23:25" pos:end="23:25">s</name><operator pos:start="23:26" pos:end="23:27">-&gt;</operator><name pos:start="23:28" pos:end="23:32">files</name><operator pos:start="23:33" pos:end="23:34">-&gt;</operator><name pos:start="23:35" pos:end="23:39">count</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="25:5" pos:end="25:38"><expr pos:start="25:5" pos:end="25:37"><call pos:start="25:5" pos:end="25:37"><name pos:start="25:5" pos:end="25:10">assert</name><argument_list pos:start="25:11" pos:end="25:37">(<argument pos:start="25:12" pos:end="25:36"><expr pos:start="25:12" pos:end="25:36"><name pos:start="25:12" pos:end="25:16">index</name> <operator pos:start="25:18" pos:end="25:18">&lt;</operator> <name pos:start="25:20" pos:end="25:36">FW_CFG_FILE_SLOTS</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="29:5" pos:end="29:62"><expr pos:start="29:5" pos:end="29:61"><call pos:start="29:5" pos:end="29:61"><name pos:start="29:5" pos:end="29:20">fw_cfg_add_bytes</name><argument_list pos:start="29:21" pos:end="29:61">(<argument pos:start="29:22" pos:end="29:22"><expr pos:start="29:22" pos:end="29:22"><name pos:start="29:22" pos:end="29:22">s</name></expr></argument>, <argument pos:start="29:25" pos:end="29:49"><expr pos:start="29:25" pos:end="29:49"><name pos:start="29:25" pos:end="29:41">FW_CFG_FILE_FIRST</name> <operator pos:start="29:43" pos:end="29:43">+</operator> <name pos:start="29:45" pos:end="29:49">index</name></expr></argument>, <argument pos:start="29:52" pos:end="29:55"><expr pos:start="29:52" pos:end="29:55"><name pos:start="29:52" pos:end="29:55">data</name></expr></argument>, <argument pos:start="29:58" pos:end="29:60"><expr pos:start="29:58" pos:end="29:60"><name pos:start="29:58" pos:end="29:60">len</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="33:5" pos:end="35:22"><expr pos:start="33:5" pos:end="35:21"><call pos:start="33:5" pos:end="35:21"><name pos:start="33:5" pos:end="33:11">pstrcpy</name><argument_list pos:start="33:12" pos:end="35:21">(<argument pos:start="33:13" pos:end="33:35"><expr pos:start="33:13" pos:end="33:35"><name pos:start="33:13" pos:end="33:30"><name pos:start="33:13" pos:end="33:13">s</name><operator pos:start="33:14" pos:end="33:15">-&gt;</operator><name pos:start="33:16" pos:end="33:20">files</name><operator pos:start="33:21" pos:end="33:22">-&gt;</operator><name pos:start="33:23" pos:end="33:23">f</name><index pos:start="33:24" pos:end="33:30">[<expr pos:start="33:25" pos:end="33:29"><name pos:start="33:25" pos:end="33:29">index</name></expr>]</index></name><operator pos:start="33:31" pos:end="33:31">.</operator><name pos:start="33:32" pos:end="33:35">name</name></expr></argument>, <argument pos:start="33:38" pos:end="33:68"><expr pos:start="33:38" pos:end="33:68"><sizeof pos:start="33:38" pos:end="33:68">sizeof<argument_list pos:start="33:44" pos:end="33:68">(<argument pos:start="33:45" pos:end="33:67"><expr pos:start="33:45" pos:end="33:67"><name pos:start="33:45" pos:end="33:62"><name pos:start="33:45" pos:end="33:45">s</name><operator pos:start="33:46" pos:end="33:47">-&gt;</operator><name pos:start="33:48" pos:end="33:52">files</name><operator pos:start="33:53" pos:end="33:54">-&gt;</operator><name pos:start="33:55" pos:end="33:55">f</name><index pos:start="33:56" pos:end="33:62">[<expr pos:start="33:57" pos:end="33:61"><name pos:start="33:57" pos:end="33:61">index</name></expr>]</index></name><operator pos:start="33:63" pos:end="33:63">.</operator><name pos:start="33:64" pos:end="33:67">name</name></expr></argument>)</argument_list></sizeof></expr></argument>,

            <argument pos:start="35:13" pos:end="35:20"><expr pos:start="35:13" pos:end="35:20"><name pos:start="35:13" pos:end="35:20">filename</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <for pos:start="37:5" pos:end="47:5">for <control pos:start="37:9" pos:end="37:31">(<init pos:start="37:10" pos:end="37:15"><expr pos:start="37:10" pos:end="37:14"><name pos:start="37:10" pos:end="37:10">i</name> <operator pos:start="37:12" pos:end="37:12">=</operator> <literal type="number" pos:start="37:14" pos:end="37:14">0</literal></expr>;</init> <condition pos:start="37:17" pos:end="37:26"><expr pos:start="37:17" pos:end="37:25"><name pos:start="37:17" pos:end="37:17">i</name> <operator pos:start="37:19" pos:end="37:19">&lt;</operator> <name pos:start="37:21" pos:end="37:25">index</name></expr>;</condition> <incr pos:start="37:28" pos:end="37:30"><expr pos:start="37:28" pos:end="37:30"><name pos:start="37:28" pos:end="37:28">i</name><operator pos:start="37:29" pos:end="37:30">++</operator></expr></incr>)</control> <block pos:start="37:33" pos:end="47:5">{<block_content pos:start="39:9" pos:end="45:9">

        <if_stmt pos:start="39:9" pos:end="45:9"><if pos:start="39:9" pos:end="45:9">if <condition pos:start="39:12" pos:end="39:70">(<expr pos:start="39:13" pos:end="39:69"><call pos:start="39:13" pos:end="39:64"><name pos:start="39:13" pos:end="39:18">strcmp</name><argument_list pos:start="39:19" pos:end="39:64">(<argument pos:start="39:20" pos:end="39:42"><expr pos:start="39:20" pos:end="39:42"><name pos:start="39:20" pos:end="39:37"><name pos:start="39:20" pos:end="39:20">s</name><operator pos:start="39:21" pos:end="39:22">-&gt;</operator><name pos:start="39:23" pos:end="39:27">files</name><operator pos:start="39:28" pos:end="39:29">-&gt;</operator><name pos:start="39:30" pos:end="39:30">f</name><index pos:start="39:31" pos:end="39:37">[<expr pos:start="39:32" pos:end="39:36"><name pos:start="39:32" pos:end="39:36">index</name></expr>]</index></name><operator pos:start="39:38" pos:end="39:38">.</operator><name pos:start="39:39" pos:end="39:42">name</name></expr></argument>, <argument pos:start="39:45" pos:end="39:63"><expr pos:start="39:45" pos:end="39:63"><name pos:start="39:45" pos:end="39:58"><name pos:start="39:45" pos:end="39:45">s</name><operator pos:start="39:46" pos:end="39:47">-&gt;</operator><name pos:start="39:48" pos:end="39:52">files</name><operator pos:start="39:53" pos:end="39:54">-&gt;</operator><name pos:start="39:55" pos:end="39:55">f</name><index pos:start="39:56" pos:end="39:58">[<expr pos:start="39:57" pos:end="39:57"><name pos:start="39:57" pos:end="39:57">i</name></expr>]</index></name><operator pos:start="39:59" pos:end="39:59">.</operator><name pos:start="39:60" pos:end="39:63">name</name></expr></argument>)</argument_list></call> <operator pos:start="39:66" pos:end="39:67">==</operator> <literal type="number" pos:start="39:69" pos:end="39:69">0</literal></expr>)</condition> <block pos:start="39:72" pos:end="45:9">{<block_content pos:start="41:13" pos:end="43:19">

            <expr_stmt pos:start="41:13" pos:end="41:67"><expr pos:start="41:13" pos:end="41:66"><call pos:start="41:13" pos:end="41:66"><name pos:start="41:13" pos:end="41:38">trace_fw_cfg_add_file_dupe</name><argument_list pos:start="41:39" pos:end="41:66">(<argument pos:start="41:40" pos:end="41:40"><expr pos:start="41:40" pos:end="41:40"><name pos:start="41:40" pos:end="41:40">s</name></expr></argument>, <argument pos:start="41:43" pos:end="41:65"><expr pos:start="41:43" pos:end="41:65"><name pos:start="41:43" pos:end="41:60"><name pos:start="41:43" pos:end="41:43">s</name><operator pos:start="41:44" pos:end="41:45">-&gt;</operator><name pos:start="41:46" pos:end="41:50">files</name><operator pos:start="41:51" pos:end="41:52">-&gt;</operator><name pos:start="41:53" pos:end="41:53">f</name><index pos:start="41:54" pos:end="41:60">[<expr pos:start="41:55" pos:end="41:59"><name pos:start="41:55" pos:end="41:59">index</name></expr>]</index></name><operator pos:start="41:61" pos:end="41:61">.</operator><name pos:start="41:62" pos:end="41:65">name</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <return pos:start="43:13" pos:end="43:19">return;</return>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></for>



    <expr_stmt pos:start="51:5" pos:end="51:49"><expr pos:start="51:5" pos:end="51:48"><name pos:start="51:5" pos:end="51:22"><name pos:start="51:5" pos:end="51:5">s</name><operator pos:start="51:6" pos:end="51:7">-&gt;</operator><name pos:start="51:8" pos:end="51:12">files</name><operator pos:start="51:13" pos:end="51:14">-&gt;</operator><name pos:start="51:15" pos:end="51:15">f</name><index pos:start="51:16" pos:end="51:22">[<expr pos:start="51:17" pos:end="51:21"><name pos:start="51:17" pos:end="51:21">index</name></expr>]</index></name><operator pos:start="51:23" pos:end="51:23">.</operator><name pos:start="51:24" pos:end="51:27">size</name>   <operator pos:start="51:31" pos:end="51:31">=</operator> <call pos:start="51:33" pos:end="51:48"><name pos:start="51:33" pos:end="51:43">cpu_to_be32</name><argument_list pos:start="51:44" pos:end="51:48">(<argument pos:start="51:45" pos:end="51:47"><expr pos:start="51:45" pos:end="51:47"><name pos:start="51:45" pos:end="51:47">len</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="53:5" pos:end="53:71"><expr pos:start="53:5" pos:end="53:70"><name pos:start="53:5" pos:end="53:22"><name pos:start="53:5" pos:end="53:5">s</name><operator pos:start="53:6" pos:end="53:7">-&gt;</operator><name pos:start="53:8" pos:end="53:12">files</name><operator pos:start="53:13" pos:end="53:14">-&gt;</operator><name pos:start="53:15" pos:end="53:15">f</name><index pos:start="53:16" pos:end="53:22">[<expr pos:start="53:17" pos:end="53:21"><name pos:start="53:17" pos:end="53:21">index</name></expr>]</index></name><operator pos:start="53:23" pos:end="53:23">.</operator><name pos:start="53:24" pos:end="53:29">select</name> <operator pos:start="53:31" pos:end="53:31">=</operator> <call pos:start="53:33" pos:end="53:70"><name pos:start="53:33" pos:end="53:43">cpu_to_be16</name><argument_list pos:start="53:44" pos:end="53:70">(<argument pos:start="53:45" pos:end="53:69"><expr pos:start="53:45" pos:end="53:69"><name pos:start="53:45" pos:end="53:61">FW_CFG_FILE_FIRST</name> <operator pos:start="53:63" pos:end="53:63">+</operator> <name pos:start="53:65" pos:end="53:69">index</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="55:5" pos:end="55:66"><expr pos:start="55:5" pos:end="55:65"><call pos:start="55:5" pos:end="55:65"><name pos:start="55:5" pos:end="55:25">trace_fw_cfg_add_file</name><argument_list pos:start="55:26" pos:end="55:65">(<argument pos:start="55:27" pos:end="55:27"><expr pos:start="55:27" pos:end="55:27"><name pos:start="55:27" pos:end="55:27">s</name></expr></argument>, <argument pos:start="55:30" pos:end="55:34"><expr pos:start="55:30" pos:end="55:34"><name pos:start="55:30" pos:end="55:34">index</name></expr></argument>, <argument pos:start="55:37" pos:end="55:59"><expr pos:start="55:37" pos:end="55:59"><name pos:start="55:37" pos:end="55:54"><name pos:start="55:37" pos:end="55:37">s</name><operator pos:start="55:38" pos:end="55:39">-&gt;</operator><name pos:start="55:40" pos:end="55:44">files</name><operator pos:start="55:45" pos:end="55:46">-&gt;</operator><name pos:start="55:47" pos:end="55:47">f</name><index pos:start="55:48" pos:end="55:54">[<expr pos:start="55:49" pos:end="55:53"><name pos:start="55:49" pos:end="55:53">index</name></expr>]</index></name><operator pos:start="55:55" pos:end="55:55">.</operator><name pos:start="55:56" pos:end="55:59">name</name></expr></argument>, <argument pos:start="55:62" pos:end="55:64"><expr pos:start="55:62" pos:end="55:64"><name pos:start="55:62" pos:end="55:64">len</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="59:5" pos:end="59:43"><expr pos:start="59:5" pos:end="59:42"><name pos:start="59:5" pos:end="59:19"><name pos:start="59:5" pos:end="59:5">s</name><operator pos:start="59:6" pos:end="59:7">-&gt;</operator><name pos:start="59:8" pos:end="59:12">files</name><operator pos:start="59:13" pos:end="59:14">-&gt;</operator><name pos:start="59:15" pos:end="59:19">count</name></name> <operator pos:start="59:21" pos:end="59:21">=</operator> <call pos:start="59:23" pos:end="59:42"><name pos:start="59:23" pos:end="59:33">cpu_to_be32</name><argument_list pos:start="59:34" pos:end="59:42">(<argument pos:start="59:35" pos:end="59:41"><expr pos:start="59:35" pos:end="59:41"><name pos:start="59:35" pos:end="59:39">index</name><operator pos:start="59:40" pos:end="59:40">+</operator><literal type="number" pos:start="59:41" pos:end="59:41">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

</block_content>}</block></function>
</unit>
