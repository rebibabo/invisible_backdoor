<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/7145.c" pos:tabs="8"><function pos:start="1:1" pos:end="62:1"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:25">fd_revalidate</name><parameter_list pos:start="1:26" pos:end="1:38">(<parameter pos:start="1:27" pos:end="1:37"><decl pos:start="1:27" pos:end="1:37"><type pos:start="1:27" pos:end="1:34"><name pos:start="1:27" pos:end="1:32">FDrive</name> <modifier pos:start="1:34" pos:end="1:34">*</modifier></type><name pos:start="1:35" pos:end="1:37">drv</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="62:1">{<block_content pos:start="5:5" pos:end="60:5">

    <decl_stmt pos:start="5:5" pos:end="5:11"><decl pos:start="5:5" pos:end="5:10"><type pos:start="5:5" pos:end="5:7"><name pos:start="5:5" pos:end="5:7">int</name></type> <name pos:start="5:9" pos:end="5:10">rc</name></decl>;</decl_stmt>



    <expr_stmt pos:start="9:5" pos:end="9:35"><expr pos:start="9:5" pos:end="9:34"><call pos:start="9:5" pos:end="9:34"><name pos:start="9:5" pos:end="9:18">FLOPPY_DPRINTF</name><argument_list pos:start="9:19" pos:end="9:34">(<argument pos:start="9:20" pos:end="9:33"><expr pos:start="9:20" pos:end="9:33"><literal type="string" pos:start="9:20" pos:end="9:33">"revalidate\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="11:5" pos:end="60:5"><if pos:start="11:5" pos:end="46:5">if <condition pos:start="11:8" pos:end="11:25">(<expr pos:start="11:9" pos:end="11:24"><name pos:start="11:9" pos:end="11:16"><name pos:start="11:9" pos:end="11:11">drv</name><operator pos:start="11:12" pos:end="11:13">-&gt;</operator><name pos:start="11:14" pos:end="11:16">blk</name></name> <operator pos:start="11:18" pos:end="11:19">!=</operator> <name pos:start="11:21" pos:end="11:24">NULL</name></expr>)</condition> <block pos:start="11:27" pos:end="46:5">{<block_content pos:start="13:9" pos:end="44:9">

        <expr_stmt pos:start="13:9" pos:end="13:45"><expr pos:start="13:9" pos:end="13:44"><name pos:start="13:9" pos:end="13:15"><name pos:start="13:9" pos:end="13:11">drv</name><operator pos:start="13:12" pos:end="13:13">-&gt;</operator><name pos:start="13:14" pos:end="13:15">ro</name></name> <operator pos:start="13:17" pos:end="13:17">=</operator> <call pos:start="13:19" pos:end="13:44"><name pos:start="13:19" pos:end="13:34">blk_is_read_only</name><argument_list pos:start="13:35" pos:end="13:44">(<argument pos:start="13:36" pos:end="13:43"><expr pos:start="13:36" pos:end="13:43"><name pos:start="13:36" pos:end="13:43"><name pos:start="13:36" pos:end="13:38">drv</name><operator pos:start="13:39" pos:end="13:40">-&gt;</operator><name pos:start="13:41" pos:end="13:43">blk</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="15:9" pos:end="44:9"><if pos:start="15:9" pos:end="22:9">if <condition pos:start="15:12" pos:end="15:39">(<expr pos:start="15:13" pos:end="15:38"><operator pos:start="15:13" pos:end="15:13">!</operator><call pos:start="15:14" pos:end="15:38"><name pos:start="15:14" pos:end="15:28">blk_is_inserted</name><argument_list pos:start="15:29" pos:end="15:38">(<argument pos:start="15:30" pos:end="15:37"><expr pos:start="15:30" pos:end="15:37"><name pos:start="15:30" pos:end="15:37"><name pos:start="15:30" pos:end="15:32">drv</name><operator pos:start="15:33" pos:end="15:34">-&gt;</operator><name pos:start="15:35" pos:end="15:37">blk</name></name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="15:41" pos:end="22:9">{<block_content pos:start="17:13" pos:end="19:47">

            <expr_stmt pos:start="17:13" pos:end="17:49"><expr pos:start="17:13" pos:end="17:48"><call pos:start="17:13" pos:end="17:48"><name pos:start="17:13" pos:end="17:26">FLOPPY_DPRINTF</name><argument_list pos:start="17:27" pos:end="17:48">(<argument pos:start="17:28" pos:end="17:47"><expr pos:start="17:28" pos:end="17:47"><literal type="string" pos:start="17:28" pos:end="17:47">"No disk in drive\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="19:13" pos:end="19:47"><expr pos:start="19:13" pos:end="19:46"><name pos:start="19:13" pos:end="19:21"><name pos:start="19:13" pos:end="19:15">drv</name><operator pos:start="19:16" pos:end="19:17">-&gt;</operator><name pos:start="19:18" pos:end="19:21">disk</name></name> <operator pos:start="19:23" pos:end="19:23">=</operator> <name pos:start="19:25" pos:end="19:46">FLOPPY_DRIVE_TYPE_NONE</name></expr>;</expr_stmt>


        </block_content>}</block></if> <if type="elseif" pos:start="22:11" pos:end="44:9">else if <condition pos:start="22:19" pos:end="22:41">(<expr pos:start="22:20" pos:end="22:40"><operator pos:start="22:20" pos:end="22:20">!</operator><name pos:start="22:21" pos:end="22:40"><name pos:start="22:21" pos:end="22:23">drv</name><operator pos:start="22:24" pos:end="22:25">-&gt;</operator><name pos:start="22:26" pos:end="22:40">media_validated</name></name></expr>)</condition> <block pos:start="22:43" pos:end="44:9">{<block_content pos:start="24:13" pos:end="42:13">

            <expr_stmt pos:start="24:13" pos:end="24:36"><expr pos:start="24:13" pos:end="24:35"><name pos:start="24:13" pos:end="24:14">rc</name> <operator pos:start="24:16" pos:end="24:16">=</operator> <call pos:start="24:18" pos:end="24:35"><name pos:start="24:18" pos:end="24:30">pick_geometry</name><argument_list pos:start="24:31" pos:end="24:35">(<argument pos:start="24:32" pos:end="24:34"><expr pos:start="24:32" pos:end="24:34"><name pos:start="24:32" pos:end="24:34">drv</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <if_stmt pos:start="26:13" pos:end="42:13"><if pos:start="26:13" pos:end="30:13">if <condition pos:start="26:16" pos:end="26:19">(<expr pos:start="26:17" pos:end="26:18"><name pos:start="26:17" pos:end="26:18">rc</name></expr>)</condition> <block pos:start="26:21" pos:end="30:13">{<block_content pos:start="28:17" pos:end="28:72">

                <expr_stmt pos:start="28:17" pos:end="28:72"><expr pos:start="28:17" pos:end="28:71"><call pos:start="28:17" pos:end="28:71"><name pos:start="28:17" pos:end="28:30">FLOPPY_DPRINTF</name><argument_list pos:start="28:31" pos:end="28:71">(<argument pos:start="28:32" pos:end="28:70"><expr pos:start="28:32" pos:end="28:70"><literal type="string" pos:start="28:32" pos:end="28:70">"Could not validate floppy drive media"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></if> <else pos:start="30:15" pos:end="42:13">else <block pos:start="30:20" pos:end="42:13">{<block_content pos:start="32:17" pos:end="40:54">

                <expr_stmt pos:start="32:17" pos:end="32:44"><expr pos:start="32:17" pos:end="32:43"><name pos:start="32:17" pos:end="32:36"><name pos:start="32:17" pos:end="32:19">drv</name><operator pos:start="32:20" pos:end="32:21">-&gt;</operator><name pos:start="32:22" pos:end="32:36">media_validated</name></name> <operator pos:start="32:38" pos:end="32:38">=</operator> <name pos:start="32:40" pos:end="32:43">true</name></expr>;</expr_stmt>

                <expr_stmt pos:start="34:17" pos:end="40:54"><expr pos:start="34:17" pos:end="40:53"><call pos:start="34:17" pos:end="40:53"><name pos:start="34:17" pos:end="34:30">FLOPPY_DPRINTF</name><argument_list pos:start="34:31" pos:end="40:53">(<argument pos:start="34:32" pos:end="34:66"><expr pos:start="34:32" pos:end="34:66"><literal type="string" pos:start="34:32" pos:end="34:66">"Floppy disk (%d h %d t %d s) %s\n"</literal></expr></argument>,

                               <argument pos:start="36:32" pos:end="36:69"><expr pos:start="36:32" pos:end="36:69"><ternary pos:start="36:32" pos:end="36:69"><condition pos:start="36:32" pos:end="36:63"><expr pos:start="36:32" pos:end="36:61"><operator pos:start="36:32" pos:end="36:32">(</operator><name pos:start="36:33" pos:end="36:42"><name pos:start="36:33" pos:end="36:35">drv</name><operator pos:start="36:36" pos:end="36:37">-&gt;</operator><name pos:start="36:38" pos:end="36:42">flags</name></name> <operator pos:start="36:44" pos:end="36:44">&amp;</operator> <name pos:start="36:46" pos:end="36:60">FDISK_DBL_SIDES</name><operator pos:start="36:61" pos:end="36:61">)</operator></expr> ?</condition><then pos:start="36:65" pos:end="36:65"> <expr pos:start="36:65" pos:end="36:65"><literal type="number" pos:start="36:65" pos:end="36:65">2</literal></expr> </then><else pos:start="36:67" pos:end="36:69">: <expr pos:start="36:69" pos:end="36:69"><literal type="number" pos:start="36:69" pos:end="36:69">1</literal></expr></else></ternary></expr></argument>,

                               <argument pos:start="38:32" pos:end="38:45"><expr pos:start="38:32" pos:end="38:45"><name pos:start="38:32" pos:end="38:45"><name pos:start="38:32" pos:end="38:34">drv</name><operator pos:start="38:35" pos:end="38:36">-&gt;</operator><name pos:start="38:37" pos:end="38:45">max_track</name></name></expr></argument>, <argument pos:start="38:48" pos:end="38:61"><expr pos:start="38:48" pos:end="38:61"><name pos:start="38:48" pos:end="38:61"><name pos:start="38:48" pos:end="38:50">drv</name><operator pos:start="38:51" pos:end="38:52">-&gt;</operator><name pos:start="38:53" pos:end="38:61">last_sect</name></name></expr></argument>,

                               <argument pos:start="40:32" pos:end="40:52"><expr pos:start="40:32" pos:end="40:52"><ternary pos:start="40:32" pos:end="40:52"><condition pos:start="40:32" pos:end="40:40"><expr pos:start="40:32" pos:end="40:38"><name pos:start="40:32" pos:end="40:38"><name pos:start="40:32" pos:end="40:34">drv</name><operator pos:start="40:35" pos:end="40:36">-&gt;</operator><name pos:start="40:37" pos:end="40:38">ro</name></name></expr> ?</condition><then pos:start="40:42" pos:end="40:45"> <expr pos:start="40:42" pos:end="40:45"><literal type="string" pos:start="40:42" pos:end="40:45">"ro"</literal></expr> </then><else pos:start="40:47" pos:end="40:52">: <expr pos:start="40:49" pos:end="40:52"><literal type="string" pos:start="40:49" pos:end="40:52">"rw"</literal></expr></else></ternary></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></else></if_stmt>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></if> <else pos:start="46:7" pos:end="60:5">else <block pos:start="46:12" pos:end="60:5">{<block_content pos:start="48:9" pos:end="58:43">

        <expr_stmt pos:start="48:9" pos:end="48:47"><expr pos:start="48:9" pos:end="48:46"><call pos:start="48:9" pos:end="48:46"><name pos:start="48:9" pos:end="48:22">FLOPPY_DPRINTF</name><argument_list pos:start="48:23" pos:end="48:46">(<argument pos:start="48:24" pos:end="48:45"><expr pos:start="48:24" pos:end="48:45"><literal type="string" pos:start="48:24" pos:end="48:45">"No drive connected\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="50:9" pos:end="50:27"><expr pos:start="50:9" pos:end="50:26"><name pos:start="50:9" pos:end="50:22"><name pos:start="50:9" pos:end="50:11">drv</name><operator pos:start="50:12" pos:end="50:13">-&gt;</operator><name pos:start="50:14" pos:end="50:22">last_sect</name></name> <operator pos:start="50:24" pos:end="50:24">=</operator> <literal type="number" pos:start="50:26" pos:end="50:26">0</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="52:9" pos:end="52:27"><expr pos:start="52:9" pos:end="52:26"><name pos:start="52:9" pos:end="52:22"><name pos:start="52:9" pos:end="52:11">drv</name><operator pos:start="52:12" pos:end="52:13">-&gt;</operator><name pos:start="52:14" pos:end="52:22">max_track</name></name> <operator pos:start="52:24" pos:end="52:24">=</operator> <literal type="number" pos:start="52:26" pos:end="52:26">0</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="54:9" pos:end="54:39"><expr pos:start="54:9" pos:end="54:38"><name pos:start="54:9" pos:end="54:18"><name pos:start="54:9" pos:end="54:11">drv</name><operator pos:start="54:12" pos:end="54:13">-&gt;</operator><name pos:start="54:14" pos:end="54:18">flags</name></name> <operator pos:start="54:20" pos:end="54:21">&amp;=</operator> <operator pos:start="54:23" pos:end="54:23">~</operator><name pos:start="54:24" pos:end="54:38">FDISK_DBL_SIDES</name></expr>;</expr_stmt>

        <expr_stmt pos:start="56:9" pos:end="56:44"><expr pos:start="56:9" pos:end="56:43"><name pos:start="56:9" pos:end="56:18"><name pos:start="56:9" pos:end="56:11">drv</name><operator pos:start="56:12" pos:end="56:13">-&gt;</operator><name pos:start="56:14" pos:end="56:18">drive</name></name> <operator pos:start="56:20" pos:end="56:20">=</operator> <name pos:start="56:22" pos:end="56:43">FLOPPY_DRIVE_TYPE_NONE</name></expr>;</expr_stmt>

        <expr_stmt pos:start="58:9" pos:end="58:43"><expr pos:start="58:9" pos:end="58:42"><name pos:start="58:9" pos:end="58:17"><name pos:start="58:9" pos:end="58:11">drv</name><operator pos:start="58:12" pos:end="58:13">-&gt;</operator><name pos:start="58:14" pos:end="58:17">disk</name></name> <operator pos:start="58:19" pos:end="58:19">=</operator> <name pos:start="58:21" pos:end="58:42">FLOPPY_DRIVE_TYPE_NONE</name></expr>;</expr_stmt>

    </block_content>}</block></else></if_stmt>

</block_content>}</block></function></unit>
