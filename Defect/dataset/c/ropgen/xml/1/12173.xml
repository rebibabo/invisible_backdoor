<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:cpp="http://www.srcML.org/srcML/cpp" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/12173.c" pos:tabs="8"><function pos:start="1:1" pos:end="165:1"><type pos:start="1:1" pos:end="1:10"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:10">int</name></type> <name pos:start="1:12" pos:end="1:37">dvbsub_display_end_segment</name><parameter_list pos:start="1:38" pos:end="3:70">(<parameter pos:start="1:39" pos:end="1:59"><decl pos:start="1:39" pos:end="1:59"><type pos:start="1:39" pos:end="1:59"><name pos:start="1:39" pos:end="1:52">AVCodecContext</name> <modifier pos:start="1:54" pos:end="1:54">*</modifier></type><name pos:start="1:55" pos:end="1:59">avctx</name></decl></parameter>, <parameter pos:start="1:62" pos:end="1:79"><decl pos:start="1:62" pos:end="1:79"><type pos:start="1:62" pos:end="1:79"><specifier pos:start="1:62" pos:end="1:66">const</specifier> <name pos:start="1:68" pos:end="1:74">uint8_t</name> <modifier pos:start="1:76" pos:end="1:76">*</modifier></type><name pos:start="1:77" pos:end="1:79">buf</name></decl></parameter>,

                                        <parameter pos:start="3:41" pos:end="3:52"><decl pos:start="3:41" pos:end="3:52"><type pos:start="3:41" pos:end="3:52"><name pos:start="3:41" pos:end="3:43">int</name></type> <name pos:start="3:45" pos:end="3:52">buf_size</name></decl></parameter>, <parameter pos:start="3:55" pos:end="3:69"><decl pos:start="3:55" pos:end="3:69"><type pos:start="3:55" pos:end="3:69"><name pos:start="3:55" pos:end="3:64">AVSubtitle</name> <modifier pos:start="3:66" pos:end="3:66">*</modifier></type><name pos:start="3:67" pos:end="3:69">sub</name></decl></parameter>)</parameter_list>

<block pos:start="5:1" pos:end="165:1">{<block_content pos:start="7:5" pos:end="163:13">

    <decl_stmt pos:start="7:5" pos:end="7:42"><decl pos:start="7:5" pos:end="7:41"><type pos:start="7:5" pos:end="7:19"><name pos:start="7:5" pos:end="7:17">DVBSubContext</name> <modifier pos:start="7:19" pos:end="7:19">*</modifier></type><name pos:start="7:20" pos:end="7:22">ctx</name> <init pos:start="7:24" pos:end="7:41">= <expr pos:start="7:26" pos:end="7:41"><name pos:start="7:26" pos:end="7:41"><name pos:start="7:26" pos:end="7:30">avctx</name><operator pos:start="7:31" pos:end="7:32">-&gt;</operator><name pos:start="7:33" pos:end="7:41">priv_data</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:67"><decl pos:start="9:5" pos:end="9:66"><type pos:start="9:5" pos:end="9:29"><name pos:start="9:5" pos:end="9:27">DVBSubDisplayDefinition</name> <modifier pos:start="9:29" pos:end="9:29">*</modifier></type><name pos:start="9:30" pos:end="9:40">display_def</name> <init pos:start="9:42" pos:end="9:66">= <expr pos:start="9:44" pos:end="9:66"><name pos:start="9:44" pos:end="9:66"><name pos:start="9:44" pos:end="9:46">ctx</name><operator pos:start="9:47" pos:end="9:48">-&gt;</operator><name pos:start="9:49" pos:end="9:66">display_definition</name></name></expr></init></decl>;</decl_stmt>



    <decl_stmt pos:start="13:5" pos:end="13:25"><decl pos:start="13:5" pos:end="13:24"><type pos:start="13:5" pos:end="13:18"><name pos:start="13:5" pos:end="13:16">DVBSubRegion</name> <modifier pos:start="13:18" pos:end="13:18">*</modifier></type><name pos:start="13:19" pos:end="13:24">region</name></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="15:33"><decl pos:start="15:5" pos:end="15:32"><type pos:start="15:5" pos:end="15:25"><name pos:start="15:5" pos:end="15:23">DVBSubRegionDisplay</name> <modifier pos:start="15:25" pos:end="15:25">*</modifier></type><name pos:start="15:26" pos:end="15:32">display</name></decl>;</decl_stmt>

    <decl_stmt pos:start="17:5" pos:end="17:25"><decl pos:start="17:5" pos:end="17:24"><type pos:start="17:5" pos:end="17:20"><name pos:start="17:5" pos:end="17:18">AVSubtitleRect</name> <modifier pos:start="17:20" pos:end="17:20">*</modifier></type><name pos:start="17:21" pos:end="17:24">rect</name></decl>;</decl_stmt>

    <decl_stmt pos:start="19:5" pos:end="19:21"><decl pos:start="19:5" pos:end="19:20"><type pos:start="19:5" pos:end="19:16"><name pos:start="19:5" pos:end="19:14">DVBSubCLUT</name> <modifier pos:start="19:16" pos:end="19:16">*</modifier></type><name pos:start="19:17" pos:end="19:20">clut</name></decl>;</decl_stmt>

    <decl_stmt pos:start="21:5" pos:end="21:25"><decl pos:start="21:5" pos:end="21:24"><type pos:start="21:5" pos:end="21:14"><name pos:start="21:5" pos:end="21:12">uint32_t</name> <modifier pos:start="21:14" pos:end="21:14">*</modifier></type><name pos:start="21:15" pos:end="21:24">clut_table</name></decl>;</decl_stmt>

    <decl_stmt pos:start="23:5" pos:end="23:10"><decl pos:start="23:5" pos:end="23:9"><type pos:start="23:5" pos:end="23:7"><name pos:start="23:5" pos:end="23:7">int</name></type> <name pos:start="23:9" pos:end="23:9">i</name></decl>;</decl_stmt>

    <decl_stmt pos:start="25:5" pos:end="25:31"><decl pos:start="25:5" pos:end="25:18"><type pos:start="25:5" pos:end="25:7"><name pos:start="25:5" pos:end="25:7">int</name></type> <name pos:start="25:9" pos:end="25:16">offset_x</name><init pos:start="25:17" pos:end="25:18">=<expr pos:start="25:18" pos:end="25:18"><literal type="number" pos:start="25:18" pos:end="25:18">0</literal></expr></init></decl>, <decl pos:start="25:21" pos:end="25:30"><type ref="prev" pos:start="25:5" pos:end="25:7"/><name pos:start="25:21" pos:end="25:28">offset_y</name><init pos:start="25:29" pos:end="25:30">=<expr pos:start="25:30" pos:end="25:30"><literal type="number" pos:start="25:30" pos:end="25:30">0</literal></expr></init></decl>;</decl_stmt>



    <expr_stmt pos:start="29:5" pos:end="29:49"><expr pos:start="29:5" pos:end="29:48"><name pos:start="29:5" pos:end="29:25"><name pos:start="29:5" pos:end="29:7">sub</name><operator pos:start="29:8" pos:end="29:9">-&gt;</operator><name pos:start="29:10" pos:end="29:25">end_display_time</name></name> <operator pos:start="29:27" pos:end="29:27">=</operator> <name pos:start="29:29" pos:end="29:41"><name pos:start="29:29" pos:end="29:31">ctx</name><operator pos:start="29:32" pos:end="29:33">-&gt;</operator><name pos:start="29:34" pos:end="29:41">time_out</name></name> <operator pos:start="29:43" pos:end="29:43">*</operator> <literal type="number" pos:start="29:45" pos:end="29:48">1000</literal></expr>;</expr_stmt>



    <if_stmt pos:start="33:5" pos:end="39:5"><if pos:start="33:5" pos:end="39:5">if <condition pos:start="33:8" pos:end="33:20">(<expr pos:start="33:9" pos:end="33:19"><name pos:start="33:9" pos:end="33:19">display_def</name></expr>)</condition> <block pos:start="33:22" pos:end="39:5">{<block_content pos:start="35:9" pos:end="37:34">

        <expr_stmt pos:start="35:9" pos:end="35:34"><expr pos:start="35:9" pos:end="35:33"><name pos:start="35:9" pos:end="35:16">offset_x</name> <operator pos:start="35:18" pos:end="35:18">=</operator> <name pos:start="35:20" pos:end="35:33"><name pos:start="35:20" pos:end="35:30">display_def</name><operator pos:start="35:31" pos:end="35:32">-&gt;</operator><name pos:start="35:33" pos:end="35:33">x</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="37:9" pos:end="37:34"><expr pos:start="37:9" pos:end="37:33"><name pos:start="37:9" pos:end="37:16">offset_y</name> <operator pos:start="37:18" pos:end="37:18">=</operator> <name pos:start="37:20" pos:end="37:33"><name pos:start="37:20" pos:end="37:30">display_def</name><operator pos:start="37:31" pos:end="37:32">-&gt;</operator><name pos:start="37:33" pos:end="37:33">y</name></name></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <expr_stmt pos:start="43:5" pos:end="43:44"><expr pos:start="43:5" pos:end="43:43"><name pos:start="43:5" pos:end="43:18"><name pos:start="43:5" pos:end="43:7">sub</name><operator pos:start="43:8" pos:end="43:9">-&gt;</operator><name pos:start="43:10" pos:end="43:18">num_rects</name></name> <operator pos:start="43:20" pos:end="43:20">=</operator> <name pos:start="43:22" pos:end="43:43"><name pos:start="43:22" pos:end="43:24">ctx</name><operator pos:start="43:25" pos:end="43:26">-&gt;</operator><name pos:start="43:27" pos:end="43:43">display_list_size</name></name></expr>;</expr_stmt>



    <if_stmt pos:start="47:5" pos:end="156:0"><if pos:start="47:5" pos:end="156:0">if <condition pos:start="47:8" pos:end="47:27">(<expr pos:start="47:9" pos:end="47:26"><name pos:start="47:9" pos:end="47:22"><name pos:start="47:9" pos:end="47:11">sub</name><operator pos:start="47:12" pos:end="47:13">-&gt;</operator><name pos:start="47:14" pos:end="47:22">num_rects</name></name> <operator pos:start="47:24" pos:end="47:24">&gt;</operator> <literal type="number" pos:start="47:26" pos:end="47:26">0</literal></expr>)</condition><block pos:start="47:28" pos:end="156:0">{<block_content pos:start="49:9" pos:end="151:23">

        <expr_stmt pos:start="49:9" pos:end="49:70"><expr pos:start="49:9" pos:end="49:69"><name pos:start="49:9" pos:end="49:18"><name pos:start="49:9" pos:end="49:11">sub</name><operator pos:start="49:12" pos:end="49:13">-&gt;</operator><name pos:start="49:14" pos:end="49:18">rects</name></name> <operator pos:start="49:20" pos:end="49:20">=</operator> <call pos:start="49:22" pos:end="49:69"><name pos:start="49:22" pos:end="49:31">av_mallocz</name><argument_list pos:start="49:32" pos:end="49:69">(<argument pos:start="49:33" pos:end="49:68"><expr pos:start="49:33" pos:end="49:68"><sizeof pos:start="49:33" pos:end="49:51">sizeof<argument_list pos:start="49:39" pos:end="49:51">(<argument pos:start="49:40" pos:end="49:50"><expr pos:start="49:40" pos:end="49:50"><operator pos:start="49:40" pos:end="49:40">*</operator><name pos:start="49:41" pos:end="49:50"><name pos:start="49:41" pos:end="49:43">sub</name><operator pos:start="49:44" pos:end="49:45">-&gt;</operator><name pos:start="49:46" pos:end="49:50">rects</name></name></expr></argument>)</argument_list></sizeof> <operator pos:start="49:53" pos:end="49:53">*</operator> <name pos:start="49:55" pos:end="49:68"><name pos:start="49:55" pos:end="49:57">sub</name><operator pos:start="49:58" pos:end="49:59">-&gt;</operator><name pos:start="49:60" pos:end="49:68">num_rects</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <for pos:start="51:9" pos:end="53:63">for<control pos:start="51:12" pos:end="51:39">(<init pos:start="51:13" pos:end="51:16"><expr pos:start="51:13" pos:end="51:15"><name pos:start="51:13" pos:end="51:13">i</name><operator pos:start="51:14" pos:end="51:14">=</operator><literal type="number" pos:start="51:15" pos:end="51:15">0</literal></expr>;</init> <condition pos:start="51:18" pos:end="51:34"><expr pos:start="51:18" pos:end="51:33"><name pos:start="51:18" pos:end="51:18">i</name><operator pos:start="51:19" pos:end="51:19">&lt;</operator><name pos:start="51:20" pos:end="51:33"><name pos:start="51:20" pos:end="51:22">sub</name><operator pos:start="51:23" pos:end="51:24">-&gt;</operator><name pos:start="51:25" pos:end="51:33">num_rects</name></name></expr>;</condition> <incr pos:start="51:36" pos:end="51:38"><expr pos:start="51:36" pos:end="51:38"><name pos:start="51:36" pos:end="51:36">i</name><operator pos:start="51:37" pos:end="51:38">++</operator></expr></incr>)</control><block type="pseudo" pos:start="53:13" pos:end="53:63"><block_content pos:start="53:13" pos:end="53:63">

            <expr_stmt pos:start="53:13" pos:end="53:63"><expr pos:start="53:13" pos:end="53:62"><name pos:start="53:13" pos:end="53:25"><name pos:start="53:13" pos:end="53:15">sub</name><operator pos:start="53:16" pos:end="53:17">-&gt;</operator><name pos:start="53:18" pos:end="53:22">rects</name><index pos:start="53:23" pos:end="53:25">[<expr pos:start="53:24" pos:end="53:24"><name pos:start="53:24" pos:end="53:24">i</name></expr>]</index></name> <operator pos:start="53:27" pos:end="53:27">=</operator> <call pos:start="53:29" pos:end="53:62"><name pos:start="53:29" pos:end="53:38">av_mallocz</name><argument_list pos:start="53:39" pos:end="53:62">(<argument pos:start="53:40" pos:end="53:61"><expr pos:start="53:40" pos:end="53:61"><sizeof pos:start="53:40" pos:end="53:61">sizeof<argument_list pos:start="53:46" pos:end="53:61">(<argument pos:start="53:47" pos:end="53:60"><expr pos:start="53:47" pos:end="53:60"><operator pos:start="53:47" pos:end="53:47">*</operator><name pos:start="53:48" pos:end="53:60"><name pos:start="53:48" pos:end="53:50">sub</name><operator pos:start="53:51" pos:end="53:52">-&gt;</operator><name pos:start="53:53" pos:end="53:57">rects</name><index pos:start="53:58" pos:end="53:60">[<expr pos:start="53:59" pos:end="53:59"><name pos:start="53:59" pos:end="53:59">i</name></expr>]</index></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></for>



    <expr_stmt pos:start="57:5" pos:end="57:10"><expr pos:start="57:5" pos:end="57:9"><name pos:start="57:5" pos:end="57:5">i</name> <operator pos:start="57:7" pos:end="57:7">=</operator> <literal type="number" pos:start="57:9" pos:end="57:9">0</literal></expr>;</expr_stmt>



    <for pos:start="61:5" pos:end="147:5">for <control pos:start="61:9" pos:end="61:71">(<init pos:start="61:10" pos:end="61:37"><expr pos:start="61:10" pos:end="61:36"><name pos:start="61:10" pos:end="61:16">display</name> <operator pos:start="61:18" pos:end="61:18">=</operator> <name pos:start="61:20" pos:end="61:36"><name pos:start="61:20" pos:end="61:22">ctx</name><operator pos:start="61:23" pos:end="61:24">-&gt;</operator><name pos:start="61:25" pos:end="61:36">display_list</name></name></expr>;</init> <condition pos:start="61:39" pos:end="61:46"><expr pos:start="61:39" pos:end="61:45"><name pos:start="61:39" pos:end="61:45">display</name></expr>;</condition> <incr pos:start="61:48" pos:end="61:70"><expr pos:start="61:48" pos:end="61:70"><name pos:start="61:48" pos:end="61:54">display</name> <operator pos:start="61:56" pos:end="61:56">=</operator> <name pos:start="61:58" pos:end="61:70"><name pos:start="61:58" pos:end="61:64">display</name><operator pos:start="61:65" pos:end="61:66">-&gt;</operator><name pos:start="61:67" pos:end="61:70">next</name></name></expr></incr>)</control> <block pos:start="61:73" pos:end="147:5">{<block_content pos:start="63:9" pos:end="145:12">

        <expr_stmt pos:start="63:9" pos:end="63:53"><expr pos:start="63:9" pos:end="63:52"><name pos:start="63:9" pos:end="63:14">region</name> <operator pos:start="63:16" pos:end="63:16">=</operator> <call pos:start="63:18" pos:end="63:52"><name pos:start="63:18" pos:end="63:27">get_region</name><argument_list pos:start="63:28" pos:end="63:52">(<argument pos:start="63:29" pos:end="63:31"><expr pos:start="63:29" pos:end="63:31"><name pos:start="63:29" pos:end="63:31">ctx</name></expr></argument>, <argument pos:start="63:34" pos:end="63:51"><expr pos:start="63:34" pos:end="63:51"><name pos:start="63:34" pos:end="63:51"><name pos:start="63:34" pos:end="63:40">display</name><operator pos:start="63:41" pos:end="63:42">-&gt;</operator><name pos:start="63:43" pos:end="63:51">region_id</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <if_stmt pos:start="67:9" pos:end="69:21"><if pos:start="67:9" pos:end="69:21">if <condition pos:start="67:12" pos:end="67:20">(<expr pos:start="67:13" pos:end="67:19"><operator pos:start="67:13" pos:end="67:13">!</operator><name pos:start="67:14" pos:end="67:19">region</name></expr>)</condition><block type="pseudo" pos:start="69:13" pos:end="69:21"><block_content pos:start="69:13" pos:end="69:21">

            <continue pos:start="69:13" pos:end="69:21">continue;</continue></block_content></block></if></if_stmt>



        <if_stmt pos:start="73:9" pos:end="75:21"><if pos:start="73:9" pos:end="75:21">if <condition pos:start="73:12" pos:end="73:27">(<expr pos:start="73:13" pos:end="73:26"><operator pos:start="73:13" pos:end="73:13">!</operator><name pos:start="73:14" pos:end="73:26"><name pos:start="73:14" pos:end="73:19">region</name><operator pos:start="73:20" pos:end="73:21">-&gt;</operator><name pos:start="73:22" pos:end="73:26">dirty</name></name></expr>)</condition><block type="pseudo" pos:start="75:13" pos:end="75:21"><block_content pos:start="75:13" pos:end="75:21">

            <continue pos:start="75:13" pos:end="75:21">continue;</continue></block_content></block></if></if_stmt>



        <expr_stmt pos:start="79:9" pos:end="79:29"><expr pos:start="79:9" pos:end="79:28"><name pos:start="79:9" pos:end="79:12">rect</name> <operator pos:start="79:14" pos:end="79:14">=</operator> <name pos:start="79:16" pos:end="79:28"><name pos:start="79:16" pos:end="79:18">sub</name><operator pos:start="79:19" pos:end="79:20">-&gt;</operator><name pos:start="79:21" pos:end="79:25">rects</name><index pos:start="79:26" pos:end="79:28">[<expr pos:start="79:27" pos:end="79:27"><name pos:start="79:27" pos:end="79:27">i</name></expr>]</index></name></expr>;</expr_stmt>

        <expr_stmt pos:start="81:9" pos:end="81:44"><expr pos:start="81:9" pos:end="81:43"><name pos:start="81:9" pos:end="81:15"><name pos:start="81:9" pos:end="81:12">rect</name><operator pos:start="81:13" pos:end="81:14">-&gt;</operator><name pos:start="81:15" pos:end="81:15">x</name></name> <operator pos:start="81:17" pos:end="81:17">=</operator> <name pos:start="81:19" pos:end="81:32"><name pos:start="81:19" pos:end="81:25">display</name><operator pos:start="81:26" pos:end="81:27">-&gt;</operator><name pos:start="81:28" pos:end="81:32">x_pos</name></name> <operator pos:start="81:34" pos:end="81:34">+</operator> <name pos:start="81:36" pos:end="81:43">offset_x</name></expr>;</expr_stmt>

        <expr_stmt pos:start="83:9" pos:end="83:44"><expr pos:start="83:9" pos:end="83:43"><name pos:start="83:9" pos:end="83:15"><name pos:start="83:9" pos:end="83:12">rect</name><operator pos:start="83:13" pos:end="83:14">-&gt;</operator><name pos:start="83:15" pos:end="83:15">y</name></name> <operator pos:start="83:17" pos:end="83:17">=</operator> <name pos:start="83:19" pos:end="83:32"><name pos:start="83:19" pos:end="83:25">display</name><operator pos:start="83:26" pos:end="83:27">-&gt;</operator><name pos:start="83:28" pos:end="83:32">y_pos</name></name> <operator pos:start="83:34" pos:end="83:34">+</operator> <name pos:start="83:36" pos:end="83:43">offset_y</name></expr>;</expr_stmt>

        <expr_stmt pos:start="85:9" pos:end="85:32"><expr pos:start="85:9" pos:end="85:31"><name pos:start="85:9" pos:end="85:15"><name pos:start="85:9" pos:end="85:12">rect</name><operator pos:start="85:13" pos:end="85:14">-&gt;</operator><name pos:start="85:15" pos:end="85:15">w</name></name> <operator pos:start="85:17" pos:end="85:17">=</operator> <name pos:start="85:19" pos:end="85:31"><name pos:start="85:19" pos:end="85:24">region</name><operator pos:start="85:25" pos:end="85:26">-&gt;</operator><name pos:start="85:27" pos:end="85:31">width</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="87:9" pos:end="87:33"><expr pos:start="87:9" pos:end="87:32"><name pos:start="87:9" pos:end="87:15"><name pos:start="87:9" pos:end="87:12">rect</name><operator pos:start="87:13" pos:end="87:14">-&gt;</operator><name pos:start="87:15" pos:end="87:15">h</name></name> <operator pos:start="87:17" pos:end="87:17">=</operator> <name pos:start="87:19" pos:end="87:32"><name pos:start="87:19" pos:end="87:24">region</name><operator pos:start="87:25" pos:end="87:26">-&gt;</operator><name pos:start="87:27" pos:end="87:32">height</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="89:9" pos:end="89:47"><expr pos:start="89:9" pos:end="89:46"><name pos:start="89:9" pos:end="89:23"><name pos:start="89:9" pos:end="89:12">rect</name><operator pos:start="89:13" pos:end="89:14">-&gt;</operator><name pos:start="89:15" pos:end="89:23">nb_colors</name></name> <operator pos:start="89:25" pos:end="89:25">=</operator> <operator pos:start="89:27" pos:end="89:27">(</operator><literal type="number" pos:start="89:28" pos:end="89:28">1</literal> <operator pos:start="89:30" pos:end="89:31">&lt;&lt;</operator> <name pos:start="89:33" pos:end="89:45"><name pos:start="89:33" pos:end="89:38">region</name><operator pos:start="89:39" pos:end="89:40">-&gt;</operator><name pos:start="89:41" pos:end="89:45">depth</name></name><operator pos:start="89:46" pos:end="89:46">)</operator></expr>;</expr_stmt>

        <expr_stmt pos:start="91:9" pos:end="91:42"><expr pos:start="91:9" pos:end="91:41"><name pos:start="91:9" pos:end="91:18"><name pos:start="91:9" pos:end="91:12">rect</name><operator pos:start="91:13" pos:end="91:14">-&gt;</operator><name pos:start="91:15" pos:end="91:18">type</name></name>      <operator pos:start="91:25" pos:end="91:25">=</operator> <name pos:start="91:27" pos:end="91:41">SUBTITLE_BITMAP</name></expr>;</expr_stmt>

        <expr_stmt pos:start="93:9" pos:end="93:47"><expr pos:start="93:9" pos:end="93:46"><name pos:start="93:9" pos:end="93:30"><name pos:start="93:9" pos:end="93:12">rect</name><operator pos:start="93:13" pos:end="93:14">-&gt;</operator><name pos:start="93:15" pos:end="93:18">pict</name><operator pos:start="93:19" pos:end="93:19">.</operator><name pos:start="93:20" pos:end="93:27">linesize</name><index pos:start="93:28" pos:end="93:30">[<expr pos:start="93:29" pos:end="93:29"><literal type="number" pos:start="93:29" pos:end="93:29">0</literal></expr>]</index></name> <operator pos:start="93:32" pos:end="93:32">=</operator> <name pos:start="93:34" pos:end="93:46"><name pos:start="93:34" pos:end="93:39">region</name><operator pos:start="93:40" pos:end="93:41">-&gt;</operator><name pos:start="93:42" pos:end="93:46">width</name></name></expr>;</expr_stmt>



        <expr_stmt pos:start="97:9" pos:end="97:43"><expr pos:start="97:9" pos:end="97:42"><name pos:start="97:9" pos:end="97:12">clut</name> <operator pos:start="97:14" pos:end="97:14">=</operator> <call pos:start="97:16" pos:end="97:42"><name pos:start="97:16" pos:end="97:23">get_clut</name><argument_list pos:start="97:24" pos:end="97:42">(<argument pos:start="97:25" pos:end="97:27"><expr pos:start="97:25" pos:end="97:27"><name pos:start="97:25" pos:end="97:27">ctx</name></expr></argument>, <argument pos:start="97:30" pos:end="97:41"><expr pos:start="97:30" pos:end="97:41"><name pos:start="97:30" pos:end="97:41"><name pos:start="97:30" pos:end="97:35">region</name><operator pos:start="97:36" pos:end="97:37">-&gt;</operator><name pos:start="97:38" pos:end="97:41">clut</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <if_stmt pos:start="101:9" pos:end="103:33"><if pos:start="101:9" pos:end="103:33">if <condition pos:start="101:12" pos:end="101:18">(<expr pos:start="101:13" pos:end="101:17"><operator pos:start="101:13" pos:end="101:13">!</operator><name pos:start="101:14" pos:end="101:17">clut</name></expr>)</condition><block type="pseudo" pos:start="103:13" pos:end="103:33"><block_content pos:start="103:13" pos:end="103:33">

            <expr_stmt pos:start="103:13" pos:end="103:33"><expr pos:start="103:13" pos:end="103:32"><name pos:start="103:13" pos:end="103:16">clut</name> <operator pos:start="103:18" pos:end="103:18">=</operator> <operator pos:start="103:20" pos:end="103:20">&amp;</operator><name pos:start="103:21" pos:end="103:32">default_clut</name></expr>;</expr_stmt></block_content></block></if></if_stmt>



        <switch pos:start="107:9" pos:end="129:9">switch <condition pos:start="107:16" pos:end="107:30">(<expr pos:start="107:17" pos:end="107:29"><name pos:start="107:17" pos:end="107:29"><name pos:start="107:17" pos:end="107:22">region</name><operator pos:start="107:23" pos:end="107:24">-&gt;</operator><name pos:start="107:25" pos:end="107:29">depth</name></name></expr>)</condition> <block pos:start="107:32" pos:end="129:9">{<block_content pos:start="109:9" pos:end="127:18">

        <case pos:start="109:9" pos:end="109:15">case <expr pos:start="109:14" pos:end="109:14"><literal type="number" pos:start="109:14" pos:end="109:14">2</literal></expr>:</case>

            <expr_stmt pos:start="111:13" pos:end="111:37"><expr pos:start="111:13" pos:end="111:36"><name pos:start="111:13" pos:end="111:22">clut_table</name> <operator pos:start="111:24" pos:end="111:24">=</operator> <name pos:start="111:26" pos:end="111:36"><name pos:start="111:26" pos:end="111:29">clut</name><operator pos:start="111:30" pos:end="111:31">-&gt;</operator><name pos:start="111:32" pos:end="111:36">clut4</name></name></expr>;</expr_stmt>

            <break pos:start="113:13" pos:end="113:18">break;</break>

        <case pos:start="115:9" pos:end="115:15">case <expr pos:start="115:14" pos:end="115:14"><literal type="number" pos:start="115:14" pos:end="115:14">8</literal></expr>:</case>

            <expr_stmt pos:start="117:13" pos:end="117:39"><expr pos:start="117:13" pos:end="117:38"><name pos:start="117:13" pos:end="117:22">clut_table</name> <operator pos:start="117:24" pos:end="117:24">=</operator> <name pos:start="117:26" pos:end="117:38"><name pos:start="117:26" pos:end="117:29">clut</name><operator pos:start="117:30" pos:end="117:31">-&gt;</operator><name pos:start="117:32" pos:end="117:38">clut256</name></name></expr>;</expr_stmt>

            <break pos:start="119:13" pos:end="119:18">break;</break>

        <case pos:start="121:9" pos:end="121:15">case <expr pos:start="121:14" pos:end="121:14"><literal type="number" pos:start="121:14" pos:end="121:14">4</literal></expr>:</case>

        <default pos:start="123:9" pos:end="123:16">default:</default>

            <expr_stmt pos:start="125:13" pos:end="125:38"><expr pos:start="125:13" pos:end="125:37"><name pos:start="125:13" pos:end="125:22">clut_table</name> <operator pos:start="125:24" pos:end="125:24">=</operator> <name pos:start="125:26" pos:end="125:37"><name pos:start="125:26" pos:end="125:29">clut</name><operator pos:start="125:30" pos:end="125:31">-&gt;</operator><name pos:start="125:32" pos:end="125:37">clut16</name></name></expr>;</expr_stmt>

            <break pos:start="127:13" pos:end="127:18">break;</break>

        </block_content>}</block></switch>



        <expr_stmt pos:start="133:9" pos:end="133:56"><expr pos:start="133:9" pos:end="133:55"><name pos:start="133:9" pos:end="133:26"><name pos:start="133:9" pos:end="133:12">rect</name><operator pos:start="133:13" pos:end="133:14">-&gt;</operator><name pos:start="133:15" pos:end="133:18">pict</name><operator pos:start="133:19" pos:end="133:19">.</operator><name pos:start="133:20" pos:end="133:23">data</name><index pos:start="133:24" pos:end="133:26">[<expr pos:start="133:25" pos:end="133:25"><literal type="number" pos:start="133:25" pos:end="133:25">1</literal></expr>]</index></name> <operator pos:start="133:28" pos:end="133:28">=</operator> <call pos:start="133:30" pos:end="133:55"><name pos:start="133:30" pos:end="133:39">av_mallocz</name><argument_list pos:start="133:40" pos:end="133:55">(<argument pos:start="133:41" pos:end="133:54"><expr pos:start="133:41" pos:end="133:54"><name pos:start="133:41" pos:end="133:54">AVPALETTE_SIZE</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="135:9" pos:end="135:88"><expr pos:start="135:9" pos:end="135:87"><call pos:start="135:9" pos:end="135:87"><name pos:start="135:9" pos:end="135:14">memcpy</name><argument_list pos:start="135:15" pos:end="135:87">(<argument pos:start="135:16" pos:end="135:33"><expr pos:start="135:16" pos:end="135:33"><name pos:start="135:16" pos:end="135:33"><name pos:start="135:16" pos:end="135:19">rect</name><operator pos:start="135:20" pos:end="135:21">-&gt;</operator><name pos:start="135:22" pos:end="135:25">pict</name><operator pos:start="135:26" pos:end="135:26">.</operator><name pos:start="135:27" pos:end="135:30">data</name><index pos:start="135:31" pos:end="135:33">[<expr pos:start="135:32" pos:end="135:32"><literal type="number" pos:start="135:32" pos:end="135:32">1</literal></expr>]</index></name></expr></argument>, <argument pos:start="135:36" pos:end="135:45"><expr pos:start="135:36" pos:end="135:45"><name pos:start="135:36" pos:end="135:45">clut_table</name></expr></argument>, <argument pos:start="135:48" pos:end="135:86"><expr pos:start="135:48" pos:end="135:86"><operator pos:start="135:48" pos:end="135:48">(</operator><literal type="number" pos:start="135:49" pos:end="135:49">1</literal> <operator pos:start="135:51" pos:end="135:52">&lt;&lt;</operator> <name pos:start="135:54" pos:end="135:66"><name pos:start="135:54" pos:end="135:59">region</name><operator pos:start="135:60" pos:end="135:61">-&gt;</operator><name pos:start="135:62" pos:end="135:66">depth</name></name><operator pos:start="135:67" pos:end="135:67">)</operator> <operator pos:start="135:69" pos:end="135:69">*</operator> <sizeof pos:start="135:71" pos:end="135:86">sizeof<argument_list pos:start="135:77" pos:end="135:86">(<argument pos:start="135:78" pos:end="135:85"><expr pos:start="135:78" pos:end="135:85"><name pos:start="135:78" pos:end="135:85">uint32_t</name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <expr_stmt pos:start="139:9" pos:end="139:57"><expr pos:start="139:9" pos:end="139:56"><name pos:start="139:9" pos:end="139:26"><name pos:start="139:9" pos:end="139:12">rect</name><operator pos:start="139:13" pos:end="139:14">-&gt;</operator><name pos:start="139:15" pos:end="139:18">pict</name><operator pos:start="139:19" pos:end="139:19">.</operator><name pos:start="139:20" pos:end="139:23">data</name><index pos:start="139:24" pos:end="139:26">[<expr pos:start="139:25" pos:end="139:25"><literal type="number" pos:start="139:25" pos:end="139:25">0</literal></expr>]</index></name> <operator pos:start="139:28" pos:end="139:28">=</operator> <call pos:start="139:30" pos:end="139:56"><name pos:start="139:30" pos:end="139:38">av_malloc</name><argument_list pos:start="139:39" pos:end="139:56">(<argument pos:start="139:40" pos:end="139:55"><expr pos:start="139:40" pos:end="139:55"><name pos:start="139:40" pos:end="139:55"><name pos:start="139:40" pos:end="139:45">region</name><operator pos:start="139:46" pos:end="139:47">-&gt;</operator><name pos:start="139:48" pos:end="139:55">buf_size</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="141:9" pos:end="141:67"><expr pos:start="141:9" pos:end="141:66"><call pos:start="141:9" pos:end="141:66"><name pos:start="141:9" pos:end="141:14">memcpy</name><argument_list pos:start="141:15" pos:end="141:66">(<argument pos:start="141:16" pos:end="141:33"><expr pos:start="141:16" pos:end="141:33"><name pos:start="141:16" pos:end="141:33"><name pos:start="141:16" pos:end="141:19">rect</name><operator pos:start="141:20" pos:end="141:21">-&gt;</operator><name pos:start="141:22" pos:end="141:25">pict</name><operator pos:start="141:26" pos:end="141:26">.</operator><name pos:start="141:27" pos:end="141:30">data</name><index pos:start="141:31" pos:end="141:33">[<expr pos:start="141:32" pos:end="141:32"><literal type="number" pos:start="141:32" pos:end="141:32">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="141:36" pos:end="141:47"><expr pos:start="141:36" pos:end="141:47"><name pos:start="141:36" pos:end="141:47"><name pos:start="141:36" pos:end="141:41">region</name><operator pos:start="141:42" pos:end="141:43">-&gt;</operator><name pos:start="141:44" pos:end="141:47">pbuf</name></name></expr></argument>, <argument pos:start="141:50" pos:end="141:65"><expr pos:start="141:50" pos:end="141:65"><name pos:start="141:50" pos:end="141:65"><name pos:start="141:50" pos:end="141:55">region</name><operator pos:start="141:56" pos:end="141:57">-&gt;</operator><name pos:start="141:58" pos:end="141:65">buf_size</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <expr_stmt pos:start="145:9" pos:end="145:12"><expr pos:start="145:9" pos:end="145:11"><name pos:start="145:9" pos:end="145:9">i</name><operator pos:start="145:10" pos:end="145:11">++</operator></expr>;</expr_stmt>

    </block_content>}</block></for>



    <expr_stmt pos:start="151:5" pos:end="151:23"><expr pos:start="151:5" pos:end="151:22"><name pos:start="151:5" pos:end="151:18"><name pos:start="151:5" pos:end="151:7">sub</name><operator pos:start="151:8" pos:end="151:9">-&gt;</operator><name pos:start="151:10" pos:end="151:18">num_rects</name></name> <operator pos:start="151:20" pos:end="151:20">=</operator> <name pos:start="151:22" pos:end="151:22">i</name></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

<cpp:ifdef pos:start="155:1" pos:end="155:12">#<cpp:directive pos:start="155:2" pos:end="155:6">ifdef</cpp:directive> <name pos:start="155:8" pos:end="155:12">DEBUG</name></cpp:ifdef>

    <expr_stmt pos:start="157:5" pos:end="160:0"><expr pos:start="157:5" pos:end="157:25"><call pos:start="157:5" pos:end="157:25"><name pos:start="157:5" pos:end="157:20">save_display_set</name><argument_list pos:start="157:21" pos:end="157:25">(<argument pos:start="157:22" pos:end="157:24"><expr pos:start="157:22" pos:end="157:24"><name pos:start="157:22" pos:end="157:24">ctx</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

<cpp:endif pos:start="159:1" pos:end="159:6">#<cpp:directive pos:start="159:2" pos:end="159:6">endif</cpp:directive></cpp:endif>



    <return pos:start="163:5" pos:end="163:13">return <expr pos:start="163:12" pos:end="163:12"><literal type="number" pos:start="163:12" pos:end="163:12">1</literal></expr>;</return>

</block_content>}</block></function>
</unit>
