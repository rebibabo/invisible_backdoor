<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:cpp="http://www.srcML.org/srcML/cpp" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/15277.c" pos:tabs="8"><function pos:start="1:1" pos:end="135:5"><type pos:start="1:1" pos:end="1:25"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <specifier pos:start="1:8" pos:end="1:13">inline</specifier> <name pos:start="1:15" pos:end="1:18">void</name> <name pos:start="1:20" pos:end="1:25">RENAME</name></type>(<name pos:start="1:27" pos:end="1:37">yuv2packedX</name>)<parameter_list pos:start="1:39" pos:end="5:64">(<parameter pos:start="1:40" pos:end="1:52"><decl pos:start="1:40" pos:end="1:52"><type pos:start="1:40" pos:end="1:52"><name pos:start="1:40" pos:end="1:49">SwsContext</name> <modifier pos:start="1:51" pos:end="1:51">*</modifier></type><name pos:start="1:52" pos:end="1:52">c</name></decl></parameter>, <parameter pos:start="1:55" pos:end="1:72"><decl pos:start="1:55" pos:end="1:72"><type pos:start="1:55" pos:end="1:72"><name pos:start="1:55" pos:end="1:61">int16_t</name> <modifier pos:start="1:63" pos:end="1:63">*</modifier></type><name pos:start="1:64" pos:end="1:72">lumFilter</name></decl></parameter>, <parameter pos:start="1:75" pos:end="1:90"><decl pos:start="1:75" pos:end="1:90"><type pos:start="1:75" pos:end="1:90"><name pos:start="1:75" pos:end="1:81">int16_t</name> <modifier pos:start="1:83" pos:end="1:83">*</modifier><modifier pos:start="1:84" pos:end="1:84">*</modifier></type><name pos:start="1:85" pos:end="1:90">lumSrc</name></decl></parameter>, <parameter pos:start="1:93" pos:end="1:109"><decl pos:start="1:93" pos:end="1:109"><type pos:start="1:93" pos:end="1:109"><name pos:start="1:93" pos:end="1:95">int</name></type> <name pos:start="1:97" pos:end="1:109">lumFilterSize</name></decl></parameter>,

				    <parameter pos:start="3:37" pos:end="3:54"><decl pos:start="3:37" pos:end="3:54"><type pos:start="3:37" pos:end="3:54"><name pos:start="3:37" pos:end="3:43">int16_t</name> <modifier pos:start="3:45" pos:end="3:45">*</modifier></type><name pos:start="3:46" pos:end="3:54">chrFilter</name></decl></parameter>, <parameter pos:start="3:57" pos:end="3:72"><decl pos:start="3:57" pos:end="3:72"><type pos:start="3:57" pos:end="3:72"><name pos:start="3:57" pos:end="3:63">int16_t</name> <modifier pos:start="3:65" pos:end="3:65">*</modifier><modifier pos:start="3:66" pos:end="3:66">*</modifier></type><name pos:start="3:67" pos:end="3:72">chrSrc</name></decl></parameter>, <parameter pos:start="3:75" pos:end="3:91"><decl pos:start="3:75" pos:end="3:91"><type pos:start="3:75" pos:end="3:91"><name pos:start="3:75" pos:end="3:77">int</name></type> <name pos:start="3:79" pos:end="3:91">chrFilterSize</name></decl></parameter>,

			    <parameter pos:start="5:29" pos:end="5:41"><decl pos:start="5:29" pos:end="5:41"><type pos:start="5:29" pos:end="5:41"><name pos:start="5:29" pos:end="5:35">uint8_t</name> <modifier pos:start="5:37" pos:end="5:37">*</modifier></type><name pos:start="5:38" pos:end="5:41">dest</name></decl></parameter>, <parameter pos:start="5:44" pos:end="5:52"><decl pos:start="5:44" pos:end="5:52"><type pos:start="5:44" pos:end="5:52"><name pos:start="5:44" pos:end="5:47">long</name></type> <name pos:start="5:49" pos:end="5:52">dstW</name></decl></parameter>, <parameter pos:start="5:55" pos:end="5:63"><decl pos:start="5:55" pos:end="5:63"><type pos:start="5:55" pos:end="5:63"><name pos:start="5:55" pos:end="5:58">long</name></type> <name pos:start="5:60" pos:end="5:63">dstY</name></decl></parameter>)</parameter_list>

<block pos:start="7:1" pos:end="135:5">{<block_content pos:start="11:5" pos:end="133:17">

<cpp:ifdef pos:start="9:1" pos:end="9:15">#<cpp:directive pos:start="9:2" pos:end="9:6">ifdef</cpp:directive> <name pos:start="9:8" pos:end="9:15">HAVE_MMX</name></cpp:ifdef>

    <decl_stmt pos:start="11:5" pos:end="11:17"><decl pos:start="11:5" pos:end="11:16"><type pos:start="11:5" pos:end="11:8"><name pos:start="11:5" pos:end="11:8">long</name></type> <name pos:start="11:10" pos:end="11:14">dummy</name><init pos:start="11:15" pos:end="11:16">=<expr pos:start="11:16" pos:end="11:16"><literal type="number" pos:start="11:16" pos:end="11:16">0</literal></expr></init></decl>;</decl_stmt>

    <if_stmt pos:start="13:5" pos:end="133:17"><if pos:start="13:5" pos:end="133:17">if<condition pos:start="13:7" pos:end="13:35">(<expr pos:start="13:8" pos:end="13:34"><name pos:start="13:8" pos:end="13:15"><name pos:start="13:8" pos:end="13:8">c</name><operator pos:start="13:9" pos:end="13:10">-&gt;</operator><name pos:start="13:11" pos:end="13:15">flags</name></name> <operator pos:start="13:17" pos:end="13:17">&amp;</operator> <name pos:start="13:19" pos:end="13:34">SWS_ACCURATE_RND</name></expr>)</condition><block pos:start="13:36" pos:end="133:17">{<block_content pos:start="15:17" pos:end="131:31">

                <switch pos:start="15:17" pos:end="55:26">switch<condition pos:start="15:23" pos:end="15:36">(<expr pos:start="15:24" pos:end="15:35"><name pos:start="15:24" pos:end="15:35"><name pos:start="15:24" pos:end="15:24">c</name><operator pos:start="15:25" pos:end="15:26">-&gt;</operator><name pos:start="15:27" pos:end="15:35">dstFormat</name></name></expr>)</condition><block pos:start="15:37" pos:end="55:25">{<block_content pos:start="17:17" pos:end="55:25">

                <case pos:start="17:17" pos:end="17:35">case <expr pos:start="17:22" pos:end="17:34"><name pos:start="17:22" pos:end="17:34">PIX_FMT_RGB32</name></expr>:</case>

                                <decl_stmt pos:start="19:33" pos:end="29:31"><decl pos:start="19:33" pos:end="29:30"><type pos:start="19:33" pos:end="21:46"><name pos:start="19:33" pos:end="19:58">YSCALEYUV2PACKEDX_ACCURATE</name>

				<name pos:start="21:33" pos:end="21:46">YSCALEYUV2RGBX</name></type>

				<name pos:start="23:33" pos:end="23:42">WRITEBGR32</name><argument_list pos:start="23:43" pos:end="23:58">(<argument pos:start="23:44" pos:end="23:45"><expr pos:start="23:44" pos:end="23:45"><operator pos:start="23:44" pos:end="23:44">%</operator><literal type="number" pos:start="23:45" pos:end="23:45">4</literal></expr></argument>, <argument pos:start="23:48" pos:end="23:49"><expr pos:start="23:48" pos:end="23:49"><operator pos:start="23:48" pos:end="23:48">%</operator><literal type="number" pos:start="23:49" pos:end="23:49">5</literal></expr></argument>, <argument pos:start="23:52" pos:end="23:57"><expr pos:start="23:52" pos:end="23:57"><operator pos:start="23:52" pos:end="23:52">%</operator><operator pos:start="23:53" pos:end="23:53">%</operator><name pos:start="23:54" pos:end="23:57">REGa</name></expr></argument>)</argument_list>



                                <name pos:start="27:33" pos:end="27:53">YSCALEYUV2PACKEDX_END</name>

                        return</decl>;</decl_stmt>

                <case pos:start="31:17" pos:end="31:35">case <expr pos:start="31:22" pos:end="31:34"><name pos:start="31:22" pos:end="31:34">PIX_FMT_BGR24</name></expr>:</case>

                                <expr_stmt pos:start="33:33" pos:end="53:64"><expr pos:start="33:33" pos:end="47:46"><name pos:start="33:33" pos:end="33:58">YSCALEYUV2PACKEDX_ACCURATE</name>

				<name pos:start="35:33" pos:end="35:46">YSCALEYUV2RGBX</name>

				<literal type="string" pos:start="37:33" pos:end="37:41">"lea (%%"</literal><name pos:start="37:42" pos:end="37:46">REG_a</name><literal type="string" pos:start="37:47" pos:end="37:52">", %%"</literal><name pos:start="37:53" pos:end="37:57">REG_a</name><literal type="string" pos:start="37:58" pos:end="37:67">", 2), %%"</literal><name pos:start="37:68" pos:end="37:72">REG_c</name><literal type="string" pos:start="37:73" pos:end="37:78">"\n\t"</literal> <comment type="line" pos:start="37:80" pos:end="37:95">//FIXME optimize</comment>

				<literal type="string" pos:start="39:33" pos:end="39:44">"add %4, %%"</literal><name pos:start="39:45" pos:end="39:49">REG_c</name><literal type="string" pos:start="39:50" pos:end="39:77">"			\n\t"</literal>

				<call pos:start="41:33" pos:end="41:62"><name pos:start="41:33" pos:end="41:42">WRITEBGR24</name><argument_list pos:start="41:43" pos:end="41:62">(<argument pos:start="41:44" pos:end="41:49"><expr pos:start="41:44" pos:end="41:49"><operator pos:start="41:44" pos:end="41:44">%</operator><operator pos:start="41:45" pos:end="41:45">%</operator><name pos:start="41:46" pos:end="41:49">REGc</name></expr></argument>, <argument pos:start="41:52" pos:end="41:53"><expr pos:start="41:52" pos:end="41:53"><operator pos:start="41:52" pos:end="41:52">%</operator><literal type="number" pos:start="41:53" pos:end="41:53">5</literal></expr></argument>, <argument pos:start="41:56" pos:end="41:61"><expr pos:start="41:56" pos:end="41:61"><operator pos:start="41:56" pos:end="41:56">%</operator><operator pos:start="41:57" pos:end="41:57">%</operator><name pos:start="41:58" pos:end="41:61">REGa</name></expr></argument>)</argument_list></call>





			<operator pos:start="47:25" pos:end="47:26">::</operator> <literal type="string" pos:start="47:28" pos:end="47:30">"r"</literal> <operator pos:start="47:32" pos:end="47:32">(</operator><operator pos:start="47:33" pos:end="47:33">&amp;</operator><name pos:start="47:34" pos:end="47:45"><name pos:start="47:34" pos:end="47:34">c</name><operator pos:start="47:35" pos:end="47:36">-&gt;</operator><name pos:start="47:37" pos:end="47:45">redDither</name></name><operator pos:start="47:46" pos:end="47:46">)</operator></expr><operator pos:start="47:47" pos:end="47:47">,</operator>

			   <expr pos:start="49:28" pos:end="49:38"><literal type="string" pos:start="49:28" pos:end="49:30">"m"</literal> <operator pos:start="49:32" pos:end="49:32">(</operator><name pos:start="49:33" pos:end="49:37">dummy</name><operator pos:start="49:38" pos:end="49:38">)</operator></expr><operator pos:start="49:39" pos:end="49:39">,</operator> <expr pos:start="49:41" pos:end="49:51"><literal type="string" pos:start="49:41" pos:end="49:43">"m"</literal> <operator pos:start="49:45" pos:end="49:45">(</operator><name pos:start="49:46" pos:end="49:50">dummy</name><operator pos:start="49:51" pos:end="49:51">)</operator></expr><operator pos:start="49:52" pos:end="49:52">,</operator> <expr pos:start="49:54" pos:end="49:64"><literal type="string" pos:start="49:54" pos:end="49:56">"m"</literal> <operator pos:start="49:58" pos:end="49:58">(</operator><name pos:start="49:59" pos:end="49:63">dummy</name><operator pos:start="49:64" pos:end="49:64">)</operator></expr><operator pos:start="49:65" pos:end="49:65">,</operator>

			   <expr pos:start="51:28" pos:end="51:37"><literal type="string" pos:start="51:28" pos:end="51:30">"r"</literal> <operator pos:start="51:32" pos:end="51:32">(</operator><name pos:start="51:33" pos:end="51:36">dest</name><operator pos:start="51:37" pos:end="51:37">)</operator></expr><operator pos:start="51:38" pos:end="51:38">,</operator> <expr pos:start="51:40" pos:end="53:34"><literal type="string" pos:start="51:40" pos:end="51:42">"m"</literal> <operator pos:start="51:44" pos:end="51:44">(</operator><name pos:start="51:45" pos:end="51:48">dstW</name><operator pos:start="51:49" pos:end="51:49">)</operator>

			<operator pos:start="53:25" pos:end="53:25">:</operator> <literal type="string" pos:start="53:27" pos:end="53:29">"%"</literal><name pos:start="53:30" pos:end="53:34">REG_a</name></expr><operator pos:start="53:35" pos:end="53:35">,</operator> <expr pos:start="53:37" pos:end="53:44"><literal type="string" pos:start="53:37" pos:end="53:39">"%"</literal><name pos:start="53:40" pos:end="53:44">REG_c</name></expr><operator pos:start="53:45" pos:end="53:45">,</operator> <expr pos:start="53:47" pos:end="53:54"><literal type="string" pos:start="53:47" pos:end="53:49">"%"</literal><name pos:start="53:50" pos:end="53:54">REG_d</name></expr><operator pos:start="53:55" pos:end="53:55">,</operator> <expr pos:start="53:57" pos:end="53:64"><literal type="string" pos:start="53:57" pos:end="53:59">"%"</literal><name pos:start="53:60" pos:end="53:64">REG_S</name></expr></expr_stmt>

			)</block_content></block><empty_stmt pos:start="55:26" pos:end="55:26">;</empty_stmt></switch>

                        <return pos:start="57:25" pos:end="57:31">return;</return>

                <case pos:start="59:17" pos:end="59:36">case <expr pos:start="59:22" pos:end="59:35"><name pos:start="59:22" pos:end="59:35">PIX_FMT_BGR555</name></expr>:</case>

                                <expr_stmt pos:start="61:33" pos:end="81:53"><expr pos:start="61:33" pos:end="81:53"><name pos:start="61:33" pos:end="61:58">YSCALEYUV2PACKEDX_ACCURATE</name>

				<name pos:start="63:33" pos:end="68:0">YSCALEYUV2RGBX</name>

		<comment type="block" pos:start="65:17" pos:end="65:54">/* mm2=B, %%mm4=G, %%mm5=R, %%mm7=0 */</comment>

<cpp:ifdef pos:start="67:1" pos:end="67:18">#<cpp:directive pos:start="67:2" pos:end="67:6">ifdef</cpp:directive> <name pos:start="67:8" pos:end="67:18">DITHER1XBPP</name></cpp:ifdef>

				<literal type="string" pos:start="69:33" pos:end="69:42">"paddusb "</literal><call pos:start="69:43" pos:end="69:58"><name pos:start="69:43" pos:end="69:48">MANGLE</name><argument_list pos:start="69:49" pos:end="69:58">(<argument pos:start="69:50" pos:end="69:57"><expr pos:start="69:50" pos:end="69:57"><name pos:start="69:50" pos:end="69:57">b5Dither</name></expr></argument>)</argument_list></call><literal type="string" pos:start="69:59" pos:end="69:71">", %%mm2\n\t"</literal>

				<literal type="string" pos:start="71:33" pos:end="71:42">"paddusb "</literal><call pos:start="71:43" pos:end="71:58"><name pos:start="71:43" pos:end="71:48">MANGLE</name><argument_list pos:start="71:49" pos:end="71:58">(<argument pos:start="71:50" pos:end="71:57"><expr pos:start="71:50" pos:end="71:57"><name pos:start="71:50" pos:end="71:57">g5Dither</name></expr></argument>)</argument_list></call><literal type="string" pos:start="71:59" pos:end="71:71">", %%mm4\n\t"</literal>

				<literal type="string" pos:start="73:33" pos:end="73:42">"paddusb "</literal><call pos:start="73:43" pos:end="73:58"><name pos:start="73:43" pos:end="73:48">MANGLE</name><argument_list pos:start="73:49" pos:end="73:58">(<argument pos:start="73:50" pos:end="73:57"><expr pos:start="73:50" pos:end="73:57"><name pos:start="73:50" pos:end="73:57">r5Dither</name></expr></argument>)</argument_list></call><literal type="string" pos:start="73:59" pos:end="76:0">", %%mm5\n\t"</literal>

<cpp:endif pos:start="75:1" pos:end="75:6">#<cpp:directive pos:start="75:2" pos:end="75:6">endif</cpp:directive></cpp:endif>



				<macro pos:start="79:33" pos:end="79:58"><name pos:start="79:33" pos:end="79:42">WRITEBGR15</name><argument_list pos:start="79:43" pos:end="79:58">(<argument pos:start="79:44" pos:end="79:45">%<literal type="number" pos:start="79:45" pos:end="79:45">4</literal></argument>, <argument pos:start="79:48" pos:end="79:49">%<literal type="number" pos:start="79:49" pos:end="79:49">5</literal></argument>, <argument pos:start="79:52" pos:end="79:57">%%REGa</argument>)</argument_list></macro>

                                <name pos:start="81:33" pos:end="81:53">YSCALEYUV2PACKEDX_END</name></expr></expr_stmt>

                        <return pos:start="83:25" pos:end="83:31">return;</return>

                <case pos:start="85:17" pos:end="85:36">case <expr pos:start="85:22" pos:end="85:35"><name pos:start="85:22" pos:end="85:35">PIX_FMT_BGR565</name></expr>:</case>

                                <expr_stmt pos:start="87:33" pos:end="107:53"><expr pos:start="87:33" pos:end="107:53"><name pos:start="87:33" pos:end="87:58">YSCALEYUV2PACKEDX_ACCURATE</name>

				<name pos:start="89:33" pos:end="94:0">YSCALEYUV2RGBX</name>

		<comment type="block" pos:start="91:17" pos:end="91:54">/* mm2=B, %%mm4=G, %%mm5=R, %%mm7=0 */</comment>

<cpp:ifdef pos:start="93:1" pos:end="93:18">#<cpp:directive pos:start="93:2" pos:end="93:6">ifdef</cpp:directive> <name pos:start="93:8" pos:end="93:18">DITHER1XBPP</name></cpp:ifdef>

				<literal type="string" pos:start="95:33" pos:end="95:42">"paddusb "</literal><call pos:start="95:43" pos:end="95:58"><name pos:start="95:43" pos:end="95:48">MANGLE</name><argument_list pos:start="95:49" pos:end="95:58">(<argument pos:start="95:50" pos:end="95:57"><expr pos:start="95:50" pos:end="95:57"><name pos:start="95:50" pos:end="95:57">b5Dither</name></expr></argument>)</argument_list></call><literal type="string" pos:start="95:59" pos:end="95:71">", %%mm2\n\t"</literal>

				<literal type="string" pos:start="97:33" pos:end="97:42">"paddusb "</literal><call pos:start="97:43" pos:end="97:58"><name pos:start="97:43" pos:end="97:48">MANGLE</name><argument_list pos:start="97:49" pos:end="97:58">(<argument pos:start="97:50" pos:end="97:57"><expr pos:start="97:50" pos:end="97:57"><name pos:start="97:50" pos:end="97:57">g6Dither</name></expr></argument>)</argument_list></call><literal type="string" pos:start="97:59" pos:end="97:71">", %%mm4\n\t"</literal>

				<literal type="string" pos:start="99:33" pos:end="99:42">"paddusb "</literal><call pos:start="99:43" pos:end="99:58"><name pos:start="99:43" pos:end="99:48">MANGLE</name><argument_list pos:start="99:49" pos:end="99:58">(<argument pos:start="99:50" pos:end="99:57"><expr pos:start="99:50" pos:end="99:57"><name pos:start="99:50" pos:end="99:57">r5Dither</name></expr></argument>)</argument_list></call><literal type="string" pos:start="99:59" pos:end="102:0">", %%mm5\n\t"</literal>

<cpp:endif pos:start="101:1" pos:end="101:6">#<cpp:directive pos:start="101:2" pos:end="101:6">endif</cpp:directive></cpp:endif>



				<macro pos:start="105:33" pos:end="105:58"><name pos:start="105:33" pos:end="105:42">WRITEBGR16</name><argument_list pos:start="105:43" pos:end="105:58">(<argument pos:start="105:44" pos:end="105:45">%<literal type="number" pos:start="105:45" pos:end="105:45">4</literal></argument>, <argument pos:start="105:48" pos:end="105:49">%<literal type="number" pos:start="105:49" pos:end="105:49">5</literal></argument>, <argument pos:start="105:52" pos:end="105:57">%%REGa</argument>)</argument_list></macro>

                                <name pos:start="107:33" pos:end="107:53">YSCALEYUV2PACKEDX_END</name></expr></expr_stmt>

                        <return pos:start="109:25" pos:end="109:31">return;</return>

                <case pos:start="111:17" pos:end="111:37">case <expr pos:start="111:22" pos:end="111:36"><name pos:start="111:22" pos:end="111:36">PIX_FMT_YUYV422</name></expr>:</case>

				<expr_stmt pos:start="113:33" pos:end="129:53"><expr pos:start="113:33" pos:end="129:53"><name pos:start="113:33" pos:end="113:58">YSCALEYUV2PACKEDX_ACCURATE</name>

		<comment type="block" pos:start="115:17" pos:end="115:54">/* mm2=B, %%mm4=G, %%mm5=R, %%mm7=0 */</comment>



				<literal type="string" pos:start="119:33" pos:end="119:69">"psraw $3, %%mm3		\n\t"</literal>

				<literal type="string" pos:start="121:33" pos:end="121:69">"psraw $3, %%mm4		\n\t"</literal>

				<literal type="string" pos:start="123:33" pos:end="123:69">"psraw $3, %%mm1		\n\t"</literal>

				<literal type="string" pos:start="125:33" pos:end="125:69">"psraw $3, %%mm7		\n\t"</literal>

				<macro pos:start="127:33" pos:end="127:57"><name pos:start="127:33" pos:end="127:41">WRITEYUY2</name><argument_list pos:start="127:42" pos:end="127:57">(<argument pos:start="127:43" pos:end="127:44">%<literal type="number" pos:start="127:44" pos:end="127:44">4</literal></argument>, <argument pos:start="127:47" pos:end="127:48">%<literal type="number" pos:start="127:48" pos:end="127:48">5</literal></argument>, <argument pos:start="127:51" pos:end="127:56">%%REGa</argument>)</argument_list></macro>

                                <name pos:start="129:33" pos:end="129:53">YSCALEYUV2PACKEDX_END</name></expr></expr_stmt>

                        <return pos:start="131:25" pos:end="131:31">return;</return>

                </block_content>}</block></if></if_stmt>

    </block_content>}</block></function><if_stmt pos:start="135:6" pos:end="253:9"><else pos:start="135:6" pos:end="253:9">else<block pos:start="135:10" pos:end="253:9">{<block_content pos:start="137:9" pos:end="251:23">

	<switch pos:start="137:9" pos:end="175:26">switch<condition pos:start="137:15" pos:end="137:28">(<expr pos:start="137:16" pos:end="137:27"><name pos:start="137:16" pos:end="137:27"><name pos:start="137:16" pos:end="137:16">c</name><operator pos:start="137:17" pos:end="137:18">-&gt;</operator><name pos:start="137:19" pos:end="137:27">dstFormat</name></name></expr>)</condition>

	<block pos:start="139:9" pos:end="175:25">{<block_content pos:start="141:9" pos:end="175:25">

	<case pos:start="141:9" pos:end="141:27">case <expr pos:start="141:14" pos:end="141:26"><name pos:start="141:14" pos:end="141:26">PIX_FMT_RGB32</name></expr>:</case>

                                <decl_stmt pos:start="143:33" pos:end="151:23"><decl pos:start="143:33" pos:end="151:22"><type pos:start="143:33" pos:end="145:46"><name pos:start="143:33" pos:end="143:49">YSCALEYUV2PACKEDX</name>

				<name pos:start="145:33" pos:end="145:46">YSCALEYUV2RGBX</name></type>

				<name pos:start="147:33" pos:end="147:42">WRITEBGR32</name><argument_list pos:start="147:43" pos:end="147:58">(<argument pos:start="147:44" pos:end="147:45"><expr pos:start="147:44" pos:end="147:45"><operator pos:start="147:44" pos:end="147:44">%</operator><literal type="number" pos:start="147:45" pos:end="147:45">4</literal></expr></argument>, <argument pos:start="147:48" pos:end="147:49"><expr pos:start="147:48" pos:end="147:49"><operator pos:start="147:48" pos:end="147:48">%</operator><literal type="number" pos:start="147:49" pos:end="147:49">5</literal></expr></argument>, <argument pos:start="147:52" pos:end="147:57"><expr pos:start="147:52" pos:end="147:57"><operator pos:start="147:52" pos:end="147:52">%</operator><operator pos:start="147:53" pos:end="147:53">%</operator><name pos:start="147:54" pos:end="147:57">REGa</name></expr></argument>)</argument_list>

                                <name pos:start="149:33" pos:end="149:53">YSCALEYUV2PACKEDX_END</name>

		return</decl>;</decl_stmt>

	<case pos:start="153:9" pos:end="153:27">case <expr pos:start="153:14" pos:end="153:26"><name pos:start="153:14" pos:end="153:26">PIX_FMT_BGR24</name></expr>:</case>

                                <expr_stmt pos:start="155:33" pos:end="173:64"><expr pos:start="155:33" pos:end="167:46"><name pos:start="155:33" pos:end="155:49">YSCALEYUV2PACKEDX</name>

				<name pos:start="157:33" pos:end="157:46">YSCALEYUV2RGBX</name>

				<literal type="string" pos:start="159:33" pos:end="159:41">"lea (%%"</literal><name pos:start="159:42" pos:end="159:46">REG_a</name><literal type="string" pos:start="159:47" pos:end="159:52">", %%"</literal><name pos:start="159:53" pos:end="159:57">REG_a</name><literal type="string" pos:start="159:58" pos:end="159:67">", 2), %%"</literal><name pos:start="159:68" pos:end="159:72">REG_c</name><literal type="string" pos:start="159:73" pos:end="159:78">"\n\t"</literal> <comment type="line" pos:start="159:80" pos:end="159:95">//FIXME optimize</comment>

				<literal type="string" pos:start="161:33" pos:end="161:44">"add %4, %%"</literal><name pos:start="161:45" pos:end="161:49">REG_c</name><literal type="string" pos:start="161:50" pos:end="161:77">"			\n\t"</literal>

				<call pos:start="163:33" pos:end="163:62"><name pos:start="163:33" pos:end="163:42">WRITEBGR24</name><argument_list pos:start="163:43" pos:end="163:62">(<argument pos:start="163:44" pos:end="163:49"><expr pos:start="163:44" pos:end="163:49"><operator pos:start="163:44" pos:end="163:44">%</operator><operator pos:start="163:45" pos:end="163:45">%</operator><name pos:start="163:46" pos:end="163:49">REGc</name></expr></argument>, <argument pos:start="163:52" pos:end="163:53"><expr pos:start="163:52" pos:end="163:53"><operator pos:start="163:52" pos:end="163:52">%</operator><literal type="number" pos:start="163:53" pos:end="163:53">5</literal></expr></argument>, <argument pos:start="163:56" pos:end="163:61"><expr pos:start="163:56" pos:end="163:61"><operator pos:start="163:56" pos:end="163:56">%</operator><operator pos:start="163:57" pos:end="163:57">%</operator><name pos:start="163:58" pos:end="163:61">REGa</name></expr></argument>)</argument_list></call>



			<operator pos:start="167:25" pos:end="167:26">::</operator> <literal type="string" pos:start="167:28" pos:end="167:30">"r"</literal> <operator pos:start="167:32" pos:end="167:32">(</operator><operator pos:start="167:33" pos:end="167:33">&amp;</operator><name pos:start="167:34" pos:end="167:45"><name pos:start="167:34" pos:end="167:34">c</name><operator pos:start="167:35" pos:end="167:36">-&gt;</operator><name pos:start="167:37" pos:end="167:45">redDither</name></name><operator pos:start="167:46" pos:end="167:46">)</operator></expr><operator pos:start="167:47" pos:end="167:47">,</operator>

			   <expr pos:start="169:28" pos:end="169:38"><literal type="string" pos:start="169:28" pos:end="169:30">"m"</literal> <operator pos:start="169:32" pos:end="169:32">(</operator><name pos:start="169:33" pos:end="169:37">dummy</name><operator pos:start="169:38" pos:end="169:38">)</operator></expr><operator pos:start="169:39" pos:end="169:39">,</operator> <expr pos:start="169:41" pos:end="169:51"><literal type="string" pos:start="169:41" pos:end="169:43">"m"</literal> <operator pos:start="169:45" pos:end="169:45">(</operator><name pos:start="169:46" pos:end="169:50">dummy</name><operator pos:start="169:51" pos:end="169:51">)</operator></expr><operator pos:start="169:52" pos:end="169:52">,</operator> <expr pos:start="169:54" pos:end="169:64"><literal type="string" pos:start="169:54" pos:end="169:56">"m"</literal> <operator pos:start="169:58" pos:end="169:58">(</operator><name pos:start="169:59" pos:end="169:63">dummy</name><operator pos:start="169:64" pos:end="169:64">)</operator></expr><operator pos:start="169:65" pos:end="169:65">,</operator>

			   <expr pos:start="171:28" pos:end="171:37"><literal type="string" pos:start="171:28" pos:end="171:30">"r"</literal> <operator pos:start="171:32" pos:end="171:32">(</operator><name pos:start="171:33" pos:end="171:36">dest</name><operator pos:start="171:37" pos:end="171:37">)</operator></expr><operator pos:start="171:38" pos:end="171:38">,</operator> <expr pos:start="171:40" pos:end="173:34"><literal type="string" pos:start="171:40" pos:end="171:42">"m"</literal> <operator pos:start="171:44" pos:end="171:44">(</operator><name pos:start="171:45" pos:end="171:48">dstW</name><operator pos:start="171:49" pos:end="171:49">)</operator>

			<operator pos:start="173:25" pos:end="173:25">:</operator> <literal type="string" pos:start="173:27" pos:end="173:29">"%"</literal><name pos:start="173:30" pos:end="173:34">REG_a</name></expr><operator pos:start="173:35" pos:end="173:35">,</operator> <expr pos:start="173:37" pos:end="173:44"><literal type="string" pos:start="173:37" pos:end="173:39">"%"</literal><name pos:start="173:40" pos:end="173:44">REG_c</name></expr><operator pos:start="173:45" pos:end="173:45">,</operator> <expr pos:start="173:47" pos:end="173:54"><literal type="string" pos:start="173:47" pos:end="173:49">"%"</literal><name pos:start="173:50" pos:end="173:54">REG_d</name></expr><operator pos:start="173:55" pos:end="173:55">,</operator> <expr pos:start="173:57" pos:end="173:64"><literal type="string" pos:start="173:57" pos:end="173:59">"%"</literal><name pos:start="173:60" pos:end="173:64">REG_S</name></expr></expr_stmt>

			)</block_content></block><empty_stmt pos:start="175:26" pos:end="175:26">;</empty_stmt></switch>

		<return pos:start="177:17" pos:end="177:23">return;</return>

	<case pos:start="179:9" pos:end="179:28">case <expr pos:start="179:14" pos:end="179:27"><name pos:start="179:14" pos:end="179:27">PIX_FMT_BGR555</name></expr>:</case>

                                <expr_stmt pos:start="181:33" pos:end="201:53"><expr pos:start="181:33" pos:end="201:53"><name pos:start="181:33" pos:end="181:49">YSCALEYUV2PACKEDX</name>

				<name pos:start="183:33" pos:end="188:0">YSCALEYUV2RGBX</name>

		<comment type="block" pos:start="185:17" pos:end="185:54">/* mm2=B, %%mm4=G, %%mm5=R, %%mm7=0 */</comment>

<cpp:ifdef pos:start="187:1" pos:end="187:18">#<cpp:directive pos:start="187:2" pos:end="187:6">ifdef</cpp:directive> <name pos:start="187:8" pos:end="187:18">DITHER1XBPP</name></cpp:ifdef>

				<literal type="string" pos:start="189:33" pos:end="189:42">"paddusb "</literal><call pos:start="189:43" pos:end="189:58"><name pos:start="189:43" pos:end="189:48">MANGLE</name><argument_list pos:start="189:49" pos:end="189:58">(<argument pos:start="189:50" pos:end="189:57"><expr pos:start="189:50" pos:end="189:57"><name pos:start="189:50" pos:end="189:57">b5Dither</name></expr></argument>)</argument_list></call><literal type="string" pos:start="189:59" pos:end="189:71">", %%mm2\n\t"</literal>

				<literal type="string" pos:start="191:33" pos:end="191:42">"paddusb "</literal><call pos:start="191:43" pos:end="191:58"><name pos:start="191:43" pos:end="191:48">MANGLE</name><argument_list pos:start="191:49" pos:end="191:58">(<argument pos:start="191:50" pos:end="191:57"><expr pos:start="191:50" pos:end="191:57"><name pos:start="191:50" pos:end="191:57">g5Dither</name></expr></argument>)</argument_list></call><literal type="string" pos:start="191:59" pos:end="191:71">", %%mm4\n\t"</literal>

				<literal type="string" pos:start="193:33" pos:end="193:42">"paddusb "</literal><call pos:start="193:43" pos:end="193:58"><name pos:start="193:43" pos:end="193:48">MANGLE</name><argument_list pos:start="193:49" pos:end="193:58">(<argument pos:start="193:50" pos:end="193:57"><expr pos:start="193:50" pos:end="193:57"><name pos:start="193:50" pos:end="193:57">r5Dither</name></expr></argument>)</argument_list></call><literal type="string" pos:start="193:59" pos:end="196:0">", %%mm5\n\t"</literal>

<cpp:endif pos:start="195:1" pos:end="195:6">#<cpp:directive pos:start="195:2" pos:end="195:6">endif</cpp:directive></cpp:endif>



				<macro pos:start="199:33" pos:end="199:58"><name pos:start="199:33" pos:end="199:42">WRITEBGR15</name><argument_list pos:start="199:43" pos:end="199:58">(<argument pos:start="199:44" pos:end="199:45">%<literal type="number" pos:start="199:45" pos:end="199:45">4</literal></argument>, <argument pos:start="199:48" pos:end="199:49">%<literal type="number" pos:start="199:49" pos:end="199:49">5</literal></argument>, <argument pos:start="199:52" pos:end="199:57">%%REGa</argument>)</argument_list></macro>

                                <name pos:start="201:33" pos:end="201:53">YSCALEYUV2PACKEDX_END</name></expr></expr_stmt>

		<return pos:start="203:17" pos:end="203:23">return;</return>

	<case pos:start="205:9" pos:end="205:28">case <expr pos:start="205:14" pos:end="205:27"><name pos:start="205:14" pos:end="205:27">PIX_FMT_BGR565</name></expr>:</case>

                                <expr_stmt pos:start="207:33" pos:end="227:53"><expr pos:start="207:33" pos:end="227:53"><name pos:start="207:33" pos:end="207:49">YSCALEYUV2PACKEDX</name>

				<name pos:start="209:33" pos:end="214:0">YSCALEYUV2RGBX</name>

		<comment type="block" pos:start="211:17" pos:end="211:54">/* mm2=B, %%mm4=G, %%mm5=R, %%mm7=0 */</comment>

<cpp:ifdef pos:start="213:1" pos:end="213:18">#<cpp:directive pos:start="213:2" pos:end="213:6">ifdef</cpp:directive> <name pos:start="213:8" pos:end="213:18">DITHER1XBPP</name></cpp:ifdef>

				<literal type="string" pos:start="215:33" pos:end="215:42">"paddusb "</literal><call pos:start="215:43" pos:end="215:58"><name pos:start="215:43" pos:end="215:48">MANGLE</name><argument_list pos:start="215:49" pos:end="215:58">(<argument pos:start="215:50" pos:end="215:57"><expr pos:start="215:50" pos:end="215:57"><name pos:start="215:50" pos:end="215:57">b5Dither</name></expr></argument>)</argument_list></call><literal type="string" pos:start="215:59" pos:end="215:71">", %%mm2\n\t"</literal>

				<literal type="string" pos:start="217:33" pos:end="217:42">"paddusb "</literal><call pos:start="217:43" pos:end="217:58"><name pos:start="217:43" pos:end="217:48">MANGLE</name><argument_list pos:start="217:49" pos:end="217:58">(<argument pos:start="217:50" pos:end="217:57"><expr pos:start="217:50" pos:end="217:57"><name pos:start="217:50" pos:end="217:57">g6Dither</name></expr></argument>)</argument_list></call><literal type="string" pos:start="217:59" pos:end="217:71">", %%mm4\n\t"</literal>

				<literal type="string" pos:start="219:33" pos:end="219:42">"paddusb "</literal><call pos:start="219:43" pos:end="219:58"><name pos:start="219:43" pos:end="219:48">MANGLE</name><argument_list pos:start="219:49" pos:end="219:58">(<argument pos:start="219:50" pos:end="219:57"><expr pos:start="219:50" pos:end="219:57"><name pos:start="219:50" pos:end="219:57">r5Dither</name></expr></argument>)</argument_list></call><literal type="string" pos:start="219:59" pos:end="222:0">", %%mm5\n\t"</literal>

<cpp:endif pos:start="221:1" pos:end="221:6">#<cpp:directive pos:start="221:2" pos:end="221:6">endif</cpp:directive></cpp:endif>



				<macro pos:start="225:33" pos:end="225:58"><name pos:start="225:33" pos:end="225:42">WRITEBGR16</name><argument_list pos:start="225:43" pos:end="225:58">(<argument pos:start="225:44" pos:end="225:45">%<literal type="number" pos:start="225:45" pos:end="225:45">4</literal></argument>, <argument pos:start="225:48" pos:end="225:49">%<literal type="number" pos:start="225:49" pos:end="225:49">5</literal></argument>, <argument pos:start="225:52" pos:end="225:57">%%REGa</argument>)</argument_list></macro>

                                <name pos:start="227:33" pos:end="227:53">YSCALEYUV2PACKEDX_END</name></expr></expr_stmt>

		<return pos:start="229:17" pos:end="229:23">return;</return>

	<case pos:start="231:9" pos:end="231:29">case <expr pos:start="231:14" pos:end="231:28"><name pos:start="231:14" pos:end="231:28">PIX_FMT_YUYV422</name></expr>:</case>

				<expr_stmt pos:start="233:33" pos:end="249:53"><expr pos:start="233:33" pos:end="249:53"><name pos:start="233:33" pos:end="233:49">YSCALEYUV2PACKEDX</name>

		<comment type="block" pos:start="235:17" pos:end="235:54">/* mm2=B, %%mm4=G, %%mm5=R, %%mm7=0 */</comment>



				<literal type="string" pos:start="239:33" pos:end="239:69">"psraw $3, %%mm3		\n\t"</literal>

				<literal type="string" pos:start="241:33" pos:end="241:69">"psraw $3, %%mm4		\n\t"</literal>

				<literal type="string" pos:start="243:33" pos:end="243:69">"psraw $3, %%mm1		\n\t"</literal>

				<literal type="string" pos:start="245:33" pos:end="245:69">"psraw $3, %%mm7		\n\t"</literal>

				<macro pos:start="247:33" pos:end="247:57"><name pos:start="247:33" pos:end="247:41">WRITEYUY2</name><argument_list pos:start="247:42" pos:end="247:57">(<argument pos:start="247:43" pos:end="247:44">%<literal type="number" pos:start="247:44" pos:end="247:44">4</literal></argument>, <argument pos:start="247:47" pos:end="247:48">%<literal type="number" pos:start="247:48" pos:end="247:48">5</literal></argument>, <argument pos:start="247:51" pos:end="247:56">%%REGa</argument>)</argument_list></macro>

                                <name pos:start="249:33" pos:end="249:53">YSCALEYUV2PACKEDX_END</name></expr></expr_stmt>

		<return pos:start="251:17" pos:end="251:23">return;</return>

        </block_content>}</block></else></if_stmt>

    }

<cpp:endif pos:start="257:1" pos:end="257:6">#<cpp:directive pos:start="257:2" pos:end="257:6">endif</cpp:directive></cpp:endif>

<cpp:ifdef pos:start="259:1" pos:end="259:19">#<cpp:directive pos:start="259:2" pos:end="259:6">ifdef</cpp:directive> <name pos:start="259:8" pos:end="259:19">HAVE_ALTIVEC</name></cpp:ifdef>

		<comment type="block" pos:start="261:17" pos:end="263:77">/* The following list of supported dstFormat values should

		   match what's found in the body of altivec_yuv2packedX() */</comment>

		if<expr_stmt pos:start="265:19" pos:end="275:54"><expr pos:start="265:19" pos:end="275:53"><operator pos:start="265:19" pos:end="265:19">(</operator><name pos:start="265:20" pos:end="265:31"><name pos:start="265:20" pos:end="265:20">c</name><operator pos:start="265:21" pos:end="265:22">-&gt;</operator><name pos:start="265:23" pos:end="265:31">dstFormat</name></name><operator pos:start="265:32" pos:end="265:33">==</operator><name pos:start="265:34" pos:end="265:45">PIX_FMT_ABGR</name>  <operator pos:start="265:48" pos:end="265:49">||</operator> <name pos:start="265:51" pos:end="265:62"><name pos:start="265:51" pos:end="265:51">c</name><operator pos:start="265:52" pos:end="265:53">-&gt;</operator><name pos:start="265:54" pos:end="265:62">dstFormat</name></name><operator pos:start="265:63" pos:end="265:64">==</operator><name pos:start="265:65" pos:end="265:76">PIX_FMT_BGRA</name>  <operator pos:start="265:79" pos:end="265:80">||</operator>

		   <name pos:start="267:20" pos:end="267:31"><name pos:start="267:20" pos:end="267:20">c</name><operator pos:start="267:21" pos:end="267:22">-&gt;</operator><name pos:start="267:23" pos:end="267:31">dstFormat</name></name><operator pos:start="267:32" pos:end="267:33">==</operator><name pos:start="267:34" pos:end="267:46">PIX_FMT_BGR24</name> <operator pos:start="267:48" pos:end="267:49">||</operator> <name pos:start="267:51" pos:end="267:62"><name pos:start="267:51" pos:end="267:51">c</name><operator pos:start="267:52" pos:end="267:53">-&gt;</operator><name pos:start="267:54" pos:end="267:62">dstFormat</name></name><operator pos:start="267:63" pos:end="267:64">==</operator><name pos:start="267:65" pos:end="267:77">PIX_FMT_RGB24</name> <operator pos:start="267:79" pos:end="267:80">||</operator>

		   <name pos:start="269:20" pos:end="269:31"><name pos:start="269:20" pos:end="269:20">c</name><operator pos:start="269:21" pos:end="269:22">-&gt;</operator><name pos:start="269:23" pos:end="269:31">dstFormat</name></name><operator pos:start="269:32" pos:end="269:33">==</operator><name pos:start="269:34" pos:end="269:45">PIX_FMT_RGBA</name>  <operator pos:start="269:48" pos:end="269:49">||</operator> <name pos:start="269:51" pos:end="269:62"><name pos:start="269:51" pos:end="269:51">c</name><operator pos:start="269:52" pos:end="269:53">-&gt;</operator><name pos:start="269:54" pos:end="269:62">dstFormat</name></name><operator pos:start="269:63" pos:end="269:64">==</operator><name pos:start="269:65" pos:end="269:76">PIX_FMT_ARGB</name><operator pos:start="269:77" pos:end="269:77">)</operator>

			<call pos:start="271:25" pos:end="275:53"><name pos:start="271:25" pos:end="271:43">altivec_yuv2packedX</name> <argument_list pos:start="271:45" pos:end="275:53">(<argument pos:start="271:46" pos:end="271:46"><expr pos:start="271:46" pos:end="271:46"><name pos:start="271:46" pos:end="271:46">c</name></expr></argument>, <argument pos:start="271:49" pos:end="271:57"><expr pos:start="271:49" pos:end="271:57"><name pos:start="271:49" pos:end="271:57">lumFilter</name></expr></argument>, <argument pos:start="271:60" pos:end="271:65"><expr pos:start="271:60" pos:end="271:65"><name pos:start="271:60" pos:end="271:65">lumSrc</name></expr></argument>, <argument pos:start="271:68" pos:end="271:80"><expr pos:start="271:68" pos:end="271:80"><name pos:start="271:68" pos:end="271:80">lumFilterSize</name></expr></argument>,

				    <argument pos:start="273:37" pos:end="273:45"><expr pos:start="273:37" pos:end="273:45"><name pos:start="273:37" pos:end="273:45">chrFilter</name></expr></argument>, <argument pos:start="273:48" pos:end="273:53"><expr pos:start="273:48" pos:end="273:53"><name pos:start="273:48" pos:end="273:53">chrSrc</name></expr></argument>, <argument pos:start="273:56" pos:end="273:68"><expr pos:start="273:56" pos:end="273:68"><name pos:start="273:56" pos:end="273:68">chrFilterSize</name></expr></argument>,

				    <argument pos:start="275:37" pos:end="275:40"><expr pos:start="275:37" pos:end="275:40"><name pos:start="275:37" pos:end="275:40">dest</name></expr></argument>, <argument pos:start="275:43" pos:end="275:46"><expr pos:start="275:43" pos:end="275:46"><name pos:start="275:43" pos:end="275:46">dstW</name></expr></argument>, <argument pos:start="275:49" pos:end="275:52"><expr pos:start="275:49" pos:end="275:52"><name pos:start="275:49" pos:end="275:52">dstY</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

		<if_stmt pos:start="277:17" pos:end="285:54"><else pos:start="277:17" pos:end="285:54">else<block type="pseudo" pos:start="281:25" pos:end="285:54"><block_content pos:start="281:25" pos:end="285:54">

<cpp:endif pos:start="279:1" pos:end="279:6">#<cpp:directive pos:start="279:2" pos:end="279:6">endif</cpp:directive></cpp:endif>

			<expr_stmt pos:start="281:25" pos:end="285:54"><expr pos:start="281:25" pos:end="285:53"><call pos:start="281:25" pos:end="285:53"><name pos:start="281:25" pos:end="281:38">yuv2packedXinC</name><argument_list pos:start="281:39" pos:end="285:53">(<argument pos:start="281:40" pos:end="281:40"><expr pos:start="281:40" pos:end="281:40"><name pos:start="281:40" pos:end="281:40">c</name></expr></argument>, <argument pos:start="281:43" pos:end="281:51"><expr pos:start="281:43" pos:end="281:51"><name pos:start="281:43" pos:end="281:51">lumFilter</name></expr></argument>, <argument pos:start="281:54" pos:end="281:59"><expr pos:start="281:54" pos:end="281:59"><name pos:start="281:54" pos:end="281:59">lumSrc</name></expr></argument>, <argument pos:start="281:62" pos:end="281:74"><expr pos:start="281:62" pos:end="281:74"><name pos:start="281:62" pos:end="281:74">lumFilterSize</name></expr></argument>,

				    <argument pos:start="283:37" pos:end="283:45"><expr pos:start="283:37" pos:end="283:45"><name pos:start="283:37" pos:end="283:45">chrFilter</name></expr></argument>, <argument pos:start="283:48" pos:end="283:53"><expr pos:start="283:48" pos:end="283:53"><name pos:start="283:48" pos:end="283:53">chrSrc</name></expr></argument>, <argument pos:start="283:56" pos:end="283:68"><expr pos:start="283:56" pos:end="283:68"><name pos:start="283:56" pos:end="283:68">chrFilterSize</name></expr></argument>,

				    <argument pos:start="285:37" pos:end="285:40"><expr pos:start="285:37" pos:end="285:40"><name pos:start="285:37" pos:end="285:40">dest</name></expr></argument>, <argument pos:start="285:43" pos:end="285:46"><expr pos:start="285:43" pos:end="285:46"><name pos:start="285:43" pos:end="285:46">dstW</name></expr></argument>, <argument pos:start="285:49" pos:end="285:52"><expr pos:start="285:49" pos:end="285:52"><name pos:start="285:49" pos:end="285:52">dstY</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></else></if_stmt>

}
</unit>
