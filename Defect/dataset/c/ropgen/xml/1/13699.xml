<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/13699.c" pos:tabs="8"><function pos:start="1:1" pos:end="32:1"><type pos:start="1:1" pos:end="1:3"><name pos:start="1:1" pos:end="1:3">int</name></type> <name pos:start="1:5" pos:end="1:24">qemu_set_fd_handler2</name><parameter_list pos:start="1:25" pos:end="5:38">(<parameter pos:start="1:26" pos:end="1:31"><decl pos:start="1:26" pos:end="1:31"><type pos:start="1:26" pos:end="1:31"><name pos:start="1:26" pos:end="1:28">int</name></type> <name pos:start="1:30" pos:end="1:31">fd</name></decl></parameter>,
                         <parameter pos:start="2:26" pos:end="2:55"><decl pos:start="2:26" pos:end="2:55"><type pos:start="2:26" pos:end="2:55"><name pos:start="2:26" pos:end="2:41">IOCanReadHandler</name> <modifier pos:start="2:43" pos:end="2:43">*</modifier></type><name pos:start="2:44" pos:end="2:55">fd_read_poll</name></decl></parameter>,
                         <parameter pos:start="3:26" pos:end="3:43"><decl pos:start="3:26" pos:end="3:43"><type pos:start="3:26" pos:end="3:43"><name pos:start="3:26" pos:end="3:34">IOHandler</name> <modifier pos:start="3:36" pos:end="3:36">*</modifier></type><name pos:start="3:37" pos:end="3:43">fd_read</name></decl></parameter>,
                         <parameter pos:start="4:26" pos:end="4:44"><decl pos:start="4:26" pos:end="4:44"><type pos:start="4:26" pos:end="4:44"><name pos:start="4:26" pos:end="4:34">IOHandler</name> <modifier pos:start="4:36" pos:end="4:36">*</modifier></type><name pos:start="4:37" pos:end="4:44">fd_write</name></decl></parameter>,
                         <parameter pos:start="5:26" pos:end="5:37"><decl pos:start="5:26" pos:end="5:37"><type pos:start="5:26" pos:end="5:37"><name pos:start="5:26" pos:end="5:29">void</name> <modifier pos:start="5:31" pos:end="5:31">*</modifier></type><name pos:start="5:32" pos:end="5:37">opaque</name></decl></parameter>)</parameter_list>
<block pos:start="6:1" pos:end="32:1">{<block_content pos:start="7:5" pos:end="31:13">
    <decl_stmt pos:start="7:5" pos:end="7:25"><decl pos:start="7:5" pos:end="7:24"><type pos:start="7:5" pos:end="7:21"><name pos:start="7:5" pos:end="7:19">IOHandlerRecord</name> <modifier pos:start="7:21" pos:end="7:21">*</modifier></type><name pos:start="7:22" pos:end="7:24">ioh</name></decl>;</decl_stmt>
    <if_stmt pos:start="8:5" pos:end="30:5"><if pos:start="8:5" pos:end="15:5">if <condition pos:start="8:8" pos:end="8:30">(<expr pos:start="8:9" pos:end="8:29"><operator pos:start="8:9" pos:end="8:9">!</operator><name pos:start="8:10" pos:end="8:16">fd_read</name> <operator pos:start="8:18" pos:end="8:19">&amp;&amp;</operator> <operator pos:start="8:21" pos:end="8:21">!</operator><name pos:start="8:22" pos:end="8:29">fd_write</name></expr>)</condition> <block pos:start="8:32" pos:end="15:5">{<block_content pos:start="9:9" pos:end="14:9">
        <macro pos:start="9:9" pos:end="9:46"><name pos:start="9:9" pos:end="9:21">QLIST_FOREACH</name><argument_list pos:start="9:22" pos:end="9:46">(<argument pos:start="9:23" pos:end="9:25">ioh</argument>, <argument pos:start="9:28" pos:end="9:39">&amp;io_handlers</argument>, <argument pos:start="9:42" pos:end="9:45">next</argument>)</argument_list></macro> <block pos:start="9:48" pos:end="14:9">{<block_content pos:start="10:13" pos:end="13:13">
            <if_stmt pos:start="10:13" pos:end="13:13"><if pos:start="10:13" pos:end="13:13">if <condition pos:start="10:16" pos:end="10:30">(<expr pos:start="10:17" pos:end="10:29"><name pos:start="10:17" pos:end="10:23"><name pos:start="10:17" pos:end="10:19">ioh</name><operator pos:start="10:20" pos:end="10:21">-&gt;</operator><name pos:start="10:22" pos:end="10:23">fd</name></name> <operator pos:start="10:25" pos:end="10:26">==</operator> <name pos:start="10:28" pos:end="10:29">fd</name></expr>)</condition> <block pos:start="10:32" pos:end="13:13">{<block_content pos:start="11:17" pos:end="12:22">
                <expr_stmt pos:start="11:17" pos:end="11:33"><expr pos:start="11:17" pos:end="11:32"><name pos:start="11:17" pos:end="11:28"><name pos:start="11:17" pos:end="11:19">ioh</name><operator pos:start="11:20" pos:end="11:21">-&gt;</operator><name pos:start="11:22" pos:end="11:28">deleted</name></name> <operator pos:start="11:30" pos:end="11:30">=</operator> <literal type="number" pos:start="11:32" pos:end="11:32">1</literal></expr>;</expr_stmt>
                <break pos:start="12:17" pos:end="12:22">break;</break>
            </block_content>}</block></if></if_stmt>
        </block_content>}</block>
    </block_content>}</block></if> <else pos:start="15:7" pos:end="30:5">else <block pos:start="15:12" pos:end="30:5">{<block_content pos:start="16:9" pos:end="29:28">
        <macro pos:start="16:9" pos:end="16:46"><name pos:start="16:9" pos:end="16:21">QLIST_FOREACH</name><argument_list pos:start="16:22" pos:end="16:46">(<argument pos:start="16:23" pos:end="16:25">ioh</argument>, <argument pos:start="16:28" pos:end="16:39">&amp;io_handlers</argument>, <argument pos:start="16:42" pos:end="16:45">next</argument>)</argument_list></macro> <block pos:start="16:48" pos:end="19:9">{<block_content pos:start="17:13" pos:end="18:27">
            <if_stmt pos:start="17:13" pos:end="18:27"><if pos:start="17:13" pos:end="18:27">if <condition pos:start="17:16" pos:end="17:30">(<expr pos:start="17:17" pos:end="17:29"><name pos:start="17:17" pos:end="17:23"><name pos:start="17:17" pos:end="17:19">ioh</name><operator pos:start="17:20" pos:end="17:21">-&gt;</operator><name pos:start="17:22" pos:end="17:23">fd</name></name> <operator pos:start="17:25" pos:end="17:26">==</operator> <name pos:start="17:28" pos:end="17:29">fd</name></expr>)</condition><block type="pseudo" pos:start="18:17" pos:end="18:27"><block_content pos:start="18:17" pos:end="18:27">
                <goto pos:start="18:17" pos:end="18:27">goto <name pos:start="18:22" pos:end="18:26">found</name>;</goto></block_content></block></if></if_stmt>
        </block_content>}</block>
        <expr_stmt pos:start="20:9" pos:end="20:49"><expr pos:start="20:9" pos:end="20:48"><name pos:start="20:9" pos:end="20:11">ioh</name> <operator pos:start="20:13" pos:end="20:13">=</operator> <call pos:start="20:15" pos:end="20:48"><name pos:start="20:15" pos:end="20:23">g_malloc0</name><argument_list pos:start="20:24" pos:end="20:48">(<argument pos:start="20:25" pos:end="20:47"><expr pos:start="20:25" pos:end="20:47"><sizeof pos:start="20:25" pos:end="20:47">sizeof<argument_list pos:start="20:31" pos:end="20:47">(<argument pos:start="20:32" pos:end="20:46"><expr pos:start="20:32" pos:end="20:46"><name pos:start="20:32" pos:end="20:46">IOHandlerRecord</name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt pos:start="21:9" pos:end="21:51"><expr pos:start="21:9" pos:end="21:50"><call pos:start="21:9" pos:end="21:50"><name pos:start="21:9" pos:end="21:25">QLIST_INSERT_HEAD</name><argument_list pos:start="21:26" pos:end="21:50">(<argument pos:start="21:27" pos:end="21:38"><expr pos:start="21:27" pos:end="21:38"><operator pos:start="21:27" pos:end="21:27">&amp;</operator><name pos:start="21:28" pos:end="21:38">io_handlers</name></expr></argument>, <argument pos:start="21:41" pos:end="21:43"><expr pos:start="21:41" pos:end="21:43"><name pos:start="21:41" pos:end="21:43">ioh</name></expr></argument>, <argument pos:start="21:46" pos:end="21:49"><expr pos:start="21:46" pos:end="21:49"><name pos:start="21:46" pos:end="21:49">next</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <label pos:start="22:5" pos:end="22:10"><name pos:start="22:5" pos:end="22:9">found</name>:</label>
        <expr_stmt pos:start="23:9" pos:end="23:21"><expr pos:start="23:9" pos:end="23:20"><name pos:start="23:9" pos:end="23:15"><name pos:start="23:9" pos:end="23:11">ioh</name><operator pos:start="23:12" pos:end="23:13">-&gt;</operator><name pos:start="23:14" pos:end="23:15">fd</name></name> <operator pos:start="23:17" pos:end="23:17">=</operator> <name pos:start="23:19" pos:end="23:20">fd</name></expr>;</expr_stmt>
        <expr_stmt pos:start="24:9" pos:end="24:41"><expr pos:start="24:9" pos:end="24:40"><name pos:start="24:9" pos:end="24:25"><name pos:start="24:9" pos:end="24:11">ioh</name><operator pos:start="24:12" pos:end="24:13">-&gt;</operator><name pos:start="24:14" pos:end="24:25">fd_read_poll</name></name> <operator pos:start="24:27" pos:end="24:27">=</operator> <name pos:start="24:29" pos:end="24:40">fd_read_poll</name></expr>;</expr_stmt>
        <expr_stmt pos:start="25:9" pos:end="25:31"><expr pos:start="25:9" pos:end="25:30"><name pos:start="25:9" pos:end="25:20"><name pos:start="25:9" pos:end="25:11">ioh</name><operator pos:start="25:12" pos:end="25:13">-&gt;</operator><name pos:start="25:14" pos:end="25:20">fd_read</name></name> <operator pos:start="25:22" pos:end="25:22">=</operator> <name pos:start="25:24" pos:end="25:30">fd_read</name></expr>;</expr_stmt>
        <expr_stmt pos:start="26:9" pos:end="26:33"><expr pos:start="26:9" pos:end="26:32"><name pos:start="26:9" pos:end="26:21"><name pos:start="26:9" pos:end="26:11">ioh</name><operator pos:start="26:12" pos:end="26:13">-&gt;</operator><name pos:start="26:14" pos:end="26:21">fd_write</name></name> <operator pos:start="26:23" pos:end="26:23">=</operator> <name pos:start="26:25" pos:end="26:32">fd_write</name></expr>;</expr_stmt>
        <expr_stmt pos:start="27:9" pos:end="27:29"><expr pos:start="27:9" pos:end="27:28"><name pos:start="27:9" pos:end="27:19"><name pos:start="27:9" pos:end="27:11">ioh</name><operator pos:start="27:12" pos:end="27:13">-&gt;</operator><name pos:start="27:14" pos:end="27:19">opaque</name></name> <operator pos:start="27:21" pos:end="27:21">=</operator> <name pos:start="27:23" pos:end="27:28">opaque</name></expr>;</expr_stmt>
        <expr_stmt pos:start="28:9" pos:end="28:25"><expr pos:start="28:9" pos:end="28:24"><name pos:start="28:9" pos:end="28:20"><name pos:start="28:9" pos:end="28:11">ioh</name><operator pos:start="28:12" pos:end="28:13">-&gt;</operator><name pos:start="28:14" pos:end="28:20">deleted</name></name> <operator pos:start="28:22" pos:end="28:22">=</operator> <literal type="number" pos:start="28:24" pos:end="28:24">0</literal></expr>;</expr_stmt>
        <expr_stmt pos:start="29:9" pos:end="29:28"><expr pos:start="29:9" pos:end="29:27"><call pos:start="29:9" pos:end="29:27"><name pos:start="29:9" pos:end="29:25">qemu_notify_event</name><argument_list pos:start="29:26" pos:end="29:27">()</argument_list></call></expr>;</expr_stmt>
    </block_content>}</block></else></if_stmt>
    <return pos:start="31:5" pos:end="31:13">return <expr pos:start="31:12" pos:end="31:12"><literal type="number" pos:start="31:12" pos:end="31:12">0</literal></expr>;</return>
</block_content>}</block></function></unit>
