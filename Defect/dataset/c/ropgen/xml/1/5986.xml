<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/5986.c" pos:tabs="8"><function pos:start="1:1" pos:end="58:1"><type pos:start="1:1" pos:end="1:10"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:10">int</name></type> <name pos:start="1:12" pos:end="1:26">sap_write_close</name><parameter_list pos:start="1:27" pos:end="1:46">(<parameter pos:start="1:28" pos:end="1:45"><decl pos:start="1:28" pos:end="1:45"><type pos:start="1:28" pos:end="1:44"><name pos:start="1:28" pos:end="1:42">AVFormatContext</name> <modifier pos:start="1:44" pos:end="1:44">*</modifier></type><name pos:start="1:45" pos:end="1:45">s</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="58:1">{<block_content pos:start="5:5" pos:end="56:13">

    <decl_stmt pos:start="5:5" pos:end="5:40"><decl pos:start="5:5" pos:end="5:39"><type pos:start="5:5" pos:end="5:21"><name pos:start="5:5" pos:end="5:19"><name pos:start="5:5" pos:end="5:10">struct</name> <name pos:start="5:12" pos:end="5:19">SAPState</name></name> <modifier pos:start="5:21" pos:end="5:21">*</modifier></type><name pos:start="5:22" pos:end="5:24">sap</name> <init pos:start="5:26" pos:end="5:39">= <expr pos:start="5:28" pos:end="5:39"><name pos:start="5:28" pos:end="5:39"><name pos:start="5:28" pos:end="5:28">s</name><operator pos:start="5:29" pos:end="5:30">-&gt;</operator><name pos:start="5:31" pos:end="5:39">priv_data</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:10"><decl pos:start="7:5" pos:end="7:9"><type pos:start="7:5" pos:end="7:7"><name pos:start="7:5" pos:end="7:7">int</name></type> <name pos:start="7:9" pos:end="7:9">i</name></decl>;</decl_stmt>



    <for pos:start="11:5" pos:end="34:5">for <control pos:start="11:9" pos:end="11:39">(<init pos:start="11:10" pos:end="11:15"><expr pos:start="11:10" pos:end="11:14"><name pos:start="11:10" pos:end="11:10">i</name> <operator pos:start="11:12" pos:end="11:12">=</operator> <literal type="number" pos:start="11:14" pos:end="11:14">0</literal></expr>;</init> <condition pos:start="11:17" pos:end="11:34"><expr pos:start="11:17" pos:end="11:33"><name pos:start="11:17" pos:end="11:17">i</name> <operator pos:start="11:19" pos:end="11:19">&lt;</operator> <name pos:start="11:21" pos:end="11:33"><name pos:start="11:21" pos:end="11:21">s</name><operator pos:start="11:22" pos:end="11:23">-&gt;</operator><name pos:start="11:24" pos:end="11:33">nb_streams</name></name></expr>;</condition> <incr pos:start="11:36" pos:end="11:38"><expr pos:start="11:36" pos:end="11:38"><name pos:start="11:36" pos:end="11:36">i</name><operator pos:start="11:37" pos:end="11:38">++</operator></expr></incr>)</control> <block pos:start="11:41" pos:end="34:5">{<block_content pos:start="13:9" pos:end="32:40">

        <decl_stmt pos:start="13:9" pos:end="13:59"><decl pos:start="13:9" pos:end="13:58"><type pos:start="13:9" pos:end="13:25"><name pos:start="13:9" pos:end="13:23">AVFormatContext</name> <modifier pos:start="13:25" pos:end="13:25">*</modifier></type><name pos:start="13:26" pos:end="13:31">rtpctx</name> <init pos:start="13:33" pos:end="13:58">= <expr pos:start="13:35" pos:end="13:58"><name pos:start="13:35" pos:end="13:47"><name pos:start="13:35" pos:end="13:35">s</name><operator pos:start="13:36" pos:end="13:37">-&gt;</operator><name pos:start="13:38" pos:end="13:44">streams</name><index pos:start="13:45" pos:end="13:47">[<expr pos:start="13:46" pos:end="13:46"><name pos:start="13:46" pos:end="13:46">i</name></expr>]</index></name><operator pos:start="13:48" pos:end="13:49">-&gt;</operator><name pos:start="13:50" pos:end="13:58">priv_data</name></expr></init></decl>;</decl_stmt>

        <if_stmt pos:start="15:9" pos:end="17:21"><if pos:start="15:9" pos:end="17:21">if <condition pos:start="15:12" pos:end="15:20">(<expr pos:start="15:13" pos:end="15:19"><operator pos:start="15:13" pos:end="15:13">!</operator><name pos:start="15:14" pos:end="15:19">rtpctx</name></expr>)</condition><block type="pseudo" pos:start="17:13" pos:end="17:21"><block_content pos:start="17:13" pos:end="17:21">

            <continue pos:start="17:13" pos:end="17:21">continue;</continue></block_content></block></if></if_stmt>

        <expr_stmt pos:start="19:9" pos:end="19:33"><expr pos:start="19:9" pos:end="19:32"><call pos:start="19:9" pos:end="19:32"><name pos:start="19:9" pos:end="19:24">av_write_trailer</name><argument_list pos:start="19:25" pos:end="19:32">(<argument pos:start="19:26" pos:end="19:31"><expr pos:start="19:26" pos:end="19:31"><name pos:start="19:26" pos:end="19:31">rtpctx</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="21:9" pos:end="21:31"><expr pos:start="21:9" pos:end="21:30"><call pos:start="21:9" pos:end="21:30"><name pos:start="21:9" pos:end="21:18">url_fclose</name><argument_list pos:start="21:19" pos:end="21:30">(<argument pos:start="21:20" pos:end="21:29"><expr pos:start="21:20" pos:end="21:29"><name pos:start="21:20" pos:end="21:29"><name pos:start="21:20" pos:end="21:25">rtpctx</name><operator pos:start="21:26" pos:end="21:27">-&gt;</operator><name pos:start="21:28" pos:end="21:29">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="23:9" pos:end="23:56"><expr pos:start="23:9" pos:end="23:55"><call pos:start="23:9" pos:end="23:55"><name pos:start="23:9" pos:end="23:24">av_metadata_free</name><argument_list pos:start="23:25" pos:end="23:55">(<argument pos:start="23:26" pos:end="23:54"><expr pos:start="23:26" pos:end="23:54"><operator pos:start="23:26" pos:end="23:26">&amp;</operator><name pos:start="23:27" pos:end="23:44"><name pos:start="23:27" pos:end="23:32">rtpctx</name><operator pos:start="23:33" pos:end="23:34">-&gt;</operator><name pos:start="23:35" pos:end="23:41">streams</name><index pos:start="23:42" pos:end="23:44">[<expr pos:start="23:43" pos:end="23:43"><literal type="number" pos:start="23:43" pos:end="23:43">0</literal></expr>]</index></name><operator pos:start="23:45" pos:end="23:46">-&gt;</operator><name pos:start="23:47" pos:end="23:54">metadata</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="25:9" pos:end="25:44"><expr pos:start="25:9" pos:end="25:43"><call pos:start="25:9" pos:end="25:43"><name pos:start="25:9" pos:end="25:24">av_metadata_free</name><argument_list pos:start="25:25" pos:end="25:43">(<argument pos:start="25:26" pos:end="25:42"><expr pos:start="25:26" pos:end="25:42"><operator pos:start="25:26" pos:end="25:26">&amp;</operator><name pos:start="25:27" pos:end="25:42"><name pos:start="25:27" pos:end="25:32">rtpctx</name><operator pos:start="25:33" pos:end="25:34">-&gt;</operator><name pos:start="25:35" pos:end="25:42">metadata</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>


        <expr_stmt pos:start="28:9" pos:end="28:36"><expr pos:start="28:9" pos:end="28:35"><call pos:start="28:9" pos:end="28:35"><name pos:start="28:9" pos:end="28:15">av_free</name><argument_list pos:start="28:16" pos:end="28:35">(<argument pos:start="28:17" pos:end="28:34"><expr pos:start="28:17" pos:end="28:34"><name pos:start="28:17" pos:end="28:34"><name pos:start="28:17" pos:end="28:22">rtpctx</name><operator pos:start="28:23" pos:end="28:24">-&gt;</operator><name pos:start="28:25" pos:end="28:31">streams</name><index pos:start="28:32" pos:end="28:34">[<expr pos:start="28:33" pos:end="28:33"><literal type="number" pos:start="28:33" pos:end="28:33">0</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="30:9" pos:end="30:24"><expr pos:start="30:9" pos:end="30:23"><call pos:start="30:9" pos:end="30:23"><name pos:start="30:9" pos:end="30:15">av_free</name><argument_list pos:start="30:16" pos:end="30:23">(<argument pos:start="30:17" pos:end="30:22"><expr pos:start="30:17" pos:end="30:22"><name pos:start="30:17" pos:end="30:22">rtpctx</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="32:9" pos:end="32:40"><expr pos:start="32:9" pos:end="32:39"><name pos:start="32:9" pos:end="32:21"><name pos:start="32:9" pos:end="32:9">s</name><operator pos:start="32:10" pos:end="32:11">-&gt;</operator><name pos:start="32:12" pos:end="32:18">streams</name><index pos:start="32:19" pos:end="32:21">[<expr pos:start="32:20" pos:end="32:20"><name pos:start="32:20" pos:end="32:20">i</name></expr>]</index></name><operator pos:start="32:22" pos:end="32:23">-&gt;</operator><name pos:start="32:24" pos:end="32:32">priv_data</name> <operator pos:start="32:34" pos:end="32:34">=</operator> <name pos:start="32:36" pos:end="32:39">NULL</name></expr>;</expr_stmt>

    </block_content>}</block></for>



    <if_stmt pos:start="38:5" pos:end="44:5"><if pos:start="38:5" pos:end="44:5">if <condition pos:start="38:8" pos:end="38:50">(<expr pos:start="38:9" pos:end="38:49"><name pos:start="38:9" pos:end="38:22"><name pos:start="38:9" pos:end="38:11">sap</name><operator pos:start="38:12" pos:end="38:13">-&gt;</operator><name pos:start="38:14" pos:end="38:22">last_time</name></name> <operator pos:start="38:24" pos:end="38:25">&amp;&amp;</operator> <name pos:start="38:27" pos:end="38:34"><name pos:start="38:27" pos:end="38:29">sap</name><operator pos:start="38:30" pos:end="38:31">-&gt;</operator><name pos:start="38:32" pos:end="38:34">ann</name></name> <operator pos:start="38:36" pos:end="38:37">&amp;&amp;</operator> <name pos:start="38:39" pos:end="38:49"><name pos:start="38:39" pos:end="38:41">sap</name><operator pos:start="38:42" pos:end="38:43">-&gt;</operator><name pos:start="38:44" pos:end="38:49">ann_fd</name></name></expr>)</condition> <block pos:start="38:52" pos:end="44:5">{<block_content pos:start="40:9" pos:end="42:56">

        <expr_stmt pos:start="40:9" pos:end="40:25"><expr pos:start="40:9" pos:end="40:24"><name pos:start="40:9" pos:end="40:19"><name pos:start="40:9" pos:end="40:11">sap</name><operator pos:start="40:12" pos:end="40:13">-&gt;</operator><name pos:start="40:14" pos:end="40:16">ann</name><index pos:start="40:17" pos:end="40:19">[<expr pos:start="40:18" pos:end="40:18"><literal type="number" pos:start="40:18" pos:end="40:18">0</literal></expr>]</index></name> <operator pos:start="40:21" pos:end="40:22">|=</operator> <literal type="number" pos:start="40:24" pos:end="40:24">4</literal></expr>;</expr_stmt> <comment type="block" pos:start="40:27" pos:end="40:47">/* Session deletion*/</comment>

        <expr_stmt pos:start="42:9" pos:end="42:56"><expr pos:start="42:9" pos:end="42:55"><call pos:start="42:9" pos:end="42:55"><name pos:start="42:9" pos:end="42:17">url_write</name><argument_list pos:start="42:18" pos:end="42:55">(<argument pos:start="42:19" pos:end="42:29"><expr pos:start="42:19" pos:end="42:29"><name pos:start="42:19" pos:end="42:29"><name pos:start="42:19" pos:end="42:21">sap</name><operator pos:start="42:22" pos:end="42:23">-&gt;</operator><name pos:start="42:24" pos:end="42:29">ann_fd</name></name></expr></argument>, <argument pos:start="42:32" pos:end="42:39"><expr pos:start="42:32" pos:end="42:39"><name pos:start="42:32" pos:end="42:39"><name pos:start="42:32" pos:end="42:34">sap</name><operator pos:start="42:35" pos:end="42:36">-&gt;</operator><name pos:start="42:37" pos:end="42:39">ann</name></name></expr></argument>, <argument pos:start="42:42" pos:end="42:54"><expr pos:start="42:42" pos:end="42:54"><name pos:start="42:42" pos:end="42:54"><name pos:start="42:42" pos:end="42:44">sap</name><operator pos:start="42:45" pos:end="42:46">-&gt;</operator><name pos:start="42:47" pos:end="42:54">ann_size</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <expr_stmt pos:start="48:5" pos:end="48:24"><expr pos:start="48:5" pos:end="48:23"><call pos:start="48:5" pos:end="48:23"><name pos:start="48:5" pos:end="48:12">av_freep</name><argument_list pos:start="48:13" pos:end="48:23">(<argument pos:start="48:14" pos:end="48:22"><expr pos:start="48:14" pos:end="48:22"><operator pos:start="48:14" pos:end="48:14">&amp;</operator><name pos:start="48:15" pos:end="48:22"><name pos:start="48:15" pos:end="48:17">sap</name><operator pos:start="48:18" pos:end="48:19">-&gt;</operator><name pos:start="48:20" pos:end="48:22">ann</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="50:5" pos:end="52:31"><if pos:start="50:5" pos:end="52:31">if <condition pos:start="50:8" pos:end="50:20">(<expr pos:start="50:9" pos:end="50:19"><name pos:start="50:9" pos:end="50:19"><name pos:start="50:9" pos:end="50:11">sap</name><operator pos:start="50:12" pos:end="50:13">-&gt;</operator><name pos:start="50:14" pos:end="50:19">ann_fd</name></name></expr>)</condition><block type="pseudo" pos:start="52:9" pos:end="52:31"><block_content pos:start="52:9" pos:end="52:31">

        <expr_stmt pos:start="52:9" pos:end="52:31"><expr pos:start="52:9" pos:end="52:30"><call pos:start="52:9" pos:end="52:30"><name pos:start="52:9" pos:end="52:17">url_close</name><argument_list pos:start="52:18" pos:end="52:30">(<argument pos:start="52:19" pos:end="52:29"><expr pos:start="52:19" pos:end="52:29"><name pos:start="52:19" pos:end="52:29"><name pos:start="52:19" pos:end="52:21">sap</name><operator pos:start="52:22" pos:end="52:23">-&gt;</operator><name pos:start="52:24" pos:end="52:29">ann_fd</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

    <expr_stmt pos:start="54:5" pos:end="54:23"><expr pos:start="54:5" pos:end="54:22"><call pos:start="54:5" pos:end="54:22"><name pos:start="54:5" pos:end="54:20">ff_network_close</name><argument_list pos:start="54:21" pos:end="54:22">()</argument_list></call></expr>;</expr_stmt>

    <return pos:start="56:5" pos:end="56:13">return <expr pos:start="56:12" pos:end="56:12"><literal type="number" pos:start="56:12" pos:end="56:12">0</literal></expr>;</return>

</block_content>}</block></function></unit>
