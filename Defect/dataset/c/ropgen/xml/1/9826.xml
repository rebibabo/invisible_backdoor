<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:cpp="http://www.srcML.org/srcML/cpp" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/9826.c" pos:tabs="8"><function pos:start="1:1" pos:end="871:1"><type pos:start="1:1" pos:end="1:3"><name pos:start="1:1" pos:end="1:3">int</name></type> <name pos:start="1:5" pos:end="1:29">avformat_find_stream_info</name><parameter_list pos:start="1:30" pos:end="1:74">(<parameter pos:start="1:31" pos:end="1:49"><decl pos:start="1:31" pos:end="1:49"><type pos:start="1:31" pos:end="1:49"><name pos:start="1:31" pos:end="1:45">AVFormatContext</name> <modifier pos:start="1:47" pos:end="1:47">*</modifier></type><name pos:start="1:48" pos:end="1:49">ic</name></decl></parameter>, <parameter pos:start="1:52" pos:end="1:73"><decl pos:start="1:52" pos:end="1:73"><type pos:start="1:52" pos:end="1:73"><name pos:start="1:52" pos:end="1:63">AVDictionary</name> <modifier pos:start="1:65" pos:end="1:65">*</modifier><modifier pos:start="1:66" pos:end="1:66">*</modifier></type><name pos:start="1:67" pos:end="1:73">options</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="871:1">{<block_content pos:start="5:5" pos:end="869:15">

    <decl_stmt pos:start="5:5" pos:end="5:29"><decl pos:start="5:5" pos:end="5:9"><type pos:start="5:5" pos:end="5:7"><name pos:start="5:5" pos:end="5:7">int</name></type> <name pos:start="5:9" pos:end="5:9">i</name></decl>, <decl pos:start="5:12" pos:end="5:16"><type ref="prev" pos:start="5:5" pos:end="5:7"/><name pos:start="5:12" pos:end="5:16">count</name></decl>, <decl pos:start="5:19" pos:end="5:25"><type ref="prev" pos:start="5:5" pos:end="5:7"/><name pos:start="5:19" pos:end="5:21">ret</name> <init pos:start="5:23" pos:end="5:25">= <expr pos:start="5:25" pos:end="5:25"><literal type="number" pos:start="5:25" pos:end="5:25">0</literal></expr></init></decl>, <decl pos:start="5:28" pos:end="5:28"><type ref="prev" pos:start="5:5" pos:end="5:7"/><name pos:start="5:28" pos:end="5:28">j</name></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:22"><decl pos:start="7:5" pos:end="7:21"><type pos:start="7:5" pos:end="7:11"><name pos:start="7:5" pos:end="7:11">int64_t</name></type> <name pos:start="7:13" pos:end="7:21">read_size</name></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:17"><decl pos:start="9:5" pos:end="9:16"><type pos:start="9:5" pos:end="9:14"><name pos:start="9:5" pos:end="9:12">AVStream</name> <modifier pos:start="9:14" pos:end="9:14">*</modifier></type><name pos:start="9:15" pos:end="9:16">st</name></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:24"><decl pos:start="11:5" pos:end="11:17"><type pos:start="11:5" pos:end="11:12"><name pos:start="11:5" pos:end="11:12">AVPacket</name></type> <name pos:start="11:14" pos:end="11:17">pkt1</name></decl>, <decl pos:start="11:20" pos:end="11:23"><type ref="prev" pos:start="11:5" pos:end="11:12"><modifier pos:start="11:20" pos:end="11:20">*</modifier></type><name pos:start="11:21" pos:end="11:23">pkt</name></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:43"><decl pos:start="13:5" pos:end="13:42"><type pos:start="13:5" pos:end="13:11"><name pos:start="13:5" pos:end="13:11">int64_t</name></type> <name pos:start="13:13" pos:end="13:22">old_offset</name> <init pos:start="13:24" pos:end="13:42">= <expr pos:start="13:26" pos:end="13:42"><call pos:start="13:26" pos:end="13:42"><name pos:start="13:26" pos:end="13:34">avio_tell</name><argument_list pos:start="13:35" pos:end="13:42">(<argument pos:start="13:36" pos:end="13:41"><expr pos:start="13:36" pos:end="13:41"><name pos:start="13:36" pos:end="13:41"><name pos:start="13:36" pos:end="13:37">ic</name><operator pos:start="13:38" pos:end="13:39">-&gt;</operator><name pos:start="13:40" pos:end="13:41">pb</name></name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="15:41"><decl pos:start="15:5" pos:end="15:40"><type pos:start="15:5" pos:end="15:7"><name pos:start="15:5" pos:end="15:7">int</name></type> <name pos:start="15:9" pos:end="15:23">orig_nb_streams</name> <init pos:start="15:25" pos:end="15:40">= <expr pos:start="15:27" pos:end="15:40"><name pos:start="15:27" pos:end="15:40"><name pos:start="15:27" pos:end="15:28">ic</name><operator pos:start="15:29" pos:end="15:30">-&gt;</operator><name pos:start="15:31" pos:end="15:40">nb_streams</name></name></expr></init></decl>;</decl_stmt>        <comment type="line" pos:start="15:50" pos:end="15:98">// new streams might appear, no options for those</comment>

    <decl_stmt pos:start="17:5" pos:end="17:41"><decl pos:start="17:5" pos:end="17:40"><type pos:start="17:5" pos:end="17:7"><name pos:start="17:5" pos:end="17:7">int</name></type> <name pos:start="17:9" pos:end="17:20">flush_codecs</name> <init pos:start="17:22" pos:end="17:40">= <expr pos:start="17:24" pos:end="17:40"><name pos:start="17:24" pos:end="17:36"><name pos:start="17:24" pos:end="17:25">ic</name><operator pos:start="17:26" pos:end="17:27">-&gt;</operator><name pos:start="17:28" pos:end="17:36">probesize</name></name> <operator pos:start="17:38" pos:end="17:38">&gt;</operator> <literal type="number" pos:start="17:40" pos:end="17:40">0</literal></expr></init></decl>;</decl_stmt>



    <if_stmt pos:start="21:5" pos:end="23:119"><if pos:start="21:5" pos:end="23:119">if<condition pos:start="21:7" pos:end="21:14">(<expr pos:start="21:8" pos:end="21:13"><name pos:start="21:8" pos:end="21:13"><name pos:start="21:8" pos:end="21:9">ic</name><operator pos:start="21:10" pos:end="21:11">-&gt;</operator><name pos:start="21:12" pos:end="21:13">pb</name></name></expr>)</condition><block type="pseudo" pos:start="23:9" pos:end="23:119"><block_content pos:start="23:9" pos:end="23:119">

        <expr_stmt pos:start="23:9" pos:end="23:119"><expr pos:start="23:9" pos:end="23:118"><call pos:start="23:9" pos:end="23:118"><name pos:start="23:9" pos:end="23:14">av_log</name><argument_list pos:start="23:15" pos:end="23:118">(<argument pos:start="23:16" pos:end="23:17"><expr pos:start="23:16" pos:end="23:17"><name pos:start="23:16" pos:end="23:17">ic</name></expr></argument>, <argument pos:start="23:20" pos:end="23:31"><expr pos:start="23:20" pos:end="23:31"><name pos:start="23:20" pos:end="23:31">AV_LOG_DEBUG</name></expr></argument>, <argument pos:start="23:34" pos:end="23:98"><expr pos:start="23:34" pos:end="23:98"><literal type="string" pos:start="23:34" pos:end="23:88">"File position before avformat_find_stream_info() is %"</literal><name pos:start="23:89" pos:end="23:94">PRId64</name><literal type="string" pos:start="23:95" pos:end="23:98">"\n"</literal></expr></argument>, <argument pos:start="23:101" pos:end="23:117"><expr pos:start="23:101" pos:end="23:117"><call pos:start="23:101" pos:end="23:117"><name pos:start="23:101" pos:end="23:109">avio_tell</name><argument_list pos:start="23:110" pos:end="23:117">(<argument pos:start="23:111" pos:end="23:116"><expr pos:start="23:111" pos:end="23:116"><name pos:start="23:111" pos:end="23:116"><name pos:start="23:111" pos:end="23:112">ic</name><operator pos:start="23:113" pos:end="23:114">-&gt;</operator><name pos:start="23:115" pos:end="23:116">pb</name></name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>



    <for pos:start="27:5" pos:end="123:5">for<control pos:start="27:8" pos:end="27:33">(<init pos:start="27:9" pos:end="27:12"><expr pos:start="27:9" pos:end="27:11"><name pos:start="27:9" pos:end="27:9">i</name><operator pos:start="27:10" pos:end="27:10">=</operator><literal type="number" pos:start="27:11" pos:end="27:11">0</literal></expr>;</init><condition pos:start="27:13" pos:end="27:29"><expr pos:start="27:13" pos:end="27:28"><name pos:start="27:13" pos:end="27:13">i</name><operator pos:start="27:14" pos:end="27:14">&lt;</operator><name pos:start="27:15" pos:end="27:28"><name pos:start="27:15" pos:end="27:16">ic</name><operator pos:start="27:17" pos:end="27:18">-&gt;</operator><name pos:start="27:19" pos:end="27:28">nb_streams</name></name></expr>;</condition><incr pos:start="27:30" pos:end="27:32"><expr pos:start="27:30" pos:end="27:32"><name pos:start="27:30" pos:end="27:30">i</name><operator pos:start="27:31" pos:end="27:32">++</operator></expr></incr>)</control> <block pos:start="27:35" pos:end="123:5">{<block_content pos:start="29:9" pos:end="121:38">

        <decl_stmt pos:start="29:9" pos:end="29:29"><decl pos:start="29:9" pos:end="29:28"><type pos:start="29:9" pos:end="29:23"><specifier pos:start="29:9" pos:end="29:13">const</specifier> <name pos:start="29:15" pos:end="29:21">AVCodec</name> <modifier pos:start="29:23" pos:end="29:23">*</modifier></type><name pos:start="29:24" pos:end="29:28">codec</name></decl>;</decl_stmt>

        <decl_stmt pos:start="31:9" pos:end="31:40"><decl pos:start="31:9" pos:end="31:39"><type pos:start="31:9" pos:end="31:22"><name pos:start="31:9" pos:end="31:20">AVDictionary</name> <modifier pos:start="31:22" pos:end="31:22">*</modifier></type><name pos:start="31:23" pos:end="31:32">thread_opt</name> <init pos:start="31:34" pos:end="31:39">= <expr pos:start="31:36" pos:end="31:39"><name pos:start="31:36" pos:end="31:39">NULL</name></expr></init></decl>;</decl_stmt>

        <expr_stmt pos:start="33:9" pos:end="33:28"><expr pos:start="33:9" pos:end="33:27"><name pos:start="33:9" pos:end="33:10">st</name> <operator pos:start="33:12" pos:end="33:12">=</operator> <name pos:start="33:14" pos:end="33:27"><name pos:start="33:14" pos:end="33:15">ic</name><operator pos:start="33:16" pos:end="33:17">-&gt;</operator><name pos:start="33:18" pos:end="33:24">streams</name><index pos:start="33:25" pos:end="33:27">[<expr pos:start="33:26" pos:end="33:26"><name pos:start="33:26" pos:end="33:26">i</name></expr>]</index></name></expr>;</expr_stmt>



        <if_stmt pos:start="37:9" pos:end="49:9"><if pos:start="37:9" pos:end="49:9">if <condition pos:start="37:12" pos:end="39:59">(<expr pos:start="37:13" pos:end="39:58"><name pos:start="37:13" pos:end="37:33"><name pos:start="37:13" pos:end="37:14">st</name><operator pos:start="37:15" pos:end="37:16">-&gt;</operator><name pos:start="37:17" pos:end="37:21">codec</name><operator pos:start="37:22" pos:end="37:23">-&gt;</operator><name pos:start="37:24" pos:end="37:33">codec_type</name></name> <operator pos:start="37:35" pos:end="37:36">==</operator> <name pos:start="37:38" pos:end="37:55">AVMEDIA_TYPE_VIDEO</name> <operator pos:start="37:57" pos:end="37:58">||</operator>

            <name pos:start="39:13" pos:end="39:33"><name pos:start="39:13" pos:end="39:14">st</name><operator pos:start="39:15" pos:end="39:16">-&gt;</operator><name pos:start="39:17" pos:end="39:21">codec</name><operator pos:start="39:22" pos:end="39:23">-&gt;</operator><name pos:start="39:24" pos:end="39:33">codec_type</name></name> <operator pos:start="39:35" pos:end="39:36">==</operator> <name pos:start="39:38" pos:end="39:58">AVMEDIA_TYPE_SUBTITLE</name></expr>)</condition> <block pos:start="39:61" pos:end="49:9">{<block_content pos:start="45:13" pos:end="47:52">

<comment type="block" pos:start="41:1" pos:end="43:33">/*            if(!st-&gt;time_base.num)

                st-&gt;time_base= */</comment>

            <if_stmt pos:start="45:13" pos:end="47:52"><if pos:start="45:13" pos:end="47:52">if<condition pos:start="45:15" pos:end="45:41">(<expr pos:start="45:16" pos:end="45:40"><operator pos:start="45:16" pos:end="45:16">!</operator><name pos:start="45:17" pos:end="45:40"><name pos:start="45:17" pos:end="45:18">st</name><operator pos:start="45:19" pos:end="45:20">-&gt;</operator><name pos:start="45:21" pos:end="45:25">codec</name><operator pos:start="45:26" pos:end="45:27">-&gt;</operator><name pos:start="45:28" pos:end="45:36">time_base</name><operator pos:start="45:37" pos:end="45:37">.</operator><name pos:start="45:38" pos:end="45:40">num</name></name></expr>)</condition><block type="pseudo" pos:start="47:17" pos:end="47:52"><block_content pos:start="47:17" pos:end="47:52">

                <expr_stmt pos:start="47:17" pos:end="47:52"><expr pos:start="47:17" pos:end="47:51"><name pos:start="47:17" pos:end="47:36"><name pos:start="47:17" pos:end="47:18">st</name><operator pos:start="47:19" pos:end="47:20">-&gt;</operator><name pos:start="47:21" pos:end="47:25">codec</name><operator pos:start="47:26" pos:end="47:27">-&gt;</operator><name pos:start="47:28" pos:end="47:36">time_base</name></name><operator pos:start="47:37" pos:end="47:37">=</operator> <name pos:start="47:39" pos:end="47:51"><name pos:start="47:39" pos:end="47:40">st</name><operator pos:start="47:41" pos:end="47:42">-&gt;</operator><name pos:start="47:43" pos:end="47:51">time_base</name></name></expr>;</expr_stmt></block_content></block></if></if_stmt>

        </block_content>}</block></if></if_stmt>

        <comment type="line" pos:start="51:9" pos:end="51:34">//only for the split stuff</comment>

        <if_stmt pos:start="53:9" pos:end="79:9"><if pos:start="53:9" pos:end="79:9">if <condition pos:start="53:12" pos:end="53:61">(<expr pos:start="53:13" pos:end="53:60"><operator pos:start="53:13" pos:end="53:13">!</operator><name pos:start="53:14" pos:end="53:23"><name pos:start="53:14" pos:end="53:15">st</name><operator pos:start="53:16" pos:end="53:17">-&gt;</operator><name pos:start="53:18" pos:end="53:23">parser</name></name> <operator pos:start="53:25" pos:end="53:26">&amp;&amp;</operator> <operator pos:start="53:28" pos:end="53:28">!</operator><operator pos:start="53:29" pos:end="53:29">(</operator><name pos:start="53:30" pos:end="53:38"><name pos:start="53:30" pos:end="53:31">ic</name><operator pos:start="53:32" pos:end="53:33">-&gt;</operator><name pos:start="53:34" pos:end="53:38">flags</name></name> <operator pos:start="53:40" pos:end="53:40">&amp;</operator> <name pos:start="53:42" pos:end="53:59">AVFMT_FLAG_NOPARSE</name><operator pos:start="53:60" pos:end="53:60">)</operator></expr>)</condition> <block pos:start="53:63" pos:end="79:9">{<block_content pos:start="55:13" pos:end="77:13">

            <expr_stmt pos:start="55:13" pos:end="55:61"><expr pos:start="55:13" pos:end="55:60"><name pos:start="55:13" pos:end="55:22"><name pos:start="55:13" pos:end="55:14">st</name><operator pos:start="55:15" pos:end="55:16">-&gt;</operator><name pos:start="55:17" pos:end="55:22">parser</name></name> <operator pos:start="55:24" pos:end="55:24">=</operator> <call pos:start="55:26" pos:end="55:60"><name pos:start="55:26" pos:end="55:39">av_parser_init</name><argument_list pos:start="55:40" pos:end="55:60">(<argument pos:start="55:41" pos:end="55:59"><expr pos:start="55:41" pos:end="55:59"><name pos:start="55:41" pos:end="55:59"><name pos:start="55:41" pos:end="55:42">st</name><operator pos:start="55:43" pos:end="55:44">-&gt;</operator><name pos:start="55:45" pos:end="55:49">codec</name><operator pos:start="55:50" pos:end="55:51">-&gt;</operator><name pos:start="55:52" pos:end="55:59">codec_id</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <if_stmt pos:start="57:13" pos:end="77:13"><if pos:start="57:13" pos:end="69:13">if<condition pos:start="57:15" pos:end="57:26">(<expr pos:start="57:16" pos:end="57:25"><name pos:start="57:16" pos:end="57:25"><name pos:start="57:16" pos:end="57:17">st</name><operator pos:start="57:18" pos:end="57:19">-&gt;</operator><name pos:start="57:20" pos:end="57:25">parser</name></name></expr>)</condition><block pos:start="57:27" pos:end="69:13">{<block_content pos:start="59:17" pos:end="67:17">

                <if_stmt pos:start="59:17" pos:end="67:17"><if pos:start="59:17" pos:end="63:17">if<condition pos:start="59:19" pos:end="59:62">(<expr pos:start="59:20" pos:end="59:61"><name pos:start="59:20" pos:end="59:35"><name pos:start="59:20" pos:end="59:21">st</name><operator pos:start="59:22" pos:end="59:23">-&gt;</operator><name pos:start="59:24" pos:end="59:35">need_parsing</name></name> <operator pos:start="59:37" pos:end="59:38">==</operator> <name pos:start="59:40" pos:end="59:61">AVSTREAM_PARSE_HEADERS</name></expr>)</condition><block pos:start="59:63" pos:end="63:17">{<block_content pos:start="61:21" pos:end="61:69">

                    <expr_stmt pos:start="61:21" pos:end="61:69"><expr pos:start="61:21" pos:end="61:68"><name pos:start="61:21" pos:end="61:37"><name pos:start="61:21" pos:end="61:22">st</name><operator pos:start="61:23" pos:end="61:24">-&gt;</operator><name pos:start="61:25" pos:end="61:30">parser</name><operator pos:start="61:31" pos:end="61:32">-&gt;</operator><name pos:start="61:33" pos:end="61:37">flags</name></name> <operator pos:start="61:39" pos:end="61:40">|=</operator> <name pos:start="61:42" pos:end="61:68">PARSER_FLAG_COMPLETE_FRAMES</name></expr>;</expr_stmt>

                </block_content>}</block></if> <if type="elseif" pos:start="63:19" pos:end="67:17">else if<condition pos:start="63:26" pos:end="63:70">(<expr pos:start="63:27" pos:end="63:69"><name pos:start="63:27" pos:end="63:42"><name pos:start="63:27" pos:end="63:28">st</name><operator pos:start="63:29" pos:end="63:30">-&gt;</operator><name pos:start="63:31" pos:end="63:42">need_parsing</name></name> <operator pos:start="63:44" pos:end="63:45">==</operator> <name pos:start="63:47" pos:end="63:69">AVSTREAM_PARSE_FULL_RAW</name></expr>)</condition> <block pos:start="63:72" pos:end="67:17">{<block_content pos:start="65:21" pos:end="65:66">

                    <expr_stmt pos:start="65:21" pos:end="65:66"><expr pos:start="65:21" pos:end="65:65"><name pos:start="65:21" pos:end="65:37"><name pos:start="65:21" pos:end="65:22">st</name><operator pos:start="65:23" pos:end="65:24">-&gt;</operator><name pos:start="65:25" pos:end="65:30">parser</name><operator pos:start="65:31" pos:end="65:32">-&gt;</operator><name pos:start="65:33" pos:end="65:37">flags</name></name> <operator pos:start="65:39" pos:end="65:40">|=</operator> <name pos:start="65:42" pos:end="65:65">PARSER_FLAG_USE_CODEC_TS</name></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

            </block_content>}</block></if> <if type="elseif" pos:start="69:15" pos:end="77:13">else if <condition pos:start="69:23" pos:end="69:40">(<expr pos:start="69:24" pos:end="69:39"><name pos:start="69:24" pos:end="69:39"><name pos:start="69:24" pos:end="69:25">st</name><operator pos:start="69:26" pos:end="69:27">-&gt;</operator><name pos:start="69:28" pos:end="69:39">need_parsing</name></name></expr>)</condition> <block pos:start="69:42" pos:end="77:13">{<block_content pos:start="71:17" pos:end="75:62">

                <expr_stmt pos:start="71:17" pos:end="75:62"><expr pos:start="71:17" pos:end="75:61"><call pos:start="71:17" pos:end="75:61"><name pos:start="71:17" pos:end="71:22">av_log</name><argument_list pos:start="71:23" pos:end="75:61">(<argument pos:start="71:24" pos:end="71:25"><expr pos:start="71:24" pos:end="71:25"><name pos:start="71:24" pos:end="71:25">ic</name></expr></argument>, <argument pos:start="71:28" pos:end="71:41"><expr pos:start="71:28" pos:end="71:41"><name pos:start="71:28" pos:end="71:41">AV_LOG_VERBOSE</name></expr></argument>, <argument pos:start="71:44" pos:end="73:63"><expr pos:start="71:44" pos:end="73:63"><literal type="string" pos:start="71:44" pos:end="71:72">"parser not found for codec "</literal>

                       <literal type="string" pos:start="73:24" pos:end="73:63">"%s, packets or times may be invalid.\n"</literal></expr></argument>,

                       <argument pos:start="75:24" pos:end="75:60"><expr pos:start="75:24" pos:end="75:60"><call pos:start="75:24" pos:end="75:60"><name pos:start="75:24" pos:end="75:39">avcodec_get_name</name><argument_list pos:start="75:40" pos:end="75:60">(<argument pos:start="75:41" pos:end="75:59"><expr pos:start="75:41" pos:end="75:59"><name pos:start="75:41" pos:end="75:59"><name pos:start="75:41" pos:end="75:42">st</name><operator pos:start="75:43" pos:end="75:44">-&gt;</operator><name pos:start="75:45" pos:end="75:49">codec</name><operator pos:start="75:50" pos:end="75:51">-&gt;</operator><name pos:start="75:52" pos:end="75:59">codec_id</name></name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>

        </block_content>}</block></if></if_stmt>

        <expr_stmt pos:start="81:9" pos:end="83:77"><expr pos:start="81:9" pos:end="83:76"><name pos:start="81:9" pos:end="81:13">codec</name> <operator pos:start="81:15" pos:end="81:15">=</operator> <ternary pos:start="81:17" pos:end="83:76"><condition pos:start="81:17" pos:end="81:34"><expr pos:start="81:17" pos:end="81:32"><name pos:start="81:17" pos:end="81:32"><name pos:start="81:17" pos:end="81:18">st</name><operator pos:start="81:19" pos:end="81:20">-&gt;</operator><name pos:start="81:21" pos:end="81:25">codec</name><operator pos:start="81:26" pos:end="81:27">-&gt;</operator><name pos:start="81:28" pos:end="81:32">codec</name></name></expr> ?</condition><then pos:start="81:36" pos:end="81:51"> <expr pos:start="81:36" pos:end="81:51"><name pos:start="81:36" pos:end="81:51"><name pos:start="81:36" pos:end="81:37">st</name><operator pos:start="81:38" pos:end="81:39">-&gt;</operator><name pos:start="81:40" pos:end="81:44">codec</name><operator pos:start="81:45" pos:end="81:46">-&gt;</operator><name pos:start="81:47" pos:end="81:51">codec</name></name></expr> </then><else pos:start="81:53" pos:end="83:76">:

                                   <expr pos:start="83:36" pos:end="83:76"><call pos:start="83:36" pos:end="83:76"><name pos:start="83:36" pos:end="83:55">avcodec_find_decoder</name><argument_list pos:start="83:56" pos:end="83:76">(<argument pos:start="83:57" pos:end="83:75"><expr pos:start="83:57" pos:end="83:75"><name pos:start="83:57" pos:end="83:75"><name pos:start="83:57" pos:end="83:58">st</name><operator pos:start="83:59" pos:end="83:60">-&gt;</operator><name pos:start="83:61" pos:end="83:65">codec</name><operator pos:start="83:66" pos:end="83:67">-&gt;</operator><name pos:start="83:68" pos:end="83:75">codec_id</name></name></expr></argument>)</argument_list></call></expr></else></ternary></expr>;</expr_stmt>



        <comment type="block" pos:start="87:9" pos:end="89:66">/* force thread count to 1 since the h264 decoder will not extract SPS

         *  and PPS to extradata during multi-threaded decoding */</comment>

        <expr_stmt pos:start="91:9" pos:end="91:76"><expr pos:start="91:9" pos:end="91:75"><call pos:start="91:9" pos:end="91:75"><name pos:start="91:9" pos:end="91:19">av_dict_set</name><argument_list pos:start="91:20" pos:end="91:75">(<argument pos:start="91:21" pos:end="91:55"><expr pos:start="91:21" pos:end="91:55"><ternary pos:start="91:21" pos:end="91:55"><condition pos:start="91:21" pos:end="91:29"><expr pos:start="91:21" pos:end="91:27"><name pos:start="91:21" pos:end="91:27">options</name></expr> ?</condition><then pos:start="91:31" pos:end="91:41"> <expr pos:start="91:31" pos:end="91:41"><operator pos:start="91:31" pos:end="91:31">&amp;</operator><name pos:start="91:32" pos:end="91:41"><name pos:start="91:32" pos:end="91:38">options</name><index pos:start="91:39" pos:end="91:41">[<expr pos:start="91:40" pos:end="91:40"><name pos:start="91:40" pos:end="91:40">i</name></expr>]</index></name></expr> </then><else pos:start="91:43" pos:end="91:55">: <expr pos:start="91:45" pos:end="91:55"><operator pos:start="91:45" pos:end="91:45">&amp;</operator><name pos:start="91:46" pos:end="91:55">thread_opt</name></expr></else></ternary></expr></argument>, <argument pos:start="91:58" pos:end="91:66"><expr pos:start="91:58" pos:end="91:66"><literal type="string" pos:start="91:58" pos:end="91:66">"threads"</literal></expr></argument>, <argument pos:start="91:69" pos:end="91:71"><expr pos:start="91:69" pos:end="91:71"><literal type="string" pos:start="91:69" pos:end="91:71">"1"</literal></expr></argument>, <argument pos:start="91:74" pos:end="91:74"><expr pos:start="91:74" pos:end="91:74"><literal type="number" pos:start="91:74" pos:end="91:74">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <comment type="block" pos:start="95:9" pos:end="95:58">/* Ensure that subtitle_header is properly set. */</comment>

        <if_stmt pos:start="97:9" pos:end="103:45"><if pos:start="97:9" pos:end="103:45">if <condition pos:start="97:12" pos:end="99:42">(<expr pos:start="97:13" pos:end="99:41"><name pos:start="97:13" pos:end="97:33"><name pos:start="97:13" pos:end="97:14">st</name><operator pos:start="97:15" pos:end="97:16">-&gt;</operator><name pos:start="97:17" pos:end="97:21">codec</name><operator pos:start="97:22" pos:end="97:23">-&gt;</operator><name pos:start="97:24" pos:end="97:33">codec_type</name></name> <operator pos:start="97:35" pos:end="97:36">==</operator> <name pos:start="97:38" pos:end="97:58">AVMEDIA_TYPE_SUBTITLE</name>

            <operator pos:start="99:13" pos:end="99:14">&amp;&amp;</operator> <name pos:start="99:16" pos:end="99:20">codec</name> <operator pos:start="99:22" pos:end="99:23">&amp;&amp;</operator> <operator pos:start="99:25" pos:end="99:25">!</operator><name pos:start="99:26" pos:end="99:41"><name pos:start="99:26" pos:end="99:27">st</name><operator pos:start="99:28" pos:end="99:29">-&gt;</operator><name pos:start="99:30" pos:end="99:34">codec</name><operator pos:start="99:35" pos:end="99:36">-&gt;</operator><name pos:start="99:37" pos:end="99:41">codec</name></name></expr>)</condition><block type="pseudo" pos:start="101:13" pos:end="103:45"><block_content pos:start="101:13" pos:end="103:45">

            <expr_stmt pos:start="101:13" pos:end="103:45"><expr pos:start="101:13" pos:end="103:44"><call pos:start="101:13" pos:end="103:44"><name pos:start="101:13" pos:end="101:25">avcodec_open2</name><argument_list pos:start="101:26" pos:end="103:44">(<argument pos:start="101:27" pos:end="101:35"><expr pos:start="101:27" pos:end="101:35"><name pos:start="101:27" pos:end="101:35"><name pos:start="101:27" pos:end="101:28">st</name><operator pos:start="101:29" pos:end="101:30">-&gt;</operator><name pos:start="101:31" pos:end="101:35">codec</name></name></expr></argument>, <argument pos:start="101:38" pos:end="101:42"><expr pos:start="101:38" pos:end="101:42"><name pos:start="101:38" pos:end="101:42">codec</name></expr></argument>, <argument pos:start="101:45" pos:end="103:43"><expr pos:start="101:45" pos:end="103:43"><ternary pos:start="101:45" pos:end="103:43"><condition pos:start="101:45" pos:end="101:53"><expr pos:start="101:45" pos:end="101:51"><name pos:start="101:45" pos:end="101:51">options</name></expr> ?</condition><then pos:start="101:55" pos:end="101:65"> <expr pos:start="101:55" pos:end="101:65"><operator pos:start="101:55" pos:end="101:55">&amp;</operator><name pos:start="101:56" pos:end="101:65"><name pos:start="101:56" pos:end="101:62">options</name><index pos:start="101:63" pos:end="101:65">[<expr pos:start="101:64" pos:end="101:64"><name pos:start="101:64" pos:end="101:64">i</name></expr>]</index></name></expr>

                              </then><else pos:start="103:31" pos:end="103:43">: <expr pos:start="103:33" pos:end="103:43"><operator pos:start="103:33" pos:end="103:33">&amp;</operator><name pos:start="103:34" pos:end="103:43">thread_opt</name></expr></else></ternary></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>



        <comment type="line" pos:start="107:9" pos:end="107:77">//try to just open decoders, in case this is enough to get parameters</comment>

        <if_stmt pos:start="109:9" pos:end="117:9"><if pos:start="109:9" pos:end="117:9">if <condition pos:start="109:12" pos:end="109:70">(<expr pos:start="109:13" pos:end="109:69"><operator pos:start="109:13" pos:end="109:13">!</operator><call pos:start="109:14" pos:end="109:43"><name pos:start="109:14" pos:end="109:33">has_codec_parameters</name><argument_list pos:start="109:34" pos:end="109:43">(<argument pos:start="109:35" pos:end="109:36"><expr pos:start="109:35" pos:end="109:36"><name pos:start="109:35" pos:end="109:36">st</name></expr></argument>, <argument pos:start="109:39" pos:end="109:42"><expr pos:start="109:39" pos:end="109:42"><name pos:start="109:39" pos:end="109:42">NULL</name></expr></argument>)</argument_list></call> <operator pos:start="109:45" pos:end="109:46">&amp;&amp;</operator> <name pos:start="109:48" pos:end="109:64"><name pos:start="109:48" pos:end="109:49">st</name><operator pos:start="109:50" pos:end="109:51">-&gt;</operator><name pos:start="109:52" pos:end="109:64">request_probe</name></name> <operator pos:start="109:66" pos:end="109:67">&lt;=</operator> <literal type="number" pos:start="109:69" pos:end="109:69">0</literal></expr>)</condition> <block pos:start="109:72" pos:end="117:9">{<block_content pos:start="111:13" pos:end="115:45">

            <if_stmt pos:start="111:13" pos:end="115:45"><if pos:start="111:13" pos:end="115:45">if <condition pos:start="111:16" pos:end="111:43">(<expr pos:start="111:17" pos:end="111:42"><name pos:start="111:17" pos:end="111:21">codec</name> <operator pos:start="111:23" pos:end="111:24">&amp;&amp;</operator> <operator pos:start="111:26" pos:end="111:26">!</operator><name pos:start="111:27" pos:end="111:42"><name pos:start="111:27" pos:end="111:28">st</name><operator pos:start="111:29" pos:end="111:30">-&gt;</operator><name pos:start="111:31" pos:end="111:35">codec</name><operator pos:start="111:36" pos:end="111:37">-&gt;</operator><name pos:start="111:38" pos:end="111:42">codec</name></name></expr>)</condition><block type="pseudo" pos:start="113:17" pos:end="115:45"><block_content pos:start="113:17" pos:end="115:45">

                <expr_stmt pos:start="113:17" pos:end="115:45"><expr pos:start="113:17" pos:end="115:44"><call pos:start="113:17" pos:end="115:44"><name pos:start="113:17" pos:end="113:29">avcodec_open2</name><argument_list pos:start="113:30" pos:end="115:44">(<argument pos:start="113:31" pos:end="113:39"><expr pos:start="113:31" pos:end="113:39"><name pos:start="113:31" pos:end="113:39"><name pos:start="113:31" pos:end="113:32">st</name><operator pos:start="113:33" pos:end="113:34">-&gt;</operator><name pos:start="113:35" pos:end="113:39">codec</name></name></expr></argument>, <argument pos:start="113:42" pos:end="113:46"><expr pos:start="113:42" pos:end="113:46"><name pos:start="113:42" pos:end="113:46">codec</name></expr></argument>, <argument pos:start="113:49" pos:end="115:43"><expr pos:start="113:49" pos:end="115:43"><ternary pos:start="113:49" pos:end="115:43"><condition pos:start="113:49" pos:end="113:57"><expr pos:start="113:49" pos:end="113:55"><name pos:start="113:49" pos:end="113:55">options</name></expr> ?</condition><then pos:start="113:59" pos:end="113:69"> <expr pos:start="113:59" pos:end="113:69"><operator pos:start="113:59" pos:end="113:59">&amp;</operator><name pos:start="113:60" pos:end="113:69"><name pos:start="113:60" pos:end="113:66">options</name><index pos:start="113:67" pos:end="113:69">[<expr pos:start="113:68" pos:end="113:68"><name pos:start="113:68" pos:end="113:68">i</name></expr>]</index></name></expr>

                              </then><else pos:start="115:31" pos:end="115:43">: <expr pos:start="115:33" pos:end="115:43"><operator pos:start="115:33" pos:end="115:33">&amp;</operator><name pos:start="115:34" pos:end="115:43">thread_opt</name></expr></else></ternary></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

        </block_content>}</block></if></if_stmt>

        <if_stmt pos:start="119:9" pos:end="121:38"><if pos:start="119:9" pos:end="121:38">if <condition pos:start="119:12" pos:end="119:21">(<expr pos:start="119:13" pos:end="119:20"><operator pos:start="119:13" pos:end="119:13">!</operator><name pos:start="119:14" pos:end="119:20">options</name></expr>)</condition><block type="pseudo" pos:start="121:13" pos:end="121:38"><block_content pos:start="121:13" pos:end="121:38">

            <expr_stmt pos:start="121:13" pos:end="121:38"><expr pos:start="121:13" pos:end="121:37"><call pos:start="121:13" pos:end="121:37"><name pos:start="121:13" pos:end="121:24">av_dict_free</name><argument_list pos:start="121:25" pos:end="121:37">(<argument pos:start="121:26" pos:end="121:36"><expr pos:start="121:26" pos:end="121:36"><operator pos:start="121:26" pos:end="121:26">&amp;</operator><name pos:start="121:27" pos:end="121:36">thread_opt</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

    </block_content>}</block></for>



    <for pos:start="127:5" pos:end="139:5">for <control pos:start="127:9" pos:end="127:36">(<init pos:start="127:10" pos:end="127:13"><expr pos:start="127:10" pos:end="127:12"><name pos:start="127:10" pos:end="127:10">i</name><operator pos:start="127:11" pos:end="127:11">=</operator><literal type="number" pos:start="127:12" pos:end="127:12">0</literal></expr>;</init> <condition pos:start="127:15" pos:end="127:31"><expr pos:start="127:15" pos:end="127:30"><name pos:start="127:15" pos:end="127:15">i</name><operator pos:start="127:16" pos:end="127:16">&lt;</operator><name pos:start="127:17" pos:end="127:30"><name pos:start="127:17" pos:end="127:18">ic</name><operator pos:start="127:19" pos:end="127:20">-&gt;</operator><name pos:start="127:21" pos:end="127:30">nb_streams</name></name></expr>;</condition> <incr pos:start="127:33" pos:end="127:35"><expr pos:start="127:33" pos:end="127:35"><name pos:start="127:33" pos:end="127:33">i</name><operator pos:start="127:34" pos:end="127:35">++</operator></expr></incr>)</control> <block pos:start="127:38" pos:end="139:5">{<block_content pos:start="131:9" pos:end="137:61">

<cpp:if pos:start="129:1" pos:end="129:23">#<cpp:directive pos:start="129:2" pos:end="129:3">if</cpp:directive> <expr pos:start="129:5" pos:end="129:23"><name pos:start="129:5" pos:end="129:23">FF_API_R_FRAME_RATE</name></expr></cpp:if>

        <expr_stmt pos:start="131:9" pos:end="134:0"><expr pos:start="131:9" pos:end="131:55"><name pos:start="131:9" pos:end="131:22"><name pos:start="131:9" pos:end="131:10">ic</name><operator pos:start="131:11" pos:end="131:12">-&gt;</operator><name pos:start="131:13" pos:end="131:19">streams</name><index pos:start="131:20" pos:end="131:22">[<expr pos:start="131:21" pos:end="131:21"><name pos:start="131:21" pos:end="131:21">i</name></expr>]</index></name><operator pos:start="131:23" pos:end="131:24">-&gt;</operator><name pos:start="131:25" pos:end="131:38"><name pos:start="131:25" pos:end="131:28">info</name><operator pos:start="131:29" pos:end="131:30">-&gt;</operator><name pos:start="131:31" pos:end="131:38">last_dts</name></name> <operator pos:start="131:40" pos:end="131:40">=</operator> <name pos:start="131:42" pos:end="131:55">AV_NOPTS_VALUE</name></expr>;</expr_stmt>

<cpp:endif pos:start="133:1" pos:end="133:6">#<cpp:directive pos:start="133:2" pos:end="133:6">endif</cpp:directive></cpp:endif>

        <expr_stmt pos:start="135:9" pos:end="135:61"><expr pos:start="135:9" pos:end="135:60"><name pos:start="135:9" pos:end="135:22"><name pos:start="135:9" pos:end="135:10">ic</name><operator pos:start="135:11" pos:end="135:12">-&gt;</operator><name pos:start="135:13" pos:end="135:19">streams</name><index pos:start="135:20" pos:end="135:22">[<expr pos:start="135:21" pos:end="135:21"><name pos:start="135:21" pos:end="135:21">i</name></expr>]</index></name><operator pos:start="135:23" pos:end="135:24">-&gt;</operator><name pos:start="135:25" pos:end="135:43"><name pos:start="135:25" pos:end="135:28">info</name><operator pos:start="135:29" pos:end="135:30">-&gt;</operator><name pos:start="135:31" pos:end="135:43">fps_first_dts</name></name> <operator pos:start="135:45" pos:end="135:45">=</operator> <name pos:start="135:47" pos:end="135:60">AV_NOPTS_VALUE</name></expr>;</expr_stmt>

        <expr_stmt pos:start="137:9" pos:end="137:61"><expr pos:start="137:9" pos:end="137:60"><name pos:start="137:9" pos:end="137:22"><name pos:start="137:9" pos:end="137:10">ic</name><operator pos:start="137:11" pos:end="137:12">-&gt;</operator><name pos:start="137:13" pos:end="137:19">streams</name><index pos:start="137:20" pos:end="137:22">[<expr pos:start="137:21" pos:end="137:21"><name pos:start="137:21" pos:end="137:21">i</name></expr>]</index></name><operator pos:start="137:23" pos:end="137:24">-&gt;</operator><name pos:start="137:25" pos:end="137:42"><name pos:start="137:25" pos:end="137:28">info</name><operator pos:start="137:29" pos:end="137:30">-&gt;</operator><name pos:start="137:31" pos:end="137:42">fps_last_dts</name></name>  <operator pos:start="137:45" pos:end="137:45">=</operator> <name pos:start="137:47" pos:end="137:60">AV_NOPTS_VALUE</name></expr>;</expr_stmt>

    </block_content>}</block></for>



    <expr_stmt pos:start="143:5" pos:end="143:14"><expr pos:start="143:5" pos:end="143:13"><name pos:start="143:5" pos:end="143:9">count</name> <operator pos:start="143:11" pos:end="143:11">=</operator> <literal type="number" pos:start="143:13" pos:end="143:13">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="145:5" pos:end="145:18"><expr pos:start="145:5" pos:end="145:17"><name pos:start="145:5" pos:end="145:13">read_size</name> <operator pos:start="145:15" pos:end="145:15">=</operator> <literal type="number" pos:start="145:17" pos:end="145:17">0</literal></expr>;</expr_stmt>

    <for pos:start="147:5" pos:end="543:5">for<control pos:start="147:8" pos:end="147:11">(<init pos:start="147:9" pos:end="147:9">;</init><condition pos:start="147:10" pos:end="147:10">;</condition><incr/>)</control> <block pos:start="147:13" pos:end="543:5">{<block_content pos:start="149:9" pos:end="541:16">

        <if_stmt pos:start="149:9" pos:end="157:9"><if pos:start="149:9" pos:end="157:9">if <condition pos:start="149:12" pos:end="149:56">(<expr pos:start="149:13" pos:end="149:55"><call pos:start="149:13" pos:end="149:55"><name pos:start="149:13" pos:end="149:30">ff_check_interrupt</name><argument_list pos:start="149:31" pos:end="149:55">(<argument pos:start="149:32" pos:end="149:54"><expr pos:start="149:32" pos:end="149:54"><operator pos:start="149:32" pos:end="149:32">&amp;</operator><name pos:start="149:33" pos:end="149:54"><name pos:start="149:33" pos:end="149:34">ic</name><operator pos:start="149:35" pos:end="149:36">-&gt;</operator><name pos:start="149:37" pos:end="149:54">interrupt_callback</name></name></expr></argument>)</argument_list></call></expr>)</condition><block pos:start="149:57" pos:end="157:9">{<block_content pos:start="151:13" pos:end="155:18">

            <expr_stmt pos:start="151:13" pos:end="151:30"><expr pos:start="151:13" pos:end="151:29"><name pos:start="151:13" pos:end="151:15">ret</name><operator pos:start="151:16" pos:end="151:16">=</operator> <name pos:start="151:18" pos:end="151:29">AVERROR_EXIT</name></expr>;</expr_stmt>

            <expr_stmt pos:start="153:13" pos:end="153:54"><expr pos:start="153:13" pos:end="153:53"><call pos:start="153:13" pos:end="153:53"><name pos:start="153:13" pos:end="153:18">av_log</name><argument_list pos:start="153:19" pos:end="153:53">(<argument pos:start="153:20" pos:end="153:21"><expr pos:start="153:20" pos:end="153:21"><name pos:start="153:20" pos:end="153:21">ic</name></expr></argument>, <argument pos:start="153:24" pos:end="153:35"><expr pos:start="153:24" pos:end="153:35"><name pos:start="153:24" pos:end="153:35">AV_LOG_DEBUG</name></expr></argument>, <argument pos:start="153:38" pos:end="153:52"><expr pos:start="153:38" pos:end="153:52"><literal type="string" pos:start="153:38" pos:end="153:52">"interrupted\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <break pos:start="155:13" pos:end="155:18">break;</break>

        </block_content>}</block></if></if_stmt>



        <comment type="block" pos:start="161:9" pos:end="161:58">/* check if one codec still needs to be handled */</comment>

        <for pos:start="163:9" pos:end="215:9">for<control pos:start="163:12" pos:end="163:37">(<init pos:start="163:13" pos:end="163:16"><expr pos:start="163:13" pos:end="163:15"><name pos:start="163:13" pos:end="163:13">i</name><operator pos:start="163:14" pos:end="163:14">=</operator><literal type="number" pos:start="163:15" pos:end="163:15">0</literal></expr>;</init><condition pos:start="163:17" pos:end="163:33"><expr pos:start="163:17" pos:end="163:32"><name pos:start="163:17" pos:end="163:17">i</name><operator pos:start="163:18" pos:end="163:18">&lt;</operator><name pos:start="163:19" pos:end="163:32"><name pos:start="163:19" pos:end="163:20">ic</name><operator pos:start="163:21" pos:end="163:22">-&gt;</operator><name pos:start="163:23" pos:end="163:32">nb_streams</name></name></expr>;</condition><incr pos:start="163:34" pos:end="163:36"><expr pos:start="163:34" pos:end="163:36"><name pos:start="163:34" pos:end="163:34">i</name><operator pos:start="163:35" pos:end="163:36">++</operator></expr></incr>)</control> <block pos:start="163:39" pos:end="215:9">{<block_content pos:start="165:13" pos:end="213:22">

            <decl_stmt pos:start="165:13" pos:end="165:44"><decl pos:start="165:13" pos:end="165:43"><type pos:start="165:13" pos:end="165:15"><name pos:start="165:13" pos:end="165:15">int</name></type> <name pos:start="165:17" pos:end="165:38">fps_analyze_framecount</name> <init pos:start="165:40" pos:end="165:43">= <expr pos:start="165:42" pos:end="165:43"><literal type="number" pos:start="165:42" pos:end="165:43">20</literal></expr></init></decl>;</decl_stmt>



            <expr_stmt pos:start="169:13" pos:end="169:32"><expr pos:start="169:13" pos:end="169:31"><name pos:start="169:13" pos:end="169:14">st</name> <operator pos:start="169:16" pos:end="169:16">=</operator> <name pos:start="169:18" pos:end="169:31"><name pos:start="169:18" pos:end="169:19">ic</name><operator pos:start="169:20" pos:end="169:21">-&gt;</operator><name pos:start="169:22" pos:end="169:28">streams</name><index pos:start="169:29" pos:end="169:31">[<expr pos:start="169:30" pos:end="169:30"><name pos:start="169:30" pos:end="169:30">i</name></expr>]</index></name></expr>;</expr_stmt>

            <if_stmt pos:start="171:13" pos:end="173:22"><if pos:start="171:13" pos:end="173:22">if <condition pos:start="171:16" pos:end="171:48">(<expr pos:start="171:17" pos:end="171:47"><operator pos:start="171:17" pos:end="171:17">!</operator><call pos:start="171:18" pos:end="171:47"><name pos:start="171:18" pos:end="171:37">has_codec_parameters</name><argument_list pos:start="171:38" pos:end="171:47">(<argument pos:start="171:39" pos:end="171:40"><expr pos:start="171:39" pos:end="171:40"><name pos:start="171:39" pos:end="171:40">st</name></expr></argument>, <argument pos:start="171:43" pos:end="171:46"><expr pos:start="171:43" pos:end="171:46"><name pos:start="171:43" pos:end="171:46">NULL</name></expr></argument>)</argument_list></call></expr>)</condition><block type="pseudo" pos:start="173:17" pos:end="173:22"><block_content pos:start="173:17" pos:end="173:22">

                <break pos:start="173:17" pos:end="173:22">break;</break></block_content></block></if></if_stmt>

            <comment type="block" pos:start="175:13" pos:end="179:33">/* if the timebase is coarse (like the usual millisecond precision

               of mkv), we need to analyze more frames to reliably arrive at

               the correct fps */</comment>

            <if_stmt pos:start="181:13" pos:end="183:44"><if pos:start="181:13" pos:end="183:44">if <condition pos:start="181:16" pos:end="181:47">(<expr pos:start="181:17" pos:end="181:46"><call pos:start="181:17" pos:end="181:37"><name pos:start="181:17" pos:end="181:22">av_q2d</name><argument_list pos:start="181:23" pos:end="181:37">(<argument pos:start="181:24" pos:end="181:36"><expr pos:start="181:24" pos:end="181:36"><name pos:start="181:24" pos:end="181:36"><name pos:start="181:24" pos:end="181:25">st</name><operator pos:start="181:26" pos:end="181:27">-&gt;</operator><name pos:start="181:28" pos:end="181:36">time_base</name></name></expr></argument>)</argument_list></call> <operator pos:start="181:39" pos:end="181:39">&gt;</operator> <literal type="number" pos:start="181:41" pos:end="181:46">0.0005</literal></expr>)</condition><block type="pseudo" pos:start="183:17" pos:end="183:44"><block_content pos:start="183:17" pos:end="183:44">

                <expr_stmt pos:start="183:17" pos:end="183:44"><expr pos:start="183:17" pos:end="183:43"><name pos:start="183:17" pos:end="183:38">fps_analyze_framecount</name> <operator pos:start="183:40" pos:end="183:41">*=</operator> <literal type="number" pos:start="183:43" pos:end="183:43">2</literal></expr>;</expr_stmt></block_content></block></if></if_stmt>

            <if_stmt pos:start="185:13" pos:end="187:60"><if pos:start="185:13" pos:end="187:60">if <condition pos:start="185:16" pos:end="185:40">(<expr pos:start="185:17" pos:end="185:39"><name pos:start="185:17" pos:end="185:34"><name pos:start="185:17" pos:end="185:18">ic</name><operator pos:start="185:19" pos:end="185:20">-&gt;</operator><name pos:start="185:21" pos:end="185:34">fps_probe_size</name></name> <operator pos:start="185:36" pos:end="185:37">&gt;=</operator> <literal type="number" pos:start="185:39" pos:end="185:39">0</literal></expr>)</condition><block type="pseudo" pos:start="187:17" pos:end="187:60"><block_content pos:start="187:17" pos:end="187:60">

                <expr_stmt pos:start="187:17" pos:end="187:60"><expr pos:start="187:17" pos:end="187:59"><name pos:start="187:17" pos:end="187:38">fps_analyze_framecount</name> <operator pos:start="187:40" pos:end="187:40">=</operator> <name pos:start="187:42" pos:end="187:59"><name pos:start="187:42" pos:end="187:43">ic</name><operator pos:start="187:44" pos:end="187:45">-&gt;</operator><name pos:start="187:46" pos:end="187:59">fps_probe_size</name></name></expr>;</expr_stmt></block_content></block></if></if_stmt>

            <if_stmt pos:start="189:13" pos:end="191:43"><if pos:start="189:13" pos:end="191:43">if <condition pos:start="189:16" pos:end="189:62">(<expr pos:start="189:17" pos:end="189:61"><name pos:start="189:17" pos:end="189:31"><name pos:start="189:17" pos:end="189:18">st</name><operator pos:start="189:19" pos:end="189:20">-&gt;</operator><name pos:start="189:21" pos:end="189:31">disposition</name></name> <operator pos:start="189:33" pos:end="189:33">&amp;</operator> <name pos:start="189:35" pos:end="189:61">AV_DISPOSITION_ATTACHED_PIC</name></expr>)</condition><block type="pseudo" pos:start="191:17" pos:end="191:43"><block_content pos:start="191:17" pos:end="191:43">

                <expr_stmt pos:start="191:17" pos:end="191:43"><expr pos:start="191:17" pos:end="191:42"><name pos:start="191:17" pos:end="191:38">fps_analyze_framecount</name> <operator pos:start="191:40" pos:end="191:40">=</operator> <literal type="number" pos:start="191:42" pos:end="191:42">0</literal></expr>;</expr_stmt></block_content></block></if></if_stmt>

            <comment type="block" pos:start="193:13" pos:end="193:59">/* variable fps and no guess at the real fps */</comment>

            <if_stmt pos:start="195:13" pos:end="201:22"><if pos:start="195:13" pos:end="201:22">if<condition pos:start="195:15" pos:end="199:62">(   <expr pos:start="195:19" pos:end="199:61"><call pos:start="195:19" pos:end="195:42"><name pos:start="195:19" pos:end="195:31">tb_unreliable</name><argument_list pos:start="195:32" pos:end="195:42">(<argument pos:start="195:33" pos:end="195:41"><expr pos:start="195:33" pos:end="195:41"><name pos:start="195:33" pos:end="195:41"><name pos:start="195:33" pos:end="195:34">st</name><operator pos:start="195:35" pos:end="195:36">-&gt;</operator><name pos:start="195:37" pos:end="195:41">codec</name></name></expr></argument>)</argument_list></call> <operator pos:start="195:44" pos:end="195:45">&amp;&amp;</operator> <operator pos:start="195:47" pos:end="195:47">!</operator><operator pos:start="195:48" pos:end="195:48">(</operator><name pos:start="195:49" pos:end="195:68"><name pos:start="195:49" pos:end="195:50">st</name><operator pos:start="195:51" pos:end="195:52">-&gt;</operator><name pos:start="195:53" pos:end="195:64">r_frame_rate</name><operator pos:start="195:65" pos:end="195:65">.</operator><name pos:start="195:66" pos:end="195:68">num</name></name> <operator pos:start="195:70" pos:end="195:71">&amp;&amp;</operator> <name pos:start="195:73" pos:end="195:94"><name pos:start="195:73" pos:end="195:74">st</name><operator pos:start="195:75" pos:end="195:76">-&gt;</operator><name pos:start="195:77" pos:end="195:90">avg_frame_rate</name><operator pos:start="195:91" pos:end="195:91">.</operator><name pos:start="195:92" pos:end="195:94">num</name></name><operator pos:start="195:95" pos:end="195:95">)</operator>

               <operator pos:start="197:16" pos:end="197:17">&amp;&amp;</operator> <name pos:start="197:19" pos:end="197:42"><name pos:start="197:19" pos:end="197:20">st</name><operator pos:start="197:21" pos:end="197:22">-&gt;</operator><name pos:start="197:23" pos:end="197:26">info</name><operator pos:start="197:27" pos:end="197:28">-&gt;</operator><name pos:start="197:29" pos:end="197:42">duration_count</name></name> <operator pos:start="197:44" pos:end="197:44">&lt;</operator> <name pos:start="197:46" pos:end="197:67">fps_analyze_framecount</name>

               <operator pos:start="199:16" pos:end="199:17">&amp;&amp;</operator> <name pos:start="199:19" pos:end="199:39"><name pos:start="199:19" pos:end="199:20">st</name><operator pos:start="199:21" pos:end="199:22">-&gt;</operator><name pos:start="199:23" pos:end="199:27">codec</name><operator pos:start="199:28" pos:end="199:29">-&gt;</operator><name pos:start="199:30" pos:end="199:39">codec_type</name></name> <operator pos:start="199:41" pos:end="199:42">==</operator> <name pos:start="199:44" pos:end="199:61">AVMEDIA_TYPE_VIDEO</name></expr>)</condition><block type="pseudo" pos:start="201:17" pos:end="201:22"><block_content pos:start="201:17" pos:end="201:22">

                <break pos:start="201:17" pos:end="201:22">break;</break></block_content></block></if></if_stmt>

            <if_stmt pos:start="203:13" pos:end="205:22"><if pos:start="203:13" pos:end="205:22">if<condition pos:start="203:15" pos:end="203:80">(<expr pos:start="203:16" pos:end="203:79"><name pos:start="203:16" pos:end="203:25"><name pos:start="203:16" pos:end="203:17">st</name><operator pos:start="203:18" pos:end="203:19">-&gt;</operator><name pos:start="203:20" pos:end="203:25">parser</name></name> <operator pos:start="203:27" pos:end="203:28">&amp;&amp;</operator> <name pos:start="203:30" pos:end="203:54"><name pos:start="203:30" pos:end="203:31">st</name><operator pos:start="203:32" pos:end="203:33">-&gt;</operator><name pos:start="203:34" pos:end="203:39">parser</name><operator pos:start="203:40" pos:end="203:41">-&gt;</operator><name pos:start="203:42" pos:end="203:47">parser</name><operator pos:start="203:48" pos:end="203:49">-&gt;</operator><name pos:start="203:50" pos:end="203:54">split</name></name> <operator pos:start="203:56" pos:end="203:57">&amp;&amp;</operator> <operator pos:start="203:59" pos:end="203:59">!</operator><name pos:start="203:60" pos:end="203:79"><name pos:start="203:60" pos:end="203:61">st</name><operator pos:start="203:62" pos:end="203:63">-&gt;</operator><name pos:start="203:64" pos:end="203:68">codec</name><operator pos:start="203:69" pos:end="203:70">-&gt;</operator><name pos:start="203:71" pos:end="203:79">extradata</name></name></expr>)</condition><block type="pseudo" pos:start="205:17" pos:end="205:22"><block_content pos:start="205:17" pos:end="205:22">

                <break pos:start="205:17" pos:end="205:22">break;</break></block_content></block></if></if_stmt>

            <if_stmt pos:start="207:13" pos:end="213:22"><if pos:start="207:13" pos:end="213:22">if <condition pos:start="207:16" pos:end="211:62">(<expr pos:start="207:17" pos:end="211:61"><name pos:start="207:17" pos:end="207:29"><name pos:start="207:17" pos:end="207:18">st</name><operator pos:start="207:19" pos:end="207:20">-&gt;</operator><name pos:start="207:21" pos:end="207:29">first_dts</name></name> <operator pos:start="207:31" pos:end="207:32">==</operator> <name pos:start="207:34" pos:end="207:47">AV_NOPTS_VALUE</name> <operator pos:start="207:49" pos:end="207:50">&amp;&amp;</operator>

                <operator pos:start="209:17" pos:end="209:17">(</operator><name pos:start="209:18" pos:end="209:38"><name pos:start="209:18" pos:end="209:19">st</name><operator pos:start="209:20" pos:end="209:21">-&gt;</operator><name pos:start="209:22" pos:end="209:26">codec</name><operator pos:start="209:27" pos:end="209:28">-&gt;</operator><name pos:start="209:29" pos:end="209:38">codec_type</name></name> <operator pos:start="209:40" pos:end="209:41">==</operator> <name pos:start="209:43" pos:end="209:60">AVMEDIA_TYPE_VIDEO</name> <operator pos:start="209:62" pos:end="209:63">||</operator>

                 <name pos:start="211:18" pos:end="211:38"><name pos:start="211:18" pos:end="211:19">st</name><operator pos:start="211:20" pos:end="211:21">-&gt;</operator><name pos:start="211:22" pos:end="211:26">codec</name><operator pos:start="211:27" pos:end="211:28">-&gt;</operator><name pos:start="211:29" pos:end="211:38">codec_type</name></name> <operator pos:start="211:40" pos:end="211:41">==</operator> <name pos:start="211:43" pos:end="211:60">AVMEDIA_TYPE_AUDIO</name><operator pos:start="211:61" pos:end="211:61">)</operator></expr>)</condition><block type="pseudo" pos:start="213:17" pos:end="213:22"><block_content pos:start="213:17" pos:end="213:22">

                <break pos:start="213:17" pos:end="213:22">break;</break></block_content></block></if></if_stmt>

        </block_content>}</block></for>

        <if_stmt pos:start="217:9" pos:end="239:9"><if pos:start="217:9" pos:end="239:9">if <condition pos:start="217:12" pos:end="217:32">(<expr pos:start="217:13" pos:end="217:31"><name pos:start="217:13" pos:end="217:13">i</name> <operator pos:start="217:15" pos:end="217:16">==</operator> <name pos:start="217:18" pos:end="217:31"><name pos:start="217:18" pos:end="217:19">ic</name><operator pos:start="217:20" pos:end="217:21">-&gt;</operator><name pos:start="217:22" pos:end="217:31">nb_streams</name></name></expr>)</condition> <block pos:start="217:34" pos:end="239:9">{<block_content pos:start="225:13" pos:end="237:13">

            <comment type="block" pos:start="219:13" pos:end="223:27">/* NOTE: if the format has no header, then we need to read

               some packets to get most of the streams, so we cannot

               stop here */</comment>

            <if_stmt pos:start="225:13" pos:end="237:13"><if pos:start="225:13" pos:end="237:13">if <condition pos:start="225:16" pos:end="225:53">(<expr pos:start="225:17" pos:end="225:52"><operator pos:start="225:17" pos:end="225:17">!</operator><operator pos:start="225:18" pos:end="225:18">(</operator><name pos:start="225:19" pos:end="225:31"><name pos:start="225:19" pos:end="225:20">ic</name><operator pos:start="225:21" pos:end="225:22">-&gt;</operator><name pos:start="225:23" pos:end="225:31">ctx_flags</name></name> <operator pos:start="225:33" pos:end="225:33">&amp;</operator> <name pos:start="225:35" pos:end="225:51">AVFMTCTX_NOHEADER</name><operator pos:start="225:52" pos:end="225:52">)</operator></expr>)</condition> <block pos:start="225:55" pos:end="237:13">{<block_content pos:start="229:17" pos:end="235:22">

                <comment type="block" pos:start="227:17" pos:end="227:74">/* if we found the info for all the codecs, we can stop */</comment>

                <expr_stmt pos:start="229:17" pos:end="229:28"><expr pos:start="229:17" pos:end="229:27"><name pos:start="229:17" pos:end="229:19">ret</name> <operator pos:start="229:21" pos:end="229:21">=</operator> <name pos:start="229:23" pos:end="229:27">count</name></expr>;</expr_stmt>

                <expr_stmt pos:start="231:17" pos:end="231:61"><expr pos:start="231:17" pos:end="231:60"><call pos:start="231:17" pos:end="231:60"><name pos:start="231:17" pos:end="231:22">av_log</name><argument_list pos:start="231:23" pos:end="231:60">(<argument pos:start="231:24" pos:end="231:25"><expr pos:start="231:24" pos:end="231:25"><name pos:start="231:24" pos:end="231:25">ic</name></expr></argument>, <argument pos:start="231:28" pos:end="231:39"><expr pos:start="231:28" pos:end="231:39"><name pos:start="231:28" pos:end="231:39">AV_LOG_DEBUG</name></expr></argument>, <argument pos:start="231:42" pos:end="231:59"><expr pos:start="231:42" pos:end="231:59"><literal type="string" pos:start="231:42" pos:end="231:59">"All info found\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="233:17" pos:end="233:33"><expr pos:start="233:17" pos:end="233:32"><name pos:start="233:17" pos:end="233:28">flush_codecs</name> <operator pos:start="233:30" pos:end="233:30">=</operator> <literal type="number" pos:start="233:32" pos:end="233:32">0</literal></expr>;</expr_stmt>

                <break pos:start="235:17" pos:end="235:22">break;</break>

            </block_content>}</block></if></if_stmt>

        </block_content>}</block></if></if_stmt>

        <comment type="block" pos:start="241:9" pos:end="241:74">/* we did not get all the codec info, but we read too much data */</comment>

        <if_stmt pos:start="243:9" pos:end="263:9"><if pos:start="243:9" pos:end="263:9">if <condition pos:start="243:12" pos:end="243:39">(<expr pos:start="243:13" pos:end="243:38"><name pos:start="243:13" pos:end="243:21">read_size</name> <operator pos:start="243:23" pos:end="243:24">&gt;=</operator> <name pos:start="243:26" pos:end="243:38"><name pos:start="243:26" pos:end="243:27">ic</name><operator pos:start="243:28" pos:end="243:29">-&gt;</operator><name pos:start="243:30" pos:end="243:38">probesize</name></name></expr>)</condition> <block pos:start="243:41" pos:end="263:9">{<block_content pos:start="245:13" pos:end="261:18">

            <expr_stmt pos:start="245:13" pos:end="245:24"><expr pos:start="245:13" pos:end="245:23"><name pos:start="245:13" pos:end="245:15">ret</name> <operator pos:start="245:17" pos:end="245:17">=</operator> <name pos:start="245:19" pos:end="245:23">count</name></expr>;</expr_stmt>

            <expr_stmt pos:start="247:13" pos:end="247:101"><expr pos:start="247:13" pos:end="247:100"><call pos:start="247:13" pos:end="247:100"><name pos:start="247:13" pos:end="247:18">av_log</name><argument_list pos:start="247:19" pos:end="247:100">(<argument pos:start="247:20" pos:end="247:21"><expr pos:start="247:20" pos:end="247:21"><name pos:start="247:20" pos:end="247:21">ic</name></expr></argument>, <argument pos:start="247:24" pos:end="247:35"><expr pos:start="247:24" pos:end="247:35"><name pos:start="247:24" pos:end="247:35">AV_LOG_DEBUG</name></expr></argument>, <argument pos:start="247:38" pos:end="247:84"><expr pos:start="247:38" pos:end="247:84"><literal type="string" pos:start="247:38" pos:end="247:84">"Probe buffer size limit of %d bytes reached\n"</literal></expr></argument>, <argument pos:start="247:87" pos:end="247:99"><expr pos:start="247:87" pos:end="247:99"><name pos:start="247:87" pos:end="247:99"><name pos:start="247:87" pos:end="247:88">ic</name><operator pos:start="247:89" pos:end="247:90">-&gt;</operator><name pos:start="247:91" pos:end="247:99">probesize</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <for pos:start="249:13" pos:end="259:65">for <control pos:start="249:17" pos:end="249:48">(<init pos:start="249:18" pos:end="249:23"><expr pos:start="249:18" pos:end="249:22"><name pos:start="249:18" pos:end="249:18">i</name> <operator pos:start="249:20" pos:end="249:20">=</operator> <literal type="number" pos:start="249:22" pos:end="249:22">0</literal></expr>;</init> <condition pos:start="249:25" pos:end="249:43"><expr pos:start="249:25" pos:end="249:42"><name pos:start="249:25" pos:end="249:25">i</name> <operator pos:start="249:27" pos:end="249:27">&lt;</operator> <name pos:start="249:29" pos:end="249:42"><name pos:start="249:29" pos:end="249:30">ic</name><operator pos:start="249:31" pos:end="249:32">-&gt;</operator><name pos:start="249:33" pos:end="249:42">nb_streams</name></name></expr>;</condition> <incr pos:start="249:45" pos:end="249:47"><expr pos:start="249:45" pos:end="249:47"><name pos:start="249:45" pos:end="249:45">i</name><operator pos:start="249:46" pos:end="249:47">++</operator></expr></incr>)</control><block type="pseudo" pos:start="251:17" pos:end="259:65"><block_content pos:start="251:17" pos:end="259:65">

                <if_stmt pos:start="251:17" pos:end="259:65"><if pos:start="251:17" pos:end="259:65">if <condition pos:start="251:20" pos:end="253:62">(<expr pos:start="251:21" pos:end="253:61"><operator pos:start="251:21" pos:end="251:21">!</operator><name pos:start="251:22" pos:end="251:35"><name pos:start="251:22" pos:end="251:23">ic</name><operator pos:start="251:24" pos:end="251:25">-&gt;</operator><name pos:start="251:26" pos:end="251:32">streams</name><index pos:start="251:33" pos:end="251:35">[<expr pos:start="251:34" pos:end="251:34"><name pos:start="251:34" pos:end="251:34">i</name></expr>]</index></name><operator pos:start="251:36" pos:end="251:37">-&gt;</operator><name pos:start="251:38" pos:end="251:53"><name pos:start="251:38" pos:end="251:49">r_frame_rate</name><operator pos:start="251:50" pos:end="251:50">.</operator><name pos:start="251:51" pos:end="251:53">num</name></name> <operator pos:start="251:55" pos:end="251:56">&amp;&amp;</operator>

                    <name pos:start="253:21" pos:end="253:34"><name pos:start="253:21" pos:end="253:22">ic</name><operator pos:start="253:23" pos:end="253:24">-&gt;</operator><name pos:start="253:25" pos:end="253:31">streams</name><index pos:start="253:32" pos:end="253:34">[<expr pos:start="253:33" pos:end="253:33"><name pos:start="253:33" pos:end="253:33">i</name></expr>]</index></name><operator pos:start="253:35" pos:end="253:36">-&gt;</operator><name pos:start="253:37" pos:end="253:56"><name pos:start="253:37" pos:end="253:40">info</name><operator pos:start="253:41" pos:end="253:42">-&gt;</operator><name pos:start="253:43" pos:end="253:56">duration_count</name></name> <operator pos:start="253:58" pos:end="253:59">&lt;=</operator> <literal type="number" pos:start="253:61" pos:end="253:61">1</literal></expr>)</condition><block type="pseudo" pos:start="255:21" pos:end="259:65"><block_content pos:start="255:21" pos:end="259:65">

                    <expr_stmt pos:start="255:21" pos:end="259:65"><expr pos:start="255:21" pos:end="259:64"><call pos:start="255:21" pos:end="259:64"><name pos:start="255:21" pos:end="255:26">av_log</name><argument_list pos:start="255:27" pos:end="259:64">(<argument pos:start="255:28" pos:end="255:29"><expr pos:start="255:28" pos:end="255:29"><name pos:start="255:28" pos:end="255:29">ic</name></expr></argument>, <argument pos:start="255:32" pos:end="255:45"><expr pos:start="255:32" pos:end="255:45"><name pos:start="255:32" pos:end="255:45">AV_LOG_WARNING</name></expr></argument>,

                           <argument pos:start="257:28" pos:end="259:60"><expr pos:start="257:28" pos:end="259:60"><literal type="string" pos:start="257:28" pos:end="257:77">"Stream #%d: not enough frames to estimate rate; "</literal>

                           <literal type="string" pos:start="259:28" pos:end="259:60">"consider increasing probesize\n"</literal></expr></argument>, <argument pos:start="259:63" pos:end="259:63"><expr pos:start="259:63" pos:end="259:63"><name pos:start="259:63" pos:end="259:63">i</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt></block_content></block></for>

            <break pos:start="261:13" pos:end="261:18">break;</break>

        </block_content>}</block></if></if_stmt>



        <comment type="block" pos:start="267:9" pos:end="269:33">/* NOTE: a new stream can be added there if no header in file

           (AVFMTCTX_NOHEADER) */</comment>

        <expr_stmt pos:start="271:9" pos:end="271:45"><expr pos:start="271:9" pos:end="271:44"><name pos:start="271:9" pos:end="271:11">ret</name> <operator pos:start="271:13" pos:end="271:13">=</operator> <call pos:start="271:15" pos:end="271:44"><name pos:start="271:15" pos:end="271:33">read_frame_internal</name><argument_list pos:start="271:34" pos:end="271:44">(<argument pos:start="271:35" pos:end="271:36"><expr pos:start="271:35" pos:end="271:36"><name pos:start="271:35" pos:end="271:36">ic</name></expr></argument>, <argument pos:start="271:39" pos:end="271:43"><expr pos:start="271:39" pos:end="271:43"><operator pos:start="271:39" pos:end="271:39">&amp;</operator><name pos:start="271:40" pos:end="271:43">pkt1</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="273:9" pos:end="275:21"><if pos:start="273:9" pos:end="275:21">if <condition pos:start="273:12" pos:end="273:35">(<expr pos:start="273:13" pos:end="273:34"><name pos:start="273:13" pos:end="273:15">ret</name> <operator pos:start="273:17" pos:end="273:18">==</operator> <call pos:start="273:20" pos:end="273:34"><name pos:start="273:20" pos:end="273:26">AVERROR</name><argument_list pos:start="273:27" pos:end="273:34">(<argument pos:start="273:28" pos:end="273:33"><expr pos:start="273:28" pos:end="273:33"><name pos:start="273:28" pos:end="273:33">EAGAIN</name></expr></argument>)</argument_list></call></expr>)</condition><block type="pseudo" pos:start="275:13" pos:end="275:21"><block_content pos:start="275:13" pos:end="275:21">

            <continue pos:start="275:13" pos:end="275:21">continue;</continue></block_content></block></if></if_stmt>



        <if_stmt pos:start="279:9" pos:end="285:9"><if pos:start="279:9" pos:end="285:9">if <condition pos:start="279:12" pos:end="279:20">(<expr pos:start="279:13" pos:end="279:19"><name pos:start="279:13" pos:end="279:15">ret</name> <operator pos:start="279:17" pos:end="279:17">&lt;</operator> <literal type="number" pos:start="279:19" pos:end="279:19">0</literal></expr>)</condition> <block pos:start="279:22" pos:end="285:9">{<block_content pos:start="283:13" pos:end="283:18">

            <comment type="block" pos:start="281:13" pos:end="281:29">/* EOF or error*/</comment>

            <break pos:start="283:13" pos:end="283:18">break;</break>

        </block_content>}</block></if></if_stmt>



        <if_stmt pos:start="289:9" pos:end="303:9"><if pos:start="289:9" pos:end="293:9">if <condition pos:start="289:12" pos:end="289:44">(<expr pos:start="289:13" pos:end="289:43"><name pos:start="289:13" pos:end="289:21"><name pos:start="289:13" pos:end="289:14">ic</name><operator pos:start="289:15" pos:end="289:16">-&gt;</operator><name pos:start="289:17" pos:end="289:21">flags</name></name> <operator pos:start="289:23" pos:end="289:23">&amp;</operator> <name pos:start="289:25" pos:end="289:43">AVFMT_FLAG_NOBUFFER</name></expr>)</condition> <block pos:start="289:46" pos:end="293:9">{<block_content pos:start="291:13" pos:end="291:24">

            <expr_stmt pos:start="291:13" pos:end="291:24"><expr pos:start="291:13" pos:end="291:23"><name pos:start="291:13" pos:end="291:15">pkt</name> <operator pos:start="291:17" pos:end="291:17">=</operator> <operator pos:start="291:19" pos:end="291:19">&amp;</operator><name pos:start="291:20" pos:end="291:23">pkt1</name></expr>;</expr_stmt>

        </block_content>}</block></if> <else pos:start="293:11" pos:end="303:9">else <block pos:start="293:16" pos:end="303:9">{<block_content pos:start="295:13" pos:end="301:42">

            <expr_stmt pos:start="295:13" pos:end="297:56"><expr pos:start="295:13" pos:end="297:55"><name pos:start="295:13" pos:end="295:15">pkt</name> <operator pos:start="295:17" pos:end="295:17">=</operator> <call pos:start="295:19" pos:end="297:55"><name pos:start="295:19" pos:end="295:31">add_to_pktbuf</name><argument_list pos:start="295:32" pos:end="297:55">(<argument pos:start="295:33" pos:end="295:50"><expr pos:start="295:33" pos:end="295:50"><operator pos:start="295:33" pos:end="295:33">&amp;</operator><name pos:start="295:34" pos:end="295:50"><name pos:start="295:34" pos:end="295:35">ic</name><operator pos:start="295:36" pos:end="295:37">-&gt;</operator><name pos:start="295:38" pos:end="295:50">packet_buffer</name></name></expr></argument>, <argument pos:start="295:53" pos:end="295:57"><expr pos:start="295:53" pos:end="295:57"><operator pos:start="295:53" pos:end="295:53">&amp;</operator><name pos:start="295:54" pos:end="295:57">pkt1</name></expr></argument>,

                                <argument pos:start="297:33" pos:end="297:54"><expr pos:start="297:33" pos:end="297:54"><operator pos:start="297:33" pos:end="297:33">&amp;</operator><name pos:start="297:34" pos:end="297:54"><name pos:start="297:34" pos:end="297:35">ic</name><operator pos:start="297:36" pos:end="297:37">-&gt;</operator><name pos:start="297:38" pos:end="297:54">packet_buffer_end</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <if_stmt pos:start="299:13" pos:end="301:42"><if pos:start="299:13" pos:end="301:42">if <condition pos:start="299:16" pos:end="299:47">(<expr pos:start="299:17" pos:end="299:46"><operator pos:start="299:17" pos:end="299:17">(</operator><name pos:start="299:18" pos:end="299:20">ret</name> <operator pos:start="299:22" pos:end="299:22">=</operator> <call pos:start="299:24" pos:end="299:41"><name pos:start="299:24" pos:end="299:36">av_dup_packet</name><argument_list pos:start="299:37" pos:end="299:41">(<argument pos:start="299:38" pos:end="299:40"><expr pos:start="299:38" pos:end="299:40"><name pos:start="299:38" pos:end="299:40">pkt</name></expr></argument>)</argument_list></call><operator pos:start="299:42" pos:end="299:42">)</operator> <operator pos:start="299:44" pos:end="299:44">&lt;</operator> <literal type="number" pos:start="299:46" pos:end="299:46">0</literal></expr>)</condition><block type="pseudo" pos:start="301:17" pos:end="301:42"><block_content pos:start="301:17" pos:end="301:42">

                <goto pos:start="301:17" pos:end="301:42">goto <name pos:start="301:22" pos:end="301:41">find_stream_info_err</name>;</goto></block_content></block></if></if_stmt>

        </block_content>}</block></else></if_stmt>



        <expr_stmt pos:start="307:9" pos:end="307:31"><expr pos:start="307:9" pos:end="307:30"><name pos:start="307:9" pos:end="307:17">read_size</name> <operator pos:start="307:19" pos:end="307:20">+=</operator> <name pos:start="307:22" pos:end="307:30"><name pos:start="307:22" pos:end="307:24">pkt</name><operator pos:start="307:25" pos:end="307:26">-&gt;</operator><name pos:start="307:27" pos:end="307:30">size</name></name></expr>;</expr_stmt>



        <expr_stmt pos:start="311:9" pos:end="311:44"><expr pos:start="311:9" pos:end="311:43"><name pos:start="311:9" pos:end="311:10">st</name> <operator pos:start="311:12" pos:end="311:12">=</operator> <name pos:start="311:14" pos:end="311:43"><name pos:start="311:14" pos:end="311:15">ic</name><operator pos:start="311:16" pos:end="311:17">-&gt;</operator><name pos:start="311:18" pos:end="311:24">streams</name><index pos:start="311:25" pos:end="311:43">[<expr pos:start="311:26" pos:end="311:42"><name pos:start="311:26" pos:end="311:42"><name pos:start="311:26" pos:end="311:28">pkt</name><operator pos:start="311:29" pos:end="311:30">-&gt;</operator><name pos:start="311:31" pos:end="311:42">stream_index</name></name></expr>]</index></name></expr>;</expr_stmt>

        <if_stmt pos:start="313:9" pos:end="375:9"><if pos:start="313:9" pos:end="375:9">if <condition pos:start="313:12" pos:end="313:71">(<expr pos:start="313:13" pos:end="313:70"><name pos:start="313:13" pos:end="313:20"><name pos:start="313:13" pos:end="313:15">pkt</name><operator pos:start="313:16" pos:end="313:17">-&gt;</operator><name pos:start="313:18" pos:end="313:20">dts</name></name> <operator pos:start="313:22" pos:end="313:23">!=</operator> <name pos:start="313:25" pos:end="313:38">AV_NOPTS_VALUE</name> <operator pos:start="313:40" pos:end="313:41">&amp;&amp;</operator> <name pos:start="313:43" pos:end="313:66"><name pos:start="313:43" pos:end="313:44">st</name><operator pos:start="313:45" pos:end="313:46">-&gt;</operator><name pos:start="313:47" pos:end="313:66">codec_info_nb_frames</name></name> <operator pos:start="313:68" pos:end="313:68">&gt;</operator> <literal type="number" pos:start="313:70" pos:end="313:70">1</literal></expr>)</condition> <block pos:start="313:73" pos:end="375:9">{<block_content pos:start="317:13" pos:end="373:66">

            <comment type="block" pos:start="315:13" pos:end="315:46">/* check for non-increasing dts */</comment>

            <if_stmt pos:start="317:13" pos:end="331:13"><if pos:start="317:13" pos:end="331:13">if <condition pos:start="317:16" pos:end="319:51">(<expr pos:start="317:17" pos:end="319:50"><name pos:start="317:17" pos:end="317:38"><name pos:start="317:17" pos:end="317:18">st</name><operator pos:start="317:19" pos:end="317:20">-&gt;</operator><name pos:start="317:21" pos:end="317:24">info</name><operator pos:start="317:25" pos:end="317:26">-&gt;</operator><name pos:start="317:27" pos:end="317:38">fps_last_dts</name></name> <operator pos:start="317:40" pos:end="317:41">!=</operator> <name pos:start="317:43" pos:end="317:56">AV_NOPTS_VALUE</name> <operator pos:start="317:58" pos:end="317:59">&amp;&amp;</operator>

                <name pos:start="319:17" pos:end="319:38"><name pos:start="319:17" pos:end="319:18">st</name><operator pos:start="319:19" pos:end="319:20">-&gt;</operator><name pos:start="319:21" pos:end="319:24">info</name><operator pos:start="319:25" pos:end="319:26">-&gt;</operator><name pos:start="319:27" pos:end="319:38">fps_last_dts</name></name> <operator pos:start="319:40" pos:end="319:41">&gt;=</operator> <name pos:start="319:43" pos:end="319:50"><name pos:start="319:43" pos:end="319:45">pkt</name><operator pos:start="319:46" pos:end="319:47">-&gt;</operator><name pos:start="319:48" pos:end="319:50">dts</name></name></expr>)</condition> <block pos:start="319:53" pos:end="331:13">{<block_content pos:start="321:17" pos:end="329:82">

                <expr_stmt pos:start="321:17" pos:end="327:83"><expr pos:start="321:17" pos:end="327:82"><call pos:start="321:17" pos:end="327:82"><name pos:start="321:17" pos:end="321:22">av_log</name><argument_list pos:start="321:23" pos:end="327:82">(<argument pos:start="321:24" pos:end="321:25"><expr pos:start="321:24" pos:end="321:25"><name pos:start="321:24" pos:end="321:25">ic</name></expr></argument>, <argument pos:start="321:28" pos:end="321:39"><expr pos:start="321:28" pos:end="321:39"><name pos:start="321:28" pos:end="321:39">AV_LOG_DEBUG</name></expr></argument>, <argument pos:start="321:42" pos:end="325:36"><expr pos:start="321:42" pos:end="325:36"><literal type="string" pos:start="321:42" pos:end="321:76">"Non-increasing DTS in stream %d: "</literal>

                       <literal type="string" pos:start="323:24" pos:end="323:45">"packet %d with DTS %"</literal><name pos:start="323:46" pos:end="323:51">PRId64</name><literal type="string" pos:start="323:52" pos:end="323:74">", packet %d with DTS "</literal>

                       <literal type="string" pos:start="325:24" pos:end="325:26">"%"</literal><name pos:start="325:27" pos:end="325:32">PRId64</name><literal type="string" pos:start="325:33" pos:end="325:36">"\n"</literal></expr></argument>, <argument pos:start="325:39" pos:end="325:47"><expr pos:start="325:39" pos:end="325:47"><name pos:start="325:39" pos:end="325:47"><name pos:start="325:39" pos:end="325:40">st</name><operator pos:start="325:41" pos:end="325:42">-&gt;</operator><name pos:start="325:43" pos:end="325:47">index</name></name></expr></argument>, <argument pos:start="325:50" pos:end="325:75"><expr pos:start="325:50" pos:end="325:75"><name pos:start="325:50" pos:end="325:75"><name pos:start="325:50" pos:end="325:51">st</name><operator pos:start="325:52" pos:end="325:53">-&gt;</operator><name pos:start="325:54" pos:end="325:57">info</name><operator pos:start="325:58" pos:end="325:59">-&gt;</operator><name pos:start="325:60" pos:end="325:75">fps_last_dts_idx</name></name></expr></argument>,

                       <argument pos:start="327:24" pos:end="327:45"><expr pos:start="327:24" pos:end="327:45"><name pos:start="327:24" pos:end="327:45"><name pos:start="327:24" pos:end="327:25">st</name><operator pos:start="327:26" pos:end="327:27">-&gt;</operator><name pos:start="327:28" pos:end="327:31">info</name><operator pos:start="327:32" pos:end="327:33">-&gt;</operator><name pos:start="327:34" pos:end="327:45">fps_last_dts</name></name></expr></argument>, <argument pos:start="327:48" pos:end="327:71"><expr pos:start="327:48" pos:end="327:71"><name pos:start="327:48" pos:end="327:71"><name pos:start="327:48" pos:end="327:49">st</name><operator pos:start="327:50" pos:end="327:51">-&gt;</operator><name pos:start="327:52" pos:end="327:71">codec_info_nb_frames</name></name></expr></argument>, <argument pos:start="327:74" pos:end="327:81"><expr pos:start="327:74" pos:end="327:81"><name pos:start="327:74" pos:end="327:81"><name pos:start="327:74" pos:end="327:76">pkt</name><operator pos:start="327:77" pos:end="327:78">-&gt;</operator><name pos:start="327:79" pos:end="327:81">dts</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="329:17" pos:end="329:82"><expr pos:start="329:17" pos:end="329:81"><name pos:start="329:17" pos:end="329:39"><name pos:start="329:17" pos:end="329:18">st</name><operator pos:start="329:19" pos:end="329:20">-&gt;</operator><name pos:start="329:21" pos:end="329:24">info</name><operator pos:start="329:25" pos:end="329:26">-&gt;</operator><name pos:start="329:27" pos:end="329:39">fps_first_dts</name></name> <operator pos:start="329:41" pos:end="329:41">=</operator> <name pos:start="329:43" pos:end="329:64"><name pos:start="329:43" pos:end="329:44">st</name><operator pos:start="329:45" pos:end="329:46">-&gt;</operator><name pos:start="329:47" pos:end="329:50">info</name><operator pos:start="329:51" pos:end="329:52">-&gt;</operator><name pos:start="329:53" pos:end="329:64">fps_last_dts</name></name> <operator pos:start="329:66" pos:end="329:66">=</operator> <name pos:start="329:68" pos:end="329:81">AV_NOPTS_VALUE</name></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>

            <comment type="block" pos:start="333:13" pos:end="337:48">/* check for a discontinuity in dts - if the difference in dts

             * is more than 1000 times the average packet duration in the sequence,

             * we treat it as a discontinuity */</comment>

            <if_stmt pos:start="339:13" pos:end="357:13"><if pos:start="339:13" pos:end="357:13">if <condition pos:start="339:16" pos:end="345:128">(<expr pos:start="339:17" pos:end="345:127"><name pos:start="339:17" pos:end="339:38"><name pos:start="339:17" pos:end="339:18">st</name><operator pos:start="339:19" pos:end="339:20">-&gt;</operator><name pos:start="339:21" pos:end="339:24">info</name><operator pos:start="339:25" pos:end="339:26">-&gt;</operator><name pos:start="339:27" pos:end="339:38">fps_last_dts</name></name> <operator pos:start="339:40" pos:end="339:41">!=</operator> <name pos:start="339:43" pos:end="339:56">AV_NOPTS_VALUE</name> <operator pos:start="339:58" pos:end="339:59">&amp;&amp;</operator>

                <name pos:start="341:17" pos:end="341:42"><name pos:start="341:17" pos:end="341:18">st</name><operator pos:start="341:19" pos:end="341:20">-&gt;</operator><name pos:start="341:21" pos:end="341:24">info</name><operator pos:start="341:25" pos:end="341:26">-&gt;</operator><name pos:start="341:27" pos:end="341:42">fps_last_dts_idx</name></name> <operator pos:start="341:44" pos:end="341:44">&gt;</operator> <name pos:start="341:46" pos:end="341:72"><name pos:start="341:46" pos:end="341:47">st</name><operator pos:start="341:48" pos:end="341:49">-&gt;</operator><name pos:start="341:50" pos:end="341:53">info</name><operator pos:start="341:54" pos:end="341:55">-&gt;</operator><name pos:start="341:56" pos:end="341:72">fps_first_dts_idx</name></name> <operator pos:start="341:74" pos:end="341:75">&amp;&amp;</operator>

                <operator pos:start="343:17" pos:end="343:17">(</operator><name pos:start="343:18" pos:end="343:25"><name pos:start="343:18" pos:end="343:20">pkt</name><operator pos:start="343:21" pos:end="343:22">-&gt;</operator><name pos:start="343:23" pos:end="343:25">dts</name></name> <operator pos:start="343:27" pos:end="343:27">-</operator> <name pos:start="343:29" pos:end="343:50"><name pos:start="343:29" pos:end="343:30">st</name><operator pos:start="343:31" pos:end="343:32">-&gt;</operator><name pos:start="343:33" pos:end="343:36">info</name><operator pos:start="343:37" pos:end="343:38">-&gt;</operator><name pos:start="343:39" pos:end="343:50">fps_last_dts</name></name><operator pos:start="343:51" pos:end="343:51">)</operator> <operator pos:start="343:53" pos:end="343:53">/</operator> <literal type="number" pos:start="343:55" pos:end="343:58">1000</literal> <operator pos:start="343:60" pos:end="343:60">&gt;</operator>

                <operator pos:start="345:17" pos:end="345:17">(</operator><name pos:start="345:18" pos:end="345:39"><name pos:start="345:18" pos:end="345:19">st</name><operator pos:start="345:20" pos:end="345:21">-&gt;</operator><name pos:start="345:22" pos:end="345:25">info</name><operator pos:start="345:26" pos:end="345:27">-&gt;</operator><name pos:start="345:28" pos:end="345:39">fps_last_dts</name></name> <operator pos:start="345:41" pos:end="345:41">-</operator> <name pos:start="345:43" pos:end="345:65"><name pos:start="345:43" pos:end="345:44">st</name><operator pos:start="345:45" pos:end="345:46">-&gt;</operator><name pos:start="345:47" pos:end="345:50">info</name><operator pos:start="345:51" pos:end="345:52">-&gt;</operator><name pos:start="345:53" pos:end="345:65">fps_first_dts</name></name><operator pos:start="345:66" pos:end="345:66">)</operator> <operator pos:start="345:68" pos:end="345:68">/</operator> <operator pos:start="345:70" pos:end="345:70">(</operator><name pos:start="345:71" pos:end="345:96"><name pos:start="345:71" pos:end="345:72">st</name><operator pos:start="345:73" pos:end="345:74">-&gt;</operator><name pos:start="345:75" pos:end="345:78">info</name><operator pos:start="345:79" pos:end="345:80">-&gt;</operator><name pos:start="345:81" pos:end="345:96">fps_last_dts_idx</name></name> <operator pos:start="345:98" pos:end="345:98">-</operator> <name pos:start="345:100" pos:end="345:126"><name pos:start="345:100" pos:end="345:101">st</name><operator pos:start="345:102" pos:end="345:103">-&gt;</operator><name pos:start="345:104" pos:end="345:107">info</name><operator pos:start="345:108" pos:end="345:109">-&gt;</operator><name pos:start="345:110" pos:end="345:126">fps_first_dts_idx</name></name><operator pos:start="345:127" pos:end="345:127">)</operator></expr>)</condition> <block pos:start="345:130" pos:end="357:13">{<block_content pos:start="347:17" pos:end="355:82">

                <expr_stmt pos:start="347:17" pos:end="353:83"><expr pos:start="347:17" pos:end="353:82"><call pos:start="347:17" pos:end="353:82"><name pos:start="347:17" pos:end="347:22">av_log</name><argument_list pos:start="347:23" pos:end="353:82">(<argument pos:start="347:24" pos:end="347:25"><expr pos:start="347:24" pos:end="347:25"><name pos:start="347:24" pos:end="347:25">ic</name></expr></argument>, <argument pos:start="347:28" pos:end="347:41"><expr pos:start="347:28" pos:end="347:41"><name pos:start="347:28" pos:end="347:41">AV_LOG_WARNING</name></expr></argument>, <argument pos:start="347:44" pos:end="351:36"><expr pos:start="347:44" pos:end="351:36"><literal type="string" pos:start="347:44" pos:end="347:77">"DTS discontinuity in stream %d: "</literal>

                       <literal type="string" pos:start="349:24" pos:end="349:45">"packet %d with DTS %"</literal><name pos:start="349:46" pos:end="349:51">PRId64</name><literal type="string" pos:start="349:52" pos:end="349:74">", packet %d with DTS "</literal>

                       <literal type="string" pos:start="351:24" pos:end="351:26">"%"</literal><name pos:start="351:27" pos:end="351:32">PRId64</name><literal type="string" pos:start="351:33" pos:end="351:36">"\n"</literal></expr></argument>, <argument pos:start="351:39" pos:end="351:47"><expr pos:start="351:39" pos:end="351:47"><name pos:start="351:39" pos:end="351:47"><name pos:start="351:39" pos:end="351:40">st</name><operator pos:start="351:41" pos:end="351:42">-&gt;</operator><name pos:start="351:43" pos:end="351:47">index</name></name></expr></argument>, <argument pos:start="351:50" pos:end="351:75"><expr pos:start="351:50" pos:end="351:75"><name pos:start="351:50" pos:end="351:75"><name pos:start="351:50" pos:end="351:51">st</name><operator pos:start="351:52" pos:end="351:53">-&gt;</operator><name pos:start="351:54" pos:end="351:57">info</name><operator pos:start="351:58" pos:end="351:59">-&gt;</operator><name pos:start="351:60" pos:end="351:75">fps_last_dts_idx</name></name></expr></argument>,

                       <argument pos:start="353:24" pos:end="353:45"><expr pos:start="353:24" pos:end="353:45"><name pos:start="353:24" pos:end="353:45"><name pos:start="353:24" pos:end="353:25">st</name><operator pos:start="353:26" pos:end="353:27">-&gt;</operator><name pos:start="353:28" pos:end="353:31">info</name><operator pos:start="353:32" pos:end="353:33">-&gt;</operator><name pos:start="353:34" pos:end="353:45">fps_last_dts</name></name></expr></argument>, <argument pos:start="353:48" pos:end="353:71"><expr pos:start="353:48" pos:end="353:71"><name pos:start="353:48" pos:end="353:71"><name pos:start="353:48" pos:end="353:49">st</name><operator pos:start="353:50" pos:end="353:51">-&gt;</operator><name pos:start="353:52" pos:end="353:71">codec_info_nb_frames</name></name></expr></argument>, <argument pos:start="353:74" pos:end="353:81"><expr pos:start="353:74" pos:end="353:81"><name pos:start="353:74" pos:end="353:81"><name pos:start="353:74" pos:end="353:76">pkt</name><operator pos:start="353:77" pos:end="353:78">-&gt;</operator><name pos:start="353:79" pos:end="353:81">dts</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="355:17" pos:end="355:82"><expr pos:start="355:17" pos:end="355:81"><name pos:start="355:17" pos:end="355:39"><name pos:start="355:17" pos:end="355:18">st</name><operator pos:start="355:19" pos:end="355:20">-&gt;</operator><name pos:start="355:21" pos:end="355:24">info</name><operator pos:start="355:25" pos:end="355:26">-&gt;</operator><name pos:start="355:27" pos:end="355:39">fps_first_dts</name></name> <operator pos:start="355:41" pos:end="355:41">=</operator> <name pos:start="355:43" pos:end="355:64"><name pos:start="355:43" pos:end="355:44">st</name><operator pos:start="355:45" pos:end="355:46">-&gt;</operator><name pos:start="355:47" pos:end="355:50">info</name><operator pos:start="355:51" pos:end="355:52">-&gt;</operator><name pos:start="355:53" pos:end="355:64">fps_last_dts</name></name> <operator pos:start="355:66" pos:end="355:66">=</operator> <name pos:start="355:68" pos:end="355:81">AV_NOPTS_VALUE</name></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>



            <comment type="block" pos:start="361:13" pos:end="361:42">/* update stored dts values */</comment>

            <if_stmt pos:start="363:13" pos:end="369:13"><if pos:start="363:13" pos:end="369:13">if <condition pos:start="363:16" pos:end="363:58">(<expr pos:start="363:17" pos:end="363:57"><name pos:start="363:17" pos:end="363:39"><name pos:start="363:17" pos:end="363:18">st</name><operator pos:start="363:19" pos:end="363:20">-&gt;</operator><name pos:start="363:21" pos:end="363:24">info</name><operator pos:start="363:25" pos:end="363:26">-&gt;</operator><name pos:start="363:27" pos:end="363:39">fps_first_dts</name></name> <operator pos:start="363:41" pos:end="363:42">==</operator> <name pos:start="363:44" pos:end="363:57">AV_NOPTS_VALUE</name></expr>)</condition> <block pos:start="363:60" pos:end="369:13">{<block_content pos:start="365:17" pos:end="367:71">

                <expr_stmt pos:start="365:17" pos:end="365:55"><expr pos:start="365:17" pos:end="365:54"><name pos:start="365:17" pos:end="365:39"><name pos:start="365:17" pos:end="365:18">st</name><operator pos:start="365:19" pos:end="365:20">-&gt;</operator><name pos:start="365:21" pos:end="365:24">info</name><operator pos:start="365:25" pos:end="365:26">-&gt;</operator><name pos:start="365:27" pos:end="365:39">fps_first_dts</name></name>     <operator pos:start="365:45" pos:end="365:45">=</operator> <name pos:start="365:47" pos:end="365:54"><name pos:start="365:47" pos:end="365:49">pkt</name><operator pos:start="365:50" pos:end="365:51">-&gt;</operator><name pos:start="365:52" pos:end="365:54">dts</name></name></expr>;</expr_stmt>

                <expr_stmt pos:start="367:17" pos:end="367:71"><expr pos:start="367:17" pos:end="367:70"><name pos:start="367:17" pos:end="367:43"><name pos:start="367:17" pos:end="367:18">st</name><operator pos:start="367:19" pos:end="367:20">-&gt;</operator><name pos:start="367:21" pos:end="367:24">info</name><operator pos:start="367:25" pos:end="367:26">-&gt;</operator><name pos:start="367:27" pos:end="367:43">fps_first_dts_idx</name></name> <operator pos:start="367:45" pos:end="367:45">=</operator> <name pos:start="367:47" pos:end="367:70"><name pos:start="367:47" pos:end="367:48">st</name><operator pos:start="367:49" pos:end="367:50">-&gt;</operator><name pos:start="367:51" pos:end="367:70">codec_info_nb_frames</name></name></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>

            <expr_stmt pos:start="371:13" pos:end="371:46"><expr pos:start="371:13" pos:end="371:45"><name pos:start="371:13" pos:end="371:34"><name pos:start="371:13" pos:end="371:14">st</name><operator pos:start="371:15" pos:end="371:16">-&gt;</operator><name pos:start="371:17" pos:end="371:20">info</name><operator pos:start="371:21" pos:end="371:22">-&gt;</operator><name pos:start="371:23" pos:end="371:34">fps_last_dts</name></name> <operator pos:start="371:36" pos:end="371:36">=</operator> <name pos:start="371:38" pos:end="371:45"><name pos:start="371:38" pos:end="371:40">pkt</name><operator pos:start="371:41" pos:end="371:42">-&gt;</operator><name pos:start="371:43" pos:end="371:45">dts</name></name></expr>;</expr_stmt>

            <expr_stmt pos:start="373:13" pos:end="373:66"><expr pos:start="373:13" pos:end="373:65"><name pos:start="373:13" pos:end="373:38"><name pos:start="373:13" pos:end="373:14">st</name><operator pos:start="373:15" pos:end="373:16">-&gt;</operator><name pos:start="373:17" pos:end="373:20">info</name><operator pos:start="373:21" pos:end="373:22">-&gt;</operator><name pos:start="373:23" pos:end="373:38">fps_last_dts_idx</name></name> <operator pos:start="373:40" pos:end="373:40">=</operator> <name pos:start="373:42" pos:end="373:65"><name pos:start="373:42" pos:end="373:43">st</name><operator pos:start="373:44" pos:end="373:45">-&gt;</operator><name pos:start="373:46" pos:end="373:65">codec_info_nb_frames</name></name></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>

        <if_stmt pos:start="377:9" pos:end="428:0"><if pos:start="377:9" pos:end="428:0">if <condition pos:start="377:12" pos:end="377:39">(<expr pos:start="377:13" pos:end="377:38"><name pos:start="377:13" pos:end="377:36"><name pos:start="377:13" pos:end="377:14">st</name><operator pos:start="377:15" pos:end="377:16">-&gt;</operator><name pos:start="377:17" pos:end="377:36">codec_info_nb_frames</name></name><operator pos:start="377:37" pos:end="377:37">&gt;</operator><literal type="number" pos:start="377:38" pos:end="377:38">1</literal></expr>)</condition> <block pos:start="377:41" pos:end="428:0">{<block_content pos:start="379:13" pos:end="423:13">

            <decl_stmt pos:start="379:13" pos:end="379:24"><decl pos:start="379:13" pos:end="379:23"><type pos:start="379:13" pos:end="379:19"><name pos:start="379:13" pos:end="379:19">int64_t</name></type> <name pos:start="379:21" pos:end="379:21">t</name><init pos:start="379:22" pos:end="379:23">=<expr pos:start="379:23" pos:end="379:23"><literal type="number" pos:start="379:23" pos:end="379:23">0</literal></expr></init></decl>;</decl_stmt>

            <if_stmt pos:start="381:13" pos:end="383:95"><if pos:start="381:13" pos:end="383:95">if <condition pos:start="381:16" pos:end="381:38">(<expr pos:start="381:17" pos:end="381:37"><name pos:start="381:17" pos:end="381:33"><name pos:start="381:17" pos:end="381:18">st</name><operator pos:start="381:19" pos:end="381:20">-&gt;</operator><name pos:start="381:21" pos:end="381:29">time_base</name><operator pos:start="381:30" pos:end="381:30">.</operator><name pos:start="381:31" pos:end="381:33">den</name></name> <operator pos:start="381:35" pos:end="381:35">&gt;</operator> <literal type="number" pos:start="381:37" pos:end="381:37">0</literal></expr>)</condition><block type="pseudo" pos:start="383:17" pos:end="383:95"><block_content pos:start="383:17" pos:end="383:95">

                <expr_stmt pos:start="383:17" pos:end="383:95"><expr pos:start="383:17" pos:end="383:94"><name pos:start="383:17" pos:end="383:17">t</name> <operator pos:start="383:19" pos:end="383:19">=</operator> <call pos:start="383:21" pos:end="383:94"><name pos:start="383:21" pos:end="383:32">av_rescale_q</name><argument_list pos:start="383:33" pos:end="383:94">(<argument pos:start="383:34" pos:end="383:62"><expr pos:start="383:34" pos:end="383:62"><name pos:start="383:34" pos:end="383:62"><name pos:start="383:34" pos:end="383:35">st</name><operator pos:start="383:36" pos:end="383:37">-&gt;</operator><name pos:start="383:38" pos:end="383:41">info</name><operator pos:start="383:42" pos:end="383:43">-&gt;</operator><name pos:start="383:44" pos:end="383:62">codec_info_duration</name></name></expr></argument>, <argument pos:start="383:65" pos:end="383:77"><expr pos:start="383:65" pos:end="383:77"><name pos:start="383:65" pos:end="383:77"><name pos:start="383:65" pos:end="383:66">st</name><operator pos:start="383:67" pos:end="383:68">-&gt;</operator><name pos:start="383:69" pos:end="383:77">time_base</name></name></expr></argument>, <argument pos:start="383:80" pos:end="383:93"><expr pos:start="383:80" pos:end="383:93"><name pos:start="383:80" pos:end="383:93">AV_TIME_BASE_Q</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

            <if_stmt pos:start="385:13" pos:end="387:115"><if pos:start="385:13" pos:end="387:115">if <condition pos:start="385:16" pos:end="385:43">(<expr pos:start="385:17" pos:end="385:42"><name pos:start="385:17" pos:end="385:38"><name pos:start="385:17" pos:end="385:18">st</name><operator pos:start="385:19" pos:end="385:20">-&gt;</operator><name pos:start="385:21" pos:end="385:34">avg_frame_rate</name><operator pos:start="385:35" pos:end="385:35">.</operator><name pos:start="385:36" pos:end="385:38">num</name></name> <operator pos:start="385:40" pos:end="385:40">&gt;</operator> <literal type="number" pos:start="385:42" pos:end="385:42">0</literal></expr>)</condition><block type="pseudo" pos:start="387:17" pos:end="387:115"><block_content pos:start="387:17" pos:end="387:115">

                <expr_stmt pos:start="387:17" pos:end="387:115"><expr pos:start="387:17" pos:end="387:114"><name pos:start="387:17" pos:end="387:17">t</name> <operator pos:start="387:19" pos:end="387:19">=</operator> <call pos:start="387:21" pos:end="387:114"><name pos:start="387:21" pos:end="387:25">FFMAX</name><argument_list pos:start="387:26" pos:end="387:114">(<argument pos:start="387:27" pos:end="387:27"><expr pos:start="387:27" pos:end="387:27"><name pos:start="387:27" pos:end="387:27">t</name></expr></argument>, <argument pos:start="387:30" pos:end="387:113"><expr pos:start="387:30" pos:end="387:113"><call pos:start="387:30" pos:end="387:113"><name pos:start="387:30" pos:end="387:41">av_rescale_q</name><argument_list pos:start="387:42" pos:end="387:113">(<argument pos:start="387:43" pos:end="387:66"><expr pos:start="387:43" pos:end="387:66"><name pos:start="387:43" pos:end="387:66"><name pos:start="387:43" pos:end="387:44">st</name><operator pos:start="387:45" pos:end="387:46">-&gt;</operator><name pos:start="387:47" pos:end="387:66">codec_info_nb_frames</name></name></expr></argument>, <argument pos:start="387:69" pos:end="387:96"><expr pos:start="387:69" pos:end="387:96"><call pos:start="387:69" pos:end="387:96"><name pos:start="387:69" pos:end="387:76">av_inv_q</name><argument_list pos:start="387:77" pos:end="387:96">(<argument pos:start="387:78" pos:end="387:95"><expr pos:start="387:78" pos:end="387:95"><name pos:start="387:78" pos:end="387:95"><name pos:start="387:78" pos:end="387:79">st</name><operator pos:start="387:80" pos:end="387:81">-&gt;</operator><name pos:start="387:82" pos:end="387:95">avg_frame_rate</name></name></expr></argument>)</argument_list></call></expr></argument>, <argument pos:start="387:99" pos:end="387:112"><expr pos:start="387:99" pos:end="387:112"><name pos:start="387:99" pos:end="387:112">AV_TIME_BASE_Q</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>



            <if_stmt pos:start="391:13" pos:end="405:124"><if pos:start="391:13" pos:end="405:124">if <condition pos:start="391:16" pos:end="403:61">(   <expr pos:start="391:20" pos:end="403:60"><name pos:start="391:20" pos:end="391:20">t</name><operator pos:start="391:21" pos:end="391:22">==</operator><literal type="number" pos:start="391:23" pos:end="391:23">0</literal>

                <operator pos:start="393:17" pos:end="393:18">&amp;&amp;</operator> <name pos:start="393:20" pos:end="393:43"><name pos:start="393:20" pos:end="393:21">st</name><operator pos:start="393:22" pos:end="393:23">-&gt;</operator><name pos:start="393:24" pos:end="393:43">codec_info_nb_frames</name></name><operator pos:start="393:44" pos:end="393:44">&gt;</operator><literal type="number" pos:start="393:45" pos:end="393:46">15</literal>

                <operator pos:start="395:17" pos:end="395:18">&amp;&amp;</operator> <name pos:start="395:20" pos:end="395:40"><name pos:start="395:20" pos:end="395:21">st</name><operator pos:start="395:22" pos:end="395:23">-&gt;</operator><name pos:start="395:24" pos:end="395:28">codec</name><operator pos:start="395:29" pos:end="395:30">-&gt;</operator><name pos:start="395:31" pos:end="395:40">codec_type</name></name> <operator pos:start="395:42" pos:end="395:43">==</operator> <name pos:start="395:45" pos:end="395:62">AVMEDIA_TYPE_VIDEO</name>

                <operator pos:start="397:17" pos:end="397:18">&amp;&amp;</operator> <operator pos:start="397:20" pos:end="397:20">(</operator>   <operator pos:start="397:24" pos:end="397:24">!</operator><call pos:start="397:25" pos:end="397:57"><name pos:start="397:25" pos:end="397:30">strcmp</name><argument_list pos:start="397:31" pos:end="397:57">(<argument pos:start="397:32" pos:end="397:48"><expr pos:start="397:32" pos:end="397:48"><name pos:start="397:32" pos:end="397:48"><name pos:start="397:32" pos:end="397:33">ic</name><operator pos:start="397:34" pos:end="397:35">-&gt;</operator><name pos:start="397:36" pos:end="397:42">iformat</name><operator pos:start="397:43" pos:end="397:44">-&gt;</operator><name pos:start="397:45" pos:end="397:48">name</name></name></expr></argument>, <argument pos:start="397:51" pos:end="397:56"><expr pos:start="397:51" pos:end="397:56"><literal type="string" pos:start="397:51" pos:end="397:56">"mpeg"</literal></expr></argument>)</argument_list></call> <comment type="line" pos:start="397:59" pos:end="397:158">// this breaks some flvs thus use only for mpegps/ts for now (for ts we have a sample that needs it)</comment>

                    <operator pos:start="399:21" pos:end="399:22">||</operator> <operator pos:start="399:24" pos:end="399:24">!</operator><call pos:start="399:25" pos:end="399:59"><name pos:start="399:25" pos:end="399:30">strcmp</name><argument_list pos:start="399:31" pos:end="399:59">(<argument pos:start="399:32" pos:end="399:48"><expr pos:start="399:32" pos:end="399:48"><name pos:start="399:32" pos:end="399:48"><name pos:start="399:32" pos:end="399:33">ic</name><operator pos:start="399:34" pos:end="399:35">-&gt;</operator><name pos:start="399:36" pos:end="399:42">iformat</name><operator pos:start="399:43" pos:end="399:44">-&gt;</operator><name pos:start="399:45" pos:end="399:48">name</name></name></expr></argument>, <argument pos:start="399:51" pos:end="399:58"><expr pos:start="399:51" pos:end="399:58"><literal type="string" pos:start="399:51" pos:end="399:58">"mpegts"</literal></expr></argument>)</argument_list></call><operator pos:start="399:60" pos:end="399:60">)</operator>

                <operator pos:start="401:17" pos:end="401:18">&amp;&amp;</operator> <name pos:start="401:20" pos:end="401:42"><name pos:start="401:20" pos:end="401:21">st</name><operator pos:start="401:22" pos:end="401:23">-&gt;</operator><name pos:start="401:24" pos:end="401:27">info</name><operator pos:start="401:28" pos:end="401:29">-&gt;</operator><name pos:start="401:30" pos:end="401:42">fps_first_dts</name></name> <operator pos:start="401:44" pos:end="401:45">!=</operator> <name pos:start="401:47" pos:end="401:60">AV_NOPTS_VALUE</name>

                <operator pos:start="403:17" pos:end="403:18">&amp;&amp;</operator> <name pos:start="403:20" pos:end="403:41"><name pos:start="403:20" pos:end="403:21">st</name><operator pos:start="403:22" pos:end="403:23">-&gt;</operator><name pos:start="403:24" pos:end="403:27">info</name><operator pos:start="403:28" pos:end="403:29">-&gt;</operator><name pos:start="403:30" pos:end="403:41">fps_last_dts</name></name>  <operator pos:start="403:44" pos:end="403:45">!=</operator> <name pos:start="403:47" pos:end="403:60">AV_NOPTS_VALUE</name></expr>)</condition><block type="pseudo" pos:start="405:17" pos:end="405:124"><block_content pos:start="405:17" pos:end="405:124">

                <expr_stmt pos:start="405:17" pos:end="405:124"><expr pos:start="405:17" pos:end="405:123"><name pos:start="405:17" pos:end="405:17">t</name> <operator pos:start="405:19" pos:end="405:19">=</operator> <call pos:start="405:21" pos:end="405:123"><name pos:start="405:21" pos:end="405:25">FFMAX</name><argument_list pos:start="405:26" pos:end="405:123">(<argument pos:start="405:27" pos:end="405:27"><expr pos:start="405:27" pos:end="405:27"><name pos:start="405:27" pos:end="405:27">t</name></expr></argument>, <argument pos:start="405:30" pos:end="405:122"><expr pos:start="405:30" pos:end="405:122"><call pos:start="405:30" pos:end="405:122"><name pos:start="405:30" pos:end="405:41">av_rescale_q</name><argument_list pos:start="405:42" pos:end="405:122">(<argument pos:start="405:43" pos:end="405:90"><expr pos:start="405:43" pos:end="405:90"><name pos:start="405:43" pos:end="405:64"><name pos:start="405:43" pos:end="405:44">st</name><operator pos:start="405:45" pos:end="405:46">-&gt;</operator><name pos:start="405:47" pos:end="405:50">info</name><operator pos:start="405:51" pos:end="405:52">-&gt;</operator><name pos:start="405:53" pos:end="405:64">fps_last_dts</name></name> <operator pos:start="405:66" pos:end="405:66">-</operator> <name pos:start="405:68" pos:end="405:90"><name pos:start="405:68" pos:end="405:69">st</name><operator pos:start="405:70" pos:end="405:71">-&gt;</operator><name pos:start="405:72" pos:end="405:75">info</name><operator pos:start="405:76" pos:end="405:77">-&gt;</operator><name pos:start="405:78" pos:end="405:90">fps_first_dts</name></name></expr></argument>, <argument pos:start="405:93" pos:end="405:105"><expr pos:start="405:93" pos:end="405:105"><name pos:start="405:93" pos:end="405:105"><name pos:start="405:93" pos:end="405:94">st</name><operator pos:start="405:95" pos:end="405:96">-&gt;</operator><name pos:start="405:97" pos:end="405:105">time_base</name></name></expr></argument>, <argument pos:start="405:108" pos:end="405:121"><expr pos:start="405:108" pos:end="405:121"><name pos:start="405:108" pos:end="405:121">AV_TIME_BASE_Q</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>



            <if_stmt pos:start="409:13" pos:end="415:13"><if pos:start="409:13" pos:end="415:13">if <condition pos:start="409:16" pos:end="409:46">(<expr pos:start="409:17" pos:end="409:45"><name pos:start="409:17" pos:end="409:17">t</name> <operator pos:start="409:19" pos:end="409:20">&gt;=</operator> <name pos:start="409:22" pos:end="409:45"><name pos:start="409:22" pos:end="409:23">ic</name><operator pos:start="409:24" pos:end="409:25">-&gt;</operator><name pos:start="409:26" pos:end="409:45">max_analyze_duration</name></name></expr>)</condition> <block pos:start="409:48" pos:end="415:13">{<block_content pos:start="411:17" pos:end="413:22">

                <expr_stmt pos:start="411:17" pos:end="411:135"><expr pos:start="411:17" pos:end="411:134"><call pos:start="411:17" pos:end="411:134"><name pos:start="411:17" pos:end="411:22">av_log</name><argument_list pos:start="411:23" pos:end="411:134">(<argument pos:start="411:24" pos:end="411:25"><expr pos:start="411:24" pos:end="411:25"><name pos:start="411:24" pos:end="411:25">ic</name></expr></argument>, <argument pos:start="411:28" pos:end="411:41"><expr pos:start="411:28" pos:end="411:41"><name pos:start="411:28" pos:end="411:41">AV_LOG_VERBOSE</name></expr></argument>, <argument pos:start="411:44" pos:end="411:104"><expr pos:start="411:44" pos:end="411:104"><literal type="string" pos:start="411:44" pos:end="411:81">"max_analyze_duration %d reached at %"</literal><name pos:start="411:82" pos:end="411:87">PRId64</name><literal type="string" pos:start="411:88" pos:end="411:104">" microseconds\n"</literal></expr></argument>, <argument pos:start="411:107" pos:end="411:130"><expr pos:start="411:107" pos:end="411:130"><name pos:start="411:107" pos:end="411:130"><name pos:start="411:107" pos:end="411:108">ic</name><operator pos:start="411:109" pos:end="411:110">-&gt;</operator><name pos:start="411:111" pos:end="411:130">max_analyze_duration</name></name></expr></argument>, <argument pos:start="411:133" pos:end="411:133"><expr pos:start="411:133" pos:end="411:133"><name pos:start="411:133" pos:end="411:133">t</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <break pos:start="413:17" pos:end="413:22">break;</break>

            </block_content>}</block></if></if_stmt>

            <if_stmt pos:start="417:13" pos:end="423:13"><if pos:start="417:13" pos:end="423:13">if <condition pos:start="417:16" pos:end="417:30">(<expr pos:start="417:17" pos:end="417:29"><name pos:start="417:17" pos:end="417:29"><name pos:start="417:17" pos:end="417:19">pkt</name><operator pos:start="417:20" pos:end="417:21">-&gt;</operator><name pos:start="417:22" pos:end="417:29">duration</name></name></expr>)</condition> <block pos:start="417:32" pos:end="423:13">{<block_content pos:start="419:17" pos:end="421:134">

                <expr_stmt pos:start="419:17" pos:end="419:70"><expr pos:start="419:17" pos:end="419:69"><name pos:start="419:17" pos:end="419:45"><name pos:start="419:17" pos:end="419:18">st</name><operator pos:start="419:19" pos:end="419:20">-&gt;</operator><name pos:start="419:21" pos:end="419:24">info</name><operator pos:start="419:25" pos:end="419:26">-&gt;</operator><name pos:start="419:27" pos:end="419:45">codec_info_duration</name></name>        <operator pos:start="419:54" pos:end="419:55">+=</operator> <name pos:start="419:57" pos:end="419:69"><name pos:start="419:57" pos:end="419:59">pkt</name><operator pos:start="419:60" pos:end="419:61">-&gt;</operator><name pos:start="419:62" pos:end="419:69">duration</name></name></expr>;</expr_stmt>

                <expr_stmt pos:start="421:17" pos:end="421:134"><expr pos:start="421:17" pos:end="421:133"><name pos:start="421:17" pos:end="421:52"><name pos:start="421:17" pos:end="421:18">st</name><operator pos:start="421:19" pos:end="421:20">-&gt;</operator><name pos:start="421:21" pos:end="421:24">info</name><operator pos:start="421:25" pos:end="421:26">-&gt;</operator><name pos:start="421:27" pos:end="421:52">codec_info_duration_fields</name></name> <operator pos:start="421:54" pos:end="421:55">+=</operator> <ternary pos:start="421:57" pos:end="421:133"><condition pos:start="421:57" pos:end="421:101"><expr pos:start="421:57" pos:end="421:99"><name pos:start="421:57" pos:end="421:66"><name pos:start="421:57" pos:end="421:58">st</name><operator pos:start="421:59" pos:end="421:60">-&gt;</operator><name pos:start="421:61" pos:end="421:66">parser</name></name> <operator pos:start="421:68" pos:end="421:69">&amp;&amp;</operator> <name pos:start="421:71" pos:end="421:96"><name pos:start="421:71" pos:end="421:72">st</name><operator pos:start="421:73" pos:end="421:74">-&gt;</operator><name pos:start="421:75" pos:end="421:79">codec</name><operator pos:start="421:80" pos:end="421:81">-&gt;</operator><name pos:start="421:82" pos:end="421:96">ticks_per_frame</name></name><operator pos:start="421:97" pos:end="421:98">==</operator><literal type="number" pos:start="421:99" pos:end="421:99">2</literal></expr> ?</condition><then pos:start="421:103" pos:end="421:129"> <expr pos:start="421:103" pos:end="421:129"><name pos:start="421:103" pos:end="421:125"><name pos:start="421:103" pos:end="421:104">st</name><operator pos:start="421:105" pos:end="421:106">-&gt;</operator><name pos:start="421:107" pos:end="421:112">parser</name><operator pos:start="421:113" pos:end="421:114">-&gt;</operator><name pos:start="421:115" pos:end="421:125">repeat_pict</name></name> <operator pos:start="421:127" pos:end="421:127">+</operator> <literal type="number" pos:start="421:129" pos:end="421:129">1</literal></expr> </then><else pos:start="421:131" pos:end="421:133">: <expr pos:start="421:133" pos:end="421:133"><literal type="number" pos:start="421:133" pos:end="421:133">2</literal></expr></else></ternary></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>

        </block_content>}</block></if></if_stmt>

<cpp:if pos:start="427:1" pos:end="427:23">#<cpp:directive pos:start="427:2" pos:end="427:3">if</cpp:directive> <expr pos:start="427:5" pos:end="427:23"><name pos:start="427:5" pos:end="427:23">FF_API_R_FRAME_RATE</name></expr></cpp:if>

        <block pos:start="429:9" pos:end="492:0">{<block_content pos:start="431:13" pos:end="487:46">

            <decl_stmt pos:start="431:13" pos:end="431:46"><decl pos:start="431:13" pos:end="431:45"><type pos:start="431:13" pos:end="431:19"><name pos:start="431:13" pos:end="431:19">int64_t</name></type> <name pos:start="431:21" pos:end="431:24">last</name> <init pos:start="431:26" pos:end="431:45">= <expr pos:start="431:28" pos:end="431:45"><name pos:start="431:28" pos:end="431:45"><name pos:start="431:28" pos:end="431:29">st</name><operator pos:start="431:30" pos:end="431:31">-&gt;</operator><name pos:start="431:32" pos:end="431:35">info</name><operator pos:start="431:36" pos:end="431:37">-&gt;</operator><name pos:start="431:38" pos:end="431:45">last_dts</name></name></expr></init></decl>;</decl_stmt>



            <if_stmt pos:start="435:13" pos:end="483:13"><if pos:start="435:13" pos:end="483:13">if<condition pos:start="435:15" pos:end="437:56">(   <expr pos:start="435:19" pos:end="437:55"><name pos:start="435:19" pos:end="435:26"><name pos:start="435:19" pos:end="435:21">pkt</name><operator pos:start="435:22" pos:end="435:23">-&gt;</operator><name pos:start="435:24" pos:end="435:26">dts</name></name> <operator pos:start="435:28" pos:end="435:29">!=</operator> <name pos:start="435:31" pos:end="435:44">AV_NOPTS_VALUE</name> <operator pos:start="435:46" pos:end="435:47">&amp;&amp;</operator> <name pos:start="435:49" pos:end="435:52">last</name> <operator pos:start="435:54" pos:end="435:55">!=</operator> <name pos:start="435:57" pos:end="435:70">AV_NOPTS_VALUE</name> <operator pos:start="435:72" pos:end="435:73">&amp;&amp;</operator> <name pos:start="435:75" pos:end="435:82"><name pos:start="435:75" pos:end="435:77">pkt</name><operator pos:start="435:78" pos:end="435:79">-&gt;</operator><name pos:start="435:80" pos:end="435:82">dts</name></name> <operator pos:start="435:84" pos:end="435:84">&gt;</operator> <name pos:start="435:86" pos:end="435:89">last</name>

               <operator pos:start="437:16" pos:end="437:17">&amp;&amp;</operator> <name pos:start="437:19" pos:end="437:26"><name pos:start="437:19" pos:end="437:21">pkt</name><operator pos:start="437:22" pos:end="437:23">-&gt;</operator><name pos:start="437:24" pos:end="437:26">dts</name></name> <operator pos:start="437:28" pos:end="437:28">-</operator> <operator pos:start="437:30" pos:end="437:30">(</operator><name pos:start="437:31" pos:end="437:38">uint64_t</name><operator pos:start="437:39" pos:end="437:39">)</operator><name pos:start="437:40" pos:end="437:43">last</name> <operator pos:start="437:45" pos:end="437:45">&lt;</operator> <name pos:start="437:47" pos:end="437:55">INT64_MAX</name></expr>)</condition><block pos:start="437:57" pos:end="483:13">{<block_content pos:start="439:17" pos:end="481:86">

                <decl_stmt pos:start="439:17" pos:end="439:118"><decl pos:start="439:17" pos:end="439:117"><type pos:start="439:17" pos:end="439:22"><name pos:start="439:17" pos:end="439:22">double</name></type> <name pos:start="439:24" pos:end="439:26">dts</name><init pos:start="439:27" pos:end="439:117">= <expr pos:start="439:29" pos:end="439:117"><operator pos:start="439:29" pos:end="439:29">(</operator><ternary pos:start="439:30" pos:end="439:92"><condition pos:start="439:30" pos:end="439:52"><expr pos:start="439:30" pos:end="439:50"><call pos:start="439:30" pos:end="439:50"><name pos:start="439:30" pos:end="439:40">is_relative</name><argument_list pos:start="439:41" pos:end="439:50">(<argument pos:start="439:42" pos:end="439:49"><expr pos:start="439:42" pos:end="439:49"><name pos:start="439:42" pos:end="439:49"><name pos:start="439:42" pos:end="439:44">pkt</name><operator pos:start="439:45" pos:end="439:46">-&gt;</operator><name pos:start="439:47" pos:end="439:49">dts</name></name></expr></argument>)</argument_list></call></expr> ?</condition><then pos:start="439:55" pos:end="439:81">  <expr pos:start="439:55" pos:end="439:81"><name pos:start="439:55" pos:end="439:62"><name pos:start="439:55" pos:end="439:57">pkt</name><operator pos:start="439:58" pos:end="439:59">-&gt;</operator><name pos:start="439:60" pos:end="439:62">dts</name></name> <operator pos:start="439:64" pos:end="439:64">-</operator> <name pos:start="439:66" pos:end="439:81">RELATIVE_TS_BASE</name></expr> </then><else pos:start="439:83" pos:end="439:92">: <expr pos:start="439:85" pos:end="439:92"><name pos:start="439:85" pos:end="439:92"><name pos:start="439:85" pos:end="439:87">pkt</name><operator pos:start="439:88" pos:end="439:89">-&gt;</operator><name pos:start="439:90" pos:end="439:92">dts</name></name></expr></else></ternary><operator pos:start="439:93" pos:end="439:93">)</operator> <operator pos:start="439:95" pos:end="439:95">*</operator> <call pos:start="439:97" pos:end="439:117"><name pos:start="439:97" pos:end="439:102">av_q2d</name><argument_list pos:start="439:103" pos:end="439:117">(<argument pos:start="439:104" pos:end="439:116"><expr pos:start="439:104" pos:end="439:116"><name pos:start="439:104" pos:end="439:116"><name pos:start="439:104" pos:end="439:105">st</name><operator pos:start="439:106" pos:end="439:107">-&gt;</operator><name pos:start="439:108" pos:end="439:116">time_base</name></name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

                <decl_stmt pos:start="441:17" pos:end="441:50"><decl pos:start="441:17" pos:end="441:49"><type pos:start="441:17" pos:end="441:23"><name pos:start="441:17" pos:end="441:23">int64_t</name></type> <name pos:start="441:25" pos:end="441:32">duration</name><init pos:start="441:33" pos:end="441:49">= <expr pos:start="441:35" pos:end="441:49"><name pos:start="441:35" pos:end="441:42"><name pos:start="441:35" pos:end="441:37">pkt</name><operator pos:start="441:38" pos:end="441:39">-&gt;</operator><name pos:start="441:40" pos:end="441:42">dts</name></name> <operator pos:start="441:44" pos:end="441:44">-</operator> <name pos:start="441:46" pos:end="441:49">last</name></expr></init></decl>;</decl_stmt>



                <if_stmt pos:start="445:17" pos:end="447:97"><if pos:start="445:17" pos:end="447:97">if <condition pos:start="445:20" pos:end="445:46">(<expr pos:start="445:21" pos:end="445:45"><operator pos:start="445:21" pos:end="445:21">!</operator><name pos:start="445:22" pos:end="445:45"><name pos:start="445:22" pos:end="445:23">st</name><operator pos:start="445:24" pos:end="445:25">-&gt;</operator><name pos:start="445:26" pos:end="445:29">info</name><operator pos:start="445:30" pos:end="445:31">-&gt;</operator><name pos:start="445:32" pos:end="445:45">duration_error</name></name></expr>)</condition><block type="pseudo" pos:start="447:21" pos:end="447:97"><block_content pos:start="447:21" pos:end="447:97">

                    <expr_stmt pos:start="447:21" pos:end="447:97"><expr pos:start="447:21" pos:end="447:96"><name pos:start="447:21" pos:end="447:44"><name pos:start="447:21" pos:end="447:22">st</name><operator pos:start="447:23" pos:end="447:24">-&gt;</operator><name pos:start="447:25" pos:end="447:28">info</name><operator pos:start="447:29" pos:end="447:30">-&gt;</operator><name pos:start="447:31" pos:end="447:44">duration_error</name></name> <operator pos:start="447:46" pos:end="447:46">=</operator> <call pos:start="447:48" pos:end="447:96"><name pos:start="447:48" pos:end="447:57">av_mallocz</name><argument_list pos:start="447:58" pos:end="447:96">(<argument pos:start="447:59" pos:end="447:95"><expr pos:start="447:59" pos:end="447:95"><sizeof pos:start="447:59" pos:end="447:93">sizeof<argument_list pos:start="447:65" pos:end="447:93">(<argument pos:start="447:66" pos:end="447:92"><expr pos:start="447:66" pos:end="447:92"><name pos:start="447:66" pos:end="447:92"><name pos:start="447:66" pos:end="447:67">st</name><operator pos:start="447:68" pos:end="447:69">-&gt;</operator><name pos:start="447:70" pos:end="447:73">info</name><operator pos:start="447:74" pos:end="447:75">-&gt;</operator><name pos:start="447:76" pos:end="447:89">duration_error</name><index pos:start="447:90" pos:end="447:92">[<expr pos:start="447:91" pos:end="447:91"><literal type="number" pos:start="447:91" pos:end="447:91">0</literal></expr>]</index></name></expr></argument>)</argument_list></sizeof><operator pos:start="447:94" pos:end="447:94">*</operator><literal type="number" pos:start="447:95" pos:end="447:95">2</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>



<comment type="line" pos:start="451:1" pos:end="451:66">//                 if(st-&gt;codec-&gt;codec_type == AVMEDIA_TYPE_VIDEO)</comment>

<comment type="line" pos:start="453:1" pos:end="453:63">//                     av_log(NULL, AV_LOG_ERROR, "%f\n", dts);</comment>

                <for pos:start="455:17" pos:end="473:17">for <control pos:start="455:21" pos:end="455:51">(<init pos:start="455:22" pos:end="455:25"><expr pos:start="455:22" pos:end="455:24"><name pos:start="455:22" pos:end="455:22">i</name><operator pos:start="455:23" pos:end="455:23">=</operator><literal type="number" pos:start="455:24" pos:end="455:24">0</literal></expr>;</init> <condition pos:start="455:27" pos:end="455:46"><expr pos:start="455:27" pos:end="455:45"><name pos:start="455:27" pos:end="455:27">i</name><operator pos:start="455:28" pos:end="455:28">&lt;</operator><name pos:start="455:29" pos:end="455:45">MAX_STD_TIMEBASES</name></expr>;</condition> <incr pos:start="455:48" pos:end="455:50"><expr pos:start="455:48" pos:end="455:50"><name pos:start="455:48" pos:end="455:48">i</name><operator pos:start="455:49" pos:end="455:50">++</operator></expr></incr>)</control> <block pos:start="455:53" pos:end="473:17">{<block_content pos:start="457:21" pos:end="471:21">

                    <decl_stmt pos:start="457:21" pos:end="457:56"><decl pos:start="457:21" pos:end="457:55"><type pos:start="457:21" pos:end="457:23"><name pos:start="457:21" pos:end="457:23">int</name></type> <name pos:start="457:25" pos:end="457:33">framerate</name><init pos:start="457:34" pos:end="457:55">= <expr pos:start="457:36" pos:end="457:55"><call pos:start="457:36" pos:end="457:55"><name pos:start="457:36" pos:end="457:52">get_std_framerate</name><argument_list pos:start="457:53" pos:end="457:55">(<argument pos:start="457:54" pos:end="457:54"><expr pos:start="457:54" pos:end="457:54"><name pos:start="457:54" pos:end="457:54">i</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

                    <decl_stmt pos:start="459:21" pos:end="459:57"><decl pos:start="459:21" pos:end="459:56"><type pos:start="459:21" pos:end="459:26"><name pos:start="459:21" pos:end="459:26">double</name></type> <name pos:start="459:28" pos:end="459:31">sdts</name><init pos:start="459:32" pos:end="459:56">= <expr pos:start="459:34" pos:end="459:56"><name pos:start="459:34" pos:end="459:36">dts</name><operator pos:start="459:37" pos:end="459:37">*</operator><name pos:start="459:38" pos:end="459:46">framerate</name><operator pos:start="459:47" pos:end="459:47">/</operator><operator pos:start="459:48" pos:end="459:48">(</operator><literal type="number" pos:start="459:49" pos:end="459:52">1001</literal><operator pos:start="459:53" pos:end="459:53">*</operator><literal type="number" pos:start="459:54" pos:end="459:55">12</literal><operator pos:start="459:56" pos:end="459:56">)</operator></expr></init></decl>;</decl_stmt>

                    <for pos:start="461:21" pos:end="471:21">for<control pos:start="461:24" pos:end="461:38">(<init pos:start="461:25" pos:end="461:28"><expr pos:start="461:25" pos:end="461:27"><name pos:start="461:25" pos:end="461:25">j</name><operator pos:start="461:26" pos:end="461:26">=</operator><literal type="number" pos:start="461:27" pos:end="461:27">0</literal></expr>;</init> <condition pos:start="461:30" pos:end="461:33"><expr pos:start="461:30" pos:end="461:32"><name pos:start="461:30" pos:end="461:30">j</name><operator pos:start="461:31" pos:end="461:31">&lt;</operator><literal type="number" pos:start="461:32" pos:end="461:32">2</literal></expr>;</condition> <incr pos:start="461:35" pos:end="461:37"><expr pos:start="461:35" pos:end="461:37"><name pos:start="461:35" pos:end="461:35">j</name><operator pos:start="461:36" pos:end="461:37">++</operator></expr></incr>)</control><block pos:start="461:39" pos:end="471:21">{<block_content pos:start="463:25" pos:end="469:73">

                        <decl_stmt pos:start="463:25" pos:end="463:58"><decl pos:start="463:25" pos:end="463:57"><type pos:start="463:25" pos:end="463:31"><name pos:start="463:25" pos:end="463:31">int64_t</name></type> <name pos:start="463:33" pos:end="463:37">ticks</name><init pos:start="463:38" pos:end="463:57">= <expr pos:start="463:40" pos:end="463:57"><call pos:start="463:40" pos:end="463:57"><name pos:start="463:40" pos:end="463:45">llrint</name><argument_list pos:start="463:46" pos:end="463:57">(<argument pos:start="463:47" pos:end="463:56"><expr pos:start="463:47" pos:end="463:56"><name pos:start="463:47" pos:end="463:50">sdts</name><operator pos:start="463:51" pos:end="463:51">+</operator><name pos:start="463:52" pos:end="463:52">j</name><operator pos:start="463:53" pos:end="463:53">*</operator><literal type="number" pos:start="463:54" pos:end="463:56">0.5</literal></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

                        <decl_stmt pos:start="465:25" pos:end="465:59"><decl pos:start="465:25" pos:end="465:58"><type pos:start="465:25" pos:end="465:30"><name pos:start="465:25" pos:end="465:30">double</name></type> <name pos:start="465:32" pos:end="465:36">error</name><init pos:start="465:37" pos:end="465:58">= <expr pos:start="465:39" pos:end="465:58"><name pos:start="465:39" pos:end="465:42">sdts</name> <operator pos:start="465:44" pos:end="465:44">-</operator> <name pos:start="465:46" pos:end="465:50">ticks</name> <operator pos:start="465:52" pos:end="465:52">+</operator> <name pos:start="465:54" pos:end="465:54">j</name><operator pos:start="465:55" pos:end="465:55">*</operator><literal type="number" pos:start="465:56" pos:end="465:58">0.5</literal></expr></init></decl>;</decl_stmt>

                        <expr_stmt pos:start="467:25" pos:end="467:67"><expr pos:start="467:25" pos:end="467:66"><name pos:start="467:25" pos:end="467:57"><name pos:start="467:25" pos:end="467:26">st</name><operator pos:start="467:27" pos:end="467:28">-&gt;</operator><name pos:start="467:29" pos:end="467:32">info</name><operator pos:start="467:33" pos:end="467:34">-&gt;</operator><name pos:start="467:35" pos:end="467:48">duration_error</name><index pos:start="467:49" pos:end="467:51">[<expr pos:start="467:50" pos:end="467:50"><name pos:start="467:50" pos:end="467:50">j</name></expr>]</index><index pos:start="467:52" pos:end="467:54">[<expr pos:start="467:53" pos:end="467:53"><literal type="number" pos:start="467:53" pos:end="467:53">0</literal></expr>]</index><index pos:start="467:55" pos:end="467:57">[<expr pos:start="467:56" pos:end="467:56"><name pos:start="467:56" pos:end="467:56">i</name></expr>]</index></name> <operator pos:start="467:59" pos:end="467:60">+=</operator> <name pos:start="467:62" pos:end="467:66">error</name></expr>;</expr_stmt>

                        <expr_stmt pos:start="469:25" pos:end="469:73"><expr pos:start="469:25" pos:end="469:72"><name pos:start="469:25" pos:end="469:57"><name pos:start="469:25" pos:end="469:26">st</name><operator pos:start="469:27" pos:end="469:28">-&gt;</operator><name pos:start="469:29" pos:end="469:32">info</name><operator pos:start="469:33" pos:end="469:34">-&gt;</operator><name pos:start="469:35" pos:end="469:48">duration_error</name><index pos:start="469:49" pos:end="469:51">[<expr pos:start="469:50" pos:end="469:50"><name pos:start="469:50" pos:end="469:50">j</name></expr>]</index><index pos:start="469:52" pos:end="469:54">[<expr pos:start="469:53" pos:end="469:53"><literal type="number" pos:start="469:53" pos:end="469:53">1</literal></expr>]</index><index pos:start="469:55" pos:end="469:57">[<expr pos:start="469:56" pos:end="469:56"><name pos:start="469:56" pos:end="469:56">i</name></expr>]</index></name> <operator pos:start="469:59" pos:end="469:60">+=</operator> <name pos:start="469:62" pos:end="469:66">error</name><operator pos:start="469:67" pos:end="469:67">*</operator><name pos:start="469:68" pos:end="469:72">error</name></expr>;</expr_stmt>

                    </block_content>}</block></for>

                </block_content>}</block></for>

                <expr_stmt pos:start="475:17" pos:end="475:43"><expr pos:start="475:17" pos:end="475:42"><name pos:start="475:17" pos:end="475:40"><name pos:start="475:17" pos:end="475:18">st</name><operator pos:start="475:19" pos:end="475:20">-&gt;</operator><name pos:start="475:21" pos:end="475:24">info</name><operator pos:start="475:25" pos:end="475:26">-&gt;</operator><name pos:start="475:27" pos:end="475:40">duration_count</name></name><operator pos:start="475:41" pos:end="475:42">++</operator></expr>;</expr_stmt>

                <comment type="line" pos:start="477:17" pos:end="477:80">// ignore the first 4 values, they might have some random jitter</comment>

                <if_stmt pos:start="479:17" pos:end="481:86"><if pos:start="479:17" pos:end="481:86">if <condition pos:start="479:20" pos:end="479:95">(<expr pos:start="479:21" pos:end="479:94"><name pos:start="479:21" pos:end="479:44"><name pos:start="479:21" pos:end="479:22">st</name><operator pos:start="479:23" pos:end="479:24">-&gt;</operator><name pos:start="479:25" pos:end="479:28">info</name><operator pos:start="479:29" pos:end="479:30">-&gt;</operator><name pos:start="479:31" pos:end="479:44">duration_count</name></name> <operator pos:start="479:46" pos:end="479:46">&gt;</operator> <literal type="number" pos:start="479:48" pos:end="479:48">3</literal> <operator pos:start="479:50" pos:end="479:51">&amp;&amp;</operator> <call pos:start="479:53" pos:end="479:73"><name pos:start="479:53" pos:end="479:63">is_relative</name><argument_list pos:start="479:64" pos:end="479:73">(<argument pos:start="479:65" pos:end="479:72"><expr pos:start="479:65" pos:end="479:72"><name pos:start="479:65" pos:end="479:72"><name pos:start="479:65" pos:end="479:67">pkt</name><operator pos:start="479:68" pos:end="479:69">-&gt;</operator><name pos:start="479:70" pos:end="479:72">dts</name></name></expr></argument>)</argument_list></call> <operator pos:start="479:75" pos:end="479:76">==</operator> <call pos:start="479:78" pos:end="479:94"><name pos:start="479:78" pos:end="479:88">is_relative</name><argument_list pos:start="479:89" pos:end="479:94">(<argument pos:start="479:90" pos:end="479:93"><expr pos:start="479:90" pos:end="479:93"><name pos:start="479:90" pos:end="479:93">last</name></expr></argument>)</argument_list></call></expr>)</condition><block type="pseudo" pos:start="481:21" pos:end="481:86"><block_content pos:start="481:21" pos:end="481:86">

                    <expr_stmt pos:start="481:21" pos:end="481:86"><expr pos:start="481:21" pos:end="481:85"><name pos:start="481:21" pos:end="481:42"><name pos:start="481:21" pos:end="481:22">st</name><operator pos:start="481:23" pos:end="481:24">-&gt;</operator><name pos:start="481:25" pos:end="481:28">info</name><operator pos:start="481:29" pos:end="481:30">-&gt;</operator><name pos:start="481:31" pos:end="481:42">duration_gcd</name></name> <operator pos:start="481:44" pos:end="481:44">=</operator> <call pos:start="481:46" pos:end="481:85"><name pos:start="481:46" pos:end="481:51">av_gcd</name><argument_list pos:start="481:52" pos:end="481:85">(<argument pos:start="481:53" pos:end="481:74"><expr pos:start="481:53" pos:end="481:74"><name pos:start="481:53" pos:end="481:74"><name pos:start="481:53" pos:end="481:54">st</name><operator pos:start="481:55" pos:end="481:56">-&gt;</operator><name pos:start="481:57" pos:end="481:60">info</name><operator pos:start="481:61" pos:end="481:62">-&gt;</operator><name pos:start="481:63" pos:end="481:74">duration_gcd</name></name></expr></argument>, <argument pos:start="481:77" pos:end="481:84"><expr pos:start="481:77" pos:end="481:84"><name pos:start="481:77" pos:end="481:84">duration</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

            </block_content>}</block></if></if_stmt>

            <if_stmt pos:start="485:13" pos:end="487:46"><if pos:start="485:13" pos:end="487:46">if <condition pos:start="485:16" pos:end="485:43">(<expr pos:start="485:17" pos:end="485:42"><name pos:start="485:17" pos:end="485:24"><name pos:start="485:17" pos:end="485:19">pkt</name><operator pos:start="485:20" pos:end="485:21">-&gt;</operator><name pos:start="485:22" pos:end="485:24">dts</name></name> <operator pos:start="485:26" pos:end="485:27">!=</operator> <name pos:start="485:29" pos:end="485:42">AV_NOPTS_VALUE</name></expr>)</condition><block type="pseudo" pos:start="487:17" pos:end="487:46"><block_content pos:start="487:17" pos:end="487:46">

                <expr_stmt pos:start="487:17" pos:end="487:46"><expr pos:start="487:17" pos:end="487:45"><name pos:start="487:17" pos:end="487:34"><name pos:start="487:17" pos:end="487:18">st</name><operator pos:start="487:19" pos:end="487:20">-&gt;</operator><name pos:start="487:21" pos:end="487:24">info</name><operator pos:start="487:25" pos:end="487:26">-&gt;</operator><name pos:start="487:27" pos:end="487:34">last_dts</name></name> <operator pos:start="487:36" pos:end="487:36">=</operator> <name pos:start="487:38" pos:end="487:45"><name pos:start="487:38" pos:end="487:40">pkt</name><operator pos:start="487:41" pos:end="487:42">-&gt;</operator><name pos:start="487:43" pos:end="487:45">dts</name></name></expr>;</expr_stmt></block_content></block></if></if_stmt>

        </block_content>}</block>

<cpp:endif pos:start="491:1" pos:end="491:6">#<cpp:directive pos:start="491:2" pos:end="491:6">endif</cpp:directive></cpp:endif>

        <if_stmt pos:start="493:9" pos:end="513:9"><if pos:start="493:9" pos:end="513:9">if<condition pos:start="493:11" pos:end="493:76">(<expr pos:start="493:12" pos:end="493:75"><name pos:start="493:12" pos:end="493:21"><name pos:start="493:12" pos:end="493:13">st</name><operator pos:start="493:14" pos:end="493:15">-&gt;</operator><name pos:start="493:16" pos:end="493:21">parser</name></name> <operator pos:start="493:23" pos:end="493:24">&amp;&amp;</operator> <name pos:start="493:26" pos:end="493:50"><name pos:start="493:26" pos:end="493:27">st</name><operator pos:start="493:28" pos:end="493:29">-&gt;</operator><name pos:start="493:30" pos:end="493:35">parser</name><operator pos:start="493:36" pos:end="493:37">-&gt;</operator><name pos:start="493:38" pos:end="493:43">parser</name><operator pos:start="493:44" pos:end="493:45">-&gt;</operator><name pos:start="493:46" pos:end="493:50">split</name></name> <operator pos:start="493:52" pos:end="493:53">&amp;&amp;</operator> <operator pos:start="493:55" pos:end="493:55">!</operator><name pos:start="493:56" pos:end="493:75"><name pos:start="493:56" pos:end="493:57">st</name><operator pos:start="493:58" pos:end="493:59">-&gt;</operator><name pos:start="493:60" pos:end="493:64">codec</name><operator pos:start="493:65" pos:end="493:66">-&gt;</operator><name pos:start="493:67" pos:end="493:75">extradata</name></name></expr>)</condition><block pos:start="493:77" pos:end="513:9">{<block_content pos:start="495:13" pos:end="511:13">

            <decl_stmt pos:start="495:13" pos:end="495:78"><decl pos:start="495:13" pos:end="495:77"><type pos:start="495:13" pos:end="495:15"><name pos:start="495:13" pos:end="495:15">int</name></type> <name pos:start="495:17" pos:end="495:17">i</name><init pos:start="495:18" pos:end="495:77">= <expr pos:start="495:20" pos:end="495:77"><call pos:start="495:20" pos:end="495:77"><name pos:start="495:20" pos:end="495:44"><name pos:start="495:20" pos:end="495:21">st</name><operator pos:start="495:22" pos:end="495:23">-&gt;</operator><name pos:start="495:24" pos:end="495:29">parser</name><operator pos:start="495:30" pos:end="495:31">-&gt;</operator><name pos:start="495:32" pos:end="495:37">parser</name><operator pos:start="495:38" pos:end="495:39">-&gt;</operator><name pos:start="495:40" pos:end="495:44">split</name></name><argument_list pos:start="495:45" pos:end="495:77">(<argument pos:start="495:46" pos:end="495:54"><expr pos:start="495:46" pos:end="495:54"><name pos:start="495:46" pos:end="495:54"><name pos:start="495:46" pos:end="495:47">st</name><operator pos:start="495:48" pos:end="495:49">-&gt;</operator><name pos:start="495:50" pos:end="495:54">codec</name></name></expr></argument>, <argument pos:start="495:57" pos:end="495:65"><expr pos:start="495:57" pos:end="495:65"><name pos:start="495:57" pos:end="495:65"><name pos:start="495:57" pos:end="495:59">pkt</name><operator pos:start="495:60" pos:end="495:61">-&gt;</operator><name pos:start="495:62" pos:end="495:65">data</name></name></expr></argument>, <argument pos:start="495:68" pos:end="495:76"><expr pos:start="495:68" pos:end="495:76"><name pos:start="495:68" pos:end="495:76"><name pos:start="495:68" pos:end="495:70">pkt</name><operator pos:start="495:71" pos:end="495:72">-&gt;</operator><name pos:start="495:73" pos:end="495:76">size</name></name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

            <if_stmt pos:start="497:13" pos:end="511:13"><if pos:start="497:13" pos:end="511:13">if <condition pos:start="497:16" pos:end="497:51">(<expr pos:start="497:17" pos:end="497:50"><name pos:start="497:17" pos:end="497:17">i</name> <operator pos:start="497:19" pos:end="497:19">&gt;</operator> <literal type="number" pos:start="497:21" pos:end="497:21">0</literal> <operator pos:start="497:23" pos:end="497:24">&amp;&amp;</operator> <name pos:start="497:26" pos:end="497:26">i</name> <operator pos:start="497:28" pos:end="497:28">&lt;</operator> <name pos:start="497:30" pos:end="497:50">FF_MAX_EXTRADATA_SIZE</name></expr>)</condition> <block pos:start="497:53" pos:end="511:13">{<block_content pos:start="499:17" pos:end="509:82">

                <expr_stmt pos:start="499:17" pos:end="499:45"><expr pos:start="499:17" pos:end="499:44"><name pos:start="499:17" pos:end="499:41"><name pos:start="499:17" pos:end="499:18">st</name><operator pos:start="499:19" pos:end="499:20">-&gt;</operator><name pos:start="499:21" pos:end="499:25">codec</name><operator pos:start="499:26" pos:end="499:27">-&gt;</operator><name pos:start="499:28" pos:end="499:41">extradata_size</name></name><operator pos:start="499:42" pos:end="499:42">=</operator> <name pos:start="499:44" pos:end="499:44">i</name></expr>;</expr_stmt>

                <expr_stmt pos:start="501:17" pos:end="501:106"><expr pos:start="501:17" pos:end="501:105"><name pos:start="501:17" pos:end="501:36"><name pos:start="501:17" pos:end="501:18">st</name><operator pos:start="501:19" pos:end="501:20">-&gt;</operator><name pos:start="501:21" pos:end="501:25">codec</name><operator pos:start="501:26" pos:end="501:27">-&gt;</operator><name pos:start="501:28" pos:end="501:36">extradata</name></name><operator pos:start="501:37" pos:end="501:37">=</operator> <call pos:start="501:39" pos:end="501:105"><name pos:start="501:39" pos:end="501:47">av_malloc</name><argument_list pos:start="501:48" pos:end="501:105">(<argument pos:start="501:49" pos:end="501:104"><expr pos:start="501:49" pos:end="501:104"><name pos:start="501:49" pos:end="501:73"><name pos:start="501:49" pos:end="501:50">st</name><operator pos:start="501:51" pos:end="501:52">-&gt;</operator><name pos:start="501:53" pos:end="501:57">codec</name><operator pos:start="501:58" pos:end="501:59">-&gt;</operator><name pos:start="501:60" pos:end="501:73">extradata_size</name></name> <operator pos:start="501:75" pos:end="501:75">+</operator> <name pos:start="501:77" pos:end="501:104">FF_INPUT_BUFFER_PADDING_SIZE</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <if_stmt pos:start="503:17" pos:end="505:43"><if pos:start="503:17" pos:end="505:43">if <condition pos:start="503:20" pos:end="503:42">(<expr pos:start="503:21" pos:end="503:41"><operator pos:start="503:21" pos:end="503:21">!</operator><name pos:start="503:22" pos:end="503:41"><name pos:start="503:22" pos:end="503:23">st</name><operator pos:start="503:24" pos:end="503:25">-&gt;</operator><name pos:start="503:26" pos:end="503:30">codec</name><operator pos:start="503:31" pos:end="503:32">-&gt;</operator><name pos:start="503:33" pos:end="503:41">extradata</name></name></expr>)</condition><block type="pseudo" pos:start="505:21" pos:end="505:43"><block_content pos:start="505:21" pos:end="505:43">

                    <return pos:start="505:21" pos:end="505:43">return <expr pos:start="505:28" pos:end="505:42"><call pos:start="505:28" pos:end="505:42"><name pos:start="505:28" pos:end="505:34">AVERROR</name><argument_list pos:start="505:35" pos:end="505:42">(<argument pos:start="505:36" pos:end="505:41"><expr pos:start="505:36" pos:end="505:41"><name pos:start="505:36" pos:end="505:41">ENOMEM</name></expr></argument>)</argument_list></call></expr>;</return></block_content></block></if></if_stmt>

                <expr_stmt pos:start="507:17" pos:end="507:83"><expr pos:start="507:17" pos:end="507:82"><call pos:start="507:17" pos:end="507:82"><name pos:start="507:17" pos:end="507:22">memcpy</name><argument_list pos:start="507:23" pos:end="507:82">(<argument pos:start="507:24" pos:end="507:43"><expr pos:start="507:24" pos:end="507:43"><name pos:start="507:24" pos:end="507:43"><name pos:start="507:24" pos:end="507:25">st</name><operator pos:start="507:26" pos:end="507:27">-&gt;</operator><name pos:start="507:28" pos:end="507:32">codec</name><operator pos:start="507:33" pos:end="507:34">-&gt;</operator><name pos:start="507:35" pos:end="507:43">extradata</name></name></expr></argument>, <argument pos:start="507:46" pos:end="507:54"><expr pos:start="507:46" pos:end="507:54"><name pos:start="507:46" pos:end="507:54"><name pos:start="507:46" pos:end="507:48">pkt</name><operator pos:start="507:49" pos:end="507:50">-&gt;</operator><name pos:start="507:51" pos:end="507:54">data</name></name></expr></argument>, <argument pos:start="507:57" pos:end="507:81"><expr pos:start="507:57" pos:end="507:81"><name pos:start="507:57" pos:end="507:81"><name pos:start="507:57" pos:end="507:58">st</name><operator pos:start="507:59" pos:end="507:60">-&gt;</operator><name pos:start="507:61" pos:end="507:65">codec</name><operator pos:start="507:66" pos:end="507:67">-&gt;</operator><name pos:start="507:68" pos:end="507:81">extradata_size</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="509:17" pos:end="509:82"><expr pos:start="509:17" pos:end="509:81"><call pos:start="509:17" pos:end="509:81"><name pos:start="509:17" pos:end="509:22">memset</name><argument_list pos:start="509:23" pos:end="509:81">(<argument pos:start="509:24" pos:end="509:47"><expr pos:start="509:24" pos:end="509:47"><name pos:start="509:24" pos:end="509:43"><name pos:start="509:24" pos:end="509:25">st</name><operator pos:start="509:26" pos:end="509:27">-&gt;</operator><name pos:start="509:28" pos:end="509:32">codec</name><operator pos:start="509:33" pos:end="509:34">-&gt;</operator><name pos:start="509:35" pos:end="509:43">extradata</name></name> <operator pos:start="509:45" pos:end="509:45">+</operator> <name pos:start="509:47" pos:end="509:47">i</name></expr></argument>, <argument pos:start="509:50" pos:end="509:50"><expr pos:start="509:50" pos:end="509:50"><literal type="number" pos:start="509:50" pos:end="509:50">0</literal></expr></argument>, <argument pos:start="509:53" pos:end="509:80"><expr pos:start="509:53" pos:end="509:80"><name pos:start="509:53" pos:end="509:80">FF_INPUT_BUFFER_PADDING_SIZE</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>

        </block_content>}</block></if></if_stmt>



        <comment type="block" pos:start="517:9" pos:end="533:10">/* if still no information, we try to open the codec and to

           decompress the frame. We try to avoid that in most cases as

           it takes longer and uses more memory. For MPEG-4, we need to

           decompress for QuickTime.



           If CODEC_CAP_CHANNEL_CONF is set this will force decoding of at

           least one frame of codec data, this makes sure the codec initializes

           the channel configuration and does not only trust the values from the container.

        */</comment>

        <expr_stmt pos:start="535:9" pos:end="535:90"><expr pos:start="535:9" pos:end="535:89"><call pos:start="535:9" pos:end="535:89"><name pos:start="535:9" pos:end="535:24">try_decode_frame</name><argument_list pos:start="535:25" pos:end="535:89">(<argument pos:start="535:26" pos:end="535:27"><expr pos:start="535:26" pos:end="535:27"><name pos:start="535:26" pos:end="535:27">st</name></expr></argument>, <argument pos:start="535:30" pos:end="535:32"><expr pos:start="535:30" pos:end="535:32"><name pos:start="535:30" pos:end="535:32">pkt</name></expr></argument>, <argument pos:start="535:35" pos:end="535:88"><expr pos:start="535:35" pos:end="535:88"><ternary pos:start="535:35" pos:end="535:88"><condition pos:start="535:35" pos:end="535:69"><expr pos:start="535:35" pos:end="535:67"><operator pos:start="535:35" pos:end="535:35">(</operator><name pos:start="535:36" pos:end="535:42">options</name> <operator pos:start="535:44" pos:end="535:45">&amp;&amp;</operator> <name pos:start="535:47" pos:end="535:47">i</name> <operator pos:start="535:49" pos:end="535:49">&lt;</operator> <name pos:start="535:51" pos:end="535:65">orig_nb_streams</name> <operator pos:start="535:67" pos:end="535:67">)</operator></expr> ?</condition><then pos:start="535:71" pos:end="535:81"> <expr pos:start="535:71" pos:end="535:81"><operator pos:start="535:71" pos:end="535:71">&amp;</operator><name pos:start="535:72" pos:end="535:81"><name pos:start="535:72" pos:end="535:78">options</name><index pos:start="535:79" pos:end="535:81">[<expr pos:start="535:80" pos:end="535:80"><name pos:start="535:80" pos:end="535:80">i</name></expr>]</index></name></expr> </then><else pos:start="535:83" pos:end="535:88">: <expr pos:start="535:85" pos:end="535:88"><name pos:start="535:85" pos:end="535:88">NULL</name></expr></else></ternary></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <expr_stmt pos:start="539:9" pos:end="539:35"><expr pos:start="539:9" pos:end="539:34"><name pos:start="539:9" pos:end="539:32"><name pos:start="539:9" pos:end="539:10">st</name><operator pos:start="539:11" pos:end="539:12">-&gt;</operator><name pos:start="539:13" pos:end="539:32">codec_info_nb_frames</name></name><operator pos:start="539:33" pos:end="539:34">++</operator></expr>;</expr_stmt>

        <expr_stmt pos:start="541:9" pos:end="541:16"><expr pos:start="541:9" pos:end="541:15"><name pos:start="541:9" pos:end="541:13">count</name><operator pos:start="541:14" pos:end="541:15">++</operator></expr>;</expr_stmt>

    </block_content>}</block></for>



    <if_stmt pos:start="547:5" pos:end="593:5"><if pos:start="547:5" pos:end="593:5">if <condition pos:start="547:8" pos:end="547:21">(<expr pos:start="547:9" pos:end="547:20"><name pos:start="547:9" pos:end="547:20">flush_codecs</name></expr>)</condition> <block pos:start="547:23" pos:end="593:5">{<block_content pos:start="549:9" pos:end="591:9">

        <decl_stmt pos:start="549:9" pos:end="549:35"><decl pos:start="549:9" pos:end="549:34"><type pos:start="549:9" pos:end="549:16"><name pos:start="549:9" pos:end="549:16">AVPacket</name></type> <name pos:start="549:18" pos:end="549:26">empty_pkt</name> <init pos:start="549:28" pos:end="549:34">= <expr pos:start="549:30" pos:end="549:34"><block pos:start="549:30" pos:end="549:34">{ <expr pos:start="549:32" pos:end="549:32"><literal type="number" pos:start="549:32" pos:end="549:32">0</literal></expr> }</block></expr></init></decl>;</decl_stmt>

        <decl_stmt pos:start="551:9" pos:end="551:20"><decl pos:start="551:9" pos:end="551:19"><type pos:start="551:9" pos:end="551:11"><name pos:start="551:9" pos:end="551:11">int</name></type> <name pos:start="551:13" pos:end="551:15">err</name> <init pos:start="551:17" pos:end="551:19">= <expr pos:start="551:19" pos:end="551:19"><literal type="number" pos:start="551:19" pos:end="551:19">0</literal></expr></init></decl>;</decl_stmt>

        <expr_stmt pos:start="553:9" pos:end="553:35"><expr pos:start="553:9" pos:end="553:34"><call pos:start="553:9" pos:end="553:34"><name pos:start="553:9" pos:end="553:22">av_init_packet</name><argument_list pos:start="553:23" pos:end="553:34">(<argument pos:start="553:24" pos:end="553:33"><expr pos:start="553:24" pos:end="553:33"><operator pos:start="553:24" pos:end="553:24">&amp;</operator><name pos:start="553:25" pos:end="553:33">empty_pkt</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <for pos:start="557:9" pos:end="591:9">for<control pos:start="557:12" pos:end="557:37">(<init pos:start="557:13" pos:end="557:16"><expr pos:start="557:13" pos:end="557:15"><name pos:start="557:13" pos:end="557:13">i</name><operator pos:start="557:14" pos:end="557:14">=</operator><literal type="number" pos:start="557:15" pos:end="557:15">0</literal></expr>;</init><condition pos:start="557:17" pos:end="557:33"><expr pos:start="557:17" pos:end="557:32"><name pos:start="557:17" pos:end="557:17">i</name><operator pos:start="557:18" pos:end="557:18">&lt;</operator><name pos:start="557:19" pos:end="557:32"><name pos:start="557:19" pos:end="557:20">ic</name><operator pos:start="557:21" pos:end="557:22">-&gt;</operator><name pos:start="557:23" pos:end="557:32">nb_streams</name></name></expr>;</condition><incr pos:start="557:34" pos:end="557:36"><expr pos:start="557:34" pos:end="557:36"><name pos:start="557:34" pos:end="557:34">i</name><operator pos:start="557:35" pos:end="557:36">++</operator></expr></incr>)</control> <block pos:start="557:39" pos:end="591:9">{<block_content pos:start="561:13" pos:end="589:13">



            <expr_stmt pos:start="561:13" pos:end="561:32"><expr pos:start="561:13" pos:end="561:31"><name pos:start="561:13" pos:end="561:14">st</name> <operator pos:start="561:16" pos:end="561:16">=</operator> <name pos:start="561:18" pos:end="561:31"><name pos:start="561:18" pos:end="561:19">ic</name><operator pos:start="561:20" pos:end="561:21">-&gt;</operator><name pos:start="561:22" pos:end="561:28">streams</name><index pos:start="561:29" pos:end="561:31">[<expr pos:start="561:30" pos:end="561:30"><name pos:start="561:30" pos:end="561:30">i</name></expr>]</index></name></expr>;</expr_stmt>



            <comment type="block" pos:start="565:13" pos:end="565:36">/* flush the decoders */</comment>

            <if_stmt pos:start="567:13" pos:end="589:13"><if pos:start="567:13" pos:end="589:13">if <condition pos:start="567:16" pos:end="567:45">(<expr pos:start="567:17" pos:end="567:44"><name pos:start="567:17" pos:end="567:39"><name pos:start="567:17" pos:end="567:18">st</name><operator pos:start="567:19" pos:end="567:20">-&gt;</operator><name pos:start="567:21" pos:end="567:24">info</name><operator pos:start="567:25" pos:end="567:26">-&gt;</operator><name pos:start="567:27" pos:end="567:39">found_decoder</name></name> <operator pos:start="567:41" pos:end="567:42">==</operator> <literal type="number" pos:start="567:44" pos:end="567:44">1</literal></expr>)</condition> <block pos:start="567:47" pos:end="589:13">{<block_content pos:start="569:17" pos:end="587:17">

                <do pos:start="569:17" pos:end="577:69">do <block pos:start="569:20" pos:end="577:17">{<block_content pos:start="571:21" pos:end="575:64">

                    <expr_stmt pos:start="571:21" pos:end="575:64"><expr pos:start="571:21" pos:end="575:63"><name pos:start="571:21" pos:end="571:23">err</name> <operator pos:start="571:25" pos:end="571:25">=</operator> <call pos:start="571:27" pos:end="575:63"><name pos:start="571:27" pos:end="571:42">try_decode_frame</name><argument_list pos:start="571:43" pos:end="575:63">(<argument pos:start="571:44" pos:end="571:45"><expr pos:start="571:44" pos:end="571:45"><name pos:start="571:44" pos:end="571:45">st</name></expr></argument>, <argument pos:start="571:48" pos:end="571:57"><expr pos:start="571:48" pos:end="571:57"><operator pos:start="571:48" pos:end="571:48">&amp;</operator><name pos:start="571:49" pos:end="571:57">empty_pkt</name></expr></argument>,

                                            <argument pos:start="573:45" pos:end="575:62"><expr pos:start="573:45" pos:end="575:62"><ternary pos:start="573:45" pos:end="575:62"><condition pos:start="573:45" pos:end="573:78"><expr pos:start="573:45" pos:end="573:76"><operator pos:start="573:45" pos:end="573:45">(</operator><name pos:start="573:46" pos:end="573:52">options</name> <operator pos:start="573:54" pos:end="573:55">&amp;&amp;</operator> <name pos:start="573:57" pos:end="573:57">i</name> <operator pos:start="573:59" pos:end="573:59">&lt;</operator> <name pos:start="573:61" pos:end="573:75">orig_nb_streams</name><operator pos:start="573:76" pos:end="573:76">)</operator></expr> ?</condition><then pos:start="575:45" pos:end="575:55">

                                            <expr pos:start="575:45" pos:end="575:55"><operator pos:start="575:45" pos:end="575:45">&amp;</operator><name pos:start="575:46" pos:end="575:55"><name pos:start="575:46" pos:end="575:52">options</name><index pos:start="575:53" pos:end="575:55">[<expr pos:start="575:54" pos:end="575:54"><name pos:start="575:54" pos:end="575:54">i</name></expr>]</index></name></expr> </then><else pos:start="575:57" pos:end="575:62">: <expr pos:start="575:59" pos:end="575:62"><name pos:start="575:59" pos:end="575:62">NULL</name></expr></else></ternary></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                </block_content>}</block> while <condition pos:start="577:25" pos:end="577:68">(<expr pos:start="577:26" pos:end="577:67"><name pos:start="577:26" pos:end="577:28">err</name> <operator pos:start="577:30" pos:end="577:30">&gt;</operator> <literal type="number" pos:start="577:32" pos:end="577:32">0</literal> <operator pos:start="577:34" pos:end="577:35">&amp;&amp;</operator> <operator pos:start="577:37" pos:end="577:37">!</operator><call pos:start="577:38" pos:end="577:67"><name pos:start="577:38" pos:end="577:57">has_codec_parameters</name><argument_list pos:start="577:58" pos:end="577:67">(<argument pos:start="577:59" pos:end="577:60"><expr pos:start="577:59" pos:end="577:60"><name pos:start="577:59" pos:end="577:60">st</name></expr></argument>, <argument pos:start="577:63" pos:end="577:66"><expr pos:start="577:63" pos:end="577:66"><name pos:start="577:63" pos:end="577:66">NULL</name></expr></argument>)</argument_list></call></expr>)</condition>;</do>



                <if_stmt pos:start="581:17" pos:end="587:17"><if pos:start="581:17" pos:end="587:17">if <condition pos:start="581:20" pos:end="581:28">(<expr pos:start="581:21" pos:end="581:27"><name pos:start="581:21" pos:end="581:23">err</name> <operator pos:start="581:25" pos:end="581:25">&lt;</operator> <literal type="number" pos:start="581:27" pos:end="581:27">0</literal></expr>)</condition> <block pos:start="581:30" pos:end="587:17">{<block_content pos:start="583:21" pos:end="585:70">

                    <expr_stmt pos:start="583:21" pos:end="585:70"><expr pos:start="583:21" pos:end="585:69"><call pos:start="583:21" pos:end="585:69"><name pos:start="583:21" pos:end="583:26">av_log</name><argument_list pos:start="583:27" pos:end="585:69">(<argument pos:start="583:28" pos:end="583:29"><expr pos:start="583:28" pos:end="583:29"><name pos:start="583:28" pos:end="583:29">ic</name></expr></argument>, <argument pos:start="583:32" pos:end="583:42"><expr pos:start="583:32" pos:end="583:42"><name pos:start="583:32" pos:end="583:42">AV_LOG_INFO</name></expr></argument>,

                        <argument pos:start="585:25" pos:end="585:57"><expr pos:start="585:25" pos:end="585:57"><literal type="string" pos:start="585:25" pos:end="585:57">"decoding for stream %d failed\n"</literal></expr></argument>, <argument pos:start="585:60" pos:end="585:68"><expr pos:start="585:60" pos:end="585:68"><name pos:start="585:60" pos:end="585:68"><name pos:start="585:60" pos:end="585:61">st</name><operator pos:start="585:62" pos:end="585:63">-&gt;</operator><name pos:start="585:64" pos:end="585:68">index</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

            </block_content>}</block></if></if_stmt>

        </block_content>}</block></for>

    </block_content>}</block></if></if_stmt>



    <comment type="line" pos:start="597:5" pos:end="597:59">// close codecs which were opened in try_decode_frame()</comment>

    <for pos:start="599:5" pos:end="605:5">for<control pos:start="599:8" pos:end="599:33">(<init pos:start="599:9" pos:end="599:12"><expr pos:start="599:9" pos:end="599:11"><name pos:start="599:9" pos:end="599:9">i</name><operator pos:start="599:10" pos:end="599:10">=</operator><literal type="number" pos:start="599:11" pos:end="599:11">0</literal></expr>;</init><condition pos:start="599:13" pos:end="599:29"><expr pos:start="599:13" pos:end="599:28"><name pos:start="599:13" pos:end="599:13">i</name><operator pos:start="599:14" pos:end="599:14">&lt;</operator><name pos:start="599:15" pos:end="599:28"><name pos:start="599:15" pos:end="599:16">ic</name><operator pos:start="599:17" pos:end="599:18">-&gt;</operator><name pos:start="599:19" pos:end="599:28">nb_streams</name></name></expr>;</condition><incr pos:start="599:30" pos:end="599:32"><expr pos:start="599:30" pos:end="599:32"><name pos:start="599:30" pos:end="599:30">i</name><operator pos:start="599:31" pos:end="599:32">++</operator></expr></incr>)</control> <block pos:start="599:35" pos:end="605:5">{<block_content pos:start="601:9" pos:end="603:33">

        <expr_stmt pos:start="601:9" pos:end="601:28"><expr pos:start="601:9" pos:end="601:27"><name pos:start="601:9" pos:end="601:10">st</name> <operator pos:start="601:12" pos:end="601:12">=</operator> <name pos:start="601:14" pos:end="601:27"><name pos:start="601:14" pos:end="601:15">ic</name><operator pos:start="601:16" pos:end="601:17">-&gt;</operator><name pos:start="601:18" pos:end="601:24">streams</name><index pos:start="601:25" pos:end="601:27">[<expr pos:start="601:26" pos:end="601:26"><name pos:start="601:26" pos:end="601:26">i</name></expr>]</index></name></expr>;</expr_stmt>

        <expr_stmt pos:start="603:9" pos:end="603:33"><expr pos:start="603:9" pos:end="603:32"><call pos:start="603:9" pos:end="603:32"><name pos:start="603:9" pos:end="603:21">avcodec_close</name><argument_list pos:start="603:22" pos:end="603:32">(<argument pos:start="603:23" pos:end="603:31"><expr pos:start="603:23" pos:end="603:31"><name pos:start="603:23" pos:end="603:31"><name pos:start="603:23" pos:end="603:24">st</name><operator pos:start="603:25" pos:end="603:26">-&gt;</operator><name pos:start="603:27" pos:end="603:31">codec</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></for>

    <for pos:start="607:5" pos:end="799:5">for<control pos:start="607:8" pos:end="607:33">(<init pos:start="607:9" pos:end="607:12"><expr pos:start="607:9" pos:end="607:11"><name pos:start="607:9" pos:end="607:9">i</name><operator pos:start="607:10" pos:end="607:10">=</operator><literal type="number" pos:start="607:11" pos:end="607:11">0</literal></expr>;</init><condition pos:start="607:13" pos:end="607:29"><expr pos:start="607:13" pos:end="607:28"><name pos:start="607:13" pos:end="607:13">i</name><operator pos:start="607:14" pos:end="607:14">&lt;</operator><name pos:start="607:15" pos:end="607:28"><name pos:start="607:15" pos:end="607:16">ic</name><operator pos:start="607:17" pos:end="607:18">-&gt;</operator><name pos:start="607:19" pos:end="607:28">nb_streams</name></name></expr>;</condition><incr pos:start="607:30" pos:end="607:32"><expr pos:start="607:30" pos:end="607:32"><name pos:start="607:30" pos:end="607:30">i</name><operator pos:start="607:31" pos:end="607:32">++</operator></expr></incr>)</control> <block pos:start="607:35" pos:end="799:5">{<block_content pos:start="609:9" pos:end="797:9">

        <expr_stmt pos:start="609:9" pos:end="609:28"><expr pos:start="609:9" pos:end="609:27"><name pos:start="609:9" pos:end="609:10">st</name> <operator pos:start="609:12" pos:end="609:12">=</operator> <name pos:start="609:14" pos:end="609:27"><name pos:start="609:14" pos:end="609:15">ic</name><operator pos:start="609:16" pos:end="609:17">-&gt;</operator><name pos:start="609:18" pos:end="609:24">streams</name><index pos:start="609:25" pos:end="609:27">[<expr pos:start="609:26" pos:end="609:26"><name pos:start="609:26" pos:end="609:26">i</name></expr>]</index></name></expr>;</expr_stmt>

        <if_stmt pos:start="611:9" pos:end="797:9"><if pos:start="611:9" pos:end="765:9">if <condition pos:start="611:12" pos:end="611:56">(<expr pos:start="611:13" pos:end="611:55"><name pos:start="611:13" pos:end="611:33"><name pos:start="611:13" pos:end="611:14">st</name><operator pos:start="611:15" pos:end="611:16">-&gt;</operator><name pos:start="611:17" pos:end="611:21">codec</name><operator pos:start="611:22" pos:end="611:23">-&gt;</operator><name pos:start="611:24" pos:end="611:33">codec_type</name></name> <operator pos:start="611:35" pos:end="611:36">==</operator> <name pos:start="611:38" pos:end="611:55">AVMEDIA_TYPE_VIDEO</name></expr>)</condition> <block pos:start="611:58" pos:end="765:9">{<block_content pos:start="613:13" pos:end="763:13">

            <if_stmt pos:start="613:13" pos:end="621:13"><if pos:start="613:13" pos:end="621:13">if<condition pos:start="613:15" pos:end="613:121">(<expr pos:start="613:16" pos:end="613:120"><name pos:start="613:16" pos:end="613:34"><name pos:start="613:16" pos:end="613:17">st</name><operator pos:start="613:18" pos:end="613:19">-&gt;</operator><name pos:start="613:20" pos:end="613:24">codec</name><operator pos:start="613:25" pos:end="613:26">-&gt;</operator><name pos:start="613:27" pos:end="613:34">codec_id</name></name> <operator pos:start="613:36" pos:end="613:37">==</operator> <name pos:start="613:39" pos:end="613:58">AV_CODEC_ID_RAWVIDEO</name> <operator pos:start="613:60" pos:end="613:61">&amp;&amp;</operator> <operator pos:start="613:63" pos:end="613:63">!</operator><name pos:start="613:64" pos:end="613:83"><name pos:start="613:64" pos:end="613:65">st</name><operator pos:start="613:66" pos:end="613:67">-&gt;</operator><name pos:start="613:68" pos:end="613:72">codec</name><operator pos:start="613:73" pos:end="613:74">-&gt;</operator><name pos:start="613:75" pos:end="613:83">codec_tag</name></name> <operator pos:start="613:85" pos:end="613:86">&amp;&amp;</operator> <operator pos:start="613:88" pos:end="613:88">!</operator><name pos:start="613:89" pos:end="613:120"><name pos:start="613:89" pos:end="613:90">st</name><operator pos:start="613:91" pos:end="613:92">-&gt;</operator><name pos:start="613:93" pos:end="613:97">codec</name><operator pos:start="613:98" pos:end="613:99">-&gt;</operator><name pos:start="613:100" pos:end="613:120">bits_per_coded_sample</name></name></expr>)</condition><block pos:start="613:122" pos:end="621:13">{<block_content pos:start="615:17" pos:end="619:46">

                <decl_stmt pos:start="615:17" pos:end="615:79"><decl pos:start="615:17" pos:end="615:78"><type pos:start="615:17" pos:end="615:24"><name pos:start="615:17" pos:end="615:24">uint32_t</name></type> <name pos:start="615:26" pos:end="615:28">tag</name><init pos:start="615:29" pos:end="615:78">= <expr pos:start="615:31" pos:end="615:78"><call pos:start="615:31" pos:end="615:78"><name pos:start="615:31" pos:end="615:58">avcodec_pix_fmt_to_codec_tag</name><argument_list pos:start="615:59" pos:end="615:78">(<argument pos:start="615:60" pos:end="615:77"><expr pos:start="615:60" pos:end="615:77"><name pos:start="615:60" pos:end="615:77"><name pos:start="615:60" pos:end="615:61">st</name><operator pos:start="615:62" pos:end="615:63">-&gt;</operator><name pos:start="615:64" pos:end="615:68">codec</name><operator pos:start="615:69" pos:end="615:70">-&gt;</operator><name pos:start="615:71" pos:end="615:77">pix_fmt</name></name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

                <if_stmt pos:start="617:17" pos:end="619:46"><if pos:start="617:17" pos:end="619:46">if <condition pos:start="617:20" pos:end="617:88">(<expr pos:start="617:21" pos:end="617:87"><call pos:start="617:21" pos:end="617:65"><name pos:start="617:21" pos:end="617:39">avpriv_find_pix_fmt</name><argument_list pos:start="617:40" pos:end="617:65">(<argument pos:start="617:41" pos:end="617:59"><expr pos:start="617:41" pos:end="617:59"><name pos:start="617:41" pos:end="617:59">ff_raw_pix_fmt_tags</name></expr></argument>, <argument pos:start="617:62" pos:end="617:64"><expr pos:start="617:62" pos:end="617:64"><name pos:start="617:62" pos:end="617:64">tag</name></expr></argument>)</argument_list></call> <operator pos:start="617:67" pos:end="617:68">==</operator> <name pos:start="617:70" pos:end="617:87"><name pos:start="617:70" pos:end="617:71">st</name><operator pos:start="617:72" pos:end="617:73">-&gt;</operator><name pos:start="617:74" pos:end="617:78">codec</name><operator pos:start="617:79" pos:end="617:80">-&gt;</operator><name pos:start="617:81" pos:end="617:87">pix_fmt</name></name></expr>)</condition><block type="pseudo" pos:start="619:21" pos:end="619:46"><block_content pos:start="619:21" pos:end="619:46">

                    <expr_stmt pos:start="619:21" pos:end="619:46"><expr pos:start="619:21" pos:end="619:45"><name pos:start="619:21" pos:end="619:40"><name pos:start="619:21" pos:end="619:22">st</name><operator pos:start="619:23" pos:end="619:24">-&gt;</operator><name pos:start="619:25" pos:end="619:29">codec</name><operator pos:start="619:30" pos:end="619:31">-&gt;</operator><name pos:start="619:32" pos:end="619:40">codec_tag</name></name><operator pos:start="619:41" pos:end="619:41">=</operator> <name pos:start="619:43" pos:end="619:45">tag</name></expr>;</expr_stmt></block_content></block></if></if_stmt>

            </block_content>}</block></if></if_stmt>



            <comment type="block" pos:start="625:13" pos:end="625:66">/* estimate average framerate if not set by demuxer */</comment>

            <if_stmt pos:start="627:13" pos:end="673:13"><if pos:start="627:13" pos:end="673:13">if <condition pos:start="627:16" pos:end="627:113">(<expr pos:start="627:17" pos:end="627:112"><name pos:start="627:17" pos:end="627:52"><name pos:start="627:17" pos:end="627:18">st</name><operator pos:start="627:19" pos:end="627:20">-&gt;</operator><name pos:start="627:21" pos:end="627:24">info</name><operator pos:start="627:25" pos:end="627:26">-&gt;</operator><name pos:start="627:27" pos:end="627:52">codec_info_duration_fields</name></name> <operator pos:start="627:54" pos:end="627:55">&amp;&amp;</operator> <operator pos:start="627:57" pos:end="627:57">!</operator><name pos:start="627:58" pos:end="627:79"><name pos:start="627:58" pos:end="627:59">st</name><operator pos:start="627:60" pos:end="627:61">-&gt;</operator><name pos:start="627:62" pos:end="627:75">avg_frame_rate</name><operator pos:start="627:76" pos:end="627:76">.</operator><name pos:start="627:77" pos:end="627:79">num</name></name> <operator pos:start="627:81" pos:end="627:82">&amp;&amp;</operator> <name pos:start="627:84" pos:end="627:112"><name pos:start="627:84" pos:end="627:85">st</name><operator pos:start="627:86" pos:end="627:87">-&gt;</operator><name pos:start="627:88" pos:end="627:91">info</name><operator pos:start="627:92" pos:end="627:93">-&gt;</operator><name pos:start="627:94" pos:end="627:112">codec_info_duration</name></name></expr>)</condition> <block pos:start="627:115" pos:end="673:13">{<block_content pos:start="629:17" pos:end="671:17">

                <decl_stmt pos:start="629:17" pos:end="629:38"><decl pos:start="629:17" pos:end="629:37"><type pos:start="629:17" pos:end="629:19"><name pos:start="629:17" pos:end="629:19">int</name></type>      <name pos:start="629:26" pos:end="629:33">best_fps</name> <init pos:start="629:35" pos:end="629:37">= <expr pos:start="629:37" pos:end="629:37"><literal type="number" pos:start="629:37" pos:end="629:37">0</literal></expr></init></decl>;</decl_stmt>

                <decl_stmt pos:start="631:17" pos:end="631:41"><decl pos:start="631:17" pos:end="631:40"><type pos:start="631:17" pos:end="631:22"><name pos:start="631:17" pos:end="631:22">double</name></type> <name pos:start="631:24" pos:end="631:33">best_error</name> <init pos:start="631:35" pos:end="631:40">= <expr pos:start="631:37" pos:end="631:40"><literal type="number" pos:start="631:37" pos:end="631:40">0.01</literal></expr></init></decl>;</decl_stmt>



                <expr_stmt pos:start="635:17" pos:end="639:93"><expr pos:start="635:17" pos:end="639:92"><call pos:start="635:17" pos:end="639:92"><name pos:start="635:17" pos:end="635:25">av_reduce</name><argument_list pos:start="635:26" pos:end="639:92">(<argument pos:start="635:27" pos:end="635:49"><expr pos:start="635:27" pos:end="635:49"><operator pos:start="635:27" pos:end="635:27">&amp;</operator><name pos:start="635:28" pos:end="635:49"><name pos:start="635:28" pos:end="635:29">st</name><operator pos:start="635:30" pos:end="635:31">-&gt;</operator><name pos:start="635:32" pos:end="635:45">avg_frame_rate</name><operator pos:start="635:46" pos:end="635:46">.</operator><name pos:start="635:47" pos:end="635:49">num</name></name></expr></argument>, <argument pos:start="635:52" pos:end="635:74"><expr pos:start="635:52" pos:end="635:74"><operator pos:start="635:52" pos:end="635:52">&amp;</operator><name pos:start="635:53" pos:end="635:74"><name pos:start="635:53" pos:end="635:54">st</name><operator pos:start="635:55" pos:end="635:56">-&gt;</operator><name pos:start="635:57" pos:end="635:70">avg_frame_rate</name><operator pos:start="635:71" pos:end="635:71">.</operator><name pos:start="635:72" pos:end="635:74">den</name></name></expr></argument>,

                          <argument pos:start="637:27" pos:end="637:89"><expr pos:start="637:27" pos:end="637:89"><name pos:start="637:27" pos:end="637:62"><name pos:start="637:27" pos:end="637:28">st</name><operator pos:start="637:29" pos:end="637:30">-&gt;</operator><name pos:start="637:31" pos:end="637:34">info</name><operator pos:start="637:35" pos:end="637:36">-&gt;</operator><name pos:start="637:37" pos:end="637:62">codec_info_duration_fields</name></name><operator pos:start="637:63" pos:end="637:63">*</operator><operator pos:start="637:64" pos:end="637:64">(</operator><name pos:start="637:65" pos:end="637:71">int64_t</name><operator pos:start="637:72" pos:end="637:72">)</operator><name pos:start="637:73" pos:end="637:89"><name pos:start="637:73" pos:end="637:74">st</name><operator pos:start="637:75" pos:end="637:76">-&gt;</operator><name pos:start="637:77" pos:end="637:85">time_base</name><operator pos:start="637:86" pos:end="637:86">.</operator><name pos:start="637:87" pos:end="637:89">den</name></name></expr></argument>,

                          <argument pos:start="639:27" pos:end="639:84"><expr pos:start="639:27" pos:end="639:84"><name pos:start="639:27" pos:end="639:55"><name pos:start="639:27" pos:end="639:28">st</name><operator pos:start="639:29" pos:end="639:30">-&gt;</operator><name pos:start="639:31" pos:end="639:34">info</name><operator pos:start="639:35" pos:end="639:36">-&gt;</operator><name pos:start="639:37" pos:end="639:55">codec_info_duration</name></name><operator pos:start="639:56" pos:end="639:56">*</operator><literal type="number" pos:start="639:57" pos:end="639:57">2</literal><operator pos:start="639:58" pos:end="639:58">*</operator><operator pos:start="639:59" pos:end="639:59">(</operator><name pos:start="639:60" pos:end="639:66">int64_t</name><operator pos:start="639:67" pos:end="639:67">)</operator><name pos:start="639:68" pos:end="639:84"><name pos:start="639:68" pos:end="639:69">st</name><operator pos:start="639:70" pos:end="639:71">-&gt;</operator><name pos:start="639:72" pos:end="639:80">time_base</name><operator pos:start="639:81" pos:end="639:81">.</operator><name pos:start="639:82" pos:end="639:84">num</name></name></expr></argument>, <argument pos:start="639:87" pos:end="639:91"><expr pos:start="639:87" pos:end="639:91"><literal type="number" pos:start="639:87" pos:end="639:91">60000</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>



                <comment type="block" pos:start="643:17" pos:end="645:55">/* round guessed framerate to a "standard" framerate if it's

                 * within 1% of the original estimate*/</comment>

                <for pos:start="647:17" pos:end="663:17">for <control pos:start="647:21" pos:end="647:55">(<init pos:start="647:22" pos:end="647:27"><expr pos:start="647:22" pos:end="647:26"><name pos:start="647:22" pos:end="647:22">j</name> <operator pos:start="647:24" pos:end="647:24">=</operator> <literal type="number" pos:start="647:26" pos:end="647:26">1</literal></expr>;</init> <condition pos:start="647:29" pos:end="647:50"><expr pos:start="647:29" pos:end="647:49"><name pos:start="647:29" pos:end="647:29">j</name> <operator pos:start="647:31" pos:end="647:31">&lt;</operator> <name pos:start="647:33" pos:end="647:49">MAX_STD_TIMEBASES</name></expr>;</condition> <incr pos:start="647:52" pos:end="647:54"><expr pos:start="647:52" pos:end="647:54"><name pos:start="647:52" pos:end="647:52">j</name><operator pos:start="647:53" pos:end="647:54">++</operator></expr></incr>)</control> <block pos:start="647:57" pos:end="663:17">{<block_content pos:start="649:21" pos:end="661:21">

                    <decl_stmt pos:start="649:21" pos:end="649:75"><decl pos:start="649:21" pos:end="649:74"><type pos:start="649:21" pos:end="649:30"><name pos:start="649:21" pos:end="649:30">AVRational</name></type> <name pos:start="649:32" pos:end="649:38">std_fps</name> <init pos:start="649:40" pos:end="649:74">= <expr pos:start="649:42" pos:end="649:74"><block pos:start="649:42" pos:end="649:74">{ <expr pos:start="649:44" pos:end="649:63"><call pos:start="649:44" pos:end="649:63"><name pos:start="649:44" pos:end="649:60">get_std_framerate</name><argument_list pos:start="649:61" pos:end="649:63">(<argument pos:start="649:62" pos:end="649:62"><expr pos:start="649:62" pos:end="649:62"><name pos:start="649:62" pos:end="649:62">j</name></expr></argument>)</argument_list></call></expr>, <expr pos:start="649:66" pos:end="649:72"><literal type="number" pos:start="649:66" pos:end="649:67">12</literal><operator pos:start="649:68" pos:end="649:68">*</operator><literal type="number" pos:start="649:69" pos:end="649:72">1001</literal></expr> }</block></expr></init></decl>;</decl_stmt>

                    <decl_stmt pos:start="651:21" pos:end="651:90"><decl pos:start="651:21" pos:end="651:89"><type pos:start="651:21" pos:end="651:26"><name pos:start="651:21" pos:end="651:26">double</name></type> <name pos:start="651:28" pos:end="651:32">error</name> <init pos:start="651:34" pos:end="651:89">= <expr pos:start="651:36" pos:end="651:89"><call pos:start="651:36" pos:end="651:89"><name pos:start="651:36" pos:end="651:39">fabs</name><argument_list pos:start="651:40" pos:end="651:89">(<argument pos:start="651:41" pos:end="651:88"><expr pos:start="651:41" pos:end="651:88"><call pos:start="651:41" pos:end="651:66"><name pos:start="651:41" pos:end="651:46">av_q2d</name><argument_list pos:start="651:47" pos:end="651:66">(<argument pos:start="651:48" pos:end="651:65"><expr pos:start="651:48" pos:end="651:65"><name pos:start="651:48" pos:end="651:65"><name pos:start="651:48" pos:end="651:49">st</name><operator pos:start="651:50" pos:end="651:51">-&gt;</operator><name pos:start="651:52" pos:end="651:65">avg_frame_rate</name></name></expr></argument>)</argument_list></call> <operator pos:start="651:68" pos:end="651:68">/</operator> <call pos:start="651:70" pos:end="651:84"><name pos:start="651:70" pos:end="651:75">av_q2d</name><argument_list pos:start="651:76" pos:end="651:84">(<argument pos:start="651:77" pos:end="651:83"><expr pos:start="651:77" pos:end="651:83"><name pos:start="651:77" pos:end="651:83">std_fps</name></expr></argument>)</argument_list></call> <operator pos:start="651:86" pos:end="651:86">-</operator> <literal type="number" pos:start="651:88" pos:end="651:88">1</literal></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>



                    <if_stmt pos:start="655:21" pos:end="661:21"><if pos:start="655:21" pos:end="661:21">if <condition pos:start="655:24" pos:end="655:43">(<expr pos:start="655:25" pos:end="655:42"><name pos:start="655:25" pos:end="655:29">error</name> <operator pos:start="655:31" pos:end="655:31">&lt;</operator> <name pos:start="655:33" pos:end="655:42">best_error</name></expr>)</condition> <block pos:start="655:45" pos:end="661:21">{<block_content pos:start="657:25" pos:end="659:49">

                        <expr_stmt pos:start="657:25" pos:end="657:43"><expr pos:start="657:25" pos:end="657:42"><name pos:start="657:25" pos:end="657:34">best_error</name> <operator pos:start="657:36" pos:end="657:36">=</operator> <name pos:start="657:38" pos:end="657:42">error</name></expr>;</expr_stmt>

                        <expr_stmt pos:start="659:25" pos:end="659:49"><expr pos:start="659:25" pos:end="659:48"><name pos:start="659:25" pos:end="659:32">best_fps</name>   <operator pos:start="659:36" pos:end="659:36">=</operator> <name pos:start="659:38" pos:end="659:48"><name pos:start="659:38" pos:end="659:44">std_fps</name><operator pos:start="659:45" pos:end="659:45">.</operator><name pos:start="659:46" pos:end="659:48">num</name></name></expr>;</expr_stmt>

                    </block_content>}</block></if></if_stmt>

                </block_content>}</block></for>

                <if_stmt pos:start="665:17" pos:end="671:17"><if pos:start="665:17" pos:end="671:17">if <condition pos:start="665:20" pos:end="665:29">(<expr pos:start="665:21" pos:end="665:28"><name pos:start="665:21" pos:end="665:28">best_fps</name></expr>)</condition> <block pos:start="665:31" pos:end="671:17">{<block_content pos:start="667:21" pos:end="669:58">

                    <expr_stmt pos:start="667:21" pos:end="669:58"><expr pos:start="667:21" pos:end="669:57"><call pos:start="667:21" pos:end="669:57"><name pos:start="667:21" pos:end="667:29">av_reduce</name><argument_list pos:start="667:30" pos:end="669:57">(<argument pos:start="667:31" pos:end="667:53"><expr pos:start="667:31" pos:end="667:53"><operator pos:start="667:31" pos:end="667:31">&amp;</operator><name pos:start="667:32" pos:end="667:53"><name pos:start="667:32" pos:end="667:33">st</name><operator pos:start="667:34" pos:end="667:35">-&gt;</operator><name pos:start="667:36" pos:end="667:49">avg_frame_rate</name><operator pos:start="667:50" pos:end="667:50">.</operator><name pos:start="667:51" pos:end="667:53">num</name></name></expr></argument>, <argument pos:start="667:56" pos:end="667:78"><expr pos:start="667:56" pos:end="667:78"><operator pos:start="667:56" pos:end="667:56">&amp;</operator><name pos:start="667:57" pos:end="667:78"><name pos:start="667:57" pos:end="667:58">st</name><operator pos:start="667:59" pos:end="667:60">-&gt;</operator><name pos:start="667:61" pos:end="667:74">avg_frame_rate</name><operator pos:start="667:75" pos:end="667:75">.</operator><name pos:start="667:76" pos:end="667:78">den</name></name></expr></argument>,

                              <argument pos:start="669:31" pos:end="669:38"><expr pos:start="669:31" pos:end="669:38"><name pos:start="669:31" pos:end="669:38">best_fps</name></expr></argument>, <argument pos:start="669:41" pos:end="669:47"><expr pos:start="669:41" pos:end="669:47"><literal type="number" pos:start="669:41" pos:end="669:42">12</literal><operator pos:start="669:43" pos:end="669:43">*</operator><literal type="number" pos:start="669:44" pos:end="669:47">1001</literal></expr></argument>, <argument pos:start="669:50" pos:end="669:56"><expr pos:start="669:50" pos:end="669:56"><name pos:start="669:50" pos:end="669:56">INT_MAX</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

            </block_content>}</block></if></if_stmt>

            <comment type="line" pos:start="675:13" pos:end="675:104">// the check for tb_unreliable() is not completely correct, since this is not about handling</comment>

            <comment type="line" pos:start="677:13" pos:end="677:100">// a unreliable/inexact time base, but a time base that is finer than necessary, as e.g.</comment>

            <comment type="line" pos:start="679:13" pos:end="679:34">// ipmovie.c produces.</comment>

            <if_stmt pos:start="681:13" pos:end="683:144"><if pos:start="681:13" pos:end="683:144">if <condition pos:start="681:16" pos:end="681:181">(<expr pos:start="681:17" pos:end="681:180"><call pos:start="681:17" pos:end="681:40"><name pos:start="681:17" pos:end="681:29">tb_unreliable</name><argument_list pos:start="681:30" pos:end="681:40">(<argument pos:start="681:31" pos:end="681:39"><expr pos:start="681:31" pos:end="681:39"><name pos:start="681:31" pos:end="681:39"><name pos:start="681:31" pos:end="681:32">st</name><operator pos:start="681:33" pos:end="681:34">-&gt;</operator><name pos:start="681:35" pos:end="681:39">codec</name></name></expr></argument>)</argument_list></call> <operator pos:start="681:42" pos:end="681:43">&amp;&amp;</operator> <name pos:start="681:45" pos:end="681:68"><name pos:start="681:45" pos:end="681:46">st</name><operator pos:start="681:47" pos:end="681:48">-&gt;</operator><name pos:start="681:49" pos:end="681:52">info</name><operator pos:start="681:53" pos:end="681:54">-&gt;</operator><name pos:start="681:55" pos:end="681:68">duration_count</name></name> <operator pos:start="681:70" pos:end="681:70">&gt;</operator> <literal type="number" pos:start="681:72" pos:end="681:73">15</literal> <operator pos:start="681:75" pos:end="681:76">&amp;&amp;</operator> <name pos:start="681:78" pos:end="681:99"><name pos:start="681:78" pos:end="681:79">st</name><operator pos:start="681:80" pos:end="681:81">-&gt;</operator><name pos:start="681:82" pos:end="681:85">info</name><operator pos:start="681:86" pos:end="681:87">-&gt;</operator><name pos:start="681:88" pos:end="681:99">duration_gcd</name></name> <operator pos:start="681:101" pos:end="681:101">&gt;</operator> <call pos:start="681:103" pos:end="681:155"><name pos:start="681:103" pos:end="681:107">FFMAX</name><argument_list pos:start="681:108" pos:end="681:155">(<argument pos:start="681:109" pos:end="681:109"><expr pos:start="681:109" pos:end="681:109"><literal type="number" pos:start="681:109" pos:end="681:109">1</literal></expr></argument>, <argument pos:start="681:112" pos:end="681:154"><expr pos:start="681:112" pos:end="681:154"><name pos:start="681:112" pos:end="681:128"><name pos:start="681:112" pos:end="681:113">st</name><operator pos:start="681:114" pos:end="681:115">-&gt;</operator><name pos:start="681:116" pos:end="681:124">time_base</name><operator pos:start="681:125" pos:end="681:125">.</operator><name pos:start="681:126" pos:end="681:128">den</name></name><operator pos:start="681:129" pos:end="681:129">/</operator><operator pos:start="681:130" pos:end="681:130">(</operator><literal type="number" pos:start="681:131" pos:end="681:135">500LL</literal><operator pos:start="681:136" pos:end="681:136">*</operator><name pos:start="681:137" pos:end="681:153"><name pos:start="681:137" pos:end="681:138">st</name><operator pos:start="681:139" pos:end="681:140">-&gt;</operator><name pos:start="681:141" pos:end="681:149">time_base</name><operator pos:start="681:150" pos:end="681:150">.</operator><name pos:start="681:151" pos:end="681:153">num</name></name><operator pos:start="681:154" pos:end="681:154">)</operator></expr></argument>)</argument_list></call> <operator pos:start="681:157" pos:end="681:158">&amp;&amp;</operator> <operator pos:start="681:160" pos:end="681:160">!</operator><name pos:start="681:161" pos:end="681:180"><name pos:start="681:161" pos:end="681:162">st</name><operator pos:start="681:163" pos:end="681:164">-&gt;</operator><name pos:start="681:165" pos:end="681:176">r_frame_rate</name><operator pos:start="681:177" pos:end="681:177">.</operator><name pos:start="681:178" pos:end="681:180">num</name></name></expr>)</condition><block type="pseudo" pos:start="683:17" pos:end="683:144"><block_content pos:start="683:17" pos:end="683:144">

                <expr_stmt pos:start="683:17" pos:end="683:144"><expr pos:start="683:17" pos:end="683:143"><call pos:start="683:17" pos:end="683:143"><name pos:start="683:17" pos:end="683:25">av_reduce</name><argument_list pos:start="683:26" pos:end="683:143">(<argument pos:start="683:27" pos:end="683:47"><expr pos:start="683:27" pos:end="683:47"><operator pos:start="683:27" pos:end="683:27">&amp;</operator><name pos:start="683:28" pos:end="683:47"><name pos:start="683:28" pos:end="683:29">st</name><operator pos:start="683:30" pos:end="683:31">-&gt;</operator><name pos:start="683:32" pos:end="683:43">r_frame_rate</name><operator pos:start="683:44" pos:end="683:44">.</operator><name pos:start="683:45" pos:end="683:47">num</name></name></expr></argument>, <argument pos:start="683:50" pos:end="683:70"><expr pos:start="683:50" pos:end="683:70"><operator pos:start="683:50" pos:end="683:50">&amp;</operator><name pos:start="683:51" pos:end="683:70"><name pos:start="683:51" pos:end="683:52">st</name><operator pos:start="683:53" pos:end="683:54">-&gt;</operator><name pos:start="683:55" pos:end="683:66">r_frame_rate</name><operator pos:start="683:67" pos:end="683:67">.</operator><name pos:start="683:68" pos:end="683:70">den</name></name></expr></argument>, <argument pos:start="683:73" pos:end="683:89"><expr pos:start="683:73" pos:end="683:89"><name pos:start="683:73" pos:end="683:89"><name pos:start="683:73" pos:end="683:74">st</name><operator pos:start="683:75" pos:end="683:76">-&gt;</operator><name pos:start="683:77" pos:end="683:85">time_base</name><operator pos:start="683:86" pos:end="683:86">.</operator><name pos:start="683:87" pos:end="683:89">den</name></name></expr></argument>, <argument pos:start="683:92" pos:end="683:133"><expr pos:start="683:92" pos:end="683:133"><name pos:start="683:92" pos:end="683:108"><name pos:start="683:92" pos:end="683:93">st</name><operator pos:start="683:94" pos:end="683:95">-&gt;</operator><name pos:start="683:96" pos:end="683:104">time_base</name><operator pos:start="683:105" pos:end="683:105">.</operator><name pos:start="683:106" pos:end="683:108">num</name></name> <operator pos:start="683:110" pos:end="683:110">*</operator> <name pos:start="683:112" pos:end="683:133"><name pos:start="683:112" pos:end="683:113">st</name><operator pos:start="683:114" pos:end="683:115">-&gt;</operator><name pos:start="683:116" pos:end="683:119">info</name><operator pos:start="683:120" pos:end="683:121">-&gt;</operator><name pos:start="683:122" pos:end="683:133">duration_gcd</name></name></expr></argument>, <argument pos:start="683:136" pos:end="683:142"><expr pos:start="683:136" pos:end="683:142"><name pos:start="683:136" pos:end="683:142">INT_MAX</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

            <if_stmt pos:start="685:13" pos:end="741:13"><if pos:start="685:13" pos:end="741:13">if <condition pos:start="685:16" pos:end="687:44">(<expr pos:start="685:17" pos:end="687:43"><name pos:start="685:17" pos:end="685:40"><name pos:start="685:17" pos:end="685:18">st</name><operator pos:start="685:19" pos:end="685:20">-&gt;</operator><name pos:start="685:21" pos:end="685:24">info</name><operator pos:start="685:25" pos:end="685:26">-&gt;</operator><name pos:start="685:27" pos:end="685:40">duration_count</name></name><operator pos:start="685:41" pos:end="685:41">&gt;</operator><literal type="number" pos:start="685:42" pos:end="685:42">1</literal> <operator pos:start="685:44" pos:end="685:45">&amp;&amp;</operator> <operator pos:start="685:47" pos:end="685:47">!</operator><name pos:start="685:48" pos:end="685:67"><name pos:start="685:48" pos:end="685:49">st</name><operator pos:start="685:50" pos:end="685:51">-&gt;</operator><name pos:start="685:52" pos:end="685:63">r_frame_rate</name><operator pos:start="685:64" pos:end="685:64">.</operator><name pos:start="685:65" pos:end="685:67">num</name></name>

                <operator pos:start="687:17" pos:end="687:18">&amp;&amp;</operator> <call pos:start="687:20" pos:end="687:43"><name pos:start="687:20" pos:end="687:32">tb_unreliable</name><argument_list pos:start="687:33" pos:end="687:43">(<argument pos:start="687:34" pos:end="687:42"><expr pos:start="687:34" pos:end="687:42"><name pos:start="687:34" pos:end="687:42"><name pos:start="687:34" pos:end="687:35">st</name><operator pos:start="687:36" pos:end="687:37">-&gt;</operator><name pos:start="687:38" pos:end="687:42">codec</name></name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="687:46" pos:end="741:13">{<block_content pos:start="689:17" pos:end="739:99">

                <decl_stmt pos:start="689:17" pos:end="689:28"><decl pos:start="689:17" pos:end="689:27"><type pos:start="689:17" pos:end="689:19"><name pos:start="689:17" pos:end="689:19">int</name></type> <name pos:start="689:21" pos:end="689:23">num</name> <init pos:start="689:25" pos:end="689:27">= <expr pos:start="689:27" pos:end="689:27"><literal type="number" pos:start="689:27" pos:end="689:27">0</literal></expr></init></decl>;</decl_stmt>

                <decl_stmt pos:start="691:17" pos:end="691:40"><decl pos:start="691:17" pos:end="691:39"><type pos:start="691:17" pos:end="691:22"><name pos:start="691:17" pos:end="691:22">double</name></type> <name pos:start="691:24" pos:end="691:33">best_error</name><init pos:start="691:34" pos:end="691:39">= <expr pos:start="691:36" pos:end="691:39"><literal type="number" pos:start="691:36" pos:end="691:39">0.01</literal></expr></init></decl>;</decl_stmt>



                <for pos:start="695:17" pos:end="733:17">for <control pos:start="695:21" pos:end="695:51">(<init pos:start="695:22" pos:end="695:25"><expr pos:start="695:22" pos:end="695:24"><name pos:start="695:22" pos:end="695:22">j</name><operator pos:start="695:23" pos:end="695:23">=</operator><literal type="number" pos:start="695:24" pos:end="695:24">0</literal></expr>;</init> <condition pos:start="695:27" pos:end="695:46"><expr pos:start="695:27" pos:end="695:45"><name pos:start="695:27" pos:end="695:27">j</name><operator pos:start="695:28" pos:end="695:28">&lt;</operator><name pos:start="695:29" pos:end="695:45">MAX_STD_TIMEBASES</name></expr>;</condition> <incr pos:start="695:48" pos:end="695:50"><expr pos:start="695:48" pos:end="695:50"><name pos:start="695:48" pos:end="695:48">j</name><operator pos:start="695:49" pos:end="695:50">++</operator></expr></incr>)</control> <block pos:start="695:53" pos:end="733:17">{<block_content pos:start="697:21" pos:end="731:21">

                    <decl_stmt pos:start="697:21" pos:end="697:26"><decl pos:start="697:21" pos:end="697:25"><type pos:start="697:21" pos:end="697:23"><name pos:start="697:21" pos:end="697:23">int</name></type> <name pos:start="697:25" pos:end="697:25">k</name></decl>;</decl_stmt>



                    <if_stmt pos:start="701:21" pos:end="703:33"><if pos:start="701:21" pos:end="703:33">if<condition pos:start="701:23" pos:end="701:143">(<expr pos:start="701:24" pos:end="701:142"><name pos:start="701:24" pos:end="701:52"><name pos:start="701:24" pos:end="701:25">st</name><operator pos:start="701:26" pos:end="701:27">-&gt;</operator><name pos:start="701:28" pos:end="701:31">info</name><operator pos:start="701:32" pos:end="701:33">-&gt;</operator><name pos:start="701:34" pos:end="701:52">codec_info_duration</name></name> <operator pos:start="701:54" pos:end="701:55">&amp;&amp;</operator> <name pos:start="701:57" pos:end="701:85"><name pos:start="701:57" pos:end="701:58">st</name><operator pos:start="701:59" pos:end="701:60">-&gt;</operator><name pos:start="701:61" pos:end="701:64">info</name><operator pos:start="701:65" pos:end="701:66">-&gt;</operator><name pos:start="701:67" pos:end="701:85">codec_info_duration</name></name><operator pos:start="701:86" pos:end="701:86">*</operator><call pos:start="701:87" pos:end="701:107"><name pos:start="701:87" pos:end="701:92">av_q2d</name><argument_list pos:start="701:93" pos:end="701:107">(<argument pos:start="701:94" pos:end="701:106"><expr pos:start="701:94" pos:end="701:106"><name pos:start="701:94" pos:end="701:106"><name pos:start="701:94" pos:end="701:95">st</name><operator pos:start="701:96" pos:end="701:97">-&gt;</operator><name pos:start="701:98" pos:end="701:106">time_base</name></name></expr></argument>)</argument_list></call> <operator pos:start="701:109" pos:end="701:109">&lt;</operator> <operator pos:start="701:111" pos:end="701:111">(</operator><literal type="number" pos:start="701:112" pos:end="701:115">1001</literal><operator pos:start="701:116" pos:end="701:116">*</operator><literal type="number" pos:start="701:117" pos:end="701:120">12.0</literal><operator pos:start="701:121" pos:end="701:121">)</operator><operator pos:start="701:122" pos:end="701:122">/</operator><call pos:start="701:123" pos:end="701:142"><name pos:start="701:123" pos:end="701:139">get_std_framerate</name><argument_list pos:start="701:140" pos:end="701:142">(<argument pos:start="701:141" pos:end="701:141"><expr pos:start="701:141" pos:end="701:141"><name pos:start="701:141" pos:end="701:141">j</name></expr></argument>)</argument_list></call></expr>)</condition><block type="pseudo" pos:start="703:25" pos:end="703:33"><block_content pos:start="703:25" pos:end="703:33">

                        <continue pos:start="703:25" pos:end="703:33">continue;</continue></block_content></block></if></if_stmt>

                    <if_stmt pos:start="705:21" pos:end="707:33"><if pos:start="705:21" pos:end="707:33">if<condition pos:start="705:23" pos:end="705:96">(<expr pos:start="705:24" pos:end="705:95"><operator pos:start="705:24" pos:end="705:24">!</operator><name pos:start="705:25" pos:end="705:53"><name pos:start="705:25" pos:end="705:26">st</name><operator pos:start="705:27" pos:end="705:28">-&gt;</operator><name pos:start="705:29" pos:end="705:32">info</name><operator pos:start="705:33" pos:end="705:34">-&gt;</operator><name pos:start="705:35" pos:end="705:53">codec_info_duration</name></name> <operator pos:start="705:55" pos:end="705:56">&amp;&amp;</operator> <literal type="number" pos:start="705:58" pos:end="705:60">1.0</literal> <operator pos:start="705:62" pos:end="705:62">&lt;</operator> <operator pos:start="705:64" pos:end="705:64">(</operator><literal type="number" pos:start="705:65" pos:end="705:68">1001</literal><operator pos:start="705:69" pos:end="705:69">*</operator><literal type="number" pos:start="705:70" pos:end="705:73">12.0</literal><operator pos:start="705:74" pos:end="705:74">)</operator><operator pos:start="705:75" pos:end="705:75">/</operator><call pos:start="705:76" pos:end="705:95"><name pos:start="705:76" pos:end="705:92">get_std_framerate</name><argument_list pos:start="705:93" pos:end="705:95">(<argument pos:start="705:94" pos:end="705:94"><expr pos:start="705:94" pos:end="705:94"><name pos:start="705:94" pos:end="705:94">j</name></expr></argument>)</argument_list></call></expr>)</condition><block type="pseudo" pos:start="707:25" pos:end="707:33"><block_content pos:start="707:25" pos:end="707:33">

                        <continue pos:start="707:25" pos:end="707:33">continue;</continue></block_content></block></if></if_stmt>

                    <for pos:start="709:21" pos:end="731:21">for<control pos:start="709:24" pos:end="709:38">(<init pos:start="709:25" pos:end="709:28"><expr pos:start="709:25" pos:end="709:27"><name pos:start="709:25" pos:end="709:25">k</name><operator pos:start="709:26" pos:end="709:26">=</operator><literal type="number" pos:start="709:27" pos:end="709:27">0</literal></expr>;</init> <condition pos:start="709:30" pos:end="709:33"><expr pos:start="709:30" pos:end="709:32"><name pos:start="709:30" pos:end="709:30">k</name><operator pos:start="709:31" pos:end="709:31">&lt;</operator><literal type="number" pos:start="709:32" pos:end="709:32">2</literal></expr>;</condition> <incr pos:start="709:35" pos:end="709:37"><expr pos:start="709:35" pos:end="709:37"><name pos:start="709:35" pos:end="709:35">k</name><operator pos:start="709:36" pos:end="709:37">++</operator></expr></incr>)</control><block pos:start="709:39" pos:end="731:21">{<block_content pos:start="711:25" pos:end="729:113">

                        <decl_stmt pos:start="711:25" pos:end="711:56"><decl pos:start="711:25" pos:end="711:55"><type pos:start="711:25" pos:end="711:27"><name pos:start="711:25" pos:end="711:27">int</name></type> <name pos:start="711:29" pos:end="711:29">n</name><init pos:start="711:30" pos:end="711:55">= <expr pos:start="711:32" pos:end="711:55"><name pos:start="711:32" pos:end="711:55"><name pos:start="711:32" pos:end="711:33">st</name><operator pos:start="711:34" pos:end="711:35">-&gt;</operator><name pos:start="711:36" pos:end="711:39">info</name><operator pos:start="711:40" pos:end="711:41">-&gt;</operator><name pos:start="711:42" pos:end="711:55">duration_count</name></name></expr></init></decl>;</decl_stmt>

                        <decl_stmt pos:start="713:25" pos:end="713:72"><decl pos:start="713:25" pos:end="713:71"><type pos:start="713:25" pos:end="713:30"><name pos:start="713:25" pos:end="713:30">double</name></type> <name pos:start="713:32" pos:end="713:32">a</name><init pos:start="713:33" pos:end="713:71">= <expr pos:start="713:35" pos:end="713:71"><name pos:start="713:35" pos:end="713:67"><name pos:start="713:35" pos:end="713:36">st</name><operator pos:start="713:37" pos:end="713:38">-&gt;</operator><name pos:start="713:39" pos:end="713:42">info</name><operator pos:start="713:43" pos:end="713:44">-&gt;</operator><name pos:start="713:45" pos:end="713:58">duration_error</name><index pos:start="713:59" pos:end="713:61">[<expr pos:start="713:60" pos:end="713:60"><name pos:start="713:60" pos:end="713:60">k</name></expr>]</index><index pos:start="713:62" pos:end="713:64">[<expr pos:start="713:63" pos:end="713:63"><literal type="number" pos:start="713:63" pos:end="713:63">0</literal></expr>]</index><index pos:start="713:65" pos:end="713:67">[<expr pos:start="713:66" pos:end="713:66"><name pos:start="713:66" pos:end="713:66">j</name></expr>]</index></name> <operator pos:start="713:69" pos:end="713:69">/</operator> <name pos:start="713:71" pos:end="713:71">n</name></expr></init></decl>;</decl_stmt>

                        <decl_stmt pos:start="715:25" pos:end="715:80"><decl pos:start="715:25" pos:end="715:79"><type pos:start="715:25" pos:end="715:30"><name pos:start="715:25" pos:end="715:30">double</name></type> <name pos:start="715:32" pos:end="715:36">error</name><init pos:start="715:37" pos:end="715:79">= <expr pos:start="715:39" pos:end="715:79"><name pos:start="715:39" pos:end="715:71"><name pos:start="715:39" pos:end="715:40">st</name><operator pos:start="715:41" pos:end="715:42">-&gt;</operator><name pos:start="715:43" pos:end="715:46">info</name><operator pos:start="715:47" pos:end="715:48">-&gt;</operator><name pos:start="715:49" pos:end="715:62">duration_error</name><index pos:start="715:63" pos:end="715:65">[<expr pos:start="715:64" pos:end="715:64"><name pos:start="715:64" pos:end="715:64">k</name></expr>]</index><index pos:start="715:66" pos:end="715:68">[<expr pos:start="715:67" pos:end="715:67"><literal type="number" pos:start="715:67" pos:end="715:67">1</literal></expr>]</index><index pos:start="715:69" pos:end="715:71">[<expr pos:start="715:70" pos:end="715:70"><name pos:start="715:70" pos:end="715:70">j</name></expr>]</index></name><operator pos:start="715:72" pos:end="715:72">/</operator><name pos:start="715:73" pos:end="715:73">n</name> <operator pos:start="715:75" pos:end="715:75">-</operator> <name pos:start="715:77" pos:end="715:77">a</name><operator pos:start="715:78" pos:end="715:78">*</operator><name pos:start="715:79" pos:end="715:79">a</name></expr></init></decl>;</decl_stmt>



                        <if_stmt pos:start="719:25" pos:end="725:25"><if pos:start="719:25" pos:end="725:25">if<condition pos:start="719:27" pos:end="719:73">(<expr pos:start="719:28" pos:end="719:72"><name pos:start="719:28" pos:end="719:60"><name pos:start="719:28" pos:end="719:32">error</name> <argument_list type="generic" pos:start="719:34" pos:end="719:60">&lt; <argument pos:start="719:36" pos:end="719:59"><expr pos:start="719:36" pos:end="719:59"><name pos:start="719:36" pos:end="719:45">best_error</name> <operator pos:start="719:47" pos:end="719:48">&amp;&amp;</operator> <name pos:start="719:50" pos:end="719:59">best_error</name></expr></argument>&gt;</argument_list></name> <literal type="number" pos:start="719:62" pos:end="719:72">0.000000001</literal></expr>)</condition><block pos:start="719:74" pos:end="725:25">{<block_content pos:start="721:29" pos:end="723:55">

                            <expr_stmt pos:start="721:29" pos:end="721:46"><expr pos:start="721:29" pos:end="721:45"><name pos:start="721:29" pos:end="721:38">best_error</name><operator pos:start="721:39" pos:end="721:39">=</operator> <name pos:start="721:41" pos:end="721:45">error</name></expr>;</expr_stmt>

                            <expr_stmt pos:start="723:29" pos:end="723:55"><expr pos:start="723:29" pos:end="723:54"><name pos:start="723:29" pos:end="723:31">num</name> <operator pos:start="723:33" pos:end="723:33">=</operator> <call pos:start="723:35" pos:end="723:54"><name pos:start="723:35" pos:end="723:51">get_std_framerate</name><argument_list pos:start="723:52" pos:end="723:54">(<argument pos:start="723:53" pos:end="723:53"><expr pos:start="723:53" pos:end="723:53"><name pos:start="723:53" pos:end="723:53">j</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                        </block_content>}</block></if></if_stmt>

                        <if_stmt pos:start="727:25" pos:end="729:113"><if pos:start="727:25" pos:end="729:113">if<condition pos:start="727:27" pos:end="727:40">(<expr pos:start="727:28" pos:end="727:39"><name pos:start="727:28" pos:end="727:32">error</name> <operator pos:start="727:34" pos:end="727:34">&lt;</operator> <literal type="number" pos:start="727:36" pos:end="727:39">0.02</literal></expr>)</condition><block type="pseudo" pos:start="729:29" pos:end="729:113"><block_content pos:start="729:29" pos:end="729:113">

                            <expr_stmt pos:start="729:29" pos:end="729:113"><expr pos:start="729:29" pos:end="729:112"><call pos:start="729:29" pos:end="729:112"><name pos:start="729:29" pos:end="729:34">av_log</name><argument_list pos:start="729:35" pos:end="729:112">(<argument pos:start="729:36" pos:end="729:39"><expr pos:start="729:36" pos:end="729:39"><name pos:start="729:36" pos:end="729:39">NULL</name></expr></argument>, <argument pos:start="729:42" pos:end="729:53"><expr pos:start="729:42" pos:end="729:53"><name pos:start="729:42" pos:end="729:53">AV_LOG_DEBUG</name></expr></argument>, <argument pos:start="729:56" pos:end="729:70"><expr pos:start="729:56" pos:end="729:70"><literal type="string" pos:start="729:56" pos:end="729:70">"rfps: %f %f\n"</literal></expr></argument>, <argument pos:start="729:73" pos:end="729:104"><expr pos:start="729:73" pos:end="729:104"><call pos:start="729:73" pos:end="729:92"><name pos:start="729:73" pos:end="729:89">get_std_framerate</name><argument_list pos:start="729:90" pos:end="729:92">(<argument pos:start="729:91" pos:end="729:91"><expr pos:start="729:91" pos:end="729:91"><name pos:start="729:91" pos:end="729:91">j</name></expr></argument>)</argument_list></call> <operator pos:start="729:94" pos:end="729:94">/</operator> <literal type="number" pos:start="729:96" pos:end="729:99">12.0</literal><operator pos:start="729:100" pos:end="729:100">/</operator><literal type="number" pos:start="729:101" pos:end="729:104">1001</literal></expr></argument>, <argument pos:start="729:107" pos:end="729:111"><expr pos:start="729:107" pos:end="729:111"><name pos:start="729:107" pos:end="729:111">error</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

                    </block_content>}</block></for>

                </block_content>}</block></for>

                <comment type="line" pos:start="735:17" pos:end="735:97">// do not increase frame rate by more than 1 % in order to match a standard rate.</comment>

                <if_stmt pos:start="737:17" pos:end="739:99"><if pos:start="737:17" pos:end="739:99">if <condition pos:start="737:20" pos:end="737:110">(<expr pos:start="737:21" pos:end="737:109"><name pos:start="737:21" pos:end="737:23">num</name> <operator pos:start="737:25" pos:end="737:26">&amp;&amp;</operator> <operator pos:start="737:28" pos:end="737:28">(</operator><operator pos:start="737:29" pos:end="737:29">!</operator><name pos:start="737:30" pos:end="737:49"><name pos:start="737:30" pos:end="737:31">st</name><operator pos:start="737:32" pos:end="737:33">-&gt;</operator><name pos:start="737:34" pos:end="737:45">r_frame_rate</name><operator pos:start="737:46" pos:end="737:46">.</operator><name pos:start="737:47" pos:end="737:49">num</name></name> <operator pos:start="737:51" pos:end="737:52">||</operator> <operator pos:start="737:54" pos:end="737:54">(</operator><name pos:start="737:55" pos:end="737:60">double</name><operator pos:start="737:61" pos:end="737:61">)</operator><name pos:start="737:62" pos:end="737:64">num</name><operator pos:start="737:65" pos:end="737:65">/</operator><operator pos:start="737:66" pos:end="737:66">(</operator><literal type="number" pos:start="737:67" pos:end="737:68">12</literal><operator pos:start="737:69" pos:end="737:69">*</operator><literal type="number" pos:start="737:70" pos:end="737:73">1001</literal><operator pos:start="737:74" pos:end="737:74">)</operator> <operator pos:start="737:76" pos:end="737:76">&lt;</operator> <literal type="number" pos:start="737:78" pos:end="737:81">1.01</literal> <operator pos:start="737:83" pos:end="737:83">*</operator> <call pos:start="737:85" pos:end="737:108"><name pos:start="737:85" pos:end="737:90">av_q2d</name><argument_list pos:start="737:91" pos:end="737:108">(<argument pos:start="737:92" pos:end="737:107"><expr pos:start="737:92" pos:end="737:107"><name pos:start="737:92" pos:end="737:107"><name pos:start="737:92" pos:end="737:93">st</name><operator pos:start="737:94" pos:end="737:95">-&gt;</operator><name pos:start="737:96" pos:end="737:107">r_frame_rate</name></name></expr></argument>)</argument_list></call><operator pos:start="737:109" pos:end="737:109">)</operator></expr>)</condition><block type="pseudo" pos:start="739:21" pos:end="739:99"><block_content pos:start="739:21" pos:end="739:99">

                    <expr_stmt pos:start="739:21" pos:end="739:99"><expr pos:start="739:21" pos:end="739:98"><call pos:start="739:21" pos:end="739:98"><name pos:start="739:21" pos:end="739:29">av_reduce</name><argument_list pos:start="739:30" pos:end="739:98">(<argument pos:start="739:31" pos:end="739:51"><expr pos:start="739:31" pos:end="739:51"><operator pos:start="739:31" pos:end="739:31">&amp;</operator><name pos:start="739:32" pos:end="739:51"><name pos:start="739:32" pos:end="739:33">st</name><operator pos:start="739:34" pos:end="739:35">-&gt;</operator><name pos:start="739:36" pos:end="739:47">r_frame_rate</name><operator pos:start="739:48" pos:end="739:48">.</operator><name pos:start="739:49" pos:end="739:51">num</name></name></expr></argument>, <argument pos:start="739:54" pos:end="739:74"><expr pos:start="739:54" pos:end="739:74"><operator pos:start="739:54" pos:end="739:54">&amp;</operator><name pos:start="739:55" pos:end="739:74"><name pos:start="739:55" pos:end="739:56">st</name><operator pos:start="739:57" pos:end="739:58">-&gt;</operator><name pos:start="739:59" pos:end="739:70">r_frame_rate</name><operator pos:start="739:71" pos:end="739:71">.</operator><name pos:start="739:72" pos:end="739:74">den</name></name></expr></argument>, <argument pos:start="739:77" pos:end="739:79"><expr pos:start="739:77" pos:end="739:79"><name pos:start="739:77" pos:end="739:79">num</name></expr></argument>, <argument pos:start="739:82" pos:end="739:88"><expr pos:start="739:82" pos:end="739:88"><literal type="number" pos:start="739:82" pos:end="739:83">12</literal><operator pos:start="739:84" pos:end="739:84">*</operator><literal type="number" pos:start="739:85" pos:end="739:88">1001</literal></expr></argument>, <argument pos:start="739:91" pos:end="739:97"><expr pos:start="739:91" pos:end="739:97"><name pos:start="739:91" pos:end="739:97">INT_MAX</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

            </block_content>}</block></if></if_stmt>



            <if_stmt pos:start="745:13" pos:end="763:13"><if pos:start="745:13" pos:end="763:13">if <condition pos:start="745:16" pos:end="745:38">(<expr pos:start="745:17" pos:end="745:37"><operator pos:start="745:17" pos:end="745:17">!</operator><name pos:start="745:18" pos:end="745:37"><name pos:start="745:18" pos:end="745:19">st</name><operator pos:start="745:20" pos:end="745:21">-&gt;</operator><name pos:start="745:22" pos:end="745:33">r_frame_rate</name><operator pos:start="745:34" pos:end="745:34">.</operator><name pos:start="745:35" pos:end="745:37">num</name></name></expr>)</condition><block pos:start="745:39" pos:end="763:13">{<block_content pos:start="747:17" pos:end="761:17">

                <if_stmt pos:start="747:17" pos:end="761:17"><if pos:start="747:17" pos:end="755:17">if<condition pos:start="747:19" pos:end="749:106">(    <expr pos:start="747:24" pos:end="749:105"><name pos:start="747:24" pos:end="747:47"><name pos:start="747:24" pos:end="747:25">st</name><operator pos:start="747:26" pos:end="747:27">-&gt;</operator><name pos:start="747:28" pos:end="747:32">codec</name><operator pos:start="747:33" pos:end="747:34">-&gt;</operator><name pos:start="747:35" pos:end="747:43">time_base</name><operator pos:start="747:44" pos:end="747:44">.</operator><name pos:start="747:45" pos:end="747:47">den</name></name> <operator pos:start="747:49" pos:end="747:49">*</operator> <operator pos:start="747:51" pos:end="747:51">(</operator><name pos:start="747:52" pos:end="747:58">int64_t</name><operator pos:start="747:59" pos:end="747:59">)</operator><name pos:start="747:60" pos:end="747:76"><name pos:start="747:60" pos:end="747:61">st</name><operator pos:start="747:62" pos:end="747:63">-&gt;</operator><name pos:start="747:64" pos:end="747:72">time_base</name><operator pos:start="747:73" pos:end="747:73">.</operator><name pos:start="747:74" pos:end="747:76">num</name></name>

                    <operator pos:start="749:21" pos:end="749:22">&lt;=</operator> <name pos:start="749:24" pos:end="749:47"><name pos:start="749:24" pos:end="749:25">st</name><operator pos:start="749:26" pos:end="749:27">-&gt;</operator><name pos:start="749:28" pos:end="749:32">codec</name><operator pos:start="749:33" pos:end="749:34">-&gt;</operator><name pos:start="749:35" pos:end="749:43">time_base</name><operator pos:start="749:44" pos:end="749:44">.</operator><name pos:start="749:45" pos:end="749:47">num</name></name> <operator pos:start="749:49" pos:end="749:49">*</operator> <name pos:start="749:51" pos:end="749:76"><name pos:start="749:51" pos:end="749:52">st</name><operator pos:start="749:53" pos:end="749:54">-&gt;</operator><name pos:start="749:55" pos:end="749:59">codec</name><operator pos:start="749:60" pos:end="749:61">-&gt;</operator><name pos:start="749:62" pos:end="749:76">ticks_per_frame</name></name> <operator pos:start="749:78" pos:end="749:78">*</operator> <operator pos:start="749:80" pos:end="749:80">(</operator><name pos:start="749:81" pos:end="749:87">int64_t</name><operator pos:start="749:88" pos:end="749:88">)</operator><name pos:start="749:89" pos:end="749:105"><name pos:start="749:89" pos:end="749:90">st</name><operator pos:start="749:91" pos:end="749:92">-&gt;</operator><name pos:start="749:93" pos:end="749:101">time_base</name><operator pos:start="749:102" pos:end="749:102">.</operator><name pos:start="749:103" pos:end="749:105">den</name></name></expr>)</condition><block pos:start="749:107" pos:end="755:17">{<block_content pos:start="751:21" pos:end="753:97">

                    <expr_stmt pos:start="751:21" pos:end="751:68"><expr pos:start="751:21" pos:end="751:67"><name pos:start="751:21" pos:end="751:40"><name pos:start="751:21" pos:end="751:22">st</name><operator pos:start="751:23" pos:end="751:24">-&gt;</operator><name pos:start="751:25" pos:end="751:36">r_frame_rate</name><operator pos:start="751:37" pos:end="751:37">.</operator><name pos:start="751:38" pos:end="751:40">num</name></name> <operator pos:start="751:42" pos:end="751:42">=</operator> <name pos:start="751:44" pos:end="751:67"><name pos:start="751:44" pos:end="751:45">st</name><operator pos:start="751:46" pos:end="751:47">-&gt;</operator><name pos:start="751:48" pos:end="751:52">codec</name><operator pos:start="751:53" pos:end="751:54">-&gt;</operator><name pos:start="751:55" pos:end="751:63">time_base</name><operator pos:start="751:64" pos:end="751:64">.</operator><name pos:start="751:65" pos:end="751:67">den</name></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="753:21" pos:end="753:97"><expr pos:start="753:21" pos:end="753:96"><name pos:start="753:21" pos:end="753:40"><name pos:start="753:21" pos:end="753:22">st</name><operator pos:start="753:23" pos:end="753:24">-&gt;</operator><name pos:start="753:25" pos:end="753:36">r_frame_rate</name><operator pos:start="753:37" pos:end="753:37">.</operator><name pos:start="753:38" pos:end="753:40">den</name></name> <operator pos:start="753:42" pos:end="753:42">=</operator> <name pos:start="753:44" pos:end="753:67"><name pos:start="753:44" pos:end="753:45">st</name><operator pos:start="753:46" pos:end="753:47">-&gt;</operator><name pos:start="753:48" pos:end="753:52">codec</name><operator pos:start="753:53" pos:end="753:54">-&gt;</operator><name pos:start="753:55" pos:end="753:63">time_base</name><operator pos:start="753:64" pos:end="753:64">.</operator><name pos:start="753:65" pos:end="753:67">num</name></name> <operator pos:start="753:69" pos:end="753:69">*</operator> <name pos:start="753:71" pos:end="753:96"><name pos:start="753:71" pos:end="753:72">st</name><operator pos:start="753:73" pos:end="753:74">-&gt;</operator><name pos:start="753:75" pos:end="753:79">codec</name><operator pos:start="753:80" pos:end="753:81">-&gt;</operator><name pos:start="753:82" pos:end="753:96">ticks_per_frame</name></name></expr>;</expr_stmt>

                </block_content>}</block></if><else pos:start="755:18" pos:end="761:17">else<block pos:start="755:22" pos:end="761:17">{<block_content pos:start="757:21" pos:end="759:61">

                    <expr_stmt pos:start="757:21" pos:end="757:61"><expr pos:start="757:21" pos:end="757:60"><name pos:start="757:21" pos:end="757:40"><name pos:start="757:21" pos:end="757:22">st</name><operator pos:start="757:23" pos:end="757:24">-&gt;</operator><name pos:start="757:25" pos:end="757:36">r_frame_rate</name><operator pos:start="757:37" pos:end="757:37">.</operator><name pos:start="757:38" pos:end="757:40">num</name></name> <operator pos:start="757:42" pos:end="757:42">=</operator> <name pos:start="757:44" pos:end="757:60"><name pos:start="757:44" pos:end="757:45">st</name><operator pos:start="757:46" pos:end="757:47">-&gt;</operator><name pos:start="757:48" pos:end="757:56">time_base</name><operator pos:start="757:57" pos:end="757:57">.</operator><name pos:start="757:58" pos:end="757:60">den</name></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="759:21" pos:end="759:61"><expr pos:start="759:21" pos:end="759:60"><name pos:start="759:21" pos:end="759:40"><name pos:start="759:21" pos:end="759:22">st</name><operator pos:start="759:23" pos:end="759:24">-&gt;</operator><name pos:start="759:25" pos:end="759:36">r_frame_rate</name><operator pos:start="759:37" pos:end="759:37">.</operator><name pos:start="759:38" pos:end="759:40">den</name></name> <operator pos:start="759:42" pos:end="759:42">=</operator> <name pos:start="759:44" pos:end="759:60"><name pos:start="759:44" pos:end="759:45">st</name><operator pos:start="759:46" pos:end="759:47">-&gt;</operator><name pos:start="759:48" pos:end="759:56">time_base</name><operator pos:start="759:57" pos:end="759:57">.</operator><name pos:start="759:58" pos:end="759:60">num</name></name></expr>;</expr_stmt>

                </block_content>}</block></else></if_stmt>

            </block_content>}</block></if></if_stmt>

        </block_content>}</block></if><if type="elseif" pos:start="765:10" pos:end="797:9">else if<condition pos:start="765:17" pos:end="765:61">(<expr pos:start="765:18" pos:end="765:60"><name pos:start="765:18" pos:end="765:38"><name pos:start="765:18" pos:end="765:19">st</name><operator pos:start="765:20" pos:end="765:21">-&gt;</operator><name pos:start="765:22" pos:end="765:26">codec</name><operator pos:start="765:27" pos:end="765:28">-&gt;</operator><name pos:start="765:29" pos:end="765:38">codec_type</name></name> <operator pos:start="765:40" pos:end="765:41">==</operator> <name pos:start="765:43" pos:end="765:60">AVMEDIA_TYPE_AUDIO</name></expr>)</condition> <block pos:start="765:63" pos:end="797:9">{<block_content pos:start="767:13" pos:end="795:13">

            <if_stmt pos:start="767:13" pos:end="769:94"><if pos:start="767:13" pos:end="769:94">if<condition pos:start="767:15" pos:end="767:49">(<expr pos:start="767:16" pos:end="767:48"><operator pos:start="767:16" pos:end="767:16">!</operator><name pos:start="767:17" pos:end="767:48"><name pos:start="767:17" pos:end="767:18">st</name><operator pos:start="767:19" pos:end="767:20">-&gt;</operator><name pos:start="767:21" pos:end="767:25">codec</name><operator pos:start="767:26" pos:end="767:27">-&gt;</operator><name pos:start="767:28" pos:end="767:48">bits_per_coded_sample</name></name></expr>)</condition><block type="pseudo" pos:start="769:17" pos:end="769:94"><block_content pos:start="769:17" pos:end="769:94">

                <expr_stmt pos:start="769:17" pos:end="769:94"><expr pos:start="769:17" pos:end="769:93"><name pos:start="769:17" pos:end="769:48"><name pos:start="769:17" pos:end="769:18">st</name><operator pos:start="769:19" pos:end="769:20">-&gt;</operator><name pos:start="769:21" pos:end="769:25">codec</name><operator pos:start="769:26" pos:end="769:27">-&gt;</operator><name pos:start="769:28" pos:end="769:48">bits_per_coded_sample</name></name><operator pos:start="769:49" pos:end="769:49">=</operator> <call pos:start="769:51" pos:end="769:93"><name pos:start="769:51" pos:end="769:72">av_get_bits_per_sample</name><argument_list pos:start="769:73" pos:end="769:93">(<argument pos:start="769:74" pos:end="769:92"><expr pos:start="769:74" pos:end="769:92"><name pos:start="769:74" pos:end="769:92"><name pos:start="769:74" pos:end="769:75">st</name><operator pos:start="769:76" pos:end="769:77">-&gt;</operator><name pos:start="769:78" pos:end="769:82">codec</name><operator pos:start="769:83" pos:end="769:84">-&gt;</operator><name pos:start="769:85" pos:end="769:92">codec_id</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

            <comment type="line" pos:start="771:13" pos:end="771:65">// set stream disposition based on audio service type</comment>

            <switch pos:start="773:13" pos:end="795:13">switch <condition pos:start="773:20" pos:end="773:50">(<expr pos:start="773:21" pos:end="773:49"><name pos:start="773:21" pos:end="773:49"><name pos:start="773:21" pos:end="773:22">st</name><operator pos:start="773:23" pos:end="773:24">-&gt;</operator><name pos:start="773:25" pos:end="773:29">codec</name><operator pos:start="773:30" pos:end="773:31">-&gt;</operator><name pos:start="773:32" pos:end="773:49">audio_service_type</name></name></expr>)</condition> <block pos:start="773:52" pos:end="795:13">{<block_content pos:start="775:13" pos:end="793:73">

            <case pos:start="775:13" pos:end="775:47">case <expr pos:start="775:18" pos:end="775:46"><name pos:start="775:18" pos:end="775:46">AV_AUDIO_SERVICE_TYPE_EFFECTS</name></expr>:</case>

                <expr_stmt pos:start="777:17" pos:end="777:63"><expr pos:start="777:17" pos:end="777:62"><name pos:start="777:17" pos:end="777:31"><name pos:start="777:17" pos:end="777:18">st</name><operator pos:start="777:19" pos:end="777:20">-&gt;</operator><name pos:start="777:21" pos:end="777:31">disposition</name></name> <operator pos:start="777:33" pos:end="777:33">=</operator> <name pos:start="777:35" pos:end="777:62">AV_DISPOSITION_CLEAN_EFFECTS</name></expr>;</expr_stmt>    <break pos:start="777:68" pos:end="777:73">break;</break>

            <case pos:start="779:13" pos:end="779:57">case <expr pos:start="779:18" pos:end="779:56"><name pos:start="779:18" pos:end="779:56">AV_AUDIO_SERVICE_TYPE_VISUALLY_IMPAIRED</name></expr>:</case>

                <expr_stmt pos:start="781:17" pos:end="781:65"><expr pos:start="781:17" pos:end="781:64"><name pos:start="781:17" pos:end="781:31"><name pos:start="781:17" pos:end="781:18">st</name><operator pos:start="781:19" pos:end="781:20">-&gt;</operator><name pos:start="781:21" pos:end="781:31">disposition</name></name> <operator pos:start="781:33" pos:end="781:33">=</operator> <name pos:start="781:35" pos:end="781:64">AV_DISPOSITION_VISUAL_IMPAIRED</name></expr>;</expr_stmt>  <break pos:start="781:68" pos:end="781:73">break;</break>

            <case pos:start="783:13" pos:end="783:56">case <expr pos:start="783:18" pos:end="783:55"><name pos:start="783:18" pos:end="783:55">AV_AUDIO_SERVICE_TYPE_HEARING_IMPAIRED</name></expr>:</case>

                <expr_stmt pos:start="785:17" pos:end="785:66"><expr pos:start="785:17" pos:end="785:65"><name pos:start="785:17" pos:end="785:31"><name pos:start="785:17" pos:end="785:18">st</name><operator pos:start="785:19" pos:end="785:20">-&gt;</operator><name pos:start="785:21" pos:end="785:31">disposition</name></name> <operator pos:start="785:33" pos:end="785:33">=</operator> <name pos:start="785:35" pos:end="785:65">AV_DISPOSITION_HEARING_IMPAIRED</name></expr>;</expr_stmt> <break pos:start="785:68" pos:end="785:73">break;</break>

            <case pos:start="787:13" pos:end="787:50">case <expr pos:start="787:18" pos:end="787:49"><name pos:start="787:18" pos:end="787:49">AV_AUDIO_SERVICE_TYPE_COMMENTARY</name></expr>:</case>

                <expr_stmt pos:start="789:17" pos:end="789:57"><expr pos:start="789:17" pos:end="789:56"><name pos:start="789:17" pos:end="789:31"><name pos:start="789:17" pos:end="789:18">st</name><operator pos:start="789:19" pos:end="789:20">-&gt;</operator><name pos:start="789:21" pos:end="789:31">disposition</name></name> <operator pos:start="789:33" pos:end="789:33">=</operator> <name pos:start="789:35" pos:end="789:56">AV_DISPOSITION_COMMENT</name></expr>;</expr_stmt>          <break pos:start="789:68" pos:end="789:73">break;</break>

            <case pos:start="791:13" pos:end="791:47">case <expr pos:start="791:18" pos:end="791:46"><name pos:start="791:18" pos:end="791:46">AV_AUDIO_SERVICE_TYPE_KARAOKE</name></expr>:</case>

                <expr_stmt pos:start="793:17" pos:end="793:57"><expr pos:start="793:17" pos:end="793:56"><name pos:start="793:17" pos:end="793:31"><name pos:start="793:17" pos:end="793:18">st</name><operator pos:start="793:19" pos:end="793:20">-&gt;</operator><name pos:start="793:21" pos:end="793:31">disposition</name></name> <operator pos:start="793:33" pos:end="793:33">=</operator> <name pos:start="793:35" pos:end="793:56">AV_DISPOSITION_KARAOKE</name></expr>;</expr_stmt>          <break pos:start="793:68" pos:end="793:73">break;</break>

            </block_content>}</block></switch>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></for>



    <if_stmt pos:start="803:5" pos:end="805:37"><if pos:start="803:5" pos:end="805:37">if<condition pos:start="803:7" pos:end="803:21">(<expr pos:start="803:8" pos:end="803:20"><name pos:start="803:8" pos:end="803:20"><name pos:start="803:8" pos:end="803:9">ic</name><operator pos:start="803:10" pos:end="803:11">-&gt;</operator><name pos:start="803:12" pos:end="803:20">probesize</name></name></expr>)</condition><block type="pseudo" pos:start="805:5" pos:end="805:37"><block_content pos:start="805:5" pos:end="805:37">

    <expr_stmt pos:start="805:5" pos:end="805:37"><expr pos:start="805:5" pos:end="805:36"><call pos:start="805:5" pos:end="805:36"><name pos:start="805:5" pos:end="805:20">estimate_timings</name><argument_list pos:start="805:21" pos:end="805:36">(<argument pos:start="805:22" pos:end="805:23"><expr pos:start="805:22" pos:end="805:23"><name pos:start="805:22" pos:end="805:23">ic</name></expr></argument>, <argument pos:start="805:26" pos:end="805:35"><expr pos:start="805:26" pos:end="805:35"><name pos:start="805:26" pos:end="805:35">old_offset</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>



    <if_stmt pos:start="809:5" pos:end="811:17"><if pos:start="809:5" pos:end="811:17">if <condition pos:start="809:8" pos:end="809:35">(<expr pos:start="809:9" pos:end="809:34"><name pos:start="809:9" pos:end="809:11">ret</name> <operator pos:start="809:13" pos:end="809:14">&gt;=</operator> <literal type="number" pos:start="809:16" pos:end="809:16">0</literal> <operator pos:start="809:18" pos:end="809:19">&amp;&amp;</operator> <name pos:start="809:21" pos:end="809:34"><name pos:start="809:21" pos:end="809:22">ic</name><operator pos:start="809:23" pos:end="809:24">-&gt;</operator><name pos:start="809:25" pos:end="809:34">nb_streams</name></name></expr>)</condition><block type="pseudo" pos:start="811:9" pos:end="811:17"><block_content pos:start="811:9" pos:end="811:17">

        <expr_stmt pos:start="811:9" pos:end="811:17"><expr pos:start="811:9" pos:end="811:16"><name pos:start="811:9" pos:end="811:11">ret</name> <operator pos:start="811:13" pos:end="811:13">=</operator> <operator pos:start="811:15" pos:end="811:15">-</operator><literal type="number" pos:start="811:16" pos:end="811:16">1</literal></expr>;</expr_stmt></block_content></block></if></if_stmt> <comment type="block" pos:start="811:19" pos:end="811:77">/* we could not have all the codec parameters before EOF */</comment>

    <for pos:start="813:5" pos:end="839:5">for<control pos:start="813:8" pos:end="813:33">(<init pos:start="813:9" pos:end="813:12"><expr pos:start="813:9" pos:end="813:11"><name pos:start="813:9" pos:end="813:9">i</name><operator pos:start="813:10" pos:end="813:10">=</operator><literal type="number" pos:start="813:11" pos:end="813:11">0</literal></expr>;</init><condition pos:start="813:13" pos:end="813:29"><expr pos:start="813:13" pos:end="813:28"><name pos:start="813:13" pos:end="813:13">i</name><operator pos:start="813:14" pos:end="813:14">&lt;</operator><name pos:start="813:15" pos:end="813:28"><name pos:start="813:15" pos:end="813:16">ic</name><operator pos:start="813:17" pos:end="813:18">-&gt;</operator><name pos:start="813:19" pos:end="813:28">nb_streams</name></name></expr>;</condition><incr pos:start="813:30" pos:end="813:32"><expr pos:start="813:30" pos:end="813:32"><name pos:start="813:30" pos:end="813:30">i</name><operator pos:start="813:31" pos:end="813:32">++</operator></expr></incr>)</control> <block pos:start="813:35" pos:end="839:5">{<block_content pos:start="815:9" pos:end="837:9">

        <decl_stmt pos:start="815:9" pos:end="815:27"><decl pos:start="815:9" pos:end="815:26"><type pos:start="815:9" pos:end="815:20"><specifier pos:start="815:9" pos:end="815:13">const</specifier> <name pos:start="815:15" pos:end="815:18">char</name> <modifier pos:start="815:20" pos:end="815:20">*</modifier></type><name pos:start="815:21" pos:end="815:26">errmsg</name></decl>;</decl_stmt>

        <expr_stmt pos:start="817:9" pos:end="817:28"><expr pos:start="817:9" pos:end="817:27"><name pos:start="817:9" pos:end="817:10">st</name> <operator pos:start="817:12" pos:end="817:12">=</operator> <name pos:start="817:14" pos:end="817:27"><name pos:start="817:14" pos:end="817:15">ic</name><operator pos:start="817:16" pos:end="817:17">-&gt;</operator><name pos:start="817:18" pos:end="817:24">streams</name><index pos:start="817:25" pos:end="817:27">[<expr pos:start="817:26" pos:end="817:26"><name pos:start="817:26" pos:end="817:26">i</name></expr>]</index></name></expr>;</expr_stmt>

        <if_stmt pos:start="819:9" pos:end="837:9"><if pos:start="819:9" pos:end="833:9">if <condition pos:start="819:12" pos:end="819:47">(<expr pos:start="819:13" pos:end="819:46"><operator pos:start="819:13" pos:end="819:13">!</operator><call pos:start="819:14" pos:end="819:46"><name pos:start="819:14" pos:end="819:33">has_codec_parameters</name><argument_list pos:start="819:34" pos:end="819:46">(<argument pos:start="819:35" pos:end="819:36"><expr pos:start="819:35" pos:end="819:36"><name pos:start="819:35" pos:end="819:36">st</name></expr></argument>, <argument pos:start="819:39" pos:end="819:45"><expr pos:start="819:39" pos:end="819:45"><operator pos:start="819:39" pos:end="819:39">&amp;</operator><name pos:start="819:40" pos:end="819:45">errmsg</name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="819:49" pos:end="833:9">{<block_content pos:start="821:13" pos:end="831:35">

            <decl_stmt pos:start="821:13" pos:end="821:26"><decl pos:start="821:13" pos:end="821:25"><type pos:start="821:13" pos:end="821:16"><name pos:start="821:13" pos:end="821:16">char</name></type> <name pos:start="821:18" pos:end="821:25"><name pos:start="821:18" pos:end="821:20">buf</name><index pos:start="821:21" pos:end="821:25">[<expr pos:start="821:22" pos:end="821:24"><literal type="number" pos:start="821:22" pos:end="821:24">256</literal></expr>]</index></name></decl>;</decl_stmt>

            <expr_stmt pos:start="823:13" pos:end="823:59"><expr pos:start="823:13" pos:end="823:58"><call pos:start="823:13" pos:end="823:58"><name pos:start="823:13" pos:end="823:26">avcodec_string</name><argument_list pos:start="823:27" pos:end="823:58">(<argument pos:start="823:28" pos:end="823:30"><expr pos:start="823:28" pos:end="823:30"><name pos:start="823:28" pos:end="823:30">buf</name></expr></argument>, <argument pos:start="823:33" pos:end="823:43"><expr pos:start="823:33" pos:end="823:43"><sizeof pos:start="823:33" pos:end="823:43">sizeof<argument_list pos:start="823:39" pos:end="823:43">(<argument pos:start="823:40" pos:end="823:42"><expr pos:start="823:40" pos:end="823:42"><name pos:start="823:40" pos:end="823:42">buf</name></expr></argument>)</argument_list></sizeof></expr></argument>, <argument pos:start="823:46" pos:end="823:54"><expr pos:start="823:46" pos:end="823:54"><name pos:start="823:46" pos:end="823:54"><name pos:start="823:46" pos:end="823:47">st</name><operator pos:start="823:48" pos:end="823:49">-&gt;</operator><name pos:start="823:50" pos:end="823:54">codec</name></name></expr></argument>, <argument pos:start="823:57" pos:end="823:57"><expr pos:start="823:57" pos:end="823:57"><literal type="number" pos:start="823:57" pos:end="823:57">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="825:13" pos:end="831:35"><expr pos:start="825:13" pos:end="831:34"><call pos:start="825:13" pos:end="831:34"><name pos:start="825:13" pos:end="825:18">av_log</name><argument_list pos:start="825:19" pos:end="831:34">(<argument pos:start="825:20" pos:end="825:21"><expr pos:start="825:20" pos:end="825:21"><name pos:start="825:20" pos:end="825:21">ic</name></expr></argument>, <argument pos:start="825:24" pos:end="825:37"><expr pos:start="825:24" pos:end="825:37"><name pos:start="825:24" pos:end="825:37">AV_LOG_WARNING</name></expr></argument>,

                   <argument pos:start="827:20" pos:end="829:102"><expr pos:start="827:20" pos:end="829:102"><literal type="string" pos:start="827:20" pos:end="827:77">"Could not find codec parameters for stream %d (%s): %s\n"</literal>

                   <literal type="string" pos:start="829:20" pos:end="829:102">"Consider increasing the value for the 'analyzeduration' and 'probesize' options\n"</literal></expr></argument>,

                   <argument pos:start="831:20" pos:end="831:20"><expr pos:start="831:20" pos:end="831:20"><name pos:start="831:20" pos:end="831:20">i</name></expr></argument>, <argument pos:start="831:23" pos:end="831:25"><expr pos:start="831:23" pos:end="831:25"><name pos:start="831:23" pos:end="831:25">buf</name></expr></argument>, <argument pos:start="831:28" pos:end="831:33"><expr pos:start="831:28" pos:end="831:33"><name pos:start="831:28" pos:end="831:33">errmsg</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></if> <else pos:start="833:11" pos:end="837:9">else <block pos:start="833:16" pos:end="837:9">{<block_content pos:start="835:13" pos:end="835:20">

            <expr_stmt pos:start="835:13" pos:end="835:20"><expr pos:start="835:13" pos:end="835:19"><name pos:start="835:13" pos:end="835:15">ret</name> <operator pos:start="835:17" pos:end="835:17">=</operator> <literal type="number" pos:start="835:19" pos:end="835:19">0</literal></expr>;</expr_stmt>

        </block_content>}</block></else></if_stmt>

    </block_content>}</block></for>



    <expr_stmt pos:start="843:5" pos:end="843:29"><expr pos:start="843:5" pos:end="843:28"><call pos:start="843:5" pos:end="843:28"><name pos:start="843:5" pos:end="843:24">compute_chapters_end</name><argument_list pos:start="843:25" pos:end="843:28">(<argument pos:start="843:26" pos:end="843:27"><expr pos:start="843:26" pos:end="843:27"><name pos:start="843:26" pos:end="843:27">ic</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



 <label pos:start="847:2" pos:end="847:22"><name pos:start="847:2" pos:end="847:21">find_stream_info_err</name>:</label>

    <for pos:start="849:5" pos:end="863:5">for <control pos:start="849:9" pos:end="849:38">(<init pos:start="849:10" pos:end="849:13"><expr pos:start="849:10" pos:end="849:12"><name pos:start="849:10" pos:end="849:10">i</name><operator pos:start="849:11" pos:end="849:11">=</operator><literal type="number" pos:start="849:12" pos:end="849:12">0</literal></expr>;</init> <condition pos:start="849:15" pos:end="849:33"><expr pos:start="849:15" pos:end="849:32"><name pos:start="849:15" pos:end="849:15">i</name> <operator pos:start="849:17" pos:end="849:17">&lt;</operator> <name pos:start="849:19" pos:end="849:32"><name pos:start="849:19" pos:end="849:20">ic</name><operator pos:start="849:21" pos:end="849:22">-&gt;</operator><name pos:start="849:23" pos:end="849:32">nb_streams</name></name></expr>;</condition> <incr pos:start="849:35" pos:end="849:37"><expr pos:start="849:35" pos:end="849:37"><name pos:start="849:35" pos:end="849:35">i</name><operator pos:start="849:36" pos:end="849:37">++</operator></expr></incr>)</control> <block pos:start="849:40" pos:end="863:5">{<block_content pos:start="851:9" pos:end="861:40">

        <expr_stmt pos:start="851:9" pos:end="851:28"><expr pos:start="851:9" pos:end="851:27"><name pos:start="851:9" pos:end="851:10">st</name> <operator pos:start="851:12" pos:end="851:12">=</operator> <name pos:start="851:14" pos:end="851:27"><name pos:start="851:14" pos:end="851:15">ic</name><operator pos:start="851:16" pos:end="851:17">-&gt;</operator><name pos:start="851:18" pos:end="851:24">streams</name><index pos:start="851:25" pos:end="851:27">[<expr pos:start="851:26" pos:end="851:26"><name pos:start="851:26" pos:end="851:26">i</name></expr>]</index></name></expr>;</expr_stmt>

        <if_stmt pos:start="853:9" pos:end="855:52"><if pos:start="853:9" pos:end="855:52">if <condition pos:start="853:12" pos:end="853:93">(<expr pos:start="853:13" pos:end="853:92"><name pos:start="853:13" pos:end="853:26"><name pos:start="853:13" pos:end="853:14">ic</name><operator pos:start="853:15" pos:end="853:16">-&gt;</operator><name pos:start="853:17" pos:end="853:23">streams</name><index pos:start="853:24" pos:end="853:26">[<expr pos:start="853:25" pos:end="853:25"><name pos:start="853:25" pos:end="853:25">i</name></expr>]</index></name><operator pos:start="853:27" pos:end="853:28">-&gt;</operator><name pos:start="853:29" pos:end="853:33">codec</name> <operator pos:start="853:35" pos:end="853:36">&amp;&amp;</operator> <name pos:start="853:38" pos:end="853:51"><name pos:start="853:38" pos:end="853:39">ic</name><operator pos:start="853:40" pos:end="853:41">-&gt;</operator><name pos:start="853:42" pos:end="853:48">streams</name><index pos:start="853:49" pos:end="853:51">[<expr pos:start="853:50" pos:end="853:50"><name pos:start="853:50" pos:end="853:50">i</name></expr>]</index></name><operator pos:start="853:52" pos:end="853:53">-&gt;</operator><name pos:start="853:54" pos:end="853:70"><name pos:start="853:54" pos:end="853:58">codec</name><operator pos:start="853:59" pos:end="853:60">-&gt;</operator><name pos:start="853:61" pos:end="853:70">codec_type</name></name> <operator pos:start="853:72" pos:end="853:73">!=</operator> <name pos:start="853:75" pos:end="853:92">AVMEDIA_TYPE_AUDIO</name></expr>)</condition><block type="pseudo" pos:start="855:13" pos:end="855:52"><block_content pos:start="855:13" pos:end="855:52">

            <expr_stmt pos:start="855:13" pos:end="855:52"><expr pos:start="855:13" pos:end="855:51"><name pos:start="855:13" pos:end="855:26"><name pos:start="855:13" pos:end="855:14">ic</name><operator pos:start="855:15" pos:end="855:16">-&gt;</operator><name pos:start="855:17" pos:end="855:23">streams</name><index pos:start="855:24" pos:end="855:26">[<expr pos:start="855:25" pos:end="855:25"><name pos:start="855:25" pos:end="855:25">i</name></expr>]</index></name><operator pos:start="855:27" pos:end="855:28">-&gt;</operator><name pos:start="855:29" pos:end="855:47"><name pos:start="855:29" pos:end="855:33">codec</name><operator pos:start="855:34" pos:end="855:35">-&gt;</operator><name pos:start="855:36" pos:end="855:47">thread_count</name></name> <operator pos:start="855:49" pos:end="855:49">=</operator> <literal type="number" pos:start="855:51" pos:end="855:51">0</literal></expr>;</expr_stmt></block_content></block></if></if_stmt>

        <if_stmt pos:start="857:9" pos:end="859:48"><if pos:start="857:9" pos:end="859:48">if <condition pos:start="857:12" pos:end="857:21">(<expr pos:start="857:13" pos:end="857:20"><name pos:start="857:13" pos:end="857:20"><name pos:start="857:13" pos:end="857:14">st</name><operator pos:start="857:15" pos:end="857:16">-&gt;</operator><name pos:start="857:17" pos:end="857:20">info</name></name></expr>)</condition><block type="pseudo" pos:start="859:13" pos:end="859:48"><block_content pos:start="859:13" pos:end="859:48">

            <expr_stmt pos:start="859:13" pos:end="859:48"><expr pos:start="859:13" pos:end="859:47"><call pos:start="859:13" pos:end="859:47"><name pos:start="859:13" pos:end="859:20">av_freep</name><argument_list pos:start="859:21" pos:end="859:47">(<argument pos:start="859:22" pos:end="859:46"><expr pos:start="859:22" pos:end="859:46"><operator pos:start="859:22" pos:end="859:22">&amp;</operator><name pos:start="859:23" pos:end="859:46"><name pos:start="859:23" pos:end="859:24">st</name><operator pos:start="859:25" pos:end="859:26">-&gt;</operator><name pos:start="859:27" pos:end="859:30">info</name><operator pos:start="859:31" pos:end="859:32">-&gt;</operator><name pos:start="859:33" pos:end="859:46">duration_error</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

        <expr_stmt pos:start="861:9" pos:end="861:40"><expr pos:start="861:9" pos:end="861:39"><call pos:start="861:9" pos:end="861:39"><name pos:start="861:9" pos:end="861:16">av_freep</name><argument_list pos:start="861:17" pos:end="861:39">(<argument pos:start="861:18" pos:end="861:38"><expr pos:start="861:18" pos:end="861:38"><operator pos:start="861:18" pos:end="861:18">&amp;</operator><name pos:start="861:19" pos:end="861:32"><name pos:start="861:19" pos:end="861:20">ic</name><operator pos:start="861:21" pos:end="861:22">-&gt;</operator><name pos:start="861:23" pos:end="861:29">streams</name><index pos:start="861:30" pos:end="861:32">[<expr pos:start="861:31" pos:end="861:31"><name pos:start="861:31" pos:end="861:31">i</name></expr>]</index></name><operator pos:start="861:33" pos:end="861:34">-&gt;</operator><name pos:start="861:35" pos:end="861:38">info</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></for>

    <if_stmt pos:start="865:5" pos:end="867:118"><if pos:start="865:5" pos:end="867:118">if<condition pos:start="865:7" pos:end="865:14">(<expr pos:start="865:8" pos:end="865:13"><name pos:start="865:8" pos:end="865:13"><name pos:start="865:8" pos:end="865:9">ic</name><operator pos:start="865:10" pos:end="865:11">-&gt;</operator><name pos:start="865:12" pos:end="865:13">pb</name></name></expr>)</condition><block type="pseudo" pos:start="867:9" pos:end="867:118"><block_content pos:start="867:9" pos:end="867:118">

        <expr_stmt pos:start="867:9" pos:end="867:118"><expr pos:start="867:9" pos:end="867:117"><call pos:start="867:9" pos:end="867:117"><name pos:start="867:9" pos:end="867:14">av_log</name><argument_list pos:start="867:15" pos:end="867:117">(<argument pos:start="867:16" pos:end="867:17"><expr pos:start="867:16" pos:end="867:17"><name pos:start="867:16" pos:end="867:17">ic</name></expr></argument>, <argument pos:start="867:20" pos:end="867:31"><expr pos:start="867:20" pos:end="867:31"><name pos:start="867:20" pos:end="867:31">AV_LOG_DEBUG</name></expr></argument>, <argument pos:start="867:34" pos:end="867:97"><expr pos:start="867:34" pos:end="867:97"><literal type="string" pos:start="867:34" pos:end="867:87">"File position after avformat_find_stream_info() is %"</literal><name pos:start="867:88" pos:end="867:93">PRId64</name><literal type="string" pos:start="867:94" pos:end="867:97">"\n"</literal></expr></argument>, <argument pos:start="867:100" pos:end="867:116"><expr pos:start="867:100" pos:end="867:116"><call pos:start="867:100" pos:end="867:116"><name pos:start="867:100" pos:end="867:108">avio_tell</name><argument_list pos:start="867:109" pos:end="867:116">(<argument pos:start="867:110" pos:end="867:115"><expr pos:start="867:110" pos:end="867:115"><name pos:start="867:110" pos:end="867:115"><name pos:start="867:110" pos:end="867:111">ic</name><operator pos:start="867:112" pos:end="867:113">-&gt;</operator><name pos:start="867:114" pos:end="867:115">pb</name></name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

    <return pos:start="869:5" pos:end="869:15">return <expr pos:start="869:12" pos:end="869:14"><name pos:start="869:12" pos:end="869:14">ret</name></expr>;</return>

</block_content>}</block></function>
</unit>
