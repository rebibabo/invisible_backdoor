<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/16847.c" pos:tabs="8"><function pos:start="1:1" pos:end="371:1"><type pos:start="1:1" pos:end="1:10"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:10">int</name></type> <name pos:start="1:12" pos:end="1:28">sbr_make_f_master</name><parameter_list pos:start="1:29" pos:end="3:58">(<parameter pos:start="1:30" pos:end="1:43"><decl pos:start="1:30" pos:end="1:43"><type pos:start="1:30" pos:end="1:43"><name pos:start="1:30" pos:end="1:39">AACContext</name> <modifier pos:start="1:41" pos:end="1:41">*</modifier></type><name pos:start="1:42" pos:end="1:43">ac</name></decl></parameter>, <parameter pos:start="1:46" pos:end="1:73"><decl pos:start="1:46" pos:end="1:73"><type pos:start="1:46" pos:end="1:73"><name pos:start="1:46" pos:end="1:68">SpectralBandReplication</name> <modifier pos:start="1:70" pos:end="1:70">*</modifier></type><name pos:start="1:71" pos:end="1:73">sbr</name></decl></parameter>,

                             <parameter pos:start="3:30" pos:end="3:57"><decl pos:start="3:30" pos:end="3:57"><type pos:start="3:30" pos:end="3:57"><name pos:start="3:30" pos:end="3:47">SpectrumParameters</name> <modifier pos:start="3:49" pos:end="3:49">*</modifier></type><name pos:start="3:50" pos:end="3:57">spectrum</name></decl></parameter>)</parameter_list>

<block pos:start="5:1" pos:end="371:1">{<block_content pos:start="7:5" pos:end="369:13">

    <decl_stmt pos:start="7:5" pos:end="7:40"><decl pos:start="7:5" pos:end="7:21"><type pos:start="7:5" pos:end="7:16"><name pos:start="7:5" pos:end="7:12">unsigned</name> <name pos:start="7:14" pos:end="7:16">int</name></type> <name pos:start="7:18" pos:end="7:21">temp</name></decl>, <decl pos:start="7:24" pos:end="7:39"><type ref="prev" pos:start="7:5" pos:end="7:16"/><name pos:start="7:24" pos:end="7:39">max_qmf_subbands</name></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:37"><decl pos:start="9:5" pos:end="9:26"><type pos:start="9:5" pos:end="9:16"><name pos:start="9:5" pos:end="9:12">unsigned</name> <name pos:start="9:14" pos:end="9:16">int</name></type> <name pos:start="9:18" pos:end="9:26">start_min</name></decl>, <decl pos:start="9:29" pos:end="9:36"><type ref="prev" pos:start="9:5" pos:end="9:16"/><name pos:start="9:29" pos:end="9:36">stop_min</name></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:10"><decl pos:start="11:5" pos:end="11:9"><type pos:start="11:5" pos:end="11:7"><name pos:start="11:5" pos:end="11:7">int</name></type> <name pos:start="11:9" pos:end="11:9">k</name></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:33"><decl pos:start="13:5" pos:end="13:32"><type pos:start="13:5" pos:end="13:18"><specifier pos:start="13:5" pos:end="13:9">const</specifier> <name pos:start="13:11" pos:end="13:16">int8_t</name> <modifier pos:start="13:18" pos:end="13:18">*</modifier></type><name pos:start="13:19" pos:end="13:32">sbr_offset_ptr</name></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="15:24"><decl pos:start="15:5" pos:end="15:23"><type pos:start="15:5" pos:end="15:11"><name pos:start="15:5" pos:end="15:11">int16_t</name></type> <name pos:start="15:13" pos:end="15:23"><name pos:start="15:13" pos:end="15:19">stop_dk</name><index pos:start="15:20" pos:end="15:23">[<expr pos:start="15:21" pos:end="15:22"><literal type="number" pos:start="15:21" pos:end="15:22">13</literal></expr>]</index></name></decl>;</decl_stmt>



    <if_stmt pos:start="19:5" pos:end="29:20"><if pos:start="19:5" pos:end="23:5">if <condition pos:start="19:8" pos:end="19:33">(<expr pos:start="19:9" pos:end="19:32"><name pos:start="19:9" pos:end="19:24"><name pos:start="19:9" pos:end="19:11">sbr</name><operator pos:start="19:12" pos:end="19:13">-&gt;</operator><name pos:start="19:14" pos:end="19:24">sample_rate</name></name> <operator pos:start="19:26" pos:end="19:26">&lt;</operator> <literal type="number" pos:start="19:28" pos:end="19:32">32000</literal></expr>)</condition> <block pos:start="19:35" pos:end="23:5">{<block_content pos:start="21:9" pos:end="21:20">

        <expr_stmt pos:start="21:9" pos:end="21:20"><expr pos:start="21:9" pos:end="21:19"><name pos:start="21:9" pos:end="21:12">temp</name> <operator pos:start="21:14" pos:end="21:14">=</operator> <literal type="number" pos:start="21:16" pos:end="21:19">3000</literal></expr>;</expr_stmt>

    </block_content>}</block></if> <if type="elseif" pos:start="23:7" pos:end="27:5">else if <condition pos:start="23:15" pos:end="23:40">(<expr pos:start="23:16" pos:end="23:39"><name pos:start="23:16" pos:end="23:31"><name pos:start="23:16" pos:end="23:18">sbr</name><operator pos:start="23:19" pos:end="23:20">-&gt;</operator><name pos:start="23:21" pos:end="23:31">sample_rate</name></name> <operator pos:start="23:33" pos:end="23:33">&lt;</operator> <literal type="number" pos:start="23:35" pos:end="23:39">64000</literal></expr>)</condition> <block pos:start="23:42" pos:end="27:5">{<block_content pos:start="25:9" pos:end="25:20">

        <expr_stmt pos:start="25:9" pos:end="25:20"><expr pos:start="25:9" pos:end="25:19"><name pos:start="25:9" pos:end="25:12">temp</name> <operator pos:start="25:14" pos:end="25:14">=</operator> <literal type="number" pos:start="25:16" pos:end="25:19">4000</literal></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="27:7" pos:end="29:20">else<block type="pseudo" pos:start="29:9" pos:end="29:20"><block_content pos:start="29:9" pos:end="29:20">

        <expr_stmt pos:start="29:9" pos:end="29:20"><expr pos:start="29:9" pos:end="29:19"><name pos:start="29:9" pos:end="29:12">temp</name> <operator pos:start="29:14" pos:end="29:14">=</operator> <literal type="number" pos:start="29:16" pos:end="29:19">5000</literal></expr>;</expr_stmt></block_content></block></else></if_stmt>



    <switch pos:start="33:5" pos:end="79:5">switch <condition pos:start="33:12" pos:end="33:29">(<expr pos:start="33:13" pos:end="33:28"><name pos:start="33:13" pos:end="33:28"><name pos:start="33:13" pos:end="33:15">sbr</name><operator pos:start="33:16" pos:end="33:17">-&gt;</operator><name pos:start="33:18" pos:end="33:28">sample_rate</name></name></expr>)</condition> <block pos:start="33:31" pos:end="79:5">{<block_content pos:start="35:5" pos:end="77:18">

    <case pos:start="35:5" pos:end="35:15">case <expr pos:start="35:10" pos:end="35:14"><literal type="number" pos:start="35:10" pos:end="35:14">16000</literal></expr>:</case>

        <expr_stmt pos:start="37:9" pos:end="37:39"><expr pos:start="37:9" pos:end="37:38"><name pos:start="37:9" pos:end="37:22">sbr_offset_ptr</name> <operator pos:start="37:24" pos:end="37:24">=</operator> <name pos:start="37:26" pos:end="37:38"><name pos:start="37:26" pos:end="37:35">sbr_offset</name><index pos:start="37:36" pos:end="37:38">[<expr pos:start="37:37" pos:end="37:37"><literal type="number" pos:start="37:37" pos:end="37:37">0</literal></expr>]</index></name></expr>;</expr_stmt>

        <break pos:start="39:9" pos:end="39:14">break;</break>

    <case pos:start="41:5" pos:end="41:15">case <expr pos:start="41:10" pos:end="41:14"><literal type="number" pos:start="41:10" pos:end="41:14">22050</literal></expr>:</case>

        <expr_stmt pos:start="43:9" pos:end="43:39"><expr pos:start="43:9" pos:end="43:38"><name pos:start="43:9" pos:end="43:22">sbr_offset_ptr</name> <operator pos:start="43:24" pos:end="43:24">=</operator> <name pos:start="43:26" pos:end="43:38"><name pos:start="43:26" pos:end="43:35">sbr_offset</name><index pos:start="43:36" pos:end="43:38">[<expr pos:start="43:37" pos:end="43:37"><literal type="number" pos:start="43:37" pos:end="43:37">1</literal></expr>]</index></name></expr>;</expr_stmt>

        <break pos:start="45:9" pos:end="45:14">break;</break>

    <case pos:start="47:5" pos:end="47:15">case <expr pos:start="47:10" pos:end="47:14"><literal type="number" pos:start="47:10" pos:end="47:14">24000</literal></expr>:</case>

        <expr_stmt pos:start="49:9" pos:end="49:39"><expr pos:start="49:9" pos:end="49:38"><name pos:start="49:9" pos:end="49:22">sbr_offset_ptr</name> <operator pos:start="49:24" pos:end="49:24">=</operator> <name pos:start="49:26" pos:end="49:38"><name pos:start="49:26" pos:end="49:35">sbr_offset</name><index pos:start="49:36" pos:end="49:38">[<expr pos:start="49:37" pos:end="49:37"><literal type="number" pos:start="49:37" pos:end="49:37">2</literal></expr>]</index></name></expr>;</expr_stmt>

        <break pos:start="51:9" pos:end="51:14">break;</break>

    <case pos:start="53:5" pos:end="53:15">case <expr pos:start="53:10" pos:end="53:14"><literal type="number" pos:start="53:10" pos:end="53:14">32000</literal></expr>:</case>

        <expr_stmt pos:start="55:9" pos:end="55:39"><expr pos:start="55:9" pos:end="55:38"><name pos:start="55:9" pos:end="55:22">sbr_offset_ptr</name> <operator pos:start="55:24" pos:end="55:24">=</operator> <name pos:start="55:26" pos:end="55:38"><name pos:start="55:26" pos:end="55:35">sbr_offset</name><index pos:start="55:36" pos:end="55:38">[<expr pos:start="55:37" pos:end="55:37"><literal type="number" pos:start="55:37" pos:end="55:37">3</literal></expr>]</index></name></expr>;</expr_stmt>

        <break pos:start="57:9" pos:end="57:14">break;</break>

    <case pos:start="59:5" pos:end="59:15">case <expr pos:start="59:10" pos:end="59:14"><literal type="number" pos:start="59:10" pos:end="59:14">44100</literal></expr>:</case> <case pos:start="59:17" pos:end="59:27">case <expr pos:start="59:22" pos:end="59:26"><literal type="number" pos:start="59:22" pos:end="59:26">48000</literal></expr>:</case> <case pos:start="59:29" pos:end="59:39">case <expr pos:start="59:34" pos:end="59:38"><literal type="number" pos:start="59:34" pos:end="59:38">64000</literal></expr>:</case>

        <expr_stmt pos:start="61:9" pos:end="61:39"><expr pos:start="61:9" pos:end="61:38"><name pos:start="61:9" pos:end="61:22">sbr_offset_ptr</name> <operator pos:start="61:24" pos:end="61:24">=</operator> <name pos:start="61:26" pos:end="61:38"><name pos:start="61:26" pos:end="61:35">sbr_offset</name><index pos:start="61:36" pos:end="61:38">[<expr pos:start="61:37" pos:end="61:37"><literal type="number" pos:start="61:37" pos:end="61:37">4</literal></expr>]</index></name></expr>;</expr_stmt>

        <break pos:start="63:9" pos:end="63:14">break;</break>

    <case pos:start="65:5" pos:end="65:15">case <expr pos:start="65:10" pos:end="65:14"><literal type="number" pos:start="65:10" pos:end="65:14">88200</literal></expr>:</case> <case pos:start="65:17" pos:end="65:27">case <expr pos:start="65:22" pos:end="65:26"><literal type="number" pos:start="65:22" pos:end="65:26">96000</literal></expr>:</case> <case pos:start="65:29" pos:end="65:40">case <expr pos:start="65:34" pos:end="65:39"><literal type="number" pos:start="65:34" pos:end="65:39">128000</literal></expr>:</case> <case pos:start="65:42" pos:end="65:53">case <expr pos:start="65:47" pos:end="65:52"><literal type="number" pos:start="65:47" pos:end="65:52">176400</literal></expr>:</case> <case pos:start="65:55" pos:end="65:66">case <expr pos:start="65:60" pos:end="65:65"><literal type="number" pos:start="65:60" pos:end="65:65">192000</literal></expr>:</case>

        <expr_stmt pos:start="67:9" pos:end="67:39"><expr pos:start="67:9" pos:end="67:38"><name pos:start="67:9" pos:end="67:22">sbr_offset_ptr</name> <operator pos:start="67:24" pos:end="67:24">=</operator> <name pos:start="67:26" pos:end="67:38"><name pos:start="67:26" pos:end="67:35">sbr_offset</name><index pos:start="67:36" pos:end="67:38">[<expr pos:start="67:37" pos:end="67:37"><literal type="number" pos:start="67:37" pos:end="67:37">5</literal></expr>]</index></name></expr>;</expr_stmt>

        <break pos:start="69:9" pos:end="69:14">break;</break>

    <default pos:start="71:5" pos:end="71:12">default:</default>

        <expr_stmt pos:start="73:9" pos:end="75:74"><expr pos:start="73:9" pos:end="75:73"><call pos:start="73:9" pos:end="75:73"><name pos:start="73:9" pos:end="73:14">av_log</name><argument_list pos:start="73:15" pos:end="75:73">(<argument pos:start="73:16" pos:end="73:24"><expr pos:start="73:16" pos:end="73:24"><name pos:start="73:16" pos:end="73:24"><name pos:start="73:16" pos:end="73:17">ac</name><operator pos:start="73:18" pos:end="73:19">-&gt;</operator><name pos:start="73:20" pos:end="73:24">avctx</name></name></expr></argument>, <argument pos:start="73:27" pos:end="73:38"><expr pos:start="73:27" pos:end="73:38"><name pos:start="73:27" pos:end="73:38">AV_LOG_ERROR</name></expr></argument>,

               <argument pos:start="75:16" pos:end="75:54"><expr pos:start="75:16" pos:end="75:54"><literal type="string" pos:start="75:16" pos:end="75:54">"Unsupported sample rate for SBR: %d\n"</literal></expr></argument>, <argument pos:start="75:57" pos:end="75:72"><expr pos:start="75:57" pos:end="75:72"><name pos:start="75:57" pos:end="75:72"><name pos:start="75:57" pos:end="75:59">sbr</name><operator pos:start="75:60" pos:end="75:61">-&gt;</operator><name pos:start="75:62" pos:end="75:72">sample_rate</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <return pos:start="77:9" pos:end="77:18">return <expr pos:start="77:16" pos:end="77:17"><operator pos:start="77:16" pos:end="77:16">-</operator><literal type="number" pos:start="77:17" pos:end="77:17">1</literal></expr>;</return>

    </block_content>}</block></switch>



    <expr_stmt pos:start="83:5" pos:end="83:75"><expr pos:start="83:5" pos:end="83:74"><name pos:start="83:5" pos:end="83:13">start_min</name> <operator pos:start="83:15" pos:end="83:15">=</operator> <operator pos:start="83:17" pos:end="83:17">(</operator><operator pos:start="83:18" pos:end="83:18">(</operator><name pos:start="83:19" pos:end="83:22">temp</name> <operator pos:start="83:24" pos:end="83:25">&lt;&lt;</operator> <literal type="number" pos:start="83:27" pos:end="83:27">7</literal><operator pos:start="83:28" pos:end="83:28">)</operator> <operator pos:start="83:30" pos:end="83:30">+</operator> <operator pos:start="83:32" pos:end="83:32">(</operator><name pos:start="83:33" pos:end="83:48"><name pos:start="83:33" pos:end="83:35">sbr</name><operator pos:start="83:36" pos:end="83:37">-&gt;</operator><name pos:start="83:38" pos:end="83:48">sample_rate</name></name> <operator pos:start="83:50" pos:end="83:51">&gt;&gt;</operator> <literal type="number" pos:start="83:53" pos:end="83:53">1</literal><operator pos:start="83:54" pos:end="83:54">)</operator><operator pos:start="83:55" pos:end="83:55">)</operator> <operator pos:start="83:57" pos:end="83:57">/</operator> <name pos:start="83:59" pos:end="83:74"><name pos:start="83:59" pos:end="83:61">sbr</name><operator pos:start="83:62" pos:end="83:63">-&gt;</operator><name pos:start="83:64" pos:end="83:74">sample_rate</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="85:5" pos:end="85:75"><expr pos:start="85:5" pos:end="85:74"><name pos:start="85:5" pos:end="85:12">stop_min</name>  <operator pos:start="85:15" pos:end="85:15">=</operator> <operator pos:start="85:17" pos:end="85:17">(</operator><operator pos:start="85:18" pos:end="85:18">(</operator><name pos:start="85:19" pos:end="85:22">temp</name> <operator pos:start="85:24" pos:end="85:25">&lt;&lt;</operator> <literal type="number" pos:start="85:27" pos:end="85:27">8</literal><operator pos:start="85:28" pos:end="85:28">)</operator> <operator pos:start="85:30" pos:end="85:30">+</operator> <operator pos:start="85:32" pos:end="85:32">(</operator><name pos:start="85:33" pos:end="85:48"><name pos:start="85:33" pos:end="85:35">sbr</name><operator pos:start="85:36" pos:end="85:37">-&gt;</operator><name pos:start="85:38" pos:end="85:48">sample_rate</name></name> <operator pos:start="85:50" pos:end="85:51">&gt;&gt;</operator> <literal type="number" pos:start="85:53" pos:end="85:53">1</literal><operator pos:start="85:54" pos:end="85:54">)</operator><operator pos:start="85:55" pos:end="85:55">)</operator> <operator pos:start="85:57" pos:end="85:57">/</operator> <name pos:start="85:59" pos:end="85:74"><name pos:start="85:59" pos:end="85:61">sbr</name><operator pos:start="85:62" pos:end="85:63">-&gt;</operator><name pos:start="85:64" pos:end="85:74">sample_rate</name></name></expr>;</expr_stmt>



    <expr_stmt pos:start="89:5" pos:end="89:68"><expr pos:start="89:5" pos:end="89:67"><name pos:start="89:5" pos:end="89:13"><name pos:start="89:5" pos:end="89:7">sbr</name><operator pos:start="89:8" pos:end="89:9">-&gt;</operator><name pos:start="89:10" pos:end="89:10">k</name><index pos:start="89:11" pos:end="89:13">[<expr pos:start="89:12" pos:end="89:12"><literal type="number" pos:start="89:12" pos:end="89:12">0</literal></expr>]</index></name> <operator pos:start="89:15" pos:end="89:15">=</operator> <name pos:start="89:17" pos:end="89:25">start_min</name> <operator pos:start="89:27" pos:end="89:27">+</operator> <name pos:start="89:29" pos:end="89:67"><name pos:start="89:29" pos:end="89:42">sbr_offset_ptr</name><index pos:start="89:43" pos:end="89:67">[<expr pos:start="89:44" pos:end="89:66"><name pos:start="89:44" pos:end="89:66"><name pos:start="89:44" pos:end="89:51">spectrum</name><operator pos:start="89:52" pos:end="89:53">-&gt;</operator><name pos:start="89:54" pos:end="89:66">bs_start_freq</name></name></expr>]</index></name></expr>;</expr_stmt>



    <if_stmt pos:start="93:5" pos:end="121:5"><if pos:start="93:5" pos:end="105:5">if <condition pos:start="93:8" pos:end="93:36">(<expr pos:start="93:9" pos:end="93:35"><name pos:start="93:9" pos:end="93:30"><name pos:start="93:9" pos:end="93:16">spectrum</name><operator pos:start="93:17" pos:end="93:18">-&gt;</operator><name pos:start="93:19" pos:end="93:30">bs_stop_freq</name></name> <operator pos:start="93:32" pos:end="93:32">&lt;</operator> <literal type="number" pos:start="93:34" pos:end="93:35">14</literal></expr>)</condition> <block pos:start="93:38" pos:end="105:5">{<block_content pos:start="95:9" pos:end="103:36">

        <expr_stmt pos:start="95:9" pos:end="95:29"><expr pos:start="95:9" pos:end="95:28"><name pos:start="95:9" pos:end="95:17"><name pos:start="95:9" pos:end="95:11">sbr</name><operator pos:start="95:12" pos:end="95:13">-&gt;</operator><name pos:start="95:14" pos:end="95:14">k</name><index pos:start="95:15" pos:end="95:17">[<expr pos:start="95:16" pos:end="95:16"><literal type="number" pos:start="95:16" pos:end="95:16">2</literal></expr>]</index></name> <operator pos:start="95:19" pos:end="95:19">=</operator> <name pos:start="95:21" pos:end="95:28">stop_min</name></expr>;</expr_stmt>

        <expr_stmt pos:start="97:9" pos:end="97:46"><expr pos:start="97:9" pos:end="97:45"><call pos:start="97:9" pos:end="97:45"><name pos:start="97:9" pos:end="97:18">make_bands</name><argument_list pos:start="97:19" pos:end="97:45">(<argument pos:start="97:20" pos:end="97:26"><expr pos:start="97:20" pos:end="97:26"><name pos:start="97:20" pos:end="97:26">stop_dk</name></expr></argument>, <argument pos:start="97:29" pos:end="97:36"><expr pos:start="97:29" pos:end="97:36"><name pos:start="97:29" pos:end="97:36">stop_min</name></expr></argument>, <argument pos:start="97:39" pos:end="97:40"><expr pos:start="97:39" pos:end="97:40"><literal type="number" pos:start="97:39" pos:end="97:40">64</literal></expr></argument>, <argument pos:start="97:43" pos:end="97:44"><expr pos:start="97:43" pos:end="97:44"><literal type="number" pos:start="97:43" pos:end="97:44">13</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="99:9" pos:end="99:80"><expr pos:start="99:9" pos:end="99:79"><call pos:start="99:9" pos:end="99:79"><name pos:start="99:9" pos:end="99:13">qsort</name><argument_list pos:start="99:14" pos:end="99:79">(<argument pos:start="99:15" pos:end="99:21"><expr pos:start="99:15" pos:end="99:21"><name pos:start="99:15" pos:end="99:21">stop_dk</name></expr></argument>, <argument pos:start="99:24" pos:end="99:25"><expr pos:start="99:24" pos:end="99:25"><literal type="number" pos:start="99:24" pos:end="99:25">13</literal></expr></argument>, <argument pos:start="99:28" pos:end="99:45"><expr pos:start="99:28" pos:end="99:45"><sizeof pos:start="99:28" pos:end="99:45">sizeof<argument_list pos:start="99:34" pos:end="99:45">(<argument pos:start="99:35" pos:end="99:44"><expr pos:start="99:35" pos:end="99:44"><name pos:start="99:35" pos:end="99:44"><name pos:start="99:35" pos:end="99:41">stop_dk</name><index pos:start="99:42" pos:end="99:44">[<expr pos:start="99:43" pos:end="99:43"><literal type="number" pos:start="99:43" pos:end="99:43">0</literal></expr>]</index></name></expr></argument>)</argument_list></sizeof></expr></argument>, <argument pos:start="99:48" pos:end="99:78"><expr pos:start="99:48" pos:end="99:78"><name pos:start="99:48" pos:end="99:78">qsort_comparison_function_int16</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <for pos:start="101:9" pos:end="103:36">for <control pos:start="101:13" pos:end="101:52">(<init pos:start="101:14" pos:end="101:19"><expr pos:start="101:14" pos:end="101:18"><name pos:start="101:14" pos:end="101:14">k</name> <operator pos:start="101:16" pos:end="101:16">=</operator> <literal type="number" pos:start="101:18" pos:end="101:18">0</literal></expr>;</init> <condition pos:start="101:21" pos:end="101:47"><expr pos:start="101:21" pos:end="101:46"><name pos:start="101:21" pos:end="101:21">k</name> <operator pos:start="101:23" pos:end="101:23">&lt;</operator> <name pos:start="101:25" pos:end="101:46"><name pos:start="101:25" pos:end="101:32">spectrum</name><operator pos:start="101:33" pos:end="101:34">-&gt;</operator><name pos:start="101:35" pos:end="101:46">bs_stop_freq</name></name></expr>;</condition> <incr pos:start="101:49" pos:end="101:51"><expr pos:start="101:49" pos:end="101:51"><name pos:start="101:49" pos:end="101:49">k</name><operator pos:start="101:50" pos:end="101:51">++</operator></expr></incr>)</control><block type="pseudo" pos:start="103:13" pos:end="103:36"><block_content pos:start="103:13" pos:end="103:36">

            <expr_stmt pos:start="103:13" pos:end="103:36"><expr pos:start="103:13" pos:end="103:35"><name pos:start="103:13" pos:end="103:21"><name pos:start="103:13" pos:end="103:15">sbr</name><operator pos:start="103:16" pos:end="103:17">-&gt;</operator><name pos:start="103:18" pos:end="103:18">k</name><index pos:start="103:19" pos:end="103:21">[<expr pos:start="103:20" pos:end="103:20"><literal type="number" pos:start="103:20" pos:end="103:20">2</literal></expr>]</index></name> <operator pos:start="103:23" pos:end="103:24">+=</operator> <name pos:start="103:26" pos:end="103:35"><name pos:start="103:26" pos:end="103:32">stop_dk</name><index pos:start="103:33" pos:end="103:35">[<expr pos:start="103:34" pos:end="103:34"><name pos:start="103:34" pos:end="103:34">k</name></expr>]</index></name></expr>;</expr_stmt></block_content></block></for>

    </block_content>}</block></if> <if type="elseif" pos:start="105:7" pos:end="109:5">else if <condition pos:start="105:15" pos:end="105:44">(<expr pos:start="105:16" pos:end="105:43"><name pos:start="105:16" pos:end="105:37"><name pos:start="105:16" pos:end="105:23">spectrum</name><operator pos:start="105:24" pos:end="105:25">-&gt;</operator><name pos:start="105:26" pos:end="105:37">bs_stop_freq</name></name> <operator pos:start="105:39" pos:end="105:40">==</operator> <literal type="number" pos:start="105:42" pos:end="105:43">14</literal></expr>)</condition> <block pos:start="105:46" pos:end="109:5">{<block_content pos:start="107:9" pos:end="107:32">

        <expr_stmt pos:start="107:9" pos:end="107:32"><expr pos:start="107:9" pos:end="107:31"><name pos:start="107:9" pos:end="107:17"><name pos:start="107:9" pos:end="107:11">sbr</name><operator pos:start="107:12" pos:end="107:13">-&gt;</operator><name pos:start="107:14" pos:end="107:14">k</name><index pos:start="107:15" pos:end="107:17">[<expr pos:start="107:16" pos:end="107:16"><literal type="number" pos:start="107:16" pos:end="107:16">2</literal></expr>]</index></name> <operator pos:start="107:19" pos:end="107:19">=</operator> <literal type="number" pos:start="107:21" pos:end="107:21">2</literal><operator pos:start="107:22" pos:end="107:22">*</operator><name pos:start="107:23" pos:end="107:31"><name pos:start="107:23" pos:end="107:25">sbr</name><operator pos:start="107:26" pos:end="107:27">-&gt;</operator><name pos:start="107:28" pos:end="107:28">k</name><index pos:start="107:29" pos:end="107:31">[<expr pos:start="107:30" pos:end="107:30"><literal type="number" pos:start="107:30" pos:end="107:30">0</literal></expr>]</index></name></expr>;</expr_stmt>

    </block_content>}</block></if> <if type="elseif" pos:start="109:7" pos:end="113:5">else if <condition pos:start="109:15" pos:end="109:44">(<expr pos:start="109:16" pos:end="109:43"><name pos:start="109:16" pos:end="109:37"><name pos:start="109:16" pos:end="109:23">spectrum</name><operator pos:start="109:24" pos:end="109:25">-&gt;</operator><name pos:start="109:26" pos:end="109:37">bs_stop_freq</name></name> <operator pos:start="109:39" pos:end="109:40">==</operator> <literal type="number" pos:start="109:42" pos:end="109:43">15</literal></expr>)</condition> <block pos:start="109:46" pos:end="113:5">{<block_content pos:start="111:9" pos:end="111:32">

        <expr_stmt pos:start="111:9" pos:end="111:32"><expr pos:start="111:9" pos:end="111:31"><name pos:start="111:9" pos:end="111:17"><name pos:start="111:9" pos:end="111:11">sbr</name><operator pos:start="111:12" pos:end="111:13">-&gt;</operator><name pos:start="111:14" pos:end="111:14">k</name><index pos:start="111:15" pos:end="111:17">[<expr pos:start="111:16" pos:end="111:16"><literal type="number" pos:start="111:16" pos:end="111:16">2</literal></expr>]</index></name> <operator pos:start="111:19" pos:end="111:19">=</operator> <literal type="number" pos:start="111:21" pos:end="111:21">3</literal><operator pos:start="111:22" pos:end="111:22">*</operator><name pos:start="111:23" pos:end="111:31"><name pos:start="111:23" pos:end="111:25">sbr</name><operator pos:start="111:26" pos:end="111:27">-&gt;</operator><name pos:start="111:28" pos:end="111:28">k</name><index pos:start="111:29" pos:end="111:31">[<expr pos:start="111:30" pos:end="111:30"><literal type="number" pos:start="111:30" pos:end="111:30">0</literal></expr>]</index></name></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="113:7" pos:end="121:5">else <block pos:start="113:12" pos:end="121:5">{<block_content pos:start="115:9" pos:end="119:18">

        <expr_stmt pos:start="115:9" pos:end="117:69"><expr pos:start="115:9" pos:end="117:68"><call pos:start="115:9" pos:end="117:68"><name pos:start="115:9" pos:end="115:14">av_log</name><argument_list pos:start="115:15" pos:end="117:68">(<argument pos:start="115:16" pos:end="115:24"><expr pos:start="115:16" pos:end="115:24"><name pos:start="115:16" pos:end="115:24"><name pos:start="115:16" pos:end="115:17">ac</name><operator pos:start="115:18" pos:end="115:19">-&gt;</operator><name pos:start="115:20" pos:end="115:24">avctx</name></name></expr></argument>, <argument pos:start="115:27" pos:end="115:38"><expr pos:start="115:27" pos:end="115:38"><name pos:start="115:27" pos:end="115:38">AV_LOG_ERROR</name></expr></argument>,

               <argument pos:start="117:16" pos:end="117:43"><expr pos:start="117:16" pos:end="117:43"><literal type="string" pos:start="117:16" pos:end="117:43">"Invalid bs_stop_freq: %d\n"</literal></expr></argument>, <argument pos:start="117:46" pos:end="117:67"><expr pos:start="117:46" pos:end="117:67"><name pos:start="117:46" pos:end="117:67"><name pos:start="117:46" pos:end="117:53">spectrum</name><operator pos:start="117:54" pos:end="117:55">-&gt;</operator><name pos:start="117:56" pos:end="117:67">bs_stop_freq</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <return pos:start="119:9" pos:end="119:18">return <expr pos:start="119:16" pos:end="119:17"><operator pos:start="119:16" pos:end="119:16">-</operator><literal type="number" pos:start="119:17" pos:end="119:17">1</literal></expr>;</return>

    </block_content>}</block></else></if_stmt>

    <expr_stmt pos:start="123:5" pos:end="123:37"><expr pos:start="123:5" pos:end="123:36"><name pos:start="123:5" pos:end="123:13"><name pos:start="123:5" pos:end="123:7">sbr</name><operator pos:start="123:8" pos:end="123:9">-&gt;</operator><name pos:start="123:10" pos:end="123:10">k</name><index pos:start="123:11" pos:end="123:13">[<expr pos:start="123:12" pos:end="123:12"><literal type="number" pos:start="123:12" pos:end="123:12">2</literal></expr>]</index></name> <operator pos:start="123:15" pos:end="123:15">=</operator> <call pos:start="123:17" pos:end="123:36"><name pos:start="123:17" pos:end="123:21">FFMIN</name><argument_list pos:start="123:22" pos:end="123:36">(<argument pos:start="123:23" pos:end="123:24"><expr pos:start="123:23" pos:end="123:24"><literal type="number" pos:start="123:23" pos:end="123:24">64</literal></expr></argument>, <argument pos:start="123:27" pos:end="123:35"><expr pos:start="123:27" pos:end="123:35"><name pos:start="123:27" pos:end="123:35"><name pos:start="123:27" pos:end="123:29">sbr</name><operator pos:start="123:30" pos:end="123:31">-&gt;</operator><name pos:start="123:32" pos:end="123:32">k</name><index pos:start="123:33" pos:end="123:35">[<expr pos:start="123:34" pos:end="123:34"><literal type="number" pos:start="123:34" pos:end="123:34">2</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <comment type="line" pos:start="127:5" pos:end="127:39">// Requirements (14496-3 sp04 p205)</comment>

    <if_stmt pos:start="129:5" pos:end="139:30"><if pos:start="129:5" pos:end="133:5">if <condition pos:start="129:8" pos:end="129:34">(<expr pos:start="129:9" pos:end="129:33"><name pos:start="129:9" pos:end="129:24"><name pos:start="129:9" pos:end="129:11">sbr</name><operator pos:start="129:12" pos:end="129:13">-&gt;</operator><name pos:start="129:14" pos:end="129:24">sample_rate</name></name> <operator pos:start="129:26" pos:end="129:27">&lt;=</operator> <literal type="number" pos:start="129:29" pos:end="129:33">32000</literal></expr>)</condition> <block pos:start="129:36" pos:end="133:5">{<block_content pos:start="131:9" pos:end="131:30">

        <expr_stmt pos:start="131:9" pos:end="131:30"><expr pos:start="131:9" pos:end="131:29"><name pos:start="131:9" pos:end="131:24">max_qmf_subbands</name> <operator pos:start="131:26" pos:end="131:26">=</operator> <literal type="number" pos:start="131:28" pos:end="131:29">48</literal></expr>;</expr_stmt>

    </block_content>}</block></if> <if type="elseif" pos:start="133:7" pos:end="137:5">else if <condition pos:start="133:15" pos:end="133:41">(<expr pos:start="133:16" pos:end="133:40"><name pos:start="133:16" pos:end="133:31"><name pos:start="133:16" pos:end="133:18">sbr</name><operator pos:start="133:19" pos:end="133:20">-&gt;</operator><name pos:start="133:21" pos:end="133:31">sample_rate</name></name> <operator pos:start="133:33" pos:end="133:34">==</operator> <literal type="number" pos:start="133:36" pos:end="133:40">44100</literal></expr>)</condition> <block pos:start="133:43" pos:end="137:5">{<block_content pos:start="135:9" pos:end="135:30">

        <expr_stmt pos:start="135:9" pos:end="135:30"><expr pos:start="135:9" pos:end="135:29"><name pos:start="135:9" pos:end="135:24">max_qmf_subbands</name> <operator pos:start="135:26" pos:end="135:26">=</operator> <literal type="number" pos:start="135:28" pos:end="135:29">35</literal></expr>;</expr_stmt>

    </block_content>}</block></if> <if type="elseif" pos:start="137:7" pos:end="139:30">else if <condition pos:start="137:15" pos:end="137:41">(<expr pos:start="137:16" pos:end="137:40"><name pos:start="137:16" pos:end="137:31"><name pos:start="137:16" pos:end="137:18">sbr</name><operator pos:start="137:19" pos:end="137:20">-&gt;</operator><name pos:start="137:21" pos:end="137:31">sample_rate</name></name> <operator pos:start="137:33" pos:end="137:34">&gt;=</operator> <literal type="number" pos:start="137:36" pos:end="137:40">48000</literal></expr>)</condition><block type="pseudo" pos:start="139:9" pos:end="139:30"><block_content pos:start="139:9" pos:end="139:30">

        <expr_stmt pos:start="139:9" pos:end="139:30"><expr pos:start="139:9" pos:end="139:29"><name pos:start="139:9" pos:end="139:24">max_qmf_subbands</name> <operator pos:start="139:26" pos:end="139:26">=</operator> <literal type="number" pos:start="139:28" pos:end="139:29">32</literal></expr>;</expr_stmt></block_content></block></if></if_stmt>





    <if_stmt pos:start="145:5" pos:end="153:5"><if pos:start="145:5" pos:end="153:5">if <condition pos:start="145:8" pos:end="145:49">(<expr pos:start="145:9" pos:end="145:48"><name pos:start="145:9" pos:end="145:17"><name pos:start="145:9" pos:end="145:11">sbr</name><operator pos:start="145:12" pos:end="145:13">-&gt;</operator><name pos:start="145:14" pos:end="145:14">k</name><index pos:start="145:15" pos:end="145:17">[<expr pos:start="145:16" pos:end="145:16"><literal type="number" pos:start="145:16" pos:end="145:16">2</literal></expr>]</index></name> <operator pos:start="145:19" pos:end="145:19">-</operator> <name pos:start="145:21" pos:end="145:29"><name pos:start="145:21" pos:end="145:23">sbr</name><operator pos:start="145:24" pos:end="145:25">-&gt;</operator><name pos:start="145:26" pos:end="145:26">k</name><index pos:start="145:27" pos:end="145:29">[<expr pos:start="145:28" pos:end="145:28"><literal type="number" pos:start="145:28" pos:end="145:28">0</literal></expr>]</index></name> <operator pos:start="145:31" pos:end="145:31">&gt;</operator> <name pos:start="145:33" pos:end="145:48">max_qmf_subbands</name></expr>)</condition> <block pos:start="145:51" pos:end="153:5">{<block_content pos:start="147:9" pos:end="151:18">

        <expr_stmt pos:start="147:9" pos:end="149:88"><expr pos:start="147:9" pos:end="149:87"><call pos:start="147:9" pos:end="149:87"><name pos:start="147:9" pos:end="147:14">av_log</name><argument_list pos:start="147:15" pos:end="149:87">(<argument pos:start="147:16" pos:end="147:24"><expr pos:start="147:16" pos:end="147:24"><name pos:start="147:16" pos:end="147:24"><name pos:start="147:16" pos:end="147:17">ac</name><operator pos:start="147:18" pos:end="147:19">-&gt;</operator><name pos:start="147:20" pos:end="147:24">avctx</name></name></expr></argument>, <argument pos:start="147:27" pos:end="147:38"><expr pos:start="147:27" pos:end="147:38"><name pos:start="147:27" pos:end="147:38">AV_LOG_ERROR</name></expr></argument>,

               <argument pos:start="149:16" pos:end="149:63"><expr pos:start="149:16" pos:end="149:63"><literal type="string" pos:start="149:16" pos:end="149:63">"Invalid bitstream, too many QMF subbands: %d\n"</literal></expr></argument>, <argument pos:start="149:66" pos:end="149:86"><expr pos:start="149:66" pos:end="149:86"><name pos:start="149:66" pos:end="149:74"><name pos:start="149:66" pos:end="149:68">sbr</name><operator pos:start="149:69" pos:end="149:70">-&gt;</operator><name pos:start="149:71" pos:end="149:71">k</name><index pos:start="149:72" pos:end="149:74">[<expr pos:start="149:73" pos:end="149:73"><literal type="number" pos:start="149:73" pos:end="149:73">2</literal></expr>]</index></name> <operator pos:start="149:76" pos:end="149:76">-</operator> <name pos:start="149:78" pos:end="149:86"><name pos:start="149:78" pos:end="149:80">sbr</name><operator pos:start="149:81" pos:end="149:82">-&gt;</operator><name pos:start="149:83" pos:end="149:83">k</name><index pos:start="149:84" pos:end="149:86">[<expr pos:start="149:85" pos:end="149:85"><literal type="number" pos:start="149:85" pos:end="149:85">0</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <return pos:start="151:9" pos:end="151:18">return <expr pos:start="151:16" pos:end="151:17"><operator pos:start="151:16" pos:end="151:16">-</operator><literal type="number" pos:start="151:17" pos:end="151:17">1</literal></expr>;</return>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="157:5" pos:end="365:5"><if pos:start="157:5" pos:end="203:5">if <condition pos:start="157:8" pos:end="157:33">(<expr pos:start="157:9" pos:end="157:32"><operator pos:start="157:9" pos:end="157:9">!</operator><name pos:start="157:10" pos:end="157:32"><name pos:start="157:10" pos:end="157:17">spectrum</name><operator pos:start="157:18" pos:end="157:19">-&gt;</operator><name pos:start="157:20" pos:end="157:32">bs_freq_scale</name></name></expr>)</condition> <block pos:start="157:35" pos:end="203:5">{<block_content pos:start="159:9" pos:end="199:53">

        <decl_stmt pos:start="159:9" pos:end="159:23"><decl pos:start="159:9" pos:end="159:14"><type pos:start="159:9" pos:end="159:11"><name pos:start="159:9" pos:end="159:11">int</name></type> <name pos:start="159:13" pos:end="159:14">dk</name></decl>, <decl pos:start="159:17" pos:end="159:22"><type ref="prev" pos:start="159:9" pos:end="159:11"/><name pos:start="159:17" pos:end="159:22">k2diff</name></decl>;</decl_stmt>



        <expr_stmt pos:start="163:9" pos:end="163:42"><expr pos:start="163:9" pos:end="163:41"><name pos:start="163:9" pos:end="163:10">dk</name> <operator pos:start="163:12" pos:end="163:12">=</operator> <name pos:start="163:14" pos:end="163:37"><name pos:start="163:14" pos:end="163:21">spectrum</name><operator pos:start="163:22" pos:end="163:23">-&gt;</operator><name pos:start="163:24" pos:end="163:37">bs_alter_scale</name></name> <operator pos:start="163:39" pos:end="163:39">+</operator> <literal type="number" pos:start="163:41" pos:end="163:41">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="165:9" pos:end="165:70"><expr pos:start="165:9" pos:end="165:69"><name pos:start="165:9" pos:end="165:21"><name pos:start="165:9" pos:end="165:11">sbr</name><operator pos:start="165:12" pos:end="165:13">-&gt;</operator><name pos:start="165:14" pos:end="165:21">n_master</name></name> <operator pos:start="165:23" pos:end="165:23">=</operator> <operator pos:start="165:25" pos:end="165:25">(</operator><operator pos:start="165:26" pos:end="165:26">(</operator><name pos:start="165:27" pos:end="165:35"><name pos:start="165:27" pos:end="165:29">sbr</name><operator pos:start="165:30" pos:end="165:31">-&gt;</operator><name pos:start="165:32" pos:end="165:32">k</name><index pos:start="165:33" pos:end="165:35">[<expr pos:start="165:34" pos:end="165:34"><literal type="number" pos:start="165:34" pos:end="165:34">2</literal></expr>]</index></name> <operator pos:start="165:37" pos:end="165:37">-</operator> <name pos:start="165:39" pos:end="165:47"><name pos:start="165:39" pos:end="165:41">sbr</name><operator pos:start="165:42" pos:end="165:43">-&gt;</operator><name pos:start="165:44" pos:end="165:44">k</name><index pos:start="165:45" pos:end="165:47">[<expr pos:start="165:46" pos:end="165:46"><literal type="number" pos:start="165:46" pos:end="165:46">0</literal></expr>]</index></name> <operator pos:start="165:49" pos:end="165:49">+</operator> <operator pos:start="165:51" pos:end="165:51">(</operator><name pos:start="165:52" pos:end="165:53">dk</name><operator pos:start="165:54" pos:end="165:54">&amp;</operator><literal type="number" pos:start="165:55" pos:end="165:55">2</literal><operator pos:start="165:56" pos:end="165:56">)</operator><operator pos:start="165:57" pos:end="165:57">)</operator> <operator pos:start="165:59" pos:end="165:60">&gt;&gt;</operator> <name pos:start="165:62" pos:end="165:63">dk</name><operator pos:start="165:64" pos:end="165:64">)</operator> <operator pos:start="165:66" pos:end="165:67">&lt;&lt;</operator> <literal type="number" pos:start="165:69" pos:end="165:69">1</literal></expr>;</expr_stmt>

        <if_stmt pos:start="167:9" pos:end="169:22"><if pos:start="167:9" pos:end="169:22">if <condition pos:start="167:12" pos:end="167:89">(<expr pos:start="167:13" pos:end="167:88"><call pos:start="167:13" pos:end="167:88"><name pos:start="167:13" pos:end="167:26">check_n_master</name><argument_list pos:start="167:27" pos:end="167:88">(<argument pos:start="167:28" pos:end="167:36"><expr pos:start="167:28" pos:end="167:36"><name pos:start="167:28" pos:end="167:36"><name pos:start="167:28" pos:end="167:29">ac</name><operator pos:start="167:30" pos:end="167:31">-&gt;</operator><name pos:start="167:32" pos:end="167:36">avctx</name></name></expr></argument>, <argument pos:start="167:39" pos:end="167:51"><expr pos:start="167:39" pos:end="167:51"><name pos:start="167:39" pos:end="167:51"><name pos:start="167:39" pos:end="167:41">sbr</name><operator pos:start="167:42" pos:end="167:43">-&gt;</operator><name pos:start="167:44" pos:end="167:51">n_master</name></name></expr></argument>, <argument pos:start="167:54" pos:end="167:87"><expr pos:start="167:54" pos:end="167:87"><name pos:start="167:54" pos:end="167:87"><name pos:start="167:54" pos:end="167:56">sbr</name><operator pos:start="167:57" pos:end="167:58">-&gt;</operator><name pos:start="167:59" pos:end="167:73">spectrum_params</name><operator pos:start="167:74" pos:end="167:74">.</operator><name pos:start="167:75" pos:end="167:87">bs_xover_band</name></name></expr></argument>)</argument_list></call></expr>)</condition><block type="pseudo" pos:start="169:13" pos:end="169:22"><block_content pos:start="169:13" pos:end="169:22">

            <return pos:start="169:13" pos:end="169:22">return <expr pos:start="169:20" pos:end="169:21"><operator pos:start="169:20" pos:end="169:20">-</operator><literal type="number" pos:start="169:21" pos:end="169:21">1</literal></expr>;</return></block_content></block></if></if_stmt>



        <for pos:start="173:9" pos:end="175:34">for <control pos:start="173:13" pos:end="173:44">(<init pos:start="173:14" pos:end="173:19"><expr pos:start="173:14" pos:end="173:18"><name pos:start="173:14" pos:end="173:14">k</name> <operator pos:start="173:16" pos:end="173:16">=</operator> <literal type="number" pos:start="173:18" pos:end="173:18">1</literal></expr>;</init> <condition pos:start="173:21" pos:end="173:39"><expr pos:start="173:21" pos:end="173:38"><name pos:start="173:21" pos:end="173:21">k</name> <operator pos:start="173:23" pos:end="173:24">&lt;=</operator> <name pos:start="173:26" pos:end="173:38"><name pos:start="173:26" pos:end="173:28">sbr</name><operator pos:start="173:29" pos:end="173:30">-&gt;</operator><name pos:start="173:31" pos:end="173:38">n_master</name></name></expr>;</condition> <incr pos:start="173:41" pos:end="173:43"><expr pos:start="173:41" pos:end="173:43"><name pos:start="173:41" pos:end="173:41">k</name><operator pos:start="173:42" pos:end="173:43">++</operator></expr></incr>)</control><block type="pseudo" pos:start="175:13" pos:end="175:34"><block_content pos:start="175:13" pos:end="175:34">

            <expr_stmt pos:start="175:13" pos:end="175:34"><expr pos:start="175:13" pos:end="175:33"><name pos:start="175:13" pos:end="175:28"><name pos:start="175:13" pos:end="175:15">sbr</name><operator pos:start="175:16" pos:end="175:17">-&gt;</operator><name pos:start="175:18" pos:end="175:25">f_master</name><index pos:start="175:26" pos:end="175:28">[<expr pos:start="175:27" pos:end="175:27"><name pos:start="175:27" pos:end="175:27">k</name></expr>]</index></name> <operator pos:start="175:30" pos:end="175:30">=</operator> <name pos:start="175:32" pos:end="175:33">dk</name></expr>;</expr_stmt></block_content></block></for>



        <expr_stmt pos:start="179:9" pos:end="179:60"><expr pos:start="179:9" pos:end="179:59"><name pos:start="179:9" pos:end="179:14">k2diff</name> <operator pos:start="179:16" pos:end="179:16">=</operator> <name pos:start="179:18" pos:end="179:26"><name pos:start="179:18" pos:end="179:20">sbr</name><operator pos:start="179:21" pos:end="179:22">-&gt;</operator><name pos:start="179:23" pos:end="179:23">k</name><index pos:start="179:24" pos:end="179:26">[<expr pos:start="179:25" pos:end="179:25"><literal type="number" pos:start="179:25" pos:end="179:25">2</literal></expr>]</index></name> <operator pos:start="179:28" pos:end="179:28">-</operator> <name pos:start="179:30" pos:end="179:38"><name pos:start="179:30" pos:end="179:32">sbr</name><operator pos:start="179:33" pos:end="179:34">-&gt;</operator><name pos:start="179:35" pos:end="179:35">k</name><index pos:start="179:36" pos:end="179:38">[<expr pos:start="179:37" pos:end="179:37"><literal type="number" pos:start="179:37" pos:end="179:37">0</literal></expr>]</index></name> <operator pos:start="179:40" pos:end="179:40">-</operator> <name pos:start="179:42" pos:end="179:54"><name pos:start="179:42" pos:end="179:44">sbr</name><operator pos:start="179:45" pos:end="179:46">-&gt;</operator><name pos:start="179:47" pos:end="179:54">n_master</name></name> <operator pos:start="179:56" pos:end="179:56">*</operator> <name pos:start="179:58" pos:end="179:59">dk</name></expr>;</expr_stmt>

        <if_stmt pos:start="181:9" pos:end="191:9"><if pos:start="181:9" pos:end="187:9">if <condition pos:start="181:12" pos:end="181:23">(<expr pos:start="181:13" pos:end="181:22"><name pos:start="181:13" pos:end="181:18">k2diff</name> <operator pos:start="181:20" pos:end="181:20">&lt;</operator> <literal type="number" pos:start="181:22" pos:end="181:22">0</literal></expr>)</condition> <block pos:start="181:25" pos:end="187:9">{<block_content pos:start="183:13" pos:end="185:45">

            <expr_stmt pos:start="183:13" pos:end="183:31"><expr pos:start="183:13" pos:end="183:30"><name pos:start="183:13" pos:end="183:28"><name pos:start="183:13" pos:end="183:15">sbr</name><operator pos:start="183:16" pos:end="183:17">-&gt;</operator><name pos:start="183:18" pos:end="183:25">f_master</name><index pos:start="183:26" pos:end="183:28">[<expr pos:start="183:27" pos:end="183:27"><literal type="number" pos:start="183:27" pos:end="183:27">1</literal></expr>]</index></name><operator pos:start="183:29" pos:end="183:30">--</operator></expr>;</expr_stmt>

            <expr_stmt pos:start="185:13" pos:end="185:45"><expr pos:start="185:13" pos:end="185:44"><name pos:start="185:13" pos:end="185:28"><name pos:start="185:13" pos:end="185:15">sbr</name><operator pos:start="185:16" pos:end="185:17">-&gt;</operator><name pos:start="185:18" pos:end="185:25">f_master</name><index pos:start="185:26" pos:end="185:28">[<expr pos:start="185:27" pos:end="185:27"><literal type="number" pos:start="185:27" pos:end="185:27">2</literal></expr>]</index></name><operator pos:start="185:29" pos:end="185:30">-=</operator> <operator pos:start="185:32" pos:end="185:32">(</operator><name pos:start="185:33" pos:end="185:38">k2diff</name> <operator pos:start="185:40" pos:end="185:40">&lt;</operator> <operator pos:start="185:42" pos:end="185:42">-</operator><literal type="number" pos:start="185:43" pos:end="185:43">1</literal><operator pos:start="185:44" pos:end="185:44">)</operator></expr>;</expr_stmt>

        </block_content>}</block></if> <if type="elseif" pos:start="187:11" pos:end="191:9">else if <condition pos:start="187:19" pos:end="187:26">(<expr pos:start="187:20" pos:end="187:25"><name pos:start="187:20" pos:end="187:25">k2diff</name></expr>)</condition> <block pos:start="187:28" pos:end="191:9">{<block_content pos:start="189:13" pos:end="189:43">

            <expr_stmt pos:start="189:13" pos:end="189:43"><expr pos:start="189:13" pos:end="189:42"><name pos:start="189:13" pos:end="189:40"><name pos:start="189:13" pos:end="189:15">sbr</name><operator pos:start="189:16" pos:end="189:17">-&gt;</operator><name pos:start="189:18" pos:end="189:25">f_master</name><index pos:start="189:26" pos:end="189:40">[<expr pos:start="189:27" pos:end="189:39"><name pos:start="189:27" pos:end="189:39"><name pos:start="189:27" pos:end="189:29">sbr</name><operator pos:start="189:30" pos:end="189:31">-&gt;</operator><name pos:start="189:32" pos:end="189:39">n_master</name></name></expr>]</index></name><operator pos:start="189:41" pos:end="189:42">++</operator></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>



        <expr_stmt pos:start="195:9" pos:end="195:37"><expr pos:start="195:9" pos:end="195:36"><name pos:start="195:9" pos:end="195:24"><name pos:start="195:9" pos:end="195:11">sbr</name><operator pos:start="195:12" pos:end="195:13">-&gt;</operator><name pos:start="195:14" pos:end="195:21">f_master</name><index pos:start="195:22" pos:end="195:24">[<expr pos:start="195:23" pos:end="195:23"><literal type="number" pos:start="195:23" pos:end="195:23">0</literal></expr>]</index></name> <operator pos:start="195:26" pos:end="195:26">=</operator> <name pos:start="195:28" pos:end="195:36"><name pos:start="195:28" pos:end="195:30">sbr</name><operator pos:start="195:31" pos:end="195:32">-&gt;</operator><name pos:start="195:33" pos:end="195:33">k</name><index pos:start="195:34" pos:end="195:36">[<expr pos:start="195:35" pos:end="195:35"><literal type="number" pos:start="195:35" pos:end="195:35">0</literal></expr>]</index></name></expr>;</expr_stmt>

        <for pos:start="197:9" pos:end="199:53">for <control pos:start="197:13" pos:end="197:44">(<init pos:start="197:14" pos:end="197:19"><expr pos:start="197:14" pos:end="197:18"><name pos:start="197:14" pos:end="197:14">k</name> <operator pos:start="197:16" pos:end="197:16">=</operator> <literal type="number" pos:start="197:18" pos:end="197:18">1</literal></expr>;</init> <condition pos:start="197:21" pos:end="197:39"><expr pos:start="197:21" pos:end="197:38"><name pos:start="197:21" pos:end="197:21">k</name> <operator pos:start="197:23" pos:end="197:24">&lt;=</operator> <name pos:start="197:26" pos:end="197:38"><name pos:start="197:26" pos:end="197:28">sbr</name><operator pos:start="197:29" pos:end="197:30">-&gt;</operator><name pos:start="197:31" pos:end="197:38">n_master</name></name></expr>;</condition> <incr pos:start="197:41" pos:end="197:43"><expr pos:start="197:41" pos:end="197:43"><name pos:start="197:41" pos:end="197:41">k</name><operator pos:start="197:42" pos:end="197:43">++</operator></expr></incr>)</control><block type="pseudo" pos:start="199:13" pos:end="199:53"><block_content pos:start="199:13" pos:end="199:53">

            <expr_stmt pos:start="199:13" pos:end="199:53"><expr pos:start="199:13" pos:end="199:52"><name pos:start="199:13" pos:end="199:28"><name pos:start="199:13" pos:end="199:15">sbr</name><operator pos:start="199:16" pos:end="199:17">-&gt;</operator><name pos:start="199:18" pos:end="199:25">f_master</name><index pos:start="199:26" pos:end="199:28">[<expr pos:start="199:27" pos:end="199:27"><name pos:start="199:27" pos:end="199:27">k</name></expr>]</index></name> <operator pos:start="199:30" pos:end="199:31">+=</operator> <name pos:start="199:33" pos:end="199:52"><name pos:start="199:33" pos:end="199:35">sbr</name><operator pos:start="199:36" pos:end="199:37">-&gt;</operator><name pos:start="199:38" pos:end="199:45">f_master</name><index pos:start="199:46" pos:end="199:52">[<expr pos:start="199:47" pos:end="199:51"><name pos:start="199:47" pos:end="199:47">k</name> <operator pos:start="199:49" pos:end="199:49">-</operator> <literal type="number" pos:start="199:51" pos:end="199:51">1</literal></expr>]</index></name></expr>;</expr_stmt></block_content></block></for>



    </block_content>}</block></if> <else pos:start="203:7" pos:end="365:5">else <block pos:start="203:12" pos:end="365:5">{<block_content pos:start="205:9" pos:end="363:9">

        <decl_stmt pos:start="205:9" pos:end="205:53"><decl pos:start="205:9" pos:end="205:52"><type pos:start="205:9" pos:end="205:11"><name pos:start="205:9" pos:end="205:11">int</name></type> <name pos:start="205:13" pos:end="205:22">half_bands</name> <init pos:start="205:24" pos:end="205:52">= <expr pos:start="205:26" pos:end="205:52"><literal type="number" pos:start="205:26" pos:end="205:28">7</literal> <operator pos:start="205:28" pos:end="205:28">-</operator> <name pos:start="205:30" pos:end="205:52"><name pos:start="205:30" pos:end="205:37">spectrum</name><operator pos:start="205:38" pos:end="205:39">-&gt;</operator><name pos:start="205:40" pos:end="205:52">bs_freq_scale</name></name></expr></init></decl>;</decl_stmt>      <comment type="line" pos:start="205:60" pos:end="205:86">// bs_freq_scale  = {1,2,3}</comment>

        <decl_stmt pos:start="207:9" pos:end="207:37"><decl pos:start="207:9" pos:end="207:23"><type pos:start="207:9" pos:end="207:11"><name pos:start="207:9" pos:end="207:11">int</name></type> <name pos:start="207:13" pos:end="207:23">two_regions</name></decl>, <decl pos:start="207:26" pos:end="207:36"><type ref="prev" pos:start="207:9" pos:end="207:11"/><name pos:start="207:26" pos:end="207:36">num_bands_0</name></decl>;</decl_stmt>

        <decl_stmt pos:start="209:9" pos:end="209:31"><decl pos:start="209:9" pos:end="209:20"><type pos:start="209:9" pos:end="209:11"><name pos:start="209:9" pos:end="209:11">int</name></type> <name pos:start="209:13" pos:end="209:20">vdk0_max</name></decl>, <decl pos:start="209:23" pos:end="209:30"><type ref="prev" pos:start="209:9" pos:end="209:11"/><name pos:start="209:23" pos:end="209:30">vdk1_min</name></decl>;</decl_stmt>

        <decl_stmt pos:start="211:9" pos:end="211:24"><decl pos:start="211:9" pos:end="211:23"><type pos:start="211:9" pos:end="211:15"><name pos:start="211:9" pos:end="211:15">int16_t</name></type> <name pos:start="211:17" pos:end="211:23"><name pos:start="211:17" pos:end="211:19">vk0</name><index pos:start="211:20" pos:end="211:23">[<expr pos:start="211:21" pos:end="211:22"><literal type="number" pos:start="211:21" pos:end="211:22">49</literal></expr>]</index></name></decl>;</decl_stmt>



        <if_stmt pos:start="215:9" pos:end="227:9"><if pos:start="215:9" pos:end="221:9">if <condition pos:start="215:12" pos:end="215:45">(<expr pos:start="215:13" pos:end="215:44"><literal type="number" pos:start="215:13" pos:end="215:14">49</literal> <operator pos:start="215:16" pos:end="215:16">*</operator> <name pos:start="215:18" pos:end="215:26"><name pos:start="215:18" pos:end="215:20">sbr</name><operator pos:start="215:21" pos:end="215:22">-&gt;</operator><name pos:start="215:23" pos:end="215:23">k</name><index pos:start="215:24" pos:end="215:26">[<expr pos:start="215:25" pos:end="215:25"><literal type="number" pos:start="215:25" pos:end="215:25">2</literal></expr>]</index></name> <operator pos:start="215:28" pos:end="215:28">&gt;</operator> <literal type="number" pos:start="215:30" pos:end="215:32">110</literal> <operator pos:start="215:34" pos:end="215:34">*</operator> <name pos:start="215:36" pos:end="215:44"><name pos:start="215:36" pos:end="215:38">sbr</name><operator pos:start="215:39" pos:end="215:40">-&gt;</operator><name pos:start="215:41" pos:end="215:41">k</name><index pos:start="215:42" pos:end="215:44">[<expr pos:start="215:43" pos:end="215:43"><literal type="number" pos:start="215:43" pos:end="215:43">0</literal></expr>]</index></name></expr>)</condition> <block pos:start="215:47" pos:end="221:9">{<block_content pos:start="217:13" pos:end="219:38">

            <expr_stmt pos:start="217:13" pos:end="217:28"><expr pos:start="217:13" pos:end="217:27"><name pos:start="217:13" pos:end="217:23">two_regions</name> <operator pos:start="217:25" pos:end="217:25">=</operator> <literal type="number" pos:start="217:27" pos:end="217:27">1</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="219:13" pos:end="219:38"><expr pos:start="219:13" pos:end="219:37"><name pos:start="219:13" pos:end="219:21"><name pos:start="219:13" pos:end="219:15">sbr</name><operator pos:start="219:16" pos:end="219:17">-&gt;</operator><name pos:start="219:18" pos:end="219:18">k</name><index pos:start="219:19" pos:end="219:21">[<expr pos:start="219:20" pos:end="219:20"><literal type="number" pos:start="219:20" pos:end="219:20">1</literal></expr>]</index></name> <operator pos:start="219:23" pos:end="219:23">=</operator> <literal type="number" pos:start="219:25" pos:end="219:25">2</literal> <operator pos:start="219:27" pos:end="219:27">*</operator> <name pos:start="219:29" pos:end="219:37"><name pos:start="219:29" pos:end="219:31">sbr</name><operator pos:start="219:32" pos:end="219:33">-&gt;</operator><name pos:start="219:34" pos:end="219:34">k</name><index pos:start="219:35" pos:end="219:37">[<expr pos:start="219:36" pos:end="219:36"><literal type="number" pos:start="219:36" pos:end="219:36">0</literal></expr>]</index></name></expr>;</expr_stmt>

        </block_content>}</block></if> <else pos:start="221:11" pos:end="227:9">else <block pos:start="221:16" pos:end="227:9">{<block_content pos:start="223:13" pos:end="225:34">

            <expr_stmt pos:start="223:13" pos:end="223:28"><expr pos:start="223:13" pos:end="223:27"><name pos:start="223:13" pos:end="223:23">two_regions</name> <operator pos:start="223:25" pos:end="223:25">=</operator> <literal type="number" pos:start="223:27" pos:end="223:27">0</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="225:13" pos:end="225:34"><expr pos:start="225:13" pos:end="225:33"><name pos:start="225:13" pos:end="225:21"><name pos:start="225:13" pos:end="225:15">sbr</name><operator pos:start="225:16" pos:end="225:17">-&gt;</operator><name pos:start="225:18" pos:end="225:18">k</name><index pos:start="225:19" pos:end="225:21">[<expr pos:start="225:20" pos:end="225:20"><literal type="number" pos:start="225:20" pos:end="225:20">1</literal></expr>]</index></name> <operator pos:start="225:23" pos:end="225:23">=</operator> <name pos:start="225:25" pos:end="225:33"><name pos:start="225:25" pos:end="225:27">sbr</name><operator pos:start="225:28" pos:end="225:29">-&gt;</operator><name pos:start="225:30" pos:end="225:30">k</name><index pos:start="225:31" pos:end="225:33">[<expr pos:start="225:32" pos:end="225:32"><literal type="number" pos:start="225:32" pos:end="225:32">2</literal></expr>]</index></name></expr>;</expr_stmt>

        </block_content>}</block></else></if_stmt>



        <expr_stmt pos:start="231:9" pos:end="231:83"><expr pos:start="231:9" pos:end="231:82"><name pos:start="231:9" pos:end="231:19">num_bands_0</name> <operator pos:start="231:21" pos:end="231:21">=</operator> <call pos:start="231:23" pos:end="231:78"><name pos:start="231:23" pos:end="231:28">lrintf</name><argument_list pos:start="231:29" pos:end="231:78">(<argument pos:start="231:30" pos:end="231:77"><expr pos:start="231:30" pos:end="231:77"><name pos:start="231:30" pos:end="231:39">half_bands</name> <operator pos:start="231:41" pos:end="231:41">*</operator> <call pos:start="231:43" pos:end="231:77"><name pos:start="231:43" pos:end="231:47">log2f</name><argument_list pos:start="231:48" pos:end="231:77">(<argument pos:start="231:49" pos:end="231:76"><expr pos:start="231:49" pos:end="231:76"><name pos:start="231:49" pos:end="231:57"><name pos:start="231:49" pos:end="231:51">sbr</name><operator pos:start="231:52" pos:end="231:53">-&gt;</operator><name pos:start="231:54" pos:end="231:54">k</name><index pos:start="231:55" pos:end="231:57">[<expr pos:start="231:56" pos:end="231:56"><literal type="number" pos:start="231:56" pos:end="231:56">1</literal></expr>]</index></name> <operator pos:start="231:59" pos:end="231:59">/</operator> <operator pos:start="231:61" pos:end="231:61">(</operator><name pos:start="231:62" pos:end="231:66">float</name><operator pos:start="231:67" pos:end="231:67">)</operator><name pos:start="231:68" pos:end="231:76"><name pos:start="231:68" pos:end="231:70">sbr</name><operator pos:start="231:71" pos:end="231:72">-&gt;</operator><name pos:start="231:73" pos:end="231:73">k</name><index pos:start="231:74" pos:end="231:76">[<expr pos:start="231:75" pos:end="231:75"><literal type="number" pos:start="231:75" pos:end="231:75">0</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call> <operator pos:start="231:80" pos:end="231:80">*</operator> <literal type="number" pos:start="231:82" pos:end="231:82">2</literal></expr>;</expr_stmt>



        <if_stmt pos:start="235:9" pos:end="241:9"><if pos:start="235:9" pos:end="241:9">if <condition pos:start="235:12" pos:end="235:29">(<expr pos:start="235:13" pos:end="235:28"><name pos:start="235:13" pos:end="235:23">num_bands_0</name> <operator pos:start="235:25" pos:end="235:26">&lt;=</operator> <literal type="number" pos:start="235:28" pos:end="235:28">0</literal></expr>)</condition> <block pos:start="235:31" pos:end="241:9">{<block_content pos:start="237:13" pos:end="239:22"> <comment type="line" pos:start="235:33" pos:end="235:67">// Requirements (14496-3 sp04 p205)</comment>

            <expr_stmt pos:start="237:13" pos:end="237:86"><expr pos:start="237:13" pos:end="237:85"><call pos:start="237:13" pos:end="237:85"><name pos:start="237:13" pos:end="237:18">av_log</name><argument_list pos:start="237:19" pos:end="237:85">(<argument pos:start="237:20" pos:end="237:28"><expr pos:start="237:20" pos:end="237:28"><name pos:start="237:20" pos:end="237:28"><name pos:start="237:20" pos:end="237:21">ac</name><operator pos:start="237:22" pos:end="237:23">-&gt;</operator><name pos:start="237:24" pos:end="237:28">avctx</name></name></expr></argument>, <argument pos:start="237:31" pos:end="237:42"><expr pos:start="237:31" pos:end="237:42"><name pos:start="237:31" pos:end="237:42">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="237:45" pos:end="237:71"><expr pos:start="237:45" pos:end="237:71"><literal type="string" pos:start="237:45" pos:end="237:71">"Invalid num_bands_0: %d\n"</literal></expr></argument>, <argument pos:start="237:74" pos:end="237:84"><expr pos:start="237:74" pos:end="237:84"><name pos:start="237:74" pos:end="237:84">num_bands_0</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <return pos:start="239:13" pos:end="239:22">return <expr pos:start="239:20" pos:end="239:21"><operator pos:start="239:20" pos:end="239:20">-</operator><literal type="number" pos:start="239:21" pos:end="239:21">1</literal></expr>;</return>

        </block_content>}</block></if></if_stmt>



        <expr_stmt pos:start="245:9" pos:end="245:19"><expr pos:start="245:9" pos:end="245:18"><name pos:start="245:9" pos:end="245:14"><name pos:start="245:9" pos:end="245:11">vk0</name><index pos:start="245:12" pos:end="245:14">[<expr pos:start="245:13" pos:end="245:13"><literal type="number" pos:start="245:13" pos:end="245:13">0</literal></expr>]</index></name> <operator pos:start="245:16" pos:end="245:16">=</operator> <literal type="number" pos:start="245:18" pos:end="245:18">0</literal></expr>;</expr_stmt>



        <expr_stmt pos:start="249:9" pos:end="249:61"><expr pos:start="249:9" pos:end="249:60"><call pos:start="249:9" pos:end="249:60"><name pos:start="249:9" pos:end="249:18">make_bands</name><argument_list pos:start="249:19" pos:end="249:60">(<argument pos:start="249:20" pos:end="249:24"><expr pos:start="249:20" pos:end="249:24"><name pos:start="249:20" pos:end="249:22">vk0</name><operator pos:start="249:23" pos:end="249:23">+</operator><literal type="number" pos:start="249:24" pos:end="249:24">1</literal></expr></argument>, <argument pos:start="249:27" pos:end="249:35"><expr pos:start="249:27" pos:end="249:35"><name pos:start="249:27" pos:end="249:35"><name pos:start="249:27" pos:end="249:29">sbr</name><operator pos:start="249:30" pos:end="249:31">-&gt;</operator><name pos:start="249:32" pos:end="249:32">k</name><index pos:start="249:33" pos:end="249:35">[<expr pos:start="249:34" pos:end="249:34"><literal type="number" pos:start="249:34" pos:end="249:34">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="249:38" pos:end="249:46"><expr pos:start="249:38" pos:end="249:46"><name pos:start="249:38" pos:end="249:46"><name pos:start="249:38" pos:end="249:40">sbr</name><operator pos:start="249:41" pos:end="249:42">-&gt;</operator><name pos:start="249:43" pos:end="249:43">k</name><index pos:start="249:44" pos:end="249:46">[<expr pos:start="249:45" pos:end="249:45"><literal type="number" pos:start="249:45" pos:end="249:45">1</literal></expr>]</index></name></expr></argument>, <argument pos:start="249:49" pos:end="249:59"><expr pos:start="249:49" pos:end="249:59"><name pos:start="249:49" pos:end="249:59">num_bands_0</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <expr_stmt pos:start="253:9" pos:end="253:85"><expr pos:start="253:9" pos:end="253:84"><call pos:start="253:9" pos:end="253:84"><name pos:start="253:9" pos:end="253:13">qsort</name><argument_list pos:start="253:14" pos:end="253:84">(<argument pos:start="253:15" pos:end="253:21"><expr pos:start="253:15" pos:end="253:21"><name pos:start="253:15" pos:end="253:17">vk0</name> <operator pos:start="253:19" pos:end="253:19">+</operator> <literal type="number" pos:start="253:21" pos:end="253:21">1</literal></expr></argument>, <argument pos:start="253:24" pos:end="253:34"><expr pos:start="253:24" pos:end="253:34"><name pos:start="253:24" pos:end="253:34">num_bands_0</name></expr></argument>, <argument pos:start="253:37" pos:end="253:50"><expr pos:start="253:37" pos:end="253:50"><sizeof pos:start="253:37" pos:end="253:50">sizeof<argument_list pos:start="253:43" pos:end="253:50">(<argument pos:start="253:44" pos:end="253:49"><expr pos:start="253:44" pos:end="253:49"><name pos:start="253:44" pos:end="253:49"><name pos:start="253:44" pos:end="253:46">vk0</name><index pos:start="253:47" pos:end="253:49">[<expr pos:start="253:48" pos:end="253:48"><literal type="number" pos:start="253:48" pos:end="253:48">1</literal></expr>]</index></name></expr></argument>)</argument_list></sizeof></expr></argument>, <argument pos:start="253:53" pos:end="253:83"><expr pos:start="253:53" pos:end="253:83"><name pos:start="253:53" pos:end="253:83">qsort_comparison_function_int16</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="255:9" pos:end="255:36"><expr pos:start="255:9" pos:end="255:35"><name pos:start="255:9" pos:end="255:16">vdk0_max</name> <operator pos:start="255:18" pos:end="255:18">=</operator> <name pos:start="255:20" pos:end="255:35"><name pos:start="255:20" pos:end="255:22">vk0</name><index pos:start="255:23" pos:end="255:35">[<expr pos:start="255:24" pos:end="255:34"><name pos:start="255:24" pos:end="255:34">num_bands_0</name></expr>]</index></name></expr>;</expr_stmt>



        <expr_stmt pos:start="259:9" pos:end="259:27"><expr pos:start="259:9" pos:end="259:26"><name pos:start="259:9" pos:end="259:14"><name pos:start="259:9" pos:end="259:11">vk0</name><index pos:start="259:12" pos:end="259:14">[<expr pos:start="259:13" pos:end="259:13"><literal type="number" pos:start="259:13" pos:end="259:13">0</literal></expr>]</index></name> <operator pos:start="259:16" pos:end="259:16">=</operator> <name pos:start="259:18" pos:end="259:26"><name pos:start="259:18" pos:end="259:20">sbr</name><operator pos:start="259:21" pos:end="259:22">-&gt;</operator><name pos:start="259:23" pos:end="259:23">k</name><index pos:start="259:24" pos:end="259:26">[<expr pos:start="259:25" pos:end="259:25"><literal type="number" pos:start="259:25" pos:end="259:25">0</literal></expr>]</index></name></expr>;</expr_stmt>

        <for pos:start="261:9" pos:end="273:9">for <control pos:start="261:13" pos:end="261:42">(<init pos:start="261:14" pos:end="261:19"><expr pos:start="261:14" pos:end="261:18"><name pos:start="261:14" pos:end="261:14">k</name> <operator pos:start="261:16" pos:end="261:16">=</operator> <literal type="number" pos:start="261:18" pos:end="261:18">1</literal></expr>;</init> <condition pos:start="261:21" pos:end="261:37"><expr pos:start="261:21" pos:end="261:36"><name pos:start="261:21" pos:end="261:21">k</name> <operator pos:start="261:23" pos:end="261:24">&lt;=</operator> <name pos:start="261:26" pos:end="261:36">num_bands_0</name></expr>;</condition> <incr pos:start="261:39" pos:end="261:41"><expr pos:start="261:39" pos:end="261:41"><name pos:start="261:39" pos:end="261:39">k</name><operator pos:start="261:40" pos:end="261:41">++</operator></expr></incr>)</control> <block pos:start="261:44" pos:end="273:9">{<block_content pos:start="263:13" pos:end="271:31">

            <if_stmt pos:start="263:13" pos:end="269:13"><if pos:start="263:13" pos:end="269:13">if <condition pos:start="263:16" pos:end="263:28">(<expr pos:start="263:17" pos:end="263:27"><name pos:start="263:17" pos:end="263:22"><name pos:start="263:17" pos:end="263:19">vk0</name><index pos:start="263:20" pos:end="263:22">[<expr pos:start="263:21" pos:end="263:21"><name pos:start="263:21" pos:end="263:21">k</name></expr>]</index></name> <operator pos:start="263:24" pos:end="263:25">&lt;=</operator> <literal type="number" pos:start="263:27" pos:end="263:27">0</literal></expr>)</condition> <block pos:start="263:30" pos:end="269:13">{<block_content pos:start="265:17" pos:end="267:26"> <comment type="line" pos:start="263:32" pos:end="263:66">// Requirements (14496-3 sp04 p205)</comment>

                <expr_stmt pos:start="265:17" pos:end="265:85"><expr pos:start="265:17" pos:end="265:84"><call pos:start="265:17" pos:end="265:84"><name pos:start="265:17" pos:end="265:22">av_log</name><argument_list pos:start="265:23" pos:end="265:84">(<argument pos:start="265:24" pos:end="265:32"><expr pos:start="265:24" pos:end="265:32"><name pos:start="265:24" pos:end="265:32"><name pos:start="265:24" pos:end="265:25">ac</name><operator pos:start="265:26" pos:end="265:27">-&gt;</operator><name pos:start="265:28" pos:end="265:32">avctx</name></name></expr></argument>, <argument pos:start="265:35" pos:end="265:46"><expr pos:start="265:35" pos:end="265:46"><name pos:start="265:35" pos:end="265:46">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="265:49" pos:end="265:72"><expr pos:start="265:49" pos:end="265:72"><literal type="string" pos:start="265:49" pos:end="265:72">"Invalid vDk0[%d]: %d\n"</literal></expr></argument>, <argument pos:start="265:75" pos:end="265:75"><expr pos:start="265:75" pos:end="265:75"><name pos:start="265:75" pos:end="265:75">k</name></expr></argument>, <argument pos:start="265:78" pos:end="265:83"><expr pos:start="265:78" pos:end="265:83"><name pos:start="265:78" pos:end="265:83"><name pos:start="265:78" pos:end="265:80">vk0</name><index pos:start="265:81" pos:end="265:83">[<expr pos:start="265:82" pos:end="265:82"><name pos:start="265:82" pos:end="265:82">k</name></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <return pos:start="267:17" pos:end="267:26">return <expr pos:start="267:24" pos:end="267:25"><operator pos:start="267:24" pos:end="267:24">-</operator><literal type="number" pos:start="267:25" pos:end="267:25">1</literal></expr>;</return>

            </block_content>}</block></if></if_stmt>

            <expr_stmt pos:start="271:13" pos:end="271:31"><expr pos:start="271:13" pos:end="271:30"><name pos:start="271:13" pos:end="271:18"><name pos:start="271:13" pos:end="271:15">vk0</name><index pos:start="271:16" pos:end="271:18">[<expr pos:start="271:17" pos:end="271:17"><name pos:start="271:17" pos:end="271:17">k</name></expr>]</index></name> <operator pos:start="271:20" pos:end="271:21">+=</operator> <name pos:start="271:23" pos:end="271:30"><name pos:start="271:23" pos:end="271:25">vk0</name><index pos:start="271:26" pos:end="271:30">[<expr pos:start="271:27" pos:end="271:29"><name pos:start="271:27" pos:end="271:27">k</name><operator pos:start="271:28" pos:end="271:28">-</operator><literal type="number" pos:start="271:29" pos:end="271:29">1</literal></expr>]</index></name></expr>;</expr_stmt>

        </block_content>}</block></for>



        <if_stmt pos:start="277:9" pos:end="363:9"><if pos:start="277:9" pos:end="353:9">if <condition pos:start="277:12" pos:end="277:24">(<expr pos:start="277:13" pos:end="277:23"><name pos:start="277:13" pos:end="277:23">two_regions</name></expr>)</condition> <block pos:start="277:26" pos:end="353:9">{<block_content pos:start="279:13" pos:end="349:65">

            <decl_stmt pos:start="279:13" pos:end="279:28"><decl pos:start="279:13" pos:end="279:27"><type pos:start="279:13" pos:end="279:19"><name pos:start="279:13" pos:end="279:19">int16_t</name></type> <name pos:start="279:21" pos:end="279:27"><name pos:start="279:21" pos:end="279:23">vk1</name><index pos:start="279:24" pos:end="279:27">[<expr pos:start="279:25" pos:end="279:26"><literal type="number" pos:start="279:25" pos:end="279:26">49</literal></expr>]</index></name></decl>;</decl_stmt>

            <decl_stmt pos:start="281:13" pos:end="283:60"><decl pos:start="281:13" pos:end="283:59"><type pos:start="281:13" pos:end="281:17"><name pos:start="281:13" pos:end="281:17">float</name></type> <name pos:start="281:19" pos:end="281:25">invwarp</name> <init pos:start="281:27" pos:end="283:59">= <expr pos:start="281:29" pos:end="283:59"><ternary pos:start="281:29" pos:end="283:59"><condition pos:start="281:29" pos:end="281:54"><expr pos:start="281:29" pos:end="281:52"><name pos:start="281:29" pos:end="281:52"><name pos:start="281:29" pos:end="281:36">spectrum</name><operator pos:start="281:37" pos:end="281:38">-&gt;</operator><name pos:start="281:39" pos:end="281:52">bs_alter_scale</name></name></expr> ?</condition><then pos:start="281:56" pos:end="281:78"> <expr pos:start="281:56" pos:end="281:78"><literal type="number" pos:start="281:56" pos:end="281:78">0.76923076923076923077f</literal></expr>

                                                     </then><else pos:start="283:54" pos:end="283:59">: <expr pos:start="283:56" pos:end="283:59"><literal type="number" pos:start="283:56" pos:end="283:59">1.0f</literal></expr></else></ternary></expr></init></decl>;</decl_stmt> <comment type="line" pos:start="283:62" pos:end="283:86">// bs_alter_scale = {0,1}</comment>

            <decl_stmt pos:start="285:13" pos:end="287:78"><decl pos:start="285:13" pos:end="287:77"><type pos:start="285:13" pos:end="285:15"><name pos:start="285:13" pos:end="285:15">int</name></type> <name pos:start="285:17" pos:end="285:27">num_bands_1</name> <init pos:start="285:29" pos:end="287:77">= <expr pos:start="285:31" pos:end="287:77"><call pos:start="285:31" pos:end="287:73"><name pos:start="285:31" pos:end="285:36">lrintf</name><argument_list pos:start="285:37" pos:end="287:73">(<argument pos:start="285:38" pos:end="287:72"><expr pos:start="285:38" pos:end="287:72"><name pos:start="285:38" pos:end="285:47">half_bands</name> <operator pos:start="285:49" pos:end="285:49">*</operator> <name pos:start="285:51" pos:end="285:57">invwarp</name> <operator pos:start="285:59" pos:end="285:59">*</operator>

                                     <call pos:start="287:38" pos:end="287:72"><name pos:start="287:38" pos:end="287:42">log2f</name><argument_list pos:start="287:43" pos:end="287:72">(<argument pos:start="287:44" pos:end="287:71"><expr pos:start="287:44" pos:end="287:71"><name pos:start="287:44" pos:end="287:52"><name pos:start="287:44" pos:end="287:46">sbr</name><operator pos:start="287:47" pos:end="287:48">-&gt;</operator><name pos:start="287:49" pos:end="287:49">k</name><index pos:start="287:50" pos:end="287:52">[<expr pos:start="287:51" pos:end="287:51"><literal type="number" pos:start="287:51" pos:end="287:51">2</literal></expr>]</index></name> <operator pos:start="287:54" pos:end="287:54">/</operator> <operator pos:start="287:56" pos:end="287:56">(</operator><name pos:start="287:57" pos:end="287:61">float</name><operator pos:start="287:62" pos:end="287:62">)</operator><name pos:start="287:63" pos:end="287:71"><name pos:start="287:63" pos:end="287:65">sbr</name><operator pos:start="287:66" pos:end="287:67">-&gt;</operator><name pos:start="287:68" pos:end="287:68">k</name><index pos:start="287:69" pos:end="287:71">[<expr pos:start="287:70" pos:end="287:70"><literal type="number" pos:start="287:70" pos:end="287:70">1</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call> <operator pos:start="287:75" pos:end="287:75">*</operator> <literal type="number" pos:start="287:77" pos:end="287:77">2</literal></expr></init></decl>;</decl_stmt>



            <expr_stmt pos:start="291:13" pos:end="291:65"><expr pos:start="291:13" pos:end="291:64"><call pos:start="291:13" pos:end="291:64"><name pos:start="291:13" pos:end="291:22">make_bands</name><argument_list pos:start="291:23" pos:end="291:64">(<argument pos:start="291:24" pos:end="291:28"><expr pos:start="291:24" pos:end="291:28"><name pos:start="291:24" pos:end="291:26">vk1</name><operator pos:start="291:27" pos:end="291:27">+</operator><literal type="number" pos:start="291:28" pos:end="291:28">1</literal></expr></argument>, <argument pos:start="291:31" pos:end="291:39"><expr pos:start="291:31" pos:end="291:39"><name pos:start="291:31" pos:end="291:39"><name pos:start="291:31" pos:end="291:33">sbr</name><operator pos:start="291:34" pos:end="291:35">-&gt;</operator><name pos:start="291:36" pos:end="291:36">k</name><index pos:start="291:37" pos:end="291:39">[<expr pos:start="291:38" pos:end="291:38"><literal type="number" pos:start="291:38" pos:end="291:38">1</literal></expr>]</index></name></expr></argument>, <argument pos:start="291:42" pos:end="291:50"><expr pos:start="291:42" pos:end="291:50"><name pos:start="291:42" pos:end="291:50"><name pos:start="291:42" pos:end="291:44">sbr</name><operator pos:start="291:45" pos:end="291:46">-&gt;</operator><name pos:start="291:47" pos:end="291:47">k</name><index pos:start="291:48" pos:end="291:50">[<expr pos:start="291:49" pos:end="291:49"><literal type="number" pos:start="291:49" pos:end="291:49">2</literal></expr>]</index></name></expr></argument>, <argument pos:start="291:53" pos:end="291:63"><expr pos:start="291:53" pos:end="291:63"><name pos:start="291:53" pos:end="291:63">num_bands_1</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



            <expr_stmt pos:start="295:13" pos:end="295:61"><expr pos:start="295:13" pos:end="295:60"><name pos:start="295:13" pos:end="295:20">vdk1_min</name> <operator pos:start="295:22" pos:end="295:22">=</operator> <call pos:start="295:24" pos:end="295:60"><name pos:start="295:24" pos:end="295:38">array_min_int16</name><argument_list pos:start="295:39" pos:end="295:60">(<argument pos:start="295:40" pos:end="295:46"><expr pos:start="295:40" pos:end="295:46"><name pos:start="295:40" pos:end="295:42">vk1</name> <operator pos:start="295:44" pos:end="295:44">+</operator> <literal type="number" pos:start="295:46" pos:end="295:46">1</literal></expr></argument>, <argument pos:start="295:49" pos:end="295:59"><expr pos:start="295:49" pos:end="295:59"><name pos:start="295:49" pos:end="295:59">num_bands_1</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



            <if_stmt pos:start="299:13" pos:end="311:13"><if pos:start="299:13" pos:end="311:13">if <condition pos:start="299:16" pos:end="299:36">(<expr pos:start="299:17" pos:end="299:35"><name pos:start="299:17" pos:end="299:24">vdk1_min</name> <operator pos:start="299:26" pos:end="299:26">&lt;</operator> <name pos:start="299:28" pos:end="299:35">vdk0_max</name></expr>)</condition> <block pos:start="299:38" pos:end="311:13">{<block_content pos:start="301:17" pos:end="309:43">

                <decl_stmt pos:start="301:17" pos:end="301:27"><decl pos:start="301:17" pos:end="301:26"><type pos:start="301:17" pos:end="301:19"><name pos:start="301:17" pos:end="301:19">int</name></type> <name pos:start="301:21" pos:end="301:26">change</name></decl>;</decl_stmt>

                <expr_stmt pos:start="303:17" pos:end="303:93"><expr pos:start="303:17" pos:end="303:92"><call pos:start="303:17" pos:end="303:92"><name pos:start="303:17" pos:end="303:21">qsort</name><argument_list pos:start="303:22" pos:end="303:92">(<argument pos:start="303:23" pos:end="303:29"><expr pos:start="303:23" pos:end="303:29"><name pos:start="303:23" pos:end="303:25">vk1</name> <operator pos:start="303:27" pos:end="303:27">+</operator> <literal type="number" pos:start="303:29" pos:end="303:29">1</literal></expr></argument>, <argument pos:start="303:32" pos:end="303:42"><expr pos:start="303:32" pos:end="303:42"><name pos:start="303:32" pos:end="303:42">num_bands_1</name></expr></argument>, <argument pos:start="303:45" pos:end="303:58"><expr pos:start="303:45" pos:end="303:58"><sizeof pos:start="303:45" pos:end="303:58">sizeof<argument_list pos:start="303:51" pos:end="303:58">(<argument pos:start="303:52" pos:end="303:57"><expr pos:start="303:52" pos:end="303:57"><name pos:start="303:52" pos:end="303:57"><name pos:start="303:52" pos:end="303:54">vk1</name><index pos:start="303:55" pos:end="303:57">[<expr pos:start="303:56" pos:end="303:56"><literal type="number" pos:start="303:56" pos:end="303:56">1</literal></expr>]</index></name></expr></argument>)</argument_list></sizeof></expr></argument>, <argument pos:start="303:61" pos:end="303:91"><expr pos:start="303:61" pos:end="303:91"><name pos:start="303:61" pos:end="303:91">qsort_comparison_function_int16</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="305:17" pos:end="305:84"><expr pos:start="305:17" pos:end="305:83"><name pos:start="305:17" pos:end="305:22">change</name> <operator pos:start="305:24" pos:end="305:24">=</operator> <call pos:start="305:26" pos:end="305:83"><name pos:start="305:26" pos:end="305:30">FFMIN</name><argument_list pos:start="305:31" pos:end="305:83">(<argument pos:start="305:32" pos:end="305:48"><expr pos:start="305:32" pos:end="305:48"><name pos:start="305:32" pos:end="305:39">vdk0_max</name> <operator pos:start="305:41" pos:end="305:41">-</operator> <name pos:start="305:43" pos:end="305:48"><name pos:start="305:43" pos:end="305:45">vk1</name><index pos:start="305:46" pos:end="305:48">[<expr pos:start="305:47" pos:end="305:47"><literal type="number" pos:start="305:47" pos:end="305:47">1</literal></expr>]</index></name></expr></argument>, <argument pos:start="305:51" pos:end="305:82"><expr pos:start="305:51" pos:end="305:82"><operator pos:start="305:51" pos:end="305:51">(</operator><name pos:start="305:52" pos:end="305:67"><name pos:start="305:52" pos:end="305:54">vk1</name><index pos:start="305:55" pos:end="305:67">[<expr pos:start="305:56" pos:end="305:66"><name pos:start="305:56" pos:end="305:66">num_bands_1</name></expr>]</index></name> <operator pos:start="305:69" pos:end="305:69">-</operator> <name pos:start="305:71" pos:end="305:76"><name pos:start="305:71" pos:end="305:73">vk1</name><index pos:start="305:74" pos:end="305:76">[<expr pos:start="305:75" pos:end="305:75"><literal type="number" pos:start="305:75" pos:end="305:75">1</literal></expr>]</index></name><operator pos:start="305:77" pos:end="305:77">)</operator> <operator pos:start="305:79" pos:end="305:80">&gt;&gt;</operator> <literal type="number" pos:start="305:82" pos:end="305:82">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="307:17" pos:end="307:43"><expr pos:start="307:17" pos:end="307:42"><name pos:start="307:17" pos:end="307:22"><name pos:start="307:17" pos:end="307:19">vk1</name><index pos:start="307:20" pos:end="307:22">[<expr pos:start="307:21" pos:end="307:21"><literal type="number" pos:start="307:21" pos:end="307:21">1</literal></expr>]</index></name>           <operator pos:start="307:34" pos:end="307:35">+=</operator> <name pos:start="307:37" pos:end="307:42">change</name></expr>;</expr_stmt>

                <expr_stmt pos:start="309:17" pos:end="309:43"><expr pos:start="309:17" pos:end="309:42"><name pos:start="309:17" pos:end="309:32"><name pos:start="309:17" pos:end="309:19">vk1</name><index pos:start="309:20" pos:end="309:32">[<expr pos:start="309:21" pos:end="309:31"><name pos:start="309:21" pos:end="309:31">num_bands_1</name></expr>]</index></name> <operator pos:start="309:34" pos:end="309:35">-=</operator> <name pos:start="309:37" pos:end="309:42">change</name></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>



            <expr_stmt pos:start="315:13" pos:end="315:89"><expr pos:start="315:13" pos:end="315:88"><call pos:start="315:13" pos:end="315:88"><name pos:start="315:13" pos:end="315:17">qsort</name><argument_list pos:start="315:18" pos:end="315:88">(<argument pos:start="315:19" pos:end="315:25"><expr pos:start="315:19" pos:end="315:25"><name pos:start="315:19" pos:end="315:21">vk1</name> <operator pos:start="315:23" pos:end="315:23">+</operator> <literal type="number" pos:start="315:25" pos:end="315:25">1</literal></expr></argument>, <argument pos:start="315:28" pos:end="315:38"><expr pos:start="315:28" pos:end="315:38"><name pos:start="315:28" pos:end="315:38">num_bands_1</name></expr></argument>, <argument pos:start="315:41" pos:end="315:54"><expr pos:start="315:41" pos:end="315:54"><sizeof pos:start="315:41" pos:end="315:54">sizeof<argument_list pos:start="315:47" pos:end="315:54">(<argument pos:start="315:48" pos:end="315:53"><expr pos:start="315:48" pos:end="315:53"><name pos:start="315:48" pos:end="315:53"><name pos:start="315:48" pos:end="315:50">vk1</name><index pos:start="315:51" pos:end="315:53">[<expr pos:start="315:52" pos:end="315:52"><literal type="number" pos:start="315:52" pos:end="315:52">1</literal></expr>]</index></name></expr></argument>)</argument_list></sizeof></expr></argument>, <argument pos:start="315:57" pos:end="315:87"><expr pos:start="315:57" pos:end="315:87"><name pos:start="315:57" pos:end="315:87">qsort_comparison_function_int16</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



            <expr_stmt pos:start="319:13" pos:end="319:31"><expr pos:start="319:13" pos:end="319:30"><name pos:start="319:13" pos:end="319:18"><name pos:start="319:13" pos:end="319:15">vk1</name><index pos:start="319:16" pos:end="319:18">[<expr pos:start="319:17" pos:end="319:17"><literal type="number" pos:start="319:17" pos:end="319:17">0</literal></expr>]</index></name> <operator pos:start="319:20" pos:end="319:20">=</operator> <name pos:start="319:22" pos:end="319:30"><name pos:start="319:22" pos:end="319:24">sbr</name><operator pos:start="319:25" pos:end="319:26">-&gt;</operator><name pos:start="319:27" pos:end="319:27">k</name><index pos:start="319:28" pos:end="319:30">[<expr pos:start="319:29" pos:end="319:29"><literal type="number" pos:start="319:29" pos:end="319:29">1</literal></expr>]</index></name></expr>;</expr_stmt>

            <for pos:start="321:13" pos:end="333:13">for <control pos:start="321:17" pos:end="321:46">(<init pos:start="321:18" pos:end="321:23"><expr pos:start="321:18" pos:end="321:22"><name pos:start="321:18" pos:end="321:18">k</name> <operator pos:start="321:20" pos:end="321:20">=</operator> <literal type="number" pos:start="321:22" pos:end="321:22">1</literal></expr>;</init> <condition pos:start="321:25" pos:end="321:41"><expr pos:start="321:25" pos:end="321:40"><name pos:start="321:25" pos:end="321:25">k</name> <operator pos:start="321:27" pos:end="321:28">&lt;=</operator> <name pos:start="321:30" pos:end="321:40">num_bands_1</name></expr>;</condition> <incr pos:start="321:43" pos:end="321:45"><expr pos:start="321:43" pos:end="321:45"><name pos:start="321:43" pos:end="321:43">k</name><operator pos:start="321:44" pos:end="321:45">++</operator></expr></incr>)</control> <block pos:start="321:48" pos:end="333:13">{<block_content pos:start="323:17" pos:end="331:35">

                <if_stmt pos:start="323:17" pos:end="329:17"><if pos:start="323:17" pos:end="329:17">if <condition pos:start="323:20" pos:end="323:32">(<expr pos:start="323:21" pos:end="323:31"><name pos:start="323:21" pos:end="323:26"><name pos:start="323:21" pos:end="323:23">vk1</name><index pos:start="323:24" pos:end="323:26">[<expr pos:start="323:25" pos:end="323:25"><name pos:start="323:25" pos:end="323:25">k</name></expr>]</index></name> <operator pos:start="323:28" pos:end="323:29">&lt;=</operator> <literal type="number" pos:start="323:31" pos:end="323:31">0</literal></expr>)</condition> <block pos:start="323:34" pos:end="329:17">{<block_content pos:start="325:21" pos:end="327:30"> <comment type="line" pos:start="323:36" pos:end="323:70">// Requirements (14496-3 sp04 p205)</comment>

                    <expr_stmt pos:start="325:21" pos:end="325:89"><expr pos:start="325:21" pos:end="325:88"><call pos:start="325:21" pos:end="325:88"><name pos:start="325:21" pos:end="325:26">av_log</name><argument_list pos:start="325:27" pos:end="325:88">(<argument pos:start="325:28" pos:end="325:36"><expr pos:start="325:28" pos:end="325:36"><name pos:start="325:28" pos:end="325:36"><name pos:start="325:28" pos:end="325:29">ac</name><operator pos:start="325:30" pos:end="325:31">-&gt;</operator><name pos:start="325:32" pos:end="325:36">avctx</name></name></expr></argument>, <argument pos:start="325:39" pos:end="325:50"><expr pos:start="325:39" pos:end="325:50"><name pos:start="325:39" pos:end="325:50">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="325:53" pos:end="325:76"><expr pos:start="325:53" pos:end="325:76"><literal type="string" pos:start="325:53" pos:end="325:76">"Invalid vDk1[%d]: %d\n"</literal></expr></argument>, <argument pos:start="325:79" pos:end="325:79"><expr pos:start="325:79" pos:end="325:79"><name pos:start="325:79" pos:end="325:79">k</name></expr></argument>, <argument pos:start="325:82" pos:end="325:87"><expr pos:start="325:82" pos:end="325:87"><name pos:start="325:82" pos:end="325:87"><name pos:start="325:82" pos:end="325:84">vk1</name><index pos:start="325:85" pos:end="325:87">[<expr pos:start="325:86" pos:end="325:86"><name pos:start="325:86" pos:end="325:86">k</name></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <return pos:start="327:21" pos:end="327:30">return <expr pos:start="327:28" pos:end="327:29"><operator pos:start="327:28" pos:end="327:28">-</operator><literal type="number" pos:start="327:29" pos:end="327:29">1</literal></expr>;</return>

                </block_content>}</block></if></if_stmt>

                <expr_stmt pos:start="331:17" pos:end="331:35"><expr pos:start="331:17" pos:end="331:34"><name pos:start="331:17" pos:end="331:22"><name pos:start="331:17" pos:end="331:19">vk1</name><index pos:start="331:20" pos:end="331:22">[<expr pos:start="331:21" pos:end="331:21"><name pos:start="331:21" pos:end="331:21">k</name></expr>]</index></name> <operator pos:start="331:24" pos:end="331:25">+=</operator> <name pos:start="331:27" pos:end="331:34"><name pos:start="331:27" pos:end="331:29">vk1</name><index pos:start="331:30" pos:end="331:34">[<expr pos:start="331:31" pos:end="331:33"><name pos:start="331:31" pos:end="331:31">k</name><operator pos:start="331:32" pos:end="331:32">-</operator><literal type="number" pos:start="331:33" pos:end="331:33">1</literal></expr>]</index></name></expr>;</expr_stmt>

            </block_content>}</block></for>



            <expr_stmt pos:start="337:13" pos:end="337:54"><expr pos:start="337:13" pos:end="337:53"><name pos:start="337:13" pos:end="337:25"><name pos:start="337:13" pos:end="337:15">sbr</name><operator pos:start="337:16" pos:end="337:17">-&gt;</operator><name pos:start="337:18" pos:end="337:25">n_master</name></name> <operator pos:start="337:27" pos:end="337:27">=</operator> <name pos:start="337:29" pos:end="337:39">num_bands_0</name> <operator pos:start="337:41" pos:end="337:41">+</operator> <name pos:start="337:43" pos:end="337:53">num_bands_1</name></expr>;</expr_stmt>

            <if_stmt pos:start="339:13" pos:end="341:26"><if pos:start="339:13" pos:end="341:26">if <condition pos:start="339:16" pos:end="339:93">(<expr pos:start="339:17" pos:end="339:92"><call pos:start="339:17" pos:end="339:92"><name pos:start="339:17" pos:end="339:30">check_n_master</name><argument_list pos:start="339:31" pos:end="339:92">(<argument pos:start="339:32" pos:end="339:40"><expr pos:start="339:32" pos:end="339:40"><name pos:start="339:32" pos:end="339:40"><name pos:start="339:32" pos:end="339:33">ac</name><operator pos:start="339:34" pos:end="339:35">-&gt;</operator><name pos:start="339:36" pos:end="339:40">avctx</name></name></expr></argument>, <argument pos:start="339:43" pos:end="339:55"><expr pos:start="339:43" pos:end="339:55"><name pos:start="339:43" pos:end="339:55"><name pos:start="339:43" pos:end="339:45">sbr</name><operator pos:start="339:46" pos:end="339:47">-&gt;</operator><name pos:start="339:48" pos:end="339:55">n_master</name></name></expr></argument>, <argument pos:start="339:58" pos:end="339:91"><expr pos:start="339:58" pos:end="339:91"><name pos:start="339:58" pos:end="339:91"><name pos:start="339:58" pos:end="339:60">sbr</name><operator pos:start="339:61" pos:end="339:62">-&gt;</operator><name pos:start="339:63" pos:end="339:77">spectrum_params</name><operator pos:start="339:78" pos:end="339:78">.</operator><name pos:start="339:79" pos:end="339:91">bs_xover_band</name></name></expr></argument>)</argument_list></call></expr>)</condition><block type="pseudo" pos:start="341:17" pos:end="341:26"><block_content pos:start="341:17" pos:end="341:26">

                <return pos:start="341:17" pos:end="341:26">return <expr pos:start="341:24" pos:end="341:25"><operator pos:start="341:24" pos:end="341:24">-</operator><literal type="number" pos:start="341:25" pos:end="341:25">1</literal></expr>;</return></block_content></block></if></if_stmt>

            <expr_stmt pos:start="343:13" pos:end="345:65"><expr pos:start="343:13" pos:end="345:64"><call pos:start="343:13" pos:end="345:64"><name pos:start="343:13" pos:end="343:18">memcpy</name><argument_list pos:start="343:19" pos:end="345:64">(<argument pos:start="343:20" pos:end="343:36"><expr pos:start="343:20" pos:end="343:36"><operator pos:start="343:20" pos:end="343:20">&amp;</operator><name pos:start="343:21" pos:end="343:36"><name pos:start="343:21" pos:end="343:23">sbr</name><operator pos:start="343:24" pos:end="343:25">-&gt;</operator><name pos:start="343:26" pos:end="343:33">f_master</name><index pos:start="343:34" pos:end="343:36">[<expr pos:start="343:35" pos:end="343:35"><literal type="number" pos:start="343:35" pos:end="343:35">0</literal></expr>]</index></name></expr></argument>,               <argument pos:start="343:53" pos:end="343:55"><expr pos:start="343:53" pos:end="343:55"><name pos:start="343:53" pos:end="343:55">vk0</name></expr></argument>,

                   <argument pos:start="345:20" pos:end="345:63"><expr pos:start="345:20" pos:end="345:63"><operator pos:start="345:20" pos:end="345:20">(</operator><name pos:start="345:21" pos:end="345:31">num_bands_0</name> <operator pos:start="345:33" pos:end="345:33">+</operator> <literal type="number" pos:start="345:35" pos:end="345:35">1</literal><operator pos:start="345:36" pos:end="345:36">)</operator> <operator pos:start="345:38" pos:end="345:38">*</operator> <sizeof pos:start="345:40" pos:end="345:63">sizeof<argument_list pos:start="345:46" pos:end="345:63">(<argument pos:start="345:47" pos:end="345:62"><expr pos:start="345:47" pos:end="345:62"><name pos:start="345:47" pos:end="345:62"><name pos:start="345:47" pos:end="345:49">sbr</name><operator pos:start="345:50" pos:end="345:51">-&gt;</operator><name pos:start="345:52" pos:end="345:59">f_master</name><index pos:start="345:60" pos:end="345:62">[<expr pos:start="345:61" pos:end="345:61"><literal type="number" pos:start="345:61" pos:end="345:61">0</literal></expr>]</index></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="347:13" pos:end="349:65"><expr pos:start="347:13" pos:end="349:64"><call pos:start="347:13" pos:end="349:64"><name pos:start="347:13" pos:end="347:18">memcpy</name><argument_list pos:start="347:19" pos:end="349:64">(<argument pos:start="347:20" pos:end="347:50"><expr pos:start="347:20" pos:end="347:50"><operator pos:start="347:20" pos:end="347:20">&amp;</operator><name pos:start="347:21" pos:end="347:50"><name pos:start="347:21" pos:end="347:23">sbr</name><operator pos:start="347:24" pos:end="347:25">-&gt;</operator><name pos:start="347:26" pos:end="347:33">f_master</name><index pos:start="347:34" pos:end="347:50">[<expr pos:start="347:35" pos:end="347:49"><name pos:start="347:35" pos:end="347:45">num_bands_0</name> <operator pos:start="347:47" pos:end="347:47">+</operator> <literal type="number" pos:start="347:49" pos:end="347:49">1</literal></expr>]</index></name></expr></argument>, <argument pos:start="347:53" pos:end="347:59"><expr pos:start="347:53" pos:end="347:59"><name pos:start="347:53" pos:end="347:55">vk1</name> <operator pos:start="347:57" pos:end="347:57">+</operator> <literal type="number" pos:start="347:59" pos:end="347:59">1</literal></expr></argument>,

                    <argument pos:start="349:21" pos:end="349:63"><expr pos:start="349:21" pos:end="349:63"><name pos:start="349:21" pos:end="349:31">num_bands_1</name>      <operator pos:start="349:38" pos:end="349:38">*</operator> <sizeof pos:start="349:40" pos:end="349:63">sizeof<argument_list pos:start="349:46" pos:end="349:63">(<argument pos:start="349:47" pos:end="349:62"><expr pos:start="349:47" pos:end="349:62"><name pos:start="349:47" pos:end="349:62"><name pos:start="349:47" pos:end="349:49">sbr</name><operator pos:start="349:50" pos:end="349:51">-&gt;</operator><name pos:start="349:52" pos:end="349:59">f_master</name><index pos:start="349:60" pos:end="349:62">[<expr pos:start="349:61" pos:end="349:61"><literal type="number" pos:start="349:61" pos:end="349:61">0</literal></expr>]</index></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        </block_content>}</block></if> <else pos:start="353:11" pos:end="363:9">else <block pos:start="353:16" pos:end="363:9">{<block_content pos:start="355:13" pos:end="361:85">

            <expr_stmt pos:start="355:13" pos:end="355:40"><expr pos:start="355:13" pos:end="355:39"><name pos:start="355:13" pos:end="355:25"><name pos:start="355:13" pos:end="355:15">sbr</name><operator pos:start="355:16" pos:end="355:17">-&gt;</operator><name pos:start="355:18" pos:end="355:25">n_master</name></name> <operator pos:start="355:27" pos:end="355:27">=</operator> <name pos:start="355:29" pos:end="355:39">num_bands_0</name></expr>;</expr_stmt>

            <if_stmt pos:start="357:13" pos:end="359:26"><if pos:start="357:13" pos:end="359:26">if <condition pos:start="357:16" pos:end="357:93">(<expr pos:start="357:17" pos:end="357:92"><call pos:start="357:17" pos:end="357:92"><name pos:start="357:17" pos:end="357:30">check_n_master</name><argument_list pos:start="357:31" pos:end="357:92">(<argument pos:start="357:32" pos:end="357:40"><expr pos:start="357:32" pos:end="357:40"><name pos:start="357:32" pos:end="357:40"><name pos:start="357:32" pos:end="357:33">ac</name><operator pos:start="357:34" pos:end="357:35">-&gt;</operator><name pos:start="357:36" pos:end="357:40">avctx</name></name></expr></argument>, <argument pos:start="357:43" pos:end="357:55"><expr pos:start="357:43" pos:end="357:55"><name pos:start="357:43" pos:end="357:55"><name pos:start="357:43" pos:end="357:45">sbr</name><operator pos:start="357:46" pos:end="357:47">-&gt;</operator><name pos:start="357:48" pos:end="357:55">n_master</name></name></expr></argument>, <argument pos:start="357:58" pos:end="357:91"><expr pos:start="357:58" pos:end="357:91"><name pos:start="357:58" pos:end="357:91"><name pos:start="357:58" pos:end="357:60">sbr</name><operator pos:start="357:61" pos:end="357:62">-&gt;</operator><name pos:start="357:63" pos:end="357:77">spectrum_params</name><operator pos:start="357:78" pos:end="357:78">.</operator><name pos:start="357:79" pos:end="357:91">bs_xover_band</name></name></expr></argument>)</argument_list></call></expr>)</condition><block type="pseudo" pos:start="359:17" pos:end="359:26"><block_content pos:start="359:17" pos:end="359:26">

                <return pos:start="359:17" pos:end="359:26">return <expr pos:start="359:24" pos:end="359:25"><operator pos:start="359:24" pos:end="359:24">-</operator><literal type="number" pos:start="359:25" pos:end="359:25">1</literal></expr>;</return></block_content></block></if></if_stmt>

            <expr_stmt pos:start="361:13" pos:end="361:85"><expr pos:start="361:13" pos:end="361:84"><call pos:start="361:13" pos:end="361:84"><name pos:start="361:13" pos:end="361:18">memcpy</name><argument_list pos:start="361:19" pos:end="361:84">(<argument pos:start="361:20" pos:end="361:32"><expr pos:start="361:20" pos:end="361:32"><name pos:start="361:20" pos:end="361:32"><name pos:start="361:20" pos:end="361:22">sbr</name><operator pos:start="361:23" pos:end="361:24">-&gt;</operator><name pos:start="361:25" pos:end="361:32">f_master</name></name></expr></argument>, <argument pos:start="361:35" pos:end="361:37"><expr pos:start="361:35" pos:end="361:37"><name pos:start="361:35" pos:end="361:37">vk0</name></expr></argument>, <argument pos:start="361:40" pos:end="361:83"><expr pos:start="361:40" pos:end="361:83"><operator pos:start="361:40" pos:end="361:40">(</operator><name pos:start="361:41" pos:end="361:51">num_bands_0</name> <operator pos:start="361:53" pos:end="361:53">+</operator> <literal type="number" pos:start="361:55" pos:end="361:55">1</literal><operator pos:start="361:56" pos:end="361:56">)</operator> <operator pos:start="361:58" pos:end="361:58">*</operator> <sizeof pos:start="361:60" pos:end="361:83">sizeof<argument_list pos:start="361:66" pos:end="361:83">(<argument pos:start="361:67" pos:end="361:82"><expr pos:start="361:67" pos:end="361:82"><name pos:start="361:67" pos:end="361:82"><name pos:start="361:67" pos:end="361:69">sbr</name><operator pos:start="361:70" pos:end="361:71">-&gt;</operator><name pos:start="361:72" pos:end="361:79">f_master</name><index pos:start="361:80" pos:end="361:82">[<expr pos:start="361:81" pos:end="361:81"><literal type="number" pos:start="361:81" pos:end="361:81">0</literal></expr>]</index></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></else></if_stmt>

    </block_content>}</block></else></if_stmt>



    <return pos:start="369:5" pos:end="369:13">return <expr pos:start="369:12" pos:end="369:12"><literal type="number" pos:start="369:12" pos:end="369:12">0</literal></expr>;</return>

</block_content>}</block></function></unit>
