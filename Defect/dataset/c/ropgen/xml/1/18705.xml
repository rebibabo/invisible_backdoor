<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/18705.c" pos:tabs="8"><macro pos:start="1:1" pos:end="1:22"><name pos:start="1:1" pos:end="1:7">YUV2RGB</name><argument_list pos:start="1:8" pos:end="1:22">(<argument pos:start="1:9" pos:end="1:12">rgb8</argument>, <argument pos:start="1:15" pos:end="1:21">uint8_t</argument>)</argument_list></macro>

<macro pos:start="3:1" pos:end="3:24"><name pos:start="3:1" pos:end="3:7">YUV2RGB</name><argument_list pos:start="3:8" pos:end="3:24">(<argument pos:start="3:9" pos:end="3:13">rgb16</argument>, <argument pos:start="3:16" pos:end="3:23">uint16_t</argument>)</argument_list></macro>



<comment type="block" pos:start="7:1" pos:end="7:42">/* process exactly one decompressed row */</comment>

<function pos:start="9:1" pos:end="167:1"><type pos:start="9:1" pos:end="9:11"><specifier pos:start="9:1" pos:end="9:6">static</specifier> <name pos:start="9:8" pos:end="9:11">void</name></type> <name pos:start="9:13" pos:end="9:26">png_handle_row</name><parameter_list pos:start="9:27" pos:end="9:44">(<parameter pos:start="9:28" pos:end="9:43"><decl pos:start="9:28" pos:end="9:43"><type pos:start="9:28" pos:end="9:42"><name pos:start="9:28" pos:end="9:40">PNGDecContext</name> <modifier pos:start="9:42" pos:end="9:42">*</modifier></type><name pos:start="9:43" pos:end="9:43">s</name></decl></parameter>)</parameter_list>

<block pos:start="11:1" pos:end="167:1">{<block_content pos:start="13:5" pos:end="165:5">

    <decl_stmt pos:start="13:5" pos:end="13:28"><decl pos:start="13:5" pos:end="13:16"><type pos:start="13:5" pos:end="13:13"><name pos:start="13:5" pos:end="13:11">uint8_t</name> <modifier pos:start="13:13" pos:end="13:13">*</modifier></type><name pos:start="13:14" pos:end="13:16">ptr</name></decl>, <decl pos:start="13:19" pos:end="13:27"><type ref="prev" pos:start="13:5" pos:end="13:13"><modifier pos:start="13:19" pos:end="13:19">*</modifier></type><name pos:start="13:20" pos:end="13:27">last_row</name></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="15:17"><decl pos:start="15:5" pos:end="15:16"><type pos:start="15:5" pos:end="15:7"><name pos:start="15:5" pos:end="15:7">int</name></type> <name pos:start="15:9" pos:end="15:16">got_line</name></decl>;</decl_stmt>



    <if_stmt pos:start="19:5" pos:end="165:5"><if pos:start="19:5" pos:end="83:5">if <condition pos:start="19:8" pos:end="19:27">(<expr pos:start="19:9" pos:end="19:26"><operator pos:start="19:9" pos:end="19:9">!</operator><name pos:start="19:10" pos:end="19:26"><name pos:start="19:10" pos:end="19:10">s</name><operator pos:start="19:11" pos:end="19:12">-&gt;</operator><name pos:start="19:13" pos:end="19:26">interlace_type</name></name></expr>)</condition> <block pos:start="19:29" pos:end="83:5">{<block_content pos:start="21:9" pos:end="81:9">

        <expr_stmt pos:start="21:9" pos:end="21:93"><expr pos:start="21:9" pos:end="21:92"><name pos:start="21:9" pos:end="21:11">ptr</name> <operator pos:start="21:13" pos:end="21:13">=</operator> <name pos:start="21:15" pos:end="21:26"><name pos:start="21:15" pos:end="21:15">s</name><operator pos:start="21:16" pos:end="21:17">-&gt;</operator><name pos:start="21:18" pos:end="21:26">image_buf</name></name> <operator pos:start="21:28" pos:end="21:28">+</operator> <name pos:start="21:30" pos:end="21:46"><name pos:start="21:30" pos:end="21:30">s</name><operator pos:start="21:31" pos:end="21:32">-&gt;</operator><name pos:start="21:33" pos:end="21:46">image_linesize</name></name> <operator pos:start="21:48" pos:end="21:48">*</operator> <operator pos:start="21:50" pos:end="21:50">(</operator><name pos:start="21:51" pos:end="21:54"><name pos:start="21:51" pos:end="21:51">s</name><operator pos:start="21:52" pos:end="21:53">-&gt;</operator><name pos:start="21:54" pos:end="21:54">y</name></name> <operator pos:start="21:56" pos:end="21:56">+</operator> <name pos:start="21:58" pos:end="21:68"><name pos:start="21:58" pos:end="21:58">s</name><operator pos:start="21:59" pos:end="21:60">-&gt;</operator><name pos:start="21:61" pos:end="21:68">y_offset</name></name><operator pos:start="21:69" pos:end="21:69">)</operator> <operator pos:start="21:71" pos:end="21:71">+</operator> <name pos:start="21:73" pos:end="21:83"><name pos:start="21:73" pos:end="21:73">s</name><operator pos:start="21:74" pos:end="21:75">-&gt;</operator><name pos:start="21:76" pos:end="21:83">x_offset</name></name> <operator pos:start="21:85" pos:end="21:85">*</operator> <name pos:start="21:87" pos:end="21:92"><name pos:start="21:87" pos:end="21:87">s</name><operator pos:start="21:88" pos:end="21:89">-&gt;</operator><name pos:start="21:90" pos:end="21:92">bpp</name></name></expr>;</expr_stmt>

        <if_stmt pos:start="23:9" pos:end="29:47"><if pos:start="23:9" pos:end="25:35">if <condition pos:start="23:12" pos:end="23:22">(<expr pos:start="23:13" pos:end="23:21"><name pos:start="23:13" pos:end="23:16"><name pos:start="23:13" pos:end="23:13">s</name><operator pos:start="23:14" pos:end="23:15">-&gt;</operator><name pos:start="23:16" pos:end="23:16">y</name></name> <operator pos:start="23:18" pos:end="23:19">==</operator> <literal type="number" pos:start="23:21" pos:end="23:21">0</literal></expr>)</condition><block type="pseudo" pos:start="25:13" pos:end="25:35"><block_content pos:start="25:13" pos:end="25:35">

            <expr_stmt pos:start="25:13" pos:end="25:35"><expr pos:start="25:13" pos:end="25:34"><name pos:start="25:13" pos:end="25:20">last_row</name> <operator pos:start="25:22" pos:end="25:22">=</operator> <name pos:start="25:24" pos:end="25:34"><name pos:start="25:24" pos:end="25:24">s</name><operator pos:start="25:25" pos:end="25:26">-&gt;</operator><name pos:start="25:27" pos:end="25:34">last_row</name></name></expr>;</expr_stmt></block_content></block></if>

        <else pos:start="27:9" pos:end="29:47">else<block type="pseudo" pos:start="29:13" pos:end="29:47"><block_content pos:start="29:13" pos:end="29:47">

            <expr_stmt pos:start="29:13" pos:end="29:47"><expr pos:start="29:13" pos:end="29:46"><name pos:start="29:13" pos:end="29:20">last_row</name> <operator pos:start="29:22" pos:end="29:22">=</operator> <name pos:start="29:24" pos:end="29:26">ptr</name> <operator pos:start="29:28" pos:end="29:28">-</operator> <name pos:start="29:30" pos:end="29:46"><name pos:start="29:30" pos:end="29:30">s</name><operator pos:start="29:31" pos:end="29:32">-&gt;</operator><name pos:start="29:33" pos:end="29:46">image_linesize</name></name></expr>;</expr_stmt></block_content></block></else></if_stmt>



        <expr_stmt pos:start="33:9" pos:end="35:54"><expr pos:start="33:9" pos:end="35:53"><call pos:start="33:9" pos:end="35:53"><name pos:start="33:9" pos:end="33:22">png_filter_row</name><argument_list pos:start="33:23" pos:end="35:53">(<argument pos:start="33:24" pos:end="33:30"><expr pos:start="33:24" pos:end="33:30"><operator pos:start="33:24" pos:end="33:24">&amp;</operator><name pos:start="33:25" pos:end="33:30"><name pos:start="33:25" pos:end="33:25">s</name><operator pos:start="33:26" pos:end="33:27">-&gt;</operator><name pos:start="33:28" pos:end="33:30">dsp</name></name></expr></argument>, <argument pos:start="33:33" pos:end="33:35"><expr pos:start="33:33" pos:end="33:35"><name pos:start="33:33" pos:end="33:35">ptr</name></expr></argument>, <argument pos:start="33:38" pos:end="33:51"><expr pos:start="33:38" pos:end="33:51"><name pos:start="33:38" pos:end="33:51"><name pos:start="33:38" pos:end="33:38">s</name><operator pos:start="33:39" pos:end="33:40">-&gt;</operator><name pos:start="33:41" pos:end="33:48">crow_buf</name><index pos:start="33:49" pos:end="33:51">[<expr pos:start="33:50" pos:end="33:50"><literal type="number" pos:start="33:50" pos:end="33:50">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="33:54" pos:end="33:68"><expr pos:start="33:54" pos:end="33:68"><name pos:start="33:54" pos:end="33:64"><name pos:start="33:54" pos:end="33:54">s</name><operator pos:start="33:55" pos:end="33:56">-&gt;</operator><name pos:start="33:57" pos:end="33:64">crow_buf</name></name> <operator pos:start="33:66" pos:end="33:66">+</operator> <literal type="number" pos:start="33:68" pos:end="33:68">1</literal></expr></argument>,

                       <argument pos:start="35:24" pos:end="35:31"><expr pos:start="35:24" pos:end="35:31"><name pos:start="35:24" pos:end="35:31">last_row</name></expr></argument>, <argument pos:start="35:34" pos:end="35:44"><expr pos:start="35:34" pos:end="35:44"><name pos:start="35:34" pos:end="35:44"><name pos:start="35:34" pos:end="35:34">s</name><operator pos:start="35:35" pos:end="35:36">-&gt;</operator><name pos:start="35:37" pos:end="35:44">row_size</name></name></expr></argument>, <argument pos:start="35:47" pos:end="35:52"><expr pos:start="35:47" pos:end="35:52"><name pos:start="35:47" pos:end="35:52"><name pos:start="35:47" pos:end="35:47">s</name><operator pos:start="35:48" pos:end="35:49">-&gt;</operator><name pos:start="35:50" pos:end="35:52">bpp</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <comment type="block" pos:start="37:9" pos:end="37:81">/* loco lags by 1 row so that it doesn't interfere with top prediction */</comment>

        <if_stmt pos:start="39:9" pos:end="55:9"><if pos:start="39:9" pos:end="55:9">if <condition pos:start="39:12" pos:end="39:63">(<expr pos:start="39:13" pos:end="39:62"><name pos:start="39:13" pos:end="39:26"><name pos:start="39:13" pos:end="39:13">s</name><operator pos:start="39:14" pos:end="39:15">-&gt;</operator><name pos:start="39:16" pos:end="39:26">filter_type</name></name> <operator pos:start="39:28" pos:end="39:29">==</operator> <name pos:start="39:31" pos:end="39:50">PNG_FILTER_TYPE_LOCO</name> <operator pos:start="39:52" pos:end="39:53">&amp;&amp;</operator> <name pos:start="39:55" pos:end="39:58"><name pos:start="39:55" pos:end="39:55">s</name><operator pos:start="39:56" pos:end="39:57">-&gt;</operator><name pos:start="39:58" pos:end="39:58">y</name></name> <operator pos:start="39:60" pos:end="39:60">&gt;</operator> <literal type="number" pos:start="39:62" pos:end="39:62">0</literal></expr>)</condition> <block pos:start="39:65" pos:end="55:9">{<block_content pos:start="41:13" pos:end="53:13">

            <if_stmt pos:start="41:13" pos:end="53:13"><if pos:start="41:13" pos:end="47:13">if <condition pos:start="41:16" pos:end="41:35">(<expr pos:start="41:17" pos:end="41:34"><name pos:start="41:17" pos:end="41:28"><name pos:start="41:17" pos:end="41:17">s</name><operator pos:start="41:18" pos:end="41:19">-&gt;</operator><name pos:start="41:20" pos:end="41:28">bit_depth</name></name> <operator pos:start="41:30" pos:end="41:31">==</operator> <literal type="number" pos:start="41:33" pos:end="41:34">16</literal></expr>)</condition> <block pos:start="41:37" pos:end="47:13">{<block_content pos:start="43:17" pos:end="45:72">

                <expr_stmt pos:start="43:17" pos:end="45:72"><expr pos:start="43:17" pos:end="45:71"><call pos:start="43:17" pos:end="45:71"><name pos:start="43:17" pos:end="43:28">deloco_rgb16</name><argument_list pos:start="43:29" pos:end="45:71">(<argument pos:start="43:30" pos:end="43:66"><expr pos:start="43:30" pos:end="43:66"><operator pos:start="43:30" pos:end="43:30">(</operator><name pos:start="43:31" pos:end="43:38">uint16_t</name> <operator pos:start="43:40" pos:end="43:40">*</operator><operator pos:start="43:41" pos:end="43:41">)</operator><operator pos:start="43:42" pos:end="43:42">(</operator><name pos:start="43:43" pos:end="43:45">ptr</name> <operator pos:start="43:47" pos:end="43:47">-</operator> <name pos:start="43:49" pos:end="43:65"><name pos:start="43:49" pos:end="43:49">s</name><operator pos:start="43:50" pos:end="43:51">-&gt;</operator><name pos:start="43:52" pos:end="43:65">image_linesize</name></name><operator pos:start="43:66" pos:end="43:66">)</operator></expr></argument>, <argument pos:start="43:69" pos:end="43:83"><expr pos:start="43:69" pos:end="43:83"><name pos:start="43:69" pos:end="43:79"><name pos:start="43:69" pos:end="43:69">s</name><operator pos:start="43:70" pos:end="43:71">-&gt;</operator><name pos:start="43:72" pos:end="43:79">row_size</name></name> <operator pos:start="43:81" pos:end="43:81">/</operator> <literal type="number" pos:start="43:83" pos:end="43:83">2</literal></expr></argument>,

                             <argument pos:start="45:30" pos:end="45:70"><expr pos:start="45:30" pos:end="45:70"><name pos:start="45:30" pos:end="45:42"><name pos:start="45:30" pos:end="45:30">s</name><operator pos:start="45:31" pos:end="45:32">-&gt;</operator><name pos:start="45:33" pos:end="45:42">color_type</name></name> <operator pos:start="45:44" pos:end="45:45">==</operator> <name pos:start="45:47" pos:end="45:70">PNG_COLOR_TYPE_RGB_ALPHA</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></if> <else pos:start="47:15" pos:end="53:13">else <block pos:start="47:20" pos:end="53:13">{<block_content pos:start="49:17" pos:end="51:71">

                <expr_stmt pos:start="49:17" pos:end="51:71"><expr pos:start="49:17" pos:end="51:70"><call pos:start="49:17" pos:end="51:70"><name pos:start="49:17" pos:end="49:27">deloco_rgb8</name><argument_list pos:start="49:28" pos:end="51:70">(<argument pos:start="49:29" pos:end="49:51"><expr pos:start="49:29" pos:end="49:51"><name pos:start="49:29" pos:end="49:31">ptr</name> <operator pos:start="49:33" pos:end="49:33">-</operator> <name pos:start="49:35" pos:end="49:51"><name pos:start="49:35" pos:end="49:35">s</name><operator pos:start="49:36" pos:end="49:37">-&gt;</operator><name pos:start="49:38" pos:end="49:51">image_linesize</name></name></expr></argument>, <argument pos:start="49:54" pos:end="49:64"><expr pos:start="49:54" pos:end="49:64"><name pos:start="49:54" pos:end="49:64"><name pos:start="49:54" pos:end="49:54">s</name><operator pos:start="49:55" pos:end="49:56">-&gt;</operator><name pos:start="49:57" pos:end="49:64">row_size</name></name></expr></argument>,

                            <argument pos:start="51:29" pos:end="51:69"><expr pos:start="51:29" pos:end="51:69"><name pos:start="51:29" pos:end="51:41"><name pos:start="51:29" pos:end="51:29">s</name><operator pos:start="51:30" pos:end="51:31">-&gt;</operator><name pos:start="51:32" pos:end="51:41">color_type</name></name> <operator pos:start="51:43" pos:end="51:44">==</operator> <name pos:start="51:46" pos:end="51:69">PNG_COLOR_TYPE_RGB_ALPHA</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></else></if_stmt>

        </block_content>}</block></if></if_stmt>

        <expr_stmt pos:start="57:9" pos:end="57:15"><expr pos:start="57:9" pos:end="57:14"><name pos:start="57:9" pos:end="57:12"><name pos:start="57:9" pos:end="57:9">s</name><operator pos:start="57:10" pos:end="57:11">-&gt;</operator><name pos:start="57:12" pos:end="57:12">y</name></name><operator pos:start="57:13" pos:end="57:14">++</operator></expr>;</expr_stmt>

        <if_stmt pos:start="59:9" pos:end="81:9"><if pos:start="59:9" pos:end="81:9">if <condition pos:start="59:12" pos:end="59:29">(<expr pos:start="59:13" pos:end="59:28"><name pos:start="59:13" pos:end="59:16"><name pos:start="59:13" pos:end="59:13">s</name><operator pos:start="59:14" pos:end="59:15">-&gt;</operator><name pos:start="59:16" pos:end="59:16">y</name></name> <operator pos:start="59:18" pos:end="59:19">==</operator> <name pos:start="59:21" pos:end="59:28"><name pos:start="59:21" pos:end="59:21">s</name><operator pos:start="59:22" pos:end="59:23">-&gt;</operator><name pos:start="59:24" pos:end="59:28">cur_h</name></name></expr>)</condition> <block pos:start="59:31" pos:end="81:9">{<block_content pos:start="61:13" pos:end="79:13">

            <expr_stmt pos:start="61:13" pos:end="61:37"><expr pos:start="61:13" pos:end="61:36"><name pos:start="61:13" pos:end="61:20"><name pos:start="61:13" pos:end="61:13">s</name><operator pos:start="61:14" pos:end="61:15">-&gt;</operator><name pos:start="61:16" pos:end="61:20">state</name></name> <operator pos:start="61:22" pos:end="61:23">|=</operator> <name pos:start="61:25" pos:end="61:36">PNG_ALLIMAGE</name></expr>;</expr_stmt>

            <if_stmt pos:start="63:13" pos:end="79:13"><if pos:start="63:13" pos:end="79:13">if <condition pos:start="63:16" pos:end="63:55">(<expr pos:start="63:17" pos:end="63:54"><name pos:start="63:17" pos:end="63:30"><name pos:start="63:17" pos:end="63:17">s</name><operator pos:start="63:18" pos:end="63:19">-&gt;</operator><name pos:start="63:20" pos:end="63:30">filter_type</name></name> <operator pos:start="63:32" pos:end="63:33">==</operator> <name pos:start="63:35" pos:end="63:54">PNG_FILTER_TYPE_LOCO</name></expr>)</condition> <block pos:start="63:57" pos:end="79:13">{<block_content pos:start="65:17" pos:end="77:17">

                <if_stmt pos:start="65:17" pos:end="77:17"><if pos:start="65:17" pos:end="71:17">if <condition pos:start="65:20" pos:end="65:39">(<expr pos:start="65:21" pos:end="65:38"><name pos:start="65:21" pos:end="65:32"><name pos:start="65:21" pos:end="65:21">s</name><operator pos:start="65:22" pos:end="65:23">-&gt;</operator><name pos:start="65:24" pos:end="65:32">bit_depth</name></name> <operator pos:start="65:34" pos:end="65:35">==</operator> <literal type="number" pos:start="65:37" pos:end="65:38">16</literal></expr>)</condition> <block pos:start="65:41" pos:end="71:17">{<block_content pos:start="67:21" pos:end="69:76">

                    <expr_stmt pos:start="67:21" pos:end="69:76"><expr pos:start="67:21" pos:end="69:75"><call pos:start="67:21" pos:end="69:75"><name pos:start="67:21" pos:end="67:32">deloco_rgb16</name><argument_list pos:start="67:33" pos:end="69:75">(<argument pos:start="67:34" pos:end="67:48"><expr pos:start="67:34" pos:end="67:48"><operator pos:start="67:34" pos:end="67:34">(</operator><name pos:start="67:35" pos:end="67:42">uint16_t</name> <operator pos:start="67:44" pos:end="67:44">*</operator><operator pos:start="67:45" pos:end="67:45">)</operator><name pos:start="67:46" pos:end="67:48">ptr</name></expr></argument>, <argument pos:start="67:51" pos:end="67:65"><expr pos:start="67:51" pos:end="67:65"><name pos:start="67:51" pos:end="67:61"><name pos:start="67:51" pos:end="67:51">s</name><operator pos:start="67:52" pos:end="67:53">-&gt;</operator><name pos:start="67:54" pos:end="67:61">row_size</name></name> <operator pos:start="67:63" pos:end="67:63">/</operator> <literal type="number" pos:start="67:65" pos:end="67:65">2</literal></expr></argument>,

                                 <argument pos:start="69:34" pos:end="69:74"><expr pos:start="69:34" pos:end="69:74"><name pos:start="69:34" pos:end="69:46"><name pos:start="69:34" pos:end="69:34">s</name><operator pos:start="69:35" pos:end="69:36">-&gt;</operator><name pos:start="69:37" pos:end="69:46">color_type</name></name> <operator pos:start="69:48" pos:end="69:49">==</operator> <name pos:start="69:51" pos:end="69:74">PNG_COLOR_TYPE_RGB_ALPHA</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                </block_content>}</block></if> <else pos:start="71:19" pos:end="77:17">else <block pos:start="71:24" pos:end="77:17">{<block_content pos:start="73:21" pos:end="75:75">

                    <expr_stmt pos:start="73:21" pos:end="75:75"><expr pos:start="73:21" pos:end="75:74"><call pos:start="73:21" pos:end="75:74"><name pos:start="73:21" pos:end="73:31">deloco_rgb8</name><argument_list pos:start="73:32" pos:end="75:74">(<argument pos:start="73:33" pos:end="73:35"><expr pos:start="73:33" pos:end="73:35"><name pos:start="73:33" pos:end="73:35">ptr</name></expr></argument>, <argument pos:start="73:38" pos:end="73:48"><expr pos:start="73:38" pos:end="73:48"><name pos:start="73:38" pos:end="73:48"><name pos:start="73:38" pos:end="73:38">s</name><operator pos:start="73:39" pos:end="73:40">-&gt;</operator><name pos:start="73:41" pos:end="73:48">row_size</name></name></expr></argument>,

                                <argument pos:start="75:33" pos:end="75:73"><expr pos:start="75:33" pos:end="75:73"><name pos:start="75:33" pos:end="75:45"><name pos:start="75:33" pos:end="75:33">s</name><operator pos:start="75:34" pos:end="75:35">-&gt;</operator><name pos:start="75:36" pos:end="75:45">color_type</name></name> <operator pos:start="75:47" pos:end="75:48">==</operator> <name pos:start="75:50" pos:end="75:73">PNG_COLOR_TYPE_RGB_ALPHA</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                </block_content>}</block></else></if_stmt>

            </block_content>}</block></if></if_stmt>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></if> <else pos:start="83:7" pos:end="165:5">else <block pos:start="83:12" pos:end="165:5">{<block_content pos:start="85:9" pos:end="163:9">

        <expr_stmt pos:start="85:9" pos:end="85:21"><expr pos:start="85:9" pos:end="85:20"><name pos:start="85:9" pos:end="85:16">got_line</name> <operator pos:start="85:18" pos:end="85:18">=</operator> <literal type="number" pos:start="85:20" pos:end="85:20">0</literal></expr>;</expr_stmt>

        <for pos:start="87:9" pos:end="161:9">for <control pos:start="87:13" pos:end="87:16">(<init pos:start="87:14" pos:end="87:14">;</init><condition pos:start="87:15" pos:end="87:15">;</condition><incr/>)</control> <block pos:start="87:18" pos:end="161:9">{<block_content pos:start="89:13" pos:end="159:13">

            <expr_stmt pos:start="89:13" pos:end="89:97"><expr pos:start="89:13" pos:end="89:96"><name pos:start="89:13" pos:end="89:15">ptr</name> <operator pos:start="89:17" pos:end="89:17">=</operator> <name pos:start="89:19" pos:end="89:30"><name pos:start="89:19" pos:end="89:19">s</name><operator pos:start="89:20" pos:end="89:21">-&gt;</operator><name pos:start="89:22" pos:end="89:30">image_buf</name></name> <operator pos:start="89:32" pos:end="89:32">+</operator> <name pos:start="89:34" pos:end="89:50"><name pos:start="89:34" pos:end="89:34">s</name><operator pos:start="89:35" pos:end="89:36">-&gt;</operator><name pos:start="89:37" pos:end="89:50">image_linesize</name></name> <operator pos:start="89:52" pos:end="89:52">*</operator> <operator pos:start="89:54" pos:end="89:54">(</operator><name pos:start="89:55" pos:end="89:58"><name pos:start="89:55" pos:end="89:55">s</name><operator pos:start="89:56" pos:end="89:57">-&gt;</operator><name pos:start="89:58" pos:end="89:58">y</name></name> <operator pos:start="89:60" pos:end="89:60">+</operator> <name pos:start="89:62" pos:end="89:72"><name pos:start="89:62" pos:end="89:62">s</name><operator pos:start="89:63" pos:end="89:64">-&gt;</operator><name pos:start="89:65" pos:end="89:72">y_offset</name></name><operator pos:start="89:73" pos:end="89:73">)</operator> <operator pos:start="89:75" pos:end="89:75">+</operator> <name pos:start="89:77" pos:end="89:87"><name pos:start="89:77" pos:end="89:77">s</name><operator pos:start="89:78" pos:end="89:79">-&gt;</operator><name pos:start="89:80" pos:end="89:87">x_offset</name></name> <operator pos:start="89:89" pos:end="89:89">*</operator> <name pos:start="89:91" pos:end="89:96"><name pos:start="89:91" pos:end="89:91">s</name><operator pos:start="89:92" pos:end="89:93">-&gt;</operator><name pos:start="89:94" pos:end="89:96">bpp</name></name></expr>;</expr_stmt>

            <if_stmt pos:start="91:13" pos:end="111:13"><if pos:start="91:13" pos:end="111:13">if <condition pos:start="91:16" pos:end="91:66">(<expr pos:start="91:17" pos:end="91:65"><operator pos:start="91:17" pos:end="91:17">(</operator><name pos:start="91:18" pos:end="91:43"><name pos:start="91:18" pos:end="91:34">ff_png_pass_ymask</name><index pos:start="91:35" pos:end="91:43">[<expr pos:start="91:36" pos:end="91:42"><name pos:start="91:36" pos:end="91:42"><name pos:start="91:36" pos:end="91:36">s</name><operator pos:start="91:37" pos:end="91:38">-&gt;</operator><name pos:start="91:39" pos:end="91:42">pass</name></name></expr>]</index></name> <operator pos:start="91:45" pos:end="91:46">&lt;&lt;</operator> <operator pos:start="91:48" pos:end="91:48">(</operator><name pos:start="91:49" pos:end="91:52"><name pos:start="91:49" pos:end="91:49">s</name><operator pos:start="91:50" pos:end="91:51">-&gt;</operator><name pos:start="91:52" pos:end="91:52">y</name></name> <operator pos:start="91:54" pos:end="91:54">&amp;</operator> <literal type="number" pos:start="91:56" pos:end="91:56">7</literal><operator pos:start="91:57" pos:end="91:57">)</operator><operator pos:start="91:58" pos:end="91:58">)</operator> <operator pos:start="91:60" pos:end="91:60">&amp;</operator> <literal type="number" pos:start="91:62" pos:end="91:65">0x80</literal></expr>)</condition> <block pos:start="91:68" pos:end="111:13">{<block_content pos:start="97:17" pos:end="109:29">

                <comment type="block" pos:start="93:17" pos:end="95:43">/* if we already read one row, it is time to stop to

                 * wait for the next one */</comment>

                <if_stmt pos:start="97:17" pos:end="99:26"><if pos:start="97:17" pos:end="99:26">if <condition pos:start="97:20" pos:end="97:29">(<expr pos:start="97:21" pos:end="97:28"><name pos:start="97:21" pos:end="97:28">got_line</name></expr>)</condition><block type="pseudo" pos:start="99:21" pos:end="99:26"><block_content pos:start="99:21" pos:end="99:26">

                    <break pos:start="99:21" pos:end="99:26">break;</break></block_content></block></if></if_stmt>

                <expr_stmt pos:start="101:17" pos:end="103:70"><expr pos:start="101:17" pos:end="103:69"><call pos:start="101:17" pos:end="103:69"><name pos:start="101:17" pos:end="101:30">png_filter_row</name><argument_list pos:start="101:31" pos:end="103:69">(<argument pos:start="101:32" pos:end="101:38"><expr pos:start="101:32" pos:end="101:38"><operator pos:start="101:32" pos:end="101:32">&amp;</operator><name pos:start="101:33" pos:end="101:38"><name pos:start="101:33" pos:end="101:33">s</name><operator pos:start="101:34" pos:end="101:35">-&gt;</operator><name pos:start="101:36" pos:end="101:38">dsp</name></name></expr></argument>, <argument pos:start="101:41" pos:end="101:50"><expr pos:start="101:41" pos:end="101:50"><name pos:start="101:41" pos:end="101:50"><name pos:start="101:41" pos:end="101:41">s</name><operator pos:start="101:42" pos:end="101:43">-&gt;</operator><name pos:start="101:44" pos:end="101:50">tmp_row</name></name></expr></argument>, <argument pos:start="101:53" pos:end="101:66"><expr pos:start="101:53" pos:end="101:66"><name pos:start="101:53" pos:end="101:66"><name pos:start="101:53" pos:end="101:53">s</name><operator pos:start="101:54" pos:end="101:55">-&gt;</operator><name pos:start="101:56" pos:end="101:63">crow_buf</name><index pos:start="101:64" pos:end="101:66">[<expr pos:start="101:65" pos:end="101:65"><literal type="number" pos:start="101:65" pos:end="101:65">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="101:69" pos:end="101:83"><expr pos:start="101:69" pos:end="101:83"><name pos:start="101:69" pos:end="101:79"><name pos:start="101:69" pos:end="101:69">s</name><operator pos:start="101:70" pos:end="101:71">-&gt;</operator><name pos:start="101:72" pos:end="101:79">crow_buf</name></name> <operator pos:start="101:81" pos:end="101:81">+</operator> <literal type="number" pos:start="101:83" pos:end="101:83">1</literal></expr></argument>,

                               <argument pos:start="103:32" pos:end="103:42"><expr pos:start="103:32" pos:end="103:42"><name pos:start="103:32" pos:end="103:42"><name pos:start="103:32" pos:end="103:32">s</name><operator pos:start="103:33" pos:end="103:34">-&gt;</operator><name pos:start="103:35" pos:end="103:42">last_row</name></name></expr></argument>, <argument pos:start="103:45" pos:end="103:60"><expr pos:start="103:45" pos:end="103:60"><name pos:start="103:45" pos:end="103:60"><name pos:start="103:45" pos:end="103:45">s</name><operator pos:start="103:46" pos:end="103:47">-&gt;</operator><name pos:start="103:48" pos:end="103:60">pass_row_size</name></name></expr></argument>, <argument pos:start="103:63" pos:end="103:68"><expr pos:start="103:63" pos:end="103:68"><name pos:start="103:63" pos:end="103:68"><name pos:start="103:63" pos:end="103:63">s</name><operator pos:start="103:64" pos:end="103:65">-&gt;</operator><name pos:start="103:66" pos:end="103:68">bpp</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="105:17" pos:end="105:59"><expr pos:start="105:17" pos:end="105:58"><call pos:start="105:17" pos:end="105:58"><name pos:start="105:17" pos:end="105:22">FFSWAP</name><argument_list pos:start="105:23" pos:end="105:58">(<argument pos:start="105:24" pos:end="105:32"><expr pos:start="105:24" pos:end="105:32"><name pos:start="105:24" pos:end="105:30">uint8_t</name> <operator pos:start="105:32" pos:end="105:32">*</operator></expr></argument>, <argument pos:start="105:35" pos:end="105:45"><expr pos:start="105:35" pos:end="105:45"><name pos:start="105:35" pos:end="105:45"><name pos:start="105:35" pos:end="105:35">s</name><operator pos:start="105:36" pos:end="105:37">-&gt;</operator><name pos:start="105:38" pos:end="105:45">last_row</name></name></expr></argument>, <argument pos:start="105:48" pos:end="105:57"><expr pos:start="105:48" pos:end="105:57"><name pos:start="105:48" pos:end="105:57"><name pos:start="105:48" pos:end="105:48">s</name><operator pos:start="105:49" pos:end="105:50">-&gt;</operator><name pos:start="105:51" pos:end="105:57">tmp_row</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <macro pos:start="107:17" pos:end="107:71"><name pos:start="107:17" pos:end="107:22">FFSWAP</name><argument_list pos:start="107:23" pos:end="107:71">(<argument pos:start="107:24" pos:end="107:35">unsigned int</argument>, <argument pos:start="107:38" pos:end="107:53">s-&gt;last_row_size</argument>, <argument pos:start="107:56" pos:end="107:70">s-&gt;tmp_row_size</argument>)</argument_list></macro><empty_stmt pos:start="107:72" pos:end="107:72">;</empty_stmt>

                <expr_stmt pos:start="109:17" pos:end="109:29"><expr pos:start="109:17" pos:end="109:28"><name pos:start="109:17" pos:end="109:24">got_line</name> <operator pos:start="109:26" pos:end="109:26">=</operator> <literal type="number" pos:start="109:28" pos:end="109:28">1</literal></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>

            <if_stmt pos:start="113:13" pos:end="119:13"><if pos:start="113:13" pos:end="119:13">if <condition pos:start="113:16" pos:end="113:67">(<expr pos:start="113:17" pos:end="113:66"><operator pos:start="113:17" pos:end="113:17">(</operator><name pos:start="113:18" pos:end="113:44"><name pos:start="113:18" pos:end="113:35">png_pass_dsp_ymask</name><index pos:start="113:36" pos:end="113:44">[<expr pos:start="113:37" pos:end="113:43"><name pos:start="113:37" pos:end="113:43"><name pos:start="113:37" pos:end="113:37">s</name><operator pos:start="113:38" pos:end="113:39">-&gt;</operator><name pos:start="113:40" pos:end="113:43">pass</name></name></expr>]</index></name> <operator pos:start="113:46" pos:end="113:47">&lt;&lt;</operator> <operator pos:start="113:49" pos:end="113:49">(</operator><name pos:start="113:50" pos:end="113:53"><name pos:start="113:50" pos:end="113:50">s</name><operator pos:start="113:51" pos:end="113:52">-&gt;</operator><name pos:start="113:53" pos:end="113:53">y</name></name> <operator pos:start="113:55" pos:end="113:55">&amp;</operator> <literal type="number" pos:start="113:57" pos:end="113:57">7</literal><operator pos:start="113:58" pos:end="113:58">)</operator><operator pos:start="113:59" pos:end="113:59">)</operator> <operator pos:start="113:61" pos:end="113:61">&amp;</operator> <literal type="number" pos:start="113:63" pos:end="113:66">0x80</literal></expr>)</condition> <block pos:start="113:69" pos:end="119:13">{<block_content pos:start="115:17" pos:end="117:67">

                <expr_stmt pos:start="115:17" pos:end="117:67"><expr pos:start="115:17" pos:end="117:66"><call pos:start="115:17" pos:end="117:66"><name pos:start="115:17" pos:end="115:38">png_put_interlaced_row</name><argument_list pos:start="115:39" pos:end="117:66">(<argument pos:start="115:40" pos:end="115:42"><expr pos:start="115:40" pos:end="115:42"><name pos:start="115:40" pos:end="115:42">ptr</name></expr></argument>, <argument pos:start="115:45" pos:end="115:52"><expr pos:start="115:45" pos:end="115:52"><name pos:start="115:45" pos:end="115:52"><name pos:start="115:45" pos:end="115:45">s</name><operator pos:start="115:46" pos:end="115:47">-&gt;</operator><name pos:start="115:48" pos:end="115:52">cur_w</name></name></expr></argument>, <argument pos:start="115:55" pos:end="115:71"><expr pos:start="115:55" pos:end="115:71"><name pos:start="115:55" pos:end="115:71"><name pos:start="115:55" pos:end="115:55">s</name><operator pos:start="115:56" pos:end="115:57">-&gt;</operator><name pos:start="115:58" pos:end="115:71">bits_per_pixel</name></name></expr></argument>, <argument pos:start="115:74" pos:end="115:80"><expr pos:start="115:74" pos:end="115:80"><name pos:start="115:74" pos:end="115:80"><name pos:start="115:74" pos:end="115:74">s</name><operator pos:start="115:75" pos:end="115:76">-&gt;</operator><name pos:start="115:77" pos:end="115:80">pass</name></name></expr></argument>,

                                       <argument pos:start="117:40" pos:end="117:52"><expr pos:start="117:40" pos:end="117:52"><name pos:start="117:40" pos:end="117:52"><name pos:start="117:40" pos:end="117:40">s</name><operator pos:start="117:41" pos:end="117:42">-&gt;</operator><name pos:start="117:43" pos:end="117:52">color_type</name></name></expr></argument>, <argument pos:start="117:55" pos:end="117:65"><expr pos:start="117:55" pos:end="117:65"><name pos:start="117:55" pos:end="117:65"><name pos:start="117:55" pos:end="117:55">s</name><operator pos:start="117:56" pos:end="117:57">-&gt;</operator><name pos:start="117:58" pos:end="117:65">last_row</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>

            <expr_stmt pos:start="121:13" pos:end="121:19"><expr pos:start="121:13" pos:end="121:18"><name pos:start="121:13" pos:end="121:16"><name pos:start="121:13" pos:end="121:13">s</name><operator pos:start="121:14" pos:end="121:15">-&gt;</operator><name pos:start="121:16" pos:end="121:16">y</name></name><operator pos:start="121:17" pos:end="121:18">++</operator></expr>;</expr_stmt>

            <if_stmt pos:start="123:13" pos:end="159:13"><if pos:start="123:13" pos:end="159:13">if <condition pos:start="123:16" pos:end="123:33">(<expr pos:start="123:17" pos:end="123:32"><name pos:start="123:17" pos:end="123:20"><name pos:start="123:17" pos:end="123:17">s</name><operator pos:start="123:18" pos:end="123:19">-&gt;</operator><name pos:start="123:20" pos:end="123:20">y</name></name> <operator pos:start="123:22" pos:end="123:23">==</operator> <name pos:start="123:25" pos:end="123:32"><name pos:start="123:25" pos:end="123:25">s</name><operator pos:start="123:26" pos:end="123:27">-&gt;</operator><name pos:start="123:28" pos:end="123:32">cur_h</name></name></expr>)</condition> <block pos:start="123:35" pos:end="159:13">{<block_content pos:start="125:17" pos:end="157:17">

                <expr_stmt pos:start="125:17" pos:end="125:52"><expr pos:start="125:17" pos:end="125:51"><call pos:start="125:17" pos:end="125:51"><name pos:start="125:17" pos:end="125:22">memset</name><argument_list pos:start="125:23" pos:end="125:51">(<argument pos:start="125:24" pos:end="125:34"><expr pos:start="125:24" pos:end="125:34"><name pos:start="125:24" pos:end="125:34"><name pos:start="125:24" pos:end="125:24">s</name><operator pos:start="125:25" pos:end="125:26">-&gt;</operator><name pos:start="125:27" pos:end="125:34">last_row</name></name></expr></argument>, <argument pos:start="125:37" pos:end="125:37"><expr pos:start="125:37" pos:end="125:37"><literal type="number" pos:start="125:37" pos:end="125:37">0</literal></expr></argument>, <argument pos:start="125:40" pos:end="125:50"><expr pos:start="125:40" pos:end="125:50"><name pos:start="125:40" pos:end="125:50"><name pos:start="125:40" pos:end="125:40">s</name><operator pos:start="125:41" pos:end="125:42">-&gt;</operator><name pos:start="125:43" pos:end="125:50">row_size</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <for pos:start="127:17" pos:end="157:17">for <control pos:start="127:21" pos:end="127:24">(<init pos:start="127:22" pos:end="127:22">;</init><condition pos:start="127:23" pos:end="127:23">;</condition><incr/>)</control> <block pos:start="127:26" pos:end="157:17">{<block_content pos:start="129:21" pos:end="155:21">

                    <if_stmt pos:start="129:21" pos:end="155:21"><if pos:start="129:21" pos:end="135:21">if <condition pos:start="129:24" pos:end="129:49">(<expr pos:start="129:25" pos:end="129:48"><name pos:start="129:25" pos:end="129:31"><name pos:start="129:25" pos:end="129:25">s</name><operator pos:start="129:26" pos:end="129:27">-&gt;</operator><name pos:start="129:28" pos:end="129:31">pass</name></name> <operator pos:start="129:33" pos:end="129:34">==</operator> <name pos:start="129:36" pos:end="129:44">NB_PASSES</name> <operator pos:start="129:46" pos:end="129:46">-</operator> <literal type="number" pos:start="129:48" pos:end="129:48">1</literal></expr>)</condition> <block pos:start="129:51" pos:end="135:21">{<block_content pos:start="131:25" pos:end="133:37">

                        <expr_stmt pos:start="131:25" pos:end="131:49"><expr pos:start="131:25" pos:end="131:48"><name pos:start="131:25" pos:end="131:32"><name pos:start="131:25" pos:end="131:25">s</name><operator pos:start="131:26" pos:end="131:27">-&gt;</operator><name pos:start="131:28" pos:end="131:32">state</name></name> <operator pos:start="131:34" pos:end="131:35">|=</operator> <name pos:start="131:37" pos:end="131:48">PNG_ALLIMAGE</name></expr>;</expr_stmt>

                        <goto pos:start="133:25" pos:end="133:37">goto <name pos:start="133:30" pos:end="133:36">the_end</name>;</goto>

                    </block_content>}</block></if> <else pos:start="135:23" pos:end="155:21">else <block pos:start="135:28" pos:end="155:21">{<block_content pos:start="137:25" pos:end="151:34">

                        <expr_stmt pos:start="137:25" pos:end="137:34"><expr pos:start="137:25" pos:end="137:33"><name pos:start="137:25" pos:end="137:31"><name pos:start="137:25" pos:end="137:25">s</name><operator pos:start="137:26" pos:end="137:27">-&gt;</operator><name pos:start="137:28" pos:end="137:31">pass</name></name><operator pos:start="137:32" pos:end="137:33">++</operator></expr>;</expr_stmt>

                        <expr_stmt pos:start="139:25" pos:end="139:33"><expr pos:start="139:25" pos:end="139:32"><name pos:start="139:25" pos:end="139:28"><name pos:start="139:25" pos:end="139:25">s</name><operator pos:start="139:26" pos:end="139:27">-&gt;</operator><name pos:start="139:28" pos:end="139:28">y</name></name> <operator pos:start="139:30" pos:end="139:30">=</operator> <literal type="number" pos:start="139:32" pos:end="139:32">0</literal></expr>;</expr_stmt>

                        <expr_stmt pos:start="141:25" pos:end="145:74"><expr pos:start="141:25" pos:end="145:73"><name pos:start="141:25" pos:end="141:40"><name pos:start="141:25" pos:end="141:25">s</name><operator pos:start="141:26" pos:end="141:27">-&gt;</operator><name pos:start="141:28" pos:end="141:40">pass_row_size</name></name> <operator pos:start="141:42" pos:end="141:42">=</operator> <call pos:start="141:44" pos:end="145:73"><name pos:start="141:44" pos:end="141:63">ff_png_pass_row_size</name><argument_list pos:start="141:64" pos:end="145:73">(<argument pos:start="141:65" pos:end="141:71"><expr pos:start="141:65" pos:end="141:71"><name pos:start="141:65" pos:end="141:71"><name pos:start="141:65" pos:end="141:65">s</name><operator pos:start="141:66" pos:end="141:67">-&gt;</operator><name pos:start="141:68" pos:end="141:71">pass</name></name></expr></argument>,

                                                                <argument pos:start="143:65" pos:end="143:81"><expr pos:start="143:65" pos:end="143:81"><name pos:start="143:65" pos:end="143:81"><name pos:start="143:65" pos:end="143:65">s</name><operator pos:start="143:66" pos:end="143:67">-&gt;</operator><name pos:start="143:68" pos:end="143:81">bits_per_pixel</name></name></expr></argument>,

                                                                <argument pos:start="145:65" pos:end="145:72"><expr pos:start="145:65" pos:end="145:72"><name pos:start="145:65" pos:end="145:72"><name pos:start="145:65" pos:end="145:65">s</name><operator pos:start="145:66" pos:end="145:67">-&gt;</operator><name pos:start="145:68" pos:end="145:72">cur_w</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                        <expr_stmt pos:start="147:25" pos:end="147:60"><expr pos:start="147:25" pos:end="147:59"><name pos:start="147:25" pos:end="147:36"><name pos:start="147:25" pos:end="147:25">s</name><operator pos:start="147:26" pos:end="147:27">-&gt;</operator><name pos:start="147:28" pos:end="147:36">crow_size</name></name> <operator pos:start="147:38" pos:end="147:38">=</operator> <name pos:start="147:40" pos:end="147:55"><name pos:start="147:40" pos:end="147:40">s</name><operator pos:start="147:41" pos:end="147:42">-&gt;</operator><name pos:start="147:43" pos:end="147:55">pass_row_size</name></name> <operator pos:start="147:57" pos:end="147:57">+</operator> <literal type="number" pos:start="147:59" pos:end="147:59">1</literal></expr>;</expr_stmt>

                        <if_stmt pos:start="149:25" pos:end="151:34"><if pos:start="149:25" pos:end="151:34">if <condition pos:start="149:28" pos:end="149:50">(<expr pos:start="149:29" pos:end="149:49"><name pos:start="149:29" pos:end="149:44"><name pos:start="149:29" pos:end="149:29">s</name><operator pos:start="149:30" pos:end="149:31">-&gt;</operator><name pos:start="149:32" pos:end="149:44">pass_row_size</name></name> <operator pos:start="149:46" pos:end="149:47">!=</operator> <literal type="number" pos:start="149:49" pos:end="149:49">0</literal></expr>)</condition><block type="pseudo" pos:start="151:29" pos:end="151:34"><block_content pos:start="151:29" pos:end="151:34">

                            <break pos:start="151:29" pos:end="151:34">break;</break></block_content></block></if></if_stmt>

                        <comment type="block" pos:start="153:25" pos:end="153:52">/* skip pass if empty row */</comment>

                    </block_content>}</block></else></if_stmt>

                </block_content>}</block></for>

            </block_content>}</block></if></if_stmt>

        </block_content>}</block></for>

<label pos:start="163:1" pos:end="163:8"><name pos:start="163:1" pos:end="163:7">the_end</name>:</label><empty_stmt pos:start="163:9" pos:end="163:9">;</empty_stmt>

    </block_content>}</block></else></if_stmt>

</block_content>}</block></function>
</unit>
