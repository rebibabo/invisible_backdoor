<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/11568.c" pos:tabs="8"><function pos:start="1:1" pos:end="269:1"><type pos:start="1:1" pos:end="1:10"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:10">int</name></type> <name pos:start="1:12" pos:end="1:31">mpeg_decode_postinit</name><parameter_list pos:start="1:32" pos:end="1:54">(<parameter pos:start="1:33" pos:end="1:53"><decl pos:start="1:33" pos:end="1:53"><type pos:start="1:33" pos:end="1:48"><name pos:start="1:33" pos:end="1:46">AVCodecContext</name> <modifier pos:start="1:48" pos:end="1:48">*</modifier></type><name pos:start="1:49" pos:end="1:53">avctx</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="269:1">{<block_content pos:start="5:5" pos:end="267:13">

    <decl_stmt pos:start="5:5" pos:end="5:41"><decl pos:start="5:5" pos:end="5:40"><type pos:start="5:5" pos:end="5:18"><name pos:start="5:5" pos:end="5:16">Mpeg1Context</name> <modifier pos:start="5:18" pos:end="5:18">*</modifier></type><name pos:start="5:19" pos:end="5:20">s1</name>  <init pos:start="5:23" pos:end="5:40">= <expr pos:start="5:25" pos:end="5:40"><name pos:start="5:25" pos:end="5:40"><name pos:start="5:25" pos:end="5:29">avctx</name><operator pos:start="5:30" pos:end="5:31">-&gt;</operator><name pos:start="5:32" pos:end="5:40">priv_data</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:42"><decl pos:start="7:5" pos:end="7:41"><type pos:start="7:5" pos:end="7:20"><name pos:start="7:5" pos:end="7:18">MpegEncContext</name> <modifier pos:start="7:20" pos:end="7:20">*</modifier></type><name pos:start="7:21" pos:end="7:21">s</name> <init pos:start="7:23" pos:end="7:41">= <expr pos:start="7:25" pos:end="7:41"><operator pos:start="7:25" pos:end="7:25">&amp;</operator><name pos:start="7:26" pos:end="7:41"><name pos:start="7:26" pos:end="7:27">s1</name><operator pos:start="7:28" pos:end="7:29">-&gt;</operator><name pos:start="7:30" pos:end="7:41">mpeg_enc_ctx</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:32"><decl pos:start="9:5" pos:end="9:31"><type pos:start="9:5" pos:end="9:11"><name pos:start="9:5" pos:end="9:11">uint8_t</name></type> <name pos:start="9:13" pos:end="9:31"><name pos:start="9:13" pos:end="9:27">old_permutation</name><index pos:start="9:28" pos:end="9:31">[<expr pos:start="9:29" pos:end="9:30"><literal type="number" pos:start="9:29" pos:end="9:30">64</literal></expr>]</index></name></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:12"><decl pos:start="11:5" pos:end="11:11"><type pos:start="11:5" pos:end="11:7"><name pos:start="11:5" pos:end="11:7">int</name></type> <name pos:start="11:9" pos:end="11:11">ret</name></decl>;</decl_stmt>



    <if_stmt pos:start="15:5" pos:end="95:5"><if pos:start="15:5" pos:end="21:5">if <condition pos:start="15:8" pos:end="15:50">(<expr pos:start="15:9" pos:end="15:49"><name pos:start="15:9" pos:end="15:23"><name pos:start="15:9" pos:end="15:13">avctx</name><operator pos:start="15:14" pos:end="15:15">-&gt;</operator><name pos:start="15:16" pos:end="15:23">codec_id</name></name> <operator pos:start="15:25" pos:end="15:26">==</operator> <name pos:start="15:28" pos:end="15:49">AV_CODEC_ID_MPEG1VIDEO</name></expr>)</condition> <block pos:start="15:52" pos:end="21:5">{<block_content pos:start="19:9" pos:end="19:94">

        <comment type="line" pos:start="17:9" pos:end="17:24">// MPEG-1 aspect</comment>

        <expr_stmt pos:start="19:9" pos:end="19:94"><expr pos:start="19:9" pos:end="19:93"><name pos:start="19:9" pos:end="19:34"><name pos:start="19:9" pos:end="19:13">avctx</name><operator pos:start="19:14" pos:end="19:15">-&gt;</operator><name pos:start="19:16" pos:end="19:34">sample_aspect_ratio</name></name> <operator pos:start="19:36" pos:end="19:36">=</operator> <call pos:start="19:38" pos:end="19:93"><name pos:start="19:38" pos:end="19:43">av_d2q</name><argument_list pos:start="19:44" pos:end="19:93">(<argument pos:start="19:45" pos:end="19:87"><expr pos:start="19:45" pos:end="19:87"><literal type="number" pos:start="19:45" pos:end="19:47">1.0</literal> <operator pos:start="19:49" pos:end="19:49">/</operator> <name pos:start="19:51" pos:end="19:87"><name pos:start="19:51" pos:end="19:65">ff_mpeg1_aspect</name><index pos:start="19:66" pos:end="19:87">[<expr pos:start="19:67" pos:end="19:86"><name pos:start="19:67" pos:end="19:86"><name pos:start="19:67" pos:end="19:67">s</name><operator pos:start="19:68" pos:end="19:69">-&gt;</operator><name pos:start="19:70" pos:end="19:86">aspect_ratio_info</name></name></expr>]</index></name></expr></argument>, <argument pos:start="19:90" pos:end="19:92"><expr pos:start="19:90" pos:end="19:92"><literal type="number" pos:start="19:90" pos:end="19:92">255</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="21:7" pos:end="95:5">else <block pos:start="21:12" pos:end="95:5">{<block_content pos:start="25:9" pos:end="93:9"> <comment type="line" pos:start="21:14" pos:end="21:22">// MPEG-2</comment>

        <comment type="line" pos:start="23:9" pos:end="23:24">// MPEG-2 aspect</comment>

        <if_stmt pos:start="25:9" pos:end="93:9"><if pos:start="25:9" pos:end="87:9">if <condition pos:start="25:12" pos:end="25:37">(<expr pos:start="25:13" pos:end="25:36"><name pos:start="25:13" pos:end="25:32"><name pos:start="25:13" pos:end="25:13">s</name><operator pos:start="25:14" pos:end="25:15">-&gt;</operator><name pos:start="25:16" pos:end="25:32">aspect_ratio_info</name></name> <operator pos:start="25:34" pos:end="25:34">&gt;</operator> <literal type="number" pos:start="25:36" pos:end="25:36">1</literal></expr>)</condition> <block pos:start="25:39" pos:end="87:9">{<block_content pos:start="27:13" pos:end="85:13">

            <decl_stmt pos:start="27:13" pos:end="35:63"><decl pos:start="27:13" pos:end="35:62"><type pos:start="27:13" pos:end="27:22"><name pos:start="27:13" pos:end="27:22">AVRational</name></type> <name pos:start="27:24" pos:end="27:26">dar</name> <init pos:start="27:28" pos:end="35:62">=

                <macro pos:start="29:17" pos:end="35:62"><name pos:start="29:17" pos:end="29:24">av_mul_q</name><argument_list pos:start="29:25" pos:end="35:62">(<argument pos:start="29:26" pos:end="33:71">av_div_q(ff_mpeg2_aspect[s-&gt;aspect_ratio_info],

                                  (AVRational) { s1-&gt;pan_scan.width,

                                                 s1-&gt;pan_scan.height })</argument>,

                         <argument pos:start="35:26" pos:end="35:48">(AVRational) { s-&gt;width</argument>, <argument pos:start="35:51" pos:end="35:61">s-&gt;height }</argument>)</argument_list></macro></init></decl>;</decl_stmt>



            <comment type="block" pos:start="39:13" pos:end="45:37">/* We ignore the spec here and guess a bit as reality does not

             * match the spec, see for example res_change_ffmpeg_aspect.ts

             * and sequence-display-aspect.mpg.

             * issue1613, 621, 562 */</comment>

            <if_stmt pos:start="47:13" pos:end="85:13"><if pos:start="47:13" pos:end="59:13">if <condition pos:start="47:16" pos:end="51:56">(<expr pos:start="47:17" pos:end="51:55"><operator pos:start="47:17" pos:end="47:17">(</operator><name pos:start="47:18" pos:end="47:35"><name pos:start="47:18" pos:end="47:19">s1</name><operator pos:start="47:20" pos:end="47:21">-&gt;</operator><name pos:start="47:22" pos:end="47:29">pan_scan</name><operator pos:start="47:30" pos:end="47:30">.</operator><name pos:start="47:31" pos:end="47:35">width</name></name> <operator pos:start="47:37" pos:end="47:38">==</operator> <literal type="number" pos:start="47:40" pos:end="47:40">0</literal><operator pos:start="47:41" pos:end="47:41">)</operator> <operator pos:start="47:43" pos:end="47:44">||</operator> <operator pos:start="47:46" pos:end="47:46">(</operator><name pos:start="47:47" pos:end="47:65"><name pos:start="47:47" pos:end="47:48">s1</name><operator pos:start="47:49" pos:end="47:50">-&gt;</operator><name pos:start="47:51" pos:end="47:58">pan_scan</name><operator pos:start="47:59" pos:end="47:59">.</operator><name pos:start="47:60" pos:end="47:65">height</name></name> <operator pos:start="47:67" pos:end="47:68">==</operator> <literal type="number" pos:start="47:70" pos:end="47:70">0</literal><operator pos:start="47:71" pos:end="47:71">)</operator> <operator pos:start="47:73" pos:end="47:74">||</operator>

                <operator pos:start="49:17" pos:end="49:17">(</operator><macro pos:start="49:18" pos:end="49:53"><name pos:start="49:18" pos:end="49:25">av_cmp_q</name><argument_list pos:start="49:26" pos:end="49:53">(<argument pos:start="49:27" pos:end="49:29">dar</argument>, <argument pos:start="49:32" pos:end="49:47">(AVRational) { <literal type="number" pos:start="49:47" pos:end="49:47">4</literal></argument>, <argument pos:start="49:50" pos:end="49:52"><literal type="number" pos:start="49:50" pos:end="49:50">3</literal> }</argument>)</argument_list></macro> <operator pos:start="49:55" pos:end="49:56">&amp;&amp;</operator>

                 <macro pos:start="51:18" pos:end="51:54"><name pos:start="51:18" pos:end="51:25">av_cmp_q</name><argument_list pos:start="51:26" pos:end="51:54">(<argument pos:start="51:27" pos:end="51:29">dar</argument>, <argument pos:start="51:32" pos:end="51:48">(AVRational) { <literal type="number" pos:start="51:47" pos:end="51:48">16</literal></argument>, <argument pos:start="51:51" pos:end="51:53"><literal type="number" pos:start="51:51" pos:end="51:51">9</literal> }</argument>)</argument_list></macro><operator pos:start="51:55" pos:end="51:55">)</operator></expr>)</condition> <block pos:start="51:58" pos:end="59:13">{<block_content pos:start="53:17" pos:end="57:67">

                <expr_stmt pos:start="53:17" pos:end="57:67"><expr pos:start="53:17" pos:end="57:66"><name pos:start="53:17" pos:end="53:45"><name pos:start="53:17" pos:end="53:17">s</name><operator pos:start="53:18" pos:end="53:19">-&gt;</operator><name pos:start="53:20" pos:end="53:24">avctx</name><operator pos:start="53:25" pos:end="53:26">-&gt;</operator><name pos:start="53:27" pos:end="53:45">sample_aspect_ratio</name></name> <operator pos:start="53:47" pos:end="53:47">=</operator>

                    <macro pos:start="55:21" pos:end="57:66"><name pos:start="55:21" pos:end="55:28">av_div_q</name><argument_list pos:start="55:29" pos:end="57:66">(<argument pos:start="55:30" pos:end="55:66">ff_mpeg2_aspect[s-&gt;aspect_ratio_info]</argument>,

                             <argument pos:start="57:30" pos:end="57:52">(AVRational) { s-&gt;width</argument>, <argument pos:start="57:55" pos:end="57:65">s-&gt;height }</argument>)</argument_list></macro></expr>;</expr_stmt>

            </block_content>}</block></if> <else pos:start="59:15" pos:end="85:13">else <block pos:start="59:20" pos:end="85:13">{<block_content pos:start="61:17" pos:end="83:59">

                <expr_stmt pos:start="61:17" pos:end="65:87"><expr pos:start="61:17" pos:end="65:86"><name pos:start="61:17" pos:end="61:45"><name pos:start="61:17" pos:end="61:17">s</name><operator pos:start="61:18" pos:end="61:19">-&gt;</operator><name pos:start="61:20" pos:end="61:24">avctx</name><operator pos:start="61:25" pos:end="61:26">-&gt;</operator><name pos:start="61:27" pos:end="61:45">sample_aspect_ratio</name></name> <operator pos:start="61:47" pos:end="61:47">=</operator>

                    <macro pos:start="63:21" pos:end="65:86"><name pos:start="63:21" pos:end="63:28">av_div_q</name><argument_list pos:start="63:29" pos:end="65:86">(<argument pos:start="63:30" pos:end="63:66">ff_mpeg2_aspect[s-&gt;aspect_ratio_info]</argument>,

                             <argument pos:start="65:30" pos:end="65:62">(AVRational) { s1-&gt;pan_scan.width</argument>, <argument pos:start="65:65" pos:end="65:85">s1-&gt;pan_scan.height }</argument>)</argument_list></macro></expr>;</expr_stmt>

<comment type="line" pos:start="67:1" pos:end="67:29">// issue1613 4/3 16/9 -&gt; 16/9</comment>

<comment type="line" pos:start="69:1" pos:end="69:47">// res_change_ffmpeg_aspect.ts 4/3 225/44 -&gt;4/3</comment>

<comment type="line" pos:start="71:1" pos:end="71:43">// widescreen-issue562.mpg 4/3 16/9 -&gt; 16/9</comment>

<comment type="line" pos:start="73:1" pos:end="73:126">//                s-&gt;avctx-&gt;sample_aspect_ratio = av_mul_q(s-&gt;avctx-&gt;sample_aspect_ratio, (AVRational) {s-&gt;width, s-&gt;height});</comment>

                <expr_stmt pos:start="75:17" pos:end="79:67"><expr pos:start="75:17" pos:end="79:66"><call pos:start="75:17" pos:end="79:66"><name pos:start="75:17" pos:end="75:23">ff_dlog</name><argument_list pos:start="75:24" pos:end="79:66">(<argument pos:start="75:25" pos:end="75:29"><expr pos:start="75:25" pos:end="75:29"><name pos:start="75:25" pos:end="75:29">avctx</name></expr></argument>, <argument pos:start="75:32" pos:end="75:49"><expr pos:start="75:32" pos:end="75:49"><literal type="string" pos:start="75:32" pos:end="75:49">"aspect A %d/%d\n"</literal></expr></argument>,

                        <argument pos:start="77:25" pos:end="77:65"><expr pos:start="77:25" pos:end="77:65"><name pos:start="77:25" pos:end="77:61"><name pos:start="77:25" pos:end="77:39">ff_mpeg2_aspect</name><index pos:start="77:40" pos:end="77:61">[<expr pos:start="77:41" pos:end="77:60"><name pos:start="77:41" pos:end="77:60"><name pos:start="77:41" pos:end="77:41">s</name><operator pos:start="77:42" pos:end="77:43">-&gt;</operator><name pos:start="77:44" pos:end="77:60">aspect_ratio_info</name></name></expr>]</index></name><operator pos:start="77:62" pos:end="77:62">.</operator><name pos:start="77:63" pos:end="77:65">num</name></expr></argument>,

                        <argument pos:start="79:25" pos:end="79:65"><expr pos:start="79:25" pos:end="79:65"><name pos:start="79:25" pos:end="79:61"><name pos:start="79:25" pos:end="79:39">ff_mpeg2_aspect</name><index pos:start="79:40" pos:end="79:61">[<expr pos:start="79:41" pos:end="79:60"><name pos:start="79:41" pos:end="79:60"><name pos:start="79:41" pos:end="79:41">s</name><operator pos:start="79:42" pos:end="79:43">-&gt;</operator><name pos:start="79:44" pos:end="79:60">aspect_ratio_info</name></name></expr>]</index></name><operator pos:start="79:62" pos:end="79:62">.</operator><name pos:start="79:63" pos:end="79:65">den</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="81:17" pos:end="83:59"><expr pos:start="81:17" pos:end="83:58"><call pos:start="81:17" pos:end="83:58"><name pos:start="81:17" pos:end="81:23">ff_dlog</name><argument_list pos:start="81:24" pos:end="83:58">(<argument pos:start="81:25" pos:end="81:29"><expr pos:start="81:25" pos:end="81:29"><name pos:start="81:25" pos:end="81:29">avctx</name></expr></argument>, <argument pos:start="81:32" pos:end="81:49"><expr pos:start="81:32" pos:end="81:49"><literal type="string" pos:start="81:32" pos:end="81:49">"aspect B %d/%d\n"</literal></expr></argument>, <argument pos:start="81:52" pos:end="81:84"><expr pos:start="81:52" pos:end="81:84"><name pos:start="81:52" pos:end="81:84"><name pos:start="81:52" pos:end="81:52">s</name><operator pos:start="81:53" pos:end="81:54">-&gt;</operator><name pos:start="81:55" pos:end="81:59">avctx</name><operator pos:start="81:60" pos:end="81:61">-&gt;</operator><name pos:start="81:62" pos:end="81:80">sample_aspect_ratio</name><operator pos:start="81:81" pos:end="81:81">.</operator><name pos:start="81:82" pos:end="81:84">num</name></name></expr></argument>,

                        <argument pos:start="83:25" pos:end="83:57"><expr pos:start="83:25" pos:end="83:57"><name pos:start="83:25" pos:end="83:57"><name pos:start="83:25" pos:end="83:25">s</name><operator pos:start="83:26" pos:end="83:27">-&gt;</operator><name pos:start="83:28" pos:end="83:32">avctx</name><operator pos:start="83:33" pos:end="83:34">-&gt;</operator><name pos:start="83:35" pos:end="83:53">sample_aspect_ratio</name><operator pos:start="83:54" pos:end="83:54">.</operator><name pos:start="83:55" pos:end="83:57">den</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></else></if_stmt>

        </block_content>}</block></if> <else pos:start="87:11" pos:end="93:9">else <block pos:start="87:16" pos:end="93:9">{<block_content pos:start="89:13" pos:end="91:54">

            <expr_stmt pos:start="89:13" pos:end="91:54"><expr pos:start="89:13" pos:end="91:53"><name pos:start="89:13" pos:end="89:41"><name pos:start="89:13" pos:end="89:13">s</name><operator pos:start="89:14" pos:end="89:15">-&gt;</operator><name pos:start="89:16" pos:end="89:20">avctx</name><operator pos:start="89:21" pos:end="89:22">-&gt;</operator><name pos:start="89:23" pos:end="89:41">sample_aspect_ratio</name></name> <operator pos:start="89:43" pos:end="89:43">=</operator>

                <name pos:start="91:17" pos:end="91:53"><name pos:start="91:17" pos:end="91:31">ff_mpeg2_aspect</name><index pos:start="91:32" pos:end="91:53">[<expr pos:start="91:33" pos:end="91:52"><name pos:start="91:33" pos:end="91:52"><name pos:start="91:33" pos:end="91:33">s</name><operator pos:start="91:34" pos:end="91:35">-&gt;</operator><name pos:start="91:36" pos:end="91:52">aspect_ratio_info</name></name></expr>]</index></name></expr>;</expr_stmt>

        </block_content>}</block></else></if_stmt>

    </block_content>}</block></else></if_stmt> <comment type="line" pos:start="95:7" pos:end="95:15">// MPEG-2</comment>



    <if_stmt pos:start="99:5" pos:end="111:5"><if pos:start="99:5" pos:end="111:5">if <condition pos:start="99:8" pos:end="101:59">(<expr pos:start="99:9" pos:end="101:58"><call pos:start="99:9" pos:end="101:54"><name pos:start="99:9" pos:end="99:26">av_image_check_sar</name><argument_list pos:start="99:27" pos:end="101:54">(<argument pos:start="99:28" pos:end="99:35"><expr pos:start="99:28" pos:end="99:35"><name pos:start="99:28" pos:end="99:35"><name pos:start="99:28" pos:end="99:28">s</name><operator pos:start="99:29" pos:end="99:30">-&gt;</operator><name pos:start="99:31" pos:end="99:35">width</name></name></expr></argument>, <argument pos:start="99:38" pos:end="99:46"><expr pos:start="99:38" pos:end="99:46"><name pos:start="99:38" pos:end="99:46"><name pos:start="99:38" pos:end="99:38">s</name><operator pos:start="99:39" pos:end="99:40">-&gt;</operator><name pos:start="99:41" pos:end="99:46">height</name></name></expr></argument>,

                           <argument pos:start="101:28" pos:end="101:53"><expr pos:start="101:28" pos:end="101:53"><name pos:start="101:28" pos:end="101:53"><name pos:start="101:28" pos:end="101:32">avctx</name><operator pos:start="101:33" pos:end="101:34">-&gt;</operator><name pos:start="101:35" pos:end="101:53">sample_aspect_ratio</name></name></expr></argument>)</argument_list></call> <operator pos:start="101:56" pos:end="101:56">&lt;</operator> <literal type="number" pos:start="101:58" pos:end="101:58">0</literal></expr>)</condition> <block pos:start="101:61" pos:end="111:5">{<block_content pos:start="103:9" pos:end="109:58">

        <expr_stmt pos:start="103:9" pos:end="107:48"><expr pos:start="103:9" pos:end="107:47"><call pos:start="103:9" pos:end="107:47"><name pos:start="103:9" pos:end="103:14">av_log</name><argument_list pos:start="103:15" pos:end="107:47">(<argument pos:start="103:16" pos:end="103:20"><expr pos:start="103:16" pos:end="103:20"><name pos:start="103:16" pos:end="103:20">avctx</name></expr></argument>, <argument pos:start="103:23" pos:end="103:36"><expr pos:start="103:23" pos:end="103:36"><name pos:start="103:23" pos:end="103:36">AV_LOG_WARNING</name></expr></argument>, <argument pos:start="103:39" pos:end="103:69"><expr pos:start="103:39" pos:end="103:69"><literal type="string" pos:start="103:39" pos:end="103:69">"ignoring invalid SAR: %u/%u\n"</literal></expr></argument>,

                <argument pos:start="105:17" pos:end="105:46"><expr pos:start="105:17" pos:end="105:46"><name pos:start="105:17" pos:end="105:46"><name pos:start="105:17" pos:end="105:21">avctx</name><operator pos:start="105:22" pos:end="105:23">-&gt;</operator><name pos:start="105:24" pos:end="105:42">sample_aspect_ratio</name><operator pos:start="105:43" pos:end="105:43">.</operator><name pos:start="105:44" pos:end="105:46">num</name></name></expr></argument>,

                <argument pos:start="107:17" pos:end="107:46"><expr pos:start="107:17" pos:end="107:46"><name pos:start="107:17" pos:end="107:46"><name pos:start="107:17" pos:end="107:21">avctx</name><operator pos:start="107:22" pos:end="107:23">-&gt;</operator><name pos:start="107:24" pos:end="107:42">sample_aspect_ratio</name><operator pos:start="107:43" pos:end="107:43">.</operator><name pos:start="107:44" pos:end="107:46">den</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="109:9" pos:end="109:58"><expr pos:start="109:9" pos:end="109:57"><name pos:start="109:9" pos:end="109:34"><name pos:start="109:9" pos:end="109:13">avctx</name><operator pos:start="109:14" pos:end="109:15">-&gt;</operator><name pos:start="109:16" pos:end="109:34">sample_aspect_ratio</name></name> <operator pos:start="109:36" pos:end="109:36">=</operator> <operator pos:start="109:38" pos:end="109:38">(</operator><name pos:start="109:39" pos:end="109:48">AVRational</name><operator pos:start="109:49" pos:end="109:49">)</operator><block pos:start="109:50" pos:end="109:57">{ <expr pos:start="109:52" pos:end="109:52"><literal type="number" pos:start="109:52" pos:end="109:52">0</literal></expr>, <expr pos:start="109:55" pos:end="109:55"><literal type="number" pos:start="109:55" pos:end="109:55">1</literal></expr> }</block></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="115:5" pos:end="265:5"><if pos:start="115:5" pos:end="265:5">if <condition pos:start="115:8" pos:end="129:10">(<expr pos:start="115:9" pos:end="129:9"><operator pos:start="115:9" pos:end="115:9">(</operator><name pos:start="115:10" pos:end="115:35"><name pos:start="115:10" pos:end="115:11">s1</name><operator pos:start="115:12" pos:end="115:13">-&gt;</operator><name pos:start="115:14" pos:end="115:35">mpeg_enc_ctx_allocated</name></name> <operator pos:start="115:37" pos:end="115:38">==</operator> <literal type="number" pos:start="115:40" pos:end="115:40">0</literal><operator pos:start="115:41" pos:end="115:41">)</operator>                   <operator pos:start="115:61" pos:end="115:62">||</operator>

        <name pos:start="117:9" pos:end="117:26"><name pos:start="117:9" pos:end="117:13">avctx</name><operator pos:start="117:14" pos:end="117:15">-&gt;</operator><name pos:start="117:16" pos:end="117:26">coded_width</name></name>       <operator pos:start="117:34" pos:end="117:35">!=</operator> <name pos:start="117:37" pos:end="117:44"><name pos:start="117:37" pos:end="117:37">s</name><operator pos:start="117:38" pos:end="117:39">-&gt;</operator><name pos:start="117:40" pos:end="117:44">width</name></name>                <operator pos:start="117:61" pos:end="117:62">||</operator>

        <name pos:start="119:9" pos:end="119:27"><name pos:start="119:9" pos:end="119:13">avctx</name><operator pos:start="119:14" pos:end="119:15">-&gt;</operator><name pos:start="119:16" pos:end="119:27">coded_height</name></name>      <operator pos:start="119:34" pos:end="119:35">!=</operator> <name pos:start="119:37" pos:end="119:45"><name pos:start="119:37" pos:end="119:37">s</name><operator pos:start="119:38" pos:end="119:39">-&gt;</operator><name pos:start="119:40" pos:end="119:45">height</name></name>               <operator pos:start="119:61" pos:end="119:62">||</operator>

        <name pos:start="121:9" pos:end="121:22"><name pos:start="121:9" pos:end="121:10">s1</name><operator pos:start="121:11" pos:end="121:12">-&gt;</operator><name pos:start="121:13" pos:end="121:22">save_width</name></name>           <operator pos:start="121:34" pos:end="121:35">!=</operator> <name pos:start="121:37" pos:end="121:44"><name pos:start="121:37" pos:end="121:37">s</name><operator pos:start="121:38" pos:end="121:39">-&gt;</operator><name pos:start="121:40" pos:end="121:44">width</name></name>                <operator pos:start="121:61" pos:end="121:62">||</operator>

        <name pos:start="123:9" pos:end="123:23"><name pos:start="123:9" pos:end="123:10">s1</name><operator pos:start="123:11" pos:end="123:12">-&gt;</operator><name pos:start="123:13" pos:end="123:23">save_height</name></name>          <operator pos:start="123:34" pos:end="123:35">!=</operator> <name pos:start="123:37" pos:end="123:45"><name pos:start="123:37" pos:end="123:37">s</name><operator pos:start="123:38" pos:end="123:39">-&gt;</operator><name pos:start="123:40" pos:end="123:45">height</name></name>               <operator pos:start="123:61" pos:end="123:62">||</operator>

        <call pos:start="125:9" pos:end="125:64"><name pos:start="125:9" pos:end="125:16">av_cmp_q</name><argument_list pos:start="125:17" pos:end="125:64">(<argument pos:start="125:18" pos:end="125:32"><expr pos:start="125:18" pos:end="125:32"><name pos:start="125:18" pos:end="125:32"><name pos:start="125:18" pos:end="125:19">s1</name><operator pos:start="125:20" pos:end="125:21">-&gt;</operator><name pos:start="125:22" pos:end="125:32">save_aspect</name></name></expr></argument>, <argument pos:start="125:35" pos:end="125:63"><expr pos:start="125:35" pos:end="125:63"><name pos:start="125:35" pos:end="125:63"><name pos:start="125:35" pos:end="125:35">s</name><operator pos:start="125:36" pos:end="125:37">-&gt;</operator><name pos:start="125:38" pos:end="125:42">avctx</name><operator pos:start="125:43" pos:end="125:44">-&gt;</operator><name pos:start="125:45" pos:end="125:63">sample_aspect_ratio</name></name></expr></argument>)</argument_list></call> <operator pos:start="125:66" pos:end="125:67">||</operator>

        <operator pos:start="127:9" pos:end="127:9">(</operator><name pos:start="127:10" pos:end="127:33"><name pos:start="127:10" pos:end="127:11">s1</name><operator pos:start="127:12" pos:end="127:13">-&gt;</operator><name pos:start="127:14" pos:end="127:33">save_progressive_seq</name></name> <operator pos:start="127:35" pos:end="127:36">!=</operator> <name pos:start="127:38" pos:end="127:60"><name pos:start="127:38" pos:end="127:38">s</name><operator pos:start="127:39" pos:end="127:40">-&gt;</operator><name pos:start="127:41" pos:end="127:60">progressive_sequence</name></name> <operator pos:start="127:62" pos:end="127:63">&amp;&amp;</operator> <call pos:start="127:65" pos:end="127:86"><name pos:start="127:65" pos:end="127:71">FFALIGN</name><argument_list pos:start="127:72" pos:end="127:86">(<argument pos:start="127:73" pos:end="127:81"><expr pos:start="127:73" pos:end="127:81"><name pos:start="127:73" pos:end="127:81"><name pos:start="127:73" pos:end="127:73">s</name><operator pos:start="127:74" pos:end="127:75">-&gt;</operator><name pos:start="127:76" pos:end="127:81">height</name></name></expr></argument>, <argument pos:start="127:84" pos:end="127:85"><expr pos:start="127:84" pos:end="127:85"><literal type="number" pos:start="127:84" pos:end="127:85">16</literal></expr></argument>)</argument_list></call> <operator pos:start="127:88" pos:end="127:89">!=</operator> <call pos:start="127:91" pos:end="127:112"><name pos:start="127:91" pos:end="127:97">FFALIGN</name><argument_list pos:start="127:98" pos:end="127:112">(<argument pos:start="127:99" pos:end="127:107"><expr pos:start="127:99" pos:end="127:107"><name pos:start="127:99" pos:end="127:107"><name pos:start="127:99" pos:end="127:99">s</name><operator pos:start="127:100" pos:end="127:101">-&gt;</operator><name pos:start="127:102" pos:end="127:107">height</name></name></expr></argument>, <argument pos:start="127:110" pos:end="127:111"><expr pos:start="127:110" pos:end="127:111"><literal type="number" pos:start="127:110" pos:end="127:111">32</literal></expr></argument>)</argument_list></call><operator pos:start="127:113" pos:end="127:113">)</operator> <operator pos:start="127:115" pos:end="127:116">||</operator>

        <literal type="number" pos:start="129:9" pos:end="129:9">0</literal></expr>)</condition> <block pos:start="129:12" pos:end="265:5">{<block_content pos:start="131:9" pos:end="263:39">

        <if_stmt pos:start="131:9" pos:end="143:9"><if pos:start="131:9" pos:end="143:9">if <condition pos:start="131:12" pos:end="131:39">(<expr pos:start="131:13" pos:end="131:38"><name pos:start="131:13" pos:end="131:38"><name pos:start="131:13" pos:end="131:14">s1</name><operator pos:start="131:15" pos:end="131:16">-&gt;</operator><name pos:start="131:17" pos:end="131:38">mpeg_enc_ctx_allocated</name></name></expr>)</condition> <block pos:start="131:41" pos:end="143:9">{<block_content pos:start="133:13" pos:end="141:43">

            <decl_stmt pos:start="133:13" pos:end="133:47"><decl pos:start="133:13" pos:end="133:46"><type pos:start="133:13" pos:end="133:24"><name pos:start="133:13" pos:end="133:24">ParseContext</name></type> <name pos:start="133:26" pos:end="133:27">pc</name> <init pos:start="133:29" pos:end="133:46">= <expr pos:start="133:31" pos:end="133:46"><name pos:start="133:31" pos:end="133:46"><name pos:start="133:31" pos:end="133:31">s</name><operator pos:start="133:32" pos:end="133:33">-&gt;</operator><name pos:start="133:34" pos:end="133:46">parse_context</name></name></expr></init></decl>;</decl_stmt>

            <expr_stmt pos:start="135:13" pos:end="135:40"><expr pos:start="135:13" pos:end="135:39"><name pos:start="135:13" pos:end="135:35"><name pos:start="135:13" pos:end="135:13">s</name><operator pos:start="135:14" pos:end="135:15">-&gt;</operator><name pos:start="135:16" pos:end="135:28">parse_context</name><operator pos:start="135:29" pos:end="135:29">.</operator><name pos:start="135:30" pos:end="135:35">buffer</name></name> <operator pos:start="135:37" pos:end="135:37">=</operator> <literal type="number" pos:start="135:39" pos:end="135:39">0</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="137:13" pos:end="137:33"><expr pos:start="137:13" pos:end="137:32"><call pos:start="137:13" pos:end="137:32"><name pos:start="137:13" pos:end="137:29">ff_mpv_common_end</name><argument_list pos:start="137:30" pos:end="137:32">(<argument pos:start="137:31" pos:end="137:31"><expr pos:start="137:31" pos:end="137:31"><name pos:start="137:31" pos:end="137:31">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="139:13" pos:end="139:34"><expr pos:start="139:13" pos:end="139:33"><name pos:start="139:13" pos:end="139:28"><name pos:start="139:13" pos:end="139:13">s</name><operator pos:start="139:14" pos:end="139:15">-&gt;</operator><name pos:start="139:16" pos:end="139:28">parse_context</name></name> <operator pos:start="139:30" pos:end="139:30">=</operator> <name pos:start="139:32" pos:end="139:33">pc</name></expr>;</expr_stmt>

            <expr_stmt pos:start="141:13" pos:end="141:43"><expr pos:start="141:13" pos:end="141:42"><name pos:start="141:13" pos:end="141:38"><name pos:start="141:13" pos:end="141:14">s1</name><operator pos:start="141:15" pos:end="141:16">-&gt;</operator><name pos:start="141:17" pos:end="141:38">mpeg_enc_ctx_allocated</name></name> <operator pos:start="141:40" pos:end="141:40">=</operator> <literal type="number" pos:start="141:42" pos:end="141:42">0</literal></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>



        <expr_stmt pos:start="147:9" pos:end="147:60"><expr pos:start="147:9" pos:end="147:59"><name pos:start="147:9" pos:end="147:11">ret</name> <operator pos:start="147:13" pos:end="147:13">=</operator> <call pos:start="147:15" pos:end="147:59"><name pos:start="147:15" pos:end="147:31">ff_set_dimensions</name><argument_list pos:start="147:32" pos:end="147:59">(<argument pos:start="147:33" pos:end="147:37"><expr pos:start="147:33" pos:end="147:37"><name pos:start="147:33" pos:end="147:37">avctx</name></expr></argument>, <argument pos:start="147:40" pos:end="147:47"><expr pos:start="147:40" pos:end="147:47"><name pos:start="147:40" pos:end="147:47"><name pos:start="147:40" pos:end="147:40">s</name><operator pos:start="147:41" pos:end="147:42">-&gt;</operator><name pos:start="147:43" pos:end="147:47">width</name></name></expr></argument>, <argument pos:start="147:50" pos:end="147:58"><expr pos:start="147:50" pos:end="147:58"><name pos:start="147:50" pos:end="147:58"><name pos:start="147:50" pos:end="147:50">s</name><operator pos:start="147:51" pos:end="147:52">-&gt;</operator><name pos:start="147:53" pos:end="147:58">height</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="149:9" pos:end="151:23"><if pos:start="149:9" pos:end="151:23">if <condition pos:start="149:12" pos:end="149:20">(<expr pos:start="149:13" pos:end="149:19"><name pos:start="149:13" pos:end="149:15">ret</name> <operator pos:start="149:17" pos:end="149:17">&lt;</operator> <literal type="number" pos:start="149:19" pos:end="149:19">0</literal></expr>)</condition><block type="pseudo" pos:start="151:13" pos:end="151:23"><block_content pos:start="151:13" pos:end="151:23">

            <return pos:start="151:13" pos:end="151:23">return <expr pos:start="151:20" pos:end="151:22"><name pos:start="151:20" pos:end="151:22">ret</name></expr>;</return></block_content></block></if></if_stmt>



        <if_stmt pos:start="155:9" pos:end="165:9"><if pos:start="155:9" pos:end="159:9">if <condition pos:start="155:12" pos:end="155:69">(<expr pos:start="155:13" pos:end="155:68"><name pos:start="155:13" pos:end="155:27"><name pos:start="155:13" pos:end="155:17">avctx</name><operator pos:start="155:18" pos:end="155:19">-&gt;</operator><name pos:start="155:20" pos:end="155:27">codec_id</name></name> <operator pos:start="155:29" pos:end="155:30">==</operator> <name pos:start="155:32" pos:end="155:53">AV_CODEC_ID_MPEG2VIDEO</name> <operator pos:start="155:55" pos:end="155:56">&amp;&amp;</operator> <name pos:start="155:58" pos:end="155:68"><name pos:start="155:58" pos:end="155:58">s</name><operator pos:start="155:59" pos:end="155:60">-&gt;</operator><name pos:start="155:61" pos:end="155:68">bit_rate</name></name></expr>)</condition> <block pos:start="155:71" pos:end="159:9">{<block_content pos:start="157:13" pos:end="157:45">

            <expr_stmt pos:start="157:13" pos:end="157:45"><expr pos:start="157:13" pos:end="157:44"><name pos:start="157:13" pos:end="157:30"><name pos:start="157:13" pos:end="157:17">avctx</name><operator pos:start="157:18" pos:end="157:19">-&gt;</operator><name pos:start="157:20" pos:end="157:30">rc_max_rate</name></name> <operator pos:start="157:32" pos:end="157:32">=</operator> <name pos:start="157:34" pos:end="157:44"><name pos:start="157:34" pos:end="157:34">s</name><operator pos:start="157:35" pos:end="157:36">-&gt;</operator><name pos:start="157:37" pos:end="157:44">bit_rate</name></name></expr>;</expr_stmt>

        </block_content>}</block></if> <if type="elseif" pos:start="159:11" pos:end="165:9">else if <condition pos:start="159:19" pos:end="161:74">(<expr pos:start="159:20" pos:end="161:73"><name pos:start="159:20" pos:end="159:34"><name pos:start="159:20" pos:end="159:24">avctx</name><operator pos:start="159:25" pos:end="159:26">-&gt;</operator><name pos:start="159:27" pos:end="159:34">codec_id</name></name> <operator pos:start="159:36" pos:end="159:37">==</operator> <name pos:start="159:39" pos:end="159:60">AV_CODEC_ID_MPEG1VIDEO</name> <operator pos:start="159:62" pos:end="159:63">&amp;&amp;</operator> <name pos:start="159:65" pos:end="159:75"><name pos:start="159:65" pos:end="159:65">s</name><operator pos:start="159:66" pos:end="159:67">-&gt;</operator><name pos:start="159:68" pos:end="159:75">bit_rate</name></name> <operator pos:start="159:77" pos:end="159:78">&amp;&amp;</operator>

                   <operator pos:start="161:20" pos:end="161:20">(</operator><name pos:start="161:21" pos:end="161:31"><name pos:start="161:21" pos:end="161:21">s</name><operator pos:start="161:22" pos:end="161:23">-&gt;</operator><name pos:start="161:24" pos:end="161:31">bit_rate</name></name> <operator pos:start="161:33" pos:end="161:34">!=</operator> <literal type="number" pos:start="161:36" pos:end="161:42">0x3FFFF</literal><operator pos:start="161:43" pos:end="161:43">*</operator><literal type="number" pos:start="161:44" pos:end="161:46">400</literal> <operator pos:start="161:48" pos:end="161:49">||</operator> <name pos:start="161:51" pos:end="161:62"><name pos:start="161:51" pos:end="161:51">s</name><operator pos:start="161:52" pos:end="161:53">-&gt;</operator><name pos:start="161:54" pos:end="161:62">vbv_delay</name></name> <operator pos:start="161:64" pos:end="161:65">!=</operator> <literal type="number" pos:start="161:67" pos:end="161:72">0xFFFF</literal><operator pos:start="161:73" pos:end="161:73">)</operator></expr>)</condition> <block pos:start="161:76" pos:end="165:9">{<block_content pos:start="163:13" pos:end="163:42">

            <expr_stmt pos:start="163:13" pos:end="163:42"><expr pos:start="163:13" pos:end="163:41"><name pos:start="163:13" pos:end="163:27"><name pos:start="163:13" pos:end="163:17">avctx</name><operator pos:start="163:18" pos:end="163:19">-&gt;</operator><name pos:start="163:20" pos:end="163:27">bit_rate</name></name> <operator pos:start="163:29" pos:end="163:29">=</operator> <name pos:start="163:31" pos:end="163:41"><name pos:start="163:31" pos:end="163:31">s</name><operator pos:start="163:32" pos:end="163:33">-&gt;</operator><name pos:start="163:34" pos:end="163:41">bit_rate</name></name></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>

        <expr_stmt pos:start="167:9" pos:end="167:65"><expr pos:start="167:9" pos:end="167:64"><name pos:start="167:9" pos:end="167:23"><name pos:start="167:9" pos:end="167:10">s1</name><operator pos:start="167:11" pos:end="167:12">-&gt;</operator><name pos:start="167:13" pos:end="167:23">save_aspect</name></name>          <operator pos:start="167:34" pos:end="167:34">=</operator> <name pos:start="167:36" pos:end="167:64"><name pos:start="167:36" pos:end="167:36">s</name><operator pos:start="167:37" pos:end="167:38">-&gt;</operator><name pos:start="167:39" pos:end="167:43">avctx</name><operator pos:start="167:44" pos:end="167:45">-&gt;</operator><name pos:start="167:46" pos:end="167:64">sample_aspect_ratio</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="169:9" pos:end="169:44"><expr pos:start="169:9" pos:end="169:43"><name pos:start="169:9" pos:end="169:22"><name pos:start="169:9" pos:end="169:10">s1</name><operator pos:start="169:11" pos:end="169:12">-&gt;</operator><name pos:start="169:13" pos:end="169:22">save_width</name></name>           <operator pos:start="169:34" pos:end="169:34">=</operator> <name pos:start="169:36" pos:end="169:43"><name pos:start="169:36" pos:end="169:36">s</name><operator pos:start="169:37" pos:end="169:38">-&gt;</operator><name pos:start="169:39" pos:end="169:43">width</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="171:9" pos:end="171:45"><expr pos:start="171:9" pos:end="171:44"><name pos:start="171:9" pos:end="171:23"><name pos:start="171:9" pos:end="171:10">s1</name><operator pos:start="171:11" pos:end="171:12">-&gt;</operator><name pos:start="171:13" pos:end="171:23">save_height</name></name>          <operator pos:start="171:34" pos:end="171:34">=</operator> <name pos:start="171:36" pos:end="171:44"><name pos:start="171:36" pos:end="171:36">s</name><operator pos:start="171:37" pos:end="171:38">-&gt;</operator><name pos:start="171:39" pos:end="171:44">height</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="173:9" pos:end="173:59"><expr pos:start="173:9" pos:end="173:58"><name pos:start="173:9" pos:end="173:32"><name pos:start="173:9" pos:end="173:10">s1</name><operator pos:start="173:11" pos:end="173:12">-&gt;</operator><name pos:start="173:13" pos:end="173:32">save_progressive_seq</name></name> <operator pos:start="173:34" pos:end="173:34">=</operator> <name pos:start="173:36" pos:end="173:58"><name pos:start="173:36" pos:end="173:36">s</name><operator pos:start="173:37" pos:end="173:38">-&gt;</operator><name pos:start="173:39" pos:end="173:58">progressive_sequence</name></name></expr>;</expr_stmt>



        <comment type="block" pos:start="177:9" pos:end="179:40">/* low_delay may be forced, in this case we will have B-frames

         * that behave like P-frames. */</comment>

        <expr_stmt pos:start="181:9" pos:end="181:44"><expr pos:start="181:9" pos:end="181:43"><name pos:start="181:9" pos:end="181:27"><name pos:start="181:9" pos:end="181:13">avctx</name><operator pos:start="181:14" pos:end="181:15">-&gt;</operator><name pos:start="181:16" pos:end="181:27">has_b_frames</name></name> <operator pos:start="181:29" pos:end="181:29">=</operator> <operator pos:start="181:31" pos:end="181:31">!</operator><name pos:start="181:32" pos:end="181:43"><name pos:start="181:32" pos:end="181:32">s</name><operator pos:start="181:33" pos:end="181:34">-&gt;</operator><name pos:start="181:35" pos:end="181:43">low_delay</name></name></expr>;</expr_stmt>



        <if_stmt pos:start="185:9" pos:end="227:9"><if pos:start="185:9" pos:end="197:9">if <condition pos:start="185:12" pos:end="185:54">(<expr pos:start="185:13" pos:end="185:53"><name pos:start="185:13" pos:end="185:27"><name pos:start="185:13" pos:end="185:17">avctx</name><operator pos:start="185:18" pos:end="185:19">-&gt;</operator><name pos:start="185:20" pos:end="185:27">codec_id</name></name> <operator pos:start="185:29" pos:end="185:30">==</operator> <name pos:start="185:32" pos:end="185:53">AV_CODEC_ID_MPEG1VIDEO</name></expr>)</condition> <block pos:start="185:56" pos:end="197:9">{<block_content pos:start="189:13" pos:end="195:64">

            <comment type="line" pos:start="187:13" pos:end="187:25">// MPEG-1 fps</comment>

            <expr_stmt pos:start="189:13" pos:end="189:77"><expr pos:start="189:13" pos:end="189:76"><name pos:start="189:13" pos:end="189:28"><name pos:start="189:13" pos:end="189:17">avctx</name><operator pos:start="189:18" pos:end="189:19">-&gt;</operator><name pos:start="189:20" pos:end="189:28">framerate</name></name> <operator pos:start="189:30" pos:end="189:30">=</operator> <name pos:start="189:32" pos:end="189:76"><name pos:start="189:32" pos:end="189:55">ff_mpeg12_frame_rate_tab</name><index pos:start="189:56" pos:end="189:76">[<expr pos:start="189:57" pos:end="189:75"><name pos:start="189:57" pos:end="189:75"><name pos:start="189:57" pos:end="189:57">s</name><operator pos:start="189:58" pos:end="189:59">-&gt;</operator><name pos:start="189:60" pos:end="189:75">frame_rate_index</name></name></expr>]</index></name></expr>;</expr_stmt>

            <expr_stmt pos:start="191:13" pos:end="191:43"><expr pos:start="191:13" pos:end="191:42"><name pos:start="191:13" pos:end="191:34"><name pos:start="191:13" pos:end="191:17">avctx</name><operator pos:start="191:18" pos:end="191:19">-&gt;</operator><name pos:start="191:20" pos:end="191:34">ticks_per_frame</name></name>     <operator pos:start="191:40" pos:end="191:40">=</operator> <literal type="number" pos:start="191:42" pos:end="191:42">1</literal></expr>;</expr_stmt>



            <expr_stmt pos:start="195:13" pos:end="195:64"><expr pos:start="195:13" pos:end="195:63"><name pos:start="195:13" pos:end="195:41"><name pos:start="195:13" pos:end="195:17">avctx</name><operator pos:start="195:18" pos:end="195:19">-&gt;</operator><name pos:start="195:20" pos:end="195:41">chroma_sample_location</name></name> <operator pos:start="195:43" pos:end="195:43">=</operator> <name pos:start="195:45" pos:end="195:63">AVCHROMA_LOC_CENTER</name></expr>;</expr_stmt>

        </block_content>}</block></if> <else pos:start="197:11" pos:end="227:9">else <block pos:start="197:16" pos:end="227:9">{<block_content pos:start="201:13" pos:end="225:13"> <comment type="line" pos:start="197:18" pos:end="197:26">// MPEG-2</comment>

            <comment type="line" pos:start="199:13" pos:end="199:25">// MPEG-2 fps</comment>

            <expr_stmt pos:start="201:13" pos:end="209:31"><expr pos:start="201:13" pos:end="209:30"><call pos:start="201:13" pos:end="209:30"><name pos:start="201:13" pos:end="201:21">av_reduce</name><argument_list pos:start="201:22" pos:end="209:30">(<argument pos:start="201:23" pos:end="201:46"><expr pos:start="201:23" pos:end="201:46"><operator pos:start="201:23" pos:end="201:23">&amp;</operator><name pos:start="201:24" pos:end="201:46"><name pos:start="201:24" pos:end="201:24">s</name><operator pos:start="201:25" pos:end="201:26">-&gt;</operator><name pos:start="201:27" pos:end="201:31">avctx</name><operator pos:start="201:32" pos:end="201:33">-&gt;</operator><name pos:start="201:34" pos:end="201:42">framerate</name><operator pos:start="201:43" pos:end="201:43">.</operator><name pos:start="201:44" pos:end="201:46">num</name></name></expr></argument>,

                      <argument pos:start="203:23" pos:end="203:46"><expr pos:start="203:23" pos:end="203:46"><operator pos:start="203:23" pos:end="203:23">&amp;</operator><name pos:start="203:24" pos:end="203:46"><name pos:start="203:24" pos:end="203:24">s</name><operator pos:start="203:25" pos:end="203:26">-&gt;</operator><name pos:start="203:27" pos:end="203:31">avctx</name><operator pos:start="203:32" pos:end="203:33">-&gt;</operator><name pos:start="203:34" pos:end="203:42">framerate</name><operator pos:start="203:43" pos:end="203:43">.</operator><name pos:start="203:44" pos:end="203:46">den</name></name></expr></argument>,

                      <argument pos:start="205:23" pos:end="205:96"><expr pos:start="205:23" pos:end="205:96"><name pos:start="205:23" pos:end="205:67"><name pos:start="205:23" pos:end="205:46">ff_mpeg12_frame_rate_tab</name><index pos:start="205:47" pos:end="205:67">[<expr pos:start="205:48" pos:end="205:66"><name pos:start="205:48" pos:end="205:66"><name pos:start="205:48" pos:end="205:48">s</name><operator pos:start="205:49" pos:end="205:50">-&gt;</operator><name pos:start="205:51" pos:end="205:66">frame_rate_index</name></name></expr>]</index></name><operator pos:start="205:68" pos:end="205:68">.</operator><name pos:start="205:69" pos:end="205:71">num</name> <operator pos:start="205:73" pos:end="205:73">*</operator> <name pos:start="205:75" pos:end="205:96"><name pos:start="205:75" pos:end="205:76">s1</name><operator pos:start="205:77" pos:end="205:78">-&gt;</operator><name pos:start="205:79" pos:end="205:92">frame_rate_ext</name><operator pos:start="205:93" pos:end="205:93">.</operator><name pos:start="205:94" pos:end="205:96">num</name></name></expr></argument>,

                      <argument pos:start="207:23" pos:end="207:96"><expr pos:start="207:23" pos:end="207:96"><name pos:start="207:23" pos:end="207:67"><name pos:start="207:23" pos:end="207:46">ff_mpeg12_frame_rate_tab</name><index pos:start="207:47" pos:end="207:67">[<expr pos:start="207:48" pos:end="207:66"><name pos:start="207:48" pos:end="207:66"><name pos:start="207:48" pos:end="207:48">s</name><operator pos:start="207:49" pos:end="207:50">-&gt;</operator><name pos:start="207:51" pos:end="207:66">frame_rate_index</name></name></expr>]</index></name><operator pos:start="207:68" pos:end="207:68">.</operator><name pos:start="207:69" pos:end="207:71">den</name> <operator pos:start="207:73" pos:end="207:73">*</operator> <name pos:start="207:75" pos:end="207:96"><name pos:start="207:75" pos:end="207:76">s1</name><operator pos:start="207:77" pos:end="207:78">-&gt;</operator><name pos:start="207:79" pos:end="207:92">frame_rate_ext</name><operator pos:start="207:93" pos:end="207:93">.</operator><name pos:start="207:94" pos:end="207:96">den</name></name></expr></argument>,

                      <argument pos:start="209:23" pos:end="209:29"><expr pos:start="209:23" pos:end="209:29"><literal type="number" pos:start="209:23" pos:end="209:23">1</literal> <operator pos:start="209:25" pos:end="209:26">&lt;&lt;</operator> <literal type="number" pos:start="209:28" pos:end="209:29">30</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="211:13" pos:end="211:39"><expr pos:start="211:13" pos:end="211:38"><name pos:start="211:13" pos:end="211:34"><name pos:start="211:13" pos:end="211:17">avctx</name><operator pos:start="211:18" pos:end="211:19">-&gt;</operator><name pos:start="211:20" pos:end="211:34">ticks_per_frame</name></name> <operator pos:start="211:36" pos:end="211:36">=</operator> <literal type="number" pos:start="211:38" pos:end="211:38">2</literal></expr>;</expr_stmt>



            <switch pos:start="215:13" pos:end="225:13">switch <condition pos:start="215:20" pos:end="215:37">(<expr pos:start="215:21" pos:end="215:36"><name pos:start="215:21" pos:end="215:36"><name pos:start="215:21" pos:end="215:21">s</name><operator pos:start="215:22" pos:end="215:23">-&gt;</operator><name pos:start="215:24" pos:end="215:36">chroma_format</name></name></expr>)</condition> <block pos:start="215:39" pos:end="225:13">{<block_content pos:start="217:13" pos:end="223:35">

            <case pos:start="217:13" pos:end="217:19">case <expr pos:start="217:18" pos:end="217:18"><literal type="number" pos:start="217:18" pos:end="217:18">1</literal></expr>:</case> <expr_stmt pos:start="217:21" pos:end="217:70"><expr pos:start="217:21" pos:end="217:69"><name pos:start="217:21" pos:end="217:49"><name pos:start="217:21" pos:end="217:25">avctx</name><operator pos:start="217:26" pos:end="217:27">-&gt;</operator><name pos:start="217:28" pos:end="217:49">chroma_sample_location</name></name> <operator pos:start="217:51" pos:end="217:51">=</operator> <name pos:start="217:53" pos:end="217:69">AVCHROMA_LOC_LEFT</name></expr>;</expr_stmt> <break pos:start="217:72" pos:end="217:77">break;</break>

            <case pos:start="219:13" pos:end="219:19">case <expr pos:start="219:18" pos:end="219:18"><literal type="number" pos:start="219:18" pos:end="219:18">2</literal></expr>:</case>

            <case pos:start="221:13" pos:end="221:19">case <expr pos:start="221:18" pos:end="221:18"><literal type="number" pos:start="221:18" pos:end="221:18">3</literal></expr>:</case> <expr_stmt pos:start="221:21" pos:end="221:73"><expr pos:start="221:21" pos:end="221:72"><name pos:start="221:21" pos:end="221:49"><name pos:start="221:21" pos:end="221:25">avctx</name><operator pos:start="221:26" pos:end="221:27">-&gt;</operator><name pos:start="221:28" pos:end="221:49">chroma_sample_location</name></name> <operator pos:start="221:51" pos:end="221:51">=</operator> <name pos:start="221:53" pos:end="221:72">AVCHROMA_LOC_TOPLEFT</name></expr>;</expr_stmt> <break pos:start="221:75" pos:end="221:80">break;</break>

            <default pos:start="223:13" pos:end="223:20">default:</default> <expr_stmt pos:start="223:22" pos:end="223:35"><expr pos:start="223:22" pos:end="223:34"><call pos:start="223:22" pos:end="223:34"><name pos:start="223:22" pos:end="223:31">av_assert0</name><argument_list pos:start="223:32" pos:end="223:34">(<argument pos:start="223:33" pos:end="223:33"><expr pos:start="223:33" pos:end="223:33"><literal type="number" pos:start="223:33" pos:end="223:33">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></switch>

        </block_content>}</block></else></if_stmt> <comment type="line" pos:start="227:11" pos:end="227:19">// MPEG-2</comment>



        <expr_stmt pos:start="231:9" pos:end="231:53"><expr pos:start="231:9" pos:end="231:52"><name pos:start="231:9" pos:end="231:22"><name pos:start="231:9" pos:end="231:13">avctx</name><operator pos:start="231:14" pos:end="231:15">-&gt;</operator><name pos:start="231:16" pos:end="231:22">pix_fmt</name></name> <operator pos:start="231:24" pos:end="231:24">=</operator> <call pos:start="231:26" pos:end="231:52"><name pos:start="231:26" pos:end="231:45">mpeg_get_pixelformat</name><argument_list pos:start="231:46" pos:end="231:52">(<argument pos:start="231:47" pos:end="231:51"><expr pos:start="231:47" pos:end="231:51"><name pos:start="231:47" pos:end="231:51">avctx</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="233:9" pos:end="233:40"><expr pos:start="233:9" pos:end="233:39"><call pos:start="233:9" pos:end="233:39"><name pos:start="233:9" pos:end="233:32">setup_hwaccel_for_pixfmt</name><argument_list pos:start="233:33" pos:end="233:39">(<argument pos:start="233:34" pos:end="233:38"><expr pos:start="233:34" pos:end="233:38"><name pos:start="233:34" pos:end="233:38">avctx</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <comment type="block" pos:start="237:9" pos:end="239:44">/* Quantization matrices may need reordering

         * if DCT permutation is changed. */</comment>

        <expr_stmt pos:start="241:9" pos:end="241:80"><expr pos:start="241:9" pos:end="241:79"><call pos:start="241:9" pos:end="241:79"><name pos:start="241:9" pos:end="241:14">memcpy</name><argument_list pos:start="241:15" pos:end="241:79">(<argument pos:start="241:16" pos:end="241:30"><expr pos:start="241:16" pos:end="241:30"><name pos:start="241:16" pos:end="241:30">old_permutation</name></expr></argument>, <argument pos:start="241:33" pos:end="241:56"><expr pos:start="241:33" pos:end="241:56"><name pos:start="241:33" pos:end="241:56"><name pos:start="241:33" pos:end="241:33">s</name><operator pos:start="241:34" pos:end="241:35">-&gt;</operator><name pos:start="241:36" pos:end="241:39">idsp</name><operator pos:start="241:40" pos:end="241:40">.</operator><name pos:start="241:41" pos:end="241:56">idct_permutation</name></name></expr></argument>, <argument pos:start="241:59" pos:end="241:78"><expr pos:start="241:59" pos:end="241:78"><literal type="number" pos:start="241:59" pos:end="241:60">64</literal> <operator pos:start="241:62" pos:end="241:62">*</operator> <sizeof pos:start="241:64" pos:end="241:78">sizeof<argument_list pos:start="241:70" pos:end="241:78">(<argument pos:start="241:71" pos:end="241:77"><expr pos:start="241:71" pos:end="241:77"><name pos:start="241:71" pos:end="241:77">uint8_t</name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <expr_stmt pos:start="245:9" pos:end="245:28"><expr pos:start="245:9" pos:end="245:27"><call pos:start="245:9" pos:end="245:27"><name pos:start="245:9" pos:end="245:24">ff_mpv_idct_init</name><argument_list pos:start="245:25" pos:end="245:27">(<argument pos:start="245:26" pos:end="245:26"><expr pos:start="245:26" pos:end="245:26"><name pos:start="245:26" pos:end="245:26">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="247:9" pos:end="249:23"><if pos:start="247:9" pos:end="249:23">if <condition pos:start="247:12" pos:end="247:46">(<expr pos:start="247:13" pos:end="247:45"><operator pos:start="247:13" pos:end="247:13">(</operator><name pos:start="247:14" pos:end="247:16">ret</name> <operator pos:start="247:18" pos:end="247:18">=</operator> <call pos:start="247:20" pos:end="247:40"><name pos:start="247:20" pos:end="247:37">ff_mpv_common_init</name><argument_list pos:start="247:38" pos:end="247:40">(<argument pos:start="247:39" pos:end="247:39"><expr pos:start="247:39" pos:end="247:39"><name pos:start="247:39" pos:end="247:39">s</name></expr></argument>)</argument_list></call><operator pos:start="247:41" pos:end="247:41">)</operator> <operator pos:start="247:43" pos:end="247:43">&lt;</operator> <literal type="number" pos:start="247:45" pos:end="247:45">0</literal></expr>)</condition><block type="pseudo" pos:start="249:13" pos:end="249:23"><block_content pos:start="249:13" pos:end="249:23">

            <return pos:start="249:13" pos:end="249:23">return <expr pos:start="249:20" pos:end="249:22"><name pos:start="249:20" pos:end="249:22">ret</name></expr>;</return></block_content></block></if></if_stmt>



        <expr_stmt pos:start="253:9" pos:end="253:96"><expr pos:start="253:9" pos:end="253:95"><call pos:start="253:9" pos:end="253:95"><name pos:start="253:9" pos:end="253:28">quant_matrix_rebuild</name><argument_list pos:start="253:29" pos:end="253:95">(<argument pos:start="253:30" pos:end="253:44"><expr pos:start="253:30" pos:end="253:44"><name pos:start="253:30" pos:end="253:44"><name pos:start="253:30" pos:end="253:30">s</name><operator pos:start="253:31" pos:end="253:32">-&gt;</operator><name pos:start="253:33" pos:end="253:44">intra_matrix</name></name></expr></argument>,        <argument pos:start="253:54" pos:end="253:68"><expr pos:start="253:54" pos:end="253:68"><name pos:start="253:54" pos:end="253:68">old_permutation</name></expr></argument>, <argument pos:start="253:71" pos:end="253:94"><expr pos:start="253:71" pos:end="253:94"><name pos:start="253:71" pos:end="253:94"><name pos:start="253:71" pos:end="253:71">s</name><operator pos:start="253:72" pos:end="253:73">-&gt;</operator><name pos:start="253:74" pos:end="253:77">idsp</name><operator pos:start="253:78" pos:end="253:78">.</operator><name pos:start="253:79" pos:end="253:94">idct_permutation</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="255:9" pos:end="255:96"><expr pos:start="255:9" pos:end="255:95"><call pos:start="255:9" pos:end="255:95"><name pos:start="255:9" pos:end="255:28">quant_matrix_rebuild</name><argument_list pos:start="255:29" pos:end="255:95">(<argument pos:start="255:30" pos:end="255:44"><expr pos:start="255:30" pos:end="255:44"><name pos:start="255:30" pos:end="255:44"><name pos:start="255:30" pos:end="255:30">s</name><operator pos:start="255:31" pos:end="255:32">-&gt;</operator><name pos:start="255:33" pos:end="255:44">inter_matrix</name></name></expr></argument>,        <argument pos:start="255:54" pos:end="255:68"><expr pos:start="255:54" pos:end="255:68"><name pos:start="255:54" pos:end="255:68">old_permutation</name></expr></argument>, <argument pos:start="255:71" pos:end="255:94"><expr pos:start="255:71" pos:end="255:94"><name pos:start="255:71" pos:end="255:94"><name pos:start="255:71" pos:end="255:71">s</name><operator pos:start="255:72" pos:end="255:73">-&gt;</operator><name pos:start="255:74" pos:end="255:77">idsp</name><operator pos:start="255:78" pos:end="255:78">.</operator><name pos:start="255:79" pos:end="255:94">idct_permutation</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="257:9" pos:end="257:96"><expr pos:start="257:9" pos:end="257:95"><call pos:start="257:9" pos:end="257:95"><name pos:start="257:9" pos:end="257:28">quant_matrix_rebuild</name><argument_list pos:start="257:29" pos:end="257:95">(<argument pos:start="257:30" pos:end="257:51"><expr pos:start="257:30" pos:end="257:51"><name pos:start="257:30" pos:end="257:51"><name pos:start="257:30" pos:end="257:30">s</name><operator pos:start="257:31" pos:end="257:32">-&gt;</operator><name pos:start="257:33" pos:end="257:51">chroma_intra_matrix</name></name></expr></argument>, <argument pos:start="257:54" pos:end="257:68"><expr pos:start="257:54" pos:end="257:68"><name pos:start="257:54" pos:end="257:68">old_permutation</name></expr></argument>, <argument pos:start="257:71" pos:end="257:94"><expr pos:start="257:71" pos:end="257:94"><name pos:start="257:71" pos:end="257:94"><name pos:start="257:71" pos:end="257:71">s</name><operator pos:start="257:72" pos:end="257:73">-&gt;</operator><name pos:start="257:74" pos:end="257:77">idsp</name><operator pos:start="257:78" pos:end="257:78">.</operator><name pos:start="257:79" pos:end="257:94">idct_permutation</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="259:9" pos:end="259:96"><expr pos:start="259:9" pos:end="259:95"><call pos:start="259:9" pos:end="259:95"><name pos:start="259:9" pos:end="259:28">quant_matrix_rebuild</name><argument_list pos:start="259:29" pos:end="259:95">(<argument pos:start="259:30" pos:end="259:51"><expr pos:start="259:30" pos:end="259:51"><name pos:start="259:30" pos:end="259:51"><name pos:start="259:30" pos:end="259:30">s</name><operator pos:start="259:31" pos:end="259:32">-&gt;</operator><name pos:start="259:33" pos:end="259:51">chroma_inter_matrix</name></name></expr></argument>, <argument pos:start="259:54" pos:end="259:68"><expr pos:start="259:54" pos:end="259:68"><name pos:start="259:54" pos:end="259:68">old_permutation</name></expr></argument>, <argument pos:start="259:71" pos:end="259:94"><expr pos:start="259:71" pos:end="259:94"><name pos:start="259:71" pos:end="259:94"><name pos:start="259:71" pos:end="259:71">s</name><operator pos:start="259:72" pos:end="259:73">-&gt;</operator><name pos:start="259:74" pos:end="259:77">idsp</name><operator pos:start="259:78" pos:end="259:78">.</operator><name pos:start="259:79" pos:end="259:94">idct_permutation</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <expr_stmt pos:start="263:9" pos:end="263:39"><expr pos:start="263:9" pos:end="263:38"><name pos:start="263:9" pos:end="263:34"><name pos:start="263:9" pos:end="263:10">s1</name><operator pos:start="263:11" pos:end="263:12">-&gt;</operator><name pos:start="263:13" pos:end="263:34">mpeg_enc_ctx_allocated</name></name> <operator pos:start="263:36" pos:end="263:36">=</operator> <literal type="number" pos:start="263:38" pos:end="263:38">1</literal></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    <return pos:start="267:5" pos:end="267:13">return <expr pos:start="267:12" pos:end="267:12"><literal type="number" pos:start="267:12" pos:end="267:12">0</literal></expr>;</return>

</block_content>}</block></function>
</unit>
