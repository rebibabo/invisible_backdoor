<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/22593.c" pos:tabs="8"><function pos:start="1:1" pos:end="361:1"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:30">compute_pkt_fields</name><parameter_list pos:start="1:31" pos:end="5:66">(<parameter pos:start="1:32" pos:end="1:49"><decl pos:start="1:32" pos:end="1:49"><type pos:start="1:32" pos:end="1:49"><name pos:start="1:32" pos:end="1:46">AVFormatContext</name> <modifier pos:start="1:48" pos:end="1:48">*</modifier></type><name pos:start="1:49" pos:end="1:49">s</name></decl></parameter>, <parameter pos:start="1:52" pos:end="1:63"><decl pos:start="1:52" pos:end="1:63"><type pos:start="1:52" pos:end="1:63"><name pos:start="1:52" pos:end="1:59">AVStream</name> <modifier pos:start="1:61" pos:end="1:61">*</modifier></type><name pos:start="1:62" pos:end="1:63">st</name></decl></parameter>,

                               <parameter pos:start="3:32" pos:end="3:55"><decl pos:start="3:32" pos:end="3:55"><type pos:start="3:32" pos:end="3:55"><name pos:start="3:32" pos:end="3:51">AVCodecParserContext</name> <modifier pos:start="3:53" pos:end="3:53">*</modifier></type><name pos:start="3:54" pos:end="3:55">pc</name></decl></parameter>, <parameter pos:start="3:58" pos:end="3:70"><decl pos:start="3:58" pos:end="3:70"><type pos:start="3:58" pos:end="3:70"><name pos:start="3:58" pos:end="3:65">AVPacket</name> <modifier pos:start="3:67" pos:end="3:67">*</modifier></type><name pos:start="3:68" pos:end="3:70">pkt</name></decl></parameter>,

                               <parameter pos:start="5:32" pos:end="5:47"><decl pos:start="5:32" pos:end="5:47"><type pos:start="5:32" pos:end="5:47"><name pos:start="5:32" pos:end="5:38">int64_t</name></type> <name pos:start="5:40" pos:end="5:47">next_dts</name></decl></parameter>, <parameter pos:start="5:50" pos:end="5:65"><decl pos:start="5:50" pos:end="5:65"><type pos:start="5:50" pos:end="5:65"><name pos:start="5:50" pos:end="5:56">int64_t</name></type> <name pos:start="5:58" pos:end="5:65">next_pts</name></decl></parameter>)</parameter_list>

<block pos:start="7:1" pos:end="361:1">{<block_content pos:start="9:5" pos:end="359:61">

    <decl_stmt pos:start="9:5" pos:end="9:49"><decl pos:start="9:5" pos:end="9:11"><type pos:start="9:5" pos:end="9:7"><name pos:start="9:5" pos:end="9:7">int</name></type> <name pos:start="9:9" pos:end="9:11">num</name></decl>, <decl pos:start="9:14" pos:end="9:16"><type ref="prev" pos:start="9:5" pos:end="9:7"/><name pos:start="9:14" pos:end="9:16">den</name></decl>, <decl pos:start="9:19" pos:end="9:38"><type ref="prev" pos:start="9:5" pos:end="9:7"/><name pos:start="9:19" pos:end="9:38">presentation_delayed</name></decl>, <decl pos:start="9:41" pos:end="9:45"><type ref="prev" pos:start="9:5" pos:end="9:7"/><name pos:start="9:41" pos:end="9:45">delay</name></decl>, <decl pos:start="9:48" pos:end="9:48"><type ref="prev" pos:start="9:5" pos:end="9:7"/><name pos:start="9:48" pos:end="9:48">i</name></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:19"><decl pos:start="11:5" pos:end="11:18"><type pos:start="11:5" pos:end="11:11"><name pos:start="11:5" pos:end="11:11">int64_t</name></type> <name pos:start="11:13" pos:end="11:18">offset</name></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:24"><decl pos:start="13:5" pos:end="13:23"><type pos:start="13:5" pos:end="13:14"><name pos:start="13:5" pos:end="13:14">AVRational</name></type> <name pos:start="13:16" pos:end="13:23">duration</name></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="17:63"><decl pos:start="15:5" pos:end="17:62"><type pos:start="15:5" pos:end="15:7"><name pos:start="15:5" pos:end="15:7">int</name></type> <name pos:start="15:9" pos:end="15:20">onein_oneout</name> <init pos:start="15:22" pos:end="17:62">= <expr pos:start="15:24" pos:end="17:62"><name pos:start="15:24" pos:end="15:42"><name pos:start="15:24" pos:end="15:25">st</name><operator pos:start="15:26" pos:end="15:27">-&gt;</operator><name pos:start="15:28" pos:end="15:32">codec</name><operator pos:start="15:33" pos:end="15:34">-&gt;</operator><name pos:start="15:35" pos:end="15:42">codec_id</name></name> <operator pos:start="15:44" pos:end="15:45">!=</operator> <name pos:start="15:47" pos:end="15:62">AV_CODEC_ID_H264</name> <operator pos:start="15:64" pos:end="15:65">&amp;&amp;</operator>

                       <name pos:start="17:24" pos:end="17:42"><name pos:start="17:24" pos:end="17:25">st</name><operator pos:start="17:26" pos:end="17:27">-&gt;</operator><name pos:start="17:28" pos:end="17:32">codec</name><operator pos:start="17:33" pos:end="17:34">-&gt;</operator><name pos:start="17:35" pos:end="17:42">codec_id</name></name> <operator pos:start="17:44" pos:end="17:45">!=</operator> <name pos:start="17:47" pos:end="17:62">AV_CODEC_ID_HEVC</name></expr></init></decl>;</decl_stmt>



    <if_stmt pos:start="21:5" pos:end="23:15"><if pos:start="21:5" pos:end="23:15">if <condition pos:start="21:8" pos:end="21:39">(<expr pos:start="21:9" pos:end="21:38"><name pos:start="21:9" pos:end="21:16"><name pos:start="21:9" pos:end="21:9">s</name><operator pos:start="21:10" pos:end="21:11">-&gt;</operator><name pos:start="21:12" pos:end="21:16">flags</name></name> <operator pos:start="21:18" pos:end="21:18">&amp;</operator> <name pos:start="21:20" pos:end="21:38">AVFMT_FLAG_NOFILLIN</name></expr>)</condition><block type="pseudo" pos:start="23:9" pos:end="23:15"><block_content pos:start="23:9" pos:end="23:15">

        <return pos:start="23:9" pos:end="23:15">return;</return></block_content></block></if></if_stmt>



    <if_stmt pos:start="27:5" pos:end="67:5"><if pos:start="27:5" pos:end="67:5">if <condition pos:start="27:8" pos:end="27:82">(<expr pos:start="27:9" pos:end="27:81"><name pos:start="27:9" pos:end="27:29"><name pos:start="27:9" pos:end="27:10">st</name><operator pos:start="27:11" pos:end="27:12">-&gt;</operator><name pos:start="27:13" pos:end="27:17">codec</name><operator pos:start="27:18" pos:end="27:19">-&gt;</operator><name pos:start="27:20" pos:end="27:29">codec_type</name></name> <operator pos:start="27:31" pos:end="27:32">==</operator> <name pos:start="27:34" pos:end="27:51">AVMEDIA_TYPE_VIDEO</name> <operator pos:start="27:53" pos:end="27:54">&amp;&amp;</operator> <name pos:start="27:56" pos:end="27:63"><name pos:start="27:56" pos:end="27:58">pkt</name><operator pos:start="27:59" pos:end="27:60">-&gt;</operator><name pos:start="27:61" pos:end="27:63">dts</name></name> <operator pos:start="27:65" pos:end="27:66">!=</operator> <name pos:start="27:68" pos:end="27:81">AV_NOPTS_VALUE</name></expr>)</condition> <block pos:start="27:84" pos:end="67:5">{<block_content pos:start="29:9" pos:end="65:38">

        <if_stmt pos:start="29:9" pos:end="57:9"><if pos:start="29:9" pos:end="57:9">if <condition pos:start="29:12" pos:end="29:83">(<expr pos:start="29:13" pos:end="29:82"><name pos:start="29:13" pos:end="29:20"><name pos:start="29:13" pos:end="29:15">pkt</name><operator pos:start="29:16" pos:end="29:17">-&gt;</operator><name pos:start="29:18" pos:end="29:20">dts</name></name> <operator pos:start="29:22" pos:end="29:23">==</operator> <name pos:start="29:25" pos:end="29:32"><name pos:start="29:25" pos:end="29:27">pkt</name><operator pos:start="29:28" pos:end="29:29">-&gt;</operator><name pos:start="29:30" pos:end="29:32">pts</name></name> <operator pos:start="29:34" pos:end="29:35">&amp;&amp;</operator> <name pos:start="29:37" pos:end="29:64"><name pos:start="29:37" pos:end="29:38">st</name><operator pos:start="29:39" pos:end="29:40">-&gt;</operator><name pos:start="29:41" pos:end="29:64">last_dts_for_order_check</name></name> <operator pos:start="29:66" pos:end="29:67">!=</operator> <name pos:start="29:69" pos:end="29:82">AV_NOPTS_VALUE</name></expr>)</condition> <block pos:start="29:85" pos:end="57:9">{<block_content pos:start="31:13" pos:end="55:13">

            <if_stmt pos:start="31:13" pos:end="47:13"><if pos:start="31:13" pos:end="35:13">if <condition pos:start="31:16" pos:end="31:57">(<expr pos:start="31:17" pos:end="31:56"><name pos:start="31:17" pos:end="31:44"><name pos:start="31:17" pos:end="31:18">st</name><operator pos:start="31:19" pos:end="31:20">-&gt;</operator><name pos:start="31:21" pos:end="31:44">last_dts_for_order_check</name></name> <operator pos:start="31:46" pos:end="31:47">&lt;=</operator> <name pos:start="31:49" pos:end="31:56"><name pos:start="31:49" pos:end="31:51">pkt</name><operator pos:start="31:52" pos:end="31:53">-&gt;</operator><name pos:start="31:54" pos:end="31:56">dts</name></name></expr>)</condition> <block pos:start="31:59" pos:end="35:13">{<block_content pos:start="33:17" pos:end="33:34">

                <expr_stmt pos:start="33:17" pos:end="33:34"><expr pos:start="33:17" pos:end="33:33"><name pos:start="33:17" pos:end="33:31"><name pos:start="33:17" pos:end="33:18">st</name><operator pos:start="33:19" pos:end="33:20">-&gt;</operator><name pos:start="33:21" pos:end="33:31">dts_ordered</name></name><operator pos:start="33:32" pos:end="33:33">++</operator></expr>;</expr_stmt>

            </block_content>}</block></if> <else pos:start="35:15" pos:end="47:13">else <block pos:start="35:20" pos:end="47:13">{<block_content pos:start="37:17" pos:end="45:37">

                <expr_stmt pos:start="37:17" pos:end="43:53"><expr pos:start="37:17" pos:end="43:52"><call pos:start="37:17" pos:end="43:52"><name pos:start="37:17" pos:end="37:22">av_log</name><argument_list pos:start="37:23" pos:end="43:52">(<argument pos:start="37:24" pos:end="37:24"><expr pos:start="37:24" pos:end="37:24"><name pos:start="37:24" pos:end="37:24">s</name></expr></argument>, <argument pos:start="37:27" pos:end="37:76"><expr pos:start="37:27" pos:end="37:76"><ternary pos:start="37:27" pos:end="37:76"><condition pos:start="37:27" pos:end="37:46"><expr pos:start="37:27" pos:end="37:44"><name pos:start="37:27" pos:end="37:44"><name pos:start="37:27" pos:end="37:28">st</name><operator pos:start="37:29" pos:end="37:30">-&gt;</operator><name pos:start="37:31" pos:end="37:44">dts_misordered</name></name></expr> ?</condition><then pos:start="37:48" pos:end="37:59"> <expr pos:start="37:48" pos:end="37:59"><name pos:start="37:48" pos:end="37:59">AV_LOG_DEBUG</name></expr> </then><else pos:start="37:61" pos:end="37:76">: <expr pos:start="37:63" pos:end="37:76"><name pos:start="37:63" pos:end="37:76">AV_LOG_WARNING</name></expr></else></ternary></expr></argument>,

                       <argument pos:start="39:24" pos:end="39:65"><expr pos:start="39:24" pos:end="39:65"><literal type="string" pos:start="39:24" pos:end="39:30">"DTS %"</literal><name pos:start="39:31" pos:end="39:36">PRIi64</name><literal type="string" pos:start="39:37" pos:end="39:42">" &lt; %"</literal><name pos:start="39:43" pos:end="39:48">PRIi64</name><literal type="string" pos:start="39:49" pos:end="39:65">" out of order\n"</literal></expr></argument>,

                       <argument pos:start="41:24" pos:end="41:31"><expr pos:start="41:24" pos:end="41:31"><name pos:start="41:24" pos:end="41:31"><name pos:start="41:24" pos:end="41:26">pkt</name><operator pos:start="41:27" pos:end="41:28">-&gt;</operator><name pos:start="41:29" pos:end="41:31">dts</name></name></expr></argument>,

                       <argument pos:start="43:24" pos:end="43:51"><expr pos:start="43:24" pos:end="43:51"><name pos:start="43:24" pos:end="43:51"><name pos:start="43:24" pos:end="43:25">st</name><operator pos:start="43:26" pos:end="43:27">-&gt;</operator><name pos:start="43:28" pos:end="43:51">last_dts_for_order_check</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="45:17" pos:end="45:37"><expr pos:start="45:17" pos:end="45:36"><name pos:start="45:17" pos:end="45:34"><name pos:start="45:17" pos:end="45:18">st</name><operator pos:start="45:19" pos:end="45:20">-&gt;</operator><name pos:start="45:21" pos:end="45:34">dts_misordered</name></name><operator pos:start="45:35" pos:end="45:36">++</operator></expr>;</expr_stmt>

            </block_content>}</block></else></if_stmt>

            <if_stmt pos:start="49:13" pos:end="55:13"><if pos:start="49:13" pos:end="55:13">if <condition pos:start="49:16" pos:end="49:59">(<expr pos:start="49:17" pos:end="49:58"><name pos:start="49:17" pos:end="49:31"><name pos:start="49:17" pos:end="49:18">st</name><operator pos:start="49:19" pos:end="49:20">-&gt;</operator><name pos:start="49:21" pos:end="49:31">dts_ordered</name></name> <operator pos:start="49:33" pos:end="49:33">+</operator> <name pos:start="49:35" pos:end="49:52"><name pos:start="49:35" pos:end="49:36">st</name><operator pos:start="49:37" pos:end="49:38">-&gt;</operator><name pos:start="49:39" pos:end="49:52">dts_misordered</name></name> <operator pos:start="49:54" pos:end="49:54">&gt;</operator> <literal type="number" pos:start="49:56" pos:end="49:58">250</literal></expr>)</condition> <block pos:start="49:61" pos:end="55:13">{<block_content pos:start="51:17" pos:end="53:41">

                <expr_stmt pos:start="51:17" pos:end="51:41"><expr pos:start="51:17" pos:end="51:40"><name pos:start="51:17" pos:end="51:31"><name pos:start="51:17" pos:end="51:18">st</name><operator pos:start="51:19" pos:end="51:20">-&gt;</operator><name pos:start="51:21" pos:end="51:31">dts_ordered</name></name>    <operator pos:start="51:36" pos:end="51:38">&gt;&gt;=</operator> <literal type="number" pos:start="51:40" pos:end="51:40">1</literal></expr>;</expr_stmt>

                <expr_stmt pos:start="53:17" pos:end="53:41"><expr pos:start="53:17" pos:end="53:40"><name pos:start="53:17" pos:end="53:34"><name pos:start="53:17" pos:end="53:18">st</name><operator pos:start="53:19" pos:end="53:20">-&gt;</operator><name pos:start="53:21" pos:end="53:34">dts_misordered</name></name> <operator pos:start="53:36" pos:end="53:38">&gt;&gt;=</operator> <literal type="number" pos:start="53:40" pos:end="53:40">1</literal></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>

        </block_content>}</block></if></if_stmt>



        <expr_stmt pos:start="61:9" pos:end="61:48"><expr pos:start="61:9" pos:end="61:47"><name pos:start="61:9" pos:end="61:36"><name pos:start="61:9" pos:end="61:10">st</name><operator pos:start="61:11" pos:end="61:12">-&gt;</operator><name pos:start="61:13" pos:end="61:36">last_dts_for_order_check</name></name> <operator pos:start="61:38" pos:end="61:38">=</operator> <name pos:start="61:40" pos:end="61:47"><name pos:start="61:40" pos:end="61:42">pkt</name><operator pos:start="61:43" pos:end="61:44">-&gt;</operator><name pos:start="61:45" pos:end="61:47">dts</name></name></expr>;</expr_stmt>

        <if_stmt pos:start="63:9" pos:end="65:38"><if pos:start="63:9" pos:end="65:38">if <condition pos:start="63:12" pos:end="63:75">(<expr pos:start="63:13" pos:end="63:74"><name pos:start="63:13" pos:end="63:27"><name pos:start="63:13" pos:end="63:14">st</name><operator pos:start="63:15" pos:end="63:16">-&gt;</operator><name pos:start="63:17" pos:end="63:27">dts_ordered</name></name> <operator pos:start="63:29" pos:end="63:29">&lt;</operator> <literal type="number" pos:start="63:31" pos:end="63:31">8</literal><operator pos:start="63:32" pos:end="63:32">*</operator><name pos:start="63:33" pos:end="63:50"><name pos:start="63:33" pos:end="63:34">st</name><operator pos:start="63:35" pos:end="63:36">-&gt;</operator><name pos:start="63:37" pos:end="63:50">dts_misordered</name></name> <operator pos:start="63:52" pos:end="63:53">&amp;&amp;</operator> <name pos:start="63:55" pos:end="63:62"><name pos:start="63:55" pos:end="63:57">pkt</name><operator pos:start="63:58" pos:end="63:59">-&gt;</operator><name pos:start="63:60" pos:end="63:62">dts</name></name> <operator pos:start="63:64" pos:end="63:65">==</operator> <name pos:start="63:67" pos:end="63:74"><name pos:start="63:67" pos:end="63:69">pkt</name><operator pos:start="63:70" pos:end="63:71">-&gt;</operator><name pos:start="63:72" pos:end="63:74">pts</name></name></expr>)</condition><block type="pseudo" pos:start="65:13" pos:end="65:38"><block_content pos:start="65:13" pos:end="65:38">

            <expr_stmt pos:start="65:13" pos:end="65:38"><expr pos:start="65:13" pos:end="65:37"><name pos:start="65:13" pos:end="65:20"><name pos:start="65:13" pos:end="65:15">pkt</name><operator pos:start="65:16" pos:end="65:17">-&gt;</operator><name pos:start="65:18" pos:end="65:20">dts</name></name> <operator pos:start="65:22" pos:end="65:22">=</operator> <name pos:start="65:24" pos:end="65:37">AV_NOPTS_VALUE</name></expr>;</expr_stmt></block_content></block></if></if_stmt>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="71:5" pos:end="73:34"><if pos:start="71:5" pos:end="73:34">if <condition pos:start="71:8" pos:end="71:69">(<expr pos:start="71:9" pos:end="71:68"><operator pos:start="71:9" pos:end="71:9">(</operator><name pos:start="71:10" pos:end="71:17"><name pos:start="71:10" pos:end="71:10">s</name><operator pos:start="71:11" pos:end="71:12">-&gt;</operator><name pos:start="71:13" pos:end="71:17">flags</name></name> <operator pos:start="71:19" pos:end="71:19">&amp;</operator> <name pos:start="71:21" pos:end="71:37">AVFMT_FLAG_IGNDTS</name><operator pos:start="71:38" pos:end="71:38">)</operator> <operator pos:start="71:40" pos:end="71:41">&amp;&amp;</operator> <name pos:start="71:43" pos:end="71:50"><name pos:start="71:43" pos:end="71:45">pkt</name><operator pos:start="71:46" pos:end="71:47">-&gt;</operator><name pos:start="71:48" pos:end="71:50">pts</name></name> <operator pos:start="71:52" pos:end="71:53">!=</operator> <name pos:start="71:55" pos:end="71:68">AV_NOPTS_VALUE</name></expr>)</condition><block type="pseudo" pos:start="73:9" pos:end="73:34"><block_content pos:start="73:9" pos:end="73:34">

        <expr_stmt pos:start="73:9" pos:end="73:34"><expr pos:start="73:9" pos:end="73:33"><name pos:start="73:9" pos:end="73:16"><name pos:start="73:9" pos:end="73:11">pkt</name><operator pos:start="73:12" pos:end="73:13">-&gt;</operator><name pos:start="73:14" pos:end="73:16">dts</name></name> <operator pos:start="73:18" pos:end="73:18">=</operator> <name pos:start="73:20" pos:end="73:33">AV_NOPTS_VALUE</name></expr>;</expr_stmt></block_content></block></if></if_stmt>



    <if_stmt pos:start="77:5" pos:end="83:36"><if pos:start="77:5" pos:end="83:36">if <condition pos:start="77:8" pos:end="79:36">(<expr pos:start="77:9" pos:end="79:35"><name pos:start="77:9" pos:end="77:10">pc</name> <operator pos:start="77:12" pos:end="77:13">&amp;&amp;</operator> <name pos:start="77:15" pos:end="77:27"><name pos:start="77:15" pos:end="77:16">pc</name><operator pos:start="77:17" pos:end="77:18">-&gt;</operator><name pos:start="77:19" pos:end="77:27">pict_type</name></name> <operator pos:start="77:29" pos:end="77:30">==</operator> <name pos:start="77:32" pos:end="77:48">AV_PICTURE_TYPE_B</name>

        <operator pos:start="79:9" pos:end="79:10">&amp;&amp;</operator> <operator pos:start="79:12" pos:end="79:12">!</operator><name pos:start="79:13" pos:end="79:35"><name pos:start="79:13" pos:end="79:14">st</name><operator pos:start="79:15" pos:end="79:16">-&gt;</operator><name pos:start="79:17" pos:end="79:21">codec</name><operator pos:start="79:22" pos:end="79:23">-&gt;</operator><name pos:start="79:24" pos:end="79:35">has_b_frames</name></name></expr>)</condition><block type="pseudo" pos:start="83:9" pos:end="83:36"><block_content pos:start="83:9" pos:end="83:36">

        <comment type="line" pos:start="81:9" pos:end="81:55">//FIXME Set low_delay = 0 when has_b_frames = 1</comment>

        <expr_stmt pos:start="83:9" pos:end="83:36"><expr pos:start="83:9" pos:end="83:35"><name pos:start="83:9" pos:end="83:31"><name pos:start="83:9" pos:end="83:10">st</name><operator pos:start="83:11" pos:end="83:12">-&gt;</operator><name pos:start="83:13" pos:end="83:17">codec</name><operator pos:start="83:18" pos:end="83:19">-&gt;</operator><name pos:start="83:20" pos:end="83:31">has_b_frames</name></name> <operator pos:start="83:33" pos:end="83:33">=</operator> <literal type="number" pos:start="83:35" pos:end="83:35">1</literal></expr>;</expr_stmt></block_content></block></if></if_stmt>



    <comment type="block" pos:start="87:5" pos:end="87:38">/* do we have a video B-frame ? */</comment>

    <expr_stmt pos:start="89:5" pos:end="89:36"><expr pos:start="89:5" pos:end="89:35"><name pos:start="89:5" pos:end="89:9">delay</name> <operator pos:start="89:11" pos:end="89:11">=</operator> <name pos:start="89:13" pos:end="89:35"><name pos:start="89:13" pos:end="89:14">st</name><operator pos:start="89:15" pos:end="89:16">-&gt;</operator><name pos:start="89:17" pos:end="89:21">codec</name><operator pos:start="89:22" pos:end="89:23">-&gt;</operator><name pos:start="89:24" pos:end="89:35">has_b_frames</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="91:5" pos:end="91:29"><expr pos:start="91:5" pos:end="91:28"><name pos:start="91:5" pos:end="91:24">presentation_delayed</name> <operator pos:start="91:26" pos:end="91:26">=</operator> <literal type="number" pos:start="91:28" pos:end="91:28">0</literal></expr>;</expr_stmt>



    <comment type="block" pos:start="95:5" pos:end="97:26">/* XXX: need has_b_frame, but cannot get it if the codec is

     *  not initialized */</comment>

    <if_stmt pos:start="99:5" pos:end="103:33"><if pos:start="99:5" pos:end="103:33">if <condition pos:start="99:8" pos:end="101:49">(<expr pos:start="99:9" pos:end="101:48"><name pos:start="99:9" pos:end="99:13">delay</name> <operator pos:start="99:15" pos:end="99:16">&amp;&amp;</operator>

        <name pos:start="101:9" pos:end="101:10">pc</name> <operator pos:start="101:12" pos:end="101:13">&amp;&amp;</operator> <name pos:start="101:15" pos:end="101:27"><name pos:start="101:15" pos:end="101:16">pc</name><operator pos:start="101:17" pos:end="101:18">-&gt;</operator><name pos:start="101:19" pos:end="101:27">pict_type</name></name> <operator pos:start="101:29" pos:end="101:30">!=</operator> <name pos:start="101:32" pos:end="101:48">AV_PICTURE_TYPE_B</name></expr>)</condition><block type="pseudo" pos:start="103:9" pos:end="103:33"><block_content pos:start="103:9" pos:end="103:33">

        <expr_stmt pos:start="103:9" pos:end="103:33"><expr pos:start="103:9" pos:end="103:32"><name pos:start="103:9" pos:end="103:28">presentation_delayed</name> <operator pos:start="103:30" pos:end="103:30">=</operator> <literal type="number" pos:start="103:32" pos:end="103:32">1</literal></expr>;</expr_stmt></block_content></block></if></if_stmt>



    <if_stmt pos:start="107:5" pos:end="121:5"><if pos:start="107:5" pos:end="121:5">if <condition pos:start="107:8" pos:end="111:63">(<expr pos:start="107:9" pos:end="111:62"><name pos:start="107:9" pos:end="107:16"><name pos:start="107:9" pos:end="107:11">pkt</name><operator pos:start="107:12" pos:end="107:13">-&gt;</operator><name pos:start="107:14" pos:end="107:16">pts</name></name> <operator pos:start="107:18" pos:end="107:19">!=</operator> <name pos:start="107:21" pos:end="107:34">AV_NOPTS_VALUE</name> <operator pos:start="107:36" pos:end="107:37">&amp;&amp;</operator> <name pos:start="107:39" pos:end="107:46"><name pos:start="107:39" pos:end="107:41">pkt</name><operator pos:start="107:42" pos:end="107:43">-&gt;</operator><name pos:start="107:44" pos:end="107:46">dts</name></name> <operator pos:start="107:48" pos:end="107:49">!=</operator> <name pos:start="107:51" pos:end="107:64">AV_NOPTS_VALUE</name> <operator pos:start="107:66" pos:end="107:67">&amp;&amp;</operator>

        <name pos:start="109:9" pos:end="109:25"><name pos:start="109:9" pos:end="109:10">st</name><operator pos:start="109:11" pos:end="109:12">-&gt;</operator><name pos:start="109:13" pos:end="109:25">pts_wrap_bits</name></name> <operator pos:start="109:27" pos:end="109:27">&lt;</operator> <literal type="number" pos:start="109:29" pos:end="109:30">63</literal> <operator pos:start="109:32" pos:end="109:33">&amp;&amp;</operator>

        <name pos:start="111:9" pos:end="111:16"><name pos:start="111:9" pos:end="111:11">pkt</name><operator pos:start="111:12" pos:end="111:13">-&gt;</operator><name pos:start="111:14" pos:end="111:16">dts</name></name> <operator pos:start="111:18" pos:end="111:18">-</operator> <operator pos:start="111:20" pos:end="111:20">(</operator><literal type="number" pos:start="111:21" pos:end="111:23">1LL</literal> <operator pos:start="111:25" pos:end="111:26">&lt;&lt;</operator> <operator pos:start="111:28" pos:end="111:28">(</operator><name pos:start="111:29" pos:end="111:45"><name pos:start="111:29" pos:end="111:30">st</name><operator pos:start="111:31" pos:end="111:32">-&gt;</operator><name pos:start="111:33" pos:end="111:45">pts_wrap_bits</name></name> <operator pos:start="111:47" pos:end="111:47">-</operator> <literal type="number" pos:start="111:49" pos:end="111:49">1</literal><operator pos:start="111:50" pos:end="111:50">)</operator><operator pos:start="111:51" pos:end="111:51">)</operator> <operator pos:start="111:53" pos:end="111:53">&gt;</operator> <name pos:start="111:55" pos:end="111:62"><name pos:start="111:55" pos:end="111:57">pkt</name><operator pos:start="111:58" pos:end="111:59">-&gt;</operator><name pos:start="111:60" pos:end="111:62">pts</name></name></expr>)</condition> <block pos:start="111:65" pos:end="121:5">{<block_content pos:start="113:9" pos:end="119:49">

        <if_stmt pos:start="113:9" pos:end="119:49"><if pos:start="113:9" pos:end="117:9">if <condition pos:start="113:12" pos:end="113:96">(<expr pos:start="113:13" pos:end="113:95"><call pos:start="113:13" pos:end="113:36"><name pos:start="113:13" pos:end="113:23">is_relative</name><argument_list pos:start="113:24" pos:end="113:36">(<argument pos:start="113:25" pos:end="113:35"><expr pos:start="113:25" pos:end="113:35"><name pos:start="113:25" pos:end="113:35"><name pos:start="113:25" pos:end="113:26">st</name><operator pos:start="113:27" pos:end="113:28">-&gt;</operator><name pos:start="113:29" pos:end="113:35">cur_dts</name></name></expr></argument>)</argument_list></call> <operator pos:start="113:38" pos:end="113:39">||</operator> <name pos:start="113:41" pos:end="113:48"><name pos:start="113:41" pos:end="113:43">pkt</name><operator pos:start="113:44" pos:end="113:45">-&gt;</operator><name pos:start="113:46" pos:end="113:48">dts</name></name> <operator pos:start="113:50" pos:end="113:50">-</operator> <operator pos:start="113:52" pos:end="113:52">(</operator><literal type="number" pos:start="113:53" pos:end="113:55">1LL</literal><operator pos:start="113:56" pos:end="113:57">&lt;&lt;</operator><operator pos:start="113:58" pos:end="113:58">(</operator><name pos:start="113:59" pos:end="113:75"><name pos:start="113:59" pos:end="113:60">st</name><operator pos:start="113:61" pos:end="113:62">-&gt;</operator><name pos:start="113:63" pos:end="113:75">pts_wrap_bits</name></name> <operator pos:start="113:77" pos:end="113:77">-</operator> <literal type="number" pos:start="113:79" pos:end="113:79">1</literal><operator pos:start="113:80" pos:end="113:80">)</operator><operator pos:start="113:81" pos:end="113:81">)</operator> <operator pos:start="113:83" pos:end="113:83">&gt;</operator> <name pos:start="113:85" pos:end="113:95"><name pos:start="113:85" pos:end="113:86">st</name><operator pos:start="113:87" pos:end="113:88">-&gt;</operator><name pos:start="113:89" pos:end="113:95">cur_dts</name></name></expr>)</condition> <block pos:start="113:98" pos:end="117:9">{<block_content pos:start="115:13" pos:end="115:49">

            <expr_stmt pos:start="115:13" pos:end="115:49"><expr pos:start="115:13" pos:end="115:48"><name pos:start="115:13" pos:end="115:20"><name pos:start="115:13" pos:end="115:15">pkt</name><operator pos:start="115:16" pos:end="115:17">-&gt;</operator><name pos:start="115:18" pos:end="115:20">dts</name></name> <operator pos:start="115:22" pos:end="115:23">-=</operator> <literal type="number" pos:start="115:25" pos:end="115:27">1LL</literal> <operator pos:start="115:29" pos:end="115:30">&lt;&lt;</operator> <name pos:start="115:32" pos:end="115:48"><name pos:start="115:32" pos:end="115:33">st</name><operator pos:start="115:34" pos:end="115:35">-&gt;</operator><name pos:start="115:36" pos:end="115:48">pts_wrap_bits</name></name></expr>;</expr_stmt>

        </block_content>}</block></if> <else pos:start="117:11" pos:end="119:49">else<block type="pseudo" pos:start="119:13" pos:end="119:49"><block_content pos:start="119:13" pos:end="119:49">

            <expr_stmt pos:start="119:13" pos:end="119:49"><expr pos:start="119:13" pos:end="119:48"><name pos:start="119:13" pos:end="119:20"><name pos:start="119:13" pos:end="119:15">pkt</name><operator pos:start="119:16" pos:end="119:17">-&gt;</operator><name pos:start="119:18" pos:end="119:20">pts</name></name> <operator pos:start="119:22" pos:end="119:23">+=</operator> <literal type="number" pos:start="119:25" pos:end="119:27">1LL</literal> <operator pos:start="119:29" pos:end="119:30">&lt;&lt;</operator> <name pos:start="119:32" pos:end="119:48"><name pos:start="119:32" pos:end="119:33">st</name><operator pos:start="119:34" pos:end="119:35">-&gt;</operator><name pos:start="119:36" pos:end="119:48">pts_wrap_bits</name></name></expr>;</expr_stmt></block_content></block></else></if_stmt>

    </block_content>}</block></if></if_stmt>



    <comment type="block" pos:start="125:5" pos:end="131:52">/* Some MPEG-2 in MPEG-PS lack dts (issue #171 / input_file.mpg).

     * We take the conservative approach and discard both.

     * Note: If this is misbehaving for an H.264 file, then possibly

     * presentation_delayed is not set correctly. */</comment>

    <if_stmt pos:start="133:5" pos:end="145:5"><if pos:start="133:5" pos:end="145:5">if <condition pos:start="133:8" pos:end="135:59">(<expr pos:start="133:9" pos:end="135:58"><name pos:start="133:9" pos:end="133:13">delay</name> <operator pos:start="133:15" pos:end="133:16">==</operator> <literal type="number" pos:start="133:18" pos:end="133:18">1</literal> <operator pos:start="133:20" pos:end="133:21">&amp;&amp;</operator> <name pos:start="133:23" pos:end="133:30"><name pos:start="133:23" pos:end="133:25">pkt</name><operator pos:start="133:26" pos:end="133:27">-&gt;</operator><name pos:start="133:28" pos:end="133:30">dts</name></name> <operator pos:start="133:32" pos:end="133:33">==</operator> <name pos:start="133:35" pos:end="133:42"><name pos:start="133:35" pos:end="133:37">pkt</name><operator pos:start="133:38" pos:end="133:39">-&gt;</operator><name pos:start="133:40" pos:end="133:42">pts</name></name> <operator pos:start="133:44" pos:end="133:45">&amp;&amp;</operator>

        <name pos:start="135:9" pos:end="135:16"><name pos:start="135:9" pos:end="135:11">pkt</name><operator pos:start="135:12" pos:end="135:13">-&gt;</operator><name pos:start="135:14" pos:end="135:16">dts</name></name> <operator pos:start="135:18" pos:end="135:19">!=</operator> <name pos:start="135:21" pos:end="135:34">AV_NOPTS_VALUE</name> <operator pos:start="135:36" pos:end="135:37">&amp;&amp;</operator> <name pos:start="135:39" pos:end="135:58">presentation_delayed</name></expr>)</condition> <block pos:start="135:61" pos:end="145:5">{<block_content pos:start="137:9" pos:end="143:38">

        <expr_stmt pos:start="137:9" pos:end="137:85"><expr pos:start="137:9" pos:end="137:84"><call pos:start="137:9" pos:end="137:84"><name pos:start="137:9" pos:end="137:14">av_log</name><argument_list pos:start="137:15" pos:end="137:84">(<argument pos:start="137:16" pos:end="137:16"><expr pos:start="137:16" pos:end="137:16"><name pos:start="137:16" pos:end="137:16">s</name></expr></argument>, <argument pos:start="137:19" pos:end="137:30"><expr pos:start="137:19" pos:end="137:30"><name pos:start="137:19" pos:end="137:30">AV_LOG_DEBUG</name></expr></argument>, <argument pos:start="137:33" pos:end="137:73"><expr pos:start="137:33" pos:end="137:73"><literal type="string" pos:start="137:33" pos:end="137:63">"invalid dts/pts combination %"</literal><name pos:start="137:64" pos:end="137:69">PRIi64</name><literal type="string" pos:start="137:70" pos:end="137:73">"\n"</literal></expr></argument>, <argument pos:start="137:76" pos:end="137:83"><expr pos:start="137:76" pos:end="137:83"><name pos:start="137:76" pos:end="137:83"><name pos:start="137:76" pos:end="137:78">pkt</name><operator pos:start="137:79" pos:end="137:80">-&gt;</operator><name pos:start="137:81" pos:end="137:83">dts</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="139:9" pos:end="143:38"><if pos:start="139:9" pos:end="143:38">if <condition pos:start="139:12" pos:end="141:48">(    <expr pos:start="139:17" pos:end="141:47"><call pos:start="139:17" pos:end="139:67"><name pos:start="139:17" pos:end="139:22">strcmp</name><argument_list pos:start="139:23" pos:end="139:67">(<argument pos:start="139:24" pos:end="139:39"><expr pos:start="139:24" pos:end="139:39"><name pos:start="139:24" pos:end="139:39"><name pos:start="139:24" pos:end="139:24">s</name><operator pos:start="139:25" pos:end="139:26">-&gt;</operator><name pos:start="139:27" pos:end="139:33">iformat</name><operator pos:start="139:34" pos:end="139:35">-&gt;</operator><name pos:start="139:36" pos:end="139:39">name</name></name></expr></argument>, <argument pos:start="139:42" pos:end="139:66"><expr pos:start="139:42" pos:end="139:66"><literal type="string" pos:start="139:42" pos:end="139:66">"mov,mp4,m4a,3gp,3g2,mj2"</literal></expr></argument>)</argument_list></call>

             <operator pos:start="141:14" pos:end="141:15">&amp;&amp;</operator> <call pos:start="141:17" pos:end="141:47"><name pos:start="141:17" pos:end="141:22">strcmp</name><argument_list pos:start="141:23" pos:end="141:47">(<argument pos:start="141:24" pos:end="141:39"><expr pos:start="141:24" pos:end="141:39"><name pos:start="141:24" pos:end="141:39"><name pos:start="141:24" pos:end="141:24">s</name><operator pos:start="141:25" pos:end="141:26">-&gt;</operator><name pos:start="141:27" pos:end="141:33">iformat</name><operator pos:start="141:34" pos:end="141:35">-&gt;</operator><name pos:start="141:36" pos:end="141:39">name</name></name></expr></argument>, <argument pos:start="141:42" pos:end="141:46"><expr pos:start="141:42" pos:end="141:46"><literal type="string" pos:start="141:42" pos:end="141:46">"flv"</literal></expr></argument>)</argument_list></call></expr>)</condition><block type="pseudo" pos:start="143:13" pos:end="143:38"><block_content pos:start="143:13" pos:end="143:38"> <comment type="line" pos:start="141:50" pos:end="141:110">// otherwise we discard correct timestamps for vc1-wmapro.ism</comment>

            <expr_stmt pos:start="143:13" pos:end="143:38"><expr pos:start="143:13" pos:end="143:37"><name pos:start="143:13" pos:end="143:20"><name pos:start="143:13" pos:end="143:15">pkt</name><operator pos:start="143:16" pos:end="143:17">-&gt;</operator><name pos:start="143:18" pos:end="143:20">dts</name></name> <operator pos:start="143:22" pos:end="143:22">=</operator> <name pos:start="143:24" pos:end="143:37">AV_NOPTS_VALUE</name></expr>;</expr_stmt></block_content></block></if></if_stmt>

    </block_content>}</block></if></if_stmt>



    <expr_stmt pos:start="149:5" pos:end="149:72"><expr pos:start="149:5" pos:end="149:71"><name pos:start="149:5" pos:end="149:12">duration</name> <operator pos:start="149:14" pos:end="149:14">=</operator> <macro pos:start="149:16" pos:end="149:71"><name pos:start="149:16" pos:end="149:23">av_mul_q</name><argument_list pos:start="149:24" pos:end="149:71">(<argument pos:start="149:25" pos:end="149:51">(AVRational) {pkt-&gt;duration</argument>, <argument pos:start="149:54" pos:end="149:55"><literal type="number" pos:start="149:54" pos:end="149:54">1</literal>}</argument>, <argument pos:start="149:58" pos:end="149:70">st-&gt;time_base</argument>)</argument_list></macro></expr>;</expr_stmt>

    <if_stmt pos:start="151:5" pos:end="169:5"><if pos:start="151:5" pos:end="169:5">if <condition pos:start="151:8" pos:end="151:27">(<expr pos:start="151:9" pos:end="151:26"><name pos:start="151:9" pos:end="151:21"><name pos:start="151:9" pos:end="151:11">pkt</name><operator pos:start="151:12" pos:end="151:13">-&gt;</operator><name pos:start="151:14" pos:end="151:21">duration</name></name> <operator pos:start="151:23" pos:end="151:24">==</operator> <literal type="number" pos:start="151:26" pos:end="151:26">0</literal></expr>)</condition> <block pos:start="151:29" pos:end="169:5">{<block_content pos:start="153:9" pos:end="167:9">

        <expr_stmt pos:start="153:9" pos:end="153:62"><expr pos:start="153:9" pos:end="153:61"><call pos:start="153:9" pos:end="153:61"><name pos:start="153:9" pos:end="153:33">ff_compute_frame_duration</name><argument_list pos:start="153:34" pos:end="153:61">(<argument pos:start="153:35" pos:end="153:35"><expr pos:start="153:35" pos:end="153:35"><name pos:start="153:35" pos:end="153:35">s</name></expr></argument>, <argument pos:start="153:38" pos:end="153:41"><expr pos:start="153:38" pos:end="153:41"><operator pos:start="153:38" pos:end="153:38">&amp;</operator><name pos:start="153:39" pos:end="153:41">num</name></expr></argument>, <argument pos:start="153:44" pos:end="153:47"><expr pos:start="153:44" pos:end="153:47"><operator pos:start="153:44" pos:end="153:44">&amp;</operator><name pos:start="153:45" pos:end="153:47">den</name></expr></argument>, <argument pos:start="153:50" pos:end="153:51"><expr pos:start="153:50" pos:end="153:51"><name pos:start="153:50" pos:end="153:51">st</name></expr></argument>, <argument pos:start="153:54" pos:end="153:55"><expr pos:start="153:54" pos:end="153:55"><name pos:start="153:54" pos:end="153:55">pc</name></expr></argument>, <argument pos:start="153:58" pos:end="153:60"><expr pos:start="153:58" pos:end="153:60"><name pos:start="153:58" pos:end="153:60">pkt</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="155:9" pos:end="167:9"><if pos:start="155:9" pos:end="167:9">if <condition pos:start="155:12" pos:end="155:23">(<expr pos:start="155:13" pos:end="155:22"><name pos:start="155:13" pos:end="155:15">den</name> <operator pos:start="155:17" pos:end="155:18">&amp;&amp;</operator> <name pos:start="155:20" pos:end="155:22">num</name></expr>)</condition> <block pos:start="155:25" pos:end="167:9">{<block_content pos:start="157:13" pos:end="165:58">

            <expr_stmt pos:start="157:13" pos:end="157:47"><expr pos:start="157:13" pos:end="157:46"><name pos:start="157:13" pos:end="157:20">duration</name> <operator pos:start="157:22" pos:end="157:22">=</operator> <operator pos:start="157:24" pos:end="157:24">(</operator><name pos:start="157:25" pos:end="157:34">AVRational</name><operator pos:start="157:35" pos:end="157:35">)</operator> <block pos:start="157:37" pos:end="157:46">{<expr pos:start="157:38" pos:end="157:40"><name pos:start="157:38" pos:end="157:40">num</name></expr>, <expr pos:start="157:43" pos:end="157:45"><name pos:start="157:43" pos:end="157:45">den</name></expr>}</block></expr>;</expr_stmt>

            <expr_stmt pos:start="159:13" pos:end="165:58"><expr pos:start="159:13" pos:end="165:57"><name pos:start="159:13" pos:end="159:25"><name pos:start="159:13" pos:end="159:15">pkt</name><operator pos:start="159:16" pos:end="159:17">-&gt;</operator><name pos:start="159:18" pos:end="159:25">duration</name></name> <operator pos:start="159:27" pos:end="159:27">=</operator> <call pos:start="159:29" pos:end="165:57"><name pos:start="159:29" pos:end="159:42">av_rescale_rnd</name><argument_list pos:start="159:43" pos:end="165:57">(<argument pos:start="159:44" pos:end="159:44"><expr pos:start="159:44" pos:end="159:44"><literal type="number" pos:start="159:44" pos:end="159:44">1</literal></expr></argument>,

                                           <argument pos:start="161:44" pos:end="161:76"><expr pos:start="161:44" pos:end="161:76"><name pos:start="161:44" pos:end="161:46">num</name> <operator pos:start="161:48" pos:end="161:48">*</operator> <operator pos:start="161:50" pos:end="161:50">(</operator><name pos:start="161:51" pos:end="161:57">int64_t</name><operator pos:start="161:58" pos:end="161:58">)</operator> <name pos:start="161:60" pos:end="161:76"><name pos:start="161:60" pos:end="161:61">st</name><operator pos:start="161:62" pos:end="161:63">-&gt;</operator><name pos:start="161:64" pos:end="161:72">time_base</name><operator pos:start="161:73" pos:end="161:73">.</operator><name pos:start="161:74" pos:end="161:76">den</name></name></expr></argument>,

                                           <argument pos:start="163:44" pos:end="163:76"><expr pos:start="163:44" pos:end="163:76"><name pos:start="163:44" pos:end="163:46">den</name> <operator pos:start="163:48" pos:end="163:48">*</operator> <operator pos:start="163:50" pos:end="163:50">(</operator><name pos:start="163:51" pos:end="163:57">int64_t</name><operator pos:start="163:58" pos:end="163:58">)</operator> <name pos:start="163:60" pos:end="163:76"><name pos:start="163:60" pos:end="163:61">st</name><operator pos:start="163:62" pos:end="163:63">-&gt;</operator><name pos:start="163:64" pos:end="163:72">time_base</name><operator pos:start="163:73" pos:end="163:73">.</operator><name pos:start="163:74" pos:end="163:76">num</name></name></expr></argument>,

                                           <argument pos:start="165:44" pos:end="165:56"><expr pos:start="165:44" pos:end="165:56"><name pos:start="165:44" pos:end="165:56">AV_ROUND_DOWN</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="173:5" pos:end="175:74"><if pos:start="173:5" pos:end="175:74">if <condition pos:start="173:8" pos:end="173:67">(<expr pos:start="173:9" pos:end="173:66"><name pos:start="173:9" pos:end="173:21"><name pos:start="173:9" pos:end="173:11">pkt</name><operator pos:start="173:12" pos:end="173:13">-&gt;</operator><name pos:start="173:14" pos:end="173:21">duration</name></name> <operator pos:start="173:23" pos:end="173:24">!=</operator> <literal type="number" pos:start="173:26" pos:end="173:26">0</literal> <operator pos:start="173:28" pos:end="173:29">&amp;&amp;</operator> <operator pos:start="173:31" pos:end="173:31">(</operator><name pos:start="173:32" pos:end="173:47"><name pos:start="173:32" pos:end="173:32">s</name><operator pos:start="173:33" pos:end="173:34">-&gt;</operator><name pos:start="173:35" pos:end="173:47">packet_buffer</name></name> <operator pos:start="173:49" pos:end="173:50">||</operator> <name pos:start="173:52" pos:end="173:65"><name pos:start="173:52" pos:end="173:52">s</name><operator pos:start="173:53" pos:end="173:54">-&gt;</operator><name pos:start="173:55" pos:end="173:65">parse_queue</name></name><operator pos:start="173:66" pos:end="173:66">)</operator></expr>)</condition><block type="pseudo" pos:start="175:9" pos:end="175:74"><block_content pos:start="175:9" pos:end="175:74">

        <expr_stmt pos:start="175:9" pos:end="175:74"><expr pos:start="175:9" pos:end="175:73"><call pos:start="175:9" pos:end="175:73"><name pos:start="175:9" pos:end="175:32">update_initial_durations</name><argument_list pos:start="175:33" pos:end="175:73">(<argument pos:start="175:34" pos:end="175:34"><expr pos:start="175:34" pos:end="175:34"><name pos:start="175:34" pos:end="175:34">s</name></expr></argument>, <argument pos:start="175:37" pos:end="175:38"><expr pos:start="175:37" pos:end="175:38"><name pos:start="175:37" pos:end="175:38">st</name></expr></argument>, <argument pos:start="175:41" pos:end="175:57"><expr pos:start="175:41" pos:end="175:57"><name pos:start="175:41" pos:end="175:57"><name pos:start="175:41" pos:end="175:43">pkt</name><operator pos:start="175:44" pos:end="175:45">-&gt;</operator><name pos:start="175:46" pos:end="175:57">stream_index</name></name></expr></argument>, <argument pos:start="175:60" pos:end="175:72"><expr pos:start="175:60" pos:end="175:72"><name pos:start="175:60" pos:end="175:72"><name pos:start="175:60" pos:end="175:62">pkt</name><operator pos:start="175:63" pos:end="175:64">-&gt;</operator><name pos:start="175:65" pos:end="175:72">duration</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>



    <comment type="block" pos:start="179:5" pos:end="181:30">/* Correct timestamps with byte offset if demuxers only have timestamps

     * on packet boundaries */</comment>

    <if_stmt pos:start="183:5" pos:end="197:5"><if pos:start="183:5" pos:end="197:5">if <condition pos:start="183:8" pos:end="183:73">(<expr pos:start="183:9" pos:end="183:72"><name pos:start="183:9" pos:end="183:10">pc</name> <operator pos:start="183:12" pos:end="183:13">&amp;&amp;</operator> <name pos:start="183:15" pos:end="183:30"><name pos:start="183:15" pos:end="183:16">st</name><operator pos:start="183:17" pos:end="183:18">-&gt;</operator><name pos:start="183:19" pos:end="183:30">need_parsing</name></name> <operator pos:start="183:32" pos:end="183:33">==</operator> <name pos:start="183:35" pos:end="183:59">AVSTREAM_PARSE_TIMESTAMPS</name> <operator pos:start="183:61" pos:end="183:62">&amp;&amp;</operator> <name pos:start="183:64" pos:end="183:72"><name pos:start="183:64" pos:end="183:66">pkt</name><operator pos:start="183:67" pos:end="183:68">-&gt;</operator><name pos:start="183:69" pos:end="183:72">size</name></name></expr>)</condition> <block pos:start="183:75" pos:end="197:5">{<block_content pos:start="187:9" pos:end="195:31">

        <comment type="block" pos:start="185:9" pos:end="185:80">/* this will estimate bitrate based on this frame's duration and size */</comment>

        <expr_stmt pos:start="187:9" pos:end="187:66"><expr pos:start="187:9" pos:end="187:65"><name pos:start="187:9" pos:end="187:14">offset</name> <operator pos:start="187:16" pos:end="187:16">=</operator> <call pos:start="187:18" pos:end="187:65"><name pos:start="187:18" pos:end="187:27">av_rescale</name><argument_list pos:start="187:28" pos:end="187:65">(<argument pos:start="187:29" pos:end="187:38"><expr pos:start="187:29" pos:end="187:38"><name pos:start="187:29" pos:end="187:38"><name pos:start="187:29" pos:end="187:30">pc</name><operator pos:start="187:31" pos:end="187:32">-&gt;</operator><name pos:start="187:33" pos:end="187:38">offset</name></name></expr></argument>, <argument pos:start="187:41" pos:end="187:53"><expr pos:start="187:41" pos:end="187:53"><name pos:start="187:41" pos:end="187:53"><name pos:start="187:41" pos:end="187:43">pkt</name><operator pos:start="187:44" pos:end="187:45">-&gt;</operator><name pos:start="187:46" pos:end="187:53">duration</name></name></expr></argument>, <argument pos:start="187:56" pos:end="187:64"><expr pos:start="187:56" pos:end="187:64"><name pos:start="187:56" pos:end="187:64"><name pos:start="187:56" pos:end="187:58">pkt</name><operator pos:start="187:59" pos:end="187:60">-&gt;</operator><name pos:start="187:61" pos:end="187:64">size</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="189:9" pos:end="191:31"><if pos:start="189:9" pos:end="191:31">if <condition pos:start="189:12" pos:end="189:39">(<expr pos:start="189:13" pos:end="189:38"><name pos:start="189:13" pos:end="189:20"><name pos:start="189:13" pos:end="189:15">pkt</name><operator pos:start="189:16" pos:end="189:17">-&gt;</operator><name pos:start="189:18" pos:end="189:20">pts</name></name> <operator pos:start="189:22" pos:end="189:23">!=</operator> <name pos:start="189:25" pos:end="189:38">AV_NOPTS_VALUE</name></expr>)</condition><block type="pseudo" pos:start="191:13" pos:end="191:31"><block_content pos:start="191:13" pos:end="191:31">

            <expr_stmt pos:start="191:13" pos:end="191:31"><expr pos:start="191:13" pos:end="191:30"><name pos:start="191:13" pos:end="191:20"><name pos:start="191:13" pos:end="191:15">pkt</name><operator pos:start="191:16" pos:end="191:17">-&gt;</operator><name pos:start="191:18" pos:end="191:20">pts</name></name> <operator pos:start="191:22" pos:end="191:23">+=</operator> <name pos:start="191:25" pos:end="191:30">offset</name></expr>;</expr_stmt></block_content></block></if></if_stmt>

        <if_stmt pos:start="193:9" pos:end="195:31"><if pos:start="193:9" pos:end="195:31">if <condition pos:start="193:12" pos:end="193:39">(<expr pos:start="193:13" pos:end="193:38"><name pos:start="193:13" pos:end="193:20"><name pos:start="193:13" pos:end="193:15">pkt</name><operator pos:start="193:16" pos:end="193:17">-&gt;</operator><name pos:start="193:18" pos:end="193:20">dts</name></name> <operator pos:start="193:22" pos:end="193:23">!=</operator> <name pos:start="193:25" pos:end="193:38">AV_NOPTS_VALUE</name></expr>)</condition><block type="pseudo" pos:start="195:13" pos:end="195:31"><block_content pos:start="195:13" pos:end="195:31">

            <expr_stmt pos:start="195:13" pos:end="195:31"><expr pos:start="195:13" pos:end="195:30"><name pos:start="195:13" pos:end="195:20"><name pos:start="195:13" pos:end="195:15">pkt</name><operator pos:start="195:16" pos:end="195:17">-&gt;</operator><name pos:start="195:18" pos:end="195:20">dts</name></name> <operator pos:start="195:22" pos:end="195:23">+=</operator> <name pos:start="195:25" pos:end="195:30">offset</name></expr>;</expr_stmt></block_content></block></if></if_stmt>

    </block_content>}</block></if></if_stmt>



    <comment type="block" pos:start="201:5" pos:end="201:56">/* This may be redundant, but it should not hurt. */</comment>

    <if_stmt pos:start="203:5" pos:end="209:33"><if pos:start="203:5" pos:end="209:33">if <condition pos:start="203:8" pos:end="207:28">(<expr pos:start="203:9" pos:end="207:27"><name pos:start="203:9" pos:end="203:16"><name pos:start="203:9" pos:end="203:11">pkt</name><operator pos:start="203:12" pos:end="203:13">-&gt;</operator><name pos:start="203:14" pos:end="203:16">dts</name></name> <operator pos:start="203:18" pos:end="203:19">!=</operator> <name pos:start="203:21" pos:end="203:34">AV_NOPTS_VALUE</name> <operator pos:start="203:36" pos:end="203:37">&amp;&amp;</operator>

        <name pos:start="205:9" pos:end="205:16"><name pos:start="205:9" pos:end="205:11">pkt</name><operator pos:start="205:12" pos:end="205:13">-&gt;</operator><name pos:start="205:14" pos:end="205:16">pts</name></name> <operator pos:start="205:18" pos:end="205:19">!=</operator> <name pos:start="205:21" pos:end="205:34">AV_NOPTS_VALUE</name> <operator pos:start="205:36" pos:end="205:37">&amp;&amp;</operator>

        <name pos:start="207:9" pos:end="207:16"><name pos:start="207:9" pos:end="207:11">pkt</name><operator pos:start="207:12" pos:end="207:13">-&gt;</operator><name pos:start="207:14" pos:end="207:16">pts</name></name> <operator pos:start="207:18" pos:end="207:18">&gt;</operator> <name pos:start="207:20" pos:end="207:27"><name pos:start="207:20" pos:end="207:22">pkt</name><operator pos:start="207:23" pos:end="207:24">-&gt;</operator><name pos:start="207:25" pos:end="207:27">dts</name></name></expr>)</condition><block type="pseudo" pos:start="209:9" pos:end="209:33"><block_content pos:start="209:9" pos:end="209:33">

        <expr_stmt pos:start="209:9" pos:end="209:33"><expr pos:start="209:9" pos:end="209:32"><name pos:start="209:9" pos:end="209:28">presentation_delayed</name> <operator pos:start="209:30" pos:end="209:30">=</operator> <literal type="number" pos:start="209:32" pos:end="209:32">1</literal></expr>;</expr_stmt></block_content></block></if></if_stmt>



    <expr_stmt pos:start="213:5" pos:end="219:71"><expr pos:start="213:5" pos:end="219:70"><call pos:start="213:5" pos:end="219:70"><name pos:start="213:5" pos:end="213:11">av_dlog</name><argument_list pos:start="213:12" pos:end="219:70">(<argument pos:start="213:13" pos:end="213:16"><expr pos:start="213:13" pos:end="213:16"><name pos:start="213:13" pos:end="213:16">NULL</name></expr></argument>,

            <argument pos:start="215:13" pos:end="215:104"><expr pos:start="215:13" pos:end="215:104"><literal type="string" pos:start="215:13" pos:end="215:104">"IN delayed:%d pts:%s, dts:%s cur_dts:%s st:%d pc:%p duration:%d delay:%d onein_oneout:%d\n"</literal></expr></argument>,

            <argument pos:start="217:13" pos:end="217:32"><expr pos:start="217:13" pos:end="217:32"><name pos:start="217:13" pos:end="217:32">presentation_delayed</name></expr></argument>, <argument pos:start="217:35" pos:end="217:53"><expr pos:start="217:35" pos:end="217:53"><call pos:start="217:35" pos:end="217:53"><name pos:start="217:35" pos:end="217:43">av_ts2str</name><argument_list pos:start="217:44" pos:end="217:53">(<argument pos:start="217:45" pos:end="217:52"><expr pos:start="217:45" pos:end="217:52"><name pos:start="217:45" pos:end="217:52"><name pos:start="217:45" pos:end="217:47">pkt</name><operator pos:start="217:48" pos:end="217:49">-&gt;</operator><name pos:start="217:50" pos:end="217:52">pts</name></name></expr></argument>)</argument_list></call></expr></argument>, <argument pos:start="217:56" pos:end="217:74"><expr pos:start="217:56" pos:end="217:74"><call pos:start="217:56" pos:end="217:74"><name pos:start="217:56" pos:end="217:64">av_ts2str</name><argument_list pos:start="217:65" pos:end="217:74">(<argument pos:start="217:66" pos:end="217:73"><expr pos:start="217:66" pos:end="217:73"><name pos:start="217:66" pos:end="217:73"><name pos:start="217:66" pos:end="217:68">pkt</name><operator pos:start="217:69" pos:end="217:70">-&gt;</operator><name pos:start="217:71" pos:end="217:73">dts</name></name></expr></argument>)</argument_list></call></expr></argument>, <argument pos:start="217:77" pos:end="217:98"><expr pos:start="217:77" pos:end="217:98"><call pos:start="217:77" pos:end="217:98"><name pos:start="217:77" pos:end="217:85">av_ts2str</name><argument_list pos:start="217:86" pos:end="217:98">(<argument pos:start="217:87" pos:end="217:97"><expr pos:start="217:87" pos:end="217:97"><name pos:start="217:87" pos:end="217:97"><name pos:start="217:87" pos:end="217:88">st</name><operator pos:start="217:89" pos:end="217:90">-&gt;</operator><name pos:start="217:91" pos:end="217:97">cur_dts</name></name></expr></argument>)</argument_list></call></expr></argument>,

            <argument pos:start="219:13" pos:end="219:29"><expr pos:start="219:13" pos:end="219:29"><name pos:start="219:13" pos:end="219:29"><name pos:start="219:13" pos:end="219:15">pkt</name><operator pos:start="219:16" pos:end="219:17">-&gt;</operator><name pos:start="219:18" pos:end="219:29">stream_index</name></name></expr></argument>, <argument pos:start="219:32" pos:end="219:33"><expr pos:start="219:32" pos:end="219:33"><name pos:start="219:32" pos:end="219:33">pc</name></expr></argument>, <argument pos:start="219:36" pos:end="219:48"><expr pos:start="219:36" pos:end="219:48"><name pos:start="219:36" pos:end="219:48"><name pos:start="219:36" pos:end="219:38">pkt</name><operator pos:start="219:39" pos:end="219:40">-&gt;</operator><name pos:start="219:41" pos:end="219:48">duration</name></name></expr></argument>, <argument pos:start="219:51" pos:end="219:55"><expr pos:start="219:51" pos:end="219:55"><name pos:start="219:51" pos:end="219:55">delay</name></expr></argument>, <argument pos:start="219:58" pos:end="219:69"><expr pos:start="219:58" pos:end="219:69"><name pos:start="219:58" pos:end="219:69">onein_oneout</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <comment type="block" pos:start="221:5" pos:end="223:72">/* Interpolate PTS and DTS if they are not present. We skip H264

     * currently because delay and has_b_frames are not reliably set. */</comment>

    <if_stmt pos:start="225:5" pos:end="313:5"><if pos:start="225:5" pos:end="313:5">if <condition pos:start="225:8" pos:end="227:21">(<expr pos:start="225:9" pos:end="227:20"><operator pos:start="225:9" pos:end="225:9">(</operator><name pos:start="225:10" pos:end="225:14">delay</name> <operator pos:start="225:16" pos:end="225:17">==</operator> <literal type="number" pos:start="225:19" pos:end="225:19">0</literal> <operator pos:start="225:21" pos:end="225:22">||</operator> <operator pos:start="225:24" pos:end="225:24">(</operator><name pos:start="225:25" pos:end="225:29">delay</name> <operator pos:start="225:31" pos:end="225:32">==</operator> <literal type="number" pos:start="225:34" pos:end="225:34">1</literal> <operator pos:start="225:36" pos:end="225:37">&amp;&amp;</operator> <name pos:start="225:39" pos:end="225:40">pc</name><operator pos:start="225:41" pos:end="225:41">)</operator><operator pos:start="225:42" pos:end="225:42">)</operator> <operator pos:start="225:44" pos:end="225:45">&amp;&amp;</operator>

        <name pos:start="227:9" pos:end="227:20">onein_oneout</name></expr>)</condition> <block pos:start="227:23" pos:end="313:5">{<block_content pos:start="229:9" pos:end="311:9">

        <if_stmt pos:start="229:9" pos:end="311:9"><if pos:start="229:9" pos:end="283:9">if <condition pos:start="229:12" pos:end="229:33">(<expr pos:start="229:13" pos:end="229:32"><name pos:start="229:13" pos:end="229:32">presentation_delayed</name></expr>)</condition> <block pos:start="229:35" pos:end="283:9">{<block_content pos:start="235:13" pos:end="277:44">

            <comment type="block" pos:start="231:13" pos:end="231:47">/* DTS = decompression timestamp */</comment>

            <comment type="block" pos:start="233:13" pos:end="233:46">/* PTS = presentation timestamp */</comment>

            <if_stmt pos:start="235:13" pos:end="237:43"><if pos:start="235:13" pos:end="237:43">if <condition pos:start="235:16" pos:end="235:43">(<expr pos:start="235:17" pos:end="235:42"><name pos:start="235:17" pos:end="235:24"><name pos:start="235:17" pos:end="235:19">pkt</name><operator pos:start="235:20" pos:end="235:21">-&gt;</operator><name pos:start="235:22" pos:end="235:24">dts</name></name> <operator pos:start="235:26" pos:end="235:27">==</operator> <name pos:start="235:29" pos:end="235:42">AV_NOPTS_VALUE</name></expr>)</condition><block type="pseudo" pos:start="237:17" pos:end="237:43"><block_content pos:start="237:17" pos:end="237:43">

                <expr_stmt pos:start="237:17" pos:end="237:43"><expr pos:start="237:17" pos:end="237:42"><name pos:start="237:17" pos:end="237:24"><name pos:start="237:17" pos:end="237:19">pkt</name><operator pos:start="237:20" pos:end="237:21">-&gt;</operator><name pos:start="237:22" pos:end="237:24">dts</name></name> <operator pos:start="237:26" pos:end="237:26">=</operator> <name pos:start="237:28" pos:end="237:42"><name pos:start="237:28" pos:end="237:29">st</name><operator pos:start="237:30" pos:end="237:31">-&gt;</operator><name pos:start="237:32" pos:end="237:42">last_IP_pts</name></name></expr>;</expr_stmt></block_content></block></if></if_stmt>

            <expr_stmt pos:start="239:13" pos:end="239:85"><expr pos:start="239:13" pos:end="239:84"><call pos:start="239:13" pos:end="239:84"><name pos:start="239:13" pos:end="239:37">update_initial_timestamps</name><argument_list pos:start="239:38" pos:end="239:84">(<argument pos:start="239:39" pos:end="239:39"><expr pos:start="239:39" pos:end="239:39"><name pos:start="239:39" pos:end="239:39">s</name></expr></argument>, <argument pos:start="239:42" pos:end="239:58"><expr pos:start="239:42" pos:end="239:58"><name pos:start="239:42" pos:end="239:58"><name pos:start="239:42" pos:end="239:44">pkt</name><operator pos:start="239:45" pos:end="239:46">-&gt;</operator><name pos:start="239:47" pos:end="239:58">stream_index</name></name></expr></argument>, <argument pos:start="239:61" pos:end="239:68"><expr pos:start="239:61" pos:end="239:68"><name pos:start="239:61" pos:end="239:68"><name pos:start="239:61" pos:end="239:63">pkt</name><operator pos:start="239:64" pos:end="239:65">-&gt;</operator><name pos:start="239:66" pos:end="239:68">dts</name></name></expr></argument>, <argument pos:start="239:71" pos:end="239:78"><expr pos:start="239:71" pos:end="239:78"><name pos:start="239:71" pos:end="239:78"><name pos:start="239:71" pos:end="239:73">pkt</name><operator pos:start="239:74" pos:end="239:75">-&gt;</operator><name pos:start="239:76" pos:end="239:78">pts</name></name></expr></argument>, <argument pos:start="239:81" pos:end="239:83"><expr pos:start="239:81" pos:end="239:83"><name pos:start="239:81" pos:end="239:83">pkt</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <if_stmt pos:start="241:13" pos:end="243:39"><if pos:start="241:13" pos:end="243:39">if <condition pos:start="241:16" pos:end="241:43">(<expr pos:start="241:17" pos:end="241:42"><name pos:start="241:17" pos:end="241:24"><name pos:start="241:17" pos:end="241:19">pkt</name><operator pos:start="241:20" pos:end="241:21">-&gt;</operator><name pos:start="241:22" pos:end="241:24">dts</name></name> <operator pos:start="241:26" pos:end="241:27">==</operator> <name pos:start="241:29" pos:end="241:42">AV_NOPTS_VALUE</name></expr>)</condition><block type="pseudo" pos:start="243:17" pos:end="243:39"><block_content pos:start="243:17" pos:end="243:39">

                <expr_stmt pos:start="243:17" pos:end="243:39"><expr pos:start="243:17" pos:end="243:38"><name pos:start="243:17" pos:end="243:24"><name pos:start="243:17" pos:end="243:19">pkt</name><operator pos:start="243:20" pos:end="243:21">-&gt;</operator><name pos:start="243:22" pos:end="243:24">dts</name></name> <operator pos:start="243:26" pos:end="243:26">=</operator> <name pos:start="243:28" pos:end="243:38"><name pos:start="243:28" pos:end="243:29">st</name><operator pos:start="243:30" pos:end="243:31">-&gt;</operator><name pos:start="243:32" pos:end="243:38">cur_dts</name></name></expr>;</expr_stmt></block_content></block></if></if_stmt>



            <comment type="block" pos:start="247:13" pos:end="249:78">/* This is tricky: the dts must be incremented by the duration

             * of the frame we are displaying, i.e. the last I- or P-frame. */</comment>

            <if_stmt pos:start="251:13" pos:end="253:53"><if pos:start="251:13" pos:end="253:53">if <condition pos:start="251:16" pos:end="251:42">(<expr pos:start="251:17" pos:end="251:41"><name pos:start="251:17" pos:end="251:36"><name pos:start="251:17" pos:end="251:18">st</name><operator pos:start="251:19" pos:end="251:20">-&gt;</operator><name pos:start="251:21" pos:end="251:36">last_IP_duration</name></name> <operator pos:start="251:38" pos:end="251:39">==</operator> <literal type="number" pos:start="251:41" pos:end="251:41">0</literal></expr>)</condition><block type="pseudo" pos:start="253:17" pos:end="253:53"><block_content pos:start="253:17" pos:end="253:53">

                <expr_stmt pos:start="253:17" pos:end="253:53"><expr pos:start="253:17" pos:end="253:52"><name pos:start="253:17" pos:end="253:36"><name pos:start="253:17" pos:end="253:18">st</name><operator pos:start="253:19" pos:end="253:20">-&gt;</operator><name pos:start="253:21" pos:end="253:36">last_IP_duration</name></name> <operator pos:start="253:38" pos:end="253:38">=</operator> <name pos:start="253:40" pos:end="253:52"><name pos:start="253:40" pos:end="253:42">pkt</name><operator pos:start="253:43" pos:end="253:44">-&gt;</operator><name pos:start="253:45" pos:end="253:52">duration</name></name></expr>;</expr_stmt></block_content></block></if></if_stmt>

            <if_stmt pos:start="255:13" pos:end="257:62"><if pos:start="255:13" pos:end="257:62">if <condition pos:start="255:16" pos:end="255:43">(<expr pos:start="255:17" pos:end="255:42"><name pos:start="255:17" pos:end="255:24"><name pos:start="255:17" pos:end="255:19">pkt</name><operator pos:start="255:20" pos:end="255:21">-&gt;</operator><name pos:start="255:22" pos:end="255:24">dts</name></name> <operator pos:start="255:26" pos:end="255:27">!=</operator> <name pos:start="255:29" pos:end="255:42">AV_NOPTS_VALUE</name></expr>)</condition><block type="pseudo" pos:start="257:17" pos:end="257:62"><block_content pos:start="257:17" pos:end="257:62">

                <expr_stmt pos:start="257:17" pos:end="257:62"><expr pos:start="257:17" pos:end="257:61"><name pos:start="257:17" pos:end="257:27"><name pos:start="257:17" pos:end="257:18">st</name><operator pos:start="257:19" pos:end="257:20">-&gt;</operator><name pos:start="257:21" pos:end="257:27">cur_dts</name></name> <operator pos:start="257:29" pos:end="257:29">=</operator> <name pos:start="257:31" pos:end="257:38"><name pos:start="257:31" pos:end="257:33">pkt</name><operator pos:start="257:34" pos:end="257:35">-&gt;</operator><name pos:start="257:36" pos:end="257:38">dts</name></name> <operator pos:start="257:40" pos:end="257:40">+</operator> <name pos:start="257:42" pos:end="257:61"><name pos:start="257:42" pos:end="257:43">st</name><operator pos:start="257:44" pos:end="257:45">-&gt;</operator><name pos:start="257:46" pos:end="257:61">last_IP_duration</name></name></expr>;</expr_stmt></block_content></block></if></if_stmt>

            <if_stmt pos:start="259:13" pos:end="271:36"><if pos:start="259:13" pos:end="271:36">if <condition pos:start="259:16" pos:end="269:43">(<expr pos:start="259:17" pos:end="269:42"><name pos:start="259:17" pos:end="259:24"><name pos:start="259:17" pos:end="259:19">pkt</name><operator pos:start="259:20" pos:end="259:21">-&gt;</operator><name pos:start="259:22" pos:end="259:24">dts</name></name> <operator pos:start="259:26" pos:end="259:27">!=</operator> <name pos:start="259:29" pos:end="259:42">AV_NOPTS_VALUE</name> <operator pos:start="259:44" pos:end="259:45">&amp;&amp;</operator>

                <name pos:start="261:17" pos:end="261:24"><name pos:start="261:17" pos:end="261:19">pkt</name><operator pos:start="261:20" pos:end="261:21">-&gt;</operator><name pos:start="261:22" pos:end="261:24">pts</name></name> <operator pos:start="261:26" pos:end="261:27">==</operator> <name pos:start="261:29" pos:end="261:42">AV_NOPTS_VALUE</name> <operator pos:start="261:44" pos:end="261:45">&amp;&amp;</operator>

                <name pos:start="263:17" pos:end="263:36"><name pos:start="263:17" pos:end="263:18">st</name><operator pos:start="263:19" pos:end="263:20">-&gt;</operator><name pos:start="263:21" pos:end="263:36">last_IP_duration</name></name> <operator pos:start="263:38" pos:end="263:38">&gt;</operator> <literal type="number" pos:start="263:40" pos:end="263:40">0</literal> <operator pos:start="263:42" pos:end="263:43">&amp;&amp;</operator>

                <operator pos:start="265:17" pos:end="265:17">(</operator><name pos:start="265:18" pos:end="265:28"><name pos:start="265:18" pos:end="265:19">st</name><operator pos:start="265:20" pos:end="265:21">-&gt;</operator><name pos:start="265:22" pos:end="265:28">cur_dts</name></name> <operator pos:start="265:30" pos:end="265:30">-</operator> <name pos:start="265:32" pos:end="265:39">next_dts</name><operator pos:start="265:40" pos:end="265:40">)</operator> <operator pos:start="265:42" pos:end="265:43">&lt;=</operator> <literal type="number" pos:start="265:45" pos:end="265:45">1</literal> <operator pos:start="265:47" pos:end="265:48">&amp;&amp;</operator>

                <name pos:start="267:17" pos:end="267:24">next_dts</name> <operator pos:start="267:26" pos:end="267:27">!=</operator> <name pos:start="267:29" pos:end="267:36">next_pts</name> <operator pos:start="267:38" pos:end="267:39">&amp;&amp;</operator>

                <name pos:start="269:17" pos:end="269:24">next_pts</name> <operator pos:start="269:26" pos:end="269:27">!=</operator> <name pos:start="269:29" pos:end="269:42">AV_NOPTS_VALUE</name></expr>)</condition><block type="pseudo" pos:start="271:17" pos:end="271:36"><block_content pos:start="271:17" pos:end="271:36">

                <expr_stmt pos:start="271:17" pos:end="271:36"><expr pos:start="271:17" pos:end="271:35"><name pos:start="271:17" pos:end="271:24"><name pos:start="271:17" pos:end="271:19">pkt</name><operator pos:start="271:20" pos:end="271:21">-&gt;</operator><name pos:start="271:22" pos:end="271:24">pts</name></name> <operator pos:start="271:26" pos:end="271:26">=</operator> <name pos:start="271:28" pos:end="271:35">next_dts</name></expr>;</expr_stmt></block_content></block></if></if_stmt>



            <expr_stmt pos:start="275:13" pos:end="275:49"><expr pos:start="275:13" pos:end="275:48"><name pos:start="275:13" pos:end="275:32"><name pos:start="275:13" pos:end="275:14">st</name><operator pos:start="275:15" pos:end="275:16">-&gt;</operator><name pos:start="275:17" pos:end="275:32">last_IP_duration</name></name> <operator pos:start="275:34" pos:end="275:34">=</operator> <name pos:start="275:36" pos:end="275:48"><name pos:start="275:36" pos:end="275:38">pkt</name><operator pos:start="275:39" pos:end="275:40">-&gt;</operator><name pos:start="275:41" pos:end="275:48">duration</name></name></expr>;</expr_stmt>

            <expr_stmt pos:start="277:13" pos:end="277:44"><expr pos:start="277:13" pos:end="277:43"><name pos:start="277:13" pos:end="277:27"><name pos:start="277:13" pos:end="277:14">st</name><operator pos:start="277:15" pos:end="277:16">-&gt;</operator><name pos:start="277:17" pos:end="277:27">last_IP_pts</name></name>      <operator pos:start="277:34" pos:end="277:34">=</operator> <name pos:start="277:36" pos:end="277:43"><name pos:start="277:36" pos:end="277:38">pkt</name><operator pos:start="277:39" pos:end="277:40">-&gt;</operator><name pos:start="277:41" pos:end="277:43">pts</name></name></expr>;</expr_stmt>

            <comment type="block" pos:start="279:13" pos:end="281:40">/* Cannot compute PTS if not present (we can compute it only

             * by knowing the future. */</comment>

        </block_content>}</block></if> <if type="elseif" pos:start="283:11" pos:end="311:9">else if <condition pos:start="283:19" pos:end="287:49">(<expr pos:start="283:20" pos:end="287:32"><name pos:start="283:20" pos:end="283:27"><name pos:start="283:20" pos:end="283:22">pkt</name><operator pos:start="283:23" pos:end="283:24">-&gt;</operator><name pos:start="283:25" pos:end="283:27">pts</name></name> <operator pos:start="283:29" pos:end="283:30">!=</operator> <name pos:start="283:32" pos:end="283:45">AV_NOPTS_VALUE</name> <operator pos:start="283:47" pos:end="283:48">||</operator>

                   <name pos:start="285:20" pos:end="285:27"><name pos:start="285:20" pos:end="285:22">pkt</name><operator pos:start="285:23" pos:end="285:24">-&gt;</operator><name pos:start="285:25" pos:end="285:27">dts</name></name> <operator pos:start="285:29" pos:end="285:30">!=</operator> <name pos:start="285:32" pos:end="285:45">AV_NOPTS_VALUE</name> <operator pos:start="285:47" pos:end="285:48">||</operator>

                   <name pos:start="287:20" pos:end="287:32"><name pos:start="287:20" pos:end="287:22">pkt</name><operator pos:start="287:23" pos:end="287:24">-&gt;</operator><name pos:start="287:25" pos:end="287:32">duration</name></name></expr>                )</condition> <block pos:start="287:51" pos:end="311:9">{<block_content pos:start="293:13" pos:end="309:82">



            <comment type="block" pos:start="291:13" pos:end="291:72">/* presentation is not delayed : PTS and DTS are the same */</comment>

            <if_stmt pos:start="293:13" pos:end="295:36"><if pos:start="293:13" pos:end="295:36">if <condition pos:start="293:16" pos:end="293:43">(<expr pos:start="293:17" pos:end="293:42"><name pos:start="293:17" pos:end="293:24"><name pos:start="293:17" pos:end="293:19">pkt</name><operator pos:start="293:20" pos:end="293:21">-&gt;</operator><name pos:start="293:22" pos:end="293:24">pts</name></name> <operator pos:start="293:26" pos:end="293:27">==</operator> <name pos:start="293:29" pos:end="293:42">AV_NOPTS_VALUE</name></expr>)</condition><block type="pseudo" pos:start="295:17" pos:end="295:36"><block_content pos:start="295:17" pos:end="295:36">

                <expr_stmt pos:start="295:17" pos:end="295:36"><expr pos:start="295:17" pos:end="295:35"><name pos:start="295:17" pos:end="295:24"><name pos:start="295:17" pos:end="295:19">pkt</name><operator pos:start="295:20" pos:end="295:21">-&gt;</operator><name pos:start="295:22" pos:end="295:24">pts</name></name> <operator pos:start="295:26" pos:end="295:26">=</operator> <name pos:start="295:28" pos:end="295:35"><name pos:start="295:28" pos:end="295:30">pkt</name><operator pos:start="295:31" pos:end="295:32">-&gt;</operator><name pos:start="295:33" pos:end="295:35">dts</name></name></expr>;</expr_stmt></block_content></block></if></if_stmt>

            <expr_stmt pos:start="297:13" pos:end="299:53"><expr pos:start="297:13" pos:end="299:52"><call pos:start="297:13" pos:end="299:52"><name pos:start="297:13" pos:end="297:37">update_initial_timestamps</name><argument_list pos:start="297:38" pos:end="299:52">(<argument pos:start="297:39" pos:end="297:39"><expr pos:start="297:39" pos:end="297:39"><name pos:start="297:39" pos:end="297:39">s</name></expr></argument>, <argument pos:start="297:42" pos:end="297:58"><expr pos:start="297:42" pos:end="297:58"><name pos:start="297:42" pos:end="297:58"><name pos:start="297:42" pos:end="297:44">pkt</name><operator pos:start="297:45" pos:end="297:46">-&gt;</operator><name pos:start="297:47" pos:end="297:58">stream_index</name></name></expr></argument>, <argument pos:start="297:61" pos:end="297:68"><expr pos:start="297:61" pos:end="297:68"><name pos:start="297:61" pos:end="297:68"><name pos:start="297:61" pos:end="297:63">pkt</name><operator pos:start="297:64" pos:end="297:65">-&gt;</operator><name pos:start="297:66" pos:end="297:68">pts</name></name></expr></argument>,

                                      <argument pos:start="299:39" pos:end="299:46"><expr pos:start="299:39" pos:end="299:46"><name pos:start="299:39" pos:end="299:46"><name pos:start="299:39" pos:end="299:41">pkt</name><operator pos:start="299:42" pos:end="299:43">-&gt;</operator><name pos:start="299:44" pos:end="299:46">pts</name></name></expr></argument>, <argument pos:start="299:49" pos:end="299:51"><expr pos:start="299:49" pos:end="299:51"><name pos:start="299:49" pos:end="299:51">pkt</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <if_stmt pos:start="301:13" pos:end="303:39"><if pos:start="301:13" pos:end="303:39">if <condition pos:start="301:16" pos:end="301:43">(<expr pos:start="301:17" pos:end="301:42"><name pos:start="301:17" pos:end="301:24"><name pos:start="301:17" pos:end="301:19">pkt</name><operator pos:start="301:20" pos:end="301:21">-&gt;</operator><name pos:start="301:22" pos:end="301:24">pts</name></name> <operator pos:start="301:26" pos:end="301:27">==</operator> <name pos:start="301:29" pos:end="301:42">AV_NOPTS_VALUE</name></expr>)</condition><block type="pseudo" pos:start="303:17" pos:end="303:39"><block_content pos:start="303:17" pos:end="303:39">

                <expr_stmt pos:start="303:17" pos:end="303:39"><expr pos:start="303:17" pos:end="303:38"><name pos:start="303:17" pos:end="303:24"><name pos:start="303:17" pos:end="303:19">pkt</name><operator pos:start="303:20" pos:end="303:21">-&gt;</operator><name pos:start="303:22" pos:end="303:24">pts</name></name> <operator pos:start="303:26" pos:end="303:26">=</operator> <name pos:start="303:28" pos:end="303:38"><name pos:start="303:28" pos:end="303:29">st</name><operator pos:start="303:30" pos:end="303:31">-&gt;</operator><name pos:start="303:32" pos:end="303:38">cur_dts</name></name></expr>;</expr_stmt></block_content></block></if></if_stmt>

            <expr_stmt pos:start="305:13" pos:end="305:32"><expr pos:start="305:13" pos:end="305:31"><name pos:start="305:13" pos:end="305:20"><name pos:start="305:13" pos:end="305:15">pkt</name><operator pos:start="305:16" pos:end="305:17">-&gt;</operator><name pos:start="305:18" pos:end="305:20">dts</name></name> <operator pos:start="305:22" pos:end="305:22">=</operator> <name pos:start="305:24" pos:end="305:31"><name pos:start="305:24" pos:end="305:26">pkt</name><operator pos:start="305:27" pos:end="305:28">-&gt;</operator><name pos:start="305:29" pos:end="305:31">pts</name></name></expr>;</expr_stmt>

            <if_stmt pos:start="307:13" pos:end="309:82"><if pos:start="307:13" pos:end="309:82">if <condition pos:start="307:16" pos:end="307:43">(<expr pos:start="307:17" pos:end="307:42"><name pos:start="307:17" pos:end="307:24"><name pos:start="307:17" pos:end="307:19">pkt</name><operator pos:start="307:20" pos:end="307:21">-&gt;</operator><name pos:start="307:22" pos:end="307:24">pts</name></name> <operator pos:start="307:26" pos:end="307:27">!=</operator> <name pos:start="307:29" pos:end="307:42">AV_NOPTS_VALUE</name></expr>)</condition><block type="pseudo" pos:start="309:17" pos:end="309:82"><block_content pos:start="309:17" pos:end="309:82">

                <expr_stmt pos:start="309:17" pos:end="309:82"><expr pos:start="309:17" pos:end="309:81"><name pos:start="309:17" pos:end="309:27"><name pos:start="309:17" pos:end="309:18">st</name><operator pos:start="309:19" pos:end="309:20">-&gt;</operator><name pos:start="309:21" pos:end="309:27">cur_dts</name></name> <operator pos:start="309:29" pos:end="309:29">=</operator> <call pos:start="309:31" pos:end="309:81"><name pos:start="309:31" pos:end="309:43">av_add_stable</name><argument_list pos:start="309:44" pos:end="309:81">(<argument pos:start="309:45" pos:end="309:57"><expr pos:start="309:45" pos:end="309:57"><name pos:start="309:45" pos:end="309:57"><name pos:start="309:45" pos:end="309:46">st</name><operator pos:start="309:47" pos:end="309:48">-&gt;</operator><name pos:start="309:49" pos:end="309:57">time_base</name></name></expr></argument>, <argument pos:start="309:60" pos:end="309:67"><expr pos:start="309:60" pos:end="309:67"><name pos:start="309:60" pos:end="309:67"><name pos:start="309:60" pos:end="309:62">pkt</name><operator pos:start="309:63" pos:end="309:64">-&gt;</operator><name pos:start="309:65" pos:end="309:67">pts</name></name></expr></argument>, <argument pos:start="309:70" pos:end="309:77"><expr pos:start="309:70" pos:end="309:77"><name pos:start="309:70" pos:end="309:77">duration</name></expr></argument>, <argument pos:start="309:80" pos:end="309:80"><expr pos:start="309:80" pos:end="309:80"><literal type="number" pos:start="309:80" pos:end="309:80">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="317:5" pos:end="329:5"><if pos:start="317:5" pos:end="329:5">if <condition pos:start="317:8" pos:end="317:102">(<expr pos:start="317:9" pos:end="317:101"><name pos:start="317:9" pos:end="317:16"><name pos:start="317:9" pos:end="317:11">pkt</name><operator pos:start="317:12" pos:end="317:13">-&gt;</operator><name pos:start="317:14" pos:end="317:16">pts</name></name> <operator pos:start="317:18" pos:end="317:19">!=</operator> <name pos:start="317:21" pos:end="317:34">AV_NOPTS_VALUE</name> <operator pos:start="317:36" pos:end="317:37">&amp;&amp;</operator> <name pos:start="317:39" pos:end="317:43">delay</name> <operator pos:start="317:45" pos:end="317:46">&lt;=</operator> <name pos:start="317:48" pos:end="317:64">MAX_REORDER_DELAY</name> <operator pos:start="317:66" pos:end="317:67">&amp;&amp;</operator> <call pos:start="317:69" pos:end="317:101"><name pos:start="317:69" pos:end="317:97">has_decode_delay_been_guessed</name><argument_list pos:start="317:98" pos:end="317:101">(<argument pos:start="317:99" pos:end="317:100"><expr pos:start="317:99" pos:end="317:100"><name pos:start="317:99" pos:end="317:100">st</name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="317:104" pos:end="329:5">{<block_content pos:start="319:9" pos:end="327:72">

        <expr_stmt pos:start="319:9" pos:end="319:37"><expr pos:start="319:9" pos:end="319:36"><name pos:start="319:9" pos:end="319:25"><name pos:start="319:9" pos:end="319:10">st</name><operator pos:start="319:11" pos:end="319:12">-&gt;</operator><name pos:start="319:13" pos:end="319:22">pts_buffer</name><index pos:start="319:23" pos:end="319:25">[<expr pos:start="319:24" pos:end="319:24"><literal type="number" pos:start="319:24" pos:end="319:24">0</literal></expr>]</index></name> <operator pos:start="319:27" pos:end="319:27">=</operator> <name pos:start="319:29" pos:end="319:36"><name pos:start="319:29" pos:end="319:31">pkt</name><operator pos:start="319:32" pos:end="319:33">-&gt;</operator><name pos:start="319:34" pos:end="319:36">pts</name></name></expr>;</expr_stmt>

        <for pos:start="321:9" pos:end="323:70">for <control pos:start="321:13" pos:end="321:78">(<init pos:start="321:14" pos:end="321:19"><expr pos:start="321:14" pos:end="321:18"><name pos:start="321:14" pos:end="321:14">i</name> <operator pos:start="321:16" pos:end="321:16">=</operator> <literal type="number" pos:start="321:18" pos:end="321:18">0</literal></expr>;</init> <condition pos:start="321:21" pos:end="321:73"><expr pos:start="321:21" pos:end="321:72"><name pos:start="321:21" pos:end="321:50"><name pos:start="321:21" pos:end="321:21">i</name><argument_list type="generic" pos:start="321:22" pos:end="321:50">&lt;<argument pos:start="321:23" pos:end="321:48"><expr pos:start="321:23" pos:end="321:48"><name pos:start="321:23" pos:end="321:27">delay</name> <operator pos:start="321:29" pos:end="321:30">&amp;&amp;</operator> <name pos:start="321:32" pos:end="321:48"><name pos:start="321:32" pos:end="321:33">st</name><operator pos:start="321:34" pos:end="321:35">-&gt;</operator><name pos:start="321:36" pos:end="321:45">pts_buffer</name><index pos:start="321:46" pos:end="321:48">[<expr pos:start="321:47" pos:end="321:47"><name pos:start="321:47" pos:end="321:47">i</name></expr>]</index></name></expr></argument> &gt;</argument_list></name> <name pos:start="321:52" pos:end="321:72"><name pos:start="321:52" pos:end="321:53">st</name><operator pos:start="321:54" pos:end="321:55">-&gt;</operator><name pos:start="321:56" pos:end="321:65">pts_buffer</name><index pos:start="321:66" pos:end="321:72">[<expr pos:start="321:67" pos:end="321:71"><name pos:start="321:67" pos:end="321:67">i</name> <operator pos:start="321:69" pos:end="321:69">+</operator> <literal type="number" pos:start="321:71" pos:end="321:71">1</literal></expr>]</index></name></expr>;</condition> <incr pos:start="321:75" pos:end="321:77"><expr pos:start="321:75" pos:end="321:77"><name pos:start="321:75" pos:end="321:75">i</name><operator pos:start="321:76" pos:end="321:77">++</operator></expr></incr>)</control><block type="pseudo" pos:start="323:13" pos:end="323:70"><block_content pos:start="323:13" pos:end="323:70">

            <expr_stmt pos:start="323:13" pos:end="323:70"><expr pos:start="323:13" pos:end="323:69"><call pos:start="323:13" pos:end="323:69"><name pos:start="323:13" pos:end="323:18">FFSWAP</name><argument_list pos:start="323:19" pos:end="323:69">(<argument pos:start="323:20" pos:end="323:26"><expr pos:start="323:20" pos:end="323:26"><name pos:start="323:20" pos:end="323:26">int64_t</name></expr></argument>, <argument pos:start="323:29" pos:end="323:45"><expr pos:start="323:29" pos:end="323:45"><name pos:start="323:29" pos:end="323:45"><name pos:start="323:29" pos:end="323:30">st</name><operator pos:start="323:31" pos:end="323:32">-&gt;</operator><name pos:start="323:33" pos:end="323:42">pts_buffer</name><index pos:start="323:43" pos:end="323:45">[<expr pos:start="323:44" pos:end="323:44"><name pos:start="323:44" pos:end="323:44">i</name></expr>]</index></name></expr></argument>, <argument pos:start="323:48" pos:end="323:68"><expr pos:start="323:48" pos:end="323:68"><name pos:start="323:48" pos:end="323:68"><name pos:start="323:48" pos:end="323:49">st</name><operator pos:start="323:50" pos:end="323:51">-&gt;</operator><name pos:start="323:52" pos:end="323:61">pts_buffer</name><index pos:start="323:62" pos:end="323:68">[<expr pos:start="323:63" pos:end="323:67"><name pos:start="323:63" pos:end="323:63">i</name> <operator pos:start="323:65" pos:end="323:65">+</operator> <literal type="number" pos:start="323:67" pos:end="323:67">1</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></for>



        <expr_stmt pos:start="327:9" pos:end="327:72"><expr pos:start="327:9" pos:end="327:71"><name pos:start="327:9" pos:end="327:16"><name pos:start="327:9" pos:end="327:11">pkt</name><operator pos:start="327:12" pos:end="327:13">-&gt;</operator><name pos:start="327:14" pos:end="327:16">dts</name></name> <operator pos:start="327:18" pos:end="327:18">=</operator> <call pos:start="327:20" pos:end="327:71"><name pos:start="327:20" pos:end="327:41">select_from_pts_buffer</name><argument_list pos:start="327:42" pos:end="327:71">(<argument pos:start="327:43" pos:end="327:44"><expr pos:start="327:43" pos:end="327:44"><name pos:start="327:43" pos:end="327:44">st</name></expr></argument>, <argument pos:start="327:47" pos:end="327:60"><expr pos:start="327:47" pos:end="327:60"><name pos:start="327:47" pos:end="327:60"><name pos:start="327:47" pos:end="327:48">st</name><operator pos:start="327:49" pos:end="327:50">-&gt;</operator><name pos:start="327:51" pos:end="327:60">pts_buffer</name></name></expr></argument>, <argument pos:start="327:63" pos:end="327:70"><expr pos:start="327:63" pos:end="327:70"><name pos:start="327:63" pos:end="327:70"><name pos:start="327:63" pos:end="327:65">pkt</name><operator pos:start="327:66" pos:end="327:67">-&gt;</operator><name pos:start="327:68" pos:end="327:70">dts</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    <comment type="line" pos:start="331:5" pos:end="331:42">// We skipped it above so we try here.</comment>

    <if_stmt pos:start="333:5" pos:end="337:81"><if pos:start="333:5" pos:end="337:81">if <condition pos:start="333:8" pos:end="333:22">(<expr pos:start="333:9" pos:end="333:21"><operator pos:start="333:9" pos:end="333:9">!</operator><name pos:start="333:10" pos:end="333:21">onein_oneout</name></expr>)</condition><block type="pseudo" pos:start="337:9" pos:end="337:81"><block_content pos:start="337:9" pos:end="337:81">

        <comment type="line" pos:start="335:9" pos:end="335:49">// This should happen on the first packet</comment>

        <expr_stmt pos:start="337:9" pos:end="337:81"><expr pos:start="337:9" pos:end="337:80"><call pos:start="337:9" pos:end="337:80"><name pos:start="337:9" pos:end="337:33">update_initial_timestamps</name><argument_list pos:start="337:34" pos:end="337:80">(<argument pos:start="337:35" pos:end="337:35"><expr pos:start="337:35" pos:end="337:35"><name pos:start="337:35" pos:end="337:35">s</name></expr></argument>, <argument pos:start="337:38" pos:end="337:54"><expr pos:start="337:38" pos:end="337:54"><name pos:start="337:38" pos:end="337:54"><name pos:start="337:38" pos:end="337:40">pkt</name><operator pos:start="337:41" pos:end="337:42">-&gt;</operator><name pos:start="337:43" pos:end="337:54">stream_index</name></name></expr></argument>, <argument pos:start="337:57" pos:end="337:64"><expr pos:start="337:57" pos:end="337:64"><name pos:start="337:57" pos:end="337:64"><name pos:start="337:57" pos:end="337:59">pkt</name><operator pos:start="337:60" pos:end="337:61">-&gt;</operator><name pos:start="337:62" pos:end="337:64">dts</name></name></expr></argument>, <argument pos:start="337:67" pos:end="337:74"><expr pos:start="337:67" pos:end="337:74"><name pos:start="337:67" pos:end="337:74"><name pos:start="337:67" pos:end="337:69">pkt</name><operator pos:start="337:70" pos:end="337:71">-&gt;</operator><name pos:start="337:72" pos:end="337:74">pts</name></name></expr></argument>, <argument pos:start="337:77" pos:end="337:79"><expr pos:start="337:77" pos:end="337:79"><name pos:start="337:77" pos:end="337:79">pkt</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

    <if_stmt pos:start="339:5" pos:end="341:31"><if pos:start="339:5" pos:end="341:31">if <condition pos:start="339:8" pos:end="339:31">(<expr pos:start="339:9" pos:end="339:30"><name pos:start="339:9" pos:end="339:16"><name pos:start="339:9" pos:end="339:11">pkt</name><operator pos:start="339:12" pos:end="339:13">-&gt;</operator><name pos:start="339:14" pos:end="339:16">dts</name></name> <operator pos:start="339:18" pos:end="339:18">&gt;</operator> <name pos:start="339:20" pos:end="339:30"><name pos:start="339:20" pos:end="339:21">st</name><operator pos:start="339:22" pos:end="339:23">-&gt;</operator><name pos:start="339:24" pos:end="339:30">cur_dts</name></name></expr>)</condition><block type="pseudo" pos:start="341:9" pos:end="341:31"><block_content pos:start="341:9" pos:end="341:31">

        <expr_stmt pos:start="341:9" pos:end="341:31"><expr pos:start="341:9" pos:end="341:30"><name pos:start="341:9" pos:end="341:19"><name pos:start="341:9" pos:end="341:10">st</name><operator pos:start="341:11" pos:end="341:12">-&gt;</operator><name pos:start="341:13" pos:end="341:19">cur_dts</name></name> <operator pos:start="341:21" pos:end="341:21">=</operator> <name pos:start="341:23" pos:end="341:30"><name pos:start="341:23" pos:end="341:25">pkt</name><operator pos:start="341:26" pos:end="341:27">-&gt;</operator><name pos:start="341:28" pos:end="341:30">dts</name></name></expr>;</expr_stmt></block_content></block></if></if_stmt>



    <expr_stmt pos:start="345:5" pos:end="347:107"><expr pos:start="345:5" pos:end="347:106"><call pos:start="345:5" pos:end="347:106"><name pos:start="345:5" pos:end="345:11">av_dlog</name><argument_list pos:start="345:12" pos:end="347:106">(<argument pos:start="345:13" pos:end="345:16"><expr pos:start="345:13" pos:end="345:16"><name pos:start="345:13" pos:end="345:16">NULL</name></expr></argument>, <argument pos:start="345:19" pos:end="345:64"><expr pos:start="345:19" pos:end="345:64"><literal type="string" pos:start="345:19" pos:end="345:64">"OUTdelayed:%d/%d pts:%s, dts:%s cur_dts:%s\n"</literal></expr></argument>,

            <argument pos:start="347:13" pos:end="347:32"><expr pos:start="347:13" pos:end="347:32"><name pos:start="347:13" pos:end="347:32">presentation_delayed</name></expr></argument>, <argument pos:start="347:35" pos:end="347:39"><expr pos:start="347:35" pos:end="347:39"><name pos:start="347:35" pos:end="347:39">delay</name></expr></argument>, <argument pos:start="347:42" pos:end="347:60"><expr pos:start="347:42" pos:end="347:60"><call pos:start="347:42" pos:end="347:60"><name pos:start="347:42" pos:end="347:50">av_ts2str</name><argument_list pos:start="347:51" pos:end="347:60">(<argument pos:start="347:52" pos:end="347:59"><expr pos:start="347:52" pos:end="347:59"><name pos:start="347:52" pos:end="347:59"><name pos:start="347:52" pos:end="347:54">pkt</name><operator pos:start="347:55" pos:end="347:56">-&gt;</operator><name pos:start="347:57" pos:end="347:59">pts</name></name></expr></argument>)</argument_list></call></expr></argument>, <argument pos:start="347:63" pos:end="347:81"><expr pos:start="347:63" pos:end="347:81"><call pos:start="347:63" pos:end="347:81"><name pos:start="347:63" pos:end="347:71">av_ts2str</name><argument_list pos:start="347:72" pos:end="347:81">(<argument pos:start="347:73" pos:end="347:80"><expr pos:start="347:73" pos:end="347:80"><name pos:start="347:73" pos:end="347:80"><name pos:start="347:73" pos:end="347:75">pkt</name><operator pos:start="347:76" pos:end="347:77">-&gt;</operator><name pos:start="347:78" pos:end="347:80">dts</name></name></expr></argument>)</argument_list></call></expr></argument>, <argument pos:start="347:84" pos:end="347:105"><expr pos:start="347:84" pos:end="347:105"><call pos:start="347:84" pos:end="347:105"><name pos:start="347:84" pos:end="347:92">av_ts2str</name><argument_list pos:start="347:93" pos:end="347:105">(<argument pos:start="347:94" pos:end="347:104"><expr pos:start="347:94" pos:end="347:104"><name pos:start="347:94" pos:end="347:104"><name pos:start="347:94" pos:end="347:95">st</name><operator pos:start="347:96" pos:end="347:97">-&gt;</operator><name pos:start="347:98" pos:end="347:104">cur_dts</name></name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <comment type="block" pos:start="351:5" pos:end="351:22">/* update flags */</comment>

    <if_stmt pos:start="353:5" pos:end="355:38"><if pos:start="353:5" pos:end="355:38">if <condition pos:start="353:8" pos:end="353:33">(<expr pos:start="353:9" pos:end="353:32"><call pos:start="353:9" pos:end="353:32"><name pos:start="353:9" pos:end="353:21">is_intra_only</name><argument_list pos:start="353:22" pos:end="353:32">(<argument pos:start="353:23" pos:end="353:31"><expr pos:start="353:23" pos:end="353:31"><name pos:start="353:23" pos:end="353:31"><name pos:start="353:23" pos:end="353:24">st</name><operator pos:start="353:25" pos:end="353:26">-&gt;</operator><name pos:start="353:27" pos:end="353:31">codec</name></name></expr></argument>)</argument_list></call></expr>)</condition><block type="pseudo" pos:start="355:9" pos:end="355:38"><block_content pos:start="355:9" pos:end="355:38">

        <expr_stmt pos:start="355:9" pos:end="355:38"><expr pos:start="355:9" pos:end="355:37"><name pos:start="355:9" pos:end="355:18"><name pos:start="355:9" pos:end="355:11">pkt</name><operator pos:start="355:12" pos:end="355:13">-&gt;</operator><name pos:start="355:14" pos:end="355:18">flags</name></name> <operator pos:start="355:20" pos:end="355:21">|=</operator> <name pos:start="355:23" pos:end="355:37">AV_PKT_FLAG_KEY</name></expr>;</expr_stmt></block_content></block></if></if_stmt>

    <if_stmt pos:start="357:5" pos:end="359:61"><if pos:start="357:5" pos:end="359:61">if <condition pos:start="357:8" pos:end="357:11">(<expr pos:start="357:9" pos:end="357:10"><name pos:start="357:9" pos:end="357:10">pc</name></expr>)</condition><block type="pseudo" pos:start="359:9" pos:end="359:61"><block_content pos:start="359:9" pos:end="359:61">

        <expr_stmt pos:start="359:9" pos:end="359:61"><expr pos:start="359:9" pos:end="359:60"><name pos:start="359:9" pos:end="359:33"><name pos:start="359:9" pos:end="359:11">pkt</name><operator pos:start="359:12" pos:end="359:13">-&gt;</operator><name pos:start="359:14" pos:end="359:33">convergence_duration</name></name> <operator pos:start="359:35" pos:end="359:35">=</operator> <name pos:start="359:37" pos:end="359:60"><name pos:start="359:37" pos:end="359:38">pc</name><operator pos:start="359:39" pos:end="359:40">-&gt;</operator><name pos:start="359:41" pos:end="359:60">convergence_duration</name></name></expr>;</expr_stmt></block_content></block></if></if_stmt>

</block_content>}</block></function>
</unit>
