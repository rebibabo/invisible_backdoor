<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/11820.c" pos:tabs="8"><function pos:start="1:1" pos:end="20:1"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:24">v9fs_version</name><parameter_list pos:start="1:25" pos:end="1:38">(<parameter pos:start="1:26" pos:end="1:37"><decl pos:start="1:26" pos:end="1:37"><type pos:start="1:26" pos:end="1:31"><name pos:start="1:26" pos:end="1:29">void</name> <modifier pos:start="1:31" pos:end="1:31">*</modifier></type><name pos:start="1:32" pos:end="1:37">opaque</name></decl></parameter>)</parameter_list>
<block pos:start="2:1" pos:end="20:1">{<block_content pos:start="3:5" pos:end="19:11">
    <decl_stmt pos:start="3:5" pos:end="3:26"><decl pos:start="3:5" pos:end="3:25"><type pos:start="3:5" pos:end="3:13"><name pos:start="3:5" pos:end="3:11">V9fsPDU</name> <modifier pos:start="3:13" pos:end="3:13">*</modifier></type><name pos:start="3:14" pos:end="3:16">pdu</name> <init pos:start="3:18" pos:end="3:25">= <expr pos:start="3:20" pos:end="3:25"><name pos:start="3:20" pos:end="3:25">opaque</name></expr></init></decl>;</decl_stmt>
    <decl_stmt pos:start="4:5" pos:end="4:26"><decl pos:start="4:5" pos:end="4:25"><type pos:start="4:5" pos:end="4:15"><name pos:start="4:5" pos:end="4:13">V9fsState</name> <modifier pos:start="4:15" pos:end="4:15">*</modifier></type><name pos:start="4:16" pos:end="4:16">s</name> <init pos:start="4:18" pos:end="4:25">= <expr pos:start="4:20" pos:end="4:25"><name pos:start="4:20" pos:end="4:25"><name pos:start="4:20" pos:end="4:22">pdu</name><operator pos:start="4:23" pos:end="4:24">-&gt;</operator><name pos:start="4:25" pos:end="4:25">s</name></name></expr></init></decl>;</decl_stmt>
    <decl_stmt pos:start="5:5" pos:end="5:23"><decl pos:start="5:5" pos:end="5:22"><type pos:start="5:5" pos:end="5:14"><name pos:start="5:5" pos:end="5:14">V9fsString</name></type> <name pos:start="5:16" pos:end="5:22">version</name></decl>;</decl_stmt>
    <decl_stmt pos:start="6:5" pos:end="6:22"><decl pos:start="6:5" pos:end="6:21"><type pos:start="6:5" pos:end="6:10"><name pos:start="6:5" pos:end="6:10">size_t</name></type> <name pos:start="6:12" pos:end="6:17">offset</name> <init pos:start="6:19" pos:end="6:21">= <expr pos:start="6:21" pos:end="6:21"><literal type="number" pos:start="6:21" pos:end="6:21">7</literal></expr></init></decl>;</decl_stmt>
    <expr_stmt pos:start="7:5" pos:end="7:58"><expr pos:start="7:5" pos:end="7:57"><call pos:start="7:5" pos:end="7:57"><name pos:start="7:5" pos:end="7:17">pdu_unmarshal</name><argument_list pos:start="7:18" pos:end="7:57">(<argument pos:start="7:19" pos:end="7:21"><expr pos:start="7:19" pos:end="7:21"><name pos:start="7:19" pos:end="7:21">pdu</name></expr></argument>, <argument pos:start="7:24" pos:end="7:29"><expr pos:start="7:24" pos:end="7:29"><name pos:start="7:24" pos:end="7:29">offset</name></expr></argument>, <argument pos:start="7:32" pos:end="7:35"><expr pos:start="7:32" pos:end="7:35"><literal type="string" pos:start="7:32" pos:end="7:35">"ds"</literal></expr></argument>, <argument pos:start="7:38" pos:end="7:46"><expr pos:start="7:38" pos:end="7:46"><operator pos:start="7:38" pos:end="7:38">&amp;</operator><name pos:start="7:39" pos:end="7:46"><name pos:start="7:39" pos:end="7:39">s</name><operator pos:start="7:40" pos:end="7:41">-&gt;</operator><name pos:start="7:42" pos:end="7:46">msize</name></name></expr></argument>, <argument pos:start="7:49" pos:end="7:56"><expr pos:start="7:49" pos:end="7:56"><operator pos:start="7:49" pos:end="7:49">&amp;</operator><name pos:start="7:50" pos:end="7:56">version</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <expr_stmt pos:start="8:5" pos:end="8:66"><expr pos:start="8:5" pos:end="8:65"><call pos:start="8:5" pos:end="8:65"><name pos:start="8:5" pos:end="8:22">trace_v9fs_version</name><argument_list pos:start="8:23" pos:end="8:65">(<argument pos:start="8:24" pos:end="8:31"><expr pos:start="8:24" pos:end="8:31"><name pos:start="8:24" pos:end="8:31"><name pos:start="8:24" pos:end="8:26">pdu</name><operator pos:start="8:27" pos:end="8:28">-&gt;</operator><name pos:start="8:29" pos:end="8:31">tag</name></name></expr></argument>, <argument pos:start="8:34" pos:end="8:40"><expr pos:start="8:34" pos:end="8:40"><name pos:start="8:34" pos:end="8:40"><name pos:start="8:34" pos:end="8:36">pdu</name><operator pos:start="8:37" pos:end="8:38">-&gt;</operator><name pos:start="8:39" pos:end="8:40">id</name></name></expr></argument>, <argument pos:start="8:43" pos:end="8:50"><expr pos:start="8:43" pos:end="8:50"><name pos:start="8:43" pos:end="8:50"><name pos:start="8:43" pos:end="8:43">s</name><operator pos:start="8:44" pos:end="8:45">-&gt;</operator><name pos:start="8:46" pos:end="8:50">msize</name></name></expr></argument>, <argument pos:start="8:53" pos:end="8:64"><expr pos:start="8:53" pos:end="8:64"><name pos:start="8:53" pos:end="8:64"><name pos:start="8:53" pos:end="8:59">version</name><operator pos:start="8:60" pos:end="8:60">.</operator><name pos:start="8:61" pos:end="8:64">data</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <if_stmt pos:start="9:5" pos:end="15:5"><if pos:start="9:5" pos:end="11:5">if <condition pos:start="9:8" pos:end="9:42">(<expr pos:start="9:9" pos:end="9:41"><operator pos:start="9:9" pos:end="9:9">!</operator><call pos:start="9:10" pos:end="9:41"><name pos:start="9:10" pos:end="9:15">strcmp</name><argument_list pos:start="9:16" pos:end="9:41">(<argument pos:start="9:17" pos:end="9:28"><expr pos:start="9:17" pos:end="9:28"><name pos:start="9:17" pos:end="9:28"><name pos:start="9:17" pos:end="9:23">version</name><operator pos:start="9:24" pos:end="9:24">.</operator><name pos:start="9:25" pos:end="9:28">data</name></name></expr></argument>, <argument pos:start="9:31" pos:end="9:40"><expr pos:start="9:31" pos:end="9:40"><literal type="string" pos:start="9:31" pos:end="9:40">"9P2000.u"</literal></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="9:44" pos:end="11:5">{<block_content pos:start="10:9" pos:end="10:44">
        <expr_stmt pos:start="10:9" pos:end="10:44"><expr pos:start="10:9" pos:end="10:43"><name pos:start="10:9" pos:end="10:24"><name pos:start="10:9" pos:end="10:9">s</name><operator pos:start="10:10" pos:end="10:11">-&gt;</operator><name pos:start="10:12" pos:end="10:24">proto_version</name></name> <operator pos:start="10:26" pos:end="10:26">=</operator> <name pos:start="10:28" pos:end="10:43">V9FS_PROTO_2000U</name></expr>;</expr_stmt>
    </block_content>}</block></if> <if type="elseif" pos:start="11:7" pos:end="13:5">else if <condition pos:start="11:15" pos:end="11:49">(<expr pos:start="11:16" pos:end="11:48"><operator pos:start="11:16" pos:end="11:16">!</operator><call pos:start="11:17" pos:end="11:48"><name pos:start="11:17" pos:end="11:22">strcmp</name><argument_list pos:start="11:23" pos:end="11:48">(<argument pos:start="11:24" pos:end="11:35"><expr pos:start="11:24" pos:end="11:35"><name pos:start="11:24" pos:end="11:35"><name pos:start="11:24" pos:end="11:30">version</name><operator pos:start="11:31" pos:end="11:31">.</operator><name pos:start="11:32" pos:end="11:35">data</name></name></expr></argument>, <argument pos:start="11:38" pos:end="11:47"><expr pos:start="11:38" pos:end="11:47"><literal type="string" pos:start="11:38" pos:end="11:47">"9P2000.L"</literal></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="11:51" pos:end="13:5">{<block_content pos:start="12:9" pos:end="12:44">
        <expr_stmt pos:start="12:9" pos:end="12:44"><expr pos:start="12:9" pos:end="12:43"><name pos:start="12:9" pos:end="12:24"><name pos:start="12:9" pos:end="12:9">s</name><operator pos:start="12:10" pos:end="12:11">-&gt;</operator><name pos:start="12:12" pos:end="12:24">proto_version</name></name> <operator pos:start="12:26" pos:end="12:26">=</operator> <name pos:start="12:28" pos:end="12:43">V9FS_PROTO_2000L</name></expr>;</expr_stmt>
    </block_content>}</block></if> <else pos:start="13:7" pos:end="15:5">else <block pos:start="13:12" pos:end="15:5">{<block_content pos:start="14:9" pos:end="14:49">
        <expr_stmt pos:start="14:9" pos:end="14:49"><expr pos:start="14:9" pos:end="14:48"><call pos:start="14:9" pos:end="14:48"><name pos:start="14:9" pos:end="14:27">v9fs_string_sprintf</name><argument_list pos:start="14:28" pos:end="14:48">(<argument pos:start="14:29" pos:end="14:36"><expr pos:start="14:29" pos:end="14:36"><operator pos:start="14:29" pos:end="14:29">&amp;</operator><name pos:start="14:30" pos:end="14:36">version</name></expr></argument>, <argument pos:start="14:39" pos:end="14:47"><expr pos:start="14:39" pos:end="14:47"><literal type="string" pos:start="14:39" pos:end="14:47">"unknown"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    </block_content>}</block></else></if_stmt>
    <expr_stmt pos:start="16:5" pos:end="16:65"><expr pos:start="16:5" pos:end="16:64"><name pos:start="16:5" pos:end="16:10">offset</name> <operator pos:start="16:12" pos:end="16:13">+=</operator> <call pos:start="16:15" pos:end="16:64"><name pos:start="16:15" pos:end="16:25">pdu_marshal</name><argument_list pos:start="16:26" pos:end="16:64">(<argument pos:start="16:27" pos:end="16:29"><expr pos:start="16:27" pos:end="16:29"><name pos:start="16:27" pos:end="16:29">pdu</name></expr></argument>, <argument pos:start="16:32" pos:end="16:37"><expr pos:start="16:32" pos:end="16:37"><name pos:start="16:32" pos:end="16:37">offset</name></expr></argument>, <argument pos:start="16:40" pos:end="16:43"><expr pos:start="16:40" pos:end="16:43"><literal type="string" pos:start="16:40" pos:end="16:43">"ds"</literal></expr></argument>, <argument pos:start="16:46" pos:end="16:53"><expr pos:start="16:46" pos:end="16:53"><name pos:start="16:46" pos:end="16:53"><name pos:start="16:46" pos:end="16:46">s</name><operator pos:start="16:47" pos:end="16:48">-&gt;</operator><name pos:start="16:49" pos:end="16:53">msize</name></name></expr></argument>, <argument pos:start="16:56" pos:end="16:63"><expr pos:start="16:56" pos:end="16:63"><operator pos:start="16:56" pos:end="16:56">&amp;</operator><name pos:start="16:57" pos:end="16:63">version</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <expr_stmt pos:start="17:5" pos:end="17:33"><expr pos:start="17:5" pos:end="17:32"><call pos:start="17:5" pos:end="17:32"><name pos:start="17:5" pos:end="17:16">complete_pdu</name><argument_list pos:start="17:17" pos:end="17:32">(<argument pos:start="17:18" pos:end="17:18"><expr pos:start="17:18" pos:end="17:18"><name pos:start="17:18" pos:end="17:18">s</name></expr></argument>, <argument pos:start="17:21" pos:end="17:23"><expr pos:start="17:21" pos:end="17:23"><name pos:start="17:21" pos:end="17:23">pdu</name></expr></argument>, <argument pos:start="17:26" pos:end="17:31"><expr pos:start="17:26" pos:end="17:31"><name pos:start="17:26" pos:end="17:31">offset</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <expr_stmt pos:start="18:5" pos:end="18:31"><expr pos:start="18:5" pos:end="18:30"><call pos:start="18:5" pos:end="18:30"><name pos:start="18:5" pos:end="18:20">v9fs_string_free</name><argument_list pos:start="18:21" pos:end="18:30">(<argument pos:start="18:22" pos:end="18:29"><expr pos:start="18:22" pos:end="18:29"><operator pos:start="18:22" pos:end="18:22">&amp;</operator><name pos:start="18:23" pos:end="18:29">version</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <return pos:start="19:5" pos:end="19:11">return;</return>
</block_content>}</block></function></unit>
