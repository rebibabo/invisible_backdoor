<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/13647.c" pos:tabs="8"><function pos:start="1:1" pos:end="53:1"><type pos:start="1:1" pos:end="1:17"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:15">RAMBlock</name> <modifier pos:start="1:17" pos:end="1:17">*</modifier></type><name pos:start="1:18" pos:end="1:29">unqueue_page</name><parameter_list pos:start="1:30" pos:end="3:55">(<parameter pos:start="1:31" pos:end="1:42"><decl pos:start="1:31" pos:end="1:42"><type pos:start="1:31" pos:end="1:42"><name pos:start="1:31" pos:end="1:38">RAMState</name> <modifier pos:start="1:40" pos:end="1:40">*</modifier></type><name pos:start="1:41" pos:end="1:42">rs</name></decl></parameter>, <parameter pos:start="1:45" pos:end="1:62"><decl pos:start="1:45" pos:end="1:62"><type pos:start="1:45" pos:end="1:62"><name pos:start="1:45" pos:end="1:54">ram_addr_t</name> <modifier pos:start="1:56" pos:end="1:56">*</modifier></type><name pos:start="1:57" pos:end="1:62">offset</name></decl></parameter>,

                              <parameter pos:start="3:31" pos:end="3:54"><decl pos:start="3:31" pos:end="3:54"><type pos:start="3:31" pos:end="3:54"><name pos:start="3:31" pos:end="3:40">ram_addr_t</name> <modifier pos:start="3:42" pos:end="3:42">*</modifier></type><name pos:start="3:43" pos:end="3:54">ram_addr_abs</name></decl></parameter>)</parameter_list>

<block pos:start="5:1" pos:end="53:1">{<block_content pos:start="7:5" pos:end="51:17">

    <decl_stmt pos:start="7:5" pos:end="7:27"><decl pos:start="7:5" pos:end="7:26"><type pos:start="7:5" pos:end="7:14"><name pos:start="7:5" pos:end="7:12">RAMBlock</name> <modifier pos:start="7:14" pos:end="7:14">*</modifier></type><name pos:start="7:15" pos:end="7:19">block</name> <init pos:start="7:21" pos:end="7:26">= <expr pos:start="7:23" pos:end="7:26"><name pos:start="7:23" pos:end="7:26">NULL</name></expr></init></decl>;</decl_stmt>



    <expr_stmt pos:start="11:5" pos:end="11:45"><expr pos:start="11:5" pos:end="11:44"><call pos:start="11:5" pos:end="11:44"><name pos:start="11:5" pos:end="11:19">qemu_mutex_lock</name><argument_list pos:start="11:20" pos:end="11:44">(<argument pos:start="11:21" pos:end="11:43"><expr pos:start="11:21" pos:end="11:43"><operator pos:start="11:21" pos:end="11:21">&amp;</operator><name pos:start="11:22" pos:end="11:43"><name pos:start="11:22" pos:end="11:23">rs</name><operator pos:start="11:24" pos:end="11:25">-&gt;</operator><name pos:start="11:26" pos:end="11:43">src_page_req_mutex</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="13:5" pos:end="45:5"><if pos:start="13:5" pos:end="45:5">if <condition pos:start="13:8" pos:end="13:48">(<expr pos:start="13:9" pos:end="13:47"><operator pos:start="13:9" pos:end="13:9">!</operator><call pos:start="13:10" pos:end="13:47"><name pos:start="13:10" pos:end="13:23">QSIMPLEQ_EMPTY</name><argument_list pos:start="13:24" pos:end="13:47">(<argument pos:start="13:25" pos:end="13:46"><expr pos:start="13:25" pos:end="13:46"><operator pos:start="13:25" pos:end="13:25">&amp;</operator><name pos:start="13:26" pos:end="13:46"><name pos:start="13:26" pos:end="13:27">rs</name><operator pos:start="13:28" pos:end="13:29">-&gt;</operator><name pos:start="13:30" pos:end="13:46">src_page_requests</name></name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="13:50" pos:end="45:5">{<block_content pos:start="15:9" pos:end="43:9">

        <decl_stmt pos:start="15:9" pos:end="17:71"><decl pos:start="15:9" pos:end="17:70"><type pos:start="15:9" pos:end="15:34"><name pos:start="15:9" pos:end="15:32"><name pos:start="15:9" pos:end="15:14">struct</name> <name pos:start="15:16" pos:end="15:32">RAMSrcPageRequest</name></name> <modifier pos:start="15:34" pos:end="15:34">*</modifier></type><name pos:start="15:35" pos:end="15:39">entry</name> <init pos:start="15:41" pos:end="17:70">=

                                <expr pos:start="17:33" pos:end="17:70"><call pos:start="17:33" pos:end="17:70"><name pos:start="17:33" pos:end="17:46">QSIMPLEQ_FIRST</name><argument_list pos:start="17:47" pos:end="17:70">(<argument pos:start="17:48" pos:end="17:69"><expr pos:start="17:48" pos:end="17:69"><operator pos:start="17:48" pos:end="17:48">&amp;</operator><name pos:start="17:49" pos:end="17:69"><name pos:start="17:49" pos:end="17:50">rs</name><operator pos:start="17:51" pos:end="17:52">-&gt;</operator><name pos:start="17:53" pos:end="17:69">src_page_requests</name></name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

        <expr_stmt pos:start="19:9" pos:end="19:26"><expr pos:start="19:9" pos:end="19:25"><name pos:start="19:9" pos:end="19:13">block</name> <operator pos:start="19:15" pos:end="19:15">=</operator> <name pos:start="19:17" pos:end="19:25"><name pos:start="19:17" pos:end="19:21">entry</name><operator pos:start="19:22" pos:end="19:23">-&gt;</operator><name pos:start="19:24" pos:end="19:25">rb</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="21:9" pos:end="21:32"><expr pos:start="21:9" pos:end="21:31"><operator pos:start="21:9" pos:end="21:9">*</operator><name pos:start="21:10" pos:end="21:15">offset</name> <operator pos:start="21:17" pos:end="21:17">=</operator> <name pos:start="21:19" pos:end="21:31"><name pos:start="21:19" pos:end="21:23">entry</name><operator pos:start="21:24" pos:end="21:25">-&gt;</operator><name pos:start="21:26" pos:end="21:31">offset</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="23:9" pos:end="25:41"><expr pos:start="23:9" pos:end="25:40"><operator pos:start="23:9" pos:end="23:9">*</operator><name pos:start="23:10" pos:end="23:21">ram_addr_abs</name> <operator pos:start="23:23" pos:end="23:23">=</operator> <operator pos:start="23:25" pos:end="23:25">(</operator><name pos:start="23:26" pos:end="23:38"><name pos:start="23:26" pos:end="23:30">entry</name><operator pos:start="23:31" pos:end="23:32">-&gt;</operator><name pos:start="23:33" pos:end="23:38">offset</name></name> <operator pos:start="23:40" pos:end="23:40">+</operator> <name pos:start="23:42" pos:end="23:58"><name pos:start="23:42" pos:end="23:46">entry</name><operator pos:start="23:47" pos:end="23:48">-&gt;</operator><name pos:start="23:49" pos:end="23:50">rb</name><operator pos:start="23:51" pos:end="23:52">-&gt;</operator><name pos:start="23:53" pos:end="23:58">offset</name></name><operator pos:start="23:59" pos:end="23:59">)</operator> <operator pos:start="23:61" pos:end="23:61">&amp;</operator>

                        <name pos:start="25:25" pos:end="25:40">TARGET_PAGE_MASK</name></expr>;</expr_stmt>



        <if_stmt pos:start="29:9" pos:end="43:9"><if pos:start="29:9" pos:end="35:9">if <condition pos:start="29:12" pos:end="29:42">(<expr pos:start="29:13" pos:end="29:41"><name pos:start="29:13" pos:end="29:22"><name pos:start="29:13" pos:end="29:17">entry</name><operator pos:start="29:18" pos:end="29:19">-&gt;</operator><name pos:start="29:20" pos:end="29:22">len</name></name> <operator pos:start="29:24" pos:end="29:24">&gt;</operator> <name pos:start="29:26" pos:end="29:41">TARGET_PAGE_SIZE</name></expr>)</condition> <block pos:start="29:44" pos:end="35:9">{<block_content pos:start="31:13" pos:end="33:46">

            <expr_stmt pos:start="31:13" pos:end="31:43"><expr pos:start="31:13" pos:end="31:42"><name pos:start="31:13" pos:end="31:22"><name pos:start="31:13" pos:end="31:17">entry</name><operator pos:start="31:18" pos:end="31:19">-&gt;</operator><name pos:start="31:20" pos:end="31:22">len</name></name> <operator pos:start="31:24" pos:end="31:25">-=</operator> <name pos:start="31:27" pos:end="31:42">TARGET_PAGE_SIZE</name></expr>;</expr_stmt>

            <expr_stmt pos:start="33:13" pos:end="33:46"><expr pos:start="33:13" pos:end="33:45"><name pos:start="33:13" pos:end="33:25"><name pos:start="33:13" pos:end="33:17">entry</name><operator pos:start="33:18" pos:end="33:19">-&gt;</operator><name pos:start="33:20" pos:end="33:25">offset</name></name> <operator pos:start="33:27" pos:end="33:28">+=</operator> <name pos:start="33:30" pos:end="33:45">TARGET_PAGE_SIZE</name></expr>;</expr_stmt>

        </block_content>}</block></if> <else pos:start="35:11" pos:end="43:9">else <block pos:start="35:16" pos:end="43:9">{<block_content pos:start="37:13" pos:end="41:26">

            <expr_stmt pos:start="37:13" pos:end="37:43"><expr pos:start="37:13" pos:end="37:42"><call pos:start="37:13" pos:end="37:42"><name pos:start="37:13" pos:end="37:31">memory_region_unref</name><argument_list pos:start="37:32" pos:end="37:42">(<argument pos:start="37:33" pos:end="37:41"><expr pos:start="37:33" pos:end="37:41"><name pos:start="37:33" pos:end="37:41"><name pos:start="37:33" pos:end="37:37">block</name><operator pos:start="37:38" pos:end="37:39">-&gt;</operator><name pos:start="37:40" pos:end="37:41">mr</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="39:13" pos:end="39:67"><expr pos:start="39:13" pos:end="39:66"><call pos:start="39:13" pos:end="39:66"><name pos:start="39:13" pos:end="39:32">QSIMPLEQ_REMOVE_HEAD</name><argument_list pos:start="39:33" pos:end="39:66">(<argument pos:start="39:34" pos:end="39:55"><expr pos:start="39:34" pos:end="39:55"><operator pos:start="39:34" pos:end="39:34">&amp;</operator><name pos:start="39:35" pos:end="39:55"><name pos:start="39:35" pos:end="39:36">rs</name><operator pos:start="39:37" pos:end="39:38">-&gt;</operator><name pos:start="39:39" pos:end="39:55">src_page_requests</name></name></expr></argument>, <argument pos:start="39:58" pos:end="39:65"><expr pos:start="39:58" pos:end="39:65"><name pos:start="39:58" pos:end="39:65">next_req</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="41:13" pos:end="41:26"><expr pos:start="41:13" pos:end="41:25"><call pos:start="41:13" pos:end="41:25"><name pos:start="41:13" pos:end="41:18">g_free</name><argument_list pos:start="41:19" pos:end="41:25">(<argument pos:start="41:20" pos:end="41:24"><expr pos:start="41:20" pos:end="41:24"><name pos:start="41:20" pos:end="41:24">entry</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></else></if_stmt>

    </block_content>}</block></if></if_stmt>

    <expr_stmt pos:start="47:5" pos:end="47:47"><expr pos:start="47:5" pos:end="47:46"><call pos:start="47:5" pos:end="47:46"><name pos:start="47:5" pos:end="47:21">qemu_mutex_unlock</name><argument_list pos:start="47:22" pos:end="47:46">(<argument pos:start="47:23" pos:end="47:45"><expr pos:start="47:23" pos:end="47:45"><operator pos:start="47:23" pos:end="47:23">&amp;</operator><name pos:start="47:24" pos:end="47:45"><name pos:start="47:24" pos:end="47:25">rs</name><operator pos:start="47:26" pos:end="47:27">-&gt;</operator><name pos:start="47:28" pos:end="47:45">src_page_req_mutex</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <return pos:start="51:5" pos:end="51:17">return <expr pos:start="51:12" pos:end="51:16"><name pos:start="51:12" pos:end="51:16">block</name></expr>;</return>

</block_content>}</block></function>
</unit>
