<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/20785.c" pos:tabs="8"><function pos:start="1:1" pos:end="35:1"><type pos:start="1:1" pos:end="1:10"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:10">int</name></type> <name pos:start="1:12" pos:end="1:24">vmdk_L2update</name><parameter_list pos:start="1:25" pos:end="1:68">(<parameter pos:start="1:26" pos:end="1:45"><decl pos:start="1:26" pos:end="1:45"><type pos:start="1:26" pos:end="1:45"><name pos:start="1:26" pos:end="1:41">BlockDriverState</name> <modifier pos:start="1:43" pos:end="1:43">*</modifier></type><name pos:start="1:44" pos:end="1:45">bs</name></decl></parameter>, <parameter pos:start="1:48" pos:end="1:67"><decl pos:start="1:48" pos:end="1:67"><type pos:start="1:48" pos:end="1:67"><name pos:start="1:48" pos:end="1:59">VmdkMetaData</name> <modifier pos:start="1:61" pos:end="1:61">*</modifier></type><name pos:start="1:62" pos:end="1:67">m_data</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="35:1">{<block_content pos:start="5:5" pos:end="33:13">

    <decl_stmt pos:start="5:5" pos:end="5:34"><decl pos:start="5:5" pos:end="5:33"><type pos:start="5:5" pos:end="5:19"><name pos:start="5:5" pos:end="5:17">BDRVVmdkState</name> <modifier pos:start="5:19" pos:end="5:19">*</modifier></type><name pos:start="5:20" pos:end="5:20">s</name> <init pos:start="5:22" pos:end="5:33">= <expr pos:start="5:24" pos:end="5:33"><name pos:start="5:24" pos:end="5:33"><name pos:start="5:24" pos:end="5:25">bs</name><operator pos:start="5:26" pos:end="5:27">-&gt;</operator><name pos:start="5:28" pos:end="5:33">opaque</name></name></expr></init></decl>;</decl_stmt>



    <comment type="block" pos:start="9:5" pos:end="9:25">/* update L2 table */</comment>

    <if_stmt pos:start="11:5" pos:end="15:18"><if pos:start="11:5" pos:end="15:18">if <condition pos:start="11:8" pos:end="13:89">(<expr pos:start="11:9" pos:end="13:88"><call pos:start="11:9" pos:end="13:62"><name pos:start="11:9" pos:end="11:19">bdrv_pwrite</name><argument_list pos:start="11:20" pos:end="13:62">(<argument pos:start="11:21" pos:end="11:28"><expr pos:start="11:21" pos:end="11:28"><name pos:start="11:21" pos:end="11:28"><name pos:start="11:21" pos:end="11:22">bs</name><operator pos:start="11:23" pos:end="11:24">-&gt;</operator><name pos:start="11:25" pos:end="11:28">file</name></name></expr></argument>, <argument pos:start="11:31" pos:end="11:110"><expr pos:start="11:31" pos:end="11:110"><operator pos:start="11:31" pos:end="11:31">(</operator><operator pos:start="11:32" pos:end="11:32">(</operator><name pos:start="11:33" pos:end="11:39">int64_t</name><operator pos:start="11:40" pos:end="11:40">)</operator><name pos:start="11:41" pos:end="11:57"><name pos:start="11:41" pos:end="11:46">m_data</name><operator pos:start="11:47" pos:end="11:48">-&gt;</operator><name pos:start="11:49" pos:end="11:57">l2_offset</name></name> <operator pos:start="11:59" pos:end="11:59">*</operator> <literal type="number" pos:start="11:61" pos:end="11:63">512</literal><operator pos:start="11:64" pos:end="11:64">)</operator> <operator pos:start="11:66" pos:end="11:66">+</operator> <operator pos:start="11:68" pos:end="11:68">(</operator><name pos:start="11:69" pos:end="11:84"><name pos:start="11:69" pos:end="11:74">m_data</name><operator pos:start="11:75" pos:end="11:76">-&gt;</operator><name pos:start="11:77" pos:end="11:84">l2_index</name></name> <operator pos:start="11:86" pos:end="11:86">*</operator> <sizeof pos:start="11:88" pos:end="11:109">sizeof<argument_list pos:start="11:94" pos:end="11:109">(<argument pos:start="11:95" pos:end="11:108"><expr pos:start="11:95" pos:end="11:108"><name pos:start="11:95" pos:end="11:108"><name pos:start="11:95" pos:end="11:100">m_data</name><operator pos:start="11:101" pos:end="11:102">-&gt;</operator><name pos:start="11:103" pos:end="11:108">offset</name></name></expr></argument>)</argument_list></sizeof><operator pos:start="11:110" pos:end="11:110">)</operator></expr></argument>,

                    <argument pos:start="13:21" pos:end="13:37"><expr pos:start="13:21" pos:end="13:37"><operator pos:start="13:21" pos:end="13:21">&amp;</operator><operator pos:start="13:22" pos:end="13:22">(</operator><name pos:start="13:23" pos:end="13:36"><name pos:start="13:23" pos:end="13:28">m_data</name><operator pos:start="13:29" pos:end="13:30">-&gt;</operator><name pos:start="13:31" pos:end="13:36">offset</name></name><operator pos:start="13:37" pos:end="13:37">)</operator></expr></argument>, <argument pos:start="13:40" pos:end="13:61"><expr pos:start="13:40" pos:end="13:61"><sizeof pos:start="13:40" pos:end="13:61">sizeof<argument_list pos:start="13:46" pos:end="13:61">(<argument pos:start="13:47" pos:end="13:60"><expr pos:start="13:47" pos:end="13:60"><name pos:start="13:47" pos:end="13:60"><name pos:start="13:47" pos:end="13:52">m_data</name><operator pos:start="13:53" pos:end="13:54">-&gt;</operator><name pos:start="13:55" pos:end="13:60">offset</name></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call> <operator pos:start="13:64" pos:end="13:65">!=</operator> <sizeof pos:start="13:67" pos:end="13:88">sizeof<argument_list pos:start="13:73" pos:end="13:88">(<argument pos:start="13:74" pos:end="13:87"><expr pos:start="13:74" pos:end="13:87"><name pos:start="13:74" pos:end="13:87"><name pos:start="13:74" pos:end="13:79">m_data</name><operator pos:start="13:80" pos:end="13:81">-&gt;</operator><name pos:start="13:82" pos:end="13:87">offset</name></name></expr></argument>)</argument_list></sizeof></expr>)</condition><block type="pseudo" pos:start="15:9" pos:end="15:18"><block_content pos:start="15:9" pos:end="15:18">

        <return pos:start="15:9" pos:end="15:18">return <expr pos:start="15:16" pos:end="15:17"><operator pos:start="15:16" pos:end="15:16">-</operator><literal type="number" pos:start="15:17" pos:end="15:17">1</literal></expr>;</return></block_content></block></if></if_stmt>

    <comment type="block" pos:start="17:5" pos:end="17:32">/* update backup L2 table */</comment>

    <if_stmt pos:start="19:5" pos:end="29:5"><if pos:start="19:5" pos:end="29:5">if <condition pos:start="19:8" pos:end="19:39">(<expr pos:start="19:9" pos:end="19:38"><name pos:start="19:9" pos:end="19:33"><name pos:start="19:9" pos:end="19:9">s</name><operator pos:start="19:10" pos:end="19:11">-&gt;</operator><name pos:start="19:12" pos:end="19:33">l1_backup_table_offset</name></name> <operator pos:start="19:35" pos:end="19:36">!=</operator> <literal type="number" pos:start="19:38" pos:end="19:38">0</literal></expr>)</condition> <block pos:start="19:41" pos:end="29:5">{<block_content pos:start="21:9" pos:end="27:22">

        <expr_stmt pos:start="21:9" pos:end="21:65"><expr pos:start="21:9" pos:end="21:64"><name pos:start="21:9" pos:end="21:25"><name pos:start="21:9" pos:end="21:14">m_data</name><operator pos:start="21:15" pos:end="21:16">-&gt;</operator><name pos:start="21:17" pos:end="21:25">l2_offset</name></name> <operator pos:start="21:27" pos:end="21:27">=</operator> <name pos:start="21:29" pos:end="21:64"><name pos:start="21:29" pos:end="21:29">s</name><operator pos:start="21:30" pos:end="21:31">-&gt;</operator><name pos:start="21:32" pos:end="21:46">l1_backup_table</name><index pos:start="21:47" pos:end="21:64">[<expr pos:start="21:48" pos:end="21:63"><name pos:start="21:48" pos:end="21:63"><name pos:start="21:48" pos:end="21:53">m_data</name><operator pos:start="21:54" pos:end="21:55">-&gt;</operator><name pos:start="21:56" pos:end="21:63">l1_index</name></name></expr>]</index></name></expr>;</expr_stmt>

        <if_stmt pos:start="23:9" pos:end="27:22"><if pos:start="23:9" pos:end="27:22">if <condition pos:start="23:12" pos:end="25:93">(<expr pos:start="23:13" pos:end="25:92"><call pos:start="23:13" pos:end="25:66"><name pos:start="23:13" pos:end="23:23">bdrv_pwrite</name><argument_list pos:start="23:24" pos:end="25:66">(<argument pos:start="23:25" pos:end="23:32"><expr pos:start="23:25" pos:end="23:32"><name pos:start="23:25" pos:end="23:32"><name pos:start="23:25" pos:end="23:26">bs</name><operator pos:start="23:27" pos:end="23:28">-&gt;</operator><name pos:start="23:29" pos:end="23:32">file</name></name></expr></argument>, <argument pos:start="23:35" pos:end="23:114"><expr pos:start="23:35" pos:end="23:114"><operator pos:start="23:35" pos:end="23:35">(</operator><operator pos:start="23:36" pos:end="23:36">(</operator><name pos:start="23:37" pos:end="23:43">int64_t</name><operator pos:start="23:44" pos:end="23:44">)</operator><name pos:start="23:45" pos:end="23:61"><name pos:start="23:45" pos:end="23:50">m_data</name><operator pos:start="23:51" pos:end="23:52">-&gt;</operator><name pos:start="23:53" pos:end="23:61">l2_offset</name></name> <operator pos:start="23:63" pos:end="23:63">*</operator> <literal type="number" pos:start="23:65" pos:end="23:67">512</literal><operator pos:start="23:68" pos:end="23:68">)</operator> <operator pos:start="23:70" pos:end="23:70">+</operator> <operator pos:start="23:72" pos:end="23:72">(</operator><name pos:start="23:73" pos:end="23:88"><name pos:start="23:73" pos:end="23:78">m_data</name><operator pos:start="23:79" pos:end="23:80">-&gt;</operator><name pos:start="23:81" pos:end="23:88">l2_index</name></name> <operator pos:start="23:90" pos:end="23:90">*</operator> <sizeof pos:start="23:92" pos:end="23:113">sizeof<argument_list pos:start="23:98" pos:end="23:113">(<argument pos:start="23:99" pos:end="23:112"><expr pos:start="23:99" pos:end="23:112"><name pos:start="23:99" pos:end="23:112"><name pos:start="23:99" pos:end="23:104">m_data</name><operator pos:start="23:105" pos:end="23:106">-&gt;</operator><name pos:start="23:107" pos:end="23:112">offset</name></name></expr></argument>)</argument_list></sizeof><operator pos:start="23:114" pos:end="23:114">)</operator></expr></argument>,

                        <argument pos:start="25:25" pos:end="25:41"><expr pos:start="25:25" pos:end="25:41"><operator pos:start="25:25" pos:end="25:25">&amp;</operator><operator pos:start="25:26" pos:end="25:26">(</operator><name pos:start="25:27" pos:end="25:40"><name pos:start="25:27" pos:end="25:32">m_data</name><operator pos:start="25:33" pos:end="25:34">-&gt;</operator><name pos:start="25:35" pos:end="25:40">offset</name></name><operator pos:start="25:41" pos:end="25:41">)</operator></expr></argument>, <argument pos:start="25:44" pos:end="25:65"><expr pos:start="25:44" pos:end="25:65"><sizeof pos:start="25:44" pos:end="25:65">sizeof<argument_list pos:start="25:50" pos:end="25:65">(<argument pos:start="25:51" pos:end="25:64"><expr pos:start="25:51" pos:end="25:64"><name pos:start="25:51" pos:end="25:64"><name pos:start="25:51" pos:end="25:56">m_data</name><operator pos:start="25:57" pos:end="25:58">-&gt;</operator><name pos:start="25:59" pos:end="25:64">offset</name></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call> <operator pos:start="25:68" pos:end="25:69">!=</operator> <sizeof pos:start="25:71" pos:end="25:92">sizeof<argument_list pos:start="25:77" pos:end="25:92">(<argument pos:start="25:78" pos:end="25:91"><expr pos:start="25:78" pos:end="25:91"><name pos:start="25:78" pos:end="25:91"><name pos:start="25:78" pos:end="25:83">m_data</name><operator pos:start="25:84" pos:end="25:85">-&gt;</operator><name pos:start="25:86" pos:end="25:91">offset</name></name></expr></argument>)</argument_list></sizeof></expr>)</condition><block type="pseudo" pos:start="27:13" pos:end="27:22"><block_content pos:start="27:13" pos:end="27:22">

            <return pos:start="27:13" pos:end="27:22">return <expr pos:start="27:20" pos:end="27:21"><operator pos:start="27:20" pos:end="27:20">-</operator><literal type="number" pos:start="27:21" pos:end="27:21">1</literal></expr>;</return></block_content></block></if></if_stmt>

    </block_content>}</block></if></if_stmt>



    <return pos:start="33:5" pos:end="33:13">return <expr pos:start="33:12" pos:end="33:12"><literal type="number" pos:start="33:12" pos:end="33:12">0</literal></expr>;</return>

</block_content>}</block></function>
</unit>
