<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/1058.c" pos:tabs="8"><function pos:start="1:1" pos:end="160:1"><type pos:start="1:1" pos:end="1:4"><name pos:start="1:1" pos:end="1:4">void</name></type> <name pos:start="1:6" pos:end="1:30">qmp_block_set_io_throttle</name><parameter_list pos:start="1:31" pos:end="37:63">(<parameter pos:start="1:32" pos:end="1:49"><decl pos:start="1:32" pos:end="1:49"><type pos:start="1:32" pos:end="1:49"><specifier pos:start="1:32" pos:end="1:36">const</specifier> <name pos:start="1:38" pos:end="1:41">char</name> <modifier pos:start="1:43" pos:end="1:43">*</modifier></type><name pos:start="1:44" pos:end="1:49">device</name></decl></parameter>, <parameter pos:start="1:52" pos:end="1:62"><decl pos:start="1:52" pos:end="1:62"><type pos:start="1:52" pos:end="1:62"><name pos:start="1:52" pos:end="1:58">int64_t</name></type> <name pos:start="1:60" pos:end="1:62">bps</name></decl></parameter>, <parameter pos:start="1:65" pos:end="1:78"><decl pos:start="1:65" pos:end="1:78"><type pos:start="1:65" pos:end="1:78"><name pos:start="1:65" pos:end="1:71">int64_t</name></type> <name pos:start="1:73" pos:end="1:78">bps_rd</name></decl></parameter>,

                               <parameter pos:start="3:32" pos:end="3:45"><decl pos:start="3:32" pos:end="3:45"><type pos:start="3:32" pos:end="3:45"><name pos:start="3:32" pos:end="3:38">int64_t</name></type> <name pos:start="3:40" pos:end="3:45">bps_wr</name></decl></parameter>,

                               <parameter pos:start="5:32" pos:end="5:43"><decl pos:start="5:32" pos:end="5:43"><type pos:start="5:32" pos:end="5:43"><name pos:start="5:32" pos:end="5:38">int64_t</name></type> <name pos:start="5:40" pos:end="5:43">iops</name></decl></parameter>,

                               <parameter pos:start="7:32" pos:end="7:46"><decl pos:start="7:32" pos:end="7:46"><type pos:start="7:32" pos:end="7:46"><name pos:start="7:32" pos:end="7:38">int64_t</name></type> <name pos:start="7:40" pos:end="7:46">iops_rd</name></decl></parameter>,

                               <parameter pos:start="9:32" pos:end="9:46"><decl pos:start="9:32" pos:end="9:46"><type pos:start="9:32" pos:end="9:46"><name pos:start="9:32" pos:end="9:38">int64_t</name></type> <name pos:start="9:40" pos:end="9:46">iops_wr</name></decl></parameter>,

                               <parameter pos:start="11:32" pos:end="11:47"><decl pos:start="11:32" pos:end="11:47"><type pos:start="11:32" pos:end="11:47"><name pos:start="11:32" pos:end="11:35">bool</name></type> <name pos:start="11:37" pos:end="11:47">has_bps_max</name></decl></parameter>,

                               <parameter pos:start="13:32" pos:end="13:46"><decl pos:start="13:32" pos:end="13:46"><type pos:start="13:32" pos:end="13:46"><name pos:start="13:32" pos:end="13:38">int64_t</name></type> <name pos:start="13:40" pos:end="13:46">bps_max</name></decl></parameter>,

                               <parameter pos:start="15:32" pos:end="15:50"><decl pos:start="15:32" pos:end="15:50"><type pos:start="15:32" pos:end="15:50"><name pos:start="15:32" pos:end="15:35">bool</name></type> <name pos:start="15:37" pos:end="15:50">has_bps_rd_max</name></decl></parameter>,

                               <parameter pos:start="17:32" pos:end="17:49"><decl pos:start="17:32" pos:end="17:49"><type pos:start="17:32" pos:end="17:49"><name pos:start="17:32" pos:end="17:38">int64_t</name></type> <name pos:start="17:40" pos:end="17:49">bps_rd_max</name></decl></parameter>,

                               <parameter pos:start="19:32" pos:end="19:50"><decl pos:start="19:32" pos:end="19:50"><type pos:start="19:32" pos:end="19:50"><name pos:start="19:32" pos:end="19:35">bool</name></type> <name pos:start="19:37" pos:end="19:50">has_bps_wr_max</name></decl></parameter>,

                               <parameter pos:start="21:32" pos:end="21:49"><decl pos:start="21:32" pos:end="21:49"><type pos:start="21:32" pos:end="21:49"><name pos:start="21:32" pos:end="21:38">int64_t</name></type> <name pos:start="21:40" pos:end="21:49">bps_wr_max</name></decl></parameter>,

                               <parameter pos:start="23:32" pos:end="23:48"><decl pos:start="23:32" pos:end="23:48"><type pos:start="23:32" pos:end="23:48"><name pos:start="23:32" pos:end="23:35">bool</name></type> <name pos:start="23:37" pos:end="23:48">has_iops_max</name></decl></parameter>,

                               <parameter pos:start="25:32" pos:end="25:47"><decl pos:start="25:32" pos:end="25:47"><type pos:start="25:32" pos:end="25:47"><name pos:start="25:32" pos:end="25:38">int64_t</name></type> <name pos:start="25:40" pos:end="25:47">iops_max</name></decl></parameter>,

                               <parameter pos:start="27:32" pos:end="27:51"><decl pos:start="27:32" pos:end="27:51"><type pos:start="27:32" pos:end="27:51"><name pos:start="27:32" pos:end="27:35">bool</name></type> <name pos:start="27:37" pos:end="27:51">has_iops_rd_max</name></decl></parameter>,

                               <parameter pos:start="29:32" pos:end="29:50"><decl pos:start="29:32" pos:end="29:50"><type pos:start="29:32" pos:end="29:50"><name pos:start="29:32" pos:end="29:38">int64_t</name></type> <name pos:start="29:40" pos:end="29:50">iops_rd_max</name></decl></parameter>,

                               <parameter pos:start="31:32" pos:end="31:51"><decl pos:start="31:32" pos:end="31:51"><type pos:start="31:32" pos:end="31:51"><name pos:start="31:32" pos:end="31:35">bool</name></type> <name pos:start="31:37" pos:end="31:51">has_iops_wr_max</name></decl></parameter>,

                               <parameter pos:start="33:32" pos:end="33:50"><decl pos:start="33:32" pos:end="33:50"><type pos:start="33:32" pos:end="33:50"><name pos:start="33:32" pos:end="33:38">int64_t</name></type> <name pos:start="33:40" pos:end="33:50">iops_wr_max</name></decl></parameter>,

                               <parameter pos:start="35:32" pos:end="35:49"><decl pos:start="35:32" pos:end="35:49"><type pos:start="35:32" pos:end="35:49"><name pos:start="35:32" pos:end="35:35">bool</name></type> <name pos:start="35:37" pos:end="35:49">has_iops_size</name></decl></parameter>,

                               <parameter pos:start="37:32" pos:end="37:48"><decl pos:start="37:32" pos:end="37:48"><type pos:start="37:32" pos:end="37:48"><name pos:start="37:32" pos:end="37:38">int64_t</name></type> <name pos:start="37:40" pos:end="37:48">iops_size</name></decl></parameter>, <parameter pos:start="37:51" pos:end="37:62"><decl pos:start="37:51" pos:end="37:62"><type pos:start="37:51" pos:end="37:62"><name pos:start="37:51" pos:end="37:55">Error</name> <modifier pos:start="37:57" pos:end="37:57">*</modifier><modifier pos:start="37:58" pos:end="37:58">*</modifier></type><name pos:start="37:59" pos:end="37:62">errp</name></decl></parameter>)</parameter_list>

<block pos:start="39:1" pos:end="160:1">{<block_content pos:start="41:5" pos:end="158:37">

    <decl_stmt pos:start="41:5" pos:end="41:23"><decl pos:start="41:5" pos:end="41:22"><type pos:start="41:5" pos:end="41:18"><name pos:start="41:5" pos:end="41:18">ThrottleConfig</name></type> <name pos:start="41:20" pos:end="41:22">cfg</name></decl>;</decl_stmt>

    <decl_stmt pos:start="43:5" pos:end="43:25"><decl pos:start="43:5" pos:end="43:24"><type pos:start="43:5" pos:end="43:22"><name pos:start="43:5" pos:end="43:20">BlockDriverState</name> <modifier pos:start="43:22" pos:end="43:22">*</modifier></type><name pos:start="43:23" pos:end="43:24">bs</name></decl>;</decl_stmt>




    <expr_stmt pos:start="48:5" pos:end="48:27"><expr pos:start="48:5" pos:end="48:26"><name pos:start="48:5" pos:end="48:6">bs</name> <operator pos:start="48:8" pos:end="48:8">=</operator> <call pos:start="48:10" pos:end="48:26"><name pos:start="48:10" pos:end="48:18">bdrv_find</name><argument_list pos:start="48:19" pos:end="48:26">(<argument pos:start="48:20" pos:end="48:25"><expr pos:start="48:20" pos:end="48:25"><name pos:start="48:20" pos:end="48:25">device</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="50:5" pos:end="56:5"><if pos:start="50:5" pos:end="56:5">if <condition pos:start="50:8" pos:end="50:12">(<expr pos:start="50:9" pos:end="50:11"><operator pos:start="50:9" pos:end="50:9">!</operator><name pos:start="50:10" pos:end="50:11">bs</name></expr>)</condition> <block pos:start="50:14" pos:end="56:5">{<block_content pos:start="52:9" pos:end="54:15">

        <expr_stmt pos:start="52:9" pos:end="52:55"><expr pos:start="52:9" pos:end="52:54"><call pos:start="52:9" pos:end="52:54"><name pos:start="52:9" pos:end="52:17">error_set</name><argument_list pos:start="52:18" pos:end="52:54">(<argument pos:start="52:19" pos:end="52:22"><expr pos:start="52:19" pos:end="52:22"><name pos:start="52:19" pos:end="52:22">errp</name></expr></argument>, <argument pos:start="52:25" pos:end="52:45"><expr pos:start="52:25" pos:end="52:45"><name pos:start="52:25" pos:end="52:45">QERR_DEVICE_NOT_FOUND</name></expr></argument>, <argument pos:start="52:48" pos:end="52:53"><expr pos:start="52:48" pos:end="52:53"><name pos:start="52:48" pos:end="52:53">device</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <return pos:start="54:9" pos:end="54:15">return;</return>

    </block_content>}</block></if></if_stmt>



    <expr_stmt pos:start="60:5" pos:end="60:33"><expr pos:start="60:5" pos:end="60:32"><call pos:start="60:5" pos:end="60:32"><name pos:start="60:5" pos:end="60:10">memset</name><argument_list pos:start="60:11" pos:end="60:32">(<argument pos:start="60:12" pos:end="60:15"><expr pos:start="60:12" pos:end="60:15"><operator pos:start="60:12" pos:end="60:12">&amp;</operator><name pos:start="60:13" pos:end="60:15">cfg</name></expr></argument>, <argument pos:start="60:18" pos:end="60:18"><expr pos:start="60:18" pos:end="60:18"><literal type="number" pos:start="60:18" pos:end="60:18">0</literal></expr></argument>, <argument pos:start="60:21" pos:end="60:31"><expr pos:start="60:21" pos:end="60:31"><sizeof pos:start="60:21" pos:end="60:31">sizeof<argument_list pos:start="60:27" pos:end="60:31">(<argument pos:start="60:28" pos:end="60:30"><expr pos:start="60:28" pos:end="60:30"><name pos:start="60:28" pos:end="60:30">cfg</name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="62:5" pos:end="62:46"><expr pos:start="62:5" pos:end="62:45"><name pos:start="62:5" pos:end="62:35"><name pos:start="62:5" pos:end="62:7">cfg</name><operator pos:start="62:8" pos:end="62:8">.</operator><name pos:start="62:9" pos:end="62:15">buckets</name><index pos:start="62:16" pos:end="62:35">[<expr pos:start="62:17" pos:end="62:34"><name pos:start="62:17" pos:end="62:34">THROTTLE_BPS_TOTAL</name></expr>]</index></name><operator pos:start="62:36" pos:end="62:36">.</operator><name pos:start="62:37" pos:end="62:39">avg</name> <operator pos:start="62:41" pos:end="62:41">=</operator> <name pos:start="62:43" pos:end="62:45">bps</name></expr>;</expr_stmt>

    <expr_stmt pos:start="64:5" pos:end="64:49"><expr pos:start="64:5" pos:end="64:48"><name pos:start="64:5" pos:end="64:34"><name pos:start="64:5" pos:end="64:7">cfg</name><operator pos:start="64:8" pos:end="64:8">.</operator><name pos:start="64:9" pos:end="64:15">buckets</name><index pos:start="64:16" pos:end="64:34">[<expr pos:start="64:17" pos:end="64:33"><name pos:start="64:17" pos:end="64:33">THROTTLE_BPS_READ</name></expr>]</index></name><operator pos:start="64:35" pos:end="64:35">.</operator><name pos:start="64:36" pos:end="64:38">avg</name>  <operator pos:start="64:41" pos:end="64:41">=</operator> <name pos:start="64:43" pos:end="64:48">bps_rd</name></expr>;</expr_stmt>

    <expr_stmt pos:start="66:5" pos:end="66:49"><expr pos:start="66:5" pos:end="66:48"><name pos:start="66:5" pos:end="66:35"><name pos:start="66:5" pos:end="66:7">cfg</name><operator pos:start="66:8" pos:end="66:8">.</operator><name pos:start="66:9" pos:end="66:15">buckets</name><index pos:start="66:16" pos:end="66:35">[<expr pos:start="66:17" pos:end="66:34"><name pos:start="66:17" pos:end="66:34">THROTTLE_BPS_WRITE</name></expr>]</index></name><operator pos:start="66:36" pos:end="66:36">.</operator><name pos:start="66:37" pos:end="66:39">avg</name> <operator pos:start="66:41" pos:end="66:41">=</operator> <name pos:start="66:43" pos:end="66:48">bps_wr</name></expr>;</expr_stmt>



    <expr_stmt pos:start="70:5" pos:end="70:47"><expr pos:start="70:5" pos:end="70:46"><name pos:start="70:5" pos:end="70:35"><name pos:start="70:5" pos:end="70:7">cfg</name><operator pos:start="70:8" pos:end="70:8">.</operator><name pos:start="70:9" pos:end="70:15">buckets</name><index pos:start="70:16" pos:end="70:35">[<expr pos:start="70:17" pos:end="70:34"><name pos:start="70:17" pos:end="70:34">THROTTLE_OPS_TOTAL</name></expr>]</index></name><operator pos:start="70:36" pos:end="70:36">.</operator><name pos:start="70:37" pos:end="70:39">avg</name> <operator pos:start="70:41" pos:end="70:41">=</operator> <name pos:start="70:43" pos:end="70:46">iops</name></expr>;</expr_stmt>

    <expr_stmt pos:start="72:5" pos:end="72:50"><expr pos:start="72:5" pos:end="72:49"><name pos:start="72:5" pos:end="72:34"><name pos:start="72:5" pos:end="72:7">cfg</name><operator pos:start="72:8" pos:end="72:8">.</operator><name pos:start="72:9" pos:end="72:15">buckets</name><index pos:start="72:16" pos:end="72:34">[<expr pos:start="72:17" pos:end="72:33"><name pos:start="72:17" pos:end="72:33">THROTTLE_OPS_READ</name></expr>]</index></name><operator pos:start="72:35" pos:end="72:35">.</operator><name pos:start="72:36" pos:end="72:38">avg</name>  <operator pos:start="72:41" pos:end="72:41">=</operator> <name pos:start="72:43" pos:end="72:49">iops_rd</name></expr>;</expr_stmt>

    <expr_stmt pos:start="74:5" pos:end="74:50"><expr pos:start="74:5" pos:end="74:49"><name pos:start="74:5" pos:end="74:35"><name pos:start="74:5" pos:end="74:7">cfg</name><operator pos:start="74:8" pos:end="74:8">.</operator><name pos:start="74:9" pos:end="74:15">buckets</name><index pos:start="74:16" pos:end="74:35">[<expr pos:start="74:17" pos:end="74:34"><name pos:start="74:17" pos:end="74:34">THROTTLE_OPS_WRITE</name></expr>]</index></name><operator pos:start="74:36" pos:end="74:36">.</operator><name pos:start="74:37" pos:end="74:39">avg</name> <operator pos:start="74:41" pos:end="74:41">=</operator> <name pos:start="74:43" pos:end="74:49">iops_wr</name></expr>;</expr_stmt>



    <if_stmt pos:start="78:5" pos:end="82:5"><if pos:start="78:5" pos:end="82:5">if <condition pos:start="78:8" pos:end="78:20">(<expr pos:start="78:9" pos:end="78:19"><name pos:start="78:9" pos:end="78:19">has_bps_max</name></expr>)</condition> <block pos:start="78:22" pos:end="82:5">{<block_content pos:start="80:9" pos:end="80:54">

        <expr_stmt pos:start="80:9" pos:end="80:54"><expr pos:start="80:9" pos:end="80:53"><name pos:start="80:9" pos:end="80:39"><name pos:start="80:9" pos:end="80:11">cfg</name><operator pos:start="80:12" pos:end="80:12">.</operator><name pos:start="80:13" pos:end="80:19">buckets</name><index pos:start="80:20" pos:end="80:39">[<expr pos:start="80:21" pos:end="80:38"><name pos:start="80:21" pos:end="80:38">THROTTLE_BPS_TOTAL</name></expr>]</index></name><operator pos:start="80:40" pos:end="80:40">.</operator><name pos:start="80:41" pos:end="80:43">max</name> <operator pos:start="80:45" pos:end="80:45">=</operator> <name pos:start="80:47" pos:end="80:53">bps_max</name></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    <if_stmt pos:start="84:5" pos:end="88:5"><if pos:start="84:5" pos:end="88:5">if <condition pos:start="84:8" pos:end="84:23">(<expr pos:start="84:9" pos:end="84:22"><name pos:start="84:9" pos:end="84:22">has_bps_rd_max</name></expr>)</condition> <block pos:start="84:25" pos:end="88:5">{<block_content pos:start="86:9" pos:end="86:56">

        <expr_stmt pos:start="86:9" pos:end="86:56"><expr pos:start="86:9" pos:end="86:55"><name pos:start="86:9" pos:end="86:38"><name pos:start="86:9" pos:end="86:11">cfg</name><operator pos:start="86:12" pos:end="86:12">.</operator><name pos:start="86:13" pos:end="86:19">buckets</name><index pos:start="86:20" pos:end="86:38">[<expr pos:start="86:21" pos:end="86:37"><name pos:start="86:21" pos:end="86:37">THROTTLE_BPS_READ</name></expr>]</index></name><operator pos:start="86:39" pos:end="86:39">.</operator><name pos:start="86:40" pos:end="86:42">max</name> <operator pos:start="86:44" pos:end="86:44">=</operator> <name pos:start="86:46" pos:end="86:55">bps_rd_max</name></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    <if_stmt pos:start="90:5" pos:end="94:5"><if pos:start="90:5" pos:end="94:5">if <condition pos:start="90:8" pos:end="90:23">(<expr pos:start="90:9" pos:end="90:22"><name pos:start="90:9" pos:end="90:22">has_bps_wr_max</name></expr>)</condition> <block pos:start="90:25" pos:end="94:5">{<block_content pos:start="92:9" pos:end="92:57">

        <expr_stmt pos:start="92:9" pos:end="92:57"><expr pos:start="92:9" pos:end="92:56"><name pos:start="92:9" pos:end="92:39"><name pos:start="92:9" pos:end="92:11">cfg</name><operator pos:start="92:12" pos:end="92:12">.</operator><name pos:start="92:13" pos:end="92:19">buckets</name><index pos:start="92:20" pos:end="92:39">[<expr pos:start="92:21" pos:end="92:38"><name pos:start="92:21" pos:end="92:38">THROTTLE_BPS_WRITE</name></expr>]</index></name><operator pos:start="92:40" pos:end="92:40">.</operator><name pos:start="92:41" pos:end="92:43">max</name> <operator pos:start="92:45" pos:end="92:45">=</operator> <name pos:start="92:47" pos:end="92:56">bps_wr_max</name></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    <if_stmt pos:start="96:5" pos:end="100:5"><if pos:start="96:5" pos:end="100:5">if <condition pos:start="96:8" pos:end="96:21">(<expr pos:start="96:9" pos:end="96:20"><name pos:start="96:9" pos:end="96:20">has_iops_max</name></expr>)</condition> <block pos:start="96:23" pos:end="100:5">{<block_content pos:start="98:9" pos:end="98:55">

        <expr_stmt pos:start="98:9" pos:end="98:55"><expr pos:start="98:9" pos:end="98:54"><name pos:start="98:9" pos:end="98:39"><name pos:start="98:9" pos:end="98:11">cfg</name><operator pos:start="98:12" pos:end="98:12">.</operator><name pos:start="98:13" pos:end="98:19">buckets</name><index pos:start="98:20" pos:end="98:39">[<expr pos:start="98:21" pos:end="98:38"><name pos:start="98:21" pos:end="98:38">THROTTLE_OPS_TOTAL</name></expr>]</index></name><operator pos:start="98:40" pos:end="98:40">.</operator><name pos:start="98:41" pos:end="98:43">max</name> <operator pos:start="98:45" pos:end="98:45">=</operator> <name pos:start="98:47" pos:end="98:54">iops_max</name></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    <if_stmt pos:start="102:5" pos:end="106:5"><if pos:start="102:5" pos:end="106:5">if <condition pos:start="102:8" pos:end="102:24">(<expr pos:start="102:9" pos:end="102:23"><name pos:start="102:9" pos:end="102:23">has_iops_rd_max</name></expr>)</condition> <block pos:start="102:26" pos:end="106:5">{<block_content pos:start="104:9" pos:end="104:57">

        <expr_stmt pos:start="104:9" pos:end="104:57"><expr pos:start="104:9" pos:end="104:56"><name pos:start="104:9" pos:end="104:38"><name pos:start="104:9" pos:end="104:11">cfg</name><operator pos:start="104:12" pos:end="104:12">.</operator><name pos:start="104:13" pos:end="104:19">buckets</name><index pos:start="104:20" pos:end="104:38">[<expr pos:start="104:21" pos:end="104:37"><name pos:start="104:21" pos:end="104:37">THROTTLE_OPS_READ</name></expr>]</index></name><operator pos:start="104:39" pos:end="104:39">.</operator><name pos:start="104:40" pos:end="104:42">max</name> <operator pos:start="104:44" pos:end="104:44">=</operator> <name pos:start="104:46" pos:end="104:56">iops_rd_max</name></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    <if_stmt pos:start="108:5" pos:end="112:5"><if pos:start="108:5" pos:end="112:5">if <condition pos:start="108:8" pos:end="108:24">(<expr pos:start="108:9" pos:end="108:23"><name pos:start="108:9" pos:end="108:23">has_iops_wr_max</name></expr>)</condition> <block pos:start="108:26" pos:end="112:5">{<block_content pos:start="110:9" pos:end="110:58">

        <expr_stmt pos:start="110:9" pos:end="110:58"><expr pos:start="110:9" pos:end="110:57"><name pos:start="110:9" pos:end="110:39"><name pos:start="110:9" pos:end="110:11">cfg</name><operator pos:start="110:12" pos:end="110:12">.</operator><name pos:start="110:13" pos:end="110:19">buckets</name><index pos:start="110:20" pos:end="110:39">[<expr pos:start="110:21" pos:end="110:38"><name pos:start="110:21" pos:end="110:38">THROTTLE_OPS_WRITE</name></expr>]</index></name><operator pos:start="110:40" pos:end="110:40">.</operator><name pos:start="110:41" pos:end="110:43">max</name> <operator pos:start="110:45" pos:end="110:45">=</operator> <name pos:start="110:47" pos:end="110:57">iops_wr_max</name></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="116:5" pos:end="120:5"><if pos:start="116:5" pos:end="120:5">if <condition pos:start="116:8" pos:end="116:22">(<expr pos:start="116:9" pos:end="116:21"><name pos:start="116:9" pos:end="116:21">has_iops_size</name></expr>)</condition> <block pos:start="116:24" pos:end="120:5">{<block_content pos:start="118:9" pos:end="118:32">

        <expr_stmt pos:start="118:9" pos:end="118:32"><expr pos:start="118:9" pos:end="118:31"><name pos:start="118:9" pos:end="118:19"><name pos:start="118:9" pos:end="118:11">cfg</name><operator pos:start="118:12" pos:end="118:12">.</operator><name pos:start="118:13" pos:end="118:19">op_size</name></name> <operator pos:start="118:21" pos:end="118:21">=</operator> <name pos:start="118:23" pos:end="118:31">iops_size</name></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="124:5" pos:end="128:5"><if pos:start="124:5" pos:end="128:5">if <condition pos:start="124:8" pos:end="124:43">(<expr pos:start="124:9" pos:end="124:42"><operator pos:start="124:9" pos:end="124:9">!</operator><call pos:start="124:10" pos:end="124:42"><name pos:start="124:10" pos:end="124:30">check_throttle_config</name><argument_list pos:start="124:31" pos:end="124:42">(<argument pos:start="124:32" pos:end="124:35"><expr pos:start="124:32" pos:end="124:35"><operator pos:start="124:32" pos:end="124:32">&amp;</operator><name pos:start="124:33" pos:end="124:35">cfg</name></expr></argument>, <argument pos:start="124:38" pos:end="124:41"><expr pos:start="124:38" pos:end="124:41"><name pos:start="124:38" pos:end="124:41">errp</name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="124:45" pos:end="128:5">{<block_content pos:start="126:9" pos:end="126:15">

        <return pos:start="126:9" pos:end="126:15">return;</return>

    </block_content>}</block></if></if_stmt>



    <expr_stmt pos:start="132:5" pos:end="132:43"><expr pos:start="132:5" pos:end="132:42"><name pos:start="132:5" pos:end="132:15">aio_context</name> <operator pos:start="132:17" pos:end="132:17">=</operator> <call pos:start="132:19" pos:end="132:42"><name pos:start="132:19" pos:end="132:38">bdrv_get_aio_context</name><argument_list pos:start="132:39" pos:end="132:42">(<argument pos:start="132:40" pos:end="132:41"><expr pos:start="132:40" pos:end="132:41"><name pos:start="132:40" pos:end="132:41">bs</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="134:5" pos:end="134:37"><expr pos:start="134:5" pos:end="134:36"><call pos:start="134:5" pos:end="134:36"><name pos:start="134:5" pos:end="134:23">aio_context_acquire</name><argument_list pos:start="134:24" pos:end="134:36">(<argument pos:start="134:25" pos:end="134:35"><expr pos:start="134:25" pos:end="134:35"><name pos:start="134:25" pos:end="134:35">aio_context</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <if_stmt pos:start="138:5" pos:end="146:5"><if pos:start="138:5" pos:end="142:5">if <condition pos:start="138:8" pos:end="138:57">(<expr pos:start="138:9" pos:end="138:56"><operator pos:start="138:9" pos:end="138:9">!</operator><name pos:start="138:10" pos:end="138:30"><name pos:start="138:10" pos:end="138:11">bs</name><operator pos:start="138:12" pos:end="138:13">-&gt;</operator><name pos:start="138:14" pos:end="138:30">io_limits_enabled</name></name> <operator pos:start="138:32" pos:end="138:33">&amp;&amp;</operator> <call pos:start="138:35" pos:end="138:56"><name pos:start="138:35" pos:end="138:50">throttle_enabled</name><argument_list pos:start="138:51" pos:end="138:56">(<argument pos:start="138:52" pos:end="138:55"><expr pos:start="138:52" pos:end="138:55"><operator pos:start="138:52" pos:end="138:52">&amp;</operator><name pos:start="138:53" pos:end="138:55">cfg</name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="138:59" pos:end="142:5">{<block_content pos:start="140:9" pos:end="140:34">

        <expr_stmt pos:start="140:9" pos:end="140:34"><expr pos:start="140:9" pos:end="140:33"><call pos:start="140:9" pos:end="140:33"><name pos:start="140:9" pos:end="140:29">bdrv_io_limits_enable</name><argument_list pos:start="140:30" pos:end="140:33">(<argument pos:start="140:31" pos:end="140:32"><expr pos:start="140:31" pos:end="140:32"><name pos:start="140:31" pos:end="140:32">bs</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if> <if type="elseif" pos:start="142:7" pos:end="146:5">else if <condition pos:start="142:15" pos:end="142:64">(<expr pos:start="142:16" pos:end="142:63"><name pos:start="142:16" pos:end="142:36"><name pos:start="142:16" pos:end="142:17">bs</name><operator pos:start="142:18" pos:end="142:19">-&gt;</operator><name pos:start="142:20" pos:end="142:36">io_limits_enabled</name></name> <operator pos:start="142:38" pos:end="142:39">&amp;&amp;</operator> <operator pos:start="142:41" pos:end="142:41">!</operator><call pos:start="142:42" pos:end="142:63"><name pos:start="142:42" pos:end="142:57">throttle_enabled</name><argument_list pos:start="142:58" pos:end="142:63">(<argument pos:start="142:59" pos:end="142:62"><expr pos:start="142:59" pos:end="142:62"><operator pos:start="142:59" pos:end="142:59">&amp;</operator><name pos:start="142:60" pos:end="142:62">cfg</name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="142:66" pos:end="146:5">{<block_content pos:start="144:9" pos:end="144:35">

        <expr_stmt pos:start="144:9" pos:end="144:35"><expr pos:start="144:9" pos:end="144:34"><call pos:start="144:9" pos:end="144:34"><name pos:start="144:9" pos:end="144:30">bdrv_io_limits_disable</name><argument_list pos:start="144:31" pos:end="144:34">(<argument pos:start="144:32" pos:end="144:33"><expr pos:start="144:32" pos:end="144:33"><name pos:start="144:32" pos:end="144:33">bs</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="150:5" pos:end="154:5"><if pos:start="150:5" pos:end="154:5">if <condition pos:start="150:8" pos:end="150:30">(<expr pos:start="150:9" pos:end="150:29"><name pos:start="150:9" pos:end="150:29"><name pos:start="150:9" pos:end="150:10">bs</name><operator pos:start="150:11" pos:end="150:12">-&gt;</operator><name pos:start="150:13" pos:end="150:29">io_limits_enabled</name></name></expr>)</condition> <block pos:start="150:32" pos:end="154:5">{<block_content pos:start="152:9" pos:end="152:37">

        <expr_stmt pos:start="152:9" pos:end="152:37"><expr pos:start="152:9" pos:end="152:36"><call pos:start="152:9" pos:end="152:36"><name pos:start="152:9" pos:end="152:26">bdrv_set_io_limits</name><argument_list pos:start="152:27" pos:end="152:36">(<argument pos:start="152:28" pos:end="152:29"><expr pos:start="152:28" pos:end="152:29"><name pos:start="152:28" pos:end="152:29">bs</name></expr></argument>, <argument pos:start="152:32" pos:end="152:35"><expr pos:start="152:32" pos:end="152:35"><operator pos:start="152:32" pos:end="152:32">&amp;</operator><name pos:start="152:33" pos:end="152:35">cfg</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <expr_stmt pos:start="158:5" pos:end="158:37"><expr pos:start="158:5" pos:end="158:36"><call pos:start="158:5" pos:end="158:36"><name pos:start="158:5" pos:end="158:23">aio_context_release</name><argument_list pos:start="158:24" pos:end="158:36">(<argument pos:start="158:25" pos:end="158:35"><expr pos:start="158:25" pos:end="158:35"><name pos:start="158:25" pos:end="158:35">aio_context</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

</block_content>}</block></function></unit>
