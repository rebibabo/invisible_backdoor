<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/2137.c" pos:tabs="8"><function pos:start="1:1" pos:end="50:13"><type pos:start="1:1" pos:end="1:10"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:10">int</name></type> <name pos:start="1:12" pos:end="1:25">usb_msd_initfn</name><parameter_list pos:start="1:26" pos:end="1:41">(<parameter pos:start="1:27" pos:end="1:40"><decl pos:start="1:27" pos:end="1:40"><type pos:start="1:27" pos:end="1:37"><name pos:start="1:27" pos:end="1:35">USBDevice</name> <modifier pos:start="1:37" pos:end="1:37">*</modifier></type><name pos:start="1:38" pos:end="1:40">dev</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="50:13">{<block_content pos:start="5:5" pos:end="50:13">

    <decl_stmt pos:start="5:5" pos:end="5:48"><decl pos:start="5:5" pos:end="5:47"><type pos:start="5:5" pos:end="5:14"><name pos:start="5:5" pos:end="5:12">MSDState</name> <modifier pos:start="5:14" pos:end="5:14">*</modifier></type><name pos:start="5:15" pos:end="5:15">s</name> <init pos:start="5:17" pos:end="5:47">= <expr pos:start="5:19" pos:end="5:47"><call pos:start="5:19" pos:end="5:47"><name pos:start="5:19" pos:end="5:27">DO_UPCAST</name><argument_list pos:start="5:28" pos:end="5:47">(<argument pos:start="5:29" pos:end="5:36"><expr pos:start="5:29" pos:end="5:36"><name pos:start="5:29" pos:end="5:36">MSDState</name></expr></argument>, <argument pos:start="5:39" pos:end="5:41"><expr pos:start="5:39" pos:end="5:41"><name pos:start="5:39" pos:end="5:41">dev</name></expr></argument>, <argument pos:start="5:44" pos:end="5:46"><expr pos:start="5:44" pos:end="5:46"><name pos:start="5:44" pos:end="5:46">dev</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>



    <if_stmt pos:start="9:5" pos:end="50:13"><if pos:start="9:5" pos:end="50:13">if <condition pos:start="9:8" pos:end="9:47">(<expr pos:start="9:9" pos:end="9:46"><operator pos:start="9:9" pos:end="9:9">!</operator><name pos:start="9:10" pos:end="9:22"><name pos:start="9:10" pos:end="9:10">s</name><operator pos:start="9:11" pos:end="9:12">-&gt;</operator><name pos:start="9:13" pos:end="9:16">conf</name><operator pos:start="9:17" pos:end="9:17">.</operator><name pos:start="9:18" pos:end="9:22">dinfo</name></name> <operator pos:start="9:24" pos:end="9:25">||</operator> <operator pos:start="9:27" pos:end="9:27">!</operator><name pos:start="9:28" pos:end="9:46"><name pos:start="9:28" pos:end="9:28">s</name><operator pos:start="9:29" pos:end="9:30">-&gt;</operator><name pos:start="9:31" pos:end="9:34">conf</name><operator pos:start="9:35" pos:end="9:35">.</operator><name pos:start="9:36" pos:end="9:40">dinfo</name><operator pos:start="9:41" pos:end="9:42">-&gt;</operator><name pos:start="9:43" pos:end="9:46">bdrv</name></name></expr>)</condition> <block pos:start="9:49" pos:end="50:13">{<block_content pos:start="11:9" pos:end="50:13">

        <expr_stmt pos:start="11:9" pos:end="11:56"><expr pos:start="11:9" pos:end="11:55"><call pos:start="11:9" pos:end="11:55"><name pos:start="11:9" pos:end="11:20">error_report</name><argument_list pos:start="11:21" pos:end="11:55">(<argument pos:start="11:22" pos:end="11:54"><expr pos:start="11:22" pos:end="11:54"><literal type="string" pos:start="11:22" pos:end="11:54">"usb-msd: drive property not set"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>





    <expr_stmt pos:start="17:5" pos:end="17:34"><expr pos:start="17:5" pos:end="17:33"><name pos:start="17:5" pos:end="17:16"><name pos:start="17:5" pos:end="17:5">s</name><operator pos:start="17:6" pos:end="17:7">-&gt;</operator><name pos:start="17:8" pos:end="17:10">dev</name><operator pos:start="17:11" pos:end="17:11">.</operator><name pos:start="17:12" pos:end="17:16">speed</name></name> <operator pos:start="17:18" pos:end="17:18">=</operator> <name pos:start="17:20" pos:end="17:33">USB_SPEED_FULL</name></expr>;</expr_stmt>

    <expr_stmt pos:start="19:5" pos:end="19:72"><expr pos:start="19:5" pos:end="19:71"><call pos:start="19:5" pos:end="19:71"><name pos:start="19:5" pos:end="19:16">scsi_bus_new</name><argument_list pos:start="19:17" pos:end="19:71">(<argument pos:start="19:18" pos:end="19:24"><expr pos:start="19:18" pos:end="19:24"><operator pos:start="19:18" pos:end="19:18">&amp;</operator><name pos:start="19:19" pos:end="19:24"><name pos:start="19:19" pos:end="19:19">s</name><operator pos:start="19:20" pos:end="19:21">-&gt;</operator><name pos:start="19:22" pos:end="19:24">bus</name></name></expr></argument>, <argument pos:start="19:27" pos:end="19:38"><expr pos:start="19:27" pos:end="19:38"><operator pos:start="19:27" pos:end="19:27">&amp;</operator><name pos:start="19:28" pos:end="19:38"><name pos:start="19:28" pos:end="19:28">s</name><operator pos:start="19:29" pos:end="19:30">-&gt;</operator><name pos:start="19:31" pos:end="19:33">dev</name><operator pos:start="19:34" pos:end="19:34">.</operator><name pos:start="19:35" pos:end="19:38">qdev</name></name></expr></argument>, <argument pos:start="19:41" pos:end="19:41"><expr pos:start="19:41" pos:end="19:41"><literal type="number" pos:start="19:41" pos:end="19:41">0</literal></expr></argument>, <argument pos:start="19:44" pos:end="19:44"><expr pos:start="19:44" pos:end="19:44"><literal type="number" pos:start="19:44" pos:end="19:44">1</literal></expr></argument>, <argument pos:start="19:47" pos:end="19:70"><expr pos:start="19:47" pos:end="19:70"><name pos:start="19:47" pos:end="19:70">usb_msd_command_complete</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="21:5" pos:end="21:71"><expr pos:start="21:5" pos:end="21:70"><name pos:start="21:5" pos:end="21:15"><name pos:start="21:5" pos:end="21:5">s</name><operator pos:start="21:6" pos:end="21:7">-&gt;</operator><name pos:start="21:8" pos:end="21:15">scsi_dev</name></name> <operator pos:start="21:17" pos:end="21:17">=</operator> <call pos:start="21:19" pos:end="21:70"><name pos:start="21:19" pos:end="21:43">scsi_bus_legacy_add_drive</name><argument_list pos:start="21:44" pos:end="21:70">(<argument pos:start="21:45" pos:end="21:51"><expr pos:start="21:45" pos:end="21:51"><operator pos:start="21:45" pos:end="21:45">&amp;</operator><name pos:start="21:46" pos:end="21:51"><name pos:start="21:46" pos:end="21:46">s</name><operator pos:start="21:47" pos:end="21:48">-&gt;</operator><name pos:start="21:49" pos:end="21:51">bus</name></name></expr></argument>, <argument pos:start="21:54" pos:end="21:66"><expr pos:start="21:54" pos:end="21:66"><name pos:start="21:54" pos:end="21:66"><name pos:start="21:54" pos:end="21:54">s</name><operator pos:start="21:55" pos:end="21:56">-&gt;</operator><name pos:start="21:57" pos:end="21:60">conf</name><operator pos:start="21:61" pos:end="21:61">.</operator><name pos:start="21:62" pos:end="21:66">dinfo</name></name></expr></argument>, <argument pos:start="21:69" pos:end="21:69"><expr pos:start="21:69" pos:end="21:69"><literal type="number" pos:start="21:69" pos:end="21:69">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>




    <expr_stmt pos:start="26:5" pos:end="26:34"><expr pos:start="26:5" pos:end="26:33"><name pos:start="26:5" pos:end="26:29"><name pos:start="26:5" pos:end="26:5">s</name><operator pos:start="26:6" pos:end="26:7">-&gt;</operator><name pos:start="26:8" pos:end="26:10">bus</name><operator pos:start="26:11" pos:end="26:11">.</operator><name pos:start="26:12" pos:end="26:15">qbus</name><operator pos:start="26:16" pos:end="26:16">.</operator><name pos:start="26:17" pos:end="26:29">allow_hotplug</name></name> <operator pos:start="26:31" pos:end="26:31">=</operator> <literal type="number" pos:start="26:33" pos:end="26:33">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="28:5" pos:end="28:30"><expr pos:start="28:5" pos:end="28:29"><call pos:start="28:5" pos:end="28:29"><name pos:start="28:5" pos:end="28:24">usb_msd_handle_reset</name><argument_list pos:start="28:25" pos:end="28:29">(<argument pos:start="28:26" pos:end="28:28"><expr pos:start="28:26" pos:end="28:28"><name pos:start="28:26" pos:end="28:28">dev</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <if_stmt pos:start="32:5" pos:end="50:13"><if pos:start="32:5" pos:end="50:13">if <condition pos:start="32:8" pos:end="32:47">(<expr pos:start="32:9" pos:end="32:46"><call pos:start="32:9" pos:end="32:46"><name pos:start="32:9" pos:end="32:25">bdrv_key_required</name><argument_list pos:start="32:26" pos:end="32:46">(<argument pos:start="32:27" pos:end="32:45"><expr pos:start="32:27" pos:end="32:45"><name pos:start="32:27" pos:end="32:45"><name pos:start="32:27" pos:end="32:27">s</name><operator pos:start="32:28" pos:end="32:29">-&gt;</operator><name pos:start="32:30" pos:end="32:33">conf</name><operator pos:start="32:34" pos:end="32:34">.</operator><name pos:start="32:35" pos:end="32:39">dinfo</name><operator pos:start="32:40" pos:end="32:41">-&gt;</operator><name pos:start="32:42" pos:end="32:45">bdrv</name></name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="32:49" pos:end="50:13">{<block_content pos:start="34:9" pos:end="50:13">

        <if_stmt pos:start="34:9" pos:end="50:13"><if pos:start="34:9" pos:end="42:9">if <condition pos:start="34:12" pos:end="34:20">(<expr pos:start="34:13" pos:end="34:19"><name pos:start="34:13" pos:end="34:19">cur_mon</name></expr>)</condition> <block pos:start="34:22" pos:end="42:9">{<block_content pos:start="36:13" pos:end="40:35">

            <expr_stmt pos:start="36:13" pos:end="38:64"><expr pos:start="36:13" pos:end="38:63"><call pos:start="36:13" pos:end="38:63"><name pos:start="36:13" pos:end="36:39">monitor_read_bdrv_key_start</name><argument_list pos:start="36:40" pos:end="38:63">(<argument pos:start="36:41" pos:end="36:47"><expr pos:start="36:41" pos:end="36:47"><name pos:start="36:41" pos:end="36:47">cur_mon</name></expr></argument>, <argument pos:start="36:50" pos:end="36:68"><expr pos:start="36:50" pos:end="36:68"><name pos:start="36:50" pos:end="36:68"><name pos:start="36:50" pos:end="36:50">s</name><operator pos:start="36:51" pos:end="36:52">-&gt;</operator><name pos:start="36:53" pos:end="36:56">conf</name><operator pos:start="36:57" pos:end="36:57">.</operator><name pos:start="36:58" pos:end="36:62">dinfo</name><operator pos:start="36:63" pos:end="36:64">-&gt;</operator><name pos:start="36:65" pos:end="36:68">bdrv</name></name></expr></argument>,

                                        <argument pos:start="38:41" pos:end="38:59"><expr pos:start="38:41" pos:end="38:59"><name pos:start="38:41" pos:end="38:59">usb_msd_password_cb</name></expr></argument>, <argument pos:start="38:62" pos:end="38:62"><expr pos:start="38:62" pos:end="38:62"><name pos:start="38:62" pos:end="38:62">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="40:13" pos:end="40:35"><expr pos:start="40:13" pos:end="40:34"><name pos:start="40:13" pos:end="40:30"><name pos:start="40:13" pos:end="40:13">s</name><operator pos:start="40:14" pos:end="40:15">-&gt;</operator><name pos:start="40:16" pos:end="40:18">dev</name><operator pos:start="40:19" pos:end="40:19">.</operator><name pos:start="40:20" pos:end="40:30">auto_attach</name></name> <operator pos:start="40:32" pos:end="40:32">=</operator> <literal type="number" pos:start="40:34" pos:end="40:34">0</literal></expr>;</expr_stmt>

        </block_content>}</block></if> <else pos:start="42:11" pos:end="50:13">else <block pos:start="42:16" pos:end="50:13">{<block_content pos:start="44:13" pos:end="50:13">

            <expr_stmt pos:start="44:13" pos:end="44:26"><expr pos:start="44:13" pos:end="44:25"><name pos:start="44:13" pos:end="44:21">autostart</name> <operator pos:start="44:23" pos:end="44:23">=</operator> <literal type="number" pos:start="44:25" pos:end="44:25">0</literal></expr>;</expr_stmt>





    <return pos:start="50:5" pos:end="50:13">return <expr pos:start="50:12" pos:end="50:12"><literal type="number" pos:start="50:12" pos:end="50:12">0</literal></expr>;</return></block_content></block></else></if_stmt></block_content></block></if></if_stmt></block_content></block></if></if_stmt></block_content></block></function>
</unit>
