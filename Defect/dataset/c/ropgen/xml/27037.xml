<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:cpp="http://www.srcML.org/srcML/cpp" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/27037.c" pos:tabs="8"><function pos:start="1:1" pos:end="285:32"><type pos:start="1:1" pos:end="1:4"><name pos:start="1:1" pos:end="1:4">void</name></type> <name pos:start="1:6" pos:end="1:20">qemu_spice_init</name><parameter_list pos:start="1:21" pos:end="1:26">(<parameter pos:start="1:22" pos:end="1:25"><decl pos:start="1:22" pos:end="1:25"><type pos:start="1:22" pos:end="1:25"><name pos:start="1:22" pos:end="1:25">void</name></type></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="285:32">{<block_content pos:start="5:5" pos:end="285:32">

    <decl_stmt pos:start="5:5" pos:end="5:57"><decl pos:start="5:5" pos:end="5:56"><type pos:start="5:5" pos:end="5:14"><name pos:start="5:5" pos:end="5:12">QemuOpts</name> <modifier pos:start="5:14" pos:end="5:14">*</modifier></type><name pos:start="5:15" pos:end="5:18">opts</name> <init pos:start="5:20" pos:end="5:56">= <expr pos:start="5:22" pos:end="5:56"><call pos:start="5:22" pos:end="5:56"><name pos:start="5:22" pos:end="5:33">QTAILQ_FIRST</name><argument_list pos:start="5:34" pos:end="5:56">(<argument pos:start="5:35" pos:end="5:55"><expr pos:start="5:35" pos:end="5:55"><operator pos:start="5:35" pos:end="5:35">&amp;</operator><name pos:start="5:36" pos:end="5:55"><name pos:start="5:36" pos:end="5:50">qemu_spice_opts</name><operator pos:start="5:51" pos:end="5:51">.</operator><name pos:start="5:52" pos:end="5:55">head</name></name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="13:28"><decl pos:start="7:5" pos:end="7:24"><type pos:start="7:5" pos:end="7:16"><specifier pos:start="7:5" pos:end="7:9">const</specifier> <name pos:start="7:11" pos:end="7:14">char</name> <modifier pos:start="7:16" pos:end="7:16">*</modifier></type><name pos:start="7:17" pos:end="7:24">password</name></decl>, <decl pos:start="7:27" pos:end="7:30"><type ref="prev" pos:start="7:5" pos:end="7:16"><modifier pos:start="7:27" pos:end="7:27">*</modifier></type><name pos:start="7:28" pos:end="7:30">str</name></decl>, <decl pos:start="7:33" pos:end="7:41"><type ref="prev" pos:start="7:5" pos:end="7:16"><modifier pos:start="7:33" pos:end="7:33">*</modifier></type><name pos:start="7:34" pos:end="7:41">x509_dir</name></decl>, <decl pos:start="7:44" pos:end="7:48"><type ref="prev" pos:start="7:5" pos:end="7:16"><modifier pos:start="7:44" pos:end="7:44">*</modifier></type><name pos:start="7:45" pos:end="7:48">addr</name></decl>,

        <decl pos:start="9:9" pos:end="9:33"><type ref="prev" pos:start="7:5" pos:end="7:16"><modifier pos:start="9:9" pos:end="9:9">*</modifier></type><name pos:start="9:10" pos:end="9:26">x509_key_password</name> <init pos:start="9:28" pos:end="9:33">= <expr pos:start="9:30" pos:end="9:33"><name pos:start="9:30" pos:end="9:33">NULL</name></expr></init></decl>,

        <decl pos:start="11:9" pos:end="11:28"><type ref="prev" pos:start="7:5" pos:end="7:16"><modifier pos:start="11:9" pos:end="11:9">*</modifier></type><name pos:start="11:10" pos:end="11:21">x509_dh_file</name> <init pos:start="11:23" pos:end="11:28">= <expr pos:start="11:25" pos:end="11:28"><name pos:start="11:25" pos:end="11:28">NULL</name></expr></init></decl>,

        <decl pos:start="13:9" pos:end="13:27"><type ref="prev" pos:start="7:5" pos:end="7:16"><modifier pos:start="13:9" pos:end="13:9">*</modifier></type><name pos:start="13:10" pos:end="13:20">tls_ciphers</name> <init pos:start="13:22" pos:end="13:27">= <expr pos:start="13:24" pos:end="13:27"><name pos:start="13:24" pos:end="13:27">NULL</name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="19:33"><decl pos:start="15:5" pos:end="15:30"><type pos:start="15:5" pos:end="15:10"><name pos:start="15:5" pos:end="15:8">char</name> <modifier pos:start="15:10" pos:end="15:10">*</modifier></type><name pos:start="15:11" pos:end="15:23">x509_key_file</name> <init pos:start="15:25" pos:end="15:30">= <expr pos:start="15:27" pos:end="15:30"><name pos:start="15:27" pos:end="15:30">NULL</name></expr></init></decl>,

        <decl pos:start="17:9" pos:end="17:30"><type ref="prev" pos:start="15:5" pos:end="15:10"><modifier pos:start="17:9" pos:end="17:9">*</modifier></type><name pos:start="17:10" pos:end="17:23">x509_cert_file</name> <init pos:start="17:25" pos:end="17:30">= <expr pos:start="17:27" pos:end="17:30"><name pos:start="17:27" pos:end="17:30">NULL</name></expr></init></decl>,

        <decl pos:start="19:9" pos:end="19:32"><type ref="prev" pos:start="15:5" pos:end="15:10"><modifier pos:start="19:9" pos:end="19:9">*</modifier></type><name pos:start="19:10" pos:end="19:25">x509_cacert_file</name> <init pos:start="19:27" pos:end="19:32">= <expr pos:start="19:29" pos:end="19:32"><name pos:start="19:29" pos:end="19:32">NULL</name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="21:5" pos:end="21:40"><decl pos:start="21:5" pos:end="21:12"><type pos:start="21:5" pos:end="21:7"><name pos:start="21:5" pos:end="21:7">int</name></type> <name pos:start="21:9" pos:end="21:12">port</name></decl>, <decl pos:start="21:15" pos:end="21:22"><type ref="prev" pos:start="21:5" pos:end="21:7"/><name pos:start="21:15" pos:end="21:22">tls_port</name></decl>, <decl pos:start="21:25" pos:end="21:27"><type ref="prev" pos:start="21:5" pos:end="21:7"/><name pos:start="21:25" pos:end="21:27">len</name></decl>, <decl pos:start="21:30" pos:end="21:39"><type ref="prev" pos:start="21:5" pos:end="21:7"/><name pos:start="21:30" pos:end="21:39">addr_flags</name></decl>;</decl_stmt>

    <decl_stmt pos:start="23:5" pos:end="23:42"><decl pos:start="23:5" pos:end="23:41"><type pos:start="23:5" pos:end="23:29"><name pos:start="23:5" pos:end="23:29">spice_image_compression_t</name></type> <name pos:start="23:31" pos:end="23:41">compression</name></decl>;</decl_stmt>

    <decl_stmt pos:start="25:5" pos:end="25:38"><decl pos:start="25:5" pos:end="25:37"><type pos:start="25:5" pos:end="25:27"><name pos:start="25:5" pos:end="25:27">spice_wan_compression_t</name></type> <name pos:start="25:29" pos:end="25:37">wan_compr</name></decl>;</decl_stmt>



    <if_stmt pos:start="29:5" pos:end="285:32"><if pos:start="29:5" pos:end="285:32">if <condition pos:start="29:8" pos:end="29:14">(<expr pos:start="29:9" pos:end="29:13"><operator pos:start="29:9" pos:end="29:9">!</operator><name pos:start="29:10" pos:end="29:13">opts</name></expr>)</condition> <block pos:start="29:16" pos:end="285:32">{<block_content pos:start="31:9" pos:end="285:32">

        <return pos:start="31:9" pos:end="31:15">return;</return>


    <expr_stmt pos:start="34:5" pos:end="34:48"><expr pos:start="34:5" pos:end="34:47"><name pos:start="34:5" pos:end="34:8">port</name> <operator pos:start="34:10" pos:end="34:10">=</operator> <call pos:start="34:12" pos:end="34:47"><name pos:start="34:12" pos:end="34:30">qemu_opt_get_number</name><argument_list pos:start="34:31" pos:end="34:47">(<argument pos:start="34:32" pos:end="34:35"><expr pos:start="34:32" pos:end="34:35"><name pos:start="34:32" pos:end="34:35">opts</name></expr></argument>, <argument pos:start="34:38" pos:end="34:43"><expr pos:start="34:38" pos:end="34:43"><literal type="string" pos:start="34:38" pos:end="34:43">"port"</literal></expr></argument>, <argument pos:start="34:46" pos:end="34:46"><expr pos:start="34:46" pos:end="34:46"><literal type="number" pos:start="34:46" pos:end="34:46">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="36:5" pos:end="36:56"><expr pos:start="36:5" pos:end="36:55"><name pos:start="36:5" pos:end="36:12">tls_port</name> <operator pos:start="36:14" pos:end="36:14">=</operator> <call pos:start="36:16" pos:end="36:55"><name pos:start="36:16" pos:end="36:34">qemu_opt_get_number</name><argument_list pos:start="36:35" pos:end="36:55">(<argument pos:start="36:36" pos:end="36:39"><expr pos:start="36:36" pos:end="36:39"><name pos:start="36:36" pos:end="36:39">opts</name></expr></argument>, <argument pos:start="36:42" pos:end="36:51"><expr pos:start="36:42" pos:end="36:51"><literal type="string" pos:start="36:42" pos:end="36:51">"tls-port"</literal></expr></argument>, <argument pos:start="36:54" pos:end="36:54"><expr pos:start="36:54" pos:end="36:54"><literal type="number" pos:start="36:54" pos:end="36:54">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="38:5" pos:end="285:32"><if pos:start="38:5" pos:end="285:32">if <condition pos:start="38:8" pos:end="38:27">(<expr pos:start="38:9" pos:end="38:26"><operator pos:start="38:9" pos:end="38:9">!</operator><name pos:start="38:10" pos:end="38:13">port</name> <operator pos:start="38:15" pos:end="38:16">&amp;&amp;</operator> <operator pos:start="38:18" pos:end="38:18">!</operator><name pos:start="38:19" pos:end="38:26">tls_port</name></expr>)</condition> <block pos:start="38:29" pos:end="285:32">{<block_content pos:start="40:9" pos:end="285:32">

        <return pos:start="40:9" pos:end="40:15">return;</return>


    <expr_stmt pos:start="43:5" pos:end="43:46"><expr pos:start="43:5" pos:end="43:45"><name pos:start="43:5" pos:end="43:12">password</name> <operator pos:start="43:14" pos:end="43:14">=</operator> <call pos:start="43:16" pos:end="43:45"><name pos:start="43:16" pos:end="43:27">qemu_opt_get</name><argument_list pos:start="43:28" pos:end="43:45">(<argument pos:start="43:29" pos:end="43:32"><expr pos:start="43:29" pos:end="43:32"><name pos:start="43:29" pos:end="43:32">opts</name></expr></argument>, <argument pos:start="43:35" pos:end="43:44"><expr pos:start="43:35" pos:end="43:44"><literal type="string" pos:start="43:35" pos:end="43:44">"password"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <if_stmt pos:start="47:5" pos:end="285:32"><if pos:start="47:5" pos:end="285:32">if <condition pos:start="47:8" pos:end="47:17">(<expr pos:start="47:9" pos:end="47:16"><name pos:start="47:9" pos:end="47:16">tls_port</name></expr>)</condition> <block pos:start="47:19" pos:end="285:32">{<block_content pos:start="49:9" pos:end="285:32">

        <expr_stmt pos:start="49:9" pos:end="49:50"><expr pos:start="49:9" pos:end="49:49"><name pos:start="49:9" pos:end="49:16">x509_dir</name> <operator pos:start="49:18" pos:end="49:18">=</operator> <call pos:start="49:20" pos:end="49:49"><name pos:start="49:20" pos:end="49:31">qemu_opt_get</name><argument_list pos:start="49:32" pos:end="49:49">(<argument pos:start="49:33" pos:end="49:36"><expr pos:start="49:33" pos:end="49:36"><name pos:start="49:33" pos:end="49:36">opts</name></expr></argument>, <argument pos:start="49:39" pos:end="49:48"><expr pos:start="49:39" pos:end="49:48"><literal type="string" pos:start="49:39" pos:end="49:48">"x509-dir"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="51:9" pos:end="285:32"><if pos:start="51:9" pos:end="285:32">if <condition pos:start="51:12" pos:end="51:29">(<expr pos:start="51:13" pos:end="51:28"><name pos:start="51:13" pos:end="51:16">NULL</name> <operator pos:start="51:18" pos:end="51:19">==</operator> <name pos:start="51:21" pos:end="51:28">x509_dir</name></expr>)</condition> <block pos:start="51:31" pos:end="285:32">{<block_content pos:start="53:13" pos:end="285:32">

            <expr_stmt pos:start="53:13" pos:end="53:27"><expr pos:start="53:13" pos:end="53:26"><name pos:start="53:13" pos:end="53:20">x509_dir</name> <operator pos:start="53:22" pos:end="53:22">=</operator> <literal type="string" pos:start="53:24" pos:end="53:26">"."</literal></expr>;</expr_stmt>


        <expr_stmt pos:start="56:9" pos:end="56:36"><expr pos:start="56:9" pos:end="56:35"><name pos:start="56:9" pos:end="56:11">len</name> <operator pos:start="56:13" pos:end="56:13">=</operator> <call pos:start="56:15" pos:end="56:30"><name pos:start="56:15" pos:end="56:20">strlen</name><argument_list pos:start="56:21" pos:end="56:30">(<argument pos:start="56:22" pos:end="56:29"><expr pos:start="56:22" pos:end="56:29"><name pos:start="56:22" pos:end="56:29">x509_dir</name></expr></argument>)</argument_list></call> <operator pos:start="56:32" pos:end="56:32">+</operator> <literal type="number" pos:start="56:34" pos:end="56:35">32</literal></expr>;</expr_stmt>



        <expr_stmt pos:start="60:9" pos:end="60:50"><expr pos:start="60:9" pos:end="60:49"><name pos:start="60:9" pos:end="60:11">str</name> <operator pos:start="60:13" pos:end="60:13">=</operator> <call pos:start="60:15" pos:end="60:49"><name pos:start="60:15" pos:end="60:26">qemu_opt_get</name><argument_list pos:start="60:27" pos:end="60:49">(<argument pos:start="60:28" pos:end="60:31"><expr pos:start="60:28" pos:end="60:31"><name pos:start="60:28" pos:end="60:31">opts</name></expr></argument>, <argument pos:start="60:34" pos:end="60:48"><expr pos:start="60:34" pos:end="60:48"><literal type="string" pos:start="60:34" pos:end="60:48">"x509-key-file"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="62:9" pos:end="285:32"><if pos:start="62:9" pos:end="66:9">if <condition pos:start="62:12" pos:end="62:16">(<expr pos:start="62:13" pos:end="62:15"><name pos:start="62:13" pos:end="62:15">str</name></expr>)</condition> <block pos:start="62:18" pos:end="66:9">{<block_content pos:start="64:13" pos:end="64:45">

            <expr_stmt pos:start="64:13" pos:end="64:45"><expr pos:start="64:13" pos:end="64:44"><name pos:start="64:13" pos:end="64:25">x509_key_file</name> <operator pos:start="64:27" pos:end="64:27">=</operator> <call pos:start="64:29" pos:end="64:44"><name pos:start="64:29" pos:end="64:39">qemu_strdup</name><argument_list pos:start="64:40" pos:end="64:44">(<argument pos:start="64:41" pos:end="64:43"><expr pos:start="64:41" pos:end="64:43"><name pos:start="64:41" pos:end="64:43">str</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></if> <else pos:start="66:11" pos:end="285:32">else <block pos:start="66:16" pos:end="285:32">{<block_content pos:start="68:13" pos:end="285:32">

            <expr_stmt pos:start="68:13" pos:end="68:45"><expr pos:start="68:13" pos:end="68:44"><name pos:start="68:13" pos:end="68:25">x509_key_file</name> <operator pos:start="68:27" pos:end="68:27">=</operator> <call pos:start="68:29" pos:end="68:44"><name pos:start="68:29" pos:end="68:39">qemu_malloc</name><argument_list pos:start="68:40" pos:end="68:44">(<argument pos:start="68:41" pos:end="68:43"><expr pos:start="68:41" pos:end="68:43"><name pos:start="68:41" pos:end="68:43">len</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="70:13" pos:end="70:82"><expr pos:start="70:13" pos:end="70:81"><call pos:start="70:13" pos:end="70:81"><name pos:start="70:13" pos:end="70:20">snprintf</name><argument_list pos:start="70:21" pos:end="70:81">(<argument pos:start="70:22" pos:end="70:34"><expr pos:start="70:22" pos:end="70:34"><name pos:start="70:22" pos:end="70:34">x509_key_file</name></expr></argument>, <argument pos:start="70:37" pos:end="70:39"><expr pos:start="70:37" pos:end="70:39"><name pos:start="70:37" pos:end="70:39">len</name></expr></argument>, <argument pos:start="70:42" pos:end="70:48"><expr pos:start="70:42" pos:end="70:48"><literal type="string" pos:start="70:42" pos:end="70:48">"%s/%s"</literal></expr></argument>, <argument pos:start="70:51" pos:end="70:58"><expr pos:start="70:51" pos:end="70:58"><name pos:start="70:51" pos:end="70:58">x509_dir</name></expr></argument>, <argument pos:start="70:61" pos:end="70:80"><expr pos:start="70:61" pos:end="70:80"><name pos:start="70:61" pos:end="70:80">X509_SERVER_KEY_FILE</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>




        <expr_stmt pos:start="75:9" pos:end="75:51"><expr pos:start="75:9" pos:end="75:50"><name pos:start="75:9" pos:end="75:11">str</name> <operator pos:start="75:13" pos:end="75:13">=</operator> <call pos:start="75:15" pos:end="75:50"><name pos:start="75:15" pos:end="75:26">qemu_opt_get</name><argument_list pos:start="75:27" pos:end="75:50">(<argument pos:start="75:28" pos:end="75:31"><expr pos:start="75:28" pos:end="75:31"><name pos:start="75:28" pos:end="75:31">opts</name></expr></argument>, <argument pos:start="75:34" pos:end="75:49"><expr pos:start="75:34" pos:end="75:49"><literal type="string" pos:start="75:34" pos:end="75:49">"x509-cert-file"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="77:9" pos:end="285:32"><if pos:start="77:9" pos:end="81:9">if <condition pos:start="77:12" pos:end="77:16">(<expr pos:start="77:13" pos:end="77:15"><name pos:start="77:13" pos:end="77:15">str</name></expr>)</condition> <block pos:start="77:18" pos:end="81:9">{<block_content pos:start="79:13" pos:end="79:46">

            <expr_stmt pos:start="79:13" pos:end="79:46"><expr pos:start="79:13" pos:end="79:45"><name pos:start="79:13" pos:end="79:26">x509_cert_file</name> <operator pos:start="79:28" pos:end="79:28">=</operator> <call pos:start="79:30" pos:end="79:45"><name pos:start="79:30" pos:end="79:40">qemu_strdup</name><argument_list pos:start="79:41" pos:end="79:45">(<argument pos:start="79:42" pos:end="79:44"><expr pos:start="79:42" pos:end="79:44"><name pos:start="79:42" pos:end="79:44">str</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></if> <else pos:start="81:11" pos:end="285:32">else <block pos:start="81:16" pos:end="285:32">{<block_content pos:start="83:13" pos:end="285:32">

            <expr_stmt pos:start="83:13" pos:end="83:46"><expr pos:start="83:13" pos:end="83:45"><name pos:start="83:13" pos:end="83:26">x509_cert_file</name> <operator pos:start="83:28" pos:end="83:28">=</operator> <call pos:start="83:30" pos:end="83:45"><name pos:start="83:30" pos:end="83:40">qemu_malloc</name><argument_list pos:start="83:41" pos:end="83:45">(<argument pos:start="83:42" pos:end="83:44"><expr pos:start="83:42" pos:end="83:44"><name pos:start="83:42" pos:end="83:44">len</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="85:13" pos:end="85:84"><expr pos:start="85:13" pos:end="85:83"><call pos:start="85:13" pos:end="85:83"><name pos:start="85:13" pos:end="85:20">snprintf</name><argument_list pos:start="85:21" pos:end="85:83">(<argument pos:start="85:22" pos:end="85:35"><expr pos:start="85:22" pos:end="85:35"><name pos:start="85:22" pos:end="85:35">x509_cert_file</name></expr></argument>, <argument pos:start="85:38" pos:end="85:40"><expr pos:start="85:38" pos:end="85:40"><name pos:start="85:38" pos:end="85:40">len</name></expr></argument>, <argument pos:start="85:43" pos:end="85:49"><expr pos:start="85:43" pos:end="85:49"><literal type="string" pos:start="85:43" pos:end="85:49">"%s/%s"</literal></expr></argument>, <argument pos:start="85:52" pos:end="85:59"><expr pos:start="85:52" pos:end="85:59"><name pos:start="85:52" pos:end="85:59">x509_dir</name></expr></argument>, <argument pos:start="85:62" pos:end="85:82"><expr pos:start="85:62" pos:end="85:82"><name pos:start="85:62" pos:end="85:82">X509_SERVER_CERT_FILE</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>




        <expr_stmt pos:start="90:9" pos:end="90:53"><expr pos:start="90:9" pos:end="90:52"><name pos:start="90:9" pos:end="90:11">str</name> <operator pos:start="90:13" pos:end="90:13">=</operator> <call pos:start="90:15" pos:end="90:52"><name pos:start="90:15" pos:end="90:26">qemu_opt_get</name><argument_list pos:start="90:27" pos:end="90:52">(<argument pos:start="90:28" pos:end="90:31"><expr pos:start="90:28" pos:end="90:31"><name pos:start="90:28" pos:end="90:31">opts</name></expr></argument>, <argument pos:start="90:34" pos:end="90:51"><expr pos:start="90:34" pos:end="90:51"><literal type="string" pos:start="90:34" pos:end="90:51">"x509-cacert-file"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="92:9" pos:end="285:32"><if pos:start="92:9" pos:end="96:9">if <condition pos:start="92:12" pos:end="92:16">(<expr pos:start="92:13" pos:end="92:15"><name pos:start="92:13" pos:end="92:15">str</name></expr>)</condition> <block pos:start="92:18" pos:end="96:9">{<block_content pos:start="94:13" pos:end="94:48">

            <expr_stmt pos:start="94:13" pos:end="94:48"><expr pos:start="94:13" pos:end="94:47"><name pos:start="94:13" pos:end="94:28">x509_cacert_file</name> <operator pos:start="94:30" pos:end="94:30">=</operator> <call pos:start="94:32" pos:end="94:47"><name pos:start="94:32" pos:end="94:42">qemu_strdup</name><argument_list pos:start="94:43" pos:end="94:47">(<argument pos:start="94:44" pos:end="94:46"><expr pos:start="94:44" pos:end="94:46"><name pos:start="94:44" pos:end="94:46">str</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></if> <else pos:start="96:11" pos:end="285:32">else <block pos:start="96:16" pos:end="285:32">{<block_content pos:start="98:13" pos:end="285:32">

            <expr_stmt pos:start="98:13" pos:end="98:48"><expr pos:start="98:13" pos:end="98:47"><name pos:start="98:13" pos:end="98:28">x509_cacert_file</name> <operator pos:start="98:30" pos:end="98:30">=</operator> <call pos:start="98:32" pos:end="98:47"><name pos:start="98:32" pos:end="98:42">qemu_malloc</name><argument_list pos:start="98:43" pos:end="98:47">(<argument pos:start="98:44" pos:end="98:46"><expr pos:start="98:44" pos:end="98:46"><name pos:start="98:44" pos:end="98:46">len</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="100:13" pos:end="100:82"><expr pos:start="100:13" pos:end="100:81"><call pos:start="100:13" pos:end="100:81"><name pos:start="100:13" pos:end="100:20">snprintf</name><argument_list pos:start="100:21" pos:end="100:81">(<argument pos:start="100:22" pos:end="100:37"><expr pos:start="100:22" pos:end="100:37"><name pos:start="100:22" pos:end="100:37">x509_cacert_file</name></expr></argument>, <argument pos:start="100:40" pos:end="100:42"><expr pos:start="100:40" pos:end="100:42"><name pos:start="100:40" pos:end="100:42">len</name></expr></argument>, <argument pos:start="100:45" pos:end="100:51"><expr pos:start="100:45" pos:end="100:51"><literal type="string" pos:start="100:45" pos:end="100:51">"%s/%s"</literal></expr></argument>, <argument pos:start="100:54" pos:end="100:61"><expr pos:start="100:54" pos:end="100:61"><name pos:start="100:54" pos:end="100:61">x509_dir</name></expr></argument>, <argument pos:start="100:64" pos:end="100:80"><expr pos:start="100:64" pos:end="100:80"><name pos:start="100:64" pos:end="100:80">X509_CA_CERT_FILE</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>




        <expr_stmt pos:start="105:9" pos:end="105:68"><expr pos:start="105:9" pos:end="105:67"><name pos:start="105:9" pos:end="105:25">x509_key_password</name> <operator pos:start="105:27" pos:end="105:27">=</operator> <call pos:start="105:29" pos:end="105:67"><name pos:start="105:29" pos:end="105:40">qemu_opt_get</name><argument_list pos:start="105:41" pos:end="105:67">(<argument pos:start="105:42" pos:end="105:45"><expr pos:start="105:42" pos:end="105:45"><name pos:start="105:42" pos:end="105:45">opts</name></expr></argument>, <argument pos:start="105:48" pos:end="105:66"><expr pos:start="105:48" pos:end="105:66"><literal type="string" pos:start="105:48" pos:end="105:66">"x509-key-password"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="107:9" pos:end="107:58"><expr pos:start="107:9" pos:end="107:57"><name pos:start="107:9" pos:end="107:20">x509_dh_file</name> <operator pos:start="107:22" pos:end="107:22">=</operator> <call pos:start="107:24" pos:end="107:57"><name pos:start="107:24" pos:end="107:35">qemu_opt_get</name><argument_list pos:start="107:36" pos:end="107:57">(<argument pos:start="107:37" pos:end="107:40"><expr pos:start="107:37" pos:end="107:40"><name pos:start="107:37" pos:end="107:40">opts</name></expr></argument>, <argument pos:start="107:43" pos:end="107:56"><expr pos:start="107:43" pos:end="107:56"><literal type="string" pos:start="107:43" pos:end="107:56">"x509-dh-file"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="109:9" pos:end="109:56"><expr pos:start="109:9" pos:end="109:55"><name pos:start="109:9" pos:end="109:19">tls_ciphers</name> <operator pos:start="109:21" pos:end="109:21">=</operator> <call pos:start="109:23" pos:end="109:55"><name pos:start="109:23" pos:end="109:34">qemu_opt_get</name><argument_list pos:start="109:35" pos:end="109:55">(<argument pos:start="109:36" pos:end="109:39"><expr pos:start="109:36" pos:end="109:39"><name pos:start="109:36" pos:end="109:39">opts</name></expr></argument>, <argument pos:start="109:42" pos:end="109:54"><expr pos:start="109:42" pos:end="109:54"><literal type="string" pos:start="109:42" pos:end="109:54">"tls-ciphers"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>




    <expr_stmt pos:start="114:5" pos:end="114:38"><expr pos:start="114:5" pos:end="114:37"><name pos:start="114:5" pos:end="114:8">addr</name> <operator pos:start="114:10" pos:end="114:10">=</operator> <call pos:start="114:12" pos:end="114:37"><name pos:start="114:12" pos:end="114:23">qemu_opt_get</name><argument_list pos:start="114:24" pos:end="114:37">(<argument pos:start="114:25" pos:end="114:28"><expr pos:start="114:25" pos:end="114:28"><name pos:start="114:25" pos:end="114:28">opts</name></expr></argument>, <argument pos:start="114:31" pos:end="114:36"><expr pos:start="114:31" pos:end="114:36"><literal type="string" pos:start="114:31" pos:end="114:36">"addr"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="116:5" pos:end="116:19"><expr pos:start="116:5" pos:end="116:18"><name pos:start="116:5" pos:end="116:14">addr_flags</name> <operator pos:start="116:16" pos:end="116:16">=</operator> <literal type="number" pos:start="116:18" pos:end="116:18">0</literal></expr>;</expr_stmt>

    <if_stmt pos:start="118:5" pos:end="285:32"><if pos:start="118:5" pos:end="122:5">if <condition pos:start="118:8" pos:end="118:43">(<expr pos:start="118:9" pos:end="118:42"><call pos:start="118:9" pos:end="118:42"><name pos:start="118:9" pos:end="118:25">qemu_opt_get_bool</name><argument_list pos:start="118:26" pos:end="118:42">(<argument pos:start="118:27" pos:end="118:30"><expr pos:start="118:27" pos:end="118:30"><name pos:start="118:27" pos:end="118:30">opts</name></expr></argument>, <argument pos:start="118:33" pos:end="118:38"><expr pos:start="118:33" pos:end="118:38"><literal type="string" pos:start="118:33" pos:end="118:38">"ipv4"</literal></expr></argument>, <argument pos:start="118:41" pos:end="118:41"><expr pos:start="118:41" pos:end="118:41"><literal type="number" pos:start="118:41" pos:end="118:41">0</literal></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="118:45" pos:end="122:5">{<block_content pos:start="120:9" pos:end="120:48">

        <expr_stmt pos:start="120:9" pos:end="120:48"><expr pos:start="120:9" pos:end="120:47"><name pos:start="120:9" pos:end="120:18">addr_flags</name> <operator pos:start="120:20" pos:end="120:21">|=</operator> <name pos:start="120:23" pos:end="120:47">SPICE_ADDR_FLAG_IPV4_ONLY</name></expr>;</expr_stmt>

    </block_content>}</block></if> <if type="elseif" pos:start="122:7" pos:end="285:32">else if <condition pos:start="122:15" pos:end="122:50">(<expr pos:start="122:16" pos:end="122:49"><call pos:start="122:16" pos:end="122:49"><name pos:start="122:16" pos:end="122:32">qemu_opt_get_bool</name><argument_list pos:start="122:33" pos:end="122:49">(<argument pos:start="122:34" pos:end="122:37"><expr pos:start="122:34" pos:end="122:37"><name pos:start="122:34" pos:end="122:37">opts</name></expr></argument>, <argument pos:start="122:40" pos:end="122:45"><expr pos:start="122:40" pos:end="122:45"><literal type="string" pos:start="122:40" pos:end="122:45">"ipv6"</literal></expr></argument>, <argument pos:start="122:48" pos:end="122:48"><expr pos:start="122:48" pos:end="122:48"><literal type="number" pos:start="122:48" pos:end="122:48">0</literal></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="122:52" pos:end="285:32">{<block_content pos:start="124:9" pos:end="285:32">

        <expr_stmt pos:start="124:9" pos:end="124:48"><expr pos:start="124:9" pos:end="124:47"><name pos:start="124:9" pos:end="124:18">addr_flags</name> <operator pos:start="124:20" pos:end="124:21">|=</operator> <name pos:start="124:23" pos:end="124:47">SPICE_ADDR_FLAG_IPV6_ONLY</name></expr>;</expr_stmt>




    <expr_stmt pos:start="129:5" pos:end="129:38"><expr pos:start="129:5" pos:end="129:37"><name pos:start="129:5" pos:end="129:16">spice_server</name> <operator pos:start="129:18" pos:end="129:18">=</operator> <call pos:start="129:20" pos:end="129:37"><name pos:start="129:20" pos:end="129:35">spice_server_new</name><argument_list pos:start="129:36" pos:end="129:37">()</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="131:5" pos:end="131:70"><expr pos:start="131:5" pos:end="131:69"><call pos:start="131:5" pos:end="131:69"><name pos:start="131:5" pos:end="131:25">spice_server_set_addr</name><argument_list pos:start="131:26" pos:end="131:69">(<argument pos:start="131:27" pos:end="131:38"><expr pos:start="131:27" pos:end="131:38"><name pos:start="131:27" pos:end="131:38">spice_server</name></expr></argument>, <argument pos:start="131:41" pos:end="131:56"><expr pos:start="131:41" pos:end="131:56"><ternary pos:start="131:41" pos:end="131:56"><condition pos:start="131:41" pos:end="131:46"><expr pos:start="131:41" pos:end="131:44"><name pos:start="131:41" pos:end="131:44">addr</name></expr> ?</condition><then pos:start="131:48" pos:end="131:51"> <expr pos:start="131:48" pos:end="131:51"><name pos:start="131:48" pos:end="131:51">addr</name></expr> </then><else pos:start="131:53" pos:end="131:56">: <expr pos:start="131:55" pos:end="131:56"><literal type="string" pos:start="131:55" pos:end="131:56">""</literal></expr></else></ternary></expr></argument>, <argument pos:start="131:59" pos:end="131:68"><expr pos:start="131:59" pos:end="131:68"><name pos:start="131:59" pos:end="131:68">addr_flags</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="133:5" pos:end="285:32"><if pos:start="133:5" pos:end="285:32">if <condition pos:start="133:8" pos:end="133:13">(<expr pos:start="133:9" pos:end="133:12"><name pos:start="133:9" pos:end="133:12">port</name></expr>)</condition> <block pos:start="133:15" pos:end="285:32">{<block_content pos:start="135:9" pos:end="285:32">

        <expr_stmt pos:start="135:9" pos:end="135:50"><expr pos:start="135:9" pos:end="135:49"><call pos:start="135:9" pos:end="135:49"><name pos:start="135:9" pos:end="135:29">spice_server_set_port</name><argument_list pos:start="135:30" pos:end="135:49">(<argument pos:start="135:31" pos:end="135:42"><expr pos:start="135:31" pos:end="135:42"><name pos:start="135:31" pos:end="135:42">spice_server</name></expr></argument>, <argument pos:start="135:45" pos:end="135:48"><expr pos:start="135:45" pos:end="135:48"><name pos:start="135:45" pos:end="135:48">port</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>


    <if_stmt pos:start="138:5" pos:end="285:32"><if pos:start="138:5" pos:end="285:32">if <condition pos:start="138:8" pos:end="138:17">(<expr pos:start="138:9" pos:end="138:16"><name pos:start="138:9" pos:end="138:16">tls_port</name></expr>)</condition> <block pos:start="138:19" pos:end="285:32">{<block_content pos:start="140:9" pos:end="285:32">

        <expr_stmt pos:start="140:9" pos:end="152:42"><expr pos:start="140:9" pos:end="152:41"><call pos:start="140:9" pos:end="152:41"><name pos:start="140:9" pos:end="140:28">spice_server_set_tls</name><argument_list pos:start="140:29" pos:end="152:41">(<argument pos:start="140:30" pos:end="140:41"><expr pos:start="140:30" pos:end="140:41"><name pos:start="140:30" pos:end="140:41">spice_server</name></expr></argument>, <argument pos:start="140:44" pos:end="140:51"><expr pos:start="140:44" pos:end="140:51"><name pos:start="140:44" pos:end="140:51">tls_port</name></expr></argument>,

                             <argument pos:start="142:30" pos:end="142:45"><expr pos:start="142:30" pos:end="142:45"><name pos:start="142:30" pos:end="142:45">x509_cacert_file</name></expr></argument>,

                             <argument pos:start="144:30" pos:end="144:43"><expr pos:start="144:30" pos:end="144:43"><name pos:start="144:30" pos:end="144:43">x509_cert_file</name></expr></argument>,

                             <argument pos:start="146:30" pos:end="146:42"><expr pos:start="146:30" pos:end="146:42"><name pos:start="146:30" pos:end="146:42">x509_key_file</name></expr></argument>,

                             <argument pos:start="148:30" pos:end="148:46"><expr pos:start="148:30" pos:end="148:46"><name pos:start="148:30" pos:end="148:46">x509_key_password</name></expr></argument>,

                             <argument pos:start="150:30" pos:end="150:41"><expr pos:start="150:30" pos:end="150:41"><name pos:start="150:30" pos:end="150:41">x509_dh_file</name></expr></argument>,

                             <argument pos:start="152:30" pos:end="152:40"><expr pos:start="152:30" pos:end="152:40"><name pos:start="152:30" pos:end="152:40">tls_ciphers</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>


    <if_stmt pos:start="155:5" pos:end="285:32"><if pos:start="155:5" pos:end="285:32">if <condition pos:start="155:8" pos:end="155:17">(<expr pos:start="155:9" pos:end="155:16"><name pos:start="155:9" pos:end="155:16">password</name></expr>)</condition> <block pos:start="155:19" pos:end="285:32">{<block_content pos:start="157:9" pos:end="285:32">

        <expr_stmt pos:start="157:9" pos:end="157:65"><expr pos:start="157:9" pos:end="157:64"><call pos:start="157:9" pos:end="157:64"><name pos:start="157:9" pos:end="157:31">spice_server_set_ticket</name><argument_list pos:start="157:32" pos:end="157:64">(<argument pos:start="157:33" pos:end="157:44"><expr pos:start="157:33" pos:end="157:44"><name pos:start="157:33" pos:end="157:44">spice_server</name></expr></argument>, <argument pos:start="157:47" pos:end="157:54"><expr pos:start="157:47" pos:end="157:54"><name pos:start="157:47" pos:end="157:54">password</name></expr></argument>, <argument pos:start="157:57" pos:end="157:57"><expr pos:start="157:57" pos:end="157:57"><literal type="number" pos:start="157:57" pos:end="157:57">0</literal></expr></argument>, <argument pos:start="157:60" pos:end="157:60"><expr pos:start="157:60" pos:end="157:60"><literal type="number" pos:start="157:60" pos:end="157:60">0</literal></expr></argument>, <argument pos:start="157:63" pos:end="157:63"><expr pos:start="157:63" pos:end="157:63"><literal type="number" pos:start="157:63" pos:end="157:63">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>














    <if_stmt pos:start="172:5" pos:end="285:32"><if pos:start="172:5" pos:end="285:32">if <condition pos:start="172:8" pos:end="172:56">(<expr pos:start="172:9" pos:end="172:55"><call pos:start="172:9" pos:end="172:55"><name pos:start="172:9" pos:end="172:25">qemu_opt_get_bool</name><argument_list pos:start="172:26" pos:end="172:55">(<argument pos:start="172:27" pos:end="172:30"><expr pos:start="172:27" pos:end="172:30"><name pos:start="172:27" pos:end="172:30">opts</name></expr></argument>, <argument pos:start="172:33" pos:end="172:51"><expr pos:start="172:33" pos:end="172:51"><literal type="string" pos:start="172:33" pos:end="172:51">"disable-ticketing"</literal></expr></argument>, <argument pos:start="172:54" pos:end="172:54"><expr pos:start="172:54" pos:end="172:54"><literal type="number" pos:start="172:54" pos:end="172:54">0</literal></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="172:58" pos:end="285:32">{<block_content pos:start="174:9" pos:end="285:32">

        <expr_stmt pos:start="174:9" pos:end="174:22"><expr pos:start="174:9" pos:end="174:21"><name pos:start="174:9" pos:end="174:12">auth</name> <operator pos:start="174:14" pos:end="174:14">=</operator> <literal type="string" pos:start="174:16" pos:end="174:21">"none"</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="176:9" pos:end="182:0"><expr pos:start="176:9" pos:end="176:45"><call pos:start="176:9" pos:end="176:45"><name pos:start="176:9" pos:end="176:31">spice_server_set_noauth</name><argument_list pos:start="176:32" pos:end="176:45">(<argument pos:start="176:33" pos:end="176:44"><expr pos:start="176:33" pos:end="176:44"><name pos:start="176:33" pos:end="176:44">spice_server</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>




<cpp:if pos:start="181:1" pos:end="181:36">#<cpp:directive pos:start="181:2" pos:end="181:3">if</cpp:directive> <expr pos:start="181:5" pos:end="181:36"><name pos:start="181:5" pos:end="181:24">SPICE_SERVER_VERSION</name> <operator pos:start="181:26" pos:end="181:27">&gt;=</operator> <literal type="number" pos:start="181:29" pos:end="181:36">0x000801</literal></expr></cpp:if>

    <if_stmt pos:start="183:5" pos:end="285:32"><if pos:start="183:5" pos:end="285:32">if <condition pos:start="183:8" pos:end="183:57">(<expr pos:start="183:9" pos:end="183:56"><call pos:start="183:9" pos:end="183:56"><name pos:start="183:9" pos:end="183:25">qemu_opt_get_bool</name><argument_list pos:start="183:26" pos:end="183:56">(<argument pos:start="183:27" pos:end="183:30"><expr pos:start="183:27" pos:end="183:30"><name pos:start="183:27" pos:end="183:30">opts</name></expr></argument>, <argument pos:start="183:33" pos:end="183:52"><expr pos:start="183:33" pos:end="183:52"><literal type="string" pos:start="183:33" pos:end="183:52">"disable-copy-paste"</literal></expr></argument>, <argument pos:start="183:55" pos:end="183:55"><expr pos:start="183:55" pos:end="183:55"><literal type="number" pos:start="183:55" pos:end="183:55">0</literal></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="183:59" pos:end="285:32">{<block_content pos:start="185:9" pos:end="285:32">

        <expr_stmt pos:start="185:9" pos:end="185:62"><expr pos:start="185:9" pos:end="185:61"><call pos:start="185:9" pos:end="185:61"><name pos:start="185:9" pos:end="185:40">spice_server_set_agent_copypaste</name><argument_list pos:start="185:41" pos:end="185:61">(<argument pos:start="185:42" pos:end="185:53"><expr pos:start="185:42" pos:end="185:53"><name pos:start="185:42" pos:end="185:53">spice_server</name></expr></argument>, <argument pos:start="185:56" pos:end="185:60"><expr pos:start="185:56" pos:end="185:60"><name pos:start="185:56" pos:end="185:60">false</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>





    <expr_stmt pos:start="191:5" pos:end="191:48"><expr pos:start="191:5" pos:end="191:47"><name pos:start="191:5" pos:end="191:15">compression</name> <operator pos:start="191:17" pos:end="191:17">=</operator> <name pos:start="191:19" pos:end="191:47">SPICE_IMAGE_COMPRESS_AUTO_GLZ</name></expr>;</expr_stmt>

    <expr_stmt pos:start="193:5" pos:end="193:50"><expr pos:start="193:5" pos:end="193:49"><name pos:start="193:5" pos:end="193:7">str</name> <operator pos:start="193:9" pos:end="193:9">=</operator> <call pos:start="193:11" pos:end="193:49"><name pos:start="193:11" pos:end="193:22">qemu_opt_get</name><argument_list pos:start="193:23" pos:end="193:49">(<argument pos:start="193:24" pos:end="193:27"><expr pos:start="193:24" pos:end="193:27"><name pos:start="193:24" pos:end="193:27">opts</name></expr></argument>, <argument pos:start="193:30" pos:end="193:48"><expr pos:start="193:30" pos:end="193:48"><literal type="string" pos:start="193:30" pos:end="193:48">"image-compression"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="195:5" pos:end="285:32"><if pos:start="195:5" pos:end="285:32">if <condition pos:start="195:8" pos:end="195:12">(<expr pos:start="195:9" pos:end="195:11"><name pos:start="195:9" pos:end="195:11">str</name></expr>)</condition> <block pos:start="195:14" pos:end="285:32">{<block_content pos:start="197:9" pos:end="285:32">

        <expr_stmt pos:start="197:9" pos:end="197:45"><expr pos:start="197:9" pos:end="197:44"><name pos:start="197:9" pos:end="197:19">compression</name> <operator pos:start="197:21" pos:end="197:21">=</operator> <call pos:start="197:23" pos:end="197:44"><name pos:start="197:23" pos:end="197:39">parse_compression</name><argument_list pos:start="197:40" pos:end="197:44">(<argument pos:start="197:41" pos:end="197:43"><expr pos:start="197:41" pos:end="197:43"><name pos:start="197:41" pos:end="197:43">str</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>


    <expr_stmt pos:start="200:5" pos:end="200:66"><expr pos:start="200:5" pos:end="200:65"><call pos:start="200:5" pos:end="200:65"><name pos:start="200:5" pos:end="200:38">spice_server_set_image_compression</name><argument_list pos:start="200:39" pos:end="200:65">(<argument pos:start="200:40" pos:end="200:51"><expr pos:start="200:40" pos:end="200:51"><name pos:start="200:40" pos:end="200:51">spice_server</name></expr></argument>, <argument pos:start="200:54" pos:end="200:64"><expr pos:start="200:54" pos:end="200:64"><name pos:start="200:54" pos:end="200:64">compression</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="204:5" pos:end="204:43"><expr pos:start="204:5" pos:end="204:42"><name pos:start="204:5" pos:end="204:13">wan_compr</name> <operator pos:start="204:15" pos:end="204:15">=</operator> <name pos:start="204:17" pos:end="204:42">SPICE_WAN_COMPRESSION_AUTO</name></expr>;</expr_stmt>

    <expr_stmt pos:start="206:5" pos:end="206:53"><expr pos:start="206:5" pos:end="206:52"><name pos:start="206:5" pos:end="206:7">str</name> <operator pos:start="206:9" pos:end="206:9">=</operator> <call pos:start="206:11" pos:end="206:52"><name pos:start="206:11" pos:end="206:22">qemu_opt_get</name><argument_list pos:start="206:23" pos:end="206:52">(<argument pos:start="206:24" pos:end="206:27"><expr pos:start="206:24" pos:end="206:27"><name pos:start="206:24" pos:end="206:27">opts</name></expr></argument>, <argument pos:start="206:30" pos:end="206:51"><expr pos:start="206:30" pos:end="206:51"><literal type="string" pos:start="206:30" pos:end="206:51">"jpeg-wan-compression"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="208:5" pos:end="285:32"><if pos:start="208:5" pos:end="285:32">if <condition pos:start="208:8" pos:end="208:12">(<expr pos:start="208:9" pos:end="208:11"><name pos:start="208:9" pos:end="208:11">str</name></expr>)</condition> <block pos:start="208:14" pos:end="285:32">{<block_content pos:start="210:9" pos:end="285:32">

        <expr_stmt pos:start="210:9" pos:end="210:47"><expr pos:start="210:9" pos:end="210:46"><name pos:start="210:9" pos:end="210:17">wan_compr</name> <operator pos:start="210:19" pos:end="210:19">=</operator> <call pos:start="210:21" pos:end="210:46"><name pos:start="210:21" pos:end="210:41">parse_wan_compression</name><argument_list pos:start="210:42" pos:end="210:46">(<argument pos:start="210:43" pos:end="210:45"><expr pos:start="210:43" pos:end="210:45"><name pos:start="210:43" pos:end="210:45">str</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>


    <expr_stmt pos:start="213:5" pos:end="213:63"><expr pos:start="213:5" pos:end="213:62"><call pos:start="213:5" pos:end="213:62"><name pos:start="213:5" pos:end="213:37">spice_server_set_jpeg_compression</name><argument_list pos:start="213:38" pos:end="213:62">(<argument pos:start="213:39" pos:end="213:50"><expr pos:start="213:39" pos:end="213:50"><name pos:start="213:39" pos:end="213:50">spice_server</name></expr></argument>, <argument pos:start="213:53" pos:end="213:61"><expr pos:start="213:53" pos:end="213:61"><name pos:start="213:53" pos:end="213:61">wan_compr</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="217:5" pos:end="217:43"><expr pos:start="217:5" pos:end="217:42"><name pos:start="217:5" pos:end="217:13">wan_compr</name> <operator pos:start="217:15" pos:end="217:15">=</operator> <name pos:start="217:17" pos:end="217:42">SPICE_WAN_COMPRESSION_AUTO</name></expr>;</expr_stmt>

    <expr_stmt pos:start="219:5" pos:end="219:57"><expr pos:start="219:5" pos:end="219:56"><name pos:start="219:5" pos:end="219:7">str</name> <operator pos:start="219:9" pos:end="219:9">=</operator> <call pos:start="219:11" pos:end="219:56"><name pos:start="219:11" pos:end="219:22">qemu_opt_get</name><argument_list pos:start="219:23" pos:end="219:56">(<argument pos:start="219:24" pos:end="219:27"><expr pos:start="219:24" pos:end="219:27"><name pos:start="219:24" pos:end="219:27">opts</name></expr></argument>, <argument pos:start="219:30" pos:end="219:55"><expr pos:start="219:30" pos:end="219:55"><literal type="string" pos:start="219:30" pos:end="219:55">"zlib-glz-wan-compression"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="221:5" pos:end="285:32"><if pos:start="221:5" pos:end="285:32">if <condition pos:start="221:8" pos:end="221:12">(<expr pos:start="221:9" pos:end="221:11"><name pos:start="221:9" pos:end="221:11">str</name></expr>)</condition> <block pos:start="221:14" pos:end="285:32">{<block_content pos:start="223:9" pos:end="285:32">

        <expr_stmt pos:start="223:9" pos:end="223:47"><expr pos:start="223:9" pos:end="223:46"><name pos:start="223:9" pos:end="223:17">wan_compr</name> <operator pos:start="223:19" pos:end="223:19">=</operator> <call pos:start="223:21" pos:end="223:46"><name pos:start="223:21" pos:end="223:41">parse_wan_compression</name><argument_list pos:start="223:42" pos:end="223:46">(<argument pos:start="223:43" pos:end="223:45"><expr pos:start="223:43" pos:end="223:45"><name pos:start="223:43" pos:end="223:45">str</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>


    <expr_stmt pos:start="226:5" pos:end="231:0"><expr pos:start="226:5" pos:end="226:66"><call pos:start="226:5" pos:end="226:66"><name pos:start="226:5" pos:end="226:41">spice_server_set_zlib_glz_compression</name><argument_list pos:start="226:42" pos:end="226:66">(<argument pos:start="226:43" pos:end="226:54"><expr pos:start="226:43" pos:end="226:54"><name pos:start="226:43" pos:end="226:54">spice_server</name></expr></argument>, <argument pos:start="226:57" pos:end="226:65"><expr pos:start="226:57" pos:end="226:65"><name pos:start="226:57" pos:end="226:65">wan_compr</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



<cpp:if pos:start="230:1" pos:end="230:36">#<cpp:directive pos:start="230:2" pos:end="230:3">if</cpp:directive> <expr pos:start="230:5" pos:end="230:36"><name pos:start="230:5" pos:end="230:24">SPICE_SERVER_VERSION</name> <operator pos:start="230:26" pos:end="230:27">&gt;=</operator> <literal type="number" pos:start="230:29" pos:end="230:36">0x000600</literal></expr></cpp:if> <comment type="block" pos:start="230:38" pos:end="230:48">/* 0.6.0 */</comment>



    <expr_stmt pos:start="234:5" pos:end="234:48"><expr pos:start="234:5" pos:end="234:47"><name pos:start="234:5" pos:end="234:7">str</name> <operator pos:start="234:9" pos:end="234:9">=</operator> <call pos:start="234:11" pos:end="234:47"><name pos:start="234:11" pos:end="234:22">qemu_opt_get</name><argument_list pos:start="234:23" pos:end="234:47">(<argument pos:start="234:24" pos:end="234:27"><expr pos:start="234:24" pos:end="234:27"><name pos:start="234:24" pos:end="234:27">opts</name></expr></argument>, <argument pos:start="234:30" pos:end="234:46"><expr pos:start="234:30" pos:end="234:46"><literal type="string" pos:start="234:30" pos:end="234:46">"streaming-video"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="236:5" pos:end="285:32"><if pos:start="236:5" pos:end="285:32">if <condition pos:start="236:8" pos:end="236:12">(<expr pos:start="236:9" pos:end="236:11"><name pos:start="236:9" pos:end="236:11">str</name></expr>)</condition> <block pos:start="236:14" pos:end="285:32">{<block_content pos:start="238:9" pos:end="285:32">

        <decl_stmt pos:start="238:9" pos:end="238:54"><decl pos:start="238:9" pos:end="238:53"><type pos:start="238:9" pos:end="238:11"><name pos:start="238:9" pos:end="238:11">int</name></type> <name pos:start="238:13" pos:end="238:27">streaming_video</name> <init pos:start="238:29" pos:end="238:53">= <expr pos:start="238:31" pos:end="238:53"><call pos:start="238:31" pos:end="238:53"><name pos:start="238:31" pos:end="238:48">parse_stream_video</name><argument_list pos:start="238:49" pos:end="238:53">(<argument pos:start="238:50" pos:end="238:52"><expr pos:start="238:50" pos:end="238:52"><name pos:start="238:50" pos:end="238:52">str</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

        <expr_stmt pos:start="240:9" pos:end="240:72"><expr pos:start="240:9" pos:end="240:71"><call pos:start="240:9" pos:end="240:71"><name pos:start="240:9" pos:end="240:40">spice_server_set_streaming_video</name><argument_list pos:start="240:41" pos:end="240:71">(<argument pos:start="240:42" pos:end="240:53"><expr pos:start="240:42" pos:end="240:53"><name pos:start="240:42" pos:end="240:53">spice_server</name></expr></argument>, <argument pos:start="240:56" pos:end="240:70"><expr pos:start="240:56" pos:end="240:70"><name pos:start="240:56" pos:end="240:70">streaming_video</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>




    <expr_stmt pos:start="245:5" pos:end="247:66"><expr pos:start="245:5" pos:end="247:65"><call pos:start="245:5" pos:end="247:65"><name pos:start="245:5" pos:end="245:32">spice_server_set_agent_mouse</name>

        <argument_list pos:start="247:9" pos:end="247:65">(<argument pos:start="247:10" pos:end="247:21"><expr pos:start="247:10" pos:end="247:21"><name pos:start="247:10" pos:end="247:21">spice_server</name></expr></argument>, <argument pos:start="247:24" pos:end="247:64"><expr pos:start="247:24" pos:end="247:64"><call pos:start="247:24" pos:end="247:64"><name pos:start="247:24" pos:end="247:40">qemu_opt_get_bool</name><argument_list pos:start="247:41" pos:end="247:64">(<argument pos:start="247:42" pos:end="247:45"><expr pos:start="247:42" pos:end="247:45"><name pos:start="247:42" pos:end="247:45">opts</name></expr></argument>, <argument pos:start="247:48" pos:end="247:60"><expr pos:start="247:48" pos:end="247:60"><literal type="string" pos:start="247:48" pos:end="247:60">"agent-mouse"</literal></expr></argument>, <argument pos:start="247:63" pos:end="247:63"><expr pos:start="247:63" pos:end="247:63"><literal type="number" pos:start="247:63" pos:end="247:63">1</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="249:5" pos:end="256:0"><expr pos:start="249:5" pos:end="251:74"><call pos:start="249:5" pos:end="251:74"><name pos:start="249:5" pos:end="249:41">spice_server_set_playback_compression</name>

        <argument_list pos:start="251:9" pos:end="251:74">(<argument pos:start="251:10" pos:end="251:21"><expr pos:start="251:10" pos:end="251:21"><name pos:start="251:10" pos:end="251:21">spice_server</name></expr></argument>, <argument pos:start="251:24" pos:end="251:73"><expr pos:start="251:24" pos:end="251:73"><call pos:start="251:24" pos:end="251:73"><name pos:start="251:24" pos:end="251:40">qemu_opt_get_bool</name><argument_list pos:start="251:41" pos:end="251:73">(<argument pos:start="251:42" pos:end="251:45"><expr pos:start="251:42" pos:end="251:45"><name pos:start="251:42" pos:end="251:45">opts</name></expr></argument>, <argument pos:start="251:48" pos:end="251:69"><expr pos:start="251:48" pos:end="251:69"><literal type="string" pos:start="251:48" pos:end="251:69">"playback-compression"</literal></expr></argument>, <argument pos:start="251:72" pos:end="251:72"><expr pos:start="251:72" pos:end="251:72"><literal type="number" pos:start="251:72" pos:end="251:72">1</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>



<cpp:endif pos:start="255:1" pos:end="255:6">#<cpp:directive pos:start="255:2" pos:end="255:6">endif</cpp:directive></cpp:endif> <comment type="block" pos:start="255:8" pos:end="255:21">/* &gt;= 0.6.0 */</comment>



    <expr_stmt pos:start="259:5" pos:end="259:49"><expr pos:start="259:5" pos:end="259:48"><call pos:start="259:5" pos:end="259:48"><name pos:start="259:5" pos:end="259:20">qemu_opt_foreach</name><argument_list pos:start="259:21" pos:end="259:48">(<argument pos:start="259:22" pos:end="259:25"><expr pos:start="259:22" pos:end="259:25"><name pos:start="259:22" pos:end="259:25">opts</name></expr></argument>, <argument pos:start="259:28" pos:end="259:38"><expr pos:start="259:28" pos:end="259:38"><name pos:start="259:28" pos:end="259:38">add_channel</name></expr></argument>, <argument pos:start="259:41" pos:end="259:44"><expr pos:start="259:41" pos:end="259:44"><name pos:start="259:41" pos:end="259:44">NULL</name></expr></argument>, <argument pos:start="259:47" pos:end="259:47"><expr pos:start="259:47" pos:end="259:47"><literal type="number" pos:start="259:47" pos:end="259:47">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="263:5" pos:end="263:53"><expr pos:start="263:5" pos:end="263:52"><call pos:start="263:5" pos:end="263:52"><name pos:start="263:5" pos:end="263:21">spice_server_init</name><argument_list pos:start="263:22" pos:end="263:52">(<argument pos:start="263:23" pos:end="263:34"><expr pos:start="263:23" pos:end="263:34"><name pos:start="263:23" pos:end="263:34">spice_server</name></expr></argument>, <argument pos:start="263:37" pos:end="263:51"><expr pos:start="263:37" pos:end="263:51"><operator pos:start="263:37" pos:end="263:37">&amp;</operator><name pos:start="263:38" pos:end="263:51">core_interface</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="265:5" pos:end="265:20"><expr pos:start="265:5" pos:end="265:19"><name pos:start="265:5" pos:end="265:15">using_spice</name> <operator pos:start="265:17" pos:end="265:17">=</operator> <literal type="number" pos:start="265:19" pos:end="265:19">1</literal></expr>;</expr_stmt>



    <expr_stmt pos:start="269:5" pos:end="269:54"><expr pos:start="269:5" pos:end="269:53"><name pos:start="269:5" pos:end="269:26"><name pos:start="269:5" pos:end="269:19">migration_state</name><operator pos:start="269:20" pos:end="269:20">.</operator><name pos:start="269:21" pos:end="269:26">notify</name></name> <operator pos:start="269:28" pos:end="269:28">=</operator> <name pos:start="269:30" pos:end="269:53">migration_state_notifier</name></expr>;</expr_stmt>

    <expr_stmt pos:start="271:5" pos:end="271:58"><expr pos:start="271:5" pos:end="271:57"><call pos:start="271:5" pos:end="271:57"><name pos:start="271:5" pos:end="271:39">add_migration_state_change_notifier</name><argument_list pos:start="271:40" pos:end="271:57">(<argument pos:start="271:41" pos:end="271:56"><expr pos:start="271:41" pos:end="271:56"><operator pos:start="271:41" pos:end="271:41">&amp;</operator><name pos:start="271:42" pos:end="271:56">migration_state</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="275:5" pos:end="275:28"><expr pos:start="275:5" pos:end="275:27"><call pos:start="275:5" pos:end="275:27"><name pos:start="275:5" pos:end="275:25">qemu_spice_input_init</name><argument_list pos:start="275:26" pos:end="275:27">()</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="277:5" pos:end="277:28"><expr pos:start="277:5" pos:end="277:27"><call pos:start="277:5" pos:end="277:27"><name pos:start="277:5" pos:end="277:25">qemu_spice_audio_init</name><argument_list pos:start="277:26" pos:end="277:27">()</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="281:5" pos:end="281:29"><expr pos:start="281:5" pos:end="281:28"><call pos:start="281:5" pos:end="281:28"><name pos:start="281:5" pos:end="281:13">qemu_free</name><argument_list pos:start="281:14" pos:end="281:28">(<argument pos:start="281:15" pos:end="281:27"><expr pos:start="281:15" pos:end="281:27"><name pos:start="281:15" pos:end="281:27">x509_key_file</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="283:5" pos:end="283:30"><expr pos:start="283:5" pos:end="283:29"><call pos:start="283:5" pos:end="283:29"><name pos:start="283:5" pos:end="283:13">qemu_free</name><argument_list pos:start="283:14" pos:end="283:29">(<argument pos:start="283:15" pos:end="283:28"><expr pos:start="283:15" pos:end="283:28"><name pos:start="283:15" pos:end="283:28">x509_cert_file</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="285:5" pos:end="285:32"><expr pos:start="285:5" pos:end="285:31"><call pos:start="285:5" pos:end="285:31"><name pos:start="285:5" pos:end="285:13">qemu_free</name><argument_list pos:start="285:14" pos:end="285:31">(<argument pos:start="285:15" pos:end="285:30"><expr pos:start="285:15" pos:end="285:30"><name pos:start="285:15" pos:end="285:30">x509_cacert_file</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt></block_content></block></if></if_stmt></block_content></block></if></if_stmt></block_content></block></if></if_stmt></block_content></block></if></if_stmt></block_content></block></if></if_stmt></block_content></block></if></if_stmt></block_content></block></if></if_stmt></block_content></block></if></if_stmt></block_content></block></if></if_stmt></block_content></block></else></if_stmt></block_content></block></else></if_stmt></block_content></block></else></if_stmt></block_content></block></if></if_stmt></block_content></block></if></if_stmt></block_content></block></if></if_stmt></block_content></block></if></if_stmt></block_content></block></function>
</unit>
