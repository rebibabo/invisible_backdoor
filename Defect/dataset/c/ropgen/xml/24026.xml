<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/24026.c" pos:tabs="8"><function pos:start="1:1" pos:end="193:1"><type pos:start="1:1" pos:end="1:10"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:10">int</name></type> <name pos:start="1:12" pos:end="1:24">encode_packet</name><parameter_list pos:start="1:25" pos:end="3:54">(<parameter pos:start="1:26" pos:end="1:50"><decl pos:start="1:26" pos:end="1:50"><type pos:start="1:26" pos:end="1:50"><name pos:start="1:26" pos:end="1:47">Jpeg2000EncoderContext</name> <modifier pos:start="1:49" pos:end="1:49">*</modifier></type><name pos:start="1:50" pos:end="1:50">s</name></decl></parameter>, <parameter pos:start="1:53" pos:end="1:76"><decl pos:start="1:53" pos:end="1:76"><type pos:start="1:53" pos:end="1:76"><name pos:start="1:53" pos:end="1:68">Jpeg2000ResLevel</name> <modifier pos:start="1:70" pos:end="1:70">*</modifier></type><name pos:start="1:71" pos:end="1:76">rlevel</name></decl></parameter>, <parameter pos:start="1:79" pos:end="1:88"><decl pos:start="1:79" pos:end="1:88"><type pos:start="1:79" pos:end="1:88"><name pos:start="1:79" pos:end="1:81">int</name></type> <name pos:start="1:83" pos:end="1:88">precno</name></decl></parameter>,

                          <parameter pos:start="3:27" pos:end="3:39"><decl pos:start="3:27" pos:end="3:39"><type pos:start="3:27" pos:end="3:39"><name pos:start="3:27" pos:end="3:33">uint8_t</name> <modifier pos:start="3:35" pos:end="3:35">*</modifier></type><name pos:start="3:36" pos:end="3:39">expn</name></decl></parameter>, <parameter pos:start="3:42" pos:end="3:53"><decl pos:start="3:42" pos:end="3:53"><type pos:start="3:42" pos:end="3:53"><name pos:start="3:42" pos:end="3:44">int</name></type> <name pos:start="3:46" pos:end="3:53">numgbits</name></decl></parameter>)</parameter_list>

<block pos:start="5:1" pos:end="193:1">{<block_content pos:start="7:5" pos:end="191:13">

    <decl_stmt pos:start="7:5" pos:end="7:26"><decl pos:start="7:5" pos:end="7:14"><type pos:start="7:5" pos:end="7:7"><name pos:start="7:5" pos:end="7:7">int</name></type> <name pos:start="7:9" pos:end="7:14">bandno</name></decl>, <decl pos:start="7:17" pos:end="7:25"><type ref="prev" pos:start="7:5" pos:end="7:7"/><name pos:start="7:17" pos:end="7:21">empty</name> <init pos:start="7:23" pos:end="7:25">= <expr pos:start="7:25" pos:end="7:25"><literal type="number" pos:start="7:25" pos:end="7:25">1</literal></expr></init></decl>;</decl_stmt>



    <comment type="line" pos:start="11:5" pos:end="11:21">// init bitstream</comment>

    <expr_stmt pos:start="13:5" pos:end="13:16"><expr pos:start="13:5" pos:end="13:15"><operator pos:start="13:5" pos:end="13:5">*</operator><name pos:start="13:6" pos:end="13:11"><name pos:start="13:6" pos:end="13:6">s</name><operator pos:start="13:7" pos:end="13:8">-&gt;</operator><name pos:start="13:9" pos:end="13:11">buf</name></name> <operator pos:start="13:13" pos:end="13:13">=</operator> <literal type="number" pos:start="13:15" pos:end="13:15">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="15:5" pos:end="15:21"><expr pos:start="15:5" pos:end="15:20"><name pos:start="15:5" pos:end="15:16"><name pos:start="15:5" pos:end="15:5">s</name><operator pos:start="15:6" pos:end="15:7">-&gt;</operator><name pos:start="15:8" pos:end="15:16">bit_index</name></name> <operator pos:start="15:18" pos:end="15:18">=</operator> <literal type="number" pos:start="15:20" pos:end="15:20">0</literal></expr>;</expr_stmt>



    <comment type="line" pos:start="19:5" pos:end="19:13">// header</comment>



    <comment type="line" pos:start="23:5" pos:end="23:27">// is the packet empty?</comment>

    <for pos:start="25:5" pos:end="37:5">for <control pos:start="25:9" pos:end="25:55">(<init pos:start="25:10" pos:end="25:20"><expr pos:start="25:10" pos:end="25:19"><name pos:start="25:10" pos:end="25:15">bandno</name> <operator pos:start="25:17" pos:end="25:17">=</operator> <literal type="number" pos:start="25:19" pos:end="25:19">0</literal></expr>;</init> <condition pos:start="25:22" pos:end="25:45"><expr pos:start="25:22" pos:end="25:44"><name pos:start="25:22" pos:end="25:27">bandno</name> <operator pos:start="25:29" pos:end="25:29">&lt;</operator> <name pos:start="25:31" pos:end="25:44"><name pos:start="25:31" pos:end="25:36">rlevel</name><operator pos:start="25:37" pos:end="25:38">-&gt;</operator><name pos:start="25:39" pos:end="25:44">nbands</name></name></expr>;</condition> <incr pos:start="25:47" pos:end="25:54"><expr pos:start="25:47" pos:end="25:54"><name pos:start="25:47" pos:end="25:52">bandno</name><operator pos:start="25:53" pos:end="25:54">++</operator></expr></incr>)</control><block pos:start="25:56" pos:end="37:5">{<block_content pos:start="27:9" pos:end="35:9">

        <if_stmt pos:start="27:9" pos:end="35:9"><if pos:start="27:9" pos:end="35:9">if <condition pos:start="27:12" pos:end="29:80">(<expr pos:start="27:13" pos:end="29:79"><name pos:start="27:13" pos:end="27:32"><name pos:start="27:13" pos:end="27:18">rlevel</name><operator pos:start="27:19" pos:end="27:20">-&gt;</operator><name pos:start="27:21" pos:end="27:24">band</name><index pos:start="27:25" pos:end="27:32">[<expr pos:start="27:26" pos:end="27:31"><name pos:start="27:26" pos:end="27:31">bandno</name></expr>]</index></name><operator pos:start="27:33" pos:end="27:33">.</operator><name pos:start="27:34" pos:end="27:44"><name pos:start="27:34" pos:end="27:38">coord</name><index pos:start="27:39" pos:end="27:41">[<expr pos:start="27:40" pos:end="27:40"><literal type="number" pos:start="27:40" pos:end="27:40">0</literal></expr>]</index><index pos:start="27:42" pos:end="27:44">[<expr pos:start="27:43" pos:end="27:43"><literal type="number" pos:start="27:43" pos:end="27:43">0</literal></expr>]</index></name> <operator pos:start="27:46" pos:end="27:46">&lt;</operator> <name pos:start="27:48" pos:end="27:67"><name pos:start="27:48" pos:end="27:53">rlevel</name><operator pos:start="27:54" pos:end="27:55">-&gt;</operator><name pos:start="27:56" pos:end="27:59">band</name><index pos:start="27:60" pos:end="27:67">[<expr pos:start="27:61" pos:end="27:66"><name pos:start="27:61" pos:end="27:66">bandno</name></expr>]</index></name><operator pos:start="27:68" pos:end="27:68">.</operator><name pos:start="27:69" pos:end="27:79"><name pos:start="27:69" pos:end="27:73">coord</name><index pos:start="27:74" pos:end="27:76">[<expr pos:start="27:75" pos:end="27:75"><literal type="number" pos:start="27:75" pos:end="27:75">0</literal></expr>]</index><index pos:start="27:77" pos:end="27:79">[<expr pos:start="27:78" pos:end="27:78"><literal type="number" pos:start="27:78" pos:end="27:78">1</literal></expr>]</index></name>

        <operator pos:start="29:9" pos:end="29:10">&amp;&amp;</operator>  <name pos:start="29:13" pos:end="29:32"><name pos:start="29:13" pos:end="29:18">rlevel</name><operator pos:start="29:19" pos:end="29:20">-&gt;</operator><name pos:start="29:21" pos:end="29:24">band</name><index pos:start="29:25" pos:end="29:32">[<expr pos:start="29:26" pos:end="29:31"><name pos:start="29:26" pos:end="29:31">bandno</name></expr>]</index></name><operator pos:start="29:33" pos:end="29:33">.</operator><name pos:start="29:34" pos:end="29:44"><name pos:start="29:34" pos:end="29:38">coord</name><index pos:start="29:39" pos:end="29:41">[<expr pos:start="29:40" pos:end="29:40"><literal type="number" pos:start="29:40" pos:end="29:40">1</literal></expr>]</index><index pos:start="29:42" pos:end="29:44">[<expr pos:start="29:43" pos:end="29:43"><literal type="number" pos:start="29:43" pos:end="29:43">0</literal></expr>]</index></name> <operator pos:start="29:46" pos:end="29:46">&lt;</operator> <name pos:start="29:48" pos:end="29:67"><name pos:start="29:48" pos:end="29:53">rlevel</name><operator pos:start="29:54" pos:end="29:55">-&gt;</operator><name pos:start="29:56" pos:end="29:59">band</name><index pos:start="29:60" pos:end="29:67">[<expr pos:start="29:61" pos:end="29:66"><name pos:start="29:61" pos:end="29:66">bandno</name></expr>]</index></name><operator pos:start="29:68" pos:end="29:68">.</operator><name pos:start="29:69" pos:end="29:79"><name pos:start="29:69" pos:end="29:73">coord</name><index pos:start="29:74" pos:end="29:76">[<expr pos:start="29:75" pos:end="29:75"><literal type="number" pos:start="29:75" pos:end="29:75">1</literal></expr>]</index><index pos:start="29:77" pos:end="29:79">[<expr pos:start="29:78" pos:end="29:78"><literal type="number" pos:start="29:78" pos:end="29:78">1</literal></expr>]</index></name></expr>)</condition><block pos:start="29:81" pos:end="35:9">{<block_content pos:start="31:13" pos:end="33:18">

            <expr_stmt pos:start="31:13" pos:end="31:22"><expr pos:start="31:13" pos:end="31:21"><name pos:start="31:13" pos:end="31:17">empty</name> <operator pos:start="31:19" pos:end="31:19">=</operator> <literal type="number" pos:start="31:21" pos:end="31:21">0</literal></expr>;</expr_stmt>

            <break pos:start="33:13" pos:end="33:18">break;</break>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></for>



    <expr_stmt pos:start="41:5" pos:end="41:27"><expr pos:start="41:5" pos:end="41:26"><call pos:start="41:5" pos:end="41:26"><name pos:start="41:5" pos:end="41:12">put_bits</name><argument_list pos:start="41:13" pos:end="41:26">(<argument pos:start="41:14" pos:end="41:14"><expr pos:start="41:14" pos:end="41:14"><name pos:start="41:14" pos:end="41:14">s</name></expr></argument>, <argument pos:start="41:17" pos:end="41:22"><expr pos:start="41:17" pos:end="41:22"><operator pos:start="41:17" pos:end="41:17">!</operator><name pos:start="41:18" pos:end="41:22">empty</name></expr></argument>, <argument pos:start="41:25" pos:end="41:25"><expr pos:start="41:25" pos:end="41:25"><literal type="number" pos:start="41:25" pos:end="41:25">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="43:5" pos:end="49:5"><if pos:start="43:5" pos:end="49:5">if <condition pos:start="43:8" pos:end="43:14">(<expr pos:start="43:9" pos:end="43:13"><name pos:start="43:9" pos:end="43:13">empty</name></expr>)</condition><block pos:start="43:15" pos:end="49:5">{<block_content pos:start="45:9" pos:end="47:17">

        <expr_stmt pos:start="45:9" pos:end="45:21"><expr pos:start="45:9" pos:end="45:20"><call pos:start="45:9" pos:end="45:20"><name pos:start="45:9" pos:end="45:17">j2k_flush</name><argument_list pos:start="45:18" pos:end="45:20">(<argument pos:start="45:19" pos:end="45:19"><expr pos:start="45:19" pos:end="45:19"><name pos:start="45:19" pos:end="45:19">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <return pos:start="47:9" pos:end="47:17">return <expr pos:start="47:16" pos:end="47:16"><literal type="number" pos:start="47:16" pos:end="47:16">0</literal></expr>;</return>

    </block_content>}</block></if></if_stmt>



    <for pos:start="53:5" pos:end="149:5">for <control pos:start="53:9" pos:end="53:55">(<init pos:start="53:10" pos:end="53:20"><expr pos:start="53:10" pos:end="53:19"><name pos:start="53:10" pos:end="53:15">bandno</name> <operator pos:start="53:17" pos:end="53:17">=</operator> <literal type="number" pos:start="53:19" pos:end="53:19">0</literal></expr>;</init> <condition pos:start="53:22" pos:end="53:45"><expr pos:start="53:22" pos:end="53:44"><name pos:start="53:22" pos:end="53:27">bandno</name> <operator pos:start="53:29" pos:end="53:29">&lt;</operator> <name pos:start="53:31" pos:end="53:44"><name pos:start="53:31" pos:end="53:36">rlevel</name><operator pos:start="53:37" pos:end="53:38">-&gt;</operator><name pos:start="53:39" pos:end="53:44">nbands</name></name></expr>;</condition> <incr pos:start="53:47" pos:end="53:54"><expr pos:start="53:47" pos:end="53:54"><name pos:start="53:47" pos:end="53:52">bandno</name><operator pos:start="53:53" pos:end="53:54">++</operator></expr></incr>)</control><block pos:start="53:56" pos:end="149:5">{<block_content pos:start="55:9" pos:end="147:9">

        <decl_stmt pos:start="55:9" pos:end="55:51"><decl pos:start="55:9" pos:end="55:50"><type pos:start="55:9" pos:end="55:22"><name pos:start="55:9" pos:end="55:20">Jpeg2000Band</name> <modifier pos:start="55:22" pos:end="55:22">*</modifier></type><name pos:start="55:23" pos:end="55:26">band</name> <init pos:start="55:28" pos:end="55:50">= <expr pos:start="55:30" pos:end="55:50"><name pos:start="55:30" pos:end="55:41"><name pos:start="55:30" pos:end="55:35">rlevel</name><operator pos:start="55:36" pos:end="55:37">-&gt;</operator><name pos:start="55:38" pos:end="55:41">band</name></name> <operator pos:start="55:43" pos:end="55:43">+</operator> <name pos:start="55:45" pos:end="55:50">bandno</name></expr></init></decl>;</decl_stmt>

        <decl_stmt pos:start="57:9" pos:end="57:49"><decl pos:start="57:9" pos:end="57:48"><type pos:start="57:9" pos:end="57:22"><name pos:start="57:9" pos:end="57:20">Jpeg2000Prec</name> <modifier pos:start="57:22" pos:end="57:22">*</modifier></type><name pos:start="57:23" pos:end="57:26">prec</name> <init pos:start="57:28" pos:end="57:48">= <expr pos:start="57:30" pos:end="57:48"><name pos:start="57:30" pos:end="57:39"><name pos:start="57:30" pos:end="57:33">band</name><operator pos:start="57:34" pos:end="57:35">-&gt;</operator><name pos:start="57:36" pos:end="57:39">prec</name></name> <operator pos:start="57:41" pos:end="57:41">+</operator> <name pos:start="57:43" pos:end="57:48">precno</name></expr></init></decl>;</decl_stmt>

        <decl_stmt pos:start="59:9" pos:end="59:24"><decl pos:start="59:9" pos:end="59:14"><type pos:start="59:9" pos:end="59:11"><name pos:start="59:9" pos:end="59:11">int</name></type> <name pos:start="59:13" pos:end="59:14">yi</name></decl>, <decl pos:start="59:17" pos:end="59:18"><type ref="prev" pos:start="59:9" pos:end="59:11"/><name pos:start="59:17" pos:end="59:18">xi</name></decl>, <decl pos:start="59:21" pos:end="59:23"><type ref="prev" pos:start="59:9" pos:end="59:11"/><name pos:start="59:21" pos:end="59:23">pos</name></decl>;</decl_stmt>

        <decl_stmt pos:start="61:9" pos:end="61:47"><decl pos:start="61:9" pos:end="61:46"><type pos:start="61:9" pos:end="61:11"><name pos:start="61:9" pos:end="61:11">int</name></type> <name pos:start="61:13" pos:end="61:18">cblknw</name> <init pos:start="61:20" pos:end="61:46">= <expr pos:start="61:22" pos:end="61:46"><name pos:start="61:22" pos:end="61:46"><name pos:start="61:22" pos:end="61:25">prec</name><operator pos:start="61:26" pos:end="61:27">-&gt;</operator><name pos:start="61:28" pos:end="61:46">nb_codeblocks_width</name></name></expr></init></decl>;</decl_stmt>



        <if_stmt pos:start="65:9" pos:end="69:21"><if pos:start="65:9" pos:end="69:21">if <condition pos:start="65:12" pos:end="67:51">(<expr pos:start="65:13" pos:end="67:50"><name pos:start="65:13" pos:end="65:29"><name pos:start="65:13" pos:end="65:16">band</name><operator pos:start="65:17" pos:end="65:18">-&gt;</operator><name pos:start="65:19" pos:end="65:23">coord</name><index pos:start="65:24" pos:end="65:26">[<expr pos:start="65:25" pos:end="65:25"><literal type="number" pos:start="65:25" pos:end="65:25">0</literal></expr>]</index><index pos:start="65:27" pos:end="65:29">[<expr pos:start="65:28" pos:end="65:28"><literal type="number" pos:start="65:28" pos:end="65:28">0</literal></expr>]</index></name> <operator pos:start="65:31" pos:end="65:32">==</operator> <name pos:start="65:34" pos:end="65:50"><name pos:start="65:34" pos:end="65:37">band</name><operator pos:start="65:38" pos:end="65:39">-&gt;</operator><name pos:start="65:40" pos:end="65:44">coord</name><index pos:start="65:45" pos:end="65:47">[<expr pos:start="65:46" pos:end="65:46"><literal type="number" pos:start="65:46" pos:end="65:46">0</literal></expr>]</index><index pos:start="65:48" pos:end="65:50">[<expr pos:start="65:49" pos:end="65:49"><literal type="number" pos:start="65:49" pos:end="65:49">1</literal></expr>]</index></name>

        <operator pos:start="67:9" pos:end="67:10">||</operator>  <name pos:start="67:13" pos:end="67:29"><name pos:start="67:13" pos:end="67:16">band</name><operator pos:start="67:17" pos:end="67:18">-&gt;</operator><name pos:start="67:19" pos:end="67:23">coord</name><index pos:start="67:24" pos:end="67:26">[<expr pos:start="67:25" pos:end="67:25"><literal type="number" pos:start="67:25" pos:end="67:25">1</literal></expr>]</index><index pos:start="67:27" pos:end="67:29">[<expr pos:start="67:28" pos:end="67:28"><literal type="number" pos:start="67:28" pos:end="67:28">0</literal></expr>]</index></name> <operator pos:start="67:31" pos:end="67:32">==</operator> <name pos:start="67:34" pos:end="67:50"><name pos:start="67:34" pos:end="67:37">band</name><operator pos:start="67:38" pos:end="67:39">-&gt;</operator><name pos:start="67:40" pos:end="67:44">coord</name><index pos:start="67:45" pos:end="67:47">[<expr pos:start="67:46" pos:end="67:46"><literal type="number" pos:start="67:46" pos:end="67:46">1</literal></expr>]</index><index pos:start="67:48" pos:end="67:50">[<expr pos:start="67:49" pos:end="67:49"><literal type="number" pos:start="67:49" pos:end="67:49">1</literal></expr>]</index></name></expr>)</condition><block type="pseudo" pos:start="69:13" pos:end="69:21"><block_content pos:start="69:13" pos:end="69:21">

            <continue pos:start="69:13" pos:end="69:21">continue;</continue></block_content></block></if></if_stmt>



        <for pos:start="73:9" pos:end="87:9">for <control pos:start="73:13" pos:end="73:66">(<init pos:start="73:14" pos:end="73:27"><expr pos:start="73:14" pos:end="73:18"><name pos:start="73:14" pos:end="73:16">pos</name><operator pos:start="73:17" pos:end="73:17">=</operator><literal type="number" pos:start="73:18" pos:end="73:18">0</literal></expr><operator pos:start="73:19" pos:end="73:19">,</operator> <expr pos:start="73:21" pos:end="73:26"><name pos:start="73:21" pos:end="73:22">yi</name> <operator pos:start="73:24" pos:end="73:24">=</operator> <literal type="number" pos:start="73:26" pos:end="73:26">0</literal></expr>;</init> <condition pos:start="73:29" pos:end="73:60"><expr pos:start="73:29" pos:end="73:59"><name pos:start="73:29" pos:end="73:30">yi</name> <operator pos:start="73:32" pos:end="73:32">&lt;</operator> <name pos:start="73:34" pos:end="73:59"><name pos:start="73:34" pos:end="73:37">prec</name><operator pos:start="73:38" pos:end="73:39">-&gt;</operator><name pos:start="73:40" pos:end="73:59">nb_codeblocks_height</name></name></expr>;</condition> <incr pos:start="73:62" pos:end="73:65"><expr pos:start="73:62" pos:end="73:65"><name pos:start="73:62" pos:end="73:63">yi</name><operator pos:start="73:64" pos:end="73:65">++</operator></expr></incr>)</control><block pos:start="73:67" pos:end="87:9">{<block_content pos:start="75:13" pos:end="85:13">

            <for pos:start="75:13" pos:end="85:13">for <control pos:start="75:17" pos:end="75:50">(<init pos:start="75:18" pos:end="75:24"><expr pos:start="75:18" pos:end="75:23"><name pos:start="75:18" pos:end="75:19">xi</name> <operator pos:start="75:21" pos:end="75:21">=</operator> <literal type="number" pos:start="75:23" pos:end="75:23">0</literal></expr>;</init> <condition pos:start="75:26" pos:end="75:37"><expr pos:start="75:26" pos:end="75:36"><name pos:start="75:26" pos:end="75:27">xi</name> <operator pos:start="75:29" pos:end="75:29">&lt;</operator> <name pos:start="75:31" pos:end="75:36">cblknw</name></expr>;</condition> <incr pos:start="75:39" pos:end="75:49"><expr pos:start="75:39" pos:end="75:42"><name pos:start="75:39" pos:end="75:40">xi</name><operator pos:start="75:41" pos:end="75:42">++</operator></expr><operator pos:start="75:43" pos:end="75:43">,</operator> <expr pos:start="75:45" pos:end="75:49"><name pos:start="75:45" pos:end="75:47">pos</name><operator pos:start="75:48" pos:end="75:49">++</operator></expr></incr>)</control><block pos:start="75:51" pos:end="85:13">{<block_content pos:start="77:17" pos:end="83:54">

                <expr_stmt pos:start="77:17" pos:end="77:88"><expr pos:start="77:17" pos:end="77:87"><name pos:start="77:17" pos:end="77:35"><name pos:start="77:17" pos:end="77:20">prec</name><operator pos:start="77:21" pos:end="77:22">-&gt;</operator><name pos:start="77:23" pos:end="77:30">cblkincl</name><index pos:start="77:31" pos:end="77:35">[<expr pos:start="77:32" pos:end="77:34"><name pos:start="77:32" pos:end="77:34">pos</name></expr>]</index></name><operator pos:start="77:36" pos:end="77:36">.</operator><name pos:start="77:37" pos:end="77:39">val</name> <operator pos:start="77:41" pos:end="77:41">=</operator> <name pos:start="77:43" pos:end="77:70"><name pos:start="77:43" pos:end="77:46">prec</name><operator pos:start="77:47" pos:end="77:48">-&gt;</operator><name pos:start="77:49" pos:end="77:52">cblk</name><index pos:start="77:53" pos:end="77:70">[<expr pos:start="77:54" pos:end="77:69"><name pos:start="77:54" pos:end="77:55">yi</name> <operator pos:start="77:57" pos:end="77:57">*</operator> <name pos:start="77:59" pos:end="77:64">cblknw</name> <operator pos:start="77:66" pos:end="77:66">+</operator> <name pos:start="77:68" pos:end="77:69">xi</name></expr>]</index></name><operator pos:start="77:71" pos:end="77:71">.</operator><name pos:start="77:72" pos:end="77:82">ninclpasses</name> <operator pos:start="77:84" pos:end="77:85">==</operator> <literal type="number" pos:start="77:87" pos:end="77:87">0</literal></expr>;</expr_stmt>

                <expr_stmt pos:start="79:17" pos:end="79:54"><expr pos:start="79:17" pos:end="79:53"><call pos:start="79:17" pos:end="79:53"><name pos:start="79:17" pos:end="79:31">tag_tree_update</name><argument_list pos:start="79:32" pos:end="79:53">(<argument pos:start="79:33" pos:end="79:52"><expr pos:start="79:33" pos:end="79:52"><name pos:start="79:33" pos:end="79:46"><name pos:start="79:33" pos:end="79:36">prec</name><operator pos:start="79:37" pos:end="79:38">-&gt;</operator><name pos:start="79:39" pos:end="79:46">cblkincl</name></name> <operator pos:start="79:48" pos:end="79:48">+</operator> <name pos:start="79:50" pos:end="79:52">pos</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="81:17" pos:end="81:113"><expr pos:start="81:17" pos:end="81:112"><name pos:start="81:17" pos:end="81:35"><name pos:start="81:17" pos:end="81:20">prec</name><operator pos:start="81:21" pos:end="81:22">-&gt;</operator><name pos:start="81:23" pos:end="81:30">zerobits</name><index pos:start="81:31" pos:end="81:35">[<expr pos:start="81:32" pos:end="81:34"><name pos:start="81:32" pos:end="81:34">pos</name></expr>]</index></name><operator pos:start="81:36" pos:end="81:36">.</operator><name pos:start="81:37" pos:end="81:39">val</name> <operator pos:start="81:41" pos:end="81:41">=</operator> <name pos:start="81:43" pos:end="81:54"><name pos:start="81:43" pos:end="81:46">expn</name><index pos:start="81:47" pos:end="81:54">[<expr pos:start="81:48" pos:end="81:53"><name pos:start="81:48" pos:end="81:53">bandno</name></expr>]</index></name> <operator pos:start="81:56" pos:end="81:56">+</operator> <name pos:start="81:58" pos:end="81:65">numgbits</name> <operator pos:start="81:67" pos:end="81:67">-</operator> <literal type="number" pos:start="81:69" pos:end="81:71">1</literal> <operator pos:start="81:71" pos:end="81:71">-</operator> <name pos:start="81:73" pos:end="81:100"><name pos:start="81:73" pos:end="81:76">prec</name><operator pos:start="81:77" pos:end="81:78">-&gt;</operator><name pos:start="81:79" pos:end="81:82">cblk</name><index pos:start="81:83" pos:end="81:100">[<expr pos:start="81:84" pos:end="81:99"><name pos:start="81:84" pos:end="81:85">yi</name> <operator pos:start="81:87" pos:end="81:87">*</operator> <name pos:start="81:89" pos:end="81:94">cblknw</name> <operator pos:start="81:96" pos:end="81:96">+</operator> <name pos:start="81:98" pos:end="81:99">xi</name></expr>]</index></name><operator pos:start="81:101" pos:end="81:101">.</operator><name pos:start="81:102" pos:end="81:112">nonzerobits</name></expr>;</expr_stmt>

                <expr_stmt pos:start="83:17" pos:end="83:54"><expr pos:start="83:17" pos:end="83:53"><call pos:start="83:17" pos:end="83:53"><name pos:start="83:17" pos:end="83:31">tag_tree_update</name><argument_list pos:start="83:32" pos:end="83:53">(<argument pos:start="83:33" pos:end="83:52"><expr pos:start="83:33" pos:end="83:52"><name pos:start="83:33" pos:end="83:46"><name pos:start="83:33" pos:end="83:36">prec</name><operator pos:start="83:37" pos:end="83:38">-&gt;</operator><name pos:start="83:39" pos:end="83:46">zerobits</name></name> <operator pos:start="83:48" pos:end="83:48">+</operator> <name pos:start="83:50" pos:end="83:52">pos</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></for>

        </block_content>}</block></for>



        <for pos:start="91:9" pos:end="147:9">for <control pos:start="91:13" pos:end="91:66">(<init pos:start="91:14" pos:end="91:27"><expr pos:start="91:14" pos:end="91:18"><name pos:start="91:14" pos:end="91:16">pos</name><operator pos:start="91:17" pos:end="91:17">=</operator><literal type="number" pos:start="91:18" pos:end="91:18">0</literal></expr><operator pos:start="91:19" pos:end="91:19">,</operator> <expr pos:start="91:21" pos:end="91:26"><name pos:start="91:21" pos:end="91:22">yi</name> <operator pos:start="91:24" pos:end="91:24">=</operator> <literal type="number" pos:start="91:26" pos:end="91:26">0</literal></expr>;</init> <condition pos:start="91:29" pos:end="91:60"><expr pos:start="91:29" pos:end="91:59"><name pos:start="91:29" pos:end="91:30">yi</name> <operator pos:start="91:32" pos:end="91:32">&lt;</operator> <name pos:start="91:34" pos:end="91:59"><name pos:start="91:34" pos:end="91:37">prec</name><operator pos:start="91:38" pos:end="91:39">-&gt;</operator><name pos:start="91:40" pos:end="91:59">nb_codeblocks_height</name></name></expr>;</condition> <incr pos:start="91:62" pos:end="91:65"><expr pos:start="91:62" pos:end="91:65"><name pos:start="91:62" pos:end="91:63">yi</name><operator pos:start="91:64" pos:end="91:65">++</operator></expr></incr>)</control><block pos:start="91:67" pos:end="147:9">{<block_content pos:start="93:13" pos:end="145:13">

            <for pos:start="93:13" pos:end="145:13">for <control pos:start="93:17" pos:end="93:50">(<init pos:start="93:18" pos:end="93:24"><expr pos:start="93:18" pos:end="93:23"><name pos:start="93:18" pos:end="93:19">xi</name> <operator pos:start="93:21" pos:end="93:21">=</operator> <literal type="number" pos:start="93:23" pos:end="93:23">0</literal></expr>;</init> <condition pos:start="93:26" pos:end="93:37"><expr pos:start="93:26" pos:end="93:36"><name pos:start="93:26" pos:end="93:27">xi</name> <operator pos:start="93:29" pos:end="93:29">&lt;</operator> <name pos:start="93:31" pos:end="93:36">cblknw</name></expr>;</condition> <incr pos:start="93:39" pos:end="93:49"><expr pos:start="93:39" pos:end="93:42"><name pos:start="93:39" pos:end="93:40">xi</name><operator pos:start="93:41" pos:end="93:42">++</operator></expr><operator pos:start="93:43" pos:end="93:43">,</operator> <expr pos:start="93:45" pos:end="93:49"><name pos:start="93:45" pos:end="93:47">pos</name><operator pos:start="93:48" pos:end="93:49">++</operator></expr></incr>)</control><block pos:start="93:51" pos:end="145:13">{<block_content pos:start="95:17" pos:end="143:58">

                <decl_stmt pos:start="95:17" pos:end="95:42"><decl pos:start="95:17" pos:end="95:27"><type pos:start="95:17" pos:end="95:19"><name pos:start="95:17" pos:end="95:19">int</name></type> <name pos:start="95:21" pos:end="95:23">pad</name> <init pos:start="95:25" pos:end="95:27">= <expr pos:start="95:27" pos:end="95:27"><literal type="number" pos:start="95:27" pos:end="95:27">0</literal></expr></init></decl>, <decl pos:start="95:30" pos:end="95:33"><type ref="prev" pos:start="95:17" pos:end="95:19"/><name pos:start="95:30" pos:end="95:33">llen</name></decl>, <decl pos:start="95:36" pos:end="95:41"><type ref="prev" pos:start="95:17" pos:end="95:19"/><name pos:start="95:36" pos:end="95:41">length</name></decl>;</decl_stmt>

                <decl_stmt pos:start="97:17" pos:end="97:67"><decl pos:start="97:17" pos:end="97:66"><type pos:start="97:17" pos:end="97:30"><name pos:start="97:17" pos:end="97:28">Jpeg2000Cblk</name> <modifier pos:start="97:30" pos:end="97:30">*</modifier></type><name pos:start="97:31" pos:end="97:34">cblk</name> <init pos:start="97:36" pos:end="97:66">= <expr pos:start="97:38" pos:end="97:66"><name pos:start="97:38" pos:end="97:47"><name pos:start="97:38" pos:end="97:41">prec</name><operator pos:start="97:42" pos:end="97:43">-&gt;</operator><name pos:start="97:44" pos:end="97:47">cblk</name></name> <operator pos:start="97:49" pos:end="97:49">+</operator> <name pos:start="97:51" pos:end="97:52">yi</name> <operator pos:start="97:54" pos:end="97:54">*</operator> <name pos:start="97:56" pos:end="97:61">cblknw</name> <operator pos:start="97:63" pos:end="97:63">+</operator> <name pos:start="97:65" pos:end="97:66">xi</name></expr></init></decl>;</decl_stmt>



                <if_stmt pos:start="101:17" pos:end="103:30"><if pos:start="101:17" pos:end="103:30">if <condition pos:start="101:20" pos:end="101:45">(<expr pos:start="101:21" pos:end="101:44"><name pos:start="101:21" pos:end="101:30"><name pos:start="101:21" pos:end="101:21">s</name><operator pos:start="101:22" pos:end="101:23">-&gt;</operator><name pos:start="101:24" pos:end="101:30">buf_end</name></name> <operator pos:start="101:32" pos:end="101:32">-</operator> <name pos:start="101:34" pos:end="101:39"><name pos:start="101:34" pos:end="101:34">s</name><operator pos:start="101:35" pos:end="101:36">-&gt;</operator><name pos:start="101:37" pos:end="101:39">buf</name></name> <operator pos:start="101:41" pos:end="101:41">&lt;</operator> <literal type="number" pos:start="101:43" pos:end="101:44">20</literal></expr>)</condition><block type="pseudo" pos:start="103:21" pos:end="103:30"><block_content pos:start="103:21" pos:end="103:30"> <comment type="line" pos:start="101:47" pos:end="101:62">// approximately</comment>

                    <return pos:start="103:21" pos:end="103:30">return <expr pos:start="103:28" pos:end="103:29"><operator pos:start="103:28" pos:end="103:28">-</operator><literal type="number" pos:start="103:29" pos:end="103:29">1</literal></expr>;</return></block_content></block></if></if_stmt>



                <comment type="line" pos:start="107:17" pos:end="107:40">// inclusion information</comment>

                <expr_stmt pos:start="109:17" pos:end="109:58"><expr pos:start="109:17" pos:end="109:57"><call pos:start="109:17" pos:end="109:57"><name pos:start="109:17" pos:end="109:29">tag_tree_code</name><argument_list pos:start="109:30" pos:end="109:57">(<argument pos:start="109:31" pos:end="109:31"><expr pos:start="109:31" pos:end="109:31"><name pos:start="109:31" pos:end="109:31">s</name></expr></argument>, <argument pos:start="109:34" pos:end="109:53"><expr pos:start="109:34" pos:end="109:53"><name pos:start="109:34" pos:end="109:47"><name pos:start="109:34" pos:end="109:37">prec</name><operator pos:start="109:38" pos:end="109:39">-&gt;</operator><name pos:start="109:40" pos:end="109:47">cblkincl</name></name> <operator pos:start="109:49" pos:end="109:49">+</operator> <name pos:start="109:51" pos:end="109:53">pos</name></expr></argument>, <argument pos:start="109:56" pos:end="109:56"><expr pos:start="109:56" pos:end="109:56"><literal type="number" pos:start="109:56" pos:end="109:56">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <if_stmt pos:start="111:17" pos:end="113:29"><if pos:start="111:17" pos:end="113:29">if <condition pos:start="111:20" pos:end="111:39">(<expr pos:start="111:21" pos:end="111:38"><operator pos:start="111:21" pos:end="111:21">!</operator><name pos:start="111:22" pos:end="111:38"><name pos:start="111:22" pos:end="111:25">cblk</name><operator pos:start="111:26" pos:end="111:27">-&gt;</operator><name pos:start="111:28" pos:end="111:38">ninclpasses</name></name></expr>)</condition><block type="pseudo" pos:start="113:21" pos:end="113:29"><block_content pos:start="113:21" pos:end="113:29">

                    <continue pos:start="113:21" pos:end="113:29">continue;</continue></block_content></block></if></if_stmt>

                <comment type="line" pos:start="115:17" pos:end="115:39">// zerobits information</comment>

                <expr_stmt pos:start="117:17" pos:end="117:60"><expr pos:start="117:17" pos:end="117:59"><call pos:start="117:17" pos:end="117:59"><name pos:start="117:17" pos:end="117:29">tag_tree_code</name><argument_list pos:start="117:30" pos:end="117:59">(<argument pos:start="117:31" pos:end="117:31"><expr pos:start="117:31" pos:end="117:31"><name pos:start="117:31" pos:end="117:31">s</name></expr></argument>, <argument pos:start="117:34" pos:end="117:53"><expr pos:start="117:34" pos:end="117:53"><name pos:start="117:34" pos:end="117:47"><name pos:start="117:34" pos:end="117:37">prec</name><operator pos:start="117:38" pos:end="117:39">-&gt;</operator><name pos:start="117:40" pos:end="117:47">zerobits</name></name> <operator pos:start="117:49" pos:end="117:49">+</operator> <name pos:start="117:51" pos:end="117:53">pos</name></expr></argument>, <argument pos:start="117:56" pos:end="117:58"><expr pos:start="117:56" pos:end="117:58"><literal type="number" pos:start="117:56" pos:end="117:58">100</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <comment type="line" pos:start="119:17" pos:end="119:35">// number of passes</comment>

                <expr_stmt pos:start="121:17" pos:end="121:51"><expr pos:start="121:17" pos:end="121:50"><call pos:start="121:17" pos:end="121:50"><name pos:start="121:17" pos:end="121:28">putnumpasses</name><argument_list pos:start="121:29" pos:end="121:50">(<argument pos:start="121:30" pos:end="121:30"><expr pos:start="121:30" pos:end="121:30"><name pos:start="121:30" pos:end="121:30">s</name></expr></argument>, <argument pos:start="121:33" pos:end="121:49"><expr pos:start="121:33" pos:end="121:49"><name pos:start="121:33" pos:end="121:49"><name pos:start="121:33" pos:end="121:36">cblk</name><operator pos:start="121:37" pos:end="121:38">-&gt;</operator><name pos:start="121:39" pos:end="121:49">ninclpasses</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



                <expr_stmt pos:start="125:17" pos:end="125:64"><expr pos:start="125:17" pos:end="125:63"><name pos:start="125:17" pos:end="125:22">length</name> <operator pos:start="125:24" pos:end="125:24">=</operator> <name pos:start="125:26" pos:end="125:58"><name pos:start="125:26" pos:end="125:29">cblk</name><operator pos:start="125:30" pos:end="125:31">-&gt;</operator><name pos:start="125:32" pos:end="125:37">passes</name><index pos:start="125:38" pos:end="125:58">[<expr pos:start="125:39" pos:end="125:57"><name pos:start="125:39" pos:end="125:55"><name pos:start="125:39" pos:end="125:42">cblk</name><operator pos:start="125:43" pos:end="125:44">-&gt;</operator><name pos:start="125:45" pos:end="125:55">ninclpasses</name></name><operator pos:start="125:56" pos:end="125:56">-</operator><literal type="number" pos:start="125:57" pos:end="125:57">1</literal></expr>]</index></name><operator pos:start="125:59" pos:end="125:59">.</operator><name pos:start="125:60" pos:end="125:63">rate</name></expr>;</expr_stmt>

                <expr_stmt pos:start="127:17" pos:end="127:72"><expr pos:start="127:17" pos:end="127:71"><name pos:start="127:17" pos:end="127:20">llen</name> <operator pos:start="127:22" pos:end="127:22">=</operator> <call pos:start="127:24" pos:end="127:38"><name pos:start="127:24" pos:end="127:30">av_log2</name><argument_list pos:start="127:31" pos:end="127:38">(<argument pos:start="127:32" pos:end="127:37"><expr pos:start="127:32" pos:end="127:37"><name pos:start="127:32" pos:end="127:37">length</name></expr></argument>)</argument_list></call> <operator pos:start="127:40" pos:end="127:40">-</operator> <call pos:start="127:42" pos:end="127:67"><name pos:start="127:42" pos:end="127:48">av_log2</name><argument_list pos:start="127:49" pos:end="127:67">(<argument pos:start="127:50" pos:end="127:66"><expr pos:start="127:50" pos:end="127:66"><name pos:start="127:50" pos:end="127:66"><name pos:start="127:50" pos:end="127:53">cblk</name><operator pos:start="127:54" pos:end="127:55">-&gt;</operator><name pos:start="127:56" pos:end="127:66">ninclpasses</name></name></expr></argument>)</argument_list></call> <operator pos:start="127:69" pos:end="127:69">-</operator> <literal type="number" pos:start="127:71" pos:end="127:71">2</literal></expr>;</expr_stmt>

                <if_stmt pos:start="129:17" pos:end="135:17"><if pos:start="129:17" pos:end="135:17">if <condition pos:start="129:20" pos:end="129:29">(<expr pos:start="129:21" pos:end="129:28"><name pos:start="129:21" pos:end="129:24">llen</name> <operator pos:start="129:26" pos:end="129:26">&lt;</operator> <literal type="number" pos:start="129:28" pos:end="129:28">0</literal></expr>)</condition><block pos:start="129:30" pos:end="135:17">{<block_content pos:start="131:21" pos:end="133:29">

                    <expr_stmt pos:start="131:21" pos:end="131:32"><expr pos:start="131:21" pos:end="131:31"><name pos:start="131:21" pos:end="131:23">pad</name> <operator pos:start="131:25" pos:end="131:25">=</operator> <operator pos:start="131:27" pos:end="131:27">-</operator><name pos:start="131:28" pos:end="131:31">llen</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="133:21" pos:end="133:29"><expr pos:start="133:21" pos:end="133:28"><name pos:start="133:21" pos:end="133:24">llen</name> <operator pos:start="133:26" pos:end="133:26">=</operator> <literal type="number" pos:start="133:28" pos:end="133:28">0</literal></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

                <comment type="line" pos:start="137:17" pos:end="137:39">// length of code block</comment>

                <expr_stmt pos:start="139:17" pos:end="139:37"><expr pos:start="139:17" pos:end="139:36"><call pos:start="139:17" pos:end="139:36"><name pos:start="139:17" pos:end="139:24">put_bits</name><argument_list pos:start="139:25" pos:end="139:36">(<argument pos:start="139:26" pos:end="139:26"><expr pos:start="139:26" pos:end="139:26"><name pos:start="139:26" pos:end="139:26">s</name></expr></argument>, <argument pos:start="139:29" pos:end="139:29"><expr pos:start="139:29" pos:end="139:29"><literal type="number" pos:start="139:29" pos:end="139:29">1</literal></expr></argument>, <argument pos:start="139:32" pos:end="139:35"><expr pos:start="139:32" pos:end="139:35"><name pos:start="139:32" pos:end="139:35">llen</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="141:17" pos:end="141:34"><expr pos:start="141:17" pos:end="141:33"><call pos:start="141:17" pos:end="141:33"><name pos:start="141:17" pos:end="141:24">put_bits</name><argument_list pos:start="141:25" pos:end="141:33">(<argument pos:start="141:26" pos:end="141:26"><expr pos:start="141:26" pos:end="141:26"><name pos:start="141:26" pos:end="141:26">s</name></expr></argument>, <argument pos:start="141:29" pos:end="141:29"><expr pos:start="141:29" pos:end="141:29"><literal type="number" pos:start="141:29" pos:end="141:29">0</literal></expr></argument>, <argument pos:start="141:32" pos:end="141:32"><expr pos:start="141:32" pos:end="141:32"><literal type="number" pos:start="141:32" pos:end="141:32">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="143:17" pos:end="143:58"><expr pos:start="143:17" pos:end="143:57"><call pos:start="143:17" pos:end="143:57"><name pos:start="143:17" pos:end="143:23">put_num</name><argument_list pos:start="143:24" pos:end="143:57">(<argument pos:start="143:25" pos:end="143:25"><expr pos:start="143:25" pos:end="143:25"><name pos:start="143:25" pos:end="143:25">s</name></expr></argument>, <argument pos:start="143:28" pos:end="143:33"><expr pos:start="143:28" pos:end="143:33"><name pos:start="143:28" pos:end="143:33">length</name></expr></argument>, <argument pos:start="143:36" pos:end="143:56"><expr pos:start="143:36" pos:end="143:56"><call pos:start="143:36" pos:end="143:50"><name pos:start="143:36" pos:end="143:42">av_log2</name><argument_list pos:start="143:43" pos:end="143:50">(<argument pos:start="143:44" pos:end="143:49"><expr pos:start="143:44" pos:end="143:49"><name pos:start="143:44" pos:end="143:49">length</name></expr></argument>)</argument_list></call><operator pos:start="143:51" pos:end="143:51">+</operator><literal type="number" pos:start="143:52" pos:end="143:53">1</literal><operator pos:start="143:53" pos:end="143:53">+</operator><name pos:start="143:54" pos:end="143:56">pad</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></for>

        </block_content>}</block></for>

    </block_content>}</block></for>

    <expr_stmt pos:start="151:5" pos:end="151:17"><expr pos:start="151:5" pos:end="151:16"><call pos:start="151:5" pos:end="151:16"><name pos:start="151:5" pos:end="151:13">j2k_flush</name><argument_list pos:start="151:14" pos:end="151:16">(<argument pos:start="151:15" pos:end="151:15"><expr pos:start="151:15" pos:end="151:15"><name pos:start="151:15" pos:end="151:15">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <for pos:start="153:5" pos:end="189:5">for <control pos:start="153:9" pos:end="153:55">(<init pos:start="153:10" pos:end="153:20"><expr pos:start="153:10" pos:end="153:19"><name pos:start="153:10" pos:end="153:15">bandno</name> <operator pos:start="153:17" pos:end="153:17">=</operator> <literal type="number" pos:start="153:19" pos:end="153:19">0</literal></expr>;</init> <condition pos:start="153:22" pos:end="153:45"><expr pos:start="153:22" pos:end="153:44"><name pos:start="153:22" pos:end="153:27">bandno</name> <operator pos:start="153:29" pos:end="153:29">&lt;</operator> <name pos:start="153:31" pos:end="153:44"><name pos:start="153:31" pos:end="153:36">rlevel</name><operator pos:start="153:37" pos:end="153:38">-&gt;</operator><name pos:start="153:39" pos:end="153:44">nbands</name></name></expr>;</condition> <incr pos:start="153:47" pos:end="153:54"><expr pos:start="153:47" pos:end="153:54"><name pos:start="153:47" pos:end="153:52">bandno</name><operator pos:start="153:53" pos:end="153:54">++</operator></expr></incr>)</control><block pos:start="153:56" pos:end="189:5">{<block_content pos:start="155:9" pos:end="187:9">

        <decl_stmt pos:start="155:9" pos:end="155:51"><decl pos:start="155:9" pos:end="155:50"><type pos:start="155:9" pos:end="155:22"><name pos:start="155:9" pos:end="155:20">Jpeg2000Band</name> <modifier pos:start="155:22" pos:end="155:22">*</modifier></type><name pos:start="155:23" pos:end="155:26">band</name> <init pos:start="155:28" pos:end="155:50">= <expr pos:start="155:30" pos:end="155:50"><name pos:start="155:30" pos:end="155:41"><name pos:start="155:30" pos:end="155:35">rlevel</name><operator pos:start="155:36" pos:end="155:37">-&gt;</operator><name pos:start="155:38" pos:end="155:41">band</name></name> <operator pos:start="155:43" pos:end="155:43">+</operator> <name pos:start="155:45" pos:end="155:50">bandno</name></expr></init></decl>;</decl_stmt>

        <decl_stmt pos:start="157:9" pos:end="157:49"><decl pos:start="157:9" pos:end="157:48"><type pos:start="157:9" pos:end="157:22"><name pos:start="157:9" pos:end="157:20">Jpeg2000Prec</name> <modifier pos:start="157:22" pos:end="157:22">*</modifier></type><name pos:start="157:23" pos:end="157:26">prec</name> <init pos:start="157:28" pos:end="157:48">= <expr pos:start="157:30" pos:end="157:48"><name pos:start="157:30" pos:end="157:39"><name pos:start="157:30" pos:end="157:33">band</name><operator pos:start="157:34" pos:end="157:35">-&gt;</operator><name pos:start="157:36" pos:end="157:39">prec</name></name> <operator pos:start="157:41" pos:end="157:41">+</operator> <name pos:start="157:43" pos:end="157:48">precno</name></expr></init></decl>;</decl_stmt>

        <decl_stmt pos:start="159:9" pos:end="159:51"><decl pos:start="159:9" pos:end="159:14"><type pos:start="159:9" pos:end="159:11"><name pos:start="159:9" pos:end="159:11">int</name></type> <name pos:start="159:13" pos:end="159:14">yi</name></decl>, <decl pos:start="159:17" pos:end="159:50"><type ref="prev" pos:start="159:9" pos:end="159:11"/><name pos:start="159:17" pos:end="159:22">cblknw</name> <init pos:start="159:24" pos:end="159:50">= <expr pos:start="159:26" pos:end="159:50"><name pos:start="159:26" pos:end="159:50"><name pos:start="159:26" pos:end="159:29">prec</name><operator pos:start="159:30" pos:end="159:31">-&gt;</operator><name pos:start="159:32" pos:end="159:50">nb_codeblocks_width</name></name></expr></init></decl>;</decl_stmt>

        <for pos:start="161:9" pos:end="187:9">for <control pos:start="161:13" pos:end="161:58">(<init pos:start="161:14" pos:end="161:19"><expr pos:start="161:14" pos:end="161:18"><name pos:start="161:14" pos:end="161:15">yi</name> <operator pos:start="161:17" pos:end="161:17">=</operator><literal type="number" pos:start="161:18" pos:end="161:18">0</literal></expr>;</init> <condition pos:start="161:21" pos:end="161:52"><expr pos:start="161:21" pos:end="161:51"><name pos:start="161:21" pos:end="161:22">yi</name> <operator pos:start="161:24" pos:end="161:24">&lt;</operator> <name pos:start="161:26" pos:end="161:51"><name pos:start="161:26" pos:end="161:29">prec</name><operator pos:start="161:30" pos:end="161:31">-&gt;</operator><name pos:start="161:32" pos:end="161:51">nb_codeblocks_height</name></name></expr>;</condition> <incr pos:start="161:54" pos:end="161:57"><expr pos:start="161:54" pos:end="161:57"><name pos:start="161:54" pos:end="161:55">yi</name><operator pos:start="161:56" pos:end="161:57">++</operator></expr></incr>)</control><block pos:start="161:59" pos:end="187:9">{<block_content pos:start="163:13" pos:end="185:13">

            <decl_stmt pos:start="163:13" pos:end="163:19"><decl pos:start="163:13" pos:end="163:18"><type pos:start="163:13" pos:end="163:15"><name pos:start="163:13" pos:end="163:15">int</name></type> <name pos:start="163:17" pos:end="163:18">xi</name></decl>;</decl_stmt>

            <for pos:start="165:13" pos:end="185:13">for <control pos:start="165:17" pos:end="165:43">(<init pos:start="165:18" pos:end="165:24"><expr pos:start="165:18" pos:end="165:23"><name pos:start="165:18" pos:end="165:19">xi</name> <operator pos:start="165:21" pos:end="165:21">=</operator> <literal type="number" pos:start="165:23" pos:end="165:23">0</literal></expr>;</init> <condition pos:start="165:26" pos:end="165:37"><expr pos:start="165:26" pos:end="165:36"><name pos:start="165:26" pos:end="165:27">xi</name> <operator pos:start="165:29" pos:end="165:29">&lt;</operator> <name pos:start="165:31" pos:end="165:36">cblknw</name></expr>;</condition> <incr pos:start="165:39" pos:end="165:42"><expr pos:start="165:39" pos:end="165:42"><name pos:start="165:39" pos:end="165:40">xi</name><operator pos:start="165:41" pos:end="165:42">++</operator></expr></incr>)</control><block pos:start="165:44" pos:end="185:13">{<block_content pos:start="167:17" pos:end="183:17">

                <decl_stmt pos:start="167:17" pos:end="167:67"><decl pos:start="167:17" pos:end="167:66"><type pos:start="167:17" pos:end="167:30"><name pos:start="167:17" pos:end="167:28">Jpeg2000Cblk</name> <modifier pos:start="167:30" pos:end="167:30">*</modifier></type><name pos:start="167:31" pos:end="167:34">cblk</name> <init pos:start="167:36" pos:end="167:66">= <expr pos:start="167:38" pos:end="167:66"><name pos:start="167:38" pos:end="167:47"><name pos:start="167:38" pos:end="167:41">prec</name><operator pos:start="167:42" pos:end="167:43">-&gt;</operator><name pos:start="167:44" pos:end="167:47">cblk</name></name> <operator pos:start="167:49" pos:end="167:49">+</operator> <name pos:start="167:51" pos:end="167:52">yi</name> <operator pos:start="167:54" pos:end="167:54">*</operator> <name pos:start="167:56" pos:end="167:61">cblknw</name> <operator pos:start="167:63" pos:end="167:63">+</operator> <name pos:start="167:65" pos:end="167:66">xi</name></expr></init></decl>;</decl_stmt>

                <if_stmt pos:start="169:17" pos:end="183:17"><if pos:start="169:17" pos:end="183:17">if <condition pos:start="169:20" pos:end="169:38">(<expr pos:start="169:21" pos:end="169:37"><name pos:start="169:21" pos:end="169:37"><name pos:start="169:21" pos:end="169:24">cblk</name><operator pos:start="169:25" pos:end="169:26">-&gt;</operator><name pos:start="169:27" pos:end="169:37">ninclpasses</name></name></expr>)</condition><block pos:start="169:39" pos:end="183:17">{<block_content pos:start="171:21" pos:end="181:98">

                    <if_stmt pos:start="171:21" pos:end="173:34"><if pos:start="171:21" pos:end="173:34">if <condition pos:start="171:24" pos:end="171:85">(<expr pos:start="171:25" pos:end="171:84"><name pos:start="171:25" pos:end="171:34"><name pos:start="171:25" pos:end="171:25">s</name><operator pos:start="171:26" pos:end="171:27">-&gt;</operator><name pos:start="171:28" pos:end="171:34">buf_end</name></name> <operator pos:start="171:36" pos:end="171:36">-</operator> <name pos:start="171:38" pos:end="171:43"><name pos:start="171:38" pos:end="171:38">s</name><operator pos:start="171:39" pos:end="171:40">-&gt;</operator><name pos:start="171:41" pos:end="171:43">buf</name></name> <operator pos:start="171:45" pos:end="171:45">&lt;</operator> <name pos:start="171:47" pos:end="171:79"><name pos:start="171:47" pos:end="171:50">cblk</name><operator pos:start="171:51" pos:end="171:52">-&gt;</operator><name pos:start="171:53" pos:end="171:58">passes</name><index pos:start="171:59" pos:end="171:79">[<expr pos:start="171:60" pos:end="171:78"><name pos:start="171:60" pos:end="171:76"><name pos:start="171:60" pos:end="171:63">cblk</name><operator pos:start="171:64" pos:end="171:65">-&gt;</operator><name pos:start="171:66" pos:end="171:76">ninclpasses</name></name><operator pos:start="171:77" pos:end="171:77">-</operator><literal type="number" pos:start="171:78" pos:end="171:78">1</literal></expr>]</index></name><operator pos:start="171:80" pos:end="171:80">.</operator><name pos:start="171:81" pos:end="171:84">rate</name></expr>)</condition><block type="pseudo" pos:start="173:25" pos:end="173:34"><block_content pos:start="173:25" pos:end="173:34">

                        <return pos:start="173:25" pos:end="173:34">return <expr pos:start="173:32" pos:end="173:33"><operator pos:start="173:32" pos:end="173:32">-</operator><literal type="number" pos:start="173:33" pos:end="173:33">1</literal></expr>;</return></block_content></block></if></if_stmt>

                    <expr_stmt pos:start="175:21" pos:end="177:112"><expr pos:start="175:21" pos:end="177:111"><call pos:start="175:21" pos:end="177:111"><name pos:start="175:21" pos:end="175:41">bytestream_put_buffer</name><argument_list pos:start="175:42" pos:end="177:111">(<argument pos:start="175:43" pos:end="175:49"><expr pos:start="175:43" pos:end="175:49"><operator pos:start="175:43" pos:end="175:43">&amp;</operator><name pos:start="175:44" pos:end="175:49"><name pos:start="175:44" pos:end="175:44">s</name><operator pos:start="175:45" pos:end="175:46">-&gt;</operator><name pos:start="175:47" pos:end="175:49">buf</name></name></expr></argument>, <argument pos:start="175:52" pos:end="175:61"><expr pos:start="175:52" pos:end="175:61"><name pos:start="175:52" pos:end="175:61"><name pos:start="175:52" pos:end="175:55">cblk</name><operator pos:start="175:56" pos:end="175:57">-&gt;</operator><name pos:start="175:58" pos:end="175:61">data</name></name></expr></argument>,   <argument pos:start="175:66" pos:end="177:110"><expr pos:start="175:66" pos:end="177:110"><name pos:start="175:66" pos:end="175:98"><name pos:start="175:66" pos:end="175:69">cblk</name><operator pos:start="175:70" pos:end="175:71">-&gt;</operator><name pos:start="175:72" pos:end="175:77">passes</name><index pos:start="175:78" pos:end="175:98">[<expr pos:start="175:79" pos:end="175:97"><name pos:start="175:79" pos:end="175:95"><name pos:start="175:79" pos:end="175:82">cblk</name><operator pos:start="175:83" pos:end="175:84">-&gt;</operator><name pos:start="175:85" pos:end="175:95">ninclpasses</name></name><operator pos:start="175:96" pos:end="175:96">-</operator><literal type="number" pos:start="175:97" pos:end="175:97">1</literal></expr>]</index></name><operator pos:start="175:99" pos:end="175:99">.</operator><name pos:start="175:100" pos:end="175:103">rate</name>

                                                               <operator pos:start="177:64" pos:end="177:64">-</operator> <name pos:start="177:66" pos:end="177:98"><name pos:start="177:66" pos:end="177:69">cblk</name><operator pos:start="177:70" pos:end="177:71">-&gt;</operator><name pos:start="177:72" pos:end="177:77">passes</name><index pos:start="177:78" pos:end="177:98">[<expr pos:start="177:79" pos:end="177:97"><name pos:start="177:79" pos:end="177:95"><name pos:start="177:79" pos:end="177:82">cblk</name><operator pos:start="177:83" pos:end="177:84">-&gt;</operator><name pos:start="177:85" pos:end="177:95">ninclpasses</name></name><operator pos:start="177:96" pos:end="177:96">-</operator><literal type="number" pos:start="177:97" pos:end="177:97">1</literal></expr>]</index></name><operator pos:start="177:99" pos:end="177:99">.</operator><name pos:start="177:100" pos:end="177:110">flushed_len</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="179:21" pos:end="181:98"><expr pos:start="179:21" pos:end="181:97"><call pos:start="179:21" pos:end="181:97"><name pos:start="179:21" pos:end="179:41">bytestream_put_buffer</name><argument_list pos:start="179:42" pos:end="181:97">(<argument pos:start="179:43" pos:end="179:49"><expr pos:start="179:43" pos:end="179:49"><operator pos:start="179:43" pos:end="179:43">&amp;</operator><name pos:start="179:44" pos:end="179:49"><name pos:start="179:44" pos:end="179:44">s</name><operator pos:start="179:45" pos:end="179:46">-&gt;</operator><name pos:start="179:47" pos:end="179:49">buf</name></name></expr></argument>, <argument pos:start="179:52" pos:end="179:92"><expr pos:start="179:52" pos:end="179:92"><name pos:start="179:52" pos:end="179:84"><name pos:start="179:52" pos:end="179:55">cblk</name><operator pos:start="179:56" pos:end="179:57">-&gt;</operator><name pos:start="179:58" pos:end="179:63">passes</name><index pos:start="179:64" pos:end="179:84">[<expr pos:start="179:65" pos:end="179:83"><name pos:start="179:65" pos:end="179:81"><name pos:start="179:65" pos:end="179:68">cblk</name><operator pos:start="179:69" pos:end="179:70">-&gt;</operator><name pos:start="179:71" pos:end="179:81">ninclpasses</name></name><operator pos:start="179:82" pos:end="179:82">-</operator><literal type="number" pos:start="179:83" pos:end="179:83">1</literal></expr>]</index></name><operator pos:start="179:85" pos:end="179:85">.</operator><name pos:start="179:86" pos:end="179:92">flushed</name></expr></argument>,

                                                   <argument pos:start="181:52" pos:end="181:96"><expr pos:start="181:52" pos:end="181:96"><name pos:start="181:52" pos:end="181:84"><name pos:start="181:52" pos:end="181:55">cblk</name><operator pos:start="181:56" pos:end="181:57">-&gt;</operator><name pos:start="181:58" pos:end="181:63">passes</name><index pos:start="181:64" pos:end="181:84">[<expr pos:start="181:65" pos:end="181:83"><name pos:start="181:65" pos:end="181:81"><name pos:start="181:65" pos:end="181:68">cblk</name><operator pos:start="181:69" pos:end="181:70">-&gt;</operator><name pos:start="181:71" pos:end="181:81">ninclpasses</name></name><operator pos:start="181:82" pos:end="181:82">-</operator><literal type="number" pos:start="181:83" pos:end="181:83">1</literal></expr>]</index></name><operator pos:start="181:85" pos:end="181:85">.</operator><name pos:start="181:86" pos:end="181:96">flushed_len</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

            </block_content>}</block></for>

        </block_content>}</block></for>

    </block_content>}</block></for>

    <return pos:start="191:5" pos:end="191:13">return <expr pos:start="191:12" pos:end="191:12"><literal type="number" pos:start="191:12" pos:end="191:12">0</literal></expr>;</return>

</block_content>}</block></function>
</unit>
