<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/27010.c" pos:tabs="8"><function pos:start="1:1" pos:end="49:1"><type pos:start="1:1" pos:end="1:22"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:20">SocketAddress</name> <modifier pos:start="1:22" pos:end="1:22">*</modifier></type><name pos:start="1:23" pos:end="1:46">nbd_build_socket_address</name><parameter_list pos:start="1:47" pos:end="5:64">(<parameter pos:start="1:48" pos:end="1:67"><decl pos:start="1:48" pos:end="1:67"><type pos:start="1:48" pos:end="1:67"><specifier pos:start="1:48" pos:end="1:52">const</specifier> <name pos:start="1:54" pos:end="1:57">char</name> <modifier pos:start="1:59" pos:end="1:59">*</modifier></type><name pos:start="1:60" pos:end="1:67">sockpath</name></decl></parameter>,

                                               <parameter pos:start="3:48" pos:end="3:65"><decl pos:start="3:48" pos:end="3:65"><type pos:start="3:48" pos:end="3:65"><specifier pos:start="3:48" pos:end="3:52">const</specifier> <name pos:start="3:54" pos:end="3:57">char</name> <modifier pos:start="3:59" pos:end="3:59">*</modifier></type><name pos:start="3:60" pos:end="3:65">bindto</name></decl></parameter>,

                                               <parameter pos:start="5:48" pos:end="5:63"><decl pos:start="5:48" pos:end="5:63"><type pos:start="5:48" pos:end="5:63"><specifier pos:start="5:48" pos:end="5:52">const</specifier> <name pos:start="5:54" pos:end="5:57">char</name> <modifier pos:start="5:59" pos:end="5:59">*</modifier></type><name pos:start="5:60" pos:end="5:63">port</name></decl></parameter>)</parameter_list>

<block pos:start="7:1" pos:end="49:1">{<block_content pos:start="9:5" pos:end="47:17">

    <decl_stmt pos:start="9:5" pos:end="9:25"><decl pos:start="9:5" pos:end="9:24"><type pos:start="9:5" pos:end="9:19"><name pos:start="9:5" pos:end="9:17">SocketAddress</name> <modifier pos:start="9:19" pos:end="9:19">*</modifier></type><name pos:start="9:20" pos:end="9:24">saddr</name></decl>;</decl_stmt>



    <expr_stmt pos:start="13:5" pos:end="13:37"><expr pos:start="13:5" pos:end="13:36"><name pos:start="13:5" pos:end="13:9">saddr</name> <operator pos:start="13:11" pos:end="13:11">=</operator> <call pos:start="13:13" pos:end="13:36"><name pos:start="13:13" pos:end="13:18">g_new0</name><argument_list pos:start="13:19" pos:end="13:36">(<argument pos:start="13:20" pos:end="13:32"><expr pos:start="13:20" pos:end="13:32"><name pos:start="13:20" pos:end="13:32">SocketAddress</name></expr></argument>, <argument pos:start="13:35" pos:end="13:35"><expr pos:start="13:35" pos:end="13:35"><literal type="number" pos:start="13:35" pos:end="13:35">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="15:5" pos:end="43:5"><if pos:start="15:5" pos:end="23:5">if <condition pos:start="15:8" pos:end="15:17">(<expr pos:start="15:9" pos:end="15:16"><name pos:start="15:9" pos:end="15:16">sockpath</name></expr>)</condition> <block pos:start="15:19" pos:end="23:5">{<block_content pos:start="17:9" pos:end="21:56">

        <expr_stmt pos:start="17:9" pos:end="17:47"><expr pos:start="17:9" pos:end="17:46"><name pos:start="17:9" pos:end="17:19"><name pos:start="17:9" pos:end="17:13">saddr</name><operator pos:start="17:14" pos:end="17:15">-&gt;</operator><name pos:start="17:16" pos:end="17:19">type</name></name> <operator pos:start="17:21" pos:end="17:21">=</operator> <name pos:start="17:23" pos:end="17:46">SOCKET_ADDRESS_KIND_UNIX</name></expr>;</expr_stmt>

        <expr_stmt pos:start="19:9" pos:end="19:60"><expr pos:start="19:9" pos:end="19:59"><name pos:start="19:9" pos:end="19:28"><name pos:start="19:9" pos:end="19:13">saddr</name><operator pos:start="19:14" pos:end="19:15">-&gt;</operator><name pos:start="19:16" pos:end="19:16">u</name><operator pos:start="19:17" pos:end="19:17">.</operator><name pos:start="19:18" pos:end="19:23">q_unix</name><operator pos:start="19:24" pos:end="19:24">.</operator><name pos:start="19:25" pos:end="19:28">data</name></name> <operator pos:start="19:30" pos:end="19:30">=</operator> <call pos:start="19:32" pos:end="19:59"><name pos:start="19:32" pos:end="19:37">g_new0</name><argument_list pos:start="19:38" pos:end="19:59">(<argument pos:start="19:39" pos:end="19:55"><expr pos:start="19:39" pos:end="19:55"><name pos:start="19:39" pos:end="19:55">UnixSocketAddress</name></expr></argument>, <argument pos:start="19:58" pos:end="19:58"><expr pos:start="19:58" pos:end="19:58"><literal type="number" pos:start="19:58" pos:end="19:58">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="21:9" pos:end="21:56"><expr pos:start="21:9" pos:end="21:55"><name pos:start="21:9" pos:end="21:34"><name pos:start="21:9" pos:end="21:13">saddr</name><operator pos:start="21:14" pos:end="21:15">-&gt;</operator><name pos:start="21:16" pos:end="21:16">u</name><operator pos:start="21:17" pos:end="21:17">.</operator><name pos:start="21:18" pos:end="21:23">q_unix</name><operator pos:start="21:24" pos:end="21:24">.</operator><name pos:start="21:25" pos:end="21:28">data</name><operator pos:start="21:29" pos:end="21:30">-&gt;</operator><name pos:start="21:31" pos:end="21:34">path</name></name> <operator pos:start="21:36" pos:end="21:36">=</operator> <call pos:start="21:38" pos:end="21:55"><name pos:start="21:38" pos:end="21:45">g_strdup</name><argument_list pos:start="21:46" pos:end="21:55">(<argument pos:start="21:47" pos:end="21:54"><expr pos:start="21:47" pos:end="21:54"><name pos:start="21:47" pos:end="21:54">sockpath</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="23:7" pos:end="43:5">else <block pos:start="23:12" pos:end="43:5">{<block_content pos:start="25:9" pos:end="41:9">

        <decl_stmt pos:start="25:9" pos:end="25:32"><decl pos:start="25:9" pos:end="25:31"><type pos:start="25:9" pos:end="25:27"><name pos:start="25:9" pos:end="25:25">InetSocketAddress</name> <modifier pos:start="25:27" pos:end="25:27">*</modifier></type><name pos:start="25:28" pos:end="25:31">inet</name></decl>;</decl_stmt>

        <expr_stmt pos:start="27:9" pos:end="27:47"><expr pos:start="27:9" pos:end="27:46"><name pos:start="27:9" pos:end="27:19"><name pos:start="27:9" pos:end="27:13">saddr</name><operator pos:start="27:14" pos:end="27:15">-&gt;</operator><name pos:start="27:16" pos:end="27:19">type</name></name> <operator pos:start="27:21" pos:end="27:21">=</operator> <name pos:start="27:23" pos:end="27:46">SOCKET_ADDRESS_KIND_INET</name></expr>;</expr_stmt>

        <expr_stmt pos:start="29:9" pos:end="29:65"><expr pos:start="29:9" pos:end="29:64"><name pos:start="29:9" pos:end="29:12">inet</name> <operator pos:start="29:14" pos:end="29:14">=</operator> <name pos:start="29:16" pos:end="29:33"><name pos:start="29:16" pos:end="29:20">saddr</name><operator pos:start="29:21" pos:end="29:22">-&gt;</operator><name pos:start="29:23" pos:end="29:23">u</name><operator pos:start="29:24" pos:end="29:24">.</operator><name pos:start="29:25" pos:end="29:28">inet</name><operator pos:start="29:29" pos:end="29:29">.</operator><name pos:start="29:30" pos:end="29:33">data</name></name> <operator pos:start="29:35" pos:end="29:35">=</operator> <call pos:start="29:37" pos:end="29:64"><name pos:start="29:37" pos:end="29:42">g_new0</name><argument_list pos:start="29:43" pos:end="29:64">(<argument pos:start="29:44" pos:end="29:60"><expr pos:start="29:44" pos:end="29:60"><name pos:start="29:44" pos:end="29:60">InetSocketAddress</name></expr></argument>, <argument pos:start="29:63" pos:end="29:63"><expr pos:start="29:63" pos:end="29:63"><literal type="number" pos:start="29:63" pos:end="29:63">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="31:9" pos:end="31:38"><expr pos:start="31:9" pos:end="31:37"><name pos:start="31:9" pos:end="31:18"><name pos:start="31:9" pos:end="31:12">inet</name><operator pos:start="31:13" pos:end="31:14">-&gt;</operator><name pos:start="31:15" pos:end="31:18">host</name></name> <operator pos:start="31:20" pos:end="31:20">=</operator> <call pos:start="31:22" pos:end="31:37"><name pos:start="31:22" pos:end="31:29">g_strdup</name><argument_list pos:start="31:30" pos:end="31:37">(<argument pos:start="31:31" pos:end="31:36"><expr pos:start="31:31" pos:end="31:36"><name pos:start="31:31" pos:end="31:36">bindto</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="33:9" pos:end="41:9"><if pos:start="33:9" pos:end="37:9">if <condition pos:start="33:12" pos:end="33:17">(<expr pos:start="33:13" pos:end="33:16"><name pos:start="33:13" pos:end="33:16">port</name></expr>)</condition> <block pos:start="33:19" pos:end="37:9">{<block_content pos:start="35:13" pos:end="35:40">

            <expr_stmt pos:start="35:13" pos:end="35:40"><expr pos:start="35:13" pos:end="35:39"><name pos:start="35:13" pos:end="35:22"><name pos:start="35:13" pos:end="35:16">inet</name><operator pos:start="35:17" pos:end="35:18">-&gt;</operator><name pos:start="35:19" pos:end="35:22">port</name></name> <operator pos:start="35:24" pos:end="35:24">=</operator> <call pos:start="35:26" pos:end="35:39"><name pos:start="35:26" pos:end="35:33">g_strdup</name><argument_list pos:start="35:34" pos:end="35:39">(<argument pos:start="35:35" pos:end="35:38"><expr pos:start="35:35" pos:end="35:38"><name pos:start="35:35" pos:end="35:38">port</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></if> <else pos:start="37:11" pos:end="41:9">else  <block pos:start="37:17" pos:end="41:9">{<block_content pos:start="39:13" pos:end="39:65">

            <expr_stmt pos:start="39:13" pos:end="39:65"><expr pos:start="39:13" pos:end="39:64"><name pos:start="39:13" pos:end="39:22"><name pos:start="39:13" pos:end="39:16">inet</name><operator pos:start="39:17" pos:end="39:18">-&gt;</operator><name pos:start="39:19" pos:end="39:22">port</name></name> <operator pos:start="39:24" pos:end="39:24">=</operator> <call pos:start="39:26" pos:end="39:64"><name pos:start="39:26" pos:end="39:40">g_strdup_printf</name><argument_list pos:start="39:41" pos:end="39:64">(<argument pos:start="39:42" pos:end="39:45"><expr pos:start="39:42" pos:end="39:45"><literal type="string" pos:start="39:42" pos:end="39:45">"%d"</literal></expr></argument>, <argument pos:start="39:48" pos:end="39:63"><expr pos:start="39:48" pos:end="39:63"><name pos:start="39:48" pos:end="39:63">NBD_DEFAULT_PORT</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></else></if_stmt>

    </block_content>}</block></else></if_stmt>



    <return pos:start="47:5" pos:end="47:17">return <expr pos:start="47:12" pos:end="47:16"><name pos:start="47:12" pos:end="47:16">saddr</name></expr>;</return>

</block_content>}</block></function>
</unit>
