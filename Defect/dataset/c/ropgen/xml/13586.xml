<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/13586.c" pos:tabs="8"><function pos:start="1:1" pos:end="209:1"><type pos:start="1:1" pos:end="1:10"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:10">int</name></type> <name pos:start="1:12" pos:end="1:27">get_phys_addr_v5</name><parameter_list pos:start="1:28" pos:end="5:63">(<parameter pos:start="1:29" pos:end="1:44"><decl pos:start="1:29" pos:end="1:44"><type pos:start="1:29" pos:end="1:44"><name pos:start="1:29" pos:end="1:39">CPUARMState</name> <modifier pos:start="1:41" pos:end="1:41">*</modifier></type><name pos:start="1:42" pos:end="1:44">env</name></decl></parameter>, <parameter pos:start="1:47" pos:end="1:62"><decl pos:start="1:47" pos:end="1:62"><type pos:start="1:47" pos:end="1:62"><name pos:start="1:47" pos:end="1:54">uint32_t</name></type> <name pos:start="1:56" pos:end="1:62">address</name></decl></parameter>, <parameter pos:start="1:65" pos:end="1:79"><decl pos:start="1:65" pos:end="1:79"><type pos:start="1:65" pos:end="1:79"><name pos:start="1:65" pos:end="1:67">int</name></type> <name pos:start="1:69" pos:end="1:79">access_type</name></decl></parameter>,

                            <parameter pos:start="3:29" pos:end="3:45"><decl pos:start="3:29" pos:end="3:45"><type pos:start="3:29" pos:end="3:45"><name pos:start="3:29" pos:end="3:37">ARMMMUIdx</name></type> <name pos:start="3:39" pos:end="3:45">mmu_idx</name></decl></parameter>, <parameter pos:start="3:48" pos:end="3:63"><decl pos:start="3:48" pos:end="3:63"><type pos:start="3:48" pos:end="3:63"><name pos:start="3:48" pos:end="3:53">hwaddr</name> <modifier pos:start="3:55" pos:end="3:55">*</modifier></type><name pos:start="3:56" pos:end="3:63">phys_ptr</name></decl></parameter>,

                            <parameter pos:start="5:29" pos:end="5:37"><decl pos:start="5:29" pos:end="5:37"><type pos:start="5:29" pos:end="5:37"><name pos:start="5:29" pos:end="5:31">int</name> <modifier pos:start="5:33" pos:end="5:33">*</modifier></type><name pos:start="5:34" pos:end="5:37">prot</name></decl></parameter>, <parameter pos:start="5:40" pos:end="5:62"><decl pos:start="5:40" pos:end="5:62"><type pos:start="5:40" pos:end="5:62"><name pos:start="5:40" pos:end="5:51">target_ulong</name> <modifier pos:start="5:53" pos:end="5:53">*</modifier></type><name pos:start="5:54" pos:end="5:62">page_size</name></decl></parameter>)</parameter_list>

<block pos:start="7:1" pos:end="209:1">{<block_content pos:start="9:5" pos:end="207:32">

    <decl_stmt pos:start="9:5" pos:end="9:45"><decl pos:start="9:5" pos:end="9:44"><type pos:start="9:5" pos:end="9:14"><name pos:start="9:5" pos:end="9:12">CPUState</name> <modifier pos:start="9:14" pos:end="9:14">*</modifier></type><name pos:start="9:15" pos:end="9:16">cs</name> <init pos:start="9:18" pos:end="9:44">= <expr pos:start="9:20" pos:end="9:44"><call pos:start="9:20" pos:end="9:44"><name pos:start="9:20" pos:end="9:22">CPU</name><argument_list pos:start="9:23" pos:end="9:44">(<argument pos:start="9:24" pos:end="9:43"><expr pos:start="9:24" pos:end="9:43"><call pos:start="9:24" pos:end="9:43"><name pos:start="9:24" pos:end="9:38">arm_env_get_cpu</name><argument_list pos:start="9:39" pos:end="9:43">(<argument pos:start="9:40" pos:end="9:42"><expr pos:start="9:40" pos:end="9:42"><name pos:start="9:40" pos:end="9:42">env</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:13"><decl pos:start="11:5" pos:end="11:12"><type pos:start="11:5" pos:end="11:7"><name pos:start="11:5" pos:end="11:7">int</name></type> <name pos:start="11:9" pos:end="11:12">code</name></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:19"><decl pos:start="13:5" pos:end="13:18"><type pos:start="13:5" pos:end="13:12"><name pos:start="13:5" pos:end="13:12">uint32_t</name></type> <name pos:start="13:14" pos:end="13:18">table</name></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="15:18"><decl pos:start="15:5" pos:end="15:17"><type pos:start="15:5" pos:end="15:12"><name pos:start="15:5" pos:end="15:12">uint32_t</name></type> <name pos:start="15:14" pos:end="15:17">desc</name></decl>;</decl_stmt>

    <decl_stmt pos:start="17:5" pos:end="17:13"><decl pos:start="17:5" pos:end="17:12"><type pos:start="17:5" pos:end="17:7"><name pos:start="17:5" pos:end="17:7">int</name></type> <name pos:start="17:9" pos:end="17:12">type</name></decl>;</decl_stmt>

    <decl_stmt pos:start="19:5" pos:end="19:11"><decl pos:start="19:5" pos:end="19:10"><type pos:start="19:5" pos:end="19:7"><name pos:start="19:5" pos:end="19:7">int</name></type> <name pos:start="19:9" pos:end="19:10">ap</name></decl>;</decl_stmt>

    <decl_stmt pos:start="21:5" pos:end="21:19"><decl pos:start="21:5" pos:end="21:18"><type pos:start="21:5" pos:end="21:7"><name pos:start="21:5" pos:end="21:7">int</name></type> <name pos:start="21:9" pos:end="21:14">domain</name> <init pos:start="21:16" pos:end="21:18">= <expr pos:start="21:18" pos:end="21:18"><literal type="number" pos:start="21:18" pos:end="21:18">0</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="23:5" pos:end="23:20"><decl pos:start="23:5" pos:end="23:19"><type pos:start="23:5" pos:end="23:7"><name pos:start="23:5" pos:end="23:7">int</name></type> <name pos:start="23:9" pos:end="23:19">domain_prot</name></decl>;</decl_stmt>

    <decl_stmt pos:start="25:5" pos:end="25:21"><decl pos:start="25:5" pos:end="25:20"><type pos:start="25:5" pos:end="25:10"><name pos:start="25:5" pos:end="25:10">hwaddr</name></type> <name pos:start="25:12" pos:end="25:20">phys_addr</name></decl>;</decl_stmt>

    <decl_stmt pos:start="27:5" pos:end="27:18"><decl pos:start="27:5" pos:end="27:17"><type pos:start="27:5" pos:end="27:12"><name pos:start="27:5" pos:end="27:12">uint32_t</name></type> <name pos:start="27:14" pos:end="27:17">dacr</name></decl>;</decl_stmt>



    <comment type="block" pos:start="31:5" pos:end="31:26">/* Pagetable walk.  */</comment>

    <comment type="block" pos:start="33:5" pos:end="33:32">/* Lookup l1 descriptor.  */</comment>

    <if_stmt pos:start="35:5" pos:end="43:5"><if pos:start="35:5" pos:end="43:5">if <condition pos:start="35:8" pos:end="35:65">(<expr pos:start="35:9" pos:end="35:64"><operator pos:start="35:9" pos:end="35:9">!</operator><call pos:start="35:10" pos:end="35:64"><name pos:start="35:10" pos:end="35:33">get_level1_table_address</name><argument_list pos:start="35:34" pos:end="35:64">(<argument pos:start="35:35" pos:end="35:37"><expr pos:start="35:35" pos:end="35:37"><name pos:start="35:35" pos:end="35:37">env</name></expr></argument>, <argument pos:start="35:40" pos:end="35:46"><expr pos:start="35:40" pos:end="35:46"><name pos:start="35:40" pos:end="35:46">mmu_idx</name></expr></argument>, <argument pos:start="35:49" pos:end="35:54"><expr pos:start="35:49" pos:end="35:54"><operator pos:start="35:49" pos:end="35:49">&amp;</operator><name pos:start="35:50" pos:end="35:54">table</name></expr></argument>, <argument pos:start="35:57" pos:end="35:63"><expr pos:start="35:57" pos:end="35:63"><name pos:start="35:57" pos:end="35:63">address</name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="35:67" pos:end="43:5">{<block_content pos:start="39:9" pos:end="41:22">

        <comment type="block" pos:start="37:9" pos:end="37:78">/* Section translation fault if page walk is disabled by PD0 or PD1 */</comment>

        <expr_stmt pos:start="39:9" pos:end="39:17"><expr pos:start="39:9" pos:end="39:16"><name pos:start="39:9" pos:end="39:12">code</name> <operator pos:start="39:14" pos:end="39:14">=</operator> <literal type="number" pos:start="39:16" pos:end="39:16">5</literal></expr>;</expr_stmt>

        <goto pos:start="41:9" pos:end="41:22">goto <name pos:start="41:14" pos:end="41:21">do_fault</name>;</goto>

    </block_content>}</block></if></if_stmt>

    <expr_stmt pos:start="45:5" pos:end="45:35"><expr pos:start="45:5" pos:end="45:34"><name pos:start="45:5" pos:end="45:8">desc</name> <operator pos:start="45:10" pos:end="45:10">=</operator> <call pos:start="45:12" pos:end="45:34"><name pos:start="45:12" pos:end="45:19">ldl_phys</name><argument_list pos:start="45:20" pos:end="45:34">(<argument pos:start="45:21" pos:end="45:26"><expr pos:start="45:21" pos:end="45:26"><name pos:start="45:21" pos:end="45:26"><name pos:start="45:21" pos:end="45:22">cs</name><operator pos:start="45:23" pos:end="45:24">-&gt;</operator><name pos:start="45:25" pos:end="45:26">as</name></name></expr></argument>, <argument pos:start="45:29" pos:end="45:33"><expr pos:start="45:29" pos:end="45:33"><name pos:start="45:29" pos:end="45:33">table</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="47:5" pos:end="47:22"><expr pos:start="47:5" pos:end="47:21"><name pos:start="47:5" pos:end="47:8">type</name> <operator pos:start="47:10" pos:end="47:10">=</operator> <operator pos:start="47:12" pos:end="47:12">(</operator><name pos:start="47:13" pos:end="47:16">desc</name> <operator pos:start="47:18" pos:end="47:18">&amp;</operator> <literal type="number" pos:start="47:20" pos:end="47:20">3</literal><operator pos:start="47:21" pos:end="47:21">)</operator></expr>;</expr_stmt>

    <expr_stmt pos:start="49:5" pos:end="49:32"><expr pos:start="49:5" pos:end="49:31"><name pos:start="49:5" pos:end="49:10">domain</name> <operator pos:start="49:12" pos:end="49:12">=</operator> <operator pos:start="49:14" pos:end="49:14">(</operator><name pos:start="49:15" pos:end="49:18">desc</name> <operator pos:start="49:20" pos:end="49:21">&gt;&gt;</operator> <literal type="number" pos:start="49:23" pos:end="49:23">5</literal><operator pos:start="49:24" pos:end="49:24">)</operator> <operator pos:start="49:26" pos:end="49:26">&amp;</operator> <literal type="number" pos:start="49:28" pos:end="49:31">0x0f</literal></expr>;</expr_stmt>

    <if_stmt pos:start="51:5" pos:end="59:5"><if pos:start="51:5" pos:end="55:5">if <condition pos:start="51:8" pos:end="51:37">(<expr pos:start="51:9" pos:end="51:36"><call pos:start="51:9" pos:end="51:31"><name pos:start="51:9" pos:end="51:17">regime_el</name><argument_list pos:start="51:18" pos:end="51:31">(<argument pos:start="51:19" pos:end="51:21"><expr pos:start="51:19" pos:end="51:21"><name pos:start="51:19" pos:end="51:21">env</name></expr></argument>, <argument pos:start="51:24" pos:end="51:30"><expr pos:start="51:24" pos:end="51:30"><name pos:start="51:24" pos:end="51:30">mmu_idx</name></expr></argument>)</argument_list></call> <operator pos:start="51:33" pos:end="51:34">==</operator> <literal type="number" pos:start="51:36" pos:end="51:36">1</literal></expr>)</condition> <block pos:start="51:39" pos:end="55:5">{<block_content pos:start="53:9" pos:end="53:33">

        <expr_stmt pos:start="53:9" pos:end="53:33"><expr pos:start="53:9" pos:end="53:32"><name pos:start="53:9" pos:end="53:12">dacr</name> <operator pos:start="53:14" pos:end="53:14">=</operator> <name pos:start="53:16" pos:end="53:32"><name pos:start="53:16" pos:end="53:18">env</name><operator pos:start="53:19" pos:end="53:20">-&gt;</operator><name pos:start="53:21" pos:end="53:24">cp15</name><operator pos:start="53:25" pos:end="53:25">.</operator><name pos:start="53:26" pos:end="53:32">dacr_ns</name></name></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="55:7" pos:end="59:5">else <block pos:start="55:12" pos:end="59:5">{<block_content pos:start="57:9" pos:end="57:32">

        <expr_stmt pos:start="57:9" pos:end="57:32"><expr pos:start="57:9" pos:end="57:31"><name pos:start="57:9" pos:end="57:12">dacr</name> <operator pos:start="57:14" pos:end="57:14">=</operator> <name pos:start="57:16" pos:end="57:31"><name pos:start="57:16" pos:end="57:18">env</name><operator pos:start="57:19" pos:end="57:20">-&gt;</operator><name pos:start="57:21" pos:end="57:24">cp15</name><operator pos:start="57:25" pos:end="57:25">.</operator><name pos:start="57:26" pos:end="57:31">dacr_s</name></name></expr>;</expr_stmt>

    </block_content>}</block></else></if_stmt>

    <expr_stmt pos:start="61:5" pos:end="61:45"><expr pos:start="61:5" pos:end="61:44"><name pos:start="61:5" pos:end="61:15">domain_prot</name> <operator pos:start="61:17" pos:end="61:17">=</operator> <operator pos:start="61:19" pos:end="61:19">(</operator><name pos:start="61:20" pos:end="61:23">dacr</name> <operator pos:start="61:25" pos:end="61:26">&gt;&gt;</operator> <operator pos:start="61:28" pos:end="61:28">(</operator><name pos:start="61:29" pos:end="61:34">domain</name> <operator pos:start="61:36" pos:end="61:36">*</operator> <literal type="number" pos:start="61:38" pos:end="61:38">2</literal><operator pos:start="61:39" pos:end="61:39">)</operator><operator pos:start="61:40" pos:end="61:40">)</operator> <operator pos:start="61:42" pos:end="61:42">&amp;</operator> <literal type="number" pos:start="61:44" pos:end="61:44">3</literal></expr>;</expr_stmt>

    <if_stmt pos:start="63:5" pos:end="71:5"><if pos:start="63:5" pos:end="71:5">if <condition pos:start="63:8" pos:end="63:18">(<expr pos:start="63:9" pos:end="63:17"><name pos:start="63:9" pos:end="63:12">type</name> <operator pos:start="63:14" pos:end="63:15">==</operator> <literal type="number" pos:start="63:17" pos:end="63:17">0</literal></expr>)</condition> <block pos:start="63:20" pos:end="71:5">{<block_content pos:start="67:9" pos:end="69:22">

        <comment type="block" pos:start="65:9" pos:end="65:41">/* Section translation fault.  */</comment>

        <expr_stmt pos:start="67:9" pos:end="67:17"><expr pos:start="67:9" pos:end="67:16"><name pos:start="67:9" pos:end="67:12">code</name> <operator pos:start="67:14" pos:end="67:14">=</operator> <literal type="number" pos:start="67:16" pos:end="67:16">5</literal></expr>;</expr_stmt>

        <goto pos:start="69:9" pos:end="69:22">goto <name pos:start="69:14" pos:end="69:21">do_fault</name>;</goto>

    </block_content>}</block></if></if_stmt>

    <if_stmt pos:start="73:5" pos:end="85:5"><if pos:start="73:5" pos:end="85:5">if <condition pos:start="73:8" pos:end="73:45">(<expr pos:start="73:9" pos:end="73:44"><name pos:start="73:9" pos:end="73:19">domain_prot</name> <operator pos:start="73:21" pos:end="73:22">==</operator> <literal type="number" pos:start="73:24" pos:end="73:24">0</literal> <operator pos:start="73:26" pos:end="73:27">||</operator> <name pos:start="73:29" pos:end="73:39">domain_prot</name> <operator pos:start="73:41" pos:end="73:42">==</operator> <literal type="number" pos:start="73:44" pos:end="73:44">2</literal></expr>)</condition> <block pos:start="73:47" pos:end="85:5">{<block_content pos:start="75:9" pos:end="83:22">

        <if_stmt pos:start="75:9" pos:end="81:22"><if pos:start="75:9" pos:end="77:21">if <condition pos:start="75:12" pos:end="75:22">(<expr pos:start="75:13" pos:end="75:21"><name pos:start="75:13" pos:end="75:16">type</name> <operator pos:start="75:18" pos:end="75:19">==</operator> <literal type="number" pos:start="75:21" pos:end="75:21">2</literal></expr>)</condition><block type="pseudo" pos:start="77:13" pos:end="77:21"><block_content pos:start="77:13" pos:end="77:21">

            <expr_stmt pos:start="77:13" pos:end="77:21"><expr pos:start="77:13" pos:end="77:20"><name pos:start="77:13" pos:end="77:16">code</name> <operator pos:start="77:18" pos:end="77:18">=</operator> <literal type="number" pos:start="77:20" pos:end="77:20">9</literal></expr>;</expr_stmt></block_content></block></if> <comment type="block" pos:start="77:23" pos:end="77:50">/* Section domain fault.  */</comment>

        <else pos:start="79:9" pos:end="81:22">else<block type="pseudo" pos:start="81:13" pos:end="81:22"><block_content pos:start="81:13" pos:end="81:22">

            <expr_stmt pos:start="81:13" pos:end="81:22"><expr pos:start="81:13" pos:end="81:21"><name pos:start="81:13" pos:end="81:16">code</name> <operator pos:start="81:18" pos:end="81:18">=</operator> <literal type="number" pos:start="81:20" pos:end="81:21">11</literal></expr>;</expr_stmt></block_content></block></else></if_stmt> <comment type="block" pos:start="81:24" pos:end="81:48">/* Page domain fault.  */</comment>

        <goto pos:start="83:9" pos:end="83:22">goto <name pos:start="83:14" pos:end="83:21">do_fault</name>;</goto>

    </block_content>}</block></if></if_stmt>

    <if_stmt pos:start="87:5" pos:end="187:5"><if pos:start="87:5" pos:end="99:5">if <condition pos:start="87:8" pos:end="87:18">(<expr pos:start="87:9" pos:end="87:17"><name pos:start="87:9" pos:end="87:12">type</name> <operator pos:start="87:14" pos:end="87:15">==</operator> <literal type="number" pos:start="87:17" pos:end="87:17">2</literal></expr>)</condition> <block pos:start="87:20" pos:end="99:5">{<block_content pos:start="91:9" pos:end="97:33">

        <comment type="block" pos:start="89:9" pos:end="89:27">/* 1Mb section.  */</comment>

        <expr_stmt pos:start="91:9" pos:end="91:65"><expr pos:start="91:9" pos:end="91:64"><name pos:start="91:9" pos:end="91:17">phys_addr</name> <operator pos:start="91:19" pos:end="91:19">=</operator> <operator pos:start="91:21" pos:end="91:21">(</operator><name pos:start="91:22" pos:end="91:25">desc</name> <operator pos:start="91:27" pos:end="91:27">&amp;</operator> <literal type="number" pos:start="91:29" pos:end="91:38">0xfff00000</literal><operator pos:start="91:39" pos:end="91:39">)</operator> <operator pos:start="91:41" pos:end="91:41">|</operator> <operator pos:start="91:43" pos:end="91:43">(</operator><name pos:start="91:44" pos:end="91:50">address</name> <operator pos:start="91:52" pos:end="91:52">&amp;</operator> <literal type="number" pos:start="91:54" pos:end="91:63">0x000fffff</literal><operator pos:start="91:64" pos:end="91:64">)</operator></expr>;</expr_stmt>

        <expr_stmt pos:start="93:9" pos:end="93:30"><expr pos:start="93:9" pos:end="93:29"><name pos:start="93:9" pos:end="93:10">ap</name> <operator pos:start="93:12" pos:end="93:12">=</operator> <operator pos:start="93:14" pos:end="93:14">(</operator><name pos:start="93:15" pos:end="93:18">desc</name> <operator pos:start="93:20" pos:end="93:21">&gt;&gt;</operator> <literal type="number" pos:start="93:23" pos:end="93:24">10</literal><operator pos:start="93:25" pos:end="93:25">)</operator> <operator pos:start="93:27" pos:end="93:27">&amp;</operator> <literal type="number" pos:start="93:29" pos:end="93:29">3</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="95:9" pos:end="95:18"><expr pos:start="95:9" pos:end="95:17"><name pos:start="95:9" pos:end="95:12">code</name> <operator pos:start="95:14" pos:end="95:14">=</operator> <literal type="number" pos:start="95:16" pos:end="95:17">13</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="97:9" pos:end="97:33"><expr pos:start="97:9" pos:end="97:32"><operator pos:start="97:9" pos:end="97:9">*</operator><name pos:start="97:10" pos:end="97:18">page_size</name> <operator pos:start="97:20" pos:end="97:20">=</operator> <literal type="number" pos:start="97:22" pos:end="97:25">1024</literal> <operator pos:start="97:27" pos:end="97:27">*</operator> <literal type="number" pos:start="97:29" pos:end="97:32">1024</literal></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="99:7" pos:end="187:5">else <block pos:start="99:12" pos:end="187:5">{<block_content pos:start="103:9" pos:end="185:18">

        <comment type="block" pos:start="101:9" pos:end="101:31">/* Lookup l2 entry.  */</comment>

        <if_stmt pos:start="103:9" pos:end="115:9"><if pos:start="103:9" pos:end="109:9">if <condition pos:start="103:12" pos:end="103:22">(<expr pos:start="103:13" pos:end="103:21"><name pos:start="103:13" pos:end="103:16">type</name> <operator pos:start="103:18" pos:end="103:19">==</operator> <literal type="number" pos:start="103:21" pos:end="103:21">1</literal></expr>)</condition> <block pos:start="103:24" pos:end="109:9">{<block_content pos:start="107:13" pos:end="107:68">

            <comment type="block" pos:start="105:13" pos:end="105:36">/* Coarse pagetable.  */</comment>

            <expr_stmt pos:start="107:13" pos:end="107:68"><expr pos:start="107:13" pos:end="107:67"><name pos:start="107:13" pos:end="107:17">table</name> <operator pos:start="107:19" pos:end="107:19">=</operator> <operator pos:start="107:21" pos:end="107:21">(</operator><name pos:start="107:22" pos:end="107:25">desc</name> <operator pos:start="107:27" pos:end="107:27">&amp;</operator> <literal type="number" pos:start="107:29" pos:end="107:38">0xfffffc00</literal><operator pos:start="107:39" pos:end="107:39">)</operator> <operator pos:start="107:41" pos:end="107:41">|</operator> <operator pos:start="107:43" pos:end="107:43">(</operator><operator pos:start="107:44" pos:end="107:44">(</operator><name pos:start="107:45" pos:end="107:51">address</name> <operator pos:start="107:53" pos:end="107:54">&gt;&gt;</operator> <literal type="number" pos:start="107:56" pos:end="107:57">10</literal><operator pos:start="107:58" pos:end="107:58">)</operator> <operator pos:start="107:60" pos:end="107:60">&amp;</operator> <literal type="number" pos:start="107:62" pos:end="107:66">0x3fc</literal><operator pos:start="107:67" pos:end="107:67">)</operator></expr>;</expr_stmt>

        </block_content>}</block></if> <else pos:start="109:11" pos:end="115:9">else <block pos:start="109:16" pos:end="115:9">{<block_content pos:start="113:13" pos:end="113:67">

            <comment type="block" pos:start="111:13" pos:end="111:34">/* Fine pagetable.  */</comment>

            <expr_stmt pos:start="113:13" pos:end="113:67"><expr pos:start="113:13" pos:end="113:66"><name pos:start="113:13" pos:end="113:17">table</name> <operator pos:start="113:19" pos:end="113:19">=</operator> <operator pos:start="113:21" pos:end="113:21">(</operator><name pos:start="113:22" pos:end="113:25">desc</name> <operator pos:start="113:27" pos:end="113:27">&amp;</operator> <literal type="number" pos:start="113:29" pos:end="113:38">0xfffff000</literal><operator pos:start="113:39" pos:end="113:39">)</operator> <operator pos:start="113:41" pos:end="113:41">|</operator> <operator pos:start="113:43" pos:end="113:43">(</operator><operator pos:start="113:44" pos:end="113:44">(</operator><name pos:start="113:45" pos:end="113:51">address</name> <operator pos:start="113:53" pos:end="113:54">&gt;&gt;</operator> <literal type="number" pos:start="113:56" pos:end="113:56">8</literal><operator pos:start="113:57" pos:end="113:57">)</operator> <operator pos:start="113:59" pos:end="113:59">&amp;</operator> <literal type="number" pos:start="113:61" pos:end="113:65">0xffc</literal><operator pos:start="113:66" pos:end="113:66">)</operator></expr>;</expr_stmt>

        </block_content>}</block></else></if_stmt>

        <expr_stmt pos:start="117:9" pos:end="117:39"><expr pos:start="117:9" pos:end="117:38"><name pos:start="117:9" pos:end="117:12">desc</name> <operator pos:start="117:14" pos:end="117:14">=</operator> <call pos:start="117:16" pos:end="117:38"><name pos:start="117:16" pos:end="117:23">ldl_phys</name><argument_list pos:start="117:24" pos:end="117:38">(<argument pos:start="117:25" pos:end="117:30"><expr pos:start="117:25" pos:end="117:30"><name pos:start="117:25" pos:end="117:30"><name pos:start="117:25" pos:end="117:26">cs</name><operator pos:start="117:27" pos:end="117:28">-&gt;</operator><name pos:start="117:29" pos:end="117:30">as</name></name></expr></argument>, <argument pos:start="117:33" pos:end="117:37"><expr pos:start="117:33" pos:end="117:37"><name pos:start="117:33" pos:end="117:37">table</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <switch pos:start="119:9" pos:end="183:9">switch <condition pos:start="119:16" pos:end="119:25">(<expr pos:start="119:17" pos:end="119:24"><name pos:start="119:17" pos:end="119:20">desc</name> <operator pos:start="119:22" pos:end="119:22">&amp;</operator> <literal type="number" pos:start="119:24" pos:end="119:24">3</literal></expr>)</condition> <block pos:start="119:27" pos:end="183:9">{<block_content pos:start="121:9" pos:end="181:20">

        <case pos:start="121:9" pos:end="121:15">case <expr pos:start="121:14" pos:end="121:14"><literal type="number" pos:start="121:14" pos:end="121:14">0</literal></expr>:</case> <comment type="block" pos:start="121:17" pos:end="121:46">/* Page translation fault.  */</comment>

            <expr_stmt pos:start="123:13" pos:end="123:21"><expr pos:start="123:13" pos:end="123:20"><name pos:start="123:13" pos:end="123:16">code</name> <operator pos:start="123:18" pos:end="123:18">=</operator> <literal type="number" pos:start="123:20" pos:end="123:20">7</literal></expr>;</expr_stmt>

            <goto pos:start="125:13" pos:end="125:26">goto <name pos:start="125:18" pos:end="125:25">do_fault</name>;</goto>

        <case pos:start="127:9" pos:end="127:15">case <expr pos:start="127:14" pos:end="127:14"><literal type="number" pos:start="127:14" pos:end="127:14">1</literal></expr>:</case> <comment type="block" pos:start="127:17" pos:end="127:32">/* 64k page.  */</comment>

            <expr_stmt pos:start="129:13" pos:end="129:65"><expr pos:start="129:13" pos:end="129:64"><name pos:start="129:13" pos:end="129:21">phys_addr</name> <operator pos:start="129:23" pos:end="129:23">=</operator> <operator pos:start="129:25" pos:end="129:25">(</operator><name pos:start="129:26" pos:end="129:29">desc</name> <operator pos:start="129:31" pos:end="129:31">&amp;</operator> <literal type="number" pos:start="129:33" pos:end="129:42">0xffff0000</literal><operator pos:start="129:43" pos:end="129:43">)</operator> <operator pos:start="129:45" pos:end="129:45">|</operator> <operator pos:start="129:47" pos:end="129:47">(</operator><name pos:start="129:48" pos:end="129:54">address</name> <operator pos:start="129:56" pos:end="129:56">&amp;</operator> <literal type="number" pos:start="129:58" pos:end="129:63">0xffff</literal><operator pos:start="129:64" pos:end="129:64">)</operator></expr>;</expr_stmt>

            <expr_stmt pos:start="131:13" pos:end="131:59"><expr pos:start="131:13" pos:end="131:58"><name pos:start="131:13" pos:end="131:14">ap</name> <operator pos:start="131:16" pos:end="131:16">=</operator> <operator pos:start="131:18" pos:end="131:18">(</operator><name pos:start="131:19" pos:end="131:22">desc</name> <operator pos:start="131:24" pos:end="131:25">&gt;&gt;</operator> <operator pos:start="131:27" pos:end="131:27">(</operator><literal type="number" pos:start="131:28" pos:end="131:30">4</literal> <operator pos:start="131:30" pos:end="131:30">+</operator> <operator pos:start="131:32" pos:end="131:32">(</operator><operator pos:start="131:33" pos:end="131:33">(</operator><name pos:start="131:34" pos:end="131:40">address</name> <operator pos:start="131:42" pos:end="131:43">&gt;&gt;</operator> <literal type="number" pos:start="131:45" pos:end="131:46">13</literal><operator pos:start="131:47" pos:end="131:47">)</operator> <operator pos:start="131:49" pos:end="131:49">&amp;</operator> <literal type="number" pos:start="131:51" pos:end="131:51">6</literal><operator pos:start="131:52" pos:end="131:52">)</operator><operator pos:start="131:53" pos:end="131:53">)</operator><operator pos:start="131:54" pos:end="131:54">)</operator> <operator pos:start="131:56" pos:end="131:56">&amp;</operator> <literal type="number" pos:start="131:58" pos:end="131:58">3</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="133:13" pos:end="133:33"><expr pos:start="133:13" pos:end="133:32"><operator pos:start="133:13" pos:end="133:13">*</operator><name pos:start="133:14" pos:end="133:22">page_size</name> <operator pos:start="133:24" pos:end="133:24">=</operator> <literal type="number" pos:start="133:26" pos:end="133:32">0x10000</literal></expr>;</expr_stmt>

            <break pos:start="135:13" pos:end="135:18">break;</break>

        <case pos:start="137:9" pos:end="137:15">case <expr pos:start="137:14" pos:end="137:14"><literal type="number" pos:start="137:14" pos:end="137:14">2</literal></expr>:</case> <comment type="block" pos:start="137:17" pos:end="137:31">/* 4k page.  */</comment>

            <expr_stmt pos:start="139:13" pos:end="139:64"><expr pos:start="139:13" pos:end="139:63"><name pos:start="139:13" pos:end="139:21">phys_addr</name> <operator pos:start="139:23" pos:end="139:23">=</operator> <operator pos:start="139:25" pos:end="139:25">(</operator><name pos:start="139:26" pos:end="139:29">desc</name> <operator pos:start="139:31" pos:end="139:31">&amp;</operator> <literal type="number" pos:start="139:33" pos:end="139:42">0xfffff000</literal><operator pos:start="139:43" pos:end="139:43">)</operator> <operator pos:start="139:45" pos:end="139:45">|</operator> <operator pos:start="139:47" pos:end="139:47">(</operator><name pos:start="139:48" pos:end="139:54">address</name> <operator pos:start="139:56" pos:end="139:56">&amp;</operator> <literal type="number" pos:start="139:58" pos:end="139:62">0xfff</literal><operator pos:start="139:63" pos:end="139:63">)</operator></expr>;</expr_stmt>

            <expr_stmt pos:start="141:13" pos:end="141:58"><expr pos:start="141:13" pos:end="141:57"><name pos:start="141:13" pos:end="141:14">ap</name> <operator pos:start="141:16" pos:end="141:16">=</operator> <operator pos:start="141:18" pos:end="141:18">(</operator><name pos:start="141:19" pos:end="141:22">desc</name> <operator pos:start="141:24" pos:end="141:25">&gt;&gt;</operator> <operator pos:start="141:27" pos:end="141:27">(</operator><literal type="number" pos:start="141:28" pos:end="141:30">4</literal> <operator pos:start="141:30" pos:end="141:30">+</operator> <operator pos:start="141:32" pos:end="141:32">(</operator><operator pos:start="141:33" pos:end="141:33">(</operator><name pos:start="141:34" pos:end="141:40">address</name> <operator pos:start="141:42" pos:end="141:43">&gt;&gt;</operator> <literal type="number" pos:start="141:45" pos:end="141:45">9</literal><operator pos:start="141:46" pos:end="141:46">)</operator> <operator pos:start="141:48" pos:end="141:48">&amp;</operator> <literal type="number" pos:start="141:50" pos:end="141:50">6</literal><operator pos:start="141:51" pos:end="141:51">)</operator><operator pos:start="141:52" pos:end="141:52">)</operator><operator pos:start="141:53" pos:end="141:53">)</operator> <operator pos:start="141:55" pos:end="141:55">&amp;</operator> <literal type="number" pos:start="141:57" pos:end="141:57">3</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="143:13" pos:end="143:32"><expr pos:start="143:13" pos:end="143:31"><operator pos:start="143:13" pos:end="143:13">*</operator><name pos:start="143:14" pos:end="143:22">page_size</name> <operator pos:start="143:24" pos:end="143:24">=</operator> <literal type="number" pos:start="143:26" pos:end="143:31">0x1000</literal></expr>;</expr_stmt>

            <break pos:start="145:13" pos:end="145:18">break;</break>

        <case pos:start="147:9" pos:end="147:15">case <expr pos:start="147:14" pos:end="147:14"><literal type="number" pos:start="147:14" pos:end="147:14">3</literal></expr>:</case> <comment type="block" pos:start="147:17" pos:end="147:31">/* 1k page.  */</comment>

            <if_stmt pos:start="149:13" pos:end="169:13"><if pos:start="149:13" pos:end="165:13">if <condition pos:start="149:16" pos:end="149:26">(<expr pos:start="149:17" pos:end="149:25"><name pos:start="149:17" pos:end="149:20">type</name> <operator pos:start="149:22" pos:end="149:23">==</operator> <literal type="number" pos:start="149:25" pos:end="149:25">1</literal></expr>)</condition> <block pos:start="149:28" pos:end="165:13">{<block_content pos:start="151:17" pos:end="163:17">

                <if_stmt pos:start="151:17" pos:end="163:17"><if pos:start="151:17" pos:end="155:17">if <condition pos:start="151:20" pos:end="151:57">(<expr pos:start="151:21" pos:end="151:56"><call pos:start="151:21" pos:end="151:56"><name pos:start="151:21" pos:end="151:31">arm_feature</name><argument_list pos:start="151:32" pos:end="151:56">(<argument pos:start="151:33" pos:end="151:35"><expr pos:start="151:33" pos:end="151:35"><name pos:start="151:33" pos:end="151:35">env</name></expr></argument>, <argument pos:start="151:38" pos:end="151:55"><expr pos:start="151:38" pos:end="151:55"><name pos:start="151:38" pos:end="151:55">ARM_FEATURE_XSCALE</name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="151:59" pos:end="155:17">{<block_content pos:start="153:21" pos:end="153:72">

                    <expr_stmt pos:start="153:21" pos:end="153:72"><expr pos:start="153:21" pos:end="153:71"><name pos:start="153:21" pos:end="153:29">phys_addr</name> <operator pos:start="153:31" pos:end="153:31">=</operator> <operator pos:start="153:33" pos:end="153:33">(</operator><name pos:start="153:34" pos:end="153:37">desc</name> <operator pos:start="153:39" pos:end="153:39">&amp;</operator> <literal type="number" pos:start="153:41" pos:end="153:50">0xfffff000</literal><operator pos:start="153:51" pos:end="153:51">)</operator> <operator pos:start="153:53" pos:end="153:53">|</operator> <operator pos:start="153:55" pos:end="153:55">(</operator><name pos:start="153:56" pos:end="153:62">address</name> <operator pos:start="153:64" pos:end="153:64">&amp;</operator> <literal type="number" pos:start="153:66" pos:end="153:70">0xfff</literal><operator pos:start="153:71" pos:end="153:71">)</operator></expr>;</expr_stmt>

                </block_content>}</block></if> <else pos:start="155:19" pos:end="163:17">else <block pos:start="155:24" pos:end="163:17">{<block_content pos:start="159:21" pos:end="161:34">

                    <comment type="block" pos:start="157:21" pos:end="157:50">/* Page translation fault.  */</comment>

                    <expr_stmt pos:start="159:21" pos:end="159:29"><expr pos:start="159:21" pos:end="159:28"><name pos:start="159:21" pos:end="159:24">code</name> <operator pos:start="159:26" pos:end="159:26">=</operator> <literal type="number" pos:start="159:28" pos:end="159:28">7</literal></expr>;</expr_stmt>

                    <goto pos:start="161:21" pos:end="161:34">goto <name pos:start="161:26" pos:end="161:33">do_fault</name>;</goto>

                </block_content>}</block></else></if_stmt>

            </block_content>}</block></if> <else pos:start="165:15" pos:end="169:13">else <block pos:start="165:20" pos:end="169:13">{<block_content pos:start="167:17" pos:end="167:68">

                <expr_stmt pos:start="167:17" pos:end="167:68"><expr pos:start="167:17" pos:end="167:67"><name pos:start="167:17" pos:end="167:25">phys_addr</name> <operator pos:start="167:27" pos:end="167:27">=</operator> <operator pos:start="167:29" pos:end="167:29">(</operator><name pos:start="167:30" pos:end="167:33">desc</name> <operator pos:start="167:35" pos:end="167:35">&amp;</operator> <literal type="number" pos:start="167:37" pos:end="167:46">0xfffffc00</literal><operator pos:start="167:47" pos:end="167:47">)</operator> <operator pos:start="167:49" pos:end="167:49">|</operator> <operator pos:start="167:51" pos:end="167:51">(</operator><name pos:start="167:52" pos:end="167:58">address</name> <operator pos:start="167:60" pos:end="167:60">&amp;</operator> <literal type="number" pos:start="167:62" pos:end="167:66">0x3ff</literal><operator pos:start="167:67" pos:end="167:67">)</operator></expr>;</expr_stmt>

            </block_content>}</block></else></if_stmt>

            <expr_stmt pos:start="171:13" pos:end="171:33"><expr pos:start="171:13" pos:end="171:32"><name pos:start="171:13" pos:end="171:14">ap</name> <operator pos:start="171:16" pos:end="171:16">=</operator> <operator pos:start="171:18" pos:end="171:18">(</operator><name pos:start="171:19" pos:end="171:22">desc</name> <operator pos:start="171:24" pos:end="171:25">&gt;&gt;</operator> <literal type="number" pos:start="171:27" pos:end="171:27">4</literal><operator pos:start="171:28" pos:end="171:28">)</operator> <operator pos:start="171:30" pos:end="171:30">&amp;</operator> <literal type="number" pos:start="171:32" pos:end="171:32">3</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="173:13" pos:end="173:31"><expr pos:start="173:13" pos:end="173:30"><operator pos:start="173:13" pos:end="173:13">*</operator><name pos:start="173:14" pos:end="173:22">page_size</name> <operator pos:start="173:24" pos:end="173:24">=</operator> <literal type="number" pos:start="173:26" pos:end="173:30">0x400</literal></expr>;</expr_stmt>

            <break pos:start="175:13" pos:end="175:18">break;</break>

        <default pos:start="177:9" pos:end="177:16">default:</default>

            <comment type="block" pos:start="179:13" pos:end="179:74">/* Never happens, but compiler isn't smart enough to tell.  */</comment>

            <expr_stmt pos:start="181:13" pos:end="181:20"><expr pos:start="181:13" pos:end="181:19"><call pos:start="181:13" pos:end="181:19"><name pos:start="181:13" pos:end="181:17">abort</name><argument_list pos:start="181:18" pos:end="181:19">()</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></switch>

        <expr_stmt pos:start="185:9" pos:end="185:18"><expr pos:start="185:9" pos:end="185:17"><name pos:start="185:9" pos:end="185:12">code</name> <operator pos:start="185:14" pos:end="185:14">=</operator> <literal type="number" pos:start="185:16" pos:end="185:17">15</literal></expr>;</expr_stmt>

    </block_content>}</block></else></if_stmt>

    <expr_stmt pos:start="189:5" pos:end="189:65"><expr pos:start="189:5" pos:end="189:64"><operator pos:start="189:5" pos:end="189:5">*</operator><name pos:start="189:6" pos:end="189:9">prot</name> <operator pos:start="189:11" pos:end="189:11">=</operator> <call pos:start="189:13" pos:end="189:64"><name pos:start="189:13" pos:end="189:20">check_ap</name><argument_list pos:start="189:21" pos:end="189:64">(<argument pos:start="189:22" pos:end="189:24"><expr pos:start="189:22" pos:end="189:24"><name pos:start="189:22" pos:end="189:24">env</name></expr></argument>, <argument pos:start="189:27" pos:end="189:33"><expr pos:start="189:27" pos:end="189:33"><name pos:start="189:27" pos:end="189:33">mmu_idx</name></expr></argument>, <argument pos:start="189:36" pos:end="189:37"><expr pos:start="189:36" pos:end="189:37"><name pos:start="189:36" pos:end="189:37">ap</name></expr></argument>, <argument pos:start="189:40" pos:end="189:50"><expr pos:start="189:40" pos:end="189:50"><name pos:start="189:40" pos:end="189:50">domain_prot</name></expr></argument>, <argument pos:start="189:53" pos:end="189:63"><expr pos:start="189:53" pos:end="189:63"><name pos:start="189:53" pos:end="189:63">access_type</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="191:5" pos:end="197:5"><if pos:start="191:5" pos:end="197:5">if <condition pos:start="191:8" pos:end="191:15">(<expr pos:start="191:9" pos:end="191:14"><operator pos:start="191:9" pos:end="191:9">!</operator><operator pos:start="191:10" pos:end="191:10">*</operator><name pos:start="191:11" pos:end="191:14">prot</name></expr>)</condition> <block pos:start="191:17" pos:end="197:5">{<block_content pos:start="195:9" pos:end="195:22">

        <comment type="block" pos:start="193:9" pos:end="193:39">/* Access permission fault.  */</comment>

        <goto pos:start="195:9" pos:end="195:22">goto <name pos:start="195:14" pos:end="195:21">do_fault</name>;</goto>

    </block_content>}</block></if></if_stmt>

    <expr_stmt pos:start="199:5" pos:end="199:23"><expr pos:start="199:5" pos:end="199:22"><operator pos:start="199:5" pos:end="199:5">*</operator><name pos:start="199:6" pos:end="199:9">prot</name> <operator pos:start="199:11" pos:end="199:12">|=</operator> <name pos:start="199:14" pos:end="199:22">PAGE_EXEC</name></expr>;</expr_stmt>

    <expr_stmt pos:start="201:5" pos:end="201:26"><expr pos:start="201:5" pos:end="201:25"><operator pos:start="201:5" pos:end="201:5">*</operator><name pos:start="201:6" pos:end="201:13">phys_ptr</name> <operator pos:start="201:15" pos:end="201:15">=</operator> <name pos:start="201:17" pos:end="201:25">phys_addr</name></expr>;</expr_stmt>

    <return pos:start="203:5" pos:end="203:13">return <expr pos:start="203:12" pos:end="203:12"><literal type="number" pos:start="203:12" pos:end="203:12">0</literal></expr>;</return>

<label pos:start="205:1" pos:end="205:9"><name pos:start="205:1" pos:end="205:8">do_fault</name>:</label>

    <return pos:start="207:5" pos:end="207:32">return <expr pos:start="207:12" pos:end="207:31"><name pos:start="207:12" pos:end="207:15">code</name> <operator pos:start="207:17" pos:end="207:17">|</operator> <operator pos:start="207:19" pos:end="207:19">(</operator><name pos:start="207:20" pos:end="207:25">domain</name> <operator pos:start="207:27" pos:end="207:28">&lt;&lt;</operator> <literal type="number" pos:start="207:30" pos:end="207:30">4</literal><operator pos:start="207:31" pos:end="207:31">)</operator></expr>;</return>

</block_content>}</block></function>
</unit>
