<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/26770.c" pos:tabs="8"><function pos:start="1:1" pos:end="157:1"><type pos:start="1:1" pos:end="1:10"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:10">int</name></type> <name pos:start="1:12" pos:end="1:29">sab_diamond_search</name><parameter_list pos:start="1:30" pos:end="5:66">(<parameter pos:start="1:31" pos:end="1:48"><decl pos:start="1:31" pos:end="1:48"><type pos:start="1:31" pos:end="1:48"><name pos:start="1:31" pos:end="1:44">MpegEncContext</name> <modifier pos:start="1:46" pos:end="1:46">*</modifier></type> <name pos:start="1:48" pos:end="1:48">s</name></decl></parameter>, <parameter pos:start="1:51" pos:end="1:59"><decl pos:start="1:51" pos:end="1:59"><type pos:start="1:51" pos:end="1:59"><name pos:start="1:51" pos:end="1:53">int</name> <modifier pos:start="1:55" pos:end="1:55">*</modifier></type><name pos:start="1:56" pos:end="1:59">best</name></decl></parameter>, <parameter pos:start="1:62" pos:end="1:69"><decl pos:start="1:62" pos:end="1:69"><type pos:start="1:62" pos:end="1:69"><name pos:start="1:62" pos:end="1:64">int</name></type> <name pos:start="1:66" pos:end="1:69">dmin</name></decl></parameter>,

                                       <parameter pos:start="3:40" pos:end="3:52"><decl pos:start="3:40" pos:end="3:52"><type pos:start="3:40" pos:end="3:52"><name pos:start="3:40" pos:end="3:42">int</name></type> <name pos:start="3:44" pos:end="3:52">src_index</name></decl></parameter>, <parameter pos:start="3:55" pos:end="3:67"><decl pos:start="3:55" pos:end="3:67"><type pos:start="3:55" pos:end="3:67"><name pos:start="3:55" pos:end="3:57">int</name></type> <name pos:start="3:59" pos:end="3:67">ref_index</name></decl></parameter>, <parameter pos:start="3:70" pos:end="3:93"><decl pos:start="3:70" pos:end="3:93"><type pos:start="3:70" pos:end="3:93"><name pos:start="3:70" pos:end="3:72">int</name> <specifier pos:start="3:74" pos:end="3:78">const</specifier></type> <name pos:start="3:80" pos:end="3:93">penalty_factor</name></decl></parameter>,

                                       <parameter pos:start="5:40" pos:end="5:47"><decl pos:start="5:40" pos:end="5:47"><type pos:start="5:40" pos:end="5:47"><name pos:start="5:40" pos:end="5:42">int</name></type> <name pos:start="5:44" pos:end="5:47">size</name></decl></parameter>, <parameter pos:start="5:50" pos:end="5:54"><decl pos:start="5:50" pos:end="5:54"><type pos:start="5:50" pos:end="5:54"><name pos:start="5:50" pos:end="5:52">int</name></type> <name pos:start="5:54" pos:end="5:54">h</name></decl></parameter>, <parameter pos:start="5:57" pos:end="5:65"><decl pos:start="5:57" pos:end="5:65"><type pos:start="5:57" pos:end="5:65"><name pos:start="5:57" pos:end="5:59">int</name></type> <name pos:start="5:61" pos:end="5:65">flags</name></decl></parameter>)</parameter_list>

<block pos:start="7:1" pos:end="157:1">{<block_content pos:start="9:5" pos:end="155:16">

    <decl_stmt pos:start="9:5" pos:end="9:39"><decl pos:start="9:5" pos:end="9:38"><type pos:start="9:5" pos:end="9:28"><name pos:start="9:5" pos:end="9:20">MotionEstContext</name> <modifier pos:start="9:22" pos:end="9:22">*</modifier> <specifier pos:start="9:24" pos:end="9:28">const</specifier></type> <name pos:start="9:30" pos:end="9:30">c</name><init pos:start="9:31" pos:end="9:38">= <expr pos:start="9:33" pos:end="9:38"><operator pos:start="9:33" pos:end="9:33">&amp;</operator><name pos:start="9:34" pos:end="9:38"><name pos:start="9:34" pos:end="9:34">s</name><operator pos:start="9:35" pos:end="9:36">-&gt;</operator><name pos:start="9:37" pos:end="9:38">me</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:34"><decl pos:start="11:5" pos:end="11:20"><type pos:start="11:5" pos:end="11:15"><name pos:start="11:5" pos:end="11:15">me_cmp_func</name></type> <name pos:start="11:17" pos:end="11:20">cmpf</name></decl>, <decl pos:start="11:23" pos:end="11:33"><type ref="prev" pos:start="11:5" pos:end="11:15"/><name pos:start="11:23" pos:end="11:33">chroma_cmpf</name></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:32"><decl pos:start="13:5" pos:end="13:31"><type pos:start="13:5" pos:end="13:10"><name pos:start="13:5" pos:end="13:10">Minima</name></type> <name pos:start="13:12" pos:end="13:31"><name pos:start="13:12" pos:end="13:17">minima</name><index pos:start="13:18" pos:end="13:31">[<expr pos:start="13:19" pos:end="13:30"><name pos:start="13:19" pos:end="13:30">MAX_SAB_SIZE</name></expr>]</index></name></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="15:47"><decl pos:start="15:5" pos:end="15:46"><type pos:start="15:5" pos:end="15:13"><specifier pos:start="15:5" pos:end="15:9">const</specifier> <name pos:start="15:11" pos:end="15:13">int</name></type> <name pos:start="15:15" pos:end="15:26">minima_count</name><init pos:start="15:27" pos:end="15:46">= <expr pos:start="15:29" pos:end="15:46"><call pos:start="15:29" pos:end="15:46"><name pos:start="15:29" pos:end="15:33">FFABS</name><argument_list pos:start="15:34" pos:end="15:46">(<argument pos:start="15:35" pos:end="15:45"><expr pos:start="15:35" pos:end="15:45"><name pos:start="15:35" pos:end="15:45"><name pos:start="15:35" pos:end="15:35">c</name><operator pos:start="15:36" pos:end="15:37">-&gt;</operator><name pos:start="15:38" pos:end="15:45">dia_size</name></name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="17:5" pos:end="17:13"><decl pos:start="17:5" pos:end="17:9"><type pos:start="17:5" pos:end="17:7"><name pos:start="17:5" pos:end="17:7">int</name></type> <name pos:start="17:9" pos:end="17:9">i</name></decl>, <decl pos:start="17:12" pos:end="17:12"><type ref="prev" pos:start="17:5" pos:end="17:7"/><name pos:start="17:12" pos:end="17:12">j</name></decl>;</decl_stmt>

    <decl_stmt pos:start="19:5" pos:end="23:42"><decl pos:start="19:5" pos:end="23:41"><type pos:start="19:5" pos:end="23:7"><name pos:start="19:5" pos:end="19:15">LOAD_COMMON</name>

    <name pos:start="21:5" pos:end="21:16">LOAD_COMMON2</name>

    <name pos:start="23:5" pos:end="23:7">int</name></type> <name pos:start="23:9" pos:end="23:22">map_generation</name><init pos:start="23:23" pos:end="23:41">= <expr pos:start="23:25" pos:end="23:41"><name pos:start="23:25" pos:end="23:41"><name pos:start="23:25" pos:end="23:25">c</name><operator pos:start="23:26" pos:end="23:27">-&gt;</operator><name pos:start="23:28" pos:end="23:41">map_generation</name></name></expr></init></decl>;</decl_stmt>



    <expr_stmt pos:start="27:5" pos:end="27:30"><expr pos:start="27:5" pos:end="27:29"><name pos:start="27:5" pos:end="27:8">cmpf</name><operator pos:start="27:9" pos:end="27:9">=</operator> <name pos:start="27:11" pos:end="27:29"><name pos:start="27:11" pos:end="27:11">s</name><operator pos:start="27:12" pos:end="27:13">-&gt;</operator><name pos:start="27:14" pos:end="27:16">dsp</name><operator pos:start="27:17" pos:end="27:17">.</operator><name pos:start="27:18" pos:end="27:23">me_cmp</name><index pos:start="27:24" pos:end="27:29">[<expr pos:start="27:25" pos:end="27:28"><name pos:start="27:25" pos:end="27:28">size</name></expr>]</index></name></expr>;</expr_stmt>

    <expr_stmt pos:start="29:5" pos:end="29:39"><expr pos:start="29:5" pos:end="29:38"><name pos:start="29:5" pos:end="29:15">chroma_cmpf</name><operator pos:start="29:16" pos:end="29:16">=</operator> <name pos:start="29:18" pos:end="29:38"><name pos:start="29:18" pos:end="29:18">s</name><operator pos:start="29:19" pos:end="29:20">-&gt;</operator><name pos:start="29:21" pos:end="29:23">dsp</name><operator pos:start="29:24" pos:end="29:24">.</operator><name pos:start="29:25" pos:end="29:30">me_cmp</name><index pos:start="29:31" pos:end="29:38">[<expr pos:start="29:32" pos:end="29:37"><name pos:start="29:32" pos:end="29:35">size</name><operator pos:start="29:36" pos:end="29:36">+</operator><literal type="number" pos:start="29:37" pos:end="29:37">1</literal></expr>]</index></name></expr>;</expr_stmt>



    <for pos:start="33:5" pos:end="71:5">for<control pos:start="33:8" pos:end="33:34">(<init pos:start="33:9" pos:end="33:14"><expr pos:start="33:9" pos:end="33:13"><name pos:start="33:9" pos:end="33:9">j</name><operator pos:start="33:10" pos:end="33:10">=</operator><name pos:start="33:11" pos:end="33:11">i</name><operator pos:start="33:12" pos:end="33:12">=</operator><literal type="number" pos:start="33:13" pos:end="33:13">0</literal></expr>;</init> <condition pos:start="33:16" pos:end="33:29"><expr pos:start="33:16" pos:end="33:28"><name pos:start="33:16" pos:end="33:16">i</name><operator pos:start="33:17" pos:end="33:17">&lt;</operator><name pos:start="33:18" pos:end="33:28">ME_MAP_SIZE</name></expr>;</condition> <incr pos:start="33:31" pos:end="33:33"><expr pos:start="33:31" pos:end="33:33"><name pos:start="33:31" pos:end="33:31">i</name><operator pos:start="33:32" pos:end="33:33">++</operator></expr></incr>)</control><block pos:start="33:35" pos:end="71:5">{<block_content pos:start="35:9" pos:end="69:12">

        <decl_stmt pos:start="35:9" pos:end="35:29"><decl pos:start="35:9" pos:end="35:28"><type pos:start="35:9" pos:end="35:16"><name pos:start="35:9" pos:end="35:16">uint32_t</name></type> <name pos:start="35:18" pos:end="35:20">key</name><init pos:start="35:21" pos:end="35:28">= <expr pos:start="35:23" pos:end="35:28"><name pos:start="35:23" pos:end="35:28"><name pos:start="35:23" pos:end="35:25">map</name><index pos:start="35:26" pos:end="35:28">[<expr pos:start="35:27" pos:end="35:27"><name pos:start="35:27" pos:end="35:27">i</name></expr>]</index></name></expr></init></decl>;</decl_stmt>



        <expr_stmt pos:start="39:9" pos:end="39:67"><expr pos:start="39:9" pos:end="39:66"><name pos:start="39:9" pos:end="39:11">key</name> <operator pos:start="39:13" pos:end="39:14">+=</operator> <operator pos:start="39:16" pos:end="39:16">(</operator><literal type="number" pos:start="39:17" pos:end="39:17">1</literal><operator pos:start="39:18" pos:end="39:19">&lt;&lt;</operator><operator pos:start="39:20" pos:end="39:20">(</operator><name pos:start="39:21" pos:end="39:34">ME_MAP_MV_BITS</name><operator pos:start="39:35" pos:end="39:35">-</operator><literal type="number" pos:start="39:36" pos:end="39:36">1</literal><operator pos:start="39:37" pos:end="39:37">)</operator><operator pos:start="39:38" pos:end="39:38">)</operator> <operator pos:start="39:40" pos:end="39:40">+</operator> <operator pos:start="39:42" pos:end="39:42">(</operator><literal type="number" pos:start="39:43" pos:end="39:43">1</literal><operator pos:start="39:44" pos:end="39:45">&lt;&lt;</operator><operator pos:start="39:46" pos:end="39:46">(</operator><literal type="number" pos:start="39:47" pos:end="39:47">2</literal><operator pos:start="39:48" pos:end="39:48">*</operator><name pos:start="39:49" pos:end="39:62">ME_MAP_MV_BITS</name><operator pos:start="39:63" pos:end="39:63">-</operator><literal type="number" pos:start="39:64" pos:end="39:64">1</literal><operator pos:start="39:65" pos:end="39:65">)</operator><operator pos:start="39:66" pos:end="39:66">)</operator></expr>;</expr_stmt>



        <if_stmt pos:start="43:9" pos:end="43:72"><if pos:start="43:9" pos:end="43:72">if<condition pos:start="43:11" pos:end="43:62">(<expr pos:start="43:12" pos:end="43:61"><operator pos:start="43:12" pos:end="43:12">(</operator><name pos:start="43:13" pos:end="43:15">key</name><operator pos:start="43:16" pos:end="43:16">&amp;</operator><operator pos:start="43:17" pos:end="43:17">(</operator><operator pos:start="43:18" pos:end="43:18">(</operator><operator pos:start="43:19" pos:end="43:19">-</operator><literal type="number" pos:start="43:20" pos:end="43:20">1</literal><operator pos:start="43:21" pos:end="43:21">)</operator><operator pos:start="43:22" pos:end="43:23">&lt;&lt;</operator><operator pos:start="43:24" pos:end="43:24">(</operator><literal type="number" pos:start="43:25" pos:end="43:25">2</literal><operator pos:start="43:26" pos:end="43:26">*</operator><name pos:start="43:27" pos:end="43:40">ME_MAP_MV_BITS</name><operator pos:start="43:41" pos:end="43:41">)</operator><operator pos:start="43:42" pos:end="43:42">)</operator><operator pos:start="43:43" pos:end="43:43">)</operator> <operator pos:start="43:45" pos:end="43:46">!=</operator> <name pos:start="43:48" pos:end="43:61">map_generation</name></expr>)</condition><block type="pseudo" pos:start="43:64" pos:end="43:72"><block_content pos:start="43:64" pos:end="43:72"> <continue pos:start="43:64" pos:end="43:72">continue;</continue></block_content></block></if></if_stmt>



        <expr_stmt pos:start="47:9" pos:end="47:31"><expr pos:start="47:9" pos:end="47:30"><call pos:start="47:9" pos:end="47:30"><name pos:start="47:9" pos:end="47:14">assert</name><argument_list pos:start="47:15" pos:end="47:30">(<argument pos:start="47:16" pos:end="47:29"><expr pos:start="47:16" pos:end="47:29"><name pos:start="47:16" pos:end="47:16">j</name><operator pos:start="47:17" pos:end="47:17">&lt;</operator><name pos:start="47:18" pos:end="47:29">MAX_SAB_SIZE</name></expr></argument>)</argument_list></call></expr>;</expr_stmt> <comment type="line" pos:start="47:33" pos:end="47:62">//max j = number of predictors</comment>



        <expr_stmt pos:start="51:9" pos:end="51:39"><expr pos:start="51:9" pos:end="51:38"><name pos:start="51:9" pos:end="51:17"><name pos:start="51:9" pos:end="51:14">minima</name><index pos:start="51:15" pos:end="51:17">[<expr pos:start="51:16" pos:end="51:16"><name pos:start="51:16" pos:end="51:16">j</name></expr>]</index></name><operator pos:start="51:18" pos:end="51:18">.</operator><name pos:start="51:19" pos:end="51:24">height</name><operator pos:start="51:25" pos:end="51:25">=</operator> <name pos:start="51:27" pos:end="51:38"><name pos:start="51:27" pos:end="51:35">score_map</name><index pos:start="51:36" pos:end="51:38">[<expr pos:start="51:37" pos:end="51:37"><name pos:start="51:37" pos:end="51:37">i</name></expr>]</index></name></expr>;</expr_stmt>

        <expr_stmt pos:start="53:9" pos:end="53:51"><expr pos:start="53:9" pos:end="53:50"><name pos:start="53:9" pos:end="53:17"><name pos:start="53:9" pos:end="53:14">minima</name><index pos:start="53:15" pos:end="53:17">[<expr pos:start="53:16" pos:end="53:16"><name pos:start="53:16" pos:end="53:16">j</name></expr>]</index></name><operator pos:start="53:18" pos:end="53:18">.</operator><name pos:start="53:19" pos:end="53:19">x</name><operator pos:start="53:20" pos:end="53:20">=</operator> <name pos:start="53:22" pos:end="53:24">key</name> <operator pos:start="53:26" pos:end="53:26">&amp;</operator> <operator pos:start="53:28" pos:end="53:28">(</operator><operator pos:start="53:29" pos:end="53:29">(</operator><literal type="number" pos:start="53:30" pos:end="53:30">1</literal><operator pos:start="53:31" pos:end="53:32">&lt;&lt;</operator><name pos:start="53:33" pos:end="53:46">ME_MAP_MV_BITS</name><operator pos:start="53:47" pos:end="53:47">)</operator><operator pos:start="53:48" pos:end="53:48">-</operator><literal type="number" pos:start="53:49" pos:end="53:49">1</literal><operator pos:start="53:50" pos:end="53:50">)</operator></expr>;</expr_stmt> <expr_stmt pos:start="53:53" pos:end="53:73"><expr pos:start="53:53" pos:end="53:72"><name pos:start="53:53" pos:end="53:55">key</name><operator pos:start="53:56" pos:end="53:58">&gt;&gt;=</operator><name pos:start="53:59" pos:end="53:72">ME_MAP_MV_BITS</name></expr>;</expr_stmt>

        <expr_stmt pos:start="55:9" pos:end="55:51"><expr pos:start="55:9" pos:end="55:50"><name pos:start="55:9" pos:end="55:17"><name pos:start="55:9" pos:end="55:14">minima</name><index pos:start="55:15" pos:end="55:17">[<expr pos:start="55:16" pos:end="55:16"><name pos:start="55:16" pos:end="55:16">j</name></expr>]</index></name><operator pos:start="55:18" pos:end="55:18">.</operator><name pos:start="55:19" pos:end="55:19">y</name><operator pos:start="55:20" pos:end="55:20">=</operator> <name pos:start="55:22" pos:end="55:24">key</name> <operator pos:start="55:26" pos:end="55:26">&amp;</operator> <operator pos:start="55:28" pos:end="55:28">(</operator><operator pos:start="55:29" pos:end="55:29">(</operator><literal type="number" pos:start="55:30" pos:end="55:30">1</literal><operator pos:start="55:31" pos:end="55:32">&lt;&lt;</operator><name pos:start="55:33" pos:end="55:46">ME_MAP_MV_BITS</name><operator pos:start="55:47" pos:end="55:47">)</operator><operator pos:start="55:48" pos:end="55:48">-</operator><literal type="number" pos:start="55:49" pos:end="55:49">1</literal><operator pos:start="55:50" pos:end="55:50">)</operator></expr>;</expr_stmt>

        <expr_stmt pos:start="57:9" pos:end="57:46"><expr pos:start="57:9" pos:end="57:45"><name pos:start="57:9" pos:end="57:17"><name pos:start="57:9" pos:end="57:14">minima</name><index pos:start="57:15" pos:end="57:17">[<expr pos:start="57:16" pos:end="57:16"><name pos:start="57:16" pos:end="57:16">j</name></expr>]</index></name><operator pos:start="57:18" pos:end="57:18">.</operator><name pos:start="57:19" pos:end="57:19">x</name><operator pos:start="57:20" pos:end="57:21">-=</operator> <operator pos:start="57:23" pos:end="57:23">(</operator><literal type="number" pos:start="57:24" pos:end="57:24">1</literal><operator pos:start="57:25" pos:end="57:26">&lt;&lt;</operator><operator pos:start="57:27" pos:end="57:27">(</operator><name pos:start="57:28" pos:end="57:41">ME_MAP_MV_BITS</name><operator pos:start="57:42" pos:end="57:42">-</operator><literal type="number" pos:start="57:43" pos:end="57:43">1</literal><operator pos:start="57:44" pos:end="57:44">)</operator><operator pos:start="57:45" pos:end="57:45">)</operator></expr>;</expr_stmt>

        <expr_stmt pos:start="59:9" pos:end="59:46"><expr pos:start="59:9" pos:end="59:45"><name pos:start="59:9" pos:end="59:17"><name pos:start="59:9" pos:end="59:14">minima</name><index pos:start="59:15" pos:end="59:17">[<expr pos:start="59:16" pos:end="59:16"><name pos:start="59:16" pos:end="59:16">j</name></expr>]</index></name><operator pos:start="59:18" pos:end="59:18">.</operator><name pos:start="59:19" pos:end="59:19">y</name><operator pos:start="59:20" pos:end="59:21">-=</operator> <operator pos:start="59:23" pos:end="59:23">(</operator><literal type="number" pos:start="59:24" pos:end="59:24">1</literal><operator pos:start="59:25" pos:end="59:26">&lt;&lt;</operator><operator pos:start="59:27" pos:end="59:27">(</operator><name pos:start="59:28" pos:end="59:41">ME_MAP_MV_BITS</name><operator pos:start="59:42" pos:end="59:42">-</operator><literal type="number" pos:start="59:43" pos:end="59:43">1</literal><operator pos:start="59:44" pos:end="59:44">)</operator><operator pos:start="59:45" pos:end="59:45">)</operator></expr>;</expr_stmt>

        <expr_stmt pos:start="61:9" pos:end="61:28"><expr pos:start="61:9" pos:end="61:27"><name pos:start="61:9" pos:end="61:17"><name pos:start="61:9" pos:end="61:14">minima</name><index pos:start="61:15" pos:end="61:17">[<expr pos:start="61:16" pos:end="61:16"><name pos:start="61:16" pos:end="61:16">j</name></expr>]</index></name><operator pos:start="61:18" pos:end="61:18">.</operator><name pos:start="61:19" pos:end="61:25">checked</name><operator pos:start="61:26" pos:end="61:26">=</operator><literal type="number" pos:start="61:27" pos:end="61:27">0</literal></expr>;</expr_stmt>

        <if_stmt pos:start="63:9" pos:end="65:134"><if pos:start="63:9" pos:end="65:134">if<condition pos:start="63:11" pos:end="63:38">(<expr pos:start="63:12" pos:end="63:37"><name pos:start="63:12" pos:end="63:20"><name pos:start="63:12" pos:end="63:17">minima</name><index pos:start="63:18" pos:end="63:20">[<expr pos:start="63:19" pos:end="63:19"><name pos:start="63:19" pos:end="63:19">j</name></expr>]</index></name><operator pos:start="63:21" pos:end="63:21">.</operator><name pos:start="63:22" pos:end="63:22">x</name> <operator pos:start="63:24" pos:end="63:25">||</operator> <name pos:start="63:27" pos:end="63:35"><name pos:start="63:27" pos:end="63:32">minima</name><index pos:start="63:33" pos:end="63:35">[<expr pos:start="63:34" pos:end="63:34"><name pos:start="63:34" pos:end="63:34">j</name></expr>]</index></name><operator pos:start="63:36" pos:end="63:36">.</operator><name pos:start="63:37" pos:end="63:37">y</name></expr>)</condition><block type="pseudo" pos:start="65:13" pos:end="65:134"><block_content pos:start="65:13" pos:end="65:134">

            <expr_stmt pos:start="65:13" pos:end="65:134"><expr pos:start="65:13" pos:end="65:133"><name pos:start="65:13" pos:end="65:21"><name pos:start="65:13" pos:end="65:18">minima</name><index pos:start="65:19" pos:end="65:21">[<expr pos:start="65:20" pos:end="65:20"><name pos:start="65:20" pos:end="65:20">j</name></expr>]</index></name><operator pos:start="65:22" pos:end="65:22">.</operator><name pos:start="65:23" pos:end="65:28">height</name><operator pos:start="65:29" pos:end="65:30">+=</operator> <operator pos:start="65:32" pos:end="65:32">(</operator><name pos:start="65:33" pos:end="65:73"><name pos:start="65:33" pos:end="65:42">mv_penalty</name><index pos:start="65:43" pos:end="65:73">[<expr pos:start="65:44" pos:end="65:72"><operator pos:start="65:44" pos:end="65:44">(</operator><operator pos:start="65:45" pos:end="65:45">(</operator><name pos:start="65:46" pos:end="65:54"><name pos:start="65:46" pos:end="65:51">minima</name><index pos:start="65:52" pos:end="65:54">[<expr pos:start="65:53" pos:end="65:53"><name pos:start="65:53" pos:end="65:53">j</name></expr>]</index></name><operator pos:start="65:55" pos:end="65:55">.</operator><name pos:start="65:56" pos:end="65:56">x</name><operator pos:start="65:57" pos:end="65:57">)</operator><operator pos:start="65:58" pos:end="65:59">&lt;&lt;</operator><name pos:start="65:60" pos:end="65:64">shift</name><operator pos:start="65:65" pos:end="65:65">)</operator><operator pos:start="65:66" pos:end="65:66">-</operator><name pos:start="65:67" pos:end="65:72">pred_x</name></expr>]</index></name> <operator pos:start="65:75" pos:end="65:75">+</operator> <name pos:start="65:77" pos:end="65:117"><name pos:start="65:77" pos:end="65:86">mv_penalty</name><index pos:start="65:87" pos:end="65:117">[<expr pos:start="65:88" pos:end="65:116"><operator pos:start="65:88" pos:end="65:88">(</operator><operator pos:start="65:89" pos:end="65:89">(</operator><name pos:start="65:90" pos:end="65:98"><name pos:start="65:90" pos:end="65:95">minima</name><index pos:start="65:96" pos:end="65:98">[<expr pos:start="65:97" pos:end="65:97"><name pos:start="65:97" pos:end="65:97">j</name></expr>]</index></name><operator pos:start="65:99" pos:end="65:99">.</operator><name pos:start="65:100" pos:end="65:100">y</name><operator pos:start="65:101" pos:end="65:101">)</operator><operator pos:start="65:102" pos:end="65:103">&lt;&lt;</operator><name pos:start="65:104" pos:end="65:108">shift</name><operator pos:start="65:109" pos:end="65:109">)</operator><operator pos:start="65:110" pos:end="65:110">-</operator><name pos:start="65:111" pos:end="65:116">pred_y</name></expr>]</index></name><operator pos:start="65:118" pos:end="65:118">)</operator><operator pos:start="65:119" pos:end="65:119">*</operator><name pos:start="65:120" pos:end="65:133">penalty_factor</name></expr>;</expr_stmt></block_content></block></if></if_stmt>



        <expr_stmt pos:start="69:9" pos:end="69:12"><expr pos:start="69:9" pos:end="69:11"><name pos:start="69:9" pos:end="69:9">j</name><operator pos:start="69:10" pos:end="69:11">++</operator></expr>;</expr_stmt>

    </block_content>}</block></for>



    <expr_stmt pos:start="75:5" pos:end="75:49"><expr pos:start="75:5" pos:end="75:48"><call pos:start="75:5" pos:end="75:48"><name pos:start="75:5" pos:end="75:9">qsort</name><argument_list pos:start="75:10" pos:end="75:48">(<argument pos:start="75:11" pos:end="75:16"><expr pos:start="75:11" pos:end="75:16"><name pos:start="75:11" pos:end="75:16">minima</name></expr></argument>, <argument pos:start="75:19" pos:end="75:19"><expr pos:start="75:19" pos:end="75:19"><name pos:start="75:19" pos:end="75:19">j</name></expr></argument>, <argument pos:start="75:22" pos:end="75:35"><expr pos:start="75:22" pos:end="75:35"><sizeof pos:start="75:22" pos:end="75:35">sizeof<argument_list pos:start="75:28" pos:end="75:35">(<argument pos:start="75:29" pos:end="75:34"><expr pos:start="75:29" pos:end="75:34"><name pos:start="75:29" pos:end="75:34">Minima</name></expr></argument>)</argument_list></sizeof></expr></argument>, <argument pos:start="75:38" pos:end="75:47"><expr pos:start="75:38" pos:end="75:47"><name pos:start="75:38" pos:end="75:47">minima_cmp</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <for pos:start="79:5" pos:end="87:5">for<control pos:start="79:8" pos:end="79:30">(<init pos:start="79:9" pos:end="79:9">;</init> <condition pos:start="79:11" pos:end="79:25"><expr pos:start="79:11" pos:end="79:24"><name pos:start="79:11" pos:end="79:11">j</name><operator pos:start="79:12" pos:end="79:12">&lt;</operator><name pos:start="79:13" pos:end="79:24">minima_count</name></expr>;</condition> <incr pos:start="79:27" pos:end="79:29"><expr pos:start="79:27" pos:end="79:29"><name pos:start="79:27" pos:end="79:27">j</name><operator pos:start="79:28" pos:end="79:29">++</operator></expr></incr>)</control><block pos:start="79:31" pos:end="87:5">{<block_content pos:start="81:9" pos:end="85:35">

        <expr_stmt pos:start="81:9" pos:end="81:40"><expr pos:start="81:9" pos:end="81:39"><name pos:start="81:9" pos:end="81:17"><name pos:start="81:9" pos:end="81:14">minima</name><index pos:start="81:15" pos:end="81:17">[<expr pos:start="81:16" pos:end="81:16"><name pos:start="81:16" pos:end="81:16">j</name></expr>]</index></name><operator pos:start="81:18" pos:end="81:18">.</operator><name pos:start="81:19" pos:end="81:24">height</name><operator pos:start="81:25" pos:end="81:25">=</operator><literal type="number" pos:start="81:26" pos:end="81:28">256</literal><operator pos:start="81:29" pos:end="81:29">*</operator><literal type="number" pos:start="81:30" pos:end="81:32">256</literal><operator pos:start="81:33" pos:end="81:33">*</operator><literal type="number" pos:start="81:34" pos:end="81:36">256</literal><operator pos:start="81:37" pos:end="81:37">*</operator><literal type="number" pos:start="81:38" pos:end="81:39">64</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="83:9" pos:end="83:28"><expr pos:start="83:9" pos:end="83:27"><name pos:start="83:9" pos:end="83:17"><name pos:start="83:9" pos:end="83:14">minima</name><index pos:start="83:15" pos:end="83:17">[<expr pos:start="83:16" pos:end="83:16"><name pos:start="83:16" pos:end="83:16">j</name></expr>]</index></name><operator pos:start="83:18" pos:end="83:18">.</operator><name pos:start="83:19" pos:end="83:25">checked</name><operator pos:start="83:26" pos:end="83:26">=</operator><literal type="number" pos:start="83:27" pos:end="83:27">0</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="85:9" pos:end="85:35"><expr pos:start="85:9" pos:end="85:34"><name pos:start="85:9" pos:end="85:17"><name pos:start="85:9" pos:end="85:14">minima</name><index pos:start="85:15" pos:end="85:17">[<expr pos:start="85:16" pos:end="85:16"><name pos:start="85:16" pos:end="85:16">j</name></expr>]</index></name><operator pos:start="85:18" pos:end="85:18">.</operator><name pos:start="85:19" pos:end="85:19">x</name><operator pos:start="85:20" pos:end="85:20">=</operator> <name pos:start="85:22" pos:end="85:30"><name pos:start="85:22" pos:end="85:27">minima</name><index pos:start="85:28" pos:end="85:30">[<expr pos:start="85:29" pos:end="85:29"><name pos:start="85:29" pos:end="85:29">j</name></expr>]</index></name><operator pos:start="85:31" pos:end="85:31">.</operator><name pos:start="85:32" pos:end="85:32">y</name><operator pos:start="85:33" pos:end="85:33">=</operator><literal type="number" pos:start="85:34" pos:end="85:34">0</literal></expr>;</expr_stmt>

    </block_content>}</block></for>



    <for pos:start="91:5" pos:end="125:5">for<control pos:start="91:8" pos:end="91:33">(<init pos:start="91:9" pos:end="91:12"><expr pos:start="91:9" pos:end="91:11"><name pos:start="91:9" pos:end="91:9">i</name><operator pos:start="91:10" pos:end="91:10">=</operator><literal type="number" pos:start="91:11" pos:end="91:11">0</literal></expr>;</init> <condition pos:start="91:14" pos:end="91:28"><expr pos:start="91:14" pos:end="91:27"><name pos:start="91:14" pos:end="91:14">i</name><operator pos:start="91:15" pos:end="91:15">&lt;</operator><name pos:start="91:16" pos:end="91:27">minima_count</name></expr>;</condition> <incr pos:start="91:30" pos:end="91:32"><expr pos:start="91:30" pos:end="91:32"><name pos:start="91:30" pos:end="91:30">i</name><operator pos:start="91:31" pos:end="91:32">++</operator></expr></incr>)</control><block pos:start="91:34" pos:end="125:5">{<block_content pos:start="93:9" pos:end="123:29">

        <decl_stmt pos:start="93:9" pos:end="93:33"><decl pos:start="93:9" pos:end="93:32"><type pos:start="93:9" pos:end="93:17"><specifier pos:start="93:9" pos:end="93:13">const</specifier> <name pos:start="93:15" pos:end="93:17">int</name></type> <name pos:start="93:19" pos:end="93:19">x</name><init pos:start="93:20" pos:end="93:32">= <expr pos:start="93:22" pos:end="93:32"><name pos:start="93:22" pos:end="93:30"><name pos:start="93:22" pos:end="93:27">minima</name><index pos:start="93:28" pos:end="93:30">[<expr pos:start="93:29" pos:end="93:29"><name pos:start="93:29" pos:end="93:29">i</name></expr>]</index></name><operator pos:start="93:31" pos:end="93:31">.</operator><name pos:start="93:32" pos:end="93:32">x</name></expr></init></decl>;</decl_stmt>

        <decl_stmt pos:start="95:9" pos:end="95:33"><decl pos:start="95:9" pos:end="95:32"><type pos:start="95:9" pos:end="95:17"><specifier pos:start="95:9" pos:end="95:13">const</specifier> <name pos:start="95:15" pos:end="95:17">int</name></type> <name pos:start="95:19" pos:end="95:19">y</name><init pos:start="95:20" pos:end="95:32">= <expr pos:start="95:22" pos:end="95:32"><name pos:start="95:22" pos:end="95:30"><name pos:start="95:22" pos:end="95:27">minima</name><index pos:start="95:28" pos:end="95:30">[<expr pos:start="95:29" pos:end="95:29"><name pos:start="95:29" pos:end="95:29">i</name></expr>]</index></name><operator pos:start="95:31" pos:end="95:31">.</operator><name pos:start="95:32" pos:end="95:32">y</name></expr></init></decl>;</decl_stmt>

        <decl_stmt pos:start="97:9" pos:end="97:14"><decl pos:start="97:9" pos:end="97:13"><type pos:start="97:9" pos:end="97:11"><name pos:start="97:9" pos:end="97:11">int</name></type> <name pos:start="97:13" pos:end="97:13">d</name></decl>;</decl_stmt>



        <if_stmt pos:start="101:9" pos:end="101:39"><if pos:start="101:9" pos:end="101:39">if<condition pos:start="101:11" pos:end="101:29">(<expr pos:start="101:12" pos:end="101:28"><name pos:start="101:12" pos:end="101:20"><name pos:start="101:12" pos:end="101:17">minima</name><index pos:start="101:18" pos:end="101:20">[<expr pos:start="101:19" pos:end="101:19"><name pos:start="101:19" pos:end="101:19">i</name></expr>]</index></name><operator pos:start="101:21" pos:end="101:21">.</operator><name pos:start="101:22" pos:end="101:28">checked</name></expr>)</condition><block type="pseudo" pos:start="101:31" pos:end="101:39"><block_content pos:start="101:31" pos:end="101:39"> <continue pos:start="101:31" pos:end="101:39">continue;</continue></block_content></block></if></if_stmt>



        <if_stmt pos:start="105:9" pos:end="109:20"><if pos:start="105:9" pos:end="109:20">if<condition pos:start="105:11" pos:end="107:37">(   <expr pos:start="105:15" pos:end="107:36"><name pos:start="105:15" pos:end="105:15">x</name> <operator pos:start="105:17" pos:end="105:18">&gt;=</operator> <name pos:start="105:20" pos:end="105:23">xmax</name> <operator pos:start="105:25" pos:end="105:26">||</operator> <name pos:start="105:28" pos:end="105:28">x</name> <operator pos:start="105:30" pos:end="105:31">&lt;=</operator> <name pos:start="105:33" pos:end="105:36">xmin</name>

           <operator pos:start="107:12" pos:end="107:13">||</operator> <name pos:start="107:15" pos:end="107:15">y</name> <operator pos:start="107:17" pos:end="107:18">&gt;=</operator> <name pos:start="107:20" pos:end="107:23">ymax</name> <operator pos:start="107:25" pos:end="107:26">||</operator> <name pos:start="107:28" pos:end="107:28">y</name> <operator pos:start="107:30" pos:end="107:31">&lt;=</operator> <name pos:start="107:33" pos:end="107:36">ymin</name></expr>)</condition><block type="pseudo" pos:start="109:12" pos:end="109:20"><block_content pos:start="109:12" pos:end="109:20">

           <continue pos:start="109:12" pos:end="109:20">continue;</continue></block_content></block></if></if_stmt>



        <macro pos:start="113:9" pos:end="113:28"><name pos:start="113:9" pos:end="113:20">SAB_CHECK_MV</name><argument_list pos:start="113:21" pos:end="113:28">(<argument pos:start="113:22" pos:end="113:24">x-<literal type="number" pos:start="113:24" pos:end="113:24">1</literal></argument>, <argument pos:start="113:27" pos:end="113:27">y</argument>)</argument_list></macro>

        <macro pos:start="115:9" pos:end="115:28"><name pos:start="115:9" pos:end="115:20">SAB_CHECK_MV</name><argument_list pos:start="115:21" pos:end="115:28">(<argument pos:start="115:22" pos:end="115:24">x+<literal type="number" pos:start="115:24" pos:end="115:24">1</literal></argument>, <argument pos:start="115:27" pos:end="115:27">y</argument>)</argument_list></macro>

        <macro pos:start="117:9" pos:end="117:30"><name pos:start="117:9" pos:end="117:20">SAB_CHECK_MV</name><argument_list pos:start="117:21" pos:end="117:30">(<argument pos:start="117:22" pos:end="117:22">x</argument>  , <argument pos:start="117:27" pos:end="117:29">y-<literal type="number" pos:start="117:29" pos:end="117:29">1</literal></argument>)</argument_list></macro>

        <macro pos:start="119:9" pos:end="119:30"><name pos:start="119:9" pos:end="119:20">SAB_CHECK_MV</name><argument_list pos:start="119:21" pos:end="119:30">(<argument pos:start="119:22" pos:end="119:22">x</argument>  , <argument pos:start="119:27" pos:end="119:29">y+<literal type="number" pos:start="119:29" pos:end="119:29">1</literal></argument>)</argument_list></macro>



        <expr_stmt pos:start="123:9" pos:end="123:29"><expr pos:start="123:9" pos:end="123:28"><name pos:start="123:9" pos:end="123:17"><name pos:start="123:9" pos:end="123:14">minima</name><index pos:start="123:15" pos:end="123:17">[<expr pos:start="123:16" pos:end="123:16"><name pos:start="123:16" pos:end="123:16">i</name></expr>]</index></name><operator pos:start="123:18" pos:end="123:18">.</operator><name pos:start="123:19" pos:end="123:25">checked</name><operator pos:start="123:26" pos:end="123:26">=</operator> <literal type="number" pos:start="123:28" pos:end="123:28">1</literal></expr>;</expr_stmt>

    </block_content>}</block></for>



    <expr_stmt pos:start="129:5" pos:end="129:25"><expr pos:start="129:5" pos:end="129:24"><name pos:start="129:5" pos:end="129:11"><name pos:start="129:5" pos:end="129:8">best</name><index pos:start="129:9" pos:end="129:11">[<expr pos:start="129:10" pos:end="129:10"><literal type="number" pos:start="129:10" pos:end="129:10">0</literal></expr>]</index></name><operator pos:start="129:12" pos:end="129:12">=</operator> <name pos:start="129:14" pos:end="129:22"><name pos:start="129:14" pos:end="129:19">minima</name><index pos:start="129:20" pos:end="129:22">[<expr pos:start="129:21" pos:end="129:21"><literal type="number" pos:start="129:21" pos:end="129:21">0</literal></expr>]</index></name><operator pos:start="129:23" pos:end="129:23">.</operator><name pos:start="129:24" pos:end="129:24">x</name></expr>;</expr_stmt>

    <expr_stmt pos:start="131:5" pos:end="131:25"><expr pos:start="131:5" pos:end="131:24"><name pos:start="131:5" pos:end="131:11"><name pos:start="131:5" pos:end="131:8">best</name><index pos:start="131:9" pos:end="131:11">[<expr pos:start="131:10" pos:end="131:10"><literal type="number" pos:start="131:10" pos:end="131:10">1</literal></expr>]</index></name><operator pos:start="131:12" pos:end="131:12">=</operator> <name pos:start="131:14" pos:end="131:22"><name pos:start="131:14" pos:end="131:19">minima</name><index pos:start="131:20" pos:end="131:22">[<expr pos:start="131:21" pos:end="131:21"><literal type="number" pos:start="131:21" pos:end="131:21">0</literal></expr>]</index></name><operator pos:start="131:23" pos:end="131:23">.</operator><name pos:start="131:24" pos:end="131:24">y</name></expr>;</expr_stmt>

    <expr_stmt pos:start="133:5" pos:end="133:27"><expr pos:start="133:5" pos:end="133:26"><name pos:start="133:5" pos:end="133:8">dmin</name><operator pos:start="133:9" pos:end="133:9">=</operator> <name pos:start="133:11" pos:end="133:19"><name pos:start="133:11" pos:end="133:16">minima</name><index pos:start="133:17" pos:end="133:19">[<expr pos:start="133:18" pos:end="133:18"><literal type="number" pos:start="133:18" pos:end="133:18">0</literal></expr>]</index></name><operator pos:start="133:20" pos:end="133:20">.</operator><name pos:start="133:21" pos:end="133:26">height</name></expr>;</expr_stmt>



    <if_stmt pos:start="137:5" pos:end="153:5"><if pos:start="137:5" pos:end="153:5">if<condition pos:start="137:7" pos:end="139:43">(   <expr pos:start="137:11" pos:end="139:42"><name pos:start="137:11" pos:end="137:17"><name pos:start="137:11" pos:end="137:14">best</name><index pos:start="137:15" pos:end="137:17">[<expr pos:start="137:16" pos:end="137:16"><literal type="number" pos:start="137:16" pos:end="137:16">0</literal></expr>]</index></name> <operator pos:start="137:19" pos:end="137:19">&lt;</operator> <name pos:start="137:21" pos:end="137:24">xmax</name> <operator pos:start="137:26" pos:end="137:27">&amp;&amp;</operator> <name pos:start="137:29" pos:end="137:35"><name pos:start="137:29" pos:end="137:32">best</name><index pos:start="137:33" pos:end="137:35">[<expr pos:start="137:34" pos:end="137:34"><literal type="number" pos:start="137:34" pos:end="137:34">0</literal></expr>]</index></name> <operator pos:start="137:37" pos:end="137:37">&gt;</operator> <name pos:start="137:39" pos:end="137:42">xmin</name>

       <operator pos:start="139:8" pos:end="139:9">&amp;&amp;</operator> <name pos:start="139:11" pos:end="139:17"><name pos:start="139:11" pos:end="139:14">best</name><index pos:start="139:15" pos:end="139:17">[<expr pos:start="139:16" pos:end="139:16"><literal type="number" pos:start="139:16" pos:end="139:16">1</literal></expr>]</index></name> <operator pos:start="139:19" pos:end="139:19">&lt;</operator> <name pos:start="139:21" pos:end="139:24">ymax</name> <operator pos:start="139:26" pos:end="139:27">&amp;&amp;</operator> <name pos:start="139:29" pos:end="139:35"><name pos:start="139:29" pos:end="139:32">best</name><index pos:start="139:33" pos:end="139:35">[<expr pos:start="139:34" pos:end="139:34"><literal type="number" pos:start="139:34" pos:end="139:34">1</literal></expr>]</index></name> <operator pos:start="139:37" pos:end="139:37">&gt;</operator> <name pos:start="139:39" pos:end="139:42">ymin</name></expr>)</condition><block pos:start="139:44" pos:end="153:5">{<block_content pos:start="141:9" pos:end="151:36">

        <decl_stmt pos:start="141:9" pos:end="141:14"><decl pos:start="141:9" pos:end="141:13"><type pos:start="141:9" pos:end="141:11"><name pos:start="141:9" pos:end="141:11">int</name></type> <name pos:start="141:13" pos:end="141:13">d</name></decl>;</decl_stmt>

        <comment type="line" pos:start="143:9" pos:end="143:78">//ensure that the refernece samples for hpel refinement are in the map</comment>

        <macro pos:start="145:9" pos:end="145:36"><name pos:start="145:9" pos:end="145:16">CHECK_MV</name><argument_list pos:start="145:17" pos:end="145:36">(<argument pos:start="145:18" pos:end="145:26">best[<literal type="number" pos:start="145:23" pos:end="145:23">0</literal>]-<literal type="number" pos:start="145:26" pos:end="145:26">1</literal></argument>, <argument pos:start="145:29" pos:end="145:35">best[<literal type="number" pos:start="145:34" pos:end="145:34">1</literal>]</argument>)</argument_list></macro>

        <macro pos:start="147:9" pos:end="147:36"><name pos:start="147:9" pos:end="147:16">CHECK_MV</name><argument_list pos:start="147:17" pos:end="147:36">(<argument pos:start="147:18" pos:end="147:26">best[<literal type="number" pos:start="147:23" pos:end="147:23">0</literal>]+<literal type="number" pos:start="147:26" pos:end="147:26">1</literal></argument>, <argument pos:start="147:29" pos:end="147:35">best[<literal type="number" pos:start="147:34" pos:end="147:34">1</literal>]</argument>)</argument_list></macro>

        <macro pos:start="149:9" pos:end="149:36"><name pos:start="149:9" pos:end="149:16">CHECK_MV</name><argument_list pos:start="149:17" pos:end="149:36">(<argument pos:start="149:18" pos:end="149:24">best[<literal type="number" pos:start="149:23" pos:end="149:23">0</literal>]</argument>, <argument pos:start="149:27" pos:end="149:35">best[<literal type="number" pos:start="149:32" pos:end="149:32">1</literal>]-<literal type="number" pos:start="149:35" pos:end="149:35">1</literal></argument>)</argument_list></macro>

        <macro pos:start="151:9" pos:end="151:36"><name pos:start="151:9" pos:end="151:16">CHECK_MV</name><argument_list pos:start="151:17" pos:end="151:36">(<argument pos:start="151:18" pos:end="151:24">best[<literal type="number" pos:start="151:23" pos:end="151:23">0</literal>]</argument>, <argument pos:start="151:27" pos:end="151:35">best[<literal type="number" pos:start="151:32" pos:end="151:32">1</literal>]+<literal type="number" pos:start="151:35" pos:end="151:35">1</literal></argument>)</argument_list></macro>

    </block_content>}</block></if></if_stmt>

    <return pos:start="155:5" pos:end="155:16">return <expr pos:start="155:12" pos:end="155:15"><name pos:start="155:12" pos:end="155:15">dmin</name></expr>;</return>

</block_content>}</block></function>
</unit>
