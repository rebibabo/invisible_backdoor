<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/8062.c" pos:tabs="8"><function pos:start="1:1" pos:end="145:1"><type pos:start="1:1" pos:end="1:10"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:10">int</name></type> <name pos:start="1:12" pos:end="1:21">find_pte64</name><parameter_list pos:start="1:22" pos:end="3:61">(<parameter pos:start="1:23" pos:end="1:38"><decl pos:start="1:23" pos:end="1:38"><type pos:start="1:23" pos:end="1:38"><name pos:start="1:23" pos:end="1:33">CPUPPCState</name> <modifier pos:start="1:35" pos:end="1:35">*</modifier></type><name pos:start="1:36" pos:end="1:38">env</name></decl></parameter>, <parameter pos:start="1:41" pos:end="1:54"><decl pos:start="1:41" pos:end="1:54"><type pos:start="1:41" pos:end="1:54"><name pos:start="1:41" pos:end="1:49">mmu_ctx_t</name> <modifier pos:start="1:51" pos:end="1:51">*</modifier></type><name pos:start="1:52" pos:end="1:54">ctx</name></decl></parameter>, <parameter pos:start="1:57" pos:end="1:61"><decl pos:start="1:57" pos:end="1:61"><type pos:start="1:57" pos:end="1:61"><name pos:start="1:57" pos:end="1:59">int</name></type> <name pos:start="1:61" pos:end="1:61">h</name></decl></parameter>,

                      <parameter pos:start="3:23" pos:end="3:28"><decl pos:start="3:23" pos:end="3:28"><type pos:start="3:23" pos:end="3:28"><name pos:start="3:23" pos:end="3:25">int</name></type> <name pos:start="3:27" pos:end="3:28">rw</name></decl></parameter>, <parameter pos:start="3:31" pos:end="3:38"><decl pos:start="3:31" pos:end="3:38"><type pos:start="3:31" pos:end="3:38"><name pos:start="3:31" pos:end="3:33">int</name></type> <name pos:start="3:35" pos:end="3:38">type</name></decl></parameter>, <parameter pos:start="3:41" pos:end="3:60"><decl pos:start="3:41" pos:end="3:60"><type pos:start="3:41" pos:end="3:60"><name pos:start="3:41" pos:end="3:43">int</name></type> <name pos:start="3:45" pos:end="3:60">target_page_bits</name></decl></parameter>)</parameter_list>

<block pos:start="5:1" pos:end="145:1">{<block_content pos:start="7:5" pos:end="143:15">

    <decl_stmt pos:start="7:5" pos:end="7:20"><decl pos:start="7:5" pos:end="7:19"><type pos:start="7:5" pos:end="7:10"><name pos:start="7:5" pos:end="7:10">hwaddr</name></type> <name pos:start="7:12" pos:end="7:19">pteg_off</name></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:28"><decl pos:start="9:5" pos:end="9:21"><type pos:start="9:5" pos:end="9:16"><name pos:start="9:5" pos:end="9:16">target_ulong</name></type> <name pos:start="9:18" pos:end="9:21">pte0</name></decl>, <decl pos:start="9:24" pos:end="9:27"><type ref="prev" pos:start="9:5" pos:end="9:16"/><name pos:start="9:24" pos:end="9:27">pte1</name></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:21"><decl pos:start="11:5" pos:end="11:9"><type pos:start="11:5" pos:end="11:7"><name pos:start="11:5" pos:end="11:7">int</name></type> <name pos:start="11:9" pos:end="11:9">i</name></decl>, <decl pos:start="11:12" pos:end="11:20"><type ref="prev" pos:start="11:5" pos:end="11:7"/><name pos:start="11:12" pos:end="11:15">good</name> <init pos:start="11:17" pos:end="11:20">= <expr pos:start="11:19" pos:end="11:20"><operator pos:start="11:19" pos:end="11:19">-</operator><literal type="number" pos:start="11:20" pos:end="11:20">1</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:15"><decl pos:start="13:5" pos:end="13:11"><type pos:start="13:5" pos:end="13:7"><name pos:start="13:5" pos:end="13:7">int</name></type> <name pos:start="13:9" pos:end="13:11">ret</name></decl>, <decl pos:start="13:14" pos:end="13:14"><type ref="prev" pos:start="13:5" pos:end="13:7"/><name pos:start="13:14" pos:end="13:14">r</name></decl>;</decl_stmt>



    <expr_stmt pos:start="17:5" pos:end="17:13"><expr pos:start="17:5" pos:end="17:12"><name pos:start="17:5" pos:end="17:7">ret</name> <operator pos:start="17:9" pos:end="17:9">=</operator> <operator pos:start="17:11" pos:end="17:11">-</operator><literal type="number" pos:start="17:12" pos:end="17:12">1</literal></expr>;</expr_stmt> <comment type="block" pos:start="17:15" pos:end="17:34">/* No entry found */</comment>

    <expr_stmt pos:start="19:5" pos:end="19:68"><expr pos:start="19:5" pos:end="19:67"><name pos:start="19:5" pos:end="19:12">pteg_off</name> <operator pos:start="19:14" pos:end="19:14">=</operator> <call pos:start="19:16" pos:end="19:67"><name pos:start="19:16" pos:end="19:30">get_pteg_offset</name><argument_list pos:start="19:31" pos:end="19:67">(<argument pos:start="19:32" pos:end="19:34"><expr pos:start="19:32" pos:end="19:34"><name pos:start="19:32" pos:end="19:34">env</name></expr></argument>, <argument pos:start="19:37" pos:end="19:48"><expr pos:start="19:37" pos:end="19:48"><name pos:start="19:37" pos:end="19:48"><name pos:start="19:37" pos:end="19:39">ctx</name><operator pos:start="19:40" pos:end="19:41">-&gt;</operator><name pos:start="19:42" pos:end="19:45">hash</name><index pos:start="19:46" pos:end="19:48">[<expr pos:start="19:47" pos:end="19:47"><name pos:start="19:47" pos:end="19:47">h</name></expr>]</index></name></expr></argument>, <argument pos:start="19:51" pos:end="19:66"><expr pos:start="19:51" pos:end="19:66"><name pos:start="19:51" pos:end="19:66">HASH_PTE_SIZE_64</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <for pos:start="21:5" pos:end="95:5">for <control pos:start="21:9" pos:end="21:27">(<init pos:start="21:10" pos:end="21:15"><expr pos:start="21:10" pos:end="21:14"><name pos:start="21:10" pos:end="21:10">i</name> <operator pos:start="21:12" pos:end="21:12">=</operator> <literal type="number" pos:start="21:14" pos:end="21:14">0</literal></expr>;</init> <condition pos:start="21:17" pos:end="21:22"><expr pos:start="21:17" pos:end="21:21"><name pos:start="21:17" pos:end="21:17">i</name> <operator pos:start="21:19" pos:end="21:19">&lt;</operator> <literal type="number" pos:start="21:21" pos:end="21:21">8</literal></expr>;</condition> <incr pos:start="21:24" pos:end="21:26"><expr pos:start="21:24" pos:end="21:26"><name pos:start="21:24" pos:end="21:24">i</name><operator pos:start="21:25" pos:end="21:26">++</operator></expr></incr>)</control> <block pos:start="21:29" pos:end="95:5">{<block_content pos:start="23:9" pos:end="93:9">

        <if_stmt pos:start="23:9" pos:end="35:9"><if pos:start="23:9" pos:end="29:9">if <condition pos:start="23:12" pos:end="23:31">(<expr pos:start="23:13" pos:end="23:30"><name pos:start="23:13" pos:end="23:30"><name pos:start="23:13" pos:end="23:15">env</name><operator pos:start="23:16" pos:end="23:17">-&gt;</operator><name pos:start="23:18" pos:end="23:30">external_htab</name></name></expr>)</condition> <block pos:start="23:33" pos:end="29:9">{<block_content pos:start="25:13" pos:end="27:71">

            <expr_stmt pos:start="25:13" pos:end="25:67"><expr pos:start="25:13" pos:end="25:66"><name pos:start="25:13" pos:end="25:16">pte0</name> <operator pos:start="25:18" pos:end="25:18">=</operator> <call pos:start="25:20" pos:end="25:66"><name pos:start="25:20" pos:end="25:24">ldq_p</name><argument_list pos:start="25:25" pos:end="25:66">(<argument pos:start="25:26" pos:end="25:65"><expr pos:start="25:26" pos:end="25:65"><name pos:start="25:26" pos:end="25:43"><name pos:start="25:26" pos:end="25:28">env</name><operator pos:start="25:29" pos:end="25:30">-&gt;</operator><name pos:start="25:31" pos:end="25:43">external_htab</name></name> <operator pos:start="25:45" pos:end="25:45">+</operator> <name pos:start="25:47" pos:end="25:54">pteg_off</name> <operator pos:start="25:56" pos:end="25:56">+</operator> <operator pos:start="25:58" pos:end="25:58">(</operator><name pos:start="25:59" pos:end="25:59">i</name> <operator pos:start="25:61" pos:end="25:61">*</operator> <literal type="number" pos:start="25:63" pos:end="25:64">16</literal><operator pos:start="25:65" pos:end="25:65">)</operator></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="27:13" pos:end="27:71"><expr pos:start="27:13" pos:end="27:70"><name pos:start="27:13" pos:end="27:16">pte1</name> <operator pos:start="27:18" pos:end="27:18">=</operator> <call pos:start="27:20" pos:end="27:70"><name pos:start="27:20" pos:end="27:24">ldq_p</name><argument_list pos:start="27:25" pos:end="27:70">(<argument pos:start="27:26" pos:end="27:69"><expr pos:start="27:26" pos:end="27:69"><name pos:start="27:26" pos:end="27:43"><name pos:start="27:26" pos:end="27:28">env</name><operator pos:start="27:29" pos:end="27:30">-&gt;</operator><name pos:start="27:31" pos:end="27:43">external_htab</name></name> <operator pos:start="27:45" pos:end="27:45">+</operator> <name pos:start="27:47" pos:end="27:54">pteg_off</name> <operator pos:start="27:56" pos:end="27:56">+</operator> <operator pos:start="27:58" pos:end="27:58">(</operator><name pos:start="27:59" pos:end="27:59">i</name> <operator pos:start="27:61" pos:end="27:61">*</operator> <literal type="number" pos:start="27:63" pos:end="27:64">16</literal><operator pos:start="27:65" pos:end="27:65">)</operator> <operator pos:start="27:67" pos:end="27:67">+</operator> <literal type="number" pos:start="27:69" pos:end="27:69">8</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></if> <else pos:start="29:11" pos:end="35:9">else <block pos:start="29:16" pos:end="35:9">{<block_content pos:start="31:13" pos:end="33:70">

            <expr_stmt pos:start="31:13" pos:end="31:66"><expr pos:start="31:13" pos:end="31:65"><name pos:start="31:13" pos:end="31:16">pte0</name> <operator pos:start="31:18" pos:end="31:18">=</operator> <call pos:start="31:20" pos:end="31:65"><name pos:start="31:20" pos:end="31:27">ldq_phys</name><argument_list pos:start="31:28" pos:end="31:65">(<argument pos:start="31:29" pos:end="31:64"><expr pos:start="31:29" pos:end="31:64"><name pos:start="31:29" pos:end="31:42"><name pos:start="31:29" pos:end="31:31">env</name><operator pos:start="31:32" pos:end="31:33">-&gt;</operator><name pos:start="31:34" pos:end="31:42">htab_base</name></name> <operator pos:start="31:44" pos:end="31:44">+</operator> <name pos:start="31:46" pos:end="31:53">pteg_off</name> <operator pos:start="31:55" pos:end="31:55">+</operator> <operator pos:start="31:57" pos:end="31:57">(</operator><name pos:start="31:58" pos:end="31:58">i</name> <operator pos:start="31:60" pos:end="31:60">*</operator> <literal type="number" pos:start="31:62" pos:end="31:63">16</literal><operator pos:start="31:64" pos:end="31:64">)</operator></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="33:13" pos:end="33:70"><expr pos:start="33:13" pos:end="33:69"><name pos:start="33:13" pos:end="33:16">pte1</name> <operator pos:start="33:18" pos:end="33:18">=</operator> <call pos:start="33:20" pos:end="33:69"><name pos:start="33:20" pos:end="33:27">ldq_phys</name><argument_list pos:start="33:28" pos:end="33:69">(<argument pos:start="33:29" pos:end="33:68"><expr pos:start="33:29" pos:end="33:68"><name pos:start="33:29" pos:end="33:42"><name pos:start="33:29" pos:end="33:31">env</name><operator pos:start="33:32" pos:end="33:33">-&gt;</operator><name pos:start="33:34" pos:end="33:42">htab_base</name></name> <operator pos:start="33:44" pos:end="33:44">+</operator> <name pos:start="33:46" pos:end="33:53">pteg_off</name> <operator pos:start="33:55" pos:end="33:55">+</operator> <operator pos:start="33:57" pos:end="33:57">(</operator><name pos:start="33:58" pos:end="33:58">i</name> <operator pos:start="33:60" pos:end="33:60">*</operator> <literal type="number" pos:start="33:62" pos:end="33:63">16</literal><operator pos:start="33:64" pos:end="33:64">)</operator> <operator pos:start="33:66" pos:end="33:66">+</operator> <literal type="number" pos:start="33:68" pos:end="33:68">8</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></else></if_stmt>



        <expr_stmt pos:start="39:9" pos:end="39:54"><expr pos:start="39:9" pos:end="39:53"><name pos:start="39:9" pos:end="39:9">r</name> <operator pos:start="39:11" pos:end="39:11">=</operator> <call pos:start="39:13" pos:end="39:53"><name pos:start="39:13" pos:end="39:23">pte64_check</name><argument_list pos:start="39:24" pos:end="39:53">(<argument pos:start="39:25" pos:end="39:27"><expr pos:start="39:25" pos:end="39:27"><name pos:start="39:25" pos:end="39:27">ctx</name></expr></argument>, <argument pos:start="39:30" pos:end="39:33"><expr pos:start="39:30" pos:end="39:33"><name pos:start="39:30" pos:end="39:33">pte0</name></expr></argument>, <argument pos:start="39:36" pos:end="39:39"><expr pos:start="39:36" pos:end="39:39"><name pos:start="39:36" pos:end="39:39">pte1</name></expr></argument>, <argument pos:start="39:42" pos:end="39:42"><expr pos:start="39:42" pos:end="39:42"><name pos:start="39:42" pos:end="39:42">h</name></expr></argument>, <argument pos:start="39:45" pos:end="39:46"><expr pos:start="39:45" pos:end="39:46"><name pos:start="39:45" pos:end="39:46">rw</name></expr></argument>, <argument pos:start="39:49" pos:end="39:52"><expr pos:start="39:49" pos:end="39:52"><name pos:start="39:49" pos:end="39:52">type</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="41:9" pos:end="47:51"><expr pos:start="41:9" pos:end="47:50"><call pos:start="41:9" pos:end="47:50"><name pos:start="41:9" pos:end="41:15">LOG_MMU</name><argument_list pos:start="41:16" pos:end="47:50">(<argument pos:start="41:17" pos:end="43:61"><expr pos:start="41:17" pos:end="43:61"><literal type="string" pos:start="41:17" pos:end="41:36">"Load pte from %016"</literal> <name pos:start="41:38" pos:end="41:48">HWADDR_PRIx</name> <literal type="string" pos:start="41:50" pos:end="41:55">" =&gt; "</literal> <name pos:start="41:57" pos:end="41:69">TARGET_FMT_lx</name> <literal type="string" pos:start="41:71" pos:end="41:73">" "</literal>

                <name pos:start="43:17" pos:end="43:29">TARGET_FMT_lx</name> <literal type="string" pos:start="43:31" pos:end="43:42">" %d %d %d "</literal> <name pos:start="43:44" pos:end="43:56">TARGET_FMT_lx</name> <literal type="string" pos:start="43:58" pos:end="43:61">"\n"</literal></expr></argument>,

                <argument pos:start="45:17" pos:end="45:35"><expr pos:start="45:17" pos:end="45:35"><name pos:start="45:17" pos:end="45:24">pteg_off</name> <operator pos:start="45:26" pos:end="45:26">+</operator> <operator pos:start="45:28" pos:end="45:28">(</operator><name pos:start="45:29" pos:end="45:29">i</name> <operator pos:start="45:31" pos:end="45:31">*</operator> <literal type="number" pos:start="45:33" pos:end="45:34">16</literal><operator pos:start="45:35" pos:end="45:35">)</operator></expr></argument>, <argument pos:start="45:38" pos:end="45:41"><expr pos:start="45:38" pos:end="45:41"><name pos:start="45:38" pos:end="45:41">pte0</name></expr></argument>, <argument pos:start="45:44" pos:end="45:47"><expr pos:start="45:44" pos:end="45:47"><name pos:start="45:44" pos:end="45:47">pte1</name></expr></argument>, <argument pos:start="45:50" pos:end="45:64"><expr pos:start="45:50" pos:end="45:64"><operator pos:start="45:50" pos:end="45:50">(</operator><name pos:start="45:51" pos:end="45:53">int</name><operator pos:start="45:54" pos:end="45:54">)</operator><operator pos:start="45:55" pos:end="45:55">(</operator><name pos:start="45:56" pos:end="45:59">pte0</name> <operator pos:start="45:61" pos:end="45:61">&amp;</operator> <literal type="number" pos:start="45:63" pos:end="45:63">1</literal><operator pos:start="45:64" pos:end="45:64">)</operator></expr></argument>, <argument pos:start="45:67" pos:end="45:67"><expr pos:start="45:67" pos:end="45:67"><name pos:start="45:67" pos:end="45:67">h</name></expr></argument>,

                <argument pos:start="47:17" pos:end="47:38"><expr pos:start="47:17" pos:end="47:38"><operator pos:start="47:17" pos:end="47:17">(</operator><name pos:start="47:18" pos:end="47:20">int</name><operator pos:start="47:21" pos:end="47:21">)</operator><operator pos:start="47:22" pos:end="47:22">(</operator><operator pos:start="47:23" pos:end="47:23">(</operator><name pos:start="47:24" pos:end="47:27">pte0</name> <operator pos:start="47:29" pos:end="47:30">&gt;&gt;</operator> <literal type="number" pos:start="47:32" pos:end="47:32">1</literal><operator pos:start="47:33" pos:end="47:33">)</operator> <operator pos:start="47:35" pos:end="47:35">&amp;</operator> <literal type="number" pos:start="47:37" pos:end="47:37">1</literal><operator pos:start="47:38" pos:end="47:38">)</operator></expr></argument>, <argument pos:start="47:41" pos:end="47:49"><expr pos:start="47:41" pos:end="47:49"><name pos:start="47:41" pos:end="47:49"><name pos:start="47:41" pos:end="47:43">ctx</name><operator pos:start="47:44" pos:end="47:45">-&gt;</operator><name pos:start="47:46" pos:end="47:49">ptem</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <switch pos:start="49:9" pos:end="93:9">switch <condition pos:start="49:16" pos:end="49:18">(<expr pos:start="49:17" pos:end="49:17"><name pos:start="49:17" pos:end="49:17">r</name></expr>)</condition> <block pos:start="49:20" pos:end="93:9">{<block_content pos:start="51:9" pos:end="91:22">

        <case pos:start="51:9" pos:end="51:16">case <expr pos:start="51:14" pos:end="51:15"><operator pos:start="51:14" pos:end="51:14">-</operator><literal type="number" pos:start="51:15" pos:end="51:15">3</literal></expr>:</case>

            <comment type="block" pos:start="53:13" pos:end="53:35">/* PTE inconsistency */</comment>

            <return pos:start="55:13" pos:end="55:22">return <expr pos:start="55:20" pos:end="55:21"><operator pos:start="55:20" pos:end="55:20">-</operator><literal type="number" pos:start="55:21" pos:end="55:21">1</literal></expr>;</return>

        <case pos:start="57:9" pos:end="57:16">case <expr pos:start="57:14" pos:end="57:15"><operator pos:start="57:14" pos:end="57:14">-</operator><literal type="number" pos:start="57:15" pos:end="57:15">2</literal></expr>:</case>

            <comment type="block" pos:start="59:13" pos:end="59:34">/* Access violation */</comment>

            <expr_stmt pos:start="61:13" pos:end="61:21"><expr pos:start="61:13" pos:end="61:20"><name pos:start="61:13" pos:end="61:15">ret</name> <operator pos:start="61:17" pos:end="61:17">=</operator> <operator pos:start="61:19" pos:end="61:19">-</operator><literal type="number" pos:start="61:20" pos:end="61:20">2</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="63:13" pos:end="63:21"><expr pos:start="63:13" pos:end="63:20"><name pos:start="63:13" pos:end="63:16">good</name> <operator pos:start="63:18" pos:end="63:18">=</operator> <name pos:start="63:20" pos:end="63:20">i</name></expr>;</expr_stmt>

            <break pos:start="65:13" pos:end="65:18">break;</break>

        <case pos:start="67:9" pos:end="67:16">case <expr pos:start="67:14" pos:end="67:15"><operator pos:start="67:14" pos:end="67:14">-</operator><literal type="number" pos:start="67:15" pos:end="67:15">1</literal></expr>:</case>

        <default pos:start="69:9" pos:end="69:16">default:</default>

            <comment type="block" pos:start="71:13" pos:end="71:30">/* No PTE match */</comment>

            <break pos:start="73:13" pos:end="73:18">break;</break>

        <case pos:start="75:9" pos:end="75:15">case <expr pos:start="75:14" pos:end="75:14"><literal type="number" pos:start="75:14" pos:end="75:14">0</literal></expr>:</case>

            <comment type="block" pos:start="77:13" pos:end="77:32">/* access granted */</comment>

            <comment type="block" pos:start="79:13" pos:end="85:15">/* XXX: we should go on looping to check all PTEs consistency

             *      but if we can speed-up the whole thing as the

             *      result would be undefined if PTEs are not consistent.

             */</comment>

            <expr_stmt pos:start="87:13" pos:end="87:20"><expr pos:start="87:13" pos:end="87:19"><name pos:start="87:13" pos:end="87:15">ret</name> <operator pos:start="87:17" pos:end="87:17">=</operator> <literal type="number" pos:start="87:19" pos:end="87:19">0</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="89:13" pos:end="89:21"><expr pos:start="89:13" pos:end="89:20"><name pos:start="89:13" pos:end="89:16">good</name> <operator pos:start="89:18" pos:end="89:18">=</operator> <name pos:start="89:20" pos:end="89:20">i</name></expr>;</expr_stmt>

            <goto pos:start="91:13" pos:end="91:22">goto <name pos:start="91:18" pos:end="91:21">done</name>;</goto>

        </block_content>}</block></switch>

    </block_content>}</block></for>

    <if_stmt pos:start="97:5" pos:end="127:5"><if pos:start="97:5" pos:end="127:5">if <condition pos:start="97:8" pos:end="97:19">(<expr pos:start="97:9" pos:end="97:18"><name pos:start="97:9" pos:end="97:12">good</name> <operator pos:start="97:14" pos:end="97:15">!=</operator> <operator pos:start="97:17" pos:end="97:17">-</operator><literal type="number" pos:start="97:18" pos:end="97:18">1</literal></expr>)</condition> <block pos:start="97:21" pos:end="127:5">{<block_content pos:start="99:5" pos:end="125:9">

    <label pos:start="99:5" pos:end="99:9"><name pos:start="99:5" pos:end="99:8">done</name>:</label>

        <expr_stmt pos:start="101:9" pos:end="103:44"><expr pos:start="101:9" pos:end="103:43"><call pos:start="101:9" pos:end="103:43"><name pos:start="101:9" pos:end="101:15">LOG_MMU</name><argument_list pos:start="101:16" pos:end="103:43">(<argument pos:start="101:17" pos:end="101:73"><expr pos:start="101:17" pos:end="101:73"><literal type="string" pos:start="101:17" pos:end="101:39">"found PTE at addr %08"</literal> <name pos:start="101:41" pos:end="101:51">HWADDR_PRIx</name> <literal type="string" pos:start="101:53" pos:end="101:73">" prot=%01x ret=%d\n"</literal></expr></argument>,

                <argument pos:start="103:17" pos:end="103:26"><expr pos:start="103:17" pos:end="103:26"><name pos:start="103:17" pos:end="103:26"><name pos:start="103:17" pos:end="103:19">ctx</name><operator pos:start="103:20" pos:end="103:21">-&gt;</operator><name pos:start="103:22" pos:end="103:26">raddr</name></name></expr></argument>, <argument pos:start="103:29" pos:end="103:37"><expr pos:start="103:29" pos:end="103:37"><name pos:start="103:29" pos:end="103:37"><name pos:start="103:29" pos:end="103:31">ctx</name><operator pos:start="103:32" pos:end="103:33">-&gt;</operator><name pos:start="103:34" pos:end="103:37">prot</name></name></expr></argument>, <argument pos:start="103:40" pos:end="103:42"><expr pos:start="103:40" pos:end="103:42"><name pos:start="103:40" pos:end="103:42">ret</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <comment type="block" pos:start="105:9" pos:end="105:31">/* Update page flags */</comment>

        <expr_stmt pos:start="107:9" pos:end="107:26"><expr pos:start="107:9" pos:end="107:25"><name pos:start="107:9" pos:end="107:12">pte1</name> <operator pos:start="107:14" pos:end="107:14">=</operator> <name pos:start="107:16" pos:end="107:25"><name pos:start="107:16" pos:end="107:18">ctx</name><operator pos:start="107:19" pos:end="107:20">-&gt;</operator><name pos:start="107:21" pos:end="107:25">raddr</name></name></expr>;</expr_stmt>

        <if_stmt pos:start="109:9" pos:end="125:9"><if pos:start="109:9" pos:end="125:9">if <condition pos:start="109:12" pos:end="109:55">(<expr pos:start="109:13" pos:end="109:54"><call pos:start="109:13" pos:end="109:49"><name pos:start="109:13" pos:end="109:28">pte_update_flags</name><argument_list pos:start="109:29" pos:end="109:49">(<argument pos:start="109:30" pos:end="109:32"><expr pos:start="109:30" pos:end="109:32"><name pos:start="109:30" pos:end="109:32">ctx</name></expr></argument>, <argument pos:start="109:35" pos:end="109:39"><expr pos:start="109:35" pos:end="109:39"><operator pos:start="109:35" pos:end="109:35">&amp;</operator><name pos:start="109:36" pos:end="109:39">pte1</name></expr></argument>, <argument pos:start="109:42" pos:end="109:44"><expr pos:start="109:42" pos:end="109:44"><name pos:start="109:42" pos:end="109:44">ret</name></expr></argument>, <argument pos:start="109:47" pos:end="109:48"><expr pos:start="109:47" pos:end="109:48"><name pos:start="109:47" pos:end="109:48">rw</name></expr></argument>)</argument_list></call> <operator pos:start="109:51" pos:end="109:52">==</operator> <literal type="number" pos:start="109:54" pos:end="109:54">1</literal></expr>)</condition> <block pos:start="109:57" pos:end="125:9">{<block_content pos:start="111:13" pos:end="123:13">

            <if_stmt pos:start="111:13" pos:end="123:13"><if pos:start="111:13" pos:end="117:13">if <condition pos:start="111:16" pos:end="111:35">(<expr pos:start="111:17" pos:end="111:34"><name pos:start="111:17" pos:end="111:34"><name pos:start="111:17" pos:end="111:19">env</name><operator pos:start="111:20" pos:end="111:21">-&gt;</operator><name pos:start="111:22" pos:end="111:34">external_htab</name></name></expr>)</condition> <block pos:start="111:37" pos:end="117:13">{<block_content pos:start="113:17" pos:end="115:28">

                <expr_stmt pos:start="113:17" pos:end="115:28"><expr pos:start="113:17" pos:end="115:27"><call pos:start="113:17" pos:end="115:27"><name pos:start="113:17" pos:end="113:21">stq_p</name><argument_list pos:start="113:22" pos:end="115:27">(<argument pos:start="113:23" pos:end="113:69"><expr pos:start="113:23" pos:end="113:69"><name pos:start="113:23" pos:end="113:40"><name pos:start="113:23" pos:end="113:25">env</name><operator pos:start="113:26" pos:end="113:27">-&gt;</operator><name pos:start="113:28" pos:end="113:40">external_htab</name></name> <operator pos:start="113:42" pos:end="113:42">+</operator> <name pos:start="113:44" pos:end="113:51">pteg_off</name> <operator pos:start="113:53" pos:end="113:53">+</operator> <operator pos:start="113:55" pos:end="113:55">(</operator><name pos:start="113:56" pos:end="113:59">good</name> <operator pos:start="113:61" pos:end="113:61">*</operator> <literal type="number" pos:start="113:63" pos:end="113:64">16</literal><operator pos:start="113:65" pos:end="113:65">)</operator> <operator pos:start="113:67" pos:end="113:67">+</operator> <literal type="number" pos:start="113:69" pos:end="113:69">8</literal></expr></argument>,

                      <argument pos:start="115:23" pos:end="115:26"><expr pos:start="115:23" pos:end="115:26"><name pos:start="115:23" pos:end="115:26">pte1</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></if> <else pos:start="117:15" pos:end="123:13">else <block pos:start="117:20" pos:end="123:13">{<block_content pos:start="119:17" pos:end="121:57">

                <expr_stmt pos:start="119:17" pos:end="121:57"><expr pos:start="119:17" pos:end="121:56"><call pos:start="119:17" pos:end="121:56"><name pos:start="119:17" pos:end="119:33">stq_phys_notdirty</name><argument_list pos:start="119:34" pos:end="121:56">(<argument pos:start="119:35" pos:end="121:49"><expr pos:start="119:35" pos:end="121:49"><name pos:start="119:35" pos:end="119:48"><name pos:start="119:35" pos:end="119:37">env</name><operator pos:start="119:38" pos:end="119:39">-&gt;</operator><name pos:start="119:40" pos:end="119:48">htab_base</name></name> <operator pos:start="119:50" pos:end="119:50">+</operator> <name pos:start="119:52" pos:end="119:59">pteg_off</name> <operator pos:start="119:61" pos:end="119:61">+</operator>

                                  <operator pos:start="121:35" pos:end="121:35">(</operator><name pos:start="121:36" pos:end="121:39">good</name> <operator pos:start="121:41" pos:end="121:41">*</operator> <literal type="number" pos:start="121:43" pos:end="121:44">16</literal><operator pos:start="121:45" pos:end="121:45">)</operator> <operator pos:start="121:47" pos:end="121:47">+</operator> <literal type="number" pos:start="121:49" pos:end="121:49">8</literal></expr></argument>, <argument pos:start="121:52" pos:end="121:55"><expr pos:start="121:52" pos:end="121:55"><name pos:start="121:52" pos:end="121:55">pte1</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></else></if_stmt>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></if></if_stmt>



    <comment type="block" pos:start="131:5" pos:end="133:40">/* We have a TLB that saves 4K pages, so let's

     * split a huge page to 4k chunks */</comment>

    <if_stmt pos:start="135:5" pos:end="141:5"><if pos:start="135:5" pos:end="141:5">if <condition pos:start="135:8" pos:end="135:45">(<expr pos:start="135:9" pos:end="135:44"><name pos:start="135:9" pos:end="135:24">target_page_bits</name> <operator pos:start="135:26" pos:end="135:27">!=</operator> <name pos:start="135:29" pos:end="135:44">TARGET_PAGE_BITS</name></expr>)</condition> <block pos:start="135:47" pos:end="141:5">{<block_content pos:start="137:9" pos:end="139:41">

        <expr_stmt pos:start="137:9" pos:end="139:41"><expr pos:start="137:9" pos:end="139:40"><name pos:start="137:9" pos:end="137:18"><name pos:start="137:9" pos:end="137:11">ctx</name><operator pos:start="137:12" pos:end="137:13">-&gt;</operator><name pos:start="137:14" pos:end="137:18">raddr</name></name> <operator pos:start="137:20" pos:end="137:21">|=</operator> <operator pos:start="137:23" pos:end="137:23">(</operator><name pos:start="137:24" pos:end="137:33"><name pos:start="137:24" pos:end="137:26">ctx</name><operator pos:start="137:27" pos:end="137:28">-&gt;</operator><name pos:start="137:29" pos:end="137:33">eaddr</name></name> <operator pos:start="137:35" pos:end="137:35">&amp;</operator> <operator pos:start="137:37" pos:end="137:37">(</operator><operator pos:start="137:38" pos:end="137:38">(</operator><literal type="number" pos:start="137:39" pos:end="137:39">1</literal> <operator pos:start="137:41" pos:end="137:42">&lt;&lt;</operator> <name pos:start="137:44" pos:end="137:59">target_page_bits</name><operator pos:start="137:60" pos:end="137:60">)</operator> <operator pos:start="137:62" pos:end="137:62">-</operator> <literal type="number" pos:start="137:64" pos:end="137:64">1</literal><operator pos:start="137:65" pos:end="137:65">)</operator><operator pos:start="137:66" pos:end="137:66">)</operator>

                      <operator pos:start="139:23" pos:end="139:23">&amp;</operator> <name pos:start="139:25" pos:end="139:40">TARGET_PAGE_MASK</name></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    <return pos:start="143:5" pos:end="143:15">return <expr pos:start="143:12" pos:end="143:14"><name pos:start="143:12" pos:end="143:14">ret</name></expr>;</return>

</block_content>}</block></function>
</unit>
