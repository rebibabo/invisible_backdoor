<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/1921.c" pos:tabs="8"><function pos:start="1:1" pos:end="75:1"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:35">csrhci_in_packet_vendor</name><parameter_list pos:start="1:36" pos:end="3:39">(<parameter pos:start="1:37" pos:end="1:54"><decl pos:start="1:37" pos:end="1:54"><type pos:start="1:37" pos:end="1:54"><name pos:start="1:37" pos:end="1:51"><name pos:start="1:37" pos:end="1:42">struct</name> <name pos:start="1:44" pos:end="1:51">csrhci_s</name></name> <modifier pos:start="1:53" pos:end="1:53">*</modifier></type><name pos:start="1:54" pos:end="1:54">s</name></decl></parameter>, <parameter pos:start="1:57" pos:end="1:63"><decl pos:start="1:57" pos:end="1:63"><type pos:start="1:57" pos:end="1:63"><name pos:start="1:57" pos:end="1:59">int</name></type> <name pos:start="1:61" pos:end="1:63">ocf</name></decl></parameter>,

                <parameter pos:start="3:17" pos:end="3:29"><decl pos:start="3:17" pos:end="3:29"><type pos:start="3:17" pos:end="3:29"><name pos:start="3:17" pos:end="3:23">uint8_t</name> <modifier pos:start="3:25" pos:end="3:25">*</modifier></type><name pos:start="3:26" pos:end="3:29">data</name></decl></parameter>, <parameter pos:start="3:32" pos:end="3:38"><decl pos:start="3:32" pos:end="3:38"><type pos:start="3:32" pos:end="3:38"><name pos:start="3:32" pos:end="3:34">int</name></type> <name pos:start="3:36" pos:end="3:38">len</name></decl></parameter>)</parameter_list>

<block pos:start="5:1" pos:end="75:1">{<block_content pos:start="7:5" pos:end="73:24">

    <decl_stmt pos:start="7:5" pos:end="7:15"><decl pos:start="7:5" pos:end="7:14"><type pos:start="7:5" pos:end="7:7"><name pos:start="7:5" pos:end="7:7">int</name></type> <name pos:start="7:9" pos:end="7:14">offset</name></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:18"><decl pos:start="9:5" pos:end="9:17"><type pos:start="9:5" pos:end="9:13"><name pos:start="9:5" pos:end="9:11">uint8_t</name> <modifier pos:start="9:13" pos:end="9:13">*</modifier></type><name pos:start="9:14" pos:end="9:17">rpkt</name></decl>;</decl_stmt>



    <switch pos:start="13:5" pos:end="69:5">switch <condition pos:start="13:12" pos:end="13:16">(<expr pos:start="13:13" pos:end="13:15"><name pos:start="13:13" pos:end="13:15">ocf</name></expr>)</condition> <block pos:start="13:18" pos:end="69:5">{<block_content pos:start="15:5" pos:end="67:15">

    <case pos:start="15:5" pos:end="15:31">case <expr pos:start="15:10" pos:end="15:30"><name pos:start="15:10" pos:end="15:30">OCF_CSR_SEND_FIRMWARE</name></expr>:</case>

        <comment type="block" pos:start="17:9" pos:end="17:52">/* Check if this is the bd_address packet */</comment>

        <if_stmt pos:start="19:9" pos:end="47:9"><if pos:start="19:9" pos:end="47:9">if <condition pos:start="19:12" pos:end="19:66">(<expr pos:start="19:13" pos:end="19:65"><name pos:start="19:13" pos:end="19:15">len</name> <operator pos:start="19:17" pos:end="19:18">&gt;=</operator> <literal type="number" pos:start="19:20" pos:end="19:23">18</literal> <operator pos:start="19:23" pos:end="19:23">+</operator> <literal type="number" pos:start="19:25" pos:end="19:25">8</literal> <operator pos:start="19:27" pos:end="19:28">&amp;&amp;</operator> <name pos:start="19:30" pos:end="19:37"><name pos:start="19:30" pos:end="19:33">data</name><index pos:start="19:34" pos:end="19:37">[<expr pos:start="19:35" pos:end="19:36"><literal type="number" pos:start="19:35" pos:end="19:36">12</literal></expr>]</index></name> <operator pos:start="19:39" pos:end="19:40">==</operator> <literal type="number" pos:start="19:42" pos:end="19:45">0x01</literal> <operator pos:start="19:47" pos:end="19:48">&amp;&amp;</operator> <name pos:start="19:50" pos:end="19:57"><name pos:start="19:50" pos:end="19:53">data</name><index pos:start="19:54" pos:end="19:57">[<expr pos:start="19:55" pos:end="19:56"><literal type="number" pos:start="19:55" pos:end="19:56">13</literal></expr>]</index></name> <operator pos:start="19:59" pos:end="19:60">==</operator> <literal type="number" pos:start="19:62" pos:end="19:65">0x00</literal></expr>)</condition> <block pos:start="19:68" pos:end="47:9">{<block_content pos:start="21:13" pos:end="45:79">

            <expr_stmt pos:start="21:13" pos:end="21:24"><expr pos:start="21:13" pos:end="21:23"><name pos:start="21:13" pos:end="21:18">offset</name> <operator pos:start="21:20" pos:end="21:20">=</operator> <literal type="number" pos:start="21:22" pos:end="21:23">18</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="23:13" pos:end="23:47"><expr pos:start="23:13" pos:end="23:46"><name pos:start="23:13" pos:end="23:27"><name pos:start="23:13" pos:end="23:13">s</name><operator pos:start="23:14" pos:end="23:15">-&gt;</operator><name pos:start="23:16" pos:end="23:22">bd_addr</name><operator pos:start="23:23" pos:end="23:23">.</operator><name pos:start="23:24" pos:end="23:24">b</name><index pos:start="23:25" pos:end="23:27">[<expr pos:start="23:26" pos:end="23:26"><literal type="number" pos:start="23:26" pos:end="23:26">0</literal></expr>]</index></name> <operator pos:start="23:29" pos:end="23:29">=</operator> <name pos:start="23:31" pos:end="23:46"><name pos:start="23:31" pos:end="23:34">data</name><index pos:start="23:35" pos:end="23:46">[<expr pos:start="23:36" pos:end="23:45"><name pos:start="23:36" pos:end="23:41">offset</name> <operator pos:start="23:43" pos:end="23:43">+</operator> <literal type="number" pos:start="23:45" pos:end="23:45">7</literal></expr>]</index></name></expr>;</expr_stmt>	<comment type="block" pos:start="23:49" pos:end="23:79">/* Beyond cmd packet end(!?) */</comment>

            <expr_stmt pos:start="25:13" pos:end="25:47"><expr pos:start="25:13" pos:end="25:46"><name pos:start="25:13" pos:end="25:27"><name pos:start="25:13" pos:end="25:13">s</name><operator pos:start="25:14" pos:end="25:15">-&gt;</operator><name pos:start="25:16" pos:end="25:22">bd_addr</name><operator pos:start="25:23" pos:end="25:23">.</operator><name pos:start="25:24" pos:end="25:24">b</name><index pos:start="25:25" pos:end="25:27">[<expr pos:start="25:26" pos:end="25:26"><literal type="number" pos:start="25:26" pos:end="25:26">1</literal></expr>]</index></name> <operator pos:start="25:29" pos:end="25:29">=</operator> <name pos:start="25:31" pos:end="25:46"><name pos:start="25:31" pos:end="25:34">data</name><index pos:start="25:35" pos:end="25:46">[<expr pos:start="25:36" pos:end="25:45"><name pos:start="25:36" pos:end="25:41">offset</name> <operator pos:start="25:43" pos:end="25:43">+</operator> <literal type="number" pos:start="25:45" pos:end="25:45">6</literal></expr>]</index></name></expr>;</expr_stmt>

            <expr_stmt pos:start="27:13" pos:end="27:47"><expr pos:start="27:13" pos:end="27:46"><name pos:start="27:13" pos:end="27:27"><name pos:start="27:13" pos:end="27:13">s</name><operator pos:start="27:14" pos:end="27:15">-&gt;</operator><name pos:start="27:16" pos:end="27:22">bd_addr</name><operator pos:start="27:23" pos:end="27:23">.</operator><name pos:start="27:24" pos:end="27:24">b</name><index pos:start="27:25" pos:end="27:27">[<expr pos:start="27:26" pos:end="27:26"><literal type="number" pos:start="27:26" pos:end="27:26">2</literal></expr>]</index></name> <operator pos:start="27:29" pos:end="27:29">=</operator> <name pos:start="27:31" pos:end="27:46"><name pos:start="27:31" pos:end="27:34">data</name><index pos:start="27:35" pos:end="27:46">[<expr pos:start="27:36" pos:end="27:45"><name pos:start="27:36" pos:end="27:41">offset</name> <operator pos:start="27:43" pos:end="27:43">+</operator> <literal type="number" pos:start="27:45" pos:end="27:45">4</literal></expr>]</index></name></expr>;</expr_stmt>

            <expr_stmt pos:start="29:13" pos:end="29:47"><expr pos:start="29:13" pos:end="29:46"><name pos:start="29:13" pos:end="29:27"><name pos:start="29:13" pos:end="29:13">s</name><operator pos:start="29:14" pos:end="29:15">-&gt;</operator><name pos:start="29:16" pos:end="29:22">bd_addr</name><operator pos:start="29:23" pos:end="29:23">.</operator><name pos:start="29:24" pos:end="29:24">b</name><index pos:start="29:25" pos:end="29:27">[<expr pos:start="29:26" pos:end="29:26"><literal type="number" pos:start="29:26" pos:end="29:26">3</literal></expr>]</index></name> <operator pos:start="29:29" pos:end="29:29">=</operator> <name pos:start="29:31" pos:end="29:46"><name pos:start="29:31" pos:end="29:34">data</name><index pos:start="29:35" pos:end="29:46">[<expr pos:start="29:36" pos:end="29:45"><name pos:start="29:36" pos:end="29:41">offset</name> <operator pos:start="29:43" pos:end="29:43">+</operator> <literal type="number" pos:start="29:45" pos:end="29:45">0</literal></expr>]</index></name></expr>;</expr_stmt>

            <expr_stmt pos:start="31:13" pos:end="31:47"><expr pos:start="31:13" pos:end="31:46"><name pos:start="31:13" pos:end="31:27"><name pos:start="31:13" pos:end="31:13">s</name><operator pos:start="31:14" pos:end="31:15">-&gt;</operator><name pos:start="31:16" pos:end="31:22">bd_addr</name><operator pos:start="31:23" pos:end="31:23">.</operator><name pos:start="31:24" pos:end="31:24">b</name><index pos:start="31:25" pos:end="31:27">[<expr pos:start="31:26" pos:end="31:26"><literal type="number" pos:start="31:26" pos:end="31:26">4</literal></expr>]</index></name> <operator pos:start="31:29" pos:end="31:29">=</operator> <name pos:start="31:31" pos:end="31:46"><name pos:start="31:31" pos:end="31:34">data</name><index pos:start="31:35" pos:end="31:46">[<expr pos:start="31:36" pos:end="31:45"><name pos:start="31:36" pos:end="31:41">offset</name> <operator pos:start="31:43" pos:end="31:43">+</operator> <literal type="number" pos:start="31:45" pos:end="31:45">3</literal></expr>]</index></name></expr>;</expr_stmt>

            <expr_stmt pos:start="33:13" pos:end="33:47"><expr pos:start="33:13" pos:end="33:46"><name pos:start="33:13" pos:end="33:27"><name pos:start="33:13" pos:end="33:13">s</name><operator pos:start="33:14" pos:end="33:15">-&gt;</operator><name pos:start="33:16" pos:end="33:22">bd_addr</name><operator pos:start="33:23" pos:end="33:23">.</operator><name pos:start="33:24" pos:end="33:24">b</name><index pos:start="33:25" pos:end="33:27">[<expr pos:start="33:26" pos:end="33:26"><literal type="number" pos:start="33:26" pos:end="33:26">5</literal></expr>]</index></name> <operator pos:start="33:29" pos:end="33:29">=</operator> <name pos:start="33:31" pos:end="33:46"><name pos:start="33:31" pos:end="33:34">data</name><index pos:start="33:35" pos:end="33:46">[<expr pos:start="33:36" pos:end="33:45"><name pos:start="33:36" pos:end="33:41">offset</name> <operator pos:start="33:43" pos:end="33:43">+</operator> <literal type="number" pos:start="33:45" pos:end="33:45">2</literal></expr>]</index></name></expr>;</expr_stmt>



            <expr_stmt pos:start="37:13" pos:end="37:53"><expr pos:start="37:13" pos:end="37:52"><call pos:start="37:13" pos:end="37:52"><name pos:start="37:13" pos:end="37:30"><name pos:start="37:13" pos:end="37:13">s</name><operator pos:start="37:14" pos:end="37:15">-&gt;</operator><name pos:start="37:16" pos:end="37:18">hci</name><operator pos:start="37:19" pos:end="37:20">-&gt;</operator><name pos:start="37:21" pos:end="37:30">bdaddr_set</name></name><argument_list pos:start="37:31" pos:end="37:52">(<argument pos:start="37:32" pos:end="37:37"><expr pos:start="37:32" pos:end="37:37"><name pos:start="37:32" pos:end="37:37"><name pos:start="37:32" pos:end="37:32">s</name><operator pos:start="37:33" pos:end="37:34">-&gt;</operator><name pos:start="37:35" pos:end="37:37">hci</name></name></expr></argument>, <argument pos:start="37:40" pos:end="37:51"><expr pos:start="37:40" pos:end="37:51"><name pos:start="37:40" pos:end="37:51"><name pos:start="37:40" pos:end="37:40">s</name><operator pos:start="37:41" pos:end="37:42">-&gt;</operator><name pos:start="37:43" pos:end="37:49">bd_addr</name><operator pos:start="37:50" pos:end="37:50">.</operator><name pos:start="37:51" pos:end="37:51">b</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="39:13" pos:end="45:79"><expr pos:start="39:13" pos:end="45:78"><call pos:start="39:13" pos:end="45:78"><name pos:start="39:13" pos:end="39:19">fprintf</name><argument_list pos:start="39:20" pos:end="45:78">(<argument pos:start="39:21" pos:end="39:26"><expr pos:start="39:21" pos:end="39:26"><name pos:start="39:21" pos:end="39:26">stderr</name></expr></argument>, <argument pos:start="39:29" pos:end="41:61"><expr pos:start="39:29" pos:end="41:61"><literal type="string" pos:start="39:29" pos:end="39:67">"%s: bd_address loaded from firmware: "</literal>

                            <literal type="string" pos:start="41:29" pos:end="41:61">"%02x:%02x:%02x:%02x:%02x:%02x\n"</literal></expr></argument>, <argument pos:start="41:64" pos:end="41:75"><expr pos:start="41:64" pos:end="41:75"><name pos:start="41:64" pos:end="41:75">__FUNCTION__</name></expr></argument>,

                            <argument pos:start="43:29" pos:end="43:43"><expr pos:start="43:29" pos:end="43:43"><name pos:start="43:29" pos:end="43:43"><name pos:start="43:29" pos:end="43:29">s</name><operator pos:start="43:30" pos:end="43:31">-&gt;</operator><name pos:start="43:32" pos:end="43:38">bd_addr</name><operator pos:start="43:39" pos:end="43:39">.</operator><name pos:start="43:40" pos:end="43:40">b</name><index pos:start="43:41" pos:end="43:43">[<expr pos:start="43:42" pos:end="43:42"><literal type="number" pos:start="43:42" pos:end="43:42">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="43:46" pos:end="43:60"><expr pos:start="43:46" pos:end="43:60"><name pos:start="43:46" pos:end="43:60"><name pos:start="43:46" pos:end="43:46">s</name><operator pos:start="43:47" pos:end="43:48">-&gt;</operator><name pos:start="43:49" pos:end="43:55">bd_addr</name><operator pos:start="43:56" pos:end="43:56">.</operator><name pos:start="43:57" pos:end="43:57">b</name><index pos:start="43:58" pos:end="43:60">[<expr pos:start="43:59" pos:end="43:59"><literal type="number" pos:start="43:59" pos:end="43:59">1</literal></expr>]</index></name></expr></argument>, <argument pos:start="43:63" pos:end="43:77"><expr pos:start="43:63" pos:end="43:77"><name pos:start="43:63" pos:end="43:77"><name pos:start="43:63" pos:end="43:63">s</name><operator pos:start="43:64" pos:end="43:65">-&gt;</operator><name pos:start="43:66" pos:end="43:72">bd_addr</name><operator pos:start="43:73" pos:end="43:73">.</operator><name pos:start="43:74" pos:end="43:74">b</name><index pos:start="43:75" pos:end="43:77">[<expr pos:start="43:76" pos:end="43:76"><literal type="number" pos:start="43:76" pos:end="43:76">2</literal></expr>]</index></name></expr></argument>,

                            <argument pos:start="45:29" pos:end="45:43"><expr pos:start="45:29" pos:end="45:43"><name pos:start="45:29" pos:end="45:43"><name pos:start="45:29" pos:end="45:29">s</name><operator pos:start="45:30" pos:end="45:31">-&gt;</operator><name pos:start="45:32" pos:end="45:38">bd_addr</name><operator pos:start="45:39" pos:end="45:39">.</operator><name pos:start="45:40" pos:end="45:40">b</name><index pos:start="45:41" pos:end="45:43">[<expr pos:start="45:42" pos:end="45:42"><literal type="number" pos:start="45:42" pos:end="45:42">3</literal></expr>]</index></name></expr></argument>, <argument pos:start="45:46" pos:end="45:60"><expr pos:start="45:46" pos:end="45:60"><name pos:start="45:46" pos:end="45:60"><name pos:start="45:46" pos:end="45:46">s</name><operator pos:start="45:47" pos:end="45:48">-&gt;</operator><name pos:start="45:49" pos:end="45:55">bd_addr</name><operator pos:start="45:56" pos:end="45:56">.</operator><name pos:start="45:57" pos:end="45:57">b</name><index pos:start="45:58" pos:end="45:60">[<expr pos:start="45:59" pos:end="45:59"><literal type="number" pos:start="45:59" pos:end="45:59">4</literal></expr>]</index></name></expr></argument>, <argument pos:start="45:63" pos:end="45:77"><expr pos:start="45:63" pos:end="45:77"><name pos:start="45:63" pos:end="45:77"><name pos:start="45:63" pos:end="45:63">s</name><operator pos:start="45:64" pos:end="45:65">-&gt;</operator><name pos:start="45:66" pos:end="45:72">bd_addr</name><operator pos:start="45:73" pos:end="45:73">.</operator><name pos:start="45:74" pos:end="45:74">b</name><index pos:start="45:75" pos:end="45:77">[<expr pos:start="45:76" pos:end="45:76"><literal type="number" pos:start="45:76" pos:end="45:76">5</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>



        <expr_stmt pos:start="51:9" pos:end="51:58"><expr pos:start="51:9" pos:end="51:57"><name pos:start="51:9" pos:end="51:12">rpkt</name> <operator pos:start="51:14" pos:end="51:14">=</operator> <call pos:start="51:16" pos:end="51:57"><name pos:start="51:16" pos:end="51:38">csrhci_out_packet_event</name><argument_list pos:start="51:39" pos:end="51:57">(<argument pos:start="51:40" pos:end="51:40"><expr pos:start="51:40" pos:end="51:40"><name pos:start="51:40" pos:end="51:40">s</name></expr></argument>, <argument pos:start="51:43" pos:end="51:52"><expr pos:start="51:43" pos:end="51:52"><name pos:start="51:43" pos:end="51:52">EVT_VENDOR</name></expr></argument>, <argument pos:start="51:55" pos:end="51:56"><expr pos:start="51:55" pos:end="51:56"><literal type="number" pos:start="51:55" pos:end="51:56">11</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <comment type="block" pos:start="53:9" pos:end="53:36">/* Status bytes: no error */</comment>

        <expr_stmt pos:start="55:9" pos:end="55:23"><expr pos:start="55:9" pos:end="55:22"><name pos:start="55:9" pos:end="55:15"><name pos:start="55:9" pos:end="55:12">rpkt</name><index pos:start="55:13" pos:end="55:15">[<expr pos:start="55:14" pos:end="55:14"><literal type="number" pos:start="55:14" pos:end="55:14">9</literal></expr>]</index></name> <operator pos:start="55:17" pos:end="55:17">=</operator> <literal type="number" pos:start="55:19" pos:end="55:22">0x00</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="57:9" pos:end="57:24"><expr pos:start="57:9" pos:end="57:23"><name pos:start="57:9" pos:end="57:16"><name pos:start="57:9" pos:end="57:12">rpkt</name><index pos:start="57:13" pos:end="57:16">[<expr pos:start="57:14" pos:end="57:15"><literal type="number" pos:start="57:14" pos:end="57:15">10</literal></expr>]</index></name> <operator pos:start="57:18" pos:end="57:18">=</operator> <literal type="number" pos:start="57:20" pos:end="57:23">0x00</literal></expr>;</expr_stmt>

        <break pos:start="59:9" pos:end="59:14">break;</break>



    <default pos:start="63:5" pos:end="63:12">default:</default>

        <expr_stmt pos:start="65:9" pos:end="65:68"><expr pos:start="65:9" pos:end="65:67"><call pos:start="65:9" pos:end="65:67"><name pos:start="65:9" pos:end="65:15">fprintf</name><argument_list pos:start="65:16" pos:end="65:67">(<argument pos:start="65:17" pos:end="65:22"><expr pos:start="65:17" pos:end="65:22"><name pos:start="65:17" pos:end="65:22">stderr</name></expr></argument>, <argument pos:start="65:25" pos:end="65:52"><expr pos:start="65:25" pos:end="65:52"><literal type="string" pos:start="65:25" pos:end="65:52">"%s: got a bad CMD packet\n"</literal></expr></argument>, <argument pos:start="65:55" pos:end="65:66"><expr pos:start="65:55" pos:end="65:66"><name pos:start="65:55" pos:end="65:66">__FUNCTION__</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <return pos:start="67:9" pos:end="67:15">return;</return>

    </block_content>}</block></switch>



    <expr_stmt pos:start="73:5" pos:end="73:24"><expr pos:start="73:5" pos:end="73:23"><call pos:start="73:5" pos:end="73:23"><name pos:start="73:5" pos:end="73:20">csrhci_fifo_wake</name><argument_list pos:start="73:21" pos:end="73:23">(<argument pos:start="73:22" pos:end="73:22"><expr pos:start="73:22" pos:end="73:22"><name pos:start="73:22" pos:end="73:22">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

</block_content>}</block></function>
</unit>
