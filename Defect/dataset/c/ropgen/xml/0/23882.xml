<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/23882.c" pos:tabs="8"><function pos:start="1:1" pos:end="359:1"><type pos:start="1:1" pos:end="1:10"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:10">int</name></type> <name pos:start="1:12" pos:end="1:27">grab_read_header</name><parameter_list pos:start="1:28" pos:end="1:72">(<parameter pos:start="1:29" pos:end="1:47"><decl pos:start="1:29" pos:end="1:47"><type pos:start="1:29" pos:end="1:47"><name pos:start="1:29" pos:end="1:43">AVFormatContext</name> <modifier pos:start="1:45" pos:end="1:45">*</modifier></type><name pos:start="1:46" pos:end="1:47">s1</name></decl></parameter>, <parameter pos:start="1:50" pos:end="1:71"><decl pos:start="1:50" pos:end="1:71"><type pos:start="1:50" pos:end="1:71"><name pos:start="1:50" pos:end="1:67">AVFormatParameters</name> <modifier pos:start="1:69" pos:end="1:69">*</modifier></type><name pos:start="1:70" pos:end="1:71">ap</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="359:1">{<block_content pos:start="5:5" pos:end="357:24">

    <decl_stmt pos:start="5:5" pos:end="5:33"><decl pos:start="5:5" pos:end="5:32"><type pos:start="5:5" pos:end="5:15"><name pos:start="5:5" pos:end="5:13">VideoData</name> <modifier pos:start="5:15" pos:end="5:15">*</modifier></type><name pos:start="5:16" pos:end="5:16">s</name> <init pos:start="5:18" pos:end="5:32">= <expr pos:start="5:20" pos:end="5:32"><name pos:start="5:20" pos:end="5:32"><name pos:start="5:20" pos:end="5:21">s1</name><operator pos:start="5:22" pos:end="5:23">-&gt;</operator><name pos:start="5:24" pos:end="5:32">priv_data</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:17"><decl pos:start="7:5" pos:end="7:16"><type pos:start="7:5" pos:end="7:14"><name pos:start="7:5" pos:end="7:12">AVStream</name> <modifier pos:start="7:14" pos:end="7:14">*</modifier></type><name pos:start="7:15" pos:end="7:16">st</name></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:17"><decl pos:start="9:5" pos:end="9:16"><type pos:start="9:5" pos:end="9:7"><name pos:start="9:5" pos:end="9:7">int</name></type> <name pos:start="9:9" pos:end="9:16">video_fd</name></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:39"><decl pos:start="11:5" pos:end="11:23"><type pos:start="11:5" pos:end="11:7"><name pos:start="11:5" pos:end="11:7">int</name></type> <name pos:start="11:9" pos:end="11:23">desired_palette</name></decl>, <decl pos:start="11:26" pos:end="11:38"><type ref="prev" pos:start="11:5" pos:end="11:7"/><name pos:start="11:26" pos:end="11:38">desired_depth</name></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:29"><decl pos:start="13:5" pos:end="13:28"><type pos:start="13:5" pos:end="13:22"><name pos:start="13:5" pos:end="13:22"><name pos:start="13:5" pos:end="13:10">struct</name> <name pos:start="13:12" pos:end="13:22">video_tuner</name></name></type> <name pos:start="13:24" pos:end="13:28">tuner</name></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="15:29"><decl pos:start="15:5" pos:end="15:28"><type pos:start="15:5" pos:end="15:22"><name pos:start="15:5" pos:end="15:22"><name pos:start="15:5" pos:end="15:10">struct</name> <name pos:start="15:12" pos:end="15:22">video_audio</name></name></type> <name pos:start="15:24" pos:end="15:28">audio</name></decl>;</decl_stmt>

    <decl_stmt pos:start="17:5" pos:end="17:30"><decl pos:start="17:5" pos:end="17:29"><type pos:start="17:5" pos:end="17:24"><name pos:start="17:5" pos:end="17:24"><name pos:start="17:5" pos:end="17:10">struct</name> <name pos:start="17:12" pos:end="17:24">video_picture</name></name></type> <name pos:start="17:26" pos:end="17:29">pict</name></decl>;</decl_stmt>

    <decl_stmt pos:start="19:5" pos:end="19:10"><decl pos:start="19:5" pos:end="19:9"><type pos:start="19:5" pos:end="19:7"><name pos:start="19:5" pos:end="19:7">int</name></type> <name pos:start="19:9" pos:end="19:9">j</name></decl>;</decl_stmt>

    <decl_stmt pos:start="21:5" pos:end="21:52"><decl pos:start="21:5" pos:end="21:51"><type pos:start="21:5" pos:end="21:7"><name pos:start="21:5" pos:end="21:7">int</name></type> <name pos:start="21:9" pos:end="21:19">vformat_num</name> <init pos:start="21:21" pos:end="21:51">= <expr pos:start="21:23" pos:end="21:51"><call pos:start="21:23" pos:end="21:51"><name pos:start="21:23" pos:end="21:36">FF_ARRAY_ELEMS</name><argument_list pos:start="21:37" pos:end="21:51">(<argument pos:start="21:38" pos:end="21:50"><expr pos:start="21:38" pos:end="21:50"><name pos:start="21:38" pos:end="21:50">video_formats</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>



    <expr_stmt pos:start="25:5" pos:end="25:106"><expr pos:start="25:5" pos:end="25:105"><call pos:start="25:5" pos:end="25:105"><name pos:start="25:5" pos:end="25:10">av_log</name><argument_list pos:start="25:11" pos:end="25:105">(<argument pos:start="25:12" pos:end="25:13"><expr pos:start="25:12" pos:end="25:13"><name pos:start="25:12" pos:end="25:13">s1</name></expr></argument>, <argument pos:start="25:16" pos:end="25:29"><expr pos:start="25:16" pos:end="25:29"><name pos:start="25:16" pos:end="25:29">AV_LOG_WARNING</name></expr></argument>, <argument pos:start="25:32" pos:end="25:104"><expr pos:start="25:32" pos:end="25:104"><literal type="string" pos:start="25:32" pos:end="25:104">"V4L input device is deprecated and will be removed in the next release."</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <if_stmt pos:start="29:5" pos:end="35:5"><if pos:start="29:5" pos:end="35:5">if <condition pos:start="29:8" pos:end="29:31">(<expr pos:start="29:9" pos:end="29:30"><name pos:start="29:9" pos:end="29:25"><name pos:start="29:9" pos:end="29:10">ap</name><operator pos:start="29:11" pos:end="29:12">-&gt;</operator><name pos:start="29:13" pos:end="29:21">time_base</name><operator pos:start="29:22" pos:end="29:22">.</operator><name pos:start="29:23" pos:end="29:25">den</name></name> <operator pos:start="29:27" pos:end="29:28">&lt;=</operator> <literal type="number" pos:start="29:30" pos:end="29:30">0</literal></expr>)</condition> <block pos:start="29:33" pos:end="35:5">{<block_content pos:start="31:9" pos:end="33:18">

        <expr_stmt pos:start="31:9" pos:end="31:78"><expr pos:start="31:9" pos:end="31:77"><call pos:start="31:9" pos:end="31:77"><name pos:start="31:9" pos:end="31:14">av_log</name><argument_list pos:start="31:15" pos:end="31:77">(<argument pos:start="31:16" pos:end="31:17"><expr pos:start="31:16" pos:end="31:17"><name pos:start="31:16" pos:end="31:17">s1</name></expr></argument>, <argument pos:start="31:20" pos:end="31:31"><expr pos:start="31:20" pos:end="31:31"><name pos:start="31:20" pos:end="31:31">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="31:34" pos:end="31:57"><expr pos:start="31:34" pos:end="31:57"><literal type="string" pos:start="31:34" pos:end="31:57">"Wrong time base (%d)\n"</literal></expr></argument>, <argument pos:start="31:60" pos:end="31:76"><expr pos:start="31:60" pos:end="31:76"><name pos:start="31:60" pos:end="31:76"><name pos:start="31:60" pos:end="31:61">ap</name><operator pos:start="31:62" pos:end="31:63">-&gt;</operator><name pos:start="31:64" pos:end="31:72">time_base</name><operator pos:start="31:73" pos:end="31:73">.</operator><name pos:start="31:74" pos:end="31:76">den</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <return pos:start="33:9" pos:end="33:18">return <expr pos:start="33:16" pos:end="33:17"><operator pos:start="33:16" pos:end="33:16">-</operator><literal type="number" pos:start="33:17" pos:end="33:17">1</literal></expr>;</return>

    </block_content>}</block></if></if_stmt>

    <expr_stmt pos:start="37:5" pos:end="37:33"><expr pos:start="37:5" pos:end="37:32"><name pos:start="37:5" pos:end="37:16"><name pos:start="37:5" pos:end="37:5">s</name><operator pos:start="37:6" pos:end="37:7">-&gt;</operator><name pos:start="37:8" pos:end="37:16">time_base</name></name> <operator pos:start="37:18" pos:end="37:18">=</operator> <name pos:start="37:20" pos:end="37:32"><name pos:start="37:20" pos:end="37:21">ap</name><operator pos:start="37:22" pos:end="37:23">-&gt;</operator><name pos:start="37:24" pos:end="37:32">time_base</name></name></expr>;</expr_stmt>



    <expr_stmt pos:start="41:5" pos:end="41:35"><expr pos:start="41:5" pos:end="41:34"><name pos:start="41:5" pos:end="41:22"><name pos:start="41:5" pos:end="41:5">s</name><operator pos:start="41:6" pos:end="41:7">-&gt;</operator><name pos:start="41:8" pos:end="41:16">video_win</name><operator pos:start="41:17" pos:end="41:17">.</operator><name pos:start="41:18" pos:end="41:22">width</name></name> <operator pos:start="41:24" pos:end="41:24">=</operator> <name pos:start="41:26" pos:end="41:34"><name pos:start="41:26" pos:end="41:27">ap</name><operator pos:start="41:28" pos:end="41:29">-&gt;</operator><name pos:start="41:30" pos:end="41:34">width</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="43:5" pos:end="43:37"><expr pos:start="43:5" pos:end="43:36"><name pos:start="43:5" pos:end="43:23"><name pos:start="43:5" pos:end="43:5">s</name><operator pos:start="43:6" pos:end="43:7">-&gt;</operator><name pos:start="43:8" pos:end="43:16">video_win</name><operator pos:start="43:17" pos:end="43:17">.</operator><name pos:start="43:18" pos:end="43:23">height</name></name> <operator pos:start="43:25" pos:end="43:25">=</operator> <name pos:start="43:27" pos:end="43:36"><name pos:start="43:27" pos:end="43:28">ap</name><operator pos:start="43:29" pos:end="43:30">-&gt;</operator><name pos:start="43:31" pos:end="43:36">height</name></name></expr>;</expr_stmt>



    <expr_stmt pos:start="47:5" pos:end="47:39"><expr pos:start="47:5" pos:end="47:38"><name pos:start="47:5" pos:end="47:6">st</name> <operator pos:start="47:8" pos:end="47:8">=</operator> <call pos:start="47:10" pos:end="47:38"><name pos:start="47:10" pos:end="47:28">avformat_new_stream</name><argument_list pos:start="47:29" pos:end="47:38">(<argument pos:start="47:30" pos:end="47:31"><expr pos:start="47:30" pos:end="47:31"><name pos:start="47:30" pos:end="47:31">s1</name></expr></argument>, <argument pos:start="47:34" pos:end="47:37"><expr pos:start="47:34" pos:end="47:37"><name pos:start="47:34" pos:end="47:37">NULL</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="49:5" pos:end="51:31"><if pos:start="49:5" pos:end="51:31">if <condition pos:start="49:8" pos:end="49:12">(<expr pos:start="49:9" pos:end="49:11"><operator pos:start="49:9" pos:end="49:9">!</operator><name pos:start="49:10" pos:end="49:11">st</name></expr>)</condition><block type="pseudo" pos:start="51:9" pos:end="51:31"><block_content pos:start="51:9" pos:end="51:31">

        <return pos:start="51:9" pos:end="51:31">return <expr pos:start="51:16" pos:end="51:30"><call pos:start="51:16" pos:end="51:30"><name pos:start="51:16" pos:end="51:22">AVERROR</name><argument_list pos:start="51:23" pos:end="51:30">(<argument pos:start="51:24" pos:end="51:29"><expr pos:start="51:24" pos:end="51:29"><name pos:start="51:24" pos:end="51:29">ENOMEM</name></expr></argument>)</argument_list></call></expr>;</return></block_content></block></if></if_stmt>

    <expr_stmt pos:start="53:5" pos:end="53:44"><expr pos:start="53:5" pos:end="53:43"><call pos:start="53:5" pos:end="53:43"><name pos:start="53:5" pos:end="53:23">avpriv_set_pts_info</name><argument_list pos:start="53:24" pos:end="53:43">(<argument pos:start="53:25" pos:end="53:26"><expr pos:start="53:25" pos:end="53:26"><name pos:start="53:25" pos:end="53:26">st</name></expr></argument>, <argument pos:start="53:29" pos:end="53:30"><expr pos:start="53:29" pos:end="53:30"><literal type="number" pos:start="53:29" pos:end="53:30">64</literal></expr></argument>, <argument pos:start="53:33" pos:end="53:33"><expr pos:start="53:33" pos:end="53:33"><literal type="number" pos:start="53:33" pos:end="53:33">1</literal></expr></argument>, <argument pos:start="53:36" pos:end="53:42"><expr pos:start="53:36" pos:end="53:42"><literal type="number" pos:start="53:36" pos:end="53:42">1000000</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt> <comment type="block" pos:start="53:46" pos:end="53:68">/* 64 bits pts in us */</comment>



    <expr_stmt pos:start="57:5" pos:end="57:42"><expr pos:start="57:5" pos:end="57:41"><name pos:start="57:5" pos:end="57:12">video_fd</name> <operator pos:start="57:14" pos:end="57:14">=</operator> <call pos:start="57:16" pos:end="57:41"><name pos:start="57:16" pos:end="57:19">open</name><argument_list pos:start="57:20" pos:end="57:41">(<argument pos:start="57:21" pos:end="57:32"><expr pos:start="57:21" pos:end="57:32"><name pos:start="57:21" pos:end="57:32"><name pos:start="57:21" pos:end="57:22">s1</name><operator pos:start="57:23" pos:end="57:24">-&gt;</operator><name pos:start="57:25" pos:end="57:32">filename</name></name></expr></argument>, <argument pos:start="57:35" pos:end="57:40"><expr pos:start="57:35" pos:end="57:40"><name pos:start="57:35" pos:end="57:40">O_RDWR</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="59:5" pos:end="65:5"><if pos:start="59:5" pos:end="65:5">if <condition pos:start="59:8" pos:end="59:21">(<expr pos:start="59:9" pos:end="59:20"><name pos:start="59:9" pos:end="59:16">video_fd</name> <operator pos:start="59:18" pos:end="59:18">&lt;</operator> <literal type="number" pos:start="59:20" pos:end="59:20">0</literal></expr>)</condition> <block pos:start="59:23" pos:end="65:5">{<block_content pos:start="61:9" pos:end="63:18">

        <expr_stmt pos:start="61:9" pos:end="61:76"><expr pos:start="61:9" pos:end="61:75"><call pos:start="61:9" pos:end="61:75"><name pos:start="61:9" pos:end="61:14">av_log</name><argument_list pos:start="61:15" pos:end="61:75">(<argument pos:start="61:16" pos:end="61:17"><expr pos:start="61:16" pos:end="61:17"><name pos:start="61:16" pos:end="61:17">s1</name></expr></argument>, <argument pos:start="61:20" pos:end="61:31"><expr pos:start="61:20" pos:end="61:31"><name pos:start="61:20" pos:end="61:31">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="61:34" pos:end="61:43"><expr pos:start="61:34" pos:end="61:43"><literal type="string" pos:start="61:34" pos:end="61:43">"%s: %s\n"</literal></expr></argument>, <argument pos:start="61:46" pos:end="61:57"><expr pos:start="61:46" pos:end="61:57"><name pos:start="61:46" pos:end="61:57"><name pos:start="61:46" pos:end="61:47">s1</name><operator pos:start="61:48" pos:end="61:49">-&gt;</operator><name pos:start="61:50" pos:end="61:57">filename</name></name></expr></argument>, <argument pos:start="61:60" pos:end="61:74"><expr pos:start="61:60" pos:end="61:74"><call pos:start="61:60" pos:end="61:74"><name pos:start="61:60" pos:end="61:67">strerror</name><argument_list pos:start="61:68" pos:end="61:74">(<argument pos:start="61:69" pos:end="61:73"><expr pos:start="61:69" pos:end="61:73"><name pos:start="61:69" pos:end="61:73">errno</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <goto pos:start="63:9" pos:end="63:18">goto <name pos:start="63:14" pos:end="63:17">fail</name>;</goto>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="69:5" pos:end="75:5"><if pos:start="69:5" pos:end="75:5">if <condition pos:start="69:8" pos:end="69:55">(<expr pos:start="69:9" pos:end="69:54"><call pos:start="69:9" pos:end="69:50"><name pos:start="69:9" pos:end="69:13">ioctl</name><argument_list pos:start="69:14" pos:end="69:50">(<argument pos:start="69:15" pos:end="69:22"><expr pos:start="69:15" pos:end="69:22"><name pos:start="69:15" pos:end="69:22">video_fd</name></expr></argument>, <argument pos:start="69:25" pos:end="69:34"><expr pos:start="69:25" pos:end="69:34"><name pos:start="69:25" pos:end="69:34">VIDIOCGCAP</name></expr></argument>, <argument pos:start="69:37" pos:end="69:49"><expr pos:start="69:37" pos:end="69:49"><operator pos:start="69:37" pos:end="69:37">&amp;</operator><name pos:start="69:38" pos:end="69:49"><name pos:start="69:38" pos:end="69:38">s</name><operator pos:start="69:39" pos:end="69:40">-&gt;</operator><name pos:start="69:41" pos:end="69:49">video_cap</name></name></expr></argument>)</argument_list></call> <operator pos:start="69:52" pos:end="69:52">&lt;</operator> <literal type="number" pos:start="69:54" pos:end="69:54">0</literal></expr>)</condition> <block pos:start="69:57" pos:end="75:5">{<block_content pos:start="71:9" pos:end="73:18">

        <expr_stmt pos:start="71:9" pos:end="71:70"><expr pos:start="71:9" pos:end="71:69"><call pos:start="71:9" pos:end="71:69"><name pos:start="71:9" pos:end="71:14">av_log</name><argument_list pos:start="71:15" pos:end="71:69">(<argument pos:start="71:16" pos:end="71:17"><expr pos:start="71:16" pos:end="71:17"><name pos:start="71:16" pos:end="71:17">s1</name></expr></argument>, <argument pos:start="71:20" pos:end="71:31"><expr pos:start="71:20" pos:end="71:31"><name pos:start="71:20" pos:end="71:31">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="71:34" pos:end="71:51"><expr pos:start="71:34" pos:end="71:51"><literal type="string" pos:start="71:34" pos:end="71:51">"VIDIOCGCAP: %s\n"</literal></expr></argument>, <argument pos:start="71:54" pos:end="71:68"><expr pos:start="71:54" pos:end="71:68"><call pos:start="71:54" pos:end="71:68"><name pos:start="71:54" pos:end="71:61">strerror</name><argument_list pos:start="71:62" pos:end="71:68">(<argument pos:start="71:63" pos:end="71:67"><expr pos:start="71:63" pos:end="71:67"><name pos:start="71:63" pos:end="71:67">errno</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <goto pos:start="73:9" pos:end="73:18">goto <name pos:start="73:14" pos:end="73:17">fail</name>;</goto>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="79:5" pos:end="85:5"><if pos:start="79:5" pos:end="85:5">if <condition pos:start="79:8" pos:end="79:48">(<expr pos:start="79:9" pos:end="79:47"><operator pos:start="79:9" pos:end="79:9">!</operator><operator pos:start="79:10" pos:end="79:10">(</operator><name pos:start="79:11" pos:end="79:27"><name pos:start="79:11" pos:end="79:11">s</name><operator pos:start="79:12" pos:end="79:13">-&gt;</operator><name pos:start="79:14" pos:end="79:22">video_cap</name><operator pos:start="79:23" pos:end="79:23">.</operator><name pos:start="79:24" pos:end="79:27">type</name></name> <operator pos:start="79:29" pos:end="79:29">&amp;</operator> <name pos:start="79:31" pos:end="79:46">VID_TYPE_CAPTURE</name><operator pos:start="79:47" pos:end="79:47">)</operator></expr>)</condition> <block pos:start="79:50" pos:end="85:5">{<block_content pos:start="81:9" pos:end="83:18">

        <expr_stmt pos:start="81:9" pos:end="81:81"><expr pos:start="81:9" pos:end="81:80"><call pos:start="81:9" pos:end="81:80"><name pos:start="81:9" pos:end="81:14">av_log</name><argument_list pos:start="81:15" pos:end="81:80">(<argument pos:start="81:16" pos:end="81:17"><expr pos:start="81:16" pos:end="81:17"><name pos:start="81:16" pos:end="81:17">s1</name></expr></argument>, <argument pos:start="81:20" pos:end="81:31"><expr pos:start="81:20" pos:end="81:31"><name pos:start="81:20" pos:end="81:31">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="81:34" pos:end="81:79"><expr pos:start="81:34" pos:end="81:79"><literal type="string" pos:start="81:34" pos:end="81:79">"Fatal: grab device does not handle capture\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <goto pos:start="83:9" pos:end="83:18">goto <name pos:start="83:14" pos:end="83:17">fail</name>;</goto>

    </block_content>}</block></if></if_stmt>



    <comment type="block" pos:start="89:5" pos:end="89:40">/* no values set, autodetect them */</comment>

    <if_stmt pos:start="91:5" pos:end="101:5"><if pos:start="91:5" pos:end="101:5">if <condition pos:start="91:8" pos:end="91:60">(<expr pos:start="91:9" pos:end="91:59"><name pos:start="91:9" pos:end="91:26"><name pos:start="91:9" pos:end="91:9">s</name><operator pos:start="91:10" pos:end="91:11">-&gt;</operator><name pos:start="91:12" pos:end="91:20">video_win</name><operator pos:start="91:21" pos:end="91:21">.</operator><name pos:start="91:22" pos:end="91:26">width</name></name> <operator pos:start="91:28" pos:end="91:29">&lt;=</operator> <literal type="number" pos:start="91:31" pos:end="91:31">0</literal> <operator pos:start="91:33" pos:end="91:34">||</operator> <name pos:start="91:36" pos:end="91:54"><name pos:start="91:36" pos:end="91:36">s</name><operator pos:start="91:37" pos:end="91:38">-&gt;</operator><name pos:start="91:39" pos:end="91:47">video_win</name><operator pos:start="91:48" pos:end="91:48">.</operator><name pos:start="91:49" pos:end="91:54">height</name></name> <operator pos:start="91:56" pos:end="91:57">&lt;=</operator> <literal type="number" pos:start="91:59" pos:end="91:59">0</literal></expr>)</condition> <block pos:start="91:62" pos:end="101:5">{<block_content pos:start="93:9" pos:end="99:9">

        <if_stmt pos:start="93:9" pos:end="99:9"><if pos:start="93:9" pos:end="99:9">if <condition pos:start="93:12" pos:end="93:81">(<expr pos:start="93:13" pos:end="93:80"><call pos:start="93:13" pos:end="93:76"><name pos:start="93:13" pos:end="93:17">ioctl</name><argument_list pos:start="93:18" pos:end="93:76">(<argument pos:start="93:19" pos:end="93:26"><expr pos:start="93:19" pos:end="93:26"><name pos:start="93:19" pos:end="93:26">video_fd</name></expr></argument>, <argument pos:start="93:29" pos:end="93:38"><expr pos:start="93:29" pos:end="93:38"><name pos:start="93:29" pos:end="93:38">VIDIOCGWIN</name></expr></argument>, <argument pos:start="93:41" pos:end="93:53"><expr pos:start="93:41" pos:end="93:53"><operator pos:start="93:41" pos:end="93:41">&amp;</operator><name pos:start="93:42" pos:end="93:53"><name pos:start="93:42" pos:end="93:42">s</name><operator pos:start="93:43" pos:end="93:44">-&gt;</operator><name pos:start="93:45" pos:end="93:53">video_win</name></name></expr></argument>, <argument pos:start="93:56" pos:end="93:75"><expr pos:start="93:56" pos:end="93:75"><sizeof pos:start="93:56" pos:end="93:75">sizeof<argument_list pos:start="93:62" pos:end="93:75">(<argument pos:start="93:63" pos:end="93:74"><expr pos:start="93:63" pos:end="93:74"><name pos:start="93:63" pos:end="93:74"><name pos:start="93:63" pos:end="93:63">s</name><operator pos:start="93:64" pos:end="93:65">-&gt;</operator><name pos:start="93:66" pos:end="93:74">video_win</name></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call> <operator pos:start="93:78" pos:end="93:78">&lt;</operator> <literal type="number" pos:start="93:80" pos:end="93:80">0</literal></expr>)</condition> <block pos:start="93:83" pos:end="99:9">{<block_content pos:start="95:13" pos:end="97:22">

            <expr_stmt pos:start="95:13" pos:end="95:74"><expr pos:start="95:13" pos:end="95:73"><call pos:start="95:13" pos:end="95:73"><name pos:start="95:13" pos:end="95:18">av_log</name><argument_list pos:start="95:19" pos:end="95:73">(<argument pos:start="95:20" pos:end="95:21"><expr pos:start="95:20" pos:end="95:21"><name pos:start="95:20" pos:end="95:21">s1</name></expr></argument>, <argument pos:start="95:24" pos:end="95:35"><expr pos:start="95:24" pos:end="95:35"><name pos:start="95:24" pos:end="95:35">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="95:38" pos:end="95:55"><expr pos:start="95:38" pos:end="95:55"><literal type="string" pos:start="95:38" pos:end="95:55">"VIDIOCGWIN: %s\n"</literal></expr></argument>, <argument pos:start="95:58" pos:end="95:72"><expr pos:start="95:58" pos:end="95:72"><call pos:start="95:58" pos:end="95:72"><name pos:start="95:58" pos:end="95:65">strerror</name><argument_list pos:start="95:66" pos:end="95:72">(<argument pos:start="95:67" pos:end="95:71"><expr pos:start="95:67" pos:end="95:71"><name pos:start="95:67" pos:end="95:71">errno</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <goto pos:start="97:13" pos:end="97:22">goto <name pos:start="97:18" pos:end="97:21">fail</name>;</goto>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="105:5" pos:end="107:18"><if pos:start="105:5" pos:end="107:18">if<condition pos:start="105:7" pos:end="105:79">(<expr pos:start="105:8" pos:end="105:78"><call pos:start="105:8" pos:end="105:74"><name pos:start="105:8" pos:end="105:26">av_image_check_size</name><argument_list pos:start="105:27" pos:end="105:74">(<argument pos:start="105:28" pos:end="105:45"><expr pos:start="105:28" pos:end="105:45"><name pos:start="105:28" pos:end="105:45"><name pos:start="105:28" pos:end="105:28">s</name><operator pos:start="105:29" pos:end="105:30">-&gt;</operator><name pos:start="105:31" pos:end="105:39">video_win</name><operator pos:start="105:40" pos:end="105:40">.</operator><name pos:start="105:41" pos:end="105:45">width</name></name></expr></argument>, <argument pos:start="105:48" pos:end="105:66"><expr pos:start="105:48" pos:end="105:66"><name pos:start="105:48" pos:end="105:66"><name pos:start="105:48" pos:end="105:48">s</name><operator pos:start="105:49" pos:end="105:50">-&gt;</operator><name pos:start="105:51" pos:end="105:59">video_win</name><operator pos:start="105:60" pos:end="105:60">.</operator><name pos:start="105:61" pos:end="105:66">height</name></name></expr></argument>, <argument pos:start="105:69" pos:end="105:69"><expr pos:start="105:69" pos:end="105:69"><literal type="number" pos:start="105:69" pos:end="105:69">0</literal></expr></argument>, <argument pos:start="105:72" pos:end="105:73"><expr pos:start="105:72" pos:end="105:73"><name pos:start="105:72" pos:end="105:73">s1</name></expr></argument>)</argument_list></call> <operator pos:start="105:76" pos:end="105:76">&lt;</operator> <literal type="number" pos:start="105:78" pos:end="105:78">0</literal></expr>)</condition><block type="pseudo" pos:start="107:9" pos:end="107:18"><block_content pos:start="107:9" pos:end="107:18">

        <return pos:start="107:9" pos:end="107:18">return <expr pos:start="107:16" pos:end="107:17"><operator pos:start="107:16" pos:end="107:16">-</operator><literal type="number" pos:start="107:17" pos:end="107:17">1</literal></expr>;</return></block_content></block></if></if_stmt>



    <expr_stmt pos:start="111:5" pos:end="111:25"><expr pos:start="111:5" pos:end="111:24"><name pos:start="111:5" pos:end="111:19">desired_palette</name> <operator pos:start="111:21" pos:end="111:21">=</operator> <operator pos:start="111:23" pos:end="111:23">-</operator><literal type="number" pos:start="111:24" pos:end="111:24">1</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="113:5" pos:end="113:23"><expr pos:start="113:5" pos:end="113:22"><name pos:start="113:5" pos:end="113:17">desired_depth</name> <operator pos:start="113:19" pos:end="113:19">=</operator> <operator pos:start="113:21" pos:end="113:21">-</operator><literal type="number" pos:start="113:22" pos:end="113:22">1</literal></expr>;</expr_stmt>

    <for pos:start="115:5" pos:end="127:5">for <control pos:start="115:9" pos:end="115:37">(<init pos:start="115:10" pos:end="115:15"><expr pos:start="115:10" pos:end="115:14"><name pos:start="115:10" pos:end="115:10">j</name> <operator pos:start="115:12" pos:end="115:12">=</operator> <literal type="number" pos:start="115:14" pos:end="115:14">0</literal></expr>;</init> <condition pos:start="115:17" pos:end="115:32"><expr pos:start="115:17" pos:end="115:31"><name pos:start="115:17" pos:end="115:17">j</name> <operator pos:start="115:19" pos:end="115:19">&lt;</operator> <name pos:start="115:21" pos:end="115:31">vformat_num</name></expr>;</condition> <incr pos:start="115:34" pos:end="115:36"><expr pos:start="115:34" pos:end="115:36"><name pos:start="115:34" pos:end="115:34">j</name><operator pos:start="115:35" pos:end="115:36">++</operator></expr></incr>)</control> <block pos:start="115:39" pos:end="127:5">{<block_content pos:start="117:9" pos:end="125:9">

        <if_stmt pos:start="117:9" pos:end="125:9"><if pos:start="117:9" pos:end="125:9">if <condition pos:start="117:12" pos:end="117:52">(<expr pos:start="117:13" pos:end="117:51"><name pos:start="117:13" pos:end="117:23"><name pos:start="117:13" pos:end="117:14">ap</name><operator pos:start="117:15" pos:end="117:16">-&gt;</operator><name pos:start="117:17" pos:end="117:23">pix_fmt</name></name> <operator pos:start="117:25" pos:end="117:26">==</operator> <name pos:start="117:28" pos:end="117:43"><name pos:start="117:28" pos:end="117:40">video_formats</name><index pos:start="117:41" pos:end="117:43">[<expr pos:start="117:42" pos:end="117:42"><name pos:start="117:42" pos:end="117:42">j</name></expr>]</index></name><operator pos:start="117:44" pos:end="117:44">.</operator><name pos:start="117:45" pos:end="117:51">pix_fmt</name></expr>)</condition> <block pos:start="117:54" pos:end="125:9">{<block_content pos:start="119:13" pos:end="123:18">

            <expr_stmt pos:start="119:13" pos:end="119:55"><expr pos:start="119:13" pos:end="119:54"><name pos:start="119:13" pos:end="119:27">desired_palette</name> <operator pos:start="119:29" pos:end="119:29">=</operator> <name pos:start="119:31" pos:end="119:46"><name pos:start="119:31" pos:end="119:43">video_formats</name><index pos:start="119:44" pos:end="119:46">[<expr pos:start="119:45" pos:end="119:45"><name pos:start="119:45" pos:end="119:45">j</name></expr>]</index></name><operator pos:start="119:47" pos:end="119:47">.</operator><name pos:start="119:48" pos:end="119:54">palette</name></expr>;</expr_stmt>

            <expr_stmt pos:start="121:13" pos:end="121:51"><expr pos:start="121:13" pos:end="121:50"><name pos:start="121:13" pos:end="121:25">desired_depth</name> <operator pos:start="121:27" pos:end="121:27">=</operator> <name pos:start="121:29" pos:end="121:44"><name pos:start="121:29" pos:end="121:41">video_formats</name><index pos:start="121:42" pos:end="121:44">[<expr pos:start="121:43" pos:end="121:43"><name pos:start="121:43" pos:end="121:43">j</name></expr>]</index></name><operator pos:start="121:45" pos:end="121:45">.</operator><name pos:start="121:46" pos:end="121:50">depth</name></expr>;</expr_stmt>

            <break pos:start="123:13" pos:end="123:18">break;</break>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></for>



    <comment type="block" pos:start="131:5" pos:end="131:25">/* set tv standard */</comment>

    <if_stmt pos:start="133:5" pos:end="139:5"><if pos:start="133:5" pos:end="139:5">if <condition pos:start="133:8" pos:end="133:47">(<expr pos:start="133:9" pos:end="133:46"><operator pos:start="133:9" pos:end="133:9">!</operator><call pos:start="133:10" pos:end="133:46"><name pos:start="133:10" pos:end="133:14">ioctl</name><argument_list pos:start="133:15" pos:end="133:46">(<argument pos:start="133:16" pos:end="133:23"><expr pos:start="133:16" pos:end="133:23"><name pos:start="133:16" pos:end="133:23">video_fd</name></expr></argument>, <argument pos:start="133:26" pos:end="133:37"><expr pos:start="133:26" pos:end="133:37"><name pos:start="133:26" pos:end="133:37">VIDIOCGTUNER</name></expr></argument>, <argument pos:start="133:40" pos:end="133:45"><expr pos:start="133:40" pos:end="133:45"><operator pos:start="133:40" pos:end="133:40">&amp;</operator><name pos:start="133:41" pos:end="133:45">tuner</name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="133:49" pos:end="139:5">{<block_content pos:start="135:9" pos:end="137:46">

        <expr_stmt pos:start="135:9" pos:end="135:33"><expr pos:start="135:9" pos:end="135:32"><name pos:start="135:9" pos:end="135:18"><name pos:start="135:9" pos:end="135:13">tuner</name><operator pos:start="135:14" pos:end="135:14">.</operator><name pos:start="135:15" pos:end="135:18">mode</name></name> <operator pos:start="135:20" pos:end="135:20">=</operator> <name pos:start="135:22" pos:end="135:32"><name pos:start="135:22" pos:end="135:22">s</name><operator pos:start="135:23" pos:end="135:24">-&gt;</operator><name pos:start="135:25" pos:end="135:32">standard</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="137:9" pos:end="137:46"><expr pos:start="137:9" pos:end="137:45"><call pos:start="137:9" pos:end="137:45"><name pos:start="137:9" pos:end="137:13">ioctl</name><argument_list pos:start="137:14" pos:end="137:45">(<argument pos:start="137:15" pos:end="137:22"><expr pos:start="137:15" pos:end="137:22"><name pos:start="137:15" pos:end="137:22">video_fd</name></expr></argument>, <argument pos:start="137:25" pos:end="137:36"><expr pos:start="137:25" pos:end="137:36"><name pos:start="137:25" pos:end="137:36">VIDIOCSTUNER</name></expr></argument>, <argument pos:start="137:39" pos:end="137:44"><expr pos:start="137:39" pos:end="137:44"><operator pos:start="137:39" pos:end="137:39">&amp;</operator><name pos:start="137:40" pos:end="137:44">tuner</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <comment type="block" pos:start="143:5" pos:end="143:22">/* unmute audio */</comment>

    <expr_stmt pos:start="145:5" pos:end="145:20"><expr pos:start="145:5" pos:end="145:19"><name pos:start="145:5" pos:end="145:15"><name pos:start="145:5" pos:end="145:9">audio</name><operator pos:start="145:10" pos:end="145:10">.</operator><name pos:start="145:11" pos:end="145:15">audio</name></name> <operator pos:start="145:17" pos:end="145:17">=</operator> <literal type="number" pos:start="145:19" pos:end="145:19">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="147:5" pos:end="147:42"><expr pos:start="147:5" pos:end="147:41"><call pos:start="147:5" pos:end="147:41"><name pos:start="147:5" pos:end="147:9">ioctl</name><argument_list pos:start="147:10" pos:end="147:41">(<argument pos:start="147:11" pos:end="147:18"><expr pos:start="147:11" pos:end="147:18"><name pos:start="147:11" pos:end="147:18">video_fd</name></expr></argument>, <argument pos:start="147:21" pos:end="147:32"><expr pos:start="147:21" pos:end="147:32"><name pos:start="147:21" pos:end="147:32">VIDIOCGAUDIO</name></expr></argument>, <argument pos:start="147:35" pos:end="147:40"><expr pos:start="147:35" pos:end="147:40"><operator pos:start="147:35" pos:end="147:35">&amp;</operator><name pos:start="147:36" pos:end="147:40">audio</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="149:5" pos:end="149:51"><expr pos:start="149:5" pos:end="149:50"><call pos:start="149:5" pos:end="149:50"><name pos:start="149:5" pos:end="149:10">memcpy</name><argument_list pos:start="149:11" pos:end="149:50">(<argument pos:start="149:12" pos:end="149:26"><expr pos:start="149:12" pos:end="149:26"><operator pos:start="149:12" pos:end="149:12">&amp;</operator><name pos:start="149:13" pos:end="149:26"><name pos:start="149:13" pos:end="149:13">s</name><operator pos:start="149:14" pos:end="149:15">-&gt;</operator><name pos:start="149:16" pos:end="149:26">audio_saved</name></name></expr></argument>, <argument pos:start="149:29" pos:end="149:34"><expr pos:start="149:29" pos:end="149:34"><operator pos:start="149:29" pos:end="149:29">&amp;</operator><name pos:start="149:30" pos:end="149:34">audio</name></expr></argument>, <argument pos:start="149:37" pos:end="149:49"><expr pos:start="149:37" pos:end="149:49"><sizeof pos:start="149:37" pos:end="149:49">sizeof<argument_list pos:start="149:43" pos:end="149:49">(<argument pos:start="149:44" pos:end="149:48"><expr pos:start="149:44" pos:end="149:48"><name pos:start="149:44" pos:end="149:48">audio</name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="151:5" pos:end="151:37"><expr pos:start="151:5" pos:end="151:36"><name pos:start="151:5" pos:end="151:15"><name pos:start="151:5" pos:end="151:9">audio</name><operator pos:start="151:10" pos:end="151:10">.</operator><name pos:start="151:11" pos:end="151:15">flags</name></name> <operator pos:start="151:17" pos:end="151:18">&amp;=</operator> <operator pos:start="151:20" pos:end="151:20">~</operator><name pos:start="151:21" pos:end="151:36">VIDEO_AUDIO_MUTE</name></expr>;</expr_stmt>

    <expr_stmt pos:start="153:5" pos:end="153:42"><expr pos:start="153:5" pos:end="153:41"><call pos:start="153:5" pos:end="153:41"><name pos:start="153:5" pos:end="153:9">ioctl</name><argument_list pos:start="153:10" pos:end="153:41">(<argument pos:start="153:11" pos:end="153:18"><expr pos:start="153:11" pos:end="153:18"><name pos:start="153:11" pos:end="153:18">video_fd</name></expr></argument>, <argument pos:start="153:21" pos:end="153:32"><expr pos:start="153:21" pos:end="153:32"><name pos:start="153:21" pos:end="153:32">VIDIOCSAUDIO</name></expr></argument>, <argument pos:start="153:35" pos:end="153:40"><expr pos:start="153:35" pos:end="153:40"><operator pos:start="153:35" pos:end="153:35">&amp;</operator><name pos:start="153:36" pos:end="153:40">audio</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="157:5" pos:end="157:40"><expr pos:start="157:5" pos:end="157:39"><call pos:start="157:5" pos:end="157:39"><name pos:start="157:5" pos:end="157:9">ioctl</name><argument_list pos:start="157:10" pos:end="157:39">(<argument pos:start="157:11" pos:end="157:18"><expr pos:start="157:11" pos:end="157:18"><name pos:start="157:11" pos:end="157:18">video_fd</name></expr></argument>, <argument pos:start="157:21" pos:end="157:31"><expr pos:start="157:21" pos:end="157:31"><name pos:start="157:21" pos:end="157:31">VIDIOCGPICT</name></expr></argument>, <argument pos:start="157:34" pos:end="157:38"><expr pos:start="157:34" pos:end="157:38"><operator pos:start="157:34" pos:end="157:34">&amp;</operator><name pos:start="157:35" pos:end="157:38">pict</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="159:5" pos:end="161:83"><expr pos:start="159:5" pos:end="161:82"><call pos:start="159:5" pos:end="161:82"><name pos:start="159:5" pos:end="159:11">av_dlog</name><argument_list pos:start="159:12" pos:end="161:82">(<argument pos:start="159:13" pos:end="159:14"><expr pos:start="159:13" pos:end="159:14"><name pos:start="159:13" pos:end="159:14">s1</name></expr></argument>, <argument pos:start="159:17" pos:end="159:81"><expr pos:start="159:17" pos:end="159:81"><literal type="string" pos:start="159:17" pos:end="159:81">"v4l: colour=%d hue=%d brightness=%d constrast=%d whiteness=%d\n"</literal></expr></argument>,

            <argument pos:start="161:13" pos:end="161:23"><expr pos:start="161:13" pos:end="161:23"><name pos:start="161:13" pos:end="161:23"><name pos:start="161:13" pos:end="161:16">pict</name><operator pos:start="161:17" pos:end="161:17">.</operator><name pos:start="161:18" pos:end="161:23">colour</name></name></expr></argument>, <argument pos:start="161:26" pos:end="161:33"><expr pos:start="161:26" pos:end="161:33"><name pos:start="161:26" pos:end="161:33"><name pos:start="161:26" pos:end="161:29">pict</name><operator pos:start="161:30" pos:end="161:30">.</operator><name pos:start="161:31" pos:end="161:33">hue</name></name></expr></argument>, <argument pos:start="161:36" pos:end="161:50"><expr pos:start="161:36" pos:end="161:50"><name pos:start="161:36" pos:end="161:50"><name pos:start="161:36" pos:end="161:39">pict</name><operator pos:start="161:40" pos:end="161:40">.</operator><name pos:start="161:41" pos:end="161:50">brightness</name></name></expr></argument>, <argument pos:start="161:53" pos:end="161:65"><expr pos:start="161:53" pos:end="161:65"><name pos:start="161:53" pos:end="161:65"><name pos:start="161:53" pos:end="161:56">pict</name><operator pos:start="161:57" pos:end="161:57">.</operator><name pos:start="161:58" pos:end="161:65">contrast</name></name></expr></argument>, <argument pos:start="161:68" pos:end="161:81"><expr pos:start="161:68" pos:end="161:81"><name pos:start="161:68" pos:end="161:81"><name pos:start="161:68" pos:end="161:71">pict</name><operator pos:start="161:72" pos:end="161:72">.</operator><name pos:start="161:73" pos:end="161:81">whiteness</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <comment type="block" pos:start="163:5" pos:end="163:47">/* try to choose a suitable video format */</comment>

    <expr_stmt pos:start="165:5" pos:end="165:35"><expr pos:start="165:5" pos:end="165:34"><name pos:start="165:5" pos:end="165:16"><name pos:start="165:5" pos:end="165:8">pict</name><operator pos:start="165:9" pos:end="165:9">.</operator><name pos:start="165:10" pos:end="165:16">palette</name></name> <operator pos:start="165:18" pos:end="165:18">=</operator> <name pos:start="165:20" pos:end="165:34">desired_palette</name></expr>;</expr_stmt>

    <expr_stmt pos:start="167:5" pos:end="167:30"><expr pos:start="167:5" pos:end="167:29"><name pos:start="167:5" pos:end="167:14"><name pos:start="167:5" pos:end="167:8">pict</name><operator pos:start="167:9" pos:end="167:9">.</operator><name pos:start="167:10" pos:end="167:14">depth</name></name><operator pos:start="167:15" pos:end="167:15">=</operator> <name pos:start="167:17" pos:end="167:29">desired_depth</name></expr>;</expr_stmt>

    <if_stmt pos:start="169:5" pos:end="187:5"><if pos:start="169:5" pos:end="187:5">if <condition pos:start="169:8" pos:end="169:73">(<expr pos:start="169:9" pos:end="169:72"><name pos:start="169:9" pos:end="169:23">desired_palette</name> <operator pos:start="169:25" pos:end="169:26">==</operator> <operator pos:start="169:28" pos:end="169:28">-</operator><literal type="number" pos:start="169:29" pos:end="169:29">1</literal> <operator pos:start="169:31" pos:end="169:32">||</operator> <call pos:start="169:34" pos:end="169:68"><name pos:start="169:34" pos:end="169:38">ioctl</name><argument_list pos:start="169:39" pos:end="169:68">(<argument pos:start="169:40" pos:end="169:47"><expr pos:start="169:40" pos:end="169:47"><name pos:start="169:40" pos:end="169:47">video_fd</name></expr></argument>, <argument pos:start="169:50" pos:end="169:60"><expr pos:start="169:50" pos:end="169:60"><name pos:start="169:50" pos:end="169:60">VIDIOCSPICT</name></expr></argument>, <argument pos:start="169:63" pos:end="169:67"><expr pos:start="169:63" pos:end="169:67"><operator pos:start="169:63" pos:end="169:63">&amp;</operator><name pos:start="169:64" pos:end="169:67">pict</name></expr></argument>)</argument_list></call> <operator pos:start="169:70" pos:end="169:70">&lt;</operator> <literal type="number" pos:start="169:72" pos:end="169:72">0</literal></expr>)</condition> <block pos:start="169:75" pos:end="187:5">{<block_content pos:start="171:9" pos:end="185:23">

        <for pos:start="171:9" pos:end="181:9">for <control pos:start="171:13" pos:end="171:41">(<init pos:start="171:14" pos:end="171:19"><expr pos:start="171:14" pos:end="171:18"><name pos:start="171:14" pos:end="171:14">j</name> <operator pos:start="171:16" pos:end="171:16">=</operator> <literal type="number" pos:start="171:18" pos:end="171:18">0</literal></expr>;</init> <condition pos:start="171:21" pos:end="171:36"><expr pos:start="171:21" pos:end="171:35"><name pos:start="171:21" pos:end="171:21">j</name> <operator pos:start="171:23" pos:end="171:23">&lt;</operator> <name pos:start="171:25" pos:end="171:35">vformat_num</name></expr>;</condition> <incr pos:start="171:38" pos:end="171:40"><expr pos:start="171:38" pos:end="171:40"><name pos:start="171:38" pos:end="171:38">j</name><operator pos:start="171:39" pos:end="171:40">++</operator></expr></incr>)</control> <block pos:start="171:43" pos:end="181:9">{<block_content pos:start="173:13" pos:end="179:22">

            <expr_stmt pos:start="173:13" pos:end="173:52"><expr pos:start="173:13" pos:end="173:51"><name pos:start="173:13" pos:end="173:24"><name pos:start="173:13" pos:end="173:16">pict</name><operator pos:start="173:17" pos:end="173:17">.</operator><name pos:start="173:18" pos:end="173:24">palette</name></name> <operator pos:start="173:26" pos:end="173:26">=</operator> <name pos:start="173:28" pos:end="173:43"><name pos:start="173:28" pos:end="173:40">video_formats</name><index pos:start="173:41" pos:end="173:43">[<expr pos:start="173:42" pos:end="173:42"><name pos:start="173:42" pos:end="173:42">j</name></expr>]</index></name><operator pos:start="173:44" pos:end="173:44">.</operator><name pos:start="173:45" pos:end="173:51">palette</name></expr>;</expr_stmt>

            <expr_stmt pos:start="175:13" pos:end="175:48"><expr pos:start="175:13" pos:end="175:47"><name pos:start="175:13" pos:end="175:22"><name pos:start="175:13" pos:end="175:16">pict</name><operator pos:start="175:17" pos:end="175:17">.</operator><name pos:start="175:18" pos:end="175:22">depth</name></name> <operator pos:start="175:24" pos:end="175:24">=</operator> <name pos:start="175:26" pos:end="175:41"><name pos:start="175:26" pos:end="175:38">video_formats</name><index pos:start="175:39" pos:end="175:41">[<expr pos:start="175:40" pos:end="175:40"><name pos:start="175:40" pos:end="175:40">j</name></expr>]</index></name><operator pos:start="175:42" pos:end="175:42">.</operator><name pos:start="175:43" pos:end="175:47">depth</name></expr>;</expr_stmt>

            <if_stmt pos:start="177:13" pos:end="179:22"><if pos:start="177:13" pos:end="179:22">if <condition pos:start="177:16" pos:end="177:58">(<expr pos:start="177:17" pos:end="177:57"><operator pos:start="177:17" pos:end="177:17">-</operator><literal type="number" pos:start="177:18" pos:end="177:18">1</literal> <operator pos:start="177:20" pos:end="177:21">!=</operator> <call pos:start="177:23" pos:end="177:57"><name pos:start="177:23" pos:end="177:27">ioctl</name><argument_list pos:start="177:28" pos:end="177:57">(<argument pos:start="177:29" pos:end="177:36"><expr pos:start="177:29" pos:end="177:36"><name pos:start="177:29" pos:end="177:36">video_fd</name></expr></argument>, <argument pos:start="177:39" pos:end="177:49"><expr pos:start="177:39" pos:end="177:49"><name pos:start="177:39" pos:end="177:49">VIDIOCSPICT</name></expr></argument>, <argument pos:start="177:52" pos:end="177:56"><expr pos:start="177:52" pos:end="177:56"><operator pos:start="177:52" pos:end="177:52">&amp;</operator><name pos:start="177:53" pos:end="177:56">pict</name></expr></argument>)</argument_list></call></expr>)</condition><block type="pseudo" pos:start="179:17" pos:end="179:22"><block_content pos:start="179:17" pos:end="179:22">

                <break pos:start="179:17" pos:end="179:22">break;</break></block_content></block></if></if_stmt>

        </block_content>}</block></for>

        <if_stmt pos:start="183:9" pos:end="185:23"><if pos:start="183:9" pos:end="185:23">if <condition pos:start="183:12" pos:end="183:29">(<expr pos:start="183:13" pos:end="183:28"><name pos:start="183:13" pos:end="183:13">j</name> <operator pos:start="183:15" pos:end="183:16">&gt;=</operator> <name pos:start="183:18" pos:end="183:28">vformat_num</name></expr>)</condition><block type="pseudo" pos:start="185:13" pos:end="185:23"><block_content pos:start="185:13" pos:end="185:23">

            <goto pos:start="185:13" pos:end="185:23">goto <name pos:start="185:18" pos:end="185:22">fail1</name>;</goto></block_content></block></if></if_stmt>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="191:5" pos:end="305:5"><if pos:start="191:5" pos:end="239:5">if <condition pos:start="191:8" pos:end="191:57">(<expr pos:start="191:9" pos:end="191:56"><call pos:start="191:9" pos:end="191:52"><name pos:start="191:9" pos:end="191:13">ioctl</name><argument_list pos:start="191:14" pos:end="191:52">(<argument pos:start="191:15" pos:end="191:22"><expr pos:start="191:15" pos:end="191:22"><name pos:start="191:15" pos:end="191:22">video_fd</name></expr></argument>, <argument pos:start="191:25" pos:end="191:35"><expr pos:start="191:25" pos:end="191:35"><name pos:start="191:25" pos:end="191:35">VIDIOCGMBUF</name></expr></argument>, <argument pos:start="191:38" pos:end="191:51"><expr pos:start="191:38" pos:end="191:51"><operator pos:start="191:38" pos:end="191:38">&amp;</operator><name pos:start="191:39" pos:end="191:51"><name pos:start="191:39" pos:end="191:39">s</name><operator pos:start="191:40" pos:end="191:41">-&gt;</operator><name pos:start="191:42" pos:end="191:51">gb_buffers</name></name></expr></argument>)</argument_list></call> <operator pos:start="191:54" pos:end="191:54">&lt;</operator> <literal type="number" pos:start="191:56" pos:end="191:56">0</literal></expr>)</condition> <block pos:start="191:59" pos:end="239:5">{<block_content pos:start="195:9" pos:end="237:24">

        <comment type="block" pos:start="193:9" pos:end="193:42">/* try to use read based access */</comment>

        <decl_stmt pos:start="195:9" pos:end="195:16"><decl pos:start="195:9" pos:end="195:15"><type pos:start="195:9" pos:end="195:11"><name pos:start="195:9" pos:end="195:11">int</name></type> <name pos:start="195:13" pos:end="195:15">val</name></decl>;</decl_stmt>



        <expr_stmt pos:start="199:9" pos:end="199:27"><expr pos:start="199:9" pos:end="199:26"><name pos:start="199:9" pos:end="199:22"><name pos:start="199:9" pos:end="199:9">s</name><operator pos:start="199:10" pos:end="199:11">-&gt;</operator><name pos:start="199:12" pos:end="199:20">video_win</name><operator pos:start="199:21" pos:end="199:21">.</operator><name pos:start="199:22" pos:end="199:22">x</name></name> <operator pos:start="199:24" pos:end="199:24">=</operator> <literal type="number" pos:start="199:26" pos:end="199:26">0</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="201:9" pos:end="201:27"><expr pos:start="201:9" pos:end="201:26"><name pos:start="201:9" pos:end="201:22"><name pos:start="201:9" pos:end="201:9">s</name><operator pos:start="201:10" pos:end="201:11">-&gt;</operator><name pos:start="201:12" pos:end="201:20">video_win</name><operator pos:start="201:21" pos:end="201:21">.</operator><name pos:start="201:22" pos:end="201:22">y</name></name> <operator pos:start="201:24" pos:end="201:24">=</operator> <literal type="number" pos:start="201:26" pos:end="201:26">0</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="203:9" pos:end="203:36"><expr pos:start="203:9" pos:end="203:35"><name pos:start="203:9" pos:end="203:30"><name pos:start="203:9" pos:end="203:9">s</name><operator pos:start="203:10" pos:end="203:11">-&gt;</operator><name pos:start="203:12" pos:end="203:20">video_win</name><operator pos:start="203:21" pos:end="203:21">.</operator><name pos:start="203:22" pos:end="203:30">chromakey</name></name> <operator pos:start="203:32" pos:end="203:32">=</operator> <operator pos:start="203:34" pos:end="203:34">-</operator><literal type="number" pos:start="203:35" pos:end="203:35">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="205:9" pos:end="205:31"><expr pos:start="205:9" pos:end="205:30"><name pos:start="205:9" pos:end="205:26"><name pos:start="205:9" pos:end="205:9">s</name><operator pos:start="205:10" pos:end="205:11">-&gt;</operator><name pos:start="205:12" pos:end="205:20">video_win</name><operator pos:start="205:21" pos:end="205:21">.</operator><name pos:start="205:22" pos:end="205:26">flags</name></name> <operator pos:start="205:28" pos:end="205:28">=</operator> <literal type="number" pos:start="205:30" pos:end="205:30">0</literal></expr>;</expr_stmt>



        <if_stmt pos:start="209:9" pos:end="215:9"><if pos:start="209:9" pos:end="215:9">if <condition pos:start="209:12" pos:end="209:58">(<expr pos:start="209:13" pos:end="209:57"><call pos:start="209:13" pos:end="209:53"><name pos:start="209:13" pos:end="209:17">ioctl</name><argument_list pos:start="209:18" pos:end="209:53">(<argument pos:start="209:19" pos:end="209:26"><expr pos:start="209:19" pos:end="209:26"><name pos:start="209:19" pos:end="209:26">video_fd</name></expr></argument>, <argument pos:start="209:29" pos:end="209:38"><expr pos:start="209:29" pos:end="209:38"><name pos:start="209:29" pos:end="209:38">VIDIOCSWIN</name></expr></argument>, <argument pos:start="209:41" pos:end="209:52"><expr pos:start="209:41" pos:end="209:52"><name pos:start="209:41" pos:end="209:52"><name pos:start="209:41" pos:end="209:41">s</name><operator pos:start="209:42" pos:end="209:43">-&gt;</operator><name pos:start="209:44" pos:end="209:52">video_win</name></name></expr></argument>)</argument_list></call> <operator pos:start="209:55" pos:end="209:55">&lt;</operator> <literal type="number" pos:start="209:57" pos:end="209:57">0</literal></expr>)</condition> <block pos:start="209:60" pos:end="215:9">{<block_content pos:start="211:13" pos:end="213:22">

            <expr_stmt pos:start="211:13" pos:end="211:74"><expr pos:start="211:13" pos:end="211:73"><call pos:start="211:13" pos:end="211:73"><name pos:start="211:13" pos:end="211:18">av_log</name><argument_list pos:start="211:19" pos:end="211:73">(<argument pos:start="211:20" pos:end="211:21"><expr pos:start="211:20" pos:end="211:21"><name pos:start="211:20" pos:end="211:21">s1</name></expr></argument>, <argument pos:start="211:24" pos:end="211:35"><expr pos:start="211:24" pos:end="211:35"><name pos:start="211:24" pos:end="211:35">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="211:38" pos:end="211:55"><expr pos:start="211:38" pos:end="211:55"><literal type="string" pos:start="211:38" pos:end="211:55">"VIDIOCSWIN: %s\n"</literal></expr></argument>, <argument pos:start="211:58" pos:end="211:72"><expr pos:start="211:58" pos:end="211:72"><call pos:start="211:58" pos:end="211:72"><name pos:start="211:58" pos:end="211:65">strerror</name><argument_list pos:start="211:66" pos:end="211:72">(<argument pos:start="211:67" pos:end="211:71"><expr pos:start="211:67" pos:end="211:71"><name pos:start="211:67" pos:end="211:71">errno</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <goto pos:start="213:13" pos:end="213:22">goto <name pos:start="213:18" pos:end="213:21">fail</name>;</goto>

        </block_content>}</block></if></if_stmt>



        <expr_stmt pos:start="219:9" pos:end="219:39"><expr pos:start="219:9" pos:end="219:38"><name pos:start="219:9" pos:end="219:23"><name pos:start="219:9" pos:end="219:9">s</name><operator pos:start="219:10" pos:end="219:11">-&gt;</operator><name pos:start="219:12" pos:end="219:23">frame_format</name></name> <operator pos:start="219:25" pos:end="219:25">=</operator> <name pos:start="219:27" pos:end="219:38"><name pos:start="219:27" pos:end="219:30">pict</name><operator pos:start="219:31" pos:end="219:31">.</operator><name pos:start="219:32" pos:end="219:38">palette</name></name></expr>;</expr_stmt>



        <expr_stmt pos:start="223:9" pos:end="223:16"><expr pos:start="223:9" pos:end="223:15"><name pos:start="223:9" pos:end="223:11">val</name> <operator pos:start="223:13" pos:end="223:13">=</operator> <literal type="number" pos:start="223:15" pos:end="223:15">1</literal></expr>;</expr_stmt>

        <if_stmt pos:start="225:9" pos:end="231:9"><if pos:start="225:9" pos:end="231:9">if <condition pos:start="225:12" pos:end="225:53">(<expr pos:start="225:13" pos:end="225:52"><call pos:start="225:13" pos:end="225:48"><name pos:start="225:13" pos:end="225:17">ioctl</name><argument_list pos:start="225:18" pos:end="225:48">(<argument pos:start="225:19" pos:end="225:26"><expr pos:start="225:19" pos:end="225:26"><name pos:start="225:19" pos:end="225:26">video_fd</name></expr></argument>, <argument pos:start="225:29" pos:end="225:41"><expr pos:start="225:29" pos:end="225:41"><name pos:start="225:29" pos:end="225:41">VIDIOCCAPTURE</name></expr></argument>, <argument pos:start="225:44" pos:end="225:47"><expr pos:start="225:44" pos:end="225:47"><operator pos:start="225:44" pos:end="225:44">&amp;</operator><name pos:start="225:45" pos:end="225:47">val</name></expr></argument>)</argument_list></call> <operator pos:start="225:50" pos:end="225:50">&lt;</operator> <literal type="number" pos:start="225:52" pos:end="225:52">0</literal></expr>)</condition> <block pos:start="225:55" pos:end="231:9">{<block_content pos:start="227:13" pos:end="229:22">

            <expr_stmt pos:start="227:13" pos:end="227:77"><expr pos:start="227:13" pos:end="227:76"><call pos:start="227:13" pos:end="227:76"><name pos:start="227:13" pos:end="227:18">av_log</name><argument_list pos:start="227:19" pos:end="227:76">(<argument pos:start="227:20" pos:end="227:21"><expr pos:start="227:20" pos:end="227:21"><name pos:start="227:20" pos:end="227:21">s1</name></expr></argument>, <argument pos:start="227:24" pos:end="227:35"><expr pos:start="227:24" pos:end="227:35"><name pos:start="227:24" pos:end="227:35">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="227:38" pos:end="227:58"><expr pos:start="227:38" pos:end="227:58"><literal type="string" pos:start="227:38" pos:end="227:58">"VIDIOCCAPTURE: %s\n"</literal></expr></argument>, <argument pos:start="227:61" pos:end="227:75"><expr pos:start="227:61" pos:end="227:75"><call pos:start="227:61" pos:end="227:75"><name pos:start="227:61" pos:end="227:68">strerror</name><argument_list pos:start="227:69" pos:end="227:75">(<argument pos:start="227:70" pos:end="227:74"><expr pos:start="227:70" pos:end="227:74"><name pos:start="227:70" pos:end="227:74">errno</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <goto pos:start="229:13" pos:end="229:22">goto <name pos:start="229:18" pos:end="229:21">fail</name>;</goto>

        </block_content>}</block></if></if_stmt>



        <expr_stmt pos:start="235:9" pos:end="235:75"><expr pos:start="235:9" pos:end="235:74"><name pos:start="235:9" pos:end="235:21"><name pos:start="235:9" pos:end="235:9">s</name><operator pos:start="235:10" pos:end="235:11">-&gt;</operator><name pos:start="235:12" pos:end="235:21">time_frame</name></name> <operator pos:start="235:23" pos:end="235:23">=</operator> <call pos:start="235:25" pos:end="235:36"><name pos:start="235:25" pos:end="235:34">av_gettime</name><argument_list pos:start="235:35" pos:end="235:36">()</argument_list></call> <operator pos:start="235:38" pos:end="235:38">*</operator> <name pos:start="235:40" pos:end="235:55"><name pos:start="235:40" pos:end="235:40">s</name><operator pos:start="235:41" pos:end="235:42">-&gt;</operator><name pos:start="235:43" pos:end="235:51">time_base</name><operator pos:start="235:52" pos:end="235:52">.</operator><name pos:start="235:53" pos:end="235:55">den</name></name> <operator pos:start="235:57" pos:end="235:57">/</operator> <name pos:start="235:59" pos:end="235:74"><name pos:start="235:59" pos:end="235:59">s</name><operator pos:start="235:60" pos:end="235:61">-&gt;</operator><name pos:start="235:62" pos:end="235:70">time_base</name><operator pos:start="235:71" pos:end="235:71">.</operator><name pos:start="235:72" pos:end="235:74">num</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="237:9" pos:end="237:24"><expr pos:start="237:9" pos:end="237:23"><name pos:start="237:9" pos:end="237:19"><name pos:start="237:9" pos:end="237:9">s</name><operator pos:start="237:10" pos:end="237:11">-&gt;</operator><name pos:start="237:12" pos:end="237:19">use_mmap</name></name> <operator pos:start="237:21" pos:end="237:21">=</operator> <literal type="number" pos:start="237:23" pos:end="237:23">0</literal></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="239:7" pos:end="305:5">else <block pos:start="239:12" pos:end="305:5">{<block_content pos:start="241:9" pos:end="303:24">

        <expr_stmt pos:start="241:9" pos:end="241:98"><expr pos:start="241:9" pos:end="241:97"><name pos:start="241:9" pos:end="241:20"><name pos:start="241:9" pos:end="241:9">s</name><operator pos:start="241:10" pos:end="241:11">-&gt;</operator><name pos:start="241:12" pos:end="241:20">video_buf</name></name> <operator pos:start="241:22" pos:end="241:22">=</operator> <call pos:start="241:24" pos:end="241:97"><name pos:start="241:24" pos:end="241:27">mmap</name><argument_list pos:start="241:28" pos:end="241:97">(<argument pos:start="241:29" pos:end="241:29"><expr pos:start="241:29" pos:end="241:29"><literal type="number" pos:start="241:29" pos:end="241:29">0</literal></expr></argument>, <argument pos:start="241:32" pos:end="241:49"><expr pos:start="241:32" pos:end="241:49"><name pos:start="241:32" pos:end="241:49"><name pos:start="241:32" pos:end="241:32">s</name><operator pos:start="241:33" pos:end="241:34">-&gt;</operator><name pos:start="241:35" pos:end="241:44">gb_buffers</name><operator pos:start="241:45" pos:end="241:45">.</operator><name pos:start="241:46" pos:end="241:49">size</name></name></expr></argument>, <argument pos:start="241:52" pos:end="241:71"><expr pos:start="241:52" pos:end="241:71"><name pos:start="241:52" pos:end="241:60">PROT_READ</name><operator pos:start="241:61" pos:end="241:61">|</operator><name pos:start="241:62" pos:end="241:71">PROT_WRITE</name></expr></argument>, <argument pos:start="241:74" pos:end="241:83"><expr pos:start="241:74" pos:end="241:83"><name pos:start="241:74" pos:end="241:83">MAP_SHARED</name></expr></argument>, <argument pos:start="241:86" pos:end="241:93"><expr pos:start="241:86" pos:end="241:93"><name pos:start="241:86" pos:end="241:93">video_fd</name></expr></argument>, <argument pos:start="241:96" pos:end="241:96"><expr pos:start="241:96" pos:end="241:96"><literal type="number" pos:start="241:96" pos:end="241:96">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="243:9" pos:end="255:9"><if pos:start="243:9" pos:end="255:9">if <condition pos:start="243:12" pos:end="243:47">(<expr pos:start="243:13" pos:end="243:46"><operator pos:start="243:13" pos:end="243:13">(</operator><name pos:start="243:14" pos:end="243:21">unsigned</name> <name pos:start="243:23" pos:end="243:26">char</name><operator pos:start="243:27" pos:end="243:27">*</operator><operator pos:start="243:28" pos:end="243:28">)</operator><operator pos:start="243:29" pos:end="243:29">-</operator><literal type="number" pos:start="243:30" pos:end="243:30">1</literal> <operator pos:start="243:32" pos:end="243:33">==</operator> <name pos:start="243:35" pos:end="243:46"><name pos:start="243:35" pos:end="243:35">s</name><operator pos:start="243:36" pos:end="243:37">-&gt;</operator><name pos:start="243:38" pos:end="243:46">video_buf</name></name></expr>)</condition> <block pos:start="243:49" pos:end="255:9">{<block_content pos:start="245:13" pos:end="253:13">

            <expr_stmt pos:start="245:13" pos:end="245:103"><expr pos:start="245:13" pos:end="245:102"><name pos:start="245:13" pos:end="245:24"><name pos:start="245:13" pos:end="245:13">s</name><operator pos:start="245:14" pos:end="245:15">-&gt;</operator><name pos:start="245:16" pos:end="245:24">video_buf</name></name> <operator pos:start="245:26" pos:end="245:26">=</operator> <call pos:start="245:28" pos:end="245:102"><name pos:start="245:28" pos:end="245:31">mmap</name><argument_list pos:start="245:32" pos:end="245:102">(<argument pos:start="245:33" pos:end="245:33"><expr pos:start="245:33" pos:end="245:33"><literal type="number" pos:start="245:33" pos:end="245:33">0</literal></expr></argument>, <argument pos:start="245:36" pos:end="245:53"><expr pos:start="245:36" pos:end="245:53"><name pos:start="245:36" pos:end="245:53"><name pos:start="245:36" pos:end="245:36">s</name><operator pos:start="245:37" pos:end="245:38">-&gt;</operator><name pos:start="245:39" pos:end="245:48">gb_buffers</name><operator pos:start="245:49" pos:end="245:49">.</operator><name pos:start="245:50" pos:end="245:53">size</name></name></expr></argument>, <argument pos:start="245:56" pos:end="245:75"><expr pos:start="245:56" pos:end="245:75"><name pos:start="245:56" pos:end="245:64">PROT_READ</name><operator pos:start="245:65" pos:end="245:65">|</operator><name pos:start="245:66" pos:end="245:75">PROT_WRITE</name></expr></argument>, <argument pos:start="245:78" pos:end="245:88"><expr pos:start="245:78" pos:end="245:88"><name pos:start="245:78" pos:end="245:88">MAP_PRIVATE</name></expr></argument>, <argument pos:start="245:91" pos:end="245:98"><expr pos:start="245:91" pos:end="245:98"><name pos:start="245:91" pos:end="245:98">video_fd</name></expr></argument>, <argument pos:start="245:101" pos:end="245:101"><expr pos:start="245:101" pos:end="245:101"><literal type="number" pos:start="245:101" pos:end="245:101">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <if_stmt pos:start="247:13" pos:end="253:13"><if pos:start="247:13" pos:end="253:13">if <condition pos:start="247:16" pos:end="247:51">(<expr pos:start="247:17" pos:end="247:50"><operator pos:start="247:17" pos:end="247:17">(</operator><name pos:start="247:18" pos:end="247:25">unsigned</name> <name pos:start="247:27" pos:end="247:30">char</name><operator pos:start="247:31" pos:end="247:31">*</operator><operator pos:start="247:32" pos:end="247:32">)</operator><operator pos:start="247:33" pos:end="247:33">-</operator><literal type="number" pos:start="247:34" pos:end="247:34">1</literal> <operator pos:start="247:36" pos:end="247:37">==</operator> <name pos:start="247:39" pos:end="247:50"><name pos:start="247:39" pos:end="247:39">s</name><operator pos:start="247:40" pos:end="247:41">-&gt;</operator><name pos:start="247:42" pos:end="247:50">video_buf</name></name></expr>)</condition> <block pos:start="247:53" pos:end="253:13">{<block_content pos:start="249:17" pos:end="251:26">

                <expr_stmt pos:start="249:17" pos:end="249:72"><expr pos:start="249:17" pos:end="249:71"><call pos:start="249:17" pos:end="249:71"><name pos:start="249:17" pos:end="249:22">av_log</name><argument_list pos:start="249:23" pos:end="249:71">(<argument pos:start="249:24" pos:end="249:25"><expr pos:start="249:24" pos:end="249:25"><name pos:start="249:24" pos:end="249:25">s1</name></expr></argument>, <argument pos:start="249:28" pos:end="249:39"><expr pos:start="249:28" pos:end="249:39"><name pos:start="249:28" pos:end="249:39">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="249:42" pos:end="249:53"><expr pos:start="249:42" pos:end="249:53"><literal type="string" pos:start="249:42" pos:end="249:53">"mmap: %s\n"</literal></expr></argument>, <argument pos:start="249:56" pos:end="249:70"><expr pos:start="249:56" pos:end="249:70"><call pos:start="249:56" pos:end="249:70"><name pos:start="249:56" pos:end="249:63">strerror</name><argument_list pos:start="249:64" pos:end="249:70">(<argument pos:start="249:65" pos:end="249:69"><expr pos:start="249:65" pos:end="249:69"><name pos:start="249:65" pos:end="249:69">errno</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <goto pos:start="251:17" pos:end="251:26">goto <name pos:start="251:22" pos:end="251:25">fail</name>;</goto>

            </block_content>}</block></if></if_stmt>

        </block_content>}</block></if></if_stmt>

        <expr_stmt pos:start="257:9" pos:end="257:24"><expr pos:start="257:9" pos:end="257:23"><name pos:start="257:9" pos:end="257:19"><name pos:start="257:9" pos:end="257:9">s</name><operator pos:start="257:10" pos:end="257:11">-&gt;</operator><name pos:start="257:12" pos:end="257:19">gb_frame</name></name> <operator pos:start="257:21" pos:end="257:21">=</operator> <literal type="number" pos:start="257:23" pos:end="257:23">0</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="259:9" pos:end="259:75"><expr pos:start="259:9" pos:end="259:74"><name pos:start="259:9" pos:end="259:21"><name pos:start="259:9" pos:end="259:9">s</name><operator pos:start="259:10" pos:end="259:11">-&gt;</operator><name pos:start="259:12" pos:end="259:21">time_frame</name></name> <operator pos:start="259:23" pos:end="259:23">=</operator> <call pos:start="259:25" pos:end="259:36"><name pos:start="259:25" pos:end="259:34">av_gettime</name><argument_list pos:start="259:35" pos:end="259:36">()</argument_list></call> <operator pos:start="259:38" pos:end="259:38">*</operator> <name pos:start="259:40" pos:end="259:55"><name pos:start="259:40" pos:end="259:40">s</name><operator pos:start="259:41" pos:end="259:42">-&gt;</operator><name pos:start="259:43" pos:end="259:51">time_base</name><operator pos:start="259:52" pos:end="259:52">.</operator><name pos:start="259:53" pos:end="259:55">den</name></name> <operator pos:start="259:57" pos:end="259:57">/</operator> <name pos:start="259:59" pos:end="259:74"><name pos:start="259:59" pos:end="259:59">s</name><operator pos:start="259:60" pos:end="259:61">-&gt;</operator><name pos:start="259:62" pos:end="259:70">time_base</name><operator pos:start="259:71" pos:end="259:71">.</operator><name pos:start="259:72" pos:end="259:74">num</name></name></expr>;</expr_stmt>



        <comment type="block" pos:start="263:9" pos:end="263:43">/* start to grab the first frame */</comment>

        <expr_stmt pos:start="265:9" pos:end="265:61"><expr pos:start="265:9" pos:end="265:60"><name pos:start="265:9" pos:end="265:23"><name pos:start="265:9" pos:end="265:9">s</name><operator pos:start="265:10" pos:end="265:11">-&gt;</operator><name pos:start="265:12" pos:end="265:17">gb_buf</name><operator pos:start="265:18" pos:end="265:18">.</operator><name pos:start="265:19" pos:end="265:23">frame</name></name> <operator pos:start="265:25" pos:end="265:25">=</operator> <name pos:start="265:27" pos:end="265:37"><name pos:start="265:27" pos:end="265:27">s</name><operator pos:start="265:28" pos:end="265:29">-&gt;</operator><name pos:start="265:30" pos:end="265:37">gb_frame</name></name> <operator pos:start="265:39" pos:end="265:39">%</operator> <name pos:start="265:41" pos:end="265:60"><name pos:start="265:41" pos:end="265:41">s</name><operator pos:start="265:42" pos:end="265:43">-&gt;</operator><name pos:start="265:44" pos:end="265:53">gb_buffers</name><operator pos:start="265:54" pos:end="265:54">.</operator><name pos:start="265:55" pos:end="265:60">frames</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="267:9" pos:end="267:47"><expr pos:start="267:9" pos:end="267:46"><name pos:start="267:9" pos:end="267:24"><name pos:start="267:9" pos:end="267:9">s</name><operator pos:start="267:10" pos:end="267:11">-&gt;</operator><name pos:start="267:12" pos:end="267:17">gb_buf</name><operator pos:start="267:18" pos:end="267:18">.</operator><name pos:start="267:19" pos:end="267:24">height</name></name> <operator pos:start="267:26" pos:end="267:26">=</operator> <name pos:start="267:28" pos:end="267:46"><name pos:start="267:28" pos:end="267:28">s</name><operator pos:start="267:29" pos:end="267:30">-&gt;</operator><name pos:start="267:31" pos:end="267:39">video_win</name><operator pos:start="267:40" pos:end="267:40">.</operator><name pos:start="267:41" pos:end="267:46">height</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="269:9" pos:end="269:45"><expr pos:start="269:9" pos:end="269:44"><name pos:start="269:9" pos:end="269:23"><name pos:start="269:9" pos:end="269:9">s</name><operator pos:start="269:10" pos:end="269:11">-&gt;</operator><name pos:start="269:12" pos:end="269:17">gb_buf</name><operator pos:start="269:18" pos:end="269:18">.</operator><name pos:start="269:19" pos:end="269:23">width</name></name> <operator pos:start="269:25" pos:end="269:25">=</operator> <name pos:start="269:27" pos:end="269:44"><name pos:start="269:27" pos:end="269:27">s</name><operator pos:start="269:28" pos:end="269:29">-&gt;</operator><name pos:start="269:30" pos:end="269:38">video_win</name><operator pos:start="269:39" pos:end="269:39">.</operator><name pos:start="269:40" pos:end="269:44">width</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="271:9" pos:end="271:40"><expr pos:start="271:9" pos:end="271:39"><name pos:start="271:9" pos:end="271:24"><name pos:start="271:9" pos:end="271:9">s</name><operator pos:start="271:10" pos:end="271:11">-&gt;</operator><name pos:start="271:12" pos:end="271:17">gb_buf</name><operator pos:start="271:18" pos:end="271:18">.</operator><name pos:start="271:19" pos:end="271:24">format</name></name> <operator pos:start="271:26" pos:end="271:26">=</operator> <name pos:start="271:28" pos:end="271:39"><name pos:start="271:28" pos:end="271:31">pict</name><operator pos:start="271:32" pos:end="271:32">.</operator><name pos:start="271:33" pos:end="271:39">palette</name></name></expr>;</expr_stmt>



        <if_stmt pos:start="275:9" pos:end="291:9"><if pos:start="275:9" pos:end="291:9">if <condition pos:start="275:12" pos:end="275:60">(<expr pos:start="275:13" pos:end="275:59"><call pos:start="275:13" pos:end="275:55"><name pos:start="275:13" pos:end="275:17">ioctl</name><argument_list pos:start="275:18" pos:end="275:55">(<argument pos:start="275:19" pos:end="275:26"><expr pos:start="275:19" pos:end="275:26"><name pos:start="275:19" pos:end="275:26">video_fd</name></expr></argument>, <argument pos:start="275:29" pos:end="275:42"><expr pos:start="275:29" pos:end="275:42"><name pos:start="275:29" pos:end="275:42">VIDIOCMCAPTURE</name></expr></argument>, <argument pos:start="275:45" pos:end="275:54"><expr pos:start="275:45" pos:end="275:54"><operator pos:start="275:45" pos:end="275:45">&amp;</operator><name pos:start="275:46" pos:end="275:54"><name pos:start="275:46" pos:end="275:46">s</name><operator pos:start="275:47" pos:end="275:48">-&gt;</operator><name pos:start="275:49" pos:end="275:54">gb_buf</name></name></expr></argument>)</argument_list></call> <operator pos:start="275:57" pos:end="275:57">&lt;</operator> <literal type="number" pos:start="275:59" pos:end="275:59">0</literal></expr>)</condition> <block pos:start="275:62" pos:end="291:9">{<block_content pos:start="277:13" pos:end="289:22">

            <if_stmt pos:start="277:13" pos:end="287:13"><if pos:start="277:13" pos:end="283:13">if <condition pos:start="277:16" pos:end="277:32">(<expr pos:start="277:17" pos:end="277:31"><name pos:start="277:17" pos:end="277:21">errno</name> <operator pos:start="277:23" pos:end="277:24">!=</operator> <name pos:start="277:26" pos:end="277:31">EAGAIN</name></expr>)</condition> <block pos:start="277:34" pos:end="283:13">{<block_content pos:start="279:13" pos:end="281:82">

            <label pos:start="279:13" pos:end="279:18"><name pos:start="279:13" pos:end="279:17">fail1</name>:</label>

                <expr_stmt pos:start="281:17" pos:end="281:82"><expr pos:start="281:17" pos:end="281:81"><call pos:start="281:17" pos:end="281:81"><name pos:start="281:17" pos:end="281:22">av_log</name><argument_list pos:start="281:23" pos:end="281:81">(<argument pos:start="281:24" pos:end="281:25"><expr pos:start="281:24" pos:end="281:25"><name pos:start="281:24" pos:end="281:25">s1</name></expr></argument>, <argument pos:start="281:28" pos:end="281:39"><expr pos:start="281:28" pos:end="281:39"><name pos:start="281:28" pos:end="281:39">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="281:42" pos:end="281:63"><expr pos:start="281:42" pos:end="281:63"><literal type="string" pos:start="281:42" pos:end="281:63">"VIDIOCMCAPTURE: %s\n"</literal></expr></argument>, <argument pos:start="281:66" pos:end="281:80"><expr pos:start="281:66" pos:end="281:80"><call pos:start="281:66" pos:end="281:80"><name pos:start="281:66" pos:end="281:73">strerror</name><argument_list pos:start="281:74" pos:end="281:80">(<argument pos:start="281:75" pos:end="281:79"><expr pos:start="281:75" pos:end="281:79"><name pos:start="281:75" pos:end="281:79">errno</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></if> <else pos:start="283:15" pos:end="287:13">else <block pos:start="283:20" pos:end="287:13">{<block_content pos:start="285:17" pos:end="285:99">

                <expr_stmt pos:start="285:17" pos:end="285:99"><expr pos:start="285:17" pos:end="285:98"><call pos:start="285:17" pos:end="285:98"><name pos:start="285:17" pos:end="285:22">av_log</name><argument_list pos:start="285:23" pos:end="285:98">(<argument pos:start="285:24" pos:end="285:25"><expr pos:start="285:24" pos:end="285:25"><name pos:start="285:24" pos:end="285:25">s1</name></expr></argument>, <argument pos:start="285:28" pos:end="285:39"><expr pos:start="285:28" pos:end="285:39"><name pos:start="285:28" pos:end="285:39">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="285:42" pos:end="285:97"><expr pos:start="285:42" pos:end="285:97"><literal type="string" pos:start="285:42" pos:end="285:97">"Fatal: grab device does not receive any video signal\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></else></if_stmt>

            <goto pos:start="289:13" pos:end="289:22">goto <name pos:start="289:18" pos:end="289:21">fail</name>;</goto>

        </block_content>}</block></if></if_stmt>

        <for pos:start="293:9" pos:end="299:9">for <control pos:start="293:13" pos:end="293:50">(<init pos:start="293:14" pos:end="293:19"><expr pos:start="293:14" pos:end="293:18"><name pos:start="293:14" pos:end="293:14">j</name> <operator pos:start="293:16" pos:end="293:16">=</operator> <literal type="number" pos:start="293:18" pos:end="293:18">1</literal></expr>;</init> <condition pos:start="293:21" pos:end="293:45"><expr pos:start="293:21" pos:end="293:44"><name pos:start="293:21" pos:end="293:21">j</name> <operator pos:start="293:23" pos:end="293:23">&lt;</operator> <name pos:start="293:25" pos:end="293:44"><name pos:start="293:25" pos:end="293:25">s</name><operator pos:start="293:26" pos:end="293:27">-&gt;</operator><name pos:start="293:28" pos:end="293:37">gb_buffers</name><operator pos:start="293:38" pos:end="293:38">.</operator><name pos:start="293:39" pos:end="293:44">frames</name></name></expr>;</condition> <incr pos:start="293:47" pos:end="293:49"><expr pos:start="293:47" pos:end="293:49"><name pos:start="293:47" pos:end="293:47">j</name><operator pos:start="293:48" pos:end="293:49">++</operator></expr></incr>)</control> <block pos:start="293:52" pos:end="299:9">{<block_content pos:start="295:11" pos:end="297:54">

          <expr_stmt pos:start="295:11" pos:end="295:30"><expr pos:start="295:11" pos:end="295:29"><name pos:start="295:11" pos:end="295:25"><name pos:start="295:11" pos:end="295:11">s</name><operator pos:start="295:12" pos:end="295:13">-&gt;</operator><name pos:start="295:14" pos:end="295:19">gb_buf</name><operator pos:start="295:20" pos:end="295:20">.</operator><name pos:start="295:21" pos:end="295:25">frame</name></name> <operator pos:start="295:27" pos:end="295:27">=</operator> <name pos:start="295:29" pos:end="295:29">j</name></expr>;</expr_stmt>

          <expr_stmt pos:start="297:11" pos:end="297:54"><expr pos:start="297:11" pos:end="297:53"><call pos:start="297:11" pos:end="297:53"><name pos:start="297:11" pos:end="297:15">ioctl</name><argument_list pos:start="297:16" pos:end="297:53">(<argument pos:start="297:17" pos:end="297:24"><expr pos:start="297:17" pos:end="297:24"><name pos:start="297:17" pos:end="297:24">video_fd</name></expr></argument>, <argument pos:start="297:27" pos:end="297:40"><expr pos:start="297:27" pos:end="297:40"><name pos:start="297:27" pos:end="297:40">VIDIOCMCAPTURE</name></expr></argument>, <argument pos:start="297:43" pos:end="297:52"><expr pos:start="297:43" pos:end="297:52"><operator pos:start="297:43" pos:end="297:43">&amp;</operator><name pos:start="297:44" pos:end="297:52"><name pos:start="297:44" pos:end="297:44">s</name><operator pos:start="297:45" pos:end="297:46">-&gt;</operator><name pos:start="297:47" pos:end="297:52">gb_buf</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></for>

        <expr_stmt pos:start="301:9" pos:end="301:43"><expr pos:start="301:9" pos:end="301:42"><name pos:start="301:9" pos:end="301:23"><name pos:start="301:9" pos:end="301:9">s</name><operator pos:start="301:10" pos:end="301:11">-&gt;</operator><name pos:start="301:12" pos:end="301:23">frame_format</name></name> <operator pos:start="301:25" pos:end="301:25">=</operator> <name pos:start="301:27" pos:end="301:42"><name pos:start="301:27" pos:end="301:27">s</name><operator pos:start="301:28" pos:end="301:29">-&gt;</operator><name pos:start="301:30" pos:end="301:35">gb_buf</name><operator pos:start="301:36" pos:end="301:36">.</operator><name pos:start="301:37" pos:end="301:42">format</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="303:9" pos:end="303:24"><expr pos:start="303:9" pos:end="303:23"><name pos:start="303:9" pos:end="303:19"><name pos:start="303:9" pos:end="303:9">s</name><operator pos:start="303:10" pos:end="303:11">-&gt;</operator><name pos:start="303:12" pos:end="303:19">use_mmap</name></name> <operator pos:start="303:21" pos:end="303:21">=</operator> <literal type="number" pos:start="303:23" pos:end="303:23">1</literal></expr>;</expr_stmt>

    </block_content>}</block></else></if_stmt>



    <for pos:start="309:5" pos:end="321:5">for <control pos:start="309:9" pos:end="309:37">(<init pos:start="309:10" pos:end="309:15"><expr pos:start="309:10" pos:end="309:14"><name pos:start="309:10" pos:end="309:10">j</name> <operator pos:start="309:12" pos:end="309:12">=</operator> <literal type="number" pos:start="309:14" pos:end="309:14">0</literal></expr>;</init> <condition pos:start="309:17" pos:end="309:32"><expr pos:start="309:17" pos:end="309:31"><name pos:start="309:17" pos:end="309:17">j</name> <operator pos:start="309:19" pos:end="309:19">&lt;</operator> <name pos:start="309:21" pos:end="309:31">vformat_num</name></expr>;</condition> <incr pos:start="309:34" pos:end="309:36"><expr pos:start="309:34" pos:end="309:36"><name pos:start="309:34" pos:end="309:34">j</name><operator pos:start="309:35" pos:end="309:36">++</operator></expr></incr>)</control> <block pos:start="309:39" pos:end="321:5">{<block_content pos:start="311:9" pos:end="319:9">

        <if_stmt pos:start="311:9" pos:end="319:9"><if pos:start="311:9" pos:end="319:9">if <condition pos:start="311:12" pos:end="311:56">(<expr pos:start="311:13" pos:end="311:55"><name pos:start="311:13" pos:end="311:27"><name pos:start="311:13" pos:end="311:13">s</name><operator pos:start="311:14" pos:end="311:15">-&gt;</operator><name pos:start="311:16" pos:end="311:27">frame_format</name></name> <operator pos:start="311:29" pos:end="311:30">==</operator> <name pos:start="311:32" pos:end="311:47"><name pos:start="311:32" pos:end="311:44">video_formats</name><index pos:start="311:45" pos:end="311:47">[<expr pos:start="311:46" pos:end="311:46"><name pos:start="311:46" pos:end="311:46">j</name></expr>]</index></name><operator pos:start="311:48" pos:end="311:48">.</operator><name pos:start="311:49" pos:end="311:55">palette</name></expr>)</condition> <block pos:start="311:58" pos:end="319:9">{<block_content pos:start="313:13" pos:end="317:18">

            <expr_stmt pos:start="313:13" pos:end="313:98"><expr pos:start="313:13" pos:end="313:97"><name pos:start="313:13" pos:end="313:25"><name pos:start="313:13" pos:end="313:13">s</name><operator pos:start="313:14" pos:end="313:15">-&gt;</operator><name pos:start="313:16" pos:end="313:25">frame_size</name></name> <operator pos:start="313:27" pos:end="313:27">=</operator> <name pos:start="313:29" pos:end="313:46"><name pos:start="313:29" pos:end="313:29">s</name><operator pos:start="313:30" pos:end="313:31">-&gt;</operator><name pos:start="313:32" pos:end="313:40">video_win</name><operator pos:start="313:41" pos:end="313:41">.</operator><name pos:start="313:42" pos:end="313:46">width</name></name> <operator pos:start="313:48" pos:end="313:48">*</operator> <name pos:start="313:50" pos:end="313:68"><name pos:start="313:50" pos:end="313:50">s</name><operator pos:start="313:51" pos:end="313:52">-&gt;</operator><name pos:start="313:53" pos:end="313:61">video_win</name><operator pos:start="313:62" pos:end="313:62">.</operator><name pos:start="313:63" pos:end="313:68">height</name></name> <operator pos:start="313:70" pos:end="313:70">*</operator> <name pos:start="313:72" pos:end="313:87"><name pos:start="313:72" pos:end="313:84">video_formats</name><index pos:start="313:85" pos:end="313:87">[<expr pos:start="313:86" pos:end="313:86"><name pos:start="313:86" pos:end="313:86">j</name></expr>]</index></name><operator pos:start="313:88" pos:end="313:88">.</operator><name pos:start="313:89" pos:end="313:93">depth</name> <operator pos:start="313:95" pos:end="313:95">/</operator> <literal type="number" pos:start="313:97" pos:end="313:97">8</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="315:13" pos:end="315:58"><expr pos:start="315:13" pos:end="315:57"><name pos:start="315:13" pos:end="315:30"><name pos:start="315:13" pos:end="315:14">st</name><operator pos:start="315:15" pos:end="315:16">-&gt;</operator><name pos:start="315:17" pos:end="315:21">codec</name><operator pos:start="315:22" pos:end="315:23">-&gt;</operator><name pos:start="315:24" pos:end="315:30">pix_fmt</name></name> <operator pos:start="315:32" pos:end="315:32">=</operator> <name pos:start="315:34" pos:end="315:49"><name pos:start="315:34" pos:end="315:46">video_formats</name><index pos:start="315:47" pos:end="315:49">[<expr pos:start="315:48" pos:end="315:48"><name pos:start="315:48" pos:end="315:48">j</name></expr>]</index></name><operator pos:start="315:50" pos:end="315:50">.</operator><name pos:start="315:51" pos:end="315:57">pix_fmt</name></expr>;</expr_stmt>

            <break pos:start="317:13" pos:end="317:18">break;</break>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></for>



    <if_stmt pos:start="325:5" pos:end="327:18"><if pos:start="325:5" pos:end="327:18">if <condition pos:start="325:8" pos:end="325:25">(<expr pos:start="325:9" pos:end="325:24"><name pos:start="325:9" pos:end="325:9">j</name> <operator pos:start="325:11" pos:end="325:12">&gt;=</operator> <name pos:start="325:14" pos:end="325:24">vformat_num</name></expr>)</condition><block type="pseudo" pos:start="327:9" pos:end="327:18"><block_content pos:start="327:9" pos:end="327:18">

        <goto pos:start="327:9" pos:end="327:18">goto <name pos:start="327:14" pos:end="327:17">fail</name>;</goto></block_content></block></if></if_stmt>



    <expr_stmt pos:start="331:5" pos:end="331:21"><expr pos:start="331:5" pos:end="331:20"><name pos:start="331:5" pos:end="331:9"><name pos:start="331:5" pos:end="331:5">s</name><operator pos:start="331:6" pos:end="331:7">-&gt;</operator><name pos:start="331:8" pos:end="331:9">fd</name></name> <operator pos:start="331:11" pos:end="331:11">=</operator> <name pos:start="331:13" pos:end="331:20">video_fd</name></expr>;</expr_stmt>



    <expr_stmt pos:start="335:5" pos:end="335:47"><expr pos:start="335:5" pos:end="335:46"><name pos:start="335:5" pos:end="335:25"><name pos:start="335:5" pos:end="335:6">st</name><operator pos:start="335:7" pos:end="335:8">-&gt;</operator><name pos:start="335:9" pos:end="335:13">codec</name><operator pos:start="335:14" pos:end="335:15">-&gt;</operator><name pos:start="335:16" pos:end="335:25">codec_type</name></name> <operator pos:start="335:27" pos:end="335:27">=</operator> <name pos:start="335:29" pos:end="335:46">AVMEDIA_TYPE_VIDEO</name></expr>;</expr_stmt>

    <expr_stmt pos:start="337:5" pos:end="337:47"><expr pos:start="337:5" pos:end="337:46"><name pos:start="337:5" pos:end="337:23"><name pos:start="337:5" pos:end="337:6">st</name><operator pos:start="337:7" pos:end="337:8">-&gt;</operator><name pos:start="337:9" pos:end="337:13">codec</name><operator pos:start="337:14" pos:end="337:15">-&gt;</operator><name pos:start="337:16" pos:end="337:23">codec_id</name></name> <operator pos:start="337:25" pos:end="337:25">=</operator> <name pos:start="337:27" pos:end="337:46">AV_CODEC_ID_RAWVIDEO</name></expr>;</expr_stmt>

    <expr_stmt pos:start="339:5" pos:end="339:42"><expr pos:start="339:5" pos:end="339:41"><name pos:start="339:5" pos:end="339:20"><name pos:start="339:5" pos:end="339:6">st</name><operator pos:start="339:7" pos:end="339:8">-&gt;</operator><name pos:start="339:9" pos:end="339:13">codec</name><operator pos:start="339:14" pos:end="339:15">-&gt;</operator><name pos:start="339:16" pos:end="339:20">width</name></name> <operator pos:start="339:22" pos:end="339:22">=</operator> <name pos:start="339:24" pos:end="339:41"><name pos:start="339:24" pos:end="339:24">s</name><operator pos:start="339:25" pos:end="339:26">-&gt;</operator><name pos:start="339:27" pos:end="339:35">video_win</name><operator pos:start="339:36" pos:end="339:36">.</operator><name pos:start="339:37" pos:end="339:41">width</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="341:5" pos:end="341:44"><expr pos:start="341:5" pos:end="341:43"><name pos:start="341:5" pos:end="341:21"><name pos:start="341:5" pos:end="341:6">st</name><operator pos:start="341:7" pos:end="341:8">-&gt;</operator><name pos:start="341:9" pos:end="341:13">codec</name><operator pos:start="341:14" pos:end="341:15">-&gt;</operator><name pos:start="341:16" pos:end="341:21">height</name></name> <operator pos:start="341:23" pos:end="341:23">=</operator> <name pos:start="341:25" pos:end="341:43"><name pos:start="341:25" pos:end="341:25">s</name><operator pos:start="341:26" pos:end="341:27">-&gt;</operator><name pos:start="341:28" pos:end="341:36">video_win</name><operator pos:start="341:37" pos:end="341:37">.</operator><name pos:start="341:38" pos:end="341:43">height</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="343:5" pos:end="343:40"><expr pos:start="343:5" pos:end="343:39"><name pos:start="343:5" pos:end="343:24"><name pos:start="343:5" pos:end="343:6">st</name><operator pos:start="343:7" pos:end="343:8">-&gt;</operator><name pos:start="343:9" pos:end="343:13">codec</name><operator pos:start="343:14" pos:end="343:15">-&gt;</operator><name pos:start="343:16" pos:end="343:24">time_base</name></name> <operator pos:start="343:26" pos:end="343:26">=</operator> <name pos:start="343:28" pos:end="343:39"><name pos:start="343:28" pos:end="343:28">s</name><operator pos:start="343:29" pos:end="343:30">-&gt;</operator><name pos:start="343:31" pos:end="343:39">time_base</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="345:5" pos:end="345:77"><expr pos:start="345:5" pos:end="345:76"><name pos:start="345:5" pos:end="345:23"><name pos:start="345:5" pos:end="345:6">st</name><operator pos:start="345:7" pos:end="345:8">-&gt;</operator><name pos:start="345:9" pos:end="345:13">codec</name><operator pos:start="345:14" pos:end="345:15">-&gt;</operator><name pos:start="345:16" pos:end="345:23">bit_rate</name></name> <operator pos:start="345:25" pos:end="345:25">=</operator> <name pos:start="345:27" pos:end="345:39"><name pos:start="345:27" pos:end="345:27">s</name><operator pos:start="345:28" pos:end="345:29">-&gt;</operator><name pos:start="345:30" pos:end="345:39">frame_size</name></name> <operator pos:start="345:41" pos:end="345:41">*</operator> <literal type="number" pos:start="345:43" pos:end="345:43">1</literal><operator pos:start="345:44" pos:end="345:44">/</operator><call pos:start="345:45" pos:end="345:72"><name pos:start="345:45" pos:end="345:50">av_q2d</name><argument_list pos:start="345:51" pos:end="345:72">(<argument pos:start="345:52" pos:end="345:71"><expr pos:start="345:52" pos:end="345:71"><name pos:start="345:52" pos:end="345:71"><name pos:start="345:52" pos:end="345:53">st</name><operator pos:start="345:54" pos:end="345:55">-&gt;</operator><name pos:start="345:56" pos:end="345:60">codec</name><operator pos:start="345:61" pos:end="345:62">-&gt;</operator><name pos:start="345:63" pos:end="345:71">time_base</name></name></expr></argument>)</argument_list></call> <operator pos:start="345:74" pos:end="345:74">*</operator> <literal type="number" pos:start="345:76" pos:end="345:76">8</literal></expr>;</expr_stmt>



    <return pos:start="349:5" pos:end="349:13">return <expr pos:start="349:12" pos:end="349:12"><literal type="number" pos:start="349:12" pos:end="349:12">0</literal></expr>;</return>

 <label pos:start="351:2" pos:end="351:6"><name pos:start="351:2" pos:end="351:5">fail</name>:</label>

    <if_stmt pos:start="353:5" pos:end="355:24"><if pos:start="353:5" pos:end="355:24">if <condition pos:start="353:8" pos:end="353:22">(<expr pos:start="353:9" pos:end="353:21"><name pos:start="353:9" pos:end="353:16">video_fd</name> <operator pos:start="353:18" pos:end="353:19">&gt;=</operator> <literal type="number" pos:start="353:21" pos:end="353:21">0</literal></expr>)</condition><block type="pseudo" pos:start="355:9" pos:end="355:24"><block_content pos:start="355:9" pos:end="355:24">

        <expr_stmt pos:start="355:9" pos:end="355:24"><expr pos:start="355:9" pos:end="355:23"><call pos:start="355:9" pos:end="355:23"><name pos:start="355:9" pos:end="355:13">close</name><argument_list pos:start="355:14" pos:end="355:23">(<argument pos:start="355:15" pos:end="355:22"><expr pos:start="355:15" pos:end="355:22"><name pos:start="355:15" pos:end="355:22">video_fd</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

    <return pos:start="357:5" pos:end="357:24">return <expr pos:start="357:12" pos:end="357:23"><call pos:start="357:12" pos:end="357:23"><name pos:start="357:12" pos:end="357:18">AVERROR</name><argument_list pos:start="357:19" pos:end="357:23">(<argument pos:start="357:20" pos:end="357:22"><expr pos:start="357:20" pos:end="357:22"><name pos:start="357:20" pos:end="357:22">EIO</name></expr></argument>)</argument_list></call></expr>;</return>

</block_content>}</block></function>
</unit>
