<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/18049.c" pos:tabs="8"><function pos:start="1:1" pos:end="161:1"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:24">v9fs_setattr</name><parameter_list pos:start="1:25" pos:end="1:38">(<parameter pos:start="1:26" pos:end="1:37"><decl pos:start="1:26" pos:end="1:37"><type pos:start="1:26" pos:end="1:31"><name pos:start="1:26" pos:end="1:29">void</name> <modifier pos:start="1:31" pos:end="1:31">*</modifier></type><name pos:start="1:32" pos:end="1:37">opaque</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="161:1">{<block_content pos:start="5:5" pos:end="159:30">

    <decl_stmt pos:start="5:5" pos:end="5:16"><decl pos:start="5:5" pos:end="5:15"><type pos:start="5:5" pos:end="5:7"><name pos:start="5:5" pos:end="5:7">int</name></type> <name pos:start="5:9" pos:end="5:11">err</name> <init pos:start="5:13" pos:end="5:15">= <expr pos:start="5:15" pos:end="5:15"><literal type="number" pos:start="5:15" pos:end="5:15">0</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:16"><decl pos:start="7:5" pos:end="7:15"><type pos:start="7:5" pos:end="7:11"><name pos:start="7:5" pos:end="7:11">int32_t</name></type> <name pos:start="7:13" pos:end="7:15">fid</name></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:23"><decl pos:start="9:5" pos:end="9:22"><type pos:start="9:5" pos:end="9:18"><name pos:start="9:5" pos:end="9:16">V9fsFidState</name> <modifier pos:start="9:18" pos:end="9:18">*</modifier></type><name pos:start="9:19" pos:end="9:22">fidp</name></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:22"><decl pos:start="11:5" pos:end="11:21"><type pos:start="11:5" pos:end="11:10"><name pos:start="11:5" pos:end="11:10">size_t</name></type> <name pos:start="11:12" pos:end="11:17">offset</name> <init pos:start="11:19" pos:end="11:21">= <expr pos:start="11:21" pos:end="11:21"><literal type="number" pos:start="11:21" pos:end="11:21">7</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:22"><decl pos:start="13:5" pos:end="13:21"><type pos:start="13:5" pos:end="13:13"><name pos:start="13:5" pos:end="13:13">V9fsIattr</name></type> <name pos:start="13:15" pos:end="13:21">v9iattr</name></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="15:26"><decl pos:start="15:5" pos:end="15:25"><type pos:start="15:5" pos:end="15:13"><name pos:start="15:5" pos:end="15:11">V9fsPDU</name> <modifier pos:start="15:13" pos:end="15:13">*</modifier></type><name pos:start="15:14" pos:end="15:16">pdu</name> <init pos:start="15:18" pos:end="15:25">= <expr pos:start="15:20" pos:end="15:25"><name pos:start="15:20" pos:end="15:25">opaque</name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="17:5" pos:end="17:26"><decl pos:start="17:5" pos:end="17:25"><type pos:start="17:5" pos:end="17:15"><name pos:start="17:5" pos:end="17:13">V9fsState</name> <modifier pos:start="17:15" pos:end="17:15">*</modifier></type><name pos:start="17:16" pos:end="17:16">s</name> <init pos:start="17:18" pos:end="17:25">= <expr pos:start="17:20" pos:end="17:25"><name pos:start="17:20" pos:end="17:25"><name pos:start="17:20" pos:end="17:22">pdu</name><operator pos:start="17:23" pos:end="17:24">-&gt;</operator><name pos:start="17:25" pos:end="17:25">s</name></name></expr></init></decl>;</decl_stmt>



    <expr_stmt pos:start="21:5" pos:end="21:53"><expr pos:start="21:5" pos:end="21:52"><call pos:start="21:5" pos:end="21:52"><name pos:start="21:5" pos:end="21:17">pdu_unmarshal</name><argument_list pos:start="21:18" pos:end="21:52">(<argument pos:start="21:19" pos:end="21:21"><expr pos:start="21:19" pos:end="21:21"><name pos:start="21:19" pos:end="21:21">pdu</name></expr></argument>, <argument pos:start="21:24" pos:end="21:29"><expr pos:start="21:24" pos:end="21:29"><name pos:start="21:24" pos:end="21:29">offset</name></expr></argument>, <argument pos:start="21:32" pos:end="21:35"><expr pos:start="21:32" pos:end="21:35"><literal type="string" pos:start="21:32" pos:end="21:35">"dI"</literal></expr></argument>, <argument pos:start="21:38" pos:end="21:41"><expr pos:start="21:38" pos:end="21:41"><operator pos:start="21:38" pos:end="21:38">&amp;</operator><name pos:start="21:39" pos:end="21:41">fid</name></expr></argument>, <argument pos:start="21:44" pos:end="21:51"><expr pos:start="21:44" pos:end="21:51"><operator pos:start="21:44" pos:end="21:44">&amp;</operator><name pos:start="21:45" pos:end="21:51">v9iattr</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="25:5" pos:end="25:29"><expr pos:start="25:5" pos:end="25:28"><name pos:start="25:5" pos:end="25:8">fidp</name> <operator pos:start="25:10" pos:end="25:10">=</operator> <call pos:start="25:12" pos:end="25:28"><name pos:start="25:12" pos:end="25:18">get_fid</name><argument_list pos:start="25:19" pos:end="25:28">(<argument pos:start="25:20" pos:end="25:22"><expr pos:start="25:20" pos:end="25:22"><name pos:start="25:20" pos:end="25:22">pdu</name></expr></argument>, <argument pos:start="25:25" pos:end="25:27"><expr pos:start="25:25" pos:end="25:27"><name pos:start="25:25" pos:end="25:27">fid</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="27:5" pos:end="33:5"><if pos:start="27:5" pos:end="33:5">if <condition pos:start="27:8" pos:end="27:21">(<expr pos:start="27:9" pos:end="27:20"><name pos:start="27:9" pos:end="27:12">fidp</name> <operator pos:start="27:14" pos:end="27:15">==</operator> <name pos:start="27:17" pos:end="27:20">NULL</name></expr>)</condition> <block pos:start="27:23" pos:end="33:5">{<block_content pos:start="29:9" pos:end="31:23">

        <expr_stmt pos:start="29:9" pos:end="29:22"><expr pos:start="29:9" pos:end="29:21"><name pos:start="29:9" pos:end="29:11">err</name> <operator pos:start="29:13" pos:end="29:13">=</operator> <operator pos:start="29:15" pos:end="29:15">-</operator><name pos:start="29:16" pos:end="29:21">EINVAL</name></expr>;</expr_stmt>

        <goto pos:start="31:9" pos:end="31:23">goto <name pos:start="31:14" pos:end="31:22">out_nofid</name>;</goto>

    </block_content>}</block></if></if_stmt>

    <if_stmt pos:start="35:5" pos:end="45:5"><if pos:start="35:5" pos:end="45:5">if <condition pos:start="35:8" pos:end="35:37">(<expr pos:start="35:9" pos:end="35:36"><name pos:start="35:9" pos:end="35:21"><name pos:start="35:9" pos:end="35:15">v9iattr</name><operator pos:start="35:16" pos:end="35:16">.</operator><name pos:start="35:17" pos:end="35:21">valid</name></name> <operator pos:start="35:23" pos:end="35:23">&amp;</operator> <name pos:start="35:25" pos:end="35:36">P9_ATTR_MODE</name></expr>)</condition> <block pos:start="35:39" pos:end="45:5">{<block_content pos:start="37:9" pos:end="43:9">

        <expr_stmt pos:start="37:9" pos:end="37:60"><expr pos:start="37:9" pos:end="37:59"><name pos:start="37:9" pos:end="37:11">err</name> <operator pos:start="37:13" pos:end="37:13">=</operator> <call pos:start="37:15" pos:end="37:59"><name pos:start="37:15" pos:end="37:27">v9fs_co_chmod</name><argument_list pos:start="37:28" pos:end="37:59">(<argument pos:start="37:29" pos:end="37:31"><expr pos:start="37:29" pos:end="37:31"><name pos:start="37:29" pos:end="37:31">pdu</name></expr></argument>, <argument pos:start="37:34" pos:end="37:44"><expr pos:start="37:34" pos:end="37:44"><operator pos:start="37:34" pos:end="37:34">&amp;</operator><name pos:start="37:35" pos:end="37:44"><name pos:start="37:35" pos:end="37:38">fidp</name><operator pos:start="37:39" pos:end="37:40">-&gt;</operator><name pos:start="37:41" pos:end="37:44">path</name></name></expr></argument>, <argument pos:start="37:47" pos:end="37:58"><expr pos:start="37:47" pos:end="37:58"><name pos:start="37:47" pos:end="37:58"><name pos:start="37:47" pos:end="37:53">v9iattr</name><operator pos:start="37:54" pos:end="37:54">.</operator><name pos:start="37:55" pos:end="37:58">mode</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="39:9" pos:end="43:9"><if pos:start="39:9" pos:end="43:9">if <condition pos:start="39:12" pos:end="39:20">(<expr pos:start="39:13" pos:end="39:19"><name pos:start="39:13" pos:end="39:15">err</name> <operator pos:start="39:17" pos:end="39:17">&lt;</operator> <literal type="number" pos:start="39:19" pos:end="39:19">0</literal></expr>)</condition> <block pos:start="39:22" pos:end="43:9">{<block_content pos:start="41:13" pos:end="41:21">

            <goto pos:start="41:13" pos:end="41:21">goto <name pos:start="41:18" pos:end="41:20">out</name>;</goto>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></if></if_stmt>

    <if_stmt pos:start="47:5" pos:end="99:5"><if pos:start="47:5" pos:end="99:5">if <condition pos:start="47:8" pos:end="47:56">(<expr pos:start="47:9" pos:end="47:55"><name pos:start="47:9" pos:end="47:21"><name pos:start="47:9" pos:end="47:15">v9iattr</name><operator pos:start="47:16" pos:end="47:16">.</operator><name pos:start="47:17" pos:end="47:21">valid</name></name> <operator pos:start="47:23" pos:end="47:23">&amp;</operator> <operator pos:start="47:25" pos:end="47:25">(</operator><name pos:start="47:26" pos:end="47:38">P9_ATTR_ATIME</name> <operator pos:start="47:40" pos:end="47:40">|</operator> <name pos:start="47:42" pos:end="47:54">P9_ATTR_MTIME</name><operator pos:start="47:55" pos:end="47:55">)</operator></expr>)</condition> <block pos:start="47:58" pos:end="99:5">{<block_content pos:start="49:9" pos:end="97:9">

        <decl_stmt pos:start="49:9" pos:end="49:33"><decl pos:start="49:9" pos:end="49:32"><type pos:start="49:9" pos:end="49:23"><name pos:start="49:9" pos:end="49:23"><name pos:start="49:9" pos:end="49:14">struct</name> <name pos:start="49:16" pos:end="49:23">timespec</name></name></type> <name pos:start="49:25" pos:end="49:32"><name pos:start="49:25" pos:end="49:29">times</name><index pos:start="49:30" pos:end="49:32">[<expr pos:start="49:31" pos:end="49:31"><literal type="number" pos:start="49:31" pos:end="49:31">2</literal></expr>]</index></name></decl>;</decl_stmt>

        <if_stmt pos:start="51:9" pos:end="69:9"><if pos:start="51:9" pos:end="65:9">if <condition pos:start="51:12" pos:end="51:42">(<expr pos:start="51:13" pos:end="51:41"><name pos:start="51:13" pos:end="51:25"><name pos:start="51:13" pos:end="51:19">v9iattr</name><operator pos:start="51:20" pos:end="51:20">.</operator><name pos:start="51:21" pos:end="51:25">valid</name></name> <operator pos:start="51:27" pos:end="51:27">&amp;</operator> <name pos:start="51:29" pos:end="51:41">P9_ATTR_ATIME</name></expr>)</condition> <block pos:start="51:44" pos:end="65:9">{<block_content pos:start="53:13" pos:end="63:13">

            <if_stmt pos:start="53:13" pos:end="63:13"><if pos:start="53:13" pos:end="59:13">if <condition pos:start="53:16" pos:end="53:50">(<expr pos:start="53:17" pos:end="53:49"><name pos:start="53:17" pos:end="53:29"><name pos:start="53:17" pos:end="53:23">v9iattr</name><operator pos:start="53:24" pos:end="53:24">.</operator><name pos:start="53:25" pos:end="53:29">valid</name></name> <operator pos:start="53:31" pos:end="53:31">&amp;</operator> <name pos:start="53:33" pos:end="53:49">P9_ATTR_ATIME_SET</name></expr>)</condition> <block pos:start="53:52" pos:end="59:13">{<block_content pos:start="55:17" pos:end="57:54">

                <expr_stmt pos:start="55:17" pos:end="55:52"><expr pos:start="55:17" pos:end="55:51"><name pos:start="55:17" pos:end="55:24"><name pos:start="55:17" pos:end="55:21">times</name><index pos:start="55:22" pos:end="55:24">[<expr pos:start="55:23" pos:end="55:23"><literal type="number" pos:start="55:23" pos:end="55:23">0</literal></expr>]</index></name><operator pos:start="55:25" pos:end="55:25">.</operator><name pos:start="55:26" pos:end="55:31">tv_sec</name> <operator pos:start="55:33" pos:end="55:33">=</operator> <name pos:start="55:35" pos:end="55:51"><name pos:start="55:35" pos:end="55:41">v9iattr</name><operator pos:start="55:42" pos:end="55:42">.</operator><name pos:start="55:43" pos:end="55:51">atime_sec</name></name></expr>;</expr_stmt>

                <expr_stmt pos:start="57:17" pos:end="57:54"><expr pos:start="57:17" pos:end="57:53"><name pos:start="57:17" pos:end="57:24"><name pos:start="57:17" pos:end="57:21">times</name><index pos:start="57:22" pos:end="57:24">[<expr pos:start="57:23" pos:end="57:23"><literal type="number" pos:start="57:23" pos:end="57:23">0</literal></expr>]</index></name><operator pos:start="57:25" pos:end="57:25">.</operator><name pos:start="57:26" pos:end="57:32">tv_nsec</name> <operator pos:start="57:34" pos:end="57:34">=</operator> <name pos:start="57:36" pos:end="57:53"><name pos:start="57:36" pos:end="57:42">v9iattr</name><operator pos:start="57:43" pos:end="57:43">.</operator><name pos:start="57:44" pos:end="57:53">atime_nsec</name></name></expr>;</expr_stmt>

            </block_content>}</block></if> <else pos:start="59:15" pos:end="63:13">else <block pos:start="59:20" pos:end="63:13">{<block_content pos:start="61:17" pos:end="61:45">

                <expr_stmt pos:start="61:17" pos:end="61:45"><expr pos:start="61:17" pos:end="61:44"><name pos:start="61:17" pos:end="61:24"><name pos:start="61:17" pos:end="61:21">times</name><index pos:start="61:22" pos:end="61:24">[<expr pos:start="61:23" pos:end="61:23"><literal type="number" pos:start="61:23" pos:end="61:23">0</literal></expr>]</index></name><operator pos:start="61:25" pos:end="61:25">.</operator><name pos:start="61:26" pos:end="61:32">tv_nsec</name> <operator pos:start="61:34" pos:end="61:34">=</operator> <name pos:start="61:36" pos:end="61:44">UTIME_NOW</name></expr>;</expr_stmt>

            </block_content>}</block></else></if_stmt>

        </block_content>}</block></if> <else pos:start="65:11" pos:end="69:9">else <block pos:start="65:16" pos:end="69:9">{<block_content pos:start="67:13" pos:end="67:42">

            <expr_stmt pos:start="67:13" pos:end="67:42"><expr pos:start="67:13" pos:end="67:41"><name pos:start="67:13" pos:end="67:20"><name pos:start="67:13" pos:end="67:17">times</name><index pos:start="67:18" pos:end="67:20">[<expr pos:start="67:19" pos:end="67:19"><literal type="number" pos:start="67:19" pos:end="67:19">0</literal></expr>]</index></name><operator pos:start="67:21" pos:end="67:21">.</operator><name pos:start="67:22" pos:end="67:28">tv_nsec</name> <operator pos:start="67:30" pos:end="67:30">=</operator> <name pos:start="67:32" pos:end="67:41">UTIME_OMIT</name></expr>;</expr_stmt>

        </block_content>}</block></else></if_stmt>

        <if_stmt pos:start="71:9" pos:end="89:9"><if pos:start="71:9" pos:end="85:9">if <condition pos:start="71:12" pos:end="71:42">(<expr pos:start="71:13" pos:end="71:41"><name pos:start="71:13" pos:end="71:25"><name pos:start="71:13" pos:end="71:19">v9iattr</name><operator pos:start="71:20" pos:end="71:20">.</operator><name pos:start="71:21" pos:end="71:25">valid</name></name> <operator pos:start="71:27" pos:end="71:27">&amp;</operator> <name pos:start="71:29" pos:end="71:41">P9_ATTR_MTIME</name></expr>)</condition> <block pos:start="71:44" pos:end="85:9">{<block_content pos:start="73:13" pos:end="83:13">

            <if_stmt pos:start="73:13" pos:end="83:13"><if pos:start="73:13" pos:end="79:13">if <condition pos:start="73:16" pos:end="73:50">(<expr pos:start="73:17" pos:end="73:49"><name pos:start="73:17" pos:end="73:29"><name pos:start="73:17" pos:end="73:23">v9iattr</name><operator pos:start="73:24" pos:end="73:24">.</operator><name pos:start="73:25" pos:end="73:29">valid</name></name> <operator pos:start="73:31" pos:end="73:31">&amp;</operator> <name pos:start="73:33" pos:end="73:49">P9_ATTR_MTIME_SET</name></expr>)</condition> <block pos:start="73:52" pos:end="79:13">{<block_content pos:start="75:17" pos:end="77:54">

                <expr_stmt pos:start="75:17" pos:end="75:52"><expr pos:start="75:17" pos:end="75:51"><name pos:start="75:17" pos:end="75:24"><name pos:start="75:17" pos:end="75:21">times</name><index pos:start="75:22" pos:end="75:24">[<expr pos:start="75:23" pos:end="75:23"><literal type="number" pos:start="75:23" pos:end="75:23">1</literal></expr>]</index></name><operator pos:start="75:25" pos:end="75:25">.</operator><name pos:start="75:26" pos:end="75:31">tv_sec</name> <operator pos:start="75:33" pos:end="75:33">=</operator> <name pos:start="75:35" pos:end="75:51"><name pos:start="75:35" pos:end="75:41">v9iattr</name><operator pos:start="75:42" pos:end="75:42">.</operator><name pos:start="75:43" pos:end="75:51">mtime_sec</name></name></expr>;</expr_stmt>

                <expr_stmt pos:start="77:17" pos:end="77:54"><expr pos:start="77:17" pos:end="77:53"><name pos:start="77:17" pos:end="77:24"><name pos:start="77:17" pos:end="77:21">times</name><index pos:start="77:22" pos:end="77:24">[<expr pos:start="77:23" pos:end="77:23"><literal type="number" pos:start="77:23" pos:end="77:23">1</literal></expr>]</index></name><operator pos:start="77:25" pos:end="77:25">.</operator><name pos:start="77:26" pos:end="77:32">tv_nsec</name> <operator pos:start="77:34" pos:end="77:34">=</operator> <name pos:start="77:36" pos:end="77:53"><name pos:start="77:36" pos:end="77:42">v9iattr</name><operator pos:start="77:43" pos:end="77:43">.</operator><name pos:start="77:44" pos:end="77:53">mtime_nsec</name></name></expr>;</expr_stmt>

            </block_content>}</block></if> <else pos:start="79:15" pos:end="83:13">else <block pos:start="79:20" pos:end="83:13">{<block_content pos:start="81:17" pos:end="81:45">

                <expr_stmt pos:start="81:17" pos:end="81:45"><expr pos:start="81:17" pos:end="81:44"><name pos:start="81:17" pos:end="81:24"><name pos:start="81:17" pos:end="81:21">times</name><index pos:start="81:22" pos:end="81:24">[<expr pos:start="81:23" pos:end="81:23"><literal type="number" pos:start="81:23" pos:end="81:23">1</literal></expr>]</index></name><operator pos:start="81:25" pos:end="81:25">.</operator><name pos:start="81:26" pos:end="81:32">tv_nsec</name> <operator pos:start="81:34" pos:end="81:34">=</operator> <name pos:start="81:36" pos:end="81:44">UTIME_NOW</name></expr>;</expr_stmt>

            </block_content>}</block></else></if_stmt>

        </block_content>}</block></if> <else pos:start="85:11" pos:end="89:9">else <block pos:start="85:16" pos:end="89:9">{<block_content pos:start="87:13" pos:end="87:42">

            <expr_stmt pos:start="87:13" pos:end="87:42"><expr pos:start="87:13" pos:end="87:41"><name pos:start="87:13" pos:end="87:20"><name pos:start="87:13" pos:end="87:17">times</name><index pos:start="87:18" pos:end="87:20">[<expr pos:start="87:19" pos:end="87:19"><literal type="number" pos:start="87:19" pos:end="87:19">1</literal></expr>]</index></name><operator pos:start="87:21" pos:end="87:21">.</operator><name pos:start="87:22" pos:end="87:28">tv_nsec</name> <operator pos:start="87:30" pos:end="87:30">=</operator> <name pos:start="87:32" pos:end="87:41">UTIME_OMIT</name></expr>;</expr_stmt>

        </block_content>}</block></else></if_stmt>

        <expr_stmt pos:start="91:9" pos:end="91:57"><expr pos:start="91:9" pos:end="91:56"><name pos:start="91:9" pos:end="91:11">err</name> <operator pos:start="91:13" pos:end="91:13">=</operator> <call pos:start="91:15" pos:end="91:56"><name pos:start="91:15" pos:end="91:31">v9fs_co_utimensat</name><argument_list pos:start="91:32" pos:end="91:56">(<argument pos:start="91:33" pos:end="91:35"><expr pos:start="91:33" pos:end="91:35"><name pos:start="91:33" pos:end="91:35">pdu</name></expr></argument>, <argument pos:start="91:38" pos:end="91:48"><expr pos:start="91:38" pos:end="91:48"><operator pos:start="91:38" pos:end="91:38">&amp;</operator><name pos:start="91:39" pos:end="91:48"><name pos:start="91:39" pos:end="91:42">fidp</name><operator pos:start="91:43" pos:end="91:44">-&gt;</operator><name pos:start="91:45" pos:end="91:48">path</name></name></expr></argument>, <argument pos:start="91:51" pos:end="91:55"><expr pos:start="91:51" pos:end="91:55"><name pos:start="91:51" pos:end="91:55">times</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="93:9" pos:end="97:9"><if pos:start="93:9" pos:end="97:9">if <condition pos:start="93:12" pos:end="93:20">(<expr pos:start="93:13" pos:end="93:19"><name pos:start="93:13" pos:end="93:15">err</name> <operator pos:start="93:17" pos:end="93:17">&lt;</operator> <literal type="number" pos:start="93:19" pos:end="93:19">0</literal></expr>)</condition> <block pos:start="93:22" pos:end="97:9">{<block_content pos:start="95:13" pos:end="95:21">

            <goto pos:start="95:13" pos:end="95:21">goto <name pos:start="95:18" pos:end="95:20">out</name>;</goto>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></if></if_stmt>

    <comment type="block" pos:start="101:5" pos:end="107:7">/*

     * If the only valid entry in iattr is ctime we can call

     * chown(-1,-1) to update the ctime of the file

     */</comment>

    <if_stmt pos:start="109:5" pos:end="137:5"><if pos:start="109:5" pos:end="137:5">if <condition pos:start="109:8" pos:end="113:64">(<expr pos:start="109:9" pos:end="113:63"><operator pos:start="109:9" pos:end="109:9">(</operator><name pos:start="109:10" pos:end="109:22"><name pos:start="109:10" pos:end="109:16">v9iattr</name><operator pos:start="109:17" pos:end="109:17">.</operator><name pos:start="109:18" pos:end="109:22">valid</name></name> <operator pos:start="109:24" pos:end="109:24">&amp;</operator> <operator pos:start="109:26" pos:end="109:26">(</operator><name pos:start="109:27" pos:end="109:37">P9_ATTR_UID</name> <operator pos:start="109:39" pos:end="109:39">|</operator> <name pos:start="109:41" pos:end="109:51">P9_ATTR_GID</name><operator pos:start="109:52" pos:end="109:52">)</operator><operator pos:start="109:53" pos:end="109:53">)</operator> <operator pos:start="109:55" pos:end="109:56">||</operator>

        <operator pos:start="111:9" pos:end="111:9">(</operator><operator pos:start="111:10" pos:end="111:10">(</operator><name pos:start="111:11" pos:end="111:23"><name pos:start="111:11" pos:end="111:17">v9iattr</name><operator pos:start="111:18" pos:end="111:18">.</operator><name pos:start="111:19" pos:end="111:23">valid</name></name> <operator pos:start="111:25" pos:end="111:25">&amp;</operator> <name pos:start="111:27" pos:end="111:39">P9_ATTR_CTIME</name><operator pos:start="111:40" pos:end="111:40">)</operator>

         <operator pos:start="113:10" pos:end="113:11">&amp;&amp;</operator> <operator pos:start="113:13" pos:end="113:13">!</operator><operator pos:start="113:14" pos:end="113:14">(</operator><operator pos:start="113:15" pos:end="113:15">(</operator><name pos:start="113:16" pos:end="113:28"><name pos:start="113:16" pos:end="113:22">v9iattr</name><operator pos:start="113:23" pos:end="113:23">.</operator><name pos:start="113:24" pos:end="113:28">valid</name></name> <operator pos:start="113:30" pos:end="113:30">&amp;</operator> <name pos:start="113:32" pos:end="113:43">P9_ATTR_MASK</name><operator pos:start="113:44" pos:end="113:44">)</operator> <operator pos:start="113:46" pos:end="113:46">&amp;</operator> <operator pos:start="113:48" pos:end="113:48">~</operator><name pos:start="113:49" pos:end="113:61">P9_ATTR_CTIME</name><operator pos:start="113:62" pos:end="113:62">)</operator><operator pos:start="113:63" pos:end="113:63">)</operator></expr>)</condition> <block pos:start="113:66" pos:end="137:5">{<block_content pos:start="115:9" pos:end="135:9">

        <if_stmt pos:start="115:9" pos:end="119:9"><if pos:start="115:9" pos:end="119:9">if <condition pos:start="115:12" pos:end="115:43">(<expr pos:start="115:13" pos:end="115:42"><operator pos:start="115:13" pos:end="115:13">!</operator><operator pos:start="115:14" pos:end="115:14">(</operator><name pos:start="115:15" pos:end="115:27"><name pos:start="115:15" pos:end="115:21">v9iattr</name><operator pos:start="115:22" pos:end="115:22">.</operator><name pos:start="115:23" pos:end="115:27">valid</name></name> <operator pos:start="115:29" pos:end="115:29">&amp;</operator> <name pos:start="115:31" pos:end="115:41">P9_ATTR_UID</name><operator pos:start="115:42" pos:end="115:42">)</operator></expr>)</condition> <block pos:start="115:45" pos:end="119:9">{<block_content pos:start="117:13" pos:end="117:29">

            <expr_stmt pos:start="117:13" pos:end="117:29"><expr pos:start="117:13" pos:end="117:28"><name pos:start="117:13" pos:end="117:23"><name pos:start="117:13" pos:end="117:19">v9iattr</name><operator pos:start="117:20" pos:end="117:20">.</operator><name pos:start="117:21" pos:end="117:23">uid</name></name> <operator pos:start="117:25" pos:end="117:25">=</operator> <operator pos:start="117:27" pos:end="117:27">-</operator><literal type="number" pos:start="117:28" pos:end="117:28">1</literal></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>

        <if_stmt pos:start="121:9" pos:end="125:9"><if pos:start="121:9" pos:end="125:9">if <condition pos:start="121:12" pos:end="121:43">(<expr pos:start="121:13" pos:end="121:42"><operator pos:start="121:13" pos:end="121:13">!</operator><operator pos:start="121:14" pos:end="121:14">(</operator><name pos:start="121:15" pos:end="121:27"><name pos:start="121:15" pos:end="121:21">v9iattr</name><operator pos:start="121:22" pos:end="121:22">.</operator><name pos:start="121:23" pos:end="121:27">valid</name></name> <operator pos:start="121:29" pos:end="121:29">&amp;</operator> <name pos:start="121:31" pos:end="121:41">P9_ATTR_GID</name><operator pos:start="121:42" pos:end="121:42">)</operator></expr>)</condition> <block pos:start="121:45" pos:end="125:9">{<block_content pos:start="123:13" pos:end="123:29">

            <expr_stmt pos:start="123:13" pos:end="123:29"><expr pos:start="123:13" pos:end="123:28"><name pos:start="123:13" pos:end="123:23"><name pos:start="123:13" pos:end="123:19">v9iattr</name><operator pos:start="123:20" pos:end="123:20">.</operator><name pos:start="123:21" pos:end="123:23">gid</name></name> <operator pos:start="123:25" pos:end="123:25">=</operator> <operator pos:start="123:27" pos:end="123:27">-</operator><literal type="number" pos:start="123:28" pos:end="123:28">1</literal></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>

        <expr_stmt pos:start="127:9" pos:end="129:41"><expr pos:start="127:9" pos:end="129:40"><name pos:start="127:9" pos:end="127:11">err</name> <operator pos:start="127:13" pos:end="127:13">=</operator> <call pos:start="127:15" pos:end="129:40"><name pos:start="127:15" pos:end="127:27">v9fs_co_chown</name><argument_list pos:start="127:28" pos:end="129:40">(<argument pos:start="127:29" pos:end="127:31"><expr pos:start="127:29" pos:end="127:31"><name pos:start="127:29" pos:end="127:31">pdu</name></expr></argument>, <argument pos:start="127:34" pos:end="127:44"><expr pos:start="127:34" pos:end="127:44"><operator pos:start="127:34" pos:end="127:34">&amp;</operator><name pos:start="127:35" pos:end="127:44"><name pos:start="127:35" pos:end="127:38">fidp</name><operator pos:start="127:39" pos:end="127:40">-&gt;</operator><name pos:start="127:41" pos:end="127:44">path</name></name></expr></argument>, <argument pos:start="127:47" pos:end="127:57"><expr pos:start="127:47" pos:end="127:57"><name pos:start="127:47" pos:end="127:57"><name pos:start="127:47" pos:end="127:53">v9iattr</name><operator pos:start="127:54" pos:end="127:54">.</operator><name pos:start="127:55" pos:end="127:57">uid</name></name></expr></argument>,

                            <argument pos:start="129:29" pos:end="129:39"><expr pos:start="129:29" pos:end="129:39"><name pos:start="129:29" pos:end="129:39"><name pos:start="129:29" pos:end="129:35">v9iattr</name><operator pos:start="129:36" pos:end="129:36">.</operator><name pos:start="129:37" pos:end="129:39">gid</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="131:9" pos:end="135:9"><if pos:start="131:9" pos:end="135:9">if <condition pos:start="131:12" pos:end="131:20">(<expr pos:start="131:13" pos:end="131:19"><name pos:start="131:13" pos:end="131:15">err</name> <operator pos:start="131:17" pos:end="131:17">&lt;</operator> <literal type="number" pos:start="131:19" pos:end="131:19">0</literal></expr>)</condition> <block pos:start="131:22" pos:end="135:9">{<block_content pos:start="133:13" pos:end="133:21">

            <goto pos:start="133:13" pos:end="133:21">goto <name pos:start="133:18" pos:end="133:20">out</name>;</goto>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></if></if_stmt>

    <if_stmt pos:start="139:5" pos:end="149:5"><if pos:start="139:5" pos:end="149:5">if <condition pos:start="139:8" pos:end="139:39">(<expr pos:start="139:9" pos:end="139:38"><name pos:start="139:9" pos:end="139:21"><name pos:start="139:9" pos:end="139:15">v9iattr</name><operator pos:start="139:16" pos:end="139:16">.</operator><name pos:start="139:17" pos:end="139:21">valid</name></name> <operator pos:start="139:23" pos:end="139:23">&amp;</operator> <operator pos:start="139:25" pos:end="139:25">(</operator><name pos:start="139:26" pos:end="139:37">P9_ATTR_SIZE</name><operator pos:start="139:38" pos:end="139:38">)</operator></expr>)</condition> <block pos:start="139:41" pos:end="149:5">{<block_content pos:start="141:9" pos:end="147:9">

        <expr_stmt pos:start="141:9" pos:end="141:63"><expr pos:start="141:9" pos:end="141:62"><name pos:start="141:9" pos:end="141:11">err</name> <operator pos:start="141:13" pos:end="141:13">=</operator> <call pos:start="141:15" pos:end="141:62"><name pos:start="141:15" pos:end="141:30">v9fs_co_truncate</name><argument_list pos:start="141:31" pos:end="141:62">(<argument pos:start="141:32" pos:end="141:34"><expr pos:start="141:32" pos:end="141:34"><name pos:start="141:32" pos:end="141:34">pdu</name></expr></argument>, <argument pos:start="141:37" pos:end="141:47"><expr pos:start="141:37" pos:end="141:47"><operator pos:start="141:37" pos:end="141:37">&amp;</operator><name pos:start="141:38" pos:end="141:47"><name pos:start="141:38" pos:end="141:41">fidp</name><operator pos:start="141:42" pos:end="141:43">-&gt;</operator><name pos:start="141:44" pos:end="141:47">path</name></name></expr></argument>, <argument pos:start="141:50" pos:end="141:61"><expr pos:start="141:50" pos:end="141:61"><name pos:start="141:50" pos:end="141:61"><name pos:start="141:50" pos:end="141:56">v9iattr</name><operator pos:start="141:57" pos:end="141:57">.</operator><name pos:start="141:58" pos:end="141:61">size</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="143:9" pos:end="147:9"><if pos:start="143:9" pos:end="147:9">if <condition pos:start="143:12" pos:end="143:20">(<expr pos:start="143:13" pos:end="143:19"><name pos:start="143:13" pos:end="143:15">err</name> <operator pos:start="143:17" pos:end="143:17">&lt;</operator> <literal type="number" pos:start="143:19" pos:end="143:19">0</literal></expr>)</condition> <block pos:start="143:22" pos:end="147:9">{<block_content pos:start="145:13" pos:end="145:21">

            <goto pos:start="145:13" pos:end="145:21">goto <name pos:start="145:18" pos:end="145:20">out</name>;</goto>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></if></if_stmt>

    <expr_stmt pos:start="151:5" pos:end="151:17"><expr pos:start="151:5" pos:end="151:16"><name pos:start="151:5" pos:end="151:7">err</name> <operator pos:start="151:9" pos:end="151:9">=</operator> <name pos:start="151:11" pos:end="151:16">offset</name></expr>;</expr_stmt>

<label pos:start="153:1" pos:end="153:4"><name pos:start="153:1" pos:end="153:3">out</name>:</label>

    <expr_stmt pos:start="155:5" pos:end="155:23"><expr pos:start="155:5" pos:end="155:22"><call pos:start="155:5" pos:end="155:22"><name pos:start="155:5" pos:end="155:11">put_fid</name><argument_list pos:start="155:12" pos:end="155:22">(<argument pos:start="155:13" pos:end="155:15"><expr pos:start="155:13" pos:end="155:15"><name pos:start="155:13" pos:end="155:15">pdu</name></expr></argument>, <argument pos:start="155:18" pos:end="155:21"><expr pos:start="155:18" pos:end="155:21"><name pos:start="155:18" pos:end="155:21">fidp</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

<label pos:start="157:1" pos:end="157:10"><name pos:start="157:1" pos:end="157:9">out_nofid</name>:</label>

    <expr_stmt pos:start="159:5" pos:end="159:30"><expr pos:start="159:5" pos:end="159:29"><call pos:start="159:5" pos:end="159:29"><name pos:start="159:5" pos:end="159:16">complete_pdu</name><argument_list pos:start="159:17" pos:end="159:29">(<argument pos:start="159:18" pos:end="159:18"><expr pos:start="159:18" pos:end="159:18"><name pos:start="159:18" pos:end="159:18">s</name></expr></argument>, <argument pos:start="159:21" pos:end="159:23"><expr pos:start="159:21" pos:end="159:23"><name pos:start="159:21" pos:end="159:23">pdu</name></expr></argument>, <argument pos:start="159:26" pos:end="159:28"><expr pos:start="159:26" pos:end="159:28"><name pos:start="159:26" pos:end="159:28">err</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

</block_content>}</block></function>
</unit>
