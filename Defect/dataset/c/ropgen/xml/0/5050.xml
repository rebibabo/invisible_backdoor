<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/5050.c" pos:tabs="8"><function pos:start="1:1" pos:end="127:1"><type pos:start="1:1" pos:end="1:13"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:13">hwaddr</name></type> <name pos:start="1:15" pos:end="1:36">ppc_hash64_htab_lookup</name><parameter_list pos:start="1:37" pos:end="5:77">(<parameter pos:start="1:38" pos:end="1:52"><decl pos:start="1:38" pos:end="1:52"><type pos:start="1:38" pos:end="1:52"><name pos:start="1:38" pos:end="1:47">PowerPCCPU</name> <modifier pos:start="1:49" pos:end="1:49">*</modifier></type><name pos:start="1:50" pos:end="1:52">cpu</name></decl></parameter>,

                                     <parameter pos:start="3:38" pos:end="3:51"><decl pos:start="3:38" pos:end="3:51"><type pos:start="3:38" pos:end="3:51"><name pos:start="3:38" pos:end="3:46">ppc_slb_t</name> <modifier pos:start="3:48" pos:end="3:48">*</modifier></type><name pos:start="3:49" pos:end="3:51">slb</name></decl></parameter>, <parameter pos:start="3:54" pos:end="3:71"><decl pos:start="3:54" pos:end="3:71"><type pos:start="3:54" pos:end="3:71"><name pos:start="3:54" pos:end="3:65">target_ulong</name></type> <name pos:start="3:67" pos:end="3:71">eaddr</name></decl></parameter>,

                                     <parameter pos:start="5:38" pos:end="5:58"><decl pos:start="5:38" pos:end="5:58"><type pos:start="5:38" pos:end="5:58"><name pos:start="5:38" pos:end="5:53">ppc_hash_pte64_t</name> <modifier pos:start="5:55" pos:end="5:55">*</modifier></type><name pos:start="5:56" pos:end="5:58">pte</name></decl></parameter>, <parameter pos:start="5:61" pos:end="5:76"><decl pos:start="5:61" pos:end="5:76"><type pos:start="5:61" pos:end="5:76"><name pos:start="5:61" pos:end="5:68">unsigned</name> <modifier pos:start="5:70" pos:end="5:70">*</modifier></type><name pos:start="5:71" pos:end="5:76">pshift</name></decl></parameter>)</parameter_list>

<block pos:start="7:1" pos:end="127:1">{<block_content pos:start="9:5" pos:end="125:16">

    <decl_stmt pos:start="9:5" pos:end="9:33"><decl pos:start="9:5" pos:end="9:32"><type pos:start="9:5" pos:end="9:17"><name pos:start="9:5" pos:end="9:15">CPUPPCState</name> <modifier pos:start="9:17" pos:end="9:17">*</modifier></type><name pos:start="9:18" pos:end="9:20">env</name> <init pos:start="9:22" pos:end="9:32">= <expr pos:start="9:24" pos:end="9:32"><operator pos:start="9:24" pos:end="9:24">&amp;</operator><name pos:start="9:25" pos:end="9:32"><name pos:start="9:25" pos:end="9:27">cpu</name><operator pos:start="9:28" pos:end="9:29">-&gt;</operator><name pos:start="9:30" pos:end="9:32">env</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:22"><decl pos:start="11:5" pos:end="11:15"><type pos:start="11:5" pos:end="11:10"><name pos:start="11:5" pos:end="11:10">hwaddr</name></type> <name pos:start="11:12" pos:end="11:15">hash</name></decl>, <decl pos:start="11:18" pos:end="11:21"><type ref="prev" pos:start="11:5" pos:end="11:10"/><name pos:start="11:18" pos:end="11:21">ptex</name></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:38"><decl pos:start="13:5" pos:end="13:17"><type pos:start="13:5" pos:end="13:12"><name pos:start="13:5" pos:end="13:12">uint64_t</name></type> <name pos:start="13:14" pos:end="13:17">vsid</name></decl>, <decl pos:start="13:20" pos:end="13:26"><type ref="prev" pos:start="13:5" pos:end="13:12"/><name pos:start="13:20" pos:end="13:26">epnmask</name></decl>, <decl pos:start="13:29" pos:end="13:31"><type ref="prev" pos:start="13:5" pos:end="13:12"/><name pos:start="13:29" pos:end="13:31">epn</name></decl>, <decl pos:start="13:34" pos:end="13:37"><type ref="prev" pos:start="13:5" pos:end="13:12"/><name pos:start="13:34" pos:end="13:37">ptem</name></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="15:55"><decl pos:start="15:5" pos:end="15:54"><type pos:start="15:5" pos:end="15:40"><specifier pos:start="15:5" pos:end="15:9">const</specifier> <name pos:start="15:11" pos:end="15:38"><name pos:start="15:11" pos:end="15:16">struct</name> <name pos:start="15:18" pos:end="15:38">ppc_one_seg_page_size</name></name> <modifier pos:start="15:40" pos:end="15:40">*</modifier></type><name pos:start="15:41" pos:end="15:43">sps</name> <init pos:start="15:45" pos:end="15:54">= <expr pos:start="15:47" pos:end="15:54"><name pos:start="15:47" pos:end="15:54"><name pos:start="15:47" pos:end="15:49">slb</name><operator pos:start="15:50" pos:end="15:51">-&gt;</operator><name pos:start="15:52" pos:end="15:54">sps</name></name></expr></init></decl>;</decl_stmt>



    <comment type="block" pos:start="19:5" pos:end="21:31">/* The SLB store path should prevent any bad page size encodings

     * getting in there, so: */</comment>

    <expr_stmt pos:start="23:5" pos:end="23:16"><expr pos:start="23:5" pos:end="23:15"><call pos:start="23:5" pos:end="23:15"><name pos:start="23:5" pos:end="23:10">assert</name><argument_list pos:start="23:11" pos:end="23:15">(<argument pos:start="23:12" pos:end="23:14"><expr pos:start="23:12" pos:end="23:14"><name pos:start="23:12" pos:end="23:14">sps</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <comment type="block" pos:start="27:5" pos:end="27:68">/* If ISL is set in LPCR we need to clamp the page size to 4K */</comment>

    <if_stmt pos:start="29:5" pos:end="37:5"><if pos:start="29:5" pos:end="37:5">if <condition pos:start="29:8" pos:end="29:38">(<expr pos:start="29:9" pos:end="29:37"><name pos:start="29:9" pos:end="29:26"><name pos:start="29:9" pos:end="29:11">env</name><operator pos:start="29:12" pos:end="29:13">-&gt;</operator><name pos:start="29:14" pos:end="29:16">spr</name><index pos:start="29:17" pos:end="29:26">[<expr pos:start="29:18" pos:end="29:25"><name pos:start="29:18" pos:end="29:25">SPR_LPCR</name></expr>]</index></name> <operator pos:start="29:28" pos:end="29:28">&amp;</operator> <name pos:start="29:30" pos:end="29:37">LPCR_ISL</name></expr>)</condition> <block pos:start="29:40" pos:end="37:5">{<block_content pos:start="33:9" pos:end="35:38">

        <comment type="block" pos:start="31:9" pos:end="31:69">/* We assume that when using TCG, 4k is first entry of SPS */</comment>

        <expr_stmt pos:start="33:9" pos:end="33:31"><expr pos:start="33:9" pos:end="33:30"><name pos:start="33:9" pos:end="33:11">sps</name> <operator pos:start="33:13" pos:end="33:13">=</operator> <operator pos:start="33:15" pos:end="33:15">&amp;</operator><name pos:start="33:16" pos:end="33:30"><name pos:start="33:16" pos:end="33:18">env</name><operator pos:start="33:19" pos:end="33:20">-&gt;</operator><name pos:start="33:21" pos:end="33:23">sps</name><operator pos:start="33:24" pos:end="33:24">.</operator><name pos:start="33:25" pos:end="33:27">sps</name><index pos:start="33:28" pos:end="33:30">[<expr pos:start="33:29" pos:end="33:29"><literal type="number" pos:start="33:29" pos:end="33:29">0</literal></expr>]</index></name></expr>;</expr_stmt>

        <expr_stmt pos:start="35:9" pos:end="35:38"><expr pos:start="35:9" pos:end="35:37"><call pos:start="35:9" pos:end="35:37"><name pos:start="35:9" pos:end="35:14">assert</name><argument_list pos:start="35:15" pos:end="35:37">(<argument pos:start="35:16" pos:end="35:36"><expr pos:start="35:16" pos:end="35:36"><name pos:start="35:16" pos:end="35:30"><name pos:start="35:16" pos:end="35:18">sps</name><operator pos:start="35:19" pos:end="35:20">-&gt;</operator><name pos:start="35:21" pos:end="35:30">page_shift</name></name> <operator pos:start="35:32" pos:end="35:33">==</operator> <literal type="number" pos:start="35:35" pos:end="35:36">12</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <expr_stmt pos:start="41:5" pos:end="41:47"><expr pos:start="41:5" pos:end="41:46"><name pos:start="41:5" pos:end="41:11">epnmask</name> <operator pos:start="41:13" pos:end="41:13">=</operator> <operator pos:start="41:15" pos:end="41:15">~</operator><operator pos:start="41:16" pos:end="41:16">(</operator><operator pos:start="41:17" pos:end="41:17">(</operator><literal type="number" pos:start="41:18" pos:end="41:21">1ULL</literal> <operator pos:start="41:23" pos:end="41:24">&lt;&lt;</operator> <name pos:start="41:26" pos:end="41:40"><name pos:start="41:26" pos:end="41:28">sps</name><operator pos:start="41:29" pos:end="41:30">-&gt;</operator><name pos:start="41:31" pos:end="41:40">page_shift</name></name><operator pos:start="41:41" pos:end="41:41">)</operator> <operator pos:start="41:43" pos:end="41:43">-</operator> <literal type="number" pos:start="41:45" pos:end="41:45">1</literal><operator pos:start="41:46" pos:end="41:46">)</operator></expr>;</expr_stmt>



    <if_stmt pos:start="45:5" pos:end="65:5"><if pos:start="45:5" pos:end="55:5">if <condition pos:start="45:8" pos:end="45:31">(<expr pos:start="45:9" pos:end="45:30"><name pos:start="45:9" pos:end="45:17"><name pos:start="45:9" pos:end="45:11">slb</name><operator pos:start="45:12" pos:end="45:13">-&gt;</operator><name pos:start="45:14" pos:end="45:17">vsid</name></name> <operator pos:start="45:19" pos:end="45:19">&amp;</operator> <name pos:start="45:21" pos:end="45:30">SLB_VSID_B</name></expr>)</condition> <block pos:start="45:33" pos:end="55:5">{<block_content pos:start="49:9" pos:end="53:62">

        <comment type="block" pos:start="47:9" pos:end="47:25">/* 1TB segment */</comment>

        <expr_stmt pos:start="49:9" pos:end="49:64"><expr pos:start="49:9" pos:end="49:63"><name pos:start="49:9" pos:end="49:12">vsid</name> <operator pos:start="49:14" pos:end="49:14">=</operator> <operator pos:start="49:16" pos:end="49:16">(</operator><name pos:start="49:17" pos:end="49:25"><name pos:start="49:17" pos:end="49:19">slb</name><operator pos:start="49:20" pos:end="49:21">-&gt;</operator><name pos:start="49:22" pos:end="49:25">vsid</name></name> <operator pos:start="49:27" pos:end="49:27">&amp;</operator> <name pos:start="49:29" pos:end="49:41">SLB_VSID_VSID</name><operator pos:start="49:42" pos:end="49:42">)</operator> <operator pos:start="49:44" pos:end="49:45">&gt;&gt;</operator> <name pos:start="49:47" pos:end="49:63">SLB_VSID_SHIFT_1T</name></expr>;</expr_stmt>

        <expr_stmt pos:start="51:9" pos:end="51:51"><expr pos:start="51:9" pos:end="51:50"><name pos:start="51:9" pos:end="51:11">epn</name> <operator pos:start="51:13" pos:end="51:13">=</operator> <operator pos:start="51:15" pos:end="51:15">(</operator><name pos:start="51:16" pos:end="51:20">eaddr</name> <operator pos:start="51:22" pos:end="51:22">&amp;</operator> <operator pos:start="51:24" pos:end="51:24">~</operator><name pos:start="51:25" pos:end="51:39">SEGMENT_MASK_1T</name><operator pos:start="51:40" pos:end="51:40">)</operator> <operator pos:start="51:42" pos:end="51:42">&amp;</operator> <name pos:start="51:44" pos:end="51:50">epnmask</name></expr>;</expr_stmt>

        <expr_stmt pos:start="53:9" pos:end="53:62"><expr pos:start="53:9" pos:end="53:61"><name pos:start="53:9" pos:end="53:12">hash</name> <operator pos:start="53:14" pos:end="53:14">=</operator> <name pos:start="53:16" pos:end="53:19">vsid</name> <operator pos:start="53:21" pos:end="53:21">^</operator> <operator pos:start="53:23" pos:end="53:23">(</operator><name pos:start="53:24" pos:end="53:27">vsid</name> <operator pos:start="53:29" pos:end="53:30">&lt;&lt;</operator> <literal type="number" pos:start="53:32" pos:end="53:33">25</literal><operator pos:start="53:34" pos:end="53:34">)</operator> <operator pos:start="53:36" pos:end="53:36">^</operator> <operator pos:start="53:38" pos:end="53:38">(</operator><name pos:start="53:39" pos:end="53:41">epn</name> <operator pos:start="53:43" pos:end="53:44">&gt;&gt;</operator> <name pos:start="53:46" pos:end="53:60"><name pos:start="53:46" pos:end="53:48">sps</name><operator pos:start="53:49" pos:end="53:50">-&gt;</operator><name pos:start="53:51" pos:end="53:60">page_shift</name></name><operator pos:start="53:61" pos:end="53:61">)</operator></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="55:7" pos:end="65:5">else <block pos:start="55:12" pos:end="65:5">{<block_content pos:start="59:9" pos:end="63:47">

        <comment type="block" pos:start="57:9" pos:end="57:26">/* 256M segment */</comment>

        <expr_stmt pos:start="59:9" pos:end="59:61"><expr pos:start="59:9" pos:end="59:60"><name pos:start="59:9" pos:end="59:12">vsid</name> <operator pos:start="59:14" pos:end="59:14">=</operator> <operator pos:start="59:16" pos:end="59:16">(</operator><name pos:start="59:17" pos:end="59:25"><name pos:start="59:17" pos:end="59:19">slb</name><operator pos:start="59:20" pos:end="59:21">-&gt;</operator><name pos:start="59:22" pos:end="59:25">vsid</name></name> <operator pos:start="59:27" pos:end="59:27">&amp;</operator> <name pos:start="59:29" pos:end="59:41">SLB_VSID_VSID</name><operator pos:start="59:42" pos:end="59:42">)</operator> <operator pos:start="59:44" pos:end="59:45">&gt;&gt;</operator> <name pos:start="59:47" pos:end="59:60">SLB_VSID_SHIFT</name></expr>;</expr_stmt>

        <expr_stmt pos:start="61:9" pos:end="61:53"><expr pos:start="61:9" pos:end="61:52"><name pos:start="61:9" pos:end="61:11">epn</name> <operator pos:start="61:13" pos:end="61:13">=</operator> <operator pos:start="61:15" pos:end="61:15">(</operator><name pos:start="61:16" pos:end="61:20">eaddr</name> <operator pos:start="61:22" pos:end="61:22">&amp;</operator> <operator pos:start="61:24" pos:end="61:24">~</operator><name pos:start="61:25" pos:end="61:41">SEGMENT_MASK_256M</name><operator pos:start="61:42" pos:end="61:42">)</operator> <operator pos:start="61:44" pos:end="61:44">&amp;</operator> <name pos:start="61:46" pos:end="61:52">epnmask</name></expr>;</expr_stmt>

        <expr_stmt pos:start="63:9" pos:end="63:47"><expr pos:start="63:9" pos:end="63:46"><name pos:start="63:9" pos:end="63:12">hash</name> <operator pos:start="63:14" pos:end="63:14">=</operator> <name pos:start="63:16" pos:end="63:19">vsid</name> <operator pos:start="63:21" pos:end="63:21">^</operator> <operator pos:start="63:23" pos:end="63:23">(</operator><name pos:start="63:24" pos:end="63:26">epn</name> <operator pos:start="63:28" pos:end="63:29">&gt;&gt;</operator> <name pos:start="63:31" pos:end="63:45"><name pos:start="63:31" pos:end="63:33">sps</name><operator pos:start="63:34" pos:end="63:35">-&gt;</operator><name pos:start="63:36" pos:end="63:45">page_shift</name></name><operator pos:start="63:46" pos:end="63:46">)</operator></expr>;</expr_stmt>

    </block_content>}</block></else></if_stmt>

    <expr_stmt pos:start="67:5" pos:end="67:71"><expr pos:start="67:5" pos:end="67:70"><name pos:start="67:5" pos:end="67:8">ptem</name> <operator pos:start="67:10" pos:end="67:10">=</operator> <operator pos:start="67:12" pos:end="67:12">(</operator><name pos:start="67:13" pos:end="67:21"><name pos:start="67:13" pos:end="67:15">slb</name><operator pos:start="67:16" pos:end="67:17">-&gt;</operator><name pos:start="67:18" pos:end="67:21">vsid</name></name> <operator pos:start="67:23" pos:end="67:23">&amp;</operator> <name pos:start="67:25" pos:end="67:37">SLB_VSID_PTEM</name><operator pos:start="67:38" pos:end="67:38">)</operator> <operator pos:start="67:40" pos:end="67:40">|</operator> <operator pos:start="67:42" pos:end="67:42">(</operator><operator pos:start="67:43" pos:end="67:43">(</operator><name pos:start="67:44" pos:end="67:46">epn</name> <operator pos:start="67:48" pos:end="67:49">&gt;&gt;</operator> <literal type="number" pos:start="67:51" pos:end="67:52">16</literal><operator pos:start="67:53" pos:end="67:53">)</operator> <operator pos:start="67:55" pos:end="67:55">&amp;</operator> <name pos:start="67:57" pos:end="67:69">HPTE64_V_AVPN</name><operator pos:start="67:70" pos:end="67:70">)</operator></expr>;</expr_stmt>

    <expr_stmt pos:start="69:5" pos:end="69:27"><expr pos:start="69:5" pos:end="69:26"><name pos:start="69:5" pos:end="69:8">ptem</name> <operator pos:start="69:10" pos:end="69:11">|=</operator> <name pos:start="69:13" pos:end="69:26">HPTE64_V_VALID</name></expr>;</expr_stmt>



    <comment type="block" pos:start="73:5" pos:end="73:34">/* Page address translation */</comment>

    <expr_stmt pos:start="75:5" pos:end="81:50"><expr pos:start="75:5" pos:end="81:49"><call pos:start="75:5" pos:end="81:49"><name pos:start="75:5" pos:end="75:17">qemu_log_mask</name><argument_list pos:start="75:18" pos:end="81:49">(<argument pos:start="75:19" pos:end="75:29"><expr pos:start="75:19" pos:end="75:29"><name pos:start="75:19" pos:end="75:29">CPU_LOG_MMU</name></expr></argument>,

            <argument pos:start="77:13" pos:end="79:40"><expr pos:start="77:13" pos:end="79:40"><literal type="string" pos:start="77:13" pos:end="77:24">"htab_base "</literal> <name pos:start="77:26" pos:end="77:39">TARGET_FMT_plx</name> <literal type="string" pos:start="77:41" pos:end="77:53">" htab_mask "</literal> <name pos:start="77:55" pos:end="77:68">TARGET_FMT_plx</name>

            <literal type="string" pos:start="79:13" pos:end="79:20">" hash "</literal> <name pos:start="79:22" pos:end="79:35">TARGET_FMT_plx</name> <literal type="string" pos:start="79:37" pos:end="79:40">"\n"</literal></expr></argument>,

            <argument pos:start="81:13" pos:end="81:26"><expr pos:start="81:13" pos:end="81:26"><name pos:start="81:13" pos:end="81:26"><name pos:start="81:13" pos:end="81:15">env</name><operator pos:start="81:16" pos:end="81:17">-&gt;</operator><name pos:start="81:18" pos:end="81:26">htab_base</name></name></expr></argument>, <argument pos:start="81:29" pos:end="81:42"><expr pos:start="81:29" pos:end="81:42"><name pos:start="81:29" pos:end="81:42"><name pos:start="81:29" pos:end="81:31">env</name><operator pos:start="81:32" pos:end="81:33">-&gt;</operator><name pos:start="81:34" pos:end="81:42">htab_mask</name></name></expr></argument>, <argument pos:start="81:45" pos:end="81:48"><expr pos:start="81:45" pos:end="81:48"><name pos:start="81:45" pos:end="81:48">hash</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <comment type="block" pos:start="85:5" pos:end="85:29">/* Primary PTEG lookup */</comment>

    <expr_stmt pos:start="87:5" pos:end="95:63"><expr pos:start="87:5" pos:end="95:62"><call pos:start="87:5" pos:end="95:62"><name pos:start="87:5" pos:end="87:17">qemu_log_mask</name><argument_list pos:start="87:18" pos:end="95:62">(<argument pos:start="87:19" pos:end="87:29"><expr pos:start="87:19" pos:end="87:29"><name pos:start="87:19" pos:end="87:29">CPU_LOG_MMU</name></expr></argument>,

            <argument pos:start="89:13" pos:end="93:40"><expr pos:start="89:13" pos:end="93:40"><literal type="string" pos:start="89:13" pos:end="89:21">"0 htab="</literal> <name pos:start="89:23" pos:end="89:36">TARGET_FMT_plx</name> <literal type="string" pos:start="89:38" pos:end="89:40">"/"</literal> <name pos:start="89:42" pos:end="89:55">TARGET_FMT_plx</name>

            <literal type="string" pos:start="91:13" pos:end="91:20">" vsid="</literal> <name pos:start="91:22" pos:end="91:34">TARGET_FMT_lx</name> <literal type="string" pos:start="91:36" pos:end="91:43">" ptem="</literal> <name pos:start="91:45" pos:end="91:57">TARGET_FMT_lx</name>

            <literal type="string" pos:start="93:13" pos:end="93:20">" hash="</literal> <name pos:start="93:22" pos:end="93:35">TARGET_FMT_plx</name> <literal type="string" pos:start="93:37" pos:end="93:40">"\n"</literal></expr></argument>,

            <argument pos:start="95:13" pos:end="95:26"><expr pos:start="95:13" pos:end="95:26"><name pos:start="95:13" pos:end="95:26"><name pos:start="95:13" pos:end="95:15">env</name><operator pos:start="95:16" pos:end="95:17">-&gt;</operator><name pos:start="95:18" pos:end="95:26">htab_base</name></name></expr></argument>, <argument pos:start="95:29" pos:end="95:42"><expr pos:start="95:29" pos:end="95:42"><name pos:start="95:29" pos:end="95:42"><name pos:start="95:29" pos:end="95:31">env</name><operator pos:start="95:32" pos:end="95:33">-&gt;</operator><name pos:start="95:34" pos:end="95:42">htab_mask</name></name></expr></argument>, <argument pos:start="95:45" pos:end="95:48"><expr pos:start="95:45" pos:end="95:48"><name pos:start="95:45" pos:end="95:48">vsid</name></expr></argument>, <argument pos:start="95:51" pos:end="95:54"><expr pos:start="95:51" pos:end="95:54"><name pos:start="95:51" pos:end="95:54">ptem</name></expr></argument>,  <argument pos:start="95:58" pos:end="95:61"><expr pos:start="95:58" pos:end="95:61"><name pos:start="95:58" pos:end="95:61">hash</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="97:5" pos:end="97:69"><expr pos:start="97:5" pos:end="97:68"><name pos:start="97:5" pos:end="97:8">ptex</name> <operator pos:start="97:10" pos:end="97:10">=</operator> <call pos:start="97:12" pos:end="97:68"><name pos:start="97:12" pos:end="97:33">ppc_hash64_pteg_search</name><argument_list pos:start="97:34" pos:end="97:68">(<argument pos:start="97:35" pos:end="97:37"><expr pos:start="97:35" pos:end="97:37"><name pos:start="97:35" pos:end="97:37">cpu</name></expr></argument>, <argument pos:start="97:40" pos:end="97:43"><expr pos:start="97:40" pos:end="97:43"><name pos:start="97:40" pos:end="97:43">hash</name></expr></argument>, <argument pos:start="97:46" pos:end="97:48"><expr pos:start="97:46" pos:end="97:48"><name pos:start="97:46" pos:end="97:48">sps</name></expr></argument>, <argument pos:start="97:51" pos:end="97:54"><expr pos:start="97:51" pos:end="97:54"><name pos:start="97:51" pos:end="97:54">ptem</name></expr></argument>, <argument pos:start="97:57" pos:end="97:59"><expr pos:start="97:57" pos:end="97:59"><name pos:start="97:57" pos:end="97:59">pte</name></expr></argument>, <argument pos:start="97:62" pos:end="97:67"><expr pos:start="97:62" pos:end="97:67"><name pos:start="97:62" pos:end="97:67">pshift</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <if_stmt pos:start="101:5" pos:end="121:5"><if pos:start="101:5" pos:end="121:5">if <condition pos:start="101:8" pos:end="101:19">(<expr pos:start="101:9" pos:end="101:18"><name pos:start="101:9" pos:end="101:12">ptex</name> <operator pos:start="101:14" pos:end="101:15">==</operator> <operator pos:start="101:17" pos:end="101:17">-</operator><literal type="number" pos:start="101:18" pos:end="101:18">1</literal></expr>)</condition> <block pos:start="101:21" pos:end="121:5">{<block_content pos:start="105:9" pos:end="119:74">

        <comment type="block" pos:start="103:9" pos:end="103:35">/* Secondary PTEG lookup */</comment>

        <expr_stmt pos:start="105:9" pos:end="105:35"><expr pos:start="105:9" pos:end="105:34"><name pos:start="105:9" pos:end="105:12">ptem</name> <operator pos:start="105:14" pos:end="105:15">|=</operator> <name pos:start="105:17" pos:end="105:34">HPTE64_V_SECONDARY</name></expr>;</expr_stmt>

        <expr_stmt pos:start="107:9" pos:end="115:51"><expr pos:start="107:9" pos:end="115:50"><call pos:start="107:9" pos:end="115:50"><name pos:start="107:9" pos:end="107:21">qemu_log_mask</name><argument_list pos:start="107:22" pos:end="115:50">(<argument pos:start="107:23" pos:end="107:33"><expr pos:start="107:23" pos:end="107:33"><name pos:start="107:23" pos:end="107:33">CPU_LOG_MMU</name></expr></argument>,

                <argument pos:start="109:17" pos:end="113:44"><expr pos:start="109:17" pos:end="113:44"><literal type="string" pos:start="109:17" pos:end="109:25">"1 htab="</literal> <name pos:start="109:27" pos:end="109:40">TARGET_FMT_plx</name> <literal type="string" pos:start="109:42" pos:end="109:44">"/"</literal> <name pos:start="109:46" pos:end="109:59">TARGET_FMT_plx</name>

                <literal type="string" pos:start="111:17" pos:end="111:24">" vsid="</literal> <name pos:start="111:26" pos:end="111:38">TARGET_FMT_lx</name> <literal type="string" pos:start="111:40" pos:end="111:46">" api="</literal> <name pos:start="111:48" pos:end="111:60">TARGET_FMT_lx</name>

                <literal type="string" pos:start="113:17" pos:end="113:24">" hash="</literal> <name pos:start="113:26" pos:end="113:39">TARGET_FMT_plx</name> <literal type="string" pos:start="113:41" pos:end="113:44">"\n"</literal></expr></argument>, <argument pos:start="113:47" pos:end="113:60"><expr pos:start="113:47" pos:end="113:60"><name pos:start="113:47" pos:end="113:60"><name pos:start="113:47" pos:end="113:49">env</name><operator pos:start="113:50" pos:end="113:51">-&gt;</operator><name pos:start="113:52" pos:end="113:60">htab_base</name></name></expr></argument>,

                <argument pos:start="115:17" pos:end="115:30"><expr pos:start="115:17" pos:end="115:30"><name pos:start="115:17" pos:end="115:30"><name pos:start="115:17" pos:end="115:19">env</name><operator pos:start="115:20" pos:end="115:21">-&gt;</operator><name pos:start="115:22" pos:end="115:30">htab_mask</name></name></expr></argument>, <argument pos:start="115:33" pos:end="115:36"><expr pos:start="115:33" pos:end="115:36"><name pos:start="115:33" pos:end="115:36">vsid</name></expr></argument>, <argument pos:start="115:39" pos:end="115:42"><expr pos:start="115:39" pos:end="115:42"><name pos:start="115:39" pos:end="115:42">ptem</name></expr></argument>, <argument pos:start="115:45" pos:end="115:49"><expr pos:start="115:45" pos:end="115:49"><operator pos:start="115:45" pos:end="115:45">~</operator><name pos:start="115:46" pos:end="115:49">hash</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <expr_stmt pos:start="119:9" pos:end="119:74"><expr pos:start="119:9" pos:end="119:73"><name pos:start="119:9" pos:end="119:12">ptex</name> <operator pos:start="119:14" pos:end="119:14">=</operator> <call pos:start="119:16" pos:end="119:73"><name pos:start="119:16" pos:end="119:37">ppc_hash64_pteg_search</name><argument_list pos:start="119:38" pos:end="119:73">(<argument pos:start="119:39" pos:end="119:41"><expr pos:start="119:39" pos:end="119:41"><name pos:start="119:39" pos:end="119:41">cpu</name></expr></argument>, <argument pos:start="119:44" pos:end="119:48"><expr pos:start="119:44" pos:end="119:48"><operator pos:start="119:44" pos:end="119:44">~</operator><name pos:start="119:45" pos:end="119:48">hash</name></expr></argument>, <argument pos:start="119:51" pos:end="119:53"><expr pos:start="119:51" pos:end="119:53"><name pos:start="119:51" pos:end="119:53">sps</name></expr></argument>, <argument pos:start="119:56" pos:end="119:59"><expr pos:start="119:56" pos:end="119:59"><name pos:start="119:56" pos:end="119:59">ptem</name></expr></argument>, <argument pos:start="119:62" pos:end="119:64"><expr pos:start="119:62" pos:end="119:64"><name pos:start="119:62" pos:end="119:64">pte</name></expr></argument>, <argument pos:start="119:67" pos:end="119:72"><expr pos:start="119:67" pos:end="119:72"><name pos:start="119:67" pos:end="119:72">pshift</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <return pos:start="125:5" pos:end="125:16">return <expr pos:start="125:12" pos:end="125:15"><name pos:start="125:12" pos:end="125:15">ptex</name></expr>;</return>

</block_content>}</block></function>
</unit>
