<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/21112.c" pos:tabs="8"><function pos:start="1:1" pos:end="405:1"><type pos:start="1:1" pos:end="1:10"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:10">int</name></type> <name pos:start="1:12" pos:end="1:26">swf_write_video</name><parameter_list pos:start="1:27" pos:end="3:77">(<parameter pos:start="1:28" pos:end="1:45"><decl pos:start="1:28" pos:end="1:45"><type pos:start="1:28" pos:end="1:45"><name pos:start="1:28" pos:end="1:42">AVFormatContext</name> <modifier pos:start="1:44" pos:end="1:44">*</modifier></type><name pos:start="1:45" pos:end="1:45">s</name></decl></parameter>, 

                           <parameter pos:start="3:28" pos:end="3:46"><decl pos:start="3:28" pos:end="3:46"><type pos:start="3:28" pos:end="3:46"><name pos:start="3:28" pos:end="3:41">AVCodecContext</name> <modifier pos:start="3:43" pos:end="3:43">*</modifier></type><name pos:start="3:44" pos:end="3:46">enc</name></decl></parameter>, <parameter pos:start="3:49" pos:end="3:66"><decl pos:start="3:49" pos:end="3:66"><type pos:start="3:49" pos:end="3:66"><specifier pos:start="3:49" pos:end="3:53">const</specifier> <name pos:start="3:55" pos:end="3:61">uint8_t</name> <modifier pos:start="3:63" pos:end="3:63">*</modifier></type><name pos:start="3:64" pos:end="3:66">buf</name></decl></parameter>, <parameter pos:start="3:69" pos:end="3:76"><decl pos:start="3:69" pos:end="3:76"><type pos:start="3:69" pos:end="3:76"><name pos:start="3:69" pos:end="3:71">int</name></type> <name pos:start="3:73" pos:end="3:76">size</name></decl></parameter>)</parameter_list>

<block pos:start="5:1" pos:end="405:1">{<block_content pos:start="7:5" pos:end="403:13">

    <decl_stmt pos:start="7:5" pos:end="7:35"><decl pos:start="7:5" pos:end="7:34"><type pos:start="7:5" pos:end="7:16"><name pos:start="7:5" pos:end="7:14">SWFContext</name> <modifier pos:start="7:16" pos:end="7:16">*</modifier></type><name pos:start="7:17" pos:end="7:19">swf</name> <init pos:start="7:21" pos:end="7:34">= <expr pos:start="7:23" pos:end="7:34"><name pos:start="7:23" pos:end="7:34"><name pos:start="7:23" pos:end="7:23">s</name><operator pos:start="7:24" pos:end="7:25">-&gt;</operator><name pos:start="7:26" pos:end="7:34">priv_data</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:31"><decl pos:start="9:5" pos:end="9:30"><type pos:start="9:5" pos:end="9:19"><name pos:start="9:5" pos:end="9:17">ByteIOContext</name> <modifier pos:start="9:19" pos:end="9:19">*</modifier></type><name pos:start="9:20" pos:end="9:21">pb</name> <init pos:start="9:23" pos:end="9:30">= <expr pos:start="9:25" pos:end="9:30"><operator pos:start="9:25" pos:end="9:25">&amp;</operator><name pos:start="9:26" pos:end="9:30"><name pos:start="9:26" pos:end="9:26">s</name><operator pos:start="9:27" pos:end="9:28">-&gt;</operator><name pos:start="9:29" pos:end="9:30">pb</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:14"><decl pos:start="11:5" pos:end="11:13"><type pos:start="11:5" pos:end="11:7"><name pos:start="11:5" pos:end="11:7">int</name></type> <name pos:start="11:9" pos:end="11:9">c</name> <init pos:start="11:11" pos:end="11:13">= <expr pos:start="11:13" pos:end="11:13"><literal type="number" pos:start="11:13" pos:end="11:13">0</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:20"><decl pos:start="13:5" pos:end="13:19"><type pos:start="13:5" pos:end="13:7"><name pos:start="13:5" pos:end="13:7">int</name></type> <name pos:start="13:9" pos:end="13:15">outSize</name> <init pos:start="13:17" pos:end="13:19">= <expr pos:start="13:19" pos:end="13:19"><literal type="number" pos:start="13:19" pos:end="13:19">0</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="15:23"><decl pos:start="15:5" pos:end="15:22"><type pos:start="15:5" pos:end="15:7"><name pos:start="15:5" pos:end="15:7">int</name></type> <name pos:start="15:9" pos:end="15:18">outSamples</name> <init pos:start="15:20" pos:end="15:22">= <expr pos:start="15:22" pos:end="15:22"><literal type="number" pos:start="15:22" pos:end="15:22">0</literal></expr></init></decl>;</decl_stmt>

    

    <comment type="block" pos:start="19:5" pos:end="19:28">/* Flash Player limit */</comment>

    <if_stmt pos:start="21:5" pos:end="25:5"><if pos:start="21:5" pos:end="25:5">if <condition pos:start="21:8" pos:end="21:41">( <expr pos:start="21:10" pos:end="21:39"><name pos:start="21:10" pos:end="21:30"><name pos:start="21:10" pos:end="21:12">swf</name><operator pos:start="21:13" pos:end="21:14">-&gt;</operator><name pos:start="21:15" pos:end="21:30">swf_frame_number</name></name> <operator pos:start="21:32" pos:end="21:33">&gt;=</operator> <literal type="number" pos:start="21:35" pos:end="21:39">16000</literal></expr> )</condition> <block pos:start="21:43" pos:end="25:5">{<block_content pos:start="23:9" pos:end="23:17">

        <return pos:start="23:9" pos:end="23:17">return <expr pos:start="23:16" pos:end="23:16"><literal type="number" pos:start="23:16" pos:end="23:16">0</literal></expr>;</return>

    </block_content>}</block></if></if_stmt>



    <comment type="block" pos:start="29:5" pos:end="29:35">/* Store video data in queue */</comment>

    <if_stmt pos:start="31:5" pos:end="53:5"><if pos:start="31:5" pos:end="53:5">if <condition pos:start="31:8" pos:end="31:46">( <expr pos:start="31:10" pos:end="31:44"><name pos:start="31:10" pos:end="31:24"><name pos:start="31:10" pos:end="31:12">enc</name><operator pos:start="31:13" pos:end="31:14">-&gt;</operator><name pos:start="31:15" pos:end="31:24">codec_type</name></name> <operator pos:start="31:26" pos:end="31:27">==</operator> <name pos:start="31:29" pos:end="31:44">CODEC_TYPE_VIDEO</name></expr> )</condition> <block pos:start="31:48" pos:end="53:5">{<block_content pos:start="33:9" pos:end="51:9">

        <decl_stmt pos:start="33:9" pos:end="33:58"><decl pos:start="33:9" pos:end="33:57"><type pos:start="33:9" pos:end="33:18"><name pos:start="33:9" pos:end="33:16">SWFFrame</name> <modifier pos:start="33:18" pos:end="33:18">*</modifier></type><name pos:start="33:19" pos:end="33:27">new_frame</name> <init pos:start="33:29" pos:end="33:57">= <expr pos:start="33:31" pos:end="33:57"><call pos:start="33:31" pos:end="33:57"><name pos:start="33:31" pos:end="33:39">av_malloc</name><argument_list pos:start="33:40" pos:end="33:57">(<argument pos:start="33:41" pos:end="33:56"><expr pos:start="33:41" pos:end="33:56"><sizeof pos:start="33:41" pos:end="33:56">sizeof<argument_list pos:start="33:47" pos:end="33:56">(<argument pos:start="33:48" pos:end="33:55"><expr pos:start="33:48" pos:end="33:55"><name pos:start="33:48" pos:end="33:55">SWFFrame</name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

        <expr_stmt pos:start="35:9" pos:end="35:28"><expr pos:start="35:9" pos:end="35:27"><name pos:start="35:9" pos:end="35:23"><name pos:start="35:9" pos:end="35:17">new_frame</name><operator pos:start="35:18" pos:end="35:19">-&gt;</operator><name pos:start="35:20" pos:end="35:23">prev</name></name> <operator pos:start="35:25" pos:end="35:25">=</operator> <literal type="number" pos:start="35:27" pos:end="35:27">0</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="37:9" pos:end="37:42"><expr pos:start="37:9" pos:end="37:41"><name pos:start="37:9" pos:end="37:23"><name pos:start="37:9" pos:end="37:17">new_frame</name><operator pos:start="37:18" pos:end="37:19">-&gt;</operator><name pos:start="37:20" pos:end="37:23">next</name></name> <operator pos:start="37:25" pos:end="37:25">=</operator> <name pos:start="37:27" pos:end="37:41"><name pos:start="37:27" pos:end="37:29">swf</name><operator pos:start="37:30" pos:end="37:31">-&gt;</operator><name pos:start="37:32" pos:end="37:41">frame_head</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="39:9" pos:end="39:42"><expr pos:start="39:9" pos:end="39:41"><name pos:start="39:9" pos:end="39:23"><name pos:start="39:9" pos:end="39:17">new_frame</name><operator pos:start="39:18" pos:end="39:19">-&gt;</operator><name pos:start="39:20" pos:end="39:23">data</name></name> <operator pos:start="39:25" pos:end="39:25">=</operator> <call pos:start="39:27" pos:end="39:41"><name pos:start="39:27" pos:end="39:35">av_malloc</name><argument_list pos:start="39:36" pos:end="39:41">(<argument pos:start="39:37" pos:end="39:40"><expr pos:start="39:37" pos:end="39:40"><name pos:start="39:37" pos:end="39:40">size</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="41:9" pos:end="41:31"><expr pos:start="41:9" pos:end="41:30"><name pos:start="41:9" pos:end="41:23"><name pos:start="41:9" pos:end="41:17">new_frame</name><operator pos:start="41:18" pos:end="41:19">-&gt;</operator><name pos:start="41:20" pos:end="41:23">size</name></name> <operator pos:start="41:25" pos:end="41:25">=</operator> <name pos:start="41:27" pos:end="41:30">size</name></expr>;</expr_stmt>

        <expr_stmt pos:start="43:9" pos:end="43:41"><expr pos:start="43:9" pos:end="43:40"><call pos:start="43:9" pos:end="43:40"><name pos:start="43:9" pos:end="43:14">memcpy</name><argument_list pos:start="43:15" pos:end="43:40">(<argument pos:start="43:16" pos:end="43:30"><expr pos:start="43:16" pos:end="43:30"><name pos:start="43:16" pos:end="43:30"><name pos:start="43:16" pos:end="43:24">new_frame</name><operator pos:start="43:25" pos:end="43:26">-&gt;</operator><name pos:start="43:27" pos:end="43:30">data</name></name></expr></argument>,<argument pos:start="43:32" pos:end="43:34"><expr pos:start="43:32" pos:end="43:34"><name pos:start="43:32" pos:end="43:34">buf</name></expr></argument>,<argument pos:start="43:36" pos:end="43:39"><expr pos:start="43:36" pos:end="43:39"><name pos:start="43:36" pos:end="43:39">size</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="45:9" pos:end="45:36"><expr pos:start="45:9" pos:end="45:35"><name pos:start="45:9" pos:end="45:23"><name pos:start="45:9" pos:end="45:11">swf</name><operator pos:start="45:12" pos:end="45:13">-&gt;</operator><name pos:start="45:14" pos:end="45:23">frame_head</name></name> <operator pos:start="45:25" pos:end="45:25">=</operator> <name pos:start="45:27" pos:end="45:35">new_frame</name></expr>;</expr_stmt>

        <if_stmt pos:start="47:9" pos:end="51:9"><if pos:start="47:9" pos:end="51:9">if <condition pos:start="47:12" pos:end="47:35">( <expr pos:start="47:14" pos:end="47:33"><name pos:start="47:14" pos:end="47:28"><name pos:start="47:14" pos:end="47:16">swf</name><operator pos:start="47:17" pos:end="47:18">-&gt;</operator><name pos:start="47:19" pos:end="47:28">frame_tail</name></name> <operator pos:start="47:30" pos:end="47:31">==</operator> <literal type="number" pos:start="47:33" pos:end="47:33">0</literal></expr> )</condition> <block pos:start="47:37" pos:end="51:9">{<block_content pos:start="49:13" pos:end="49:40">

            <expr_stmt pos:start="49:13" pos:end="49:40"><expr pos:start="49:13" pos:end="49:39"><name pos:start="49:13" pos:end="49:27"><name pos:start="49:13" pos:end="49:15">swf</name><operator pos:start="49:16" pos:end="49:17">-&gt;</operator><name pos:start="49:18" pos:end="49:27">frame_tail</name></name> <operator pos:start="49:29" pos:end="49:29">=</operator> <name pos:start="49:31" pos:end="49:39">new_frame</name></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></if></if_stmt>

    

    <if_stmt pos:start="57:5" pos:end="145:5"><if pos:start="57:5" pos:end="145:5">if <condition pos:start="57:8" pos:end="57:26">( <expr pos:start="57:10" pos:end="57:24"><name pos:start="57:10" pos:end="57:24"><name pos:start="57:10" pos:end="57:12">swf</name><operator pos:start="57:13" pos:end="57:14">-&gt;</operator><name pos:start="57:15" pos:end="57:24">audio_type</name></name></expr> )</condition> <block pos:start="57:28" pos:end="145:5">{<block_content pos:start="61:1" pos:end="143:9">

        <comment type="block" pos:start="59:9" pos:end="59:51">/* Prescan audio data for this swf frame */</comment>

<label pos:start="61:1" pos:end="61:23"><name pos:start="61:1" pos:end="61:22">retry_swf_audio_packet</name>:</label>

        <if_stmt pos:start="63:9" pos:end="121:9"><if pos:start="63:9" pos:end="121:9">if <condition pos:start="63:12" pos:end="63:47">( <expr pos:start="63:14" pos:end="63:45"><operator pos:start="63:14" pos:end="63:14">(</operator> <name pos:start="63:16" pos:end="63:30"><name pos:start="63:16" pos:end="63:18">swf</name><operator pos:start="63:19" pos:end="63:20">-&gt;</operator><name pos:start="63:21" pos:end="63:30">audio_size</name></name><operator pos:start="63:31" pos:end="63:31">-</operator><name pos:start="63:32" pos:end="63:38">outSize</name> <operator pos:start="63:40" pos:end="63:40">)</operator> <operator pos:start="63:42" pos:end="63:43">&gt;=</operator> <literal type="number" pos:start="63:45" pos:end="63:45">4</literal></expr> )</condition> <block pos:start="63:49" pos:end="121:9">{<block_content pos:start="65:13" pos:end="119:13">

            <decl_stmt pos:start="65:13" pos:end="65:33"><decl pos:start="65:13" pos:end="65:32"><type pos:start="65:13" pos:end="65:15"><name pos:start="65:13" pos:end="65:15">int</name></type> <name pos:start="65:17" pos:end="65:28">mp3FrameSize</name> <init pos:start="65:30" pos:end="65:32">= <expr pos:start="65:32" pos:end="65:32"><literal type="number" pos:start="65:32" pos:end="65:32">0</literal></expr></init></decl>;</decl_stmt>

            <decl_stmt pos:start="67:13" pos:end="67:34"><decl pos:start="67:13" pos:end="67:33"><type pos:start="67:13" pos:end="67:15"><name pos:start="67:13" pos:end="67:15">int</name></type> <name pos:start="67:17" pos:end="67:29">mp3SampleRate</name> <init pos:start="67:31" pos:end="67:33">= <expr pos:start="67:33" pos:end="67:33"><literal type="number" pos:start="67:33" pos:end="67:33">0</literal></expr></init></decl>;</decl_stmt>

            <decl_stmt pos:start="69:13" pos:end="69:30"><decl pos:start="69:13" pos:end="69:29"><type pos:start="69:13" pos:end="69:15"><name pos:start="69:13" pos:end="69:15">int</name></type> <name pos:start="69:17" pos:end="69:25">mp3IsMono</name> <init pos:start="69:27" pos:end="69:29">= <expr pos:start="69:29" pos:end="69:29"><literal type="number" pos:start="69:29" pos:end="69:29">0</literal></expr></init></decl>;</decl_stmt>

            <decl_stmt pos:start="71:13" pos:end="71:39"><decl pos:start="71:13" pos:end="71:38"><type pos:start="71:13" pos:end="71:15"><name pos:start="71:13" pos:end="71:15">int</name></type> <name pos:start="71:17" pos:end="71:34">mp3SamplesPerFrame</name> <init pos:start="71:36" pos:end="71:38">= <expr pos:start="71:38" pos:end="71:38"><literal type="number" pos:start="71:38" pos:end="71:38">0</literal></expr></init></decl>;</decl_stmt>

            

            <comment type="block" pos:start="75:13" pos:end="75:54">/* copy out mp3 header from ring buffer */</comment>

            <decl_stmt pos:start="77:13" pos:end="77:30"><decl pos:start="77:13" pos:end="77:29"><type pos:start="77:13" pos:end="77:19"><name pos:start="77:13" pos:end="77:19">uint8_t</name></type> <name pos:start="77:21" pos:end="77:29"><name pos:start="77:21" pos:end="77:26">header</name><index pos:start="77:27" pos:end="77:29">[<expr pos:start="77:28" pos:end="77:28"><literal type="number" pos:start="77:28" pos:end="77:28">4</literal></expr>]</index></name></decl>;</decl_stmt>

            <for pos:start="79:13" pos:end="83:13">for <control pos:start="79:17" pos:end="79:31">(<init pos:start="79:18" pos:end="79:21"><expr pos:start="79:18" pos:end="79:20"><name pos:start="79:18" pos:end="79:18">c</name><operator pos:start="79:19" pos:end="79:19">=</operator><literal type="number" pos:start="79:20" pos:end="79:20">0</literal></expr>;</init> <condition pos:start="79:23" pos:end="79:26"><expr pos:start="79:23" pos:end="79:25"><name pos:start="79:23" pos:end="79:23">c</name><operator pos:start="79:24" pos:end="79:24">&lt;</operator><literal type="number" pos:start="79:25" pos:end="79:25">4</literal></expr>;</condition> <incr pos:start="79:28" pos:end="79:30"><expr pos:start="79:28" pos:end="79:30"><name pos:start="79:28" pos:end="79:28">c</name><operator pos:start="79:29" pos:end="79:30">++</operator></expr></incr>)</control> <block pos:start="79:33" pos:end="83:13">{<block_content pos:start="81:17" pos:end="81:93">

                <expr_stmt pos:start="81:17" pos:end="81:93"><expr pos:start="81:17" pos:end="81:92"><name pos:start="81:17" pos:end="81:25"><name pos:start="81:17" pos:end="81:22">header</name><index pos:start="81:23" pos:end="81:25">[<expr pos:start="81:24" pos:end="81:24"><name pos:start="81:24" pos:end="81:24">c</name></expr>]</index></name> <operator pos:start="81:27" pos:end="81:27">=</operator> <name pos:start="81:29" pos:end="81:92"><name pos:start="81:29" pos:end="81:31">swf</name><operator pos:start="81:32" pos:end="81:33">-&gt;</operator><name pos:start="81:34" pos:end="81:43">audio_fifo</name><index pos:start="81:44" pos:end="81:92">[<expr pos:start="81:45" pos:end="81:91"><operator pos:start="81:45" pos:end="81:45">(</operator><name pos:start="81:46" pos:end="81:62"><name pos:start="81:46" pos:end="81:48">swf</name><operator pos:start="81:49" pos:end="81:50">-&gt;</operator><name pos:start="81:51" pos:end="81:62">audio_in_pos</name></name><operator pos:start="81:63" pos:end="81:63">+</operator><name pos:start="81:64" pos:end="81:70">outSize</name><operator pos:start="81:71" pos:end="81:71">+</operator><name pos:start="81:72" pos:end="81:72">c</name><operator pos:start="81:73" pos:end="81:73">)</operator> <operator pos:start="81:75" pos:end="81:75">%</operator> <name pos:start="81:77" pos:end="81:91">AUDIO_FIFO_SIZE</name></expr>]</index></name></expr>;</expr_stmt>

            </block_content>}</block></for>

            

            <if_stmt pos:start="87:13" pos:end="119:13"><if pos:start="87:13" pos:end="103:13">if <condition pos:start="87:16" pos:end="87:99">( <expr pos:start="87:18" pos:end="87:97"><call pos:start="87:18" pos:end="87:97"><name pos:start="87:18" pos:end="87:29">swf_mp3_info</name><argument_list pos:start="87:30" pos:end="87:97">(<argument pos:start="87:31" pos:end="87:36"><expr pos:start="87:31" pos:end="87:36"><name pos:start="87:31" pos:end="87:36">header</name></expr></argument>,<argument pos:start="87:38" pos:end="87:50"><expr pos:start="87:38" pos:end="87:50"><operator pos:start="87:38" pos:end="87:38">&amp;</operator><name pos:start="87:39" pos:end="87:50">mp3FrameSize</name></expr></argument>,<argument pos:start="87:52" pos:end="87:70"><expr pos:start="87:52" pos:end="87:70"><operator pos:start="87:52" pos:end="87:52">&amp;</operator><name pos:start="87:53" pos:end="87:70">mp3SamplesPerFrame</name></expr></argument>,<argument pos:start="87:72" pos:end="87:85"><expr pos:start="87:72" pos:end="87:85"><operator pos:start="87:72" pos:end="87:72">&amp;</operator><name pos:start="87:73" pos:end="87:85">mp3SampleRate</name></expr></argument>,<argument pos:start="87:87" pos:end="87:96"><expr pos:start="87:87" pos:end="87:96"><operator pos:start="87:87" pos:end="87:87">&amp;</operator><name pos:start="87:88" pos:end="87:96">mp3IsMono</name></expr></argument>)</argument_list></call></expr> )</condition> <block pos:start="87:101" pos:end="103:13">{<block_content pos:start="89:17" pos:end="101:17">

                <if_stmt pos:start="89:17" pos:end="101:17"><if pos:start="89:17" pos:end="101:17">if <condition pos:start="89:20" pos:end="89:66">( <expr pos:start="89:22" pos:end="89:64"><operator pos:start="89:22" pos:end="89:22">(</operator> <name pos:start="89:24" pos:end="89:38"><name pos:start="89:24" pos:end="89:26">swf</name><operator pos:start="89:27" pos:end="89:28">-&gt;</operator><name pos:start="89:29" pos:end="89:38">audio_size</name></name><operator pos:start="89:39" pos:end="89:39">-</operator><name pos:start="89:40" pos:end="89:46">outSize</name> <operator pos:start="89:48" pos:end="89:48">)</operator> <operator pos:start="89:50" pos:end="89:51">&gt;=</operator> <name pos:start="89:53" pos:end="89:64">mp3FrameSize</name></expr> )</condition> <block pos:start="89:68" pos:end="101:17">{<block_content pos:start="91:21" pos:end="99:21">

                    <expr_stmt pos:start="91:21" pos:end="91:44"><expr pos:start="91:21" pos:end="91:43"><name pos:start="91:21" pos:end="91:27">outSize</name> <operator pos:start="91:29" pos:end="91:30">+=</operator> <name pos:start="91:32" pos:end="91:43">mp3FrameSize</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="93:21" pos:end="93:53"><expr pos:start="93:21" pos:end="93:52"><name pos:start="93:21" pos:end="93:30">outSamples</name> <operator pos:start="93:32" pos:end="93:33">+=</operator> <name pos:start="93:35" pos:end="93:52">mp3SamplesPerFrame</name></expr>;</expr_stmt>

                    <if_stmt pos:start="95:21" pos:end="99:21"><if pos:start="95:21" pos:end="99:21">if <condition pos:start="95:24" pos:end="95:108">( <expr pos:start="95:26" pos:end="95:106"><operator pos:start="95:26" pos:end="95:26">(</operator> <name pos:start="95:28" pos:end="95:45"><name pos:start="95:28" pos:end="95:30">swf</name><operator pos:start="95:31" pos:end="95:32">-&gt;</operator><name pos:start="95:33" pos:end="95:45">sound_samples</name></name> <operator pos:start="95:47" pos:end="95:47">+</operator> <name pos:start="95:49" pos:end="95:58">outSamples</name> <operator pos:start="95:60" pos:end="95:60">+</operator> <name pos:start="95:62" pos:end="95:83"><name pos:start="95:62" pos:end="95:64">swf</name><operator pos:start="95:65" pos:end="95:66">-&gt;</operator><name pos:start="95:67" pos:end="95:83">samples_per_frame</name></name> <operator pos:start="95:85" pos:end="95:85">)</operator> <operator pos:start="95:87" pos:end="95:87">&lt;</operator> <name pos:start="95:89" pos:end="95:106"><name pos:start="95:89" pos:end="95:91">swf</name><operator pos:start="95:92" pos:end="95:93">-&gt;</operator><name pos:start="95:94" pos:end="95:106">video_samples</name></name></expr> )</condition> <block pos:start="95:110" pos:end="99:21">{<block_content pos:start="97:25" pos:end="97:52">

                        <goto pos:start="97:25" pos:end="97:52">goto <name pos:start="97:30" pos:end="97:51">retry_swf_audio_packet</name>;</goto>

                    </block_content>}</block></if></if_stmt>

                </block_content>}</block></if></if_stmt>

            </block_content>}</block></if> <else pos:start="103:15" pos:end="119:13">else <block pos:start="103:20" pos:end="119:13">{<block_content pos:start="111:17" pos:end="117:44">

                <comment type="block" pos:start="105:17" pos:end="109:47">/* invalid mp3 data, skip forward

                we need to do this since the Flash Player 

                does not like custom headers */</comment>

                <expr_stmt pos:start="111:17" pos:end="111:37"><expr pos:start="111:17" pos:end="111:36"><name pos:start="111:17" pos:end="111:33"><name pos:start="111:17" pos:end="111:19">swf</name><operator pos:start="111:20" pos:end="111:21">-&gt;</operator><name pos:start="111:22" pos:end="111:33">audio_in_pos</name></name> <operator pos:start="111:35" pos:end="111:36">++</operator></expr>;</expr_stmt>

                <expr_stmt pos:start="113:17" pos:end="113:35"><expr pos:start="113:17" pos:end="113:34"><name pos:start="113:17" pos:end="113:31"><name pos:start="113:17" pos:end="113:19">swf</name><operator pos:start="113:20" pos:end="113:21">-&gt;</operator><name pos:start="113:22" pos:end="113:31">audio_size</name></name> <operator pos:start="113:33" pos:end="113:34">--</operator></expr>;</expr_stmt>

                <expr_stmt pos:start="115:17" pos:end="115:53"><expr pos:start="115:17" pos:end="115:52"><name pos:start="115:17" pos:end="115:33"><name pos:start="115:17" pos:end="115:19">swf</name><operator pos:start="115:20" pos:end="115:21">-&gt;</operator><name pos:start="115:22" pos:end="115:33">audio_in_pos</name></name> <operator pos:start="115:35" pos:end="115:36">%=</operator> <name pos:start="115:38" pos:end="115:52">AUDIO_FIFO_SIZE</name></expr>;</expr_stmt>

                <goto pos:start="117:17" pos:end="117:44">goto <name pos:start="117:22" pos:end="117:43">retry_swf_audio_packet</name>;</goto>

            </block_content>}</block></else></if_stmt>

        </block_content>}</block></if></if_stmt>

        

        <comment type="block" pos:start="125:9" pos:end="125:55">/* audio stream is behind video stream, bail */</comment>

        <if_stmt pos:start="127:9" pos:end="131:9"><if pos:start="127:9" pos:end="131:9">if <condition pos:start="127:12" pos:end="127:96">( <expr pos:start="127:14" pos:end="127:94"><operator pos:start="127:14" pos:end="127:14">(</operator> <name pos:start="127:16" pos:end="127:33"><name pos:start="127:16" pos:end="127:18">swf</name><operator pos:start="127:19" pos:end="127:20">-&gt;</operator><name pos:start="127:21" pos:end="127:33">sound_samples</name></name> <operator pos:start="127:35" pos:end="127:35">+</operator> <name pos:start="127:37" pos:end="127:46">outSamples</name> <operator pos:start="127:48" pos:end="127:48">+</operator> <name pos:start="127:50" pos:end="127:71"><name pos:start="127:50" pos:end="127:52">swf</name><operator pos:start="127:53" pos:end="127:54">-&gt;</operator><name pos:start="127:55" pos:end="127:71">samples_per_frame</name></name> <operator pos:start="127:73" pos:end="127:73">)</operator> <operator pos:start="127:75" pos:end="127:75">&lt;</operator> <name pos:start="127:77" pos:end="127:94"><name pos:start="127:77" pos:end="127:79">swf</name><operator pos:start="127:80" pos:end="127:81">-&gt;</operator><name pos:start="127:82" pos:end="127:94">video_samples</name></name></expr> )</condition> <block pos:start="127:98" pos:end="131:9">{<block_content pos:start="129:13" pos:end="129:21">

            <return pos:start="129:13" pos:end="129:21">return <expr pos:start="129:20" pos:end="129:20"><literal type="number" pos:start="129:20" pos:end="129:20">0</literal></expr>;</return>

        </block_content>}</block></if></if_stmt>



        <comment type="block" pos:start="135:9" pos:end="135:39">/* compute audio/video drift */</comment>

        <if_stmt pos:start="137:9" pos:end="143:9"><if pos:start="137:9" pos:end="143:9">if <condition pos:start="137:12" pos:end="137:50">( <expr pos:start="137:14" pos:end="137:48"><name pos:start="137:14" pos:end="137:28"><name pos:start="137:14" pos:end="137:16">enc</name><operator pos:start="137:17" pos:end="137:18">-&gt;</operator><name pos:start="137:19" pos:end="137:28">codec_type</name></name> <operator pos:start="137:30" pos:end="137:31">==</operator> <name pos:start="137:33" pos:end="137:48">CODEC_TYPE_VIDEO</name></expr> )</condition> <block pos:start="137:52" pos:end="143:9">{<block_content pos:start="139:13" pos:end="141:53">

            <expr_stmt pos:start="139:13" pos:end="139:145"><expr pos:start="139:13" pos:end="139:144"><name pos:start="139:13" pos:end="139:29"><name pos:start="139:13" pos:end="139:15">swf</name><operator pos:start="139:16" pos:end="139:17">-&gt;</operator><name pos:start="139:18" pos:end="139:29">skip_samples</name></name> <operator pos:start="139:31" pos:end="139:31">=</operator> <operator pos:start="139:33" pos:end="139:33">(</operator><name pos:start="139:34" pos:end="139:36">int</name><operator pos:start="139:37" pos:end="139:37">)</operator><operator pos:start="139:38" pos:end="139:38">(</operator> <operator pos:start="139:40" pos:end="139:40">(</operator> <operator pos:start="139:42" pos:end="139:42">(</operator><name pos:start="139:43" pos:end="139:48">double</name><operator pos:start="139:49" pos:end="139:49">)</operator><operator pos:start="139:50" pos:end="139:50">(</operator><name pos:start="139:51" pos:end="139:71"><name pos:start="139:51" pos:end="139:53">swf</name><operator pos:start="139:54" pos:end="139:55">-&gt;</operator><name pos:start="139:56" pos:end="139:71">swf_frame_number</name></name><operator pos:start="139:72" pos:end="139:72">)</operator> <operator pos:start="139:74" pos:end="139:74">*</operator> <operator pos:start="139:76" pos:end="139:76">(</operator><name pos:start="139:77" pos:end="139:82">double</name><operator pos:start="139:83" pos:end="139:83">)</operator><name pos:start="139:84" pos:end="139:103"><name pos:start="139:84" pos:end="139:86">enc</name><operator pos:start="139:87" pos:end="139:88">-&gt;</operator><name pos:start="139:89" pos:end="139:103">frame_rate_base</name></name> <operator pos:start="139:105" pos:end="139:105">*</operator> <literal type="number" pos:start="139:107" pos:end="139:112">44100.</literal> <operator pos:start="139:114" pos:end="139:114">)</operator> <operator pos:start="139:116" pos:end="139:116">/</operator> <operator pos:start="139:118" pos:end="139:118">(</operator><name pos:start="139:119" pos:end="139:124">double</name><operator pos:start="139:125" pos:end="139:125">)</operator><operator pos:start="139:126" pos:end="139:126">(</operator><name pos:start="139:127" pos:end="139:141"><name pos:start="139:127" pos:end="139:129">enc</name><operator pos:start="139:130" pos:end="139:131">-&gt;</operator><name pos:start="139:132" pos:end="139:141">frame_rate</name></name><operator pos:start="139:142" pos:end="139:142">)</operator> <operator pos:start="139:144" pos:end="139:144">)</operator></expr>;</expr_stmt>

            <expr_stmt pos:start="141:13" pos:end="141:53"><expr pos:start="141:13" pos:end="141:52"><name pos:start="141:13" pos:end="141:29"><name pos:start="141:13" pos:end="141:15">swf</name><operator pos:start="141:16" pos:end="141:17">-&gt;</operator><name pos:start="141:18" pos:end="141:29">skip_samples</name></name> <operator pos:start="141:31" pos:end="141:32">-=</operator>  <name pos:start="141:35" pos:end="141:52"><name pos:start="141:35" pos:end="141:37">swf</name><operator pos:start="141:38" pos:end="141:39">-&gt;</operator><name pos:start="141:40" pos:end="141:52">video_samples</name></name></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></if></if_stmt>



    <comment type="block" pos:start="149:5" pos:end="149:52">/* check if we need to insert a padding frame */</comment>

    <if_stmt pos:start="151:5" pos:end="349:5"><if pos:start="151:5" pos:end="349:5">if <condition pos:start="151:8" pos:end="151:61">(<expr pos:start="151:9" pos:end="151:59"><name pos:start="151:9" pos:end="151:25"><name pos:start="151:9" pos:end="151:11">swf</name><operator pos:start="151:12" pos:end="151:13">-&gt;</operator><name pos:start="151:14" pos:end="151:25">skip_samples</name></name> <operator pos:start="151:27" pos:end="151:28">&lt;=</operator> <operator pos:start="151:30" pos:end="151:30">(</operator> <name pos:start="151:32" pos:end="151:53"><name pos:start="151:32" pos:end="151:34">swf</name><operator pos:start="151:35" pos:end="151:36">-&gt;</operator><name pos:start="151:37" pos:end="151:53">samples_per_frame</name></name> <operator pos:start="151:55" pos:end="151:55">/</operator> <literal type="number" pos:start="151:57" pos:end="151:57">2</literal> <operator pos:start="151:59" pos:end="151:59">)</operator></expr> )</condition> <block pos:start="151:63" pos:end="349:5">{<block_content pos:start="155:9" pos:end="347:9">

        <comment type="block" pos:start="153:9" pos:end="153:72">/* no, it is time for a real frame, check if one is available */</comment>

        <if_stmt pos:start="155:9" pos:end="347:9"><if pos:start="155:9" pos:end="347:9">if <condition pos:start="155:12" pos:end="155:30">( <expr pos:start="155:14" pos:end="155:28"><name pos:start="155:14" pos:end="155:28"><name pos:start="155:14" pos:end="155:16">swf</name><operator pos:start="155:17" pos:end="155:18">-&gt;</operator><name pos:start="155:19" pos:end="155:28">frame_tail</name></name></expr> )</condition> <block pos:start="155:32" pos:end="347:9">{<block_content pos:start="157:13" pos:end="345:37">

            <if_stmt pos:start="157:13" pos:end="321:13"><if pos:start="157:13" pos:end="247:13">if <condition pos:start="157:16" pos:end="157:51">( <expr pos:start="157:18" pos:end="157:49"><name pos:start="157:18" pos:end="157:32"><name pos:start="157:18" pos:end="157:20">swf</name><operator pos:start="157:21" pos:end="157:22">-&gt;</operator><name pos:start="157:23" pos:end="157:32">video_type</name></name> <operator pos:start="157:34" pos:end="157:35">==</operator> <name pos:start="157:37" pos:end="157:49">CODEC_ID_FLV1</name></expr> )</condition> <block pos:start="157:53" pos:end="247:13">{<block_content pos:start="159:17" pos:end="243:17">

                <if_stmt pos:start="159:17" pos:end="223:17"><if pos:start="159:17" pos:end="209:17">if <condition pos:start="159:20" pos:end="159:51">( <expr pos:start="159:22" pos:end="159:49"><name pos:start="159:22" pos:end="159:44"><name pos:start="159:22" pos:end="159:24">swf</name><operator pos:start="159:25" pos:end="159:26">-&gt;</operator><name pos:start="159:27" pos:end="159:44">video_frame_number</name></name> <operator pos:start="159:46" pos:end="159:47">==</operator> <literal type="number" pos:start="159:49" pos:end="159:49">0</literal></expr> )</condition> <block pos:start="159:53" pos:end="209:17">{<block_content pos:start="163:21" pos:end="207:39">

                    <comment type="block" pos:start="161:21" pos:end="161:51">/* create a new video object */</comment>

                    <expr_stmt pos:start="163:21" pos:end="163:52"><expr pos:start="163:21" pos:end="163:51"><call pos:start="163:21" pos:end="163:51"><name pos:start="163:21" pos:end="163:31">put_swf_tag</name><argument_list pos:start="163:32" pos:end="163:51">(<argument pos:start="163:33" pos:end="163:33"><expr pos:start="163:33" pos:end="163:33"><name pos:start="163:33" pos:end="163:33">s</name></expr></argument>, <argument pos:start="163:36" pos:end="163:50"><expr pos:start="163:36" pos:end="163:50"><name pos:start="163:36" pos:end="163:50">TAG_VIDEOSTREAM</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="165:21" pos:end="165:43"><expr pos:start="165:21" pos:end="165:42"><call pos:start="165:21" pos:end="165:42"><name pos:start="165:21" pos:end="165:28">put_le16</name><argument_list pos:start="165:29" pos:end="165:42">(<argument pos:start="165:30" pos:end="165:31"><expr pos:start="165:30" pos:end="165:31"><name pos:start="165:30" pos:end="165:31">pb</name></expr></argument>, <argument pos:start="165:34" pos:end="165:41"><expr pos:start="165:34" pos:end="165:41"><name pos:start="165:34" pos:end="165:41">VIDEO_ID</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="167:21" pos:end="167:41"><expr pos:start="167:21" pos:end="167:40"><call pos:start="167:21" pos:end="167:40"><name pos:start="167:21" pos:end="167:28">put_le16</name><argument_list pos:start="167:29" pos:end="167:40">(<argument pos:start="167:30" pos:end="167:31"><expr pos:start="167:30" pos:end="167:31"><name pos:start="167:30" pos:end="167:31">pb</name></expr></argument>, <argument pos:start="167:34" pos:end="167:38"><expr pos:start="167:34" pos:end="167:38"><literal type="number" pos:start="167:34" pos:end="167:38">15000</literal></expr></argument> )</argument_list></call></expr>;</expr_stmt> <comment type="block" pos:start="167:43" pos:end="167:71">/* hard flash player limit */</comment>

                    <expr_stmt pos:start="169:21" pos:end="169:45"><expr pos:start="169:21" pos:end="169:44"><call pos:start="169:21" pos:end="169:44"><name pos:start="169:21" pos:end="169:28">put_le16</name><argument_list pos:start="169:29" pos:end="169:44">(<argument pos:start="169:30" pos:end="169:31"><expr pos:start="169:30" pos:end="169:31"><name pos:start="169:30" pos:end="169:31">pb</name></expr></argument>, <argument pos:start="169:34" pos:end="169:43"><expr pos:start="169:34" pos:end="169:43"><name pos:start="169:34" pos:end="169:43"><name pos:start="169:34" pos:end="169:36">enc</name><operator pos:start="169:37" pos:end="169:38">-&gt;</operator><name pos:start="169:39" pos:end="169:43">width</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="171:21" pos:end="171:46"><expr pos:start="171:21" pos:end="171:45"><call pos:start="171:21" pos:end="171:45"><name pos:start="171:21" pos:end="171:28">put_le16</name><argument_list pos:start="171:29" pos:end="171:45">(<argument pos:start="171:30" pos:end="171:31"><expr pos:start="171:30" pos:end="171:31"><name pos:start="171:30" pos:end="171:31">pb</name></expr></argument>, <argument pos:start="171:34" pos:end="171:44"><expr pos:start="171:34" pos:end="171:44"><name pos:start="171:34" pos:end="171:44"><name pos:start="171:34" pos:end="171:36">enc</name><operator pos:start="171:37" pos:end="171:38">-&gt;</operator><name pos:start="171:39" pos:end="171:44">height</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="173:21" pos:end="173:36"><expr pos:start="173:21" pos:end="173:35"><call pos:start="173:21" pos:end="173:35"><name pos:start="173:21" pos:end="173:28">put_byte</name><argument_list pos:start="173:29" pos:end="173:35">(<argument pos:start="173:30" pos:end="173:31"><expr pos:start="173:30" pos:end="173:31"><name pos:start="173:30" pos:end="173:31">pb</name></expr></argument>, <argument pos:start="173:34" pos:end="173:34"><expr pos:start="173:34" pos:end="173:34"><literal type="number" pos:start="173:34" pos:end="173:34">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="175:21" pos:end="175:55"><expr pos:start="175:21" pos:end="175:54"><call pos:start="175:21" pos:end="175:54"><name pos:start="175:21" pos:end="175:28">put_byte</name><argument_list pos:start="175:29" pos:end="175:54">(<argument pos:start="175:30" pos:end="175:31"><expr pos:start="175:30" pos:end="175:31"><name pos:start="175:30" pos:end="175:31">pb</name></expr></argument>, <argument pos:start="175:34" pos:end="175:53"><expr pos:start="175:34" pos:end="175:53"><name pos:start="175:34" pos:end="175:53">SWF_VIDEO_CODEC_FLV1</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="177:21" pos:end="177:39"><expr pos:start="177:21" pos:end="177:38"><call pos:start="177:21" pos:end="177:38"><name pos:start="177:21" pos:end="177:35">put_swf_end_tag</name><argument_list pos:start="177:36" pos:end="177:38">(<argument pos:start="177:37" pos:end="177:37"><expr pos:start="177:37" pos:end="177:37"><name pos:start="177:37" pos:end="177:37">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    

                    <comment type="block" pos:start="181:21" pos:end="181:67">/* place the video object for the first time */</comment>

                    <expr_stmt pos:start="183:21" pos:end="183:53"><expr pos:start="183:21" pos:end="183:52"><call pos:start="183:21" pos:end="183:52"><name pos:start="183:21" pos:end="183:31">put_swf_tag</name><argument_list pos:start="183:32" pos:end="183:52">(<argument pos:start="183:33" pos:end="183:33"><expr pos:start="183:33" pos:end="183:33"><name pos:start="183:33" pos:end="183:33">s</name></expr></argument>, <argument pos:start="183:36" pos:end="183:51"><expr pos:start="183:36" pos:end="183:51"><name pos:start="183:36" pos:end="183:51">TAG_PLACEOBJECT2</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="185:21" pos:end="185:39"><expr pos:start="185:21" pos:end="185:38"><call pos:start="185:21" pos:end="185:38"><name pos:start="185:21" pos:end="185:28">put_byte</name><argument_list pos:start="185:29" pos:end="185:38">(<argument pos:start="185:30" pos:end="185:31"><expr pos:start="185:30" pos:end="185:31"><name pos:start="185:30" pos:end="185:31">pb</name></expr></argument>, <argument pos:start="185:34" pos:end="185:37"><expr pos:start="185:34" pos:end="185:37"><literal type="number" pos:start="185:34" pos:end="185:37">0x36</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="187:21" pos:end="187:36"><expr pos:start="187:21" pos:end="187:35"><call pos:start="187:21" pos:end="187:35"><name pos:start="187:21" pos:end="187:28">put_le16</name><argument_list pos:start="187:29" pos:end="187:35">(<argument pos:start="187:30" pos:end="187:31"><expr pos:start="187:30" pos:end="187:31"><name pos:start="187:30" pos:end="187:31">pb</name></expr></argument>, <argument pos:start="187:34" pos:end="187:34"><expr pos:start="187:34" pos:end="187:34"><literal type="number" pos:start="187:34" pos:end="187:34">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="189:21" pos:end="189:43"><expr pos:start="189:21" pos:end="189:42"><call pos:start="189:21" pos:end="189:42"><name pos:start="189:21" pos:end="189:28">put_le16</name><argument_list pos:start="189:29" pos:end="189:42">(<argument pos:start="189:30" pos:end="189:31"><expr pos:start="189:30" pos:end="189:31"><name pos:start="189:30" pos:end="189:31">pb</name></expr></argument>, <argument pos:start="189:34" pos:end="189:41"><expr pos:start="189:34" pos:end="189:41"><name pos:start="189:34" pos:end="189:41">VIDEO_ID</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="191:21" pos:end="191:83"><expr pos:start="191:21" pos:end="191:82"><call pos:start="191:21" pos:end="191:82"><name pos:start="191:21" pos:end="191:34">put_swf_matrix</name><argument_list pos:start="191:35" pos:end="191:82">(<argument pos:start="191:36" pos:end="191:37"><expr pos:start="191:36" pos:end="191:37"><name pos:start="191:36" pos:end="191:37">pb</name></expr></argument>, <argument pos:start="191:40" pos:end="191:53"><expr pos:start="191:40" pos:end="191:53"><literal type="number" pos:start="191:40" pos:end="191:40">1</literal> <operator pos:start="191:42" pos:end="191:43">&lt;&lt;</operator> <name pos:start="191:45" pos:end="191:53">FRAC_BITS</name></expr></argument>, <argument pos:start="191:56" pos:end="191:56"><expr pos:start="191:56" pos:end="191:56"><literal type="number" pos:start="191:56" pos:end="191:56">0</literal></expr></argument>, <argument pos:start="191:59" pos:end="191:59"><expr pos:start="191:59" pos:end="191:59"><literal type="number" pos:start="191:59" pos:end="191:59">0</literal></expr></argument>, <argument pos:start="191:62" pos:end="191:75"><expr pos:start="191:62" pos:end="191:75"><literal type="number" pos:start="191:62" pos:end="191:62">1</literal> <operator pos:start="191:64" pos:end="191:65">&lt;&lt;</operator> <name pos:start="191:67" pos:end="191:75">FRAC_BITS</name></expr></argument>, <argument pos:start="191:78" pos:end="191:78"><expr pos:start="191:78" pos:end="191:78"><literal type="number" pos:start="191:78" pos:end="191:78">0</literal></expr></argument>, <argument pos:start="191:81" pos:end="191:81"><expr pos:start="191:81" pos:end="191:81"><literal type="number" pos:start="191:81" pos:end="191:81">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="193:21" pos:end="193:59"><expr pos:start="193:21" pos:end="193:58"><call pos:start="193:21" pos:end="193:58"><name pos:start="193:21" pos:end="193:28">put_le16</name><argument_list pos:start="193:29" pos:end="193:58">(<argument pos:start="193:30" pos:end="193:31"><expr pos:start="193:30" pos:end="193:31"><name pos:start="193:30" pos:end="193:31">pb</name></expr></argument>, <argument pos:start="193:34" pos:end="193:56"><expr pos:start="193:34" pos:end="193:56"><name pos:start="193:34" pos:end="193:56"><name pos:start="193:34" pos:end="193:36">swf</name><operator pos:start="193:37" pos:end="193:38">-&gt;</operator><name pos:start="193:39" pos:end="193:56">video_frame_number</name></name></expr></argument> )</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="195:21" pos:end="195:38"><expr pos:start="195:21" pos:end="195:37"><call pos:start="195:21" pos:end="195:37"><name pos:start="195:21" pos:end="195:28">put_byte</name><argument_list pos:start="195:29" pos:end="195:37">(<argument pos:start="195:30" pos:end="195:31"><expr pos:start="195:30" pos:end="195:31"><name pos:start="195:30" pos:end="195:31">pb</name></expr></argument>, <argument pos:start="195:34" pos:end="195:36"><expr pos:start="195:34" pos:end="195:36"><literal type="char" pos:start="195:34" pos:end="195:36">'v'</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="197:21" pos:end="197:38"><expr pos:start="197:21" pos:end="197:37"><call pos:start="197:21" pos:end="197:37"><name pos:start="197:21" pos:end="197:28">put_byte</name><argument_list pos:start="197:29" pos:end="197:37">(<argument pos:start="197:30" pos:end="197:31"><expr pos:start="197:30" pos:end="197:31"><name pos:start="197:30" pos:end="197:31">pb</name></expr></argument>, <argument pos:start="197:34" pos:end="197:36"><expr pos:start="197:34" pos:end="197:36"><literal type="char" pos:start="197:34" pos:end="197:36">'i'</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="199:21" pos:end="199:38"><expr pos:start="199:21" pos:end="199:37"><call pos:start="199:21" pos:end="199:37"><name pos:start="199:21" pos:end="199:28">put_byte</name><argument_list pos:start="199:29" pos:end="199:37">(<argument pos:start="199:30" pos:end="199:31"><expr pos:start="199:30" pos:end="199:31"><name pos:start="199:30" pos:end="199:31">pb</name></expr></argument>, <argument pos:start="199:34" pos:end="199:36"><expr pos:start="199:34" pos:end="199:36"><literal type="char" pos:start="199:34" pos:end="199:36">'d'</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="201:21" pos:end="201:38"><expr pos:start="201:21" pos:end="201:37"><call pos:start="201:21" pos:end="201:37"><name pos:start="201:21" pos:end="201:28">put_byte</name><argument_list pos:start="201:29" pos:end="201:37">(<argument pos:start="201:30" pos:end="201:31"><expr pos:start="201:30" pos:end="201:31"><name pos:start="201:30" pos:end="201:31">pb</name></expr></argument>, <argument pos:start="201:34" pos:end="201:36"><expr pos:start="201:34" pos:end="201:36"><literal type="char" pos:start="201:34" pos:end="201:36">'e'</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="203:21" pos:end="203:38"><expr pos:start="203:21" pos:end="203:37"><call pos:start="203:21" pos:end="203:37"><name pos:start="203:21" pos:end="203:28">put_byte</name><argument_list pos:start="203:29" pos:end="203:37">(<argument pos:start="203:30" pos:end="203:31"><expr pos:start="203:30" pos:end="203:31"><name pos:start="203:30" pos:end="203:31">pb</name></expr></argument>, <argument pos:start="203:34" pos:end="203:36"><expr pos:start="203:34" pos:end="203:36"><literal type="char" pos:start="203:34" pos:end="203:36">'o'</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="205:21" pos:end="205:39"><expr pos:start="205:21" pos:end="205:38"><call pos:start="205:21" pos:end="205:38"><name pos:start="205:21" pos:end="205:28">put_byte</name><argument_list pos:start="205:29" pos:end="205:38">(<argument pos:start="205:30" pos:end="205:31"><expr pos:start="205:30" pos:end="205:31"><name pos:start="205:30" pos:end="205:31">pb</name></expr></argument>, <argument pos:start="205:34" pos:end="205:37"><expr pos:start="205:34" pos:end="205:37"><literal type="number" pos:start="205:34" pos:end="205:37">0x00</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="207:21" pos:end="207:39"><expr pos:start="207:21" pos:end="207:38"><call pos:start="207:21" pos:end="207:38"><name pos:start="207:21" pos:end="207:35">put_swf_end_tag</name><argument_list pos:start="207:36" pos:end="207:38">(<argument pos:start="207:37" pos:end="207:37"><expr pos:start="207:37" pos:end="207:37"><name pos:start="207:37" pos:end="207:37">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                </block_content>}</block></if> <else pos:start="209:19" pos:end="223:17">else <block pos:start="209:24" pos:end="223:17">{<block_content pos:start="213:21" pos:end="221:39">

                    <comment type="block" pos:start="211:21" pos:end="211:55">/* mark the character for update */</comment>

                    <expr_stmt pos:start="213:21" pos:end="213:53"><expr pos:start="213:21" pos:end="213:52"><call pos:start="213:21" pos:end="213:52"><name pos:start="213:21" pos:end="213:31">put_swf_tag</name><argument_list pos:start="213:32" pos:end="213:52">(<argument pos:start="213:33" pos:end="213:33"><expr pos:start="213:33" pos:end="213:33"><name pos:start="213:33" pos:end="213:33">s</name></expr></argument>, <argument pos:start="213:36" pos:end="213:51"><expr pos:start="213:36" pos:end="213:51"><name pos:start="213:36" pos:end="213:51">TAG_PLACEOBJECT2</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="215:21" pos:end="215:39"><expr pos:start="215:21" pos:end="215:38"><call pos:start="215:21" pos:end="215:38"><name pos:start="215:21" pos:end="215:28">put_byte</name><argument_list pos:start="215:29" pos:end="215:38">(<argument pos:start="215:30" pos:end="215:31"><expr pos:start="215:30" pos:end="215:31"><name pos:start="215:30" pos:end="215:31">pb</name></expr></argument>, <argument pos:start="215:34" pos:end="215:37"><expr pos:start="215:34" pos:end="215:37"><literal type="number" pos:start="215:34" pos:end="215:37">0x11</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="217:21" pos:end="217:36"><expr pos:start="217:21" pos:end="217:35"><call pos:start="217:21" pos:end="217:35"><name pos:start="217:21" pos:end="217:28">put_le16</name><argument_list pos:start="217:29" pos:end="217:35">(<argument pos:start="217:30" pos:end="217:31"><expr pos:start="217:30" pos:end="217:31"><name pos:start="217:30" pos:end="217:31">pb</name></expr></argument>, <argument pos:start="217:34" pos:end="217:34"><expr pos:start="217:34" pos:end="217:34"><literal type="number" pos:start="217:34" pos:end="217:34">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="219:21" pos:end="219:59"><expr pos:start="219:21" pos:end="219:58"><call pos:start="219:21" pos:end="219:58"><name pos:start="219:21" pos:end="219:28">put_le16</name><argument_list pos:start="219:29" pos:end="219:58">(<argument pos:start="219:30" pos:end="219:31"><expr pos:start="219:30" pos:end="219:31"><name pos:start="219:30" pos:end="219:31">pb</name></expr></argument>, <argument pos:start="219:34" pos:end="219:56"><expr pos:start="219:34" pos:end="219:56"><name pos:start="219:34" pos:end="219:56"><name pos:start="219:34" pos:end="219:36">swf</name><operator pos:start="219:37" pos:end="219:38">-&gt;</operator><name pos:start="219:39" pos:end="219:56">video_frame_number</name></name></expr></argument> )</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="221:21" pos:end="221:39"><expr pos:start="221:21" pos:end="221:38"><call pos:start="221:21" pos:end="221:38"><name pos:start="221:21" pos:end="221:35">put_swf_end_tag</name><argument_list pos:start="221:36" pos:end="221:38">(<argument pos:start="221:37" pos:end="221:37"><expr pos:start="221:37" pos:end="221:37"><name pos:start="221:37" pos:end="221:37">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                </block_content>}</block></else></if_stmt>

    

                <comment type="line" pos:start="227:17" pos:end="227:43">// write out pending frames</comment>

                <for pos:start="229:17" pos:end="243:17">for <control pos:start="229:21" pos:end="229:76">(<init pos:start="229:22" pos:end="229:22">;</init> <condition pos:start="229:24" pos:end="229:75"><expr pos:start="229:24" pos:end="229:74"><operator pos:start="229:24" pos:end="229:24">(</operator> <name pos:start="229:26" pos:end="229:42"><name pos:start="229:26" pos:end="229:28">enc</name><operator pos:start="229:29" pos:end="229:30">-&gt;</operator><name pos:start="229:31" pos:end="229:42">frame_number</name></name> <operator pos:start="229:44" pos:end="229:44">-</operator> <name pos:start="229:46" pos:end="229:68"><name pos:start="229:46" pos:end="229:48">swf</name><operator pos:start="229:49" pos:end="229:50">-&gt;</operator><name pos:start="229:51" pos:end="229:68">video_frame_number</name></name> <operator pos:start="229:70" pos:end="229:70">)</operator> <operator pos:start="229:72" pos:end="229:72">&gt;</operator> <literal type="number" pos:start="229:74" pos:end="229:74">0</literal></expr>;</condition><incr/>)</control> <block pos:start="229:78" pos:end="243:17">{<block_content pos:start="233:21" pos:end="241:39">

                    <comment type="block" pos:start="231:21" pos:end="231:46">/* set video frame data */</comment>

                    <expr_stmt pos:start="233:21" pos:end="233:62"><expr pos:start="233:21" pos:end="233:61"><call pos:start="233:21" pos:end="233:61"><name pos:start="233:21" pos:end="233:31">put_swf_tag</name><argument_list pos:start="233:32" pos:end="233:61">(<argument pos:start="233:33" pos:end="233:33"><expr pos:start="233:33" pos:end="233:33"><name pos:start="233:33" pos:end="233:33">s</name></expr></argument>, <argument pos:start="233:36" pos:end="233:60"><expr pos:start="233:36" pos:end="233:60"><name pos:start="233:36" pos:end="233:49">TAG_VIDEOFRAME</name> <operator pos:start="233:51" pos:end="233:51">|</operator> <name pos:start="233:53" pos:end="233:60">TAG_LONG</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="235:21" pos:end="235:43"><expr pos:start="235:21" pos:end="235:42"><call pos:start="235:21" pos:end="235:42"><name pos:start="235:21" pos:end="235:28">put_le16</name><argument_list pos:start="235:29" pos:end="235:42">(<argument pos:start="235:30" pos:end="235:31"><expr pos:start="235:30" pos:end="235:31"><name pos:start="235:30" pos:end="235:31">pb</name></expr></argument>, <argument pos:start="235:34" pos:end="235:41"><expr pos:start="235:34" pos:end="235:41"><name pos:start="235:34" pos:end="235:41">VIDEO_ID</name></expr></argument>)</argument_list></call></expr>;</expr_stmt> 

                    <expr_stmt pos:start="237:21" pos:end="237:61"><expr pos:start="237:21" pos:end="237:60"><call pos:start="237:21" pos:end="237:60"><name pos:start="237:21" pos:end="237:28">put_le16</name><argument_list pos:start="237:29" pos:end="237:60">(<argument pos:start="237:30" pos:end="237:31"><expr pos:start="237:30" pos:end="237:31"><name pos:start="237:30" pos:end="237:31">pb</name></expr></argument>, <argument pos:start="237:34" pos:end="237:58"><expr pos:start="237:34" pos:end="237:58"><name pos:start="237:34" pos:end="237:56"><name pos:start="237:34" pos:end="237:36">swf</name><operator pos:start="237:37" pos:end="237:38">-&gt;</operator><name pos:start="237:39" pos:end="237:56">video_frame_number</name></name><operator pos:start="237:57" pos:end="237:58">++</operator></expr></argument> )</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="239:21" pos:end="239:81"><expr pos:start="239:21" pos:end="239:80"><call pos:start="239:21" pos:end="239:80"><name pos:start="239:21" pos:end="239:30">put_buffer</name><argument_list pos:start="239:31" pos:end="239:80">(<argument pos:start="239:32" pos:end="239:33"><expr pos:start="239:32" pos:end="239:33"><name pos:start="239:32" pos:end="239:33">pb</name></expr></argument>, <argument pos:start="239:36" pos:end="239:56"><expr pos:start="239:36" pos:end="239:56"><name pos:start="239:36" pos:end="239:56"><name pos:start="239:36" pos:end="239:38">swf</name><operator pos:start="239:39" pos:end="239:40">-&gt;</operator><name pos:start="239:41" pos:end="239:50">frame_tail</name><operator pos:start="239:51" pos:end="239:52">-&gt;</operator><name pos:start="239:53" pos:end="239:56">data</name></name></expr></argument>, <argument pos:start="239:59" pos:end="239:79"><expr pos:start="239:59" pos:end="239:79"><name pos:start="239:59" pos:end="239:79"><name pos:start="239:59" pos:end="239:61">swf</name><operator pos:start="239:62" pos:end="239:63">-&gt;</operator><name pos:start="239:64" pos:end="239:73">frame_tail</name><operator pos:start="239:74" pos:end="239:75">-&gt;</operator><name pos:start="239:76" pos:end="239:79">size</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="241:21" pos:end="241:39"><expr pos:start="241:21" pos:end="241:38"><call pos:start="241:21" pos:end="241:38"><name pos:start="241:21" pos:end="241:35">put_swf_end_tag</name><argument_list pos:start="241:36" pos:end="241:38">(<argument pos:start="241:37" pos:end="241:37"><expr pos:start="241:37" pos:end="241:37"><name pos:start="241:37" pos:end="241:37">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                </block_content>}</block></for>



            </block_content>}</block></if> <if type="elseif" pos:start="247:15" pos:end="317:13">else if <condition pos:start="247:23" pos:end="247:59">( <expr pos:start="247:25" pos:end="247:57"><name pos:start="247:25" pos:end="247:39"><name pos:start="247:25" pos:end="247:27">swf</name><operator pos:start="247:28" pos:end="247:29">-&gt;</operator><name pos:start="247:30" pos:end="247:39">video_type</name></name> <operator pos:start="247:41" pos:end="247:42">==</operator> <name pos:start="247:44" pos:end="247:57">CODEC_ID_MJPEG</name></expr> )</condition> <block pos:start="247:61" pos:end="317:13">{<block_content pos:start="249:17" pos:end="315:35">

                <if_stmt pos:start="249:17" pos:end="271:17"><if pos:start="249:17" pos:end="271:17">if <condition pos:start="249:20" pos:end="249:46">(<expr pos:start="249:21" pos:end="249:45"><name pos:start="249:21" pos:end="249:41"><name pos:start="249:21" pos:end="249:23">swf</name><operator pos:start="249:24" pos:end="249:25">-&gt;</operator><name pos:start="249:26" pos:end="249:41">swf_frame_number</name></name> <operator pos:start="249:43" pos:end="249:43">&gt;</operator> <literal type="number" pos:start="249:45" pos:end="249:45">0</literal></expr>)</condition> <block pos:start="249:48" pos:end="271:17">{<block_content pos:start="253:21" pos:end="269:39">

                    <comment type="block" pos:start="251:21" pos:end="251:42">/* remove the shape */</comment>

                    <expr_stmt pos:start="253:21" pos:end="253:53"><expr pos:start="253:21" pos:end="253:52"><call pos:start="253:21" pos:end="253:52"><name pos:start="253:21" pos:end="253:31">put_swf_tag</name><argument_list pos:start="253:32" pos:end="253:52">(<argument pos:start="253:33" pos:end="253:33"><expr pos:start="253:33" pos:end="253:33"><name pos:start="253:33" pos:end="253:33">s</name></expr></argument>, <argument pos:start="253:36" pos:end="253:51"><expr pos:start="253:36" pos:end="253:51"><name pos:start="253:36" pos:end="253:51">TAG_REMOVEOBJECT</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="255:21" pos:end="255:43"><expr pos:start="255:21" pos:end="255:42"><call pos:start="255:21" pos:end="255:42"><name pos:start="255:21" pos:end="255:28">put_le16</name><argument_list pos:start="255:29" pos:end="255:42">(<argument pos:start="255:30" pos:end="255:31"><expr pos:start="255:30" pos:end="255:31"><name pos:start="255:30" pos:end="255:31">pb</name></expr></argument>, <argument pos:start="255:34" pos:end="255:41"><expr pos:start="255:34" pos:end="255:41"><name pos:start="255:34" pos:end="255:41">SHAPE_ID</name></expr></argument>)</argument_list></call></expr>;</expr_stmt> <comment type="block" pos:start="255:45" pos:end="255:58">/* shape ID */</comment>

                    <expr_stmt pos:start="257:21" pos:end="257:36"><expr pos:start="257:21" pos:end="257:35"><call pos:start="257:21" pos:end="257:35"><name pos:start="257:21" pos:end="257:28">put_le16</name><argument_list pos:start="257:29" pos:end="257:35">(<argument pos:start="257:30" pos:end="257:31"><expr pos:start="257:30" pos:end="257:31"><name pos:start="257:30" pos:end="257:31">pb</name></expr></argument>, <argument pos:start="257:34" pos:end="257:34"><expr pos:start="257:34" pos:end="257:34"><literal type="number" pos:start="257:34" pos:end="257:34">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt> <comment type="block" pos:start="257:38" pos:end="257:48">/* depth */</comment>

                    <expr_stmt pos:start="259:21" pos:end="259:39"><expr pos:start="259:21" pos:end="259:38"><call pos:start="259:21" pos:end="259:38"><name pos:start="259:21" pos:end="259:35">put_swf_end_tag</name><argument_list pos:start="259:36" pos:end="259:38">(<argument pos:start="259:37" pos:end="259:37"><expr pos:start="259:37" pos:end="259:37"><name pos:start="259:37" pos:end="259:37">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                

                    <comment type="block" pos:start="263:21" pos:end="263:41">/* free the bitmap */</comment>

                    <expr_stmt pos:start="265:21" pos:end="265:54"><expr pos:start="265:21" pos:end="265:53"><call pos:start="265:21" pos:end="265:53"><name pos:start="265:21" pos:end="265:31">put_swf_tag</name><argument_list pos:start="265:32" pos:end="265:53">(<argument pos:start="265:33" pos:end="265:33"><expr pos:start="265:33" pos:end="265:33"><name pos:start="265:33" pos:end="265:33">s</name></expr></argument>, <argument pos:start="265:36" pos:end="265:52"><expr pos:start="265:36" pos:end="265:52"><name pos:start="265:36" pos:end="265:52">TAG_FREECHARACTER</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="267:21" pos:end="267:44"><expr pos:start="267:21" pos:end="267:43"><call pos:start="267:21" pos:end="267:43"><name pos:start="267:21" pos:end="267:28">put_le16</name><argument_list pos:start="267:29" pos:end="267:43">(<argument pos:start="267:30" pos:end="267:31"><expr pos:start="267:30" pos:end="267:31"><name pos:start="267:30" pos:end="267:31">pb</name></expr></argument>, <argument pos:start="267:34" pos:end="267:42"><expr pos:start="267:34" pos:end="267:42"><name pos:start="267:34" pos:end="267:42">BITMAP_ID</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="269:21" pos:end="269:39"><expr pos:start="269:21" pos:end="269:38"><call pos:start="269:21" pos:end="269:38"><name pos:start="269:21" pos:end="269:35">put_swf_end_tag</name><argument_list pos:start="269:36" pos:end="269:38">(<argument pos:start="269:37" pos:end="269:37"><expr pos:start="269:37" pos:end="269:37"><name pos:start="269:37" pos:end="269:37">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

        

                <expr_stmt pos:start="275:17" pos:end="275:53"><expr pos:start="275:17" pos:end="275:52"><call pos:start="275:17" pos:end="275:52"><name pos:start="275:17" pos:end="275:27">put_swf_tag</name><argument_list pos:start="275:28" pos:end="275:52">(<argument pos:start="275:29" pos:end="275:29"><expr pos:start="275:29" pos:end="275:29"><name pos:start="275:29" pos:end="275:29">s</name></expr></argument>, <argument pos:start="275:32" pos:end="275:51"><expr pos:start="275:32" pos:end="275:51"><name pos:start="275:32" pos:end="275:40">TAG_JPEG2</name> <operator pos:start="275:42" pos:end="275:42">|</operator> <name pos:start="275:44" pos:end="275:51">TAG_LONG</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        

                <expr_stmt pos:start="279:17" pos:end="279:40"><expr pos:start="279:17" pos:end="279:39"><call pos:start="279:17" pos:end="279:39"><name pos:start="279:17" pos:end="279:24">put_le16</name><argument_list pos:start="279:25" pos:end="279:39">(<argument pos:start="279:26" pos:end="279:27"><expr pos:start="279:26" pos:end="279:27"><name pos:start="279:26" pos:end="279:27">pb</name></expr></argument>, <argument pos:start="279:30" pos:end="279:38"><expr pos:start="279:30" pos:end="279:38"><name pos:start="279:30" pos:end="279:38">BITMAP_ID</name></expr></argument>)</argument_list></call></expr>;</expr_stmt> <comment type="block" pos:start="279:42" pos:end="279:62">/* ID of the image */</comment>

        

                <comment type="block" pos:start="283:17" pos:end="283:62">/* a dummy jpeg header seems to be required */</comment>

                <expr_stmt pos:start="285:17" pos:end="285:35"><expr pos:start="285:17" pos:end="285:34"><call pos:start="285:17" pos:end="285:34"><name pos:start="285:17" pos:end="285:24">put_byte</name><argument_list pos:start="285:25" pos:end="285:34">(<argument pos:start="285:26" pos:end="285:27"><expr pos:start="285:26" pos:end="285:27"><name pos:start="285:26" pos:end="285:27">pb</name></expr></argument>, <argument pos:start="285:30" pos:end="285:33"><expr pos:start="285:30" pos:end="285:33"><literal type="number" pos:start="285:30" pos:end="285:33">0xff</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt> 

                <expr_stmt pos:start="287:17" pos:end="287:35"><expr pos:start="287:17" pos:end="287:34"><call pos:start="287:17" pos:end="287:34"><name pos:start="287:17" pos:end="287:24">put_byte</name><argument_list pos:start="287:25" pos:end="287:34">(<argument pos:start="287:26" pos:end="287:27"><expr pos:start="287:26" pos:end="287:27"><name pos:start="287:26" pos:end="287:27">pb</name></expr></argument>, <argument pos:start="287:30" pos:end="287:33"><expr pos:start="287:30" pos:end="287:33"><literal type="number" pos:start="287:30" pos:end="287:33">0xd8</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="289:17" pos:end="289:35"><expr pos:start="289:17" pos:end="289:34"><call pos:start="289:17" pos:end="289:34"><name pos:start="289:17" pos:end="289:24">put_byte</name><argument_list pos:start="289:25" pos:end="289:34">(<argument pos:start="289:26" pos:end="289:27"><expr pos:start="289:26" pos:end="289:27"><name pos:start="289:26" pos:end="289:27">pb</name></expr></argument>, <argument pos:start="289:30" pos:end="289:33"><expr pos:start="289:30" pos:end="289:33"><literal type="number" pos:start="289:30" pos:end="289:33">0xff</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="291:17" pos:end="291:35"><expr pos:start="291:17" pos:end="291:34"><call pos:start="291:17" pos:end="291:34"><name pos:start="291:17" pos:end="291:24">put_byte</name><argument_list pos:start="291:25" pos:end="291:34">(<argument pos:start="291:26" pos:end="291:27"><expr pos:start="291:26" pos:end="291:27"><name pos:start="291:26" pos:end="291:27">pb</name></expr></argument>, <argument pos:start="291:30" pos:end="291:33"><expr pos:start="291:30" pos:end="291:33"><literal type="number" pos:start="291:30" pos:end="291:33">0xd9</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <comment type="block" pos:start="293:17" pos:end="293:42">/* write the jpeg image */</comment>

                <expr_stmt pos:start="295:17" pos:end="295:77"><expr pos:start="295:17" pos:end="295:76"><call pos:start="295:17" pos:end="295:76"><name pos:start="295:17" pos:end="295:26">put_buffer</name><argument_list pos:start="295:27" pos:end="295:76">(<argument pos:start="295:28" pos:end="295:29"><expr pos:start="295:28" pos:end="295:29"><name pos:start="295:28" pos:end="295:29">pb</name></expr></argument>, <argument pos:start="295:32" pos:end="295:52"><expr pos:start="295:32" pos:end="295:52"><name pos:start="295:32" pos:end="295:52"><name pos:start="295:32" pos:end="295:34">swf</name><operator pos:start="295:35" pos:end="295:36">-&gt;</operator><name pos:start="295:37" pos:end="295:46">frame_tail</name><operator pos:start="295:47" pos:end="295:48">-&gt;</operator><name pos:start="295:49" pos:end="295:52">data</name></name></expr></argument>, <argument pos:start="295:55" pos:end="295:75"><expr pos:start="295:55" pos:end="295:75"><name pos:start="295:55" pos:end="295:75"><name pos:start="295:55" pos:end="295:57">swf</name><operator pos:start="295:58" pos:end="295:59">-&gt;</operator><name pos:start="295:60" pos:end="295:69">frame_tail</name><operator pos:start="295:70" pos:end="295:71">-&gt;</operator><name pos:start="295:72" pos:end="295:75">size</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        

                <expr_stmt pos:start="299:17" pos:end="299:35"><expr pos:start="299:17" pos:end="299:34"><call pos:start="299:17" pos:end="299:34"><name pos:start="299:17" pos:end="299:31">put_swf_end_tag</name><argument_list pos:start="299:32" pos:end="299:34">(<argument pos:start="299:33" pos:end="299:33"><expr pos:start="299:33" pos:end="299:33"><name pos:start="299:33" pos:end="299:33">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        

                <comment type="block" pos:start="303:17" pos:end="303:36">/* draw the shape */</comment>

        

                <expr_stmt pos:start="307:17" pos:end="307:48"><expr pos:start="307:17" pos:end="307:47"><call pos:start="307:17" pos:end="307:47"><name pos:start="307:17" pos:end="307:27">put_swf_tag</name><argument_list pos:start="307:28" pos:end="307:47">(<argument pos:start="307:29" pos:end="307:29"><expr pos:start="307:29" pos:end="307:29"><name pos:start="307:29" pos:end="307:29">s</name></expr></argument>, <argument pos:start="307:32" pos:end="307:46"><expr pos:start="307:32" pos:end="307:46"><name pos:start="307:32" pos:end="307:46">TAG_PLACEOBJECT</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="309:17" pos:end="309:39"><expr pos:start="309:17" pos:end="309:38"><call pos:start="309:17" pos:end="309:38"><name pos:start="309:17" pos:end="309:24">put_le16</name><argument_list pos:start="309:25" pos:end="309:38">(<argument pos:start="309:26" pos:end="309:27"><expr pos:start="309:26" pos:end="309:27"><name pos:start="309:26" pos:end="309:27">pb</name></expr></argument>, <argument pos:start="309:30" pos:end="309:37"><expr pos:start="309:30" pos:end="309:37"><name pos:start="309:30" pos:end="309:37">SHAPE_ID</name></expr></argument>)</argument_list></call></expr>;</expr_stmt> <comment type="block" pos:start="309:41" pos:end="309:54">/* shape ID */</comment>

                <expr_stmt pos:start="311:17" pos:end="311:32"><expr pos:start="311:17" pos:end="311:31"><call pos:start="311:17" pos:end="311:31"><name pos:start="311:17" pos:end="311:24">put_le16</name><argument_list pos:start="311:25" pos:end="311:31">(<argument pos:start="311:26" pos:end="311:27"><expr pos:start="311:26" pos:end="311:27"><name pos:start="311:26" pos:end="311:27">pb</name></expr></argument>, <argument pos:start="311:30" pos:end="311:30"><expr pos:start="311:30" pos:end="311:30"><literal type="number" pos:start="311:30" pos:end="311:30">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt> <comment type="block" pos:start="311:34" pos:end="311:44">/* depth */</comment>

                <expr_stmt pos:start="313:17" pos:end="313:81"><expr pos:start="313:17" pos:end="313:80"><call pos:start="313:17" pos:end="313:80"><name pos:start="313:17" pos:end="313:30">put_swf_matrix</name><argument_list pos:start="313:31" pos:end="313:80">(<argument pos:start="313:32" pos:end="313:33"><expr pos:start="313:32" pos:end="313:33"><name pos:start="313:32" pos:end="313:33">pb</name></expr></argument>, <argument pos:start="313:36" pos:end="313:50"><expr pos:start="313:36" pos:end="313:50"><literal type="number" pos:start="313:36" pos:end="313:37">20</literal> <operator pos:start="313:39" pos:end="313:40">&lt;&lt;</operator> <name pos:start="313:42" pos:end="313:50">FRAC_BITS</name></expr></argument>, <argument pos:start="313:53" pos:end="313:53"><expr pos:start="313:53" pos:end="313:53"><literal type="number" pos:start="313:53" pos:end="313:53">0</literal></expr></argument>, <argument pos:start="313:56" pos:end="313:56"><expr pos:start="313:56" pos:end="313:56"><literal type="number" pos:start="313:56" pos:end="313:56">0</literal></expr></argument>, <argument pos:start="313:59" pos:end="313:73"><expr pos:start="313:59" pos:end="313:73"><literal type="number" pos:start="313:59" pos:end="313:60">20</literal> <operator pos:start="313:62" pos:end="313:63">&lt;&lt;</operator> <name pos:start="313:65" pos:end="313:73">FRAC_BITS</name></expr></argument>, <argument pos:start="313:76" pos:end="313:76"><expr pos:start="313:76" pos:end="313:76"><literal type="number" pos:start="313:76" pos:end="313:76">0</literal></expr></argument>, <argument pos:start="313:79" pos:end="313:79"><expr pos:start="313:79" pos:end="313:79"><literal type="number" pos:start="313:79" pos:end="313:79">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="315:17" pos:end="315:35"><expr pos:start="315:17" pos:end="315:34"><call pos:start="315:17" pos:end="315:34"><name pos:start="315:17" pos:end="315:31">put_swf_end_tag</name><argument_list pos:start="315:32" pos:end="315:34">(<argument pos:start="315:33" pos:end="315:33"><expr pos:start="315:33" pos:end="315:33"><name pos:start="315:33" pos:end="315:33">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></if> <else pos:start="317:15" pos:end="321:13">else <block pos:start="317:20" pos:end="321:13">{<block_content>

                <comment type="block" pos:start="319:17" pos:end="319:35">/* invalid codec */</comment>

            </block_content>}</block></else></if_stmt>

    

            <expr_stmt pos:start="325:13" pos:end="325:43"><expr pos:start="325:13" pos:end="325:42"><call pos:start="325:13" pos:end="325:42"><name pos:start="325:13" pos:end="325:19">av_free</name><argument_list pos:start="325:20" pos:end="325:42">(<argument pos:start="325:21" pos:end="325:41"><expr pos:start="325:21" pos:end="325:41"><name pos:start="325:21" pos:end="325:41"><name pos:start="325:21" pos:end="325:23">swf</name><operator pos:start="325:24" pos:end="325:25">-&gt;</operator><name pos:start="325:26" pos:end="325:35">frame_tail</name><operator pos:start="325:36" pos:end="325:37">-&gt;</operator><name pos:start="325:38" pos:end="325:41">data</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="327:13" pos:end="327:52"><expr pos:start="327:13" pos:end="327:51"><name pos:start="327:13" pos:end="327:27"><name pos:start="327:13" pos:end="327:15">swf</name><operator pos:start="327:16" pos:end="327:17">-&gt;</operator><name pos:start="327:18" pos:end="327:27">frame_tail</name></name> <operator pos:start="327:29" pos:end="327:29">=</operator> <name pos:start="327:31" pos:end="327:51"><name pos:start="327:31" pos:end="327:33">swf</name><operator pos:start="327:34" pos:end="327:35">-&gt;</operator><name pos:start="327:36" pos:end="327:45">frame_tail</name><operator pos:start="327:46" pos:end="327:47">-&gt;</operator><name pos:start="327:48" pos:end="327:51">prev</name></name></expr>;</expr_stmt>

            <if_stmt pos:start="329:13" pos:end="343:13"><if pos:start="329:13" pos:end="339:13">if <condition pos:start="329:16" pos:end="329:34">( <expr pos:start="329:18" pos:end="329:32"><name pos:start="329:18" pos:end="329:32"><name pos:start="329:18" pos:end="329:20">swf</name><operator pos:start="329:21" pos:end="329:22">-&gt;</operator><name pos:start="329:23" pos:end="329:32">frame_tail</name></name></expr> )</condition> <block pos:start="329:36" pos:end="339:13">{<block_content pos:start="331:17" pos:end="337:42">

                <if_stmt pos:start="331:17" pos:end="335:17"><if pos:start="331:17" pos:end="335:17">if <condition pos:start="331:20" pos:end="331:44">( <expr pos:start="331:22" pos:end="331:42"><name pos:start="331:22" pos:end="331:42"><name pos:start="331:22" pos:end="331:24">swf</name><operator pos:start="331:25" pos:end="331:26">-&gt;</operator><name pos:start="331:27" pos:end="331:36">frame_tail</name><operator pos:start="331:37" pos:end="331:38">-&gt;</operator><name pos:start="331:39" pos:end="331:42">next</name></name></expr> )</condition> <block pos:start="331:46" pos:end="335:17">{<block_content pos:start="333:21" pos:end="333:51">

                    <expr_stmt pos:start="333:21" pos:end="333:51"><expr pos:start="333:21" pos:end="333:50"><call pos:start="333:21" pos:end="333:50"><name pos:start="333:21" pos:end="333:27">av_free</name><argument_list pos:start="333:28" pos:end="333:50">(<argument pos:start="333:29" pos:end="333:49"><expr pos:start="333:29" pos:end="333:49"><name pos:start="333:29" pos:end="333:49"><name pos:start="333:29" pos:end="333:31">swf</name><operator pos:start="333:32" pos:end="333:33">-&gt;</operator><name pos:start="333:34" pos:end="333:43">frame_tail</name><operator pos:start="333:44" pos:end="333:45">-&gt;</operator><name pos:start="333:46" pos:end="333:49">next</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

                <expr_stmt pos:start="337:17" pos:end="337:42"><expr pos:start="337:17" pos:end="337:41"><name pos:start="337:17" pos:end="337:37"><name pos:start="337:17" pos:end="337:19">swf</name><operator pos:start="337:20" pos:end="337:21">-&gt;</operator><name pos:start="337:22" pos:end="337:31">frame_tail</name><operator pos:start="337:32" pos:end="337:33">-&gt;</operator><name pos:start="337:34" pos:end="337:37">next</name></name> <operator pos:start="337:39" pos:end="337:39">=</operator> <literal type="number" pos:start="337:41" pos:end="337:41">0</literal></expr>;</expr_stmt>

            </block_content>}</block></if> <else pos:start="339:15" pos:end="343:13">else <block pos:start="339:20" pos:end="343:13">{<block_content pos:start="341:17" pos:end="341:36">

                <expr_stmt pos:start="341:17" pos:end="341:36"><expr pos:start="341:17" pos:end="341:35"><name pos:start="341:17" pos:end="341:31"><name pos:start="341:17" pos:end="341:19">swf</name><operator pos:start="341:20" pos:end="341:21">-&gt;</operator><name pos:start="341:22" pos:end="341:31">frame_head</name></name> <operator pos:start="341:33" pos:end="341:33">=</operator> <literal type="number" pos:start="341:35" pos:end="341:35">0</literal></expr>;</expr_stmt>

            </block_content>}</block></else></if_stmt>

            <expr_stmt pos:start="345:13" pos:end="345:37"><expr pos:start="345:13" pos:end="345:36"><name pos:start="345:13" pos:end="345:33"><name pos:start="345:13" pos:end="345:15">swf</name><operator pos:start="345:16" pos:end="345:17">-&gt;</operator><name pos:start="345:18" pos:end="345:33">swf_frame_number</name></name> <operator pos:start="345:35" pos:end="345:36">++</operator></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></if></if_stmt>



    <expr_stmt pos:start="353:5" pos:end="353:49"><expr pos:start="353:5" pos:end="353:48"><name pos:start="353:5" pos:end="353:22"><name pos:start="353:5" pos:end="353:7">swf</name><operator pos:start="353:8" pos:end="353:9">-&gt;</operator><name pos:start="353:10" pos:end="353:22">video_samples</name></name> <operator pos:start="353:24" pos:end="353:25">+=</operator> <name pos:start="353:27" pos:end="353:48"><name pos:start="353:27" pos:end="353:29">swf</name><operator pos:start="353:30" pos:end="353:31">-&gt;</operator><name pos:start="353:32" pos:end="353:48">samples_per_frame</name></name></expr>;</expr_stmt>



    <comment type="block" pos:start="357:5" pos:end="357:76">/* streaming sound always should be placed just before showframe tags */</comment>

    <if_stmt pos:start="359:5" pos:end="387:5"><if pos:start="359:5" pos:end="387:5">if <condition pos:start="359:8" pos:end="359:22">( <expr pos:start="359:10" pos:end="359:20"><name pos:start="359:10" pos:end="359:16">outSize</name> <operator pos:start="359:18" pos:end="359:18">&gt;</operator> <literal type="number" pos:start="359:20" pos:end="359:20">0</literal></expr> )</condition> <block pos:start="359:24" pos:end="387:5">{<block_content pos:start="361:9" pos:end="385:45">

        <expr_stmt pos:start="361:9" pos:end="361:51"><expr pos:start="361:9" pos:end="361:50"><call pos:start="361:9" pos:end="361:50"><name pos:start="361:9" pos:end="361:19">put_swf_tag</name><argument_list pos:start="361:20" pos:end="361:50">(<argument pos:start="361:21" pos:end="361:21"><expr pos:start="361:21" pos:end="361:21"><name pos:start="361:21" pos:end="361:21">s</name></expr></argument>, <argument pos:start="361:24" pos:end="361:49"><expr pos:start="361:24" pos:end="361:49"><name pos:start="361:24" pos:end="361:38">TAG_STREAMBLOCK</name> <operator pos:start="361:40" pos:end="361:40">|</operator> <name pos:start="361:42" pos:end="361:49">TAG_LONG</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="363:9" pos:end="363:33"><expr pos:start="363:9" pos:end="363:32"><call pos:start="363:9" pos:end="363:32"><name pos:start="363:9" pos:end="363:16">put_le16</name><argument_list pos:start="363:17" pos:end="363:32">(<argument pos:start="363:18" pos:end="363:19"><expr pos:start="363:18" pos:end="363:19"><name pos:start="363:18" pos:end="363:19">pb</name></expr></argument>, <argument pos:start="363:22" pos:end="363:31"><expr pos:start="363:22" pos:end="363:31"><name pos:start="363:22" pos:end="363:31">outSamples</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="365:9" pos:end="365:24"><expr pos:start="365:9" pos:end="365:23"><call pos:start="365:9" pos:end="365:23"><name pos:start="365:9" pos:end="365:16">put_le16</name><argument_list pos:start="365:17" pos:end="365:23">(<argument pos:start="365:18" pos:end="365:19"><expr pos:start="365:18" pos:end="365:19"><name pos:start="365:18" pos:end="365:19">pb</name></expr></argument>, <argument pos:start="365:22" pos:end="365:22"><expr pos:start="365:22" pos:end="365:22"><literal type="number" pos:start="365:22" pos:end="365:22">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <for pos:start="367:9" pos:end="371:9">for <control pos:start="367:13" pos:end="367:33">(<init pos:start="367:14" pos:end="367:17"><expr pos:start="367:14" pos:end="367:16"><name pos:start="367:14" pos:end="367:14">c</name><operator pos:start="367:15" pos:end="367:15">=</operator><literal type="number" pos:start="367:16" pos:end="367:16">0</literal></expr>;</init> <condition pos:start="367:19" pos:end="367:28"><expr pos:start="367:19" pos:end="367:27"><name pos:start="367:19" pos:end="367:19">c</name><operator pos:start="367:20" pos:end="367:20">&lt;</operator><name pos:start="367:21" pos:end="367:27">outSize</name></expr>;</condition> <incr pos:start="367:30" pos:end="367:32"><expr pos:start="367:30" pos:end="367:32"><name pos:start="367:30" pos:end="367:30">c</name><operator pos:start="367:31" pos:end="367:32">++</operator></expr></incr>)</control> <block pos:start="367:35" pos:end="371:9">{<block_content pos:start="369:13" pos:end="369:82">

            <expr_stmt pos:start="369:13" pos:end="369:82"><expr pos:start="369:13" pos:end="369:81"><call pos:start="369:13" pos:end="369:81"><name pos:start="369:13" pos:end="369:20">put_byte</name><argument_list pos:start="369:21" pos:end="369:81">(<argument pos:start="369:22" pos:end="369:23"><expr pos:start="369:22" pos:end="369:23"><name pos:start="369:22" pos:end="369:23">pb</name></expr></argument>,<argument pos:start="369:25" pos:end="369:80"><expr pos:start="369:25" pos:end="369:80"><name pos:start="369:25" pos:end="369:80"><name pos:start="369:25" pos:end="369:27">swf</name><operator pos:start="369:28" pos:end="369:29">-&gt;</operator><name pos:start="369:30" pos:end="369:39">audio_fifo</name><index pos:start="369:40" pos:end="369:80">[<expr pos:start="369:41" pos:end="369:79"><operator pos:start="369:41" pos:end="369:41">(</operator><name pos:start="369:42" pos:end="369:58"><name pos:start="369:42" pos:end="369:44">swf</name><operator pos:start="369:45" pos:end="369:46">-&gt;</operator><name pos:start="369:47" pos:end="369:58">audio_in_pos</name></name><operator pos:start="369:59" pos:end="369:59">+</operator><name pos:start="369:60" pos:end="369:60">c</name><operator pos:start="369:61" pos:end="369:61">)</operator> <operator pos:start="369:63" pos:end="369:63">%</operator> <name pos:start="369:65" pos:end="369:79">AUDIO_FIFO_SIZE</name></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></for>

        <expr_stmt pos:start="373:9" pos:end="373:27"><expr pos:start="373:9" pos:end="373:26"><call pos:start="373:9" pos:end="373:26"><name pos:start="373:9" pos:end="373:23">put_swf_end_tag</name><argument_list pos:start="373:24" pos:end="373:26">(<argument pos:start="373:25" pos:end="373:25"><expr pos:start="373:25" pos:end="373:25"><name pos:start="373:25" pos:end="373:25">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    

        <comment type="block" pos:start="377:9" pos:end="377:25">/* update FIFO */</comment>

        <expr_stmt pos:start="379:9" pos:end="379:41"><expr pos:start="379:9" pos:end="379:40"><name pos:start="379:9" pos:end="379:26"><name pos:start="379:9" pos:end="379:11">swf</name><operator pos:start="379:12" pos:end="379:13">-&gt;</operator><name pos:start="379:14" pos:end="379:26">sound_samples</name></name> <operator pos:start="379:28" pos:end="379:29">+=</operator> <name pos:start="379:31" pos:end="379:40">outSamples</name></expr>;</expr_stmt>

        <expr_stmt pos:start="381:9" pos:end="381:37"><expr pos:start="381:9" pos:end="381:36"><name pos:start="381:9" pos:end="381:25"><name pos:start="381:9" pos:end="381:11">swf</name><operator pos:start="381:12" pos:end="381:13">-&gt;</operator><name pos:start="381:14" pos:end="381:25">audio_in_pos</name></name> <operator pos:start="381:27" pos:end="381:28">+=</operator> <name pos:start="381:30" pos:end="381:36">outSize</name></expr>;</expr_stmt>

        <expr_stmt pos:start="383:9" pos:end="383:35"><expr pos:start="383:9" pos:end="383:34"><name pos:start="383:9" pos:end="383:23"><name pos:start="383:9" pos:end="383:11">swf</name><operator pos:start="383:12" pos:end="383:13">-&gt;</operator><name pos:start="383:14" pos:end="383:23">audio_size</name></name> <operator pos:start="383:25" pos:end="383:26">-=</operator> <name pos:start="383:28" pos:end="383:34">outSize</name></expr>;</expr_stmt>

        <expr_stmt pos:start="385:9" pos:end="385:45"><expr pos:start="385:9" pos:end="385:44"><name pos:start="385:9" pos:end="385:25"><name pos:start="385:9" pos:end="385:11">swf</name><operator pos:start="385:12" pos:end="385:13">-&gt;</operator><name pos:start="385:14" pos:end="385:25">audio_in_pos</name></name> <operator pos:start="385:27" pos:end="385:28">%=</operator> <name pos:start="385:30" pos:end="385:44">AUDIO_FIFO_SIZE</name></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <comment type="block" pos:start="391:5" pos:end="391:26">/* output the frame */</comment>

    <expr_stmt pos:start="393:5" pos:end="393:34"><expr pos:start="393:5" pos:end="393:33"><call pos:start="393:5" pos:end="393:33"><name pos:start="393:5" pos:end="393:15">put_swf_tag</name><argument_list pos:start="393:16" pos:end="393:33">(<argument pos:start="393:17" pos:end="393:17"><expr pos:start="393:17" pos:end="393:17"><name pos:start="393:17" pos:end="393:17">s</name></expr></argument>, <argument pos:start="393:20" pos:end="393:32"><expr pos:start="393:20" pos:end="393:32"><name pos:start="393:20" pos:end="393:32">TAG_SHOWFRAME</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="395:5" pos:end="395:23"><expr pos:start="395:5" pos:end="395:22"><call pos:start="395:5" pos:end="395:22"><name pos:start="395:5" pos:end="395:19">put_swf_end_tag</name><argument_list pos:start="395:20" pos:end="395:22">(<argument pos:start="395:21" pos:end="395:21"><expr pos:start="395:21" pos:end="395:21"><name pos:start="395:21" pos:end="395:21">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    

    <expr_stmt pos:start="399:5" pos:end="399:29"><expr pos:start="399:5" pos:end="399:28"><call pos:start="399:5" pos:end="399:28"><name pos:start="399:5" pos:end="399:20">put_flush_packet</name><argument_list pos:start="399:21" pos:end="399:28">(<argument pos:start="399:22" pos:end="399:27"><expr pos:start="399:22" pos:end="399:27"><operator pos:start="399:22" pos:end="399:22">&amp;</operator><name pos:start="399:23" pos:end="399:27"><name pos:start="399:23" pos:end="399:23">s</name><operator pos:start="399:24" pos:end="399:25">-&gt;</operator><name pos:start="399:26" pos:end="399:27">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    

    <return pos:start="403:5" pos:end="403:13">return <expr pos:start="403:12" pos:end="403:12"><literal type="number" pos:start="403:12" pos:end="403:12">0</literal></expr>;</return>

</block_content>}</block></function>
</unit>
