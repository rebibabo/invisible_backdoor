<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/11012.c" pos:tabs="8"><function pos:start="1:1" pos:end="141:1"><type pos:start="1:1" pos:end="1:10"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:10">int</name></type> <name pos:start="1:12" pos:end="1:31">v9fs_complete_rename</name><parameter_list pos:start="1:32" pos:end="1:66">(<parameter pos:start="1:33" pos:end="1:44"><decl pos:start="1:33" pos:end="1:44"><type pos:start="1:33" pos:end="1:44"><name pos:start="1:33" pos:end="1:41">V9fsState</name> <modifier pos:start="1:43" pos:end="1:43">*</modifier></type><name pos:start="1:44" pos:end="1:44">s</name></decl></parameter>, <parameter pos:start="1:47" pos:end="1:65"><decl pos:start="1:47" pos:end="1:65"><type pos:start="1:47" pos:end="1:65"><name pos:start="1:47" pos:end="1:61">V9fsRenameState</name> <modifier pos:start="1:63" pos:end="1:63">*</modifier></type><name pos:start="1:64" pos:end="1:65">vs</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="141:1">{<block_content pos:start="5:5" pos:end="139:15">

    <decl_stmt pos:start="5:5" pos:end="5:16"><decl pos:start="5:5" pos:end="5:15"><type pos:start="5:5" pos:end="5:7"><name pos:start="5:5" pos:end="5:7">int</name></type> <name pos:start="5:9" pos:end="5:11">err</name> <init pos:start="5:13" pos:end="5:15">= <expr pos:start="5:15" pos:end="5:15"><literal type="number" pos:start="5:15" pos:end="5:15">0</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:30"><decl pos:start="7:5" pos:end="7:18"><type pos:start="7:5" pos:end="7:10"><name pos:start="7:5" pos:end="7:8">char</name> <modifier pos:start="7:10" pos:end="7:10">*</modifier></type><name pos:start="7:11" pos:end="7:18">old_name</name></decl>, <decl pos:start="7:21" pos:end="7:29"><type ref="prev" pos:start="7:5" pos:end="7:10"><modifier pos:start="7:21" pos:end="7:21">*</modifier></type><name pos:start="7:22" pos:end="7:29">new_name</name></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:14"><decl pos:start="9:5" pos:end="9:13"><type pos:start="9:5" pos:end="9:10"><name pos:start="9:5" pos:end="9:8">char</name> <modifier pos:start="9:10" pos:end="9:10">*</modifier></type><name pos:start="9:11" pos:end="9:13">end</name></decl>;</decl_stmt>



    <if_stmt pos:start="13:5" pos:end="69:5"><if pos:start="13:5" pos:end="45:5">if <condition pos:start="13:8" pos:end="13:28">(<expr pos:start="13:9" pos:end="13:27"><name pos:start="13:9" pos:end="13:21"><name pos:start="13:9" pos:end="13:10">vs</name><operator pos:start="13:11" pos:end="13:12">-&gt;</operator><name pos:start="13:13" pos:end="13:21">newdirfid</name></name> <operator pos:start="13:23" pos:end="13:24">!=</operator> <operator pos:start="13:26" pos:end="13:26">-</operator><literal type="number" pos:start="13:27" pos:end="13:27">1</literal></expr>)</condition> <block pos:start="13:30" pos:end="45:5">{<block_content pos:start="15:9" pos:end="43:61">

        <decl_stmt pos:start="15:9" pos:end="15:30"><decl pos:start="15:9" pos:end="15:29"><type pos:start="15:9" pos:end="15:22"><name pos:start="15:9" pos:end="15:20">V9fsFidState</name> <modifier pos:start="15:22" pos:end="15:22">*</modifier></type><name pos:start="15:23" pos:end="15:29">dirfidp</name></decl>;</decl_stmt>

        <expr_stmt pos:start="17:9" pos:end="17:47"><expr pos:start="17:9" pos:end="17:46"><name pos:start="17:9" pos:end="17:15">dirfidp</name> <operator pos:start="17:17" pos:end="17:17">=</operator> <call pos:start="17:19" pos:end="17:46"><name pos:start="17:19" pos:end="17:28">lookup_fid</name><argument_list pos:start="17:29" pos:end="17:46">(<argument pos:start="17:30" pos:end="17:30"><expr pos:start="17:30" pos:end="17:30"><name pos:start="17:30" pos:end="17:30">s</name></expr></argument>, <argument pos:start="17:33" pos:end="17:45"><expr pos:start="17:33" pos:end="17:45"><name pos:start="17:33" pos:end="17:45"><name pos:start="17:33" pos:end="17:34">vs</name><operator pos:start="17:35" pos:end="17:36">-&gt;</operator><name pos:start="17:37" pos:end="17:45">newdirfid</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <if_stmt pos:start="21:9" pos:end="27:9"><if pos:start="21:9" pos:end="27:9">if <condition pos:start="21:12" pos:end="21:28">(<expr pos:start="21:13" pos:end="21:27"><name pos:start="21:13" pos:end="21:19">dirfidp</name> <operator pos:start="21:21" pos:end="21:22">==</operator> <name pos:start="21:24" pos:end="21:27">NULL</name></expr>)</condition> <block pos:start="21:30" pos:end="27:9">{<block_content pos:start="23:13" pos:end="25:21">

            <expr_stmt pos:start="23:13" pos:end="23:26"><expr pos:start="23:13" pos:end="23:25"><name pos:start="23:13" pos:end="23:15">err</name> <operator pos:start="23:17" pos:end="23:17">=</operator> <operator pos:start="23:19" pos:end="23:19">-</operator><name pos:start="23:20" pos:end="23:25">ENOENT</name></expr>;</expr_stmt>

            <goto pos:start="25:13" pos:end="25:21">goto <name pos:start="25:18" pos:end="25:20">out</name>;</goto>

        </block_content>}</block></if></if_stmt>



        <expr_stmt pos:start="31:9" pos:end="31:49"><expr pos:start="31:9" pos:end="31:48"><call pos:start="31:9" pos:end="31:48"><name pos:start="31:9" pos:end="31:14">BUG_ON</name><argument_list pos:start="31:15" pos:end="31:48">(<argument pos:start="31:16" pos:end="31:47"><expr pos:start="31:16" pos:end="31:47"><name pos:start="31:16" pos:end="31:32"><name pos:start="31:16" pos:end="31:22">dirfidp</name><operator pos:start="31:23" pos:end="31:24">-&gt;</operator><name pos:start="31:25" pos:end="31:32">fid_type</name></name> <operator pos:start="31:34" pos:end="31:35">!=</operator> <name pos:start="31:37" pos:end="31:47">P9_FID_NONE</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <expr_stmt pos:start="35:9" pos:end="35:72"><expr pos:start="35:9" pos:end="35:71"><name pos:start="35:9" pos:end="35:16">new_name</name> <operator pos:start="35:18" pos:end="35:18">=</operator> <call pos:start="35:20" pos:end="35:71"><name pos:start="35:20" pos:end="35:31">qemu_mallocz</name><argument_list pos:start="35:32" pos:end="35:71">(<argument pos:start="35:33" pos:end="35:70"><expr pos:start="35:33" pos:end="35:70"><name pos:start="35:33" pos:end="35:50"><name pos:start="35:33" pos:end="35:39">dirfidp</name><operator pos:start="35:40" pos:end="35:41">-&gt;</operator><name pos:start="35:42" pos:end="35:45">path</name><operator pos:start="35:46" pos:end="35:46">.</operator><name pos:start="35:47" pos:end="35:50">size</name></name> <operator pos:start="35:52" pos:end="35:52">+</operator> <name pos:start="35:54" pos:end="35:66"><name pos:start="35:54" pos:end="35:55">vs</name><operator pos:start="35:56" pos:end="35:57">-&gt;</operator><name pos:start="35:58" pos:end="35:61">name</name><operator pos:start="35:62" pos:end="35:62">.</operator><name pos:start="35:63" pos:end="35:66">size</name></name> <operator pos:start="35:68" pos:end="35:68">+</operator> <literal type="number" pos:start="35:70" pos:end="35:70">2</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <expr_stmt pos:start="39:9" pos:end="39:45"><expr pos:start="39:9" pos:end="39:44"><call pos:start="39:9" pos:end="39:44"><name pos:start="39:9" pos:end="39:14">strcpy</name><argument_list pos:start="39:15" pos:end="39:44">(<argument pos:start="39:16" pos:end="39:23"><expr pos:start="39:16" pos:end="39:23"><name pos:start="39:16" pos:end="39:23">new_name</name></expr></argument>, <argument pos:start="39:26" pos:end="39:43"><expr pos:start="39:26" pos:end="39:43"><name pos:start="39:26" pos:end="39:43"><name pos:start="39:26" pos:end="39:32">dirfidp</name><operator pos:start="39:33" pos:end="39:34">-&gt;</operator><name pos:start="39:35" pos:end="39:38">path</name><operator pos:start="39:39" pos:end="39:39">.</operator><name pos:start="39:40" pos:end="39:43">data</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="41:9" pos:end="41:30"><expr pos:start="41:9" pos:end="41:29"><call pos:start="41:9" pos:end="41:29"><name pos:start="41:9" pos:end="41:14">strcat</name><argument_list pos:start="41:15" pos:end="41:29">(<argument pos:start="41:16" pos:end="41:23"><expr pos:start="41:16" pos:end="41:23"><name pos:start="41:16" pos:end="41:23">new_name</name></expr></argument>, <argument pos:start="41:26" pos:end="41:28"><expr pos:start="41:26" pos:end="41:28"><literal type="string" pos:start="41:26" pos:end="41:28">"/"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="43:9" pos:end="43:61"><expr pos:start="43:9" pos:end="43:60"><call pos:start="43:9" pos:end="43:60"><name pos:start="43:9" pos:end="43:14">strcat</name><argument_list pos:start="43:15" pos:end="43:60">(<argument pos:start="43:16" pos:end="43:44"><expr pos:start="43:16" pos:end="43:44"><name pos:start="43:16" pos:end="43:23">new_name</name> <operator pos:start="43:25" pos:end="43:25">+</operator> <name pos:start="43:27" pos:end="43:44"><name pos:start="43:27" pos:end="43:33">dirfidp</name><operator pos:start="43:34" pos:end="43:35">-&gt;</operator><name pos:start="43:36" pos:end="43:39">path</name><operator pos:start="43:40" pos:end="43:40">.</operator><name pos:start="43:41" pos:end="43:44">size</name></name></expr></argument>, <argument pos:start="43:47" pos:end="43:59"><expr pos:start="43:47" pos:end="43:59"><name pos:start="43:47" pos:end="43:59"><name pos:start="43:47" pos:end="43:48">vs</name><operator pos:start="43:49" pos:end="43:50">-&gt;</operator><name pos:start="43:51" pos:end="43:54">name</name><operator pos:start="43:55" pos:end="43:55">.</operator><name pos:start="43:56" pos:end="43:59">data</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="45:7" pos:end="69:5">else <block pos:start="45:12" pos:end="69:5">{<block_content pos:start="47:9" pos:end="67:75">

        <expr_stmt pos:start="47:9" pos:end="47:39"><expr pos:start="47:9" pos:end="47:38"><name pos:start="47:9" pos:end="47:16">old_name</name> <operator pos:start="47:18" pos:end="47:18">=</operator> <name pos:start="47:20" pos:end="47:38"><name pos:start="47:20" pos:end="47:21">vs</name><operator pos:start="47:22" pos:end="47:23">-&gt;</operator><name pos:start="47:24" pos:end="47:27">fidp</name><operator pos:start="47:28" pos:end="47:29">-&gt;</operator><name pos:start="47:30" pos:end="47:33">path</name><operator pos:start="47:34" pos:end="47:34">.</operator><name pos:start="47:35" pos:end="47:38">data</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="49:9" pos:end="49:37"><expr pos:start="49:9" pos:end="49:36"><name pos:start="49:9" pos:end="49:11">end</name> <operator pos:start="49:13" pos:end="49:13">=</operator> <call pos:start="49:15" pos:end="49:36"><name pos:start="49:15" pos:end="49:21">strrchr</name><argument_list pos:start="49:22" pos:end="49:36">(<argument pos:start="49:23" pos:end="49:30"><expr pos:start="49:23" pos:end="49:30"><name pos:start="49:23" pos:end="49:30">old_name</name></expr></argument>, <argument pos:start="49:33" pos:end="49:35"><expr pos:start="49:33" pos:end="49:35"><literal type="char" pos:start="49:33" pos:end="49:35">'/'</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="51:9" pos:end="59:9"><if pos:start="51:9" pos:end="55:9">if <condition pos:start="51:12" pos:end="51:16">(<expr pos:start="51:13" pos:end="51:15"><name pos:start="51:13" pos:end="51:15">end</name></expr>)</condition> <block pos:start="51:18" pos:end="55:9">{<block_content pos:start="53:13" pos:end="53:18">

            <expr_stmt pos:start="53:13" pos:end="53:18"><expr pos:start="53:13" pos:end="53:17"><name pos:start="53:13" pos:end="53:15">end</name><operator pos:start="53:16" pos:end="53:17">++</operator></expr>;</expr_stmt>

        </block_content>}</block></if> <else pos:start="55:11" pos:end="59:9">else <block pos:start="55:16" pos:end="59:9">{<block_content pos:start="57:13" pos:end="57:27">

            <expr_stmt pos:start="57:13" pos:end="57:27"><expr pos:start="57:13" pos:end="57:26"><name pos:start="57:13" pos:end="57:15">end</name> <operator pos:start="57:17" pos:end="57:17">=</operator> <name pos:start="57:19" pos:end="57:26">old_name</name></expr>;</expr_stmt>

        </block_content>}</block></else></if_stmt>

        <expr_stmt pos:start="61:9" pos:end="61:68"><expr pos:start="61:9" pos:end="61:67"><name pos:start="61:9" pos:end="61:16">new_name</name> <operator pos:start="61:18" pos:end="61:18">=</operator> <call pos:start="61:20" pos:end="61:67"><name pos:start="61:20" pos:end="61:31">qemu_mallocz</name><argument_list pos:start="61:32" pos:end="61:67">(<argument pos:start="61:33" pos:end="61:66"><expr pos:start="61:33" pos:end="61:66"><name pos:start="61:33" pos:end="61:35">end</name> <operator pos:start="61:37" pos:end="61:37">-</operator> <name pos:start="61:39" pos:end="61:46">old_name</name> <operator pos:start="61:48" pos:end="61:48">+</operator> <name pos:start="61:50" pos:end="61:62"><name pos:start="61:50" pos:end="61:51">vs</name><operator pos:start="61:52" pos:end="61:53">-&gt;</operator><name pos:start="61:54" pos:end="61:57">name</name><operator pos:start="61:58" pos:end="61:58">.</operator><name pos:start="61:59" pos:end="61:62">size</name></name> <operator pos:start="61:64" pos:end="61:64">+</operator> <literal type="number" pos:start="61:66" pos:end="61:66">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <expr_stmt pos:start="65:9" pos:end="65:52"><expr pos:start="65:9" pos:end="65:51"><call pos:start="65:9" pos:end="65:51"><name pos:start="65:9" pos:end="65:15">strncat</name><argument_list pos:start="65:16" pos:end="65:51">(<argument pos:start="65:17" pos:end="65:24"><expr pos:start="65:17" pos:end="65:24"><name pos:start="65:17" pos:end="65:24">new_name</name></expr></argument>, <argument pos:start="65:27" pos:end="65:34"><expr pos:start="65:27" pos:end="65:34"><name pos:start="65:27" pos:end="65:34">old_name</name></expr></argument>, <argument pos:start="65:37" pos:end="65:50"><expr pos:start="65:37" pos:end="65:50"><name pos:start="65:37" pos:end="65:39">end</name> <operator pos:start="65:41" pos:end="65:41">-</operator> <name pos:start="65:43" pos:end="65:50">old_name</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="67:9" pos:end="67:75"><expr pos:start="67:9" pos:end="67:74"><call pos:start="67:9" pos:end="67:74"><name pos:start="67:9" pos:end="67:15">strncat</name><argument_list pos:start="67:16" pos:end="67:74">(<argument pos:start="67:17" pos:end="67:43"><expr pos:start="67:17" pos:end="67:43"><name pos:start="67:17" pos:end="67:24">new_name</name> <operator pos:start="67:26" pos:end="67:26">+</operator> <operator pos:start="67:28" pos:end="67:28">(</operator><name pos:start="67:29" pos:end="67:31">end</name> <operator pos:start="67:33" pos:end="67:33">-</operator> <name pos:start="67:35" pos:end="67:42">old_name</name><operator pos:start="67:43" pos:end="67:43">)</operator></expr></argument>, <argument pos:start="67:46" pos:end="67:58"><expr pos:start="67:46" pos:end="67:58"><name pos:start="67:46" pos:end="67:58"><name pos:start="67:46" pos:end="67:47">vs</name><operator pos:start="67:48" pos:end="67:49">-&gt;</operator><name pos:start="67:50" pos:end="67:53">name</name><operator pos:start="67:54" pos:end="67:54">.</operator><name pos:start="67:55" pos:end="67:58">data</name></name></expr></argument>, <argument pos:start="67:61" pos:end="67:73"><expr pos:start="67:61" pos:end="67:73"><name pos:start="67:61" pos:end="67:73"><name pos:start="67:61" pos:end="67:62">vs</name><operator pos:start="67:63" pos:end="67:64">-&gt;</operator><name pos:start="67:65" pos:end="67:68">name</name><operator pos:start="67:69" pos:end="67:69">.</operator><name pos:start="67:70" pos:end="67:73">size</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></else></if_stmt>



    <expr_stmt pos:start="73:5" pos:end="73:32"><expr pos:start="73:5" pos:end="73:31"><call pos:start="73:5" pos:end="73:31"><name pos:start="73:5" pos:end="73:20">v9fs_string_free</name><argument_list pos:start="73:21" pos:end="73:31">(<argument pos:start="73:22" pos:end="73:30"><expr pos:start="73:22" pos:end="73:30"><operator pos:start="73:22" pos:end="73:22">&amp;</operator><name pos:start="73:23" pos:end="73:30"><name pos:start="73:23" pos:end="73:24">vs</name><operator pos:start="73:25" pos:end="73:26">-&gt;</operator><name pos:start="73:27" pos:end="73:30">name</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="75:5" pos:end="75:42"><expr pos:start="75:5" pos:end="75:41"><name pos:start="75:5" pos:end="75:17"><name pos:start="75:5" pos:end="75:6">vs</name><operator pos:start="75:7" pos:end="75:8">-&gt;</operator><name pos:start="75:9" pos:end="75:12">name</name><operator pos:start="75:13" pos:end="75:13">.</operator><name pos:start="75:14" pos:end="75:17">data</name></name> <operator pos:start="75:19" pos:end="75:19">=</operator> <call pos:start="75:21" pos:end="75:41"><name pos:start="75:21" pos:end="75:31">qemu_strdup</name><argument_list pos:start="75:32" pos:end="75:41">(<argument pos:start="75:33" pos:end="75:40"><expr pos:start="75:33" pos:end="75:40"><name pos:start="75:33" pos:end="75:40">new_name</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="77:5" pos:end="77:37"><expr pos:start="77:5" pos:end="77:36"><name pos:start="77:5" pos:end="77:17"><name pos:start="77:5" pos:end="77:6">vs</name><operator pos:start="77:7" pos:end="77:8">-&gt;</operator><name pos:start="77:9" pos:end="77:12">name</name><operator pos:start="77:13" pos:end="77:13">.</operator><name pos:start="77:14" pos:end="77:17">size</name></name> <operator pos:start="77:19" pos:end="77:19">=</operator> <call pos:start="77:21" pos:end="77:36"><name pos:start="77:21" pos:end="77:26">strlen</name><argument_list pos:start="77:27" pos:end="77:36">(<argument pos:start="77:28" pos:end="77:35"><expr pos:start="77:28" pos:end="77:35"><name pos:start="77:28" pos:end="77:35">new_name</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <if_stmt pos:start="81:5" pos:end="133:5"><if pos:start="81:5" pos:end="133:5">if <condition pos:start="81:8" pos:end="81:51">(<expr pos:start="81:9" pos:end="81:50"><call pos:start="81:9" pos:end="81:45"><name pos:start="81:9" pos:end="81:14">strcmp</name><argument_list pos:start="81:15" pos:end="81:45">(<argument pos:start="81:16" pos:end="81:23"><expr pos:start="81:16" pos:end="81:23"><name pos:start="81:16" pos:end="81:23">new_name</name></expr></argument>, <argument pos:start="81:26" pos:end="81:44"><expr pos:start="81:26" pos:end="81:44"><name pos:start="81:26" pos:end="81:44"><name pos:start="81:26" pos:end="81:27">vs</name><operator pos:start="81:28" pos:end="81:29">-&gt;</operator><name pos:start="81:30" pos:end="81:33">fidp</name><operator pos:start="81:34" pos:end="81:35">-&gt;</operator><name pos:start="81:36" pos:end="81:39">path</name><operator pos:start="81:40" pos:end="81:40">.</operator><name pos:start="81:41" pos:end="81:44">data</name></name></expr></argument>)</argument_list></call> <operator pos:start="81:47" pos:end="81:48">!=</operator> <literal type="number" pos:start="81:50" pos:end="81:50">0</literal></expr>)</condition> <block pos:start="81:53" pos:end="133:5">{<block_content pos:start="83:9" pos:end="131:9">

        <if_stmt pos:start="83:9" pos:end="131:9"><if pos:start="83:9" pos:end="87:9">if <condition pos:start="83:12" pos:end="83:58">(<expr pos:start="83:13" pos:end="83:57"><call pos:start="83:13" pos:end="83:57"><name pos:start="83:13" pos:end="83:26">v9fs_do_rename</name><argument_list pos:start="83:27" pos:end="83:57">(<argument pos:start="83:28" pos:end="83:28"><expr pos:start="83:28" pos:end="83:28"><name pos:start="83:28" pos:end="83:28">s</name></expr></argument>, <argument pos:start="83:31" pos:end="83:45"><expr pos:start="83:31" pos:end="83:45"><operator pos:start="83:31" pos:end="83:31">&amp;</operator><name pos:start="83:32" pos:end="83:45"><name pos:start="83:32" pos:end="83:33">vs</name><operator pos:start="83:34" pos:end="83:35">-&gt;</operator><name pos:start="83:36" pos:end="83:39">fidp</name><operator pos:start="83:40" pos:end="83:41">-&gt;</operator><name pos:start="83:42" pos:end="83:45">path</name></name></expr></argument>, <argument pos:start="83:48" pos:end="83:56"><expr pos:start="83:48" pos:end="83:56"><operator pos:start="83:48" pos:end="83:48">&amp;</operator><name pos:start="83:49" pos:end="83:56"><name pos:start="83:49" pos:end="83:50">vs</name><operator pos:start="83:51" pos:end="83:52">-&gt;</operator><name pos:start="83:53" pos:end="83:56">name</name></name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="83:60" pos:end="87:9">{<block_content pos:start="85:13" pos:end="85:25">

            <expr_stmt pos:start="85:13" pos:end="85:25"><expr pos:start="85:13" pos:end="85:24"><name pos:start="85:13" pos:end="85:15">err</name> <operator pos:start="85:17" pos:end="85:17">=</operator> <operator pos:start="85:19" pos:end="85:19">-</operator><name pos:start="85:20" pos:end="85:24">errno</name></expr>;</expr_stmt>

        </block_content>}</block></if> <else pos:start="87:11" pos:end="131:9">else <block pos:start="87:16" pos:end="131:9">{<block_content pos:start="89:13" pos:end="129:57">

            <decl_stmt pos:start="89:13" pos:end="89:31"><decl pos:start="89:13" pos:end="89:30"><type pos:start="89:13" pos:end="89:26"><name pos:start="89:13" pos:end="89:24">V9fsFidState</name> <modifier pos:start="89:26" pos:end="89:26">*</modifier></type><name pos:start="89:27" pos:end="89:30">fidp</name></decl>;</decl_stmt>

            <comment type="block" pos:start="91:13" pos:end="97:14">/*

            * Fixup fid's pointing to the old name to

            * start pointing to the new name

            */</comment>

            <for pos:start="99:13" pos:end="127:13">for <control pos:start="99:17" pos:end="99:61">(<init pos:start="99:18" pos:end="99:36"><expr pos:start="99:18" pos:end="99:35"><name pos:start="99:18" pos:end="99:21">fidp</name> <operator pos:start="99:23" pos:end="99:23">=</operator> <name pos:start="99:25" pos:end="99:35"><name pos:start="99:25" pos:end="99:25">s</name><operator pos:start="99:26" pos:end="99:27">-&gt;</operator><name pos:start="99:28" pos:end="99:35">fid_list</name></name></expr>;</init> <condition pos:start="99:38" pos:end="99:42"><expr pos:start="99:38" pos:end="99:41"><name pos:start="99:38" pos:end="99:41">fidp</name></expr>;</condition> <incr pos:start="99:44" pos:end="99:60"><expr pos:start="99:44" pos:end="99:60"><name pos:start="99:44" pos:end="99:47">fidp</name> <operator pos:start="99:49" pos:end="99:49">=</operator> <name pos:start="99:51" pos:end="99:60"><name pos:start="99:51" pos:end="99:54">fidp</name><operator pos:start="99:55" pos:end="99:56">-&gt;</operator><name pos:start="99:57" pos:end="99:60">next</name></name></expr></incr>)</control> <block pos:start="99:63" pos:end="127:13">{<block_content pos:start="101:17" pos:end="125:17">

                <if_stmt pos:start="101:17" pos:end="113:17"><if pos:start="101:17" pos:end="113:17">if <condition pos:start="101:20" pos:end="101:37">(<expr pos:start="101:21" pos:end="101:36"><name pos:start="101:21" pos:end="101:28"><name pos:start="101:21" pos:end="101:22">vs</name><operator pos:start="101:23" pos:end="101:24">-&gt;</operator><name pos:start="101:25" pos:end="101:28">fidp</name></name> <operator pos:start="101:30" pos:end="101:31">==</operator> <name pos:start="101:33" pos:end="101:36">fidp</name></expr>)</condition> <block pos:start="101:39" pos:end="113:17">{<block_content pos:start="111:21" pos:end="111:29">

                    <comment type="block" pos:start="103:21" pos:end="109:22">/*

                    * we replace name of this fid towards the end

                    * so that our below strcmp will work

                    */</comment>

                    <continue pos:start="111:21" pos:end="111:29">continue;</continue>

                </block_content>}</block></if></if_stmt>

                <if_stmt pos:start="115:17" pos:end="125:17"><if pos:start="115:17" pos:end="125:17">if <condition pos:start="115:20" pos:end="117:49">(<expr pos:start="115:21" pos:end="117:48"><operator pos:start="115:21" pos:end="115:21">!</operator><call pos:start="115:22" pos:end="117:48"><name pos:start="115:22" pos:end="115:28">strncmp</name><argument_list pos:start="115:29" pos:end="117:48">(<argument pos:start="115:30" pos:end="115:48"><expr pos:start="115:30" pos:end="115:48"><name pos:start="115:30" pos:end="115:48"><name pos:start="115:30" pos:end="115:31">vs</name><operator pos:start="115:32" pos:end="115:33">-&gt;</operator><name pos:start="115:34" pos:end="115:37">fidp</name><operator pos:start="115:38" pos:end="115:39">-&gt;</operator><name pos:start="115:40" pos:end="115:43">path</name><operator pos:start="115:44" pos:end="115:44">.</operator><name pos:start="115:45" pos:end="115:48">data</name></name></expr></argument>, <argument pos:start="115:51" pos:end="115:65"><expr pos:start="115:51" pos:end="115:65"><name pos:start="115:51" pos:end="115:65"><name pos:start="115:51" pos:end="115:54">fidp</name><operator pos:start="115:55" pos:end="115:56">-&gt;</operator><name pos:start="115:57" pos:end="115:60">path</name><operator pos:start="115:61" pos:end="115:61">.</operator><name pos:start="115:62" pos:end="115:65">data</name></name></expr></argument>,

                    <argument pos:start="117:21" pos:end="117:47"><expr pos:start="117:21" pos:end="117:47"><call pos:start="117:21" pos:end="117:47"><name pos:start="117:21" pos:end="117:26">strlen</name><argument_list pos:start="117:27" pos:end="117:47">(<argument pos:start="117:28" pos:end="117:46"><expr pos:start="117:28" pos:end="117:46"><name pos:start="117:28" pos:end="117:46"><name pos:start="117:28" pos:end="117:29">vs</name><operator pos:start="117:30" pos:end="117:31">-&gt;</operator><name pos:start="117:32" pos:end="117:35">fidp</name><operator pos:start="117:36" pos:end="117:37">-&gt;</operator><name pos:start="117:38" pos:end="117:41">path</name><operator pos:start="117:42" pos:end="117:42">.</operator><name pos:start="117:43" pos:end="117:46">data</name></name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="117:51" pos:end="125:17">{<block_content pos:start="121:21" pos:end="123:63">

                    <comment type="block" pos:start="119:21" pos:end="119:42">/* replace the name */</comment>

                    <expr_stmt pos:start="121:21" pos:end="123:63"><expr pos:start="121:21" pos:end="123:62"><call pos:start="121:21" pos:end="123:62"><name pos:start="121:21" pos:end="121:33">v9fs_fix_path</name><argument_list pos:start="121:34" pos:end="123:62">(<argument pos:start="121:35" pos:end="121:45"><expr pos:start="121:35" pos:end="121:45"><operator pos:start="121:35" pos:end="121:35">&amp;</operator><name pos:start="121:36" pos:end="121:45"><name pos:start="121:36" pos:end="121:39">fidp</name><operator pos:start="121:40" pos:end="121:41">-&gt;</operator><name pos:start="121:42" pos:end="121:45">path</name></name></expr></argument>, <argument pos:start="121:48" pos:end="121:56"><expr pos:start="121:48" pos:end="121:56"><operator pos:start="121:48" pos:end="121:48">&amp;</operator><name pos:start="121:49" pos:end="121:56"><name pos:start="121:49" pos:end="121:50">vs</name><operator pos:start="121:51" pos:end="121:52">-&gt;</operator><name pos:start="121:53" pos:end="121:56">name</name></name></expr></argument>,

                                  <argument pos:start="123:35" pos:end="123:61"><expr pos:start="123:35" pos:end="123:61"><call pos:start="123:35" pos:end="123:61"><name pos:start="123:35" pos:end="123:40">strlen</name><argument_list pos:start="123:41" pos:end="123:61">(<argument pos:start="123:42" pos:end="123:60"><expr pos:start="123:42" pos:end="123:60"><name pos:start="123:42" pos:end="123:60"><name pos:start="123:42" pos:end="123:43">vs</name><operator pos:start="123:44" pos:end="123:45">-&gt;</operator><name pos:start="123:46" pos:end="123:49">fidp</name><operator pos:start="123:50" pos:end="123:51">-&gt;</operator><name pos:start="123:52" pos:end="123:55">path</name><operator pos:start="123:56" pos:end="123:56">.</operator><name pos:start="123:57" pos:end="123:60">data</name></name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

            </block_content>}</block></for>

            <expr_stmt pos:start="129:13" pos:end="129:57"><expr pos:start="129:13" pos:end="129:56"><call pos:start="129:13" pos:end="129:56"><name pos:start="129:13" pos:end="129:28">v9fs_string_copy</name><argument_list pos:start="129:29" pos:end="129:56">(<argument pos:start="129:30" pos:end="129:44"><expr pos:start="129:30" pos:end="129:44"><operator pos:start="129:30" pos:end="129:30">&amp;</operator><name pos:start="129:31" pos:end="129:44"><name pos:start="129:31" pos:end="129:32">vs</name><operator pos:start="129:33" pos:end="129:34">-&gt;</operator><name pos:start="129:35" pos:end="129:38">fidp</name><operator pos:start="129:39" pos:end="129:40">-&gt;</operator><name pos:start="129:41" pos:end="129:44">path</name></name></expr></argument>, <argument pos:start="129:47" pos:end="129:55"><expr pos:start="129:47" pos:end="129:55"><operator pos:start="129:47" pos:end="129:47">&amp;</operator><name pos:start="129:48" pos:end="129:55"><name pos:start="129:48" pos:end="129:49">vs</name><operator pos:start="129:50" pos:end="129:51">-&gt;</operator><name pos:start="129:52" pos:end="129:55">name</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></else></if_stmt>

    </block_content>}</block></if></if_stmt>

<label pos:start="135:1" pos:end="135:4"><name pos:start="135:1" pos:end="135:3">out</name>:</label>

    <expr_stmt pos:start="137:5" pos:end="137:32"><expr pos:start="137:5" pos:end="137:31"><call pos:start="137:5" pos:end="137:31"><name pos:start="137:5" pos:end="137:20">v9fs_string_free</name><argument_list pos:start="137:21" pos:end="137:31">(<argument pos:start="137:22" pos:end="137:30"><expr pos:start="137:22" pos:end="137:30"><operator pos:start="137:22" pos:end="137:22">&amp;</operator><name pos:start="137:23" pos:end="137:30"><name pos:start="137:23" pos:end="137:24">vs</name><operator pos:start="137:25" pos:end="137:26">-&gt;</operator><name pos:start="137:27" pos:end="137:30">name</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <return pos:start="139:5" pos:end="139:15">return <expr pos:start="139:12" pos:end="139:14"><name pos:start="139:12" pos:end="139:14">err</name></expr>;</return>

</block_content>}</block></function>
</unit>
