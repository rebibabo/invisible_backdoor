<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:cpp="http://www.srcML.org/srcML/cpp" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/20400.c" pos:tabs="8"><function pos:start="1:1" pos:end="131:1"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:31">xenfb_handle_events</name><parameter_list pos:start="1:32" pos:end="1:52">(<parameter pos:start="1:33" pos:end="1:51"><decl pos:start="1:33" pos:end="1:51"><type pos:start="1:33" pos:end="1:51"><name pos:start="1:33" pos:end="1:44"><name pos:start="1:33" pos:end="1:38">struct</name> <name pos:start="1:40" pos:end="1:44">XenFB</name></name> <modifier pos:start="1:46" pos:end="1:46">*</modifier></type><name pos:start="1:47" pos:end="1:51">xenfb</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="131:1">{<block_content pos:start="5:5" pos:end="129:26">

    <decl_stmt pos:start="5:5" pos:end="5:34"><decl pos:start="5:5" pos:end="5:17"><type pos:start="5:5" pos:end="5:12"><name pos:start="5:5" pos:end="5:12">uint32_t</name></type> <name pos:start="5:14" pos:end="5:17">prod</name></decl>, <decl pos:start="5:20" pos:end="5:23"><type ref="prev" pos:start="5:5" pos:end="5:12"/><name pos:start="5:20" pos:end="5:23">cons</name></decl>, <decl pos:start="5:26" pos:end="5:33"><type ref="prev" pos:start="5:5" pos:end="5:12"/><name pos:start="5:26" pos:end="5:33">out_cons</name></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:44"><decl pos:start="7:5" pos:end="7:43"><type pos:start="7:5" pos:end="7:23"><name pos:start="7:5" pos:end="7:21"><name pos:start="7:5" pos:end="7:10">struct</name> <name pos:start="7:12" pos:end="7:21">xenfb_page</name></name> <modifier pos:start="7:23" pos:end="7:23">*</modifier></type><name pos:start="7:24" pos:end="7:27">page</name> <init pos:start="7:29" pos:end="7:43">= <expr pos:start="7:31" pos:end="7:43"><name pos:start="7:31" pos:end="7:43"><name pos:start="7:31" pos:end="7:35">xenfb</name><operator pos:start="7:36" pos:end="7:37">-&gt;</operator><name pos:start="7:38" pos:end="7:38">c</name><operator pos:start="7:39" pos:end="7:39">.</operator><name pos:start="7:40" pos:end="7:43">page</name></name></expr></init></decl>;</decl_stmt>



    <expr_stmt pos:start="11:5" pos:end="11:26"><expr pos:start="11:5" pos:end="11:25"><name pos:start="11:5" pos:end="11:8">prod</name> <operator pos:start="11:10" pos:end="11:10">=</operator> <name pos:start="11:12" pos:end="11:25"><name pos:start="11:12" pos:end="11:15">page</name><operator pos:start="11:16" pos:end="11:17">-&gt;</operator><name pos:start="11:18" pos:end="11:25">out_prod</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="13:5" pos:end="13:30"><expr pos:start="13:5" pos:end="13:29"><name pos:start="13:5" pos:end="13:12">out_cons</name> <operator pos:start="13:14" pos:end="13:14">=</operator> <name pos:start="13:16" pos:end="13:29"><name pos:start="13:16" pos:end="13:19">page</name><operator pos:start="13:20" pos:end="13:21">-&gt;</operator><name pos:start="13:22" pos:end="13:29">out_cons</name></name></expr>;</expr_stmt>

    <if_stmt pos:start="15:5" pos:end="19:5"><if pos:start="15:5" pos:end="19:5">if <condition pos:start="15:8" pos:end="15:46">(<expr pos:start="15:9" pos:end="15:45"><name pos:start="15:9" pos:end="15:12">prod</name> <operator pos:start="15:14" pos:end="15:14">-</operator> <name pos:start="15:16" pos:end="15:23">out_cons</name> <operator pos:start="15:25" pos:end="15:26">&gt;=</operator> <name pos:start="15:28" pos:end="15:45">XENFB_OUT_RING_LEN</name></expr>)</condition> <block pos:start="15:48" pos:end="19:5">{<block_content pos:start="17:9" pos:end="17:15">

        <return pos:start="17:9" pos:end="17:15">return;</return>

    </block_content>}</block></if></if_stmt>

    <expr_stmt pos:start="21:5" pos:end="21:14"><expr pos:start="21:5" pos:end="21:13"><call pos:start="21:5" pos:end="21:13"><name pos:start="21:5" pos:end="21:11">xen_rmb</name><argument_list pos:start="21:12" pos:end="21:13">()</argument_list></call></expr>;</expr_stmt>		<comment type="block" pos:start="21:25" pos:end="21:68">/* ensure we see ring contents up to prod */</comment>

    <for pos:start="23:5" pos:end="125:5">for <control pos:start="23:9" pos:end="23:47">(<init pos:start="23:10" pos:end="23:25"><expr pos:start="23:10" pos:end="23:24"><name pos:start="23:10" pos:end="23:13">cons</name> <operator pos:start="23:15" pos:end="23:15">=</operator> <name pos:start="23:17" pos:end="23:24">out_cons</name></expr>;</init> <condition pos:start="23:27" pos:end="23:39"><expr pos:start="23:27" pos:end="23:38"><name pos:start="23:27" pos:end="23:30">cons</name> <operator pos:start="23:32" pos:end="23:33">!=</operator> <name pos:start="23:35" pos:end="23:38">prod</name></expr>;</condition> <incr pos:start="23:41" pos:end="23:46"><expr pos:start="23:41" pos:end="23:46"><name pos:start="23:41" pos:end="23:44">cons</name><operator pos:start="23:45" pos:end="23:46">++</operator></expr></incr>)</control> <block pos:start="23:49" pos:end="125:5">{<block_content pos:start="25:9" pos:end="123:9">

	<decl_stmt pos:start="25:9" pos:end="25:71"><decl pos:start="25:9" pos:end="25:70"><type pos:start="25:9" pos:end="25:31"><name pos:start="25:9" pos:end="25:29"><name pos:start="25:9" pos:end="25:13">union</name> <name pos:start="25:15" pos:end="25:29">xenfb_out_event</name></name> <modifier pos:start="25:31" pos:end="25:31">*</modifier></type><name pos:start="25:32" pos:end="25:36">event</name> <init pos:start="25:38" pos:end="25:70">= <expr pos:start="25:40" pos:end="25:70"><operator pos:start="25:40" pos:end="25:40">&amp;</operator><call pos:start="25:41" pos:end="25:70"><name pos:start="25:41" pos:end="25:58">XENFB_OUT_RING_REF</name><argument_list pos:start="25:59" pos:end="25:70">(<argument pos:start="25:60" pos:end="25:63"><expr pos:start="25:60" pos:end="25:63"><name pos:start="25:60" pos:end="25:63">page</name></expr></argument>, <argument pos:start="25:66" pos:end="25:69"><expr pos:start="25:66" pos:end="25:69"><name pos:start="25:66" pos:end="25:69">cons</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

        <decl_stmt pos:start="27:9" pos:end="27:35"><decl pos:start="27:9" pos:end="27:34"><type pos:start="27:9" pos:end="27:15"><name pos:start="27:9" pos:end="27:15">uint8_t</name></type> <name pos:start="27:17" pos:end="27:20">type</name> <init pos:start="27:22" pos:end="27:34">= <expr pos:start="27:24" pos:end="27:34"><name pos:start="27:24" pos:end="27:34"><name pos:start="27:24" pos:end="27:28">event</name><operator pos:start="27:29" pos:end="27:30">-&gt;</operator><name pos:start="27:31" pos:end="27:34">type</name></name></expr></init></decl>;</decl_stmt>

	<decl_stmt pos:start="29:9" pos:end="29:23"><decl pos:start="29:9" pos:end="29:13"><type pos:start="29:9" pos:end="29:11"><name pos:start="29:9" pos:end="29:11">int</name></type> <name pos:start="29:13" pos:end="29:13">x</name></decl>, <decl pos:start="29:16" pos:end="29:16"><type ref="prev" pos:start="29:9" pos:end="29:11"/><name pos:start="29:16" pos:end="29:16">y</name></decl>, <decl pos:start="29:19" pos:end="29:19"><type ref="prev" pos:start="29:9" pos:end="29:11"/><name pos:start="29:19" pos:end="29:19">w</name></decl>, <decl pos:start="29:22" pos:end="29:22"><type ref="prev" pos:start="29:9" pos:end="29:11"/><name pos:start="29:22" pos:end="29:22">h</name></decl>;</decl_stmt>



	<switch pos:start="33:9" pos:end="123:9">switch <condition pos:start="33:16" pos:end="33:21">(<expr pos:start="33:17" pos:end="33:20"><name pos:start="33:17" pos:end="33:20">type</name></expr>)</condition> <block pos:start="33:23" pos:end="123:9">{<block_content pos:start="35:9" pos:end="122:0">

	<case pos:start="35:9" pos:end="35:31">case <expr pos:start="35:14" pos:end="35:30"><name pos:start="35:14" pos:end="35:30">XENFB_TYPE_UPDATE</name></expr>:</case>

	    <if_stmt pos:start="37:13" pos:end="39:41"><if pos:start="37:13" pos:end="39:41">if <condition pos:start="37:16" pos:end="37:44">(<expr pos:start="37:17" pos:end="37:43"><name pos:start="37:17" pos:end="37:31"><name pos:start="37:17" pos:end="37:21">xenfb</name><operator pos:start="37:22" pos:end="37:23">-&gt;</operator><name pos:start="37:24" pos:end="37:31">up_count</name></name> <operator pos:start="37:33" pos:end="37:34">==</operator> <name pos:start="37:36" pos:end="37:43">UP_QUEUE</name></expr>)</condition><block type="pseudo" pos:start="39:17" pos:end="39:41"><block_content pos:start="39:17" pos:end="39:41">

		<expr_stmt pos:start="39:17" pos:end="39:41"><expr pos:start="39:17" pos:end="39:40"><name pos:start="39:17" pos:end="39:36"><name pos:start="39:17" pos:end="39:21">xenfb</name><operator pos:start="39:22" pos:end="39:23">-&gt;</operator><name pos:start="39:24" pos:end="39:36">up_fullscreen</name></name> <operator pos:start="39:38" pos:end="39:38">=</operator> <literal type="number" pos:start="39:40" pos:end="39:40">1</literal></expr>;</expr_stmt></block_content></block></if></if_stmt>

	    <if_stmt pos:start="41:13" pos:end="43:22"><if pos:start="41:13" pos:end="43:22">if <condition pos:start="41:16" pos:end="41:37">(<expr pos:start="41:17" pos:end="41:36"><name pos:start="41:17" pos:end="41:36"><name pos:start="41:17" pos:end="41:21">xenfb</name><operator pos:start="41:22" pos:end="41:23">-&gt;</operator><name pos:start="41:24" pos:end="41:36">up_fullscreen</name></name></expr>)</condition><block type="pseudo" pos:start="43:17" pos:end="43:22"><block_content pos:start="43:17" pos:end="43:22">

		<break pos:start="43:17" pos:end="43:22">break;</break></block_content></block></if></if_stmt>

	    <expr_stmt pos:start="45:13" pos:end="45:40"><expr pos:start="45:13" pos:end="45:39"><name pos:start="45:13" pos:end="45:13">x</name> <operator pos:start="45:15" pos:end="45:15">=</operator> <call pos:start="45:17" pos:end="45:39"><name pos:start="45:17" pos:end="45:19">MAX</name><argument_list pos:start="45:20" pos:end="45:39">(<argument pos:start="45:21" pos:end="45:35"><expr pos:start="45:21" pos:end="45:35"><name pos:start="45:21" pos:end="45:35"><name pos:start="45:21" pos:end="45:25">event</name><operator pos:start="45:26" pos:end="45:27">-&gt;</operator><name pos:start="45:28" pos:end="45:33">update</name><operator pos:start="45:34" pos:end="45:34">.</operator><name pos:start="45:35" pos:end="45:35">x</name></name></expr></argument>, <argument pos:start="45:38" pos:end="45:38"><expr pos:start="45:38" pos:end="45:38"><literal type="number" pos:start="45:38" pos:end="45:38">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

	    <expr_stmt pos:start="47:13" pos:end="47:40"><expr pos:start="47:13" pos:end="47:39"><name pos:start="47:13" pos:end="47:13">y</name> <operator pos:start="47:15" pos:end="47:15">=</operator> <call pos:start="47:17" pos:end="47:39"><name pos:start="47:17" pos:end="47:19">MAX</name><argument_list pos:start="47:20" pos:end="47:39">(<argument pos:start="47:21" pos:end="47:35"><expr pos:start="47:21" pos:end="47:35"><name pos:start="47:21" pos:end="47:35"><name pos:start="47:21" pos:end="47:25">event</name><operator pos:start="47:26" pos:end="47:27">-&gt;</operator><name pos:start="47:28" pos:end="47:33">update</name><operator pos:start="47:34" pos:end="47:34">.</operator><name pos:start="47:35" pos:end="47:35">y</name></name></expr></argument>, <argument pos:start="47:38" pos:end="47:38"><expr pos:start="47:38" pos:end="47:38"><literal type="number" pos:start="47:38" pos:end="47:38">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

	    <expr_stmt pos:start="49:13" pos:end="49:59"><expr pos:start="49:13" pos:end="49:58"><name pos:start="49:13" pos:end="49:13">w</name> <operator pos:start="49:15" pos:end="49:15">=</operator> <call pos:start="49:17" pos:end="49:58"><name pos:start="49:17" pos:end="49:19">MIN</name><argument_list pos:start="49:20" pos:end="49:58">(<argument pos:start="49:21" pos:end="49:39"><expr pos:start="49:21" pos:end="49:39"><name pos:start="49:21" pos:end="49:39"><name pos:start="49:21" pos:end="49:25">event</name><operator pos:start="49:26" pos:end="49:27">-&gt;</operator><name pos:start="49:28" pos:end="49:33">update</name><operator pos:start="49:34" pos:end="49:34">.</operator><name pos:start="49:35" pos:end="49:39">width</name></name></expr></argument>, <argument pos:start="49:42" pos:end="49:57"><expr pos:start="49:42" pos:end="49:57"><name pos:start="49:42" pos:end="49:53"><name pos:start="49:42" pos:end="49:46">xenfb</name><operator pos:start="49:47" pos:end="49:48">-&gt;</operator><name pos:start="49:49" pos:end="49:53">width</name></name> <operator pos:start="49:55" pos:end="49:55">-</operator> <name pos:start="49:57" pos:end="49:57">x</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

	    <expr_stmt pos:start="51:13" pos:end="51:61"><expr pos:start="51:13" pos:end="51:60"><name pos:start="51:13" pos:end="51:13">h</name> <operator pos:start="51:15" pos:end="51:15">=</operator> <call pos:start="51:17" pos:end="51:60"><name pos:start="51:17" pos:end="51:19">MIN</name><argument_list pos:start="51:20" pos:end="51:60">(<argument pos:start="51:21" pos:end="51:40"><expr pos:start="51:21" pos:end="51:40"><name pos:start="51:21" pos:end="51:40"><name pos:start="51:21" pos:end="51:25">event</name><operator pos:start="51:26" pos:end="51:27">-&gt;</operator><name pos:start="51:28" pos:end="51:33">update</name><operator pos:start="51:34" pos:end="51:34">.</operator><name pos:start="51:35" pos:end="51:40">height</name></name></expr></argument>, <argument pos:start="51:43" pos:end="51:59"><expr pos:start="51:43" pos:end="51:59"><name pos:start="51:43" pos:end="51:55"><name pos:start="51:43" pos:end="51:47">xenfb</name><operator pos:start="51:48" pos:end="51:49">-&gt;</operator><name pos:start="51:50" pos:end="51:55">height</name></name> <operator pos:start="51:57" pos:end="51:57">-</operator> <name pos:start="51:59" pos:end="51:59">y</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

	    <if_stmt pos:start="53:13" pos:end="59:13"><if pos:start="53:13" pos:end="59:13">if <condition pos:start="53:16" pos:end="53:31">(<expr pos:start="53:17" pos:end="53:30"><name pos:start="53:17" pos:end="53:17">w</name> <operator pos:start="53:19" pos:end="53:19">&lt;</operator> <literal type="number" pos:start="53:21" pos:end="53:21">0</literal> <operator pos:start="53:23" pos:end="53:24">||</operator> <name pos:start="53:26" pos:end="53:26">h</name> <operator pos:start="53:28" pos:end="53:28">&lt;</operator> <literal type="number" pos:start="53:30" pos:end="53:30">0</literal></expr>)</condition> <block pos:start="53:33" pos:end="59:13">{<block_content pos:start="55:17" pos:end="57:22">

                <expr_stmt pos:start="55:17" pos:end="55:77"><expr pos:start="55:17" pos:end="55:76"><call pos:start="55:17" pos:end="55:76"><name pos:start="55:17" pos:end="55:29">xen_be_printf</name><argument_list pos:start="55:30" pos:end="55:76">(<argument pos:start="55:31" pos:end="55:46"><expr pos:start="55:31" pos:end="55:46"><operator pos:start="55:31" pos:end="55:31">&amp;</operator><name pos:start="55:32" pos:end="55:46"><name pos:start="55:32" pos:end="55:36">xenfb</name><operator pos:start="55:37" pos:end="55:38">-&gt;</operator><name pos:start="55:39" pos:end="55:39">c</name><operator pos:start="55:40" pos:end="55:40">.</operator><name pos:start="55:41" pos:end="55:46">xendev</name></name></expr></argument>, <argument pos:start="55:49" pos:end="55:49"><expr pos:start="55:49" pos:end="55:49"><literal type="number" pos:start="55:49" pos:end="55:49">1</literal></expr></argument>, <argument pos:start="55:52" pos:end="55:75"><expr pos:start="55:52" pos:end="55:75"><literal type="string" pos:start="55:52" pos:end="55:75">"bogus update ignored\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

		<break pos:start="57:17" pos:end="57:22">break;</break>

	    </block_content>}</block></if></if_stmt>

	    <if_stmt pos:start="61:13" pos:end="71:13"><if pos:start="61:13" pos:end="71:13">if <condition pos:start="61:16" pos:end="67:42">(<expr pos:start="61:17" pos:end="67:41"><name pos:start="61:17" pos:end="61:17">x</name> <operator pos:start="61:19" pos:end="61:20">!=</operator> <name pos:start="61:22" pos:end="61:36"><name pos:start="61:22" pos:end="61:26">event</name><operator pos:start="61:27" pos:end="61:28">-&gt;</operator><name pos:start="61:29" pos:end="61:34">update</name><operator pos:start="61:35" pos:end="61:35">.</operator><name pos:start="61:36" pos:end="61:36">x</name></name> <operator pos:start="61:38" pos:end="61:39">||</operator>

                <name pos:start="63:17" pos:end="63:17">y</name> <operator pos:start="63:19" pos:end="63:20">!=</operator> <name pos:start="63:22" pos:end="63:36"><name pos:start="63:22" pos:end="63:26">event</name><operator pos:start="63:27" pos:end="63:28">-&gt;</operator><name pos:start="63:29" pos:end="63:34">update</name><operator pos:start="63:35" pos:end="63:35">.</operator><name pos:start="63:36" pos:end="63:36">y</name></name> <operator pos:start="63:38" pos:end="63:39">||</operator>

		<name pos:start="65:17" pos:end="65:17">w</name> <operator pos:start="65:19" pos:end="65:20">!=</operator> <name pos:start="65:22" pos:end="65:40"><name pos:start="65:22" pos:end="65:26">event</name><operator pos:start="65:27" pos:end="65:28">-&gt;</operator><name pos:start="65:29" pos:end="65:34">update</name><operator pos:start="65:35" pos:end="65:35">.</operator><name pos:start="65:36" pos:end="65:40">width</name></name> <operator pos:start="65:42" pos:end="65:43">||</operator>

		<name pos:start="67:17" pos:end="67:17">h</name> <operator pos:start="67:19" pos:end="67:20">!=</operator> <name pos:start="67:22" pos:end="67:41"><name pos:start="67:22" pos:end="67:26">event</name><operator pos:start="67:27" pos:end="67:28">-&gt;</operator><name pos:start="67:29" pos:end="67:34">update</name><operator pos:start="67:35" pos:end="67:35">.</operator><name pos:start="67:36" pos:end="67:41">height</name></name></expr>)</condition> <block pos:start="67:44" pos:end="71:13">{<block_content pos:start="69:17" pos:end="69:77">

                <expr_stmt pos:start="69:17" pos:end="69:77"><expr pos:start="69:17" pos:end="69:76"><call pos:start="69:17" pos:end="69:76"><name pos:start="69:17" pos:end="69:29">xen_be_printf</name><argument_list pos:start="69:30" pos:end="69:76">(<argument pos:start="69:31" pos:end="69:46"><expr pos:start="69:31" pos:end="69:46"><operator pos:start="69:31" pos:end="69:31">&amp;</operator><name pos:start="69:32" pos:end="69:46"><name pos:start="69:32" pos:end="69:36">xenfb</name><operator pos:start="69:37" pos:end="69:38">-&gt;</operator><name pos:start="69:39" pos:end="69:39">c</name><operator pos:start="69:40" pos:end="69:40">.</operator><name pos:start="69:41" pos:end="69:46">xendev</name></name></expr></argument>, <argument pos:start="69:49" pos:end="69:49"><expr pos:start="69:49" pos:end="69:49"><literal type="number" pos:start="69:49" pos:end="69:49">1</literal></expr></argument>, <argument pos:start="69:52" pos:end="69:75"><expr pos:start="69:52" pos:end="69:75"><literal type="string" pos:start="69:52" pos:end="69:75">"bogus update clipped\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

	    </block_content>}</block></if></if_stmt>

	    <if_stmt pos:start="73:13" pos:end="93:13"><if pos:start="73:13" pos:end="81:13">if <condition pos:start="73:16" pos:end="73:59">(<expr pos:start="73:17" pos:end="73:58"><name pos:start="73:17" pos:end="73:17">w</name> <operator pos:start="73:19" pos:end="73:20">==</operator> <name pos:start="73:22" pos:end="73:33"><name pos:start="73:22" pos:end="73:26">xenfb</name><operator pos:start="73:27" pos:end="73:28">-&gt;</operator><name pos:start="73:29" pos:end="73:33">width</name></name> <operator pos:start="73:35" pos:end="73:36">&amp;&amp;</operator> <name pos:start="73:38" pos:end="73:38">h</name> <operator pos:start="73:40" pos:end="73:40">&gt;</operator> <name pos:start="73:42" pos:end="73:54"><name pos:start="73:42" pos:end="73:46">xenfb</name><operator pos:start="73:47" pos:end="73:48">-&gt;</operator><name pos:start="73:49" pos:end="73:54">height</name></name> <operator pos:start="73:56" pos:end="73:56">/</operator> <literal type="number" pos:start="73:58" pos:end="73:58">2</literal></expr>)</condition> <block pos:start="73:61" pos:end="81:13">{<block_content pos:start="79:17" pos:end="79:41">

		<comment type="block" pos:start="75:17" pos:end="77:71">/* scroll detector: updated more than 50% of the lines,

		 * don't bother keeping track of the rectangles then */</comment>

		<expr_stmt pos:start="79:17" pos:end="79:41"><expr pos:start="79:17" pos:end="79:40"><name pos:start="79:17" pos:end="79:36"><name pos:start="79:17" pos:end="79:21">xenfb</name><operator pos:start="79:22" pos:end="79:23">-&gt;</operator><name pos:start="79:24" pos:end="79:36">up_fullscreen</name></name> <operator pos:start="79:38" pos:end="79:38">=</operator> <literal type="number" pos:start="79:40" pos:end="79:40">1</literal></expr>;</expr_stmt>

	    </block_content>}</block></if> <else pos:start="81:15" pos:end="93:13">else <block pos:start="81:20" pos:end="93:13">{<block_content pos:start="83:17" pos:end="91:34">

		<expr_stmt pos:start="83:17" pos:end="83:55"><expr pos:start="83:17" pos:end="83:54"><name pos:start="83:17" pos:end="83:48"><name pos:start="83:17" pos:end="83:21">xenfb</name><operator pos:start="83:22" pos:end="83:23">-&gt;</operator><name pos:start="83:24" pos:end="83:31">up_rects</name><index pos:start="83:32" pos:end="83:48">[<expr pos:start="83:33" pos:end="83:47"><name pos:start="83:33" pos:end="83:47"><name pos:start="83:33" pos:end="83:37">xenfb</name><operator pos:start="83:38" pos:end="83:39">-&gt;</operator><name pos:start="83:40" pos:end="83:47">up_count</name></name></expr>]</index></name><operator pos:start="83:49" pos:end="83:49">.</operator><name pos:start="83:50" pos:end="83:50">x</name> <operator pos:start="83:52" pos:end="83:52">=</operator> <name pos:start="83:54" pos:end="83:54">x</name></expr>;</expr_stmt>

		<expr_stmt pos:start="85:17" pos:end="85:55"><expr pos:start="85:17" pos:end="85:54"><name pos:start="85:17" pos:end="85:48"><name pos:start="85:17" pos:end="85:21">xenfb</name><operator pos:start="85:22" pos:end="85:23">-&gt;</operator><name pos:start="85:24" pos:end="85:31">up_rects</name><index pos:start="85:32" pos:end="85:48">[<expr pos:start="85:33" pos:end="85:47"><name pos:start="85:33" pos:end="85:47"><name pos:start="85:33" pos:end="85:37">xenfb</name><operator pos:start="85:38" pos:end="85:39">-&gt;</operator><name pos:start="85:40" pos:end="85:47">up_count</name></name></expr>]</index></name><operator pos:start="85:49" pos:end="85:49">.</operator><name pos:start="85:50" pos:end="85:50">y</name> <operator pos:start="85:52" pos:end="85:52">=</operator> <name pos:start="85:54" pos:end="85:54">y</name></expr>;</expr_stmt>

		<expr_stmt pos:start="87:17" pos:end="87:55"><expr pos:start="87:17" pos:end="87:54"><name pos:start="87:17" pos:end="87:48"><name pos:start="87:17" pos:end="87:21">xenfb</name><operator pos:start="87:22" pos:end="87:23">-&gt;</operator><name pos:start="87:24" pos:end="87:31">up_rects</name><index pos:start="87:32" pos:end="87:48">[<expr pos:start="87:33" pos:end="87:47"><name pos:start="87:33" pos:end="87:47"><name pos:start="87:33" pos:end="87:37">xenfb</name><operator pos:start="87:38" pos:end="87:39">-&gt;</operator><name pos:start="87:40" pos:end="87:47">up_count</name></name></expr>]</index></name><operator pos:start="87:49" pos:end="87:49">.</operator><name pos:start="87:50" pos:end="87:50">w</name> <operator pos:start="87:52" pos:end="87:52">=</operator> <name pos:start="87:54" pos:end="87:54">w</name></expr>;</expr_stmt>

		<expr_stmt pos:start="89:17" pos:end="89:55"><expr pos:start="89:17" pos:end="89:54"><name pos:start="89:17" pos:end="89:48"><name pos:start="89:17" pos:end="89:21">xenfb</name><operator pos:start="89:22" pos:end="89:23">-&gt;</operator><name pos:start="89:24" pos:end="89:31">up_rects</name><index pos:start="89:32" pos:end="89:48">[<expr pos:start="89:33" pos:end="89:47"><name pos:start="89:33" pos:end="89:47"><name pos:start="89:33" pos:end="89:37">xenfb</name><operator pos:start="89:38" pos:end="89:39">-&gt;</operator><name pos:start="89:40" pos:end="89:47">up_count</name></name></expr>]</index></name><operator pos:start="89:49" pos:end="89:49">.</operator><name pos:start="89:50" pos:end="89:50">h</name> <operator pos:start="89:52" pos:end="89:52">=</operator> <name pos:start="89:54" pos:end="89:54">h</name></expr>;</expr_stmt>

		<expr_stmt pos:start="91:17" pos:end="91:34"><expr pos:start="91:17" pos:end="91:33"><name pos:start="91:17" pos:end="91:31"><name pos:start="91:17" pos:end="91:21">xenfb</name><operator pos:start="91:22" pos:end="91:23">-&gt;</operator><name pos:start="91:24" pos:end="91:31">up_count</name></name><operator pos:start="91:32" pos:end="91:33">++</operator></expr>;</expr_stmt>

	    </block_content>}</block></else></if_stmt>

	    <break pos:start="95:13" pos:end="98:0">break;</break>

<cpp:ifdef pos:start="97:1" pos:end="97:24">#<cpp:directive pos:start="97:2" pos:end="97:6">ifdef</cpp:directive> <name pos:start="97:8" pos:end="97:24">XENFB_TYPE_RESIZE</name></cpp:ifdef>

	<case pos:start="99:9" pos:end="99:31">case <expr pos:start="99:14" pos:end="99:30"><name pos:start="99:14" pos:end="99:30">XENFB_TYPE_RESIZE</name></expr>:</case>

	    <if_stmt pos:start="101:13" pos:end="115:22"><if pos:start="101:13" pos:end="115:22">if <condition pos:start="101:16" pos:end="113:61">(<expr pos:start="101:17" pos:end="113:60"><call pos:start="101:17" pos:end="113:56"><name pos:start="101:17" pos:end="101:34">xenfb_configure_fb</name><argument_list pos:start="101:35" pos:end="113:56">(<argument pos:start="101:36" pos:end="101:40"><expr pos:start="101:36" pos:end="101:40"><name pos:start="101:36" pos:end="101:40">xenfb</name></expr></argument>, <argument pos:start="101:43" pos:end="101:55"><expr pos:start="101:43" pos:end="101:55"><name pos:start="101:43" pos:end="101:55"><name pos:start="101:43" pos:end="101:47">xenfb</name><operator pos:start="101:48" pos:end="101:49">-&gt;</operator><name pos:start="101:50" pos:end="101:55">fb_len</name></name></expr></argument>,

				   <argument pos:start="103:36" pos:end="103:54"><expr pos:start="103:36" pos:end="103:54"><name pos:start="103:36" pos:end="103:54"><name pos:start="103:36" pos:end="103:40">event</name><operator pos:start="103:41" pos:end="103:42">-&gt;</operator><name pos:start="103:43" pos:end="103:48">resize</name><operator pos:start="103:49" pos:end="103:49">.</operator><name pos:start="103:50" pos:end="103:54">width</name></name></expr></argument>,

				   <argument pos:start="105:36" pos:end="105:55"><expr pos:start="105:36" pos:end="105:55"><name pos:start="105:36" pos:end="105:55"><name pos:start="105:36" pos:end="105:40">event</name><operator pos:start="105:41" pos:end="105:42">-&gt;</operator><name pos:start="105:43" pos:end="105:48">resize</name><operator pos:start="105:49" pos:end="105:49">.</operator><name pos:start="105:50" pos:end="105:55">height</name></name></expr></argument>,

				   <argument pos:start="107:36" pos:end="107:54"><expr pos:start="107:36" pos:end="107:54"><name pos:start="107:36" pos:end="107:54"><name pos:start="107:36" pos:end="107:40">event</name><operator pos:start="107:41" pos:end="107:42">-&gt;</operator><name pos:start="107:43" pos:end="107:48">resize</name><operator pos:start="107:49" pos:end="107:49">.</operator><name pos:start="107:50" pos:end="107:54">depth</name></name></expr></argument>,

				   <argument pos:start="109:36" pos:end="109:48"><expr pos:start="109:36" pos:end="109:48"><name pos:start="109:36" pos:end="109:48"><name pos:start="109:36" pos:end="109:40">xenfb</name><operator pos:start="109:41" pos:end="109:42">-&gt;</operator><name pos:start="109:43" pos:end="109:48">fb_len</name></name></expr></argument>,

				   <argument pos:start="111:36" pos:end="111:55"><expr pos:start="111:36" pos:end="111:55"><name pos:start="111:36" pos:end="111:55"><name pos:start="111:36" pos:end="111:40">event</name><operator pos:start="111:41" pos:end="111:42">-&gt;</operator><name pos:start="111:43" pos:end="111:48">resize</name><operator pos:start="111:49" pos:end="111:49">.</operator><name pos:start="111:50" pos:end="111:55">offset</name></name></expr></argument>,

				   <argument pos:start="113:36" pos:end="113:55"><expr pos:start="113:36" pos:end="113:55"><name pos:start="113:36" pos:end="113:55"><name pos:start="113:36" pos:end="113:40">event</name><operator pos:start="113:41" pos:end="113:42">-&gt;</operator><name pos:start="113:43" pos:end="113:48">resize</name><operator pos:start="113:49" pos:end="113:49">.</operator><name pos:start="113:50" pos:end="113:55">stride</name></name></expr></argument>)</argument_list></call> <operator pos:start="113:58" pos:end="113:58">&lt;</operator> <literal type="number" pos:start="113:60" pos:end="113:60">0</literal></expr>)</condition><block type="pseudo" pos:start="115:17" pos:end="115:22"><block_content pos:start="115:17" pos:end="115:22">

		<break pos:start="115:17" pos:end="115:22">break;</break></block_content></block></if></if_stmt>

	    <expr_stmt pos:start="117:13" pos:end="117:36"><expr pos:start="117:13" pos:end="117:35"><call pos:start="117:13" pos:end="117:35"><name pos:start="117:13" pos:end="117:28">xenfb_invalidate</name><argument_list pos:start="117:29" pos:end="117:35">(<argument pos:start="117:30" pos:end="117:34"><expr pos:start="117:30" pos:end="117:34"><name pos:start="117:30" pos:end="117:34">xenfb</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

	    <break pos:start="119:13" pos:end="122:0">break;</break>

<cpp:endif pos:start="121:1" pos:end="121:6">#<cpp:directive pos:start="121:2" pos:end="121:6">endif</cpp:directive></cpp:endif>

	</block_content>}</block></switch>

    </block_content>}</block></for>

    <expr_stmt pos:start="127:5" pos:end="127:13"><expr pos:start="127:5" pos:end="127:12"><call pos:start="127:5" pos:end="127:12"><name pos:start="127:5" pos:end="127:10">xen_mb</name><argument_list pos:start="127:11" pos:end="127:12">()</argument_list></call></expr>;</expr_stmt>		<comment type="block" pos:start="127:25" pos:end="127:66">/* ensure we're done with ring contents */</comment>

    <expr_stmt pos:start="129:5" pos:end="129:26"><expr pos:start="129:5" pos:end="129:25"><name pos:start="129:5" pos:end="129:18"><name pos:start="129:5" pos:end="129:8">page</name><operator pos:start="129:9" pos:end="129:10">-&gt;</operator><name pos:start="129:11" pos:end="129:18">out_cons</name></name> <operator pos:start="129:20" pos:end="129:20">=</operator> <name pos:start="129:22" pos:end="129:25">cons</name></expr>;</expr_stmt>

</block_content>}</block></function>
</unit>
