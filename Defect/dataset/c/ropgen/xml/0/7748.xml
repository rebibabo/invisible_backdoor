<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/7748.c" pos:tabs="8"><function pos:start="1:1" pos:end="45:1"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:29">fdt_add_psci_node</name><parameter_list pos:start="1:30" pos:end="1:55">(<parameter pos:start="1:31" pos:end="1:54"><decl pos:start="1:31" pos:end="1:54"><type pos:start="1:31" pos:end="1:51"><specifier pos:start="1:31" pos:end="1:35">const</specifier> <name pos:start="1:37" pos:end="1:49">VirtBoardInfo</name> <modifier pos:start="1:51" pos:end="1:51">*</modifier></type><name pos:start="1:52" pos:end="1:54">vbi</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="45:1">{<block_content pos:start="5:5" pos:end="43:5">

    <decl_stmt pos:start="5:5" pos:end="5:25"><decl pos:start="5:5" pos:end="5:24"><type pos:start="5:5" pos:end="5:10"><name pos:start="5:5" pos:end="5:8">void</name> <modifier pos:start="5:10" pos:end="5:10">*</modifier></type><name pos:start="5:11" pos:end="5:13">fdt</name> <init pos:start="5:15" pos:end="5:24">= <expr pos:start="5:17" pos:end="5:24"><name pos:start="5:17" pos:end="5:24"><name pos:start="5:17" pos:end="5:19">vbi</name><operator pos:start="5:20" pos:end="5:21">-&gt;</operator><name pos:start="5:22" pos:end="5:24">fdt</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:46"><decl pos:start="7:5" pos:end="7:45"><type pos:start="7:5" pos:end="7:12"><name pos:start="7:5" pos:end="7:10">ARMCPU</name> <modifier pos:start="7:12" pos:end="7:12">*</modifier></type><name pos:start="7:13" pos:end="7:18">armcpu</name> <init pos:start="7:20" pos:end="7:45">= <expr pos:start="7:22" pos:end="7:45"><call pos:start="7:22" pos:end="7:45"><name pos:start="7:22" pos:end="7:28">ARM_CPU</name><argument_list pos:start="7:29" pos:end="7:45">(<argument pos:start="7:30" pos:end="7:44"><expr pos:start="7:30" pos:end="7:44"><call pos:start="7:30" pos:end="7:44"><name pos:start="7:30" pos:end="7:41">qemu_get_cpu</name><argument_list pos:start="7:42" pos:end="7:44">(<argument pos:start="7:43" pos:end="7:43"><expr pos:start="7:43" pos:end="7:43"><literal type="number" pos:start="7:43" pos:end="7:43">0</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>



    <comment type="block" pos:start="11:5" pos:end="11:29">/* No PSCI for TCG yet */</comment>

    <if_stmt pos:start="13:5" pos:end="43:5"><if pos:start="13:5" pos:end="43:5">if <condition pos:start="13:8" pos:end="13:22">(<expr pos:start="13:9" pos:end="13:21"><call pos:start="13:9" pos:end="13:21"><name pos:start="13:9" pos:end="13:19">kvm_enabled</name><argument_list pos:start="13:20" pos:end="13:21">()</argument_list></call></expr>)</condition> <block pos:start="13:24" pos:end="43:5">{<block_content pos:start="15:9" pos:end="41:81">

        <expr_stmt pos:start="15:9" pos:end="15:43"><expr pos:start="15:9" pos:end="15:42"><call pos:start="15:9" pos:end="15:42"><name pos:start="15:9" pos:end="15:28">qemu_fdt_add_subnode</name><argument_list pos:start="15:29" pos:end="15:42">(<argument pos:start="15:30" pos:end="15:32"><expr pos:start="15:30" pos:end="15:32"><name pos:start="15:30" pos:end="15:32">fdt</name></expr></argument>, <argument pos:start="15:35" pos:end="15:41"><expr pos:start="15:35" pos:end="15:41"><literal type="string" pos:start="15:35" pos:end="15:41">"/psci"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="17:9" pos:end="27:9"><if pos:start="17:9" pos:end="23:9">if <condition pos:start="17:12" pos:end="17:38">(<expr pos:start="17:13" pos:end="17:37"><name pos:start="17:13" pos:end="17:32"><name pos:start="17:13" pos:end="17:18">armcpu</name><operator pos:start="17:19" pos:end="17:20">-&gt;</operator><name pos:start="17:21" pos:end="17:32">psci_version</name></name> <operator pos:start="17:34" pos:end="17:35">==</operator> <literal type="number" pos:start="17:37" pos:end="17:37">2</literal></expr>)</condition> <block pos:start="17:40" pos:end="23:9">{<block_content pos:start="19:13" pos:end="21:77">

            <decl_stmt pos:start="19:13" pos:end="19:57"><decl pos:start="19:13" pos:end="19:56"><type pos:start="19:13" pos:end="19:22"><specifier pos:start="19:13" pos:end="19:17">const</specifier> <name pos:start="19:19" pos:end="19:22">char</name></type> <name pos:start="19:24" pos:end="19:29"><name pos:start="19:24" pos:end="19:27">comp</name><index pos:start="19:28" pos:end="19:29">[]</index></name> <init pos:start="19:31" pos:end="19:56">= <expr pos:start="19:33" pos:end="19:56"><literal type="string" pos:start="19:33" pos:end="19:56">"arm,psci-0.2\0arm,psci"</literal></expr></init></decl>;</decl_stmt>

            <expr_stmt pos:start="21:13" pos:end="21:77"><expr pos:start="21:13" pos:end="21:76"><call pos:start="21:13" pos:end="21:76"><name pos:start="21:13" pos:end="21:28">qemu_fdt_setprop</name><argument_list pos:start="21:29" pos:end="21:76">(<argument pos:start="21:30" pos:end="21:32"><expr pos:start="21:30" pos:end="21:32"><name pos:start="21:30" pos:end="21:32">fdt</name></expr></argument>, <argument pos:start="21:35" pos:end="21:41"><expr pos:start="21:35" pos:end="21:41"><literal type="string" pos:start="21:35" pos:end="21:41">"/psci"</literal></expr></argument>, <argument pos:start="21:44" pos:end="21:55"><expr pos:start="21:44" pos:end="21:55"><literal type="string" pos:start="21:44" pos:end="21:55">"compatible"</literal></expr></argument>, <argument pos:start="21:58" pos:end="21:61"><expr pos:start="21:58" pos:end="21:61"><name pos:start="21:58" pos:end="21:61">comp</name></expr></argument>, <argument pos:start="21:64" pos:end="21:75"><expr pos:start="21:64" pos:end="21:75"><sizeof pos:start="21:64" pos:end="21:75">sizeof<argument_list pos:start="21:70" pos:end="21:75">(<argument pos:start="21:71" pos:end="21:74"><expr pos:start="21:71" pos:end="21:74"><name pos:start="21:71" pos:end="21:74">comp</name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></if> <else pos:start="23:11" pos:end="27:9">else <block pos:start="23:16" pos:end="27:9">{<block_content pos:start="25:13" pos:end="25:76">

            <expr_stmt pos:start="25:13" pos:end="25:76"><expr pos:start="25:13" pos:end="25:75"><call pos:start="25:13" pos:end="25:75"><name pos:start="25:13" pos:end="25:35">qemu_fdt_setprop_string</name><argument_list pos:start="25:36" pos:end="25:75">(<argument pos:start="25:37" pos:end="25:39"><expr pos:start="25:37" pos:end="25:39"><name pos:start="25:37" pos:end="25:39">fdt</name></expr></argument>, <argument pos:start="25:42" pos:end="25:48"><expr pos:start="25:42" pos:end="25:48"><literal type="string" pos:start="25:42" pos:end="25:48">"/psci"</literal></expr></argument>, <argument pos:start="25:51" pos:end="25:62"><expr pos:start="25:51" pos:end="25:62"><literal type="string" pos:start="25:51" pos:end="25:62">"compatible"</literal></expr></argument>, <argument pos:start="25:65" pos:end="25:74"><expr pos:start="25:65" pos:end="25:74"><literal type="string" pos:start="25:65" pos:end="25:74">"arm,psci"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></else></if_stmt>



        <expr_stmt pos:start="31:9" pos:end="31:63"><expr pos:start="31:9" pos:end="31:62"><call pos:start="31:9" pos:end="31:62"><name pos:start="31:9" pos:end="31:31">qemu_fdt_setprop_string</name><argument_list pos:start="31:32" pos:end="31:62">(<argument pos:start="31:33" pos:end="31:35"><expr pos:start="31:33" pos:end="31:35"><name pos:start="31:33" pos:end="31:35">fdt</name></expr></argument>, <argument pos:start="31:38" pos:end="31:44"><expr pos:start="31:38" pos:end="31:44"><literal type="string" pos:start="31:38" pos:end="31:44">"/psci"</literal></expr></argument>, <argument pos:start="31:47" pos:end="31:54"><expr pos:start="31:47" pos:end="31:54"><literal type="string" pos:start="31:47" pos:end="31:54">"method"</literal></expr></argument>, <argument pos:start="31:57" pos:end="31:61"><expr pos:start="31:57" pos:end="31:61"><literal type="string" pos:start="31:57" pos:end="31:61">"hvc"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="33:9" pos:end="35:64"><expr pos:start="33:9" pos:end="35:63"><call pos:start="33:9" pos:end="35:63"><name pos:start="33:9" pos:end="33:29">qemu_fdt_setprop_cell</name><argument_list pos:start="33:30" pos:end="35:63">(<argument pos:start="33:31" pos:end="33:33"><expr pos:start="33:31" pos:end="33:33"><name pos:start="33:31" pos:end="33:33">fdt</name></expr></argument>, <argument pos:start="33:36" pos:end="33:42"><expr pos:start="33:36" pos:end="33:42"><literal type="string" pos:start="33:36" pos:end="33:42">"/psci"</literal></expr></argument>, <argument pos:start="33:45" pos:end="33:57"><expr pos:start="33:45" pos:end="33:57"><literal type="string" pos:start="33:45" pos:end="33:57">"cpu_suspend"</literal></expr></argument>,

                                  <argument pos:start="35:35" pos:end="35:62"><expr pos:start="35:35" pos:end="35:62"><name pos:start="35:35" pos:end="35:62">QEMU_PSCI_0_1_FN_CPU_SUSPEND</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="37:9" pos:end="37:81"><expr pos:start="37:9" pos:end="37:80"><call pos:start="37:9" pos:end="37:80"><name pos:start="37:9" pos:end="37:29">qemu_fdt_setprop_cell</name><argument_list pos:start="37:30" pos:end="37:80">(<argument pos:start="37:31" pos:end="37:33"><expr pos:start="37:31" pos:end="37:33"><name pos:start="37:31" pos:end="37:33">fdt</name></expr></argument>, <argument pos:start="37:36" pos:end="37:42"><expr pos:start="37:36" pos:end="37:42"><literal type="string" pos:start="37:36" pos:end="37:42">"/psci"</literal></expr></argument>, <argument pos:start="37:45" pos:end="37:53"><expr pos:start="37:45" pos:end="37:53"><literal type="string" pos:start="37:45" pos:end="37:53">"cpu_off"</literal></expr></argument>, <argument pos:start="37:56" pos:end="37:79"><expr pos:start="37:56" pos:end="37:79"><name pos:start="37:56" pos:end="37:79">QEMU_PSCI_0_1_FN_CPU_OFF</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="39:9" pos:end="39:79"><expr pos:start="39:9" pos:end="39:78"><call pos:start="39:9" pos:end="39:78"><name pos:start="39:9" pos:end="39:29">qemu_fdt_setprop_cell</name><argument_list pos:start="39:30" pos:end="39:78">(<argument pos:start="39:31" pos:end="39:33"><expr pos:start="39:31" pos:end="39:33"><name pos:start="39:31" pos:end="39:33">fdt</name></expr></argument>, <argument pos:start="39:36" pos:end="39:42"><expr pos:start="39:36" pos:end="39:42"><literal type="string" pos:start="39:36" pos:end="39:42">"/psci"</literal></expr></argument>, <argument pos:start="39:45" pos:end="39:52"><expr pos:start="39:45" pos:end="39:52"><literal type="string" pos:start="39:45" pos:end="39:52">"cpu_on"</literal></expr></argument>, <argument pos:start="39:55" pos:end="39:77"><expr pos:start="39:55" pos:end="39:77"><name pos:start="39:55" pos:end="39:77">QEMU_PSCI_0_1_FN_CPU_ON</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="41:9" pos:end="41:81"><expr pos:start="41:9" pos:end="41:80"><call pos:start="41:9" pos:end="41:80"><name pos:start="41:9" pos:end="41:29">qemu_fdt_setprop_cell</name><argument_list pos:start="41:30" pos:end="41:80">(<argument pos:start="41:31" pos:end="41:33"><expr pos:start="41:31" pos:end="41:33"><name pos:start="41:31" pos:end="41:33">fdt</name></expr></argument>, <argument pos:start="41:36" pos:end="41:42"><expr pos:start="41:36" pos:end="41:42"><literal type="string" pos:start="41:36" pos:end="41:42">"/psci"</literal></expr></argument>, <argument pos:start="41:45" pos:end="41:53"><expr pos:start="41:45" pos:end="41:53"><literal type="string" pos:start="41:45" pos:end="41:53">"migrate"</literal></expr></argument>, <argument pos:start="41:56" pos:end="41:79"><expr pos:start="41:56" pos:end="41:79"><name pos:start="41:56" pos:end="41:79">QEMU_PSCI_0_1_FN_MIGRATE</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

</block_content>}</block></function>
</unit>
