<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/4564.c" pos:tabs="8"><function pos:start="1:1" pos:end="143:1"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:26">setup_rt_frame</name><parameter_list pos:start="1:27" pos:end="5:67">(<parameter pos:start="1:28" pos:end="1:34"><decl pos:start="1:28" pos:end="1:34"><type pos:start="1:28" pos:end="1:34"><name pos:start="1:28" pos:end="1:30">int</name></type> <name pos:start="1:32" pos:end="1:34">sig</name></decl></parameter>, <parameter pos:start="1:37" pos:end="1:63"><decl pos:start="1:37" pos:end="1:63"><type pos:start="1:37" pos:end="1:63"><name pos:start="1:37" pos:end="1:59"><name pos:start="1:37" pos:end="1:42">struct</name> <name pos:start="1:44" pos:end="1:59">target_sigaction</name></name> <modifier pos:start="1:61" pos:end="1:61">*</modifier></type><name pos:start="1:62" pos:end="1:63">ka</name></decl></parameter>,

                           <parameter pos:start="3:28" pos:end="3:49"><decl pos:start="3:28" pos:end="3:49"><type pos:start="3:28" pos:end="3:49"><name pos:start="3:28" pos:end="3:43">target_siginfo_t</name> <modifier pos:start="3:45" pos:end="3:45">*</modifier></type><name pos:start="3:46" pos:end="3:49">info</name></decl></parameter>,

                           <parameter pos:start="5:28" pos:end="5:47"><decl pos:start="5:28" pos:end="5:47"><type pos:start="5:28" pos:end="5:47"><name pos:start="5:28" pos:end="5:42">target_sigset_t</name> <modifier pos:start="5:44" pos:end="5:44">*</modifier></type><name pos:start="5:45" pos:end="5:47">set</name></decl></parameter>, <parameter pos:start="5:50" pos:end="5:66"><decl pos:start="5:50" pos:end="5:66"><type pos:start="5:50" pos:end="5:66"><name pos:start="5:50" pos:end="5:61">CPUM68KState</name> <modifier pos:start="5:63" pos:end="5:63">*</modifier></type><name pos:start="5:64" pos:end="5:66">env</name></decl></parameter>)</parameter_list>

<block pos:start="7:1" pos:end="143:1">{<block_content pos:start="9:5" pos:end="141:30">

    <decl_stmt pos:start="9:5" pos:end="9:37"><decl pos:start="9:5" pos:end="9:36"><type pos:start="9:5" pos:end="9:31"><name pos:start="9:5" pos:end="9:29"><name pos:start="9:5" pos:end="9:10">struct</name> <name pos:start="9:12" pos:end="9:29">target_rt_sigframe</name></name> <modifier pos:start="9:31" pos:end="9:31">*</modifier></type><name pos:start="9:32" pos:end="9:36">frame</name></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:25"><decl pos:start="11:5" pos:end="11:24"><type pos:start="11:5" pos:end="11:13"><name pos:start="11:5" pos:end="11:13">abi_ulong</name></type> <name pos:start="11:15" pos:end="11:24">frame_addr</name></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:27"><decl pos:start="13:5" pos:end="13:26"><type pos:start="13:5" pos:end="13:13"><name pos:start="13:5" pos:end="13:13">abi_ulong</name></type> <name pos:start="13:15" pos:end="13:26">retcode_addr</name></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="15:24"><decl pos:start="15:5" pos:end="15:23"><type pos:start="15:5" pos:end="15:13"><name pos:start="15:5" pos:end="15:13">abi_ulong</name></type> <name pos:start="15:15" pos:end="15:23">info_addr</name></decl>;</decl_stmt>

    <decl_stmt pos:start="17:5" pos:end="17:22"><decl pos:start="17:5" pos:end="17:21"><type pos:start="17:5" pos:end="17:13"><name pos:start="17:5" pos:end="17:13">abi_ulong</name></type> <name pos:start="17:15" pos:end="17:21">uc_addr</name></decl>;</decl_stmt>

    <decl_stmt pos:start="19:5" pos:end="19:16"><decl pos:start="19:5" pos:end="19:15"><type pos:start="19:5" pos:end="19:7"><name pos:start="19:5" pos:end="19:7">int</name></type> <name pos:start="19:9" pos:end="19:11">err</name> <init pos:start="19:13" pos:end="19:15">= <expr pos:start="19:15" pos:end="19:15"><literal type="number" pos:start="19:15" pos:end="19:15">0</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="21:5" pos:end="21:10"><decl pos:start="21:5" pos:end="21:9"><type pos:start="21:5" pos:end="21:7"><name pos:start="21:5" pos:end="21:7">int</name></type> <name pos:start="21:9" pos:end="21:9">i</name></decl>;</decl_stmt>



    <expr_stmt pos:start="25:5" pos:end="25:54"><expr pos:start="25:5" pos:end="25:53"><name pos:start="25:5" pos:end="25:14">frame_addr</name> <operator pos:start="25:16" pos:end="25:16">=</operator> <call pos:start="25:18" pos:end="25:53"><name pos:start="25:18" pos:end="25:29">get_sigframe</name><argument_list pos:start="25:30" pos:end="25:53">(<argument pos:start="25:31" pos:end="25:32"><expr pos:start="25:31" pos:end="25:32"><name pos:start="25:31" pos:end="25:32">ka</name></expr></argument>, <argument pos:start="25:35" pos:end="25:37"><expr pos:start="25:35" pos:end="25:37"><name pos:start="25:35" pos:end="25:37">env</name></expr></argument>, <argument pos:start="25:40" pos:end="25:52"><expr pos:start="25:40" pos:end="25:52"><sizeof pos:start="25:40" pos:end="25:45">sizeof <name/></sizeof>*<name pos:start="25:48" pos:end="25:52">frame</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="27:5" pos:end="29:26"><if pos:start="27:5" pos:end="29:26">if <condition pos:start="27:8" pos:end="27:62">(<expr pos:start="27:9" pos:end="27:61"><operator pos:start="27:9" pos:end="27:9">!</operator><call pos:start="27:10" pos:end="27:61"><name pos:start="27:10" pos:end="27:25">lock_user_struct</name><argument_list pos:start="27:26" pos:end="27:61">(<argument pos:start="27:27" pos:end="27:38"><expr pos:start="27:27" pos:end="27:38"><name pos:start="27:27" pos:end="27:38">VERIFY_WRITE</name></expr></argument>, <argument pos:start="27:41" pos:end="27:45"><expr pos:start="27:41" pos:end="27:45"><name pos:start="27:41" pos:end="27:45">frame</name></expr></argument>, <argument pos:start="27:48" pos:end="27:57"><expr pos:start="27:48" pos:end="27:57"><name pos:start="27:48" pos:end="27:57">frame_addr</name></expr></argument>, <argument pos:start="27:60" pos:end="27:60"><expr pos:start="27:60" pos:end="27:60"><literal type="number" pos:start="27:60" pos:end="27:60">0</literal></expr></argument>)</argument_list></call></expr>)</condition><block type="pseudo" pos:start="29:9" pos:end="29:26"><block_content pos:start="29:9" pos:end="29:26">

	<goto pos:start="29:9" pos:end="29:26">goto <name pos:start="29:14" pos:end="29:25">give_sigsegv</name>;</goto></block_content></block></if></if_stmt>



    <expr_stmt pos:start="33:5" pos:end="33:33"><expr pos:start="33:5" pos:end="33:32"><call pos:start="33:5" pos:end="33:32"><name pos:start="33:5" pos:end="33:14">__put_user</name><argument_list pos:start="33:15" pos:end="33:32">(<argument pos:start="33:16" pos:end="33:18"><expr pos:start="33:16" pos:end="33:18"><name pos:start="33:16" pos:end="33:18">sig</name></expr></argument>, <argument pos:start="33:21" pos:end="33:31"><expr pos:start="33:21" pos:end="33:31"><operator pos:start="33:21" pos:end="33:21">&amp;</operator><name pos:start="33:22" pos:end="33:31"><name pos:start="33:22" pos:end="33:26">frame</name><operator pos:start="33:27" pos:end="33:28">-&gt;</operator><name pos:start="33:29" pos:end="33:31">sig</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="37:5" pos:end="37:71"><expr pos:start="37:5" pos:end="37:70"><name pos:start="37:5" pos:end="37:13">info_addr</name> <operator pos:start="37:15" pos:end="37:15">=</operator> <name pos:start="37:17" pos:end="37:26">frame_addr</name> <operator pos:start="37:28" pos:end="37:28">+</operator> <call pos:start="37:30" pos:end="37:70"><name pos:start="37:30" pos:end="37:37">offsetof</name><argument_list pos:start="37:38" pos:end="37:70">(<argument pos:start="37:39" pos:end="37:63"><expr pos:start="37:39" pos:end="37:63">struct <name pos:start="37:46" pos:end="37:63">target_rt_sigframe</name></expr></argument>, <argument pos:start="37:66" pos:end="37:69"><expr pos:start="37:66" pos:end="37:69"><name pos:start="37:66" pos:end="37:69">info</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="39:5" pos:end="39:41"><expr pos:start="39:5" pos:end="39:40"><call pos:start="39:5" pos:end="39:40"><name pos:start="39:5" pos:end="39:14">__put_user</name><argument_list pos:start="39:15" pos:end="39:40">(<argument pos:start="39:16" pos:end="39:24"><expr pos:start="39:16" pos:end="39:24"><name pos:start="39:16" pos:end="39:24">info_addr</name></expr></argument>, <argument pos:start="39:27" pos:end="39:39"><expr pos:start="39:27" pos:end="39:39"><operator pos:start="39:27" pos:end="39:27">&amp;</operator><name pos:start="39:28" pos:end="39:39"><name pos:start="39:28" pos:end="39:32">frame</name><operator pos:start="39:33" pos:end="39:34">-&gt;</operator><name pos:start="39:35" pos:end="39:39">pinfo</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="43:5" pos:end="43:67"><expr pos:start="43:5" pos:end="43:66"><name pos:start="43:5" pos:end="43:11">uc_addr</name> <operator pos:start="43:13" pos:end="43:13">=</operator> <name pos:start="43:15" pos:end="43:24">frame_addr</name> <operator pos:start="43:26" pos:end="43:26">+</operator> <call pos:start="43:28" pos:end="43:66"><name pos:start="43:28" pos:end="43:35">offsetof</name><argument_list pos:start="43:36" pos:end="43:66">(<argument pos:start="43:37" pos:end="43:61"><expr pos:start="43:37" pos:end="43:61">struct <name pos:start="43:44" pos:end="43:61">target_rt_sigframe</name></expr></argument>, <argument pos:start="43:64" pos:end="43:65"><expr pos:start="43:64" pos:end="43:65"><name pos:start="43:64" pos:end="43:65">uc</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="45:5" pos:end="45:37"><expr pos:start="45:5" pos:end="45:36"><call pos:start="45:5" pos:end="45:36"><name pos:start="45:5" pos:end="45:14">__put_user</name><argument_list pos:start="45:15" pos:end="45:36">(<argument pos:start="45:16" pos:end="45:22"><expr pos:start="45:16" pos:end="45:22"><name pos:start="45:16" pos:end="45:22">uc_addr</name></expr></argument>, <argument pos:start="45:25" pos:end="45:35"><expr pos:start="45:25" pos:end="45:35"><operator pos:start="45:25" pos:end="45:25">&amp;</operator><name pos:start="45:26" pos:end="45:35"><name pos:start="45:26" pos:end="45:30">frame</name><operator pos:start="45:31" pos:end="45:32">-&gt;</operator><name pos:start="45:33" pos:end="45:35">puc</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="49:5" pos:end="49:52"><expr pos:start="49:5" pos:end="49:51"><name pos:start="49:5" pos:end="49:7">err</name> <operator pos:start="49:9" pos:end="49:10">|=</operator> <call pos:start="49:12" pos:end="49:51"><name pos:start="49:12" pos:end="49:31">copy_siginfo_to_user</name><argument_list pos:start="49:32" pos:end="49:51">(<argument pos:start="49:33" pos:end="49:44"><expr pos:start="49:33" pos:end="49:44"><operator pos:start="49:33" pos:end="49:33">&amp;</operator><name pos:start="49:34" pos:end="49:44"><name pos:start="49:34" pos:end="49:38">frame</name><operator pos:start="49:39" pos:end="49:40">-&gt;</operator><name pos:start="49:41" pos:end="49:44">info</name></name></expr></argument>, <argument pos:start="49:47" pos:end="49:50"><expr pos:start="49:47" pos:end="49:50"><name pos:start="49:47" pos:end="49:50">info</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <comment type="block" pos:start="53:5" pos:end="53:29">/* Create the ucontext */</comment>



    <expr_stmt pos:start="57:5" pos:end="57:40"><expr pos:start="57:5" pos:end="57:39"><call pos:start="57:5" pos:end="57:39"><name pos:start="57:5" pos:end="57:14">__put_user</name><argument_list pos:start="57:15" pos:end="57:39">(<argument pos:start="57:16" pos:end="57:16"><expr pos:start="57:16" pos:end="57:16"><literal type="number" pos:start="57:16" pos:end="57:16">0</literal></expr></argument>, <argument pos:start="57:19" pos:end="57:38"><expr pos:start="57:19" pos:end="57:38"><operator pos:start="57:19" pos:end="57:19">&amp;</operator><name pos:start="57:20" pos:end="57:38"><name pos:start="57:20" pos:end="57:24">frame</name><operator pos:start="57:25" pos:end="57:26">-&gt;</operator><name pos:start="57:27" pos:end="57:28">uc</name><operator pos:start="57:29" pos:end="57:29">.</operator><name pos:start="57:30" pos:end="57:38">tuc_flags</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="59:5" pos:end="59:39"><expr pos:start="59:5" pos:end="59:38"><call pos:start="59:5" pos:end="59:38"><name pos:start="59:5" pos:end="59:14">__put_user</name><argument_list pos:start="59:15" pos:end="59:38">(<argument pos:start="59:16" pos:end="59:16"><expr pos:start="59:16" pos:end="59:16"><literal type="number" pos:start="59:16" pos:end="59:16">0</literal></expr></argument>, <argument pos:start="59:19" pos:end="59:37"><expr pos:start="59:19" pos:end="59:37"><operator pos:start="59:19" pos:end="59:19">&amp;</operator><name pos:start="59:20" pos:end="59:37"><name pos:start="59:20" pos:end="59:24">frame</name><operator pos:start="59:25" pos:end="59:26">-&gt;</operator><name pos:start="59:27" pos:end="59:28">uc</name><operator pos:start="59:29" pos:end="59:29">.</operator><name pos:start="59:30" pos:end="59:37">tuc_link</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="61:5" pos:end="63:43"><expr pos:start="61:5" pos:end="63:42"><call pos:start="61:5" pos:end="63:42"><name pos:start="61:5" pos:end="61:14">__put_user</name><argument_list pos:start="61:15" pos:end="63:42">(<argument pos:start="61:16" pos:end="61:44"><expr pos:start="61:16" pos:end="61:44"><name pos:start="61:16" pos:end="61:44"><name pos:start="61:16" pos:end="61:38">target_sigaltstack_used</name><operator pos:start="61:39" pos:end="61:39">.</operator><name pos:start="61:40" pos:end="61:44">ss_sp</name></name></expr></argument>,

               <argument pos:start="63:16" pos:end="63:41"><expr pos:start="63:16" pos:end="63:41"><operator pos:start="63:16" pos:end="63:16">&amp;</operator><name pos:start="63:17" pos:end="63:41"><name pos:start="63:17" pos:end="63:21">frame</name><operator pos:start="63:22" pos:end="63:23">-&gt;</operator><name pos:start="63:24" pos:end="63:25">uc</name><operator pos:start="63:26" pos:end="63:26">.</operator><name pos:start="63:27" pos:end="63:35">tuc_stack</name><operator pos:start="63:36" pos:end="63:36">.</operator><name pos:start="63:37" pos:end="63:41">ss_sp</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="65:5" pos:end="67:46"><expr pos:start="65:5" pos:end="67:45"><call pos:start="65:5" pos:end="67:45"><name pos:start="65:5" pos:end="65:14">__put_user</name><argument_list pos:start="65:15" pos:end="67:45">(<argument pos:start="65:16" pos:end="65:42"><expr pos:start="65:16" pos:end="65:42"><call pos:start="65:16" pos:end="65:42"><name pos:start="65:16" pos:end="65:27">sas_ss_flags</name><argument_list pos:start="65:28" pos:end="65:42">(<argument pos:start="65:29" pos:end="65:41"><expr pos:start="65:29" pos:end="65:41"><name pos:start="65:29" pos:end="65:41"><name pos:start="65:29" pos:end="65:31">env</name><operator pos:start="65:32" pos:end="65:33">-&gt;</operator><name pos:start="65:34" pos:end="65:38">aregs</name><index pos:start="65:39" pos:end="65:41">[<expr pos:start="65:40" pos:end="65:40"><literal type="number" pos:start="65:40" pos:end="65:40">7</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr></argument>,

               <argument pos:start="67:16" pos:end="67:44"><expr pos:start="67:16" pos:end="67:44"><operator pos:start="67:16" pos:end="67:16">&amp;</operator><name pos:start="67:17" pos:end="67:44"><name pos:start="67:17" pos:end="67:21">frame</name><operator pos:start="67:22" pos:end="67:23">-&gt;</operator><name pos:start="67:24" pos:end="67:25">uc</name><operator pos:start="67:26" pos:end="67:26">.</operator><name pos:start="67:27" pos:end="67:35">tuc_stack</name><operator pos:start="67:36" pos:end="67:36">.</operator><name pos:start="67:37" pos:end="67:44">ss_flags</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="69:5" pos:end="71:45"><expr pos:start="69:5" pos:end="71:44"><call pos:start="69:5" pos:end="71:44"><name pos:start="69:5" pos:end="69:14">__put_user</name><argument_list pos:start="69:15" pos:end="71:44">(<argument pos:start="69:16" pos:end="69:46"><expr pos:start="69:16" pos:end="69:46"><name pos:start="69:16" pos:end="69:46"><name pos:start="69:16" pos:end="69:38">target_sigaltstack_used</name><operator pos:start="69:39" pos:end="69:39">.</operator><name pos:start="69:40" pos:end="69:46">ss_size</name></name></expr></argument>,

               <argument pos:start="71:16" pos:end="71:43"><expr pos:start="71:16" pos:end="71:43"><operator pos:start="71:16" pos:end="71:16">&amp;</operator><name pos:start="71:17" pos:end="71:43"><name pos:start="71:17" pos:end="71:21">frame</name><operator pos:start="71:22" pos:end="71:23">-&gt;</operator><name pos:start="71:24" pos:end="71:25">uc</name><operator pos:start="71:26" pos:end="71:26">.</operator><name pos:start="71:27" pos:end="71:35">tuc_stack</name><operator pos:start="71:36" pos:end="71:36">.</operator><name pos:start="71:37" pos:end="71:43">ss_size</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="73:5" pos:end="73:53"><expr pos:start="73:5" pos:end="73:52"><name pos:start="73:5" pos:end="73:7">err</name> <operator pos:start="73:9" pos:end="73:10">|=</operator> <call pos:start="73:12" pos:end="73:52"><name pos:start="73:12" pos:end="73:35">target_rt_setup_ucontext</name><argument_list pos:start="73:36" pos:end="73:52">(<argument pos:start="73:37" pos:end="73:46"><expr pos:start="73:37" pos:end="73:46"><operator pos:start="73:37" pos:end="73:37">&amp;</operator><name pos:start="73:38" pos:end="73:46"><name pos:start="73:38" pos:end="73:42">frame</name><operator pos:start="73:43" pos:end="73:44">-&gt;</operator><name pos:start="73:45" pos:end="73:46">uc</name></name></expr></argument>, <argument pos:start="73:49" pos:end="73:51"><expr pos:start="73:49" pos:end="73:51"><name pos:start="73:49" pos:end="73:51">env</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <if_stmt pos:start="77:5" pos:end="79:30"><if pos:start="77:5" pos:end="79:30">if <condition pos:start="77:8" pos:end="77:12">(<expr pos:start="77:9" pos:end="77:11"><name pos:start="77:9" pos:end="77:11">err</name></expr>)</condition><block type="pseudo" pos:start="79:13" pos:end="79:30"><block_content pos:start="79:13" pos:end="79:30">

            <goto pos:start="79:13" pos:end="79:30">goto <name pos:start="79:18" pos:end="79:29">give_sigsegv</name>;</goto></block_content></block></if></if_stmt>



    <for pos:start="83:5" pos:end="89:5">for<control pos:start="83:8" pos:end="83:42">(<init pos:start="83:9" pos:end="83:14"><expr pos:start="83:9" pos:end="83:13"><name pos:start="83:9" pos:end="83:9">i</name> <operator pos:start="83:11" pos:end="83:11">=</operator> <literal type="number" pos:start="83:13" pos:end="83:13">0</literal></expr>;</init> <condition pos:start="83:16" pos:end="83:37"><expr pos:start="83:16" pos:end="83:36"><name pos:start="83:16" pos:end="83:16">i</name> <operator pos:start="83:18" pos:end="83:18">&lt;</operator> <name pos:start="83:20" pos:end="83:36">TARGET_NSIG_WORDS</name></expr>;</condition> <incr pos:start="83:39" pos:end="83:41"><expr pos:start="83:39" pos:end="83:41"><name pos:start="83:39" pos:end="83:39">i</name><operator pos:start="83:40" pos:end="83:41">++</operator></expr></incr>)</control> <block pos:start="83:44" pos:end="89:5">{<block_content pos:start="85:9" pos:end="87:30">

        <if_stmt pos:start="85:9" pos:end="87:30"><if pos:start="85:9" pos:end="87:30">if <condition pos:start="85:12" pos:end="85:67">(<expr pos:start="85:13" pos:end="85:66"><call pos:start="85:13" pos:end="85:66"><name pos:start="85:13" pos:end="85:22">__put_user</name><argument_list pos:start="85:23" pos:end="85:66">(<argument pos:start="85:24" pos:end="85:34"><expr pos:start="85:24" pos:end="85:34"><name pos:start="85:24" pos:end="85:34"><name pos:start="85:24" pos:end="85:26">set</name><operator pos:start="85:27" pos:end="85:28">-&gt;</operator><name pos:start="85:29" pos:end="85:31">sig</name><index pos:start="85:32" pos:end="85:34">[<expr pos:start="85:33" pos:end="85:33"><name pos:start="85:33" pos:end="85:33">i</name></expr>]</index></name></expr></argument>, <argument pos:start="85:37" pos:end="85:65"><expr pos:start="85:37" pos:end="85:65"><operator pos:start="85:37" pos:end="85:37">&amp;</operator><name pos:start="85:38" pos:end="85:65"><name pos:start="85:38" pos:end="85:42">frame</name><operator pos:start="85:43" pos:end="85:44">-&gt;</operator><name pos:start="85:45" pos:end="85:46">uc</name><operator pos:start="85:47" pos:end="85:47">.</operator><name pos:start="85:48" pos:end="85:58">tuc_sigmask</name><operator pos:start="85:59" pos:end="85:59">.</operator><name pos:start="85:60" pos:end="85:62">sig</name><index pos:start="85:63" pos:end="85:65">[<expr pos:start="85:64" pos:end="85:64"><name pos:start="85:64" pos:end="85:64">i</name></expr>]</index></name></expr></argument>)</argument_list></call></expr>)</condition><block type="pseudo" pos:start="87:13" pos:end="87:30"><block_content pos:start="87:13" pos:end="87:30">

            <goto pos:start="87:13" pos:end="87:30">goto <name pos:start="87:18" pos:end="87:29">give_sigsegv</name>;</goto></block_content></block></if></if_stmt>

    </block_content>}</block></for>



    <comment type="block" pos:start="93:5" pos:end="93:43">/* Set up to return from userspace.  */</comment>



    <expr_stmt pos:start="97:5" pos:end="97:74"><expr pos:start="97:5" pos:end="97:73"><name pos:start="97:5" pos:end="97:16">retcode_addr</name> <operator pos:start="97:18" pos:end="97:18">=</operator> <name pos:start="97:20" pos:end="97:29">frame_addr</name> <operator pos:start="97:31" pos:end="97:31">+</operator> <call pos:start="97:33" pos:end="97:73"><name pos:start="97:33" pos:end="97:40">offsetof</name><argument_list pos:start="97:41" pos:end="97:73">(<argument pos:start="97:42" pos:end="97:63"><expr pos:start="97:42" pos:end="97:63">struct <name pos:start="97:49" pos:end="97:63">target_sigframe</name></expr></argument>, <argument pos:start="97:66" pos:end="97:72"><expr pos:start="97:66" pos:end="97:72"><name pos:start="97:66" pos:end="97:72">retcode</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="99:5" pos:end="99:47"><expr pos:start="99:5" pos:end="99:46"><call pos:start="99:5" pos:end="99:46"><name pos:start="99:5" pos:end="99:14">__put_user</name><argument_list pos:start="99:15" pos:end="99:46">(<argument pos:start="99:16" pos:end="99:27"><expr pos:start="99:16" pos:end="99:27"><name pos:start="99:16" pos:end="99:27">retcode_addr</name></expr></argument>, <argument pos:start="99:30" pos:end="99:45"><expr pos:start="99:30" pos:end="99:45"><operator pos:start="99:30" pos:end="99:30">&amp;</operator><name pos:start="99:31" pos:end="99:45"><name pos:start="99:31" pos:end="99:35">frame</name><operator pos:start="99:36" pos:end="99:37">-&gt;</operator><name pos:start="99:38" pos:end="99:45">pretcode</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <comment type="block" pos:start="103:5" pos:end="103:38">/* moveq #,d0; notb d0; trap #0 */</comment>



    <expr_stmt pos:start="107:5" pos:end="109:45"><expr pos:start="107:5" pos:end="109:44"><call pos:start="107:5" pos:end="109:44"><name pos:start="107:5" pos:end="107:14">__put_user</name><argument_list pos:start="107:15" pos:end="109:44">(<argument pos:start="107:16" pos:end="107:67"><expr pos:start="107:16" pos:end="107:67"><literal type="number" pos:start="107:16" pos:end="107:27">0x70004600</literal> <operator pos:start="107:27" pos:end="107:27">+</operator> <operator pos:start="107:29" pos:end="107:29">(</operator><operator pos:start="107:30" pos:end="107:30">(</operator><name pos:start="107:31" pos:end="107:52">TARGET_NR_rt_sigreturn</name> <operator pos:start="107:54" pos:end="107:54">^</operator> <literal type="number" pos:start="107:56" pos:end="107:59">0xff</literal><operator pos:start="107:60" pos:end="107:60">)</operator> <operator pos:start="107:62" pos:end="107:63">&lt;&lt;</operator> <literal type="number" pos:start="107:65" pos:end="107:66">16</literal><operator pos:start="107:67" pos:end="107:67">)</operator></expr></argument>,

               <argument pos:start="109:16" pos:end="109:43"><expr pos:start="109:16" pos:end="109:43"><operator pos:start="109:16" pos:end="109:16">(</operator><name pos:start="109:17" pos:end="109:20">long</name> <operator pos:start="109:22" pos:end="109:22">*</operator><operator pos:start="109:23" pos:end="109:23">)</operator><operator pos:start="109:24" pos:end="109:24">(</operator><name pos:start="109:25" pos:end="109:38"><name pos:start="109:25" pos:end="109:29">frame</name><operator pos:start="109:30" pos:end="109:31">-&gt;</operator><name pos:start="109:32" pos:end="109:38">retcode</name></name> <operator pos:start="109:40" pos:end="109:40">+</operator> <literal type="number" pos:start="109:42" pos:end="109:42">0</literal><operator pos:start="109:43" pos:end="109:43">)</operator></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="111:5" pos:end="111:54"><expr pos:start="111:5" pos:end="111:53"><call pos:start="111:5" pos:end="111:53"><name pos:start="111:5" pos:end="111:14">__put_user</name><argument_list pos:start="111:15" pos:end="111:53">(<argument pos:start="111:16" pos:end="111:21"><expr pos:start="111:16" pos:end="111:21"><literal type="number" pos:start="111:16" pos:end="111:21">0x4e40</literal></expr></argument>, <argument pos:start="111:24" pos:end="111:52"><expr pos:start="111:24" pos:end="111:52"><operator pos:start="111:24" pos:end="111:24">(</operator><name pos:start="111:25" pos:end="111:29">short</name> <operator pos:start="111:31" pos:end="111:31">*</operator><operator pos:start="111:32" pos:end="111:32">)</operator><operator pos:start="111:33" pos:end="111:33">(</operator><name pos:start="111:34" pos:end="111:47"><name pos:start="111:34" pos:end="111:38">frame</name><operator pos:start="111:39" pos:end="111:40">-&gt;</operator><name pos:start="111:41" pos:end="111:47">retcode</name></name> <operator pos:start="111:49" pos:end="111:49">+</operator> <literal type="number" pos:start="111:51" pos:end="111:51">4</literal><operator pos:start="111:52" pos:end="111:52">)</operator></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <if_stmt pos:start="115:5" pos:end="117:26"><if pos:start="115:5" pos:end="117:26">if <condition pos:start="115:8" pos:end="115:12">(<expr pos:start="115:9" pos:end="115:11"><name pos:start="115:9" pos:end="115:11">err</name></expr>)</condition><block type="pseudo" pos:start="117:9" pos:end="117:26"><block_content pos:start="117:9" pos:end="117:26">

        <goto pos:start="117:9" pos:end="117:26">goto <name pos:start="117:14" pos:end="117:25">give_sigsegv</name>;</goto></block_content></block></if></if_stmt>



    <comment type="block" pos:start="121:5" pos:end="121:41">/* Set up to return from userspace */</comment>



    <expr_stmt pos:start="125:5" pos:end="125:31"><expr pos:start="125:5" pos:end="125:30"><name pos:start="125:5" pos:end="125:17"><name pos:start="125:5" pos:end="125:7">env</name><operator pos:start="125:8" pos:end="125:9">-&gt;</operator><name pos:start="125:10" pos:end="125:14">aregs</name><index pos:start="125:15" pos:end="125:17">[<expr pos:start="125:16" pos:end="125:16"><literal type="number" pos:start="125:16" pos:end="125:16">7</literal></expr>]</index></name> <operator pos:start="125:19" pos:end="125:19">=</operator> <name pos:start="125:21" pos:end="125:30">frame_addr</name></expr>;</expr_stmt>

    <expr_stmt pos:start="127:5" pos:end="127:30"><expr pos:start="127:5" pos:end="127:29"><name pos:start="127:5" pos:end="127:11"><name pos:start="127:5" pos:end="127:7">env</name><operator pos:start="127:8" pos:end="127:9">-&gt;</operator><name pos:start="127:10" pos:end="127:11">pc</name></name> <operator pos:start="127:13" pos:end="127:13">=</operator> <name pos:start="127:15" pos:end="127:29"><name pos:start="127:15" pos:end="127:16">ka</name><operator pos:start="127:17" pos:end="127:18">-&gt;</operator><name pos:start="127:19" pos:end="127:29">_sa_handler</name></name></expr>;</expr_stmt>



    <expr_stmt pos:start="131:5" pos:end="131:45"><expr pos:start="131:5" pos:end="131:44"><call pos:start="131:5" pos:end="131:44"><name pos:start="131:5" pos:end="131:22">unlock_user_struct</name><argument_list pos:start="131:23" pos:end="131:44">(<argument pos:start="131:24" pos:end="131:28"><expr pos:start="131:24" pos:end="131:28"><name pos:start="131:24" pos:end="131:28">frame</name></expr></argument>, <argument pos:start="131:31" pos:end="131:40"><expr pos:start="131:31" pos:end="131:40"><name pos:start="131:31" pos:end="131:40">frame_addr</name></expr></argument>, <argument pos:start="131:43" pos:end="131:43"><expr pos:start="131:43" pos:end="131:43"><literal type="number" pos:start="131:43" pos:end="131:43">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <return pos:start="133:5" pos:end="133:11">return;</return>



<label pos:start="137:1" pos:end="137:13"><name pos:start="137:1" pos:end="137:12">give_sigsegv</name>:</label>

    <expr_stmt pos:start="139:5" pos:end="139:45"><expr pos:start="139:5" pos:end="139:44"><call pos:start="139:5" pos:end="139:44"><name pos:start="139:5" pos:end="139:22">unlock_user_struct</name><argument_list pos:start="139:23" pos:end="139:44">(<argument pos:start="139:24" pos:end="139:28"><expr pos:start="139:24" pos:end="139:28"><name pos:start="139:24" pos:end="139:28">frame</name></expr></argument>, <argument pos:start="139:31" pos:end="139:40"><expr pos:start="139:31" pos:end="139:40"><name pos:start="139:31" pos:end="139:40">frame_addr</name></expr></argument>, <argument pos:start="139:43" pos:end="139:43"><expr pos:start="139:43" pos:end="139:43"><literal type="number" pos:start="139:43" pos:end="139:43">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="141:5" pos:end="141:30"><expr pos:start="141:5" pos:end="141:29"><call pos:start="141:5" pos:end="141:29"><name pos:start="141:5" pos:end="141:13">force_sig</name><argument_list pos:start="141:14" pos:end="141:29">(<argument pos:start="141:15" pos:end="141:28"><expr pos:start="141:15" pos:end="141:28"><name pos:start="141:15" pos:end="141:28">TARGET_SIGSEGV</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

</block_content>}</block></function>
</unit>
