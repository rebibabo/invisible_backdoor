<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:cpp="http://www.srcML.org/srcML/cpp" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/23055.c" pos:tabs="8"><function pos:start="1:1" pos:end="37:1"><type pos:start="1:1" pos:end="1:14"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:14">int64_t</name></type> <name pos:start="1:16" pos:end="1:35">alloc_clusters_noref</name><parameter_list pos:start="1:36" pos:end="1:71">(<parameter pos:start="1:37" pos:end="1:56"><decl pos:start="1:37" pos:end="1:56"><type pos:start="1:37" pos:end="1:56"><name pos:start="1:37" pos:end="1:52">BlockDriverState</name> <modifier pos:start="1:54" pos:end="1:54">*</modifier></type><name pos:start="1:55" pos:end="1:56">bs</name></decl></parameter>, <parameter pos:start="1:59" pos:end="1:70"><decl pos:start="1:59" pos:end="1:70"><type pos:start="1:59" pos:end="1:70"><name pos:start="1:59" pos:end="1:65">int64_t</name></type> <name pos:start="1:67" pos:end="1:70">size</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="37:1">{<block_content pos:start="5:5" pos:end="35:68">

    <decl_stmt pos:start="5:5" pos:end="5:34"><decl pos:start="5:5" pos:end="5:33"><type pos:start="5:5" pos:end="5:19"><name pos:start="5:5" pos:end="5:17">BDRVQcowState</name> <modifier pos:start="5:19" pos:end="5:19">*</modifier></type><name pos:start="5:20" pos:end="5:20">s</name> <init pos:start="5:22" pos:end="5:33">= <expr pos:start="5:24" pos:end="5:33"><name pos:start="5:24" pos:end="5:33"><name pos:start="5:24" pos:end="5:25">bs</name><operator pos:start="5:26" pos:end="5:27">-&gt;</operator><name pos:start="5:28" pos:end="5:33">opaque</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:23"><decl pos:start="7:5" pos:end="7:9"><type pos:start="7:5" pos:end="7:7"><name pos:start="7:5" pos:end="7:7">int</name></type> <name pos:start="7:9" pos:end="7:9">i</name></decl>, <decl pos:start="7:12" pos:end="7:22"><type ref="prev" pos:start="7:5" pos:end="7:7"/><name pos:start="7:12" pos:end="7:22">nb_clusters</name></decl>;</decl_stmt>



    <expr_stmt pos:start="11:5" pos:end="11:44"><expr pos:start="11:5" pos:end="11:43"><name pos:start="11:5" pos:end="11:15">nb_clusters</name> <operator pos:start="11:17" pos:end="11:17">=</operator> <call pos:start="11:19" pos:end="11:43"><name pos:start="11:19" pos:end="11:34">size_to_clusters</name><argument_list pos:start="11:35" pos:end="11:43">(<argument pos:start="11:36" pos:end="11:36"><expr pos:start="11:36" pos:end="11:36"><name pos:start="11:36" pos:end="11:36">s</name></expr></argument>, <argument pos:start="11:39" pos:end="11:42"><expr pos:start="11:39" pos:end="11:42"><name pos:start="11:39" pos:end="11:42">size</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

<label pos:start="13:1" pos:end="13:6"><name pos:start="13:1" pos:end="13:5">retry</name>:</label>

    <for pos:start="15:5" pos:end="26:0">for<control pos:start="15:8" pos:end="15:36">(<init pos:start="15:9" pos:end="15:14"><expr pos:start="15:9" pos:end="15:13"><name pos:start="15:9" pos:end="15:9">i</name> <operator pos:start="15:11" pos:end="15:11">=</operator> <literal type="number" pos:start="15:13" pos:end="15:13">0</literal></expr>;</init> <condition pos:start="15:16" pos:end="15:31"><expr pos:start="15:16" pos:end="15:30"><name pos:start="15:16" pos:end="15:16">i</name> <operator pos:start="15:18" pos:end="15:18">&lt;</operator> <name pos:start="15:20" pos:end="15:30">nb_clusters</name></expr>;</condition> <incr pos:start="15:33" pos:end="15:35"><expr pos:start="15:33" pos:end="15:35"><name pos:start="15:33" pos:end="15:33">i</name><operator pos:start="15:34" pos:end="15:35">++</operator></expr></incr>)</control> <block pos:start="15:38" pos:end="26:0">{<block_content pos:start="17:9" pos:end="21:23">

        <decl_stmt pos:start="17:9" pos:end="17:44"><decl pos:start="17:9" pos:end="17:43"><type pos:start="17:9" pos:end="17:15"><name pos:start="17:9" pos:end="17:15">int64_t</name></type> <name pos:start="17:17" pos:end="17:17">i</name> <init pos:start="17:19" pos:end="17:43">= <expr pos:start="17:21" pos:end="17:43"><name pos:start="17:21" pos:end="17:41"><name pos:start="17:21" pos:end="17:21">s</name><operator pos:start="17:22" pos:end="17:23">-&gt;</operator><name pos:start="17:24" pos:end="17:41">free_cluster_index</name></name><operator pos:start="17:42" pos:end="17:43">++</operator></expr></init></decl>;</decl_stmt>

        <if_stmt pos:start="19:9" pos:end="21:23"><if pos:start="19:9" pos:end="21:23">if <condition pos:start="19:12" pos:end="19:37">(<expr pos:start="19:13" pos:end="19:36"><call pos:start="19:13" pos:end="19:31"><name pos:start="19:13" pos:end="19:24">get_refcount</name><argument_list pos:start="19:25" pos:end="19:31">(<argument pos:start="19:26" pos:end="19:27"><expr pos:start="19:26" pos:end="19:27"><name pos:start="19:26" pos:end="19:27">bs</name></expr></argument>, <argument pos:start="19:30" pos:end="19:30"><expr pos:start="19:30" pos:end="19:30"><name pos:start="19:30" pos:end="19:30">i</name></expr></argument>)</argument_list></call> <operator pos:start="19:33" pos:end="19:34">!=</operator> <literal type="number" pos:start="19:36" pos:end="19:36">0</literal></expr>)</condition><block type="pseudo" pos:start="21:13" pos:end="21:23"><block_content pos:start="21:13" pos:end="21:23">

            <goto pos:start="21:13" pos:end="21:23">goto <name pos:start="21:18" pos:end="21:22">retry</name>;</goto></block_content></block></if></if_stmt>

    </block_content>}</block></for>

<cpp:ifdef pos:start="25:1" pos:end="25:19">#<cpp:directive pos:start="25:2" pos:end="25:6">ifdef</cpp:directive> <name pos:start="25:8" pos:end="25:19">DEBUG_ALLOC2</name></cpp:ifdef>

    <expr_stmt pos:start="27:5" pos:end="34:0"><expr pos:start="27:5" pos:end="31:69"><call pos:start="27:5" pos:end="31:69"><name pos:start="27:5" pos:end="27:10">printf</name><argument_list pos:start="27:11" pos:end="31:69">(<argument pos:start="27:12" pos:end="27:62"><expr pos:start="27:12" pos:end="27:62"><literal type="string" pos:start="27:12" pos:end="27:35">"alloc_clusters: size=%"</literal> <name pos:start="27:37" pos:end="27:42">PRId64</name> <literal type="string" pos:start="27:44" pos:end="27:50">" -&gt; %"</literal> <name pos:start="27:52" pos:end="27:57">PRId64</name> <literal type="string" pos:start="27:59" pos:end="27:62">"\n"</literal></expr></argument>,

            <argument pos:start="29:13" pos:end="29:16"><expr pos:start="29:13" pos:end="29:16"><name pos:start="29:13" pos:end="29:16">size</name></expr></argument>,

            <argument pos:start="31:13" pos:end="31:68"><expr pos:start="31:13" pos:end="31:68"><operator pos:start="31:13" pos:end="31:13">(</operator><name pos:start="31:14" pos:end="31:34"><name pos:start="31:14" pos:end="31:14">s</name><operator pos:start="31:15" pos:end="31:16">-&gt;</operator><name pos:start="31:17" pos:end="31:34">free_cluster_index</name></name> <operator pos:start="31:36" pos:end="31:36">-</operator> <name pos:start="31:38" pos:end="31:48">nb_clusters</name><operator pos:start="31:49" pos:end="31:49">)</operator> <operator pos:start="31:51" pos:end="31:52">&lt;&lt;</operator> <name pos:start="31:54" pos:end="31:68"><name pos:start="31:54" pos:end="31:54">s</name><operator pos:start="31:55" pos:end="31:56">-&gt;</operator><name pos:start="31:57" pos:end="31:68">cluster_bits</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

<cpp:endif pos:start="33:1" pos:end="33:6">#<cpp:directive pos:start="33:2" pos:end="33:6">endif</cpp:directive></cpp:endif>

    <return pos:start="35:5" pos:end="35:68">return <expr pos:start="35:12" pos:end="35:67"><operator pos:start="35:12" pos:end="35:12">(</operator><name pos:start="35:13" pos:end="35:33"><name pos:start="35:13" pos:end="35:13">s</name><operator pos:start="35:14" pos:end="35:15">-&gt;</operator><name pos:start="35:16" pos:end="35:33">free_cluster_index</name></name> <operator pos:start="35:35" pos:end="35:35">-</operator> <name pos:start="35:37" pos:end="35:47">nb_clusters</name><operator pos:start="35:48" pos:end="35:48">)</operator> <operator pos:start="35:50" pos:end="35:51">&lt;&lt;</operator> <name pos:start="35:53" pos:end="35:67"><name pos:start="35:53" pos:end="35:53">s</name><operator pos:start="35:54" pos:end="35:55">-&gt;</operator><name pos:start="35:56" pos:end="35:67">cluster_bits</name></name></expr>;</return>

</block_content>}</block></function>
</unit>
