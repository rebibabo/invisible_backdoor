<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/457.c" pos:tabs="8"><function pos:start="1:1" pos:end="183:1"><type pos:start="1:1" pos:end="1:10"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:10">int</name></type> <name pos:start="1:12" pos:end="1:46">vaapi_encode_h264_init_slice_params</name><parameter_list pos:start="1:47" pos:end="5:71">(<parameter pos:start="1:48" pos:end="1:68"><decl pos:start="1:48" pos:end="1:68"><type pos:start="1:48" pos:end="1:68"><name pos:start="1:48" pos:end="1:61">AVCodecContext</name> <modifier pos:start="1:63" pos:end="1:63">*</modifier></type><name pos:start="1:64" pos:end="1:68">avctx</name></decl></parameter>,

                                               <parameter pos:start="3:48" pos:end="3:70"><decl pos:start="3:48" pos:end="3:70"><type pos:start="3:48" pos:end="3:70"><name pos:start="3:48" pos:end="3:65">VAAPIEncodePicture</name> <modifier pos:start="3:67" pos:end="3:67">*</modifier></type><name pos:start="3:68" pos:end="3:70">pic</name></decl></parameter>,

                                               <parameter pos:start="5:48" pos:end="5:70"><decl pos:start="5:48" pos:end="5:70"><type pos:start="5:48" pos:end="5:70"><name pos:start="5:48" pos:end="5:63">VAAPIEncodeSlice</name> <modifier pos:start="5:65" pos:end="5:65">*</modifier></type><name pos:start="5:66" pos:end="5:70">slice</name></decl></parameter>)</parameter_list>

<block pos:start="7:1" pos:end="183:1">{<block_content pos:start="9:5" pos:end="181:13">

    <decl_stmt pos:start="9:5" pos:end="9:63"><decl pos:start="9:5" pos:end="9:62"><type pos:start="9:5" pos:end="9:40"><name pos:start="9:5" pos:end="9:22">VAAPIEncodeContext</name>                 <modifier pos:start="9:40" pos:end="9:40">*</modifier></type><name pos:start="9:41" pos:end="9:43">ctx</name> <init pos:start="9:45" pos:end="9:62">= <expr pos:start="9:47" pos:end="9:62"><name pos:start="9:47" pos:end="9:62"><name pos:start="9:47" pos:end="9:51">avctx</name><operator pos:start="9:52" pos:end="9:53">-&gt;</operator><name pos:start="9:54" pos:end="9:62">priv_data</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:73"><decl pos:start="11:5" pos:end="11:72"><type pos:start="11:5" pos:end="11:39"><name pos:start="11:5" pos:end="11:36">VAEncSequenceParameterBufferH264</name>  <modifier pos:start="11:39" pos:end="11:39">*</modifier></type><name pos:start="11:40" pos:end="11:43">vseq</name> <init pos:start="11:45" pos:end="11:72">= <expr pos:start="11:47" pos:end="11:72"><name pos:start="11:47" pos:end="11:72"><name pos:start="11:47" pos:end="11:49">ctx</name><operator pos:start="11:50" pos:end="11:51">-&gt;</operator><name pos:start="11:52" pos:end="11:72">codec_sequence_params</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:72"><decl pos:start="13:5" pos:end="13:71"><type pos:start="13:5" pos:end="13:39"><name pos:start="13:5" pos:end="13:35">VAEncPictureParameterBufferH264</name>   <modifier pos:start="13:39" pos:end="13:39">*</modifier></type><name pos:start="13:40" pos:end="13:43">vpic</name> <init pos:start="13:45" pos:end="13:71">= <expr pos:start="13:47" pos:end="13:71"><name pos:start="13:47" pos:end="13:71"><name pos:start="13:47" pos:end="13:49">pic</name><operator pos:start="13:50" pos:end="13:51">-&gt;</operator><name pos:start="13:52" pos:end="13:71">codec_picture_params</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="15:72"><decl pos:start="15:5" pos:end="15:71"><type pos:start="15:5" pos:end="15:37"><name pos:start="15:5" pos:end="15:33">VAEncSliceParameterBufferH264</name>   <modifier pos:start="15:37" pos:end="15:37">*</modifier></type><name pos:start="15:38" pos:end="15:43">vslice</name> <init pos:start="15:45" pos:end="15:71">= <expr pos:start="15:47" pos:end="15:71"><name pos:start="15:47" pos:end="15:71"><name pos:start="15:47" pos:end="15:51">slice</name><operator pos:start="15:52" pos:end="15:53">-&gt;</operator><name pos:start="15:54" pos:end="15:71">codec_slice_params</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="17:5" pos:end="17:61"><decl pos:start="17:5" pos:end="17:60"><type pos:start="17:5" pos:end="17:39"><name pos:start="17:5" pos:end="17:26">VAAPIEncodeH264Context</name>            <modifier pos:start="17:39" pos:end="17:39">*</modifier></type><name pos:start="17:40" pos:end="17:43">priv</name> <init pos:start="17:45" pos:end="17:60">= <expr pos:start="17:47" pos:end="17:60"><name pos:start="17:47" pos:end="17:60"><name pos:start="17:47" pos:end="17:49">ctx</name><operator pos:start="17:50" pos:end="17:51">-&gt;</operator><name pos:start="17:52" pos:end="17:60">priv_data</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="19:5" pos:end="19:44"><decl pos:start="19:5" pos:end="19:43"><type pos:start="19:5" pos:end="19:37"><name pos:start="19:5" pos:end="19:24">VAAPIEncodeH264Slice</name>            <modifier pos:start="19:37" pos:end="19:37">*</modifier></type><name pos:start="19:38" pos:end="19:43">pslice</name></decl>;</decl_stmt>

    <decl_stmt pos:start="21:5" pos:end="21:44"><decl pos:start="21:5" pos:end="21:43"><type pos:start="21:5" pos:end="21:37"><name pos:start="21:5" pos:end="21:34">VAAPIEncodeH264MiscSliceParams</name>  <modifier pos:start="21:37" pos:end="21:37">*</modifier></type><name pos:start="21:38" pos:end="21:43">mslice</name></decl>;</decl_stmt>

    <decl_stmt pos:start="23:5" pos:end="23:10"><decl pos:start="23:5" pos:end="23:9"><type pos:start="23:5" pos:end="23:7"><name pos:start="23:5" pos:end="23:7">int</name></type> <name pos:start="23:9" pos:end="23:9">i</name></decl>;</decl_stmt>



    <expr_stmt pos:start="27:5" pos:end="27:51"><expr pos:start="27:5" pos:end="27:50"><name pos:start="27:5" pos:end="27:20"><name pos:start="27:5" pos:end="27:9">slice</name><operator pos:start="27:10" pos:end="27:11">-&gt;</operator><name pos:start="27:12" pos:end="27:20">priv_data</name></name> <operator pos:start="27:22" pos:end="27:22">=</operator> <call pos:start="27:24" pos:end="27:50"><name pos:start="27:24" pos:end="27:33">av_mallocz</name><argument_list pos:start="27:34" pos:end="27:50">(<argument pos:start="27:35" pos:end="27:49"><expr pos:start="27:35" pos:end="27:49"><sizeof pos:start="27:35" pos:end="27:49">sizeof<argument_list pos:start="27:41" pos:end="27:49">(<argument pos:start="27:42" pos:end="27:48"><expr pos:start="27:42" pos:end="27:48"><operator pos:start="27:42" pos:end="27:42">*</operator><name pos:start="27:43" pos:end="27:48">pslice</name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="29:5" pos:end="31:31"><if pos:start="29:5" pos:end="31:31">if <condition pos:start="29:8" pos:end="29:26">(<expr pos:start="29:9" pos:end="29:25"><operator pos:start="29:9" pos:end="29:9">!</operator><name pos:start="29:10" pos:end="29:25"><name pos:start="29:10" pos:end="29:14">slice</name><operator pos:start="29:15" pos:end="29:16">-&gt;</operator><name pos:start="29:17" pos:end="29:25">priv_data</name></name></expr>)</condition><block type="pseudo" pos:start="31:9" pos:end="31:31"><block_content pos:start="31:9" pos:end="31:31">

        <return pos:start="31:9" pos:end="31:31">return <expr pos:start="31:16" pos:end="31:30"><call pos:start="31:16" pos:end="31:30"><name pos:start="31:16" pos:end="31:22">AVERROR</name><argument_list pos:start="31:23" pos:end="31:30">(<argument pos:start="31:24" pos:end="31:29"><expr pos:start="31:24" pos:end="31:29"><name pos:start="31:24" pos:end="31:29">ENOMEM</name></expr></argument>)</argument_list></call></expr>;</return></block_content></block></if></if_stmt>

    <expr_stmt pos:start="33:5" pos:end="33:30"><expr pos:start="33:5" pos:end="33:29"><name pos:start="33:5" pos:end="33:10">pslice</name> <operator pos:start="33:12" pos:end="33:12">=</operator> <name pos:start="33:14" pos:end="33:29"><name pos:start="33:14" pos:end="33:18">slice</name><operator pos:start="33:19" pos:end="33:20">-&gt;</operator><name pos:start="33:21" pos:end="33:29">priv_data</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="35:5" pos:end="35:40"><expr pos:start="35:5" pos:end="35:39"><name pos:start="35:5" pos:end="35:10">mslice</name> <operator pos:start="35:12" pos:end="35:12">=</operator> <operator pos:start="35:14" pos:end="35:14">&amp;</operator><name pos:start="35:15" pos:end="35:39"><name pos:start="35:15" pos:end="35:20">pslice</name><operator pos:start="35:21" pos:end="35:22">-&gt;</operator><name pos:start="35:23" pos:end="35:39">misc_slice_params</name></name></expr>;</expr_stmt>



    <if_stmt pos:start="39:5" pos:end="45:47"><if pos:start="39:5" pos:end="41:51">if <condition pos:start="39:8" pos:end="39:38">(<expr pos:start="39:9" pos:end="39:37"><name pos:start="39:9" pos:end="39:17"><name pos:start="39:9" pos:end="39:11">pic</name><operator pos:start="39:12" pos:end="39:13">-&gt;</operator><name pos:start="39:14" pos:end="39:17">type</name></name> <operator pos:start="39:19" pos:end="39:20">==</operator> <name pos:start="39:22" pos:end="39:37">PICTURE_TYPE_IDR</name></expr>)</condition><block type="pseudo" pos:start="41:9" pos:end="41:51"><block_content pos:start="41:9" pos:end="41:51">

        <expr_stmt pos:start="41:9" pos:end="41:51"><expr pos:start="41:9" pos:end="41:50"><name pos:start="41:9" pos:end="41:29"><name pos:start="41:9" pos:end="41:14">mslice</name><operator pos:start="41:15" pos:end="41:16">-&gt;</operator><name pos:start="41:17" pos:end="41:29">nal_unit_type</name></name> <operator pos:start="41:31" pos:end="41:31">=</operator> <name pos:start="41:33" pos:end="41:50">H264_NAL_IDR_SLICE</name></expr>;</expr_stmt></block_content></block></if>

    <else pos:start="43:5" pos:end="45:47">else<block type="pseudo" pos:start="45:9" pos:end="45:47"><block_content pos:start="45:9" pos:end="45:47">

        <expr_stmt pos:start="45:9" pos:end="45:47"><expr pos:start="45:9" pos:end="45:46"><name pos:start="45:9" pos:end="45:29"><name pos:start="45:9" pos:end="45:14">mslice</name><operator pos:start="45:15" pos:end="45:16">-&gt;</operator><name pos:start="45:17" pos:end="45:29">nal_unit_type</name></name> <operator pos:start="45:31" pos:end="45:31">=</operator> <name pos:start="45:33" pos:end="45:46">H264_NAL_SLICE</name></expr>;</expr_stmt></block_content></block></else></if_stmt>



    <switch pos:start="49:5" pos:end="87:5">switch <condition pos:start="49:12" pos:end="49:22">(<expr pos:start="49:13" pos:end="49:21"><name pos:start="49:13" pos:end="49:21"><name pos:start="49:13" pos:end="49:15">pic</name><operator pos:start="49:16" pos:end="49:17">-&gt;</operator><name pos:start="49:18" pos:end="49:21">type</name></name></expr>)</condition> <block pos:start="49:24" pos:end="87:5">{<block_content pos:start="51:5" pos:end="85:48">

    <case pos:start="51:5" pos:end="51:26">case <expr pos:start="51:10" pos:end="51:25"><name pos:start="51:10" pos:end="51:25">PICTURE_TYPE_IDR</name></expr>:</case>

        <expr_stmt pos:start="53:9" pos:end="53:43"><expr pos:start="53:9" pos:end="53:42"><name pos:start="53:9" pos:end="53:26"><name pos:start="53:9" pos:end="53:14">vslice</name><operator pos:start="53:15" pos:end="53:16">-&gt;</operator><name pos:start="53:17" pos:end="53:26">slice_type</name></name>  <operator pos:start="53:29" pos:end="53:29">=</operator> <name pos:start="53:31" pos:end="53:42">SLICE_TYPE_I</name></expr>;</expr_stmt>

        <expr_stmt pos:start="55:9" pos:end="55:32"><expr pos:start="55:9" pos:end="55:31"><name pos:start="55:9" pos:end="55:27"><name pos:start="55:9" pos:end="55:14">mslice</name><operator pos:start="55:15" pos:end="55:16">-&gt;</operator><name pos:start="55:17" pos:end="55:27">nal_ref_idc</name></name> <operator pos:start="55:29" pos:end="55:29">=</operator> <literal type="number" pos:start="55:31" pos:end="55:31">3</literal></expr>;</expr_stmt>

        <break pos:start="57:9" pos:end="57:14">break;</break>

    <case pos:start="59:5" pos:end="59:24">case <expr pos:start="59:10" pos:end="59:23"><name pos:start="59:10" pos:end="59:23">PICTURE_TYPE_I</name></expr>:</case>

        <expr_stmt pos:start="61:9" pos:end="61:43"><expr pos:start="61:9" pos:end="61:42"><name pos:start="61:9" pos:end="61:26"><name pos:start="61:9" pos:end="61:14">vslice</name><operator pos:start="61:15" pos:end="61:16">-&gt;</operator><name pos:start="61:17" pos:end="61:26">slice_type</name></name>  <operator pos:start="61:29" pos:end="61:29">=</operator> <name pos:start="61:31" pos:end="61:42">SLICE_TYPE_I</name></expr>;</expr_stmt>

        <expr_stmt pos:start="63:9" pos:end="63:32"><expr pos:start="63:9" pos:end="63:31"><name pos:start="63:9" pos:end="63:27"><name pos:start="63:9" pos:end="63:14">mslice</name><operator pos:start="63:15" pos:end="63:16">-&gt;</operator><name pos:start="63:17" pos:end="63:27">nal_ref_idc</name></name> <operator pos:start="63:29" pos:end="63:29">=</operator> <literal type="number" pos:start="63:31" pos:end="63:31">2</literal></expr>;</expr_stmt>

        <break pos:start="65:9" pos:end="65:14">break;</break>

    <case pos:start="67:5" pos:end="67:24">case <expr pos:start="67:10" pos:end="67:23"><name pos:start="67:10" pos:end="67:23">PICTURE_TYPE_P</name></expr>:</case>

        <expr_stmt pos:start="69:9" pos:end="69:43"><expr pos:start="69:9" pos:end="69:42"><name pos:start="69:9" pos:end="69:26"><name pos:start="69:9" pos:end="69:14">vslice</name><operator pos:start="69:15" pos:end="69:16">-&gt;</operator><name pos:start="69:17" pos:end="69:26">slice_type</name></name>  <operator pos:start="69:29" pos:end="69:29">=</operator> <name pos:start="69:31" pos:end="69:42">SLICE_TYPE_P</name></expr>;</expr_stmt>

        <expr_stmt pos:start="71:9" pos:end="71:32"><expr pos:start="71:9" pos:end="71:31"><name pos:start="71:9" pos:end="71:27"><name pos:start="71:9" pos:end="71:14">mslice</name><operator pos:start="71:15" pos:end="71:16">-&gt;</operator><name pos:start="71:17" pos:end="71:27">nal_ref_idc</name></name> <operator pos:start="71:29" pos:end="71:29">=</operator> <literal type="number" pos:start="71:31" pos:end="71:31">1</literal></expr>;</expr_stmt>

        <break pos:start="73:9" pos:end="73:14">break;</break>

    <case pos:start="75:5" pos:end="75:24">case <expr pos:start="75:10" pos:end="75:23"><name pos:start="75:10" pos:end="75:23">PICTURE_TYPE_B</name></expr>:</case>

        <expr_stmt pos:start="77:9" pos:end="77:43"><expr pos:start="77:9" pos:end="77:42"><name pos:start="77:9" pos:end="77:26"><name pos:start="77:9" pos:end="77:14">vslice</name><operator pos:start="77:15" pos:end="77:16">-&gt;</operator><name pos:start="77:17" pos:end="77:26">slice_type</name></name>  <operator pos:start="77:29" pos:end="77:29">=</operator> <name pos:start="77:31" pos:end="77:42">SLICE_TYPE_B</name></expr>;</expr_stmt>

        <expr_stmt pos:start="79:9" pos:end="79:32"><expr pos:start="79:9" pos:end="79:31"><name pos:start="79:9" pos:end="79:27"><name pos:start="79:9" pos:end="79:14">mslice</name><operator pos:start="79:15" pos:end="79:16">-&gt;</operator><name pos:start="79:17" pos:end="79:27">nal_ref_idc</name></name> <operator pos:start="79:29" pos:end="79:29">=</operator> <literal type="number" pos:start="79:31" pos:end="79:31">0</literal></expr>;</expr_stmt>

        <break pos:start="81:9" pos:end="81:14">break;</break>

    <default pos:start="83:5" pos:end="83:12">default:</default>

        <expr_stmt pos:start="85:9" pos:end="85:48"><expr pos:start="85:9" pos:end="85:47"><call pos:start="85:9" pos:end="85:47"><name pos:start="85:9" pos:end="85:18">av_assert0</name><argument_list pos:start="85:19" pos:end="85:47">(<argument pos:start="85:20" pos:end="85:46"><expr pos:start="85:20" pos:end="85:46"><literal type="number" pos:start="85:20" pos:end="85:20">0</literal> <operator pos:start="85:22" pos:end="85:23">&amp;&amp;</operator> <literal type="string" pos:start="85:25" pos:end="85:46">"invalid picture type"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></switch>



    <comment type="line" pos:start="91:5" pos:end="91:32">// Only one slice per frame.</comment>

    <expr_stmt pos:start="93:5" pos:end="93:35"><expr pos:start="93:5" pos:end="93:34"><name pos:start="93:5" pos:end="93:30"><name pos:start="93:5" pos:end="93:10">vslice</name><operator pos:start="93:11" pos:end="93:12">-&gt;</operator><name pos:start="93:13" pos:end="93:30">macroblock_address</name></name> <operator pos:start="93:32" pos:end="93:32">=</operator> <literal type="number" pos:start="93:34" pos:end="93:34">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="95:5" pos:end="95:63"><expr pos:start="95:5" pos:end="95:62"><name pos:start="95:5" pos:end="95:27"><name pos:start="95:5" pos:end="95:10">vslice</name><operator pos:start="95:11" pos:end="95:12">-&gt;</operator><name pos:start="95:13" pos:end="95:27">num_macroblocks</name></name> <operator pos:start="95:29" pos:end="95:29">=</operator> <name pos:start="95:31" pos:end="95:44"><name pos:start="95:31" pos:end="95:34">priv</name><operator pos:start="95:35" pos:end="95:36">-&gt;</operator><name pos:start="95:37" pos:end="95:44">mb_width</name></name> <operator pos:start="95:46" pos:end="95:46">*</operator> <name pos:start="95:48" pos:end="95:62"><name pos:start="95:48" pos:end="95:51">priv</name><operator pos:start="95:52" pos:end="95:53">-&gt;</operator><name pos:start="95:54" pos:end="95:62">mb_height</name></name></expr>;</expr_stmt>



    <expr_stmt pos:start="99:5" pos:end="99:44"><expr pos:start="99:5" pos:end="99:43"><name pos:start="99:5" pos:end="99:27"><name pos:start="99:5" pos:end="99:10">vslice</name><operator pos:start="99:11" pos:end="99:12">-&gt;</operator><name pos:start="99:13" pos:end="99:27">macroblock_info</name></name> <operator pos:start="99:29" pos:end="99:29">=</operator> <name pos:start="99:31" pos:end="99:43">VA_INVALID_ID</name></expr>;</expr_stmt>



    <expr_stmt pos:start="103:5" pos:end="103:62"><expr pos:start="103:5" pos:end="103:61"><name pos:start="103:5" pos:end="103:32"><name pos:start="103:5" pos:end="103:10">vslice</name><operator pos:start="103:11" pos:end="103:12">-&gt;</operator><name pos:start="103:13" pos:end="103:32">pic_parameter_set_id</name></name> <operator pos:start="103:34" pos:end="103:34">=</operator> <name pos:start="103:36" pos:end="103:61"><name pos:start="103:36" pos:end="103:39">vpic</name><operator pos:start="103:40" pos:end="103:41">-&gt;</operator><name pos:start="103:42" pos:end="103:61">pic_parameter_set_id</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="105:5" pos:end="105:47"><expr pos:start="105:5" pos:end="105:46"><name pos:start="105:5" pos:end="105:22"><name pos:start="105:5" pos:end="105:10">vslice</name><operator pos:start="105:11" pos:end="105:12">-&gt;</operator><name pos:start="105:13" pos:end="105:22">idr_pic_id</name></name> <operator pos:start="105:24" pos:end="105:24">=</operator> <name pos:start="105:26" pos:end="105:44"><name pos:start="105:26" pos:end="105:29">priv</name><operator pos:start="105:30" pos:end="105:31">-&gt;</operator><name pos:start="105:32" pos:end="105:44">idr_pic_count</name></name><operator pos:start="105:45" pos:end="105:46">++</operator></expr>;</expr_stmt>



    <expr_stmt pos:start="109:5" pos:end="111:83"><expr pos:start="109:5" pos:end="111:82"><name pos:start="109:5" pos:end="109:29"><name pos:start="109:5" pos:end="109:10">vslice</name><operator pos:start="109:11" pos:end="109:12">-&gt;</operator><name pos:start="109:13" pos:end="109:29">pic_order_cnt_lsb</name></name> <operator pos:start="109:31" pos:end="109:31">=</operator> <name pos:start="109:33" pos:end="109:50"><name pos:start="109:33" pos:end="109:35">pic</name><operator pos:start="109:36" pos:end="109:37">-&gt;</operator><name pos:start="109:38" pos:end="109:50">display_order</name></name> <operator pos:start="109:52" pos:end="109:52">&amp;</operator>

        <operator pos:start="111:9" pos:end="111:9">(</operator><operator pos:start="111:10" pos:end="111:10">(</operator><literal type="number" pos:start="111:11" pos:end="111:11">1</literal> <operator pos:start="111:13" pos:end="111:14">&lt;&lt;</operator> <operator pos:start="111:16" pos:end="111:16">(</operator><literal type="number" pos:start="111:17" pos:end="111:19">4</literal> <operator pos:start="111:19" pos:end="111:19">+</operator> <name pos:start="111:21" pos:end="111:75"><name pos:start="111:21" pos:end="111:24">vseq</name><operator pos:start="111:25" pos:end="111:26">-&gt;</operator><name pos:start="111:27" pos:end="111:36">seq_fields</name><operator pos:start="111:37" pos:end="111:37">.</operator><name pos:start="111:38" pos:end="111:41">bits</name><operator pos:start="111:42" pos:end="111:42">.</operator><name pos:start="111:43" pos:end="111:75">log2_max_pic_order_cnt_lsb_minus4</name></name><operator pos:start="111:76" pos:end="111:76">)</operator><operator pos:start="111:77" pos:end="111:77">)</operator> <operator pos:start="111:79" pos:end="111:79">-</operator> <literal type="number" pos:start="111:81" pos:end="111:81">1</literal><operator pos:start="111:82" pos:end="111:82">)</operator></expr>;</expr_stmt>



    <for pos:start="115:5" pos:end="125:5">for <control pos:start="115:9" pos:end="115:61">(<init pos:start="115:10" pos:end="115:15"><expr pos:start="115:10" pos:end="115:14"><name pos:start="115:10" pos:end="115:10">i</name> <operator pos:start="115:12" pos:end="115:12">=</operator> <literal type="number" pos:start="115:14" pos:end="115:14">0</literal></expr>;</init> <condition pos:start="115:17" pos:end="115:56"><expr pos:start="115:17" pos:end="115:55"><name pos:start="115:17" pos:end="115:17">i</name> <operator pos:start="115:19" pos:end="115:19">&lt;</operator> <call pos:start="115:21" pos:end="115:55"><name pos:start="115:21" pos:end="115:34">FF_ARRAY_ELEMS</name><argument_list pos:start="115:35" pos:end="115:55">(<argument pos:start="115:36" pos:end="115:54"><expr pos:start="115:36" pos:end="115:54"><name pos:start="115:36" pos:end="115:54"><name pos:start="115:36" pos:end="115:41">vslice</name><operator pos:start="115:42" pos:end="115:43">-&gt;</operator><name pos:start="115:44" pos:end="115:54">RefPicList0</name></name></expr></argument>)</argument_list></call></expr>;</condition> <incr pos:start="115:58" pos:end="115:60"><expr pos:start="115:58" pos:end="115:60"><name pos:start="115:58" pos:end="115:58">i</name><operator pos:start="115:59" pos:end="115:60">++</operator></expr></incr>)</control> <block pos:start="115:63" pos:end="125:5">{<block_content pos:start="117:9" pos:end="123:68">

        <expr_stmt pos:start="117:9" pos:end="117:58"><expr pos:start="117:9" pos:end="117:57"><name pos:start="117:9" pos:end="117:30"><name pos:start="117:9" pos:end="117:14">vslice</name><operator pos:start="117:15" pos:end="117:16">-&gt;</operator><name pos:start="117:17" pos:end="117:27">RefPicList0</name><index pos:start="117:28" pos:end="117:30">[<expr pos:start="117:29" pos:end="117:29"><name pos:start="117:29" pos:end="117:29">i</name></expr>]</index></name><operator pos:start="117:31" pos:end="117:31">.</operator><name pos:start="117:32" pos:end="117:41">picture_id</name> <operator pos:start="117:43" pos:end="117:43">=</operator> <name pos:start="117:45" pos:end="117:57">VA_INVALID_ID</name></expr>;</expr_stmt>

        <expr_stmt pos:start="119:9" pos:end="119:68"><expr pos:start="119:9" pos:end="119:67"><name pos:start="119:9" pos:end="119:30"><name pos:start="119:9" pos:end="119:14">vslice</name><operator pos:start="119:15" pos:end="119:16">-&gt;</operator><name pos:start="119:17" pos:end="119:27">RefPicList0</name><index pos:start="119:28" pos:end="119:30">[<expr pos:start="119:29" pos:end="119:29"><name pos:start="119:29" pos:end="119:29">i</name></expr>]</index></name><operator pos:start="119:31" pos:end="119:31">.</operator><name pos:start="119:32" pos:end="119:36">flags</name>      <operator pos:start="119:43" pos:end="119:43">=</operator> <name pos:start="119:45" pos:end="119:67">VA_PICTURE_H264_INVALID</name></expr>;</expr_stmt>

        <expr_stmt pos:start="121:9" pos:end="121:58"><expr pos:start="121:9" pos:end="121:57"><name pos:start="121:9" pos:end="121:30"><name pos:start="121:9" pos:end="121:14">vslice</name><operator pos:start="121:15" pos:end="121:16">-&gt;</operator><name pos:start="121:17" pos:end="121:27">RefPicList1</name><index pos:start="121:28" pos:end="121:30">[<expr pos:start="121:29" pos:end="121:29"><name pos:start="121:29" pos:end="121:29">i</name></expr>]</index></name><operator pos:start="121:31" pos:end="121:31">.</operator><name pos:start="121:32" pos:end="121:41">picture_id</name> <operator pos:start="121:43" pos:end="121:43">=</operator> <name pos:start="121:45" pos:end="121:57">VA_INVALID_ID</name></expr>;</expr_stmt>

        <expr_stmt pos:start="123:9" pos:end="123:68"><expr pos:start="123:9" pos:end="123:67"><name pos:start="123:9" pos:end="123:30"><name pos:start="123:9" pos:end="123:14">vslice</name><operator pos:start="123:15" pos:end="123:16">-&gt;</operator><name pos:start="123:17" pos:end="123:27">RefPicList1</name><index pos:start="123:28" pos:end="123:30">[<expr pos:start="123:29" pos:end="123:29"><name pos:start="123:29" pos:end="123:29">i</name></expr>]</index></name><operator pos:start="123:31" pos:end="123:31">.</operator><name pos:start="123:32" pos:end="123:36">flags</name>      <operator pos:start="123:43" pos:end="123:43">=</operator> <name pos:start="123:45" pos:end="123:67">VA_PICTURE_H264_INVALID</name></expr>;</expr_stmt>

    </block_content>}</block></for>



    <expr_stmt pos:start="129:5" pos:end="129:34"><expr pos:start="129:5" pos:end="129:33"><call pos:start="129:5" pos:end="129:33"><name pos:start="129:5" pos:end="129:14">av_assert0</name><argument_list pos:start="129:15" pos:end="129:33">(<argument pos:start="129:16" pos:end="129:32"><expr pos:start="129:16" pos:end="129:32"><name pos:start="129:16" pos:end="129:27"><name pos:start="129:16" pos:end="129:18">pic</name><operator pos:start="129:19" pos:end="129:20">-&gt;</operator><name pos:start="129:21" pos:end="129:27">nb_refs</name></name> <operator pos:start="129:29" pos:end="129:30">&lt;=</operator> <literal type="number" pos:start="129:32" pos:end="129:32">2</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="131:5" pos:end="145:5"><if pos:start="131:5" pos:end="145:5">if <condition pos:start="131:8" pos:end="131:26">(<expr pos:start="131:9" pos:end="131:25"><name pos:start="131:9" pos:end="131:20"><name pos:start="131:9" pos:end="131:11">pic</name><operator pos:start="131:12" pos:end="131:13">-&gt;</operator><name pos:start="131:14" pos:end="131:20">nb_refs</name></name> <operator pos:start="131:22" pos:end="131:23">&gt;=</operator> <literal type="number" pos:start="131:25" pos:end="131:25">1</literal></expr>)</condition> <block pos:start="131:28" pos:end="145:5">{<block_content pos:start="135:9" pos:end="143:58">

        <comment type="line" pos:start="133:9" pos:end="133:48">// Backward reference for P- or B-frame.</comment>

        <expr_stmt pos:start="135:9" pos:end="137:48"><expr pos:start="135:9" pos:end="137:47"><call pos:start="135:9" pos:end="137:47"><name pos:start="135:9" pos:end="135:18">av_assert0</name><argument_list pos:start="135:19" pos:end="137:47">(<argument pos:start="135:20" pos:end="137:46"><expr pos:start="135:20" pos:end="137:46"><name pos:start="135:20" pos:end="135:28"><name pos:start="135:20" pos:end="135:22">pic</name><operator pos:start="135:23" pos:end="135:24">-&gt;</operator><name pos:start="135:25" pos:end="135:28">type</name></name> <operator pos:start="135:30" pos:end="135:31">==</operator> <name pos:start="135:33" pos:end="135:46">PICTURE_TYPE_P</name> <operator pos:start="135:48" pos:end="135:49">||</operator>

                   <name pos:start="137:20" pos:end="137:28"><name pos:start="137:20" pos:end="137:22">pic</name><operator pos:start="137:23" pos:end="137:24">-&gt;</operator><name pos:start="137:25" pos:end="137:28">type</name></name> <operator pos:start="137:30" pos:end="137:31">==</operator> <name pos:start="137:33" pos:end="137:46">PICTURE_TYPE_B</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <expr_stmt pos:start="141:9" pos:end="141:49"><expr pos:start="141:9" pos:end="141:48"><name pos:start="141:9" pos:end="141:44"><name pos:start="141:9" pos:end="141:14">vslice</name><operator pos:start="141:15" pos:end="141:16">-&gt;</operator><name pos:start="141:17" pos:end="141:44">num_ref_idx_l0_active_minus1</name></name> <operator pos:start="141:46" pos:end="141:46">=</operator> <literal type="number" pos:start="141:48" pos:end="141:48">0</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="143:9" pos:end="143:58"><expr pos:start="143:9" pos:end="143:57"><name pos:start="143:9" pos:end="143:30"><name pos:start="143:9" pos:end="143:14">vslice</name><operator pos:start="143:15" pos:end="143:16">-&gt;</operator><name pos:start="143:17" pos:end="143:27">RefPicList0</name><index pos:start="143:28" pos:end="143:30">[<expr pos:start="143:29" pos:end="143:29"><literal type="number" pos:start="143:29" pos:end="143:29">0</literal></expr>]</index></name> <operator pos:start="143:32" pos:end="143:32">=</operator> <name pos:start="143:34" pos:end="143:57"><name pos:start="143:34" pos:end="143:37">vpic</name><operator pos:start="143:38" pos:end="143:39">-&gt;</operator><name pos:start="143:40" pos:end="143:54">ReferenceFrames</name><index pos:start="143:55" pos:end="143:57">[<expr pos:start="143:56" pos:end="143:56"><literal type="number" pos:start="143:56" pos:end="143:56">0</literal></expr>]</index></name></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    <if_stmt pos:start="147:5" pos:end="159:5"><if pos:start="147:5" pos:end="159:5">if <condition pos:start="147:8" pos:end="147:26">(<expr pos:start="147:9" pos:end="147:25"><name pos:start="147:9" pos:end="147:20"><name pos:start="147:9" pos:end="147:11">pic</name><operator pos:start="147:12" pos:end="147:13">-&gt;</operator><name pos:start="147:14" pos:end="147:20">nb_refs</name></name> <operator pos:start="147:22" pos:end="147:23">&gt;=</operator> <literal type="number" pos:start="147:25" pos:end="147:25">2</literal></expr>)</condition> <block pos:start="147:28" pos:end="159:5">{<block_content pos:start="151:9" pos:end="157:58">

        <comment type="line" pos:start="149:9" pos:end="149:41">// Forward reference for B-frame.</comment>

        <expr_stmt pos:start="151:9" pos:end="151:48"><expr pos:start="151:9" pos:end="151:47"><call pos:start="151:9" pos:end="151:47"><name pos:start="151:9" pos:end="151:18">av_assert0</name><argument_list pos:start="151:19" pos:end="151:47">(<argument pos:start="151:20" pos:end="151:46"><expr pos:start="151:20" pos:end="151:46"><name pos:start="151:20" pos:end="151:28"><name pos:start="151:20" pos:end="151:22">pic</name><operator pos:start="151:23" pos:end="151:24">-&gt;</operator><name pos:start="151:25" pos:end="151:28">type</name></name> <operator pos:start="151:30" pos:end="151:31">==</operator> <name pos:start="151:33" pos:end="151:46">PICTURE_TYPE_B</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <expr_stmt pos:start="155:9" pos:end="155:49"><expr pos:start="155:9" pos:end="155:48"><name pos:start="155:9" pos:end="155:44"><name pos:start="155:9" pos:end="155:14">vslice</name><operator pos:start="155:15" pos:end="155:16">-&gt;</operator><name pos:start="155:17" pos:end="155:44">num_ref_idx_l1_active_minus1</name></name> <operator pos:start="155:46" pos:end="155:46">=</operator> <literal type="number" pos:start="155:48" pos:end="155:48">0</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="157:9" pos:end="157:58"><expr pos:start="157:9" pos:end="157:57"><name pos:start="157:9" pos:end="157:30"><name pos:start="157:9" pos:end="157:14">vslice</name><operator pos:start="157:15" pos:end="157:16">-&gt;</operator><name pos:start="157:17" pos:end="157:27">RefPicList1</name><index pos:start="157:28" pos:end="157:30">[<expr pos:start="157:29" pos:end="157:29"><literal type="number" pos:start="157:29" pos:end="157:29">0</literal></expr>]</index></name> <operator pos:start="157:32" pos:end="157:32">=</operator> <name pos:start="157:34" pos:end="157:57"><name pos:start="157:34" pos:end="157:37">vpic</name><operator pos:start="157:38" pos:end="157:39">-&gt;</operator><name pos:start="157:40" pos:end="157:54">ReferenceFrames</name><index pos:start="157:55" pos:end="157:57">[<expr pos:start="157:56" pos:end="157:56"><literal type="number" pos:start="157:56" pos:end="157:56">1</literal></expr>]</index></name></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="163:5" pos:end="173:72"><if pos:start="163:5" pos:end="165:70">if <condition pos:start="163:8" pos:end="163:36">(<expr pos:start="163:9" pos:end="163:35"><name pos:start="163:9" pos:end="163:17"><name pos:start="163:9" pos:end="163:11">pic</name><operator pos:start="163:12" pos:end="163:13">-&gt;</operator><name pos:start="163:14" pos:end="163:17">type</name></name> <operator pos:start="163:19" pos:end="163:20">==</operator> <name pos:start="163:22" pos:end="163:35">PICTURE_TYPE_B</name></expr>)</condition><block type="pseudo" pos:start="165:9" pos:end="165:70"><block_content pos:start="165:9" pos:end="165:70">

        <expr_stmt pos:start="165:9" pos:end="165:70"><expr pos:start="165:9" pos:end="165:69"><name pos:start="165:9" pos:end="165:30"><name pos:start="165:9" pos:end="165:14">vslice</name><operator pos:start="165:15" pos:end="165:16">-&gt;</operator><name pos:start="165:17" pos:end="165:30">slice_qp_delta</name></name> <operator pos:start="165:32" pos:end="165:32">=</operator> <name pos:start="165:34" pos:end="165:49"><name pos:start="165:34" pos:end="165:37">priv</name><operator pos:start="165:38" pos:end="165:39">-&gt;</operator><name pos:start="165:40" pos:end="165:49">fixed_qp_b</name></name> <operator pos:start="165:51" pos:end="165:51">-</operator> <name pos:start="165:53" pos:end="165:69"><name pos:start="165:53" pos:end="165:56">vpic</name><operator pos:start="165:57" pos:end="165:58">-&gt;</operator><name pos:start="165:59" pos:end="165:69">pic_init_qp</name></name></expr>;</expr_stmt></block_content></block></if>

    <if type="elseif" pos:start="167:5" pos:end="169:70">else if <condition pos:start="167:13" pos:end="167:41">(<expr pos:start="167:14" pos:end="167:40"><name pos:start="167:14" pos:end="167:22"><name pos:start="167:14" pos:end="167:16">pic</name><operator pos:start="167:17" pos:end="167:18">-&gt;</operator><name pos:start="167:19" pos:end="167:22">type</name></name> <operator pos:start="167:24" pos:end="167:25">==</operator> <name pos:start="167:27" pos:end="167:40">PICTURE_TYPE_P</name></expr>)</condition><block type="pseudo" pos:start="169:9" pos:end="169:70"><block_content pos:start="169:9" pos:end="169:70">

        <expr_stmt pos:start="169:9" pos:end="169:70"><expr pos:start="169:9" pos:end="169:69"><name pos:start="169:9" pos:end="169:30"><name pos:start="169:9" pos:end="169:14">vslice</name><operator pos:start="169:15" pos:end="169:16">-&gt;</operator><name pos:start="169:17" pos:end="169:30">slice_qp_delta</name></name> <operator pos:start="169:32" pos:end="169:32">=</operator> <name pos:start="169:34" pos:end="169:49"><name pos:start="169:34" pos:end="169:37">priv</name><operator pos:start="169:38" pos:end="169:39">-&gt;</operator><name pos:start="169:40" pos:end="169:49">fixed_qp_p</name></name> <operator pos:start="169:51" pos:end="169:51">-</operator> <name pos:start="169:53" pos:end="169:69"><name pos:start="169:53" pos:end="169:56">vpic</name><operator pos:start="169:57" pos:end="169:58">-&gt;</operator><name pos:start="169:59" pos:end="169:69">pic_init_qp</name></name></expr>;</expr_stmt></block_content></block></if>

    <else pos:start="171:5" pos:end="173:72">else<block type="pseudo" pos:start="173:9" pos:end="173:72"><block_content pos:start="173:9" pos:end="173:72">

        <expr_stmt pos:start="173:9" pos:end="173:72"><expr pos:start="173:9" pos:end="173:71"><name pos:start="173:9" pos:end="173:30"><name pos:start="173:9" pos:end="173:14">vslice</name><operator pos:start="173:15" pos:end="173:16">-&gt;</operator><name pos:start="173:17" pos:end="173:30">slice_qp_delta</name></name> <operator pos:start="173:32" pos:end="173:32">=</operator> <name pos:start="173:34" pos:end="173:51"><name pos:start="173:34" pos:end="173:37">priv</name><operator pos:start="173:38" pos:end="173:39">-&gt;</operator><name pos:start="173:40" pos:end="173:51">fixed_qp_idr</name></name> <operator pos:start="173:53" pos:end="173:53">-</operator> <name pos:start="173:55" pos:end="173:71"><name pos:start="173:55" pos:end="173:58">vpic</name><operator pos:start="173:59" pos:end="173:60">-&gt;</operator><name pos:start="173:61" pos:end="173:71">pic_init_qp</name></name></expr>;</expr_stmt></block_content></block></else></if_stmt>



    <expr_stmt pos:start="177:5" pos:end="177:44"><expr pos:start="177:5" pos:end="177:43"><name pos:start="177:5" pos:end="177:39"><name pos:start="177:5" pos:end="177:10">vslice</name><operator pos:start="177:11" pos:end="177:12">-&gt;</operator><name pos:start="177:13" pos:end="177:39">direct_spatial_mv_pred_flag</name></name> <operator pos:start="177:41" pos:end="177:41">=</operator> <literal type="number" pos:start="177:43" pos:end="177:43">1</literal></expr>;</expr_stmt>



    <return pos:start="181:5" pos:end="181:13">return <expr pos:start="181:12" pos:end="181:12"><literal type="number" pos:start="181:12" pos:end="181:12">0</literal></expr>;</return>

</block_content>}</block></function>
</unit>
