<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:cpp="http://www.srcML.org/srcML/cpp" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/20976.c" pos:tabs="8"><function pos:start="1:1" pos:end="1321:1"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:26">encode_picture</name><parameter_list pos:start="1:27" pos:end="1:65">(<parameter pos:start="1:28" pos:end="1:44"><decl pos:start="1:28" pos:end="1:44"><type pos:start="1:28" pos:end="1:44"><name pos:start="1:28" pos:end="1:41">MpegEncContext</name> <modifier pos:start="1:43" pos:end="1:43">*</modifier></type><name pos:start="1:44" pos:end="1:44">s</name></decl></parameter>, <parameter pos:start="1:47" pos:end="1:64"><decl pos:start="1:47" pos:end="1:64"><type pos:start="1:47" pos:end="1:64"><name pos:start="1:47" pos:end="1:49">int</name></type> <name pos:start="1:51" pos:end="1:64">picture_number</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="1321:1">{<block_content pos:start="5:5" pos:end="1319:5">

    <decl_stmt pos:start="5:5" pos:end="5:29"><decl pos:start="5:5" pos:end="5:12"><type pos:start="5:5" pos:end="5:7"><name pos:start="5:5" pos:end="5:7">int</name></type> <name pos:start="5:9" pos:end="5:12">mb_x</name></decl>, <decl pos:start="5:15" pos:end="5:18"><type ref="prev" pos:start="5:5" pos:end="5:7"/><name pos:start="5:15" pos:end="5:18">mb_y</name></decl>, <decl pos:start="5:21" pos:end="5:28"><type ref="prev" pos:start="5:5" pos:end="5:7"/><name pos:start="5:21" pos:end="5:24">pdif</name> <init pos:start="5:26" pos:end="5:28">= <expr pos:start="5:28" pos:end="5:28"><literal type="number" pos:start="5:28" pos:end="5:28">0</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:10"><decl pos:start="7:5" pos:end="7:9"><type pos:start="7:5" pos:end="7:7"><name pos:start="7:5" pos:end="7:7">int</name></type> <name pos:start="7:9" pos:end="7:9">i</name></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:13"><decl pos:start="9:5" pos:end="9:12"><type pos:start="9:5" pos:end="9:7"><name pos:start="9:5" pos:end="9:7">int</name></type> <name pos:start="9:9" pos:end="9:12">bits</name></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:36"><decl pos:start="11:5" pos:end="11:25"><type pos:start="11:5" pos:end="11:18"><name pos:start="11:5" pos:end="11:18">MpegEncContext</name></type> <name pos:start="11:20" pos:end="11:25">best_s</name></decl>, <decl pos:start="11:28" pos:end="11:35"><type ref="prev" pos:start="11:5" pos:end="11:18"/><name pos:start="11:28" pos:end="11:35">backup_s</name></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:29"><decl pos:start="13:5" pos:end="13:28"><type pos:start="13:5" pos:end="13:11"><name pos:start="13:5" pos:end="13:11">uint8_t</name></type> <name pos:start="13:13" pos:end="13:28"><name pos:start="13:13" pos:end="13:19">bit_buf</name><index pos:start="13:20" pos:end="13:22">[<expr pos:start="13:21" pos:end="13:21"><literal type="number" pos:start="13:21" pos:end="13:21">2</literal></expr>]</index><index pos:start="13:23" pos:end="13:28">[<expr pos:start="13:24" pos:end="13:27"><literal type="number" pos:start="13:24" pos:end="13:27">3000</literal></expr>]</index></name></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="15:30"><decl pos:start="15:5" pos:end="15:29"><type pos:start="15:5" pos:end="15:11"><name pos:start="15:5" pos:end="15:11">uint8_t</name></type> <name pos:start="15:13" pos:end="15:29"><name pos:start="15:13" pos:end="15:20">bit_buf2</name><index pos:start="15:21" pos:end="15:23">[<expr pos:start="15:22" pos:end="15:22"><literal type="number" pos:start="15:22" pos:end="15:22">2</literal></expr>]</index><index pos:start="15:24" pos:end="15:29">[<expr pos:start="15:25" pos:end="15:28"><literal type="number" pos:start="15:25" pos:end="15:28">3000</literal></expr>]</index></name></decl>;</decl_stmt>

    <decl_stmt pos:start="17:5" pos:end="17:33"><decl pos:start="17:5" pos:end="17:32"><type pos:start="17:5" pos:end="17:11"><name pos:start="17:5" pos:end="17:11">uint8_t</name></type> <name pos:start="17:13" pos:end="17:32"><name pos:start="17:13" pos:end="17:23">bit_buf_tex</name><index pos:start="17:24" pos:end="17:26">[<expr pos:start="17:25" pos:end="17:25"><literal type="number" pos:start="17:25" pos:end="17:25">2</literal></expr>]</index><index pos:start="17:27" pos:end="17:32">[<expr pos:start="17:28" pos:end="17:31"><literal type="number" pos:start="17:28" pos:end="17:31">3000</literal></expr>]</index></name></decl>;</decl_stmt>

    <decl_stmt pos:start="19:5" pos:end="19:43"><decl pos:start="19:5" pos:end="19:23"><type pos:start="19:5" pos:end="19:17"><name pos:start="19:5" pos:end="19:17">PutBitContext</name></type> <name pos:start="19:19" pos:end="19:23"><name pos:start="19:19" pos:end="19:20">pb</name><index pos:start="19:21" pos:end="19:23">[<expr pos:start="19:22" pos:end="19:22"><literal type="number" pos:start="19:22" pos:end="19:22">2</literal></expr>]</index></name></decl>, <decl pos:start="19:26" pos:end="19:31"><type ref="prev" pos:start="19:5" pos:end="19:17"/><name pos:start="19:26" pos:end="19:31"><name pos:start="19:26" pos:end="19:28">pb2</name><index pos:start="19:29" pos:end="19:31">[<expr pos:start="19:30" pos:end="19:30"><literal type="number" pos:start="19:30" pos:end="19:30">2</literal></expr>]</index></name></decl>, <decl pos:start="19:34" pos:end="19:42"><type ref="prev" pos:start="19:5" pos:end="19:17"/><name pos:start="19:34" pos:end="19:42"><name pos:start="19:34" pos:end="19:39">tex_pb</name><index pos:start="19:40" pos:end="19:42">[<expr pos:start="19:41" pos:end="19:41"><literal type="number" pos:start="19:41" pos:end="19:41">2</literal></expr>]</index></name></decl>;</decl_stmt>



    <for pos:start="23:5" pos:end="31:5">for<control pos:start="23:8" pos:end="23:22">(<init pos:start="23:9" pos:end="23:12"><expr pos:start="23:9" pos:end="23:11"><name pos:start="23:9" pos:end="23:9">i</name><operator pos:start="23:10" pos:end="23:10">=</operator><literal type="number" pos:start="23:11" pos:end="23:11">0</literal></expr>;</init> <condition pos:start="23:14" pos:end="23:17"><expr pos:start="23:14" pos:end="23:16"><name pos:start="23:14" pos:end="23:14">i</name><operator pos:start="23:15" pos:end="23:15">&lt;</operator><literal type="number" pos:start="23:16" pos:end="23:16">2</literal></expr>;</condition> <incr pos:start="23:19" pos:end="23:21"><expr pos:start="23:19" pos:end="23:21"><name pos:start="23:19" pos:end="23:19">i</name><operator pos:start="23:20" pos:end="23:21">++</operator></expr></incr>)</control><block pos:start="23:23" pos:end="31:5">{<block_content pos:start="25:9" pos:end="29:68">

        <expr_stmt pos:start="25:9" pos:end="25:68"><expr pos:start="25:9" pos:end="25:67"><call pos:start="25:9" pos:end="25:67"><name pos:start="25:9" pos:end="25:21">init_put_bits</name><argument_list pos:start="25:22" pos:end="25:67">(<argument pos:start="25:23" pos:end="25:32"><expr pos:start="25:23" pos:end="25:32"><operator pos:start="25:23" pos:end="25:23">&amp;</operator><name pos:start="25:24" pos:end="25:32"><name pos:start="25:24" pos:end="25:25">pb</name>    <index pos:start="25:30" pos:end="25:32">[<expr pos:start="25:31" pos:end="25:31"><name pos:start="25:31" pos:end="25:31">i</name></expr>]</index></name></expr></argument>, <argument pos:start="25:35" pos:end="25:48"><expr pos:start="25:35" pos:end="25:48"><name pos:start="25:35" pos:end="25:48"><name pos:start="25:35" pos:end="25:41">bit_buf</name>    <index pos:start="25:46" pos:end="25:48">[<expr pos:start="25:47" pos:end="25:47"><name pos:start="25:47" pos:end="25:47">i</name></expr>]</index></name></expr></argument>, <argument pos:start="25:51" pos:end="25:54"><expr pos:start="25:51" pos:end="25:54"><literal type="number" pos:start="25:51" pos:end="25:54">3000</literal></expr></argument>, <argument pos:start="25:57" pos:end="25:60"><expr pos:start="25:57" pos:end="25:60"><name pos:start="25:57" pos:end="25:60">NULL</name></expr></argument>, <argument pos:start="25:63" pos:end="25:66"><expr pos:start="25:63" pos:end="25:66"><name pos:start="25:63" pos:end="25:66">NULL</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="27:9" pos:end="27:68"><expr pos:start="27:9" pos:end="27:67"><call pos:start="27:9" pos:end="27:67"><name pos:start="27:9" pos:end="27:21">init_put_bits</name><argument_list pos:start="27:22" pos:end="27:67">(<argument pos:start="27:23" pos:end="27:32"><expr pos:start="27:23" pos:end="27:32"><operator pos:start="27:23" pos:end="27:23">&amp;</operator><name pos:start="27:24" pos:end="27:32"><name pos:start="27:24" pos:end="27:26">pb2</name>   <index pos:start="27:30" pos:end="27:32">[<expr pos:start="27:31" pos:end="27:31"><name pos:start="27:31" pos:end="27:31">i</name></expr>]</index></name></expr></argument>, <argument pos:start="27:35" pos:end="27:48"><expr pos:start="27:35" pos:end="27:48"><name pos:start="27:35" pos:end="27:48"><name pos:start="27:35" pos:end="27:42">bit_buf2</name>   <index pos:start="27:46" pos:end="27:48">[<expr pos:start="27:47" pos:end="27:47"><name pos:start="27:47" pos:end="27:47">i</name></expr>]</index></name></expr></argument>, <argument pos:start="27:51" pos:end="27:54"><expr pos:start="27:51" pos:end="27:54"><literal type="number" pos:start="27:51" pos:end="27:54">3000</literal></expr></argument>, <argument pos:start="27:57" pos:end="27:60"><expr pos:start="27:57" pos:end="27:60"><name pos:start="27:57" pos:end="27:60">NULL</name></expr></argument>, <argument pos:start="27:63" pos:end="27:66"><expr pos:start="27:63" pos:end="27:66"><name pos:start="27:63" pos:end="27:66">NULL</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="29:9" pos:end="29:68"><expr pos:start="29:9" pos:end="29:67"><call pos:start="29:9" pos:end="29:67"><name pos:start="29:9" pos:end="29:21">init_put_bits</name><argument_list pos:start="29:22" pos:end="29:67">(<argument pos:start="29:23" pos:end="29:32"><expr pos:start="29:23" pos:end="29:32"><operator pos:start="29:23" pos:end="29:23">&amp;</operator><name pos:start="29:24" pos:end="29:32"><name pos:start="29:24" pos:end="29:29">tex_pb</name><index pos:start="29:30" pos:end="29:32">[<expr pos:start="29:31" pos:end="29:31"><name pos:start="29:31" pos:end="29:31">i</name></expr>]</index></name></expr></argument>, <argument pos:start="29:35" pos:end="29:48"><expr pos:start="29:35" pos:end="29:48"><name pos:start="29:35" pos:end="29:48"><name pos:start="29:35" pos:end="29:45">bit_buf_tex</name><index pos:start="29:46" pos:end="29:48">[<expr pos:start="29:47" pos:end="29:47"><name pos:start="29:47" pos:end="29:47">i</name></expr>]</index></name></expr></argument>, <argument pos:start="29:51" pos:end="29:54"><expr pos:start="29:51" pos:end="29:54"><literal type="number" pos:start="29:51" pos:end="29:54">3000</literal></expr></argument>, <argument pos:start="29:57" pos:end="29:60"><expr pos:start="29:57" pos:end="29:60"><name pos:start="29:57" pos:end="29:60">NULL</name></expr></argument>, <argument pos:start="29:63" pos:end="29:66"><expr pos:start="29:63" pos:end="29:66"><name pos:start="29:63" pos:end="29:66">NULL</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></for>



    <expr_stmt pos:start="35:5" pos:end="35:39"><expr pos:start="35:5" pos:end="35:38"><name pos:start="35:5" pos:end="35:21"><name pos:start="35:5" pos:end="35:5">s</name><operator pos:start="35:6" pos:end="35:7">-&gt;</operator><name pos:start="35:8" pos:end="35:21">picture_number</name></name> <operator pos:start="35:23" pos:end="35:23">=</operator> <name pos:start="35:25" pos:end="35:38">picture_number</name></expr>;</expr_stmt>



    <expr_stmt pos:start="39:5" pos:end="45:40"><expr pos:start="39:5" pos:end="45:39"><name pos:start="39:5" pos:end="39:20"><name pos:start="39:5" pos:end="39:5">s</name><operator pos:start="39:6" pos:end="39:7">-&gt;</operator><name pos:start="39:8" pos:end="39:17">block_wrap</name><index pos:start="39:18" pos:end="39:20">[<expr pos:start="39:19" pos:end="39:19"><literal type="number" pos:start="39:19" pos:end="39:19">0</literal></expr>]</index></name><operator pos:start="39:21" pos:end="39:21">=</operator>

    <name pos:start="41:5" pos:end="41:20"><name pos:start="41:5" pos:end="41:5">s</name><operator pos:start="41:6" pos:end="41:7">-&gt;</operator><name pos:start="41:8" pos:end="41:17">block_wrap</name><index pos:start="41:18" pos:end="41:20">[<expr pos:start="41:19" pos:end="41:19"><literal type="number" pos:start="41:19" pos:end="41:19">1</literal></expr>]</index></name><operator pos:start="41:21" pos:end="41:21">=</operator>

    <name pos:start="43:5" pos:end="43:20"><name pos:start="43:5" pos:end="43:5">s</name><operator pos:start="43:6" pos:end="43:7">-&gt;</operator><name pos:start="43:8" pos:end="43:17">block_wrap</name><index pos:start="43:18" pos:end="43:20">[<expr pos:start="43:19" pos:end="43:19"><literal type="number" pos:start="43:19" pos:end="43:19">2</literal></expr>]</index></name><operator pos:start="43:21" pos:end="43:21">=</operator>

    <name pos:start="45:5" pos:end="45:20"><name pos:start="45:5" pos:end="45:5">s</name><operator pos:start="45:6" pos:end="45:7">-&gt;</operator><name pos:start="45:8" pos:end="45:17">block_wrap</name><index pos:start="45:18" pos:end="45:20">[<expr pos:start="45:19" pos:end="45:19"><literal type="number" pos:start="45:19" pos:end="45:19">3</literal></expr>]</index></name><operator pos:start="45:21" pos:end="45:21">=</operator> <name pos:start="45:23" pos:end="45:33"><name pos:start="45:23" pos:end="45:23">s</name><operator pos:start="45:24" pos:end="45:25">-&gt;</operator><name pos:start="45:26" pos:end="45:33">mb_width</name></name><operator pos:start="45:34" pos:end="45:34">*</operator><literal type="number" pos:start="45:35" pos:end="45:37">2</literal> <operator pos:start="45:37" pos:end="45:37">+</operator> <literal type="number" pos:start="45:39" pos:end="45:39">2</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="47:5" pos:end="49:38"><expr pos:start="47:5" pos:end="49:37"><name pos:start="47:5" pos:end="47:20"><name pos:start="47:5" pos:end="47:5">s</name><operator pos:start="47:6" pos:end="47:7">-&gt;</operator><name pos:start="47:8" pos:end="47:17">block_wrap</name><index pos:start="47:18" pos:end="47:20">[<expr pos:start="47:19" pos:end="47:19"><literal type="number" pos:start="47:19" pos:end="47:19">4</literal></expr>]</index></name><operator pos:start="47:21" pos:end="47:21">=</operator>

    <name pos:start="49:5" pos:end="49:20"><name pos:start="49:5" pos:end="49:5">s</name><operator pos:start="49:6" pos:end="49:7">-&gt;</operator><name pos:start="49:8" pos:end="49:17">block_wrap</name><index pos:start="49:18" pos:end="49:20">[<expr pos:start="49:19" pos:end="49:19"><literal type="number" pos:start="49:19" pos:end="49:19">5</literal></expr>]</index></name><operator pos:start="49:21" pos:end="49:21">=</operator> <name pos:start="49:23" pos:end="49:33"><name pos:start="49:23" pos:end="49:23">s</name><operator pos:start="49:24" pos:end="49:25">-&gt;</operator><name pos:start="49:26" pos:end="49:33">mb_width</name></name> <operator pos:start="49:35" pos:end="49:35">+</operator> <literal type="number" pos:start="49:37" pos:end="49:37">2</literal></expr>;</expr_stmt>

    

    <comment type="block" pos:start="53:5" pos:end="53:39">/* Reset the average MB variance */</comment>

    <expr_stmt pos:start="55:5" pos:end="55:38"><expr pos:start="55:5" pos:end="55:37"><name pos:start="55:5" pos:end="55:33"><name pos:start="55:5" pos:end="55:5">s</name><operator pos:start="55:6" pos:end="55:7">-&gt;</operator><name pos:start="55:8" pos:end="55:22">current_picture</name><operator pos:start="55:23" pos:end="55:23">.</operator><name pos:start="55:24" pos:end="55:33">mb_var_sum</name></name> <operator pos:start="55:35" pos:end="55:35">=</operator> <literal type="number" pos:start="55:37" pos:end="55:37">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="57:5" pos:end="62:0"><expr pos:start="57:5" pos:end="57:40"><name pos:start="57:5" pos:end="57:36"><name pos:start="57:5" pos:end="57:5">s</name><operator pos:start="57:6" pos:end="57:7">-&gt;</operator><name pos:start="57:8" pos:end="57:22">current_picture</name><operator pos:start="57:23" pos:end="57:23">.</operator><name pos:start="57:24" pos:end="57:36">mc_mb_var_sum</name></name> <operator pos:start="57:38" pos:end="57:38">=</operator> <literal type="number" pos:start="57:40" pos:end="57:40">0</literal></expr>;</expr_stmt>



<cpp:ifdef pos:start="61:1" pos:end="61:19">#<cpp:directive pos:start="61:2" pos:end="61:6">ifdef</cpp:directive> <name pos:start="61:8" pos:end="61:19">CONFIG_RISKY</name></cpp:ifdef>

    <comment type="block" pos:start="63:5" pos:end="63:76">/* we need to initialize some time vars before we can encode b-frames */</comment>

    <comment type="line" pos:start="65:5" pos:end="65:42">// RAL: Condition added for MPEG1VIDEO</comment>

    <if_stmt pos:start="67:5" pos:end="72:0"><if pos:start="67:5" pos:end="72:0">if <condition pos:start="67:8" pos:end="67:81">(<expr pos:start="67:9" pos:end="67:80"><name pos:start="67:9" pos:end="67:19"><name pos:start="67:9" pos:end="67:9">s</name><operator pos:start="67:10" pos:end="67:11">-&gt;</operator><name pos:start="67:12" pos:end="67:19">codec_id</name></name> <operator pos:start="67:21" pos:end="67:22">==</operator> <name pos:start="67:24" pos:end="67:42">CODEC_ID_MPEG1VIDEO</name> <operator pos:start="67:44" pos:end="67:45">||</operator> <operator pos:start="67:47" pos:end="67:47">(</operator><name pos:start="67:48" pos:end="67:59"><name pos:start="67:48" pos:end="67:48">s</name><operator pos:start="67:49" pos:end="67:50">-&gt;</operator><name pos:start="67:51" pos:end="67:59">h263_pred</name></name> <operator pos:start="67:61" pos:end="67:62">&amp;&amp;</operator> <operator pos:start="67:64" pos:end="67:64">!</operator><name pos:start="67:65" pos:end="67:79"><name pos:start="67:65" pos:end="67:65">s</name><operator pos:start="67:66" pos:end="67:67">-&gt;</operator><name pos:start="67:68" pos:end="67:79">h263_msmpeg4</name></name><operator pos:start="67:80" pos:end="67:80">)</operator></expr>)</condition><block type="pseudo" pos:start="69:9" pos:end="72:0"><block_content pos:start="69:9" pos:end="72:0">

        <expr_stmt pos:start="69:9" pos:end="72:0"><expr pos:start="69:9" pos:end="69:47"><call pos:start="69:9" pos:end="69:47"><name pos:start="69:9" pos:end="69:25">ff_set_mpeg4_time</name><argument_list pos:start="69:26" pos:end="69:47">(<argument pos:start="69:27" pos:end="69:27"><expr pos:start="69:27" pos:end="69:27"><name pos:start="69:27" pos:end="69:27">s</name></expr></argument>, <argument pos:start="69:30" pos:end="69:46"><expr pos:start="69:30" pos:end="69:46"><name pos:start="69:30" pos:end="69:46"><name pos:start="69:30" pos:end="69:30">s</name><operator pos:start="69:31" pos:end="69:32">-&gt;</operator><name pos:start="69:33" pos:end="69:46">picture_number</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt> 

<cpp:endif pos:start="71:1" pos:end="71:6">#<cpp:directive pos:start="71:2" pos:end="71:6">endif</cpp:directive></cpp:endif>

        

    <expr_stmt pos:start="75:5" pos:end="75:28"><expr pos:start="75:5" pos:end="75:27"><name pos:start="75:5" pos:end="75:25"><name pos:start="75:5" pos:end="75:5">s</name><operator pos:start="75:6" pos:end="75:7">-&gt;</operator><name pos:start="75:8" pos:end="75:25">scene_change_score</name></name><operator pos:start="75:26" pos:end="75:26">=</operator><literal type="number" pos:start="75:27" pos:end="75:27">0</literal></expr>;</expr_stmt>

    

    <expr_stmt pos:start="79:5" pos:end="79:44"><expr pos:start="79:5" pos:end="79:43"><name pos:start="79:5" pos:end="79:13"><name pos:start="79:5" pos:end="79:5">s</name><operator pos:start="79:6" pos:end="79:7">-&gt;</operator><name pos:start="79:8" pos:end="79:13">qscale</name></name><operator pos:start="79:14" pos:end="79:14">=</operator> <operator pos:start="79:16" pos:end="79:16">(</operator><name pos:start="79:17" pos:end="79:19">int</name><operator pos:start="79:20" pos:end="79:20">)</operator><operator pos:start="79:21" pos:end="79:21">(</operator><name pos:start="79:22" pos:end="79:36"><name pos:start="79:22" pos:end="79:22">s</name><operator pos:start="79:23" pos:end="79:24">-&gt;</operator><name pos:start="79:25" pos:end="79:36">frame_qscale</name></name> <operator pos:start="79:38" pos:end="79:38">+</operator> <literal type="number" pos:start="79:40" pos:end="79:42">0.5</literal><operator pos:start="79:43" pos:end="79:43">)</operator></expr>;</expr_stmt> <comment type="line" pos:start="79:46" pos:end="79:94">//FIXME qscale / ... stuff for ME ratedistoration</comment>

    

    <if_stmt pos:start="83:5" pos:end="103:5"><if pos:start="83:5" pos:end="93:5">if<condition pos:start="83:7" pos:end="83:26">(<expr pos:start="83:8" pos:end="83:25"><name pos:start="83:8" pos:end="83:25"><name pos:start="83:8" pos:end="83:8">s</name><operator pos:start="83:9" pos:end="83:10">-&gt;</operator><name pos:start="83:11" pos:end="83:25">msmpeg4_version</name></name></expr>)</condition><block pos:start="83:27" pos:end="93:5">{<block_content pos:start="85:9" pos:end="91:32">

        <if_stmt pos:start="85:9" pos:end="91:32"><if pos:start="85:9" pos:end="87:29">if<condition pos:start="85:11" pos:end="85:32">(<expr pos:start="85:12" pos:end="85:31"><name pos:start="85:12" pos:end="85:23"><name pos:start="85:12" pos:end="85:12">s</name><operator pos:start="85:13" pos:end="85:14">-&gt;</operator><name pos:start="85:15" pos:end="85:23">pict_type</name></name><operator pos:start="85:24" pos:end="85:25">==</operator><name pos:start="85:26" pos:end="85:31">I_TYPE</name></expr>)</condition><block type="pseudo" pos:start="87:13" pos:end="87:29"><block_content pos:start="87:13" pos:end="87:29">

            <expr_stmt pos:start="87:13" pos:end="87:29"><expr pos:start="87:13" pos:end="87:28"><name pos:start="87:13" pos:end="87:26"><name pos:start="87:13" pos:end="87:13">s</name><operator pos:start="87:14" pos:end="87:15">-&gt;</operator><name pos:start="87:16" pos:end="87:26">no_rounding</name></name><operator pos:start="87:27" pos:end="87:27">=</operator><literal type="number" pos:start="87:28" pos:end="87:28">1</literal></expr>;</expr_stmt></block_content></block></if>

        <if type="elseif" pos:start="89:9" pos:end="91:32">else if<condition pos:start="89:16" pos:end="89:37">(<expr pos:start="89:17" pos:end="89:36"><name pos:start="89:17" pos:end="89:36"><name pos:start="89:17" pos:end="89:17">s</name><operator pos:start="89:18" pos:end="89:19">-&gt;</operator><name pos:start="89:20" pos:end="89:36">flipflop_rounding</name></name></expr>)</condition><block type="pseudo" pos:start="91:13" pos:end="91:32"><block_content pos:start="91:13" pos:end="91:32">

            <expr_stmt pos:start="91:13" pos:end="91:32"><expr pos:start="91:13" pos:end="91:31"><name pos:start="91:13" pos:end="91:26"><name pos:start="91:13" pos:end="91:13">s</name><operator pos:start="91:14" pos:end="91:15">-&gt;</operator><name pos:start="91:16" pos:end="91:26">no_rounding</name></name> <operator pos:start="91:28" pos:end="91:29">^=</operator> <literal type="number" pos:start="91:31" pos:end="91:31">1</literal></expr>;</expr_stmt></block_content></block></if></if_stmt>          

    </block_content>}</block></if><if type="elseif" pos:start="93:6" pos:end="103:5">else if<condition pos:start="93:13" pos:end="93:39">(<expr pos:start="93:14" pos:end="93:38"><name pos:start="93:14" pos:end="93:26"><name pos:start="93:14" pos:end="93:14">s</name><operator pos:start="93:15" pos:end="93:16">-&gt;</operator><name pos:start="93:17" pos:end="93:26">out_format</name></name> <operator pos:start="93:28" pos:end="93:29">==</operator> <name pos:start="93:31" pos:end="93:38">FMT_H263</name></expr>)</condition><block pos:start="93:40" pos:end="103:5">{<block_content pos:start="95:9" pos:end="101:32">

        <if_stmt pos:start="95:9" pos:end="101:32"><if pos:start="95:9" pos:end="97:29">if<condition pos:start="95:11" pos:end="95:32">(<expr pos:start="95:12" pos:end="95:31"><name pos:start="95:12" pos:end="95:23"><name pos:start="95:12" pos:end="95:12">s</name><operator pos:start="95:13" pos:end="95:14">-&gt;</operator><name pos:start="95:15" pos:end="95:23">pict_type</name></name><operator pos:start="95:24" pos:end="95:25">==</operator><name pos:start="95:26" pos:end="95:31">I_TYPE</name></expr>)</condition><block type="pseudo" pos:start="97:13" pos:end="97:29"><block_content pos:start="97:13" pos:end="97:29">

            <expr_stmt pos:start="97:13" pos:end="97:29"><expr pos:start="97:13" pos:end="97:28"><name pos:start="97:13" pos:end="97:26"><name pos:start="97:13" pos:end="97:13">s</name><operator pos:start="97:14" pos:end="97:15">-&gt;</operator><name pos:start="97:16" pos:end="97:26">no_rounding</name></name><operator pos:start="97:27" pos:end="97:27">=</operator><literal type="number" pos:start="97:28" pos:end="97:28">0</literal></expr>;</expr_stmt></block_content></block></if>

        <if type="elseif" pos:start="99:9" pos:end="101:32">else if<condition pos:start="99:16" pos:end="99:37">(<expr pos:start="99:17" pos:end="99:36"><name pos:start="99:17" pos:end="99:28"><name pos:start="99:17" pos:end="99:17">s</name><operator pos:start="99:18" pos:end="99:19">-&gt;</operator><name pos:start="99:20" pos:end="99:28">pict_type</name></name><operator pos:start="99:29" pos:end="99:30">!=</operator><name pos:start="99:31" pos:end="99:36">B_TYPE</name></expr>)</condition><block type="pseudo" pos:start="101:13" pos:end="101:32"><block_content pos:start="101:13" pos:end="101:32">

            <expr_stmt pos:start="101:13" pos:end="101:32"><expr pos:start="101:13" pos:end="101:31"><name pos:start="101:13" pos:end="101:26"><name pos:start="101:13" pos:end="101:13">s</name><operator pos:start="101:14" pos:end="101:15">-&gt;</operator><name pos:start="101:16" pos:end="101:26">no_rounding</name></name> <operator pos:start="101:28" pos:end="101:29">^=</operator> <literal type="number" pos:start="101:31" pos:end="101:31">1</literal></expr>;</expr_stmt></block_content></block></if></if_stmt>          

    </block_content>}</block></if></if_stmt>

    <comment type="block" pos:start="105:5" pos:end="105:38">/* Estimate motion for every MB */</comment>

    <expr_stmt pos:start="107:5" pos:end="107:18"><expr pos:start="107:5" pos:end="107:17"><name pos:start="107:5" pos:end="107:15"><name pos:start="107:5" pos:end="107:5">s</name><operator pos:start="107:6" pos:end="107:7">-&gt;</operator><name pos:start="107:8" pos:end="107:15">mb_intra</name></name><operator pos:start="107:16" pos:end="107:16">=</operator><literal type="number" pos:start="107:17" pos:end="107:17">0</literal></expr>;</expr_stmt> <comment type="line" pos:start="107:20" pos:end="107:69">//for the rate distoration &amp; bit compare functions</comment>

    <if_stmt pos:start="109:5" pos:end="235:5"><if pos:start="109:5" pos:end="185:5">if<condition pos:start="109:7" pos:end="109:30">(<expr pos:start="109:8" pos:end="109:29"><name pos:start="109:8" pos:end="109:19"><name pos:start="109:8" pos:end="109:8">s</name><operator pos:start="109:9" pos:end="109:10">-&gt;</operator><name pos:start="109:11" pos:end="109:19">pict_type</name></name> <operator pos:start="109:21" pos:end="109:22">!=</operator> <name pos:start="109:24" pos:end="109:29">I_TYPE</name></expr>)</condition><block pos:start="109:31" pos:end="185:5">{<block_content pos:start="111:9" pos:end="183:9">

        <if_stmt pos:start="111:9" pos:end="139:9"><if pos:start="111:9" pos:end="139:9">if<condition pos:start="111:11" pos:end="111:34">(<expr pos:start="111:12" pos:end="111:33"><name pos:start="111:12" pos:end="111:23"><name pos:start="111:12" pos:end="111:12">s</name><operator pos:start="111:13" pos:end="111:14">-&gt;</operator><name pos:start="111:15" pos:end="111:23">pict_type</name></name> <operator pos:start="111:25" pos:end="111:26">!=</operator> <name pos:start="111:28" pos:end="111:33">B_TYPE</name></expr>)</condition><block pos:start="111:35" pos:end="139:9">{<block_content pos:start="113:13" pos:end="137:13">

            <if_stmt pos:start="113:13" pos:end="137:13"><if pos:start="113:13" pos:end="137:13">if<condition pos:start="113:15" pos:end="113:92">(<expr pos:start="113:16" pos:end="113:91"><operator pos:start="113:16" pos:end="113:16">(</operator><name pos:start="113:17" pos:end="113:32"><name pos:start="113:17" pos:end="113:17">s</name><operator pos:start="113:18" pos:end="113:19">-&gt;</operator><name pos:start="113:20" pos:end="113:24">avctx</name><operator pos:start="113:25" pos:end="113:26">-&gt;</operator><name pos:start="113:27" pos:end="113:32">pre_me</name></name> <operator pos:start="113:34" pos:end="113:35">&amp;&amp;</operator> <name pos:start="113:37" pos:end="113:59"><name pos:start="113:37" pos:end="113:37">s</name><operator pos:start="113:38" pos:end="113:39">-&gt;</operator><name pos:start="113:40" pos:end="113:59">last_non_b_pict_type</name></name><operator pos:start="113:60" pos:end="113:61">==</operator><name pos:start="113:62" pos:end="113:67">I_TYPE</name><operator pos:start="113:68" pos:end="113:68">)</operator> <operator pos:start="113:70" pos:end="113:71">||</operator> <name pos:start="113:73" pos:end="113:88"><name pos:start="113:73" pos:end="113:73">s</name><operator pos:start="113:74" pos:end="113:75">-&gt;</operator><name pos:start="113:76" pos:end="113:80">avctx</name><operator pos:start="113:81" pos:end="113:82">-&gt;</operator><name pos:start="113:83" pos:end="113:88">pre_me</name></name><operator pos:start="113:89" pos:end="113:90">==</operator><literal type="number" pos:start="113:91" pos:end="113:91">2</literal></expr>)</condition><block pos:start="113:93" pos:end="137:13">{<block_content pos:start="115:17" pos:end="135:33">

                <expr_stmt pos:start="115:17" pos:end="115:33"><expr pos:start="115:17" pos:end="115:32"><name pos:start="115:17" pos:end="115:30"><name pos:start="115:17" pos:end="115:17">s</name><operator pos:start="115:18" pos:end="115:19">-&gt;</operator><name pos:start="115:20" pos:end="115:21">me</name><operator pos:start="115:22" pos:end="115:22">.</operator><name pos:start="115:23" pos:end="115:30">pre_pass</name></name><operator pos:start="115:31" pos:end="115:31">=</operator><literal type="number" pos:start="115:32" pos:end="115:32">1</literal></expr>;</expr_stmt>

                <expr_stmt pos:start="117:17" pos:end="117:55"><expr pos:start="117:17" pos:end="117:54"><name pos:start="117:17" pos:end="117:30"><name pos:start="117:17" pos:end="117:17">s</name><operator pos:start="117:18" pos:end="117:19">-&gt;</operator><name pos:start="117:20" pos:end="117:21">me</name><operator pos:start="117:22" pos:end="117:22">.</operator><name pos:start="117:23" pos:end="117:30">dia_size</name></name><operator pos:start="117:31" pos:end="117:31">=</operator> <name pos:start="117:33" pos:end="117:54"><name pos:start="117:33" pos:end="117:33">s</name><operator pos:start="117:34" pos:end="117:35">-&gt;</operator><name pos:start="117:36" pos:end="117:40">avctx</name><operator pos:start="117:41" pos:end="117:42">-&gt;</operator><name pos:start="117:43" pos:end="117:54">pre_dia_size</name></name></expr>;</expr_stmt>



                <for pos:start="121:17" pos:end="133:17">for<control pos:start="121:20" pos:end="121:59">(<init pos:start="121:21" pos:end="121:40"><expr pos:start="121:21" pos:end="121:39"><name pos:start="121:21" pos:end="121:24">mb_y</name><operator pos:start="121:25" pos:end="121:25">=</operator><name pos:start="121:26" pos:end="121:37"><name pos:start="121:26" pos:end="121:26">s</name><operator pos:start="121:27" pos:end="121:28">-&gt;</operator><name pos:start="121:29" pos:end="121:37">mb_height</name></name><operator pos:start="121:38" pos:end="121:38">-</operator><literal type="number" pos:start="121:39" pos:end="121:39">1</literal></expr>;</init> <condition pos:start="121:42" pos:end="121:51"><expr pos:start="121:42" pos:end="121:49"><name pos:start="121:42" pos:end="121:45">mb_y</name> <operator pos:start="121:47" pos:end="121:48">&gt;=</operator><literal type="number" pos:start="121:49" pos:end="121:49">0</literal></expr> ;</condition> <incr pos:start="121:53" pos:end="121:58"><expr pos:start="121:53" pos:end="121:58"><name pos:start="121:53" pos:end="121:56">mb_y</name><operator pos:start="121:57" pos:end="121:58">--</operator></expr></incr>)</control> <block pos:start="121:61" pos:end="133:17">{<block_content pos:start="123:21" pos:end="131:21">

                    <for pos:start="123:21" pos:end="131:21">for<control pos:start="123:24" pos:end="123:62">(<init pos:start="123:25" pos:end="123:43"><expr pos:start="123:25" pos:end="123:42"><name pos:start="123:25" pos:end="123:28">mb_x</name><operator pos:start="123:29" pos:end="123:29">=</operator><name pos:start="123:30" pos:end="123:40"><name pos:start="123:30" pos:end="123:30">s</name><operator pos:start="123:31" pos:end="123:32">-&gt;</operator><name pos:start="123:33" pos:end="123:40">mb_width</name></name><operator pos:start="123:41" pos:end="123:41">-</operator><literal type="number" pos:start="123:42" pos:end="123:42">1</literal></expr>;</init> <condition pos:start="123:45" pos:end="123:54"><expr pos:start="123:45" pos:end="123:52"><name pos:start="123:45" pos:end="123:48">mb_x</name> <operator pos:start="123:50" pos:end="123:51">&gt;=</operator><literal type="number" pos:start="123:52" pos:end="123:52">0</literal></expr> ;</condition> <incr pos:start="123:56" pos:end="123:61"><expr pos:start="123:56" pos:end="123:61"><name pos:start="123:56" pos:end="123:59">mb_x</name><operator pos:start="123:60" pos:end="123:61">--</operator></expr></incr>)</control> <block pos:start="123:64" pos:end="131:21">{<block_content pos:start="125:25" pos:end="129:70">

                        <expr_stmt pos:start="125:25" pos:end="125:39"><expr pos:start="125:25" pos:end="125:38"><name pos:start="125:25" pos:end="125:31"><name pos:start="125:25" pos:end="125:25">s</name><operator pos:start="125:26" pos:end="125:27">-&gt;</operator><name pos:start="125:28" pos:end="125:31">mb_x</name></name> <operator pos:start="125:33" pos:end="125:33">=</operator> <name pos:start="125:35" pos:end="125:38">mb_x</name></expr>;</expr_stmt>

                        <expr_stmt pos:start="127:25" pos:end="127:39"><expr pos:start="127:25" pos:end="127:38"><name pos:start="127:25" pos:end="127:31"><name pos:start="127:25" pos:end="127:25">s</name><operator pos:start="127:26" pos:end="127:27">-&gt;</operator><name pos:start="127:28" pos:end="127:31">mb_y</name></name> <operator pos:start="127:33" pos:end="127:33">=</operator> <name pos:start="127:35" pos:end="127:38">mb_y</name></expr>;</expr_stmt>

                        <expr_stmt pos:start="129:25" pos:end="129:70"><expr pos:start="129:25" pos:end="129:69"><call pos:start="129:25" pos:end="129:69"><name pos:start="129:25" pos:end="129:54">ff_pre_estimate_p_frame_motion</name><argument_list pos:start="129:55" pos:end="129:69">(<argument pos:start="129:56" pos:end="129:56"><expr pos:start="129:56" pos:end="129:56"><name pos:start="129:56" pos:end="129:56">s</name></expr></argument>, <argument pos:start="129:59" pos:end="129:62"><expr pos:start="129:59" pos:end="129:62"><name pos:start="129:59" pos:end="129:62">mb_x</name></expr></argument>, <argument pos:start="129:65" pos:end="129:68"><expr pos:start="129:65" pos:end="129:68"><name pos:start="129:65" pos:end="129:68">mb_y</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    </block_content>}</block></for>

                </block_content>}</block></for>

                <expr_stmt pos:start="135:17" pos:end="135:33"><expr pos:start="135:17" pos:end="135:32"><name pos:start="135:17" pos:end="135:30"><name pos:start="135:17" pos:end="135:17">s</name><operator pos:start="135:18" pos:end="135:19">-&gt;</operator><name pos:start="135:20" pos:end="135:21">me</name><operator pos:start="135:22" pos:end="135:22">.</operator><name pos:start="135:23" pos:end="135:30">pre_pass</name></name><operator pos:start="135:31" pos:end="135:31">=</operator><literal type="number" pos:start="135:32" pos:end="135:32">0</literal></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>

        </block_content>}</block></if></if_stmt>



        <expr_stmt pos:start="143:9" pos:end="143:43"><expr pos:start="143:9" pos:end="143:42"><name pos:start="143:9" pos:end="143:22"><name pos:start="143:9" pos:end="143:9">s</name><operator pos:start="143:10" pos:end="143:11">-&gt;</operator><name pos:start="143:12" pos:end="143:13">me</name><operator pos:start="143:14" pos:end="143:14">.</operator><name pos:start="143:15" pos:end="143:22">dia_size</name></name><operator pos:start="143:23" pos:end="143:23">=</operator> <name pos:start="143:25" pos:end="143:42"><name pos:start="143:25" pos:end="143:25">s</name><operator pos:start="143:26" pos:end="143:27">-&gt;</operator><name pos:start="143:28" pos:end="143:32">avctx</name><operator pos:start="143:33" pos:end="143:34">-&gt;</operator><name pos:start="143:35" pos:end="143:42">dia_size</name></name></expr>;</expr_stmt>

        <for pos:start="145:9" pos:end="183:9">for<control pos:start="145:12" pos:end="145:48">(<init pos:start="145:13" pos:end="145:19"><expr pos:start="145:13" pos:end="145:18"><name pos:start="145:13" pos:end="145:16">mb_y</name><operator pos:start="145:17" pos:end="145:17">=</operator><literal type="number" pos:start="145:18" pos:end="145:18">0</literal></expr>;</init> <condition pos:start="145:21" pos:end="145:40"><expr pos:start="145:21" pos:end="145:39"><name pos:start="145:21" pos:end="145:24">mb_y</name> <operator pos:start="145:26" pos:end="145:26">&lt;</operator> <name pos:start="145:28" pos:end="145:39"><name pos:start="145:28" pos:end="145:28">s</name><operator pos:start="145:29" pos:end="145:30">-&gt;</operator><name pos:start="145:31" pos:end="145:39">mb_height</name></name></expr>;</condition> <incr pos:start="145:42" pos:end="145:47"><expr pos:start="145:42" pos:end="145:47"><name pos:start="145:42" pos:end="145:45">mb_y</name><operator pos:start="145:46" pos:end="145:47">++</operator></expr></incr>)</control> <block pos:start="145:50" pos:end="183:9">{<block_content pos:start="147:13" pos:end="181:13">

            <expr_stmt pos:start="147:13" pos:end="147:65"><expr pos:start="147:13" pos:end="147:64"><name pos:start="147:13" pos:end="147:29"><name pos:start="147:13" pos:end="147:13">s</name><operator pos:start="147:14" pos:end="147:15">-&gt;</operator><name pos:start="147:16" pos:end="147:26">block_index</name><index pos:start="147:27" pos:end="147:29">[<expr pos:start="147:28" pos:end="147:28"><literal type="number" pos:start="147:28" pos:end="147:28">0</literal></expr>]</index></name><operator pos:start="147:30" pos:end="147:30">=</operator> <name pos:start="147:32" pos:end="147:47"><name pos:start="147:32" pos:end="147:32">s</name><operator pos:start="147:33" pos:end="147:34">-&gt;</operator><name pos:start="147:35" pos:end="147:44">block_wrap</name><index pos:start="147:45" pos:end="147:47">[<expr pos:start="147:46" pos:end="147:46"><literal type="number" pos:start="147:46" pos:end="147:46">0</literal></expr>]</index></name><operator pos:start="147:48" pos:end="147:48">*</operator><operator pos:start="147:49" pos:end="147:49">(</operator><name pos:start="147:50" pos:end="147:53">mb_y</name><operator pos:start="147:54" pos:end="147:54">*</operator><literal type="number" pos:start="147:55" pos:end="147:57">2</literal> <operator pos:start="147:57" pos:end="147:57">+</operator> <literal type="number" pos:start="147:59" pos:end="147:59">1</literal><operator pos:start="147:60" pos:end="147:60">)</operator> <operator pos:start="147:62" pos:end="147:62">-</operator> <literal type="number" pos:start="147:64" pos:end="147:64">1</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="149:13" pos:end="149:61"><expr pos:start="149:13" pos:end="149:60"><name pos:start="149:13" pos:end="149:29"><name pos:start="149:13" pos:end="149:13">s</name><operator pos:start="149:14" pos:end="149:15">-&gt;</operator><name pos:start="149:16" pos:end="149:26">block_index</name><index pos:start="149:27" pos:end="149:29">[<expr pos:start="149:28" pos:end="149:28"><literal type="number" pos:start="149:28" pos:end="149:28">1</literal></expr>]</index></name><operator pos:start="149:30" pos:end="149:30">=</operator> <name pos:start="149:32" pos:end="149:47"><name pos:start="149:32" pos:end="149:32">s</name><operator pos:start="149:33" pos:end="149:34">-&gt;</operator><name pos:start="149:35" pos:end="149:44">block_wrap</name><index pos:start="149:45" pos:end="149:47">[<expr pos:start="149:46" pos:end="149:46"><literal type="number" pos:start="149:46" pos:end="149:46">0</literal></expr>]</index></name><operator pos:start="149:48" pos:end="149:48">*</operator><operator pos:start="149:49" pos:end="149:49">(</operator><name pos:start="149:50" pos:end="149:53">mb_y</name><operator pos:start="149:54" pos:end="149:54">*</operator><literal type="number" pos:start="149:55" pos:end="149:57">2</literal> <operator pos:start="149:57" pos:end="149:57">+</operator> <literal type="number" pos:start="149:59" pos:end="149:59">1</literal><operator pos:start="149:60" pos:end="149:60">)</operator></expr>;</expr_stmt>

            <expr_stmt pos:start="151:13" pos:end="151:65"><expr pos:start="151:13" pos:end="151:64"><name pos:start="151:13" pos:end="151:29"><name pos:start="151:13" pos:end="151:13">s</name><operator pos:start="151:14" pos:end="151:15">-&gt;</operator><name pos:start="151:16" pos:end="151:26">block_index</name><index pos:start="151:27" pos:end="151:29">[<expr pos:start="151:28" pos:end="151:28"><literal type="number" pos:start="151:28" pos:end="151:28">2</literal></expr>]</index></name><operator pos:start="151:30" pos:end="151:30">=</operator> <name pos:start="151:32" pos:end="151:47"><name pos:start="151:32" pos:end="151:32">s</name><operator pos:start="151:33" pos:end="151:34">-&gt;</operator><name pos:start="151:35" pos:end="151:44">block_wrap</name><index pos:start="151:45" pos:end="151:47">[<expr pos:start="151:46" pos:end="151:46"><literal type="number" pos:start="151:46" pos:end="151:46">0</literal></expr>]</index></name><operator pos:start="151:48" pos:end="151:48">*</operator><operator pos:start="151:49" pos:end="151:49">(</operator><name pos:start="151:50" pos:end="151:53">mb_y</name><operator pos:start="151:54" pos:end="151:54">*</operator><literal type="number" pos:start="151:55" pos:end="151:57">2</literal> <operator pos:start="151:57" pos:end="151:57">+</operator> <literal type="number" pos:start="151:59" pos:end="151:59">2</literal><operator pos:start="151:60" pos:end="151:60">)</operator> <operator pos:start="151:62" pos:end="151:62">-</operator> <literal type="number" pos:start="151:64" pos:end="151:64">1</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="153:13" pos:end="153:61"><expr pos:start="153:13" pos:end="153:60"><name pos:start="153:13" pos:end="153:29"><name pos:start="153:13" pos:end="153:13">s</name><operator pos:start="153:14" pos:end="153:15">-&gt;</operator><name pos:start="153:16" pos:end="153:26">block_index</name><index pos:start="153:27" pos:end="153:29">[<expr pos:start="153:28" pos:end="153:28"><literal type="number" pos:start="153:28" pos:end="153:28">3</literal></expr>]</index></name><operator pos:start="153:30" pos:end="153:30">=</operator> <name pos:start="153:32" pos:end="153:47"><name pos:start="153:32" pos:end="153:32">s</name><operator pos:start="153:33" pos:end="153:34">-&gt;</operator><name pos:start="153:35" pos:end="153:44">block_wrap</name><index pos:start="153:45" pos:end="153:47">[<expr pos:start="153:46" pos:end="153:46"><literal type="number" pos:start="153:46" pos:end="153:46">0</literal></expr>]</index></name><operator pos:start="153:48" pos:end="153:48">*</operator><operator pos:start="153:49" pos:end="153:49">(</operator><name pos:start="153:50" pos:end="153:53">mb_y</name><operator pos:start="153:54" pos:end="153:54">*</operator><literal type="number" pos:start="153:55" pos:end="153:57">2</literal> <operator pos:start="153:57" pos:end="153:57">+</operator> <literal type="number" pos:start="153:59" pos:end="153:59">2</literal><operator pos:start="153:60" pos:end="153:60">)</operator></expr>;</expr_stmt>

            <for pos:start="155:13" pos:end="181:13">for<control pos:start="155:16" pos:end="155:51">(<init pos:start="155:17" pos:end="155:23"><expr pos:start="155:17" pos:end="155:22"><name pos:start="155:17" pos:end="155:20">mb_x</name><operator pos:start="155:21" pos:end="155:21">=</operator><literal type="number" pos:start="155:22" pos:end="155:22">0</literal></expr>;</init> <condition pos:start="155:25" pos:end="155:43"><expr pos:start="155:25" pos:end="155:42"><name pos:start="155:25" pos:end="155:28">mb_x</name> <operator pos:start="155:30" pos:end="155:30">&lt;</operator> <name pos:start="155:32" pos:end="155:42"><name pos:start="155:32" pos:end="155:32">s</name><operator pos:start="155:33" pos:end="155:34">-&gt;</operator><name pos:start="155:35" pos:end="155:42">mb_width</name></name></expr>;</condition> <incr pos:start="155:45" pos:end="155:50"><expr pos:start="155:45" pos:end="155:50"><name pos:start="155:45" pos:end="155:48">mb_x</name><operator pos:start="155:49" pos:end="155:50">++</operator></expr></incr>)</control> <block pos:start="155:53" pos:end="181:13">{<block_content pos:start="157:17" pos:end="179:62">

                <expr_stmt pos:start="157:17" pos:end="157:31"><expr pos:start="157:17" pos:end="157:30"><name pos:start="157:17" pos:end="157:23"><name pos:start="157:17" pos:end="157:17">s</name><operator pos:start="157:18" pos:end="157:19">-&gt;</operator><name pos:start="157:20" pos:end="157:23">mb_x</name></name> <operator pos:start="157:25" pos:end="157:25">=</operator> <name pos:start="157:27" pos:end="157:30">mb_x</name></expr>;</expr_stmt>

                <expr_stmt pos:start="159:17" pos:end="159:31"><expr pos:start="159:17" pos:end="159:30"><name pos:start="159:17" pos:end="159:23"><name pos:start="159:17" pos:end="159:17">s</name><operator pos:start="159:18" pos:end="159:19">-&gt;</operator><name pos:start="159:20" pos:end="159:23">mb_y</name></name> <operator pos:start="159:25" pos:end="159:25">=</operator> <name pos:start="159:27" pos:end="159:30">mb_y</name></expr>;</expr_stmt>

                <expr_stmt pos:start="161:17" pos:end="161:37"><expr pos:start="161:17" pos:end="161:36"><name pos:start="161:17" pos:end="161:33"><name pos:start="161:17" pos:end="161:17">s</name><operator pos:start="161:18" pos:end="161:19">-&gt;</operator><name pos:start="161:20" pos:end="161:30">block_index</name><index pos:start="161:31" pos:end="161:33">[<expr pos:start="161:32" pos:end="161:32"><literal type="number" pos:start="161:32" pos:end="161:32">0</literal></expr>]</index></name><operator pos:start="161:34" pos:end="161:35">+=</operator><literal type="number" pos:start="161:36" pos:end="161:36">2</literal></expr>;</expr_stmt>

                <expr_stmt pos:start="163:17" pos:end="163:37"><expr pos:start="163:17" pos:end="163:36"><name pos:start="163:17" pos:end="163:33"><name pos:start="163:17" pos:end="163:17">s</name><operator pos:start="163:18" pos:end="163:19">-&gt;</operator><name pos:start="163:20" pos:end="163:30">block_index</name><index pos:start="163:31" pos:end="163:33">[<expr pos:start="163:32" pos:end="163:32"><literal type="number" pos:start="163:32" pos:end="163:32">1</literal></expr>]</index></name><operator pos:start="163:34" pos:end="163:35">+=</operator><literal type="number" pos:start="163:36" pos:end="163:36">2</literal></expr>;</expr_stmt>

                <expr_stmt pos:start="165:17" pos:end="165:37"><expr pos:start="165:17" pos:end="165:36"><name pos:start="165:17" pos:end="165:33"><name pos:start="165:17" pos:end="165:17">s</name><operator pos:start="165:18" pos:end="165:19">-&gt;</operator><name pos:start="165:20" pos:end="165:30">block_index</name><index pos:start="165:31" pos:end="165:33">[<expr pos:start="165:32" pos:end="165:32"><literal type="number" pos:start="165:32" pos:end="165:32">2</literal></expr>]</index></name><operator pos:start="165:34" pos:end="165:35">+=</operator><literal type="number" pos:start="165:36" pos:end="165:36">2</literal></expr>;</expr_stmt>

                <expr_stmt pos:start="167:17" pos:end="167:37"><expr pos:start="167:17" pos:end="167:36"><name pos:start="167:17" pos:end="167:33"><name pos:start="167:17" pos:end="167:17">s</name><operator pos:start="167:18" pos:end="167:19">-&gt;</operator><name pos:start="167:20" pos:end="167:30">block_index</name><index pos:start="167:31" pos:end="167:33">[<expr pos:start="167:32" pos:end="167:32"><literal type="number" pos:start="167:32" pos:end="167:32">3</literal></expr>]</index></name><operator pos:start="167:34" pos:end="167:35">+=</operator><literal type="number" pos:start="167:36" pos:end="167:36">2</literal></expr>;</expr_stmt>

                

                <comment type="block" pos:start="171:17" pos:end="171:74">/* compute motion vector &amp; mb_type and store in context */</comment>

                <if_stmt pos:start="173:17" pos:end="179:62"><if pos:start="173:17" pos:end="175:62">if<condition pos:start="173:19" pos:end="173:40">(<expr pos:start="173:20" pos:end="173:39"><name pos:start="173:20" pos:end="173:31"><name pos:start="173:20" pos:end="173:20">s</name><operator pos:start="173:21" pos:end="173:22">-&gt;</operator><name pos:start="173:23" pos:end="173:31">pict_type</name></name><operator pos:start="173:32" pos:end="173:33">==</operator><name pos:start="173:34" pos:end="173:39">B_TYPE</name></expr>)</condition><block type="pseudo" pos:start="175:21" pos:end="175:62"><block_content pos:start="175:21" pos:end="175:62">

                    <expr_stmt pos:start="175:21" pos:end="175:62"><expr pos:start="175:21" pos:end="175:61"><call pos:start="175:21" pos:end="175:61"><name pos:start="175:21" pos:end="175:46">ff_estimate_b_frame_motion</name><argument_list pos:start="175:47" pos:end="175:61">(<argument pos:start="175:48" pos:end="175:48"><expr pos:start="175:48" pos:end="175:48"><name pos:start="175:48" pos:end="175:48">s</name></expr></argument>, <argument pos:start="175:51" pos:end="175:54"><expr pos:start="175:51" pos:end="175:54"><name pos:start="175:51" pos:end="175:54">mb_x</name></expr></argument>, <argument pos:start="175:57" pos:end="175:60"><expr pos:start="175:57" pos:end="175:60"><name pos:start="175:57" pos:end="175:60">mb_y</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if>

                <else pos:start="177:17" pos:end="179:62">else<block type="pseudo" pos:start="179:21" pos:end="179:62"><block_content pos:start="179:21" pos:end="179:62">

                    <expr_stmt pos:start="179:21" pos:end="179:62"><expr pos:start="179:21" pos:end="179:61"><call pos:start="179:21" pos:end="179:61"><name pos:start="179:21" pos:end="179:46">ff_estimate_p_frame_motion</name><argument_list pos:start="179:47" pos:end="179:61">(<argument pos:start="179:48" pos:end="179:48"><expr pos:start="179:48" pos:end="179:48"><name pos:start="179:48" pos:end="179:48">s</name></expr></argument>, <argument pos:start="179:51" pos:end="179:54"><expr pos:start="179:51" pos:end="179:54"><name pos:start="179:51" pos:end="179:54">mb_x</name></expr></argument>, <argument pos:start="179:57" pos:end="179:60"><expr pos:start="179:57" pos:end="179:60"><name pos:start="179:57" pos:end="179:60">mb_y</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></else></if_stmt>

            </block_content>}</block></for>

        </block_content>}</block></for>

    </block_content>}</block></if><else pos:start="185:6" pos:end="235:5">else <comment type="block" pos:start="185:11" pos:end="185:42">/* if(s-&gt;pict_type == I_TYPE) */</comment><block pos:start="185:43" pos:end="235:5">{<block_content pos:start="191:9" pos:end="233:9">

        <comment type="block" pos:start="187:9" pos:end="187:21">/* I-Frame */</comment>

        <comment type="line" pos:start="189:9" pos:end="189:40">//FIXME do we need to zero them?</comment>

        <expr_stmt pos:start="191:9" pos:end="191:96"><expr pos:start="191:9" pos:end="191:95"><call pos:start="191:9" pos:end="191:95"><name pos:start="191:9" pos:end="191:14">memset</name><argument_list pos:start="191:15" pos:end="191:95">(<argument pos:start="191:16" pos:end="191:31"><expr pos:start="191:16" pos:end="191:31"><name pos:start="191:16" pos:end="191:31"><name pos:start="191:16" pos:end="191:16">s</name><operator pos:start="191:17" pos:end="191:18">-&gt;</operator><name pos:start="191:19" pos:end="191:28">motion_val</name><index pos:start="191:29" pos:end="191:31">[<expr pos:start="191:30" pos:end="191:30"><literal type="number" pos:start="191:30" pos:end="191:30">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="191:34" pos:end="191:34"><expr pos:start="191:34" pos:end="191:34"><literal type="number" pos:start="191:34" pos:end="191:34">0</literal></expr></argument>, <argument pos:start="191:37" pos:end="191:94"><expr pos:start="191:37" pos:end="191:94"><sizeof pos:start="191:37" pos:end="191:51">sizeof<argument_list pos:start="191:43" pos:end="191:51">(<argument pos:start="191:44" pos:end="191:50"><expr pos:start="191:44" pos:end="191:50"><name pos:start="191:44" pos:end="191:50">int16_t</name></expr></argument>)</argument_list></sizeof><operator pos:start="191:52" pos:end="191:52">*</operator><operator pos:start="191:53" pos:end="191:53">(</operator><name pos:start="191:54" pos:end="191:64"><name pos:start="191:54" pos:end="191:54">s</name><operator pos:start="191:55" pos:end="191:56">-&gt;</operator><name pos:start="191:57" pos:end="191:64">mb_width</name></name><operator pos:start="191:65" pos:end="191:65">*</operator><literal type="number" pos:start="191:66" pos:end="191:68">2</literal> <operator pos:start="191:68" pos:end="191:68">+</operator> <literal type="number" pos:start="191:70" pos:end="191:70">2</literal><operator pos:start="191:71" pos:end="191:71">)</operator><operator pos:start="191:72" pos:end="191:72">*</operator><operator pos:start="191:73" pos:end="191:73">(</operator><name pos:start="191:74" pos:end="191:85"><name pos:start="191:74" pos:end="191:74">s</name><operator pos:start="191:75" pos:end="191:76">-&gt;</operator><name pos:start="191:77" pos:end="191:85">mb_height</name></name><operator pos:start="191:86" pos:end="191:86">*</operator><literal type="number" pos:start="191:87" pos:end="191:89">2</literal> <operator pos:start="191:89" pos:end="191:89">+</operator> <literal type="number" pos:start="191:91" pos:end="191:91">2</literal><operator pos:start="191:92" pos:end="191:92">)</operator><operator pos:start="191:93" pos:end="191:93">*</operator><literal type="number" pos:start="191:94" pos:end="191:94">2</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="193:9" pos:end="193:88"><expr pos:start="193:9" pos:end="193:87"><call pos:start="193:9" pos:end="193:87"><name pos:start="193:9" pos:end="193:14">memset</name><argument_list pos:start="193:15" pos:end="193:87">(<argument pos:start="193:16" pos:end="193:28"><expr pos:start="193:16" pos:end="193:28"><name pos:start="193:16" pos:end="193:28"><name pos:start="193:16" pos:end="193:16">s</name><operator pos:start="193:17" pos:end="193:18">-&gt;</operator><name pos:start="193:19" pos:end="193:28">p_mv_table</name></name></expr></argument>   , <argument pos:start="193:34" pos:end="193:34"><expr pos:start="193:34" pos:end="193:34"><literal type="number" pos:start="193:34" pos:end="193:34">0</literal></expr></argument>, <argument pos:start="193:37" pos:end="193:86"><expr pos:start="193:37" pos:end="193:86"><sizeof pos:start="193:37" pos:end="193:51">sizeof<argument_list pos:start="193:43" pos:end="193:51">(<argument pos:start="193:44" pos:end="193:50"><expr pos:start="193:44" pos:end="193:50"><name pos:start="193:44" pos:end="193:50">int16_t</name></expr></argument>)</argument_list></sizeof><operator pos:start="193:52" pos:end="193:52">*</operator><operator pos:start="193:53" pos:end="193:53">(</operator><name pos:start="193:54" pos:end="193:64"><name pos:start="193:54" pos:end="193:54">s</name><operator pos:start="193:55" pos:end="193:56">-&gt;</operator><name pos:start="193:57" pos:end="193:64">mb_width</name></name><operator pos:start="193:65" pos:end="193:65">+</operator><literal type="number" pos:start="193:66" pos:end="193:66">2</literal><operator pos:start="193:67" pos:end="193:67">)</operator><operator pos:start="193:68" pos:end="193:68">*</operator><operator pos:start="193:69" pos:end="193:69">(</operator><name pos:start="193:70" pos:end="193:81"><name pos:start="193:70" pos:end="193:70">s</name><operator pos:start="193:71" pos:end="193:72">-&gt;</operator><name pos:start="193:73" pos:end="193:81">mb_height</name></name><operator pos:start="193:82" pos:end="193:82">+</operator><literal type="number" pos:start="193:83" pos:end="193:83">2</literal><operator pos:start="193:84" pos:end="193:84">)</operator><operator pos:start="193:85" pos:end="193:85">*</operator><literal type="number" pos:start="193:86" pos:end="193:86">2</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="195:9" pos:end="195:90"><expr pos:start="195:9" pos:end="195:89"><call pos:start="195:9" pos:end="195:89"><name pos:start="195:9" pos:end="195:14">memset</name><argument_list pos:start="195:15" pos:end="195:89">(<argument pos:start="195:16" pos:end="195:25"><expr pos:start="195:16" pos:end="195:25"><name pos:start="195:16" pos:end="195:25"><name pos:start="195:16" pos:end="195:16">s</name><operator pos:start="195:17" pos:end="195:18">-&gt;</operator><name pos:start="195:19" pos:end="195:25">mb_type</name></name></expr></argument>      , <argument pos:start="195:34" pos:end="195:46"><expr pos:start="195:34" pos:end="195:46"><name pos:start="195:34" pos:end="195:46">MB_TYPE_INTRA</name></expr></argument>, <argument pos:start="195:49" pos:end="195:88"><expr pos:start="195:49" pos:end="195:88"><sizeof pos:start="195:49" pos:end="195:63">sizeof<argument_list pos:start="195:55" pos:end="195:63">(<argument pos:start="195:56" pos:end="195:62"><expr pos:start="195:56" pos:end="195:62"><name pos:start="195:56" pos:end="195:62">uint8_t</name></expr></argument>)</argument_list></sizeof><operator pos:start="195:64" pos:end="195:64">*</operator><name pos:start="195:65" pos:end="195:75"><name pos:start="195:65" pos:end="195:65">s</name><operator pos:start="195:66" pos:end="195:67">-&gt;</operator><name pos:start="195:68" pos:end="195:75">mb_width</name></name><operator pos:start="195:76" pos:end="195:76">*</operator><name pos:start="195:77" pos:end="195:88"><name pos:start="195:77" pos:end="195:77">s</name><operator pos:start="195:78" pos:end="195:79">-&gt;</operator><name pos:start="195:80" pos:end="195:88">mb_height</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        

        <if_stmt pos:start="199:9" pos:end="233:9"><if pos:start="199:9" pos:end="233:9">if<condition pos:start="199:11" pos:end="199:28">(<expr pos:start="199:12" pos:end="199:27"><operator pos:start="199:12" pos:end="199:12">!</operator><name pos:start="199:13" pos:end="199:27"><name pos:start="199:13" pos:end="199:13">s</name><operator pos:start="199:14" pos:end="199:15">-&gt;</operator><name pos:start="199:16" pos:end="199:27">fixed_qscale</name></name></expr>)</condition><block pos:start="199:29" pos:end="233:9">{<block_content pos:start="203:13" pos:end="231:13">

            <comment type="block" pos:start="201:13" pos:end="201:69">/* finding spatial complexity for I-frame rate control */</comment>

            <for pos:start="203:13" pos:end="231:13">for<control pos:start="203:16" pos:end="203:52">(<init pos:start="203:17" pos:end="203:23"><expr pos:start="203:17" pos:end="203:22"><name pos:start="203:17" pos:end="203:20">mb_y</name><operator pos:start="203:21" pos:end="203:21">=</operator><literal type="number" pos:start="203:22" pos:end="203:22">0</literal></expr>;</init> <condition pos:start="203:25" pos:end="203:44"><expr pos:start="203:25" pos:end="203:43"><name pos:start="203:25" pos:end="203:28">mb_y</name> <operator pos:start="203:30" pos:end="203:30">&lt;</operator> <name pos:start="203:32" pos:end="203:43"><name pos:start="203:32" pos:end="203:32">s</name><operator pos:start="203:33" pos:end="203:34">-&gt;</operator><name pos:start="203:35" pos:end="203:43">mb_height</name></name></expr>;</condition> <incr pos:start="203:46" pos:end="203:51"><expr pos:start="203:46" pos:end="203:51"><name pos:start="203:46" pos:end="203:49">mb_y</name><operator pos:start="203:50" pos:end="203:51">++</operator></expr></incr>)</control> <block pos:start="203:54" pos:end="231:13">{<block_content pos:start="205:17" pos:end="229:17">

                <for pos:start="205:17" pos:end="229:17">for<control pos:start="205:20" pos:end="205:55">(<init pos:start="205:21" pos:end="205:27"><expr pos:start="205:21" pos:end="205:26"><name pos:start="205:21" pos:end="205:24">mb_x</name><operator pos:start="205:25" pos:end="205:25">=</operator><literal type="number" pos:start="205:26" pos:end="205:26">0</literal></expr>;</init> <condition pos:start="205:29" pos:end="205:47"><expr pos:start="205:29" pos:end="205:46"><name pos:start="205:29" pos:end="205:32">mb_x</name> <operator pos:start="205:34" pos:end="205:34">&lt;</operator> <name pos:start="205:36" pos:end="205:46"><name pos:start="205:36" pos:end="205:36">s</name><operator pos:start="205:37" pos:end="205:38">-&gt;</operator><name pos:start="205:39" pos:end="205:46">mb_width</name></name></expr>;</condition> <incr pos:start="205:49" pos:end="205:54"><expr pos:start="205:49" pos:end="205:54"><name pos:start="205:49" pos:end="205:52">mb_x</name><operator pos:start="205:53" pos:end="205:54">++</operator></expr></incr>)</control> <block pos:start="205:57" pos:end="229:17">{<block_content pos:start="207:21" pos:end="227:61">

                    <decl_stmt pos:start="207:21" pos:end="207:39"><decl pos:start="207:21" pos:end="207:38"><type pos:start="207:21" pos:end="207:23"><name pos:start="207:21" pos:end="207:23">int</name></type> <name pos:start="207:25" pos:end="207:26">xx</name> <init pos:start="207:28" pos:end="207:38">= <expr pos:start="207:30" pos:end="207:38"><name pos:start="207:30" pos:end="207:33">mb_x</name> <operator pos:start="207:35" pos:end="207:35">*</operator> <literal type="number" pos:start="207:37" pos:end="207:38">16</literal></expr></init></decl>;</decl_stmt>

                    <decl_stmt pos:start="209:21" pos:end="209:39"><decl pos:start="209:21" pos:end="209:38"><type pos:start="209:21" pos:end="209:23"><name pos:start="209:21" pos:end="209:23">int</name></type> <name pos:start="209:25" pos:end="209:26">yy</name> <init pos:start="209:28" pos:end="209:38">= <expr pos:start="209:30" pos:end="209:38"><name pos:start="209:30" pos:end="209:33">mb_y</name> <operator pos:start="209:35" pos:end="209:35">*</operator> <literal type="number" pos:start="209:37" pos:end="209:38">16</literal></expr></init></decl>;</decl_stmt>

                    <decl_stmt pos:start="211:21" pos:end="211:84"><decl pos:start="211:21" pos:end="211:83"><type pos:start="211:21" pos:end="211:29"><name pos:start="211:21" pos:end="211:27">uint8_t</name> <modifier pos:start="211:29" pos:end="211:29">*</modifier></type><name pos:start="211:30" pos:end="211:32">pix</name> <init pos:start="211:34" pos:end="211:83">= <expr pos:start="211:36" pos:end="211:83"><name pos:start="211:36" pos:end="211:57"><name pos:start="211:36" pos:end="211:36">s</name><operator pos:start="211:37" pos:end="211:38">-&gt;</operator><name pos:start="211:39" pos:end="211:49">new_picture</name><operator pos:start="211:50" pos:end="211:50">.</operator><name pos:start="211:51" pos:end="211:54">data</name><index pos:start="211:55" pos:end="211:57">[<expr pos:start="211:56" pos:end="211:56"><literal type="number" pos:start="211:56" pos:end="211:56">0</literal></expr>]</index></name> <operator pos:start="211:59" pos:end="211:59">+</operator> <operator pos:start="211:61" pos:end="211:61">(</operator><name pos:start="211:62" pos:end="211:63">yy</name> <operator pos:start="211:65" pos:end="211:65">*</operator> <name pos:start="211:67" pos:end="211:77"><name pos:start="211:67" pos:end="211:67">s</name><operator pos:start="211:68" pos:end="211:69">-&gt;</operator><name pos:start="211:70" pos:end="211:77">linesize</name></name><operator pos:start="211:78" pos:end="211:78">)</operator> <operator pos:start="211:80" pos:end="211:80">+</operator> <name pos:start="211:82" pos:end="211:83">xx</name></expr></init></decl>;</decl_stmt>

                    <decl_stmt pos:start="213:21" pos:end="213:29"><decl pos:start="213:21" pos:end="213:28"><type pos:start="213:21" pos:end="213:23"><name pos:start="213:21" pos:end="213:23">int</name></type> <name pos:start="213:25" pos:end="213:28">varc</name></decl>;</decl_stmt>

		    <decl_stmt pos:start="215:21" pos:end="215:63"><decl pos:start="215:21" pos:end="215:62"><type pos:start="215:21" pos:end="215:23"><name pos:start="215:21" pos:end="215:23">int</name></type> <name pos:start="215:25" pos:end="215:27">sum</name> <init pos:start="215:29" pos:end="215:62">= <expr pos:start="215:31" pos:end="215:62"><call pos:start="215:31" pos:end="215:62"><name pos:start="215:31" pos:end="215:44"><name pos:start="215:31" pos:end="215:31">s</name><operator pos:start="215:32" pos:end="215:33">-&gt;</operator><name pos:start="215:34" pos:end="215:36">dsp</name><operator pos:start="215:37" pos:end="215:37">.</operator><name pos:start="215:38" pos:end="215:44">pix_sum</name></name><argument_list pos:start="215:45" pos:end="215:62">(<argument pos:start="215:46" pos:end="215:48"><expr pos:start="215:46" pos:end="215:48"><name pos:start="215:46" pos:end="215:48">pix</name></expr></argument>, <argument pos:start="215:51" pos:end="215:61"><expr pos:start="215:51" pos:end="215:61"><name pos:start="215:51" pos:end="215:61"><name pos:start="215:51" pos:end="215:51">s</name><operator pos:start="215:52" pos:end="215:53">-&gt;</operator><name pos:start="215:54" pos:end="215:61">linesize</name></name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

    

		    <expr_stmt pos:start="219:21" pos:end="219:108"><expr pos:start="219:21" pos:end="219:107"><name pos:start="219:21" pos:end="219:24">varc</name> <operator pos:start="219:26" pos:end="219:26">=</operator> <operator pos:start="219:28" pos:end="219:28">(</operator><call pos:start="219:29" pos:end="219:62"><name pos:start="219:29" pos:end="219:44"><name pos:start="219:29" pos:end="219:29">s</name><operator pos:start="219:30" pos:end="219:31">-&gt;</operator><name pos:start="219:32" pos:end="219:34">dsp</name><operator pos:start="219:35" pos:end="219:35">.</operator><name pos:start="219:36" pos:end="219:44">pix_norm1</name></name><argument_list pos:start="219:45" pos:end="219:62">(<argument pos:start="219:46" pos:end="219:48"><expr pos:start="219:46" pos:end="219:48"><name pos:start="219:46" pos:end="219:48">pix</name></expr></argument>, <argument pos:start="219:51" pos:end="219:61"><expr pos:start="219:51" pos:end="219:61"><name pos:start="219:51" pos:end="219:61"><name pos:start="219:51" pos:end="219:51">s</name><operator pos:start="219:52" pos:end="219:53">-&gt;</operator><name pos:start="219:54" pos:end="219:61">linesize</name></name></expr></argument>)</argument_list></call> <operator pos:start="219:64" pos:end="219:64">-</operator> <operator pos:start="219:66" pos:end="219:66">(</operator><operator pos:start="219:67" pos:end="219:67">(</operator><operator pos:start="219:68" pos:end="219:68">(</operator><name pos:start="219:69" pos:end="219:76">unsigned</name><operator pos:start="219:77" pos:end="219:77">)</operator><operator pos:start="219:78" pos:end="219:78">(</operator><name pos:start="219:79" pos:end="219:81">sum</name><operator pos:start="219:82" pos:end="219:82">*</operator><name pos:start="219:83" pos:end="219:85">sum</name><operator pos:start="219:86" pos:end="219:86">)</operator><operator pos:start="219:87" pos:end="219:87">)</operator><operator pos:start="219:88" pos:end="219:89">&gt;&gt;</operator><literal type="number" pos:start="219:90" pos:end="219:90">8</literal><operator pos:start="219:91" pos:end="219:91">)</operator> <operator pos:start="219:93" pos:end="219:93">+</operator> <literal type="number" pos:start="219:95" pos:end="219:99">500</literal> <operator pos:start="219:99" pos:end="219:99">+</operator> <literal type="number" pos:start="219:101" pos:end="219:103">128</literal><operator pos:start="219:104" pos:end="219:104">)</operator><operator pos:start="219:105" pos:end="219:106">&gt;&gt;</operator><literal type="number" pos:start="219:107" pos:end="219:107">8</literal></expr>;</expr_stmt>



                    <expr_stmt pos:start="223:21" pos:end="223:81"><expr pos:start="223:21" pos:end="223:80"><name pos:start="223:21" pos:end="223:73"><name pos:start="223:21" pos:end="223:21">s</name><operator pos:start="223:22" pos:end="223:23">-&gt;</operator><name pos:start="223:24" pos:end="223:38">current_picture</name><operator pos:start="223:39" pos:end="223:39">.</operator><name pos:start="223:40" pos:end="223:45">mb_var</name> <index pos:start="223:47" pos:end="223:73">[<expr pos:start="223:48" pos:end="223:72"><name pos:start="223:48" pos:end="223:58"><name pos:start="223:48" pos:end="223:48">s</name><operator pos:start="223:49" pos:end="223:50">-&gt;</operator><name pos:start="223:51" pos:end="223:58">mb_width</name></name> <operator pos:start="223:60" pos:end="223:60">*</operator> <name pos:start="223:62" pos:end="223:65">mb_y</name> <operator pos:start="223:67" pos:end="223:67">+</operator> <name pos:start="223:69" pos:end="223:72">mb_x</name></expr>]</index></name> <operator pos:start="223:75" pos:end="223:75">=</operator> <name pos:start="223:77" pos:end="223:80">varc</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="225:21" pos:end="225:89"><expr pos:start="225:21" pos:end="225:88"><name pos:start="225:21" pos:end="225:73"><name pos:start="225:21" pos:end="225:21">s</name><operator pos:start="225:22" pos:end="225:23">-&gt;</operator><name pos:start="225:24" pos:end="225:38">current_picture</name><operator pos:start="225:39" pos:end="225:39">.</operator><name pos:start="225:40" pos:end="225:46">mb_mean</name><index pos:start="225:47" pos:end="225:73">[<expr pos:start="225:48" pos:end="225:72"><name pos:start="225:48" pos:end="225:58"><name pos:start="225:48" pos:end="225:48">s</name><operator pos:start="225:49" pos:end="225:50">-&gt;</operator><name pos:start="225:51" pos:end="225:58">mb_width</name></name> <operator pos:start="225:60" pos:end="225:60">*</operator> <name pos:start="225:62" pos:end="225:65">mb_y</name> <operator pos:start="225:67" pos:end="225:67">+</operator> <name pos:start="225:69" pos:end="225:72">mb_x</name></expr>]</index></name> <operator pos:start="225:75" pos:end="225:75">=</operator> <operator pos:start="225:77" pos:end="225:77">(</operator><name pos:start="225:78" pos:end="225:80">sum</name><operator pos:start="225:81" pos:end="225:81">+</operator><literal type="number" pos:start="225:82" pos:end="225:84">128</literal><operator pos:start="225:85" pos:end="225:85">)</operator><operator pos:start="225:86" pos:end="225:87">&gt;&gt;</operator><literal type="number" pos:start="225:88" pos:end="225:88">8</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="227:21" pos:end="227:61"><expr pos:start="227:21" pos:end="227:60"><name pos:start="227:21" pos:end="227:49"><name pos:start="227:21" pos:end="227:21">s</name><operator pos:start="227:22" pos:end="227:23">-&gt;</operator><name pos:start="227:24" pos:end="227:38">current_picture</name><operator pos:start="227:39" pos:end="227:39">.</operator><name pos:start="227:40" pos:end="227:49">mb_var_sum</name></name>    <operator pos:start="227:54" pos:end="227:55">+=</operator> <name pos:start="227:57" pos:end="227:60">varc</name></expr>;</expr_stmt>

                </block_content>}</block></for>

            </block_content>}</block></for>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></else></if_stmt>

    <expr_stmt pos:start="237:5" pos:end="237:13"><expr pos:start="237:5" pos:end="237:12"><call pos:start="237:5" pos:end="237:12"><name pos:start="237:5" pos:end="237:10">emms_c</name><argument_list pos:start="237:11" pos:end="237:12">()</argument_list></call></expr>;</expr_stmt>



    <if_stmt pos:start="241:5" pos:end="249:5"><if pos:start="241:5" pos:end="249:5">if<condition pos:start="241:7" pos:end="241:59">(<expr pos:start="241:8" pos:end="241:58"><name pos:start="241:8" pos:end="241:28"><name pos:start="241:8" pos:end="241:8">s</name><operator pos:start="241:9" pos:end="241:10">-&gt;</operator><name pos:start="241:11" pos:end="241:28">scene_change_score</name></name> <operator pos:start="241:30" pos:end="241:30">&gt;</operator> <literal type="number" pos:start="241:32" pos:end="241:32">0</literal> <operator pos:start="241:34" pos:end="241:35">&amp;&amp;</operator> <name pos:start="241:37" pos:end="241:48"><name pos:start="241:37" pos:end="241:37">s</name><operator pos:start="241:38" pos:end="241:39">-&gt;</operator><name pos:start="241:40" pos:end="241:48">pict_type</name></name> <operator pos:start="241:50" pos:end="241:51">==</operator> <name pos:start="241:53" pos:end="241:58">P_TYPE</name></expr>)</condition><block pos:start="241:60" pos:end="249:5">{<block_content pos:start="243:9" pos:end="245:87">

        <expr_stmt pos:start="243:9" pos:end="243:29"><expr pos:start="243:9" pos:end="243:28"><name pos:start="243:9" pos:end="243:20"><name pos:start="243:9" pos:end="243:9">s</name><operator pos:start="243:10" pos:end="243:11">-&gt;</operator><name pos:start="243:12" pos:end="243:20">pict_type</name></name><operator pos:start="243:21" pos:end="243:21">=</operator> <name pos:start="243:23" pos:end="243:28">I_TYPE</name></expr>;</expr_stmt>

        <expr_stmt pos:start="245:9" pos:end="245:87"><expr pos:start="245:9" pos:end="245:86"><call pos:start="245:9" pos:end="245:86"><name pos:start="245:9" pos:end="245:14">memset</name><argument_list pos:start="245:15" pos:end="245:86">(<argument pos:start="245:16" pos:end="245:25"><expr pos:start="245:16" pos:end="245:25"><name pos:start="245:16" pos:end="245:25"><name pos:start="245:16" pos:end="245:16">s</name><operator pos:start="245:17" pos:end="245:18">-&gt;</operator><name pos:start="245:19" pos:end="245:25">mb_type</name></name></expr></argument>   , <argument pos:start="245:31" pos:end="245:43"><expr pos:start="245:31" pos:end="245:43"><name pos:start="245:31" pos:end="245:43">MB_TYPE_INTRA</name></expr></argument>, <argument pos:start="245:46" pos:end="245:85"><expr pos:start="245:46" pos:end="245:85"><sizeof pos:start="245:46" pos:end="245:60">sizeof<argument_list pos:start="245:52" pos:end="245:60">(<argument pos:start="245:53" pos:end="245:59"><expr pos:start="245:53" pos:end="245:59"><name pos:start="245:53" pos:end="245:59">uint8_t</name></expr></argument>)</argument_list></sizeof><operator pos:start="245:61" pos:end="245:61">*</operator><name pos:start="245:62" pos:end="245:72"><name pos:start="245:62" pos:end="245:62">s</name><operator pos:start="245:63" pos:end="245:64">-&gt;</operator><name pos:start="245:65" pos:end="245:72">mb_width</name></name><operator pos:start="245:73" pos:end="245:73">*</operator><name pos:start="245:74" pos:end="245:85"><name pos:start="245:74" pos:end="245:74">s</name><operator pos:start="245:75" pos:end="245:76">-&gt;</operator><name pos:start="245:77" pos:end="245:85">mb_height</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

<comment type="line" pos:start="247:1" pos:end="247:128">//printf("Scene change detected, encoding as I Frame %d %d\n", s-&gt;current_picture.mb_var_sum, s-&gt;current_picture.mc_mb_var_sum);</comment>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="253:5" pos:end="263:5"><if pos:start="253:5" pos:end="263:5">if<condition pos:start="253:7" pos:end="253:52">(<expr pos:start="253:8" pos:end="253:51"><name pos:start="253:8" pos:end="253:19"><name pos:start="253:8" pos:end="253:8">s</name><operator pos:start="253:9" pos:end="253:10">-&gt;</operator><name pos:start="253:11" pos:end="253:19">pict_type</name></name><operator pos:start="253:20" pos:end="253:21">==</operator><name pos:start="253:22" pos:end="253:27">P_TYPE</name> <operator pos:start="253:29" pos:end="253:30">||</operator> <name pos:start="253:32" pos:end="253:43"><name pos:start="253:32" pos:end="253:32">s</name><operator pos:start="253:33" pos:end="253:34">-&gt;</operator><name pos:start="253:35" pos:end="253:43">pict_type</name></name><operator pos:start="253:44" pos:end="253:45">==</operator><name pos:start="253:46" pos:end="253:51">S_TYPE</name></expr>)</condition> <block pos:start="253:54" pos:end="263:5">{<block_content pos:start="255:9" pos:end="261:29">

        <expr_stmt pos:start="255:9" pos:end="255:70"><expr pos:start="255:9" pos:end="255:69"><name pos:start="255:9" pos:end="255:17"><name pos:start="255:9" pos:end="255:9">s</name><operator pos:start="255:10" pos:end="255:11">-&gt;</operator><name pos:start="255:12" pos:end="255:17">f_code</name></name><operator pos:start="255:18" pos:end="255:18">=</operator> <call pos:start="255:20" pos:end="255:69"><name pos:start="255:20" pos:end="255:36">ff_get_best_fcode</name><argument_list pos:start="255:37" pos:end="255:69">(<argument pos:start="255:38" pos:end="255:38"><expr pos:start="255:38" pos:end="255:38"><name pos:start="255:38" pos:end="255:38">s</name></expr></argument>, <argument pos:start="255:41" pos:end="255:53"><expr pos:start="255:41" pos:end="255:53"><name pos:start="255:41" pos:end="255:53"><name pos:start="255:41" pos:end="255:41">s</name><operator pos:start="255:42" pos:end="255:43">-&gt;</operator><name pos:start="255:44" pos:end="255:53">p_mv_table</name></name></expr></argument>, <argument pos:start="255:56" pos:end="255:68"><expr pos:start="255:56" pos:end="255:68"><name pos:start="255:56" pos:end="255:68">MB_TYPE_INTER</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        

        <comment type="line" pos:start="259:9" pos:end="259:46">// RAL: Next call moved into that bloc</comment>

        <expr_stmt pos:start="261:9" pos:end="261:29"><expr pos:start="261:9" pos:end="261:28"><call pos:start="261:9" pos:end="261:28"><name pos:start="261:9" pos:end="261:25">ff_fix_long_p_mvs</name><argument_list pos:start="261:26" pos:end="261:28">(<argument pos:start="261:27" pos:end="261:27"><expr pos:start="261:27" pos:end="261:27"><name pos:start="261:27" pos:end="261:27">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <comment type="line" pos:start="267:5" pos:end="267:33">// RAL: All this bloc changed</comment>

    <if_stmt pos:start="269:5" pos:end="299:5"><if pos:start="269:5" pos:end="299:5">if<condition pos:start="269:7" pos:end="269:28">(<expr pos:start="269:8" pos:end="269:27"><name pos:start="269:8" pos:end="269:19"><name pos:start="269:8" pos:end="269:8">s</name><operator pos:start="269:9" pos:end="269:10">-&gt;</operator><name pos:start="269:11" pos:end="269:19">pict_type</name></name><operator pos:start="269:20" pos:end="269:21">==</operator><name pos:start="269:22" pos:end="269:27">B_TYPE</name></expr>)</condition><block pos:start="269:29" pos:end="299:5">{<block_content pos:start="271:9" pos:end="297:81">

        <decl_stmt pos:start="271:9" pos:end="271:17"><decl pos:start="271:9" pos:end="271:13"><type pos:start="271:9" pos:end="271:11"><name pos:start="271:9" pos:end="271:11">int</name></type> <name pos:start="271:13" pos:end="271:13">a</name></decl>, <decl pos:start="271:16" pos:end="271:16"><type ref="prev" pos:start="271:9" pos:end="271:11"/><name pos:start="271:16" pos:end="271:16">b</name></decl>;</decl_stmt>



        <expr_stmt pos:start="275:9" pos:end="275:70"><expr pos:start="275:9" pos:end="275:69"><name pos:start="275:9" pos:end="275:9">a</name> <operator pos:start="275:11" pos:end="275:11">=</operator> <call pos:start="275:13" pos:end="275:69"><name pos:start="275:13" pos:end="275:29">ff_get_best_fcode</name><argument_list pos:start="275:30" pos:end="275:69">(<argument pos:start="275:31" pos:end="275:31"><expr pos:start="275:31" pos:end="275:31"><name pos:start="275:31" pos:end="275:31">s</name></expr></argument>, <argument pos:start="275:34" pos:end="275:51"><expr pos:start="275:34" pos:end="275:51"><name pos:start="275:34" pos:end="275:51"><name pos:start="275:34" pos:end="275:34">s</name><operator pos:start="275:35" pos:end="275:36">-&gt;</operator><name pos:start="275:37" pos:end="275:51">b_forw_mv_table</name></name></expr></argument>, <argument pos:start="275:54" pos:end="275:68"><expr pos:start="275:54" pos:end="275:68"><name pos:start="275:54" pos:end="275:68">MB_TYPE_FORWARD</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="277:9" pos:end="277:74"><expr pos:start="277:9" pos:end="277:73"><name pos:start="277:9" pos:end="277:9">b</name> <operator pos:start="277:11" pos:end="277:11">=</operator> <call pos:start="277:13" pos:end="277:73"><name pos:start="277:13" pos:end="277:29">ff_get_best_fcode</name><argument_list pos:start="277:30" pos:end="277:73">(<argument pos:start="277:31" pos:end="277:31"><expr pos:start="277:31" pos:end="277:31"><name pos:start="277:31" pos:end="277:31">s</name></expr></argument>, <argument pos:start="277:34" pos:end="277:57"><expr pos:start="277:34" pos:end="277:57"><name pos:start="277:34" pos:end="277:57"><name pos:start="277:34" pos:end="277:34">s</name><operator pos:start="277:35" pos:end="277:36">-&gt;</operator><name pos:start="277:37" pos:end="277:57">b_bidir_forw_mv_table</name></name></expr></argument>, <argument pos:start="277:60" pos:end="277:72"><expr pos:start="277:60" pos:end="277:72"><name pos:start="277:60" pos:end="277:72">MB_TYPE_BIDIR</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="279:9" pos:end="279:32"><expr pos:start="279:9" pos:end="279:31"><name pos:start="279:9" pos:end="279:17"><name pos:start="279:9" pos:end="279:9">s</name><operator pos:start="279:10" pos:end="279:11">-&gt;</operator><name pos:start="279:12" pos:end="279:17">f_code</name></name> <operator pos:start="279:19" pos:end="279:19">=</operator> <call pos:start="279:21" pos:end="279:31"><name pos:start="279:21" pos:end="279:25">FFMAX</name><argument_list pos:start="279:26" pos:end="279:31">(<argument pos:start="279:27" pos:end="279:27"><expr pos:start="279:27" pos:end="279:27"><name pos:start="279:27" pos:end="279:27">a</name></expr></argument>, <argument pos:start="279:30" pos:end="279:30"><expr pos:start="279:30" pos:end="279:30"><name pos:start="279:30" pos:end="279:30">b</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <expr_stmt pos:start="283:9" pos:end="283:71"><expr pos:start="283:9" pos:end="283:70"><name pos:start="283:9" pos:end="283:9">a</name> <operator pos:start="283:11" pos:end="283:11">=</operator> <call pos:start="283:13" pos:end="283:70"><name pos:start="283:13" pos:end="283:29">ff_get_best_fcode</name><argument_list pos:start="283:30" pos:end="283:70">(<argument pos:start="283:31" pos:end="283:31"><expr pos:start="283:31" pos:end="283:31"><name pos:start="283:31" pos:end="283:31">s</name></expr></argument>, <argument pos:start="283:34" pos:end="283:51"><expr pos:start="283:34" pos:end="283:51"><name pos:start="283:34" pos:end="283:51"><name pos:start="283:34" pos:end="283:34">s</name><operator pos:start="283:35" pos:end="283:36">-&gt;</operator><name pos:start="283:37" pos:end="283:51">b_back_mv_table</name></name></expr></argument>, <argument pos:start="283:54" pos:end="283:69"><expr pos:start="283:54" pos:end="283:69"><name pos:start="283:54" pos:end="283:69">MB_TYPE_BACKWARD</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="285:9" pos:end="285:74"><expr pos:start="285:9" pos:end="285:73"><name pos:start="285:9" pos:end="285:9">b</name> <operator pos:start="285:11" pos:end="285:11">=</operator> <call pos:start="285:13" pos:end="285:73"><name pos:start="285:13" pos:end="285:29">ff_get_best_fcode</name><argument_list pos:start="285:30" pos:end="285:73">(<argument pos:start="285:31" pos:end="285:31"><expr pos:start="285:31" pos:end="285:31"><name pos:start="285:31" pos:end="285:31">s</name></expr></argument>, <argument pos:start="285:34" pos:end="285:57"><expr pos:start="285:34" pos:end="285:57"><name pos:start="285:34" pos:end="285:57"><name pos:start="285:34" pos:end="285:34">s</name><operator pos:start="285:35" pos:end="285:36">-&gt;</operator><name pos:start="285:37" pos:end="285:57">b_bidir_back_mv_table</name></name></expr></argument>, <argument pos:start="285:60" pos:end="285:72"><expr pos:start="285:60" pos:end="285:72"><name pos:start="285:60" pos:end="285:72">MB_TYPE_BIDIR</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="287:9" pos:end="287:32"><expr pos:start="287:9" pos:end="287:31"><name pos:start="287:9" pos:end="287:17"><name pos:start="287:9" pos:end="287:9">s</name><operator pos:start="287:10" pos:end="287:11">-&gt;</operator><name pos:start="287:12" pos:end="287:17">b_code</name></name> <operator pos:start="287:19" pos:end="287:19">=</operator> <call pos:start="287:21" pos:end="287:31"><name pos:start="287:21" pos:end="287:25">FFMAX</name><argument_list pos:start="287:26" pos:end="287:31">(<argument pos:start="287:27" pos:end="287:27"><expr pos:start="287:27" pos:end="287:27"><name pos:start="287:27" pos:end="287:27">a</name></expr></argument>, <argument pos:start="287:30" pos:end="287:30"><expr pos:start="287:30" pos:end="287:30"><name pos:start="287:30" pos:end="287:30">b</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <expr_stmt pos:start="291:9" pos:end="291:77"><expr pos:start="291:9" pos:end="291:76"><call pos:start="291:9" pos:end="291:76"><name pos:start="291:9" pos:end="291:25">ff_fix_long_b_mvs</name><argument_list pos:start="291:26" pos:end="291:76">(<argument pos:start="291:27" pos:end="291:27"><expr pos:start="291:27" pos:end="291:27"><name pos:start="291:27" pos:end="291:27">s</name></expr></argument>, <argument pos:start="291:30" pos:end="291:47"><expr pos:start="291:30" pos:end="291:47"><name pos:start="291:30" pos:end="291:47"><name pos:start="291:30" pos:end="291:30">s</name><operator pos:start="291:31" pos:end="291:32">-&gt;</operator><name pos:start="291:33" pos:end="291:47">b_forw_mv_table</name></name></expr></argument>, <argument pos:start="291:50" pos:end="291:58"><expr pos:start="291:50" pos:end="291:58"><name pos:start="291:50" pos:end="291:58"><name pos:start="291:50" pos:end="291:50">s</name><operator pos:start="291:51" pos:end="291:52">-&gt;</operator><name pos:start="291:53" pos:end="291:58">f_code</name></name></expr></argument>, <argument pos:start="291:61" pos:end="291:75"><expr pos:start="291:61" pos:end="291:75"><name pos:start="291:61" pos:end="291:75">MB_TYPE_FORWARD</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="293:9" pos:end="293:78"><expr pos:start="293:9" pos:end="293:77"><call pos:start="293:9" pos:end="293:77"><name pos:start="293:9" pos:end="293:25">ff_fix_long_b_mvs</name><argument_list pos:start="293:26" pos:end="293:77">(<argument pos:start="293:27" pos:end="293:27"><expr pos:start="293:27" pos:end="293:27"><name pos:start="293:27" pos:end="293:27">s</name></expr></argument>, <argument pos:start="293:30" pos:end="293:47"><expr pos:start="293:30" pos:end="293:47"><name pos:start="293:30" pos:end="293:47"><name pos:start="293:30" pos:end="293:30">s</name><operator pos:start="293:31" pos:end="293:32">-&gt;</operator><name pos:start="293:33" pos:end="293:47">b_back_mv_table</name></name></expr></argument>, <argument pos:start="293:50" pos:end="293:58"><expr pos:start="293:50" pos:end="293:58"><name pos:start="293:50" pos:end="293:58"><name pos:start="293:50" pos:end="293:50">s</name><operator pos:start="293:51" pos:end="293:52">-&gt;</operator><name pos:start="293:53" pos:end="293:58">b_code</name></name></expr></argument>, <argument pos:start="293:61" pos:end="293:76"><expr pos:start="293:61" pos:end="293:76"><name pos:start="293:61" pos:end="293:76">MB_TYPE_BACKWARD</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="295:9" pos:end="295:81"><expr pos:start="295:9" pos:end="295:80"><call pos:start="295:9" pos:end="295:80"><name pos:start="295:9" pos:end="295:25">ff_fix_long_b_mvs</name><argument_list pos:start="295:26" pos:end="295:80">(<argument pos:start="295:27" pos:end="295:27"><expr pos:start="295:27" pos:end="295:27"><name pos:start="295:27" pos:end="295:27">s</name></expr></argument>, <argument pos:start="295:30" pos:end="295:53"><expr pos:start="295:30" pos:end="295:53"><name pos:start="295:30" pos:end="295:53"><name pos:start="295:30" pos:end="295:30">s</name><operator pos:start="295:31" pos:end="295:32">-&gt;</operator><name pos:start="295:33" pos:end="295:53">b_bidir_forw_mv_table</name></name></expr></argument>, <argument pos:start="295:56" pos:end="295:64"><expr pos:start="295:56" pos:end="295:64"><name pos:start="295:56" pos:end="295:64"><name pos:start="295:56" pos:end="295:56">s</name><operator pos:start="295:57" pos:end="295:58">-&gt;</operator><name pos:start="295:59" pos:end="295:64">f_code</name></name></expr></argument>, <argument pos:start="295:67" pos:end="295:79"><expr pos:start="295:67" pos:end="295:79"><name pos:start="295:67" pos:end="295:79">MB_TYPE_BIDIR</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="297:9" pos:end="297:81"><expr pos:start="297:9" pos:end="297:80"><call pos:start="297:9" pos:end="297:80"><name pos:start="297:9" pos:end="297:25">ff_fix_long_b_mvs</name><argument_list pos:start="297:26" pos:end="297:80">(<argument pos:start="297:27" pos:end="297:27"><expr pos:start="297:27" pos:end="297:27"><name pos:start="297:27" pos:end="297:27">s</name></expr></argument>, <argument pos:start="297:30" pos:end="297:53"><expr pos:start="297:30" pos:end="297:53"><name pos:start="297:30" pos:end="297:53"><name pos:start="297:30" pos:end="297:30">s</name><operator pos:start="297:31" pos:end="297:32">-&gt;</operator><name pos:start="297:33" pos:end="297:53">b_bidir_back_mv_table</name></name></expr></argument>, <argument pos:start="297:56" pos:end="297:64"><expr pos:start="297:56" pos:end="297:64"><name pos:start="297:56" pos:end="297:64"><name pos:start="297:56" pos:end="297:56">s</name><operator pos:start="297:57" pos:end="297:58">-&gt;</operator><name pos:start="297:59" pos:end="297:64">b_code</name></name></expr></argument>, <argument pos:start="297:67" pos:end="297:79"><expr pos:start="297:67" pos:end="297:79"><name pos:start="297:67" pos:end="297:79">MB_TYPE_BIDIR</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    

    <if_stmt pos:start="303:5" pos:end="309:53"><if pos:start="303:5" pos:end="305:53">if <condition pos:start="303:8" pos:end="303:24">(<expr pos:start="303:9" pos:end="303:23"><name pos:start="303:9" pos:end="303:23"><name pos:start="303:9" pos:end="303:9">s</name><operator pos:start="303:10" pos:end="303:11">-&gt;</operator><name pos:start="303:12" pos:end="303:23">fixed_qscale</name></name></expr>)</condition><block type="pseudo" pos:start="305:9" pos:end="305:53"><block_content pos:start="305:9" pos:end="305:53"> 

        <expr_stmt pos:start="305:9" pos:end="305:53"><expr pos:start="305:9" pos:end="305:52"><name pos:start="305:9" pos:end="305:23"><name pos:start="305:9" pos:end="305:9">s</name><operator pos:start="305:10" pos:end="305:11">-&gt;</operator><name pos:start="305:12" pos:end="305:23">frame_qscale</name></name> <operator pos:start="305:25" pos:end="305:25">=</operator> <name pos:start="305:27" pos:end="305:52"><name pos:start="305:27" pos:end="305:27">s</name><operator pos:start="305:28" pos:end="305:29">-&gt;</operator><name pos:start="305:30" pos:end="305:44">current_picture</name><operator pos:start="305:45" pos:end="305:45">.</operator><name pos:start="305:46" pos:end="305:52">quality</name></name></expr>;</expr_stmt></block_content></block></if>

    <else pos:start="307:5" pos:end="309:53">else<block type="pseudo" pos:start="309:9" pos:end="309:53"><block_content pos:start="309:9" pos:end="309:53">

        <expr_stmt pos:start="309:9" pos:end="309:53"><expr pos:start="309:9" pos:end="309:52"><name pos:start="309:9" pos:end="309:23"><name pos:start="309:9" pos:end="309:9">s</name><operator pos:start="309:10" pos:end="309:11">-&gt;</operator><name pos:start="309:12" pos:end="309:23">frame_qscale</name></name> <operator pos:start="309:25" pos:end="309:25">=</operator> <call pos:start="309:27" pos:end="309:52"><name pos:start="309:27" pos:end="309:49">ff_rate_estimate_qscale</name><argument_list pos:start="309:50" pos:end="309:52">(<argument pos:start="309:51" pos:end="309:51"><expr pos:start="309:51" pos:end="309:51"><name pos:start="309:51" pos:end="309:51">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></else></if_stmt>



    <if_stmt pos:start="313:5" pos:end="343:48"><if pos:start="313:5" pos:end="341:5">if<condition pos:start="313:7" pos:end="313:25">(<expr pos:start="313:8" pos:end="313:24"><name pos:start="313:8" pos:end="313:24"><name pos:start="313:8" pos:end="313:8">s</name><operator pos:start="313:9" pos:end="313:10">-&gt;</operator><name pos:start="313:11" pos:end="313:24">adaptive_quant</name></name></expr>)</condition><block pos:start="313:26" pos:end="341:5">{<block_content pos:start="317:9" pos:end="339:54">

<cpp:ifdef pos:start="315:1" pos:end="315:19">#<cpp:directive pos:start="315:2" pos:end="315:6">ifdef</cpp:directive> <name pos:start="315:8" pos:end="315:19">CONFIG_RISKY</name></cpp:ifdef>

        <switch pos:start="317:9" pos:end="336:0">switch<condition pos:start="317:15" pos:end="317:27">(<expr pos:start="317:16" pos:end="317:26"><name pos:start="317:16" pos:end="317:26"><name pos:start="317:16" pos:end="317:16">s</name><operator pos:start="317:17" pos:end="317:18">-&gt;</operator><name pos:start="317:19" pos:end="317:26">codec_id</name></name></expr>)</condition><block pos:start="317:28" pos:end="336:0">{<block_content pos:start="319:9" pos:end="331:18">

        <case pos:start="319:9" pos:end="319:28">case <expr pos:start="319:14" pos:end="319:27"><name pos:start="319:14" pos:end="319:27">CODEC_ID_MPEG4</name></expr>:</case>

            <expr_stmt pos:start="321:13" pos:end="321:38"><expr pos:start="321:13" pos:end="321:37"><call pos:start="321:13" pos:end="321:37"><name pos:start="321:13" pos:end="321:34">ff_clean_mpeg4_qscales</name><argument_list pos:start="321:35" pos:end="321:37">(<argument pos:start="321:36" pos:end="321:36"><expr pos:start="321:36" pos:end="321:36"><name pos:start="321:36" pos:end="321:36">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <break pos:start="323:13" pos:end="323:18">break;</break>

        <case pos:start="325:9" pos:end="325:27">case <expr pos:start="325:14" pos:end="325:26"><name pos:start="325:14" pos:end="325:26">CODEC_ID_H263</name></expr>:</case>

        <case pos:start="327:9" pos:end="327:28">case <expr pos:start="327:14" pos:end="327:27"><name pos:start="327:14" pos:end="327:27">CODEC_ID_H263P</name></expr>:</case>

            <expr_stmt pos:start="329:13" pos:end="329:37"><expr pos:start="329:13" pos:end="329:36"><call pos:start="329:13" pos:end="329:36"><name pos:start="329:13" pos:end="329:33">ff_clean_h263_qscales</name><argument_list pos:start="329:34" pos:end="329:36">(<argument pos:start="329:35" pos:end="329:35"><expr pos:start="329:35" pos:end="329:35"><name pos:start="329:35" pos:end="329:35">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <break pos:start="331:13" pos:end="331:18">break;</break>

        </block_content>}</block></switch>

<cpp:endif pos:start="335:1" pos:end="335:6">#<cpp:directive pos:start="335:2" pos:end="335:6">endif</cpp:directive></cpp:endif>



        <expr_stmt pos:start="339:9" pos:end="339:54"><expr pos:start="339:9" pos:end="339:53"><name pos:start="339:9" pos:end="339:17"><name pos:start="339:9" pos:end="339:9">s</name><operator pos:start="339:10" pos:end="339:11">-&gt;</operator><name pos:start="339:12" pos:end="339:17">qscale</name></name><operator pos:start="339:18" pos:end="339:18">=</operator> <name pos:start="339:20" pos:end="339:53"><name pos:start="339:20" pos:end="339:20">s</name><operator pos:start="339:21" pos:end="339:22">-&gt;</operator><name pos:start="339:23" pos:end="339:37">current_picture</name><operator pos:start="339:38" pos:end="339:38">.</operator><name pos:start="339:39" pos:end="339:50">qscale_table</name><index pos:start="339:51" pos:end="339:53">[<expr pos:start="339:52" pos:end="339:52"><literal type="number" pos:start="339:52" pos:end="339:52">0</literal></expr>]</index></name></expr>;</expr_stmt>

    </block_content>}</block></if><else pos:start="341:6" pos:end="343:48">else<block type="pseudo" pos:start="343:9" pos:end="343:48"><block_content pos:start="343:9" pos:end="343:48">

        <expr_stmt pos:start="343:9" pos:end="343:48"><expr pos:start="343:9" pos:end="343:47"><name pos:start="343:9" pos:end="343:17"><name pos:start="343:9" pos:end="343:9">s</name><operator pos:start="343:10" pos:end="343:11">-&gt;</operator><name pos:start="343:12" pos:end="343:17">qscale</name></name><operator pos:start="343:18" pos:end="343:18">=</operator> <operator pos:start="343:20" pos:end="343:20">(</operator><name pos:start="343:21" pos:end="343:23">int</name><operator pos:start="343:24" pos:end="343:24">)</operator><operator pos:start="343:25" pos:end="343:25">(</operator><name pos:start="343:26" pos:end="343:40"><name pos:start="343:26" pos:end="343:26">s</name><operator pos:start="343:27" pos:end="343:28">-&gt;</operator><name pos:start="343:29" pos:end="343:40">frame_qscale</name></name> <operator pos:start="343:42" pos:end="343:42">+</operator> <literal type="number" pos:start="343:44" pos:end="343:46">0.5</literal><operator pos:start="343:47" pos:end="343:47">)</operator></expr>;</expr_stmt></block_content></block></else></if_stmt>

        

    <if_stmt pos:start="347:5" pos:end="367:5"><if pos:start="347:5" pos:end="367:5">if <condition pos:start="347:8" pos:end="347:35">(<expr pos:start="347:9" pos:end="347:34"><name pos:start="347:9" pos:end="347:21"><name pos:start="347:9" pos:end="347:9">s</name><operator pos:start="347:10" pos:end="347:11">-&gt;</operator><name pos:start="347:12" pos:end="347:21">out_format</name></name> <operator pos:start="347:23" pos:end="347:24">==</operator> <name pos:start="347:26" pos:end="347:34">FMT_MJPEG</name></expr>)</condition> <block pos:start="347:37" pos:end="367:5">{<block_content pos:start="351:9" pos:end="365:93">

        <comment type="block" pos:start="349:9" pos:end="349:59">/* for mjpeg, we do include qscale in the matrix */</comment>

        <expr_stmt pos:start="351:9" pos:end="351:62"><expr pos:start="351:9" pos:end="351:61"><name pos:start="351:9" pos:end="351:26"><name pos:start="351:9" pos:end="351:9">s</name><operator pos:start="351:10" pos:end="351:11">-&gt;</operator><name pos:start="351:12" pos:end="351:23">intra_matrix</name><index pos:start="351:24" pos:end="351:26">[<expr pos:start="351:25" pos:end="351:25"><literal type="number" pos:start="351:25" pos:end="351:25">0</literal></expr>]</index></name> <operator pos:start="351:28" pos:end="351:28">=</operator> <name pos:start="351:30" pos:end="351:61"><name pos:start="351:30" pos:end="351:58">ff_mpeg1_default_intra_matrix</name><index pos:start="351:59" pos:end="351:61">[<expr pos:start="351:60" pos:end="351:60"><literal type="number" pos:start="351:60" pos:end="351:60">0</literal></expr>]</index></name></expr>;</expr_stmt>

        <for pos:start="353:9" pos:end="361:9">for<control pos:start="353:12" pos:end="353:25">(<init pos:start="353:13" pos:end="353:16"><expr pos:start="353:13" pos:end="353:15"><name pos:start="353:13" pos:end="353:13">i</name><operator pos:start="353:14" pos:end="353:14">=</operator><literal type="number" pos:start="353:15" pos:end="353:15">1</literal></expr>;</init><condition pos:start="353:17" pos:end="353:21"><expr pos:start="353:17" pos:end="353:20"><name pos:start="353:17" pos:end="353:17">i</name><operator pos:start="353:18" pos:end="353:18">&lt;</operator><literal type="number" pos:start="353:19" pos:end="353:20">64</literal></expr>;</condition><incr pos:start="353:22" pos:end="353:24"><expr pos:start="353:22" pos:end="353:24"><name pos:start="353:22" pos:end="353:22">i</name><operator pos:start="353:23" pos:end="353:24">++</operator></expr></incr>)</control><block pos:start="353:26" pos:end="361:9">{<block_content pos:start="355:13" pos:end="359:100">

            <decl_stmt pos:start="355:13" pos:end="355:42"><decl pos:start="355:13" pos:end="355:41"><type pos:start="355:13" pos:end="355:15"><name pos:start="355:13" pos:end="355:15">int</name></type> <name pos:start="355:17" pos:end="355:17">j</name><init pos:start="355:18" pos:end="355:41">= <expr pos:start="355:20" pos:end="355:41"><name pos:start="355:20" pos:end="355:41"><name pos:start="355:20" pos:end="355:20">s</name><operator pos:start="355:21" pos:end="355:22">-&gt;</operator><name pos:start="355:23" pos:end="355:38">idct_permutation</name><index pos:start="355:39" pos:end="355:41">[<expr pos:start="355:40" pos:end="355:40"><name pos:start="355:40" pos:end="355:40">i</name></expr>]</index></name></expr></init></decl>;</decl_stmt>



            <expr_stmt pos:start="359:13" pos:end="359:100"><expr pos:start="359:13" pos:end="359:99"><name pos:start="359:13" pos:end="359:30"><name pos:start="359:13" pos:end="359:13">s</name><operator pos:start="359:14" pos:end="359:15">-&gt;</operator><name pos:start="359:16" pos:end="359:27">intra_matrix</name><index pos:start="359:28" pos:end="359:30">[<expr pos:start="359:29" pos:end="359:29"><name pos:start="359:29" pos:end="359:29">j</name></expr>]</index></name> <operator pos:start="359:32" pos:end="359:32">=</operator> <call pos:start="359:34" pos:end="359:99"><name pos:start="359:34" pos:end="359:46">CLAMP_TO_8BIT</name><argument_list pos:start="359:47" pos:end="359:99">(<argument pos:start="359:48" pos:end="359:98"><expr pos:start="359:48" pos:end="359:98"><operator pos:start="359:48" pos:end="359:48">(</operator><name pos:start="359:49" pos:end="359:80"><name pos:start="359:49" pos:end="359:77">ff_mpeg1_default_intra_matrix</name><index pos:start="359:78" pos:end="359:80">[<expr pos:start="359:79" pos:end="359:79"><name pos:start="359:79" pos:end="359:79">i</name></expr>]</index></name> <operator pos:start="359:82" pos:end="359:82">*</operator> <name pos:start="359:84" pos:end="359:92"><name pos:start="359:84" pos:end="359:84">s</name><operator pos:start="359:85" pos:end="359:86">-&gt;</operator><name pos:start="359:87" pos:end="359:92">qscale</name></name><operator pos:start="359:93" pos:end="359:93">)</operator> <operator pos:start="359:95" pos:end="359:96">&gt;&gt;</operator> <literal type="number" pos:start="359:98" pos:end="359:98">3</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></for>

        <expr_stmt pos:start="363:9" pos:end="365:93"><expr pos:start="363:9" pos:end="365:92"><call pos:start="363:9" pos:end="365:92"><name pos:start="363:9" pos:end="363:22">convert_matrix</name><argument_list pos:start="363:23" pos:end="365:92">(<argument pos:start="363:24" pos:end="363:24"><expr pos:start="363:24" pos:end="363:24"><name pos:start="363:24" pos:end="363:24">s</name></expr></argument>, <argument pos:start="363:27" pos:end="363:43"><expr pos:start="363:27" pos:end="363:43"><name pos:start="363:27" pos:end="363:43"><name pos:start="363:27" pos:end="363:27">s</name><operator pos:start="363:28" pos:end="363:29">-&gt;</operator><name pos:start="363:30" pos:end="363:43">q_intra_matrix</name></name></expr></argument>, <argument pos:start="363:46" pos:end="363:64"><expr pos:start="363:46" pos:end="363:64"><name pos:start="363:46" pos:end="363:64"><name pos:start="363:46" pos:end="363:46">s</name><operator pos:start="363:47" pos:end="363:48">-&gt;</operator><name pos:start="363:49" pos:end="363:64">q_intra_matrix16</name></name></expr></argument>, 

                       <argument pos:start="365:24" pos:end="365:47"><expr pos:start="365:24" pos:end="365:47"><name pos:start="365:24" pos:end="365:47"><name pos:start="365:24" pos:end="365:24">s</name><operator pos:start="365:25" pos:end="365:26">-&gt;</operator><name pos:start="365:27" pos:end="365:47">q_intra_matrix16_bias</name></name></expr></argument>, <argument pos:start="365:50" pos:end="365:64"><expr pos:start="365:50" pos:end="365:64"><name pos:start="365:50" pos:end="365:64"><name pos:start="365:50" pos:end="365:50">s</name><operator pos:start="365:51" pos:end="365:52">-&gt;</operator><name pos:start="365:53" pos:end="365:64">intra_matrix</name></name></expr></argument>, <argument pos:start="365:67" pos:end="365:85"><expr pos:start="365:67" pos:end="365:85"><name pos:start="365:67" pos:end="365:85"><name pos:start="365:67" pos:end="365:67">s</name><operator pos:start="365:68" pos:end="365:69">-&gt;</operator><name pos:start="365:70" pos:end="365:85">intra_quant_bias</name></name></expr></argument>, <argument pos:start="365:88" pos:end="365:88"><expr pos:start="365:88" pos:end="365:88"><literal type="number" pos:start="365:88" pos:end="365:88">8</literal></expr></argument>, <argument pos:start="365:91" pos:end="365:91"><expr pos:start="365:91" pos:end="365:91"><literal type="number" pos:start="365:91" pos:end="365:91">8</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    

    <comment type="line" pos:start="371:5" pos:end="371:27">//FIXME var duplication</comment>

    <expr_stmt pos:start="373:5" pos:end="373:57"><expr pos:start="373:5" pos:end="373:56"><name pos:start="373:5" pos:end="373:32"><name pos:start="373:5" pos:end="373:5">s</name><operator pos:start="373:6" pos:end="373:7">-&gt;</operator><name pos:start="373:8" pos:end="373:22">current_picture</name><operator pos:start="373:23" pos:end="373:23">.</operator><name pos:start="373:24" pos:end="373:32">key_frame</name></name><operator pos:start="373:33" pos:end="373:33">=</operator> <name pos:start="373:35" pos:end="373:46"><name pos:start="373:35" pos:end="373:35">s</name><operator pos:start="373:36" pos:end="373:37">-&gt;</operator><name pos:start="373:38" pos:end="373:46">pict_type</name></name> <operator pos:start="373:48" pos:end="373:49">==</operator> <name pos:start="373:51" pos:end="373:56">I_TYPE</name></expr>;</expr_stmt>

    <expr_stmt pos:start="375:5" pos:end="375:47"><expr pos:start="375:5" pos:end="375:46"><name pos:start="375:5" pos:end="375:32"><name pos:start="375:5" pos:end="375:5">s</name><operator pos:start="375:6" pos:end="375:7">-&gt;</operator><name pos:start="375:8" pos:end="375:22">current_picture</name><operator pos:start="375:23" pos:end="375:23">.</operator><name pos:start="375:24" pos:end="375:32">pict_type</name></name><operator pos:start="375:33" pos:end="375:33">=</operator> <name pos:start="375:35" pos:end="375:46"><name pos:start="375:35" pos:end="375:35">s</name><operator pos:start="375:36" pos:end="375:37">-&gt;</operator><name pos:start="375:38" pos:end="375:46">pict_type</name></name></expr>;</expr_stmt>



    <if_stmt pos:start="379:5" pos:end="381:35"><if pos:start="379:5" pos:end="381:35">if<condition pos:start="379:7" pos:end="379:36">(<expr pos:start="379:8" pos:end="379:35"><name pos:start="379:8" pos:end="379:35"><name pos:start="379:8" pos:end="379:8">s</name><operator pos:start="379:9" pos:end="379:10">-&gt;</operator><name pos:start="379:11" pos:end="379:25">current_picture</name><operator pos:start="379:26" pos:end="379:26">.</operator><name pos:start="379:27" pos:end="379:35">key_frame</name></name></expr>)</condition><block type="pseudo" pos:start="381:9" pos:end="381:35"><block_content pos:start="381:9" pos:end="381:35">

        <expr_stmt pos:start="381:9" pos:end="381:35"><expr pos:start="381:9" pos:end="381:34"><name pos:start="381:9" pos:end="381:32"><name pos:start="381:9" pos:end="381:9">s</name><operator pos:start="381:10" pos:end="381:11">-&gt;</operator><name pos:start="381:12" pos:end="381:32">picture_in_gop_number</name></name><operator pos:start="381:33" pos:end="381:33">=</operator><literal type="number" pos:start="381:34" pos:end="381:34">0</literal></expr>;</expr_stmt></block_content></block></if></if_stmt>



    <expr_stmt pos:start="385:5" pos:end="385:40"><expr pos:start="385:5" pos:end="385:39"><name pos:start="385:5" pos:end="385:16"><name pos:start="385:5" pos:end="385:5">s</name><operator pos:start="385:6" pos:end="385:7">-&gt;</operator><name pos:start="385:8" pos:end="385:16">last_bits</name></name><operator pos:start="385:17" pos:end="385:17">=</operator> <call pos:start="385:19" pos:end="385:39"><name pos:start="385:19" pos:end="385:31">get_bit_count</name><argument_list pos:start="385:32" pos:end="385:39">(<argument pos:start="385:33" pos:end="385:38"><expr pos:start="385:33" pos:end="385:38"><operator pos:start="385:33" pos:end="385:33">&amp;</operator><name pos:start="385:34" pos:end="385:38"><name pos:start="385:34" pos:end="385:34">s</name><operator pos:start="385:35" pos:end="385:36">-&gt;</operator><name pos:start="385:37" pos:end="385:38">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <switch pos:start="387:5" pos:end="429:5">switch<condition pos:start="387:11" pos:end="387:25">(<expr pos:start="387:12" pos:end="387:24"><name pos:start="387:12" pos:end="387:24"><name pos:start="387:12" pos:end="387:12">s</name><operator pos:start="387:13" pos:end="387:14">-&gt;</operator><name pos:start="387:15" pos:end="387:24">out_format</name></name></expr>)</condition> <block pos:start="387:27" pos:end="429:5">{<block_content pos:start="389:5" pos:end="427:14">

    <case pos:start="389:5" pos:end="389:19">case <expr pos:start="389:10" pos:end="389:18"><name pos:start="389:10" pos:end="389:18">FMT_MJPEG</name></expr>:</case>

        <expr_stmt pos:start="391:9" pos:end="391:32"><expr pos:start="391:9" pos:end="391:31"><call pos:start="391:9" pos:end="391:31"><name pos:start="391:9" pos:end="391:28">mjpeg_picture_header</name><argument_list pos:start="391:29" pos:end="391:31">(<argument pos:start="391:30" pos:end="391:30"><expr pos:start="391:30" pos:end="391:30"><name pos:start="391:30" pos:end="391:30">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <break pos:start="393:9" pos:end="396:0">break;</break>

<cpp:ifdef pos:start="395:1" pos:end="395:19">#<cpp:directive pos:start="395:2" pos:end="395:6">ifdef</cpp:directive> <name pos:start="395:8" pos:end="395:19">CONFIG_RISKY</name></cpp:ifdef>

    <case pos:start="397:5" pos:end="397:18">case <expr pos:start="397:10" pos:end="397:17"><name pos:start="397:10" pos:end="397:17">FMT_H263</name></expr>:</case>

        <if_stmt pos:start="399:9" pos:end="417:58"><if pos:start="399:9" pos:end="401:61">if <condition pos:start="399:12" pos:end="399:41">(<expr pos:start="399:13" pos:end="399:40"><name pos:start="399:13" pos:end="399:23"><name pos:start="399:13" pos:end="399:13">s</name><operator pos:start="399:14" pos:end="399:15">-&gt;</operator><name pos:start="399:16" pos:end="399:23">codec_id</name></name> <operator pos:start="399:25" pos:end="399:26">==</operator> <name pos:start="399:28" pos:end="399:40">CODEC_ID_WMV2</name></expr>)</condition><block type="pseudo" pos:start="401:13" pos:end="401:61"><block_content pos:start="401:13" pos:end="401:61"> 

            <expr_stmt pos:start="401:13" pos:end="401:61"><expr pos:start="401:13" pos:end="401:60"><call pos:start="401:13" pos:end="401:60"><name pos:start="401:13" pos:end="401:41">ff_wmv2_encode_picture_header</name><argument_list pos:start="401:42" pos:end="401:60">(<argument pos:start="401:43" pos:end="401:43"><expr pos:start="401:43" pos:end="401:43"><name pos:start="401:43" pos:end="401:43">s</name></expr></argument>, <argument pos:start="401:46" pos:end="401:59"><expr pos:start="401:46" pos:end="401:59"><name pos:start="401:46" pos:end="401:59">picture_number</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if>

        <if type="elseif" pos:start="403:9" pos:end="405:61">else if <condition pos:start="403:17" pos:end="403:33">(<expr pos:start="403:18" pos:end="403:32"><name pos:start="403:18" pos:end="403:32"><name pos:start="403:18" pos:end="403:18">s</name><operator pos:start="403:19" pos:end="403:20">-&gt;</operator><name pos:start="403:21" pos:end="403:32">h263_msmpeg4</name></name></expr>)</condition><block type="pseudo" pos:start="405:13" pos:end="405:61"><block_content pos:start="405:13" pos:end="405:61"> 

            <expr_stmt pos:start="405:13" pos:end="405:61"><expr pos:start="405:13" pos:end="405:60"><call pos:start="405:13" pos:end="405:60"><name pos:start="405:13" pos:end="405:41">msmpeg4_encode_picture_header</name><argument_list pos:start="405:42" pos:end="405:60">(<argument pos:start="405:43" pos:end="405:43"><expr pos:start="405:43" pos:end="405:43"><name pos:start="405:43" pos:end="405:43">s</name></expr></argument>, <argument pos:start="405:46" pos:end="405:59"><expr pos:start="405:46" pos:end="405:59"><name pos:start="405:46" pos:end="405:59">picture_number</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if>

        <if type="elseif" pos:start="407:9" pos:end="409:59">else if <condition pos:start="407:17" pos:end="407:30">(<expr pos:start="407:18" pos:end="407:29"><name pos:start="407:18" pos:end="407:29"><name pos:start="407:18" pos:end="407:18">s</name><operator pos:start="407:19" pos:end="407:20">-&gt;</operator><name pos:start="407:21" pos:end="407:29">h263_pred</name></name></expr>)</condition><block type="pseudo" pos:start="409:13" pos:end="409:59"><block_content pos:start="409:13" pos:end="409:59">

            <expr_stmt pos:start="409:13" pos:end="409:59"><expr pos:start="409:13" pos:end="409:58"><call pos:start="409:13" pos:end="409:58"><name pos:start="409:13" pos:end="409:39">mpeg4_encode_picture_header</name><argument_list pos:start="409:40" pos:end="409:58">(<argument pos:start="409:41" pos:end="409:41"><expr pos:start="409:41" pos:end="409:41"><name pos:start="409:41" pos:end="409:41">s</name></expr></argument>, <argument pos:start="409:44" pos:end="409:57"><expr pos:start="409:44" pos:end="409:57"><name pos:start="409:44" pos:end="409:57">picture_number</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if>

        <if type="elseif" pos:start="411:9" pos:end="413:58">else if <condition pos:start="411:17" pos:end="411:30">(<expr pos:start="411:18" pos:end="411:29"><name pos:start="411:18" pos:end="411:29"><name pos:start="411:18" pos:end="411:18">s</name><operator pos:start="411:19" pos:end="411:20">-&gt;</operator><name pos:start="411:21" pos:end="411:29">h263_rv10</name></name></expr>)</condition><block type="pseudo" pos:start="413:13" pos:end="413:58"><block_content pos:start="413:13" pos:end="413:58"> 

            <expr_stmt pos:start="413:13" pos:end="413:58"><expr pos:start="413:13" pos:end="413:57"><call pos:start="413:13" pos:end="413:57"><name pos:start="413:13" pos:end="413:38">rv10_encode_picture_header</name><argument_list pos:start="413:39" pos:end="413:57">(<argument pos:start="413:40" pos:end="413:40"><expr pos:start="413:40" pos:end="413:40"><name pos:start="413:40" pos:end="413:40">s</name></expr></argument>, <argument pos:start="413:43" pos:end="413:56"><expr pos:start="413:43" pos:end="413:56"><name pos:start="413:43" pos:end="413:56">picture_number</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if>

        <else pos:start="415:9" pos:end="417:58">else<block type="pseudo" pos:start="417:13" pos:end="417:58"><block_content pos:start="417:13" pos:end="417:58">

            <expr_stmt pos:start="417:13" pos:end="417:58"><expr pos:start="417:13" pos:end="417:57"><call pos:start="417:13" pos:end="417:57"><name pos:start="417:13" pos:end="417:38">h263_encode_picture_header</name><argument_list pos:start="417:39" pos:end="417:57">(<argument pos:start="417:40" pos:end="417:40"><expr pos:start="417:40" pos:end="417:40"><name pos:start="417:40" pos:end="417:40">s</name></expr></argument>, <argument pos:start="417:43" pos:end="417:56"><expr pos:start="417:43" pos:end="417:56"><name pos:start="417:43" pos:end="417:56">picture_number</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></else></if_stmt>

        <break pos:start="419:9" pos:end="422:0">break;</break>

<cpp:endif pos:start="421:1" pos:end="421:6">#<cpp:directive pos:start="421:2" pos:end="421:6">endif</cpp:directive></cpp:endif>

    <case pos:start="423:5" pos:end="423:19">case <expr pos:start="423:10" pos:end="423:18"><name pos:start="423:10" pos:end="423:18">FMT_MPEG1</name></expr>:</case>

        <expr_stmt pos:start="425:9" pos:end="425:55"><expr pos:start="425:9" pos:end="425:54"><call pos:start="425:9" pos:end="425:54"><name pos:start="425:9" pos:end="425:35">mpeg1_encode_picture_header</name><argument_list pos:start="425:36" pos:end="425:54">(<argument pos:start="425:37" pos:end="425:37"><expr pos:start="425:37" pos:end="425:37"><name pos:start="425:37" pos:end="425:37">s</name></expr></argument>, <argument pos:start="425:40" pos:end="425:53"><expr pos:start="425:40" pos:end="425:53"><name pos:start="425:40" pos:end="425:53">picture_number</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <break pos:start="427:9" pos:end="427:14">break;</break>

    </block_content>}</block></switch>

    <expr_stmt pos:start="431:5" pos:end="431:32"><expr pos:start="431:5" pos:end="431:31"><name pos:start="431:5" pos:end="431:8">bits</name><operator pos:start="431:9" pos:end="431:9">=</operator> <call pos:start="431:11" pos:end="431:31"><name pos:start="431:11" pos:end="431:23">get_bit_count</name><argument_list pos:start="431:24" pos:end="431:31">(<argument pos:start="431:25" pos:end="431:30"><expr pos:start="431:25" pos:end="431:30"><operator pos:start="431:25" pos:end="431:25">&amp;</operator><name pos:start="431:26" pos:end="431:30"><name pos:start="431:26" pos:end="431:26">s</name><operator pos:start="431:27" pos:end="431:28">-&gt;</operator><name pos:start="431:29" pos:end="431:30">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="433:5" pos:end="433:40"><expr pos:start="433:5" pos:end="433:39"><name pos:start="433:5" pos:end="433:18"><name pos:start="433:5" pos:end="433:5">s</name><operator pos:start="433:6" pos:end="433:7">-&gt;</operator><name pos:start="433:8" pos:end="433:18">header_bits</name></name><operator pos:start="433:19" pos:end="433:19">=</operator> <name pos:start="433:21" pos:end="433:24">bits</name> <operator pos:start="433:26" pos:end="433:26">-</operator> <name pos:start="433:28" pos:end="433:39"><name pos:start="433:28" pos:end="433:28">s</name><operator pos:start="433:29" pos:end="433:30">-&gt;</operator><name pos:start="433:31" pos:end="433:39">last_bits</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="435:5" pos:end="435:23"><expr pos:start="435:5" pos:end="435:22"><name pos:start="435:5" pos:end="435:16"><name pos:start="435:5" pos:end="435:5">s</name><operator pos:start="435:6" pos:end="435:7">-&gt;</operator><name pos:start="435:8" pos:end="435:16">last_bits</name></name><operator pos:start="435:17" pos:end="435:17">=</operator> <name pos:start="435:19" pos:end="435:22">bits</name></expr>;</expr_stmt>

    <expr_stmt pos:start="437:5" pos:end="437:17"><expr pos:start="437:5" pos:end="437:16"><name pos:start="437:5" pos:end="437:14"><name pos:start="437:5" pos:end="437:5">s</name><operator pos:start="437:6" pos:end="437:7">-&gt;</operator><name pos:start="437:8" pos:end="437:14">mv_bits</name></name><operator pos:start="437:15" pos:end="437:15">=</operator><literal type="number" pos:start="437:16" pos:end="437:16">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="439:5" pos:end="439:19"><expr pos:start="439:5" pos:end="439:18"><name pos:start="439:5" pos:end="439:16"><name pos:start="439:5" pos:end="439:5">s</name><operator pos:start="439:6" pos:end="439:7">-&gt;</operator><name pos:start="439:8" pos:end="439:16">misc_bits</name></name><operator pos:start="439:17" pos:end="439:17">=</operator><literal type="number" pos:start="439:18" pos:end="439:18">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="441:5" pos:end="441:20"><expr pos:start="441:5" pos:end="441:19"><name pos:start="441:5" pos:end="441:17"><name pos:start="441:5" pos:end="441:5">s</name><operator pos:start="441:6" pos:end="441:7">-&gt;</operator><name pos:start="441:8" pos:end="441:17">i_tex_bits</name></name><operator pos:start="441:18" pos:end="441:18">=</operator><literal type="number" pos:start="441:19" pos:end="441:19">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="443:5" pos:end="443:20"><expr pos:start="443:5" pos:end="443:19"><name pos:start="443:5" pos:end="443:17"><name pos:start="443:5" pos:end="443:5">s</name><operator pos:start="443:6" pos:end="443:7">-&gt;</operator><name pos:start="443:8" pos:end="443:17">p_tex_bits</name></name><operator pos:start="443:18" pos:end="443:18">=</operator><literal type="number" pos:start="443:19" pos:end="443:19">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="445:5" pos:end="445:17"><expr pos:start="445:5" pos:end="445:16"><name pos:start="445:5" pos:end="445:14"><name pos:start="445:5" pos:end="445:5">s</name><operator pos:start="445:6" pos:end="445:7">-&gt;</operator><name pos:start="445:8" pos:end="445:14">i_count</name></name><operator pos:start="445:15" pos:end="445:15">=</operator><literal type="number" pos:start="445:16" pos:end="445:16">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="447:5" pos:end="447:17"><expr pos:start="447:5" pos:end="447:16"><name pos:start="447:5" pos:end="447:14"><name pos:start="447:5" pos:end="447:5">s</name><operator pos:start="447:6" pos:end="447:7">-&gt;</operator><name pos:start="447:8" pos:end="447:14">f_count</name></name><operator pos:start="447:15" pos:end="447:15">=</operator><literal type="number" pos:start="447:16" pos:end="447:16">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="449:5" pos:end="449:17"><expr pos:start="449:5" pos:end="449:16"><name pos:start="449:5" pos:end="449:14"><name pos:start="449:5" pos:end="449:5">s</name><operator pos:start="449:6" pos:end="449:7">-&gt;</operator><name pos:start="449:8" pos:end="449:14">b_count</name></name><operator pos:start="449:15" pos:end="449:15">=</operator><literal type="number" pos:start="449:16" pos:end="449:16">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="451:5" pos:end="451:20"><expr pos:start="451:5" pos:end="451:19"><name pos:start="451:5" pos:end="451:17"><name pos:start="451:5" pos:end="451:5">s</name><operator pos:start="451:6" pos:end="451:7">-&gt;</operator><name pos:start="451:8" pos:end="451:17">skip_count</name></name><operator pos:start="451:18" pos:end="451:18">=</operator><literal type="number" pos:start="451:19" pos:end="451:19">0</literal></expr>;</expr_stmt>



    <for pos:start="455:5" pos:end="467:5">for<control pos:start="455:8" pos:end="455:22">(<init pos:start="455:9" pos:end="455:12"><expr pos:start="455:9" pos:end="455:11"><name pos:start="455:9" pos:end="455:9">i</name><operator pos:start="455:10" pos:end="455:10">=</operator><literal type="number" pos:start="455:11" pos:end="455:11">0</literal></expr>;</init> <condition pos:start="455:14" pos:end="455:17"><expr pos:start="455:14" pos:end="455:16"><name pos:start="455:14" pos:end="455:14">i</name><operator pos:start="455:15" pos:end="455:15">&lt;</operator><literal type="number" pos:start="455:16" pos:end="455:16">3</literal></expr>;</condition> <incr pos:start="455:19" pos:end="455:21"><expr pos:start="455:19" pos:end="455:21"><name pos:start="455:19" pos:end="455:19">i</name><operator pos:start="455:20" pos:end="455:21">++</operator></expr></incr>)</control><block pos:start="455:23" pos:end="467:5">{<block_content pos:start="461:9" pos:end="465:40">

        <comment type="block" pos:start="457:9" pos:end="457:33">/* init last dc values */</comment>

        <comment type="block" pos:start="459:9" pos:end="459:58">/* note: quant matrix value (8) is implied here */</comment>

        <expr_stmt pos:start="461:9" pos:end="461:28"><expr pos:start="461:9" pos:end="461:27"><name pos:start="461:9" pos:end="461:21"><name pos:start="461:9" pos:end="461:9">s</name><operator pos:start="461:10" pos:end="461:11">-&gt;</operator><name pos:start="461:12" pos:end="461:18">last_dc</name><index pos:start="461:19" pos:end="461:21">[<expr pos:start="461:20" pos:end="461:20"><name pos:start="461:20" pos:end="461:20">i</name></expr>]</index></name> <operator pos:start="461:23" pos:end="461:23">=</operator> <literal type="number" pos:start="461:25" pos:end="461:27">128</literal></expr>;</expr_stmt>

        

        <expr_stmt pos:start="465:9" pos:end="465:40"><expr pos:start="465:9" pos:end="465:39"><name pos:start="465:9" pos:end="465:35"><name pos:start="465:9" pos:end="465:9">s</name><operator pos:start="465:10" pos:end="465:11">-&gt;</operator><name pos:start="465:12" pos:end="465:26">current_picture</name><operator pos:start="465:27" pos:end="465:27">.</operator><name pos:start="465:28" pos:end="465:32">error</name><index pos:start="465:33" pos:end="465:35">[<expr pos:start="465:34" pos:end="465:34"><name pos:start="465:34" pos:end="465:34">i</name></expr>]</index></name> <operator pos:start="465:37" pos:end="465:37">=</operator> <literal type="number" pos:start="465:39" pos:end="465:39">0</literal></expr>;</expr_stmt>

    </block_content>}</block></for>

    <expr_stmt pos:start="469:5" pos:end="469:19"><expr pos:start="469:5" pos:end="469:18"><name pos:start="469:5" pos:end="469:14"><name pos:start="469:5" pos:end="469:5">s</name><operator pos:start="469:6" pos:end="469:7">-&gt;</operator><name pos:start="469:8" pos:end="469:14">mb_incr</name></name> <operator pos:start="469:16" pos:end="469:16">=</operator> <literal type="number" pos:start="469:18" pos:end="469:18">1</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="471:5" pos:end="471:28"><expr pos:start="471:5" pos:end="471:27"><name pos:start="471:5" pos:end="471:23"><name pos:start="471:5" pos:end="471:5">s</name><operator pos:start="471:6" pos:end="471:7">-&gt;</operator><name pos:start="471:8" pos:end="471:14">last_mv</name><index pos:start="471:15" pos:end="471:17">[<expr pos:start="471:16" pos:end="471:16"><literal type="number" pos:start="471:16" pos:end="471:16">0</literal></expr>]</index><index pos:start="471:18" pos:end="471:20">[<expr pos:start="471:19" pos:end="471:19"><literal type="number" pos:start="471:19" pos:end="471:19">0</literal></expr>]</index><index pos:start="471:21" pos:end="471:23">[<expr pos:start="471:22" pos:end="471:22"><literal type="number" pos:start="471:22" pos:end="471:22">0</literal></expr>]</index></name> <operator pos:start="471:25" pos:end="471:25">=</operator> <literal type="number" pos:start="471:27" pos:end="471:27">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="473:5" pos:end="473:28"><expr pos:start="473:5" pos:end="473:27"><name pos:start="473:5" pos:end="473:23"><name pos:start="473:5" pos:end="473:5">s</name><operator pos:start="473:6" pos:end="473:7">-&gt;</operator><name pos:start="473:8" pos:end="473:14">last_mv</name><index pos:start="473:15" pos:end="473:17">[<expr pos:start="473:16" pos:end="473:16"><literal type="number" pos:start="473:16" pos:end="473:16">0</literal></expr>]</index><index pos:start="473:18" pos:end="473:20">[<expr pos:start="473:19" pos:end="473:19"><literal type="number" pos:start="473:19" pos:end="473:19">0</literal></expr>]</index><index pos:start="473:21" pos:end="473:23">[<expr pos:start="473:22" pos:end="473:22"><literal type="number" pos:start="473:22" pos:end="473:22">1</literal></expr>]</index></name> <operator pos:start="473:25" pos:end="473:25">=</operator> <literal type="number" pos:start="473:27" pos:end="473:27">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="475:5" pos:end="475:28"><expr pos:start="475:5" pos:end="475:27"><name pos:start="475:5" pos:end="475:23"><name pos:start="475:5" pos:end="475:5">s</name><operator pos:start="475:6" pos:end="475:7">-&gt;</operator><name pos:start="475:8" pos:end="475:14">last_mv</name><index pos:start="475:15" pos:end="475:17">[<expr pos:start="475:16" pos:end="475:16"><literal type="number" pos:start="475:16" pos:end="475:16">1</literal></expr>]</index><index pos:start="475:18" pos:end="475:20">[<expr pos:start="475:19" pos:end="475:19"><literal type="number" pos:start="475:19" pos:end="475:19">0</literal></expr>]</index><index pos:start="475:21" pos:end="475:23">[<expr pos:start="475:22" pos:end="475:22"><literal type="number" pos:start="475:22" pos:end="475:22">0</literal></expr>]</index></name> <operator pos:start="475:25" pos:end="475:25">=</operator> <literal type="number" pos:start="475:27" pos:end="475:27">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="477:5" pos:end="477:28"><expr pos:start="477:5" pos:end="477:27"><name pos:start="477:5" pos:end="477:23"><name pos:start="477:5" pos:end="477:5">s</name><operator pos:start="477:6" pos:end="477:7">-&gt;</operator><name pos:start="477:8" pos:end="477:14">last_mv</name><index pos:start="477:15" pos:end="477:17">[<expr pos:start="477:16" pos:end="477:16"><literal type="number" pos:start="477:16" pos:end="477:16">1</literal></expr>]</index><index pos:start="477:18" pos:end="477:20">[<expr pos:start="477:19" pos:end="477:19"><literal type="number" pos:start="477:19" pos:end="477:19">0</literal></expr>]</index><index pos:start="477:21" pos:end="477:23">[<expr pos:start="477:22" pos:end="477:22"><literal type="number" pos:start="477:22" pos:end="477:22">1</literal></expr>]</index></name> <operator pos:start="477:25" pos:end="477:25">=</operator> <literal type="number" pos:start="477:27" pos:end="477:27">0</literal></expr>;</expr_stmt>

     

    <expr_stmt pos:start="481:5" pos:end="486:0"><expr pos:start="481:5" pos:end="481:22"><name pos:start="481:5" pos:end="481:18"><name pos:start="481:5" pos:end="481:5">s</name><operator pos:start="481:6" pos:end="481:7">-&gt;</operator><name pos:start="481:8" pos:end="481:18">last_mv_dir</name></name> <operator pos:start="481:20" pos:end="481:20">=</operator> <literal type="number" pos:start="481:22" pos:end="481:22">0</literal></expr>;</expr_stmt>



<cpp:ifdef pos:start="485:1" pos:end="485:19">#<cpp:directive pos:start="485:2" pos:end="485:6">ifdef</cpp:directive> <name pos:start="485:8" pos:end="485:19">CONFIG_RISKY</name></cpp:ifdef>

    <if_stmt pos:start="487:5" pos:end="489:49"><if pos:start="487:5" pos:end="489:49">if <condition pos:start="487:8" pos:end="487:66">(<expr pos:start="487:9" pos:end="487:65"><name pos:start="487:9" pos:end="487:19"><name pos:start="487:9" pos:end="487:9">s</name><operator pos:start="487:10" pos:end="487:11">-&gt;</operator><name pos:start="487:12" pos:end="487:19">codec_id</name></name><operator pos:start="487:20" pos:end="487:21">==</operator><name pos:start="487:22" pos:end="487:34">CODEC_ID_H263</name> <operator pos:start="487:36" pos:end="487:37">||</operator> <name pos:start="487:39" pos:end="487:49"><name pos:start="487:39" pos:end="487:39">s</name><operator pos:start="487:40" pos:end="487:41">-&gt;</operator><name pos:start="487:42" pos:end="487:49">codec_id</name></name><operator pos:start="487:50" pos:end="487:51">==</operator><name pos:start="487:52" pos:end="487:65">CODEC_ID_H263P</name></expr>)</condition><block type="pseudo" pos:start="489:9" pos:end="489:49"><block_content pos:start="489:9" pos:end="489:49">

        <expr_stmt pos:start="489:9" pos:end="489:49"><expr pos:start="489:9" pos:end="489:48"><name pos:start="489:9" pos:end="489:20"><name pos:start="489:9" pos:end="489:9">s</name><operator pos:start="489:10" pos:end="489:11">-&gt;</operator><name pos:start="489:12" pos:end="489:20">gob_index</name></name> <operator pos:start="489:22" pos:end="489:22">=</operator> <call pos:start="489:24" pos:end="489:48"><name pos:start="489:24" pos:end="489:45">ff_h263_get_gob_height</name><argument_list pos:start="489:46" pos:end="489:48">(<argument pos:start="489:47" pos:end="489:47"><expr pos:start="489:47" pos:end="489:47"><name pos:start="489:47" pos:end="489:47">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>



    <if_stmt pos:start="493:5" pos:end="498:0"><if pos:start="493:5" pos:end="498:0">if<condition pos:start="493:7" pos:end="493:59">(<expr pos:start="493:8" pos:end="493:58"><name pos:start="493:8" pos:end="493:18"><name pos:start="493:8" pos:end="493:8">s</name><operator pos:start="493:9" pos:end="493:10">-&gt;</operator><name pos:start="493:11" pos:end="493:18">codec_id</name></name><operator pos:start="493:19" pos:end="493:20">==</operator><name pos:start="493:21" pos:end="493:34">CODEC_ID_MPEG4</name> <operator pos:start="493:36" pos:end="493:37">&amp;&amp;</operator> <name pos:start="493:39" pos:end="493:58"><name pos:start="493:39" pos:end="493:39">s</name><operator pos:start="493:40" pos:end="493:41">-&gt;</operator><name pos:start="493:42" pos:end="493:58">partitioned_frame</name></name></expr>)</condition><block type="pseudo" pos:start="495:9" pos:end="498:0"><block_content pos:start="495:9" pos:end="498:0">

        <expr_stmt pos:start="495:9" pos:end="498:0"><expr pos:start="495:9" pos:end="495:35"><call pos:start="495:9" pos:end="495:35"><name pos:start="495:9" pos:end="495:32">ff_mpeg4_init_partitions</name><argument_list pos:start="495:33" pos:end="495:35">(<argument pos:start="495:34" pos:end="495:34"><expr pos:start="495:34" pos:end="495:34"><name pos:start="495:34" pos:end="495:34">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

<cpp:endif pos:start="497:1" pos:end="497:6">#<cpp:directive pos:start="497:2" pos:end="497:6">endif</cpp:directive></cpp:endif>



    <expr_stmt pos:start="501:5" pos:end="501:21"><expr pos:start="501:5" pos:end="501:20"><name pos:start="501:5" pos:end="501:18"><name pos:start="501:5" pos:end="501:5">s</name><operator pos:start="501:6" pos:end="501:7">-&gt;</operator><name pos:start="501:8" pos:end="501:18">resync_mb_x</name></name><operator pos:start="501:19" pos:end="501:19">=</operator><literal type="number" pos:start="501:20" pos:end="501:20">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="503:5" pos:end="503:21"><expr pos:start="503:5" pos:end="503:20"><name pos:start="503:5" pos:end="503:18"><name pos:start="503:5" pos:end="503:5">s</name><operator pos:start="503:6" pos:end="503:7">-&gt;</operator><name pos:start="503:8" pos:end="503:18">resync_mb_y</name></name><operator pos:start="503:19" pos:end="503:19">=</operator><literal type="number" pos:start="503:20" pos:end="503:20">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="505:5" pos:end="505:28"><expr pos:start="505:5" pos:end="505:27"><name pos:start="505:5" pos:end="505:23"><name pos:start="505:5" pos:end="505:5">s</name><operator pos:start="505:6" pos:end="505:7">-&gt;</operator><name pos:start="505:8" pos:end="505:23">first_slice_line</name></name> <operator pos:start="505:25" pos:end="505:25">=</operator> <literal type="number" pos:start="505:27" pos:end="505:27">1</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="507:5" pos:end="507:31"><expr pos:start="507:5" pos:end="507:30"><name pos:start="507:5" pos:end="507:18"><name pos:start="507:5" pos:end="507:5">s</name><operator pos:start="507:6" pos:end="507:7">-&gt;</operator><name pos:start="507:8" pos:end="507:18">ptr_lastgob</name></name> <operator pos:start="507:20" pos:end="507:20">=</operator> <name pos:start="507:22" pos:end="507:30"><name pos:start="507:22" pos:end="507:22">s</name><operator pos:start="507:23" pos:end="507:24">-&gt;</operator><name pos:start="507:25" pos:end="507:26">pb</name><operator pos:start="507:27" pos:end="507:27">.</operator><name pos:start="507:28" pos:end="507:30">buf</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="509:5" pos:end="509:36"><expr pos:start="509:5" pos:end="509:35"><name pos:start="509:5" pos:end="509:23"><name pos:start="509:5" pos:end="509:5">s</name><operator pos:start="509:6" pos:end="509:7">-&gt;</operator><name pos:start="509:8" pos:end="509:23">ptr_last_mb_line</name></name> <operator pos:start="509:25" pos:end="509:25">=</operator> <name pos:start="509:27" pos:end="509:35"><name pos:start="509:27" pos:end="509:27">s</name><operator pos:start="509:28" pos:end="509:29">-&gt;</operator><name pos:start="509:30" pos:end="509:31">pb</name><operator pos:start="509:32" pos:end="509:32">.</operator><name pos:start="509:33" pos:end="509:35">buf</name></name></expr>;</expr_stmt>

    <for pos:start="511:5" pos:end="1267:5">for<control pos:start="511:8" pos:end="511:44">(<init pos:start="511:9" pos:end="511:15"><expr pos:start="511:9" pos:end="511:14"><name pos:start="511:9" pos:end="511:12">mb_y</name><operator pos:start="511:13" pos:end="511:13">=</operator><literal type="number" pos:start="511:14" pos:end="511:14">0</literal></expr>;</init> <condition pos:start="511:17" pos:end="511:36"><expr pos:start="511:17" pos:end="511:35"><name pos:start="511:17" pos:end="511:20">mb_y</name> <operator pos:start="511:22" pos:end="511:22">&lt;</operator> <name pos:start="511:24" pos:end="511:35"><name pos:start="511:24" pos:end="511:24">s</name><operator pos:start="511:25" pos:end="511:26">-&gt;</operator><name pos:start="511:27" pos:end="511:35">mb_height</name></name></expr>;</condition> <incr pos:start="511:38" pos:end="511:43"><expr pos:start="511:38" pos:end="511:43"><name pos:start="511:38" pos:end="511:41">mb_y</name><operator pos:start="511:42" pos:end="511:43">++</operator></expr></incr>)</control> <block pos:start="511:46" pos:end="1267:5">{<block_content pos:start="513:9" pos:end="1265:9">

        <expr_stmt pos:start="513:9" pos:end="513:56"><expr pos:start="513:9" pos:end="513:55"><name pos:start="513:9" pos:end="513:21"><name pos:start="513:9" pos:end="513:9">s</name><operator pos:start="513:10" pos:end="513:11">-&gt;</operator><name pos:start="513:12" pos:end="513:21">y_dc_scale</name></name><operator pos:start="513:22" pos:end="513:22">=</operator> <name pos:start="513:24" pos:end="513:55"><name pos:start="513:24" pos:end="513:24">s</name><operator pos:start="513:25" pos:end="513:26">-&gt;</operator><name pos:start="513:27" pos:end="513:42">y_dc_scale_table</name><index pos:start="513:43" pos:end="513:55">[ <expr pos:start="513:45" pos:end="513:53"><name pos:start="513:45" pos:end="513:53"><name pos:start="513:45" pos:end="513:45">s</name><operator pos:start="513:46" pos:end="513:47">-&gt;</operator><name pos:start="513:48" pos:end="513:53">qscale</name></name></expr> ]</index></name></expr>;</expr_stmt>

        <expr_stmt pos:start="515:9" pos:end="515:56"><expr pos:start="515:9" pos:end="515:55"><name pos:start="515:9" pos:end="515:21"><name pos:start="515:9" pos:end="515:9">s</name><operator pos:start="515:10" pos:end="515:11">-&gt;</operator><name pos:start="515:12" pos:end="515:21">c_dc_scale</name></name><operator pos:start="515:22" pos:end="515:22">=</operator> <name pos:start="515:24" pos:end="515:55"><name pos:start="515:24" pos:end="515:24">s</name><operator pos:start="515:25" pos:end="515:26">-&gt;</operator><name pos:start="515:27" pos:end="515:42">c_dc_scale_table</name><index pos:start="515:43" pos:end="515:55">[ <expr pos:start="515:45" pos:end="515:53"><name pos:start="515:45" pos:end="515:53"><name pos:start="515:45" pos:end="515:45">s</name><operator pos:start="515:46" pos:end="515:47">-&gt;</operator><name pos:start="515:48" pos:end="515:53">qscale</name></name></expr> ]</index></name></expr>;</expr_stmt>

        

        <expr_stmt pos:start="519:9" pos:end="519:61"><expr pos:start="519:9" pos:end="519:60"><name pos:start="519:9" pos:end="519:25"><name pos:start="519:9" pos:end="519:9">s</name><operator pos:start="519:10" pos:end="519:11">-&gt;</operator><name pos:start="519:12" pos:end="519:22">block_index</name><index pos:start="519:23" pos:end="519:25">[<expr pos:start="519:24" pos:end="519:24"><literal type="number" pos:start="519:24" pos:end="519:24">0</literal></expr>]</index></name><operator pos:start="519:26" pos:end="519:26">=</operator> <name pos:start="519:28" pos:end="519:43"><name pos:start="519:28" pos:end="519:28">s</name><operator pos:start="519:29" pos:end="519:30">-&gt;</operator><name pos:start="519:31" pos:end="519:40">block_wrap</name><index pos:start="519:41" pos:end="519:43">[<expr pos:start="519:42" pos:end="519:42"><literal type="number" pos:start="519:42" pos:end="519:42">0</literal></expr>]</index></name><operator pos:start="519:44" pos:end="519:44">*</operator><operator pos:start="519:45" pos:end="519:45">(</operator><name pos:start="519:46" pos:end="519:49">mb_y</name><operator pos:start="519:50" pos:end="519:50">*</operator><literal type="number" pos:start="519:51" pos:end="519:53">2</literal> <operator pos:start="519:53" pos:end="519:53">+</operator> <literal type="number" pos:start="519:55" pos:end="519:55">1</literal><operator pos:start="519:56" pos:end="519:56">)</operator> <operator pos:start="519:58" pos:end="519:58">-</operator> <literal type="number" pos:start="519:60" pos:end="519:60">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="521:9" pos:end="521:57"><expr pos:start="521:9" pos:end="521:56"><name pos:start="521:9" pos:end="521:25"><name pos:start="521:9" pos:end="521:9">s</name><operator pos:start="521:10" pos:end="521:11">-&gt;</operator><name pos:start="521:12" pos:end="521:22">block_index</name><index pos:start="521:23" pos:end="521:25">[<expr pos:start="521:24" pos:end="521:24"><literal type="number" pos:start="521:24" pos:end="521:24">1</literal></expr>]</index></name><operator pos:start="521:26" pos:end="521:26">=</operator> <name pos:start="521:28" pos:end="521:43"><name pos:start="521:28" pos:end="521:28">s</name><operator pos:start="521:29" pos:end="521:30">-&gt;</operator><name pos:start="521:31" pos:end="521:40">block_wrap</name><index pos:start="521:41" pos:end="521:43">[<expr pos:start="521:42" pos:end="521:42"><literal type="number" pos:start="521:42" pos:end="521:42">0</literal></expr>]</index></name><operator pos:start="521:44" pos:end="521:44">*</operator><operator pos:start="521:45" pos:end="521:45">(</operator><name pos:start="521:46" pos:end="521:49">mb_y</name><operator pos:start="521:50" pos:end="521:50">*</operator><literal type="number" pos:start="521:51" pos:end="521:53">2</literal> <operator pos:start="521:53" pos:end="521:53">+</operator> <literal type="number" pos:start="521:55" pos:end="521:55">1</literal><operator pos:start="521:56" pos:end="521:56">)</operator></expr>;</expr_stmt>

        <expr_stmt pos:start="523:9" pos:end="523:61"><expr pos:start="523:9" pos:end="523:60"><name pos:start="523:9" pos:end="523:25"><name pos:start="523:9" pos:end="523:9">s</name><operator pos:start="523:10" pos:end="523:11">-&gt;</operator><name pos:start="523:12" pos:end="523:22">block_index</name><index pos:start="523:23" pos:end="523:25">[<expr pos:start="523:24" pos:end="523:24"><literal type="number" pos:start="523:24" pos:end="523:24">2</literal></expr>]</index></name><operator pos:start="523:26" pos:end="523:26">=</operator> <name pos:start="523:28" pos:end="523:43"><name pos:start="523:28" pos:end="523:28">s</name><operator pos:start="523:29" pos:end="523:30">-&gt;</operator><name pos:start="523:31" pos:end="523:40">block_wrap</name><index pos:start="523:41" pos:end="523:43">[<expr pos:start="523:42" pos:end="523:42"><literal type="number" pos:start="523:42" pos:end="523:42">0</literal></expr>]</index></name><operator pos:start="523:44" pos:end="523:44">*</operator><operator pos:start="523:45" pos:end="523:45">(</operator><name pos:start="523:46" pos:end="523:49">mb_y</name><operator pos:start="523:50" pos:end="523:50">*</operator><literal type="number" pos:start="523:51" pos:end="523:53">2</literal> <operator pos:start="523:53" pos:end="523:53">+</operator> <literal type="number" pos:start="523:55" pos:end="523:55">2</literal><operator pos:start="523:56" pos:end="523:56">)</operator> <operator pos:start="523:58" pos:end="523:58">-</operator> <literal type="number" pos:start="523:60" pos:end="523:60">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="525:9" pos:end="525:57"><expr pos:start="525:9" pos:end="525:56"><name pos:start="525:9" pos:end="525:25"><name pos:start="525:9" pos:end="525:9">s</name><operator pos:start="525:10" pos:end="525:11">-&gt;</operator><name pos:start="525:12" pos:end="525:22">block_index</name><index pos:start="525:23" pos:end="525:25">[<expr pos:start="525:24" pos:end="525:24"><literal type="number" pos:start="525:24" pos:end="525:24">3</literal></expr>]</index></name><operator pos:start="525:26" pos:end="525:26">=</operator> <name pos:start="525:28" pos:end="525:43"><name pos:start="525:28" pos:end="525:28">s</name><operator pos:start="525:29" pos:end="525:30">-&gt;</operator><name pos:start="525:31" pos:end="525:40">block_wrap</name><index pos:start="525:41" pos:end="525:43">[<expr pos:start="525:42" pos:end="525:42"><literal type="number" pos:start="525:42" pos:end="525:42">0</literal></expr>]</index></name><operator pos:start="525:44" pos:end="525:44">*</operator><operator pos:start="525:45" pos:end="525:45">(</operator><name pos:start="525:46" pos:end="525:49">mb_y</name><operator pos:start="525:50" pos:end="525:50">*</operator><literal type="number" pos:start="525:51" pos:end="525:53">2</literal> <operator pos:start="525:53" pos:end="525:53">+</operator> <literal type="number" pos:start="525:55" pos:end="525:55">2</literal><operator pos:start="525:56" pos:end="525:56">)</operator></expr>;</expr_stmt>

        <expr_stmt pos:start="527:9" pos:end="527:114"><expr pos:start="527:9" pos:end="527:113"><name pos:start="527:9" pos:end="527:25"><name pos:start="527:9" pos:end="527:9">s</name><operator pos:start="527:10" pos:end="527:11">-&gt;</operator><name pos:start="527:12" pos:end="527:22">block_index</name><index pos:start="527:23" pos:end="527:25">[<expr pos:start="527:24" pos:end="527:24"><literal type="number" pos:start="527:24" pos:end="527:24">4</literal></expr>]</index></name><operator pos:start="527:26" pos:end="527:26">=</operator> <name pos:start="527:28" pos:end="527:43"><name pos:start="527:28" pos:end="527:28">s</name><operator pos:start="527:29" pos:end="527:30">-&gt;</operator><name pos:start="527:31" pos:end="527:40">block_wrap</name><index pos:start="527:41" pos:end="527:43">[<expr pos:start="527:42" pos:end="527:42"><literal type="number" pos:start="527:42" pos:end="527:42">4</literal></expr>]</index></name><operator pos:start="527:44" pos:end="527:44">*</operator><operator pos:start="527:45" pos:end="527:45">(</operator><name pos:start="527:46" pos:end="527:49">mb_y</name> <operator pos:start="527:51" pos:end="527:51">+</operator> <literal type="number" pos:start="527:53" pos:end="527:53">1</literal><operator pos:start="527:54" pos:end="527:54">)</operator>                    <operator pos:start="527:75" pos:end="527:75">+</operator> <name pos:start="527:77" pos:end="527:92"><name pos:start="527:77" pos:end="527:77">s</name><operator pos:start="527:78" pos:end="527:79">-&gt;</operator><name pos:start="527:80" pos:end="527:89">block_wrap</name><index pos:start="527:90" pos:end="527:92">[<expr pos:start="527:91" pos:end="527:91"><literal type="number" pos:start="527:91" pos:end="527:91">0</literal></expr>]</index></name><operator pos:start="527:93" pos:end="527:93">*</operator><operator pos:start="527:94" pos:end="527:94">(</operator><name pos:start="527:95" pos:end="527:106"><name pos:start="527:95" pos:end="527:95">s</name><operator pos:start="527:96" pos:end="527:97">-&gt;</operator><name pos:start="527:98" pos:end="527:106">mb_height</name></name><operator pos:start="527:107" pos:end="527:107">*</operator><literal type="number" pos:start="527:108" pos:end="527:110">2</literal> <operator pos:start="527:110" pos:end="527:110">+</operator> <literal type="number" pos:start="527:112" pos:end="527:112">2</literal><operator pos:start="527:113" pos:end="527:113">)</operator></expr>;</expr_stmt>

        <expr_stmt pos:start="529:9" pos:end="529:114"><expr pos:start="529:9" pos:end="529:113"><name pos:start="529:9" pos:end="529:25"><name pos:start="529:9" pos:end="529:9">s</name><operator pos:start="529:10" pos:end="529:11">-&gt;</operator><name pos:start="529:12" pos:end="529:22">block_index</name><index pos:start="529:23" pos:end="529:25">[<expr pos:start="529:24" pos:end="529:24"><literal type="number" pos:start="529:24" pos:end="529:24">5</literal></expr>]</index></name><operator pos:start="529:26" pos:end="529:26">=</operator> <name pos:start="529:28" pos:end="529:43"><name pos:start="529:28" pos:end="529:28">s</name><operator pos:start="529:29" pos:end="529:30">-&gt;</operator><name pos:start="529:31" pos:end="529:40">block_wrap</name><index pos:start="529:41" pos:end="529:43">[<expr pos:start="529:42" pos:end="529:42"><literal type="number" pos:start="529:42" pos:end="529:42">4</literal></expr>]</index></name><operator pos:start="529:44" pos:end="529:44">*</operator><operator pos:start="529:45" pos:end="529:45">(</operator><name pos:start="529:46" pos:end="529:49">mb_y</name> <operator pos:start="529:51" pos:end="529:51">+</operator> <literal type="number" pos:start="529:53" pos:end="529:55">1</literal> <operator pos:start="529:55" pos:end="529:55">+</operator> <name pos:start="529:57" pos:end="529:68"><name pos:start="529:57" pos:end="529:57">s</name><operator pos:start="529:58" pos:end="529:59">-&gt;</operator><name pos:start="529:60" pos:end="529:68">mb_height</name></name> <operator pos:start="529:70" pos:end="529:70">+</operator> <literal type="number" pos:start="529:72" pos:end="529:72">2</literal><operator pos:start="529:73" pos:end="529:73">)</operator> <operator pos:start="529:75" pos:end="529:75">+</operator> <name pos:start="529:77" pos:end="529:92"><name pos:start="529:77" pos:end="529:77">s</name><operator pos:start="529:78" pos:end="529:79">-&gt;</operator><name pos:start="529:80" pos:end="529:89">block_wrap</name><index pos:start="529:90" pos:end="529:92">[<expr pos:start="529:91" pos:end="529:91"><literal type="number" pos:start="529:91" pos:end="529:91">0</literal></expr>]</index></name><operator pos:start="529:93" pos:end="529:93">*</operator><operator pos:start="529:94" pos:end="529:94">(</operator><name pos:start="529:95" pos:end="529:106"><name pos:start="529:95" pos:end="529:95">s</name><operator pos:start="529:96" pos:end="529:97">-&gt;</operator><name pos:start="529:98" pos:end="529:106">mb_height</name></name><operator pos:start="529:107" pos:end="529:107">*</operator><literal type="number" pos:start="529:108" pos:end="529:110">2</literal> <operator pos:start="529:110" pos:end="529:110">+</operator> <literal type="number" pos:start="529:112" pos:end="529:112">2</literal><operator pos:start="529:113" pos:end="529:113">)</operator></expr>;</expr_stmt>

        <for pos:start="531:9" pos:end="1243:9">for<control pos:start="531:12" pos:end="531:47">(<init pos:start="531:13" pos:end="531:19"><expr pos:start="531:13" pos:end="531:18"><name pos:start="531:13" pos:end="531:16">mb_x</name><operator pos:start="531:17" pos:end="531:17">=</operator><literal type="number" pos:start="531:18" pos:end="531:18">0</literal></expr>;</init> <condition pos:start="531:21" pos:end="531:39"><expr pos:start="531:21" pos:end="531:38"><name pos:start="531:21" pos:end="531:24">mb_x</name> <operator pos:start="531:26" pos:end="531:26">&lt;</operator> <name pos:start="531:28" pos:end="531:38"><name pos:start="531:28" pos:end="531:28">s</name><operator pos:start="531:29" pos:end="531:30">-&gt;</operator><name pos:start="531:31" pos:end="531:38">mb_width</name></name></expr>;</condition> <incr pos:start="531:41" pos:end="531:46"><expr pos:start="531:41" pos:end="531:46"><name pos:start="531:41" pos:end="531:44">mb_x</name><operator pos:start="531:45" pos:end="531:46">++</operator></expr></incr>)</control> <block pos:start="531:49" pos:end="1243:9">{<block_content pos:start="533:13" pos:end="1239:13">

            <decl_stmt pos:start="533:13" pos:end="533:63"><decl pos:start="533:13" pos:end="533:62"><type pos:start="533:13" pos:end="533:15"><name pos:start="533:13" pos:end="533:15">int</name></type> <name pos:start="533:17" pos:end="533:23">mb_type</name><init pos:start="533:24" pos:end="533:62">= <expr pos:start="533:26" pos:end="533:62"><name pos:start="533:26" pos:end="533:62"><name pos:start="533:26" pos:end="533:26">s</name><operator pos:start="533:27" pos:end="533:28">-&gt;</operator><name pos:start="533:29" pos:end="533:35">mb_type</name><index pos:start="533:36" pos:end="533:62">[<expr pos:start="533:37" pos:end="533:61"><name pos:start="533:37" pos:end="533:40">mb_y</name> <operator pos:start="533:42" pos:end="533:42">*</operator> <name pos:start="533:44" pos:end="533:54"><name pos:start="533:44" pos:end="533:44">s</name><operator pos:start="533:45" pos:end="533:46">-&gt;</operator><name pos:start="533:47" pos:end="533:54">mb_width</name></name> <operator pos:start="533:56" pos:end="533:56">+</operator> <name pos:start="533:58" pos:end="533:61">mb_x</name></expr>]</index></name></expr></init></decl>;</decl_stmt>

            <decl_stmt pos:start="535:13" pos:end="535:64"><decl pos:start="535:13" pos:end="535:63"><type pos:start="535:13" pos:end="535:21"><specifier pos:start="535:13" pos:end="535:17">const</specifier> <name pos:start="535:19" pos:end="535:21">int</name></type> <name pos:start="535:23" pos:end="535:24">xy</name><init pos:start="535:25" pos:end="535:63">= <expr pos:start="535:27" pos:end="535:63"><operator pos:start="535:27" pos:end="535:27">(</operator><name pos:start="535:28" pos:end="535:31">mb_y</name><operator pos:start="535:32" pos:end="535:32">+</operator><literal type="number" pos:start="535:33" pos:end="535:33">1</literal><operator pos:start="535:34" pos:end="535:34">)</operator> <operator pos:start="535:36" pos:end="535:36">*</operator> <operator pos:start="535:38" pos:end="535:38">(</operator><name pos:start="535:39" pos:end="535:49"><name pos:start="535:39" pos:end="535:39">s</name><operator pos:start="535:40" pos:end="535:41">-&gt;</operator><name pos:start="535:42" pos:end="535:49">mb_width</name></name><operator pos:start="535:50" pos:end="535:50">+</operator><literal type="number" pos:start="535:51" pos:end="535:51">2</literal><operator pos:start="535:52" pos:end="535:52">)</operator> <operator pos:start="535:54" pos:end="535:54">+</operator> <name pos:start="535:56" pos:end="535:59">mb_x</name> <operator pos:start="535:61" pos:end="535:61">+</operator> <literal type="number" pos:start="535:63" pos:end="535:63">1</literal></expr></init></decl>;</decl_stmt>

<comment type="line" pos:start="537:1" pos:end="537:20">//            int d;</comment>

            <decl_stmt pos:start="539:13" pos:end="539:30"><decl pos:start="539:13" pos:end="539:29"><type pos:start="539:13" pos:end="539:15"><name pos:start="539:13" pos:end="539:15">int</name></type> <name pos:start="539:17" pos:end="539:20">dmin</name><init pos:start="539:21" pos:end="539:29">=<expr pos:start="539:22" pos:end="539:29"><literal type="number" pos:start="539:22" pos:end="539:29">10000000</literal></expr></init></decl>;</decl_stmt>



            <expr_stmt pos:start="543:13" pos:end="543:27"><expr pos:start="543:13" pos:end="543:26"><name pos:start="543:13" pos:end="543:19"><name pos:start="543:13" pos:end="543:13">s</name><operator pos:start="543:14" pos:end="543:15">-&gt;</operator><name pos:start="543:16" pos:end="543:19">mb_x</name></name> <operator pos:start="543:21" pos:end="543:21">=</operator> <name pos:start="543:23" pos:end="543:26">mb_x</name></expr>;</expr_stmt>

            <expr_stmt pos:start="545:13" pos:end="545:27"><expr pos:start="545:13" pos:end="545:26"><name pos:start="545:13" pos:end="545:19"><name pos:start="545:13" pos:end="545:13">s</name><operator pos:start="545:14" pos:end="545:15">-&gt;</operator><name pos:start="545:16" pos:end="545:19">mb_y</name></name> <operator pos:start="545:21" pos:end="545:21">=</operator> <name pos:start="545:23" pos:end="545:26">mb_y</name></expr>;</expr_stmt>

            <expr_stmt pos:start="547:13" pos:end="547:33"><expr pos:start="547:13" pos:end="547:32"><name pos:start="547:13" pos:end="547:29"><name pos:start="547:13" pos:end="547:13">s</name><operator pos:start="547:14" pos:end="547:15">-&gt;</operator><name pos:start="547:16" pos:end="547:26">block_index</name><index pos:start="547:27" pos:end="547:29">[<expr pos:start="547:28" pos:end="547:28"><literal type="number" pos:start="547:28" pos:end="547:28">0</literal></expr>]</index></name><operator pos:start="547:30" pos:end="547:31">+=</operator><literal type="number" pos:start="547:32" pos:end="547:32">2</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="549:13" pos:end="549:33"><expr pos:start="549:13" pos:end="549:32"><name pos:start="549:13" pos:end="549:29"><name pos:start="549:13" pos:end="549:13">s</name><operator pos:start="549:14" pos:end="549:15">-&gt;</operator><name pos:start="549:16" pos:end="549:26">block_index</name><index pos:start="549:27" pos:end="549:29">[<expr pos:start="549:28" pos:end="549:28"><literal type="number" pos:start="549:28" pos:end="549:28">1</literal></expr>]</index></name><operator pos:start="549:30" pos:end="549:31">+=</operator><literal type="number" pos:start="549:32" pos:end="549:32">2</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="551:13" pos:end="551:33"><expr pos:start="551:13" pos:end="551:32"><name pos:start="551:13" pos:end="551:29"><name pos:start="551:13" pos:end="551:13">s</name><operator pos:start="551:14" pos:end="551:15">-&gt;</operator><name pos:start="551:16" pos:end="551:26">block_index</name><index pos:start="551:27" pos:end="551:29">[<expr pos:start="551:28" pos:end="551:28"><literal type="number" pos:start="551:28" pos:end="551:28">2</literal></expr>]</index></name><operator pos:start="551:30" pos:end="551:31">+=</operator><literal type="number" pos:start="551:32" pos:end="551:32">2</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="553:13" pos:end="553:33"><expr pos:start="553:13" pos:end="553:32"><name pos:start="553:13" pos:end="553:29"><name pos:start="553:13" pos:end="553:13">s</name><operator pos:start="553:14" pos:end="553:15">-&gt;</operator><name pos:start="553:16" pos:end="553:26">block_index</name><index pos:start="553:27" pos:end="553:29">[<expr pos:start="553:28" pos:end="553:28"><literal type="number" pos:start="553:28" pos:end="553:28">3</literal></expr>]</index></name><operator pos:start="553:30" pos:end="553:31">+=</operator><literal type="number" pos:start="553:32" pos:end="553:32">2</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="555:13" pos:end="555:32"><expr pos:start="555:13" pos:end="555:31"><name pos:start="555:13" pos:end="555:29"><name pos:start="555:13" pos:end="555:13">s</name><operator pos:start="555:14" pos:end="555:15">-&gt;</operator><name pos:start="555:16" pos:end="555:26">block_index</name><index pos:start="555:27" pos:end="555:29">[<expr pos:start="555:28" pos:end="555:28"><literal type="number" pos:start="555:28" pos:end="555:28">4</literal></expr>]</index></name><operator pos:start="555:30" pos:end="555:31">++</operator></expr>;</expr_stmt>

            <expr_stmt pos:start="557:13" pos:end="564:0"><expr pos:start="557:13" pos:end="557:31"><name pos:start="557:13" pos:end="557:29"><name pos:start="557:13" pos:end="557:13">s</name><operator pos:start="557:14" pos:end="557:15">-&gt;</operator><name pos:start="557:16" pos:end="557:26">block_index</name><index pos:start="557:27" pos:end="557:29">[<expr pos:start="557:28" pos:end="557:28"><literal type="number" pos:start="557:28" pos:end="557:28">5</literal></expr>]</index></name><operator pos:start="557:30" pos:end="557:31">++</operator></expr>;</expr_stmt>



            <comment type="block" pos:start="561:13" pos:end="561:50">/* write gob / video packet header  */</comment>

<cpp:ifdef pos:start="563:1" pos:end="563:19">#<cpp:directive pos:start="563:2" pos:end="563:6">ifdef</cpp:directive> <name pos:start="563:8" pos:end="563:19">CONFIG_RISKY</name></cpp:ifdef>

            <if_stmt pos:start="565:13" pos:end="646:0"><if pos:start="565:13" pos:end="646:0">if<condition pos:start="565:15" pos:end="565:27">(<expr pos:start="565:16" pos:end="565:26"><name pos:start="565:16" pos:end="565:26"><name pos:start="565:16" pos:end="565:16">s</name><operator pos:start="565:17" pos:end="565:18">-&gt;</operator><name pos:start="565:19" pos:end="565:26">rtp_mode</name></name></expr>)</condition><block pos:start="565:28" pos:end="646:0">{<block_content pos:start="567:17" pos:end="641:17">

                <decl_stmt pos:start="567:17" pos:end="567:54"><decl pos:start="567:17" pos:end="567:39"><type pos:start="567:17" pos:end="567:19"><name pos:start="567:17" pos:end="567:19">int</name></type> <name pos:start="567:21" pos:end="567:39">current_packet_size</name></decl>, <decl pos:start="567:42" pos:end="567:53"><type ref="prev" pos:start="567:17" pos:end="567:19"/><name pos:start="567:42" pos:end="567:53">is_gob_start</name></decl>;</decl_stmt>

                

                <expr_stmt pos:start="571:17" pos:end="571:71"><expr pos:start="571:17" pos:end="571:70"><name pos:start="571:17" pos:end="571:35">current_packet_size</name><operator pos:start="571:36" pos:end="571:36">=</operator> <call pos:start="571:38" pos:end="571:53"><name pos:start="571:38" pos:end="571:45">pbBufPtr</name><argument_list pos:start="571:46" pos:end="571:53">(<argument pos:start="571:47" pos:end="571:52"><expr pos:start="571:47" pos:end="571:52"><operator pos:start="571:47" pos:end="571:47">&amp;</operator><name pos:start="571:48" pos:end="571:52"><name pos:start="571:48" pos:end="571:48">s</name><operator pos:start="571:49" pos:end="571:50">-&gt;</operator><name pos:start="571:51" pos:end="571:52">pb</name></name></expr></argument>)</argument_list></call> <operator pos:start="571:55" pos:end="571:55">-</operator> <name pos:start="571:57" pos:end="571:70"><name pos:start="571:57" pos:end="571:57">s</name><operator pos:start="571:58" pos:end="571:59">-&gt;</operator><name pos:start="571:60" pos:end="571:70">ptr_lastgob</name></name></expr>;</expr_stmt>

                <expr_stmt pos:start="573:17" pos:end="573:31"><expr pos:start="573:17" pos:end="573:30"><name pos:start="573:17" pos:end="573:28">is_gob_start</name><operator pos:start="573:29" pos:end="573:29">=</operator><literal type="number" pos:start="573:30" pos:end="573:30">0</literal></expr>;</expr_stmt>

                

                <if_stmt pos:start="577:17" pos:end="627:17"><if pos:start="577:17" pos:end="613:17">if<condition pos:start="577:19" pos:end="577:47">(<expr pos:start="577:20" pos:end="577:46"><name pos:start="577:20" pos:end="577:30"><name pos:start="577:20" pos:end="577:20">s</name><operator pos:start="577:21" pos:end="577:22">-&gt;</operator><name pos:start="577:23" pos:end="577:30">codec_id</name></name><operator pos:start="577:31" pos:end="577:32">==</operator><name pos:start="577:33" pos:end="577:46">CODEC_ID_MPEG4</name></expr>)</condition><block pos:start="577:48" pos:end="613:17">{<block_content pos:start="579:21" pos:end="611:21">

                    <if_stmt pos:start="579:21" pos:end="611:21"><if pos:start="579:21" pos:end="611:21">if<condition pos:start="579:23" pos:end="581:46">(<expr pos:start="579:24" pos:end="581:45"><name pos:start="579:24" pos:end="579:42">current_packet_size</name> <operator pos:start="579:44" pos:end="579:44">+</operator> <name pos:start="579:46" pos:end="579:63"><name pos:start="579:46" pos:end="579:46">s</name><operator pos:start="579:47" pos:end="579:48">-&gt;</operator><name pos:start="579:49" pos:end="579:63">mb_line_avgsize</name></name><operator pos:start="579:64" pos:end="579:64">/</operator><name pos:start="579:65" pos:end="579:75"><name pos:start="579:65" pos:end="579:65">s</name><operator pos:start="579:66" pos:end="579:67">-&gt;</operator><name pos:start="579:68" pos:end="579:75">mb_width</name></name> <operator pos:start="579:77" pos:end="579:78">&gt;=</operator> <name pos:start="579:80" pos:end="579:98"><name pos:start="579:80" pos:end="579:80">s</name><operator pos:start="579:81" pos:end="579:82">-&gt;</operator><name pos:start="579:83" pos:end="579:98">rtp_payload_size</name></name>

                       <operator pos:start="581:24" pos:end="581:25">&amp;&amp;</operator> <name pos:start="581:27" pos:end="581:33"><name pos:start="581:27" pos:end="581:27">s</name><operator pos:start="581:28" pos:end="581:29">-&gt;</operator><name pos:start="581:30" pos:end="581:33">mb_y</name></name> <operator pos:start="581:35" pos:end="581:35">+</operator> <name pos:start="581:37" pos:end="581:43"><name pos:start="581:37" pos:end="581:37">s</name><operator pos:start="581:38" pos:end="581:39">-&gt;</operator><name pos:start="581:40" pos:end="581:43">mb_x</name></name><operator pos:start="581:44" pos:end="581:44">&gt;</operator><literal type="number" pos:start="581:45" pos:end="581:45">0</literal></expr>)</condition><block pos:start="581:47" pos:end="611:21">{<block_content pos:start="585:25" pos:end="609:39">



                        <if_stmt pos:start="585:25" pos:end="591:25"><if pos:start="585:25" pos:end="591:25">if<condition pos:start="585:27" pos:end="585:48">(<expr pos:start="585:28" pos:end="585:47"><name pos:start="585:28" pos:end="585:47"><name pos:start="585:28" pos:end="585:28">s</name><operator pos:start="585:29" pos:end="585:30">-&gt;</operator><name pos:start="585:31" pos:end="585:47">partitioned_frame</name></name></expr>)</condition><block pos:start="585:49" pos:end="591:25">{<block_content pos:start="587:29" pos:end="589:56">

                            <expr_stmt pos:start="587:29" pos:end="587:57"><expr pos:start="587:29" pos:end="587:56"><call pos:start="587:29" pos:end="587:56"><name pos:start="587:29" pos:end="587:53">ff_mpeg4_merge_partitions</name><argument_list pos:start="587:54" pos:end="587:56">(<argument pos:start="587:55" pos:end="587:55"><expr pos:start="587:55" pos:end="587:55"><name pos:start="587:55" pos:end="587:55">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                            <expr_stmt pos:start="589:29" pos:end="589:56"><expr pos:start="589:29" pos:end="589:55"><call pos:start="589:29" pos:end="589:55"><name pos:start="589:29" pos:end="589:52">ff_mpeg4_init_partitions</name><argument_list pos:start="589:53" pos:end="589:55">(<argument pos:start="589:54" pos:end="589:54"><expr pos:start="589:54" pos:end="589:54"><name pos:start="589:54" pos:end="589:54">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                        </block_content>}</block></if></if_stmt>

                        <expr_stmt pos:start="593:25" pos:end="593:63"><expr pos:start="593:25" pos:end="593:62"><call pos:start="593:25" pos:end="593:62"><name pos:start="593:25" pos:end="593:59">ff_mpeg4_encode_video_packet_header</name><argument_list pos:start="593:60" pos:end="593:62">(<argument pos:start="593:61" pos:end="593:61"><expr pos:start="593:61" pos:end="593:61"><name pos:start="593:61" pos:end="593:61">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



                        <if_stmt pos:start="597:25" pos:end="605:25"><if pos:start="597:25" pos:end="605:25">if<condition pos:start="597:27" pos:end="597:53">(<expr pos:start="597:28" pos:end="597:52"><name pos:start="597:28" pos:end="597:35"><name pos:start="597:28" pos:end="597:28">s</name><operator pos:start="597:29" pos:end="597:30">-&gt;</operator><name pos:start="597:31" pos:end="597:35">flags</name></name><operator pos:start="597:36" pos:end="597:36">&amp;</operator><name pos:start="597:37" pos:end="597:52">CODEC_FLAG_PASS1</name></expr>)</condition><block pos:start="597:54" pos:end="605:25">{<block_content pos:start="599:29" pos:end="603:47">

                            <decl_stmt pos:start="599:29" pos:end="599:60"><decl pos:start="599:29" pos:end="599:59"><type pos:start="599:29" pos:end="599:31"><name pos:start="599:29" pos:end="599:31">int</name></type> <name pos:start="599:33" pos:end="599:36">bits</name><init pos:start="599:37" pos:end="599:59">= <expr pos:start="599:39" pos:end="599:59"><call pos:start="599:39" pos:end="599:59"><name pos:start="599:39" pos:end="599:51">get_bit_count</name><argument_list pos:start="599:52" pos:end="599:59">(<argument pos:start="599:53" pos:end="599:58"><expr pos:start="599:53" pos:end="599:58"><operator pos:start="599:53" pos:end="599:53">&amp;</operator><name pos:start="599:54" pos:end="599:58"><name pos:start="599:54" pos:end="599:54">s</name><operator pos:start="599:55" pos:end="599:56">-&gt;</operator><name pos:start="599:57" pos:end="599:58">pb</name></name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

                            <expr_stmt pos:start="601:29" pos:end="601:63"><expr pos:start="601:29" pos:end="601:62"><name pos:start="601:29" pos:end="601:40"><name pos:start="601:29" pos:end="601:29">s</name><operator pos:start="601:30" pos:end="601:31">-&gt;</operator><name pos:start="601:32" pos:end="601:40">misc_bits</name></name><operator pos:start="601:41" pos:end="601:42">+=</operator> <name pos:start="601:44" pos:end="601:47">bits</name> <operator pos:start="601:49" pos:end="601:49">-</operator> <name pos:start="601:51" pos:end="601:62"><name pos:start="601:51" pos:end="601:51">s</name><operator pos:start="601:52" pos:end="601:53">-&gt;</operator><name pos:start="601:54" pos:end="601:62">last_bits</name></name></expr>;</expr_stmt>

                            <expr_stmt pos:start="603:29" pos:end="603:47"><expr pos:start="603:29" pos:end="603:46"><name pos:start="603:29" pos:end="603:40"><name pos:start="603:29" pos:end="603:29">s</name><operator pos:start="603:30" pos:end="603:31">-&gt;</operator><name pos:start="603:32" pos:end="603:40">last_bits</name></name><operator pos:start="603:41" pos:end="603:41">=</operator> <name pos:start="603:43" pos:end="603:46">bits</name></expr>;</expr_stmt>

                        </block_content>}</block></if></if_stmt>

                        <expr_stmt pos:start="607:25" pos:end="607:50"><expr pos:start="607:25" pos:end="607:49"><call pos:start="607:25" pos:end="607:49"><name pos:start="607:25" pos:end="607:46">ff_mpeg4_clean_buffers</name><argument_list pos:start="607:47" pos:end="607:49">(<argument pos:start="607:48" pos:end="607:48"><expr pos:start="607:48" pos:end="607:48"><name pos:start="607:48" pos:end="607:48">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                        <expr_stmt pos:start="609:25" pos:end="609:39"><expr pos:start="609:25" pos:end="609:38"><name pos:start="609:25" pos:end="609:36">is_gob_start</name><operator pos:start="609:37" pos:end="609:37">=</operator><literal type="number" pos:start="609:38" pos:end="609:38">1</literal></expr>;</expr_stmt>

                    </block_content>}</block></if></if_stmt>

                </block_content>}</block></if><else pos:start="613:18" pos:end="627:17">else<block pos:start="613:22" pos:end="627:17">{<block_content pos:start="615:21" pos:end="625:21">

                    <if_stmt pos:start="615:21" pos:end="625:21"><if pos:start="615:21" pos:end="625:21">if<condition pos:start="615:23" pos:end="617:77">(<expr pos:start="615:24" pos:end="617:76"><name pos:start="615:24" pos:end="615:42">current_packet_size</name> <operator pos:start="615:44" pos:end="615:44">+</operator> <name pos:start="615:46" pos:end="615:63"><name pos:start="615:46" pos:end="615:46">s</name><operator pos:start="615:47" pos:end="615:48">-&gt;</operator><name pos:start="615:49" pos:end="615:63">mb_line_avgsize</name></name><operator pos:start="615:64" pos:end="615:64">*</operator><name pos:start="615:65" pos:end="615:76"><name pos:start="615:65" pos:end="615:65">s</name><operator pos:start="615:66" pos:end="615:67">-&gt;</operator><name pos:start="615:68" pos:end="615:76">gob_index</name></name> <operator pos:start="615:78" pos:end="615:79">&gt;=</operator> <name pos:start="615:81" pos:end="615:99"><name pos:start="615:81" pos:end="615:81">s</name><operator pos:start="615:82" pos:end="615:83">-&gt;</operator><name pos:start="615:84" pos:end="615:99">rtp_payload_size</name></name>

                       <operator pos:start="617:24" pos:end="617:25">&amp;&amp;</operator> <name pos:start="617:27" pos:end="617:33"><name pos:start="617:27" pos:end="617:27">s</name><operator pos:start="617:28" pos:end="617:29">-&gt;</operator><name pos:start="617:30" pos:end="617:33">mb_x</name></name><operator pos:start="617:34" pos:end="617:35">==</operator><literal type="number" pos:start="617:36" pos:end="617:36">0</literal> <operator pos:start="617:38" pos:end="617:39">&amp;&amp;</operator> <name pos:start="617:41" pos:end="617:47"><name pos:start="617:41" pos:end="617:41">s</name><operator pos:start="617:42" pos:end="617:43">-&gt;</operator><name pos:start="617:44" pos:end="617:47">mb_y</name></name><operator pos:start="617:48" pos:end="617:48">&gt;</operator><literal type="number" pos:start="617:49" pos:end="617:49">0</literal> <operator pos:start="617:51" pos:end="617:52">&amp;&amp;</operator> <name pos:start="617:54" pos:end="617:60"><name pos:start="617:54" pos:end="617:54">s</name><operator pos:start="617:55" pos:end="617:56">-&gt;</operator><name pos:start="617:57" pos:end="617:60">mb_y</name></name><operator pos:start="617:61" pos:end="617:61">%</operator><name pos:start="617:62" pos:end="617:73"><name pos:start="617:62" pos:end="617:62">s</name><operator pos:start="617:63" pos:end="617:64">-&gt;</operator><name pos:start="617:65" pos:end="617:73">gob_index</name></name><operator pos:start="617:74" pos:end="617:75">==</operator><literal type="number" pos:start="617:76" pos:end="617:76">0</literal></expr>)</condition><block pos:start="617:78" pos:end="625:21">{<block_content pos:start="621:25" pos:end="623:39">

                       

                        <expr_stmt pos:start="621:25" pos:end="621:56"><expr pos:start="621:25" pos:end="621:55"><call pos:start="621:25" pos:end="621:55"><name pos:start="621:25" pos:end="621:46">h263_encode_gob_header</name><argument_list pos:start="621:47" pos:end="621:55">(<argument pos:start="621:48" pos:end="621:48"><expr pos:start="621:48" pos:end="621:48"><name pos:start="621:48" pos:end="621:48">s</name></expr></argument>, <argument pos:start="621:51" pos:end="621:54"><expr pos:start="621:51" pos:end="621:54"><name pos:start="621:51" pos:end="621:54">mb_y</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>                       

                        <expr_stmt pos:start="623:25" pos:end="623:39"><expr pos:start="623:25" pos:end="623:38"><name pos:start="623:25" pos:end="623:36">is_gob_start</name><operator pos:start="623:37" pos:end="623:37">=</operator><literal type="number" pos:start="623:38" pos:end="623:38">1</literal></expr>;</expr_stmt>

                    </block_content>}</block></if></if_stmt>

                </block_content>}</block></else></if_stmt>



                <if_stmt pos:start="631:17" pos:end="641:17"><if pos:start="631:17" pos:end="641:17">if<condition pos:start="631:19" pos:end="631:32">(<expr pos:start="631:20" pos:end="631:31"><name pos:start="631:20" pos:end="631:31">is_gob_start</name></expr>)</condition><block pos:start="631:33" pos:end="641:17">{<block_content pos:start="633:21" pos:end="639:40">

                    <expr_stmt pos:start="633:21" pos:end="633:54"><expr pos:start="633:21" pos:end="633:53"><name pos:start="633:21" pos:end="633:34"><name pos:start="633:21" pos:end="633:21">s</name><operator pos:start="633:22" pos:end="633:23">-&gt;</operator><name pos:start="633:24" pos:end="633:34">ptr_lastgob</name></name> <operator pos:start="633:36" pos:end="633:36">=</operator> <call pos:start="633:38" pos:end="633:53"><name pos:start="633:38" pos:end="633:45">pbBufPtr</name><argument_list pos:start="633:46" pos:end="633:53">(<argument pos:start="633:47" pos:end="633:52"><expr pos:start="633:47" pos:end="633:52"><operator pos:start="633:47" pos:end="633:47">&amp;</operator><name pos:start="633:48" pos:end="633:52"><name pos:start="633:48" pos:end="633:48">s</name><operator pos:start="633:49" pos:end="633:50">-&gt;</operator><name pos:start="633:51" pos:end="633:52">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="635:21" pos:end="635:42"><expr pos:start="635:21" pos:end="635:41"><name pos:start="635:21" pos:end="635:39"><name pos:start="635:21" pos:end="635:21">s</name><operator pos:start="635:22" pos:end="635:23">-&gt;</operator><name pos:start="635:24" pos:end="635:39">first_slice_line</name></name><operator pos:start="635:40" pos:end="635:40">=</operator><literal type="number" pos:start="635:41" pos:end="635:41">1</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="637:21" pos:end="637:40"><expr pos:start="637:21" pos:end="637:39"><name pos:start="637:21" pos:end="637:34"><name pos:start="637:21" pos:end="637:21">s</name><operator pos:start="637:22" pos:end="637:23">-&gt;</operator><name pos:start="637:24" pos:end="637:34">resync_mb_x</name></name><operator pos:start="637:35" pos:end="637:35">=</operator><name pos:start="637:36" pos:end="637:39">mb_x</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="639:21" pos:end="639:40"><expr pos:start="639:21" pos:end="639:39"><name pos:start="639:21" pos:end="639:34"><name pos:start="639:21" pos:end="639:21">s</name><operator pos:start="639:22" pos:end="639:23">-&gt;</operator><name pos:start="639:24" pos:end="639:34">resync_mb_y</name></name><operator pos:start="639:35" pos:end="639:35">=</operator><name pos:start="639:36" pos:end="639:39">mb_y</name></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

            </block_content>}</block></if></if_stmt>

<cpp:endif pos:start="645:1" pos:end="645:6">#<cpp:directive pos:start="645:2" pos:end="645:6">endif</cpp:directive></cpp:endif>



            <if_stmt pos:start="649:13" pos:end="655:13"><if pos:start="649:13" pos:end="655:13">if<condition pos:start="649:15" pos:end="651:46">(  <expr pos:start="649:18" pos:end="651:45"><operator pos:start="649:18" pos:end="649:18">(</operator><name pos:start="649:19" pos:end="649:32"><name pos:start="649:19" pos:end="649:19">s</name><operator pos:start="649:20" pos:end="649:21">-&gt;</operator><name pos:start="649:22" pos:end="649:32">resync_mb_x</name></name>   <operator pos:start="649:36" pos:end="649:37">==</operator> <name pos:start="649:39" pos:end="649:45"><name pos:start="649:39" pos:end="649:39">s</name><operator pos:start="649:40" pos:end="649:41">-&gt;</operator><name pos:start="649:42" pos:end="649:45">mb_x</name></name><operator pos:start="649:46" pos:end="649:46">)</operator>

               <operator pos:start="651:16" pos:end="651:17">&amp;&amp;</operator> <name pos:start="651:19" pos:end="651:32"><name pos:start="651:19" pos:end="651:19">s</name><operator pos:start="651:20" pos:end="651:21">-&gt;</operator><name pos:start="651:22" pos:end="651:32">resync_mb_y</name></name><operator pos:start="651:33" pos:end="651:33">+</operator><literal type="number" pos:start="651:34" pos:end="651:34">1</literal> <operator pos:start="651:36" pos:end="651:37">==</operator> <name pos:start="651:39" pos:end="651:45"><name pos:start="651:39" pos:end="651:39">s</name><operator pos:start="651:40" pos:end="651:41">-&gt;</operator><name pos:start="651:42" pos:end="651:45">mb_y</name></name></expr>)</condition><block pos:start="651:47" pos:end="655:13">{<block_content pos:start="653:17" pos:end="653:38">

                <expr_stmt pos:start="653:17" pos:end="653:38"><expr pos:start="653:17" pos:end="653:37"><name pos:start="653:17" pos:end="653:35"><name pos:start="653:17" pos:end="653:17">s</name><operator pos:start="653:18" pos:end="653:19">-&gt;</operator><name pos:start="653:20" pos:end="653:35">first_slice_line</name></name><operator pos:start="653:36" pos:end="653:36">=</operator><literal type="number" pos:start="653:37" pos:end="653:37">0</literal></expr>;</expr_stmt> 

            </block_content>}</block></if></if_stmt>



            <if_stmt pos:start="659:13" pos:end="1175:13"><if pos:start="659:13" pos:end="869:13">if<condition pos:start="659:15" pos:end="659:37">(<expr pos:start="659:16" pos:end="659:36"><name pos:start="659:16" pos:end="659:22">mb_type</name> <operator pos:start="659:24" pos:end="659:24">&amp;</operator> <operator pos:start="659:26" pos:end="659:26">(</operator><name pos:start="659:27" pos:end="659:33">mb_type</name><operator pos:start="659:34" pos:end="659:34">-</operator><literal type="number" pos:start="659:35" pos:end="659:35">1</literal><operator pos:start="659:36" pos:end="659:36">)</operator></expr>)</condition><block pos:start="659:38" pos:end="869:13">{<block_content pos:start="661:17" pos:end="867:52"> <comment type="line" pos:start="659:40" pos:end="659:70">// more than 1 MB type possible</comment>

                <decl_stmt pos:start="661:17" pos:end="661:33"><decl pos:start="661:17" pos:end="661:32"><type pos:start="661:17" pos:end="661:19"><name pos:start="661:17" pos:end="661:19">int</name></type> <name pos:start="661:21" pos:end="661:30">next_block</name><init pos:start="661:31" pos:end="661:32">=<expr pos:start="661:32" pos:end="661:32"><literal type="number" pos:start="661:32" pos:end="661:32">0</literal></expr></init></decl>;</decl_stmt>

                <decl_stmt pos:start="663:17" pos:end="663:69"><decl pos:start="663:17" pos:end="663:33"><type pos:start="663:17" pos:end="663:19"><name pos:start="663:17" pos:end="663:19">int</name></type> <name pos:start="663:21" pos:end="663:33">pb_bits_count</name></decl>, <decl pos:start="663:36" pos:end="663:49"><type ref="prev" pos:start="663:17" pos:end="663:19"/><name pos:start="663:36" pos:end="663:49">pb2_bits_count</name></decl>, <decl pos:start="663:52" pos:end="663:68"><type ref="prev" pos:start="663:17" pos:end="663:19"/><name pos:start="663:52" pos:end="663:68">tex_pb_bits_count</name></decl>;</decl_stmt>



                <expr_stmt pos:start="667:17" pos:end="667:61"><expr pos:start="667:17" pos:end="667:60"><call pos:start="667:17" pos:end="667:60"><name pos:start="667:17" pos:end="667:42">copy_context_before_encode</name><argument_list pos:start="667:43" pos:end="667:60">(<argument pos:start="667:44" pos:end="667:52"><expr pos:start="667:44" pos:end="667:52"><operator pos:start="667:44" pos:end="667:44">&amp;</operator><name pos:start="667:45" pos:end="667:52">backup_s</name></expr></argument>, <argument pos:start="667:55" pos:end="667:55"><expr pos:start="667:55" pos:end="667:55"><name pos:start="667:55" pos:end="667:55">s</name></expr></argument>, <argument pos:start="667:58" pos:end="667:59"><expr pos:start="667:58" pos:end="667:59"><operator pos:start="667:58" pos:end="667:58">-</operator><literal type="number" pos:start="667:59" pos:end="667:59">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="669:17" pos:end="669:35"><expr pos:start="669:17" pos:end="669:34"><name pos:start="669:17" pos:end="669:27"><name pos:start="669:17" pos:end="669:24">backup_s</name><operator pos:start="669:25" pos:end="669:25">.</operator><name pos:start="669:26" pos:end="669:27">pb</name></name><operator pos:start="669:28" pos:end="669:28">=</operator> <name pos:start="669:30" pos:end="669:34"><name pos:start="669:30" pos:end="669:30">s</name><operator pos:start="669:31" pos:end="669:32">-&gt;</operator><name pos:start="669:33" pos:end="669:34">pb</name></name></expr>;</expr_stmt>

                <expr_stmt pos:start="671:17" pos:end="671:63"><expr pos:start="671:17" pos:end="671:62"><name pos:start="671:17" pos:end="671:40"><name pos:start="671:17" pos:end="671:22">best_s</name><operator pos:start="671:23" pos:end="671:23">.</operator><name pos:start="671:24" pos:end="671:40">data_partitioning</name></name><operator pos:start="671:41" pos:end="671:41">=</operator> <name pos:start="671:43" pos:end="671:62"><name pos:start="671:43" pos:end="671:43">s</name><operator pos:start="671:44" pos:end="671:45">-&gt;</operator><name pos:start="671:46" pos:end="671:62">data_partitioning</name></name></expr>;</expr_stmt>

                <expr_stmt pos:start="673:17" pos:end="673:63"><expr pos:start="673:17" pos:end="673:62"><name pos:start="673:17" pos:end="673:40"><name pos:start="673:17" pos:end="673:22">best_s</name><operator pos:start="673:23" pos:end="673:23">.</operator><name pos:start="673:24" pos:end="673:40">partitioned_frame</name></name><operator pos:start="673:41" pos:end="673:41">=</operator> <name pos:start="673:43" pos:end="673:62"><name pos:start="673:43" pos:end="673:43">s</name><operator pos:start="673:44" pos:end="673:45">-&gt;</operator><name pos:start="673:46" pos:end="673:62">partitioned_frame</name></name></expr>;</expr_stmt>

                <if_stmt pos:start="675:17" pos:end="681:17"><if pos:start="675:17" pos:end="681:17">if<condition pos:start="675:19" pos:end="675:40">(<expr pos:start="675:20" pos:end="675:39"><name pos:start="675:20" pos:end="675:39"><name pos:start="675:20" pos:end="675:20">s</name><operator pos:start="675:21" pos:end="675:22">-&gt;</operator><name pos:start="675:23" pos:end="675:39">data_partitioning</name></name></expr>)</condition><block pos:start="675:41" pos:end="681:17">{<block_content pos:start="677:21" pos:end="679:47">

                    <expr_stmt pos:start="677:21" pos:end="677:41"><expr pos:start="677:21" pos:end="677:40"><name pos:start="677:21" pos:end="677:32"><name pos:start="677:21" pos:end="677:28">backup_s</name><operator pos:start="677:29" pos:end="677:29">.</operator><name pos:start="677:30" pos:end="677:32">pb2</name></name><operator pos:start="677:33" pos:end="677:33">=</operator> <name pos:start="677:35" pos:end="677:40"><name pos:start="677:35" pos:end="677:35">s</name><operator pos:start="677:36" pos:end="677:37">-&gt;</operator><name pos:start="677:38" pos:end="677:40">pb2</name></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="679:21" pos:end="679:47"><expr pos:start="679:21" pos:end="679:46"><name pos:start="679:21" pos:end="679:35"><name pos:start="679:21" pos:end="679:28">backup_s</name><operator pos:start="679:29" pos:end="679:29">.</operator><name pos:start="679:30" pos:end="679:35">tex_pb</name></name><operator pos:start="679:36" pos:end="679:36">=</operator> <name pos:start="679:38" pos:end="679:46"><name pos:start="679:38" pos:end="679:38">s</name><operator pos:start="679:39" pos:end="679:40">-&gt;</operator><name pos:start="679:41" pos:end="679:46">tex_pb</name></name></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>



                <if_stmt pos:start="685:17" pos:end="701:17"><if pos:start="685:17" pos:end="701:17">if<condition pos:start="685:19" pos:end="685:41">(<expr pos:start="685:20" pos:end="685:40"><name pos:start="685:20" pos:end="685:26">mb_type</name><operator pos:start="685:27" pos:end="685:27">&amp;</operator><name pos:start="685:28" pos:end="685:40">MB_TYPE_INTER</name></expr>)</condition><block pos:start="685:42" pos:end="701:17">{<block_content pos:start="687:21" pos:end="699:85">

                    <expr_stmt pos:start="687:21" pos:end="687:47"><expr pos:start="687:21" pos:end="687:46"><name pos:start="687:21" pos:end="687:29"><name pos:start="687:21" pos:end="687:21">s</name><operator pos:start="687:22" pos:end="687:23">-&gt;</operator><name pos:start="687:24" pos:end="687:29">mv_dir</name></name> <operator pos:start="687:31" pos:end="687:31">=</operator> <name pos:start="687:33" pos:end="687:46">MV_DIR_FORWARD</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="689:21" pos:end="689:47"><expr pos:start="689:21" pos:end="689:46"><name pos:start="689:21" pos:end="689:30"><name pos:start="689:21" pos:end="689:21">s</name><operator pos:start="689:22" pos:end="689:23">-&gt;</operator><name pos:start="689:24" pos:end="689:30">mv_type</name></name> <operator pos:start="689:32" pos:end="689:32">=</operator> <name pos:start="689:34" pos:end="689:46">MV_TYPE_16X16</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="691:21" pos:end="691:35"><expr pos:start="691:21" pos:end="691:34"><name pos:start="691:21" pos:end="691:31"><name pos:start="691:21" pos:end="691:21">s</name><operator pos:start="691:22" pos:end="691:23">-&gt;</operator><name pos:start="691:24" pos:end="691:31">mb_intra</name></name><operator pos:start="691:32" pos:end="691:32">=</operator> <literal type="number" pos:start="691:34" pos:end="691:34">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="693:21" pos:end="693:58"><expr pos:start="693:21" pos:end="693:57"><name pos:start="693:21" pos:end="693:34"><name pos:start="693:21" pos:end="693:21">s</name><operator pos:start="693:22" pos:end="693:23">-&gt;</operator><name pos:start="693:24" pos:end="693:25">mv</name><index pos:start="693:26" pos:end="693:28">[<expr pos:start="693:27" pos:end="693:27"><literal type="number" pos:start="693:27" pos:end="693:27">0</literal></expr>]</index><index pos:start="693:29" pos:end="693:31">[<expr pos:start="693:30" pos:end="693:30"><literal type="number" pos:start="693:30" pos:end="693:30">0</literal></expr>]</index><index pos:start="693:32" pos:end="693:34">[<expr pos:start="693:33" pos:end="693:33"><literal type="number" pos:start="693:33" pos:end="693:33">0</literal></expr>]</index></name> <operator pos:start="693:36" pos:end="693:36">=</operator> <name pos:start="693:38" pos:end="693:57"><name pos:start="693:38" pos:end="693:38">s</name><operator pos:start="693:39" pos:end="693:40">-&gt;</operator><name pos:start="693:41" pos:end="693:50">p_mv_table</name><index pos:start="693:51" pos:end="693:54">[<expr pos:start="693:52" pos:end="693:53"><name pos:start="693:52" pos:end="693:53">xy</name></expr>]</index><index pos:start="693:55" pos:end="693:57">[<expr pos:start="693:56" pos:end="693:56"><literal type="number" pos:start="693:56" pos:end="693:56">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="695:21" pos:end="695:58"><expr pos:start="695:21" pos:end="695:57"><name pos:start="695:21" pos:end="695:34"><name pos:start="695:21" pos:end="695:21">s</name><operator pos:start="695:22" pos:end="695:23">-&gt;</operator><name pos:start="695:24" pos:end="695:25">mv</name><index pos:start="695:26" pos:end="695:28">[<expr pos:start="695:27" pos:end="695:27"><literal type="number" pos:start="695:27" pos:end="695:27">0</literal></expr>]</index><index pos:start="695:29" pos:end="695:31">[<expr pos:start="695:30" pos:end="695:30"><literal type="number" pos:start="695:30" pos:end="695:30">0</literal></expr>]</index><index pos:start="695:32" pos:end="695:34">[<expr pos:start="695:33" pos:end="695:33"><literal type="number" pos:start="695:33" pos:end="695:33">1</literal></expr>]</index></name> <operator pos:start="695:36" pos:end="695:36">=</operator> <name pos:start="695:38" pos:end="695:57"><name pos:start="695:38" pos:end="695:38">s</name><operator pos:start="695:39" pos:end="695:40">-&gt;</operator><name pos:start="695:41" pos:end="695:50">p_mv_table</name><index pos:start="695:51" pos:end="695:54">[<expr pos:start="695:52" pos:end="695:53"><name pos:start="695:52" pos:end="695:53">xy</name></expr>]</index><index pos:start="695:55" pos:end="695:57">[<expr pos:start="695:56" pos:end="695:56"><literal type="number" pos:start="695:56" pos:end="695:56">1</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="697:21" pos:end="699:85"><expr pos:start="697:21" pos:end="699:84"><call pos:start="697:21" pos:end="699:84"><name pos:start="697:21" pos:end="697:32">encode_mb_hq</name><argument_list pos:start="697:33" pos:end="699:84">(<argument pos:start="697:34" pos:end="697:34"><expr pos:start="697:34" pos:end="697:34"><name pos:start="697:34" pos:end="697:34">s</name></expr></argument>, <argument pos:start="697:37" pos:end="697:45"><expr pos:start="697:37" pos:end="697:45"><operator pos:start="697:37" pos:end="697:37">&amp;</operator><name pos:start="697:38" pos:end="697:45">backup_s</name></expr></argument>, <argument pos:start="697:48" pos:end="697:54"><expr pos:start="697:48" pos:end="697:54"><operator pos:start="697:48" pos:end="697:48">&amp;</operator><name pos:start="697:49" pos:end="697:54">best_s</name></expr></argument>, <argument pos:start="697:57" pos:end="697:69"><expr pos:start="697:57" pos:end="697:69"><name pos:start="697:57" pos:end="697:69">MB_TYPE_INTER</name></expr></argument>, <argument pos:start="697:72" pos:end="697:73"><expr pos:start="697:72" pos:end="697:73"><name pos:start="697:72" pos:end="697:73">pb</name></expr></argument>, <argument pos:start="697:76" pos:end="697:78"><expr pos:start="697:76" pos:end="697:78"><name pos:start="697:76" pos:end="697:78">pb2</name></expr></argument>, <argument pos:start="697:81" pos:end="697:86"><expr pos:start="697:81" pos:end="697:86"><name pos:start="697:81" pos:end="697:86">tex_pb</name></expr></argument>, 

                                 <argument pos:start="699:34" pos:end="699:38"><expr pos:start="699:34" pos:end="699:38"><operator pos:start="699:34" pos:end="699:34">&amp;</operator><name pos:start="699:35" pos:end="699:38">dmin</name></expr></argument>, <argument pos:start="699:41" pos:end="699:51"><expr pos:start="699:41" pos:end="699:51"><operator pos:start="699:41" pos:end="699:41">&amp;</operator><name pos:start="699:42" pos:end="699:51">next_block</name></expr></argument>, <argument pos:start="699:54" pos:end="699:67"><expr pos:start="699:54" pos:end="699:67"><name pos:start="699:54" pos:end="699:67"><name pos:start="699:54" pos:end="699:54">s</name><operator pos:start="699:55" pos:end="699:56">-&gt;</operator><name pos:start="699:57" pos:end="699:58">mv</name><index pos:start="699:59" pos:end="699:61">[<expr pos:start="699:60" pos:end="699:60"><literal type="number" pos:start="699:60" pos:end="699:60">0</literal></expr>]</index><index pos:start="699:62" pos:end="699:64">[<expr pos:start="699:63" pos:end="699:63"><literal type="number" pos:start="699:63" pos:end="699:63">0</literal></expr>]</index><index pos:start="699:65" pos:end="699:67">[<expr pos:start="699:66" pos:end="699:66"><literal type="number" pos:start="699:66" pos:end="699:66">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="699:70" pos:end="699:83"><expr pos:start="699:70" pos:end="699:83"><name pos:start="699:70" pos:end="699:83"><name pos:start="699:70" pos:end="699:70">s</name><operator pos:start="699:71" pos:end="699:72">-&gt;</operator><name pos:start="699:73" pos:end="699:74">mv</name><index pos:start="699:75" pos:end="699:77">[<expr pos:start="699:76" pos:end="699:76"><literal type="number" pos:start="699:76" pos:end="699:76">0</literal></expr>]</index><index pos:start="699:78" pos:end="699:80">[<expr pos:start="699:79" pos:end="699:79"><literal type="number" pos:start="699:79" pos:end="699:79">0</literal></expr>]</index><index pos:start="699:81" pos:end="699:83">[<expr pos:start="699:82" pos:end="699:82"><literal type="number" pos:start="699:82" pos:end="699:82">1</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

                <if_stmt pos:start="703:17" pos:end="723:17"><if pos:start="703:17" pos:end="723:17">if<condition pos:start="703:19" pos:end="703:43">(<expr pos:start="703:20" pos:end="703:42"><name pos:start="703:20" pos:end="703:26">mb_type</name><operator pos:start="703:27" pos:end="703:27">&amp;</operator><name pos:start="703:28" pos:end="703:42">MB_TYPE_INTER4V</name></expr>)</condition><block pos:start="703:44" pos:end="723:17">{<block_content pos:start="705:21" pos:end="721:59">                 

                    <expr_stmt pos:start="705:21" pos:end="705:47"><expr pos:start="705:21" pos:end="705:46"><name pos:start="705:21" pos:end="705:29"><name pos:start="705:21" pos:end="705:21">s</name><operator pos:start="705:22" pos:end="705:23">-&gt;</operator><name pos:start="705:24" pos:end="705:29">mv_dir</name></name> <operator pos:start="705:31" pos:end="705:31">=</operator> <name pos:start="705:33" pos:end="705:46">MV_DIR_FORWARD</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="707:21" pos:end="707:45"><expr pos:start="707:21" pos:end="707:44"><name pos:start="707:21" pos:end="707:30"><name pos:start="707:21" pos:end="707:21">s</name><operator pos:start="707:22" pos:end="707:23">-&gt;</operator><name pos:start="707:24" pos:end="707:30">mv_type</name></name> <operator pos:start="707:32" pos:end="707:32">=</operator> <name pos:start="707:34" pos:end="707:44">MV_TYPE_8X8</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="709:21" pos:end="709:35"><expr pos:start="709:21" pos:end="709:34"><name pos:start="709:21" pos:end="709:31"><name pos:start="709:21" pos:end="709:21">s</name><operator pos:start="709:22" pos:end="709:23">-&gt;</operator><name pos:start="709:24" pos:end="709:31">mb_intra</name></name><operator pos:start="709:32" pos:end="709:32">=</operator> <literal type="number" pos:start="709:34" pos:end="709:34">0</literal></expr>;</expr_stmt>

                    <for pos:start="711:21" pos:end="717:21">for<control pos:start="711:24" pos:end="711:38">(<init pos:start="711:25" pos:end="711:28"><expr pos:start="711:25" pos:end="711:27"><name pos:start="711:25" pos:end="711:25">i</name><operator pos:start="711:26" pos:end="711:26">=</operator><literal type="number" pos:start="711:27" pos:end="711:27">0</literal></expr>;</init> <condition pos:start="711:30" pos:end="711:33"><expr pos:start="711:30" pos:end="711:32"><name pos:start="711:30" pos:end="711:30">i</name><operator pos:start="711:31" pos:end="711:31">&lt;</operator><literal type="number" pos:start="711:32" pos:end="711:32">4</literal></expr>;</condition> <incr pos:start="711:35" pos:end="711:37"><expr pos:start="711:35" pos:end="711:37"><name pos:start="711:35" pos:end="711:35">i</name><operator pos:start="711:36" pos:end="711:37">++</operator></expr></incr>)</control><block pos:start="711:39" pos:end="717:21">{<block_content pos:start="713:25" pos:end="715:77">

                        <expr_stmt pos:start="713:25" pos:end="713:77"><expr pos:start="713:25" pos:end="713:76"><name pos:start="713:25" pos:end="713:38"><name pos:start="713:25" pos:end="713:25">s</name><operator pos:start="713:26" pos:end="713:27">-&gt;</operator><name pos:start="713:28" pos:end="713:29">mv</name><index pos:start="713:30" pos:end="713:32">[<expr pos:start="713:31" pos:end="713:31"><literal type="number" pos:start="713:31" pos:end="713:31">0</literal></expr>]</index><index pos:start="713:33" pos:end="713:35">[<expr pos:start="713:34" pos:end="713:34"><name pos:start="713:34" pos:end="713:34">i</name></expr>]</index><index pos:start="713:36" pos:end="713:38">[<expr pos:start="713:37" pos:end="713:37"><literal type="number" pos:start="713:37" pos:end="713:37">0</literal></expr>]</index></name> <operator pos:start="713:40" pos:end="713:40">=</operator> <name pos:start="713:42" pos:end="713:76"><name pos:start="713:42" pos:end="713:42">s</name><operator pos:start="713:43" pos:end="713:44">-&gt;</operator><name pos:start="713:45" pos:end="713:54">motion_val</name><index pos:start="713:55" pos:end="713:73">[<expr pos:start="713:56" pos:end="713:72"><name pos:start="713:56" pos:end="713:72"><name pos:start="713:56" pos:end="713:56">s</name><operator pos:start="713:57" pos:end="713:58">-&gt;</operator><name pos:start="713:59" pos:end="713:69">block_index</name><index pos:start="713:70" pos:end="713:72">[<expr pos:start="713:71" pos:end="713:71"><name pos:start="713:71" pos:end="713:71">i</name></expr>]</index></name></expr>]</index><index pos:start="713:74" pos:end="713:76">[<expr pos:start="713:75" pos:end="713:75"><literal type="number" pos:start="713:75" pos:end="713:75">0</literal></expr>]</index></name></expr>;</expr_stmt>

                        <expr_stmt pos:start="715:25" pos:end="715:77"><expr pos:start="715:25" pos:end="715:76"><name pos:start="715:25" pos:end="715:38"><name pos:start="715:25" pos:end="715:25">s</name><operator pos:start="715:26" pos:end="715:27">-&gt;</operator><name pos:start="715:28" pos:end="715:29">mv</name><index pos:start="715:30" pos:end="715:32">[<expr pos:start="715:31" pos:end="715:31"><literal type="number" pos:start="715:31" pos:end="715:31">0</literal></expr>]</index><index pos:start="715:33" pos:end="715:35">[<expr pos:start="715:34" pos:end="715:34"><name pos:start="715:34" pos:end="715:34">i</name></expr>]</index><index pos:start="715:36" pos:end="715:38">[<expr pos:start="715:37" pos:end="715:37"><literal type="number" pos:start="715:37" pos:end="715:37">1</literal></expr>]</index></name> <operator pos:start="715:40" pos:end="715:40">=</operator> <name pos:start="715:42" pos:end="715:76"><name pos:start="715:42" pos:end="715:42">s</name><operator pos:start="715:43" pos:end="715:44">-&gt;</operator><name pos:start="715:45" pos:end="715:54">motion_val</name><index pos:start="715:55" pos:end="715:73">[<expr pos:start="715:56" pos:end="715:72"><name pos:start="715:56" pos:end="715:72"><name pos:start="715:56" pos:end="715:56">s</name><operator pos:start="715:57" pos:end="715:58">-&gt;</operator><name pos:start="715:59" pos:end="715:69">block_index</name><index pos:start="715:70" pos:end="715:72">[<expr pos:start="715:71" pos:end="715:71"><name pos:start="715:71" pos:end="715:71">i</name></expr>]</index></name></expr>]</index><index pos:start="715:74" pos:end="715:76">[<expr pos:start="715:75" pos:end="715:75"><literal type="number" pos:start="715:75" pos:end="715:75">1</literal></expr>]</index></name></expr>;</expr_stmt>

                    </block_content>}</block></for>

                    <expr_stmt pos:start="719:21" pos:end="721:59"><expr pos:start="719:21" pos:end="721:58"><call pos:start="719:21" pos:end="721:58"><name pos:start="719:21" pos:end="719:32">encode_mb_hq</name><argument_list pos:start="719:33" pos:end="721:58">(<argument pos:start="719:34" pos:end="719:34"><expr pos:start="719:34" pos:end="719:34"><name pos:start="719:34" pos:end="719:34">s</name></expr></argument>, <argument pos:start="719:37" pos:end="719:45"><expr pos:start="719:37" pos:end="719:45"><operator pos:start="719:37" pos:end="719:37">&amp;</operator><name pos:start="719:38" pos:end="719:45">backup_s</name></expr></argument>, <argument pos:start="719:48" pos:end="719:54"><expr pos:start="719:48" pos:end="719:54"><operator pos:start="719:48" pos:end="719:48">&amp;</operator><name pos:start="719:49" pos:end="719:54">best_s</name></expr></argument>, <argument pos:start="719:57" pos:end="719:71"><expr pos:start="719:57" pos:end="719:71"><name pos:start="719:57" pos:end="719:71">MB_TYPE_INTER4V</name></expr></argument>, <argument pos:start="719:74" pos:end="719:75"><expr pos:start="719:74" pos:end="719:75"><name pos:start="719:74" pos:end="719:75">pb</name></expr></argument>, <argument pos:start="719:78" pos:end="719:80"><expr pos:start="719:78" pos:end="719:80"><name pos:start="719:78" pos:end="719:80">pb2</name></expr></argument>, <argument pos:start="719:83" pos:end="719:88"><expr pos:start="719:83" pos:end="719:88"><name pos:start="719:83" pos:end="719:88">tex_pb</name></expr></argument>, 

                                 <argument pos:start="721:34" pos:end="721:38"><expr pos:start="721:34" pos:end="721:38"><operator pos:start="721:34" pos:end="721:34">&amp;</operator><name pos:start="721:35" pos:end="721:38">dmin</name></expr></argument>, <argument pos:start="721:41" pos:end="721:51"><expr pos:start="721:41" pos:end="721:51"><operator pos:start="721:41" pos:end="721:41">&amp;</operator><name pos:start="721:42" pos:end="721:51">next_block</name></expr></argument>, <argument pos:start="721:54" pos:end="721:54"><expr pos:start="721:54" pos:end="721:54"><literal type="number" pos:start="721:54" pos:end="721:54">0</literal></expr></argument>, <argument pos:start="721:57" pos:end="721:57"><expr pos:start="721:57" pos:end="721:57"><literal type="number" pos:start="721:57" pos:end="721:57">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

                <if_stmt pos:start="725:17" pos:end="741:17"><if pos:start="725:17" pos:end="741:17">if<condition pos:start="725:19" pos:end="725:43">(<expr pos:start="725:20" pos:end="725:42"><name pos:start="725:20" pos:end="725:26">mb_type</name><operator pos:start="725:27" pos:end="725:27">&amp;</operator><name pos:start="725:28" pos:end="725:42">MB_TYPE_FORWARD</name></expr>)</condition><block pos:start="725:44" pos:end="741:17">{<block_content pos:start="727:21" pos:end="739:85">

                    <expr_stmt pos:start="727:21" pos:end="727:47"><expr pos:start="727:21" pos:end="727:46"><name pos:start="727:21" pos:end="727:29"><name pos:start="727:21" pos:end="727:21">s</name><operator pos:start="727:22" pos:end="727:23">-&gt;</operator><name pos:start="727:24" pos:end="727:29">mv_dir</name></name> <operator pos:start="727:31" pos:end="727:31">=</operator> <name pos:start="727:33" pos:end="727:46">MV_DIR_FORWARD</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="729:21" pos:end="729:47"><expr pos:start="729:21" pos:end="729:46"><name pos:start="729:21" pos:end="729:30"><name pos:start="729:21" pos:end="729:21">s</name><operator pos:start="729:22" pos:end="729:23">-&gt;</operator><name pos:start="729:24" pos:end="729:30">mv_type</name></name> <operator pos:start="729:32" pos:end="729:32">=</operator> <name pos:start="729:34" pos:end="729:46">MV_TYPE_16X16</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="731:21" pos:end="731:35"><expr pos:start="731:21" pos:end="731:34"><name pos:start="731:21" pos:end="731:31"><name pos:start="731:21" pos:end="731:21">s</name><operator pos:start="731:22" pos:end="731:23">-&gt;</operator><name pos:start="731:24" pos:end="731:31">mb_intra</name></name><operator pos:start="731:32" pos:end="731:32">=</operator> <literal type="number" pos:start="731:34" pos:end="731:34">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="733:21" pos:end="733:63"><expr pos:start="733:21" pos:end="733:62"><name pos:start="733:21" pos:end="733:34"><name pos:start="733:21" pos:end="733:21">s</name><operator pos:start="733:22" pos:end="733:23">-&gt;</operator><name pos:start="733:24" pos:end="733:25">mv</name><index pos:start="733:26" pos:end="733:28">[<expr pos:start="733:27" pos:end="733:27"><literal type="number" pos:start="733:27" pos:end="733:27">0</literal></expr>]</index><index pos:start="733:29" pos:end="733:31">[<expr pos:start="733:30" pos:end="733:30"><literal type="number" pos:start="733:30" pos:end="733:30">0</literal></expr>]</index><index pos:start="733:32" pos:end="733:34">[<expr pos:start="733:33" pos:end="733:33"><literal type="number" pos:start="733:33" pos:end="733:33">0</literal></expr>]</index></name> <operator pos:start="733:36" pos:end="733:36">=</operator> <name pos:start="733:38" pos:end="733:62"><name pos:start="733:38" pos:end="733:38">s</name><operator pos:start="733:39" pos:end="733:40">-&gt;</operator><name pos:start="733:41" pos:end="733:55">b_forw_mv_table</name><index pos:start="733:56" pos:end="733:59">[<expr pos:start="733:57" pos:end="733:58"><name pos:start="733:57" pos:end="733:58">xy</name></expr>]</index><index pos:start="733:60" pos:end="733:62">[<expr pos:start="733:61" pos:end="733:61"><literal type="number" pos:start="733:61" pos:end="733:61">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="735:21" pos:end="735:63"><expr pos:start="735:21" pos:end="735:62"><name pos:start="735:21" pos:end="735:34"><name pos:start="735:21" pos:end="735:21">s</name><operator pos:start="735:22" pos:end="735:23">-&gt;</operator><name pos:start="735:24" pos:end="735:25">mv</name><index pos:start="735:26" pos:end="735:28">[<expr pos:start="735:27" pos:end="735:27"><literal type="number" pos:start="735:27" pos:end="735:27">0</literal></expr>]</index><index pos:start="735:29" pos:end="735:31">[<expr pos:start="735:30" pos:end="735:30"><literal type="number" pos:start="735:30" pos:end="735:30">0</literal></expr>]</index><index pos:start="735:32" pos:end="735:34">[<expr pos:start="735:33" pos:end="735:33"><literal type="number" pos:start="735:33" pos:end="735:33">1</literal></expr>]</index></name> <operator pos:start="735:36" pos:end="735:36">=</operator> <name pos:start="735:38" pos:end="735:62"><name pos:start="735:38" pos:end="735:38">s</name><operator pos:start="735:39" pos:end="735:40">-&gt;</operator><name pos:start="735:41" pos:end="735:55">b_forw_mv_table</name><index pos:start="735:56" pos:end="735:59">[<expr pos:start="735:57" pos:end="735:58"><name pos:start="735:57" pos:end="735:58">xy</name></expr>]</index><index pos:start="735:60" pos:end="735:62">[<expr pos:start="735:61" pos:end="735:61"><literal type="number" pos:start="735:61" pos:end="735:61">1</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="737:21" pos:end="739:85"><expr pos:start="737:21" pos:end="739:84"><call pos:start="737:21" pos:end="739:84"><name pos:start="737:21" pos:end="737:32">encode_mb_hq</name><argument_list pos:start="737:33" pos:end="739:84">(<argument pos:start="737:34" pos:end="737:34"><expr pos:start="737:34" pos:end="737:34"><name pos:start="737:34" pos:end="737:34">s</name></expr></argument>, <argument pos:start="737:37" pos:end="737:45"><expr pos:start="737:37" pos:end="737:45"><operator pos:start="737:37" pos:end="737:37">&amp;</operator><name pos:start="737:38" pos:end="737:45">backup_s</name></expr></argument>, <argument pos:start="737:48" pos:end="737:54"><expr pos:start="737:48" pos:end="737:54"><operator pos:start="737:48" pos:end="737:48">&amp;</operator><name pos:start="737:49" pos:end="737:54">best_s</name></expr></argument>, <argument pos:start="737:57" pos:end="737:71"><expr pos:start="737:57" pos:end="737:71"><name pos:start="737:57" pos:end="737:71">MB_TYPE_FORWARD</name></expr></argument>, <argument pos:start="737:74" pos:end="737:75"><expr pos:start="737:74" pos:end="737:75"><name pos:start="737:74" pos:end="737:75">pb</name></expr></argument>, <argument pos:start="737:78" pos:end="737:80"><expr pos:start="737:78" pos:end="737:80"><name pos:start="737:78" pos:end="737:80">pb2</name></expr></argument>, <argument pos:start="737:83" pos:end="737:88"><expr pos:start="737:83" pos:end="737:88"><name pos:start="737:83" pos:end="737:88">tex_pb</name></expr></argument>, 

                                 <argument pos:start="739:34" pos:end="739:38"><expr pos:start="739:34" pos:end="739:38"><operator pos:start="739:34" pos:end="739:34">&amp;</operator><name pos:start="739:35" pos:end="739:38">dmin</name></expr></argument>, <argument pos:start="739:41" pos:end="739:51"><expr pos:start="739:41" pos:end="739:51"><operator pos:start="739:41" pos:end="739:41">&amp;</operator><name pos:start="739:42" pos:end="739:51">next_block</name></expr></argument>, <argument pos:start="739:54" pos:end="739:67"><expr pos:start="739:54" pos:end="739:67"><name pos:start="739:54" pos:end="739:67"><name pos:start="739:54" pos:end="739:54">s</name><operator pos:start="739:55" pos:end="739:56">-&gt;</operator><name pos:start="739:57" pos:end="739:58">mv</name><index pos:start="739:59" pos:end="739:61">[<expr pos:start="739:60" pos:end="739:60"><literal type="number" pos:start="739:60" pos:end="739:60">0</literal></expr>]</index><index pos:start="739:62" pos:end="739:64">[<expr pos:start="739:63" pos:end="739:63"><literal type="number" pos:start="739:63" pos:end="739:63">0</literal></expr>]</index><index pos:start="739:65" pos:end="739:67">[<expr pos:start="739:66" pos:end="739:66"><literal type="number" pos:start="739:66" pos:end="739:66">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="739:70" pos:end="739:83"><expr pos:start="739:70" pos:end="739:83"><name pos:start="739:70" pos:end="739:83"><name pos:start="739:70" pos:end="739:70">s</name><operator pos:start="739:71" pos:end="739:72">-&gt;</operator><name pos:start="739:73" pos:end="739:74">mv</name><index pos:start="739:75" pos:end="739:77">[<expr pos:start="739:76" pos:end="739:76"><literal type="number" pos:start="739:76" pos:end="739:76">0</literal></expr>]</index><index pos:start="739:78" pos:end="739:80">[<expr pos:start="739:79" pos:end="739:79"><literal type="number" pos:start="739:79" pos:end="739:79">0</literal></expr>]</index><index pos:start="739:81" pos:end="739:83">[<expr pos:start="739:82" pos:end="739:82"><literal type="number" pos:start="739:82" pos:end="739:82">1</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

                <if_stmt pos:start="743:17" pos:end="759:17"><if pos:start="743:17" pos:end="759:17">if<condition pos:start="743:19" pos:end="743:44">(<expr pos:start="743:20" pos:end="743:43"><name pos:start="743:20" pos:end="743:26">mb_type</name><operator pos:start="743:27" pos:end="743:27">&amp;</operator><name pos:start="743:28" pos:end="743:43">MB_TYPE_BACKWARD</name></expr>)</condition><block pos:start="743:45" pos:end="759:17">{<block_content pos:start="745:21" pos:end="757:85">

                    <expr_stmt pos:start="745:21" pos:end="745:48"><expr pos:start="745:21" pos:end="745:47"><name pos:start="745:21" pos:end="745:29"><name pos:start="745:21" pos:end="745:21">s</name><operator pos:start="745:22" pos:end="745:23">-&gt;</operator><name pos:start="745:24" pos:end="745:29">mv_dir</name></name> <operator pos:start="745:31" pos:end="745:31">=</operator> <name pos:start="745:33" pos:end="745:47">MV_DIR_BACKWARD</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="747:21" pos:end="747:47"><expr pos:start="747:21" pos:end="747:46"><name pos:start="747:21" pos:end="747:30"><name pos:start="747:21" pos:end="747:21">s</name><operator pos:start="747:22" pos:end="747:23">-&gt;</operator><name pos:start="747:24" pos:end="747:30">mv_type</name></name> <operator pos:start="747:32" pos:end="747:32">=</operator> <name pos:start="747:34" pos:end="747:46">MV_TYPE_16X16</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="749:21" pos:end="749:35"><expr pos:start="749:21" pos:end="749:34"><name pos:start="749:21" pos:end="749:31"><name pos:start="749:21" pos:end="749:21">s</name><operator pos:start="749:22" pos:end="749:23">-&gt;</operator><name pos:start="749:24" pos:end="749:31">mb_intra</name></name><operator pos:start="749:32" pos:end="749:32">=</operator> <literal type="number" pos:start="749:34" pos:end="749:34">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="751:21" pos:end="751:63"><expr pos:start="751:21" pos:end="751:62"><name pos:start="751:21" pos:end="751:34"><name pos:start="751:21" pos:end="751:21">s</name><operator pos:start="751:22" pos:end="751:23">-&gt;</operator><name pos:start="751:24" pos:end="751:25">mv</name><index pos:start="751:26" pos:end="751:28">[<expr pos:start="751:27" pos:end="751:27"><literal type="number" pos:start="751:27" pos:end="751:27">1</literal></expr>]</index><index pos:start="751:29" pos:end="751:31">[<expr pos:start="751:30" pos:end="751:30"><literal type="number" pos:start="751:30" pos:end="751:30">0</literal></expr>]</index><index pos:start="751:32" pos:end="751:34">[<expr pos:start="751:33" pos:end="751:33"><literal type="number" pos:start="751:33" pos:end="751:33">0</literal></expr>]</index></name> <operator pos:start="751:36" pos:end="751:36">=</operator> <name pos:start="751:38" pos:end="751:62"><name pos:start="751:38" pos:end="751:38">s</name><operator pos:start="751:39" pos:end="751:40">-&gt;</operator><name pos:start="751:41" pos:end="751:55">b_back_mv_table</name><index pos:start="751:56" pos:end="751:59">[<expr pos:start="751:57" pos:end="751:58"><name pos:start="751:57" pos:end="751:58">xy</name></expr>]</index><index pos:start="751:60" pos:end="751:62">[<expr pos:start="751:61" pos:end="751:61"><literal type="number" pos:start="751:61" pos:end="751:61">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="753:21" pos:end="753:63"><expr pos:start="753:21" pos:end="753:62"><name pos:start="753:21" pos:end="753:34"><name pos:start="753:21" pos:end="753:21">s</name><operator pos:start="753:22" pos:end="753:23">-&gt;</operator><name pos:start="753:24" pos:end="753:25">mv</name><index pos:start="753:26" pos:end="753:28">[<expr pos:start="753:27" pos:end="753:27"><literal type="number" pos:start="753:27" pos:end="753:27">1</literal></expr>]</index><index pos:start="753:29" pos:end="753:31">[<expr pos:start="753:30" pos:end="753:30"><literal type="number" pos:start="753:30" pos:end="753:30">0</literal></expr>]</index><index pos:start="753:32" pos:end="753:34">[<expr pos:start="753:33" pos:end="753:33"><literal type="number" pos:start="753:33" pos:end="753:33">1</literal></expr>]</index></name> <operator pos:start="753:36" pos:end="753:36">=</operator> <name pos:start="753:38" pos:end="753:62"><name pos:start="753:38" pos:end="753:38">s</name><operator pos:start="753:39" pos:end="753:40">-&gt;</operator><name pos:start="753:41" pos:end="753:55">b_back_mv_table</name><index pos:start="753:56" pos:end="753:59">[<expr pos:start="753:57" pos:end="753:58"><name pos:start="753:57" pos:end="753:58">xy</name></expr>]</index><index pos:start="753:60" pos:end="753:62">[<expr pos:start="753:61" pos:end="753:61"><literal type="number" pos:start="753:61" pos:end="753:61">1</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="755:21" pos:end="757:85"><expr pos:start="755:21" pos:end="757:84"><call pos:start="755:21" pos:end="757:84"><name pos:start="755:21" pos:end="755:32">encode_mb_hq</name><argument_list pos:start="755:33" pos:end="757:84">(<argument pos:start="755:34" pos:end="755:34"><expr pos:start="755:34" pos:end="755:34"><name pos:start="755:34" pos:end="755:34">s</name></expr></argument>, <argument pos:start="755:37" pos:end="755:45"><expr pos:start="755:37" pos:end="755:45"><operator pos:start="755:37" pos:end="755:37">&amp;</operator><name pos:start="755:38" pos:end="755:45">backup_s</name></expr></argument>, <argument pos:start="755:48" pos:end="755:54"><expr pos:start="755:48" pos:end="755:54"><operator pos:start="755:48" pos:end="755:48">&amp;</operator><name pos:start="755:49" pos:end="755:54">best_s</name></expr></argument>, <argument pos:start="755:57" pos:end="755:72"><expr pos:start="755:57" pos:end="755:72"><name pos:start="755:57" pos:end="755:72">MB_TYPE_BACKWARD</name></expr></argument>, <argument pos:start="755:75" pos:end="755:76"><expr pos:start="755:75" pos:end="755:76"><name pos:start="755:75" pos:end="755:76">pb</name></expr></argument>, <argument pos:start="755:79" pos:end="755:81"><expr pos:start="755:79" pos:end="755:81"><name pos:start="755:79" pos:end="755:81">pb2</name></expr></argument>, <argument pos:start="755:84" pos:end="755:89"><expr pos:start="755:84" pos:end="755:89"><name pos:start="755:84" pos:end="755:89">tex_pb</name></expr></argument>, 

                                 <argument pos:start="757:34" pos:end="757:38"><expr pos:start="757:34" pos:end="757:38"><operator pos:start="757:34" pos:end="757:34">&amp;</operator><name pos:start="757:35" pos:end="757:38">dmin</name></expr></argument>, <argument pos:start="757:41" pos:end="757:51"><expr pos:start="757:41" pos:end="757:51"><operator pos:start="757:41" pos:end="757:41">&amp;</operator><name pos:start="757:42" pos:end="757:51">next_block</name></expr></argument>, <argument pos:start="757:54" pos:end="757:67"><expr pos:start="757:54" pos:end="757:67"><name pos:start="757:54" pos:end="757:67"><name pos:start="757:54" pos:end="757:54">s</name><operator pos:start="757:55" pos:end="757:56">-&gt;</operator><name pos:start="757:57" pos:end="757:58">mv</name><index pos:start="757:59" pos:end="757:61">[<expr pos:start="757:60" pos:end="757:60"><literal type="number" pos:start="757:60" pos:end="757:60">1</literal></expr>]</index><index pos:start="757:62" pos:end="757:64">[<expr pos:start="757:63" pos:end="757:63"><literal type="number" pos:start="757:63" pos:end="757:63">0</literal></expr>]</index><index pos:start="757:65" pos:end="757:67">[<expr pos:start="757:66" pos:end="757:66"><literal type="number" pos:start="757:66" pos:end="757:66">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="757:70" pos:end="757:83"><expr pos:start="757:70" pos:end="757:83"><name pos:start="757:70" pos:end="757:83"><name pos:start="757:70" pos:end="757:70">s</name><operator pos:start="757:71" pos:end="757:72">-&gt;</operator><name pos:start="757:73" pos:end="757:74">mv</name><index pos:start="757:75" pos:end="757:77">[<expr pos:start="757:76" pos:end="757:76"><literal type="number" pos:start="757:76" pos:end="757:76">1</literal></expr>]</index><index pos:start="757:78" pos:end="757:80">[<expr pos:start="757:79" pos:end="757:79"><literal type="number" pos:start="757:79" pos:end="757:79">0</literal></expr>]</index><index pos:start="757:81" pos:end="757:83">[<expr pos:start="757:82" pos:end="757:82"><literal type="number" pos:start="757:82" pos:end="757:82">1</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

                <if_stmt pos:start="761:17" pos:end="781:17"><if pos:start="761:17" pos:end="781:17">if<condition pos:start="761:19" pos:end="761:41">(<expr pos:start="761:20" pos:end="761:40"><name pos:start="761:20" pos:end="761:26">mb_type</name><operator pos:start="761:27" pos:end="761:27">&amp;</operator><name pos:start="761:28" pos:end="761:40">MB_TYPE_BIDIR</name></expr>)</condition><block pos:start="761:42" pos:end="781:17">{<block_content pos:start="763:21" pos:end="779:59">

                    <expr_stmt pos:start="763:21" pos:end="763:65"><expr pos:start="763:21" pos:end="763:64"><name pos:start="763:21" pos:end="763:29"><name pos:start="763:21" pos:end="763:21">s</name><operator pos:start="763:22" pos:end="763:23">-&gt;</operator><name pos:start="763:24" pos:end="763:29">mv_dir</name></name> <operator pos:start="763:31" pos:end="763:31">=</operator> <name pos:start="763:33" pos:end="763:46">MV_DIR_FORWARD</name> <operator pos:start="763:48" pos:end="763:48">|</operator> <name pos:start="763:50" pos:end="763:64">MV_DIR_BACKWARD</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="765:21" pos:end="765:47"><expr pos:start="765:21" pos:end="765:46"><name pos:start="765:21" pos:end="765:30"><name pos:start="765:21" pos:end="765:21">s</name><operator pos:start="765:22" pos:end="765:23">-&gt;</operator><name pos:start="765:24" pos:end="765:30">mv_type</name></name> <operator pos:start="765:32" pos:end="765:32">=</operator> <name pos:start="765:34" pos:end="765:46">MV_TYPE_16X16</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="767:21" pos:end="767:35"><expr pos:start="767:21" pos:end="767:34"><name pos:start="767:21" pos:end="767:31"><name pos:start="767:21" pos:end="767:21">s</name><operator pos:start="767:22" pos:end="767:23">-&gt;</operator><name pos:start="767:24" pos:end="767:31">mb_intra</name></name><operator pos:start="767:32" pos:end="767:32">=</operator> <literal type="number" pos:start="767:34" pos:end="767:34">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="769:21" pos:end="769:69"><expr pos:start="769:21" pos:end="769:68"><name pos:start="769:21" pos:end="769:34"><name pos:start="769:21" pos:end="769:21">s</name><operator pos:start="769:22" pos:end="769:23">-&gt;</operator><name pos:start="769:24" pos:end="769:25">mv</name><index pos:start="769:26" pos:end="769:28">[<expr pos:start="769:27" pos:end="769:27"><literal type="number" pos:start="769:27" pos:end="769:27">0</literal></expr>]</index><index pos:start="769:29" pos:end="769:31">[<expr pos:start="769:30" pos:end="769:30"><literal type="number" pos:start="769:30" pos:end="769:30">0</literal></expr>]</index><index pos:start="769:32" pos:end="769:34">[<expr pos:start="769:33" pos:end="769:33"><literal type="number" pos:start="769:33" pos:end="769:33">0</literal></expr>]</index></name> <operator pos:start="769:36" pos:end="769:36">=</operator> <name pos:start="769:38" pos:end="769:68"><name pos:start="769:38" pos:end="769:38">s</name><operator pos:start="769:39" pos:end="769:40">-&gt;</operator><name pos:start="769:41" pos:end="769:61">b_bidir_forw_mv_table</name><index pos:start="769:62" pos:end="769:65">[<expr pos:start="769:63" pos:end="769:64"><name pos:start="769:63" pos:end="769:64">xy</name></expr>]</index><index pos:start="769:66" pos:end="769:68">[<expr pos:start="769:67" pos:end="769:67"><literal type="number" pos:start="769:67" pos:end="769:67">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="771:21" pos:end="771:69"><expr pos:start="771:21" pos:end="771:68"><name pos:start="771:21" pos:end="771:34"><name pos:start="771:21" pos:end="771:21">s</name><operator pos:start="771:22" pos:end="771:23">-&gt;</operator><name pos:start="771:24" pos:end="771:25">mv</name><index pos:start="771:26" pos:end="771:28">[<expr pos:start="771:27" pos:end="771:27"><literal type="number" pos:start="771:27" pos:end="771:27">0</literal></expr>]</index><index pos:start="771:29" pos:end="771:31">[<expr pos:start="771:30" pos:end="771:30"><literal type="number" pos:start="771:30" pos:end="771:30">0</literal></expr>]</index><index pos:start="771:32" pos:end="771:34">[<expr pos:start="771:33" pos:end="771:33"><literal type="number" pos:start="771:33" pos:end="771:33">1</literal></expr>]</index></name> <operator pos:start="771:36" pos:end="771:36">=</operator> <name pos:start="771:38" pos:end="771:68"><name pos:start="771:38" pos:end="771:38">s</name><operator pos:start="771:39" pos:end="771:40">-&gt;</operator><name pos:start="771:41" pos:end="771:61">b_bidir_forw_mv_table</name><index pos:start="771:62" pos:end="771:65">[<expr pos:start="771:63" pos:end="771:64"><name pos:start="771:63" pos:end="771:64">xy</name></expr>]</index><index pos:start="771:66" pos:end="771:68">[<expr pos:start="771:67" pos:end="771:67"><literal type="number" pos:start="771:67" pos:end="771:67">1</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="773:21" pos:end="773:69"><expr pos:start="773:21" pos:end="773:68"><name pos:start="773:21" pos:end="773:34"><name pos:start="773:21" pos:end="773:21">s</name><operator pos:start="773:22" pos:end="773:23">-&gt;</operator><name pos:start="773:24" pos:end="773:25">mv</name><index pos:start="773:26" pos:end="773:28">[<expr pos:start="773:27" pos:end="773:27"><literal type="number" pos:start="773:27" pos:end="773:27">1</literal></expr>]</index><index pos:start="773:29" pos:end="773:31">[<expr pos:start="773:30" pos:end="773:30"><literal type="number" pos:start="773:30" pos:end="773:30">0</literal></expr>]</index><index pos:start="773:32" pos:end="773:34">[<expr pos:start="773:33" pos:end="773:33"><literal type="number" pos:start="773:33" pos:end="773:33">0</literal></expr>]</index></name> <operator pos:start="773:36" pos:end="773:36">=</operator> <name pos:start="773:38" pos:end="773:68"><name pos:start="773:38" pos:end="773:38">s</name><operator pos:start="773:39" pos:end="773:40">-&gt;</operator><name pos:start="773:41" pos:end="773:61">b_bidir_back_mv_table</name><index pos:start="773:62" pos:end="773:65">[<expr pos:start="773:63" pos:end="773:64"><name pos:start="773:63" pos:end="773:64">xy</name></expr>]</index><index pos:start="773:66" pos:end="773:68">[<expr pos:start="773:67" pos:end="773:67"><literal type="number" pos:start="773:67" pos:end="773:67">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="775:21" pos:end="775:69"><expr pos:start="775:21" pos:end="775:68"><name pos:start="775:21" pos:end="775:34"><name pos:start="775:21" pos:end="775:21">s</name><operator pos:start="775:22" pos:end="775:23">-&gt;</operator><name pos:start="775:24" pos:end="775:25">mv</name><index pos:start="775:26" pos:end="775:28">[<expr pos:start="775:27" pos:end="775:27"><literal type="number" pos:start="775:27" pos:end="775:27">1</literal></expr>]</index><index pos:start="775:29" pos:end="775:31">[<expr pos:start="775:30" pos:end="775:30"><literal type="number" pos:start="775:30" pos:end="775:30">0</literal></expr>]</index><index pos:start="775:32" pos:end="775:34">[<expr pos:start="775:33" pos:end="775:33"><literal type="number" pos:start="775:33" pos:end="775:33">1</literal></expr>]</index></name> <operator pos:start="775:36" pos:end="775:36">=</operator> <name pos:start="775:38" pos:end="775:68"><name pos:start="775:38" pos:end="775:38">s</name><operator pos:start="775:39" pos:end="775:40">-&gt;</operator><name pos:start="775:41" pos:end="775:61">b_bidir_back_mv_table</name><index pos:start="775:62" pos:end="775:65">[<expr pos:start="775:63" pos:end="775:64"><name pos:start="775:63" pos:end="775:64">xy</name></expr>]</index><index pos:start="775:66" pos:end="775:68">[<expr pos:start="775:67" pos:end="775:67"><literal type="number" pos:start="775:67" pos:end="775:67">1</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="777:21" pos:end="779:59"><expr pos:start="777:21" pos:end="779:58"><call pos:start="777:21" pos:end="779:58"><name pos:start="777:21" pos:end="777:32">encode_mb_hq</name><argument_list pos:start="777:33" pos:end="779:58">(<argument pos:start="777:34" pos:end="777:34"><expr pos:start="777:34" pos:end="777:34"><name pos:start="777:34" pos:end="777:34">s</name></expr></argument>, <argument pos:start="777:37" pos:end="777:45"><expr pos:start="777:37" pos:end="777:45"><operator pos:start="777:37" pos:end="777:37">&amp;</operator><name pos:start="777:38" pos:end="777:45">backup_s</name></expr></argument>, <argument pos:start="777:48" pos:end="777:54"><expr pos:start="777:48" pos:end="777:54"><operator pos:start="777:48" pos:end="777:48">&amp;</operator><name pos:start="777:49" pos:end="777:54">best_s</name></expr></argument>, <argument pos:start="777:57" pos:end="777:69"><expr pos:start="777:57" pos:end="777:69"><name pos:start="777:57" pos:end="777:69">MB_TYPE_BIDIR</name></expr></argument>, <argument pos:start="777:72" pos:end="777:73"><expr pos:start="777:72" pos:end="777:73"><name pos:start="777:72" pos:end="777:73">pb</name></expr></argument>, <argument pos:start="777:76" pos:end="777:78"><expr pos:start="777:76" pos:end="777:78"><name pos:start="777:76" pos:end="777:78">pb2</name></expr></argument>, <argument pos:start="777:81" pos:end="777:86"><expr pos:start="777:81" pos:end="777:86"><name pos:start="777:81" pos:end="777:86">tex_pb</name></expr></argument>, 

                                 <argument pos:start="779:34" pos:end="779:38"><expr pos:start="779:34" pos:end="779:38"><operator pos:start="779:34" pos:end="779:34">&amp;</operator><name pos:start="779:35" pos:end="779:38">dmin</name></expr></argument>, <argument pos:start="779:41" pos:end="779:51"><expr pos:start="779:41" pos:end="779:51"><operator pos:start="779:41" pos:end="779:41">&amp;</operator><name pos:start="779:42" pos:end="779:51">next_block</name></expr></argument>, <argument pos:start="779:54" pos:end="779:54"><expr pos:start="779:54" pos:end="779:54"><literal type="number" pos:start="779:54" pos:end="779:54">0</literal></expr></argument>, <argument pos:start="779:57" pos:end="779:57"><expr pos:start="779:57" pos:end="779:57"><literal type="number" pos:start="779:57" pos:end="779:57">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

                <if_stmt pos:start="783:17" pos:end="805:17"><if pos:start="783:17" pos:end="805:17">if<condition pos:start="783:19" pos:end="783:42">(<expr pos:start="783:20" pos:end="783:41"><name pos:start="783:20" pos:end="783:26">mb_type</name><operator pos:start="783:27" pos:end="783:27">&amp;</operator><name pos:start="783:28" pos:end="783:41">MB_TYPE_DIRECT</name></expr>)</condition><block pos:start="783:43" pos:end="805:17">{<block_content pos:start="785:21" pos:end="803:61">

                    <decl_stmt pos:start="785:21" pos:end="785:56"><decl pos:start="785:21" pos:end="785:55"><type pos:start="785:21" pos:end="785:23"><name pos:start="785:21" pos:end="785:23">int</name></type> <name pos:start="785:25" pos:end="785:26">mx</name><init pos:start="785:27" pos:end="785:55">= <expr pos:start="785:29" pos:end="785:55"><name pos:start="785:29" pos:end="785:55"><name pos:start="785:29" pos:end="785:29">s</name><operator pos:start="785:30" pos:end="785:31">-&gt;</operator><name pos:start="785:32" pos:end="785:48">b_direct_mv_table</name><index pos:start="785:49" pos:end="785:52">[<expr pos:start="785:50" pos:end="785:51"><name pos:start="785:50" pos:end="785:51">xy</name></expr>]</index><index pos:start="785:53" pos:end="785:55">[<expr pos:start="785:54" pos:end="785:54"><literal type="number" pos:start="785:54" pos:end="785:54">0</literal></expr>]</index></name></expr></init></decl>;</decl_stmt>

                    <decl_stmt pos:start="787:21" pos:end="787:56"><decl pos:start="787:21" pos:end="787:55"><type pos:start="787:21" pos:end="787:23"><name pos:start="787:21" pos:end="787:23">int</name></type> <name pos:start="787:25" pos:end="787:26">my</name><init pos:start="787:27" pos:end="787:55">= <expr pos:start="787:29" pos:end="787:55"><name pos:start="787:29" pos:end="787:55"><name pos:start="787:29" pos:end="787:29">s</name><operator pos:start="787:30" pos:end="787:31">-&gt;</operator><name pos:start="787:32" pos:end="787:48">b_direct_mv_table</name><index pos:start="787:49" pos:end="787:52">[<expr pos:start="787:50" pos:end="787:51"><name pos:start="787:50" pos:end="787:51">xy</name></expr>]</index><index pos:start="787:53" pos:end="787:55">[<expr pos:start="787:54" pos:end="787:54"><literal type="number" pos:start="787:54" pos:end="787:54">1</literal></expr>]</index></name></expr></init></decl>;</decl_stmt>

                    

                    <expr_stmt pos:start="791:21" pos:end="791:77"><expr pos:start="791:21" pos:end="791:76"><name pos:start="791:21" pos:end="791:29"><name pos:start="791:21" pos:end="791:21">s</name><operator pos:start="791:22" pos:end="791:23">-&gt;</operator><name pos:start="791:24" pos:end="791:29">mv_dir</name></name> <operator pos:start="791:31" pos:end="791:31">=</operator> <name pos:start="791:33" pos:end="791:46">MV_DIR_FORWARD</name> <operator pos:start="791:48" pos:end="791:48">|</operator> <name pos:start="791:50" pos:end="791:64">MV_DIR_BACKWARD</name> <operator pos:start="791:66" pos:end="791:66">|</operator> <name pos:start="791:68" pos:end="791:76">MV_DIRECT</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="793:21" pos:end="796:0"><expr pos:start="793:21" pos:end="793:34"><name pos:start="793:21" pos:end="793:31"><name pos:start="793:21" pos:end="793:21">s</name><operator pos:start="793:22" pos:end="793:23">-&gt;</operator><name pos:start="793:24" pos:end="793:31">mb_intra</name></name><operator pos:start="793:32" pos:end="793:32">=</operator> <literal type="number" pos:start="793:34" pos:end="793:34">0</literal></expr>;</expr_stmt>

<cpp:ifdef pos:start="795:1" pos:end="795:19">#<cpp:directive pos:start="795:2" pos:end="795:6">ifdef</cpp:directive> <name pos:start="795:8" pos:end="795:19">CONFIG_RISKY</name></cpp:ifdef>

                    <expr_stmt pos:start="797:21" pos:end="800:0"><expr pos:start="797:21" pos:end="797:53"><call pos:start="797:21" pos:end="797:53"><name pos:start="797:21" pos:end="797:42">ff_mpeg4_set_direct_mv</name><argument_list pos:start="797:43" pos:end="797:53">(<argument pos:start="797:44" pos:end="797:44"><expr pos:start="797:44" pos:end="797:44"><name pos:start="797:44" pos:end="797:44">s</name></expr></argument>, <argument pos:start="797:47" pos:end="797:48"><expr pos:start="797:47" pos:end="797:48"><name pos:start="797:47" pos:end="797:48">mx</name></expr></argument>, <argument pos:start="797:51" pos:end="797:52"><expr pos:start="797:51" pos:end="797:52"><name pos:start="797:51" pos:end="797:52">my</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

<cpp:endif pos:start="799:1" pos:end="799:6">#<cpp:directive pos:start="799:2" pos:end="799:6">endif</cpp:directive></cpp:endif>

                    <expr_stmt pos:start="801:21" pos:end="803:61"><expr pos:start="801:21" pos:end="803:60"><call pos:start="801:21" pos:end="803:60"><name pos:start="801:21" pos:end="801:32">encode_mb_hq</name><argument_list pos:start="801:33" pos:end="803:60">(<argument pos:start="801:34" pos:end="801:34"><expr pos:start="801:34" pos:end="801:34"><name pos:start="801:34" pos:end="801:34">s</name></expr></argument>, <argument pos:start="801:37" pos:end="801:45"><expr pos:start="801:37" pos:end="801:45"><operator pos:start="801:37" pos:end="801:37">&amp;</operator><name pos:start="801:38" pos:end="801:45">backup_s</name></expr></argument>, <argument pos:start="801:48" pos:end="801:54"><expr pos:start="801:48" pos:end="801:54"><operator pos:start="801:48" pos:end="801:48">&amp;</operator><name pos:start="801:49" pos:end="801:54">best_s</name></expr></argument>, <argument pos:start="801:57" pos:end="801:70"><expr pos:start="801:57" pos:end="801:70"><name pos:start="801:57" pos:end="801:70">MB_TYPE_DIRECT</name></expr></argument>, <argument pos:start="801:73" pos:end="801:74"><expr pos:start="801:73" pos:end="801:74"><name pos:start="801:73" pos:end="801:74">pb</name></expr></argument>, <argument pos:start="801:77" pos:end="801:79"><expr pos:start="801:77" pos:end="801:79"><name pos:start="801:77" pos:end="801:79">pb2</name></expr></argument>, <argument pos:start="801:82" pos:end="801:87"><expr pos:start="801:82" pos:end="801:87"><name pos:start="801:82" pos:end="801:87">tex_pb</name></expr></argument>, 

                                 <argument pos:start="803:34" pos:end="803:38"><expr pos:start="803:34" pos:end="803:38"><operator pos:start="803:34" pos:end="803:34">&amp;</operator><name pos:start="803:35" pos:end="803:38">dmin</name></expr></argument>, <argument pos:start="803:41" pos:end="803:51"><expr pos:start="803:41" pos:end="803:51"><operator pos:start="803:41" pos:end="803:41">&amp;</operator><name pos:start="803:42" pos:end="803:51">next_block</name></expr></argument>, <argument pos:start="803:54" pos:end="803:55"><expr pos:start="803:54" pos:end="803:55"><name pos:start="803:54" pos:end="803:55">mx</name></expr></argument>, <argument pos:start="803:58" pos:end="803:59"><expr pos:start="803:58" pos:end="803:59"><name pos:start="803:58" pos:end="803:59">my</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

                <if_stmt pos:start="807:17" pos:end="829:17"><if pos:start="807:17" pos:end="829:17">if<condition pos:start="807:19" pos:end="807:41">(<expr pos:start="807:20" pos:end="807:40"><name pos:start="807:20" pos:end="807:26">mb_type</name><operator pos:start="807:27" pos:end="807:27">&amp;</operator><name pos:start="807:28" pos:end="807:40">MB_TYPE_INTRA</name></expr>)</condition><block pos:start="807:42" pos:end="829:17">{<block_content pos:start="809:21" pos:end="827:68">

                    <expr_stmt pos:start="809:21" pos:end="809:34"><expr pos:start="809:21" pos:end="809:33"><name pos:start="809:21" pos:end="809:29"><name pos:start="809:21" pos:end="809:21">s</name><operator pos:start="809:22" pos:end="809:23">-&gt;</operator><name pos:start="809:24" pos:end="809:29">mv_dir</name></name> <operator pos:start="809:31" pos:end="809:31">=</operator> <literal type="number" pos:start="809:33" pos:end="809:33">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="811:21" pos:end="811:47"><expr pos:start="811:21" pos:end="811:46"><name pos:start="811:21" pos:end="811:30"><name pos:start="811:21" pos:end="811:21">s</name><operator pos:start="811:22" pos:end="811:23">-&gt;</operator><name pos:start="811:24" pos:end="811:30">mv_type</name></name> <operator pos:start="811:32" pos:end="811:32">=</operator> <name pos:start="811:34" pos:end="811:46">MV_TYPE_16X16</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="813:21" pos:end="813:35"><expr pos:start="813:21" pos:end="813:34"><name pos:start="813:21" pos:end="813:31"><name pos:start="813:21" pos:end="813:21">s</name><operator pos:start="813:22" pos:end="813:23">-&gt;</operator><name pos:start="813:24" pos:end="813:31">mb_intra</name></name><operator pos:start="813:32" pos:end="813:32">=</operator> <literal type="number" pos:start="813:34" pos:end="813:34">1</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="815:21" pos:end="815:39"><expr pos:start="815:21" pos:end="815:38"><name pos:start="815:21" pos:end="815:34"><name pos:start="815:21" pos:end="815:21">s</name><operator pos:start="815:22" pos:end="815:23">-&gt;</operator><name pos:start="815:24" pos:end="815:25">mv</name><index pos:start="815:26" pos:end="815:28">[<expr pos:start="815:27" pos:end="815:27"><literal type="number" pos:start="815:27" pos:end="815:27">0</literal></expr>]</index><index pos:start="815:29" pos:end="815:31">[<expr pos:start="815:30" pos:end="815:30"><literal type="number" pos:start="815:30" pos:end="815:30">0</literal></expr>]</index><index pos:start="815:32" pos:end="815:34">[<expr pos:start="815:33" pos:end="815:33"><literal type="number" pos:start="815:33" pos:end="815:33">0</literal></expr>]</index></name> <operator pos:start="815:36" pos:end="815:36">=</operator> <literal type="number" pos:start="815:38" pos:end="815:38">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="817:21" pos:end="817:39"><expr pos:start="817:21" pos:end="817:38"><name pos:start="817:21" pos:end="817:34"><name pos:start="817:21" pos:end="817:21">s</name><operator pos:start="817:22" pos:end="817:23">-&gt;</operator><name pos:start="817:24" pos:end="817:25">mv</name><index pos:start="817:26" pos:end="817:28">[<expr pos:start="817:27" pos:end="817:27"><literal type="number" pos:start="817:27" pos:end="817:27">0</literal></expr>]</index><index pos:start="817:29" pos:end="817:31">[<expr pos:start="817:30" pos:end="817:30"><literal type="number" pos:start="817:30" pos:end="817:30">0</literal></expr>]</index><index pos:start="817:32" pos:end="817:34">[<expr pos:start="817:33" pos:end="817:33"><literal type="number" pos:start="817:33" pos:end="817:33">1</literal></expr>]</index></name> <operator pos:start="817:36" pos:end="817:36">=</operator> <literal type="number" pos:start="817:38" pos:end="817:38">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="819:21" pos:end="821:59"><expr pos:start="819:21" pos:end="821:58"><call pos:start="819:21" pos:end="821:58"><name pos:start="819:21" pos:end="819:32">encode_mb_hq</name><argument_list pos:start="819:33" pos:end="821:58">(<argument pos:start="819:34" pos:end="819:34"><expr pos:start="819:34" pos:end="819:34"><name pos:start="819:34" pos:end="819:34">s</name></expr></argument>, <argument pos:start="819:37" pos:end="819:45"><expr pos:start="819:37" pos:end="819:45"><operator pos:start="819:37" pos:end="819:37">&amp;</operator><name pos:start="819:38" pos:end="819:45">backup_s</name></expr></argument>, <argument pos:start="819:48" pos:end="819:54"><expr pos:start="819:48" pos:end="819:54"><operator pos:start="819:48" pos:end="819:48">&amp;</operator><name pos:start="819:49" pos:end="819:54">best_s</name></expr></argument>, <argument pos:start="819:57" pos:end="819:69"><expr pos:start="819:57" pos:end="819:69"><name pos:start="819:57" pos:end="819:69">MB_TYPE_INTRA</name></expr></argument>, <argument pos:start="819:72" pos:end="819:73"><expr pos:start="819:72" pos:end="819:73"><name pos:start="819:72" pos:end="819:73">pb</name></expr></argument>, <argument pos:start="819:76" pos:end="819:78"><expr pos:start="819:76" pos:end="819:78"><name pos:start="819:76" pos:end="819:78">pb2</name></expr></argument>, <argument pos:start="819:81" pos:end="819:86"><expr pos:start="819:81" pos:end="819:86"><name pos:start="819:81" pos:end="819:86">tex_pb</name></expr></argument>, 

                                 <argument pos:start="821:34" pos:end="821:38"><expr pos:start="821:34" pos:end="821:38"><operator pos:start="821:34" pos:end="821:34">&amp;</operator><name pos:start="821:35" pos:end="821:38">dmin</name></expr></argument>, <argument pos:start="821:41" pos:end="821:51"><expr pos:start="821:41" pos:end="821:51"><operator pos:start="821:41" pos:end="821:41">&amp;</operator><name pos:start="821:42" pos:end="821:51">next_block</name></expr></argument>, <argument pos:start="821:54" pos:end="821:54"><expr pos:start="821:54" pos:end="821:54"><literal type="number" pos:start="821:54" pos:end="821:54">0</literal></expr></argument>, <argument pos:start="821:57" pos:end="821:57"><expr pos:start="821:57" pos:end="821:57"><literal type="number" pos:start="821:57" pos:end="821:57">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <comment type="block" pos:start="823:21" pos:end="823:74">/* force cleaning of ac/dc pred stuff if needed ... */</comment>

                    <if_stmt pos:start="825:21" pos:end="827:68"><if pos:start="825:21" pos:end="827:68">if<condition pos:start="825:23" pos:end="825:51">(<expr pos:start="825:24" pos:end="825:50"><name pos:start="825:24" pos:end="825:35"><name pos:start="825:24" pos:end="825:24">s</name><operator pos:start="825:25" pos:end="825:26">-&gt;</operator><name pos:start="825:27" pos:end="825:35">h263_pred</name></name> <operator pos:start="825:37" pos:end="825:38">||</operator> <name pos:start="825:40" pos:end="825:50"><name pos:start="825:40" pos:end="825:40">s</name><operator pos:start="825:41" pos:end="825:42">-&gt;</operator><name pos:start="825:43" pos:end="825:50">h263_aic</name></name></expr>)</condition><block type="pseudo" pos:start="827:25" pos:end="827:68"><block_content pos:start="827:25" pos:end="827:68">

                        <expr_stmt pos:start="827:25" pos:end="827:68"><expr pos:start="827:25" pos:end="827:67"><name pos:start="827:25" pos:end="827:65"><name pos:start="827:25" pos:end="827:25">s</name><operator pos:start="827:26" pos:end="827:27">-&gt;</operator><name pos:start="827:28" pos:end="827:40">mbintra_table</name><index pos:start="827:41" pos:end="827:65">[<expr pos:start="827:42" pos:end="827:64"><name pos:start="827:42" pos:end="827:45">mb_x</name> <operator pos:start="827:47" pos:end="827:47">+</operator> <name pos:start="827:49" pos:end="827:52">mb_y</name><operator pos:start="827:53" pos:end="827:53">*</operator><name pos:start="827:54" pos:end="827:64"><name pos:start="827:54" pos:end="827:54">s</name><operator pos:start="827:55" pos:end="827:56">-&gt;</operator><name pos:start="827:57" pos:end="827:64">mb_width</name></name></expr>]</index></name><operator pos:start="827:66" pos:end="827:66">=</operator><literal type="number" pos:start="827:67" pos:end="827:67">1</literal></expr>;</expr_stmt></block_content></block></if></if_stmt>

                </block_content>}</block></if></if_stmt>

                <expr_stmt pos:start="831:17" pos:end="831:58"><expr pos:start="831:17" pos:end="831:57"><call pos:start="831:17" pos:end="831:57"><name pos:start="831:17" pos:end="831:41">copy_context_after_encode</name><argument_list pos:start="831:42" pos:end="831:57">(<argument pos:start="831:43" pos:end="831:43"><expr pos:start="831:43" pos:end="831:43"><name pos:start="831:43" pos:end="831:43">s</name></expr></argument>, <argument pos:start="831:46" pos:end="831:52"><expr pos:start="831:46" pos:end="831:52"><operator pos:start="831:46" pos:end="831:46">&amp;</operator><name pos:start="831:47" pos:end="831:52">best_s</name></expr></argument>, <argument pos:start="831:55" pos:end="831:56"><expr pos:start="831:55" pos:end="831:56"><operator pos:start="831:55" pos:end="831:55">-</operator><literal type="number" pos:start="831:56" pos:end="831:56">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                

                <expr_stmt pos:start="835:17" pos:end="835:53"><expr pos:start="835:17" pos:end="835:52"><name pos:start="835:17" pos:end="835:29">pb_bits_count</name><operator pos:start="835:30" pos:end="835:30">=</operator> <call pos:start="835:32" pos:end="835:52"><name pos:start="835:32" pos:end="835:44">get_bit_count</name><argument_list pos:start="835:45" pos:end="835:52">(<argument pos:start="835:46" pos:end="835:51"><expr pos:start="835:46" pos:end="835:51"><operator pos:start="835:46" pos:end="835:46">&amp;</operator><name pos:start="835:47" pos:end="835:51"><name pos:start="835:47" pos:end="835:47">s</name><operator pos:start="835:48" pos:end="835:49">-&gt;</operator><name pos:start="835:50" pos:end="835:51">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="837:17" pos:end="837:39"><expr pos:start="837:17" pos:end="837:38"><call pos:start="837:17" pos:end="837:38"><name pos:start="837:17" pos:end="837:30">flush_put_bits</name><argument_list pos:start="837:31" pos:end="837:38">(<argument pos:start="837:32" pos:end="837:37"><expr pos:start="837:32" pos:end="837:37"><operator pos:start="837:32" pos:end="837:32">&amp;</operator><name pos:start="837:33" pos:end="837:37"><name pos:start="837:33" pos:end="837:33">s</name><operator pos:start="837:34" pos:end="837:35">-&gt;</operator><name pos:start="837:36" pos:end="837:37">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="839:17" pos:end="839:81"><expr pos:start="839:17" pos:end="839:80"><call pos:start="839:17" pos:end="839:80"><name pos:start="839:17" pos:end="839:28">ff_copy_bits</name><argument_list pos:start="839:29" pos:end="839:80">(<argument pos:start="839:30" pos:end="839:41"><expr pos:start="839:30" pos:end="839:41"><operator pos:start="839:30" pos:end="839:30">&amp;</operator><name pos:start="839:31" pos:end="839:41"><name pos:start="839:31" pos:end="839:38">backup_s</name><operator pos:start="839:39" pos:end="839:39">.</operator><name pos:start="839:40" pos:end="839:41">pb</name></name></expr></argument>, <argument pos:start="839:44" pos:end="839:64"><expr pos:start="839:44" pos:end="839:64"><name pos:start="839:44" pos:end="839:64"><name pos:start="839:44" pos:end="839:50">bit_buf</name><index pos:start="839:51" pos:end="839:64">[<expr pos:start="839:52" pos:end="839:63"><name pos:start="839:52" pos:end="839:61">next_block</name><operator pos:start="839:62" pos:end="839:62">^</operator><literal type="number" pos:start="839:63" pos:end="839:63">1</literal></expr>]</index></name></expr></argument>, <argument pos:start="839:67" pos:end="839:79"><expr pos:start="839:67" pos:end="839:79"><name pos:start="839:67" pos:end="839:79">pb_bits_count</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="841:17" pos:end="841:35"><expr pos:start="841:17" pos:end="841:34"><name pos:start="841:17" pos:end="841:21"><name pos:start="841:17" pos:end="841:17">s</name><operator pos:start="841:18" pos:end="841:19">-&gt;</operator><name pos:start="841:20" pos:end="841:21">pb</name></name><operator pos:start="841:22" pos:end="841:22">=</operator> <name pos:start="841:24" pos:end="841:34"><name pos:start="841:24" pos:end="841:31">backup_s</name><operator pos:start="841:32" pos:end="841:32">.</operator><name pos:start="841:33" pos:end="841:34">pb</name></name></expr>;</expr_stmt>

                

                <if_stmt pos:start="845:17" pos:end="865:17"><if pos:start="845:17" pos:end="865:17">if<condition pos:start="845:19" pos:end="845:40">(<expr pos:start="845:20" pos:end="845:39"><name pos:start="845:20" pos:end="845:39"><name pos:start="845:20" pos:end="845:20">s</name><operator pos:start="845:21" pos:end="845:22">-&gt;</operator><name pos:start="845:23" pos:end="845:39">data_partitioning</name></name></expr>)</condition><block pos:start="845:41" pos:end="865:17">{<block_content pos:start="847:21" pos:end="863:47">

                    <expr_stmt pos:start="847:21" pos:end="847:59"><expr pos:start="847:21" pos:end="847:58"><name pos:start="847:21" pos:end="847:34">pb2_bits_count</name><operator pos:start="847:35" pos:end="847:35">=</operator> <call pos:start="847:37" pos:end="847:58"><name pos:start="847:37" pos:end="847:49">get_bit_count</name><argument_list pos:start="847:50" pos:end="847:58">(<argument pos:start="847:51" pos:end="847:57"><expr pos:start="847:51" pos:end="847:57"><operator pos:start="847:51" pos:end="847:51">&amp;</operator><name pos:start="847:52" pos:end="847:57"><name pos:start="847:52" pos:end="847:52">s</name><operator pos:start="847:53" pos:end="847:54">-&gt;</operator><name pos:start="847:55" pos:end="847:57">pb2</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="849:21" pos:end="849:44"><expr pos:start="849:21" pos:end="849:43"><call pos:start="849:21" pos:end="849:43"><name pos:start="849:21" pos:end="849:34">flush_put_bits</name><argument_list pos:start="849:35" pos:end="849:43">(<argument pos:start="849:36" pos:end="849:42"><expr pos:start="849:36" pos:end="849:42"><operator pos:start="849:36" pos:end="849:36">&amp;</operator><name pos:start="849:37" pos:end="849:42"><name pos:start="849:37" pos:end="849:37">s</name><operator pos:start="849:38" pos:end="849:39">-&gt;</operator><name pos:start="849:40" pos:end="849:42">pb2</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="851:21" pos:end="851:88"><expr pos:start="851:21" pos:end="851:87"><call pos:start="851:21" pos:end="851:87"><name pos:start="851:21" pos:end="851:32">ff_copy_bits</name><argument_list pos:start="851:33" pos:end="851:87">(<argument pos:start="851:34" pos:end="851:46"><expr pos:start="851:34" pos:end="851:46"><operator pos:start="851:34" pos:end="851:34">&amp;</operator><name pos:start="851:35" pos:end="851:46"><name pos:start="851:35" pos:end="851:42">backup_s</name><operator pos:start="851:43" pos:end="851:43">.</operator><name pos:start="851:44" pos:end="851:46">pb2</name></name></expr></argument>, <argument pos:start="851:49" pos:end="851:70"><expr pos:start="851:49" pos:end="851:70"><name pos:start="851:49" pos:end="851:70"><name pos:start="851:49" pos:end="851:56">bit_buf2</name><index pos:start="851:57" pos:end="851:70">[<expr pos:start="851:58" pos:end="851:69"><name pos:start="851:58" pos:end="851:67">next_block</name><operator pos:start="851:68" pos:end="851:68">^</operator><literal type="number" pos:start="851:69" pos:end="851:69">1</literal></expr>]</index></name></expr></argument>, <argument pos:start="851:73" pos:end="851:86"><expr pos:start="851:73" pos:end="851:86"><name pos:start="851:73" pos:end="851:86">pb2_bits_count</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="853:21" pos:end="853:41"><expr pos:start="853:21" pos:end="853:40"><name pos:start="853:21" pos:end="853:26"><name pos:start="853:21" pos:end="853:21">s</name><operator pos:start="853:22" pos:end="853:23">-&gt;</operator><name pos:start="853:24" pos:end="853:26">pb2</name></name><operator pos:start="853:27" pos:end="853:27">=</operator> <name pos:start="853:29" pos:end="853:40"><name pos:start="853:29" pos:end="853:36">backup_s</name><operator pos:start="853:37" pos:end="853:37">.</operator><name pos:start="853:38" pos:end="853:40">pb2</name></name></expr>;</expr_stmt>

                    

                    <expr_stmt pos:start="857:21" pos:end="857:65"><expr pos:start="857:21" pos:end="857:64"><name pos:start="857:21" pos:end="857:37">tex_pb_bits_count</name><operator pos:start="857:38" pos:end="857:38">=</operator> <call pos:start="857:40" pos:end="857:64"><name pos:start="857:40" pos:end="857:52">get_bit_count</name><argument_list pos:start="857:53" pos:end="857:64">(<argument pos:start="857:54" pos:end="857:63"><expr pos:start="857:54" pos:end="857:63"><operator pos:start="857:54" pos:end="857:54">&amp;</operator><name pos:start="857:55" pos:end="857:63"><name pos:start="857:55" pos:end="857:55">s</name><operator pos:start="857:56" pos:end="857:57">-&gt;</operator><name pos:start="857:58" pos:end="857:63">tex_pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="859:21" pos:end="859:47"><expr pos:start="859:21" pos:end="859:46"><call pos:start="859:21" pos:end="859:46"><name pos:start="859:21" pos:end="859:34">flush_put_bits</name><argument_list pos:start="859:35" pos:end="859:46">(<argument pos:start="859:36" pos:end="859:45"><expr pos:start="859:36" pos:end="859:45"><operator pos:start="859:36" pos:end="859:36">&amp;</operator><name pos:start="859:37" pos:end="859:45"><name pos:start="859:37" pos:end="859:37">s</name><operator pos:start="859:38" pos:end="859:39">-&gt;</operator><name pos:start="859:40" pos:end="859:45">tex_pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="861:21" pos:end="861:97"><expr pos:start="861:21" pos:end="861:96"><call pos:start="861:21" pos:end="861:96"><name pos:start="861:21" pos:end="861:32">ff_copy_bits</name><argument_list pos:start="861:33" pos:end="861:96">(<argument pos:start="861:34" pos:end="861:49"><expr pos:start="861:34" pos:end="861:49"><operator pos:start="861:34" pos:end="861:34">&amp;</operator><name pos:start="861:35" pos:end="861:49"><name pos:start="861:35" pos:end="861:42">backup_s</name><operator pos:start="861:43" pos:end="861:43">.</operator><name pos:start="861:44" pos:end="861:49">tex_pb</name></name></expr></argument>, <argument pos:start="861:52" pos:end="861:76"><expr pos:start="861:52" pos:end="861:76"><name pos:start="861:52" pos:end="861:76"><name pos:start="861:52" pos:end="861:62">bit_buf_tex</name><index pos:start="861:63" pos:end="861:76">[<expr pos:start="861:64" pos:end="861:75"><name pos:start="861:64" pos:end="861:73">next_block</name><operator pos:start="861:74" pos:end="861:74">^</operator><literal type="number" pos:start="861:75" pos:end="861:75">1</literal></expr>]</index></name></expr></argument>, <argument pos:start="861:79" pos:end="861:95"><expr pos:start="861:79" pos:end="861:95"><name pos:start="861:79" pos:end="861:95">tex_pb_bits_count</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="863:21" pos:end="863:47"><expr pos:start="863:21" pos:end="863:46"><name pos:start="863:21" pos:end="863:29"><name pos:start="863:21" pos:end="863:21">s</name><operator pos:start="863:22" pos:end="863:23">-&gt;</operator><name pos:start="863:24" pos:end="863:29">tex_pb</name></name><operator pos:start="863:30" pos:end="863:30">=</operator> <name pos:start="863:32" pos:end="863:46"><name pos:start="863:32" pos:end="863:39">backup_s</name><operator pos:start="863:40" pos:end="863:40">.</operator><name pos:start="863:41" pos:end="863:46">tex_pb</name></name></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

                <expr_stmt pos:start="867:17" pos:end="867:52"><expr pos:start="867:17" pos:end="867:51"><name pos:start="867:17" pos:end="867:28"><name pos:start="867:17" pos:end="867:17">s</name><operator pos:start="867:18" pos:end="867:19">-&gt;</operator><name pos:start="867:20" pos:end="867:28">last_bits</name></name><operator pos:start="867:29" pos:end="867:29">=</operator> <call pos:start="867:31" pos:end="867:51"><name pos:start="867:31" pos:end="867:43">get_bit_count</name><argument_list pos:start="867:44" pos:end="867:51">(<argument pos:start="867:45" pos:end="867:50"><expr pos:start="867:45" pos:end="867:50"><operator pos:start="867:45" pos:end="867:45">&amp;</operator><name pos:start="867:46" pos:end="867:50"><name pos:start="867:46" pos:end="867:46">s</name><operator pos:start="867:47" pos:end="867:48">-&gt;</operator><name pos:start="867:49" pos:end="867:50">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></if> <else pos:start="869:15" pos:end="1175:13">else <block pos:start="869:20" pos:end="1175:13">{<block_content pos:start="871:17" pos:end="1173:43">

                <decl_stmt pos:start="871:17" pos:end="871:39"><decl pos:start="871:17" pos:end="871:28"><type pos:start="871:17" pos:end="871:19"><name pos:start="871:17" pos:end="871:19">int</name></type> <name pos:start="871:21" pos:end="871:28">motion_x</name></decl>, <decl pos:start="871:31" pos:end="871:38"><type ref="prev" pos:start="871:17" pos:end="871:19"/><name pos:start="871:31" pos:end="871:38">motion_y</name></decl>;</decl_stmt>

                <decl_stmt pos:start="873:17" pos:end="873:32"><decl pos:start="873:17" pos:end="873:31"><type pos:start="873:17" pos:end="873:19"><name pos:start="873:17" pos:end="873:19">int</name></type> <name pos:start="873:21" pos:end="873:31">intra_score</name></decl>;</decl_stmt>

                <decl_stmt pos:start="875:17" pos:end="875:90"><decl pos:start="875:17" pos:end="875:89"><type pos:start="875:17" pos:end="875:19"><name pos:start="875:17" pos:end="875:19">int</name></type> <name pos:start="875:21" pos:end="875:31">inter_score</name><init pos:start="875:32" pos:end="875:89">= <expr pos:start="875:34" pos:end="875:89"><name pos:start="875:34" pos:end="875:89"><name pos:start="875:34" pos:end="875:34">s</name><operator pos:start="875:35" pos:end="875:36">-&gt;</operator><name pos:start="875:37" pos:end="875:51">current_picture</name><operator pos:start="875:52" pos:end="875:52">.</operator><name pos:start="875:53" pos:end="875:64">mb_cmp_score</name><index pos:start="875:65" pos:end="875:89">[<expr pos:start="875:66" pos:end="875:88"><name pos:start="875:66" pos:end="875:69">mb_x</name> <operator pos:start="875:71" pos:end="875:71">+</operator> <name pos:start="875:73" pos:end="875:76">mb_y</name><operator pos:start="875:77" pos:end="875:77">*</operator><name pos:start="875:78" pos:end="875:88"><name pos:start="875:78" pos:end="875:78">s</name><operator pos:start="875:79" pos:end="875:80">-&gt;</operator><name pos:start="875:81" pos:end="875:88">mb_width</name></name></expr>]</index></name></expr></init></decl>;</decl_stmt>

                

              <if_stmt pos:start="879:15" pos:end="1037:15"><if pos:start="879:15" pos:end="1037:15">if<condition pos:start="879:17" pos:end="879:67">(<expr pos:start="879:18" pos:end="879:66"><operator pos:start="879:18" pos:end="879:18">!</operator><operator pos:start="879:19" pos:end="879:19">(</operator><name pos:start="879:20" pos:end="879:27"><name pos:start="879:20" pos:end="879:20">s</name><operator pos:start="879:21" pos:end="879:22">-&gt;</operator><name pos:start="879:23" pos:end="879:27">flags</name></name><operator pos:start="879:28" pos:end="879:28">&amp;</operator><name pos:start="879:29" pos:end="879:41">CODEC_FLAG_HQ</name><operator pos:start="879:42" pos:end="879:42">)</operator> <operator pos:start="879:44" pos:end="879:45">&amp;&amp;</operator> <name pos:start="879:47" pos:end="879:58"><name pos:start="879:47" pos:end="879:47">s</name><operator pos:start="879:48" pos:end="879:49">-&gt;</operator><name pos:start="879:50" pos:end="879:58">pict_type</name></name><operator pos:start="879:59" pos:end="879:60">==</operator><name pos:start="879:61" pos:end="879:66">P_TYPE</name></expr>)</condition><block pos:start="879:68" pos:end="1037:15">{<block_content pos:start="883:17" pos:end="1035:43">

                <comment type="block" pos:start="881:17" pos:end="881:36">/* get luma score */</comment>

                <if_stmt pos:start="883:17" pos:end="929:17"><if pos:start="883:17" pos:end="887:17">if<condition pos:start="883:19" pos:end="883:55">(<expr pos:start="883:20" pos:end="883:54"><operator pos:start="883:20" pos:end="883:20">(</operator><name pos:start="883:21" pos:end="883:36"><name pos:start="883:21" pos:end="883:21">s</name><operator pos:start="883:22" pos:end="883:23">-&gt;</operator><name pos:start="883:24" pos:end="883:28">avctx</name><operator pos:start="883:29" pos:end="883:30">-&gt;</operator><name pos:start="883:31" pos:end="883:36">mb_cmp</name></name><operator pos:start="883:37" pos:end="883:37">&amp;</operator><literal type="number" pos:start="883:38" pos:end="883:41">0xFF</literal><operator pos:start="883:42" pos:end="883:42">)</operator><operator pos:start="883:43" pos:end="883:44">==</operator><name pos:start="883:45" pos:end="883:54">FF_CMP_SSE</name></expr>)</condition><block pos:start="883:56" pos:end="887:17">{<block_content pos:start="885:21" pos:end="885:95">

                    <expr_stmt pos:start="885:21" pos:end="885:95"><expr pos:start="885:21" pos:end="885:94"><name pos:start="885:21" pos:end="885:31">intra_score</name><operator pos:start="885:32" pos:end="885:32">=</operator> <operator pos:start="885:34" pos:end="885:34">(</operator><name pos:start="885:35" pos:end="885:84"><name pos:start="885:35" pos:end="885:35">s</name><operator pos:start="885:36" pos:end="885:37">-&gt;</operator><name pos:start="885:38" pos:end="885:52">current_picture</name><operator pos:start="885:53" pos:end="885:53">.</operator><name pos:start="885:54" pos:end="885:59">mb_var</name><index pos:start="885:60" pos:end="885:84">[<expr pos:start="885:61" pos:end="885:83"><name pos:start="885:61" pos:end="885:64">mb_x</name> <operator pos:start="885:66" pos:end="885:66">+</operator> <name pos:start="885:68" pos:end="885:71">mb_y</name><operator pos:start="885:72" pos:end="885:72">*</operator><name pos:start="885:73" pos:end="885:83"><name pos:start="885:73" pos:end="885:73">s</name><operator pos:start="885:74" pos:end="885:75">-&gt;</operator><name pos:start="885:76" pos:end="885:83">mb_width</name></name></expr>]</index></name><operator pos:start="885:85" pos:end="885:86">&lt;&lt;</operator><literal type="number" pos:start="885:87" pos:end="885:87">8</literal><operator pos:start="885:88" pos:end="885:88">)</operator> <operator pos:start="885:90" pos:end="885:90">-</operator> <literal type="number" pos:start="885:92" pos:end="885:94">500</literal></expr>;</expr_stmt> <comment type="line" pos:start="885:97" pos:end="885:148">//FIXME dont scale it down so we dont have to fix it</comment>

                </block_content>}</block></if><else pos:start="887:18" pos:end="929:17">else<block pos:start="887:22" pos:end="929:17">{<block_content pos:start="889:21" pos:end="919:92">

                    <decl_stmt pos:start="889:21" pos:end="889:36"><decl pos:start="889:21" pos:end="889:35"><type pos:start="889:21" pos:end="889:29"><name pos:start="889:21" pos:end="889:27">uint8_t</name> <modifier pos:start="889:29" pos:end="889:29">*</modifier></type><name pos:start="889:30" pos:end="889:35">dest_y</name></decl>;</decl_stmt>



                    <decl_stmt pos:start="893:21" pos:end="893:82"><decl pos:start="893:21" pos:end="893:81"><type pos:start="893:21" pos:end="893:23"><name pos:start="893:21" pos:end="893:23">int</name></type> <name pos:start="893:25" pos:end="893:28">mean</name><init pos:start="893:29" pos:end="893:81">= <expr pos:start="893:31" pos:end="893:81"><name pos:start="893:31" pos:end="893:81"><name pos:start="893:31" pos:end="893:31">s</name><operator pos:start="893:32" pos:end="893:33">-&gt;</operator><name pos:start="893:34" pos:end="893:48">current_picture</name><operator pos:start="893:49" pos:end="893:49">.</operator><name pos:start="893:50" pos:end="893:56">mb_mean</name><index pos:start="893:57" pos:end="893:81">[<expr pos:start="893:58" pos:end="893:80"><name pos:start="893:58" pos:end="893:61">mb_x</name> <operator pos:start="893:63" pos:end="893:63">+</operator> <name pos:start="893:65" pos:end="893:68">mb_y</name><operator pos:start="893:69" pos:end="893:69">*</operator><name pos:start="893:70" pos:end="893:80"><name pos:start="893:70" pos:end="893:70">s</name><operator pos:start="893:71" pos:end="893:72">-&gt;</operator><name pos:start="893:73" pos:end="893:80">mb_width</name></name></expr>]</index></name></expr></init></decl>;</decl_stmt> <comment type="line" pos:start="893:84" pos:end="893:90">//FIXME</comment>

                    <expr_stmt pos:start="895:21" pos:end="895:38"><expr pos:start="895:21" pos:end="895:37"><name pos:start="895:21" pos:end="895:24">mean</name><operator pos:start="895:25" pos:end="895:26">*=</operator> <literal type="number" pos:start="895:28" pos:end="895:37">0x01010101</literal></expr>;</expr_stmt>

                    

                    <expr_stmt pos:start="899:21" pos:end="899:97"><expr pos:start="899:21" pos:end="899:96"><name pos:start="899:21" pos:end="899:26">dest_y</name>  <operator pos:start="899:29" pos:end="899:29">=</operator> <name pos:start="899:31" pos:end="899:52"><name pos:start="899:31" pos:end="899:31">s</name><operator pos:start="899:32" pos:end="899:33">-&gt;</operator><name pos:start="899:34" pos:end="899:44">new_picture</name><operator pos:start="899:45" pos:end="899:45">.</operator><name pos:start="899:46" pos:end="899:49">data</name><index pos:start="899:50" pos:end="899:52">[<expr pos:start="899:51" pos:end="899:51"><literal type="number" pos:start="899:51" pos:end="899:51">0</literal></expr>]</index></name> <operator pos:start="899:54" pos:end="899:54">+</operator> <operator pos:start="899:56" pos:end="899:56">(</operator><name pos:start="899:57" pos:end="899:60">mb_y</name> <operator pos:start="899:62" pos:end="899:62">*</operator> <literal type="number" pos:start="899:64" pos:end="899:65">16</literal> <operator pos:start="899:67" pos:end="899:67">*</operator> <name pos:start="899:69" pos:end="899:79"><name pos:start="899:69" pos:end="899:69">s</name><operator pos:start="899:70" pos:end="899:71">-&gt;</operator><name pos:start="899:72" pos:end="899:79">linesize</name></name>    <operator pos:start="899:84" pos:end="899:84">)</operator> <operator pos:start="899:86" pos:end="899:86">+</operator> <name pos:start="899:88" pos:end="899:91">mb_x</name> <operator pos:start="899:93" pos:end="899:93">*</operator> <literal type="number" pos:start="899:95" pos:end="899:96">16</literal></expr>;</expr_stmt>

                

                    <for pos:start="903:21" pos:end="913:21">for<control pos:start="903:24" pos:end="903:39">(<init pos:start="903:25" pos:end="903:28"><expr pos:start="903:25" pos:end="903:27"><name pos:start="903:25" pos:end="903:25">i</name><operator pos:start="903:26" pos:end="903:26">=</operator><literal type="number" pos:start="903:27" pos:end="903:27">0</literal></expr>;</init> <condition pos:start="903:30" pos:end="903:34"><expr pos:start="903:30" pos:end="903:33"><name pos:start="903:30" pos:end="903:30">i</name><operator pos:start="903:31" pos:end="903:31">&lt;</operator><literal type="number" pos:start="903:32" pos:end="903:33">16</literal></expr>;</condition> <incr pos:start="903:36" pos:end="903:38"><expr pos:start="903:36" pos:end="903:38"><name pos:start="903:36" pos:end="903:36">i</name><operator pos:start="903:37" pos:end="903:38">++</operator></expr></incr>)</control><block pos:start="903:40" pos:end="913:21">{<block_content pos:start="905:25" pos:end="911:81">

                        <expr_stmt pos:start="905:25" pos:end="905:81"><expr pos:start="905:25" pos:end="905:80"><operator pos:start="905:25" pos:end="905:25">*</operator><operator pos:start="905:26" pos:end="905:26">(</operator><name pos:start="905:27" pos:end="905:34">uint32_t</name><operator pos:start="905:35" pos:end="905:35">*</operator><operator pos:start="905:36" pos:end="905:36">)</operator><operator pos:start="905:37" pos:end="905:37">(</operator><operator pos:start="905:38" pos:end="905:38">&amp;</operator><name pos:start="905:39" pos:end="905:72"><name pos:start="905:39" pos:end="905:39">s</name><operator pos:start="905:40" pos:end="905:41">-&gt;</operator><name pos:start="905:42" pos:end="905:43">me</name><operator pos:start="905:44" pos:end="905:44">.</operator><name pos:start="905:45" pos:end="905:54">scratchpad</name><index pos:start="905:55" pos:end="905:72">[<expr pos:start="905:56" pos:end="905:71"><name pos:start="905:56" pos:end="905:56">i</name><operator pos:start="905:57" pos:end="905:57">*</operator><name pos:start="905:58" pos:end="905:68"><name pos:start="905:58" pos:end="905:58">s</name><operator pos:start="905:59" pos:end="905:60">-&gt;</operator><name pos:start="905:61" pos:end="905:68">linesize</name></name><operator pos:start="905:69" pos:end="905:69">+</operator> <literal type="number" pos:start="905:71" pos:end="905:71">0</literal></expr>]</index></name><operator pos:start="905:73" pos:end="905:73">)</operator> <operator pos:start="905:75" pos:end="905:75">=</operator> <name pos:start="905:77" pos:end="905:80">mean</name></expr>;</expr_stmt>

                        <expr_stmt pos:start="907:25" pos:end="907:81"><expr pos:start="907:25" pos:end="907:80"><operator pos:start="907:25" pos:end="907:25">*</operator><operator pos:start="907:26" pos:end="907:26">(</operator><name pos:start="907:27" pos:end="907:34">uint32_t</name><operator pos:start="907:35" pos:end="907:35">*</operator><operator pos:start="907:36" pos:end="907:36">)</operator><operator pos:start="907:37" pos:end="907:37">(</operator><operator pos:start="907:38" pos:end="907:38">&amp;</operator><name pos:start="907:39" pos:end="907:72"><name pos:start="907:39" pos:end="907:39">s</name><operator pos:start="907:40" pos:end="907:41">-&gt;</operator><name pos:start="907:42" pos:end="907:43">me</name><operator pos:start="907:44" pos:end="907:44">.</operator><name pos:start="907:45" pos:end="907:54">scratchpad</name><index pos:start="907:55" pos:end="907:72">[<expr pos:start="907:56" pos:end="907:71"><name pos:start="907:56" pos:end="907:56">i</name><operator pos:start="907:57" pos:end="907:57">*</operator><name pos:start="907:58" pos:end="907:68"><name pos:start="907:58" pos:end="907:58">s</name><operator pos:start="907:59" pos:end="907:60">-&gt;</operator><name pos:start="907:61" pos:end="907:68">linesize</name></name><operator pos:start="907:69" pos:end="907:69">+</operator> <literal type="number" pos:start="907:71" pos:end="907:71">4</literal></expr>]</index></name><operator pos:start="907:73" pos:end="907:73">)</operator> <operator pos:start="907:75" pos:end="907:75">=</operator> <name pos:start="907:77" pos:end="907:80">mean</name></expr>;</expr_stmt>

                        <expr_stmt pos:start="909:25" pos:end="909:81"><expr pos:start="909:25" pos:end="909:80"><operator pos:start="909:25" pos:end="909:25">*</operator><operator pos:start="909:26" pos:end="909:26">(</operator><name pos:start="909:27" pos:end="909:34">uint32_t</name><operator pos:start="909:35" pos:end="909:35">*</operator><operator pos:start="909:36" pos:end="909:36">)</operator><operator pos:start="909:37" pos:end="909:37">(</operator><operator pos:start="909:38" pos:end="909:38">&amp;</operator><name pos:start="909:39" pos:end="909:72"><name pos:start="909:39" pos:end="909:39">s</name><operator pos:start="909:40" pos:end="909:41">-&gt;</operator><name pos:start="909:42" pos:end="909:43">me</name><operator pos:start="909:44" pos:end="909:44">.</operator><name pos:start="909:45" pos:end="909:54">scratchpad</name><index pos:start="909:55" pos:end="909:72">[<expr pos:start="909:56" pos:end="909:71"><name pos:start="909:56" pos:end="909:56">i</name><operator pos:start="909:57" pos:end="909:57">*</operator><name pos:start="909:58" pos:end="909:68"><name pos:start="909:58" pos:end="909:58">s</name><operator pos:start="909:59" pos:end="909:60">-&gt;</operator><name pos:start="909:61" pos:end="909:68">linesize</name></name><operator pos:start="909:69" pos:end="909:69">+</operator> <literal type="number" pos:start="909:71" pos:end="909:71">8</literal></expr>]</index></name><operator pos:start="909:73" pos:end="909:73">)</operator> <operator pos:start="909:75" pos:end="909:75">=</operator> <name pos:start="909:77" pos:end="909:80">mean</name></expr>;</expr_stmt>

                        <expr_stmt pos:start="911:25" pos:end="911:81"><expr pos:start="911:25" pos:end="911:80"><operator pos:start="911:25" pos:end="911:25">*</operator><operator pos:start="911:26" pos:end="911:26">(</operator><name pos:start="911:27" pos:end="911:34">uint32_t</name><operator pos:start="911:35" pos:end="911:35">*</operator><operator pos:start="911:36" pos:end="911:36">)</operator><operator pos:start="911:37" pos:end="911:37">(</operator><operator pos:start="911:38" pos:end="911:38">&amp;</operator><name pos:start="911:39" pos:end="911:72"><name pos:start="911:39" pos:end="911:39">s</name><operator pos:start="911:40" pos:end="911:41">-&gt;</operator><name pos:start="911:42" pos:end="911:43">me</name><operator pos:start="911:44" pos:end="911:44">.</operator><name pos:start="911:45" pos:end="911:54">scratchpad</name><index pos:start="911:55" pos:end="911:72">[<expr pos:start="911:56" pos:end="911:71"><name pos:start="911:56" pos:end="911:56">i</name><operator pos:start="911:57" pos:end="911:57">*</operator><name pos:start="911:58" pos:end="911:68"><name pos:start="911:58" pos:end="911:58">s</name><operator pos:start="911:59" pos:end="911:60">-&gt;</operator><name pos:start="911:61" pos:end="911:68">linesize</name></name><operator pos:start="911:69" pos:end="911:69">+</operator><literal type="number" pos:start="911:70" pos:end="911:71">12</literal></expr>]</index></name><operator pos:start="911:73" pos:end="911:73">)</operator> <operator pos:start="911:75" pos:end="911:75">=</operator> <name pos:start="911:77" pos:end="911:80">mean</name></expr>;</expr_stmt>

                    </block_content>}</block></for>



                    <expr_stmt pos:start="917:21" pos:end="917:34"><expr pos:start="917:21" pos:end="917:33"><name pos:start="917:21" pos:end="917:31"><name pos:start="917:21" pos:end="917:21">s</name><operator pos:start="917:22" pos:end="917:23">-&gt;</operator><name pos:start="917:24" pos:end="917:31">mb_intra</name></name><operator pos:start="917:32" pos:end="917:32">=</operator><literal type="number" pos:start="917:33" pos:end="917:33">1</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="919:21" pos:end="919:92"><expr pos:start="919:21" pos:end="919:91"><name pos:start="919:21" pos:end="919:31">intra_score</name><operator pos:start="919:32" pos:end="919:32">=</operator> <name pos:start="919:34" pos:end="919:49"><name pos:start="919:34" pos:end="919:34">s</name><operator pos:start="919:35" pos:end="919:36">-&gt;</operator><name pos:start="919:37" pos:end="919:39">dsp</name><operator pos:start="919:40" pos:end="919:40">.</operator><name pos:start="919:41" pos:end="919:46">mb_cmp</name><index pos:start="919:47" pos:end="919:49">[<expr pos:start="919:48" pos:end="919:48"><literal type="number" pos:start="919:48" pos:end="919:48">0</literal></expr>]</index></name><operator pos:start="919:50" pos:end="919:50">(</operator><name pos:start="919:51" pos:end="919:51">s</name><operator pos:start="919:52" pos:end="919:52">,</operator> <name pos:start="919:54" pos:end="919:69"><name pos:start="919:54" pos:end="919:54">s</name><operator pos:start="919:55" pos:end="919:56">-&gt;</operator><name pos:start="919:57" pos:end="919:58">me</name><operator pos:start="919:59" pos:end="919:59">.</operator><name pos:start="919:60" pos:end="919:69">scratchpad</name></name><operator pos:start="919:70" pos:end="919:70">,</operator> <name pos:start="919:72" pos:end="919:77">dest_y</name><operator pos:start="919:78" pos:end="919:78">,</operator> <name pos:start="919:80" pos:end="919:90"><name pos:start="919:80" pos:end="919:80">s</name><operator pos:start="919:81" pos:end="919:82">-&gt;</operator><name pos:start="919:83" pos:end="919:90">linesize</name></name><operator pos:start="919:91" pos:end="919:91">)</operator></expr>;</expr_stmt>

                                        

<comment type="block" pos:start="923:1" pos:end="927:81">/*                    printf("intra:%7d inter:%7d var:%7d mc_var.%7d\n", intra_score&gt;&gt;8, inter_score&gt;&gt;8, 

                        s-&gt;current_picture.mb_var[mb_x + mb_y*s-&gt;mb_width],

                        s-&gt;current_picture.mc_mb_var[mb_x + mb_y*s-&gt;mb_width]);*/</comment>

                </block_content>}</block></else></if_stmt>

                

                <comment type="block" pos:start="933:17" pos:end="933:38">/* get chroma score */</comment>

                <if_stmt pos:start="935:17" pos:end="981:17"><if pos:start="935:17" pos:end="981:17">if<condition pos:start="935:19" pos:end="935:50">(<expr pos:start="935:20" pos:end="935:49"><name pos:start="935:20" pos:end="935:35"><name pos:start="935:20" pos:end="935:20">s</name><operator pos:start="935:21" pos:end="935:22">-&gt;</operator><name pos:start="935:23" pos:end="935:27">avctx</name><operator pos:start="935:28" pos:end="935:29">-&gt;</operator><name pos:start="935:30" pos:end="935:35">mb_cmp</name></name><operator pos:start="935:36" pos:end="935:36">&amp;</operator><name pos:start="935:37" pos:end="935:49">FF_CMP_CHROMA</name></expr>)</condition><block pos:start="935:51" pos:end="981:17">{<block_content pos:start="937:21" pos:end="979:21">

                    <decl_stmt pos:start="937:21" pos:end="937:26"><decl pos:start="937:21" pos:end="937:25"><type pos:start="937:21" pos:end="937:23"><name pos:start="937:21" pos:end="937:23">int</name></type> <name pos:start="937:25" pos:end="937:25">i</name></decl>;</decl_stmt>

                    

                    <expr_stmt pos:start="941:21" pos:end="941:34"><expr pos:start="941:21" pos:end="941:33"><name pos:start="941:21" pos:end="941:31"><name pos:start="941:21" pos:end="941:21">s</name><operator pos:start="941:22" pos:end="941:23">-&gt;</operator><name pos:start="941:24" pos:end="941:31">mb_intra</name></name><operator pos:start="941:32" pos:end="941:32">=</operator><literal type="number" pos:start="941:33" pos:end="941:33">1</literal></expr>;</expr_stmt>

                    <for pos:start="943:21" pos:end="979:21">for<control pos:start="943:24" pos:end="943:38">(<init pos:start="943:25" pos:end="943:28"><expr pos:start="943:25" pos:end="943:27"><name pos:start="943:25" pos:end="943:25">i</name><operator pos:start="943:26" pos:end="943:26">=</operator><literal type="number" pos:start="943:27" pos:end="943:27">1</literal></expr>;</init> <condition pos:start="943:30" pos:end="943:33"><expr pos:start="943:30" pos:end="943:32"><name pos:start="943:30" pos:end="943:30">i</name><operator pos:start="943:31" pos:end="943:31">&lt;</operator><literal type="number" pos:start="943:32" pos:end="943:32">3</literal></expr>;</condition> <incr pos:start="943:35" pos:end="943:37"><expr pos:start="943:35" pos:end="943:37"><name pos:start="943:35" pos:end="943:35">i</name><operator pos:start="943:36" pos:end="943:37">++</operator></expr></incr>)</control><block pos:start="943:39" pos:end="979:21">{<block_content pos:start="945:25" pos:end="977:99">

                        <decl_stmt pos:start="945:25" pos:end="945:40"><decl pos:start="945:25" pos:end="945:39"><type pos:start="945:25" pos:end="945:33"><name pos:start="945:25" pos:end="945:31">uint8_t</name> <modifier pos:start="945:33" pos:end="945:33">*</modifier></type><name pos:start="945:34" pos:end="945:39">dest_c</name></decl>;</decl_stmt>

                        <decl_stmt pos:start="947:25" pos:end="947:33"><decl pos:start="947:25" pos:end="947:32"><type pos:start="947:25" pos:end="947:27"><name pos:start="947:25" pos:end="947:27">int</name></type> <name pos:start="947:29" pos:end="947:32">mean</name></decl>;</decl_stmt>

                        

                        <if_stmt pos:start="951:25" pos:end="959:25"><if pos:start="951:25" pos:end="955:25">if<condition pos:start="951:27" pos:end="951:53">(<expr pos:start="951:28" pos:end="951:52"><name pos:start="951:28" pos:end="951:40"><name pos:start="951:28" pos:end="951:28">s</name><operator pos:start="951:29" pos:end="951:30">-&gt;</operator><name pos:start="951:31" pos:end="951:40">out_format</name></name> <operator pos:start="951:42" pos:end="951:43">==</operator> <name pos:start="951:45" pos:end="951:52">FMT_H263</name></expr>)</condition><block pos:start="951:54" pos:end="955:25">{<block_content pos:start="953:29" pos:end="953:89">

                            <expr_stmt pos:start="953:29" pos:end="953:89"><expr pos:start="953:29" pos:end="953:88"><name pos:start="953:29" pos:end="953:32">mean</name><operator pos:start="953:33" pos:end="953:33">=</operator> <operator pos:start="953:35" pos:end="953:35">(</operator><name pos:start="953:36" pos:end="953:80"><name pos:start="953:36" pos:end="953:36">s</name><operator pos:start="953:37" pos:end="953:38">-&gt;</operator><name pos:start="953:39" pos:end="953:44">dc_val</name><index pos:start="953:45" pos:end="953:47">[<expr pos:start="953:46" pos:end="953:46"><name pos:start="953:46" pos:end="953:46">i</name></expr>]</index><index pos:start="953:48" pos:end="953:80">[<expr pos:start="953:49" pos:end="953:79"><name pos:start="953:49" pos:end="953:52">mb_x</name> <operator pos:start="953:54" pos:end="953:54">+</operator> <operator pos:start="953:56" pos:end="953:56">(</operator><name pos:start="953:57" pos:end="953:60">mb_y</name><operator pos:start="953:61" pos:end="953:61">+</operator><literal type="number" pos:start="953:62" pos:end="953:62">1</literal><operator pos:start="953:63" pos:end="953:63">)</operator><operator pos:start="953:64" pos:end="953:64">*</operator><operator pos:start="953:65" pos:end="953:65">(</operator><name pos:start="953:66" pos:end="953:76"><name pos:start="953:66" pos:end="953:66">s</name><operator pos:start="953:67" pos:end="953:68">-&gt;</operator><name pos:start="953:69" pos:end="953:76">mb_width</name></name><operator pos:start="953:77" pos:end="953:77">+</operator><literal type="number" pos:start="953:78" pos:end="953:78">2</literal><operator pos:start="953:79" pos:end="953:79">)</operator></expr>]</index></name> <operator pos:start="953:82" pos:end="953:82">+</operator> <literal type="number" pos:start="953:84" pos:end="953:84">4</literal><operator pos:start="953:85" pos:end="953:85">)</operator><operator pos:start="953:86" pos:end="953:87">&gt;&gt;</operator><literal type="number" pos:start="953:88" pos:end="953:88">3</literal></expr>;</expr_stmt> <comment type="line" pos:start="953:91" pos:end="953:121">//FIXME not exact but simple ;)</comment>

                        </block_content>}</block></if><else pos:start="955:26" pos:end="959:25">else<block pos:start="955:30" pos:end="959:25">{<block_content pos:start="957:29" pos:end="957:57">

                            <expr_stmt pos:start="957:29" pos:end="957:57"><expr pos:start="957:29" pos:end="957:56"><name pos:start="957:29" pos:end="957:32">mean</name><operator pos:start="957:33" pos:end="957:33">=</operator> <operator pos:start="957:35" pos:end="957:35">(</operator><name pos:start="957:36" pos:end="957:48"><name pos:start="957:36" pos:end="957:36">s</name><operator pos:start="957:37" pos:end="957:38">-&gt;</operator><name pos:start="957:39" pos:end="957:45">last_dc</name><index pos:start="957:46" pos:end="957:48">[<expr pos:start="957:47" pos:end="957:47"><name pos:start="957:47" pos:end="957:47">i</name></expr>]</index></name> <operator pos:start="957:50" pos:end="957:50">+</operator> <literal type="number" pos:start="957:52" pos:end="957:52">4</literal><operator pos:start="957:53" pos:end="957:53">)</operator><operator pos:start="957:54" pos:end="957:55">&gt;&gt;</operator><literal type="number" pos:start="957:56" pos:end="957:56">3</literal></expr>;</expr_stmt>

                        </block_content>}</block></else></if_stmt>

                        <expr_stmt pos:start="961:25" pos:end="961:99"><expr pos:start="961:25" pos:end="961:98"><name pos:start="961:25" pos:end="961:30">dest_c</name> <operator pos:start="961:32" pos:end="961:32">=</operator> <name pos:start="961:34" pos:end="961:55"><name pos:start="961:34" pos:end="961:34">s</name><operator pos:start="961:35" pos:end="961:36">-&gt;</operator><name pos:start="961:37" pos:end="961:47">new_picture</name><operator pos:start="961:48" pos:end="961:48">.</operator><name pos:start="961:49" pos:end="961:52">data</name><index pos:start="961:53" pos:end="961:55">[<expr pos:start="961:54" pos:end="961:54"><name pos:start="961:54" pos:end="961:54">i</name></expr>]</index></name> <operator pos:start="961:57" pos:end="961:57">+</operator> <operator pos:start="961:59" pos:end="961:59">(</operator><name pos:start="961:60" pos:end="961:63">mb_y</name> <operator pos:start="961:65" pos:end="961:65">*</operator> <literal type="number" pos:start="961:67" pos:end="961:67">8</literal>  <operator pos:start="961:70" pos:end="961:70">*</operator> <operator pos:start="961:72" pos:end="961:72">(</operator><name pos:start="961:73" pos:end="961:85"><name pos:start="961:73" pos:end="961:73">s</name><operator pos:start="961:74" pos:end="961:75">-&gt;</operator><name pos:start="961:76" pos:end="961:85">uvlinesize</name></name><operator pos:start="961:86" pos:end="961:86">)</operator><operator pos:start="961:87" pos:end="961:87">)</operator> <operator pos:start="961:89" pos:end="961:89">+</operator> <name pos:start="961:91" pos:end="961:94">mb_x</name> <operator pos:start="961:96" pos:end="961:96">*</operator> <literal type="number" pos:start="961:98" pos:end="961:98">8</literal></expr>;</expr_stmt>

                        

                        <expr_stmt pos:start="965:25" pos:end="965:42"><expr pos:start="965:25" pos:end="965:41"><name pos:start="965:25" pos:end="965:28">mean</name><operator pos:start="965:29" pos:end="965:30">*=</operator> <literal type="number" pos:start="965:32" pos:end="965:41">0x01010101</literal></expr>;</expr_stmt>

                        <for pos:start="967:25" pos:end="973:25">for<control pos:start="967:28" pos:end="967:42">(<init pos:start="967:29" pos:end="967:32"><expr pos:start="967:29" pos:end="967:31"><name pos:start="967:29" pos:end="967:29">i</name><operator pos:start="967:30" pos:end="967:30">=</operator><literal type="number" pos:start="967:31" pos:end="967:31">0</literal></expr>;</init> <condition pos:start="967:34" pos:end="967:37"><expr pos:start="967:34" pos:end="967:36"><name pos:start="967:34" pos:end="967:34">i</name><operator pos:start="967:35" pos:end="967:35">&lt;</operator><literal type="number" pos:start="967:36" pos:end="967:36">8</literal></expr>;</condition> <incr pos:start="967:39" pos:end="967:41"><expr pos:start="967:39" pos:end="967:41"><name pos:start="967:39" pos:end="967:39">i</name><operator pos:start="967:40" pos:end="967:41">++</operator></expr></incr>)</control><block pos:start="967:43" pos:end="973:25">{<block_content pos:start="969:29" pos:end="971:87">

                            <expr_stmt pos:start="969:29" pos:end="969:87"><expr pos:start="969:29" pos:end="969:86"><operator pos:start="969:29" pos:end="969:29">*</operator><operator pos:start="969:30" pos:end="969:30">(</operator><name pos:start="969:31" pos:end="969:38">uint32_t</name><operator pos:start="969:39" pos:end="969:39">*</operator><operator pos:start="969:40" pos:end="969:40">)</operator><operator pos:start="969:41" pos:end="969:41">(</operator><operator pos:start="969:42" pos:end="969:42">&amp;</operator><name pos:start="969:43" pos:end="969:78"><name pos:start="969:43" pos:end="969:43">s</name><operator pos:start="969:44" pos:end="969:45">-&gt;</operator><name pos:start="969:46" pos:end="969:47">me</name><operator pos:start="969:48" pos:end="969:48">.</operator><name pos:start="969:49" pos:end="969:58">scratchpad</name><index pos:start="969:59" pos:end="969:78">[<expr pos:start="969:60" pos:end="969:77"><name pos:start="969:60" pos:end="969:60">i</name><operator pos:start="969:61" pos:end="969:61">*</operator><name pos:start="969:62" pos:end="969:74"><name pos:start="969:62" pos:end="969:62">s</name><operator pos:start="969:63" pos:end="969:64">-&gt;</operator><name pos:start="969:65" pos:end="969:74">uvlinesize</name></name><operator pos:start="969:75" pos:end="969:75">+</operator> <literal type="number" pos:start="969:77" pos:end="969:77">0</literal></expr>]</index></name><operator pos:start="969:79" pos:end="969:79">)</operator> <operator pos:start="969:81" pos:end="969:81">=</operator> <name pos:start="969:83" pos:end="969:86">mean</name></expr>;</expr_stmt>

                            <expr_stmt pos:start="971:29" pos:end="971:87"><expr pos:start="971:29" pos:end="971:86"><operator pos:start="971:29" pos:end="971:29">*</operator><operator pos:start="971:30" pos:end="971:30">(</operator><name pos:start="971:31" pos:end="971:38">uint32_t</name><operator pos:start="971:39" pos:end="971:39">*</operator><operator pos:start="971:40" pos:end="971:40">)</operator><operator pos:start="971:41" pos:end="971:41">(</operator><operator pos:start="971:42" pos:end="971:42">&amp;</operator><name pos:start="971:43" pos:end="971:78"><name pos:start="971:43" pos:end="971:43">s</name><operator pos:start="971:44" pos:end="971:45">-&gt;</operator><name pos:start="971:46" pos:end="971:47">me</name><operator pos:start="971:48" pos:end="971:48">.</operator><name pos:start="971:49" pos:end="971:58">scratchpad</name><index pos:start="971:59" pos:end="971:78">[<expr pos:start="971:60" pos:end="971:77"><name pos:start="971:60" pos:end="971:60">i</name><operator pos:start="971:61" pos:end="971:61">*</operator><name pos:start="971:62" pos:end="971:74"><name pos:start="971:62" pos:end="971:62">s</name><operator pos:start="971:63" pos:end="971:64">-&gt;</operator><name pos:start="971:65" pos:end="971:74">uvlinesize</name></name><operator pos:start="971:75" pos:end="971:75">+</operator> <literal type="number" pos:start="971:77" pos:end="971:77">4</literal></expr>]</index></name><operator pos:start="971:79" pos:end="971:79">)</operator> <operator pos:start="971:81" pos:end="971:81">=</operator> <name pos:start="971:83" pos:end="971:86">mean</name></expr>;</expr_stmt>

                        </block_content>}</block></for>

                        

                        <expr_stmt pos:start="977:25" pos:end="977:99"><expr pos:start="977:25" pos:end="977:98"><name pos:start="977:25" pos:end="977:35">intra_score</name><operator pos:start="977:36" pos:end="977:37">+=</operator> <name pos:start="977:39" pos:end="977:54"><name pos:start="977:39" pos:end="977:39">s</name><operator pos:start="977:40" pos:end="977:41">-&gt;</operator><name pos:start="977:42" pos:end="977:44">dsp</name><operator pos:start="977:45" pos:end="977:45">.</operator><name pos:start="977:46" pos:end="977:51">mb_cmp</name><index pos:start="977:52" pos:end="977:54">[<expr pos:start="977:53" pos:end="977:53"><literal type="number" pos:start="977:53" pos:end="977:53">1</literal></expr>]</index></name><operator pos:start="977:55" pos:end="977:55">(</operator><name pos:start="977:56" pos:end="977:56">s</name><operator pos:start="977:57" pos:end="977:57">,</operator> <name pos:start="977:59" pos:end="977:74"><name pos:start="977:59" pos:end="977:59">s</name><operator pos:start="977:60" pos:end="977:61">-&gt;</operator><name pos:start="977:62" pos:end="977:63">me</name><operator pos:start="977:64" pos:end="977:64">.</operator><name pos:start="977:65" pos:end="977:74">scratchpad</name></name><operator pos:start="977:75" pos:end="977:75">,</operator> <name pos:start="977:77" pos:end="977:82">dest_c</name><operator pos:start="977:83" pos:end="977:83">,</operator> <name pos:start="977:85" pos:end="977:97"><name pos:start="977:85" pos:end="977:85">s</name><operator pos:start="977:86" pos:end="977:87">-&gt;</operator><name pos:start="977:88" pos:end="977:97">uvlinesize</name></name><operator pos:start="977:98" pos:end="977:98">)</operator></expr>;</expr_stmt>

                    </block_content>}</block></for>                

                </block_content>}</block></if></if_stmt>



                <comment type="block" pos:start="985:17" pos:end="985:26">/* bias */</comment>

                <switch pos:start="987:17" pos:end="1029:17">switch<condition pos:start="987:23" pos:end="987:45">(<expr pos:start="987:24" pos:end="987:44"><name pos:start="987:24" pos:end="987:39"><name pos:start="987:24" pos:end="987:24">s</name><operator pos:start="987:25" pos:end="987:26">-&gt;</operator><name pos:start="987:27" pos:end="987:31">avctx</name><operator pos:start="987:32" pos:end="987:33">-&gt;</operator><name pos:start="987:34" pos:end="987:39">mb_cmp</name></name><operator pos:start="987:40" pos:end="987:40">&amp;</operator><literal type="number" pos:start="987:41" pos:end="987:44">0xFF</literal></expr>)</condition><block pos:start="987:46" pos:end="1029:17">{<block_content pos:start="989:17" pos:end="1027:26">

                <default pos:start="989:17" pos:end="989:24">default:</default>

                <case pos:start="991:17" pos:end="991:32">case <expr pos:start="991:22" pos:end="991:31"><name pos:start="991:22" pos:end="991:31">FF_CMP_SAD</name></expr>:</case>

                    <expr_stmt pos:start="993:21" pos:end="993:47"><expr pos:start="993:21" pos:end="993:46"><name pos:start="993:21" pos:end="993:31">intra_score</name><operator pos:start="993:32" pos:end="993:33">+=</operator> <literal type="number" pos:start="993:35" pos:end="993:36">32</literal><operator pos:start="993:37" pos:end="993:37">*</operator><name pos:start="993:38" pos:end="993:46"><name pos:start="993:38" pos:end="993:38">s</name><operator pos:start="993:39" pos:end="993:40">-&gt;</operator><name pos:start="993:41" pos:end="993:46">qscale</name></name></expr>;</expr_stmt>

                    <break pos:start="995:21" pos:end="995:26">break;</break>

                <case pos:start="997:17" pos:end="997:32">case <expr pos:start="997:22" pos:end="997:31"><name pos:start="997:22" pos:end="997:31">FF_CMP_SSE</name></expr>:</case>

                    <expr_stmt pos:start="999:21" pos:end="999:57"><expr pos:start="999:21" pos:end="999:56"><name pos:start="999:21" pos:end="999:31">intra_score</name><operator pos:start="999:32" pos:end="999:33">+=</operator> <literal type="number" pos:start="999:35" pos:end="999:36">24</literal><operator pos:start="999:37" pos:end="999:37">*</operator><name pos:start="999:38" pos:end="999:46"><name pos:start="999:38" pos:end="999:38">s</name><operator pos:start="999:39" pos:end="999:40">-&gt;</operator><name pos:start="999:41" pos:end="999:46">qscale</name></name><operator pos:start="999:47" pos:end="999:47">*</operator><name pos:start="999:48" pos:end="999:56"><name pos:start="999:48" pos:end="999:48">s</name><operator pos:start="999:49" pos:end="999:50">-&gt;</operator><name pos:start="999:51" pos:end="999:56">qscale</name></name></expr>;</expr_stmt>

                    <break pos:start="1001:21" pos:end="1001:26">break;</break>

                <case pos:start="1003:17" pos:end="1003:33">case <expr pos:start="1003:22" pos:end="1003:32"><name pos:start="1003:22" pos:end="1003:32">FF_CMP_SATD</name></expr>:</case>

                    <expr_stmt pos:start="1005:21" pos:end="1005:47"><expr pos:start="1005:21" pos:end="1005:46"><name pos:start="1005:21" pos:end="1005:31">intra_score</name><operator pos:start="1005:32" pos:end="1005:33">+=</operator> <literal type="number" pos:start="1005:35" pos:end="1005:36">96</literal><operator pos:start="1005:37" pos:end="1005:37">*</operator><name pos:start="1005:38" pos:end="1005:46"><name pos:start="1005:38" pos:end="1005:38">s</name><operator pos:start="1005:39" pos:end="1005:40">-&gt;</operator><name pos:start="1005:41" pos:end="1005:46">qscale</name></name></expr>;</expr_stmt>

                    <break pos:start="1007:21" pos:end="1007:26">break;</break>

                <case pos:start="1009:17" pos:end="1009:32">case <expr pos:start="1009:22" pos:end="1009:31"><name pos:start="1009:22" pos:end="1009:31">FF_CMP_DCT</name></expr>:</case>

                    <expr_stmt pos:start="1011:21" pos:end="1011:47"><expr pos:start="1011:21" pos:end="1011:46"><name pos:start="1011:21" pos:end="1011:31">intra_score</name><operator pos:start="1011:32" pos:end="1011:33">+=</operator> <literal type="number" pos:start="1011:35" pos:end="1011:36">48</literal><operator pos:start="1011:37" pos:end="1011:37">*</operator><name pos:start="1011:38" pos:end="1011:46"><name pos:start="1011:38" pos:end="1011:38">s</name><operator pos:start="1011:39" pos:end="1011:40">-&gt;</operator><name pos:start="1011:41" pos:end="1011:46">qscale</name></name></expr>;</expr_stmt>

                    <break pos:start="1013:21" pos:end="1013:26">break;</break>

                <case pos:start="1015:17" pos:end="1015:32">case <expr pos:start="1015:22" pos:end="1015:31"><name pos:start="1015:22" pos:end="1015:31">FF_CMP_BIT</name></expr>:</case>

                    <expr_stmt pos:start="1017:21" pos:end="1017:37"><expr pos:start="1017:21" pos:end="1017:36"><name pos:start="1017:21" pos:end="1017:31">intra_score</name><operator pos:start="1017:32" pos:end="1017:33">+=</operator> <literal type="number" pos:start="1017:35" pos:end="1017:36">16</literal></expr>;</expr_stmt>

                    <break pos:start="1019:21" pos:end="1019:26">break;</break>

                <case pos:start="1021:17" pos:end="1021:33">case <expr pos:start="1021:22" pos:end="1021:32"><name pos:start="1021:22" pos:end="1021:32">FF_CMP_PSNR</name></expr>:</case>

                <case pos:start="1023:17" pos:end="1023:31">case <expr pos:start="1023:22" pos:end="1023:30"><name pos:start="1023:22" pos:end="1023:30">FF_CMP_RD</name></expr>:</case>

                    <expr_stmt pos:start="1025:21" pos:end="1025:70"><expr pos:start="1025:21" pos:end="1025:69"><name pos:start="1025:21" pos:end="1025:31">intra_score</name><operator pos:start="1025:32" pos:end="1025:33">+=</operator> <operator pos:start="1025:35" pos:end="1025:35">(</operator><name pos:start="1025:36" pos:end="1025:44"><name pos:start="1025:36" pos:end="1025:36">s</name><operator pos:start="1025:37" pos:end="1025:38">-&gt;</operator><name pos:start="1025:39" pos:end="1025:44">qscale</name></name><operator pos:start="1025:45" pos:end="1025:45">*</operator><name pos:start="1025:46" pos:end="1025:54"><name pos:start="1025:46" pos:end="1025:46">s</name><operator pos:start="1025:47" pos:end="1025:48">-&gt;</operator><name pos:start="1025:49" pos:end="1025:54">qscale</name></name><operator pos:start="1025:55" pos:end="1025:55">*</operator><literal type="number" pos:start="1025:56" pos:end="1025:58">109</literal><operator pos:start="1025:59" pos:end="1025:59">*</operator><literal type="number" pos:start="1025:60" pos:end="1025:62">8</literal> <operator pos:start="1025:62" pos:end="1025:62">+</operator> <literal type="number" pos:start="1025:64" pos:end="1025:65">64</literal><operator pos:start="1025:66" pos:end="1025:66">)</operator><operator pos:start="1025:67" pos:end="1025:68">&gt;&gt;</operator><literal type="number" pos:start="1025:69" pos:end="1025:69">7</literal></expr>;</expr_stmt>

                    <break pos:start="1027:21" pos:end="1027:26">break;</break>

                </block_content>}</block></switch>



                <if_stmt pos:start="1033:17" pos:end="1035:43"><if pos:start="1033:17" pos:end="1035:43">if<condition pos:start="1033:19" pos:end="1033:45">(<expr pos:start="1033:20" pos:end="1033:44"><name pos:start="1033:20" pos:end="1033:30">intra_score</name> <operator pos:start="1033:32" pos:end="1033:32">&lt;</operator> <name pos:start="1033:34" pos:end="1033:44">inter_score</name></expr>)</condition><block type="pseudo" pos:start="1035:21" pos:end="1035:43"><block_content pos:start="1035:21" pos:end="1035:43">

                    <expr_stmt pos:start="1035:21" pos:end="1035:43"><expr pos:start="1035:21" pos:end="1035:42"><name pos:start="1035:21" pos:end="1035:27">mb_type</name><operator pos:start="1035:28" pos:end="1035:28">=</operator> <name pos:start="1035:30" pos:end="1035:42">MB_TYPE_INTRA</name></expr>;</expr_stmt></block_content></block></if></if_stmt>

              </block_content>}</block></if></if_stmt>  

                

                <expr_stmt pos:start="1041:17" pos:end="1041:41"><expr pos:start="1041:17" pos:end="1041:40"><name pos:start="1041:17" pos:end="1041:26"><name pos:start="1041:17" pos:end="1041:17">s</name><operator pos:start="1041:18" pos:end="1041:19">-&gt;</operator><name pos:start="1041:20" pos:end="1041:26">mv_type</name></name><operator pos:start="1041:27" pos:end="1041:27">=</operator><name pos:start="1041:28" pos:end="1041:40">MV_TYPE_16X16</name></expr>;</expr_stmt>

                <comment type="line" pos:start="1043:17" pos:end="1043:44">// only one MB-Type possible</comment>

                

                <switch pos:start="1047:17" pos:end="1163:17">switch<condition pos:start="1047:23" pos:end="1047:31">(<expr pos:start="1047:24" pos:end="1047:30"><name pos:start="1047:24" pos:end="1047:30">mb_type</name></expr>)</condition><block pos:start="1047:32" pos:end="1163:17">{<block_content pos:start="1049:17" pos:end="1161:48">

                <case pos:start="1049:17" pos:end="1049:35">case <expr pos:start="1049:22" pos:end="1049:34"><name pos:start="1049:22" pos:end="1049:34">MB_TYPE_INTRA</name></expr>:</case>

                    <expr_stmt pos:start="1051:21" pos:end="1051:34"><expr pos:start="1051:21" pos:end="1051:33"><name pos:start="1051:21" pos:end="1051:29"><name pos:start="1051:21" pos:end="1051:21">s</name><operator pos:start="1051:22" pos:end="1051:23">-&gt;</operator><name pos:start="1051:24" pos:end="1051:29">mv_dir</name></name> <operator pos:start="1051:31" pos:end="1051:31">=</operator> <literal type="number" pos:start="1051:33" pos:end="1051:33">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="1053:21" pos:end="1053:35"><expr pos:start="1053:21" pos:end="1053:34"><name pos:start="1053:21" pos:end="1053:31"><name pos:start="1053:21" pos:end="1053:21">s</name><operator pos:start="1053:22" pos:end="1053:23">-&gt;</operator><name pos:start="1053:24" pos:end="1053:31">mb_intra</name></name><operator pos:start="1053:32" pos:end="1053:32">=</operator> <literal type="number" pos:start="1053:34" pos:end="1053:34">1</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="1055:21" pos:end="1055:49"><expr pos:start="1055:21" pos:end="1055:48"><name pos:start="1055:21" pos:end="1055:28">motion_x</name><operator pos:start="1055:29" pos:end="1055:29">=</operator> <name pos:start="1055:31" pos:end="1055:44"><name pos:start="1055:31" pos:end="1055:31">s</name><operator pos:start="1055:32" pos:end="1055:33">-&gt;</operator><name pos:start="1055:34" pos:end="1055:35">mv</name><index pos:start="1055:36" pos:end="1055:38">[<expr pos:start="1055:37" pos:end="1055:37"><literal type="number" pos:start="1055:37" pos:end="1055:37">0</literal></expr>]</index><index pos:start="1055:39" pos:end="1055:41">[<expr pos:start="1055:40" pos:end="1055:40"><literal type="number" pos:start="1055:40" pos:end="1055:40">0</literal></expr>]</index><index pos:start="1055:42" pos:end="1055:44">[<expr pos:start="1055:43" pos:end="1055:43"><literal type="number" pos:start="1055:43" pos:end="1055:43">0</literal></expr>]</index></name> <operator pos:start="1055:46" pos:end="1055:46">=</operator> <literal type="number" pos:start="1055:48" pos:end="1055:48">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="1057:21" pos:end="1057:49"><expr pos:start="1057:21" pos:end="1057:48"><name pos:start="1057:21" pos:end="1057:28">motion_y</name><operator pos:start="1057:29" pos:end="1057:29">=</operator> <name pos:start="1057:31" pos:end="1057:44"><name pos:start="1057:31" pos:end="1057:31">s</name><operator pos:start="1057:32" pos:end="1057:33">-&gt;</operator><name pos:start="1057:34" pos:end="1057:35">mv</name><index pos:start="1057:36" pos:end="1057:38">[<expr pos:start="1057:37" pos:end="1057:37"><literal type="number" pos:start="1057:37" pos:end="1057:37">0</literal></expr>]</index><index pos:start="1057:39" pos:end="1057:41">[<expr pos:start="1057:40" pos:end="1057:40"><literal type="number" pos:start="1057:40" pos:end="1057:40">0</literal></expr>]</index><index pos:start="1057:42" pos:end="1057:44">[<expr pos:start="1057:43" pos:end="1057:43"><literal type="number" pos:start="1057:43" pos:end="1057:43">1</literal></expr>]</index></name> <operator pos:start="1057:46" pos:end="1057:46">=</operator> <literal type="number" pos:start="1057:48" pos:end="1057:48">0</literal></expr>;</expr_stmt>

                    <break pos:start="1059:21" pos:end="1059:26">break;</break>

                <case pos:start="1061:17" pos:end="1061:35">case <expr pos:start="1061:22" pos:end="1061:34"><name pos:start="1061:22" pos:end="1061:34">MB_TYPE_INTER</name></expr>:</case>

                    <expr_stmt pos:start="1063:21" pos:end="1063:47"><expr pos:start="1063:21" pos:end="1063:46"><name pos:start="1063:21" pos:end="1063:29"><name pos:start="1063:21" pos:end="1063:21">s</name><operator pos:start="1063:22" pos:end="1063:23">-&gt;</operator><name pos:start="1063:24" pos:end="1063:29">mv_dir</name></name> <operator pos:start="1063:31" pos:end="1063:31">=</operator> <name pos:start="1063:33" pos:end="1063:46">MV_DIR_FORWARD</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="1065:21" pos:end="1065:35"><expr pos:start="1065:21" pos:end="1065:34"><name pos:start="1065:21" pos:end="1065:31"><name pos:start="1065:21" pos:end="1065:21">s</name><operator pos:start="1065:22" pos:end="1065:23">-&gt;</operator><name pos:start="1065:24" pos:end="1065:31">mb_intra</name></name><operator pos:start="1065:32" pos:end="1065:32">=</operator> <literal type="number" pos:start="1065:34" pos:end="1065:34">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="1067:21" pos:end="1067:68"><expr pos:start="1067:21" pos:end="1067:67"><name pos:start="1067:21" pos:end="1067:28">motion_x</name><operator pos:start="1067:29" pos:end="1067:29">=</operator> <name pos:start="1067:31" pos:end="1067:44"><name pos:start="1067:31" pos:end="1067:31">s</name><operator pos:start="1067:32" pos:end="1067:33">-&gt;</operator><name pos:start="1067:34" pos:end="1067:35">mv</name><index pos:start="1067:36" pos:end="1067:38">[<expr pos:start="1067:37" pos:end="1067:37"><literal type="number" pos:start="1067:37" pos:end="1067:37">0</literal></expr>]</index><index pos:start="1067:39" pos:end="1067:41">[<expr pos:start="1067:40" pos:end="1067:40"><literal type="number" pos:start="1067:40" pos:end="1067:40">0</literal></expr>]</index><index pos:start="1067:42" pos:end="1067:44">[<expr pos:start="1067:43" pos:end="1067:43"><literal type="number" pos:start="1067:43" pos:end="1067:43">0</literal></expr>]</index></name> <operator pos:start="1067:46" pos:end="1067:46">=</operator> <name pos:start="1067:48" pos:end="1067:67"><name pos:start="1067:48" pos:end="1067:48">s</name><operator pos:start="1067:49" pos:end="1067:50">-&gt;</operator><name pos:start="1067:51" pos:end="1067:60">p_mv_table</name><index pos:start="1067:61" pos:end="1067:64">[<expr pos:start="1067:62" pos:end="1067:63"><name pos:start="1067:62" pos:end="1067:63">xy</name></expr>]</index><index pos:start="1067:65" pos:end="1067:67">[<expr pos:start="1067:66" pos:end="1067:66"><literal type="number" pos:start="1067:66" pos:end="1067:66">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="1069:21" pos:end="1069:68"><expr pos:start="1069:21" pos:end="1069:67"><name pos:start="1069:21" pos:end="1069:28">motion_y</name><operator pos:start="1069:29" pos:end="1069:29">=</operator> <name pos:start="1069:31" pos:end="1069:44"><name pos:start="1069:31" pos:end="1069:31">s</name><operator pos:start="1069:32" pos:end="1069:33">-&gt;</operator><name pos:start="1069:34" pos:end="1069:35">mv</name><index pos:start="1069:36" pos:end="1069:38">[<expr pos:start="1069:37" pos:end="1069:37"><literal type="number" pos:start="1069:37" pos:end="1069:37">0</literal></expr>]</index><index pos:start="1069:39" pos:end="1069:41">[<expr pos:start="1069:40" pos:end="1069:40"><literal type="number" pos:start="1069:40" pos:end="1069:40">0</literal></expr>]</index><index pos:start="1069:42" pos:end="1069:44">[<expr pos:start="1069:43" pos:end="1069:43"><literal type="number" pos:start="1069:43" pos:end="1069:43">1</literal></expr>]</index></name> <operator pos:start="1069:46" pos:end="1069:46">=</operator> <name pos:start="1069:48" pos:end="1069:67"><name pos:start="1069:48" pos:end="1069:48">s</name><operator pos:start="1069:49" pos:end="1069:50">-&gt;</operator><name pos:start="1069:51" pos:end="1069:60">p_mv_table</name><index pos:start="1069:61" pos:end="1069:64">[<expr pos:start="1069:62" pos:end="1069:63"><name pos:start="1069:62" pos:end="1069:63">xy</name></expr>]</index><index pos:start="1069:65" pos:end="1069:67">[<expr pos:start="1069:66" pos:end="1069:66"><literal type="number" pos:start="1069:66" pos:end="1069:66">1</literal></expr>]</index></name></expr>;</expr_stmt>

                    <break pos:start="1071:21" pos:end="1071:26">break;</break>

                <case pos:start="1073:17" pos:end="1073:37">case <expr pos:start="1073:22" pos:end="1073:36"><name pos:start="1073:22" pos:end="1073:36">MB_TYPE_INTER4V</name></expr>:</case>

                    <expr_stmt pos:start="1075:21" pos:end="1075:47"><expr pos:start="1075:21" pos:end="1075:46"><name pos:start="1075:21" pos:end="1075:29"><name pos:start="1075:21" pos:end="1075:21">s</name><operator pos:start="1075:22" pos:end="1075:23">-&gt;</operator><name pos:start="1075:24" pos:end="1075:29">mv_dir</name></name> <operator pos:start="1075:31" pos:end="1075:31">=</operator> <name pos:start="1075:33" pos:end="1075:46">MV_DIR_FORWARD</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="1077:21" pos:end="1077:45"><expr pos:start="1077:21" pos:end="1077:44"><name pos:start="1077:21" pos:end="1077:30"><name pos:start="1077:21" pos:end="1077:21">s</name><operator pos:start="1077:22" pos:end="1077:23">-&gt;</operator><name pos:start="1077:24" pos:end="1077:30">mv_type</name></name> <operator pos:start="1077:32" pos:end="1077:32">=</operator> <name pos:start="1077:34" pos:end="1077:44">MV_TYPE_8X8</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="1079:21" pos:end="1079:35"><expr pos:start="1079:21" pos:end="1079:34"><name pos:start="1079:21" pos:end="1079:31"><name pos:start="1079:21" pos:end="1079:21">s</name><operator pos:start="1079:22" pos:end="1079:23">-&gt;</operator><name pos:start="1079:24" pos:end="1079:31">mb_intra</name></name><operator pos:start="1079:32" pos:end="1079:32">=</operator> <literal type="number" pos:start="1079:34" pos:end="1079:34">0</literal></expr>;</expr_stmt>

                    <for pos:start="1081:21" pos:end="1087:21">for<control pos:start="1081:24" pos:end="1081:38">(<init pos:start="1081:25" pos:end="1081:28"><expr pos:start="1081:25" pos:end="1081:27"><name pos:start="1081:25" pos:end="1081:25">i</name><operator pos:start="1081:26" pos:end="1081:26">=</operator><literal type="number" pos:start="1081:27" pos:end="1081:27">0</literal></expr>;</init> <condition pos:start="1081:30" pos:end="1081:33"><expr pos:start="1081:30" pos:end="1081:32"><name pos:start="1081:30" pos:end="1081:30">i</name><operator pos:start="1081:31" pos:end="1081:31">&lt;</operator><literal type="number" pos:start="1081:32" pos:end="1081:32">4</literal></expr>;</condition> <incr pos:start="1081:35" pos:end="1081:37"><expr pos:start="1081:35" pos:end="1081:37"><name pos:start="1081:35" pos:end="1081:35">i</name><operator pos:start="1081:36" pos:end="1081:37">++</operator></expr></incr>)</control><block pos:start="1081:39" pos:end="1087:21">{<block_content pos:start="1083:25" pos:end="1085:77">

                        <expr_stmt pos:start="1083:25" pos:end="1083:77"><expr pos:start="1083:25" pos:end="1083:76"><name pos:start="1083:25" pos:end="1083:38"><name pos:start="1083:25" pos:end="1083:25">s</name><operator pos:start="1083:26" pos:end="1083:27">-&gt;</operator><name pos:start="1083:28" pos:end="1083:29">mv</name><index pos:start="1083:30" pos:end="1083:32">[<expr pos:start="1083:31" pos:end="1083:31"><literal type="number" pos:start="1083:31" pos:end="1083:31">0</literal></expr>]</index><index pos:start="1083:33" pos:end="1083:35">[<expr pos:start="1083:34" pos:end="1083:34"><name pos:start="1083:34" pos:end="1083:34">i</name></expr>]</index><index pos:start="1083:36" pos:end="1083:38">[<expr pos:start="1083:37" pos:end="1083:37"><literal type="number" pos:start="1083:37" pos:end="1083:37">0</literal></expr>]</index></name> <operator pos:start="1083:40" pos:end="1083:40">=</operator> <name pos:start="1083:42" pos:end="1083:76"><name pos:start="1083:42" pos:end="1083:42">s</name><operator pos:start="1083:43" pos:end="1083:44">-&gt;</operator><name pos:start="1083:45" pos:end="1083:54">motion_val</name><index pos:start="1083:55" pos:end="1083:73">[<expr pos:start="1083:56" pos:end="1083:72"><name pos:start="1083:56" pos:end="1083:72"><name pos:start="1083:56" pos:end="1083:56">s</name><operator pos:start="1083:57" pos:end="1083:58">-&gt;</operator><name pos:start="1083:59" pos:end="1083:69">block_index</name><index pos:start="1083:70" pos:end="1083:72">[<expr pos:start="1083:71" pos:end="1083:71"><name pos:start="1083:71" pos:end="1083:71">i</name></expr>]</index></name></expr>]</index><index pos:start="1083:74" pos:end="1083:76">[<expr pos:start="1083:75" pos:end="1083:75"><literal type="number" pos:start="1083:75" pos:end="1083:75">0</literal></expr>]</index></name></expr>;</expr_stmt>

                        <expr_stmt pos:start="1085:25" pos:end="1085:77"><expr pos:start="1085:25" pos:end="1085:76"><name pos:start="1085:25" pos:end="1085:38"><name pos:start="1085:25" pos:end="1085:25">s</name><operator pos:start="1085:26" pos:end="1085:27">-&gt;</operator><name pos:start="1085:28" pos:end="1085:29">mv</name><index pos:start="1085:30" pos:end="1085:32">[<expr pos:start="1085:31" pos:end="1085:31"><literal type="number" pos:start="1085:31" pos:end="1085:31">0</literal></expr>]</index><index pos:start="1085:33" pos:end="1085:35">[<expr pos:start="1085:34" pos:end="1085:34"><name pos:start="1085:34" pos:end="1085:34">i</name></expr>]</index><index pos:start="1085:36" pos:end="1085:38">[<expr pos:start="1085:37" pos:end="1085:37"><literal type="number" pos:start="1085:37" pos:end="1085:37">1</literal></expr>]</index></name> <operator pos:start="1085:40" pos:end="1085:40">=</operator> <name pos:start="1085:42" pos:end="1085:76"><name pos:start="1085:42" pos:end="1085:42">s</name><operator pos:start="1085:43" pos:end="1085:44">-&gt;</operator><name pos:start="1085:45" pos:end="1085:54">motion_val</name><index pos:start="1085:55" pos:end="1085:73">[<expr pos:start="1085:56" pos:end="1085:72"><name pos:start="1085:56" pos:end="1085:72"><name pos:start="1085:56" pos:end="1085:56">s</name><operator pos:start="1085:57" pos:end="1085:58">-&gt;</operator><name pos:start="1085:59" pos:end="1085:69">block_index</name><index pos:start="1085:70" pos:end="1085:72">[<expr pos:start="1085:71" pos:end="1085:71"><name pos:start="1085:71" pos:end="1085:71">i</name></expr>]</index></name></expr>]</index><index pos:start="1085:74" pos:end="1085:76">[<expr pos:start="1085:75" pos:end="1085:75"><literal type="number" pos:start="1085:75" pos:end="1085:75">1</literal></expr>]</index></name></expr>;</expr_stmt>

                    </block_content>}</block></for>

                    <expr_stmt pos:start="1089:21" pos:end="1089:42"><expr pos:start="1089:21" pos:end="1089:41"><name pos:start="1089:21" pos:end="1089:28">motion_x</name><operator pos:start="1089:29" pos:end="1089:29">=</operator> <name pos:start="1089:31" pos:end="1089:38">motion_y</name><operator pos:start="1089:39" pos:end="1089:39">=</operator> <literal type="number" pos:start="1089:41" pos:end="1089:41">0</literal></expr>;</expr_stmt>

                    <break pos:start="1091:21" pos:end="1091:26">break;</break>

                <case pos:start="1093:17" pos:end="1093:36">case <expr pos:start="1093:22" pos:end="1093:35"><name pos:start="1093:22" pos:end="1093:35">MB_TYPE_DIRECT</name></expr>:</case>

                    <expr_stmt pos:start="1095:21" pos:end="1095:77"><expr pos:start="1095:21" pos:end="1095:76"><name pos:start="1095:21" pos:end="1095:29"><name pos:start="1095:21" pos:end="1095:21">s</name><operator pos:start="1095:22" pos:end="1095:23">-&gt;</operator><name pos:start="1095:24" pos:end="1095:29">mv_dir</name></name> <operator pos:start="1095:31" pos:end="1095:31">=</operator> <name pos:start="1095:33" pos:end="1095:46">MV_DIR_FORWARD</name> <operator pos:start="1095:48" pos:end="1095:48">|</operator> <name pos:start="1095:50" pos:end="1095:64">MV_DIR_BACKWARD</name> <operator pos:start="1095:66" pos:end="1095:66">|</operator> <name pos:start="1095:68" pos:end="1095:76">MV_DIRECT</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="1097:21" pos:end="1097:35"><expr pos:start="1097:21" pos:end="1097:34"><name pos:start="1097:21" pos:end="1097:31"><name pos:start="1097:21" pos:end="1097:21">s</name><operator pos:start="1097:22" pos:end="1097:23">-&gt;</operator><name pos:start="1097:24" pos:end="1097:31">mb_intra</name></name><operator pos:start="1097:32" pos:end="1097:32">=</operator> <literal type="number" pos:start="1097:34" pos:end="1097:34">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="1099:21" pos:end="1099:57"><expr pos:start="1099:21" pos:end="1099:56"><name pos:start="1099:21" pos:end="1099:28">motion_x</name><operator pos:start="1099:29" pos:end="1099:29">=</operator><name pos:start="1099:30" pos:end="1099:56"><name pos:start="1099:30" pos:end="1099:30">s</name><operator pos:start="1099:31" pos:end="1099:32">-&gt;</operator><name pos:start="1099:33" pos:end="1099:49">b_direct_mv_table</name><index pos:start="1099:50" pos:end="1099:53">[<expr pos:start="1099:51" pos:end="1099:52"><name pos:start="1099:51" pos:end="1099:52">xy</name></expr>]</index><index pos:start="1099:54" pos:end="1099:56">[<expr pos:start="1099:55" pos:end="1099:55"><literal type="number" pos:start="1099:55" pos:end="1099:55">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="1101:21" pos:end="1104:0"><expr pos:start="1101:21" pos:end="1101:56"><name pos:start="1101:21" pos:end="1101:28">motion_y</name><operator pos:start="1101:29" pos:end="1101:29">=</operator><name pos:start="1101:30" pos:end="1101:56"><name pos:start="1101:30" pos:end="1101:30">s</name><operator pos:start="1101:31" pos:end="1101:32">-&gt;</operator><name pos:start="1101:33" pos:end="1101:49">b_direct_mv_table</name><index pos:start="1101:50" pos:end="1101:53">[<expr pos:start="1101:51" pos:end="1101:52"><name pos:start="1101:51" pos:end="1101:52">xy</name></expr>]</index><index pos:start="1101:54" pos:end="1101:56">[<expr pos:start="1101:55" pos:end="1101:55"><literal type="number" pos:start="1101:55" pos:end="1101:55">1</literal></expr>]</index></name></expr>;</expr_stmt>

<cpp:ifdef pos:start="1103:1" pos:end="1103:19">#<cpp:directive pos:start="1103:2" pos:end="1103:6">ifdef</cpp:directive> <name pos:start="1103:8" pos:end="1103:19">CONFIG_RISKY</name></cpp:ifdef>

                    <expr_stmt pos:start="1105:21" pos:end="1108:0"><expr pos:start="1105:21" pos:end="1105:65"><call pos:start="1105:21" pos:end="1105:65"><name pos:start="1105:21" pos:end="1105:42">ff_mpeg4_set_direct_mv</name><argument_list pos:start="1105:43" pos:end="1105:65">(<argument pos:start="1105:44" pos:end="1105:44"><expr pos:start="1105:44" pos:end="1105:44"><name pos:start="1105:44" pos:end="1105:44">s</name></expr></argument>, <argument pos:start="1105:47" pos:end="1105:54"><expr pos:start="1105:47" pos:end="1105:54"><name pos:start="1105:47" pos:end="1105:54">motion_x</name></expr></argument>, <argument pos:start="1105:57" pos:end="1105:64"><expr pos:start="1105:57" pos:end="1105:64"><name pos:start="1105:57" pos:end="1105:64">motion_y</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

<cpp:endif pos:start="1107:1" pos:end="1107:6">#<cpp:directive pos:start="1107:2" pos:end="1107:6">endif</cpp:directive></cpp:endif>

                    <break pos:start="1109:21" pos:end="1109:26">break;</break>

                <case pos:start="1111:17" pos:end="1111:35">case <expr pos:start="1111:22" pos:end="1111:34"><name pos:start="1111:22" pos:end="1111:34">MB_TYPE_BIDIR</name></expr>:</case>

                    <expr_stmt pos:start="1113:21" pos:end="1113:65"><expr pos:start="1113:21" pos:end="1113:64"><name pos:start="1113:21" pos:end="1113:29"><name pos:start="1113:21" pos:end="1113:21">s</name><operator pos:start="1113:22" pos:end="1113:23">-&gt;</operator><name pos:start="1113:24" pos:end="1113:29">mv_dir</name></name> <operator pos:start="1113:31" pos:end="1113:31">=</operator> <name pos:start="1113:33" pos:end="1113:46">MV_DIR_FORWARD</name> <operator pos:start="1113:48" pos:end="1113:48">|</operator> <name pos:start="1113:50" pos:end="1113:64">MV_DIR_BACKWARD</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="1115:21" pos:end="1115:35"><expr pos:start="1115:21" pos:end="1115:34"><name pos:start="1115:21" pos:end="1115:31"><name pos:start="1115:21" pos:end="1115:21">s</name><operator pos:start="1115:22" pos:end="1115:23">-&gt;</operator><name pos:start="1115:24" pos:end="1115:31">mb_intra</name></name><operator pos:start="1115:32" pos:end="1115:32">=</operator> <literal type="number" pos:start="1115:34" pos:end="1115:34">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="1117:21" pos:end="1117:31"><expr pos:start="1117:21" pos:end="1117:30"><name pos:start="1117:21" pos:end="1117:28">motion_x</name><operator pos:start="1117:29" pos:end="1117:29">=</operator><literal type="number" pos:start="1117:30" pos:end="1117:30">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="1119:21" pos:end="1119:31"><expr pos:start="1119:21" pos:end="1119:30"><name pos:start="1119:21" pos:end="1119:28">motion_y</name><operator pos:start="1119:29" pos:end="1119:29">=</operator><literal type="number" pos:start="1119:30" pos:end="1119:30">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="1121:21" pos:end="1121:69"><expr pos:start="1121:21" pos:end="1121:68"><name pos:start="1121:21" pos:end="1121:34"><name pos:start="1121:21" pos:end="1121:21">s</name><operator pos:start="1121:22" pos:end="1121:23">-&gt;</operator><name pos:start="1121:24" pos:end="1121:25">mv</name><index pos:start="1121:26" pos:end="1121:28">[<expr pos:start="1121:27" pos:end="1121:27"><literal type="number" pos:start="1121:27" pos:end="1121:27">0</literal></expr>]</index><index pos:start="1121:29" pos:end="1121:31">[<expr pos:start="1121:30" pos:end="1121:30"><literal type="number" pos:start="1121:30" pos:end="1121:30">0</literal></expr>]</index><index pos:start="1121:32" pos:end="1121:34">[<expr pos:start="1121:33" pos:end="1121:33"><literal type="number" pos:start="1121:33" pos:end="1121:33">0</literal></expr>]</index></name> <operator pos:start="1121:36" pos:end="1121:36">=</operator> <name pos:start="1121:38" pos:end="1121:68"><name pos:start="1121:38" pos:end="1121:38">s</name><operator pos:start="1121:39" pos:end="1121:40">-&gt;</operator><name pos:start="1121:41" pos:end="1121:61">b_bidir_forw_mv_table</name><index pos:start="1121:62" pos:end="1121:65">[<expr pos:start="1121:63" pos:end="1121:64"><name pos:start="1121:63" pos:end="1121:64">xy</name></expr>]</index><index pos:start="1121:66" pos:end="1121:68">[<expr pos:start="1121:67" pos:end="1121:67"><literal type="number" pos:start="1121:67" pos:end="1121:67">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="1123:21" pos:end="1123:69"><expr pos:start="1123:21" pos:end="1123:68"><name pos:start="1123:21" pos:end="1123:34"><name pos:start="1123:21" pos:end="1123:21">s</name><operator pos:start="1123:22" pos:end="1123:23">-&gt;</operator><name pos:start="1123:24" pos:end="1123:25">mv</name><index pos:start="1123:26" pos:end="1123:28">[<expr pos:start="1123:27" pos:end="1123:27"><literal type="number" pos:start="1123:27" pos:end="1123:27">0</literal></expr>]</index><index pos:start="1123:29" pos:end="1123:31">[<expr pos:start="1123:30" pos:end="1123:30"><literal type="number" pos:start="1123:30" pos:end="1123:30">0</literal></expr>]</index><index pos:start="1123:32" pos:end="1123:34">[<expr pos:start="1123:33" pos:end="1123:33"><literal type="number" pos:start="1123:33" pos:end="1123:33">1</literal></expr>]</index></name> <operator pos:start="1123:36" pos:end="1123:36">=</operator> <name pos:start="1123:38" pos:end="1123:68"><name pos:start="1123:38" pos:end="1123:38">s</name><operator pos:start="1123:39" pos:end="1123:40">-&gt;</operator><name pos:start="1123:41" pos:end="1123:61">b_bidir_forw_mv_table</name><index pos:start="1123:62" pos:end="1123:65">[<expr pos:start="1123:63" pos:end="1123:64"><name pos:start="1123:63" pos:end="1123:64">xy</name></expr>]</index><index pos:start="1123:66" pos:end="1123:68">[<expr pos:start="1123:67" pos:end="1123:67"><literal type="number" pos:start="1123:67" pos:end="1123:67">1</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="1125:21" pos:end="1125:69"><expr pos:start="1125:21" pos:end="1125:68"><name pos:start="1125:21" pos:end="1125:34"><name pos:start="1125:21" pos:end="1125:21">s</name><operator pos:start="1125:22" pos:end="1125:23">-&gt;</operator><name pos:start="1125:24" pos:end="1125:25">mv</name><index pos:start="1125:26" pos:end="1125:28">[<expr pos:start="1125:27" pos:end="1125:27"><literal type="number" pos:start="1125:27" pos:end="1125:27">1</literal></expr>]</index><index pos:start="1125:29" pos:end="1125:31">[<expr pos:start="1125:30" pos:end="1125:30"><literal type="number" pos:start="1125:30" pos:end="1125:30">0</literal></expr>]</index><index pos:start="1125:32" pos:end="1125:34">[<expr pos:start="1125:33" pos:end="1125:33"><literal type="number" pos:start="1125:33" pos:end="1125:33">0</literal></expr>]</index></name> <operator pos:start="1125:36" pos:end="1125:36">=</operator> <name pos:start="1125:38" pos:end="1125:68"><name pos:start="1125:38" pos:end="1125:38">s</name><operator pos:start="1125:39" pos:end="1125:40">-&gt;</operator><name pos:start="1125:41" pos:end="1125:61">b_bidir_back_mv_table</name><index pos:start="1125:62" pos:end="1125:65">[<expr pos:start="1125:63" pos:end="1125:64"><name pos:start="1125:63" pos:end="1125:64">xy</name></expr>]</index><index pos:start="1125:66" pos:end="1125:68">[<expr pos:start="1125:67" pos:end="1125:67"><literal type="number" pos:start="1125:67" pos:end="1125:67">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="1127:21" pos:end="1127:69"><expr pos:start="1127:21" pos:end="1127:68"><name pos:start="1127:21" pos:end="1127:34"><name pos:start="1127:21" pos:end="1127:21">s</name><operator pos:start="1127:22" pos:end="1127:23">-&gt;</operator><name pos:start="1127:24" pos:end="1127:25">mv</name><index pos:start="1127:26" pos:end="1127:28">[<expr pos:start="1127:27" pos:end="1127:27"><literal type="number" pos:start="1127:27" pos:end="1127:27">1</literal></expr>]</index><index pos:start="1127:29" pos:end="1127:31">[<expr pos:start="1127:30" pos:end="1127:30"><literal type="number" pos:start="1127:30" pos:end="1127:30">0</literal></expr>]</index><index pos:start="1127:32" pos:end="1127:34">[<expr pos:start="1127:33" pos:end="1127:33"><literal type="number" pos:start="1127:33" pos:end="1127:33">1</literal></expr>]</index></name> <operator pos:start="1127:36" pos:end="1127:36">=</operator> <name pos:start="1127:38" pos:end="1127:68"><name pos:start="1127:38" pos:end="1127:38">s</name><operator pos:start="1127:39" pos:end="1127:40">-&gt;</operator><name pos:start="1127:41" pos:end="1127:61">b_bidir_back_mv_table</name><index pos:start="1127:62" pos:end="1127:65">[<expr pos:start="1127:63" pos:end="1127:64"><name pos:start="1127:63" pos:end="1127:64">xy</name></expr>]</index><index pos:start="1127:66" pos:end="1127:68">[<expr pos:start="1127:67" pos:end="1127:67"><literal type="number" pos:start="1127:67" pos:end="1127:67">1</literal></expr>]</index></name></expr>;</expr_stmt>

                    <break pos:start="1129:21" pos:end="1129:26">break;</break>

                <case pos:start="1131:17" pos:end="1131:38">case <expr pos:start="1131:22" pos:end="1131:37"><name pos:start="1131:22" pos:end="1131:37">MB_TYPE_BACKWARD</name></expr>:</case>

                    <expr_stmt pos:start="1133:21" pos:end="1133:48"><expr pos:start="1133:21" pos:end="1133:47"><name pos:start="1133:21" pos:end="1133:29"><name pos:start="1133:21" pos:end="1133:21">s</name><operator pos:start="1133:22" pos:end="1133:23">-&gt;</operator><name pos:start="1133:24" pos:end="1133:29">mv_dir</name></name> <operator pos:start="1133:31" pos:end="1133:31">=</operator> <name pos:start="1133:33" pos:end="1133:47">MV_DIR_BACKWARD</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="1135:21" pos:end="1135:35"><expr pos:start="1135:21" pos:end="1135:34"><name pos:start="1135:21" pos:end="1135:31"><name pos:start="1135:21" pos:end="1135:21">s</name><operator pos:start="1135:22" pos:end="1135:23">-&gt;</operator><name pos:start="1135:24" pos:end="1135:31">mb_intra</name></name><operator pos:start="1135:32" pos:end="1135:32">=</operator> <literal type="number" pos:start="1135:34" pos:end="1135:34">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="1137:21" pos:end="1137:73"><expr pos:start="1137:21" pos:end="1137:72"><name pos:start="1137:21" pos:end="1137:28">motion_x</name><operator pos:start="1137:29" pos:end="1137:29">=</operator> <name pos:start="1137:31" pos:end="1137:44"><name pos:start="1137:31" pos:end="1137:31">s</name><operator pos:start="1137:32" pos:end="1137:33">-&gt;</operator><name pos:start="1137:34" pos:end="1137:35">mv</name><index pos:start="1137:36" pos:end="1137:38">[<expr pos:start="1137:37" pos:end="1137:37"><literal type="number" pos:start="1137:37" pos:end="1137:37">1</literal></expr>]</index><index pos:start="1137:39" pos:end="1137:41">[<expr pos:start="1137:40" pos:end="1137:40"><literal type="number" pos:start="1137:40" pos:end="1137:40">0</literal></expr>]</index><index pos:start="1137:42" pos:end="1137:44">[<expr pos:start="1137:43" pos:end="1137:43"><literal type="number" pos:start="1137:43" pos:end="1137:43">0</literal></expr>]</index></name> <operator pos:start="1137:46" pos:end="1137:46">=</operator> <name pos:start="1137:48" pos:end="1137:72"><name pos:start="1137:48" pos:end="1137:48">s</name><operator pos:start="1137:49" pos:end="1137:50">-&gt;</operator><name pos:start="1137:51" pos:end="1137:65">b_back_mv_table</name><index pos:start="1137:66" pos:end="1137:69">[<expr pos:start="1137:67" pos:end="1137:68"><name pos:start="1137:67" pos:end="1137:68">xy</name></expr>]</index><index pos:start="1137:70" pos:end="1137:72">[<expr pos:start="1137:71" pos:end="1137:71"><literal type="number" pos:start="1137:71" pos:end="1137:71">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="1139:21" pos:end="1139:73"><expr pos:start="1139:21" pos:end="1139:72"><name pos:start="1139:21" pos:end="1139:28">motion_y</name><operator pos:start="1139:29" pos:end="1139:29">=</operator> <name pos:start="1139:31" pos:end="1139:44"><name pos:start="1139:31" pos:end="1139:31">s</name><operator pos:start="1139:32" pos:end="1139:33">-&gt;</operator><name pos:start="1139:34" pos:end="1139:35">mv</name><index pos:start="1139:36" pos:end="1139:38">[<expr pos:start="1139:37" pos:end="1139:37"><literal type="number" pos:start="1139:37" pos:end="1139:37">1</literal></expr>]</index><index pos:start="1139:39" pos:end="1139:41">[<expr pos:start="1139:40" pos:end="1139:40"><literal type="number" pos:start="1139:40" pos:end="1139:40">0</literal></expr>]</index><index pos:start="1139:42" pos:end="1139:44">[<expr pos:start="1139:43" pos:end="1139:43"><literal type="number" pos:start="1139:43" pos:end="1139:43">1</literal></expr>]</index></name> <operator pos:start="1139:46" pos:end="1139:46">=</operator> <name pos:start="1139:48" pos:end="1139:72"><name pos:start="1139:48" pos:end="1139:48">s</name><operator pos:start="1139:49" pos:end="1139:50">-&gt;</operator><name pos:start="1139:51" pos:end="1139:65">b_back_mv_table</name><index pos:start="1139:66" pos:end="1139:69">[<expr pos:start="1139:67" pos:end="1139:68"><name pos:start="1139:67" pos:end="1139:68">xy</name></expr>]</index><index pos:start="1139:70" pos:end="1139:72">[<expr pos:start="1139:71" pos:end="1139:71"><literal type="number" pos:start="1139:71" pos:end="1139:71">1</literal></expr>]</index></name></expr>;</expr_stmt>

                    <break pos:start="1141:21" pos:end="1141:26">break;</break>

                <case pos:start="1143:17" pos:end="1143:37">case <expr pos:start="1143:22" pos:end="1143:36"><name pos:start="1143:22" pos:end="1143:36">MB_TYPE_FORWARD</name></expr>:</case>

                    <expr_stmt pos:start="1145:21" pos:end="1145:47"><expr pos:start="1145:21" pos:end="1145:46"><name pos:start="1145:21" pos:end="1145:29"><name pos:start="1145:21" pos:end="1145:21">s</name><operator pos:start="1145:22" pos:end="1145:23">-&gt;</operator><name pos:start="1145:24" pos:end="1145:29">mv_dir</name></name> <operator pos:start="1145:31" pos:end="1145:31">=</operator> <name pos:start="1145:33" pos:end="1145:46">MV_DIR_FORWARD</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="1147:21" pos:end="1147:35"><expr pos:start="1147:21" pos:end="1147:34"><name pos:start="1147:21" pos:end="1147:31"><name pos:start="1147:21" pos:end="1147:21">s</name><operator pos:start="1147:22" pos:end="1147:23">-&gt;</operator><name pos:start="1147:24" pos:end="1147:31">mb_intra</name></name><operator pos:start="1147:32" pos:end="1147:32">=</operator> <literal type="number" pos:start="1147:34" pos:end="1147:34">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="1149:21" pos:end="1149:73"><expr pos:start="1149:21" pos:end="1149:72"><name pos:start="1149:21" pos:end="1149:28">motion_x</name><operator pos:start="1149:29" pos:end="1149:29">=</operator> <name pos:start="1149:31" pos:end="1149:44"><name pos:start="1149:31" pos:end="1149:31">s</name><operator pos:start="1149:32" pos:end="1149:33">-&gt;</operator><name pos:start="1149:34" pos:end="1149:35">mv</name><index pos:start="1149:36" pos:end="1149:38">[<expr pos:start="1149:37" pos:end="1149:37"><literal type="number" pos:start="1149:37" pos:end="1149:37">0</literal></expr>]</index><index pos:start="1149:39" pos:end="1149:41">[<expr pos:start="1149:40" pos:end="1149:40"><literal type="number" pos:start="1149:40" pos:end="1149:40">0</literal></expr>]</index><index pos:start="1149:42" pos:end="1149:44">[<expr pos:start="1149:43" pos:end="1149:43"><literal type="number" pos:start="1149:43" pos:end="1149:43">0</literal></expr>]</index></name> <operator pos:start="1149:46" pos:end="1149:46">=</operator> <name pos:start="1149:48" pos:end="1149:72"><name pos:start="1149:48" pos:end="1149:48">s</name><operator pos:start="1149:49" pos:end="1149:50">-&gt;</operator><name pos:start="1149:51" pos:end="1149:65">b_forw_mv_table</name><index pos:start="1149:66" pos:end="1149:69">[<expr pos:start="1149:67" pos:end="1149:68"><name pos:start="1149:67" pos:end="1149:68">xy</name></expr>]</index><index pos:start="1149:70" pos:end="1149:72">[<expr pos:start="1149:71" pos:end="1149:71"><literal type="number" pos:start="1149:71" pos:end="1149:71">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="1151:21" pos:end="1151:73"><expr pos:start="1151:21" pos:end="1151:72"><name pos:start="1151:21" pos:end="1151:28">motion_y</name><operator pos:start="1151:29" pos:end="1151:29">=</operator> <name pos:start="1151:31" pos:end="1151:44"><name pos:start="1151:31" pos:end="1151:31">s</name><operator pos:start="1151:32" pos:end="1151:33">-&gt;</operator><name pos:start="1151:34" pos:end="1151:35">mv</name><index pos:start="1151:36" pos:end="1151:38">[<expr pos:start="1151:37" pos:end="1151:37"><literal type="number" pos:start="1151:37" pos:end="1151:37">0</literal></expr>]</index><index pos:start="1151:39" pos:end="1151:41">[<expr pos:start="1151:40" pos:end="1151:40"><literal type="number" pos:start="1151:40" pos:end="1151:40">0</literal></expr>]</index><index pos:start="1151:42" pos:end="1151:44">[<expr pos:start="1151:43" pos:end="1151:43"><literal type="number" pos:start="1151:43" pos:end="1151:43">1</literal></expr>]</index></name> <operator pos:start="1151:46" pos:end="1151:46">=</operator> <name pos:start="1151:48" pos:end="1151:72"><name pos:start="1151:48" pos:end="1151:48">s</name><operator pos:start="1151:49" pos:end="1151:50">-&gt;</operator><name pos:start="1151:51" pos:end="1151:65">b_forw_mv_table</name><index pos:start="1151:66" pos:end="1151:69">[<expr pos:start="1151:67" pos:end="1151:68"><name pos:start="1151:67" pos:end="1151:68">xy</name></expr>]</index><index pos:start="1151:70" pos:end="1151:72">[<expr pos:start="1151:71" pos:end="1151:71"><literal type="number" pos:start="1151:71" pos:end="1151:71">1</literal></expr>]</index></name></expr>;</expr_stmt>

<comment type="line" pos:start="1153:1" pos:end="1153:60">//                    printf(" %d %d ", motion_x, motion_y);</comment>

                    <break pos:start="1155:21" pos:end="1155:26">break;</break>

                <default pos:start="1157:17" pos:end="1157:24">default:</default>

                    <expr_stmt pos:start="1159:21" pos:end="1159:40"><expr pos:start="1159:21" pos:end="1159:39"><name pos:start="1159:21" pos:end="1159:28">motion_x</name><operator pos:start="1159:29" pos:end="1159:29">=</operator><name pos:start="1159:30" pos:end="1159:37">motion_y</name><operator pos:start="1159:38" pos:end="1159:38">=</operator><literal type="number" pos:start="1159:39" pos:end="1159:39">0</literal></expr>;</expr_stmt> <comment type="line" pos:start="1159:42" pos:end="1159:58">//gcc warning fix</comment>

                    <expr_stmt pos:start="1161:21" pos:end="1161:48"><expr pos:start="1161:21" pos:end="1161:47"><call pos:start="1161:21" pos:end="1161:47"><name pos:start="1161:21" pos:end="1161:26">printf</name><argument_list pos:start="1161:27" pos:end="1161:47">(<argument pos:start="1161:28" pos:end="1161:46"><expr pos:start="1161:28" pos:end="1161:46"><literal type="string" pos:start="1161:28" pos:end="1161:46">"illegal MB type\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                </block_content>}</block></switch>



                <expr_stmt pos:start="1167:17" pos:end="1167:49"><expr pos:start="1167:17" pos:end="1167:48"><call pos:start="1167:17" pos:end="1167:48"><name pos:start="1167:17" pos:end="1167:25">encode_mb</name><argument_list pos:start="1167:26" pos:end="1167:48">(<argument pos:start="1167:27" pos:end="1167:27"><expr pos:start="1167:27" pos:end="1167:27"><name pos:start="1167:27" pos:end="1167:27">s</name></expr></argument>, <argument pos:start="1167:30" pos:end="1167:37"><expr pos:start="1167:30" pos:end="1167:37"><name pos:start="1167:30" pos:end="1167:37">motion_x</name></expr></argument>, <argument pos:start="1167:40" pos:end="1167:47"><expr pos:start="1167:40" pos:end="1167:47"><name pos:start="1167:40" pos:end="1167:47">motion_y</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



                <comment type="line" pos:start="1171:17" pos:end="1171:50">// RAL: Update last macrobloc type</comment>

                <expr_stmt pos:start="1173:17" pos:end="1173:43"><expr pos:start="1173:17" pos:end="1173:42"><name pos:start="1173:17" pos:end="1173:30"><name pos:start="1173:17" pos:end="1173:17">s</name><operator pos:start="1173:18" pos:end="1173:19">-&gt;</operator><name pos:start="1173:20" pos:end="1173:30">last_mv_dir</name></name> <operator pos:start="1173:32" pos:end="1173:32">=</operator> <name pos:start="1173:34" pos:end="1173:42"><name pos:start="1173:34" pos:end="1173:34">s</name><operator pos:start="1173:35" pos:end="1173:36">-&gt;</operator><name pos:start="1173:37" pos:end="1173:42">mv_dir</name></name></expr>;</expr_stmt>

            </block_content>}</block></else></if_stmt>



            <comment type="block" pos:start="1179:13" pos:end="1179:78">/* clean the MV table in IPS frames for direct mode in B frames */</comment>

            <if_stmt pos:start="1181:13" pos:end="1187:13"><if pos:start="1181:13" pos:end="1187:13">if<condition pos:start="1181:15" pos:end="1181:47">(<expr pos:start="1181:16" pos:end="1181:26"><name pos:start="1181:16" pos:end="1181:26"><name pos:start="1181:16" pos:end="1181:16">s</name><operator pos:start="1181:17" pos:end="1181:18">-&gt;</operator><name pos:start="1181:19" pos:end="1181:26">mb_intra</name></name></expr> <comment type="block" pos:start="1181:28" pos:end="1181:46">/* &amp;&amp; I,P,S_TYPE */</comment>)</condition><block pos:start="1181:48" pos:end="1187:13">{<block_content pos:start="1183:17" pos:end="1185:39">

                <expr_stmt pos:start="1183:17" pos:end="1183:39"><expr pos:start="1183:17" pos:end="1183:38"><name pos:start="1183:17" pos:end="1183:36"><name pos:start="1183:17" pos:end="1183:17">s</name><operator pos:start="1183:18" pos:end="1183:19">-&gt;</operator><name pos:start="1183:20" pos:end="1183:29">p_mv_table</name><index pos:start="1183:30" pos:end="1183:33">[<expr pos:start="1183:31" pos:end="1183:32"><name pos:start="1183:31" pos:end="1183:32">xy</name></expr>]</index><index pos:start="1183:34" pos:end="1183:36">[<expr pos:start="1183:35" pos:end="1183:35"><literal type="number" pos:start="1183:35" pos:end="1183:35">0</literal></expr>]</index></name><operator pos:start="1183:37" pos:end="1183:37">=</operator><literal type="number" pos:start="1183:38" pos:end="1183:38">0</literal></expr>;</expr_stmt>

                <expr_stmt pos:start="1185:17" pos:end="1185:39"><expr pos:start="1185:17" pos:end="1185:38"><name pos:start="1185:17" pos:end="1185:36"><name pos:start="1185:17" pos:end="1185:17">s</name><operator pos:start="1185:18" pos:end="1185:19">-&gt;</operator><name pos:start="1185:20" pos:end="1185:29">p_mv_table</name><index pos:start="1185:30" pos:end="1185:33">[<expr pos:start="1185:31" pos:end="1185:32"><name pos:start="1185:31" pos:end="1185:32">xy</name></expr>]</index><index pos:start="1185:34" pos:end="1185:36">[<expr pos:start="1185:35" pos:end="1185:35"><literal type="number" pos:start="1185:35" pos:end="1185:35">1</literal></expr>]</index></name><operator pos:start="1185:37" pos:end="1185:37">=</operator><literal type="number" pos:start="1185:38" pos:end="1185:38">0</literal></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>



            <expr_stmt pos:start="1191:13" pos:end="1191:39"><expr pos:start="1191:13" pos:end="1191:38"><call pos:start="1191:13" pos:end="1191:38"><name pos:start="1191:13" pos:end="1191:25">MPV_decode_mb</name><argument_list pos:start="1191:26" pos:end="1191:38">(<argument pos:start="1191:27" pos:end="1191:27"><expr pos:start="1191:27" pos:end="1191:27"><name pos:start="1191:27" pos:end="1191:27">s</name></expr></argument>, <argument pos:start="1191:30" pos:end="1191:37"><expr pos:start="1191:30" pos:end="1191:37"><name pos:start="1191:30" pos:end="1191:37"><name pos:start="1191:30" pos:end="1191:30">s</name><operator pos:start="1191:31" pos:end="1191:32">-&gt;</operator><name pos:start="1191:33" pos:end="1191:37">block</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            

            <if_stmt pos:start="1195:13" pos:end="1239:13"><if pos:start="1195:13" pos:end="1239:13">if<condition pos:start="1195:15" pos:end="1195:40">(<expr pos:start="1195:16" pos:end="1195:39"><name pos:start="1195:16" pos:end="1195:23"><name pos:start="1195:16" pos:end="1195:16">s</name><operator pos:start="1195:17" pos:end="1195:18">-&gt;</operator><name pos:start="1195:19" pos:end="1195:23">flags</name></name><operator pos:start="1195:24" pos:end="1195:24">&amp;</operator><name pos:start="1195:25" pos:end="1195:39">CODEC_FLAG_PSNR</name></expr>)</condition><block pos:start="1195:41" pos:end="1239:13">{<block_content pos:start="1197:17" pos:end="1237:47">

                <decl_stmt pos:start="1197:17" pos:end="1197:26"><decl pos:start="1197:17" pos:end="1197:25"><type pos:start="1197:17" pos:end="1197:19"><name pos:start="1197:17" pos:end="1197:19">int</name></type> <name pos:start="1197:21" pos:end="1197:21">w</name><init pos:start="1197:22" pos:end="1197:25">= <expr pos:start="1197:24" pos:end="1197:25"><literal type="number" pos:start="1197:24" pos:end="1197:25">16</literal></expr></init></decl>;</decl_stmt>

                <decl_stmt pos:start="1199:17" pos:end="1199:26"><decl pos:start="1199:17" pos:end="1199:25"><type pos:start="1199:17" pos:end="1199:19"><name pos:start="1199:17" pos:end="1199:19">int</name></type> <name pos:start="1199:21" pos:end="1199:21">h</name><init pos:start="1199:22" pos:end="1199:25">= <expr pos:start="1199:24" pos:end="1199:25"><literal type="number" pos:start="1199:24" pos:end="1199:25">16</literal></expr></init></decl>;</decl_stmt>



                <if_stmt pos:start="1203:17" pos:end="1203:73"><if pos:start="1203:17" pos:end="1203:73">if<condition pos:start="1203:19" pos:end="1203:47">(<expr pos:start="1203:20" pos:end="1203:45"><name pos:start="1203:20" pos:end="1203:26"><name pos:start="1203:20" pos:end="1203:20">s</name><operator pos:start="1203:21" pos:end="1203:22">-&gt;</operator><name pos:start="1203:23" pos:end="1203:26">mb_x</name></name><operator pos:start="1203:27" pos:end="1203:27">*</operator><literal type="number" pos:start="1203:28" pos:end="1203:31">16</literal> <operator pos:start="1203:31" pos:end="1203:31">+</operator> <literal type="number" pos:start="1203:33" pos:end="1203:34">16</literal> <operator pos:start="1203:36" pos:end="1203:36">&gt;</operator> <name pos:start="1203:38" pos:end="1203:45"><name pos:start="1203:38" pos:end="1203:38">s</name><operator pos:start="1203:39" pos:end="1203:40">-&gt;</operator><name pos:start="1203:41" pos:end="1203:45">width</name></name></expr> )</condition><block type="pseudo" pos:start="1203:49" pos:end="1203:73"><block_content pos:start="1203:49" pos:end="1203:73"> <expr_stmt pos:start="1203:49" pos:end="1203:73"><expr pos:start="1203:49" pos:end="1203:72"><name pos:start="1203:49" pos:end="1203:49">w</name><operator pos:start="1203:50" pos:end="1203:50">=</operator> <name pos:start="1203:52" pos:end="1203:59"><name pos:start="1203:52" pos:end="1203:52">s</name><operator pos:start="1203:53" pos:end="1203:54">-&gt;</operator><name pos:start="1203:55" pos:end="1203:59">width</name></name> <operator pos:start="1203:61" pos:end="1203:61">-</operator> <name pos:start="1203:63" pos:end="1203:69"><name pos:start="1203:63" pos:end="1203:63">s</name><operator pos:start="1203:64" pos:end="1203:65">-&gt;</operator><name pos:start="1203:66" pos:end="1203:69">mb_x</name></name><operator pos:start="1203:70" pos:end="1203:70">*</operator><literal type="number" pos:start="1203:71" pos:end="1203:72">16</literal></expr>;</expr_stmt></block_content></block></if></if_stmt>

                <if_stmt pos:start="1205:17" pos:end="1205:73"><if pos:start="1205:17" pos:end="1205:73">if<condition pos:start="1205:19" pos:end="1205:47">(<expr pos:start="1205:20" pos:end="1205:46"><name pos:start="1205:20" pos:end="1205:26"><name pos:start="1205:20" pos:end="1205:20">s</name><operator pos:start="1205:21" pos:end="1205:22">-&gt;</operator><name pos:start="1205:23" pos:end="1205:26">mb_y</name></name><operator pos:start="1205:27" pos:end="1205:27">*</operator><literal type="number" pos:start="1205:28" pos:end="1205:31">16</literal> <operator pos:start="1205:31" pos:end="1205:31">+</operator> <literal type="number" pos:start="1205:33" pos:end="1205:34">16</literal> <operator pos:start="1205:36" pos:end="1205:36">&gt;</operator> <name pos:start="1205:38" pos:end="1205:46"><name pos:start="1205:38" pos:end="1205:38">s</name><operator pos:start="1205:39" pos:end="1205:40">-&gt;</operator><name pos:start="1205:41" pos:end="1205:46">height</name></name></expr>)</condition><block type="pseudo" pos:start="1205:49" pos:end="1205:73"><block_content pos:start="1205:49" pos:end="1205:73"> <expr_stmt pos:start="1205:49" pos:end="1205:73"><expr pos:start="1205:49" pos:end="1205:72"><name pos:start="1205:49" pos:end="1205:49">h</name><operator pos:start="1205:50" pos:end="1205:50">=</operator> <name pos:start="1205:52" pos:end="1205:60"><name pos:start="1205:52" pos:end="1205:52">s</name><operator pos:start="1205:53" pos:end="1205:54">-&gt;</operator><name pos:start="1205:55" pos:end="1205:60">height</name></name><operator pos:start="1205:61" pos:end="1205:61">-</operator> <name pos:start="1205:63" pos:end="1205:69"><name pos:start="1205:63" pos:end="1205:63">s</name><operator pos:start="1205:64" pos:end="1205:65">-&gt;</operator><name pos:start="1205:66" pos:end="1205:69">mb_y</name></name><operator pos:start="1205:70" pos:end="1205:70">*</operator><literal type="number" pos:start="1205:71" pos:end="1205:72">16</literal></expr>;</expr_stmt></block_content></block></if></if_stmt>



                <expr_stmt pos:start="1209:17" pos:end="1217:39"><expr pos:start="1209:17" pos:end="1217:38"><name pos:start="1209:17" pos:end="1209:43"><name pos:start="1209:17" pos:end="1209:17">s</name><operator pos:start="1209:18" pos:end="1209:19">-&gt;</operator><name pos:start="1209:20" pos:end="1209:34">current_picture</name><operator pos:start="1209:35" pos:end="1209:35">.</operator><name pos:start="1209:36" pos:end="1209:40">error</name><index pos:start="1209:41" pos:end="1209:43">[<expr pos:start="1209:42" pos:end="1209:42"><literal type="number" pos:start="1209:42" pos:end="1209:42">0</literal></expr>]</index></name> <operator pos:start="1209:45" pos:end="1209:46">+=</operator> <call pos:start="1209:48" pos:end="1217:38"><name pos:start="1209:48" pos:end="1209:50">sse</name><argument_list pos:start="1209:51" pos:end="1217:38">(

                    <argument pos:start="1211:21" pos:end="1211:21"><expr pos:start="1211:21" pos:end="1211:21"><name pos:start="1211:21" pos:end="1211:21">s</name></expr></argument>,

                    <argument pos:start="1213:21" pos:end="1213:84"><expr pos:start="1213:21" pos:end="1213:84"><name pos:start="1213:21" pos:end="1213:46"><name pos:start="1213:21" pos:end="1213:21">s</name><operator pos:start="1213:22" pos:end="1213:23">-&gt;</operator><name pos:start="1213:24" pos:end="1213:34">new_picture</name>    <operator pos:start="1213:39" pos:end="1213:39">.</operator><name pos:start="1213:40" pos:end="1213:43">data</name><index pos:start="1213:44" pos:end="1213:46">[<expr pos:start="1213:45" pos:end="1213:45"><literal type="number" pos:start="1213:45" pos:end="1213:45">0</literal></expr>]</index></name> <operator pos:start="1213:48" pos:end="1213:48">+</operator> <name pos:start="1213:50" pos:end="1213:56"><name pos:start="1213:50" pos:end="1213:50">s</name><operator pos:start="1213:51" pos:end="1213:52">-&gt;</operator><name pos:start="1213:53" pos:end="1213:56">mb_x</name></name><operator pos:start="1213:57" pos:end="1213:57">*</operator><literal type="number" pos:start="1213:58" pos:end="1213:61">16</literal> <operator pos:start="1213:61" pos:end="1213:61">+</operator> <name pos:start="1213:63" pos:end="1213:69"><name pos:start="1213:63" pos:end="1213:63">s</name><operator pos:start="1213:64" pos:end="1213:65">-&gt;</operator><name pos:start="1213:66" pos:end="1213:69">mb_y</name></name><operator pos:start="1213:70" pos:end="1213:70">*</operator><name pos:start="1213:71" pos:end="1213:81"><name pos:start="1213:71" pos:end="1213:71">s</name><operator pos:start="1213:72" pos:end="1213:73">-&gt;</operator><name pos:start="1213:74" pos:end="1213:81">linesize</name></name><operator pos:start="1213:82" pos:end="1213:82">*</operator><literal type="number" pos:start="1213:83" pos:end="1213:84">16</literal></expr></argument>,

                    <argument pos:start="1215:21" pos:end="1215:84"><expr pos:start="1215:21" pos:end="1215:84"><name pos:start="1215:21" pos:end="1215:46"><name pos:start="1215:21" pos:end="1215:21">s</name><operator pos:start="1215:22" pos:end="1215:23">-&gt;</operator><name pos:start="1215:24" pos:end="1215:38">current_picture</name><operator pos:start="1215:39" pos:end="1215:39">.</operator><name pos:start="1215:40" pos:end="1215:43">data</name><index pos:start="1215:44" pos:end="1215:46">[<expr pos:start="1215:45" pos:end="1215:45"><literal type="number" pos:start="1215:45" pos:end="1215:45">0</literal></expr>]</index></name> <operator pos:start="1215:48" pos:end="1215:48">+</operator> <name pos:start="1215:50" pos:end="1215:56"><name pos:start="1215:50" pos:end="1215:50">s</name><operator pos:start="1215:51" pos:end="1215:52">-&gt;</operator><name pos:start="1215:53" pos:end="1215:56">mb_x</name></name><operator pos:start="1215:57" pos:end="1215:57">*</operator><literal type="number" pos:start="1215:58" pos:end="1215:61">16</literal> <operator pos:start="1215:61" pos:end="1215:61">+</operator> <name pos:start="1215:63" pos:end="1215:69"><name pos:start="1215:63" pos:end="1215:63">s</name><operator pos:start="1215:64" pos:end="1215:65">-&gt;</operator><name pos:start="1215:66" pos:end="1215:69">mb_y</name></name><operator pos:start="1215:70" pos:end="1215:70">*</operator><name pos:start="1215:71" pos:end="1215:81"><name pos:start="1215:71" pos:end="1215:71">s</name><operator pos:start="1215:72" pos:end="1215:73">-&gt;</operator><name pos:start="1215:74" pos:end="1215:81">linesize</name></name><operator pos:start="1215:82" pos:end="1215:82">*</operator><literal type="number" pos:start="1215:83" pos:end="1215:84">16</literal></expr></argument>,

                    <argument pos:start="1217:21" pos:end="1217:21"><expr pos:start="1217:21" pos:end="1217:21"><name pos:start="1217:21" pos:end="1217:21">w</name></expr></argument>, <argument pos:start="1217:24" pos:end="1217:24"><expr pos:start="1217:24" pos:end="1217:24"><name pos:start="1217:24" pos:end="1217:24">h</name></expr></argument>, <argument pos:start="1217:27" pos:end="1217:37"><expr pos:start="1217:27" pos:end="1217:37"><name pos:start="1217:27" pos:end="1217:37"><name pos:start="1217:27" pos:end="1217:27">s</name><operator pos:start="1217:28" pos:end="1217:29">-&gt;</operator><name pos:start="1217:30" pos:end="1217:37">linesize</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="1219:17" pos:end="1227:47"><expr pos:start="1219:17" pos:end="1227:46"><name pos:start="1219:17" pos:end="1219:43"><name pos:start="1219:17" pos:end="1219:17">s</name><operator pos:start="1219:18" pos:end="1219:19">-&gt;</operator><name pos:start="1219:20" pos:end="1219:34">current_picture</name><operator pos:start="1219:35" pos:end="1219:35">.</operator><name pos:start="1219:36" pos:end="1219:40">error</name><index pos:start="1219:41" pos:end="1219:43">[<expr pos:start="1219:42" pos:end="1219:42"><literal type="number" pos:start="1219:42" pos:end="1219:42">1</literal></expr>]</index></name> <operator pos:start="1219:45" pos:end="1219:46">+=</operator> <call pos:start="1219:48" pos:end="1227:46"><name pos:start="1219:48" pos:end="1219:50">sse</name><argument_list pos:start="1219:51" pos:end="1227:46">(

                    <argument pos:start="1221:21" pos:end="1221:21"><expr pos:start="1221:21" pos:end="1221:21"><name pos:start="1221:21" pos:end="1221:21">s</name></expr></argument>,

                    <argument pos:start="1223:21" pos:end="1223:85"><expr pos:start="1223:21" pos:end="1223:85"><name pos:start="1223:21" pos:end="1223:46"><name pos:start="1223:21" pos:end="1223:21">s</name><operator pos:start="1223:22" pos:end="1223:23">-&gt;</operator><name pos:start="1223:24" pos:end="1223:34">new_picture</name>    <operator pos:start="1223:39" pos:end="1223:39">.</operator><name pos:start="1223:40" pos:end="1223:43">data</name><index pos:start="1223:44" pos:end="1223:46">[<expr pos:start="1223:45" pos:end="1223:45"><literal type="number" pos:start="1223:45" pos:end="1223:45">1</literal></expr>]</index></name> <operator pos:start="1223:48" pos:end="1223:48">+</operator> <name pos:start="1223:50" pos:end="1223:56"><name pos:start="1223:50" pos:end="1223:50">s</name><operator pos:start="1223:51" pos:end="1223:52">-&gt;</operator><name pos:start="1223:53" pos:end="1223:56">mb_x</name></name><operator pos:start="1223:57" pos:end="1223:57">*</operator><literal type="number" pos:start="1223:58" pos:end="1223:61">8</literal>  <operator pos:start="1223:61" pos:end="1223:61">+</operator> <name pos:start="1223:63" pos:end="1223:69"><name pos:start="1223:63" pos:end="1223:63">s</name><operator pos:start="1223:64" pos:end="1223:65">-&gt;</operator><name pos:start="1223:66" pos:end="1223:69">mb_y</name></name><operator pos:start="1223:70" pos:end="1223:70">*</operator><name pos:start="1223:71" pos:end="1223:83"><name pos:start="1223:71" pos:end="1223:71">s</name><operator pos:start="1223:72" pos:end="1223:73">-&gt;</operator><name pos:start="1223:74" pos:end="1223:83">uvlinesize</name></name><operator pos:start="1223:84" pos:end="1223:84">*</operator><literal type="number" pos:start="1223:85" pos:end="1223:85">8</literal></expr></argument>,

                    <argument pos:start="1225:21" pos:end="1225:85"><expr pos:start="1225:21" pos:end="1225:85"><name pos:start="1225:21" pos:end="1225:46"><name pos:start="1225:21" pos:end="1225:21">s</name><operator pos:start="1225:22" pos:end="1225:23">-&gt;</operator><name pos:start="1225:24" pos:end="1225:38">current_picture</name><operator pos:start="1225:39" pos:end="1225:39">.</operator><name pos:start="1225:40" pos:end="1225:43">data</name><index pos:start="1225:44" pos:end="1225:46">[<expr pos:start="1225:45" pos:end="1225:45"><literal type="number" pos:start="1225:45" pos:end="1225:45">1</literal></expr>]</index></name> <operator pos:start="1225:48" pos:end="1225:48">+</operator> <name pos:start="1225:50" pos:end="1225:56"><name pos:start="1225:50" pos:end="1225:50">s</name><operator pos:start="1225:51" pos:end="1225:52">-&gt;</operator><name pos:start="1225:53" pos:end="1225:56">mb_x</name></name><operator pos:start="1225:57" pos:end="1225:57">*</operator><literal type="number" pos:start="1225:58" pos:end="1225:61">8</literal>  <operator pos:start="1225:61" pos:end="1225:61">+</operator> <name pos:start="1225:63" pos:end="1225:69"><name pos:start="1225:63" pos:end="1225:63">s</name><operator pos:start="1225:64" pos:end="1225:65">-&gt;</operator><name pos:start="1225:66" pos:end="1225:69">mb_y</name></name><operator pos:start="1225:70" pos:end="1225:70">*</operator><name pos:start="1225:71" pos:end="1225:83"><name pos:start="1225:71" pos:end="1225:71">s</name><operator pos:start="1225:72" pos:end="1225:73">-&gt;</operator><name pos:start="1225:74" pos:end="1225:83">uvlinesize</name></name><operator pos:start="1225:84" pos:end="1225:84">*</operator><literal type="number" pos:start="1225:85" pos:end="1225:85">8</literal></expr></argument>,

                    <argument pos:start="1227:21" pos:end="1227:24"><expr pos:start="1227:21" pos:end="1227:24"><name pos:start="1227:21" pos:end="1227:21">w</name><operator pos:start="1227:22" pos:end="1227:23">&gt;&gt;</operator><literal type="number" pos:start="1227:24" pos:end="1227:24">1</literal></expr></argument>, <argument pos:start="1227:27" pos:end="1227:30"><expr pos:start="1227:27" pos:end="1227:30"><name pos:start="1227:27" pos:end="1227:27">h</name><operator pos:start="1227:28" pos:end="1227:29">&gt;&gt;</operator><literal type="number" pos:start="1227:30" pos:end="1227:30">1</literal></expr></argument>, <argument pos:start="1227:33" pos:end="1227:45"><expr pos:start="1227:33" pos:end="1227:45"><name pos:start="1227:33" pos:end="1227:45"><name pos:start="1227:33" pos:end="1227:33">s</name><operator pos:start="1227:34" pos:end="1227:35">-&gt;</operator><name pos:start="1227:36" pos:end="1227:45">uvlinesize</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="1229:17" pos:end="1237:47"><expr pos:start="1229:17" pos:end="1237:46"><name pos:start="1229:17" pos:end="1229:43"><name pos:start="1229:17" pos:end="1229:17">s</name><operator pos:start="1229:18" pos:end="1229:19">-&gt;</operator><name pos:start="1229:20" pos:end="1229:34">current_picture</name><operator pos:start="1229:35" pos:end="1229:35">.</operator><name pos:start="1229:36" pos:end="1229:40">error</name><index pos:start="1229:41" pos:end="1229:43">[<expr pos:start="1229:42" pos:end="1229:42"><literal type="number" pos:start="1229:42" pos:end="1229:42">2</literal></expr>]</index></name> <operator pos:start="1229:45" pos:end="1229:46">+=</operator> <call pos:start="1229:48" pos:end="1237:46"><name pos:start="1229:48" pos:end="1229:50">sse</name><argument_list pos:start="1229:51" pos:end="1237:46">(

                    <argument pos:start="1231:21" pos:end="1231:21"><expr pos:start="1231:21" pos:end="1231:21"><name pos:start="1231:21" pos:end="1231:21">s</name></expr></argument>,

                    <argument pos:start="1233:21" pos:end="1233:85"><expr pos:start="1233:21" pos:end="1233:85"><name pos:start="1233:21" pos:end="1233:46"><name pos:start="1233:21" pos:end="1233:21">s</name><operator pos:start="1233:22" pos:end="1233:23">-&gt;</operator><name pos:start="1233:24" pos:end="1233:34">new_picture</name>    <operator pos:start="1233:39" pos:end="1233:39">.</operator><name pos:start="1233:40" pos:end="1233:43">data</name><index pos:start="1233:44" pos:end="1233:46">[<expr pos:start="1233:45" pos:end="1233:45"><literal type="number" pos:start="1233:45" pos:end="1233:45">2</literal></expr>]</index></name> <operator pos:start="1233:48" pos:end="1233:48">+</operator> <name pos:start="1233:50" pos:end="1233:56"><name pos:start="1233:50" pos:end="1233:50">s</name><operator pos:start="1233:51" pos:end="1233:52">-&gt;</operator><name pos:start="1233:53" pos:end="1233:56">mb_x</name></name><operator pos:start="1233:57" pos:end="1233:57">*</operator><literal type="number" pos:start="1233:58" pos:end="1233:61">8</literal>  <operator pos:start="1233:61" pos:end="1233:61">+</operator> <name pos:start="1233:63" pos:end="1233:69"><name pos:start="1233:63" pos:end="1233:63">s</name><operator pos:start="1233:64" pos:end="1233:65">-&gt;</operator><name pos:start="1233:66" pos:end="1233:69">mb_y</name></name><operator pos:start="1233:70" pos:end="1233:70">*</operator><name pos:start="1233:71" pos:end="1233:83"><name pos:start="1233:71" pos:end="1233:71">s</name><operator pos:start="1233:72" pos:end="1233:73">-&gt;</operator><name pos:start="1233:74" pos:end="1233:83">uvlinesize</name></name><operator pos:start="1233:84" pos:end="1233:84">*</operator><literal type="number" pos:start="1233:85" pos:end="1233:85">8</literal></expr></argument>,

                    <argument pos:start="1235:21" pos:end="1235:85"><expr pos:start="1235:21" pos:end="1235:85"><name pos:start="1235:21" pos:end="1235:46"><name pos:start="1235:21" pos:end="1235:21">s</name><operator pos:start="1235:22" pos:end="1235:23">-&gt;</operator><name pos:start="1235:24" pos:end="1235:38">current_picture</name><operator pos:start="1235:39" pos:end="1235:39">.</operator><name pos:start="1235:40" pos:end="1235:43">data</name><index pos:start="1235:44" pos:end="1235:46">[<expr pos:start="1235:45" pos:end="1235:45"><literal type="number" pos:start="1235:45" pos:end="1235:45">2</literal></expr>]</index></name> <operator pos:start="1235:48" pos:end="1235:48">+</operator> <name pos:start="1235:50" pos:end="1235:56"><name pos:start="1235:50" pos:end="1235:50">s</name><operator pos:start="1235:51" pos:end="1235:52">-&gt;</operator><name pos:start="1235:53" pos:end="1235:56">mb_x</name></name><operator pos:start="1235:57" pos:end="1235:57">*</operator><literal type="number" pos:start="1235:58" pos:end="1235:61">8</literal>  <operator pos:start="1235:61" pos:end="1235:61">+</operator> <name pos:start="1235:63" pos:end="1235:69"><name pos:start="1235:63" pos:end="1235:63">s</name><operator pos:start="1235:64" pos:end="1235:65">-&gt;</operator><name pos:start="1235:66" pos:end="1235:69">mb_y</name></name><operator pos:start="1235:70" pos:end="1235:70">*</operator><name pos:start="1235:71" pos:end="1235:83"><name pos:start="1235:71" pos:end="1235:71">s</name><operator pos:start="1235:72" pos:end="1235:73">-&gt;</operator><name pos:start="1235:74" pos:end="1235:83">uvlinesize</name></name><operator pos:start="1235:84" pos:end="1235:84">*</operator><literal type="number" pos:start="1235:85" pos:end="1235:85">8</literal></expr></argument>,

                    <argument pos:start="1237:21" pos:end="1237:24"><expr pos:start="1237:21" pos:end="1237:24"><name pos:start="1237:21" pos:end="1237:21">w</name><operator pos:start="1237:22" pos:end="1237:23">&gt;&gt;</operator><literal type="number" pos:start="1237:24" pos:end="1237:24">1</literal></expr></argument>, <argument pos:start="1237:27" pos:end="1237:30"><expr pos:start="1237:27" pos:end="1237:30"><name pos:start="1237:27" pos:end="1237:27">h</name><operator pos:start="1237:28" pos:end="1237:29">&gt;&gt;</operator><literal type="number" pos:start="1237:30" pos:end="1237:30">1</literal></expr></argument>, <argument pos:start="1237:33" pos:end="1237:45"><expr pos:start="1237:33" pos:end="1237:45"><name pos:start="1237:33" pos:end="1237:45"><name pos:start="1237:33" pos:end="1237:33">s</name><operator pos:start="1237:34" pos:end="1237:35">-&gt;</operator><name pos:start="1237:36" pos:end="1237:45">uvlinesize</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>

<comment type="line" pos:start="1241:1" pos:end="1241:80">//printf("MB %d %d bits\n", s-&gt;mb_x+s-&gt;mb_y*s-&gt;mb_width, get_bit_count(&amp;s-&gt;pb));</comment>

        </block_content>}</block></for>





        <comment type="block" pos:start="1249:9" pos:end="1249:48">/* Obtain average mb_row size for RTP */</comment>

        <if_stmt pos:start="1251:9" pos:end="1265:9"><if pos:start="1251:9" pos:end="1265:9">if <condition pos:start="1251:12" pos:end="1251:24">(<expr pos:start="1251:13" pos:end="1251:23"><name pos:start="1251:13" pos:end="1251:23"><name pos:start="1251:13" pos:end="1251:13">s</name><operator pos:start="1251:14" pos:end="1251:15">-&gt;</operator><name pos:start="1251:16" pos:end="1251:23">rtp_mode</name></name></expr>)</condition> <block pos:start="1251:26" pos:end="1265:9">{<block_content pos:start="1253:13" pos:end="1263:51">

            <if_stmt pos:start="1253:13" pos:end="1261:13"><if pos:start="1253:13" pos:end="1255:76">if <condition pos:start="1253:16" pos:end="1253:24">(<expr pos:start="1253:17" pos:end="1253:23"><name pos:start="1253:17" pos:end="1253:20">mb_y</name><operator pos:start="1253:21" pos:end="1253:22">==</operator><literal type="number" pos:start="1253:23" pos:end="1253:23">0</literal></expr>)</condition><block type="pseudo" pos:start="1255:17" pos:end="1255:76"><block_content pos:start="1255:17" pos:end="1255:76">

                <expr_stmt pos:start="1255:17" pos:end="1255:76"><expr pos:start="1255:17" pos:end="1255:75"><name pos:start="1255:17" pos:end="1255:34"><name pos:start="1255:17" pos:end="1255:17">s</name><operator pos:start="1255:18" pos:end="1255:19">-&gt;</operator><name pos:start="1255:20" pos:end="1255:34">mb_line_avgsize</name></name> <operator pos:start="1255:36" pos:end="1255:36">=</operator> <call pos:start="1255:38" pos:end="1255:53"><name pos:start="1255:38" pos:end="1255:45">pbBufPtr</name><argument_list pos:start="1255:46" pos:end="1255:53">(<argument pos:start="1255:47" pos:end="1255:52"><expr pos:start="1255:47" pos:end="1255:52"><operator pos:start="1255:47" pos:end="1255:47">&amp;</operator><name pos:start="1255:48" pos:end="1255:52"><name pos:start="1255:48" pos:end="1255:48">s</name><operator pos:start="1255:49" pos:end="1255:50">-&gt;</operator><name pos:start="1255:51" pos:end="1255:52">pb</name></name></expr></argument>)</argument_list></call> <operator pos:start="1255:55" pos:end="1255:55">-</operator> <name pos:start="1255:57" pos:end="1255:75"><name pos:start="1255:57" pos:end="1255:57">s</name><operator pos:start="1255:58" pos:end="1255:59">-&gt;</operator><name pos:start="1255:60" pos:end="1255:75">ptr_last_mb_line</name></name></expr>;</expr_stmt></block_content></block></if>

            <else pos:start="1257:13" pos:end="1261:13">else <block pos:start="1257:18" pos:end="1261:13">{<block_content pos:start="1259:17" pos:end="1259:104">    

                <expr_stmt pos:start="1259:17" pos:end="1259:104"><expr pos:start="1259:17" pos:end="1259:103"><name pos:start="1259:17" pos:end="1259:34"><name pos:start="1259:17" pos:end="1259:17">s</name><operator pos:start="1259:18" pos:end="1259:19">-&gt;</operator><name pos:start="1259:20" pos:end="1259:34">mb_line_avgsize</name></name> <operator pos:start="1259:36" pos:end="1259:36">=</operator> <operator pos:start="1259:38" pos:end="1259:38">(</operator><name pos:start="1259:39" pos:end="1259:56"><name pos:start="1259:39" pos:end="1259:39">s</name><operator pos:start="1259:40" pos:end="1259:41">-&gt;</operator><name pos:start="1259:42" pos:end="1259:56">mb_line_avgsize</name></name> <operator pos:start="1259:58" pos:end="1259:58">+</operator> <call pos:start="1259:60" pos:end="1259:75"><name pos:start="1259:60" pos:end="1259:67">pbBufPtr</name><argument_list pos:start="1259:68" pos:end="1259:75">(<argument pos:start="1259:69" pos:end="1259:74"><expr pos:start="1259:69" pos:end="1259:74"><operator pos:start="1259:69" pos:end="1259:69">&amp;</operator><name pos:start="1259:70" pos:end="1259:74"><name pos:start="1259:70" pos:end="1259:70">s</name><operator pos:start="1259:71" pos:end="1259:72">-&gt;</operator><name pos:start="1259:73" pos:end="1259:74">pb</name></name></expr></argument>)</argument_list></call> <operator pos:start="1259:77" pos:end="1259:77">-</operator> <name pos:start="1259:79" pos:end="1259:97"><name pos:start="1259:79" pos:end="1259:79">s</name><operator pos:start="1259:80" pos:end="1259:81">-&gt;</operator><name pos:start="1259:82" pos:end="1259:97">ptr_last_mb_line</name></name><operator pos:start="1259:98" pos:end="1259:98">)</operator> <operator pos:start="1259:100" pos:end="1259:101">&gt;&gt;</operator> <literal type="number" pos:start="1259:103" pos:end="1259:103">1</literal></expr>;</expr_stmt>

            </block_content>}</block></else></if_stmt>

            <expr_stmt pos:start="1263:13" pos:end="1263:51"><expr pos:start="1263:13" pos:end="1263:50"><name pos:start="1263:13" pos:end="1263:31"><name pos:start="1263:13" pos:end="1263:13">s</name><operator pos:start="1263:14" pos:end="1263:15">-&gt;</operator><name pos:start="1263:16" pos:end="1263:31">ptr_last_mb_line</name></name> <operator pos:start="1263:33" pos:end="1263:33">=</operator> <call pos:start="1263:35" pos:end="1263:50"><name pos:start="1263:35" pos:end="1263:42">pbBufPtr</name><argument_list pos:start="1263:43" pos:end="1263:50">(<argument pos:start="1263:44" pos:end="1263:49"><expr pos:start="1263:44" pos:end="1263:49"><operator pos:start="1263:44" pos:end="1263:44">&amp;</operator><name pos:start="1263:45" pos:end="1263:49"><name pos:start="1263:45" pos:end="1263:45">s</name><operator pos:start="1263:46" pos:end="1263:47">-&gt;</operator><name pos:start="1263:48" pos:end="1263:49">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></for>

    <expr_stmt pos:start="1269:5" pos:end="1274:0"><expr pos:start="1269:5" pos:end="1269:12"><call pos:start="1269:5" pos:end="1269:12"><name pos:start="1269:5" pos:end="1269:10">emms_c</name><argument_list pos:start="1269:11" pos:end="1269:12">()</argument_list></call></expr>;</expr_stmt>



<cpp:ifdef pos:start="1273:1" pos:end="1273:19">#<cpp:directive pos:start="1273:2" pos:end="1273:6">ifdef</cpp:directive> <name pos:start="1273:8" pos:end="1273:19">CONFIG_RISKY</name></cpp:ifdef>

    <if_stmt pos:start="1275:5" pos:end="1277:37"><if pos:start="1275:5" pos:end="1277:37">if<condition pos:start="1275:7" pos:end="1275:59">(<expr pos:start="1275:8" pos:end="1275:58"><name pos:start="1275:8" pos:end="1275:18"><name pos:start="1275:8" pos:end="1275:8">s</name><operator pos:start="1275:9" pos:end="1275:10">-&gt;</operator><name pos:start="1275:11" pos:end="1275:18">codec_id</name></name><operator pos:start="1275:19" pos:end="1275:20">==</operator><name pos:start="1275:21" pos:end="1275:34">CODEC_ID_MPEG4</name> <operator pos:start="1275:36" pos:end="1275:37">&amp;&amp;</operator> <name pos:start="1275:39" pos:end="1275:58"><name pos:start="1275:39" pos:end="1275:39">s</name><operator pos:start="1275:40" pos:end="1275:41">-&gt;</operator><name pos:start="1275:42" pos:end="1275:58">partitioned_frame</name></name></expr>)</condition><block type="pseudo" pos:start="1277:9" pos:end="1277:37"><block_content pos:start="1277:9" pos:end="1277:37">

        <expr_stmt pos:start="1277:9" pos:end="1277:37"><expr pos:start="1277:9" pos:end="1277:36"><call pos:start="1277:9" pos:end="1277:36"><name pos:start="1277:9" pos:end="1277:33">ff_mpeg4_merge_partitions</name><argument_list pos:start="1277:34" pos:end="1277:36">(<argument pos:start="1277:35" pos:end="1277:35"><expr pos:start="1277:35" pos:end="1277:35"><name pos:start="1277:35" pos:end="1277:35">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>



    <if_stmt pos:start="1281:5" pos:end="1283:37"><if pos:start="1281:5" pos:end="1283:37">if <condition pos:start="1281:8" pos:end="1281:77">(<expr pos:start="1281:9" pos:end="1281:76"><name pos:start="1281:9" pos:end="1281:26"><name pos:start="1281:9" pos:end="1281:9">s</name><operator pos:start="1281:10" pos:end="1281:11">-&gt;</operator><name pos:start="1281:12" pos:end="1281:26">msmpeg4_version</name></name> <operator pos:start="1281:28" pos:end="1281:29">&amp;&amp;</operator> <name pos:start="1281:31" pos:end="1281:48"><name pos:start="1281:31" pos:end="1281:31">s</name><operator pos:start="1281:32" pos:end="1281:33">-&gt;</operator><name pos:start="1281:34" pos:end="1281:48">msmpeg4_version</name></name><operator pos:start="1281:49" pos:end="1281:49">&lt;</operator><literal type="number" pos:start="1281:50" pos:end="1281:50">4</literal> <operator pos:start="1281:52" pos:end="1281:53">&amp;&amp;</operator> <name pos:start="1281:55" pos:end="1281:66"><name pos:start="1281:55" pos:end="1281:55">s</name><operator pos:start="1281:56" pos:end="1281:57">-&gt;</operator><name pos:start="1281:58" pos:end="1281:66">pict_type</name></name> <operator pos:start="1281:68" pos:end="1281:69">==</operator> <name pos:start="1281:71" pos:end="1281:76">I_TYPE</name></expr>)</condition><block type="pseudo" pos:start="1283:9" pos:end="1283:37"><block_content pos:start="1283:9" pos:end="1283:37">

        <expr_stmt pos:start="1283:9" pos:end="1283:37"><expr pos:start="1283:9" pos:end="1283:36"><call pos:start="1283:9" pos:end="1283:36"><name pos:start="1283:9" pos:end="1283:33">msmpeg4_encode_ext_header</name><argument_list pos:start="1283:34" pos:end="1283:36">(<argument pos:start="1283:35" pos:end="1283:35"><expr pos:start="1283:35" pos:end="1283:35"><name pos:start="1283:35" pos:end="1283:35">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>



    <if_stmt pos:start="1287:5" pos:end="1292:0"><if pos:start="1287:5" pos:end="1292:0">if<condition pos:start="1287:7" pos:end="1287:35">(<expr pos:start="1287:8" pos:end="1287:34"><name pos:start="1287:8" pos:end="1287:18"><name pos:start="1287:8" pos:end="1287:8">s</name><operator pos:start="1287:9" pos:end="1287:10">-&gt;</operator><name pos:start="1287:11" pos:end="1287:18">codec_id</name></name><operator pos:start="1287:19" pos:end="1287:20">==</operator><name pos:start="1287:21" pos:end="1287:34">CODEC_ID_MPEG4</name></expr>)</condition><block type="pseudo" pos:start="1289:9" pos:end="1292:0"><block_content pos:start="1289:9" pos:end="1292:0"> 

        <expr_stmt pos:start="1289:9" pos:end="1292:0"><expr pos:start="1289:9" pos:end="1289:33"><call pos:start="1289:9" pos:end="1289:33"><name pos:start="1289:9" pos:end="1289:25">ff_mpeg4_stuffing</name><argument_list pos:start="1289:26" pos:end="1289:33">(<argument pos:start="1289:27" pos:end="1289:32"><expr pos:start="1289:27" pos:end="1289:32"><operator pos:start="1289:27" pos:end="1289:27">&amp;</operator><name pos:start="1289:28" pos:end="1289:32"><name pos:start="1289:28" pos:end="1289:28">s</name><operator pos:start="1289:29" pos:end="1289:30">-&gt;</operator><name pos:start="1289:31" pos:end="1289:32">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

<cpp:endif pos:start="1291:1" pos:end="1291:6">#<cpp:directive pos:start="1291:2" pos:end="1291:6">endif</cpp:directive></cpp:endif>



    <comment type="line" pos:start="1295:5" pos:end="1295:24">//if (s-&gt;gob_number)</comment>

    <comment type="line" pos:start="1297:5" pos:end="1297:63">//    fprintf(stderr,"\nNumber of GOB: %d", s-&gt;gob_number);</comment>

    

    <comment type="block" pos:start="1301:5" pos:end="1301:34">/* Send the last GOB if RTP */</comment>    

    <if_stmt pos:start="1303:5" pos:end="1319:5"><if pos:start="1303:5" pos:end="1319:5">if <condition pos:start="1303:8" pos:end="1303:20">(<expr pos:start="1303:9" pos:end="1303:19"><name pos:start="1303:9" pos:end="1303:19"><name pos:start="1303:9" pos:end="1303:9">s</name><operator pos:start="1303:10" pos:end="1303:11">-&gt;</operator><name pos:start="1303:12" pos:end="1303:19">rtp_mode</name></name></expr>)</condition> <block pos:start="1303:22" pos:end="1319:5">{<block_content pos:start="1305:9" pos:end="1315:42">

        <expr_stmt pos:start="1305:9" pos:end="1305:31"><expr pos:start="1305:9" pos:end="1305:30"><call pos:start="1305:9" pos:end="1305:30"><name pos:start="1305:9" pos:end="1305:22">flush_put_bits</name><argument_list pos:start="1305:23" pos:end="1305:30">(<argument pos:start="1305:24" pos:end="1305:29"><expr pos:start="1305:24" pos:end="1305:29"><operator pos:start="1305:24" pos:end="1305:24">&amp;</operator><name pos:start="1305:25" pos:end="1305:29"><name pos:start="1305:25" pos:end="1305:25">s</name><operator pos:start="1305:26" pos:end="1305:27">-&gt;</operator><name pos:start="1305:28" pos:end="1305:29">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="1307:9" pos:end="1307:49"><expr pos:start="1307:9" pos:end="1307:48"><name pos:start="1307:9" pos:end="1307:12">pdif</name> <operator pos:start="1307:14" pos:end="1307:14">=</operator> <call pos:start="1307:16" pos:end="1307:31"><name pos:start="1307:16" pos:end="1307:23">pbBufPtr</name><argument_list pos:start="1307:24" pos:end="1307:31">(<argument pos:start="1307:25" pos:end="1307:30"><expr pos:start="1307:25" pos:end="1307:30"><operator pos:start="1307:25" pos:end="1307:25">&amp;</operator><name pos:start="1307:26" pos:end="1307:30"><name pos:start="1307:26" pos:end="1307:26">s</name><operator pos:start="1307:27" pos:end="1307:28">-&gt;</operator><name pos:start="1307:29" pos:end="1307:30">pb</name></name></expr></argument>)</argument_list></call> <operator pos:start="1307:33" pos:end="1307:33">-</operator> <name pos:start="1307:35" pos:end="1307:48"><name pos:start="1307:35" pos:end="1307:35">s</name><operator pos:start="1307:36" pos:end="1307:37">-&gt;</operator><name pos:start="1307:38" pos:end="1307:48">ptr_lastgob</name></name></expr>;</expr_stmt>

        <comment type="block" pos:start="1309:9" pos:end="1309:56">/* Call the RTP callback to send the last GOB */</comment>

        <if_stmt pos:start="1311:9" pos:end="1313:65"><if pos:start="1311:9" pos:end="1313:65">if <condition pos:start="1311:12" pos:end="1311:28">(<expr pos:start="1311:13" pos:end="1311:27"><name pos:start="1311:13" pos:end="1311:27"><name pos:start="1311:13" pos:end="1311:13">s</name><operator pos:start="1311:14" pos:end="1311:15">-&gt;</operator><name pos:start="1311:16" pos:end="1311:27">rtp_callback</name></name></expr>)</condition><block type="pseudo" pos:start="1313:13" pos:end="1313:65"><block_content pos:start="1313:13" pos:end="1313:65">

            <expr_stmt pos:start="1313:13" pos:end="1313:65"><expr pos:start="1313:13" pos:end="1313:64"><call pos:start="1313:13" pos:end="1313:64"><name pos:start="1313:13" pos:end="1313:27"><name pos:start="1313:13" pos:end="1313:13">s</name><operator pos:start="1313:14" pos:end="1313:15">-&gt;</operator><name pos:start="1313:16" pos:end="1313:27">rtp_callback</name></name><argument_list pos:start="1313:28" pos:end="1313:64">(<argument pos:start="1313:29" pos:end="1313:42"><expr pos:start="1313:29" pos:end="1313:42"><name pos:start="1313:29" pos:end="1313:42"><name pos:start="1313:29" pos:end="1313:29">s</name><operator pos:start="1313:30" pos:end="1313:31">-&gt;</operator><name pos:start="1313:32" pos:end="1313:42">ptr_lastgob</name></name></expr></argument>, <argument pos:start="1313:45" pos:end="1313:48"><expr pos:start="1313:45" pos:end="1313:48"><name pos:start="1313:45" pos:end="1313:48">pdif</name></expr></argument>, <argument pos:start="1313:51" pos:end="1313:63"><expr pos:start="1313:51" pos:end="1313:63"><name pos:start="1313:51" pos:end="1313:63"><name pos:start="1313:51" pos:end="1313:51">s</name><operator pos:start="1313:52" pos:end="1313:53">-&gt;</operator><name pos:start="1313:54" pos:end="1313:63">gob_number</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

        <expr_stmt pos:start="1315:9" pos:end="1315:42"><expr pos:start="1315:9" pos:end="1315:41"><name pos:start="1315:9" pos:end="1315:22"><name pos:start="1315:9" pos:end="1315:9">s</name><operator pos:start="1315:10" pos:end="1315:11">-&gt;</operator><name pos:start="1315:12" pos:end="1315:22">ptr_lastgob</name></name> <operator pos:start="1315:24" pos:end="1315:24">=</operator> <call pos:start="1315:26" pos:end="1315:41"><name pos:start="1315:26" pos:end="1315:33">pbBufPtr</name><argument_list pos:start="1315:34" pos:end="1315:41">(<argument pos:start="1315:35" pos:end="1315:40"><expr pos:start="1315:35" pos:end="1315:40"><operator pos:start="1315:35" pos:end="1315:35">&amp;</operator><name pos:start="1315:36" pos:end="1315:40"><name pos:start="1315:36" pos:end="1315:36">s</name><operator pos:start="1315:37" pos:end="1315:38">-&gt;</operator><name pos:start="1315:39" pos:end="1315:40">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <comment type="line" pos:start="1317:9" pos:end="1317:76">//fprintf(stderr,"\nGOB: %2d size: %d (last)", s-&gt;gob_number, pdif);</comment>

    </block_content>}</block></if></if_stmt>

</block_content>}</block></function>
</unit>
