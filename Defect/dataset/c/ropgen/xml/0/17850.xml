<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/17850.c" pos:tabs="8"><function pos:start="1:1" pos:end="87:1"><type pos:start="1:1" pos:end="1:27"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:23">av_always_inline</name> <name pos:start="1:25" pos:end="1:27">int</name></type> <name pos:start="1:29" pos:end="1:41">process_frame</name><parameter_list pos:start="1:42" pos:end="5:72">(<parameter pos:start="1:43" pos:end="1:58"><decl pos:start="1:43" pos:end="1:58"><type pos:start="1:43" pos:end="1:58"><name pos:start="1:43" pos:end="1:55">WriterContext</name> <modifier pos:start="1:57" pos:end="1:57">*</modifier></type><name pos:start="1:58" pos:end="1:58">w</name></decl></parameter>,

                                          <parameter pos:start="3:43" pos:end="3:58"><decl pos:start="3:43" pos:end="3:58"><type pos:start="3:43" pos:end="3:58"><name pos:start="3:43" pos:end="3:51">InputFile</name> <modifier pos:start="3:53" pos:end="3:53">*</modifier></type><name pos:start="3:54" pos:end="3:58">ifile</name></decl></parameter>,

                                          <parameter pos:start="5:43" pos:end="5:56"><decl pos:start="5:43" pos:end="5:56"><type pos:start="5:43" pos:end="5:56"><name pos:start="5:43" pos:end="5:49">AVFrame</name> <modifier pos:start="5:51" pos:end="5:51">*</modifier></type><name pos:start="5:52" pos:end="5:56">frame</name></decl></parameter>, <parameter pos:start="5:59" pos:end="5:71"><decl pos:start="5:59" pos:end="5:71"><type pos:start="5:59" pos:end="5:71"><name pos:start="5:59" pos:end="5:66">AVPacket</name> <modifier pos:start="5:68" pos:end="5:68">*</modifier></type><name pos:start="5:69" pos:end="5:71">pkt</name></decl></parameter>)</parameter_list>

<block pos:start="7:1" pos:end="87:1">{<block_content pos:start="9:5" pos:end="85:21">

    <decl_stmt pos:start="9:5" pos:end="9:46"><decl pos:start="9:5" pos:end="9:45"><type pos:start="9:5" pos:end="9:21"><name pos:start="9:5" pos:end="9:19">AVFormatContext</name> <modifier pos:start="9:21" pos:end="9:21">*</modifier></type><name pos:start="9:22" pos:end="9:28">fmt_ctx</name> <init pos:start="9:30" pos:end="9:45">= <expr pos:start="9:32" pos:end="9:45"><name pos:start="9:32" pos:end="9:45"><name pos:start="9:32" pos:end="9:36">ifile</name><operator pos:start="9:37" pos:end="9:38">-&gt;</operator><name pos:start="9:39" pos:end="9:45">fmt_ctx</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:72"><decl pos:start="11:5" pos:end="11:71"><type pos:start="11:5" pos:end="11:20"><name pos:start="11:5" pos:end="11:18">AVCodecContext</name> <modifier pos:start="11:20" pos:end="11:20">*</modifier></type><name pos:start="11:21" pos:end="11:27">dec_ctx</name> <init pos:start="11:29" pos:end="11:71">= <expr pos:start="11:31" pos:end="11:71"><name pos:start="11:31" pos:end="11:63"><name pos:start="11:31" pos:end="11:35">ifile</name><operator pos:start="11:36" pos:end="11:37">-&gt;</operator><name pos:start="11:38" pos:end="11:44">streams</name><index pos:start="11:45" pos:end="11:63">[<expr pos:start="11:46" pos:end="11:62"><name pos:start="11:46" pos:end="11:62"><name pos:start="11:46" pos:end="11:48">pkt</name><operator pos:start="11:49" pos:end="11:50">-&gt;</operator><name pos:start="11:51" pos:end="11:62">stream_index</name></name></expr>]</index></name><operator pos:start="11:64" pos:end="11:64">.</operator><name pos:start="11:65" pos:end="11:71">dec_ctx</name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:76"><decl pos:start="13:5" pos:end="13:75"><type pos:start="13:5" pos:end="13:23"><name pos:start="13:5" pos:end="13:21">AVCodecParameters</name> <modifier pos:start="13:23" pos:end="13:23">*</modifier></type><name pos:start="13:24" pos:end="13:26">par</name> <init pos:start="13:28" pos:end="13:75">= <expr pos:start="13:30" pos:end="13:75"><name pos:start="13:30" pos:end="13:62"><name pos:start="13:30" pos:end="13:34">ifile</name><operator pos:start="13:35" pos:end="13:36">-&gt;</operator><name pos:start="13:37" pos:end="13:43">streams</name><index pos:start="13:44" pos:end="13:62">[<expr pos:start="13:45" pos:end="13:61"><name pos:start="13:45" pos:end="13:61"><name pos:start="13:45" pos:end="13:47">pkt</name><operator pos:start="13:48" pos:end="13:49">-&gt;</operator><name pos:start="13:50" pos:end="13:61">stream_index</name></name></expr>]</index></name><operator pos:start="13:63" pos:end="13:63">.</operator><name pos:start="13:64" pos:end="13:75"><name pos:start="13:64" pos:end="13:65">st</name><operator pos:start="13:66" pos:end="13:67">-&gt;</operator><name pos:start="13:68" pos:end="13:75">codecpar</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="15:19"><decl pos:start="15:5" pos:end="15:18"><type pos:start="15:5" pos:end="15:14"><name pos:start="15:5" pos:end="15:14">AVSubtitle</name></type> <name pos:start="15:16" pos:end="15:18">sub</name></decl>;</decl_stmt>

    <decl_stmt pos:start="17:5" pos:end="17:31"><decl pos:start="17:5" pos:end="17:15"><type pos:start="17:5" pos:end="17:7"><name pos:start="17:5" pos:end="17:7">int</name></type> <name pos:start="17:9" pos:end="17:11">ret</name> <init pos:start="17:13" pos:end="17:15">= <expr pos:start="17:15" pos:end="17:15"><literal type="number" pos:start="17:15" pos:end="17:15">0</literal></expr></init></decl>, <decl pos:start="17:18" pos:end="17:30"><type ref="prev" pos:start="17:5" pos:end="17:7"/><name pos:start="17:18" pos:end="17:26">got_frame</name> <init pos:start="17:28" pos:end="17:30">= <expr pos:start="17:30" pos:end="17:30"><literal type="number" pos:start="17:30" pos:end="17:30">0</literal></expr></init></decl>;</decl_stmt>



    <if_stmt pos:start="21:5" pos:end="49:5"><if pos:start="21:5" pos:end="49:5">if <condition pos:start="21:8" pos:end="21:23">(<expr pos:start="21:9" pos:end="21:22"><name pos:start="21:9" pos:end="21:22"><name pos:start="21:9" pos:end="21:15">dec_ctx</name><operator pos:start="21:16" pos:end="21:17">-&gt;</operator><name pos:start="21:18" pos:end="21:22">codec</name></name></expr>)</condition> <block pos:start="21:25" pos:end="49:5">{<block_content pos:start="23:9" pos:end="47:9">

        <switch pos:start="23:9" pos:end="47:9">switch <condition pos:start="23:16" pos:end="23:32">(<expr pos:start="23:17" pos:end="23:31"><name pos:start="23:17" pos:end="23:31"><name pos:start="23:17" pos:end="23:19">par</name><operator pos:start="23:20" pos:end="23:21">-&gt;</operator><name pos:start="23:22" pos:end="23:31">codec_type</name></name></expr>)</condition> <block pos:start="23:34" pos:end="47:9">{<block_content pos:start="25:9" pos:end="45:18">

        <case pos:start="25:9" pos:end="25:32">case <expr pos:start="25:14" pos:end="25:31"><name pos:start="25:14" pos:end="25:31">AVMEDIA_TYPE_VIDEO</name></expr>:</case>

            <expr_stmt pos:start="27:13" pos:end="27:73"><expr pos:start="27:13" pos:end="27:72"><name pos:start="27:13" pos:end="27:15">ret</name> <operator pos:start="27:17" pos:end="27:17">=</operator> <call pos:start="27:19" pos:end="27:72"><name pos:start="27:19" pos:end="27:39">avcodec_decode_video2</name><argument_list pos:start="27:40" pos:end="27:72">(<argument pos:start="27:41" pos:end="27:47"><expr pos:start="27:41" pos:end="27:47"><name pos:start="27:41" pos:end="27:47">dec_ctx</name></expr></argument>, <argument pos:start="27:50" pos:end="27:54"><expr pos:start="27:50" pos:end="27:54"><name pos:start="27:50" pos:end="27:54">frame</name></expr></argument>, <argument pos:start="27:57" pos:end="27:66"><expr pos:start="27:57" pos:end="27:66"><operator pos:start="27:57" pos:end="27:57">&amp;</operator><name pos:start="27:58" pos:end="27:66">got_frame</name></expr></argument>, <argument pos:start="27:69" pos:end="27:71"><expr pos:start="27:69" pos:end="27:71"><name pos:start="27:69" pos:end="27:71">pkt</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <break pos:start="29:13" pos:end="29:18">break;</break>



        <case pos:start="33:9" pos:end="33:32">case <expr pos:start="33:14" pos:end="33:31"><name pos:start="33:14" pos:end="33:31">AVMEDIA_TYPE_AUDIO</name></expr>:</case>

            <expr_stmt pos:start="35:13" pos:end="35:73"><expr pos:start="35:13" pos:end="35:72"><name pos:start="35:13" pos:end="35:15">ret</name> <operator pos:start="35:17" pos:end="35:17">=</operator> <call pos:start="35:19" pos:end="35:72"><name pos:start="35:19" pos:end="35:39">avcodec_decode_audio4</name><argument_list pos:start="35:40" pos:end="35:72">(<argument pos:start="35:41" pos:end="35:47"><expr pos:start="35:41" pos:end="35:47"><name pos:start="35:41" pos:end="35:47">dec_ctx</name></expr></argument>, <argument pos:start="35:50" pos:end="35:54"><expr pos:start="35:50" pos:end="35:54"><name pos:start="35:50" pos:end="35:54">frame</name></expr></argument>, <argument pos:start="35:57" pos:end="35:66"><expr pos:start="35:57" pos:end="35:66"><operator pos:start="35:57" pos:end="35:57">&amp;</operator><name pos:start="35:58" pos:end="35:66">got_frame</name></expr></argument>, <argument pos:start="35:69" pos:end="35:71"><expr pos:start="35:69" pos:end="35:71"><name pos:start="35:69" pos:end="35:71">pkt</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <break pos:start="37:13" pos:end="37:18">break;</break>



        <case pos:start="41:9" pos:end="41:35">case <expr pos:start="41:14" pos:end="41:34"><name pos:start="41:14" pos:end="41:34">AVMEDIA_TYPE_SUBTITLE</name></expr>:</case>

            <expr_stmt pos:start="43:13" pos:end="43:75"><expr pos:start="43:13" pos:end="43:74"><name pos:start="43:13" pos:end="43:15">ret</name> <operator pos:start="43:17" pos:end="43:17">=</operator> <call pos:start="43:19" pos:end="43:74"><name pos:start="43:19" pos:end="43:42">avcodec_decode_subtitle2</name><argument_list pos:start="43:43" pos:end="43:74">(<argument pos:start="43:44" pos:end="43:50"><expr pos:start="43:44" pos:end="43:50"><name pos:start="43:44" pos:end="43:50">dec_ctx</name></expr></argument>, <argument pos:start="43:53" pos:end="43:56"><expr pos:start="43:53" pos:end="43:56"><operator pos:start="43:53" pos:end="43:53">&amp;</operator><name pos:start="43:54" pos:end="43:56">sub</name></expr></argument>, <argument pos:start="43:59" pos:end="43:68"><expr pos:start="43:59" pos:end="43:68"><operator pos:start="43:59" pos:end="43:59">&amp;</operator><name pos:start="43:60" pos:end="43:68">got_frame</name></expr></argument>, <argument pos:start="43:71" pos:end="43:73"><expr pos:start="43:71" pos:end="43:73"><name pos:start="43:71" pos:end="43:73">pkt</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <break pos:start="45:13" pos:end="45:18">break;</break>

        </block_content>}</block></switch>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="53:5" pos:end="55:19"><if pos:start="53:5" pos:end="55:19">if <condition pos:start="53:8" pos:end="53:16">(<expr pos:start="53:9" pos:end="53:15"><name pos:start="53:9" pos:end="53:11">ret</name> <operator pos:start="53:13" pos:end="53:13">&lt;</operator> <literal type="number" pos:start="53:15" pos:end="53:15">0</literal></expr>)</condition><block type="pseudo" pos:start="55:9" pos:end="55:19"><block_content pos:start="55:9" pos:end="55:19">

        <return pos:start="55:9" pos:end="55:19">return <expr pos:start="55:16" pos:end="55:18"><name pos:start="55:16" pos:end="55:18">ret</name></expr>;</return></block_content></block></if></if_stmt>

    <expr_stmt pos:start="57:5" pos:end="57:32"><expr pos:start="57:5" pos:end="57:31"><name pos:start="57:5" pos:end="57:7">ret</name> <operator pos:start="57:9" pos:end="57:9">=</operator> <call pos:start="57:11" pos:end="57:31"><name pos:start="57:11" pos:end="57:15">FFMIN</name><argument_list pos:start="57:16" pos:end="57:31">(<argument pos:start="57:17" pos:end="57:19"><expr pos:start="57:17" pos:end="57:19"><name pos:start="57:17" pos:end="57:19">ret</name></expr></argument>, <argument pos:start="57:22" pos:end="57:30"><expr pos:start="57:22" pos:end="57:30"><name pos:start="57:22" pos:end="57:30"><name pos:start="57:22" pos:end="57:24">pkt</name><operator pos:start="57:25" pos:end="57:26">-&gt;</operator><name pos:start="57:27" pos:end="57:30">size</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt> <comment type="block" pos:start="57:34" pos:end="57:72">/* guard against bogus return values */</comment>

    <expr_stmt pos:start="59:5" pos:end="59:21"><expr pos:start="59:5" pos:end="59:20"><name pos:start="59:5" pos:end="59:13"><name pos:start="59:5" pos:end="59:7">pkt</name><operator pos:start="59:8" pos:end="59:9">-&gt;</operator><name pos:start="59:10" pos:end="59:13">data</name></name> <operator pos:start="59:15" pos:end="59:16">+=</operator> <name pos:start="59:18" pos:end="59:20">ret</name></expr>;</expr_stmt>

    <expr_stmt pos:start="61:5" pos:end="61:21"><expr pos:start="61:5" pos:end="61:20"><name pos:start="61:5" pos:end="61:13"><name pos:start="61:5" pos:end="61:7">pkt</name><operator pos:start="61:8" pos:end="61:9">-&gt;</operator><name pos:start="61:10" pos:end="61:13">size</name></name> <operator pos:start="61:15" pos:end="61:16">-=</operator> <name pos:start="61:18" pos:end="61:20">ret</name></expr>;</expr_stmt>

    <if_stmt pos:start="63:5" pos:end="83:5"><if pos:start="63:5" pos:end="83:5">if <condition pos:start="63:8" pos:end="63:18">(<expr pos:start="63:9" pos:end="63:17"><name pos:start="63:9" pos:end="63:17">got_frame</name></expr>)</condition> <block pos:start="63:20" pos:end="83:5">{<block_content pos:start="65:9" pos:end="81:34">

        <decl_stmt pos:start="65:9" pos:end="65:64"><decl pos:start="65:9" pos:end="65:63"><type pos:start="65:9" pos:end="65:11"><name pos:start="65:9" pos:end="65:11">int</name></type> <name pos:start="65:13" pos:end="65:18">is_sub</name> <init pos:start="65:20" pos:end="65:63">= <expr pos:start="65:22" pos:end="65:63"><operator pos:start="65:22" pos:end="65:22">(</operator><name pos:start="65:23" pos:end="65:37"><name pos:start="65:23" pos:end="65:25">par</name><operator pos:start="65:26" pos:end="65:27">-&gt;</operator><name pos:start="65:28" pos:end="65:37">codec_type</name></name> <operator pos:start="65:39" pos:end="65:40">==</operator> <name pos:start="65:42" pos:end="65:62">AVMEDIA_TYPE_SUBTITLE</name><operator pos:start="65:63" pos:end="65:63">)</operator></expr></init></decl>;</decl_stmt>

        <expr_stmt pos:start="67:9" pos:end="67:47"><expr pos:start="67:9" pos:end="67:46"><name pos:start="67:9" pos:end="67:44"><name pos:start="67:9" pos:end="67:25">nb_streams_frames</name><index pos:start="67:26" pos:end="67:44">[<expr pos:start="67:27" pos:end="67:43"><name pos:start="67:27" pos:end="67:43"><name pos:start="67:27" pos:end="67:29">pkt</name><operator pos:start="67:30" pos:end="67:31">-&gt;</operator><name pos:start="67:32" pos:end="67:43">stream_index</name></name></expr>]</index></name><operator pos:start="67:45" pos:end="67:46">++</operator></expr>;</expr_stmt>

        <if_stmt pos:start="69:9" pos:end="77:84"><if pos:start="69:9" pos:end="77:84">if <condition pos:start="69:12" pos:end="69:27">(<expr pos:start="69:13" pos:end="69:26"><name pos:start="69:13" pos:end="69:26">do_show_frames</name></expr>)</condition><block type="pseudo" pos:start="71:13" pos:end="77:84"><block_content pos:start="71:13" pos:end="77:84">

            <if_stmt pos:start="71:13" pos:end="77:84"><if pos:start="71:13" pos:end="73:86">if <condition pos:start="71:16" pos:end="71:23">(<expr pos:start="71:17" pos:end="71:22"><name pos:start="71:17" pos:end="71:22">is_sub</name></expr>)</condition><block type="pseudo" pos:start="73:17" pos:end="73:86"><block_content pos:start="73:17" pos:end="73:86">

                <expr_stmt pos:start="73:17" pos:end="73:86"><expr pos:start="73:17" pos:end="73:85"><call pos:start="73:17" pos:end="73:85"><name pos:start="73:17" pos:end="73:29">show_subtitle</name><argument_list pos:start="73:30" pos:end="73:85">(<argument pos:start="73:31" pos:end="73:31"><expr pos:start="73:31" pos:end="73:31"><name pos:start="73:31" pos:end="73:31">w</name></expr></argument>, <argument pos:start="73:34" pos:end="73:37"><expr pos:start="73:34" pos:end="73:37"><operator pos:start="73:34" pos:end="73:34">&amp;</operator><name pos:start="73:35" pos:end="73:37">sub</name></expr></argument>, <argument pos:start="73:40" pos:end="73:75"><expr pos:start="73:40" pos:end="73:75"><name pos:start="73:40" pos:end="73:72"><name pos:start="73:40" pos:end="73:44">ifile</name><operator pos:start="73:45" pos:end="73:46">-&gt;</operator><name pos:start="73:47" pos:end="73:53">streams</name><index pos:start="73:54" pos:end="73:72">[<expr pos:start="73:55" pos:end="73:71"><name pos:start="73:55" pos:end="73:71"><name pos:start="73:55" pos:end="73:57">pkt</name><operator pos:start="73:58" pos:end="73:59">-&gt;</operator><name pos:start="73:60" pos:end="73:71">stream_index</name></name></expr>]</index></name><operator pos:start="73:73" pos:end="73:73">.</operator><name pos:start="73:74" pos:end="73:75">st</name></expr></argument>, <argument pos:start="73:78" pos:end="73:84"><expr pos:start="73:78" pos:end="73:84"><name pos:start="73:78" pos:end="73:84">fmt_ctx</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if>

            <else pos:start="75:13" pos:end="77:84">else<block type="pseudo" pos:start="77:17" pos:end="77:84"><block_content pos:start="77:17" pos:end="77:84">

                <expr_stmt pos:start="77:17" pos:end="77:84"><expr pos:start="77:17" pos:end="77:83"><call pos:start="77:17" pos:end="77:83"><name pos:start="77:17" pos:end="77:26">show_frame</name><argument_list pos:start="77:27" pos:end="77:83">(<argument pos:start="77:28" pos:end="77:28"><expr pos:start="77:28" pos:end="77:28"><name pos:start="77:28" pos:end="77:28">w</name></expr></argument>, <argument pos:start="77:31" pos:end="77:35"><expr pos:start="77:31" pos:end="77:35"><name pos:start="77:31" pos:end="77:35">frame</name></expr></argument>, <argument pos:start="77:38" pos:end="77:73"><expr pos:start="77:38" pos:end="77:73"><name pos:start="77:38" pos:end="77:70"><name pos:start="77:38" pos:end="77:42">ifile</name><operator pos:start="77:43" pos:end="77:44">-&gt;</operator><name pos:start="77:45" pos:end="77:51">streams</name><index pos:start="77:52" pos:end="77:70">[<expr pos:start="77:53" pos:end="77:69"><name pos:start="77:53" pos:end="77:69"><name pos:start="77:53" pos:end="77:55">pkt</name><operator pos:start="77:56" pos:end="77:57">-&gt;</operator><name pos:start="77:58" pos:end="77:69">stream_index</name></name></expr>]</index></name><operator pos:start="77:71" pos:end="77:71">.</operator><name pos:start="77:72" pos:end="77:73">st</name></expr></argument>, <argument pos:start="77:76" pos:end="77:82"><expr pos:start="77:76" pos:end="77:82"><name pos:start="77:76" pos:end="77:82">fmt_ctx</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></else></if_stmt></block_content></block></if></if_stmt>

        <if_stmt pos:start="79:9" pos:end="81:34"><if pos:start="79:9" pos:end="81:34">if <condition pos:start="79:12" pos:end="79:19">(<expr pos:start="79:13" pos:end="79:18"><name pos:start="79:13" pos:end="79:18">is_sub</name></expr>)</condition><block type="pseudo" pos:start="81:13" pos:end="81:34"><block_content pos:start="81:13" pos:end="81:34">

            <expr_stmt pos:start="81:13" pos:end="81:34"><expr pos:start="81:13" pos:end="81:33"><call pos:start="81:13" pos:end="81:33"><name pos:start="81:13" pos:end="81:27">avsubtitle_free</name><argument_list pos:start="81:28" pos:end="81:33">(<argument pos:start="81:29" pos:end="81:32"><expr pos:start="81:29" pos:end="81:32"><operator pos:start="81:29" pos:end="81:29">&amp;</operator><name pos:start="81:30" pos:end="81:32">sub</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

    </block_content>}</block></if></if_stmt>

    <return pos:start="85:5" pos:end="85:21">return <expr pos:start="85:12" pos:end="85:20"><name pos:start="85:12" pos:end="85:20">got_frame</name></expr>;</return>

</block_content>}</block></function>
</unit>
