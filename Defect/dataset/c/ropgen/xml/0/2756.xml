<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/2756.c" pos:tabs="8"><function pos:start="1:1" pos:end="79:1"><type pos:start="1:1" pos:end="1:19"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:17">MegasasCmd</name> <modifier pos:start="1:19" pos:end="1:19">*</modifier></type><name pos:start="1:20" pos:end="1:40">megasas_enqueue_frame</name><parameter_list pos:start="1:41" pos:end="3:58">(<parameter pos:start="1:42" pos:end="1:56"><decl pos:start="1:42" pos:end="1:56"><type pos:start="1:42" pos:end="1:56"><name pos:start="1:42" pos:end="1:53">MegasasState</name> <modifier pos:start="1:55" pos:end="1:55">*</modifier></type><name pos:start="1:56" pos:end="1:56">s</name></decl></parameter>,

    <parameter pos:start="3:5" pos:end="3:28"><decl pos:start="3:5" pos:end="3:28"><type pos:start="3:5" pos:end="3:28"><name pos:start="3:5" pos:end="3:22">target_phys_addr_t</name></type> <name pos:start="3:24" pos:end="3:28">frame</name></decl></parameter>, <parameter pos:start="3:31" pos:end="3:46"><decl pos:start="3:31" pos:end="3:46"><type pos:start="3:31" pos:end="3:46"><name pos:start="3:31" pos:end="3:38">uint64_t</name></type> <name pos:start="3:40" pos:end="3:46">context</name></decl></parameter>, <parameter pos:start="3:49" pos:end="3:57"><decl pos:start="3:49" pos:end="3:57"><type pos:start="3:49" pos:end="3:57"><name pos:start="3:49" pos:end="3:51">int</name></type> <name pos:start="3:53" pos:end="3:57">count</name></decl></parameter>)</parameter_list>

<block pos:start="5:1" pos:end="79:1">{<block_content pos:start="7:5" pos:end="77:15">

    <decl_stmt pos:start="7:5" pos:end="7:27"><decl pos:start="7:5" pos:end="7:26"><type pos:start="7:5" pos:end="7:16"><name pos:start="7:5" pos:end="7:14">MegasasCmd</name> <modifier pos:start="7:16" pos:end="7:16">*</modifier></type><name pos:start="7:17" pos:end="7:19">cmd</name> <init pos:start="7:21" pos:end="7:26">= <expr pos:start="7:23" pos:end="7:26"><name pos:start="7:23" pos:end="7:26">NULL</name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:41"><decl pos:start="9:5" pos:end="9:40"><type pos:start="9:5" pos:end="9:7"><name pos:start="9:5" pos:end="9:7">int</name></type> <name pos:start="9:9" pos:end="9:18">frame_size</name> <init pos:start="9:20" pos:end="9:40">= <expr pos:start="9:22" pos:end="9:40"><name pos:start="9:22" pos:end="9:35">MFI_FRAME_SIZE</name> <operator pos:start="9:37" pos:end="9:37">*</operator> <literal type="number" pos:start="9:39" pos:end="9:40">16</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:49"><decl pos:start="11:5" pos:end="11:48"><type pos:start="11:5" pos:end="11:22"><name pos:start="11:5" pos:end="11:22">target_phys_addr_t</name></type> <name pos:start="11:24" pos:end="11:35">frame_size_p</name> <init pos:start="11:37" pos:end="11:48">= <expr pos:start="11:39" pos:end="11:48"><name pos:start="11:39" pos:end="11:48">frame_size</name></expr></init></decl>;</decl_stmt>



    <expr_stmt pos:start="15:5" pos:end="15:39"><expr pos:start="15:5" pos:end="15:38"><name pos:start="15:5" pos:end="15:7">cmd</name> <operator pos:start="15:9" pos:end="15:9">=</operator> <call pos:start="15:11" pos:end="15:38"><name pos:start="15:11" pos:end="15:28">megasas_next_frame</name><argument_list pos:start="15:29" pos:end="15:38">(<argument pos:start="15:30" pos:end="15:30"><expr pos:start="15:30" pos:end="15:30"><name pos:start="15:30" pos:end="15:30">s</name></expr></argument>, <argument pos:start="15:33" pos:end="15:37"><expr pos:start="15:33" pos:end="15:37"><name pos:start="15:33" pos:end="15:37">frame</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <comment type="block" pos:start="17:5" pos:end="17:25">/* All frames busy */</comment>

    <if_stmt pos:start="19:5" pos:end="23:5"><if pos:start="19:5" pos:end="23:5">if <condition pos:start="19:8" pos:end="19:13">(<expr pos:start="19:9" pos:end="19:12"><operator pos:start="19:9" pos:end="19:9">!</operator><name pos:start="19:10" pos:end="19:12">cmd</name></expr>)</condition> <block pos:start="19:15" pos:end="23:5">{<block_content pos:start="21:9" pos:end="21:20">

        <return pos:start="21:9" pos:end="21:20">return <expr pos:start="21:16" pos:end="21:19"><name pos:start="21:16" pos:end="21:19">NULL</name></expr>;</return>

    </block_content>}</block></if></if_stmt>

    <if_stmt pos:start="25:5" pos:end="63:5"><if pos:start="25:5" pos:end="63:5">if <condition pos:start="25:8" pos:end="25:17">(<expr pos:start="25:9" pos:end="25:16"><operator pos:start="25:9" pos:end="25:9">!</operator><name pos:start="25:10" pos:end="25:16"><name pos:start="25:10" pos:end="25:12">cmd</name><operator pos:start="25:13" pos:end="25:14">-&gt;</operator><name pos:start="25:15" pos:end="25:16">pa</name></name></expr>)</condition> <block pos:start="25:19" pos:end="63:5">{<block_content pos:start="27:9" pos:end="61:9">

        <expr_stmt pos:start="27:9" pos:end="27:24"><expr pos:start="27:9" pos:end="27:23"><name pos:start="27:9" pos:end="27:15"><name pos:start="27:9" pos:end="27:11">cmd</name><operator pos:start="27:12" pos:end="27:13">-&gt;</operator><name pos:start="27:14" pos:end="27:15">pa</name></name> <operator pos:start="27:17" pos:end="27:17">=</operator> <name pos:start="27:19" pos:end="27:23">frame</name></expr>;</expr_stmt>

        <comment type="block" pos:start="29:9" pos:end="29:37">/* Map all possible frames */</comment>

        <expr_stmt pos:start="31:9" pos:end="31:70"><expr pos:start="31:9" pos:end="31:69"><name pos:start="31:9" pos:end="31:18"><name pos:start="31:9" pos:end="31:11">cmd</name><operator pos:start="31:12" pos:end="31:13">-&gt;</operator><name pos:start="31:14" pos:end="31:18">frame</name></name> <operator pos:start="31:20" pos:end="31:20">=</operator> <call pos:start="31:22" pos:end="31:69"><name pos:start="31:22" pos:end="31:44">cpu_physical_memory_map</name><argument_list pos:start="31:45" pos:end="31:69">(<argument pos:start="31:46" pos:end="31:50"><expr pos:start="31:46" pos:end="31:50"><name pos:start="31:46" pos:end="31:50">frame</name></expr></argument>, <argument pos:start="31:53" pos:end="31:65"><expr pos:start="31:53" pos:end="31:65"><operator pos:start="31:53" pos:end="31:53">&amp;</operator><name pos:start="31:54" pos:end="31:65">frame_size_p</name></expr></argument>, <argument pos:start="31:68" pos:end="31:68"><expr pos:start="31:68" pos:end="31:68"><literal type="number" pos:start="31:68" pos:end="31:68">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="33:9" pos:end="51:9"><if pos:start="33:9" pos:end="51:9">if <condition pos:start="33:12" pos:end="33:39">(<expr pos:start="33:13" pos:end="33:38"><name pos:start="33:13" pos:end="33:24">frame_size_p</name> <operator pos:start="33:26" pos:end="33:27">!=</operator> <name pos:start="33:29" pos:end="33:38">frame_size</name></expr>)</condition> <block pos:start="33:41" pos:end="51:9">{<block_content pos:start="35:13" pos:end="49:24">

            <expr_stmt pos:start="35:13" pos:end="35:74"><expr pos:start="35:13" pos:end="35:73"><call pos:start="35:13" pos:end="35:73"><name pos:start="35:13" pos:end="35:39">trace_megasas_qf_map_failed</name><argument_list pos:start="35:40" pos:end="35:73">(<argument pos:start="35:41" pos:end="35:50"><expr pos:start="35:41" pos:end="35:50"><name pos:start="35:41" pos:end="35:50"><name pos:start="35:41" pos:end="35:43">cmd</name><operator pos:start="35:44" pos:end="35:45">-&gt;</operator><name pos:start="35:46" pos:end="35:50">index</name></name></expr></argument>, <argument pos:start="35:53" pos:end="35:72"><expr pos:start="35:53" pos:end="35:72"><operator pos:start="35:53" pos:end="35:53">(</operator><name pos:start="35:54" pos:end="35:61">unsigned</name> <name pos:start="35:63" pos:end="35:66">long</name><operator pos:start="35:67" pos:end="35:67">)</operator><name pos:start="35:68" pos:end="35:72">frame</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <if_stmt pos:start="37:13" pos:end="45:13"><if pos:start="37:13" pos:end="45:13">if <condition pos:start="37:16" pos:end="37:27">(<expr pos:start="37:17" pos:end="37:26"><name pos:start="37:17" pos:end="37:26"><name pos:start="37:17" pos:end="37:19">cmd</name><operator pos:start="37:20" pos:end="37:21">-&gt;</operator><name pos:start="37:22" pos:end="37:26">frame</name></name></expr>)</condition> <block pos:start="37:29" pos:end="45:13">{<block_content pos:start="39:17" pos:end="43:28">

                <expr_stmt pos:start="39:17" pos:end="39:74"><expr pos:start="39:17" pos:end="39:73"><call pos:start="39:17" pos:end="39:73"><name pos:start="39:17" pos:end="39:41">cpu_physical_memory_unmap</name><argument_list pos:start="39:42" pos:end="39:73">(<argument pos:start="39:43" pos:end="39:52"><expr pos:start="39:43" pos:end="39:52"><name pos:start="39:43" pos:end="39:52"><name pos:start="39:43" pos:end="39:45">cmd</name><operator pos:start="39:46" pos:end="39:47">-&gt;</operator><name pos:start="39:48" pos:end="39:52">frame</name></name></expr></argument>, <argument pos:start="39:55" pos:end="39:66"><expr pos:start="39:55" pos:end="39:66"><name pos:start="39:55" pos:end="39:66">frame_size_p</name></expr></argument>, <argument pos:start="39:69" pos:end="39:69"><expr pos:start="39:69" pos:end="39:69"><literal type="number" pos:start="39:69" pos:end="39:69">0</literal></expr></argument>, <argument pos:start="39:72" pos:end="39:72"><expr pos:start="39:72" pos:end="39:72"><literal type="number" pos:start="39:72" pos:end="39:72">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="41:17" pos:end="41:34"><expr pos:start="41:17" pos:end="41:33"><name pos:start="41:17" pos:end="41:26"><name pos:start="41:17" pos:end="41:19">cmd</name><operator pos:start="41:20" pos:end="41:21">-&gt;</operator><name pos:start="41:22" pos:end="41:26">frame</name></name> <operator pos:start="41:28" pos:end="41:28">=</operator> <name pos:start="41:30" pos:end="41:33">NULL</name></expr>;</expr_stmt>

                <expr_stmt pos:start="43:17" pos:end="43:28"><expr pos:start="43:17" pos:end="43:27"><name pos:start="43:17" pos:end="43:23"><name pos:start="43:17" pos:end="43:19">cmd</name><operator pos:start="43:20" pos:end="43:21">-&gt;</operator><name pos:start="43:22" pos:end="43:23">pa</name></name> <operator pos:start="43:25" pos:end="43:25">=</operator> <literal type="number" pos:start="43:27" pos:end="43:27">0</literal></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>

            <expr_stmt pos:start="47:13" pos:end="47:29"><expr pos:start="47:13" pos:end="47:28"><name pos:start="47:13" pos:end="47:26"><name pos:start="47:13" pos:end="47:13">s</name><operator pos:start="47:14" pos:end="47:15">-&gt;</operator><name pos:start="47:16" pos:end="47:26">event_count</name></name><operator pos:start="47:27" pos:end="47:28">++</operator></expr>;</expr_stmt>

            <return pos:start="49:13" pos:end="49:24">return <expr pos:start="49:20" pos:end="49:23"><name pos:start="49:20" pos:end="49:23">NULL</name></expr>;</return>

        </block_content>}</block></if></if_stmt>

        <expr_stmt pos:start="53:9" pos:end="53:36"><expr pos:start="53:9" pos:end="53:35"><name pos:start="53:9" pos:end="53:20"><name pos:start="53:9" pos:end="53:11">cmd</name><operator pos:start="53:12" pos:end="53:13">-&gt;</operator><name pos:start="53:14" pos:end="53:20">pa_size</name></name> <operator pos:start="53:22" pos:end="53:22">=</operator> <name pos:start="53:24" pos:end="53:35">frame_size_p</name></expr>;</expr_stmt>

        <expr_stmt pos:start="55:9" pos:end="55:31"><expr pos:start="55:9" pos:end="55:30"><name pos:start="55:9" pos:end="55:20"><name pos:start="55:9" pos:end="55:11">cmd</name><operator pos:start="55:12" pos:end="55:13">-&gt;</operator><name pos:start="55:14" pos:end="55:20">context</name></name> <operator pos:start="55:22" pos:end="55:22">=</operator> <name pos:start="55:24" pos:end="55:30">context</name></expr>;</expr_stmt>

        <if_stmt pos:start="57:9" pos:end="61:9"><if pos:start="57:9" pos:end="61:9">if <condition pos:start="57:12" pos:end="57:36">(<expr pos:start="57:13" pos:end="57:35"><operator pos:start="57:13" pos:end="57:13">!</operator><call pos:start="57:14" pos:end="57:35"><name pos:start="57:14" pos:end="57:32">megasas_use_queue64</name><argument_list pos:start="57:33" pos:end="57:35">(<argument pos:start="57:34" pos:end="57:34"><expr pos:start="57:34" pos:end="57:34"><name pos:start="57:34" pos:end="57:34">s</name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="57:38" pos:end="61:9">{<block_content pos:start="59:13" pos:end="59:49">

            <expr_stmt pos:start="59:13" pos:end="59:49"><expr pos:start="59:13" pos:end="59:48"><name pos:start="59:13" pos:end="59:24"><name pos:start="59:13" pos:end="59:15">cmd</name><operator pos:start="59:16" pos:end="59:17">-&gt;</operator><name pos:start="59:18" pos:end="59:24">context</name></name> <operator pos:start="59:26" pos:end="59:27">&amp;=</operator> <operator pos:start="59:29" pos:end="59:29">(</operator><name pos:start="59:30" pos:end="59:37">uint64_t</name><operator pos:start="59:38" pos:end="59:38">)</operator><literal type="number" pos:start="59:39" pos:end="59:48">0xFFFFFFFF</literal></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></if></if_stmt>

    <expr_stmt pos:start="65:5" pos:end="65:23"><expr pos:start="65:5" pos:end="65:22"><name pos:start="65:5" pos:end="65:14"><name pos:start="65:5" pos:end="65:7">cmd</name><operator pos:start="65:8" pos:end="65:9">-&gt;</operator><name pos:start="65:10" pos:end="65:14">count</name></name> <operator pos:start="65:16" pos:end="65:16">=</operator> <name pos:start="65:18" pos:end="65:22">count</name></expr>;</expr_stmt>

    <expr_stmt pos:start="67:5" pos:end="67:14"><expr pos:start="67:5" pos:end="67:13"><name pos:start="67:5" pos:end="67:11"><name pos:start="67:5" pos:end="67:5">s</name><operator pos:start="67:6" pos:end="67:7">-&gt;</operator><name pos:start="67:8" pos:end="67:11">busy</name></name><operator pos:start="67:12" pos:end="67:13">++</operator></expr>;</expr_stmt>



    <expr_stmt pos:start="71:5" pos:end="73:59"><expr pos:start="71:5" pos:end="73:58"><call pos:start="71:5" pos:end="73:58"><name pos:start="71:5" pos:end="71:28">trace_megasas_qf_enqueue</name><argument_list pos:start="71:29" pos:end="73:58">(<argument pos:start="71:30" pos:end="71:39"><expr pos:start="71:30" pos:end="71:39"><name pos:start="71:30" pos:end="71:39"><name pos:start="71:30" pos:end="71:32">cmd</name><operator pos:start="71:33" pos:end="71:34">-&gt;</operator><name pos:start="71:35" pos:end="71:39">index</name></name></expr></argument>, <argument pos:start="71:42" pos:end="71:51"><expr pos:start="71:42" pos:end="71:51"><name pos:start="71:42" pos:end="71:51"><name pos:start="71:42" pos:end="71:44">cmd</name><operator pos:start="71:45" pos:end="71:46">-&gt;</operator><name pos:start="71:47" pos:end="71:51">count</name></name></expr></argument>, <argument pos:start="71:54" pos:end="71:65"><expr pos:start="71:54" pos:end="71:65"><name pos:start="71:54" pos:end="71:65"><name pos:start="71:54" pos:end="71:56">cmd</name><operator pos:start="71:57" pos:end="71:58">-&gt;</operator><name pos:start="71:59" pos:end="71:65">context</name></name></expr></argument>,

                             <argument pos:start="73:30" pos:end="73:48"><expr pos:start="73:30" pos:end="73:48"><name pos:start="73:30" pos:end="73:48"><name pos:start="73:30" pos:end="73:30">s</name><operator pos:start="73:31" pos:end="73:32">-&gt;</operator><name pos:start="73:33" pos:end="73:48">reply_queue_head</name></name></expr></argument>, <argument pos:start="73:51" pos:end="73:57"><expr pos:start="73:51" pos:end="73:57"><name pos:start="73:51" pos:end="73:57"><name pos:start="73:51" pos:end="73:51">s</name><operator pos:start="73:52" pos:end="73:53">-&gt;</operator><name pos:start="73:54" pos:end="73:57">busy</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <return pos:start="77:5" pos:end="77:15">return <expr pos:start="77:12" pos:end="77:14"><name pos:start="77:12" pos:end="77:14">cmd</name></expr>;</return>

</block_content>}</block></function>
</unit>
