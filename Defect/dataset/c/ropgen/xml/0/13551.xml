<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/13551.c" pos:tabs="8"><function pos:start="1:1" pos:end="125:1"><type pos:start="1:1" pos:end="1:17"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <specifier pos:start="1:8" pos:end="1:13">inline</specifier> <name pos:start="1:15" pos:end="1:17">int</name></type> <name pos:start="1:19" pos:end="1:32">check_bidir_mv</name><parameter_list pos:start="1:33" pos:end="11:35">(<parameter pos:start="1:34" pos:end="1:51"><decl pos:start="1:34" pos:end="1:51"><type pos:start="1:34" pos:end="1:51"><name pos:start="1:34" pos:end="1:47">MpegEncContext</name> <modifier pos:start="1:49" pos:end="1:49">*</modifier></type> <name pos:start="1:51" pos:end="1:51">s</name></decl></parameter>,

                   <parameter pos:start="3:20" pos:end="3:32"><decl pos:start="3:20" pos:end="3:32"><type pos:start="3:20" pos:end="3:32"><name pos:start="3:20" pos:end="3:22">int</name></type> <name pos:start="3:24" pos:end="3:32">motion_fx</name></decl></parameter>, <parameter pos:start="3:35" pos:end="3:47"><decl pos:start="3:35" pos:end="3:47"><type pos:start="3:35" pos:end="3:47"><name pos:start="3:35" pos:end="3:37">int</name></type> <name pos:start="3:39" pos:end="3:47">motion_fy</name></decl></parameter>,

                   <parameter pos:start="5:20" pos:end="5:32"><decl pos:start="5:20" pos:end="5:32"><type pos:start="5:20" pos:end="5:32"><name pos:start="5:20" pos:end="5:22">int</name></type> <name pos:start="5:24" pos:end="5:32">motion_bx</name></decl></parameter>, <parameter pos:start="5:35" pos:end="5:47"><decl pos:start="5:35" pos:end="5:47"><type pos:start="5:35" pos:end="5:47"><name pos:start="5:35" pos:end="5:37">int</name></type> <name pos:start="5:39" pos:end="5:47">motion_by</name></decl></parameter>,

                   <parameter pos:start="7:20" pos:end="7:30"><decl pos:start="7:20" pos:end="7:30"><type pos:start="7:20" pos:end="7:30"><name pos:start="7:20" pos:end="7:22">int</name></type> <name pos:start="7:24" pos:end="7:30">pred_fx</name></decl></parameter>, <parameter pos:start="7:33" pos:end="7:43"><decl pos:start="7:33" pos:end="7:43"><type pos:start="7:33" pos:end="7:43"><name pos:start="7:33" pos:end="7:35">int</name></type> <name pos:start="7:37" pos:end="7:43">pred_fy</name></decl></parameter>,

                   <parameter pos:start="9:20" pos:end="9:30"><decl pos:start="9:20" pos:end="9:30"><type pos:start="9:20" pos:end="9:30"><name pos:start="9:20" pos:end="9:22">int</name></type> <name pos:start="9:24" pos:end="9:30">pred_bx</name></decl></parameter>, <parameter pos:start="9:33" pos:end="9:43"><decl pos:start="9:33" pos:end="9:43"><type pos:start="9:33" pos:end="9:43"><name pos:start="9:33" pos:end="9:35">int</name></type> <name pos:start="9:37" pos:end="9:43">pred_by</name></decl></parameter>,

                   <parameter pos:start="11:20" pos:end="11:27"><decl pos:start="11:20" pos:end="11:27"><type pos:start="11:20" pos:end="11:27"><name pos:start="11:20" pos:end="11:22">int</name></type> <name pos:start="11:24" pos:end="11:27">size</name></decl></parameter>, <parameter pos:start="11:30" pos:end="11:34"><decl pos:start="11:30" pos:end="11:34"><type pos:start="11:30" pos:end="11:34"><name pos:start="11:30" pos:end="11:32">int</name></type> <name pos:start="11:34" pos:end="11:34">h</name></decl></parameter>)</parameter_list>

<block pos:start="13:1" pos:end="125:1">{<block_content pos:start="21:5" pos:end="123:17">

    <comment type="line" pos:start="15:5" pos:end="15:21">//FIXME optimize?</comment>

    <comment type="line" pos:start="17:5" pos:end="17:56">//FIXME better f_code prediction (max mv &amp; distance)</comment>

    <comment type="line" pos:start="19:5" pos:end="19:20">//FIXME pointers</comment>

    <decl_stmt pos:start="21:5" pos:end="21:39"><decl pos:start="21:5" pos:end="21:38"><type pos:start="21:5" pos:end="21:28"><name pos:start="21:5" pos:end="21:20">MotionEstContext</name> <modifier pos:start="21:22" pos:end="21:22">*</modifier> <specifier pos:start="21:24" pos:end="21:28">const</specifier></type> <name pos:start="21:30" pos:end="21:30">c</name><init pos:start="21:31" pos:end="21:38">= <expr pos:start="21:33" pos:end="21:38"><operator pos:start="21:33" pos:end="21:33">&amp;</operator><name pos:start="21:34" pos:end="21:38"><name pos:start="21:34" pos:end="21:34">s</name><operator pos:start="21:35" pos:end="21:36">-&gt;</operator><name pos:start="21:37" pos:end="21:38">me</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="23:5" pos:end="23:68"><decl pos:start="23:5" pos:end="23:67"><type pos:start="23:5" pos:end="23:19"><name pos:start="23:5" pos:end="23:11">uint8_t</name> <modifier pos:start="23:13" pos:end="23:13">*</modifier> <specifier pos:start="23:15" pos:end="23:19">const</specifier></type> <name pos:start="23:21" pos:end="23:32">mv_penalty_f</name><init pos:start="23:33" pos:end="23:67">= <expr pos:start="23:35" pos:end="23:67"><name pos:start="23:35" pos:end="23:58"><name pos:start="23:35" pos:end="23:35">c</name><operator pos:start="23:36" pos:end="23:37">-&gt;</operator><name pos:start="23:38" pos:end="23:47">mv_penalty</name><index pos:start="23:48" pos:end="23:58">[<expr pos:start="23:49" pos:end="23:57"><name pos:start="23:49" pos:end="23:57"><name pos:start="23:49" pos:end="23:49">s</name><operator pos:start="23:50" pos:end="23:51">-&gt;</operator><name pos:start="23:52" pos:end="23:57">f_code</name></name></expr>]</index></name> <operator pos:start="23:60" pos:end="23:60">+</operator> <name pos:start="23:62" pos:end="23:67">MAX_MV</name></expr></init></decl>;</decl_stmt> <comment type="line" pos:start="23:70" pos:end="23:96">// f_code of the prev frame</comment>

    <decl_stmt pos:start="25:5" pos:end="25:68"><decl pos:start="25:5" pos:end="25:67"><type pos:start="25:5" pos:end="25:19"><name pos:start="25:5" pos:end="25:11">uint8_t</name> <modifier pos:start="25:13" pos:end="25:13">*</modifier> <specifier pos:start="25:15" pos:end="25:19">const</specifier></type> <name pos:start="25:21" pos:end="25:32">mv_penalty_b</name><init pos:start="25:33" pos:end="25:67">= <expr pos:start="25:35" pos:end="25:67"><name pos:start="25:35" pos:end="25:58"><name pos:start="25:35" pos:end="25:35">c</name><operator pos:start="25:36" pos:end="25:37">-&gt;</operator><name pos:start="25:38" pos:end="25:47">mv_penalty</name><index pos:start="25:48" pos:end="25:58">[<expr pos:start="25:49" pos:end="25:57"><name pos:start="25:49" pos:end="25:57"><name pos:start="25:49" pos:end="25:49">s</name><operator pos:start="25:50" pos:end="25:51">-&gt;</operator><name pos:start="25:52" pos:end="25:57">b_code</name></name></expr>]</index></name> <operator pos:start="25:60" pos:end="25:60">+</operator> <name pos:start="25:62" pos:end="25:67">MAX_MV</name></expr></init></decl>;</decl_stmt> <comment type="line" pos:start="25:70" pos:end="25:96">// f_code of the prev frame</comment>

    <decl_stmt pos:start="27:5" pos:end="27:26"><decl pos:start="27:5" pos:end="27:25"><type pos:start="27:5" pos:end="27:7"><name pos:start="27:5" pos:end="27:7">int</name></type> <name pos:start="27:9" pos:end="27:14">stride</name><init pos:start="27:15" pos:end="27:25">= <expr pos:start="27:17" pos:end="27:25"><name pos:start="27:17" pos:end="27:25"><name pos:start="27:17" pos:end="27:17">c</name><operator pos:start="27:18" pos:end="27:19">-&gt;</operator><name pos:start="27:20" pos:end="27:25">stride</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="29:5" pos:end="29:36"><decl pos:start="29:5" pos:end="29:35"><type pos:start="29:5" pos:end="29:13"><name pos:start="29:5" pos:end="29:11">uint8_t</name> <modifier pos:start="29:13" pos:end="29:13">*</modifier></type><name pos:start="29:14" pos:end="29:19">dest_y</name> <init pos:start="29:21" pos:end="29:35">= <expr pos:start="29:23" pos:end="29:35"><name pos:start="29:23" pos:end="29:35"><name pos:start="29:23" pos:end="29:23">c</name><operator pos:start="29:24" pos:end="29:25">-&gt;</operator><name pos:start="29:26" pos:end="29:35">scratchpad</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="31:5" pos:end="31:17"><decl pos:start="31:5" pos:end="31:16"><type pos:start="31:5" pos:end="31:13"><name pos:start="31:5" pos:end="31:11">uint8_t</name> <modifier pos:start="31:13" pos:end="31:13">*</modifier></type><name pos:start="31:14" pos:end="31:16">ptr</name></decl>;</decl_stmt>

    <decl_stmt pos:start="33:5" pos:end="33:12"><decl pos:start="33:5" pos:end="33:11"><type pos:start="33:5" pos:end="33:7"><name pos:start="33:5" pos:end="33:7">int</name></type> <name pos:start="33:9" pos:end="33:11">dxy</name></decl>;</decl_stmt>

    <decl_stmt pos:start="35:5" pos:end="35:21"><decl pos:start="35:5" pos:end="35:13"><type pos:start="35:5" pos:end="35:7"><name pos:start="35:5" pos:end="35:7">int</name></type> <name pos:start="35:9" pos:end="35:13">src_x</name></decl>, <decl pos:start="35:16" pos:end="35:20"><type ref="prev" pos:start="35:5" pos:end="35:7"/><name pos:start="35:16" pos:end="35:20">src_y</name></decl>;</decl_stmt>

    <decl_stmt pos:start="37:5" pos:end="37:14"><decl pos:start="37:5" pos:end="37:13"><type pos:start="37:5" pos:end="37:7"><name pos:start="37:5" pos:end="37:7">int</name></type> <name pos:start="37:9" pos:end="37:13">fbmin</name></decl>;</decl_stmt>

    <decl_stmt pos:start="39:5" pos:end="39:34"><decl pos:start="39:5" pos:end="39:33"><type pos:start="39:5" pos:end="39:14"><name pos:start="39:5" pos:end="39:11">uint8_t</name> <modifier pos:start="39:13" pos:end="39:13">*</modifier><modifier pos:start="39:14" pos:end="39:14">*</modifier></type><name pos:start="39:15" pos:end="39:22">src_data</name><init pos:start="39:23" pos:end="39:33">= <expr pos:start="39:25" pos:end="39:33"><name pos:start="39:25" pos:end="39:33"><name pos:start="39:25" pos:end="39:25">c</name><operator pos:start="39:26" pos:end="39:27">-&gt;</operator><name pos:start="39:28" pos:end="39:30">src</name><index pos:start="39:31" pos:end="39:33">[<expr pos:start="39:32" pos:end="39:32"><literal type="number" pos:start="39:32" pos:end="39:32">0</literal></expr>]</index></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="41:5" pos:end="41:34"><decl pos:start="41:5" pos:end="41:33"><type pos:start="41:5" pos:end="41:14"><name pos:start="41:5" pos:end="41:11">uint8_t</name> <modifier pos:start="41:13" pos:end="41:13">*</modifier><modifier pos:start="41:14" pos:end="41:14">*</modifier></type><name pos:start="41:15" pos:end="41:22">ref_data</name><init pos:start="41:23" pos:end="41:33">= <expr pos:start="41:25" pos:end="41:33"><name pos:start="41:25" pos:end="41:33"><name pos:start="41:25" pos:end="41:25">c</name><operator pos:start="41:26" pos:end="41:27">-&gt;</operator><name pos:start="41:28" pos:end="41:30">ref</name><index pos:start="41:31" pos:end="41:33">[<expr pos:start="41:32" pos:end="41:32"><literal type="number" pos:start="41:32" pos:end="41:32">0</literal></expr>]</index></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="43:5" pos:end="43:35"><decl pos:start="43:5" pos:end="43:34"><type pos:start="43:5" pos:end="43:14"><name pos:start="43:5" pos:end="43:11">uint8_t</name> <modifier pos:start="43:13" pos:end="43:13">*</modifier><modifier pos:start="43:14" pos:end="43:14">*</modifier></type><name pos:start="43:15" pos:end="43:23">ref2_data</name><init pos:start="43:24" pos:end="43:34">= <expr pos:start="43:26" pos:end="43:34"><name pos:start="43:26" pos:end="43:34"><name pos:start="43:26" pos:end="43:26">c</name><operator pos:start="43:27" pos:end="43:28">-&gt;</operator><name pos:start="43:29" pos:end="43:31">ref</name><index pos:start="43:32" pos:end="43:34">[<expr pos:start="43:33" pos:end="43:33"><literal type="number" pos:start="43:33" pos:end="43:33">2</literal></expr>]</index></name></expr></init></decl>;</decl_stmt>



    <if_stmt pos:start="47:5" pos:end="103:5"><if pos:start="47:5" pos:end="75:5">if<condition pos:start="47:7" pos:end="47:25">(<expr pos:start="47:8" pos:end="47:24"><name pos:start="47:8" pos:end="47:24"><name pos:start="47:8" pos:end="47:8">s</name><operator pos:start="47:9" pos:end="47:10">-&gt;</operator><name pos:start="47:11" pos:end="47:24">quarter_sample</name></name></expr>)</condition><block pos:start="47:26" pos:end="75:5">{<block_content pos:start="49:9" pos:end="73:68">

        <expr_stmt pos:start="49:9" pos:end="49:55"><expr pos:start="49:9" pos:end="49:54"><name pos:start="49:9" pos:end="49:11">dxy</name> <operator pos:start="49:13" pos:end="49:13">=</operator> <operator pos:start="49:15" pos:end="49:15">(</operator><operator pos:start="49:16" pos:end="49:16">(</operator><name pos:start="49:17" pos:end="49:25">motion_fy</name> <operator pos:start="49:27" pos:end="49:27">&amp;</operator> <literal type="number" pos:start="49:29" pos:end="49:29">3</literal><operator pos:start="49:30" pos:end="49:30">)</operator> <operator pos:start="49:32" pos:end="49:33">&lt;&lt;</operator> <literal type="number" pos:start="49:35" pos:end="49:35">2</literal><operator pos:start="49:36" pos:end="49:36">)</operator> <operator pos:start="49:38" pos:end="49:38">|</operator> <operator pos:start="49:40" pos:end="49:40">(</operator><name pos:start="49:41" pos:end="49:49">motion_fx</name> <operator pos:start="49:51" pos:end="49:51">&amp;</operator> <literal type="number" pos:start="49:53" pos:end="49:53">3</literal><operator pos:start="49:54" pos:end="49:54">)</operator></expr>;</expr_stmt>

        <expr_stmt pos:start="51:9" pos:end="51:31"><expr pos:start="51:9" pos:end="51:30"><name pos:start="51:9" pos:end="51:13">src_x</name> <operator pos:start="51:15" pos:end="51:15">=</operator> <name pos:start="51:17" pos:end="51:25">motion_fx</name> <operator pos:start="51:27" pos:end="51:28">&gt;&gt;</operator> <literal type="number" pos:start="51:30" pos:end="51:30">2</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="53:9" pos:end="53:31"><expr pos:start="53:9" pos:end="53:30"><name pos:start="53:9" pos:end="53:13">src_y</name> <operator pos:start="53:15" pos:end="53:15">=</operator> <name pos:start="53:17" pos:end="53:25">motion_fy</name> <operator pos:start="53:27" pos:end="53:28">&gt;&gt;</operator> <literal type="number" pos:start="53:30" pos:end="53:30">2</literal></expr>;</expr_stmt>



        <expr_stmt pos:start="57:9" pos:end="57:53"><expr pos:start="57:9" pos:end="57:52"><name pos:start="57:9" pos:end="57:11">ptr</name> <operator pos:start="57:13" pos:end="57:13">=</operator> <name pos:start="57:15" pos:end="57:25"><name pos:start="57:15" pos:end="57:22">ref_data</name><index pos:start="57:23" pos:end="57:25">[<expr pos:start="57:24" pos:end="57:24"><literal type="number" pos:start="57:24" pos:end="57:24">0</literal></expr>]</index></name> <operator pos:start="57:27" pos:end="57:27">+</operator> <operator pos:start="57:29" pos:end="57:29">(</operator><name pos:start="57:30" pos:end="57:34">src_y</name> <operator pos:start="57:36" pos:end="57:36">*</operator> <name pos:start="57:38" pos:end="57:43">stride</name><operator pos:start="57:44" pos:end="57:44">)</operator> <operator pos:start="57:46" pos:end="57:46">+</operator> <name pos:start="57:48" pos:end="57:52">src_x</name></expr>;</expr_stmt>

        <expr_stmt pos:start="59:9" pos:end="59:65"><expr pos:start="59:9" pos:end="59:64"><name pos:start="59:9" pos:end="59:43"><name pos:start="59:9" pos:end="59:9">s</name><operator pos:start="59:10" pos:end="59:11">-&gt;</operator><name pos:start="59:12" pos:end="59:15">qdsp</name><operator pos:start="59:16" pos:end="59:16">.</operator><name pos:start="59:17" pos:end="59:35">put_qpel_pixels_tab</name><index pos:start="59:36" pos:end="59:38">[<expr pos:start="59:37" pos:end="59:37"><literal type="number" pos:start="59:37" pos:end="59:37">0</literal></expr>]</index><index pos:start="59:39" pos:end="59:43">[<expr pos:start="59:40" pos:end="59:42"><name pos:start="59:40" pos:end="59:42">dxy</name></expr>]</index></name><operator pos:start="59:44" pos:end="59:44">(</operator><name pos:start="59:45" pos:end="59:50">dest_y</name><operator pos:start="59:51" pos:end="59:51">,</operator> <name pos:start="59:53" pos:end="59:55">ptr</name><operator pos:start="59:56" pos:end="59:56">,</operator> <name pos:start="59:58" pos:end="59:63">stride</name><operator pos:start="59:64" pos:end="59:64">)</operator></expr>;</expr_stmt>



        <expr_stmt pos:start="63:9" pos:end="63:55"><expr pos:start="63:9" pos:end="63:54"><name pos:start="63:9" pos:end="63:11">dxy</name> <operator pos:start="63:13" pos:end="63:13">=</operator> <operator pos:start="63:15" pos:end="63:15">(</operator><operator pos:start="63:16" pos:end="63:16">(</operator><name pos:start="63:17" pos:end="63:25">motion_by</name> <operator pos:start="63:27" pos:end="63:27">&amp;</operator> <literal type="number" pos:start="63:29" pos:end="63:29">3</literal><operator pos:start="63:30" pos:end="63:30">)</operator> <operator pos:start="63:32" pos:end="63:33">&lt;&lt;</operator> <literal type="number" pos:start="63:35" pos:end="63:35">2</literal><operator pos:start="63:36" pos:end="63:36">)</operator> <operator pos:start="63:38" pos:end="63:38">|</operator> <operator pos:start="63:40" pos:end="63:40">(</operator><name pos:start="63:41" pos:end="63:49">motion_bx</name> <operator pos:start="63:51" pos:end="63:51">&amp;</operator> <literal type="number" pos:start="63:53" pos:end="63:53">3</literal><operator pos:start="63:54" pos:end="63:54">)</operator></expr>;</expr_stmt>

        <expr_stmt pos:start="65:9" pos:end="65:31"><expr pos:start="65:9" pos:end="65:30"><name pos:start="65:9" pos:end="65:13">src_x</name> <operator pos:start="65:15" pos:end="65:15">=</operator> <name pos:start="65:17" pos:end="65:25">motion_bx</name> <operator pos:start="65:27" pos:end="65:28">&gt;&gt;</operator> <literal type="number" pos:start="65:30" pos:end="65:30">2</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="67:9" pos:end="67:31"><expr pos:start="67:9" pos:end="67:30"><name pos:start="67:9" pos:end="67:13">src_y</name> <operator pos:start="67:15" pos:end="67:15">=</operator> <name pos:start="67:17" pos:end="67:25">motion_by</name> <operator pos:start="67:27" pos:end="67:28">&gt;&gt;</operator> <literal type="number" pos:start="67:30" pos:end="67:30">2</literal></expr>;</expr_stmt>



        <expr_stmt pos:start="71:9" pos:end="71:54"><expr pos:start="71:9" pos:end="71:53"><name pos:start="71:9" pos:end="71:11">ptr</name> <operator pos:start="71:13" pos:end="71:13">=</operator> <name pos:start="71:15" pos:end="71:26"><name pos:start="71:15" pos:end="71:23">ref2_data</name><index pos:start="71:24" pos:end="71:26">[<expr pos:start="71:25" pos:end="71:25"><literal type="number" pos:start="71:25" pos:end="71:25">0</literal></expr>]</index></name> <operator pos:start="71:28" pos:end="71:28">+</operator> <operator pos:start="71:30" pos:end="71:30">(</operator><name pos:start="71:31" pos:end="71:35">src_y</name> <operator pos:start="71:37" pos:end="71:37">*</operator> <name pos:start="71:39" pos:end="71:44">stride</name><operator pos:start="71:45" pos:end="71:45">)</operator> <operator pos:start="71:47" pos:end="71:47">+</operator> <name pos:start="71:49" pos:end="71:53">src_x</name></expr>;</expr_stmt>

        <expr_stmt pos:start="73:9" pos:end="73:68"><expr pos:start="73:9" pos:end="73:67"><name pos:start="73:9" pos:end="73:46"><name pos:start="73:9" pos:end="73:9">s</name><operator pos:start="73:10" pos:end="73:11">-&gt;</operator><name pos:start="73:12" pos:end="73:15">qdsp</name><operator pos:start="73:16" pos:end="73:16">.</operator><name pos:start="73:17" pos:end="73:35">avg_qpel_pixels_tab</name><index pos:start="73:36" pos:end="73:41">[<expr pos:start="73:37" pos:end="73:40"><name pos:start="73:37" pos:end="73:40">size</name></expr>]</index><index pos:start="73:42" pos:end="73:46">[<expr pos:start="73:43" pos:end="73:45"><name pos:start="73:43" pos:end="73:45">dxy</name></expr>]</index></name><operator pos:start="73:47" pos:end="73:47">(</operator><name pos:start="73:48" pos:end="73:53">dest_y</name><operator pos:start="73:54" pos:end="73:54">,</operator> <name pos:start="73:56" pos:end="73:58">ptr</name><operator pos:start="73:59" pos:end="73:59">,</operator> <name pos:start="73:61" pos:end="73:66">stride</name><operator pos:start="73:67" pos:end="73:67">)</operator></expr>;</expr_stmt>

    </block_content>}</block></if><else pos:start="75:6" pos:end="103:5">else<block pos:start="75:10" pos:end="103:5">{<block_content pos:start="77:9" pos:end="101:74">

        <expr_stmt pos:start="77:9" pos:end="77:55"><expr pos:start="77:9" pos:end="77:54"><name pos:start="77:9" pos:end="77:11">dxy</name> <operator pos:start="77:13" pos:end="77:13">=</operator> <operator pos:start="77:15" pos:end="77:15">(</operator><operator pos:start="77:16" pos:end="77:16">(</operator><name pos:start="77:17" pos:end="77:25">motion_fy</name> <operator pos:start="77:27" pos:end="77:27">&amp;</operator> <literal type="number" pos:start="77:29" pos:end="77:29">1</literal><operator pos:start="77:30" pos:end="77:30">)</operator> <operator pos:start="77:32" pos:end="77:33">&lt;&lt;</operator> <literal type="number" pos:start="77:35" pos:end="77:35">1</literal><operator pos:start="77:36" pos:end="77:36">)</operator> <operator pos:start="77:38" pos:end="77:38">|</operator> <operator pos:start="77:40" pos:end="77:40">(</operator><name pos:start="77:41" pos:end="77:49">motion_fx</name> <operator pos:start="77:51" pos:end="77:51">&amp;</operator> <literal type="number" pos:start="77:53" pos:end="77:53">1</literal><operator pos:start="77:54" pos:end="77:54">)</operator></expr>;</expr_stmt>

        <expr_stmt pos:start="79:9" pos:end="79:31"><expr pos:start="79:9" pos:end="79:30"><name pos:start="79:9" pos:end="79:13">src_x</name> <operator pos:start="79:15" pos:end="79:15">=</operator> <name pos:start="79:17" pos:end="79:25">motion_fx</name> <operator pos:start="79:27" pos:end="79:28">&gt;&gt;</operator> <literal type="number" pos:start="79:30" pos:end="79:30">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="81:9" pos:end="81:31"><expr pos:start="81:9" pos:end="81:30"><name pos:start="81:9" pos:end="81:13">src_y</name> <operator pos:start="81:15" pos:end="81:15">=</operator> <name pos:start="81:17" pos:end="81:25">motion_fy</name> <operator pos:start="81:27" pos:end="81:28">&gt;&gt;</operator> <literal type="number" pos:start="81:30" pos:end="81:30">1</literal></expr>;</expr_stmt>



        <expr_stmt pos:start="85:9" pos:end="85:53"><expr pos:start="85:9" pos:end="85:52"><name pos:start="85:9" pos:end="85:11">ptr</name> <operator pos:start="85:13" pos:end="85:13">=</operator> <name pos:start="85:15" pos:end="85:25"><name pos:start="85:15" pos:end="85:22">ref_data</name><index pos:start="85:23" pos:end="85:25">[<expr pos:start="85:24" pos:end="85:24"><literal type="number" pos:start="85:24" pos:end="85:24">0</literal></expr>]</index></name> <operator pos:start="85:27" pos:end="85:27">+</operator> <operator pos:start="85:29" pos:end="85:29">(</operator><name pos:start="85:30" pos:end="85:34">src_y</name> <operator pos:start="85:36" pos:end="85:36">*</operator> <name pos:start="85:38" pos:end="85:43">stride</name><operator pos:start="85:44" pos:end="85:44">)</operator> <operator pos:start="85:46" pos:end="85:46">+</operator> <name pos:start="85:48" pos:end="85:52">src_x</name></expr>;</expr_stmt>

        <expr_stmt pos:start="87:9" pos:end="87:74"><expr pos:start="87:9" pos:end="87:73"><name pos:start="87:9" pos:end="87:41"><name pos:start="87:9" pos:end="87:9">s</name><operator pos:start="87:10" pos:end="87:11">-&gt;</operator><name pos:start="87:12" pos:end="87:15">hdsp</name><operator pos:start="87:16" pos:end="87:16">.</operator><name pos:start="87:17" pos:end="87:30">put_pixels_tab</name><index pos:start="87:31" pos:end="87:36">[<expr pos:start="87:32" pos:end="87:35"><name pos:start="87:32" pos:end="87:35">size</name></expr>]</index><index pos:start="87:37" pos:end="87:41">[<expr pos:start="87:38" pos:end="87:40"><name pos:start="87:38" pos:end="87:40">dxy</name></expr>]</index></name><operator pos:start="87:42" pos:end="87:42">(</operator><name pos:start="87:43" pos:end="87:48">dest_y</name>    <operator pos:start="87:53" pos:end="87:53">,</operator> <name pos:start="87:55" pos:end="87:57">ptr</name>    <operator pos:start="87:62" pos:end="87:62">,</operator> <name pos:start="87:64" pos:end="87:69">stride</name><operator pos:start="87:70" pos:end="87:70">,</operator> <name pos:start="87:72" pos:end="87:72">h</name><operator pos:start="87:73" pos:end="87:73">)</operator></expr>;</expr_stmt>



        <expr_stmt pos:start="91:9" pos:end="91:55"><expr pos:start="91:9" pos:end="91:54"><name pos:start="91:9" pos:end="91:11">dxy</name> <operator pos:start="91:13" pos:end="91:13">=</operator> <operator pos:start="91:15" pos:end="91:15">(</operator><operator pos:start="91:16" pos:end="91:16">(</operator><name pos:start="91:17" pos:end="91:25">motion_by</name> <operator pos:start="91:27" pos:end="91:27">&amp;</operator> <literal type="number" pos:start="91:29" pos:end="91:29">1</literal><operator pos:start="91:30" pos:end="91:30">)</operator> <operator pos:start="91:32" pos:end="91:33">&lt;&lt;</operator> <literal type="number" pos:start="91:35" pos:end="91:35">1</literal><operator pos:start="91:36" pos:end="91:36">)</operator> <operator pos:start="91:38" pos:end="91:38">|</operator> <operator pos:start="91:40" pos:end="91:40">(</operator><name pos:start="91:41" pos:end="91:49">motion_bx</name> <operator pos:start="91:51" pos:end="91:51">&amp;</operator> <literal type="number" pos:start="91:53" pos:end="91:53">1</literal><operator pos:start="91:54" pos:end="91:54">)</operator></expr>;</expr_stmt>

        <expr_stmt pos:start="93:9" pos:end="93:31"><expr pos:start="93:9" pos:end="93:30"><name pos:start="93:9" pos:end="93:13">src_x</name> <operator pos:start="93:15" pos:end="93:15">=</operator> <name pos:start="93:17" pos:end="93:25">motion_bx</name> <operator pos:start="93:27" pos:end="93:28">&gt;&gt;</operator> <literal type="number" pos:start="93:30" pos:end="93:30">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="95:9" pos:end="95:31"><expr pos:start="95:9" pos:end="95:30"><name pos:start="95:9" pos:end="95:13">src_y</name> <operator pos:start="95:15" pos:end="95:15">=</operator> <name pos:start="95:17" pos:end="95:25">motion_by</name> <operator pos:start="95:27" pos:end="95:28">&gt;&gt;</operator> <literal type="number" pos:start="95:30" pos:end="95:30">1</literal></expr>;</expr_stmt>



        <expr_stmt pos:start="99:9" pos:end="99:54"><expr pos:start="99:9" pos:end="99:53"><name pos:start="99:9" pos:end="99:11">ptr</name> <operator pos:start="99:13" pos:end="99:13">=</operator> <name pos:start="99:15" pos:end="99:26"><name pos:start="99:15" pos:end="99:23">ref2_data</name><index pos:start="99:24" pos:end="99:26">[<expr pos:start="99:25" pos:end="99:25"><literal type="number" pos:start="99:25" pos:end="99:25">0</literal></expr>]</index></name> <operator pos:start="99:28" pos:end="99:28">+</operator> <operator pos:start="99:30" pos:end="99:30">(</operator><name pos:start="99:31" pos:end="99:35">src_y</name> <operator pos:start="99:37" pos:end="99:37">*</operator> <name pos:start="99:39" pos:end="99:44">stride</name><operator pos:start="99:45" pos:end="99:45">)</operator> <operator pos:start="99:47" pos:end="99:47">+</operator> <name pos:start="99:49" pos:end="99:53">src_x</name></expr>;</expr_stmt>

        <expr_stmt pos:start="101:9" pos:end="101:74"><expr pos:start="101:9" pos:end="101:73"><name pos:start="101:9" pos:end="101:41"><name pos:start="101:9" pos:end="101:9">s</name><operator pos:start="101:10" pos:end="101:11">-&gt;</operator><name pos:start="101:12" pos:end="101:15">hdsp</name><operator pos:start="101:16" pos:end="101:16">.</operator><name pos:start="101:17" pos:end="101:30">avg_pixels_tab</name><index pos:start="101:31" pos:end="101:36">[<expr pos:start="101:32" pos:end="101:35"><name pos:start="101:32" pos:end="101:35">size</name></expr>]</index><index pos:start="101:37" pos:end="101:41">[<expr pos:start="101:38" pos:end="101:40"><name pos:start="101:38" pos:end="101:40">dxy</name></expr>]</index></name><operator pos:start="101:42" pos:end="101:42">(</operator><name pos:start="101:43" pos:end="101:48">dest_y</name>    <operator pos:start="101:53" pos:end="101:53">,</operator> <name pos:start="101:55" pos:end="101:57">ptr</name>    <operator pos:start="101:62" pos:end="101:62">,</operator> <name pos:start="101:64" pos:end="101:69">stride</name><operator pos:start="101:70" pos:end="101:70">,</operator> <name pos:start="101:72" pos:end="101:72">h</name><operator pos:start="101:73" pos:end="101:73">)</operator></expr>;</expr_stmt>

    </block_content>}</block></else></if_stmt>



    <expr_stmt pos:start="107:5" pos:end="111:69"><expr pos:start="107:5" pos:end="111:68"><name pos:start="107:5" pos:end="107:9">fbmin</name> <operator pos:start="107:11" pos:end="107:11">=</operator> <operator pos:start="107:13" pos:end="107:13">(</operator><name pos:start="107:14" pos:end="107:44"><name pos:start="107:14" pos:end="107:25">mv_penalty_f</name><index pos:start="107:26" pos:end="107:44">[<expr pos:start="107:27" pos:end="107:43"><name pos:start="107:27" pos:end="107:35">motion_fx</name><operator pos:start="107:36" pos:end="107:36">-</operator><name pos:start="107:37" pos:end="107:43">pred_fx</name></expr>]</index></name> <operator pos:start="107:46" pos:end="107:46">+</operator> <name pos:start="107:48" pos:end="107:78"><name pos:start="107:48" pos:end="107:59">mv_penalty_f</name><index pos:start="107:60" pos:end="107:78">[<expr pos:start="107:61" pos:end="107:77"><name pos:start="107:61" pos:end="107:69">motion_fy</name><operator pos:start="107:70" pos:end="107:70">-</operator><name pos:start="107:71" pos:end="107:77">pred_fy</name></expr>]</index></name><operator pos:start="107:79" pos:end="107:79">)</operator><operator pos:start="107:80" pos:end="107:80">*</operator><name pos:start="107:81" pos:end="107:100"><name pos:start="107:81" pos:end="107:81">c</name><operator pos:start="107:82" pos:end="107:83">-&gt;</operator><name pos:start="107:84" pos:end="107:100">mb_penalty_factor</name></name>

           <operator pos:start="109:12" pos:end="109:12">+</operator><operator pos:start="109:13" pos:end="109:13">(</operator><name pos:start="109:14" pos:end="109:44"><name pos:start="109:14" pos:end="109:25">mv_penalty_b</name><index pos:start="109:26" pos:end="109:44">[<expr pos:start="109:27" pos:end="109:43"><name pos:start="109:27" pos:end="109:35">motion_bx</name><operator pos:start="109:36" pos:end="109:36">-</operator><name pos:start="109:37" pos:end="109:43">pred_bx</name></expr>]</index></name> <operator pos:start="109:46" pos:end="109:46">+</operator> <name pos:start="109:48" pos:end="109:78"><name pos:start="109:48" pos:end="109:59">mv_penalty_b</name><index pos:start="109:60" pos:end="109:78">[<expr pos:start="109:61" pos:end="109:77"><name pos:start="109:61" pos:end="109:69">motion_by</name><operator pos:start="109:70" pos:end="109:70">-</operator><name pos:start="109:71" pos:end="109:77">pred_by</name></expr>]</index></name><operator pos:start="109:79" pos:end="109:79">)</operator><operator pos:start="109:80" pos:end="109:80">*</operator><name pos:start="109:81" pos:end="109:100"><name pos:start="109:81" pos:end="109:81">c</name><operator pos:start="109:82" pos:end="109:83">-&gt;</operator><name pos:start="109:84" pos:end="109:100">mb_penalty_factor</name></name>

           <operator pos:start="111:12" pos:end="111:12">+</operator> <name pos:start="111:14" pos:end="111:33"><name pos:start="111:14" pos:end="111:14">s</name><operator pos:start="111:15" pos:end="111:16">-&gt;</operator><name pos:start="111:17" pos:end="111:20">mecc</name><operator pos:start="111:21" pos:end="111:21">.</operator><name pos:start="111:22" pos:end="111:27">mb_cmp</name><index pos:start="111:28" pos:end="111:33">[<expr pos:start="111:29" pos:end="111:32"><name pos:start="111:29" pos:end="111:32">size</name></expr>]</index></name><operator pos:start="111:34" pos:end="111:34">(</operator><name pos:start="111:35" pos:end="111:35">s</name><operator pos:start="111:36" pos:end="111:36">,</operator> <name pos:start="111:38" pos:end="111:48"><name pos:start="111:38" pos:end="111:45">src_data</name><index pos:start="111:46" pos:end="111:48">[<expr pos:start="111:47" pos:end="111:47"><literal type="number" pos:start="111:47" pos:end="111:47">0</literal></expr>]</index></name><operator pos:start="111:49" pos:end="111:49">,</operator> <name pos:start="111:51" pos:end="111:56">dest_y</name><operator pos:start="111:57" pos:end="111:57">,</operator> <name pos:start="111:59" pos:end="111:64">stride</name><operator pos:start="111:65" pos:end="111:65">,</operator> <name pos:start="111:67" pos:end="111:67">h</name><operator pos:start="111:68" pos:end="111:68">)</operator></expr>;</expr_stmt> <comment type="line" pos:start="111:71" pos:end="111:86">// FIXME new_pic</comment>



    <if_stmt pos:start="115:5" pos:end="117:5"><if pos:start="115:5" pos:end="117:5">if<condition pos:start="115:7" pos:end="115:38">(<expr pos:start="115:8" pos:end="115:37"><name pos:start="115:8" pos:end="115:23"><name pos:start="115:8" pos:end="115:8">c</name><operator pos:start="115:9" pos:end="115:10">-&gt;</operator><name pos:start="115:11" pos:end="115:15">avctx</name><operator pos:start="115:16" pos:end="115:17">-&gt;</operator><name pos:start="115:18" pos:end="115:23">mb_cmp</name></name><operator pos:start="115:24" pos:end="115:24">&amp;</operator><name pos:start="115:25" pos:end="115:37">FF_CMP_CHROMA</name></expr>)</condition><block pos:start="115:39" pos:end="117:5">{<block_content>

    </block_content>}</block></if></if_stmt>

    <comment type="line" pos:start="119:5" pos:end="119:22">//FIXME CHROMA !!!</comment>



    <return pos:start="123:5" pos:end="123:17">return <expr pos:start="123:12" pos:end="123:16"><name pos:start="123:12" pos:end="123:16">fbmin</name></expr>;</return>

</block_content>}</block></function>
</unit>
