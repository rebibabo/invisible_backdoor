<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/25021.c" pos:tabs="8"><function pos:start="1:1" pos:end="83:1"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:23">setup_frame</name><parameter_list pos:start="1:24" pos:end="3:65">(<parameter pos:start="1:25" pos:end="1:31"><decl pos:start="1:25" pos:end="1:31"><type pos:start="1:25" pos:end="1:31"><name pos:start="1:25" pos:end="1:27">int</name></type> <name pos:start="1:29" pos:end="1:31">sig</name></decl></parameter>, <parameter pos:start="1:34" pos:end="1:60"><decl pos:start="1:34" pos:end="1:60"><type pos:start="1:34" pos:end="1:60"><name pos:start="1:34" pos:end="1:56"><name pos:start="1:34" pos:end="1:39">struct</name> <name pos:start="1:41" pos:end="1:56">target_sigaction</name></name> <modifier pos:start="1:58" pos:end="1:58">*</modifier></type><name pos:start="1:59" pos:end="1:60">ka</name></decl></parameter>,

                        <parameter pos:start="3:25" pos:end="3:44"><decl pos:start="3:25" pos:end="3:44"><type pos:start="3:25" pos:end="3:44"><name pos:start="3:25" pos:end="3:39">target_sigset_t</name> <modifier pos:start="3:41" pos:end="3:41">*</modifier></type><name pos:start="3:42" pos:end="3:44">set</name></decl></parameter>, <parameter pos:start="3:47" pos:end="3:64"><decl pos:start="3:47" pos:end="3:64"><type pos:start="3:47" pos:end="3:64"><name pos:start="3:47" pos:end="3:59">CPUAlphaState</name> <modifier pos:start="3:61" pos:end="3:61">*</modifier></type><name pos:start="3:62" pos:end="3:64">env</name></decl></parameter>)</parameter_list>

<block pos:start="5:1" pos:end="83:1">{<block_content pos:start="7:5" pos:end="81:32">

    <decl_stmt pos:start="7:5" pos:end="7:30"><decl pos:start="7:5" pos:end="7:24"><type pos:start="7:5" pos:end="7:13"><name pos:start="7:5" pos:end="7:13">abi_ulong</name></type> <name pos:start="7:15" pos:end="7:24">frame_addr</name></decl>, <decl pos:start="7:27" pos:end="7:29"><type ref="prev" pos:start="7:5" pos:end="7:13"/><name pos:start="7:27" pos:end="7:29">r26</name></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:34"><decl pos:start="9:5" pos:end="9:33"><type pos:start="9:5" pos:end="9:28"><name pos:start="9:5" pos:end="9:26"><name pos:start="9:5" pos:end="9:10">struct</name> <name pos:start="9:12" pos:end="9:26">target_sigframe</name></name> <modifier pos:start="9:28" pos:end="9:28">*</modifier></type><name pos:start="9:29" pos:end="9:33">frame</name></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:16"><decl pos:start="11:5" pos:end="11:15"><type pos:start="11:5" pos:end="11:7"><name pos:start="11:5" pos:end="11:7">int</name></type> <name pos:start="11:9" pos:end="11:11">err</name> <init pos:start="11:13" pos:end="11:15">= <expr pos:start="11:15" pos:end="11:15"><literal type="number" pos:start="11:15" pos:end="11:15">0</literal></expr></init></decl>;</decl_stmt>



    <expr_stmt pos:start="15:5" pos:end="15:55"><expr pos:start="15:5" pos:end="15:54"><name pos:start="15:5" pos:end="15:14">frame_addr</name> <operator pos:start="15:16" pos:end="15:16">=</operator> <call pos:start="15:18" pos:end="15:54"><name pos:start="15:18" pos:end="15:29">get_sigframe</name><argument_list pos:start="15:30" pos:end="15:54">(<argument pos:start="15:31" pos:end="15:32"><expr pos:start="15:31" pos:end="15:32"><name pos:start="15:31" pos:end="15:32">ka</name></expr></argument>, <argument pos:start="15:35" pos:end="15:37"><expr pos:start="15:35" pos:end="15:37"><name pos:start="15:35" pos:end="15:37">env</name></expr></argument>, <argument pos:start="15:40" pos:end="15:53"><expr pos:start="15:40" pos:end="15:53"><sizeof pos:start="15:40" pos:end="15:53">sizeof<argument_list pos:start="15:46" pos:end="15:53">(<argument pos:start="15:47" pos:end="15:52"><expr pos:start="15:47" pos:end="15:52"><operator pos:start="15:47" pos:end="15:47">*</operator><name pos:start="15:48" pos:end="15:52">frame</name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="17:5" pos:end="21:5"><if pos:start="17:5" pos:end="21:5">if <condition pos:start="17:8" pos:end="17:62">(<expr pos:start="17:9" pos:end="17:61"><operator pos:start="17:9" pos:end="17:9">!</operator><call pos:start="17:10" pos:end="17:61"><name pos:start="17:10" pos:end="17:25">lock_user_struct</name><argument_list pos:start="17:26" pos:end="17:61">(<argument pos:start="17:27" pos:end="17:38"><expr pos:start="17:27" pos:end="17:38"><name pos:start="17:27" pos:end="17:38">VERIFY_WRITE</name></expr></argument>, <argument pos:start="17:41" pos:end="17:45"><expr pos:start="17:41" pos:end="17:45"><name pos:start="17:41" pos:end="17:45">frame</name></expr></argument>, <argument pos:start="17:48" pos:end="17:57"><expr pos:start="17:48" pos:end="17:57"><name pos:start="17:48" pos:end="17:57">frame_addr</name></expr></argument>, <argument pos:start="17:60" pos:end="17:60"><expr pos:start="17:60" pos:end="17:60"><literal type="number" pos:start="17:60" pos:end="17:60">0</literal></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="17:64" pos:end="21:5">{<block_content pos:start="19:9" pos:end="19:26">

        <goto pos:start="19:9" pos:end="19:26">goto <name pos:start="19:14" pos:end="19:25">give_sigsegv</name>;</goto>

    </block_content>}</block></if></if_stmt>



    <expr_stmt pos:start="25:5" pos:end="25:62"><expr pos:start="25:5" pos:end="25:61"><name pos:start="25:5" pos:end="25:7">err</name> <operator pos:start="25:9" pos:end="25:10">|=</operator> <call pos:start="25:12" pos:end="25:61"><name pos:start="25:12" pos:end="25:27">setup_sigcontext</name><argument_list pos:start="25:28" pos:end="25:61">(<argument pos:start="25:29" pos:end="25:38"><expr pos:start="25:29" pos:end="25:38"><operator pos:start="25:29" pos:end="25:29">&amp;</operator><name pos:start="25:30" pos:end="25:38"><name pos:start="25:30" pos:end="25:34">frame</name><operator pos:start="25:35" pos:end="25:36">-&gt;</operator><name pos:start="25:37" pos:end="25:38">sc</name></name></expr></argument>, <argument pos:start="25:41" pos:end="25:43"><expr pos:start="25:41" pos:end="25:43"><name pos:start="25:41" pos:end="25:43">env</name></expr></argument>, <argument pos:start="25:46" pos:end="25:55"><expr pos:start="25:46" pos:end="25:55"><name pos:start="25:46" pos:end="25:55">frame_addr</name></expr></argument>, <argument pos:start="25:58" pos:end="25:60"><expr pos:start="25:58" pos:end="25:60"><name pos:start="25:58" pos:end="25:60">set</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <if_stmt pos:start="29:5" pos:end="47:5"><if pos:start="29:5" pos:end="33:5">if <condition pos:start="29:8" pos:end="29:24">(<expr pos:start="29:9" pos:end="29:23"><name pos:start="29:9" pos:end="29:23"><name pos:start="29:9" pos:end="29:10">ka</name><operator pos:start="29:11" pos:end="29:12">-&gt;</operator><name pos:start="29:13" pos:end="29:23">sa_restorer</name></name></expr>)</condition> <block pos:start="29:26" pos:end="33:5">{<block_content pos:start="31:9" pos:end="31:30">

        <expr_stmt pos:start="31:9" pos:end="31:30"><expr pos:start="31:9" pos:end="31:29"><name pos:start="31:9" pos:end="31:11">r26</name> <operator pos:start="31:13" pos:end="31:13">=</operator> <name pos:start="31:15" pos:end="31:29"><name pos:start="31:15" pos:end="31:16">ka</name><operator pos:start="31:17" pos:end="31:18">-&gt;</operator><name pos:start="31:19" pos:end="31:29">sa_restorer</name></name></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="33:7" pos:end="47:5">else <block pos:start="33:12" pos:end="47:5">{<block_content pos:start="35:9" pos:end="45:25">

        <expr_stmt pos:start="35:9" pos:end="35:57"><expr pos:start="35:9" pos:end="35:56"><call pos:start="35:9" pos:end="35:56"><name pos:start="35:9" pos:end="35:18">__put_user</name><argument_list pos:start="35:19" pos:end="35:56">(<argument pos:start="35:20" pos:end="35:35"><expr pos:start="35:20" pos:end="35:35"><name pos:start="35:20" pos:end="35:35">INSN_MOV_R30_R16</name></expr></argument>, <argument pos:start="35:38" pos:end="35:55"><expr pos:start="35:38" pos:end="35:55"><operator pos:start="35:38" pos:end="35:38">&amp;</operator><name pos:start="35:39" pos:end="35:55"><name pos:start="35:39" pos:end="35:43">frame</name><operator pos:start="35:44" pos:end="35:45">-&gt;</operator><name pos:start="35:46" pos:end="35:52">retcode</name><index pos:start="35:53" pos:end="35:55">[<expr pos:start="35:54" pos:end="35:54"><literal type="number" pos:start="35:54" pos:end="35:54">0</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="37:9" pos:end="39:39"><expr pos:start="37:9" pos:end="39:38"><call pos:start="37:9" pos:end="39:38"><name pos:start="37:9" pos:end="37:18">__put_user</name><argument_list pos:start="37:19" pos:end="39:38">(<argument pos:start="37:20" pos:end="37:52"><expr pos:start="37:20" pos:end="37:52"><name pos:start="37:20" pos:end="37:30">INSN_LDI_R0</name> <operator pos:start="37:32" pos:end="37:32">+</operator> <name pos:start="37:34" pos:end="37:52">TARGET_NR_sigreturn</name></expr></argument>,

                   <argument pos:start="39:20" pos:end="39:37"><expr pos:start="39:20" pos:end="39:37"><operator pos:start="39:20" pos:end="39:20">&amp;</operator><name pos:start="39:21" pos:end="39:37"><name pos:start="39:21" pos:end="39:25">frame</name><operator pos:start="39:26" pos:end="39:27">-&gt;</operator><name pos:start="39:28" pos:end="39:34">retcode</name><index pos:start="39:35" pos:end="39:37">[<expr pos:start="39:36" pos:end="39:36"><literal type="number" pos:start="39:36" pos:end="39:36">1</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="41:9" pos:end="41:53"><expr pos:start="41:9" pos:end="41:52"><call pos:start="41:9" pos:end="41:52"><name pos:start="41:9" pos:end="41:18">__put_user</name><argument_list pos:start="41:19" pos:end="41:52">(<argument pos:start="41:20" pos:end="41:31"><expr pos:start="41:20" pos:end="41:31"><name pos:start="41:20" pos:end="41:31">INSN_CALLSYS</name></expr></argument>, <argument pos:start="41:34" pos:end="41:51"><expr pos:start="41:34" pos:end="41:51"><operator pos:start="41:34" pos:end="41:34">&amp;</operator><name pos:start="41:35" pos:end="41:51"><name pos:start="41:35" pos:end="41:39">frame</name><operator pos:start="41:40" pos:end="41:41">-&gt;</operator><name pos:start="41:42" pos:end="41:48">retcode</name><index pos:start="41:49" pos:end="41:51">[<expr pos:start="41:50" pos:end="41:50"><literal type="number" pos:start="41:50" pos:end="41:50">2</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <comment type="block" pos:start="43:9" pos:end="43:19">/* imb() */</comment>

        <expr_stmt pos:start="45:9" pos:end="45:25"><expr pos:start="45:9" pos:end="45:24"><name pos:start="45:9" pos:end="45:11">r26</name> <operator pos:start="45:13" pos:end="45:13">=</operator> <name pos:start="45:15" pos:end="45:24">frame_addr</name></expr>;</expr_stmt>

    </block_content>}</block></else></if_stmt>



    <expr_stmt pos:start="51:5" pos:end="51:45"><expr pos:start="51:5" pos:end="51:44"><call pos:start="51:5" pos:end="51:44"><name pos:start="51:5" pos:end="51:22">unlock_user_struct</name><argument_list pos:start="51:23" pos:end="51:44">(<argument pos:start="51:24" pos:end="51:28"><expr pos:start="51:24" pos:end="51:28"><name pos:start="51:24" pos:end="51:28">frame</name></expr></argument>, <argument pos:start="51:31" pos:end="51:40"><expr pos:start="51:31" pos:end="51:40"><name pos:start="51:31" pos:end="51:40">frame_addr</name></expr></argument>, <argument pos:start="51:43" pos:end="51:43"><expr pos:start="51:43" pos:end="51:43"><literal type="number" pos:start="51:43" pos:end="51:43">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <if_stmt pos:start="55:5" pos:end="67:5"><if pos:start="55:5" pos:end="67:5">if <condition pos:start="55:8" pos:end="55:12">(<expr pos:start="55:9" pos:end="55:11"><name pos:start="55:9" pos:end="55:11">err</name></expr>)</condition> <block pos:start="55:14" pos:end="67:5">{<block_content pos:start="57:5" pos:end="65:34">

    <label pos:start="57:5" pos:end="57:17"><name pos:start="57:5" pos:end="57:16">give_sigsegv</name>:</label>

        <if_stmt pos:start="59:9" pos:end="63:9"><if pos:start="59:9" pos:end="63:9">if <condition pos:start="59:12" pos:end="59:34">(<expr pos:start="59:13" pos:end="59:33"><name pos:start="59:13" pos:end="59:15">sig</name> <operator pos:start="59:17" pos:end="59:18">==</operator> <name pos:start="59:20" pos:end="59:33">TARGET_SIGSEGV</name></expr>)</condition> <block pos:start="59:36" pos:end="63:9">{<block_content pos:start="61:13" pos:end="61:45">

            <expr_stmt pos:start="61:13" pos:end="61:45"><expr pos:start="61:13" pos:end="61:44"><name pos:start="61:13" pos:end="61:27"><name pos:start="61:13" pos:end="61:14">ka</name><operator pos:start="61:15" pos:end="61:16">-&gt;</operator><name pos:start="61:17" pos:end="61:27">_sa_handler</name></name> <operator pos:start="61:29" pos:end="61:29">=</operator> <name pos:start="61:31" pos:end="61:44">TARGET_SIG_DFL</name></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>

        <expr_stmt pos:start="65:9" pos:end="65:34"><expr pos:start="65:9" pos:end="65:33"><call pos:start="65:9" pos:end="65:33"><name pos:start="65:9" pos:end="65:17">force_sig</name><argument_list pos:start="65:18" pos:end="65:33">(<argument pos:start="65:19" pos:end="65:32"><expr pos:start="65:19" pos:end="65:32"><name pos:start="65:19" pos:end="65:32">TARGET_SIGSEGV</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <expr_stmt pos:start="71:5" pos:end="71:25"><expr pos:start="71:5" pos:end="71:24"><name pos:start="71:5" pos:end="71:18"><name pos:start="71:5" pos:end="71:7">env</name><operator pos:start="71:8" pos:end="71:9">-&gt;</operator><name pos:start="71:10" pos:end="71:11">ir</name><index pos:start="71:12" pos:end="71:18">[<expr pos:start="71:13" pos:end="71:17"><name pos:start="71:13" pos:end="71:17">IR_RA</name></expr>]</index></name> <operator pos:start="71:20" pos:end="71:20">=</operator> <name pos:start="71:22" pos:end="71:24">r26</name></expr>;</expr_stmt>

    <expr_stmt pos:start="73:5" pos:end="73:47"><expr pos:start="73:5" pos:end="73:46"><name pos:start="73:5" pos:end="73:18"><name pos:start="73:5" pos:end="73:7">env</name><operator pos:start="73:8" pos:end="73:9">-&gt;</operator><name pos:start="73:10" pos:end="73:11">ir</name><index pos:start="73:12" pos:end="73:18">[<expr pos:start="73:13" pos:end="73:17"><name pos:start="73:13" pos:end="73:17">IR_PV</name></expr>]</index></name> <operator pos:start="73:20" pos:end="73:20">=</operator> <name pos:start="73:22" pos:end="73:28"><name pos:start="73:22" pos:end="73:24">env</name><operator pos:start="73:25" pos:end="73:26">-&gt;</operator><name pos:start="73:27" pos:end="73:28">pc</name></name> <operator pos:start="73:30" pos:end="73:30">=</operator> <name pos:start="73:32" pos:end="73:46"><name pos:start="73:32" pos:end="73:33">ka</name><operator pos:start="73:34" pos:end="73:35">-&gt;</operator><name pos:start="73:36" pos:end="73:46">_sa_handler</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="75:5" pos:end="75:25"><expr pos:start="75:5" pos:end="75:24"><name pos:start="75:5" pos:end="75:18"><name pos:start="75:5" pos:end="75:7">env</name><operator pos:start="75:8" pos:end="75:9">-&gt;</operator><name pos:start="75:10" pos:end="75:11">ir</name><index pos:start="75:12" pos:end="75:18">[<expr pos:start="75:13" pos:end="75:17"><name pos:start="75:13" pos:end="75:17">IR_A0</name></expr>]</index></name> <operator pos:start="75:20" pos:end="75:20">=</operator> <name pos:start="75:22" pos:end="75:24">sig</name></expr>;</expr_stmt>

    <expr_stmt pos:start="77:5" pos:end="77:23"><expr pos:start="77:5" pos:end="77:22"><name pos:start="77:5" pos:end="77:18"><name pos:start="77:5" pos:end="77:7">env</name><operator pos:start="77:8" pos:end="77:9">-&gt;</operator><name pos:start="77:10" pos:end="77:11">ir</name><index pos:start="77:12" pos:end="77:18">[<expr pos:start="77:13" pos:end="77:17"><name pos:start="77:13" pos:end="77:17">IR_A1</name></expr>]</index></name> <operator pos:start="77:20" pos:end="77:20">=</operator> <literal type="number" pos:start="77:22" pos:end="77:22">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="79:5" pos:end="79:71"><expr pos:start="79:5" pos:end="79:70"><name pos:start="79:5" pos:end="79:18"><name pos:start="79:5" pos:end="79:7">env</name><operator pos:start="79:8" pos:end="79:9">-&gt;</operator><name pos:start="79:10" pos:end="79:11">ir</name><index pos:start="79:12" pos:end="79:18">[<expr pos:start="79:13" pos:end="79:17"><name pos:start="79:13" pos:end="79:17">IR_A2</name></expr>]</index></name> <operator pos:start="79:20" pos:end="79:20">=</operator> <name pos:start="79:22" pos:end="79:31">frame_addr</name> <operator pos:start="79:33" pos:end="79:33">+</operator> <call pos:start="79:35" pos:end="79:70"><name pos:start="79:35" pos:end="79:42">offsetof</name><argument_list pos:start="79:43" pos:end="79:70">(<argument pos:start="79:44" pos:end="79:65"><expr pos:start="79:44" pos:end="79:65">struct <name pos:start="79:51" pos:end="79:65">target_sigframe</name></expr></argument>, <argument pos:start="79:68" pos:end="79:69"><expr pos:start="79:68" pos:end="79:69"><name pos:start="79:68" pos:end="79:69">sc</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="81:5" pos:end="81:32"><expr pos:start="81:5" pos:end="81:31"><name pos:start="81:5" pos:end="81:18"><name pos:start="81:5" pos:end="81:7">env</name><operator pos:start="81:8" pos:end="81:9">-&gt;</operator><name pos:start="81:10" pos:end="81:11">ir</name><index pos:start="81:12" pos:end="81:18">[<expr pos:start="81:13" pos:end="81:17"><name pos:start="81:13" pos:end="81:17">IR_SP</name></expr>]</index></name> <operator pos:start="81:20" pos:end="81:20">=</operator> <name pos:start="81:22" pos:end="81:31">frame_addr</name></expr>;</expr_stmt>

</block_content>}</block></function>
</unit>
