<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/26951.c" pos:tabs="8"><function pos:start="1:1" pos:end="57:1"><type pos:start="1:1" pos:end="1:19"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:19">RemoveResult</name></type> <name pos:start="1:21" pos:end="1:31">remove_hpte</name><parameter_list pos:start="1:32" pos:end="7:67">(<parameter pos:start="1:33" pos:end="1:47"><decl pos:start="1:33" pos:end="1:47"><type pos:start="1:33" pos:end="1:47"><name pos:start="1:33" pos:end="1:42">PowerPCCPU</name> <modifier pos:start="1:44" pos:end="1:44">*</modifier></type><name pos:start="1:45" pos:end="1:47">cpu</name></decl></parameter>, <parameter pos:start="1:50" pos:end="1:66"><decl pos:start="1:50" pos:end="1:66"><type pos:start="1:50" pos:end="1:66"><name pos:start="1:50" pos:end="1:61">target_ulong</name></type> <name pos:start="1:63" pos:end="1:66">ptex</name></decl></parameter>,

                                <parameter pos:start="3:33" pos:end="3:49"><decl pos:start="3:33" pos:end="3:49"><type pos:start="3:33" pos:end="3:49"><name pos:start="3:33" pos:end="3:44">target_ulong</name></type> <name pos:start="3:46" pos:end="3:49">avpn</name></decl></parameter>,

                                <parameter pos:start="5:33" pos:end="5:50"><decl pos:start="5:33" pos:end="5:50"><type pos:start="5:33" pos:end="5:50"><name pos:start="5:33" pos:end="5:44">target_ulong</name></type> <name pos:start="5:46" pos:end="5:50">flags</name></decl></parameter>,

                                <parameter pos:start="7:33" pos:end="7:48"><decl pos:start="7:33" pos:end="7:48"><type pos:start="7:33" pos:end="7:48"><name pos:start="7:33" pos:end="7:44">target_ulong</name> <modifier pos:start="7:46" pos:end="7:46">*</modifier></type><name pos:start="7:47" pos:end="7:48">vp</name></decl></parameter>, <parameter pos:start="7:51" pos:end="7:66"><decl pos:start="7:51" pos:end="7:66"><type pos:start="7:51" pos:end="7:66"><name pos:start="7:51" pos:end="7:62">target_ulong</name> <modifier pos:start="7:64" pos:end="7:64">*</modifier></type><name pos:start="7:65" pos:end="7:66">rp</name></decl></parameter>)</parameter_list>

<block pos:start="9:1" pos:end="57:1">{<block_content pos:start="11:5" pos:end="55:26">

    <decl_stmt pos:start="11:5" pos:end="11:33"><decl pos:start="11:5" pos:end="11:32"><type pos:start="11:5" pos:end="11:17"><name pos:start="11:5" pos:end="11:15">CPUPPCState</name> <modifier pos:start="11:17" pos:end="11:17">*</modifier></type><name pos:start="11:18" pos:end="11:20">env</name> <init pos:start="11:22" pos:end="11:32">= <expr pos:start="11:24" pos:end="11:32"><operator pos:start="11:24" pos:end="11:24">&amp;</operator><name pos:start="11:25" pos:end="11:32"><name pos:start="11:25" pos:end="11:27">cpu</name><operator pos:start="11:28" pos:end="11:29">-&gt;</operator><name pos:start="11:30" pos:end="11:32">env</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:19"><decl pos:start="13:5" pos:end="13:18"><type pos:start="13:5" pos:end="13:12"><name pos:start="13:5" pos:end="13:12">uint64_t</name></type> <name pos:start="13:14" pos:end="13:18">token</name></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="15:22"><decl pos:start="15:5" pos:end="15:18"><type pos:start="15:5" pos:end="15:16"><name pos:start="15:5" pos:end="15:16">target_ulong</name></type> <name pos:start="15:18" pos:end="15:18">v</name></decl>, <decl pos:start="15:21" pos:end="15:21"><type ref="prev" pos:start="15:5" pos:end="15:16"/><name pos:start="15:21" pos:end="15:21">r</name></decl>;</decl_stmt>



    <if_stmt pos:start="19:5" pos:end="23:5"><if pos:start="19:5" pos:end="23:5">if <condition pos:start="19:8" pos:end="19:36">(<expr pos:start="19:9" pos:end="19:35"><operator pos:start="19:9" pos:end="19:9">!</operator><call pos:start="19:10" pos:end="19:35"><name pos:start="19:10" pos:end="19:24">valid_pte_index</name><argument_list pos:start="19:25" pos:end="19:35">(<argument pos:start="19:26" pos:end="19:28"><expr pos:start="19:26" pos:end="19:28"><name pos:start="19:26" pos:end="19:28">env</name></expr></argument>, <argument pos:start="19:31" pos:end="19:34"><expr pos:start="19:31" pos:end="19:34"><name pos:start="19:31" pos:end="19:34">ptex</name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="19:38" pos:end="23:5">{<block_content pos:start="21:9" pos:end="21:27">

        <return pos:start="21:9" pos:end="21:27">return <expr pos:start="21:16" pos:end="21:26"><name pos:start="21:16" pos:end="21:26">REMOVE_PARM</name></expr>;</return>

    </block_content>}</block></if></if_stmt>



    <expr_stmt pos:start="27:5" pos:end="27:47"><expr pos:start="27:5" pos:end="27:46"><name pos:start="27:5" pos:end="27:9">token</name> <operator pos:start="27:11" pos:end="27:11">=</operator> <call pos:start="27:13" pos:end="27:46"><name pos:start="27:13" pos:end="27:35">ppc_hash64_start_access</name><argument_list pos:start="27:36" pos:end="27:46">(<argument pos:start="27:37" pos:end="27:39"><expr pos:start="27:37" pos:end="27:39"><name pos:start="27:37" pos:end="27:39">cpu</name></expr></argument>, <argument pos:start="27:42" pos:end="27:45"><expr pos:start="27:42" pos:end="27:45"><name pos:start="27:42" pos:end="27:45">ptex</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="29:5" pos:end="29:45"><expr pos:start="29:5" pos:end="29:44"><name pos:start="29:5" pos:end="29:5">v</name> <operator pos:start="29:7" pos:end="29:7">=</operator> <call pos:start="29:9" pos:end="29:44"><name pos:start="29:9" pos:end="29:29">ppc_hash64_load_hpte0</name><argument_list pos:start="29:30" pos:end="29:44">(<argument pos:start="29:31" pos:end="29:33"><expr pos:start="29:31" pos:end="29:33"><name pos:start="29:31" pos:end="29:33">cpu</name></expr></argument>, <argument pos:start="29:36" pos:end="29:40"><expr pos:start="29:36" pos:end="29:40"><name pos:start="29:36" pos:end="29:40">token</name></expr></argument>, <argument pos:start="29:43" pos:end="29:43"><expr pos:start="29:43" pos:end="29:43"><literal type="number" pos:start="29:43" pos:end="29:43">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="31:5" pos:end="31:45"><expr pos:start="31:5" pos:end="31:44"><name pos:start="31:5" pos:end="31:5">r</name> <operator pos:start="31:7" pos:end="31:7">=</operator> <call pos:start="31:9" pos:end="31:44"><name pos:start="31:9" pos:end="31:29">ppc_hash64_load_hpte1</name><argument_list pos:start="31:30" pos:end="31:44">(<argument pos:start="31:31" pos:end="31:33"><expr pos:start="31:31" pos:end="31:33"><name pos:start="31:31" pos:end="31:33">cpu</name></expr></argument>, <argument pos:start="31:36" pos:end="31:40"><expr pos:start="31:36" pos:end="31:40"><name pos:start="31:36" pos:end="31:40">token</name></expr></argument>, <argument pos:start="31:43" pos:end="31:43"><expr pos:start="31:43" pos:end="31:43"><literal type="number" pos:start="31:43" pos:end="31:43">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="33:5" pos:end="33:34"><expr pos:start="33:5" pos:end="33:33"><call pos:start="33:5" pos:end="33:33"><name pos:start="33:5" pos:end="33:26">ppc_hash64_stop_access</name><argument_list pos:start="33:27" pos:end="33:33">(<argument pos:start="33:28" pos:end="33:32"><expr pos:start="33:28" pos:end="33:32"><name pos:start="33:28" pos:end="33:32">token</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <if_stmt pos:start="37:5" pos:end="45:5"><if pos:start="37:5" pos:end="45:5">if <condition pos:start="37:8" pos:end="41:49">(<expr pos:start="37:9" pos:end="41:48"><operator pos:start="37:9" pos:end="37:9">(</operator><name pos:start="37:10" pos:end="37:10">v</name> <operator pos:start="37:12" pos:end="37:12">&amp;</operator> <name pos:start="37:14" pos:end="37:27">HPTE64_V_VALID</name><operator pos:start="37:28" pos:end="37:28">)</operator> <operator pos:start="37:30" pos:end="37:31">==</operator> <literal type="number" pos:start="37:33" pos:end="37:33">0</literal> <operator pos:start="37:35" pos:end="37:36">||</operator>

        <operator pos:start="39:9" pos:end="39:9">(</operator><operator pos:start="39:10" pos:end="39:10">(</operator><name pos:start="39:11" pos:end="39:15">flags</name> <operator pos:start="39:17" pos:end="39:17">&amp;</operator> <name pos:start="39:19" pos:end="39:24">H_AVPN</name><operator pos:start="39:25" pos:end="39:25">)</operator> <operator pos:start="39:27" pos:end="39:28">&amp;&amp;</operator> <operator pos:start="39:30" pos:end="39:30">(</operator><name pos:start="39:31" pos:end="39:31">v</name> <operator pos:start="39:33" pos:end="39:33">&amp;</operator> <operator pos:start="39:35" pos:end="39:35">~</operator><literal type="number" pos:start="39:36" pos:end="39:42">0x7fULL</literal><operator pos:start="39:43" pos:end="39:43">)</operator> <operator pos:start="39:45" pos:end="39:46">!=</operator> <name pos:start="39:48" pos:end="39:51">avpn</name><operator pos:start="39:52" pos:end="39:52">)</operator> <operator pos:start="39:54" pos:end="39:55">||</operator>

        <operator pos:start="41:9" pos:end="41:9">(</operator><operator pos:start="41:10" pos:end="41:10">(</operator><name pos:start="41:11" pos:end="41:15">flags</name> <operator pos:start="41:17" pos:end="41:17">&amp;</operator> <name pos:start="41:19" pos:end="41:27">H_ANDCOND</name><operator pos:start="41:28" pos:end="41:28">)</operator> <operator pos:start="41:30" pos:end="41:31">&amp;&amp;</operator> <operator pos:start="41:33" pos:end="41:33">(</operator><name pos:start="41:34" pos:end="41:34">v</name> <operator pos:start="41:36" pos:end="41:36">&amp;</operator> <name pos:start="41:38" pos:end="41:41">avpn</name><operator pos:start="41:42" pos:end="41:42">)</operator> <operator pos:start="41:44" pos:end="41:45">!=</operator> <literal type="number" pos:start="41:47" pos:end="41:47">0</literal><operator pos:start="41:48" pos:end="41:48">)</operator></expr>)</condition> <block pos:start="41:51" pos:end="45:5">{<block_content pos:start="43:9" pos:end="43:32">

        <return pos:start="43:9" pos:end="43:32">return <expr pos:start="43:16" pos:end="43:31"><name pos:start="43:16" pos:end="43:31">REMOVE_NOT_FOUND</name></expr>;</return>

    </block_content>}</block></if></if_stmt>

    <expr_stmt pos:start="47:5" pos:end="47:12"><expr pos:start="47:5" pos:end="47:11"><operator pos:start="47:5" pos:end="47:5">*</operator><name pos:start="47:6" pos:end="47:7">vp</name> <operator pos:start="47:9" pos:end="47:9">=</operator> <name pos:start="47:11" pos:end="47:11">v</name></expr>;</expr_stmt>

    <expr_stmt pos:start="49:5" pos:end="49:12"><expr pos:start="49:5" pos:end="49:11"><operator pos:start="49:5" pos:end="49:5">*</operator><name pos:start="49:6" pos:end="49:7">rp</name> <operator pos:start="49:9" pos:end="49:9">=</operator> <name pos:start="49:11" pos:end="49:11">r</name></expr>;</expr_stmt>

    <expr_stmt pos:start="51:5" pos:end="51:61"><expr pos:start="51:5" pos:end="51:60"><call pos:start="51:5" pos:end="51:60"><name pos:start="51:5" pos:end="51:25">ppc_hash64_store_hpte</name><argument_list pos:start="51:26" pos:end="51:60">(<argument pos:start="51:27" pos:end="51:29"><expr pos:start="51:27" pos:end="51:29"><name pos:start="51:27" pos:end="51:29">cpu</name></expr></argument>, <argument pos:start="51:32" pos:end="51:35"><expr pos:start="51:32" pos:end="51:35"><name pos:start="51:32" pos:end="51:35">ptex</name></expr></argument>, <argument pos:start="51:38" pos:end="51:56"><expr pos:start="51:38" pos:end="51:56"><name pos:start="51:38" pos:end="51:56">HPTE64_V_HPTE_DIRTY</name></expr></argument>, <argument pos:start="51:59" pos:end="51:59"><expr pos:start="51:59" pos:end="51:59"><literal type="number" pos:start="51:59" pos:end="51:59">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="53:5" pos:end="53:47"><expr pos:start="53:5" pos:end="53:46"><call pos:start="53:5" pos:end="53:46"><name pos:start="53:5" pos:end="53:29">ppc_hash64_tlb_flush_hpte</name><argument_list pos:start="53:30" pos:end="53:46">(<argument pos:start="53:31" pos:end="53:33"><expr pos:start="53:31" pos:end="53:33"><name pos:start="53:31" pos:end="53:33">cpu</name></expr></argument>, <argument pos:start="53:36" pos:end="53:39"><expr pos:start="53:36" pos:end="53:39"><name pos:start="53:36" pos:end="53:39">ptex</name></expr></argument>, <argument pos:start="53:42" pos:end="53:42"><expr pos:start="53:42" pos:end="53:42"><name pos:start="53:42" pos:end="53:42">v</name></expr></argument>, <argument pos:start="53:45" pos:end="53:45"><expr pos:start="53:45" pos:end="53:45"><name pos:start="53:45" pos:end="53:45">r</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <return pos:start="55:5" pos:end="55:26">return <expr pos:start="55:12" pos:end="55:25"><name pos:start="55:12" pos:end="55:25">REMOVE_SUCCESS</name></expr>;</return>

</block_content>}</block></function>
</unit>
