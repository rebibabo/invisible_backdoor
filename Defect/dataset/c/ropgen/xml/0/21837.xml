<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/21837.c" pos:tabs="8"><function pos:start="1:1" pos:end="49:1"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:29">to_meta_with_crop</name><parameter_list pos:start="1:30" pos:end="1:75">(<parameter pos:start="1:31" pos:end="1:51"><decl pos:start="1:31" pos:end="1:51"><type pos:start="1:31" pos:end="1:51"><name pos:start="1:31" pos:end="1:44">AVCodecContext</name> <modifier pos:start="1:46" pos:end="1:46">*</modifier></type><name pos:start="1:47" pos:end="1:51">avctx</name></decl></parameter>, <parameter pos:start="1:54" pos:end="1:63"><decl pos:start="1:54" pos:end="1:63"><type pos:start="1:54" pos:end="1:63"><name pos:start="1:54" pos:end="1:60">AVFrame</name> <modifier pos:start="1:62" pos:end="1:62">*</modifier></type><name pos:start="1:63" pos:end="1:63">p</name></decl></parameter>, <parameter pos:start="1:66" pos:end="1:74"><decl pos:start="1:66" pos:end="1:74"><type pos:start="1:66" pos:end="1:74"><name pos:start="1:66" pos:end="1:68">int</name> <modifier pos:start="1:70" pos:end="1:70">*</modifier></type><name pos:start="1:71" pos:end="1:74">dest</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="49:1">{<block_content pos:start="5:5" pos:end="47:5">

    <decl_stmt pos:start="5:5" pos:end="5:29"><decl pos:start="5:5" pos:end="5:14"><type pos:start="5:5" pos:end="5:7"><name pos:start="5:5" pos:end="5:7">int</name></type> <name pos:start="5:9" pos:end="5:14">blockx</name></decl>, <decl pos:start="5:17" pos:end="5:22"><type ref="prev" pos:start="5:5" pos:end="5:7"/><name pos:start="5:17" pos:end="5:22">blocky</name></decl>, <decl pos:start="5:25" pos:end="5:25"><type ref="prev" pos:start="5:5" pos:end="5:7"/><name pos:start="5:25" pos:end="5:25">x</name></decl>, <decl pos:start="5:28" pos:end="5:28"><type ref="prev" pos:start="5:5" pos:end="5:7"/><name pos:start="5:28" pos:end="5:28">y</name></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:17"><decl pos:start="7:5" pos:end="7:16"><type pos:start="7:5" pos:end="7:7"><name pos:start="7:5" pos:end="7:7">int</name></type> <name pos:start="7:9" pos:end="7:12">luma</name> <init pos:start="7:14" pos:end="7:16">= <expr pos:start="7:16" pos:end="7:16"><literal type="number" pos:start="7:16" pos:end="7:16">0</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:47"><decl pos:start="9:5" pos:end="9:46"><type pos:start="9:5" pos:end="9:7"><name pos:start="9:5" pos:end="9:7">int</name></type> <name pos:start="9:9" pos:end="9:14">height</name> <init pos:start="9:16" pos:end="9:46">= <expr pos:start="9:18" pos:end="9:46"><call pos:start="9:18" pos:end="9:46"><name pos:start="9:18" pos:end="9:22">FFMIN</name><argument_list pos:start="9:23" pos:end="9:46">(<argument pos:start="9:24" pos:end="9:36"><expr pos:start="9:24" pos:end="9:36"><name pos:start="9:24" pos:end="9:36"><name pos:start="9:24" pos:end="9:28">avctx</name><operator pos:start="9:29" pos:end="9:30">-&gt;</operator><name pos:start="9:31" pos:end="9:36">height</name></name></expr></argument>, <argument pos:start="9:39" pos:end="9:45"><expr pos:start="9:39" pos:end="9:45"><name pos:start="9:39" pos:end="9:45">C64YRES</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:47"><decl pos:start="11:5" pos:end="11:46"><type pos:start="11:5" pos:end="11:7"><name pos:start="11:5" pos:end="11:7">int</name></type> <name pos:start="11:9" pos:end="11:13">width</name>  <init pos:start="11:16" pos:end="11:46">= <expr pos:start="11:18" pos:end="11:46"><call pos:start="11:18" pos:end="11:46"><name pos:start="11:18" pos:end="11:22">FFMIN</name><argument_list pos:start="11:23" pos:end="11:46">(<argument pos:start="11:24" pos:end="11:35"><expr pos:start="11:24" pos:end="11:35"><name pos:start="11:24" pos:end="11:35"><name pos:start="11:24" pos:end="11:28">avctx</name><operator pos:start="11:29" pos:end="11:30">-&gt;</operator><name pos:start="11:31" pos:end="11:35">width</name></name></expr></argument> , <argument pos:start="11:39" pos:end="11:45"><expr pos:start="11:39" pos:end="11:45"><name pos:start="11:39" pos:end="11:45">C64XRES</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:30"><decl pos:start="13:5" pos:end="13:29"><type pos:start="13:5" pos:end="13:13"><name pos:start="13:5" pos:end="13:11">uint8_t</name> <modifier pos:start="13:13" pos:end="13:13">*</modifier></type><name pos:start="13:14" pos:end="13:16">src</name> <init pos:start="13:18" pos:end="13:29">= <expr pos:start="13:20" pos:end="13:29"><name pos:start="13:20" pos:end="13:29"><name pos:start="13:20" pos:end="13:20">p</name><operator pos:start="13:21" pos:end="13:22">-&gt;</operator><name pos:start="13:23" pos:end="13:26">data</name><index pos:start="13:27" pos:end="13:29">[<expr pos:start="13:28" pos:end="13:28"><literal type="number" pos:start="13:28" pos:end="13:28">0</literal></expr>]</index></name></expr></init></decl>;</decl_stmt>



    <for pos:start="17:5" pos:end="47:5">for <control pos:start="17:9" pos:end="17:51">(<init pos:start="17:10" pos:end="17:20"><expr pos:start="17:10" pos:end="17:19"><name pos:start="17:10" pos:end="17:15">blocky</name> <operator pos:start="17:17" pos:end="17:17">=</operator> <literal type="number" pos:start="17:19" pos:end="17:19">0</literal></expr>;</init> <condition pos:start="17:22" pos:end="17:38"><expr pos:start="17:22" pos:end="17:37"><name pos:start="17:22" pos:end="17:27">blocky</name> <operator pos:start="17:29" pos:end="17:29">&lt;</operator> <name pos:start="17:31" pos:end="17:37">C64YRES</name></expr>;</condition> <incr pos:start="17:40" pos:end="17:50"><expr pos:start="17:40" pos:end="17:50"><name pos:start="17:40" pos:end="17:45">blocky</name> <operator pos:start="17:47" pos:end="17:48">+=</operator> <literal type="number" pos:start="17:50" pos:end="17:50">8</literal></expr></incr>)</control> <block pos:start="17:53" pos:end="47:5">{<block_content pos:start="19:9" pos:end="45:9">

        <for pos:start="19:9" pos:end="45:9">for <control pos:start="19:13" pos:end="19:55">(<init pos:start="19:14" pos:end="19:24"><expr pos:start="19:14" pos:end="19:23"><name pos:start="19:14" pos:end="19:19">blockx</name> <operator pos:start="19:21" pos:end="19:21">=</operator> <literal type="number" pos:start="19:23" pos:end="19:23">0</literal></expr>;</init> <condition pos:start="19:26" pos:end="19:42"><expr pos:start="19:26" pos:end="19:41"><name pos:start="19:26" pos:end="19:31">blockx</name> <operator pos:start="19:33" pos:end="19:33">&lt;</operator> <name pos:start="19:35" pos:end="19:41">C64XRES</name></expr>;</condition> <incr pos:start="19:44" pos:end="19:54"><expr pos:start="19:44" pos:end="19:54"><name pos:start="19:44" pos:end="19:49">blockx</name> <operator pos:start="19:51" pos:end="19:52">+=</operator> <literal type="number" pos:start="19:54" pos:end="19:54">8</literal></expr></incr>)</control> <block pos:start="19:57" pos:end="45:9">{<block_content pos:start="21:13" pos:end="43:13">

            <for pos:start="21:13" pos:end="43:13">for <control pos:start="21:17" pos:end="21:64">(<init pos:start="21:18" pos:end="21:28"><expr pos:start="21:18" pos:end="21:27"><name pos:start="21:18" pos:end="21:18">y</name> <operator pos:start="21:20" pos:end="21:20">=</operator> <name pos:start="21:22" pos:end="21:27">blocky</name></expr>;</init> <condition pos:start="21:30" pos:end="21:59"><expr pos:start="21:30" pos:end="21:58"><name pos:start="21:30" pos:end="21:30">y</name> <operator pos:start="21:32" pos:end="21:32">&lt;</operator> <name pos:start="21:34" pos:end="21:39">blocky</name> <operator pos:start="21:41" pos:end="21:41">+</operator> <literal type="number" pos:start="21:43" pos:end="21:43">8</literal> <operator pos:start="21:45" pos:end="21:46">&amp;&amp;</operator> <name pos:start="21:48" pos:end="21:48">y</name> <operator pos:start="21:50" pos:end="21:50">&lt;</operator> <name pos:start="21:52" pos:end="21:58">C64YRES</name></expr>;</condition> <incr pos:start="21:61" pos:end="21:63"><expr pos:start="21:61" pos:end="21:63"><name pos:start="21:61" pos:end="21:61">y</name><operator pos:start="21:62" pos:end="21:63">++</operator></expr></incr>)</control> <block pos:start="21:66" pos:end="43:13">{<block_content pos:start="23:17" pos:end="41:17">

                <for pos:start="23:17" pos:end="41:17">for <control pos:start="23:21" pos:end="23:71">(<init pos:start="23:22" pos:end="23:32"><expr pos:start="23:22" pos:end="23:31"><name pos:start="23:22" pos:end="23:22">x</name> <operator pos:start="23:24" pos:end="23:24">=</operator> <name pos:start="23:26" pos:end="23:31">blockx</name></expr>;</init> <condition pos:start="23:34" pos:end="23:63"><expr pos:start="23:34" pos:end="23:62"><name pos:start="23:34" pos:end="23:34">x</name> <operator pos:start="23:36" pos:end="23:36">&lt;</operator> <name pos:start="23:38" pos:end="23:43">blockx</name> <operator pos:start="23:45" pos:end="23:45">+</operator> <literal type="number" pos:start="23:47" pos:end="23:47">8</literal> <operator pos:start="23:49" pos:end="23:50">&amp;&amp;</operator> <name pos:start="23:52" pos:end="23:52">x</name> <operator pos:start="23:54" pos:end="23:54">&lt;</operator> <name pos:start="23:56" pos:end="23:62">C64XRES</name></expr>;</condition> <incr pos:start="23:65" pos:end="23:70"><expr pos:start="23:65" pos:end="23:70"><name pos:start="23:65" pos:end="23:65">x</name> <operator pos:start="23:67" pos:end="23:68">+=</operator> <literal type="number" pos:start="23:70" pos:end="23:70">2</literal></expr></incr>)</control> <block pos:start="23:73" pos:end="41:17">{<block_content pos:start="25:21" pos:end="39:27">

                    <if_stmt pos:start="25:21" pos:end="37:21"><if pos:start="25:21" pos:end="37:21">if<condition pos:start="25:23" pos:end="25:47">(<expr pos:start="25:24" pos:end="25:46"><name pos:start="25:24" pos:end="25:24">x</name> <operator pos:start="25:26" pos:end="25:26">&lt;</operator> <name pos:start="25:28" pos:end="25:32">width</name> <operator pos:start="25:34" pos:end="25:35">&amp;&amp;</operator> <name pos:start="25:37" pos:end="25:37">y</name> <operator pos:start="25:39" pos:end="25:39">&lt;</operator> <name pos:start="25:41" pos:end="25:46">height</name></expr>)</condition> <block pos:start="25:49" pos:end="37:21">{<block_content pos:start="29:25" pos:end="35:39">

                        <comment type="block" pos:start="27:25" pos:end="27:57">/* build average over 2 pixels */</comment>

                        <expr_stmt pos:start="29:25" pos:end="31:71"><expr pos:start="29:25" pos:end="31:70"><name pos:start="29:25" pos:end="29:28">luma</name> <operator pos:start="29:30" pos:end="29:30">=</operator> <operator pos:start="29:32" pos:end="29:32">(</operator><name pos:start="29:33" pos:end="29:65"><name pos:start="29:33" pos:end="29:35">src</name><index pos:start="29:36" pos:end="29:65">[<expr pos:start="29:37" pos:end="29:64"><operator pos:start="29:37" pos:end="29:37">(</operator><name pos:start="29:38" pos:end="29:38">x</name> <operator pos:start="29:40" pos:end="29:40">+</operator> <literal type="number" pos:start="29:42" pos:end="29:44">0</literal> <operator pos:start="29:44" pos:end="29:44">+</operator> <name pos:start="29:46" pos:end="29:46">y</name> <operator pos:start="29:48" pos:end="29:48">*</operator> <name pos:start="29:50" pos:end="29:63"><name pos:start="29:50" pos:end="29:50">p</name><operator pos:start="29:51" pos:end="29:52">-&gt;</operator><name pos:start="29:53" pos:end="29:60">linesize</name><index pos:start="29:61" pos:end="29:63">[<expr pos:start="29:62" pos:end="29:62"><literal type="number" pos:start="29:62" pos:end="29:62">0</literal></expr>]</index></name><operator pos:start="29:64" pos:end="29:64">)</operator></expr>]</index></name> <operator pos:start="29:67" pos:end="29:67">+</operator>

                                <name pos:start="31:33" pos:end="31:65"><name pos:start="31:33" pos:end="31:35">src</name><index pos:start="31:36" pos:end="31:65">[<expr pos:start="31:37" pos:end="31:64"><operator pos:start="31:37" pos:end="31:37">(</operator><name pos:start="31:38" pos:end="31:38">x</name> <operator pos:start="31:40" pos:end="31:40">+</operator> <literal type="number" pos:start="31:42" pos:end="31:44">1</literal> <operator pos:start="31:44" pos:end="31:44">+</operator> <name pos:start="31:46" pos:end="31:46">y</name> <operator pos:start="31:48" pos:end="31:48">*</operator> <name pos:start="31:50" pos:end="31:63"><name pos:start="31:50" pos:end="31:50">p</name><operator pos:start="31:51" pos:end="31:52">-&gt;</operator><name pos:start="31:53" pos:end="31:60">linesize</name><index pos:start="31:61" pos:end="31:63">[<expr pos:start="31:62" pos:end="31:62"><literal type="number" pos:start="31:62" pos:end="31:62">0</literal></expr>]</index></name><operator pos:start="31:64" pos:end="31:64">)</operator></expr>]</index></name><operator pos:start="31:66" pos:end="31:66">)</operator> <operator pos:start="31:68" pos:end="31:68">/</operator> <literal type="number" pos:start="31:70" pos:end="31:70">2</literal></expr>;</expr_stmt>

                        <comment type="block" pos:start="33:25" pos:end="33:91">/* write blocks as linear data now so they are suitable for elbg */</comment>

                        <expr_stmt pos:start="35:25" pos:end="35:39"><expr pos:start="35:25" pos:end="35:38"><name pos:start="35:25" pos:end="35:31"><name pos:start="35:25" pos:end="35:28">dest</name><index pos:start="35:29" pos:end="35:31">[<expr pos:start="35:30" pos:end="35:30"><literal type="number" pos:start="35:30" pos:end="35:30">0</literal></expr>]</index></name> <operator pos:start="35:33" pos:end="35:33">=</operator> <name pos:start="35:35" pos:end="35:38">luma</name></expr>;</expr_stmt>

                    </block_content>}</block></if></if_stmt>

                    <expr_stmt pos:start="39:21" pos:end="39:27"><expr pos:start="39:21" pos:end="39:26"><name pos:start="39:21" pos:end="39:24">dest</name><operator pos:start="39:25" pos:end="39:26">++</operator></expr>;</expr_stmt>

                </block_content>}</block></for>

            </block_content>}</block></for>

        </block_content>}</block></for>

    </block_content>}</block></for>

</block_content>}</block></function>
</unit>
