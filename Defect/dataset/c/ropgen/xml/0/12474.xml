<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/12474.c" pos:tabs="8"><function pos:start="1:1" pos:end="65:1"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:19">mem_add</name><parameter_list pos:start="1:20" pos:end="1:75">(<parameter pos:start="1:21" pos:end="1:44"><decl pos:start="1:21" pos:end="1:44"><type pos:start="1:21" pos:end="1:44"><name pos:start="1:21" pos:end="1:34">MemoryListener</name> <modifier pos:start="1:36" pos:end="1:36">*</modifier></type><name pos:start="1:37" pos:end="1:44">listener</name></decl></parameter>, <parameter pos:start="1:47" pos:end="1:74"><decl pos:start="1:47" pos:end="1:74"><type pos:start="1:47" pos:end="1:74"><name pos:start="1:47" pos:end="1:65">MemoryRegionSection</name> <modifier pos:start="1:67" pos:end="1:67">*</modifier></type><name pos:start="1:68" pos:end="1:74">section</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="65:1">{<block_content pos:start="5:5" pos:end="63:5">

    <decl_stmt pos:start="5:5" pos:end="5:85"><decl pos:start="5:5" pos:end="5:84"><type pos:start="5:5" pos:end="5:26"><name pos:start="5:5" pos:end="5:24">AddressSpaceDispatch</name> <modifier pos:start="5:26" pos:end="5:26">*</modifier></type><name pos:start="5:27" pos:end="5:27">d</name> <init pos:start="5:29" pos:end="5:84">= <expr pos:start="5:31" pos:end="5:84"><call pos:start="5:31" pos:end="5:84"><name pos:start="5:31" pos:end="5:42">container_of</name><argument_list pos:start="5:43" pos:end="5:84">(<argument pos:start="5:44" pos:end="5:51"><expr pos:start="5:44" pos:end="5:51"><name pos:start="5:44" pos:end="5:51">listener</name></expr></argument>, <argument pos:start="5:54" pos:end="5:73"><expr pos:start="5:54" pos:end="5:73"><name pos:start="5:54" pos:end="5:73">AddressSpaceDispatch</name></expr></argument>, <argument pos:start="5:76" pos:end="5:83"><expr pos:start="5:76" pos:end="5:83"><name pos:start="5:76" pos:end="5:83">listener</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:72"><decl pos:start="7:5" pos:end="7:45"><type pos:start="7:5" pos:end="7:23"><name pos:start="7:5" pos:end="7:23">MemoryRegionSection</name></type> <name pos:start="7:25" pos:end="7:27">now</name> <init pos:start="7:29" pos:end="7:45">= <expr pos:start="7:31" pos:end="7:45"><call pos:start="7:31" pos:end="7:45"><name pos:start="7:31" pos:end="7:35">limit</name><argument_list pos:start="7:36" pos:end="7:45">(<argument pos:start="7:37" pos:end="7:44"><expr pos:start="7:37" pos:end="7:44"><operator pos:start="7:37" pos:end="7:37">*</operator><name pos:start="7:38" pos:end="7:44">section</name></expr></argument>)</argument_list></call></expr></init></decl>, <decl pos:start="7:48" pos:end="7:71"><type ref="prev" pos:start="7:5" pos:end="7:23"/><name pos:start="7:48" pos:end="7:53">remain</name> <init pos:start="7:55" pos:end="7:71">= <expr pos:start="7:57" pos:end="7:71"><call pos:start="7:57" pos:end="7:71"><name pos:start="7:57" pos:end="7:61">limit</name><argument_list pos:start="7:62" pos:end="7:71">(<argument pos:start="7:63" pos:end="7:70"><expr pos:start="7:63" pos:end="7:70"><operator pos:start="7:63" pos:end="7:63">*</operator><name pos:start="7:64" pos:end="7:70">section</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>



    <if_stmt pos:start="11:5" pos:end="29:5"><if pos:start="11:5" pos:end="29:5">if <condition pos:start="11:8" pos:end="13:41">(<expr pos:start="11:9" pos:end="13:40"><operator pos:start="11:9" pos:end="11:9">(</operator><name pos:start="11:10" pos:end="11:40"><name pos:start="11:10" pos:end="11:12">now</name><operator pos:start="11:13" pos:end="11:13">.</operator><name pos:start="11:14" pos:end="11:40">offset_within_address_space</name></name> <operator pos:start="11:42" pos:end="11:42">&amp;</operator> <operator pos:start="11:44" pos:end="11:44">~</operator><name pos:start="11:45" pos:end="11:60">TARGET_PAGE_MASK</name><operator pos:start="11:61" pos:end="11:61">)</operator>

        <operator pos:start="13:9" pos:end="13:10">||</operator> <operator pos:start="13:12" pos:end="13:12">(</operator><name pos:start="13:13" pos:end="13:20"><name pos:start="13:13" pos:end="13:15">now</name><operator pos:start="13:16" pos:end="13:16">.</operator><name pos:start="13:17" pos:end="13:20">size</name></name> <operator pos:start="13:22" pos:end="13:22">&lt;</operator> <name pos:start="13:24" pos:end="13:39">TARGET_PAGE_SIZE</name><operator pos:start="13:40" pos:end="13:40">)</operator></expr>)</condition> <block pos:start="13:43" pos:end="29:5">{<block_content pos:start="15:9" pos:end="27:48">

        <expr_stmt pos:start="15:9" pos:end="19:33"><expr pos:start="15:9" pos:end="19:32"><name pos:start="15:9" pos:end="15:16"><name pos:start="15:9" pos:end="15:11">now</name><operator pos:start="15:12" pos:end="15:12">.</operator><name pos:start="15:13" pos:end="15:16">size</name></name> <operator pos:start="15:18" pos:end="15:18">=</operator> <call pos:start="15:20" pos:end="19:32"><name pos:start="15:20" pos:end="15:22">MIN</name><argument_list pos:start="15:23" pos:end="19:32">(<argument pos:start="15:24" pos:end="17:56"><expr pos:start="15:24" pos:end="17:56"><call pos:start="15:24" pos:end="15:73"><name pos:start="15:24" pos:end="15:40">TARGET_PAGE_ALIGN</name><argument_list pos:start="15:41" pos:end="15:73">(<argument pos:start="15:42" pos:end="15:72"><expr pos:start="15:42" pos:end="15:72"><name pos:start="15:42" pos:end="15:72"><name pos:start="15:42" pos:end="15:44">now</name><operator pos:start="15:45" pos:end="15:45">.</operator><name pos:start="15:46" pos:end="15:72">offset_within_address_space</name></name></expr></argument>)</argument_list></call>

                       <operator pos:start="17:24" pos:end="17:24">-</operator> <name pos:start="17:26" pos:end="17:56"><name pos:start="17:26" pos:end="17:28">now</name><operator pos:start="17:29" pos:end="17:29">.</operator><name pos:start="17:30" pos:end="17:56">offset_within_address_space</name></name></expr></argument>,

                       <argument pos:start="19:24" pos:end="19:31"><expr pos:start="19:24" pos:end="19:31"><name pos:start="19:24" pos:end="19:31"><name pos:start="19:24" pos:end="19:26">now</name><operator pos:start="19:27" pos:end="19:27">.</operator><name pos:start="19:28" pos:end="19:31">size</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="21:9" pos:end="21:34"><expr pos:start="21:9" pos:end="21:33"><call pos:start="21:9" pos:end="21:33"><name pos:start="21:9" pos:end="21:24">register_subpage</name><argument_list pos:start="21:25" pos:end="21:33">(<argument pos:start="21:26" pos:end="21:26"><expr pos:start="21:26" pos:end="21:26"><name pos:start="21:26" pos:end="21:26">d</name></expr></argument>, <argument pos:start="21:29" pos:end="21:32"><expr pos:start="21:29" pos:end="21:32"><operator pos:start="21:29" pos:end="21:29">&amp;</operator><name pos:start="21:30" pos:end="21:32">now</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="23:9" pos:end="23:32"><expr pos:start="23:9" pos:end="23:31"><name pos:start="23:9" pos:end="23:19"><name pos:start="23:9" pos:end="23:14">remain</name><operator pos:start="23:15" pos:end="23:15">.</operator><name pos:start="23:16" pos:end="23:19">size</name></name> <operator pos:start="23:21" pos:end="23:22">-=</operator> <name pos:start="23:24" pos:end="23:31"><name pos:start="23:24" pos:end="23:26">now</name><operator pos:start="23:27" pos:end="23:27">.</operator><name pos:start="23:28" pos:end="23:31">size</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="25:9" pos:end="25:55"><expr pos:start="25:9" pos:end="25:54"><name pos:start="25:9" pos:end="25:42"><name pos:start="25:9" pos:end="25:14">remain</name><operator pos:start="25:15" pos:end="25:15">.</operator><name pos:start="25:16" pos:end="25:42">offset_within_address_space</name></name> <operator pos:start="25:44" pos:end="25:45">+=</operator> <name pos:start="25:47" pos:end="25:54"><name pos:start="25:47" pos:end="25:49">now</name><operator pos:start="25:50" pos:end="25:50">.</operator><name pos:start="25:51" pos:end="25:54">size</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="27:9" pos:end="27:48"><expr pos:start="27:9" pos:end="27:47"><name pos:start="27:9" pos:end="27:35"><name pos:start="27:9" pos:end="27:14">remain</name><operator pos:start="27:15" pos:end="27:15">.</operator><name pos:start="27:16" pos:end="27:35">offset_within_region</name></name> <operator pos:start="27:37" pos:end="27:38">+=</operator> <name pos:start="27:40" pos:end="27:47"><name pos:start="27:40" pos:end="27:42">now</name><operator pos:start="27:43" pos:end="27:43">.</operator><name pos:start="27:44" pos:end="27:47">size</name></name></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    <while pos:start="31:5" pos:end="55:5">while <condition pos:start="31:11" pos:end="31:43">(<expr pos:start="31:12" pos:end="31:42"><name pos:start="31:12" pos:end="31:22"><name pos:start="31:12" pos:end="31:17">remain</name><operator pos:start="31:18" pos:end="31:18">.</operator><name pos:start="31:19" pos:end="31:22">size</name></name> <operator pos:start="31:24" pos:end="31:25">&gt;=</operator> <name pos:start="31:27" pos:end="31:42">TARGET_PAGE_SIZE</name></expr>)</condition> <block pos:start="31:45" pos:end="55:5">{<block_content pos:start="33:9" pos:end="53:48">

        <expr_stmt pos:start="33:9" pos:end="33:21"><expr pos:start="33:9" pos:end="33:20"><name pos:start="33:9" pos:end="33:11">now</name> <operator pos:start="33:13" pos:end="33:13">=</operator> <name pos:start="33:15" pos:end="33:20">remain</name></expr>;</expr_stmt>

        <if_stmt pos:start="35:9" pos:end="47:9"><if pos:start="35:9" pos:end="41:9">if <condition pos:start="35:12" pos:end="35:60">(<expr pos:start="35:13" pos:end="35:59"><name pos:start="35:13" pos:end="35:39"><name pos:start="35:13" pos:end="35:18">remain</name><operator pos:start="35:19" pos:end="35:19">.</operator><name pos:start="35:20" pos:end="35:39">offset_within_region</name></name> <operator pos:start="35:41" pos:end="35:41">&amp;</operator> <operator pos:start="35:43" pos:end="35:43">~</operator><name pos:start="35:44" pos:end="35:59">TARGET_PAGE_MASK</name></expr>)</condition> <block pos:start="35:62" pos:end="41:9">{<block_content pos:start="37:13" pos:end="39:38">

            <expr_stmt pos:start="37:13" pos:end="37:40"><expr pos:start="37:13" pos:end="37:39"><name pos:start="37:13" pos:end="37:20"><name pos:start="37:13" pos:end="37:15">now</name><operator pos:start="37:16" pos:end="37:16">.</operator><name pos:start="37:17" pos:end="37:20">size</name></name> <operator pos:start="37:22" pos:end="37:22">=</operator> <name pos:start="37:24" pos:end="37:39">TARGET_PAGE_SIZE</name></expr>;</expr_stmt>

            <expr_stmt pos:start="39:13" pos:end="39:38"><expr pos:start="39:13" pos:end="39:37"><call pos:start="39:13" pos:end="39:37"><name pos:start="39:13" pos:end="39:28">register_subpage</name><argument_list pos:start="39:29" pos:end="39:37">(<argument pos:start="39:30" pos:end="39:30"><expr pos:start="39:30" pos:end="39:30"><name pos:start="39:30" pos:end="39:30">d</name></expr></argument>, <argument pos:start="39:33" pos:end="39:36"><expr pos:start="39:33" pos:end="39:36"><operator pos:start="39:33" pos:end="39:33">&amp;</operator><name pos:start="39:34" pos:end="39:36">now</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></if> <else pos:start="41:11" pos:end="47:9">else <block pos:start="41:16" pos:end="47:9">{<block_content pos:start="43:13" pos:end="45:40">

            <expr_stmt pos:start="43:13" pos:end="43:41"><expr pos:start="43:13" pos:end="43:40"><name pos:start="43:13" pos:end="43:20"><name pos:start="43:13" pos:end="43:15">now</name><operator pos:start="43:16" pos:end="43:16">.</operator><name pos:start="43:17" pos:end="43:20">size</name></name> <operator pos:start="43:22" pos:end="43:23">&amp;=</operator> <name pos:start="43:25" pos:end="43:40">TARGET_PAGE_MASK</name></expr>;</expr_stmt>

            <expr_stmt pos:start="45:13" pos:end="45:40"><expr pos:start="45:13" pos:end="45:39"><call pos:start="45:13" pos:end="45:39"><name pos:start="45:13" pos:end="45:30">register_multipage</name><argument_list pos:start="45:31" pos:end="45:39">(<argument pos:start="45:32" pos:end="45:32"><expr pos:start="45:32" pos:end="45:32"><name pos:start="45:32" pos:end="45:32">d</name></expr></argument>, <argument pos:start="45:35" pos:end="45:38"><expr pos:start="45:35" pos:end="45:38"><operator pos:start="45:35" pos:end="45:35">&amp;</operator><name pos:start="45:36" pos:end="45:38">now</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></else></if_stmt>

        <expr_stmt pos:start="49:9" pos:end="49:32"><expr pos:start="49:9" pos:end="49:31"><name pos:start="49:9" pos:end="49:19"><name pos:start="49:9" pos:end="49:14">remain</name><operator pos:start="49:15" pos:end="49:15">.</operator><name pos:start="49:16" pos:end="49:19">size</name></name> <operator pos:start="49:21" pos:end="49:22">-=</operator> <name pos:start="49:24" pos:end="49:31"><name pos:start="49:24" pos:end="49:26">now</name><operator pos:start="49:27" pos:end="49:27">.</operator><name pos:start="49:28" pos:end="49:31">size</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="51:9" pos:end="51:55"><expr pos:start="51:9" pos:end="51:54"><name pos:start="51:9" pos:end="51:42"><name pos:start="51:9" pos:end="51:14">remain</name><operator pos:start="51:15" pos:end="51:15">.</operator><name pos:start="51:16" pos:end="51:42">offset_within_address_space</name></name> <operator pos:start="51:44" pos:end="51:45">+=</operator> <name pos:start="51:47" pos:end="51:54"><name pos:start="51:47" pos:end="51:49">now</name><operator pos:start="51:50" pos:end="51:50">.</operator><name pos:start="51:51" pos:end="51:54">size</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="53:9" pos:end="53:48"><expr pos:start="53:9" pos:end="53:47"><name pos:start="53:9" pos:end="53:35"><name pos:start="53:9" pos:end="53:14">remain</name><operator pos:start="53:15" pos:end="53:15">.</operator><name pos:start="53:16" pos:end="53:35">offset_within_region</name></name> <operator pos:start="53:37" pos:end="53:38">+=</operator> <name pos:start="53:40" pos:end="53:47"><name pos:start="53:40" pos:end="53:42">now</name><operator pos:start="53:43" pos:end="53:43">.</operator><name pos:start="53:44" pos:end="53:47">size</name></name></expr>;</expr_stmt>

    </block_content>}</block></while>

    <expr_stmt pos:start="57:5" pos:end="57:17"><expr pos:start="57:5" pos:end="57:16"><name pos:start="57:5" pos:end="57:7">now</name> <operator pos:start="57:9" pos:end="57:9">=</operator> <name pos:start="57:11" pos:end="57:16">remain</name></expr>;</expr_stmt>

    <if_stmt pos:start="59:5" pos:end="63:5"><if pos:start="59:5" pos:end="63:5">if <condition pos:start="59:8" pos:end="59:17">(<expr pos:start="59:9" pos:end="59:16"><name pos:start="59:9" pos:end="59:16"><name pos:start="59:9" pos:end="59:11">now</name><operator pos:start="59:12" pos:end="59:12">.</operator><name pos:start="59:13" pos:end="59:16">size</name></name></expr>)</condition> <block pos:start="59:19" pos:end="63:5">{<block_content pos:start="61:9" pos:end="61:34">

        <expr_stmt pos:start="61:9" pos:end="61:34"><expr pos:start="61:9" pos:end="61:33"><call pos:start="61:9" pos:end="61:33"><name pos:start="61:9" pos:end="61:24">register_subpage</name><argument_list pos:start="61:25" pos:end="61:33">(<argument pos:start="61:26" pos:end="61:26"><expr pos:start="61:26" pos:end="61:26"><name pos:start="61:26" pos:end="61:26">d</name></expr></argument>, <argument pos:start="61:29" pos:end="61:32"><expr pos:start="61:29" pos:end="61:32"><operator pos:start="61:29" pos:end="61:29">&amp;</operator><name pos:start="61:30" pos:end="61:32">now</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

</block_content>}</block></function>
</unit>
