<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:cpp="http://www.srcML.org/srcML/cpp" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/17136.c" pos:tabs="8"><function pos:start="1:1" pos:end="227:1"><type pos:start="1:1" pos:end="1:10"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:10">int</name></type> <name pos:start="1:12" pos:end="1:24">queue_picture</name><parameter_list pos:start="1:25" pos:end="1:85">(<parameter pos:start="1:26" pos:end="1:39"><decl pos:start="1:26" pos:end="1:39"><type pos:start="1:26" pos:end="1:39"><name pos:start="1:26" pos:end="1:35">VideoState</name> <modifier pos:start="1:37" pos:end="1:37">*</modifier></type><name pos:start="1:38" pos:end="1:39">is</name></decl></parameter>, <parameter pos:start="1:42" pos:end="1:59"><decl pos:start="1:42" pos:end="1:59"><type pos:start="1:42" pos:end="1:59"><name pos:start="1:42" pos:end="1:48">AVFrame</name> <modifier pos:start="1:50" pos:end="1:50">*</modifier></type><name pos:start="1:51" pos:end="1:59">src_frame</name></decl></parameter>, <parameter pos:start="1:62" pos:end="1:71"><decl pos:start="1:62" pos:end="1:71"><type pos:start="1:62" pos:end="1:71"><name pos:start="1:62" pos:end="1:67">double</name></type> <name pos:start="1:69" pos:end="1:71">pts</name></decl></parameter>, <parameter pos:start="1:74" pos:end="1:84"><decl pos:start="1:74" pos:end="1:84"><type pos:start="1:74" pos:end="1:84"><name pos:start="1:74" pos:end="1:80">int64_t</name></type> <name pos:start="1:82" pos:end="1:84">pos</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="227:1">{<block_content pos:start="5:5" pos:end="225:13">

    <decl_stmt pos:start="5:5" pos:end="8:0"><decl pos:start="5:5" pos:end="5:20"><type pos:start="5:5" pos:end="5:18"><name pos:start="5:5" pos:end="5:16">VideoPicture</name> <modifier pos:start="5:18" pos:end="5:18">*</modifier></type><name pos:start="5:19" pos:end="5:20">vp</name></decl>;</decl_stmt>

<cpp:if pos:start="7:1" pos:end="7:19">#<cpp:directive pos:start="7:2" pos:end="7:3">if</cpp:directive> <expr pos:start="7:5" pos:end="7:19"><name pos:start="7:5" pos:end="7:19">CONFIG_AVFILTER</name></expr></cpp:if>

    <decl_stmt pos:start="9:5" pos:end="12:0"><decl pos:start="9:5" pos:end="9:22"><type pos:start="9:5" pos:end="9:13"><name pos:start="9:5" pos:end="9:13">AVPicture</name></type> <name pos:start="9:15" pos:end="9:22">pict_src</name></decl>;</decl_stmt>

<cpp:else pos:start="11:1" pos:end="11:5">#<cpp:directive pos:start="11:2" pos:end="11:5">else</cpp:directive></cpp:else>

    <decl_stmt pos:start="13:5" pos:end="16:0"><decl pos:start="13:5" pos:end="13:40"><type pos:start="13:5" pos:end="13:7"><name pos:start="13:5" pos:end="13:7">int</name></type> <name pos:start="13:9" pos:end="13:19">dst_pix_fmt</name> <init pos:start="13:21" pos:end="13:40">= <expr pos:start="13:23" pos:end="13:40"><name pos:start="13:23" pos:end="13:40">AV_PIX_FMT_YUV420P</name></expr></init></decl>;</decl_stmt>

<cpp:endif pos:start="15:1" pos:end="15:6">#<cpp:directive pos:start="15:2" pos:end="15:6">endif</cpp:directive></cpp:endif>

    <comment type="block" pos:start="17:5" pos:end="17:55">/* wait until we have space to put a new picture */</comment>

    <expr_stmt pos:start="19:5" pos:end="19:35"><expr pos:start="19:5" pos:end="19:34"><call pos:start="19:5" pos:end="19:34"><name pos:start="19:5" pos:end="19:17">SDL_LockMutex</name><argument_list pos:start="19:18" pos:end="19:34">(<argument pos:start="19:19" pos:end="19:33"><expr pos:start="19:19" pos:end="19:33"><name pos:start="19:19" pos:end="19:33"><name pos:start="19:19" pos:end="19:20">is</name><operator pos:start="19:21" pos:end="19:22">-&gt;</operator><name pos:start="19:23" pos:end="19:33">pictq_mutex</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <if_stmt pos:start="23:5" pos:end="25:102"><if pos:start="23:5" pos:end="25:102">if <condition pos:start="23:8" pos:end="23:67">(<expr pos:start="23:9" pos:end="23:66"><name pos:start="23:9" pos:end="23:22"><name pos:start="23:9" pos:end="23:10">is</name><operator pos:start="23:11" pos:end="23:12">-&gt;</operator><name pos:start="23:13" pos:end="23:22">pictq_size</name></name> <operator pos:start="23:24" pos:end="23:25">&gt;=</operator> <name pos:start="23:27" pos:end="23:50">VIDEO_PICTURE_QUEUE_SIZE</name> <operator pos:start="23:52" pos:end="23:53">&amp;&amp;</operator> <operator pos:start="23:55" pos:end="23:55">!</operator><name pos:start="23:56" pos:end="23:66"><name pos:start="23:56" pos:end="23:57">is</name><operator pos:start="23:58" pos:end="23:59">-&gt;</operator><name pos:start="23:60" pos:end="23:66">refresh</name></name></expr>)</condition><block type="pseudo" pos:start="25:9" pos:end="25:102"><block_content pos:start="25:9" pos:end="25:102">

        <expr_stmt pos:start="25:9" pos:end="25:102"><expr pos:start="25:9" pos:end="25:101"><name pos:start="25:9" pos:end="25:23"><name pos:start="25:9" pos:end="25:10">is</name><operator pos:start="25:11" pos:end="25:12">-&gt;</operator><name pos:start="25:13" pos:end="25:23">skip_frames</name></name> <operator pos:start="25:25" pos:end="25:25">=</operator> <call pos:start="25:27" pos:end="25:101"><name pos:start="25:27" pos:end="25:31">FFMAX</name><argument_list pos:start="25:32" pos:end="25:101">(<argument pos:start="25:33" pos:end="25:55"><expr pos:start="25:33" pos:end="25:55"><literal type="number" pos:start="25:33" pos:end="25:37">1.0</literal> <operator pos:start="25:37" pos:end="25:37">-</operator> <name pos:start="25:39" pos:end="25:55">FRAME_SKIP_FACTOR</name></expr></argument>, <argument pos:start="25:58" pos:end="25:100"><expr pos:start="25:58" pos:end="25:100"><name pos:start="25:58" pos:end="25:72"><name pos:start="25:58" pos:end="25:59">is</name><operator pos:start="25:60" pos:end="25:61">-&gt;</operator><name pos:start="25:62" pos:end="25:72">skip_frames</name></name> <operator pos:start="25:74" pos:end="25:74">*</operator> <operator pos:start="25:76" pos:end="25:76">(</operator><literal type="number" pos:start="25:77" pos:end="25:81">1.0</literal> <operator pos:start="25:81" pos:end="25:81">-</operator> <name pos:start="25:83" pos:end="25:99">FRAME_SKIP_FACTOR</name><operator pos:start="25:100" pos:end="25:100">)</operator></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>



    <while pos:start="29:5" pos:end="35:5">while <condition pos:start="29:11" pos:end="31:37">(<expr pos:start="29:12" pos:end="31:36"><name pos:start="29:12" pos:end="29:25"><name pos:start="29:12" pos:end="29:13">is</name><operator pos:start="29:14" pos:end="29:15">-&gt;</operator><name pos:start="29:16" pos:end="29:25">pictq_size</name></name> <operator pos:start="29:27" pos:end="29:28">&gt;=</operator> <name pos:start="29:30" pos:end="29:53">VIDEO_PICTURE_QUEUE_SIZE</name> <operator pos:start="29:55" pos:end="29:56">&amp;&amp;</operator>

           <operator pos:start="31:12" pos:end="31:12">!</operator><name pos:start="31:13" pos:end="31:36"><name pos:start="31:13" pos:end="31:14">is</name><operator pos:start="31:15" pos:end="31:16">-&gt;</operator><name pos:start="31:17" pos:end="31:22">videoq</name><operator pos:start="31:23" pos:end="31:23">.</operator><name pos:start="31:24" pos:end="31:36">abort_request</name></name></expr>)</condition> <block pos:start="31:39" pos:end="35:5">{<block_content pos:start="33:9" pos:end="33:54">

        <expr_stmt pos:start="33:9" pos:end="33:54"><expr pos:start="33:9" pos:end="33:53"><call pos:start="33:9" pos:end="33:53"><name pos:start="33:9" pos:end="33:20">SDL_CondWait</name><argument_list pos:start="33:21" pos:end="33:53">(<argument pos:start="33:22" pos:end="33:35"><expr pos:start="33:22" pos:end="33:35"><name pos:start="33:22" pos:end="33:35"><name pos:start="33:22" pos:end="33:23">is</name><operator pos:start="33:24" pos:end="33:25">-&gt;</operator><name pos:start="33:26" pos:end="33:35">pictq_cond</name></name></expr></argument>, <argument pos:start="33:38" pos:end="33:52"><expr pos:start="33:38" pos:end="33:52"><name pos:start="33:38" pos:end="33:52"><name pos:start="33:38" pos:end="33:39">is</name><operator pos:start="33:40" pos:end="33:41">-&gt;</operator><name pos:start="33:42" pos:end="33:52">pictq_mutex</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></while>

    <expr_stmt pos:start="37:5" pos:end="37:37"><expr pos:start="37:5" pos:end="37:36"><call pos:start="37:5" pos:end="37:36"><name pos:start="37:5" pos:end="37:19">SDL_UnlockMutex</name><argument_list pos:start="37:20" pos:end="37:36">(<argument pos:start="37:21" pos:end="37:35"><expr pos:start="37:21" pos:end="37:35"><name pos:start="37:21" pos:end="37:35"><name pos:start="37:21" pos:end="37:22">is</name><operator pos:start="37:23" pos:end="37:24">-&gt;</operator><name pos:start="37:25" pos:end="37:35">pictq_mutex</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <if_stmt pos:start="41:5" pos:end="43:18"><if pos:start="41:5" pos:end="43:18">if <condition pos:start="41:8" pos:end="41:33">(<expr pos:start="41:9" pos:end="41:32"><name pos:start="41:9" pos:end="41:32"><name pos:start="41:9" pos:end="41:10">is</name><operator pos:start="41:11" pos:end="41:12">-&gt;</operator><name pos:start="41:13" pos:end="41:18">videoq</name><operator pos:start="41:19" pos:end="41:19">.</operator><name pos:start="41:20" pos:end="41:32">abort_request</name></name></expr>)</condition><block type="pseudo" pos:start="43:9" pos:end="43:18"><block_content pos:start="43:9" pos:end="43:18">

        <return pos:start="43:9" pos:end="43:18">return <expr pos:start="43:16" pos:end="43:17"><operator pos:start="43:16" pos:end="43:16">-</operator><literal type="number" pos:start="43:17" pos:end="43:17">1</literal></expr>;</return></block_content></block></if></if_stmt>



    <expr_stmt pos:start="47:5" pos:end="47:38"><expr pos:start="47:5" pos:end="47:37"><name pos:start="47:5" pos:end="47:6">vp</name> <operator pos:start="47:8" pos:end="47:8">=</operator> <operator pos:start="47:10" pos:end="47:10">&amp;</operator><name pos:start="47:11" pos:end="47:37"><name pos:start="47:11" pos:end="47:12">is</name><operator pos:start="47:13" pos:end="47:14">-&gt;</operator><name pos:start="47:15" pos:end="47:19">pictq</name><index pos:start="47:20" pos:end="47:37">[<expr pos:start="47:21" pos:end="47:36"><name pos:start="47:21" pos:end="47:36"><name pos:start="47:21" pos:end="47:22">is</name><operator pos:start="47:23" pos:end="47:24">-&gt;</operator><name pos:start="47:25" pos:end="47:36">pictq_windex</name></name></expr>]</index></name></expr>;</expr_stmt>



    <expr_stmt pos:start="51:5" pos:end="51:45"><expr pos:start="51:5" pos:end="51:44"><name pos:start="51:5" pos:end="51:11"><name pos:start="51:5" pos:end="51:6">vp</name><operator pos:start="51:7" pos:end="51:8">-&gt;</operator><name pos:start="51:9" pos:end="51:11">sar</name></name> <operator pos:start="51:13" pos:end="51:13">=</operator> <name pos:start="51:15" pos:end="51:44"><name pos:start="51:15" pos:end="51:23">src_frame</name><operator pos:start="51:24" pos:end="51:25">-&gt;</operator><name pos:start="51:26" pos:end="51:44">sample_aspect_ratio</name></name></expr>;</expr_stmt>



    <comment type="block" pos:start="55:5" pos:end="55:49">/* alloc or resize hardware picture buffer */</comment>

    <if_stmt pos:start="57:5" pos:end="113:5"><if pos:start="57:5" pos:end="113:5">if <condition pos:start="57:8" pos:end="63:57">(<expr pos:start="57:9" pos:end="63:56"><operator pos:start="57:9" pos:end="57:9">!</operator><name pos:start="57:10" pos:end="57:16"><name pos:start="57:10" pos:end="57:11">vp</name><operator pos:start="57:12" pos:end="57:13">-&gt;</operator><name pos:start="57:14" pos:end="57:16">bmp</name></name> <operator pos:start="57:18" pos:end="57:19">||</operator> <name pos:start="57:21" pos:end="57:34"><name pos:start="57:21" pos:end="57:22">vp</name><operator pos:start="57:23" pos:end="57:24">-&gt;</operator><name pos:start="57:25" pos:end="57:34">reallocate</name></name> <operator pos:start="57:36" pos:end="60:0">||</operator>

<cpp:if pos:start="59:1" pos:end="59:19">#<cpp:directive pos:start="59:2" pos:end="59:3">if</cpp:directive> <expr pos:start="59:5" pos:end="59:19"><name pos:start="59:5" pos:end="59:19">CONFIG_AVFILTER</name></expr></cpp:if>

        <name pos:start="61:9" pos:end="61:17"><name pos:start="61:9" pos:end="61:10">vp</name><operator pos:start="61:11" pos:end="61:12">-&gt;</operator><name pos:start="61:13" pos:end="61:17">width</name></name>  <operator pos:start="61:20" pos:end="61:21">!=</operator> <name pos:start="61:23" pos:end="61:53"><name pos:start="61:23" pos:end="61:24">is</name><operator pos:start="61:25" pos:end="61:26">-&gt;</operator><name pos:start="61:27" pos:end="61:42">out_video_filter</name><operator pos:start="61:43" pos:end="61:44">-&gt;</operator><name pos:start="61:45" pos:end="61:50">inputs</name><index pos:start="61:51" pos:end="61:53">[<expr pos:start="61:52" pos:end="61:52"><literal type="number" pos:start="61:52" pos:end="61:52">0</literal></expr>]</index></name><operator pos:start="61:54" pos:end="61:55">-&gt;</operator><name pos:start="61:56" pos:end="61:56">w</name> <operator pos:start="61:58" pos:end="61:59">||</operator>

        <name pos:start="63:9" pos:end="63:18"><name pos:start="63:9" pos:end="63:10">vp</name><operator pos:start="63:11" pos:end="63:12">-&gt;</operator><name pos:start="63:13" pos:end="63:18">height</name></name> <operator pos:start="63:20" pos:end="63:21">!=</operator> <name pos:start="63:23" pos:end="63:53"><name pos:start="63:23" pos:end="63:24">is</name><operator pos:start="63:25" pos:end="63:26">-&gt;</operator><name pos:start="63:27" pos:end="63:42">out_video_filter</name><operator pos:start="63:43" pos:end="63:44">-&gt;</operator><name pos:start="63:45" pos:end="63:50">inputs</name><index pos:start="63:51" pos:end="63:53">[<expr pos:start="63:52" pos:end="63:52"><literal type="number" pos:start="63:52" pos:end="63:52">0</literal></expr>]</index></name><operator pos:start="63:54" pos:end="63:55">-&gt;</operator><name pos:start="63:56" pos:end="63:56">h</name></expr>)</condition> <block pos:start="63:59" pos:end="113:5">{<block_content pos:start="67:9" pos:end="69:50">

<cpp:else pos:start="65:1" pos:end="65:5">#<cpp:directive pos:start="65:2" pos:end="65:5">else</cpp:directive></cpp:else>

        <expr_stmt pos:start="67:9" pos:end="69:49"><expr pos:start="67:9" pos:end="69:49"><name pos:start="67:9" pos:end="67:17"><name pos:start="67:9" pos:end="67:10">vp</name><operator pos:start="67:11" pos:end="67:12">-&gt;</operator><name pos:start="67:13" pos:end="67:17">width</name></name> <operator pos:start="67:19" pos:end="67:20">!=</operator> <name pos:start="67:22" pos:end="67:47"><name pos:start="67:22" pos:end="67:23">is</name><operator pos:start="67:24" pos:end="67:25">-&gt;</operator><name pos:start="67:26" pos:end="67:33">video_st</name><operator pos:start="67:34" pos:end="67:35">-&gt;</operator><name pos:start="67:36" pos:end="67:40">codec</name><operator pos:start="67:41" pos:end="67:42">-&gt;</operator><name pos:start="67:43" pos:end="67:47">width</name></name> <operator pos:start="67:49" pos:end="67:50">||</operator>

        <name pos:start="69:9" pos:end="69:18"><name pos:start="69:9" pos:end="69:10">vp</name><operator pos:start="69:11" pos:end="69:12">-&gt;</operator><name pos:start="69:13" pos:end="69:18">height</name></name> <operator pos:start="69:20" pos:end="69:21">!=</operator> <name pos:start="69:23" pos:end="69:49"><name pos:start="69:23" pos:end="69:24">is</name><operator pos:start="69:25" pos:end="69:26">-&gt;</operator><name pos:start="69:27" pos:end="69:34">video_st</name><operator pos:start="69:35" pos:end="69:36">-&gt;</operator><name pos:start="69:37" pos:end="69:41">codec</name><operator pos:start="69:42" pos:end="69:43">-&gt;</operator><name pos:start="69:44" pos:end="69:49">height</name></name></expr></expr_stmt>)</block_content> <block pos:start="69:52" pos:end="113:5">{<block_content pos:start="73:9" pos:end="111:22">

<cpp:endif pos:start="71:1" pos:end="71:6">#<cpp:directive pos:start="71:2" pos:end="71:6">endif</cpp:directive></cpp:endif>

        <decl_stmt pos:start="73:9" pos:end="73:24"><decl pos:start="73:9" pos:end="73:23"><type pos:start="73:9" pos:end="73:17"><name pos:start="73:9" pos:end="73:17">SDL_Event</name></type> <name pos:start="73:19" pos:end="73:23">event</name></decl>;</decl_stmt>



        <expr_stmt pos:start="77:9" pos:end="77:27"><expr pos:start="77:9" pos:end="77:26"><name pos:start="77:9" pos:end="77:21"><name pos:start="77:9" pos:end="77:10">vp</name><operator pos:start="77:11" pos:end="77:12">-&gt;</operator><name pos:start="77:13" pos:end="77:21">allocated</name></name>  <operator pos:start="77:24" pos:end="77:24">=</operator> <literal type="number" pos:start="77:26" pos:end="77:26">0</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="79:9" pos:end="79:27"><expr pos:start="79:9" pos:end="79:26"><name pos:start="79:9" pos:end="79:22"><name pos:start="79:9" pos:end="79:10">vp</name><operator pos:start="79:11" pos:end="79:12">-&gt;</operator><name pos:start="79:13" pos:end="79:22">reallocate</name></name> <operator pos:start="79:24" pos:end="79:24">=</operator> <literal type="number" pos:start="79:26" pos:end="79:26">0</literal></expr>;</expr_stmt>



        <comment type="block" pos:start="83:9" pos:end="85:30">/* the allocation must be done in the main thread to avoid

           locking problems */</comment>

        <expr_stmt pos:start="87:9" pos:end="87:36"><expr pos:start="87:9" pos:end="87:35"><name pos:start="87:9" pos:end="87:18"><name pos:start="87:9" pos:end="87:13">event</name><operator pos:start="87:14" pos:end="87:14">.</operator><name pos:start="87:15" pos:end="87:18">type</name></name> <operator pos:start="87:20" pos:end="87:20">=</operator> <name pos:start="87:22" pos:end="87:35">FF_ALLOC_EVENT</name></expr>;</expr_stmt>

        <expr_stmt pos:start="89:9" pos:end="89:30"><expr pos:start="89:9" pos:end="89:29"><name pos:start="89:9" pos:end="89:24"><name pos:start="89:9" pos:end="89:13">event</name><operator pos:start="89:14" pos:end="89:14">.</operator><name pos:start="89:15" pos:end="89:18">user</name><operator pos:start="89:19" pos:end="89:19">.</operator><name pos:start="89:20" pos:end="89:24">data1</name></name> <operator pos:start="89:26" pos:end="89:26">=</operator> <name pos:start="89:28" pos:end="89:29">is</name></expr>;</expr_stmt>

        <expr_stmt pos:start="91:9" pos:end="91:30"><expr pos:start="91:9" pos:end="91:29"><call pos:start="91:9" pos:end="91:29"><name pos:start="91:9" pos:end="91:21">SDL_PushEvent</name><argument_list pos:start="91:22" pos:end="91:29">(<argument pos:start="91:23" pos:end="91:28"><expr pos:start="91:23" pos:end="91:28"><operator pos:start="91:23" pos:end="91:23">&amp;</operator><name pos:start="91:24" pos:end="91:28">event</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <comment type="block" pos:start="95:9" pos:end="95:49">/* wait until the picture is allocated */</comment>

        <expr_stmt pos:start="97:9" pos:end="97:39"><expr pos:start="97:9" pos:end="97:38"><call pos:start="97:9" pos:end="97:38"><name pos:start="97:9" pos:end="97:21">SDL_LockMutex</name><argument_list pos:start="97:22" pos:end="97:38">(<argument pos:start="97:23" pos:end="97:37"><expr pos:start="97:23" pos:end="97:37"><name pos:start="97:23" pos:end="97:37"><name pos:start="97:23" pos:end="97:24">is</name><operator pos:start="97:25" pos:end="97:26">-&gt;</operator><name pos:start="97:27" pos:end="97:37">pictq_mutex</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <while pos:start="99:9" pos:end="103:9">while <condition pos:start="99:15" pos:end="99:59">(<expr pos:start="99:16" pos:end="99:58"><operator pos:start="99:16" pos:end="99:16">!</operator><name pos:start="99:17" pos:end="99:29"><name pos:start="99:17" pos:end="99:18">vp</name><operator pos:start="99:19" pos:end="99:20">-&gt;</operator><name pos:start="99:21" pos:end="99:29">allocated</name></name> <operator pos:start="99:31" pos:end="99:32">&amp;&amp;</operator> <operator pos:start="99:34" pos:end="99:34">!</operator><name pos:start="99:35" pos:end="99:58"><name pos:start="99:35" pos:end="99:36">is</name><operator pos:start="99:37" pos:end="99:38">-&gt;</operator><name pos:start="99:39" pos:end="99:44">videoq</name><operator pos:start="99:45" pos:end="99:45">.</operator><name pos:start="99:46" pos:end="99:58">abort_request</name></name></expr>)</condition> <block pos:start="99:61" pos:end="103:9">{<block_content pos:start="101:13" pos:end="101:58">

            <expr_stmt pos:start="101:13" pos:end="101:58"><expr pos:start="101:13" pos:end="101:57"><call pos:start="101:13" pos:end="101:57"><name pos:start="101:13" pos:end="101:24">SDL_CondWait</name><argument_list pos:start="101:25" pos:end="101:57">(<argument pos:start="101:26" pos:end="101:39"><expr pos:start="101:26" pos:end="101:39"><name pos:start="101:26" pos:end="101:39"><name pos:start="101:26" pos:end="101:27">is</name><operator pos:start="101:28" pos:end="101:29">-&gt;</operator><name pos:start="101:30" pos:end="101:39">pictq_cond</name></name></expr></argument>, <argument pos:start="101:42" pos:end="101:56"><expr pos:start="101:42" pos:end="101:56"><name pos:start="101:42" pos:end="101:56"><name pos:start="101:42" pos:end="101:43">is</name><operator pos:start="101:44" pos:end="101:45">-&gt;</operator><name pos:start="101:46" pos:end="101:56">pictq_mutex</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></while>

        <expr_stmt pos:start="105:9" pos:end="105:41"><expr pos:start="105:9" pos:end="105:40"><call pos:start="105:9" pos:end="105:40"><name pos:start="105:9" pos:end="105:23">SDL_UnlockMutex</name><argument_list pos:start="105:24" pos:end="105:40">(<argument pos:start="105:25" pos:end="105:39"><expr pos:start="105:25" pos:end="105:39"><name pos:start="105:25" pos:end="105:39"><name pos:start="105:25" pos:end="105:26">is</name><operator pos:start="105:27" pos:end="105:28">-&gt;</operator><name pos:start="105:29" pos:end="105:39">pictq_mutex</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <if_stmt pos:start="109:9" pos:end="111:22"><if pos:start="109:9" pos:end="111:22">if <condition pos:start="109:12" pos:end="109:37">(<expr pos:start="109:13" pos:end="109:36"><name pos:start="109:13" pos:end="109:36"><name pos:start="109:13" pos:end="109:14">is</name><operator pos:start="109:15" pos:end="109:16">-&gt;</operator><name pos:start="109:17" pos:end="109:22">videoq</name><operator pos:start="109:23" pos:end="109:23">.</operator><name pos:start="109:24" pos:end="109:36">abort_request</name></name></expr>)</condition><block type="pseudo" pos:start="111:13" pos:end="111:22"><block_content pos:start="111:13" pos:end="111:22">

            <return pos:start="111:13" pos:end="111:22">return <expr pos:start="111:20" pos:end="111:21"><operator pos:start="111:20" pos:end="111:20">-</operator><literal type="number" pos:start="111:21" pos:end="111:21">1</literal></expr>;</return></block_content></block></if></if_stmt>

    </block_content>}</block></block></if></if_stmt>



    <comment type="block" pos:start="117:5" pos:end="117:54">/* if the frame is not skipped, then display it */</comment>

    <if_stmt pos:start="119:5" pos:end="223:5"><if pos:start="119:5" pos:end="223:5">if <condition pos:start="119:8" pos:end="119:16">(<expr pos:start="119:9" pos:end="119:15"><name pos:start="119:9" pos:end="119:15"><name pos:start="119:9" pos:end="119:10">vp</name><operator pos:start="119:11" pos:end="119:12">-&gt;</operator><name pos:start="119:13" pos:end="119:15">bmp</name></name></expr>)</condition> <block pos:start="119:18" pos:end="223:5">{<block_content pos:start="121:9" pos:end="221:41">

        <decl_stmt pos:start="121:9" pos:end="121:35"><decl pos:start="121:9" pos:end="121:34"><type pos:start="121:9" pos:end="121:17"><name pos:start="121:9" pos:end="121:17">AVPicture</name></type> <name pos:start="121:19" pos:end="121:22">pict</name> <init pos:start="121:24" pos:end="121:34">= <expr pos:start="121:26" pos:end="121:34"><block pos:start="121:26" pos:end="121:34">{ <expr pos:start="121:28" pos:end="121:32"><block pos:start="121:28" pos:end="121:32">{ <expr pos:start="121:30" pos:end="121:30"><literal type="number" pos:start="121:30" pos:end="121:30">0</literal></expr> }</block></expr> }</block></expr></init></decl>;</decl_stmt>



        <comment type="block" pos:start="125:9" pos:end="125:41">/* get a pointer on the bitmap */</comment>

        <expr_stmt pos:start="127:9" pos:end="127:37"><expr pos:start="127:9" pos:end="127:36"><call pos:start="127:9" pos:end="127:36"><name pos:start="127:9" pos:end="127:26">SDL_LockYUVOverlay</name> <argument_list pos:start="127:28" pos:end="127:36">(<argument pos:start="127:29" pos:end="127:35"><expr pos:start="127:29" pos:end="127:35"><name pos:start="127:29" pos:end="127:35"><name pos:start="127:29" pos:end="127:30">vp</name><operator pos:start="127:31" pos:end="127:32">-&gt;</operator><name pos:start="127:33" pos:end="127:35">bmp</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <expr_stmt pos:start="131:9" pos:end="131:42"><expr pos:start="131:9" pos:end="131:41"><name pos:start="131:9" pos:end="131:20"><name pos:start="131:9" pos:end="131:12">pict</name><operator pos:start="131:13" pos:end="131:13">.</operator><name pos:start="131:14" pos:end="131:17">data</name><index pos:start="131:18" pos:end="131:20">[<expr pos:start="131:19" pos:end="131:19"><literal type="number" pos:start="131:19" pos:end="131:19">0</literal></expr>]</index></name> <operator pos:start="131:22" pos:end="131:22">=</operator> <name pos:start="131:24" pos:end="131:41"><name pos:start="131:24" pos:end="131:25">vp</name><operator pos:start="131:26" pos:end="131:27">-&gt;</operator><name pos:start="131:28" pos:end="131:30">bmp</name><operator pos:start="131:31" pos:end="131:32">-&gt;</operator><name pos:start="131:33" pos:end="131:38">pixels</name><index pos:start="131:39" pos:end="131:41">[<expr pos:start="131:40" pos:end="131:40"><literal type="number" pos:start="131:40" pos:end="131:40">0</literal></expr>]</index></name></expr>;</expr_stmt>

        <expr_stmt pos:start="133:9" pos:end="133:42"><expr pos:start="133:9" pos:end="133:41"><name pos:start="133:9" pos:end="133:20"><name pos:start="133:9" pos:end="133:12">pict</name><operator pos:start="133:13" pos:end="133:13">.</operator><name pos:start="133:14" pos:end="133:17">data</name><index pos:start="133:18" pos:end="133:20">[<expr pos:start="133:19" pos:end="133:19"><literal type="number" pos:start="133:19" pos:end="133:19">1</literal></expr>]</index></name> <operator pos:start="133:22" pos:end="133:22">=</operator> <name pos:start="133:24" pos:end="133:41"><name pos:start="133:24" pos:end="133:25">vp</name><operator pos:start="133:26" pos:end="133:27">-&gt;</operator><name pos:start="133:28" pos:end="133:30">bmp</name><operator pos:start="133:31" pos:end="133:32">-&gt;</operator><name pos:start="133:33" pos:end="133:38">pixels</name><index pos:start="133:39" pos:end="133:41">[<expr pos:start="133:40" pos:end="133:40"><literal type="number" pos:start="133:40" pos:end="133:40">2</literal></expr>]</index></name></expr>;</expr_stmt>

        <expr_stmt pos:start="135:9" pos:end="135:42"><expr pos:start="135:9" pos:end="135:41"><name pos:start="135:9" pos:end="135:20"><name pos:start="135:9" pos:end="135:12">pict</name><operator pos:start="135:13" pos:end="135:13">.</operator><name pos:start="135:14" pos:end="135:17">data</name><index pos:start="135:18" pos:end="135:20">[<expr pos:start="135:19" pos:end="135:19"><literal type="number" pos:start="135:19" pos:end="135:19">2</literal></expr>]</index></name> <operator pos:start="135:22" pos:end="135:22">=</operator> <name pos:start="135:24" pos:end="135:41"><name pos:start="135:24" pos:end="135:25">vp</name><operator pos:start="135:26" pos:end="135:27">-&gt;</operator><name pos:start="135:28" pos:end="135:30">bmp</name><operator pos:start="135:31" pos:end="135:32">-&gt;</operator><name pos:start="135:33" pos:end="135:38">pixels</name><index pos:start="135:39" pos:end="135:41">[<expr pos:start="135:40" pos:end="135:40"><literal type="number" pos:start="135:40" pos:end="135:40">1</literal></expr>]</index></name></expr>;</expr_stmt>



        <expr_stmt pos:start="139:9" pos:end="139:47"><expr pos:start="139:9" pos:end="139:46"><name pos:start="139:9" pos:end="139:24"><name pos:start="139:9" pos:end="139:12">pict</name><operator pos:start="139:13" pos:end="139:13">.</operator><name pos:start="139:14" pos:end="139:21">linesize</name><index pos:start="139:22" pos:end="139:24">[<expr pos:start="139:23" pos:end="139:23"><literal type="number" pos:start="139:23" pos:end="139:23">0</literal></expr>]</index></name> <operator pos:start="139:26" pos:end="139:26">=</operator> <name pos:start="139:28" pos:end="139:46"><name pos:start="139:28" pos:end="139:29">vp</name><operator pos:start="139:30" pos:end="139:31">-&gt;</operator><name pos:start="139:32" pos:end="139:34">bmp</name><operator pos:start="139:35" pos:end="139:36">-&gt;</operator><name pos:start="139:37" pos:end="139:43">pitches</name><index pos:start="139:44" pos:end="139:46">[<expr pos:start="139:45" pos:end="139:45"><literal type="number" pos:start="139:45" pos:end="139:45">0</literal></expr>]</index></name></expr>;</expr_stmt>

        <expr_stmt pos:start="141:9" pos:end="141:47"><expr pos:start="141:9" pos:end="141:46"><name pos:start="141:9" pos:end="141:24"><name pos:start="141:9" pos:end="141:12">pict</name><operator pos:start="141:13" pos:end="141:13">.</operator><name pos:start="141:14" pos:end="141:21">linesize</name><index pos:start="141:22" pos:end="141:24">[<expr pos:start="141:23" pos:end="141:23"><literal type="number" pos:start="141:23" pos:end="141:23">1</literal></expr>]</index></name> <operator pos:start="141:26" pos:end="141:26">=</operator> <name pos:start="141:28" pos:end="141:46"><name pos:start="141:28" pos:end="141:29">vp</name><operator pos:start="141:30" pos:end="141:31">-&gt;</operator><name pos:start="141:32" pos:end="141:34">bmp</name><operator pos:start="141:35" pos:end="141:36">-&gt;</operator><name pos:start="141:37" pos:end="141:43">pitches</name><index pos:start="141:44" pos:end="141:46">[<expr pos:start="141:45" pos:end="141:45"><literal type="number" pos:start="141:45" pos:end="141:45">2</literal></expr>]</index></name></expr>;</expr_stmt>

        <expr_stmt pos:start="143:9" pos:end="148:0"><expr pos:start="143:9" pos:end="143:46"><name pos:start="143:9" pos:end="143:24"><name pos:start="143:9" pos:end="143:12">pict</name><operator pos:start="143:13" pos:end="143:13">.</operator><name pos:start="143:14" pos:end="143:21">linesize</name><index pos:start="143:22" pos:end="143:24">[<expr pos:start="143:23" pos:end="143:23"><literal type="number" pos:start="143:23" pos:end="143:23">2</literal></expr>]</index></name> <operator pos:start="143:26" pos:end="143:26">=</operator> <name pos:start="143:28" pos:end="143:46"><name pos:start="143:28" pos:end="143:29">vp</name><operator pos:start="143:30" pos:end="143:31">-&gt;</operator><name pos:start="143:32" pos:end="143:34">bmp</name><operator pos:start="143:35" pos:end="143:36">-&gt;</operator><name pos:start="143:37" pos:end="143:43">pitches</name><index pos:start="143:44" pos:end="143:46">[<expr pos:start="143:45" pos:end="143:45"><literal type="number" pos:start="143:45" pos:end="143:45">1</literal></expr>]</index></name></expr>;</expr_stmt>



<cpp:if pos:start="147:1" pos:end="147:19">#<cpp:directive pos:start="147:2" pos:end="147:3">if</cpp:directive> <expr pos:start="147:5" pos:end="147:19"><name pos:start="147:5" pos:end="147:19">CONFIG_AVFILTER</name></expr></cpp:if>

        <expr_stmt pos:start="149:9" pos:end="149:46"><expr pos:start="149:9" pos:end="149:45"><name pos:start="149:9" pos:end="149:24"><name pos:start="149:9" pos:end="149:16">pict_src</name><operator pos:start="149:17" pos:end="149:17">.</operator><name pos:start="149:18" pos:end="149:21">data</name><index pos:start="149:22" pos:end="149:24">[<expr pos:start="149:23" pos:end="149:23"><literal type="number" pos:start="149:23" pos:end="149:23">0</literal></expr>]</index></name> <operator pos:start="149:26" pos:end="149:26">=</operator> <name pos:start="149:28" pos:end="149:45"><name pos:start="149:28" pos:end="149:36">src_frame</name><operator pos:start="149:37" pos:end="149:38">-&gt;</operator><name pos:start="149:39" pos:end="149:42">data</name><index pos:start="149:43" pos:end="149:45">[<expr pos:start="149:44" pos:end="149:44"><literal type="number" pos:start="149:44" pos:end="149:44">0</literal></expr>]</index></name></expr>;</expr_stmt>

        <expr_stmt pos:start="151:9" pos:end="151:46"><expr pos:start="151:9" pos:end="151:45"><name pos:start="151:9" pos:end="151:24"><name pos:start="151:9" pos:end="151:16">pict_src</name><operator pos:start="151:17" pos:end="151:17">.</operator><name pos:start="151:18" pos:end="151:21">data</name><index pos:start="151:22" pos:end="151:24">[<expr pos:start="151:23" pos:end="151:23"><literal type="number" pos:start="151:23" pos:end="151:23">1</literal></expr>]</index></name> <operator pos:start="151:26" pos:end="151:26">=</operator> <name pos:start="151:28" pos:end="151:45"><name pos:start="151:28" pos:end="151:36">src_frame</name><operator pos:start="151:37" pos:end="151:38">-&gt;</operator><name pos:start="151:39" pos:end="151:42">data</name><index pos:start="151:43" pos:end="151:45">[<expr pos:start="151:44" pos:end="151:44"><literal type="number" pos:start="151:44" pos:end="151:44">1</literal></expr>]</index></name></expr>;</expr_stmt>

        <expr_stmt pos:start="153:9" pos:end="153:46"><expr pos:start="153:9" pos:end="153:45"><name pos:start="153:9" pos:end="153:24"><name pos:start="153:9" pos:end="153:16">pict_src</name><operator pos:start="153:17" pos:end="153:17">.</operator><name pos:start="153:18" pos:end="153:21">data</name><index pos:start="153:22" pos:end="153:24">[<expr pos:start="153:23" pos:end="153:23"><literal type="number" pos:start="153:23" pos:end="153:23">2</literal></expr>]</index></name> <operator pos:start="153:26" pos:end="153:26">=</operator> <name pos:start="153:28" pos:end="153:45"><name pos:start="153:28" pos:end="153:36">src_frame</name><operator pos:start="153:37" pos:end="153:38">-&gt;</operator><name pos:start="153:39" pos:end="153:42">data</name><index pos:start="153:43" pos:end="153:45">[<expr pos:start="153:44" pos:end="153:44"><literal type="number" pos:start="153:44" pos:end="153:44">2</literal></expr>]</index></name></expr>;</expr_stmt>



        <expr_stmt pos:start="157:9" pos:end="157:54"><expr pos:start="157:9" pos:end="157:53"><name pos:start="157:9" pos:end="157:28"><name pos:start="157:9" pos:end="157:16">pict_src</name><operator pos:start="157:17" pos:end="157:17">.</operator><name pos:start="157:18" pos:end="157:25">linesize</name><index pos:start="157:26" pos:end="157:28">[<expr pos:start="157:27" pos:end="157:27"><literal type="number" pos:start="157:27" pos:end="157:27">0</literal></expr>]</index></name> <operator pos:start="157:30" pos:end="157:30">=</operator> <name pos:start="157:32" pos:end="157:53"><name pos:start="157:32" pos:end="157:40">src_frame</name><operator pos:start="157:41" pos:end="157:42">-&gt;</operator><name pos:start="157:43" pos:end="157:50">linesize</name><index pos:start="157:51" pos:end="157:53">[<expr pos:start="157:52" pos:end="157:52"><literal type="number" pos:start="157:52" pos:end="157:52">0</literal></expr>]</index></name></expr>;</expr_stmt>

        <expr_stmt pos:start="159:9" pos:end="159:54"><expr pos:start="159:9" pos:end="159:53"><name pos:start="159:9" pos:end="159:28"><name pos:start="159:9" pos:end="159:16">pict_src</name><operator pos:start="159:17" pos:end="159:17">.</operator><name pos:start="159:18" pos:end="159:25">linesize</name><index pos:start="159:26" pos:end="159:28">[<expr pos:start="159:27" pos:end="159:27"><literal type="number" pos:start="159:27" pos:end="159:27">1</literal></expr>]</index></name> <operator pos:start="159:30" pos:end="159:30">=</operator> <name pos:start="159:32" pos:end="159:53"><name pos:start="159:32" pos:end="159:40">src_frame</name><operator pos:start="159:41" pos:end="159:42">-&gt;</operator><name pos:start="159:43" pos:end="159:50">linesize</name><index pos:start="159:51" pos:end="159:53">[<expr pos:start="159:52" pos:end="159:52"><literal type="number" pos:start="159:52" pos:end="159:52">1</literal></expr>]</index></name></expr>;</expr_stmt>

        <expr_stmt pos:start="161:9" pos:end="161:54"><expr pos:start="161:9" pos:end="161:53"><name pos:start="161:9" pos:end="161:28"><name pos:start="161:9" pos:end="161:16">pict_src</name><operator pos:start="161:17" pos:end="161:17">.</operator><name pos:start="161:18" pos:end="161:25">linesize</name><index pos:start="161:26" pos:end="161:28">[<expr pos:start="161:27" pos:end="161:27"><literal type="number" pos:start="161:27" pos:end="161:27">2</literal></expr>]</index></name> <operator pos:start="161:30" pos:end="161:30">=</operator> <name pos:start="161:32" pos:end="161:53"><name pos:start="161:32" pos:end="161:40">src_frame</name><operator pos:start="161:41" pos:end="161:42">-&gt;</operator><name pos:start="161:43" pos:end="161:50">linesize</name><index pos:start="161:51" pos:end="161:53">[<expr pos:start="161:52" pos:end="161:52"><literal type="number" pos:start="161:52" pos:end="161:52">2</literal></expr>]</index></name></expr>;</expr_stmt>



        <comment type="line" pos:start="165:9" pos:end="165:37">// FIXME use direct rendering</comment>

        <expr_stmt pos:start="167:9" pos:end="172:0"><expr pos:start="167:9" pos:end="169:59"><call pos:start="167:9" pos:end="169:59"><name pos:start="167:9" pos:end="167:23">av_picture_copy</name><argument_list pos:start="167:24" pos:end="169:59">(<argument pos:start="167:25" pos:end="167:29"><expr pos:start="167:25" pos:end="167:29"><operator pos:start="167:25" pos:end="167:25">&amp;</operator><name pos:start="167:26" pos:end="167:29">pict</name></expr></argument>, <argument pos:start="167:32" pos:end="167:40"><expr pos:start="167:32" pos:end="167:40"><operator pos:start="167:32" pos:end="167:32">&amp;</operator><name pos:start="167:33" pos:end="167:40">pict_src</name></expr></argument>,

                        <argument pos:start="169:25" pos:end="169:35"><expr pos:start="169:25" pos:end="169:35"><name pos:start="169:25" pos:end="169:35"><name pos:start="169:25" pos:end="169:26">vp</name><operator pos:start="169:27" pos:end="169:28">-&gt;</operator><name pos:start="169:29" pos:end="169:35">pix_fmt</name></name></expr></argument>, <argument pos:start="169:38" pos:end="169:46"><expr pos:start="169:38" pos:end="169:46"><name pos:start="169:38" pos:end="169:46"><name pos:start="169:38" pos:end="169:39">vp</name><operator pos:start="169:40" pos:end="169:41">-&gt;</operator><name pos:start="169:42" pos:end="169:46">width</name></name></expr></argument>, <argument pos:start="169:49" pos:end="169:58"><expr pos:start="169:49" pos:end="169:58"><name pos:start="169:49" pos:end="169:58"><name pos:start="169:49" pos:end="169:50">vp</name><operator pos:start="169:51" pos:end="169:52">-&gt;</operator><name pos:start="169:53" pos:end="169:58">height</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

<cpp:else pos:start="171:1" pos:end="171:5">#<cpp:directive pos:start="171:2" pos:end="171:5">else</cpp:directive></cpp:else>

        <expr_stmt pos:start="173:9" pos:end="173:61"><expr pos:start="173:9" pos:end="173:60"><call pos:start="173:9" pos:end="173:60"><name pos:start="173:9" pos:end="173:22">av_opt_get_int</name><argument_list pos:start="173:23" pos:end="173:60">(<argument pos:start="173:24" pos:end="173:31"><expr pos:start="173:24" pos:end="173:31"><name pos:start="173:24" pos:end="173:31">sws_opts</name></expr></argument>, <argument pos:start="173:34" pos:end="173:44"><expr pos:start="173:34" pos:end="173:44"><literal type="string" pos:start="173:34" pos:end="173:44">"sws_flags"</literal></expr></argument>, <argument pos:start="173:47" pos:end="173:47"><expr pos:start="173:47" pos:end="173:47"><literal type="number" pos:start="173:47" pos:end="173:47">0</literal></expr></argument>, <argument pos:start="173:50" pos:end="173:59"><expr pos:start="173:50" pos:end="173:59"><operator pos:start="173:50" pos:end="173:50">&amp;</operator><name pos:start="173:51" pos:end="173:59">sws_flags</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="175:9" pos:end="179:54"><expr pos:start="175:9" pos:end="179:53"><name pos:start="175:9" pos:end="175:27"><name pos:start="175:9" pos:end="175:10">is</name><operator pos:start="175:11" pos:end="175:12">-&gt;</operator><name pos:start="175:13" pos:end="175:27">img_convert_ctx</name></name> <operator pos:start="175:29" pos:end="175:29">=</operator> <call pos:start="175:31" pos:end="179:53"><name pos:start="175:31" pos:end="175:50">sws_getCachedContext</name><argument_list pos:start="175:51" pos:end="179:53">(<argument pos:start="175:52" pos:end="175:70"><expr pos:start="175:52" pos:end="175:70"><name pos:start="175:52" pos:end="175:70"><name pos:start="175:52" pos:end="175:53">is</name><operator pos:start="175:54" pos:end="175:55">-&gt;</operator><name pos:start="175:56" pos:end="175:70">img_convert_ctx</name></name></expr></argument>,

            <argument pos:start="177:13" pos:end="177:21"><expr pos:start="177:13" pos:end="177:21"><name pos:start="177:13" pos:end="177:21"><name pos:start="177:13" pos:end="177:14">vp</name><operator pos:start="177:15" pos:end="177:16">-&gt;</operator><name pos:start="177:17" pos:end="177:21">width</name></name></expr></argument>, <argument pos:start="177:24" pos:end="177:33"><expr pos:start="177:24" pos:end="177:33"><name pos:start="177:24" pos:end="177:33"><name pos:start="177:24" pos:end="177:25">vp</name><operator pos:start="177:26" pos:end="177:27">-&gt;</operator><name pos:start="177:28" pos:end="177:33">height</name></name></expr></argument>, <argument pos:start="177:36" pos:end="177:46"><expr pos:start="177:36" pos:end="177:46"><name pos:start="177:36" pos:end="177:46"><name pos:start="177:36" pos:end="177:37">vp</name><operator pos:start="177:38" pos:end="177:39">-&gt;</operator><name pos:start="177:40" pos:end="177:46">pix_fmt</name></name></expr></argument>, <argument pos:start="177:49" pos:end="177:57"><expr pos:start="177:49" pos:end="177:57"><name pos:start="177:49" pos:end="177:57"><name pos:start="177:49" pos:end="177:50">vp</name><operator pos:start="177:51" pos:end="177:52">-&gt;</operator><name pos:start="177:53" pos:end="177:57">width</name></name></expr></argument>, <argument pos:start="177:60" pos:end="177:69"><expr pos:start="177:60" pos:end="177:69"><name pos:start="177:60" pos:end="177:69"><name pos:start="177:60" pos:end="177:61">vp</name><operator pos:start="177:62" pos:end="177:63">-&gt;</operator><name pos:start="177:64" pos:end="177:69">height</name></name></expr></argument>,

            <argument pos:start="179:13" pos:end="179:23"><expr pos:start="179:13" pos:end="179:23"><name pos:start="179:13" pos:end="179:23">dst_pix_fmt</name></expr></argument>, <argument pos:start="179:26" pos:end="179:34"><expr pos:start="179:26" pos:end="179:34"><name pos:start="179:26" pos:end="179:34">sws_flags</name></expr></argument>, <argument pos:start="179:37" pos:end="179:40"><expr pos:start="179:37" pos:end="179:40"><name pos:start="179:37" pos:end="179:40">NULL</name></expr></argument>, <argument pos:start="179:43" pos:end="179:46"><expr pos:start="179:43" pos:end="179:46"><name pos:start="179:43" pos:end="179:46">NULL</name></expr></argument>, <argument pos:start="179:49" pos:end="179:52"><expr pos:start="179:49" pos:end="179:52"><name pos:start="179:49" pos:end="179:52">NULL</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="181:9" pos:end="187:9"><if pos:start="181:9" pos:end="187:9">if <condition pos:start="181:12" pos:end="181:40">(<expr pos:start="181:13" pos:end="181:39"><name pos:start="181:13" pos:end="181:31"><name pos:start="181:13" pos:end="181:14">is</name><operator pos:start="181:15" pos:end="181:16">-&gt;</operator><name pos:start="181:17" pos:end="181:31">img_convert_ctx</name></name> <operator pos:start="181:33" pos:end="181:34">==</operator> <name pos:start="181:36" pos:end="181:39">NULL</name></expr>)</condition> <block pos:start="181:42" pos:end="187:9">{<block_content pos:start="183:13" pos:end="185:20">

            <expr_stmt pos:start="183:13" pos:end="183:74"><expr pos:start="183:13" pos:end="183:73"><call pos:start="183:13" pos:end="183:73"><name pos:start="183:13" pos:end="183:19">fprintf</name><argument_list pos:start="183:20" pos:end="183:73">(<argument pos:start="183:21" pos:end="183:26"><expr pos:start="183:21" pos:end="183:26"><name pos:start="183:21" pos:end="183:26">stderr</name></expr></argument>, <argument pos:start="183:29" pos:end="183:72"><expr pos:start="183:29" pos:end="183:72"><literal type="string" pos:start="183:29" pos:end="183:72">"Cannot initialize the conversion context\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="185:13" pos:end="185:20"><expr pos:start="185:13" pos:end="185:19"><call pos:start="185:13" pos:end="185:19"><name pos:start="185:13" pos:end="185:16">exit</name><argument_list pos:start="185:17" pos:end="185:19">(<argument pos:start="185:18" pos:end="185:18"><expr pos:start="185:18" pos:end="185:18"><literal type="number" pos:start="185:18" pos:end="185:18">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>

        <expr_stmt pos:start="189:9" pos:end="194:0"><expr pos:start="189:9" pos:end="191:58"><call pos:start="189:9" pos:end="191:58"><name pos:start="189:9" pos:end="189:17">sws_scale</name><argument_list pos:start="189:18" pos:end="191:58">(<argument pos:start="189:19" pos:end="189:37"><expr pos:start="189:19" pos:end="189:37"><name pos:start="189:19" pos:end="189:37"><name pos:start="189:19" pos:end="189:20">is</name><operator pos:start="189:21" pos:end="189:22">-&gt;</operator><name pos:start="189:23" pos:end="189:37">img_convert_ctx</name></name></expr></argument>, <argument pos:start="189:40" pos:end="189:54"><expr pos:start="189:40" pos:end="189:54"><name pos:start="189:40" pos:end="189:54"><name pos:start="189:40" pos:end="189:48">src_frame</name><operator pos:start="189:49" pos:end="189:50">-&gt;</operator><name pos:start="189:51" pos:end="189:54">data</name></name></expr></argument>, <argument pos:start="189:57" pos:end="189:75"><expr pos:start="189:57" pos:end="189:75"><name pos:start="189:57" pos:end="189:75"><name pos:start="189:57" pos:end="189:65">src_frame</name><operator pos:start="189:66" pos:end="189:67">-&gt;</operator><name pos:start="189:68" pos:end="189:75">linesize</name></name></expr></argument>,

                  <argument pos:start="191:19" pos:end="191:19"><expr pos:start="191:19" pos:end="191:19"><literal type="number" pos:start="191:19" pos:end="191:19">0</literal></expr></argument>, <argument pos:start="191:22" pos:end="191:31"><expr pos:start="191:22" pos:end="191:31"><name pos:start="191:22" pos:end="191:31"><name pos:start="191:22" pos:end="191:23">vp</name><operator pos:start="191:24" pos:end="191:25">-&gt;</operator><name pos:start="191:26" pos:end="191:31">height</name></name></expr></argument>, <argument pos:start="191:34" pos:end="191:42"><expr pos:start="191:34" pos:end="191:42"><name pos:start="191:34" pos:end="191:42"><name pos:start="191:34" pos:end="191:37">pict</name><operator pos:start="191:38" pos:end="191:38">.</operator><name pos:start="191:39" pos:end="191:42">data</name></name></expr></argument>, <argument pos:start="191:45" pos:end="191:57"><expr pos:start="191:45" pos:end="191:57"><name pos:start="191:45" pos:end="191:57"><name pos:start="191:45" pos:end="191:48">pict</name><operator pos:start="191:49" pos:end="191:49">.</operator><name pos:start="191:50" pos:end="191:57">linesize</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

<cpp:endif pos:start="193:1" pos:end="193:6">#<cpp:directive pos:start="193:2" pos:end="193:6">endif</cpp:directive></cpp:endif>

        <comment type="block" pos:start="195:9" pos:end="195:39">/* update the bitmap content */</comment>

        <expr_stmt pos:start="197:9" pos:end="197:38"><expr pos:start="197:9" pos:end="197:37"><call pos:start="197:9" pos:end="197:37"><name pos:start="197:9" pos:end="197:28">SDL_UnlockYUVOverlay</name><argument_list pos:start="197:29" pos:end="197:37">(<argument pos:start="197:30" pos:end="197:36"><expr pos:start="197:30" pos:end="197:36"><name pos:start="197:30" pos:end="197:36"><name pos:start="197:30" pos:end="197:31">vp</name><operator pos:start="197:32" pos:end="197:33">-&gt;</operator><name pos:start="197:34" pos:end="197:36">bmp</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <expr_stmt pos:start="201:9" pos:end="201:22"><expr pos:start="201:9" pos:end="201:21"><name pos:start="201:9" pos:end="201:15"><name pos:start="201:9" pos:end="201:10">vp</name><operator pos:start="201:11" pos:end="201:12">-&gt;</operator><name pos:start="201:13" pos:end="201:15">pts</name></name> <operator pos:start="201:17" pos:end="201:17">=</operator> <name pos:start="201:19" pos:end="201:21">pts</name></expr>;</expr_stmt>

        <expr_stmt pos:start="203:9" pos:end="203:22"><expr pos:start="203:9" pos:end="203:21"><name pos:start="203:9" pos:end="203:15"><name pos:start="203:9" pos:end="203:10">vp</name><operator pos:start="203:11" pos:end="203:12">-&gt;</operator><name pos:start="203:13" pos:end="203:15">pos</name></name> <operator pos:start="203:17" pos:end="203:17">=</operator> <name pos:start="203:19" pos:end="203:21">pos</name></expr>;</expr_stmt>



        <comment type="block" pos:start="207:9" pos:end="207:49">/* now we can update the picture count */</comment>

        <if_stmt pos:start="209:9" pos:end="211:33"><if pos:start="209:9" pos:end="211:33">if <condition pos:start="209:12" pos:end="209:59">(<expr pos:start="209:13" pos:end="209:58"><operator pos:start="209:13" pos:end="209:14">++</operator><name pos:start="209:15" pos:end="209:30"><name pos:start="209:15" pos:end="209:16">is</name><operator pos:start="209:17" pos:end="209:18">-&gt;</operator><name pos:start="209:19" pos:end="209:30">pictq_windex</name></name> <operator pos:start="209:32" pos:end="209:33">==</operator> <name pos:start="209:35" pos:end="209:58">VIDEO_PICTURE_QUEUE_SIZE</name></expr>)</condition><block type="pseudo" pos:start="211:13" pos:end="211:33"><block_content pos:start="211:13" pos:end="211:33">

            <expr_stmt pos:start="211:13" pos:end="211:33"><expr pos:start="211:13" pos:end="211:32"><name pos:start="211:13" pos:end="211:28"><name pos:start="211:13" pos:end="211:14">is</name><operator pos:start="211:15" pos:end="211:16">-&gt;</operator><name pos:start="211:17" pos:end="211:28">pictq_windex</name></name> <operator pos:start="211:30" pos:end="211:30">=</operator> <literal type="number" pos:start="211:32" pos:end="211:32">0</literal></expr>;</expr_stmt></block_content></block></if></if_stmt>

        <expr_stmt pos:start="213:9" pos:end="213:39"><expr pos:start="213:9" pos:end="213:38"><call pos:start="213:9" pos:end="213:38"><name pos:start="213:9" pos:end="213:21">SDL_LockMutex</name><argument_list pos:start="213:22" pos:end="213:38">(<argument pos:start="213:23" pos:end="213:37"><expr pos:start="213:23" pos:end="213:37"><name pos:start="213:23" pos:end="213:37"><name pos:start="213:23" pos:end="213:24">is</name><operator pos:start="213:25" pos:end="213:26">-&gt;</operator><name pos:start="213:27" pos:end="213:37">pictq_mutex</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="215:9" pos:end="215:60"><expr pos:start="215:9" pos:end="215:59"><name pos:start="215:9" pos:end="215:24"><name pos:start="215:9" pos:end="215:10">vp</name><operator pos:start="215:11" pos:end="215:12">-&gt;</operator><name pos:start="215:13" pos:end="215:24">target_clock</name></name> <operator pos:start="215:26" pos:end="215:26">=</operator> <call pos:start="215:28" pos:end="215:59"><name pos:start="215:28" pos:end="215:46">compute_target_time</name><argument_list pos:start="215:47" pos:end="215:59">(<argument pos:start="215:48" pos:end="215:54"><expr pos:start="215:48" pos:end="215:54"><name pos:start="215:48" pos:end="215:54"><name pos:start="215:48" pos:end="215:49">vp</name><operator pos:start="215:50" pos:end="215:51">-&gt;</operator><name pos:start="215:52" pos:end="215:54">pts</name></name></expr></argument>, <argument pos:start="215:57" pos:end="215:58"><expr pos:start="215:57" pos:end="215:58"><name pos:start="215:57" pos:end="215:58">is</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <expr_stmt pos:start="219:9" pos:end="219:25"><expr pos:start="219:9" pos:end="219:24"><name pos:start="219:9" pos:end="219:22"><name pos:start="219:9" pos:end="219:10">is</name><operator pos:start="219:11" pos:end="219:12">-&gt;</operator><name pos:start="219:13" pos:end="219:22">pictq_size</name></name><operator pos:start="219:23" pos:end="219:24">++</operator></expr>;</expr_stmt>

        <expr_stmt pos:start="221:9" pos:end="221:41"><expr pos:start="221:9" pos:end="221:40"><call pos:start="221:9" pos:end="221:40"><name pos:start="221:9" pos:end="221:23">SDL_UnlockMutex</name><argument_list pos:start="221:24" pos:end="221:40">(<argument pos:start="221:25" pos:end="221:39"><expr pos:start="221:25" pos:end="221:39"><name pos:start="221:25" pos:end="221:39"><name pos:start="221:25" pos:end="221:26">is</name><operator pos:start="221:27" pos:end="221:28">-&gt;</operator><name pos:start="221:29" pos:end="221:39">pictq_mutex</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    <return pos:start="225:5" pos:end="225:13">return <expr pos:start="225:12" pos:end="225:12"><literal type="number" pos:start="225:12" pos:end="225:12">0</literal></expr>;</return>

</block_content>}</block></function>
</unit>
