<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:cpp="http://www.srcML.org/srcML/cpp" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/27098.c" pos:tabs="8"><function pos:start="1:1" pos:end="417:1"><type pos:start="1:1" pos:end="1:3"><name pos:start="1:1" pos:end="1:3">int</name></type> <name pos:start="1:5" pos:end="1:22">ff_mpv_frame_start</name><parameter_list pos:start="1:23" pos:end="1:64">(<parameter pos:start="1:24" pos:end="1:40"><decl pos:start="1:24" pos:end="1:40"><type pos:start="1:24" pos:end="1:40"><name pos:start="1:24" pos:end="1:37">MpegEncContext</name> <modifier pos:start="1:39" pos:end="1:39">*</modifier></type><name pos:start="1:40" pos:end="1:40">s</name></decl></parameter>, <parameter pos:start="1:43" pos:end="1:63"><decl pos:start="1:43" pos:end="1:63"><type pos:start="1:43" pos:end="1:63"><name pos:start="1:43" pos:end="1:56">AVCodecContext</name> <modifier pos:start="1:58" pos:end="1:58">*</modifier></type><name pos:start="1:59" pos:end="1:63">avctx</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="417:1">{<block_content pos:start="5:5" pos:end="415:13">

    <decl_stmt pos:start="5:5" pos:end="5:15"><decl pos:start="5:5" pos:end="5:9"><type pos:start="5:5" pos:end="5:7"><name pos:start="5:5" pos:end="5:7">int</name></type> <name pos:start="5:9" pos:end="5:9">i</name></decl>, <decl pos:start="5:12" pos:end="5:14"><type ref="prev" pos:start="5:5" pos:end="5:7"/><name pos:start="5:12" pos:end="5:14">ret</name></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:17"><decl pos:start="7:5" pos:end="7:16"><type pos:start="7:5" pos:end="7:13"><name pos:start="7:5" pos:end="7:11">Picture</name> <modifier pos:start="7:13" pos:end="7:13">*</modifier></type><name pos:start="7:14" pos:end="7:16">pic</name></decl>;</decl_stmt>

    <expr_stmt pos:start="9:5" pos:end="9:22"><expr pos:start="9:5" pos:end="9:21"><name pos:start="9:5" pos:end="9:17"><name pos:start="9:5" pos:end="9:5">s</name><operator pos:start="9:6" pos:end="9:7">-&gt;</operator><name pos:start="9:8" pos:end="9:17">mb_skipped</name></name> <operator pos:start="9:19" pos:end="9:19">=</operator> <literal type="number" pos:start="9:21" pos:end="9:21">0</literal></expr>;</expr_stmt>



    <comment type="block" pos:start="13:5" pos:end="13:35">/* mark &amp; release old frames */</comment>

    <if_stmt pos:start="15:5" pos:end="23:5"><if pos:start="15:5" pos:end="23:5">if <condition pos:start="15:8" pos:end="19:39">(<expr pos:start="15:9" pos:end="19:38"><name pos:start="15:9" pos:end="15:20"><name pos:start="15:9" pos:end="15:9">s</name><operator pos:start="15:10" pos:end="15:11">-&gt;</operator><name pos:start="15:12" pos:end="15:20">pict_type</name></name> <operator pos:start="15:22" pos:end="15:23">!=</operator> <name pos:start="15:25" pos:end="15:41">AV_PICTURE_TYPE_B</name> <operator pos:start="15:43" pos:end="15:44">&amp;&amp;</operator> <name pos:start="15:46" pos:end="15:64"><name pos:start="15:46" pos:end="15:46">s</name><operator pos:start="15:47" pos:end="15:48">-&gt;</operator><name pos:start="15:49" pos:end="15:64">last_picture_ptr</name></name> <operator pos:start="15:66" pos:end="15:67">&amp;&amp;</operator>

        <name pos:start="17:9" pos:end="17:27"><name pos:start="17:9" pos:end="17:9">s</name><operator pos:start="17:10" pos:end="17:11">-&gt;</operator><name pos:start="17:12" pos:end="17:27">last_picture_ptr</name></name> <operator pos:start="17:29" pos:end="17:30">!=</operator> <name pos:start="17:32" pos:end="17:50"><name pos:start="17:32" pos:end="17:32">s</name><operator pos:start="17:33" pos:end="17:34">-&gt;</operator><name pos:start="17:35" pos:end="17:50">next_picture_ptr</name></name> <operator pos:start="17:52" pos:end="17:53">&amp;&amp;</operator>

        <name pos:start="19:9" pos:end="19:38"><name pos:start="19:9" pos:end="19:9">s</name><operator pos:start="19:10" pos:end="19:11">-&gt;</operator><name pos:start="19:12" pos:end="19:27">last_picture_ptr</name><operator pos:start="19:28" pos:end="19:29">-&gt;</operator><name pos:start="19:30" pos:end="19:30">f</name><operator pos:start="19:31" pos:end="19:32">-&gt;</operator><name pos:start="19:33" pos:end="19:35">buf</name><index pos:start="19:36" pos:end="19:38">[<expr pos:start="19:37" pos:end="19:37"><literal type="number" pos:start="19:37" pos:end="19:37">0</literal></expr>]</index></name></expr>)</condition> <block pos:start="19:41" pos:end="23:5">{<block_content pos:start="21:9" pos:end="21:61">

        <expr_stmt pos:start="21:9" pos:end="21:61"><expr pos:start="21:9" pos:end="21:60"><call pos:start="21:9" pos:end="21:60"><name pos:start="21:9" pos:end="21:29">ff_mpeg_unref_picture</name><argument_list pos:start="21:30" pos:end="21:60">(<argument pos:start="21:31" pos:end="21:38"><expr pos:start="21:31" pos:end="21:38"><name pos:start="21:31" pos:end="21:38"><name pos:start="21:31" pos:end="21:31">s</name><operator pos:start="21:32" pos:end="21:33">-&gt;</operator><name pos:start="21:34" pos:end="21:38">avctx</name></name></expr></argument>, <argument pos:start="21:41" pos:end="21:59"><expr pos:start="21:41" pos:end="21:59"><name pos:start="21:41" pos:end="21:59"><name pos:start="21:41" pos:end="21:41">s</name><operator pos:start="21:42" pos:end="21:43">-&gt;</operator><name pos:start="21:44" pos:end="21:59">last_picture_ptr</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <comment type="block" pos:start="27:5" pos:end="27:36">/* release forgotten pictures */</comment>

    <comment type="block" pos:start="29:5" pos:end="29:31">/* if (MPEG-124 / H.263) */</comment>

    <for pos:start="31:5" pos:end="43:5">for <control pos:start="31:9" pos:end="31:43">(<init pos:start="31:10" pos:end="31:15"><expr pos:start="31:10" pos:end="31:14"><name pos:start="31:10" pos:end="31:10">i</name> <operator pos:start="31:12" pos:end="31:12">=</operator> <literal type="number" pos:start="31:14" pos:end="31:14">0</literal></expr>;</init> <condition pos:start="31:17" pos:end="31:38"><expr pos:start="31:17" pos:end="31:37"><name pos:start="31:17" pos:end="31:17">i</name> <operator pos:start="31:19" pos:end="31:19">&lt;</operator> <name pos:start="31:21" pos:end="31:37">MAX_PICTURE_COUNT</name></expr>;</condition> <incr pos:start="31:40" pos:end="31:42"><expr pos:start="31:40" pos:end="31:42"><name pos:start="31:40" pos:end="31:40">i</name><operator pos:start="31:41" pos:end="31:42">++</operator></expr></incr>)</control> <block pos:start="31:45" pos:end="43:5">{<block_content pos:start="33:9" pos:end="41:9">

        <if_stmt pos:start="33:9" pos:end="41:9"><if pos:start="33:9" pos:end="41:9">if <condition pos:start="33:12" pos:end="37:68">(<expr pos:start="33:13" pos:end="37:67"><operator pos:start="33:13" pos:end="33:13">&amp;</operator><name pos:start="33:14" pos:end="33:26"><name pos:start="33:14" pos:end="33:14">s</name><operator pos:start="33:15" pos:end="33:16">-&gt;</operator><name pos:start="33:17" pos:end="33:23">picture</name><index pos:start="33:24" pos:end="33:26">[<expr pos:start="33:25" pos:end="33:25"><name pos:start="33:25" pos:end="33:25">i</name></expr>]</index></name> <operator pos:start="33:28" pos:end="33:29">!=</operator> <name pos:start="33:31" pos:end="33:49"><name pos:start="33:31" pos:end="33:31">s</name><operator pos:start="33:32" pos:end="33:33">-&gt;</operator><name pos:start="33:34" pos:end="33:49">last_picture_ptr</name></name> <operator pos:start="33:51" pos:end="33:52">&amp;&amp;</operator>

            <operator pos:start="35:13" pos:end="35:13">&amp;</operator><name pos:start="35:14" pos:end="35:26"><name pos:start="35:14" pos:end="35:14">s</name><operator pos:start="35:15" pos:end="35:16">-&gt;</operator><name pos:start="35:17" pos:end="35:23">picture</name><index pos:start="35:24" pos:end="35:26">[<expr pos:start="35:25" pos:end="35:25"><name pos:start="35:25" pos:end="35:25">i</name></expr>]</index></name> <operator pos:start="35:28" pos:end="35:29">!=</operator> <name pos:start="35:31" pos:end="35:49"><name pos:start="35:31" pos:end="35:31">s</name><operator pos:start="35:32" pos:end="35:33">-&gt;</operator><name pos:start="35:34" pos:end="35:49">next_picture_ptr</name></name> <operator pos:start="35:51" pos:end="35:52">&amp;&amp;</operator>

            <name pos:start="37:13" pos:end="37:25"><name pos:start="37:13" pos:end="37:13">s</name><operator pos:start="37:14" pos:end="37:15">-&gt;</operator><name pos:start="37:16" pos:end="37:22">picture</name><index pos:start="37:23" pos:end="37:25">[<expr pos:start="37:24" pos:end="37:24"><name pos:start="37:24" pos:end="37:24">i</name></expr>]</index></name><operator pos:start="37:26" pos:end="37:26">.</operator><name pos:start="37:27" pos:end="37:35">reference</name> <operator pos:start="37:37" pos:end="37:38">&amp;&amp;</operator> <operator pos:start="37:40" pos:end="37:40">!</operator><name pos:start="37:41" pos:end="37:53"><name pos:start="37:41" pos:end="37:41">s</name><operator pos:start="37:42" pos:end="37:43">-&gt;</operator><name pos:start="37:44" pos:end="37:50">picture</name><index pos:start="37:51" pos:end="37:53">[<expr pos:start="37:52" pos:end="37:52"><name pos:start="37:52" pos:end="37:52">i</name></expr>]</index></name><operator pos:start="37:54" pos:end="37:54">.</operator><name pos:start="37:55" pos:end="37:67">needs_realloc</name></expr>)</condition> <block pos:start="37:70" pos:end="41:9">{<block_content pos:start="39:13" pos:end="39:60">

            <expr_stmt pos:start="39:13" pos:end="39:60"><expr pos:start="39:13" pos:end="39:59"><call pos:start="39:13" pos:end="39:59"><name pos:start="39:13" pos:end="39:33">ff_mpeg_unref_picture</name><argument_list pos:start="39:34" pos:end="39:59">(<argument pos:start="39:35" pos:end="39:42"><expr pos:start="39:35" pos:end="39:42"><name pos:start="39:35" pos:end="39:42"><name pos:start="39:35" pos:end="39:35">s</name><operator pos:start="39:36" pos:end="39:37">-&gt;</operator><name pos:start="39:38" pos:end="39:42">avctx</name></name></expr></argument>, <argument pos:start="39:45" pos:end="39:58"><expr pos:start="39:45" pos:end="39:58"><operator pos:start="39:45" pos:end="39:45">&amp;</operator><name pos:start="39:46" pos:end="39:58"><name pos:start="39:46" pos:end="39:46">s</name><operator pos:start="39:47" pos:end="39:48">-&gt;</operator><name pos:start="39:49" pos:end="39:55">picture</name><index pos:start="39:56" pos:end="39:58">[<expr pos:start="39:57" pos:end="39:57"><name pos:start="39:57" pos:end="39:57">i</name></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></for>



    <expr_stmt pos:start="47:5" pos:end="47:57"><expr pos:start="47:5" pos:end="47:56"><call pos:start="47:5" pos:end="47:56"><name pos:start="47:5" pos:end="47:25">ff_mpeg_unref_picture</name><argument_list pos:start="47:26" pos:end="47:56">(<argument pos:start="47:27" pos:end="47:34"><expr pos:start="47:27" pos:end="47:34"><name pos:start="47:27" pos:end="47:34"><name pos:start="47:27" pos:end="47:27">s</name><operator pos:start="47:28" pos:end="47:29">-&gt;</operator><name pos:start="47:30" pos:end="47:34">avctx</name></name></expr></argument>, <argument pos:start="47:37" pos:end="47:55"><expr pos:start="47:37" pos:end="47:55"><operator pos:start="47:37" pos:end="47:37">&amp;</operator><name pos:start="47:38" pos:end="47:55"><name pos:start="47:38" pos:end="47:38">s</name><operator pos:start="47:39" pos:end="47:40">-&gt;</operator><name pos:start="47:41" pos:end="47:55">current_picture</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <comment type="block" pos:start="51:5" pos:end="51:38">/* release non reference frames */</comment>

    <for pos:start="53:5" pos:end="59:5">for <control pos:start="53:9" pos:end="53:43">(<init pos:start="53:10" pos:end="53:15"><expr pos:start="53:10" pos:end="53:14"><name pos:start="53:10" pos:end="53:10">i</name> <operator pos:start="53:12" pos:end="53:12">=</operator> <literal type="number" pos:start="53:14" pos:end="53:14">0</literal></expr>;</init> <condition pos:start="53:17" pos:end="53:38"><expr pos:start="53:17" pos:end="53:37"><name pos:start="53:17" pos:end="53:17">i</name> <operator pos:start="53:19" pos:end="53:19">&lt;</operator> <name pos:start="53:21" pos:end="53:37">MAX_PICTURE_COUNT</name></expr>;</condition> <incr pos:start="53:40" pos:end="53:42"><expr pos:start="53:40" pos:end="53:42"><name pos:start="53:40" pos:end="53:40">i</name><operator pos:start="53:41" pos:end="53:42">++</operator></expr></incr>)</control> <block pos:start="53:45" pos:end="59:5">{<block_content pos:start="55:9" pos:end="57:60">

        <if_stmt pos:start="55:9" pos:end="57:60"><if pos:start="55:9" pos:end="57:60">if <condition pos:start="55:12" pos:end="55:37">(<expr pos:start="55:13" pos:end="55:36"><operator pos:start="55:13" pos:end="55:13">!</operator><name pos:start="55:14" pos:end="55:26"><name pos:start="55:14" pos:end="55:14">s</name><operator pos:start="55:15" pos:end="55:16">-&gt;</operator><name pos:start="55:17" pos:end="55:23">picture</name><index pos:start="55:24" pos:end="55:26">[<expr pos:start="55:25" pos:end="55:25"><name pos:start="55:25" pos:end="55:25">i</name></expr>]</index></name><operator pos:start="55:27" pos:end="55:27">.</operator><name pos:start="55:28" pos:end="55:36">reference</name></expr>)</condition><block type="pseudo" pos:start="57:13" pos:end="57:60"><block_content pos:start="57:13" pos:end="57:60">

            <expr_stmt pos:start="57:13" pos:end="57:60"><expr pos:start="57:13" pos:end="57:59"><call pos:start="57:13" pos:end="57:59"><name pos:start="57:13" pos:end="57:33">ff_mpeg_unref_picture</name><argument_list pos:start="57:34" pos:end="57:59">(<argument pos:start="57:35" pos:end="57:42"><expr pos:start="57:35" pos:end="57:42"><name pos:start="57:35" pos:end="57:42"><name pos:start="57:35" pos:end="57:35">s</name><operator pos:start="57:36" pos:end="57:37">-&gt;</operator><name pos:start="57:38" pos:end="57:42">avctx</name></name></expr></argument>, <argument pos:start="57:45" pos:end="57:58"><expr pos:start="57:45" pos:end="57:58"><operator pos:start="57:45" pos:end="57:45">&amp;</operator><name pos:start="57:46" pos:end="57:58"><name pos:start="57:46" pos:end="57:46">s</name><operator pos:start="57:47" pos:end="57:48">-&gt;</operator><name pos:start="57:49" pos:end="57:55">picture</name><index pos:start="57:56" pos:end="57:58">[<expr pos:start="57:57" pos:end="57:57"><name pos:start="57:57" pos:end="57:57">i</name></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

    </block_content>}</block></for>



    <if_stmt pos:start="63:5" pos:end="85:5"><if pos:start="63:5" pos:end="71:5">if <condition pos:start="63:8" pos:end="63:69">(<expr pos:start="63:9" pos:end="63:68"><name pos:start="63:9" pos:end="63:30"><name pos:start="63:9" pos:end="63:9">s</name><operator pos:start="63:10" pos:end="63:11">-&gt;</operator><name pos:start="63:12" pos:end="63:30">current_picture_ptr</name></name> <operator pos:start="63:32" pos:end="63:33">&amp;&amp;</operator> <operator pos:start="63:35" pos:end="63:35">!</operator><name pos:start="63:36" pos:end="63:68"><name pos:start="63:36" pos:end="63:36">s</name><operator pos:start="63:37" pos:end="63:38">-&gt;</operator><name pos:start="63:39" pos:end="63:57">current_picture_ptr</name><operator pos:start="63:58" pos:end="63:59">-&gt;</operator><name pos:start="63:60" pos:end="63:60">f</name><operator pos:start="63:61" pos:end="63:62">-&gt;</operator><name pos:start="63:63" pos:end="63:65">buf</name><index pos:start="63:66" pos:end="63:68">[<expr pos:start="63:67" pos:end="63:67"><literal type="number" pos:start="63:67" pos:end="63:67">0</literal></expr>]</index></name></expr>)</condition> <block pos:start="63:71" pos:end="71:5">{<block_content pos:start="69:9" pos:end="69:37">

        <comment type="line" pos:start="65:9" pos:end="65:41">// we already have a unused image</comment>

        <comment type="line" pos:start="67:9" pos:end="67:55">// (maybe it was set before reading the header)</comment>

        <expr_stmt pos:start="69:9" pos:end="69:37"><expr pos:start="69:9" pos:end="69:36"><name pos:start="69:9" pos:end="69:11">pic</name> <operator pos:start="69:13" pos:end="69:13">=</operator> <name pos:start="69:15" pos:end="69:36"><name pos:start="69:15" pos:end="69:15">s</name><operator pos:start="69:16" pos:end="69:17">-&gt;</operator><name pos:start="69:18" pos:end="69:36">current_picture_ptr</name></name></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="71:7" pos:end="85:5">else <block pos:start="71:12" pos:end="85:5">{<block_content pos:start="73:9" pos:end="83:29">

        <expr_stmt pos:start="73:9" pos:end="73:62"><expr pos:start="73:9" pos:end="73:61"><name pos:start="73:9" pos:end="73:9">i</name>   <operator pos:start="73:13" pos:end="73:13">=</operator> <call pos:start="73:15" pos:end="73:61"><name pos:start="73:15" pos:end="73:36">ff_find_unused_picture</name><argument_list pos:start="73:37" pos:end="73:61">(<argument pos:start="73:38" pos:end="73:45"><expr pos:start="73:38" pos:end="73:45"><name pos:start="73:38" pos:end="73:45"><name pos:start="73:38" pos:end="73:38">s</name><operator pos:start="73:39" pos:end="73:40">-&gt;</operator><name pos:start="73:41" pos:end="73:45">avctx</name></name></expr></argument>, <argument pos:start="73:48" pos:end="73:57"><expr pos:start="73:48" pos:end="73:57"><name pos:start="73:48" pos:end="73:57"><name pos:start="73:48" pos:end="73:48">s</name><operator pos:start="73:49" pos:end="73:50">-&gt;</operator><name pos:start="73:51" pos:end="73:57">picture</name></name></expr></argument>, <argument pos:start="73:60" pos:end="73:60"><expr pos:start="73:60" pos:end="73:60"><literal type="number" pos:start="73:60" pos:end="73:60">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="75:9" pos:end="81:9"><if pos:start="75:9" pos:end="81:9">if <condition pos:start="75:12" pos:end="75:18">(<expr pos:start="75:13" pos:end="75:17"><name pos:start="75:13" pos:end="75:13">i</name> <operator pos:start="75:15" pos:end="75:15">&lt;</operator> <literal type="number" pos:start="75:17" pos:end="75:17">0</literal></expr>)</condition> <block pos:start="75:20" pos:end="81:9">{<block_content pos:start="77:13" pos:end="79:21">

            <expr_stmt pos:start="77:13" pos:end="77:74"><expr pos:start="77:13" pos:end="77:73"><call pos:start="77:13" pos:end="77:73"><name pos:start="77:13" pos:end="77:18">av_log</name><argument_list pos:start="77:19" pos:end="77:73">(<argument pos:start="77:20" pos:end="77:27"><expr pos:start="77:20" pos:end="77:27"><name pos:start="77:20" pos:end="77:27"><name pos:start="77:20" pos:end="77:20">s</name><operator pos:start="77:21" pos:end="77:22">-&gt;</operator><name pos:start="77:23" pos:end="77:27">avctx</name></name></expr></argument>, <argument pos:start="77:30" pos:end="77:41"><expr pos:start="77:30" pos:end="77:41"><name pos:start="77:30" pos:end="77:41">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="77:44" pos:end="77:72"><expr pos:start="77:44" pos:end="77:72"><literal type="string" pos:start="77:44" pos:end="77:72">"no frame buffer available\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <return pos:start="79:13" pos:end="79:21">return <expr pos:start="79:20" pos:end="79:20"><name pos:start="79:20" pos:end="79:20">i</name></expr>;</return>

        </block_content>}</block></if></if_stmt>

        <expr_stmt pos:start="83:9" pos:end="83:29"><expr pos:start="83:9" pos:end="83:28"><name pos:start="83:9" pos:end="83:11">pic</name> <operator pos:start="83:13" pos:end="83:13">=</operator> <operator pos:start="83:15" pos:end="83:15">&amp;</operator><name pos:start="83:16" pos:end="83:28"><name pos:start="83:16" pos:end="83:16">s</name><operator pos:start="83:17" pos:end="83:18">-&gt;</operator><name pos:start="83:19" pos:end="83:25">picture</name><index pos:start="83:26" pos:end="83:28">[<expr pos:start="83:27" pos:end="83:27"><name pos:start="83:27" pos:end="83:27">i</name></expr>]</index></name></expr>;</expr_stmt>

    </block_content>}</block></else></if_stmt>



    <expr_stmt pos:start="89:5" pos:end="89:23"><expr pos:start="89:5" pos:end="89:22"><name pos:start="89:5" pos:end="89:18"><name pos:start="89:5" pos:end="89:7">pic</name><operator pos:start="89:8" pos:end="89:9">-&gt;</operator><name pos:start="89:10" pos:end="89:18">reference</name></name> <operator pos:start="89:20" pos:end="89:20">=</operator> <literal type="number" pos:start="89:22" pos:end="89:22">0</literal></expr>;</expr_stmt>

    <if_stmt pos:start="91:5" pos:end="97:5"><if pos:start="91:5" pos:end="97:5">if <condition pos:start="91:8" pos:end="91:22">(<expr pos:start="91:9" pos:end="91:21"><operator pos:start="91:9" pos:end="91:9">!</operator><name pos:start="91:10" pos:end="91:21"><name pos:start="91:10" pos:end="91:10">s</name><operator pos:start="91:11" pos:end="91:12">-&gt;</operator><name pos:start="91:13" pos:end="91:21">droppable</name></name></expr>)</condition> <block pos:start="91:24" pos:end="97:5">{<block_content pos:start="93:9" pos:end="95:31">

        <if_stmt pos:start="93:9" pos:end="95:31"><if pos:start="93:9" pos:end="95:31">if <condition pos:start="93:12" pos:end="93:46">(<expr pos:start="93:13" pos:end="93:45"><name pos:start="93:13" pos:end="93:24"><name pos:start="93:13" pos:end="93:13">s</name><operator pos:start="93:14" pos:end="93:15">-&gt;</operator><name pos:start="93:16" pos:end="93:24">pict_type</name></name> <operator pos:start="93:26" pos:end="93:27">!=</operator> <name pos:start="93:29" pos:end="93:45">AV_PICTURE_TYPE_B</name></expr>)</condition><block type="pseudo" pos:start="95:13" pos:end="95:31"><block_content pos:start="95:13" pos:end="95:31">

            <expr_stmt pos:start="95:13" pos:end="95:31"><expr pos:start="95:13" pos:end="95:30"><name pos:start="95:13" pos:end="95:26"><name pos:start="95:13" pos:end="95:15">pic</name><operator pos:start="95:16" pos:end="95:17">-&gt;</operator><name pos:start="95:18" pos:end="95:26">reference</name></name> <operator pos:start="95:28" pos:end="95:28">=</operator> <literal type="number" pos:start="95:30" pos:end="95:30">3</literal></expr>;</expr_stmt></block_content></block></if></if_stmt>

    </block_content>}</block></if></if_stmt>



    <expr_stmt pos:start="101:5" pos:end="101:61"><expr pos:start="101:5" pos:end="101:60"><name pos:start="101:5" pos:end="101:32"><name pos:start="101:5" pos:end="101:7">pic</name><operator pos:start="101:8" pos:end="101:9">-&gt;</operator><name pos:start="101:10" pos:end="101:10">f</name><operator pos:start="101:11" pos:end="101:12">-&gt;</operator><name pos:start="101:13" pos:end="101:32">coded_picture_number</name></name> <operator pos:start="101:34" pos:end="101:34">=</operator> <name pos:start="101:36" pos:end="101:58"><name pos:start="101:36" pos:end="101:36">s</name><operator pos:start="101:37" pos:end="101:38">-&gt;</operator><name pos:start="101:39" pos:end="101:58">coded_picture_number</name></name><operator pos:start="101:59" pos:end="101:60">++</operator></expr>;</expr_stmt>



    <if_stmt pos:start="105:5" pos:end="107:18"><if pos:start="105:5" pos:end="107:18">if <condition pos:start="105:8" pos:end="105:37">(<expr pos:start="105:9" pos:end="105:36"><call pos:start="105:9" pos:end="105:32"><name pos:start="105:9" pos:end="105:21">alloc_picture</name><argument_list pos:start="105:22" pos:end="105:32">(<argument pos:start="105:23" pos:end="105:23"><expr pos:start="105:23" pos:end="105:23"><name pos:start="105:23" pos:end="105:23">s</name></expr></argument>, <argument pos:start="105:26" pos:end="105:28"><expr pos:start="105:26" pos:end="105:28"><name pos:start="105:26" pos:end="105:28">pic</name></expr></argument>, <argument pos:start="105:31" pos:end="105:31"><expr pos:start="105:31" pos:end="105:31"><literal type="number" pos:start="105:31" pos:end="105:31">0</literal></expr></argument>)</argument_list></call> <operator pos:start="105:34" pos:end="105:34">&lt;</operator> <literal type="number" pos:start="105:36" pos:end="105:36">0</literal></expr>)</condition><block type="pseudo" pos:start="107:9" pos:end="107:18"><block_content pos:start="107:9" pos:end="107:18">

        <return pos:start="107:9" pos:end="107:18">return <expr pos:start="107:16" pos:end="107:17"><operator pos:start="107:16" pos:end="107:16">-</operator><literal type="number" pos:start="107:17" pos:end="107:17">1</literal></expr>;</return></block_content></block></if></if_stmt>



    <expr_stmt pos:start="111:5" pos:end="111:33"><expr pos:start="111:5" pos:end="111:32"><name pos:start="111:5" pos:end="111:26"><name pos:start="111:5" pos:end="111:5">s</name><operator pos:start="111:6" pos:end="111:7">-&gt;</operator><name pos:start="111:8" pos:end="111:26">current_picture_ptr</name></name> <operator pos:start="111:28" pos:end="111:28">=</operator> <name pos:start="111:30" pos:end="111:32">pic</name></expr>;</expr_stmt>

    <comment type="line" pos:start="113:5" pos:end="113:47">// FIXME use only the vars from current_pic</comment>

    <expr_stmt pos:start="115:5" pos:end="115:68"><expr pos:start="115:5" pos:end="115:67"><name pos:start="115:5" pos:end="115:46"><name pos:start="115:5" pos:end="115:5">s</name><operator pos:start="115:6" pos:end="115:7">-&gt;</operator><name pos:start="115:8" pos:end="115:26">current_picture_ptr</name><operator pos:start="115:27" pos:end="115:28">-&gt;</operator><name pos:start="115:29" pos:end="115:29">f</name><operator pos:start="115:30" pos:end="115:31">-&gt;</operator><name pos:start="115:32" pos:end="115:46">top_field_first</name></name> <operator pos:start="115:48" pos:end="115:48">=</operator> <name pos:start="115:50" pos:end="115:67"><name pos:start="115:50" pos:end="115:50">s</name><operator pos:start="115:51" pos:end="115:52">-&gt;</operator><name pos:start="115:53" pos:end="115:67">top_field_first</name></name></expr>;</expr_stmt>

    <if_stmt pos:start="117:5" pos:end="127:5"><if pos:start="117:5" pos:end="127:5">if <condition pos:start="117:8" pos:end="119:46">(<expr pos:start="117:9" pos:end="119:45"><name pos:start="117:9" pos:end="117:19"><name pos:start="117:9" pos:end="117:9">s</name><operator pos:start="117:10" pos:end="117:11">-&gt;</operator><name pos:start="117:12" pos:end="117:19">codec_id</name></name> <operator pos:start="117:21" pos:end="117:22">==</operator> <name pos:start="117:24" pos:end="117:45">AV_CODEC_ID_MPEG1VIDEO</name> <operator pos:start="117:47" pos:end="117:48">||</operator>

        <name pos:start="119:9" pos:end="119:19"><name pos:start="119:9" pos:end="119:9">s</name><operator pos:start="119:10" pos:end="119:11">-&gt;</operator><name pos:start="119:12" pos:end="119:19">codec_id</name></name> <operator pos:start="119:21" pos:end="119:22">==</operator> <name pos:start="119:24" pos:end="119:45">AV_CODEC_ID_MPEG2VIDEO</name></expr>)</condition> <block pos:start="119:48" pos:end="127:5">{<block_content pos:start="121:9" pos:end="125:75">

        <if_stmt pos:start="121:9" pos:end="125:75"><if pos:start="121:9" pos:end="125:75">if <condition pos:start="121:12" pos:end="121:47">(<expr pos:start="121:13" pos:end="121:46"><name pos:start="121:13" pos:end="121:32"><name pos:start="121:13" pos:end="121:13">s</name><operator pos:start="121:14" pos:end="121:15">-&gt;</operator><name pos:start="121:16" pos:end="121:32">picture_structure</name></name> <operator pos:start="121:34" pos:end="121:35">!=</operator> <name pos:start="121:37" pos:end="121:46">PICT_FRAME</name></expr>)</condition><block type="pseudo" pos:start="123:13" pos:end="125:75"><block_content pos:start="123:13" pos:end="125:75">

            <expr_stmt pos:start="123:13" pos:end="125:75"><expr pos:start="123:13" pos:end="125:74"><name pos:start="123:13" pos:end="123:54"><name pos:start="123:13" pos:end="123:13">s</name><operator pos:start="123:14" pos:end="123:15">-&gt;</operator><name pos:start="123:16" pos:end="123:34">current_picture_ptr</name><operator pos:start="123:35" pos:end="123:36">-&gt;</operator><name pos:start="123:37" pos:end="123:37">f</name><operator pos:start="123:38" pos:end="123:39">-&gt;</operator><name pos:start="123:40" pos:end="123:54">top_field_first</name></name> <operator pos:start="123:56" pos:end="123:56">=</operator>

                <operator pos:start="125:17" pos:end="125:17">(</operator><name pos:start="125:18" pos:end="125:37"><name pos:start="125:18" pos:end="125:18">s</name><operator pos:start="125:19" pos:end="125:20">-&gt;</operator><name pos:start="125:21" pos:end="125:37">picture_structure</name></name> <operator pos:start="125:39" pos:end="125:40">==</operator> <name pos:start="125:42" pos:end="125:55">PICT_TOP_FIELD</name><operator pos:start="125:56" pos:end="125:56">)</operator> <operator pos:start="125:58" pos:end="125:59">==</operator> <name pos:start="125:61" pos:end="125:74"><name pos:start="125:61" pos:end="125:61">s</name><operator pos:start="125:62" pos:end="125:63">-&gt;</operator><name pos:start="125:64" pos:end="125:74">first_field</name></name></expr>;</expr_stmt></block_content></block></if></if_stmt>

    </block_content>}</block></if></if_stmt>

    <expr_stmt pos:start="129:5" pos:end="131:74"><expr pos:start="129:5" pos:end="131:73"><name pos:start="129:5" pos:end="129:47"><name pos:start="129:5" pos:end="129:5">s</name><operator pos:start="129:6" pos:end="129:7">-&gt;</operator><name pos:start="129:8" pos:end="129:26">current_picture_ptr</name><operator pos:start="129:27" pos:end="129:28">-&gt;</operator><name pos:start="129:29" pos:end="129:29">f</name><operator pos:start="129:30" pos:end="129:31">-&gt;</operator><name pos:start="129:32" pos:end="129:47">interlaced_frame</name></name> <operator pos:start="129:49" pos:end="129:49">=</operator> <operator pos:start="129:51" pos:end="129:51">!</operator><name pos:start="129:52" pos:end="129:71"><name pos:start="129:52" pos:end="129:52">s</name><operator pos:start="129:53" pos:end="129:54">-&gt;</operator><name pos:start="129:55" pos:end="129:71">progressive_frame</name></name> <operator pos:start="129:73" pos:end="129:74">&amp;&amp;</operator>

                                                 <operator pos:start="131:50" pos:end="131:50">!</operator><name pos:start="131:51" pos:end="131:73"><name pos:start="131:51" pos:end="131:51">s</name><operator pos:start="131:52" pos:end="131:53">-&gt;</operator><name pos:start="131:54" pos:end="131:73">progressive_sequence</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="133:5" pos:end="133:85"><expr pos:start="133:5" pos:end="133:84"><name pos:start="133:5" pos:end="133:41"><name pos:start="133:5" pos:end="133:5">s</name><operator pos:start="133:6" pos:end="133:7">-&gt;</operator><name pos:start="133:8" pos:end="133:26">current_picture_ptr</name><operator pos:start="133:27" pos:end="133:28">-&gt;</operator><name pos:start="133:29" pos:end="133:41">field_picture</name></name>      <operator pos:start="133:48" pos:end="133:48">=</operator>  <name pos:start="133:51" pos:end="133:70"><name pos:start="133:51" pos:end="133:51">s</name><operator pos:start="133:52" pos:end="133:53">-&gt;</operator><name pos:start="133:54" pos:end="133:70">picture_structure</name></name> <operator pos:start="133:72" pos:end="133:73">!=</operator> <name pos:start="133:75" pos:end="133:84">PICT_FRAME</name></expr>;</expr_stmt>



    <expr_stmt pos:start="137:5" pos:end="137:56"><expr pos:start="137:5" pos:end="137:55"><name pos:start="137:5" pos:end="137:40"><name pos:start="137:5" pos:end="137:5">s</name><operator pos:start="137:6" pos:end="137:7">-&gt;</operator><name pos:start="137:8" pos:end="137:26">current_picture_ptr</name><operator pos:start="137:27" pos:end="137:28">-&gt;</operator><name pos:start="137:29" pos:end="137:29">f</name><operator pos:start="137:30" pos:end="137:31">-&gt;</operator><name pos:start="137:32" pos:end="137:40">pict_type</name></name> <operator pos:start="137:42" pos:end="137:42">=</operator> <name pos:start="137:44" pos:end="137:55"><name pos:start="137:44" pos:end="137:44">s</name><operator pos:start="137:45" pos:end="137:46">-&gt;</operator><name pos:start="137:47" pos:end="137:55">pict_type</name></name></expr>;</expr_stmt>

    <comment type="line" pos:start="139:5" pos:end="139:51">// if (s-&gt;avctx-&gt;flags &amp;&amp; AV_CODEC_FLAG_QSCALE)</comment>

    <comment type="line" pos:start="141:5" pos:end="141:73">//     s-&gt;current_picture_ptr-&gt;quality = s-&gt;new_picture_ptr-&gt;quality;</comment>

    <expr_stmt pos:start="143:5" pos:end="143:77"><expr pos:start="143:5" pos:end="143:76"><name pos:start="143:5" pos:end="143:40"><name pos:start="143:5" pos:end="143:5">s</name><operator pos:start="143:6" pos:end="143:7">-&gt;</operator><name pos:start="143:8" pos:end="143:26">current_picture_ptr</name><operator pos:start="143:27" pos:end="143:28">-&gt;</operator><name pos:start="143:29" pos:end="143:29">f</name><operator pos:start="143:30" pos:end="143:31">-&gt;</operator><name pos:start="143:32" pos:end="143:40">key_frame</name></name> <operator pos:start="143:42" pos:end="143:42">=</operator> <name pos:start="143:44" pos:end="143:55"><name pos:start="143:44" pos:end="143:44">s</name><operator pos:start="143:45" pos:end="143:46">-&gt;</operator><name pos:start="143:47" pos:end="143:55">pict_type</name></name> <operator pos:start="143:57" pos:end="143:58">==</operator> <name pos:start="143:60" pos:end="143:76">AV_PICTURE_TYPE_I</name></expr>;</expr_stmt>



    <if_stmt pos:start="147:5" pos:end="151:19"><if pos:start="147:5" pos:end="151:19">if <condition pos:start="147:8" pos:end="149:64">(<expr pos:start="147:9" pos:end="149:63"><operator pos:start="147:9" pos:end="147:9">(</operator><name pos:start="147:10" pos:end="147:12">ret</name> <operator pos:start="147:14" pos:end="147:14">=</operator> <call pos:start="147:16" pos:end="149:58"><name pos:start="147:16" pos:end="147:34">ff_mpeg_ref_picture</name><argument_list pos:start="147:35" pos:end="149:58">(<argument pos:start="147:36" pos:end="147:43"><expr pos:start="147:36" pos:end="147:43"><name pos:start="147:36" pos:end="147:43"><name pos:start="147:36" pos:end="147:36">s</name><operator pos:start="147:37" pos:end="147:38">-&gt;</operator><name pos:start="147:39" pos:end="147:43">avctx</name></name></expr></argument>, <argument pos:start="147:46" pos:end="147:64"><expr pos:start="147:46" pos:end="147:64"><operator pos:start="147:46" pos:end="147:46">&amp;</operator><name pos:start="147:47" pos:end="147:64"><name pos:start="147:47" pos:end="147:47">s</name><operator pos:start="147:48" pos:end="147:49">-&gt;</operator><name pos:start="147:50" pos:end="147:64">current_picture</name></name></expr></argument>,

                                   <argument pos:start="149:36" pos:end="149:57"><expr pos:start="149:36" pos:end="149:57"><name pos:start="149:36" pos:end="149:57"><name pos:start="149:36" pos:end="149:36">s</name><operator pos:start="149:37" pos:end="149:38">-&gt;</operator><name pos:start="149:39" pos:end="149:57">current_picture_ptr</name></name></expr></argument>)</argument_list></call><operator pos:start="149:59" pos:end="149:59">)</operator> <operator pos:start="149:61" pos:end="149:61">&lt;</operator> <literal type="number" pos:start="149:63" pos:end="149:63">0</literal></expr>)</condition><block type="pseudo" pos:start="151:9" pos:end="151:19"><block_content pos:start="151:9" pos:end="151:19">

        <return pos:start="151:9" pos:end="151:19">return <expr pos:start="151:16" pos:end="151:18"><name pos:start="151:16" pos:end="151:18">ret</name></expr>;</return></block_content></block></if></if_stmt>



    <if_stmt pos:start="155:5" pos:end="163:5"><if pos:start="155:5" pos:end="163:5">if <condition pos:start="155:8" pos:end="155:42">(<expr pos:start="155:9" pos:end="155:41"><name pos:start="155:9" pos:end="155:20"><name pos:start="155:9" pos:end="155:9">s</name><operator pos:start="155:10" pos:end="155:11">-&gt;</operator><name pos:start="155:12" pos:end="155:20">pict_type</name></name> <operator pos:start="155:22" pos:end="155:23">!=</operator> <name pos:start="155:25" pos:end="155:41">AV_PICTURE_TYPE_B</name></expr>)</condition> <block pos:start="155:44" pos:end="163:5">{<block_content pos:start="157:9" pos:end="161:57">

        <expr_stmt pos:start="157:9" pos:end="157:50"><expr pos:start="157:9" pos:end="157:49"><name pos:start="157:9" pos:end="157:27"><name pos:start="157:9" pos:end="157:9">s</name><operator pos:start="157:10" pos:end="157:11">-&gt;</operator><name pos:start="157:12" pos:end="157:27">last_picture_ptr</name></name> <operator pos:start="157:29" pos:end="157:29">=</operator> <name pos:start="157:31" pos:end="157:49"><name pos:start="157:31" pos:end="157:31">s</name><operator pos:start="157:32" pos:end="157:33">-&gt;</operator><name pos:start="157:34" pos:end="157:49">next_picture_ptr</name></name></expr>;</expr_stmt>

        <if_stmt pos:start="159:9" pos:end="161:57"><if pos:start="159:9" pos:end="161:57">if <condition pos:start="159:12" pos:end="159:26">(<expr pos:start="159:13" pos:end="159:25"><operator pos:start="159:13" pos:end="159:13">!</operator><name pos:start="159:14" pos:end="159:25"><name pos:start="159:14" pos:end="159:14">s</name><operator pos:start="159:15" pos:end="159:16">-&gt;</operator><name pos:start="159:17" pos:end="159:25">droppable</name></name></expr>)</condition><block type="pseudo" pos:start="161:13" pos:end="161:57"><block_content pos:start="161:13" pos:end="161:57">

            <expr_stmt pos:start="161:13" pos:end="161:57"><expr pos:start="161:13" pos:end="161:56"><name pos:start="161:13" pos:end="161:31"><name pos:start="161:13" pos:end="161:13">s</name><operator pos:start="161:14" pos:end="161:15">-&gt;</operator><name pos:start="161:16" pos:end="161:31">next_picture_ptr</name></name> <operator pos:start="161:33" pos:end="161:33">=</operator> <name pos:start="161:35" pos:end="161:56"><name pos:start="161:35" pos:end="161:35">s</name><operator pos:start="161:36" pos:end="161:37">-&gt;</operator><name pos:start="161:38" pos:end="161:56">current_picture_ptr</name></name></expr>;</expr_stmt></block_content></block></if></if_stmt>

    </block_content>}</block></if></if_stmt>

    <expr_stmt pos:start="165:5" pos:end="175:40"><expr pos:start="165:5" pos:end="175:39"><call pos:start="165:5" pos:end="175:39"><name pos:start="165:5" pos:end="165:11">ff_dlog</name><argument_list pos:start="165:12" pos:end="175:39">(<argument pos:start="165:13" pos:end="165:20"><expr pos:start="165:13" pos:end="165:20"><name pos:start="165:13" pos:end="165:20"><name pos:start="165:13" pos:end="165:13">s</name><operator pos:start="165:14" pos:end="165:15">-&gt;</operator><name pos:start="165:16" pos:end="165:20">avctx</name></name></expr></argument>, <argument pos:start="165:23" pos:end="165:65"><expr pos:start="165:23" pos:end="165:65"><literal type="string" pos:start="165:23" pos:end="165:65">"L%p N%p C%p L%p N%p C%p type:%d drop:%d\n"</literal></expr></argument>,

            <argument pos:start="167:13" pos:end="167:31"><expr pos:start="167:13" pos:end="167:31"><name pos:start="167:13" pos:end="167:31"><name pos:start="167:13" pos:end="167:13">s</name><operator pos:start="167:14" pos:end="167:15">-&gt;</operator><name pos:start="167:16" pos:end="167:31">last_picture_ptr</name></name></expr></argument>, <argument pos:start="167:34" pos:end="167:52"><expr pos:start="167:34" pos:end="167:52"><name pos:start="167:34" pos:end="167:52"><name pos:start="167:34" pos:end="167:34">s</name><operator pos:start="167:35" pos:end="167:36">-&gt;</operator><name pos:start="167:37" pos:end="167:52">next_picture_ptr</name></name></expr></argument>,<argument pos:start="167:54" pos:end="167:75"><expr pos:start="167:54" pos:end="167:75"><name pos:start="167:54" pos:end="167:75"><name pos:start="167:54" pos:end="167:54">s</name><operator pos:start="167:55" pos:end="167:56">-&gt;</operator><name pos:start="167:57" pos:end="167:75">current_picture_ptr</name></name></expr></argument>,

            <argument pos:start="169:13" pos:end="169:78"><expr pos:start="169:13" pos:end="169:78"><ternary pos:start="169:13" pos:end="169:78"><condition pos:start="169:13" pos:end="169:36"><expr pos:start="169:13" pos:end="169:31"><name pos:start="169:13" pos:end="169:31"><name pos:start="169:13" pos:end="169:13">s</name><operator pos:start="169:14" pos:end="169:15">-&gt;</operator><name pos:start="169:16" pos:end="169:31">last_picture_ptr</name></name></expr>    ?</condition><then pos:start="169:38" pos:end="169:68"> <expr pos:start="169:38" pos:end="169:68"><name pos:start="169:38" pos:end="169:68"><name pos:start="169:38" pos:end="169:38">s</name><operator pos:start="169:39" pos:end="169:40">-&gt;</operator><name pos:start="169:41" pos:end="169:56">last_picture_ptr</name><operator pos:start="169:57" pos:end="169:58">-&gt;</operator><name pos:start="169:59" pos:end="169:59">f</name><operator pos:start="169:60" pos:end="169:61">-&gt;</operator><name pos:start="169:62" pos:end="169:65">data</name><index pos:start="169:66" pos:end="169:68">[<expr pos:start="169:67" pos:end="169:67"><literal type="number" pos:start="169:67" pos:end="169:67">0</literal></expr>]</index></name></expr>    </then><else pos:start="169:73" pos:end="169:78">: <expr pos:start="169:75" pos:end="169:78"><name pos:start="169:75" pos:end="169:78">NULL</name></expr></else></ternary></expr></argument>,

            <argument pos:start="171:13" pos:end="171:78"><expr pos:start="171:13" pos:end="171:78"><ternary pos:start="171:13" pos:end="171:78"><condition pos:start="171:13" pos:end="171:36"><expr pos:start="171:13" pos:end="171:31"><name pos:start="171:13" pos:end="171:31"><name pos:start="171:13" pos:end="171:13">s</name><operator pos:start="171:14" pos:end="171:15">-&gt;</operator><name pos:start="171:16" pos:end="171:31">next_picture_ptr</name></name></expr>    ?</condition><then pos:start="171:38" pos:end="171:68"> <expr pos:start="171:38" pos:end="171:68"><name pos:start="171:38" pos:end="171:68"><name pos:start="171:38" pos:end="171:38">s</name><operator pos:start="171:39" pos:end="171:40">-&gt;</operator><name pos:start="171:41" pos:end="171:56">next_picture_ptr</name><operator pos:start="171:57" pos:end="171:58">-&gt;</operator><name pos:start="171:59" pos:end="171:59">f</name><operator pos:start="171:60" pos:end="171:61">-&gt;</operator><name pos:start="171:62" pos:end="171:65">data</name><index pos:start="171:66" pos:end="171:68">[<expr pos:start="171:67" pos:end="171:67"><literal type="number" pos:start="171:67" pos:end="171:67">0</literal></expr>]</index></name></expr>    </then><else pos:start="171:73" pos:end="171:78">: <expr pos:start="171:75" pos:end="171:78"><name pos:start="171:75" pos:end="171:78">NULL</name></expr></else></ternary></expr></argument>,

            <argument pos:start="173:13" pos:end="173:78"><expr pos:start="173:13" pos:end="173:78"><ternary pos:start="173:13" pos:end="173:78"><condition pos:start="173:13" pos:end="173:36"><expr pos:start="173:13" pos:end="173:34"><name pos:start="173:13" pos:end="173:34"><name pos:start="173:13" pos:end="173:13">s</name><operator pos:start="173:14" pos:end="173:15">-&gt;</operator><name pos:start="173:16" pos:end="173:34">current_picture_ptr</name></name></expr> ?</condition><then pos:start="173:38" pos:end="173:71"> <expr pos:start="173:38" pos:end="173:71"><name pos:start="173:38" pos:end="173:71"><name pos:start="173:38" pos:end="173:38">s</name><operator pos:start="173:39" pos:end="173:40">-&gt;</operator><name pos:start="173:41" pos:end="173:59">current_picture_ptr</name><operator pos:start="173:60" pos:end="173:61">-&gt;</operator><name pos:start="173:62" pos:end="173:62">f</name><operator pos:start="173:63" pos:end="173:64">-&gt;</operator><name pos:start="173:65" pos:end="173:68">data</name><index pos:start="173:69" pos:end="173:71">[<expr pos:start="173:70" pos:end="173:70"><literal type="number" pos:start="173:70" pos:end="173:70">0</literal></expr>]</index></name></expr> </then><else pos:start="173:73" pos:end="173:78">: <expr pos:start="173:75" pos:end="173:78"><name pos:start="173:75" pos:end="173:78">NULL</name></expr></else></ternary></expr></argument>,

            <argument pos:start="175:13" pos:end="175:24"><expr pos:start="175:13" pos:end="175:24"><name pos:start="175:13" pos:end="175:24"><name pos:start="175:13" pos:end="175:13">s</name><operator pos:start="175:14" pos:end="175:15">-&gt;</operator><name pos:start="175:16" pos:end="175:24">pict_type</name></name></expr></argument>, <argument pos:start="175:27" pos:end="175:38"><expr pos:start="175:27" pos:end="175:38"><name pos:start="175:27" pos:end="175:38"><name pos:start="175:27" pos:end="175:27">s</name><operator pos:start="175:28" pos:end="175:29">-&gt;</operator><name pos:start="175:30" pos:end="175:38">droppable</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <if_stmt pos:start="179:5" pos:end="259:5"><if pos:start="179:5" pos:end="259:5">if <condition pos:start="179:8" pos:end="183:45">(<expr pos:start="179:9" pos:end="183:44"><operator pos:start="179:9" pos:end="179:9">(</operator><operator pos:start="179:10" pos:end="179:10">!</operator><name pos:start="179:11" pos:end="179:29"><name pos:start="179:11" pos:end="179:11">s</name><operator pos:start="179:12" pos:end="179:13">-&gt;</operator><name pos:start="179:14" pos:end="179:29">last_picture_ptr</name></name> <operator pos:start="179:31" pos:end="179:32">||</operator> <operator pos:start="179:34" pos:end="179:34">!</operator><name pos:start="179:35" pos:end="179:64"><name pos:start="179:35" pos:end="179:35">s</name><operator pos:start="179:36" pos:end="179:37">-&gt;</operator><name pos:start="179:38" pos:end="179:53">last_picture_ptr</name><operator pos:start="179:54" pos:end="179:55">-&gt;</operator><name pos:start="179:56" pos:end="179:56">f</name><operator pos:start="179:57" pos:end="179:58">-&gt;</operator><name pos:start="179:59" pos:end="179:61">buf</name><index pos:start="179:62" pos:end="179:64">[<expr pos:start="179:63" pos:end="179:63"><literal type="number" pos:start="179:63" pos:end="179:63">0</literal></expr>]</index></name><operator pos:start="179:65" pos:end="179:65">)</operator> <operator pos:start="179:67" pos:end="179:68">&amp;&amp;</operator>

        <operator pos:start="181:9" pos:end="181:9">(</operator><name pos:start="181:10" pos:end="181:21"><name pos:start="181:10" pos:end="181:10">s</name><operator pos:start="181:11" pos:end="181:12">-&gt;</operator><name pos:start="181:13" pos:end="181:21">pict_type</name></name> <operator pos:start="181:23" pos:end="181:24">!=</operator> <name pos:start="181:26" pos:end="181:42">AV_PICTURE_TYPE_I</name> <operator pos:start="181:44" pos:end="181:45">||</operator>

         <name pos:start="183:10" pos:end="183:29"><name pos:start="183:10" pos:end="183:10">s</name><operator pos:start="183:11" pos:end="183:12">-&gt;</operator><name pos:start="183:13" pos:end="183:29">picture_structure</name></name> <operator pos:start="183:31" pos:end="183:32">!=</operator> <name pos:start="183:34" pos:end="183:43">PICT_FRAME</name><operator pos:start="183:44" pos:end="183:44">)</operator></expr>)</condition> <block pos:start="183:47" pos:end="259:5">{<block_content pos:start="185:9" pos:end="257:72">

        <decl_stmt pos:start="185:9" pos:end="185:43"><decl pos:start="185:9" pos:end="185:26"><type pos:start="185:9" pos:end="185:11"><name pos:start="185:9" pos:end="185:11">int</name></type> <name pos:start="185:13" pos:end="185:26">h_chroma_shift</name></decl>, <decl pos:start="185:29" pos:end="185:42"><type ref="prev" pos:start="185:9" pos:end="185:11"/><name pos:start="185:29" pos:end="185:42">v_chroma_shift</name></decl>;</decl_stmt>

        <expr_stmt pos:start="187:9" pos:end="189:75"><expr pos:start="187:9" pos:end="189:74"><call pos:start="187:9" pos:end="189:74"><name pos:start="187:9" pos:end="187:40">av_pix_fmt_get_chroma_sub_sample</name><argument_list pos:start="187:41" pos:end="189:74">(<argument pos:start="187:42" pos:end="187:58"><expr pos:start="187:42" pos:end="187:58"><name pos:start="187:42" pos:end="187:58"><name pos:start="187:42" pos:end="187:42">s</name><operator pos:start="187:43" pos:end="187:44">-&gt;</operator><name pos:start="187:45" pos:end="187:49">avctx</name><operator pos:start="187:50" pos:end="187:51">-&gt;</operator><name pos:start="187:52" pos:end="187:58">pix_fmt</name></name></expr></argument>,

                                         <argument pos:start="189:42" pos:end="189:56"><expr pos:start="189:42" pos:end="189:56"><operator pos:start="189:42" pos:end="189:42">&amp;</operator><name pos:start="189:43" pos:end="189:56">h_chroma_shift</name></expr></argument>, <argument pos:start="189:59" pos:end="189:73"><expr pos:start="189:59" pos:end="189:73"><operator pos:start="189:59" pos:end="189:59">&amp;</operator><name pos:start="189:60" pos:end="189:73">v_chroma_shift</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="191:9" pos:end="201:83"><if pos:start="191:9" pos:end="195:60">if <condition pos:start="191:12" pos:end="191:46">(<expr pos:start="191:13" pos:end="191:45"><name pos:start="191:13" pos:end="191:24"><name pos:start="191:13" pos:end="191:13">s</name><operator pos:start="191:14" pos:end="191:15">-&gt;</operator><name pos:start="191:16" pos:end="191:24">pict_type</name></name> <operator pos:start="191:26" pos:end="191:27">!=</operator> <name pos:start="191:29" pos:end="191:45">AV_PICTURE_TYPE_I</name></expr>)</condition><block type="pseudo" pos:start="193:13" pos:end="195:60"><block_content pos:start="193:13" pos:end="195:60">

            <expr_stmt pos:start="193:13" pos:end="195:60"><expr pos:start="193:13" pos:end="195:59"><call pos:start="193:13" pos:end="195:59"><name pos:start="193:13" pos:end="193:18">av_log</name><argument_list pos:start="193:19" pos:end="195:59">(<argument pos:start="193:20" pos:end="193:24"><expr pos:start="193:20" pos:end="193:24"><name pos:start="193:20" pos:end="193:24">avctx</name></expr></argument>, <argument pos:start="193:27" pos:end="193:38"><expr pos:start="193:27" pos:end="193:38"><name pos:start="193:27" pos:end="193:38">AV_LOG_ERROR</name></expr></argument>,

                   <argument pos:start="195:20" pos:end="195:58"><expr pos:start="195:20" pos:end="195:58"><literal type="string" pos:start="195:20" pos:end="195:58">"warning: first frame is no keyframe\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if>

        <if type="elseif" pos:start="197:9" pos:end="201:83">else if <condition pos:start="197:17" pos:end="197:52">(<expr pos:start="197:18" pos:end="197:51"><name pos:start="197:18" pos:end="197:37"><name pos:start="197:18" pos:end="197:18">s</name><operator pos:start="197:19" pos:end="197:20">-&gt;</operator><name pos:start="197:21" pos:end="197:37">picture_structure</name></name> <operator pos:start="197:39" pos:end="197:40">!=</operator> <name pos:start="197:42" pos:end="197:51">PICT_FRAME</name></expr>)</condition><block type="pseudo" pos:start="199:13" pos:end="201:83"><block_content pos:start="199:13" pos:end="201:83">

            <expr_stmt pos:start="199:13" pos:end="201:83"><expr pos:start="199:13" pos:end="201:82"><call pos:start="199:13" pos:end="201:82"><name pos:start="199:13" pos:end="199:18">av_log</name><argument_list pos:start="199:19" pos:end="201:82">(<argument pos:start="199:20" pos:end="199:24"><expr pos:start="199:20" pos:end="199:24"><name pos:start="199:20" pos:end="199:24">avctx</name></expr></argument>, <argument pos:start="199:27" pos:end="199:37"><expr pos:start="199:27" pos:end="199:37"><name pos:start="199:27" pos:end="199:37">AV_LOG_INFO</name></expr></argument>,

                   <argument pos:start="201:20" pos:end="201:81"><expr pos:start="201:20" pos:end="201:81"><literal type="string" pos:start="201:20" pos:end="201:81">"allocate dummy last picture for field based first keyframe\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>



        <comment type="block" pos:start="205:9" pos:end="205:36">/* Allocate a dummy frame */</comment>

        <expr_stmt pos:start="207:9" pos:end="207:60"><expr pos:start="207:9" pos:end="207:59"><name pos:start="207:9" pos:end="207:9">i</name> <operator pos:start="207:11" pos:end="207:11">=</operator> <call pos:start="207:13" pos:end="207:59"><name pos:start="207:13" pos:end="207:34">ff_find_unused_picture</name><argument_list pos:start="207:35" pos:end="207:59">(<argument pos:start="207:36" pos:end="207:43"><expr pos:start="207:36" pos:end="207:43"><name pos:start="207:36" pos:end="207:43"><name pos:start="207:36" pos:end="207:36">s</name><operator pos:start="207:37" pos:end="207:38">-&gt;</operator><name pos:start="207:39" pos:end="207:43">avctx</name></name></expr></argument>, <argument pos:start="207:46" pos:end="207:55"><expr pos:start="207:46" pos:end="207:55"><name pos:start="207:46" pos:end="207:55"><name pos:start="207:46" pos:end="207:46">s</name><operator pos:start="207:47" pos:end="207:48">-&gt;</operator><name pos:start="207:49" pos:end="207:55">picture</name></name></expr></argument>, <argument pos:start="207:58" pos:end="207:58"><expr pos:start="207:58" pos:end="207:58"><literal type="number" pos:start="207:58" pos:end="207:58">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="209:9" pos:end="215:9"><if pos:start="209:9" pos:end="215:9">if <condition pos:start="209:12" pos:end="209:18">(<expr pos:start="209:13" pos:end="209:17"><name pos:start="209:13" pos:end="209:13">i</name> <operator pos:start="209:15" pos:end="209:15">&lt;</operator> <literal type="number" pos:start="209:17" pos:end="209:17">0</literal></expr>)</condition> <block pos:start="209:20" pos:end="215:9">{<block_content pos:start="211:13" pos:end="213:21">

            <expr_stmt pos:start="211:13" pos:end="211:74"><expr pos:start="211:13" pos:end="211:73"><call pos:start="211:13" pos:end="211:73"><name pos:start="211:13" pos:end="211:18">av_log</name><argument_list pos:start="211:19" pos:end="211:73">(<argument pos:start="211:20" pos:end="211:27"><expr pos:start="211:20" pos:end="211:27"><name pos:start="211:20" pos:end="211:27"><name pos:start="211:20" pos:end="211:20">s</name><operator pos:start="211:21" pos:end="211:22">-&gt;</operator><name pos:start="211:23" pos:end="211:27">avctx</name></name></expr></argument>, <argument pos:start="211:30" pos:end="211:41"><expr pos:start="211:30" pos:end="211:41"><name pos:start="211:30" pos:end="211:41">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="211:44" pos:end="211:72"><expr pos:start="211:44" pos:end="211:72"><literal type="string" pos:start="211:44" pos:end="211:72">"no frame buffer available\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <return pos:start="213:13" pos:end="213:21">return <expr pos:start="213:20" pos:end="213:20"><name pos:start="213:20" pos:end="213:20">i</name></expr>;</return>

        </block_content>}</block></if></if_stmt>

        <expr_stmt pos:start="217:9" pos:end="217:45"><expr pos:start="217:9" pos:end="217:44"><name pos:start="217:9" pos:end="217:27"><name pos:start="217:9" pos:end="217:9">s</name><operator pos:start="217:10" pos:end="217:11">-&gt;</operator><name pos:start="217:12" pos:end="217:27">last_picture_ptr</name></name> <operator pos:start="217:29" pos:end="217:29">=</operator> <operator pos:start="217:31" pos:end="217:31">&amp;</operator><name pos:start="217:32" pos:end="217:44"><name pos:start="217:32" pos:end="217:32">s</name><operator pos:start="217:33" pos:end="217:34">-&gt;</operator><name pos:start="217:35" pos:end="217:41">picture</name><index pos:start="217:42" pos:end="217:44">[<expr pos:start="217:43" pos:end="217:43"><name pos:start="217:43" pos:end="217:43">i</name></expr>]</index></name></expr>;</expr_stmt>



        <expr_stmt pos:start="221:9" pos:end="221:45"><expr pos:start="221:9" pos:end="221:44"><name pos:start="221:9" pos:end="221:38"><name pos:start="221:9" pos:end="221:9">s</name><operator pos:start="221:10" pos:end="221:11">-&gt;</operator><name pos:start="221:12" pos:end="221:27">last_picture_ptr</name><operator pos:start="221:28" pos:end="221:29">-&gt;</operator><name pos:start="221:30" pos:end="221:38">reference</name></name>   <operator pos:start="221:42" pos:end="221:42">=</operator> <literal type="number" pos:start="221:44" pos:end="221:44">3</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="223:9" pos:end="223:62"><expr pos:start="223:9" pos:end="223:61"><name pos:start="223:9" pos:end="223:41"><name pos:start="223:9" pos:end="223:9">s</name><operator pos:start="223:10" pos:end="223:11">-&gt;</operator><name pos:start="223:12" pos:end="223:27">last_picture_ptr</name><operator pos:start="223:28" pos:end="223:29">-&gt;</operator><name pos:start="223:30" pos:end="223:30">f</name><operator pos:start="223:31" pos:end="223:32">-&gt;</operator><name pos:start="223:33" pos:end="223:41">pict_type</name></name> <operator pos:start="223:43" pos:end="223:43">=</operator> <name pos:start="223:45" pos:end="223:61">AV_PICTURE_TYPE_I</name></expr>;</expr_stmt>



        <if_stmt pos:start="227:9" pos:end="233:9"><if pos:start="227:9" pos:end="233:9">if <condition pos:start="227:12" pos:end="227:57">(<expr pos:start="227:13" pos:end="227:56"><call pos:start="227:13" pos:end="227:52"><name pos:start="227:13" pos:end="227:25">alloc_picture</name><argument_list pos:start="227:26" pos:end="227:52">(<argument pos:start="227:27" pos:end="227:27"><expr pos:start="227:27" pos:end="227:27"><name pos:start="227:27" pos:end="227:27">s</name></expr></argument>, <argument pos:start="227:30" pos:end="227:48"><expr pos:start="227:30" pos:end="227:48"><name pos:start="227:30" pos:end="227:48"><name pos:start="227:30" pos:end="227:30">s</name><operator pos:start="227:31" pos:end="227:32">-&gt;</operator><name pos:start="227:33" pos:end="227:48">last_picture_ptr</name></name></expr></argument>, <argument pos:start="227:51" pos:end="227:51"><expr pos:start="227:51" pos:end="227:51"><literal type="number" pos:start="227:51" pos:end="227:51">0</literal></expr></argument>)</argument_list></call> <operator pos:start="227:54" pos:end="227:54">&lt;</operator> <literal type="number" pos:start="227:56" pos:end="227:56">0</literal></expr>)</condition> <block pos:start="227:59" pos:end="233:9">{<block_content pos:start="229:13" pos:end="231:22">

            <expr_stmt pos:start="229:13" pos:end="229:39"><expr pos:start="229:13" pos:end="229:38"><name pos:start="229:13" pos:end="229:31"><name pos:start="229:13" pos:end="229:13">s</name><operator pos:start="229:14" pos:end="229:15">-&gt;</operator><name pos:start="229:16" pos:end="229:31">last_picture_ptr</name></name> <operator pos:start="229:33" pos:end="229:33">=</operator> <name pos:start="229:35" pos:end="229:38">NULL</name></expr>;</expr_stmt>

            <return pos:start="231:13" pos:end="231:22">return <expr pos:start="231:20" pos:end="231:21"><operator pos:start="231:20" pos:end="231:20">-</operator><literal type="number" pos:start="231:21" pos:end="231:21">1</literal></expr>;</return>

        </block_content>}</block></if></if_stmt>



        <expr_stmt pos:start="237:9" pos:end="239:68"><expr pos:start="237:9" pos:end="239:67"><call pos:start="237:9" pos:end="239:67"><name pos:start="237:9" pos:end="237:14">memset</name><argument_list pos:start="237:15" pos:end="239:67">(<argument pos:start="237:16" pos:end="237:46"><expr pos:start="237:16" pos:end="237:46"><name pos:start="237:16" pos:end="237:46"><name pos:start="237:16" pos:end="237:16">s</name><operator pos:start="237:17" pos:end="237:18">-&gt;</operator><name pos:start="237:19" pos:end="237:34">last_picture_ptr</name><operator pos:start="237:35" pos:end="237:36">-&gt;</operator><name pos:start="237:37" pos:end="237:37">f</name><operator pos:start="237:38" pos:end="237:39">-&gt;</operator><name pos:start="237:40" pos:end="237:43">data</name><index pos:start="237:44" pos:end="237:46">[<expr pos:start="237:45" pos:end="237:45"><literal type="number" pos:start="237:45" pos:end="237:45">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="237:49" pos:end="237:49"><expr pos:start="237:49" pos:end="237:49"><literal type="number" pos:start="237:49" pos:end="237:49">0</literal></expr></argument>,

               <argument pos:start="239:16" pos:end="239:66"><expr pos:start="239:16" pos:end="239:66"><name pos:start="239:16" pos:end="239:28"><name pos:start="239:16" pos:end="239:20">avctx</name><operator pos:start="239:21" pos:end="239:22">-&gt;</operator><name pos:start="239:23" pos:end="239:28">height</name></name> <operator pos:start="239:30" pos:end="239:30">*</operator> <name pos:start="239:32" pos:end="239:66"><name pos:start="239:32" pos:end="239:32">s</name><operator pos:start="239:33" pos:end="239:34">-&gt;</operator><name pos:start="239:35" pos:end="239:50">last_picture_ptr</name><operator pos:start="239:51" pos:end="239:52">-&gt;</operator><name pos:start="239:53" pos:end="239:53">f</name><operator pos:start="239:54" pos:end="239:55">-&gt;</operator><name pos:start="239:56" pos:end="239:63">linesize</name><index pos:start="239:64" pos:end="239:66">[<expr pos:start="239:65" pos:end="239:65"><literal type="number" pos:start="239:65" pos:end="239:65">0</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="241:9" pos:end="245:52"><expr pos:start="241:9" pos:end="245:51"><call pos:start="241:9" pos:end="245:51"><name pos:start="241:9" pos:end="241:14">memset</name><argument_list pos:start="241:15" pos:end="245:51">(<argument pos:start="241:16" pos:end="241:46"><expr pos:start="241:16" pos:end="241:46"><name pos:start="241:16" pos:end="241:46"><name pos:start="241:16" pos:end="241:16">s</name><operator pos:start="241:17" pos:end="241:18">-&gt;</operator><name pos:start="241:19" pos:end="241:34">last_picture_ptr</name><operator pos:start="241:35" pos:end="241:36">-&gt;</operator><name pos:start="241:37" pos:end="241:37">f</name><operator pos:start="241:38" pos:end="241:39">-&gt;</operator><name pos:start="241:40" pos:end="241:43">data</name><index pos:start="241:44" pos:end="241:46">[<expr pos:start="241:45" pos:end="241:45"><literal type="number" pos:start="241:45" pos:end="241:45">1</literal></expr>]</index></name></expr></argument>, <argument pos:start="241:49" pos:end="241:52"><expr pos:start="241:49" pos:end="241:52"><literal type="number" pos:start="241:49" pos:end="241:52">0x80</literal></expr></argument>,

               <argument pos:start="243:16" pos:end="245:50"><expr pos:start="243:16" pos:end="245:50"><operator pos:start="243:16" pos:end="243:16">(</operator><name pos:start="243:17" pos:end="243:29"><name pos:start="243:17" pos:end="243:21">avctx</name><operator pos:start="243:22" pos:end="243:23">-&gt;</operator><name pos:start="243:24" pos:end="243:29">height</name></name> <operator pos:start="243:31" pos:end="243:32">&gt;&gt;</operator> <name pos:start="243:34" pos:end="243:47">v_chroma_shift</name><operator pos:start="243:48" pos:end="243:48">)</operator> <operator pos:start="243:50" pos:end="243:50">*</operator>

               <name pos:start="245:16" pos:end="245:50"><name pos:start="245:16" pos:end="245:16">s</name><operator pos:start="245:17" pos:end="245:18">-&gt;</operator><name pos:start="245:19" pos:end="245:34">last_picture_ptr</name><operator pos:start="245:35" pos:end="245:36">-&gt;</operator><name pos:start="245:37" pos:end="245:37">f</name><operator pos:start="245:38" pos:end="245:39">-&gt;</operator><name pos:start="245:40" pos:end="245:47">linesize</name><index pos:start="245:48" pos:end="245:50">[<expr pos:start="245:49" pos:end="245:49"><literal type="number" pos:start="245:49" pos:end="245:49">1</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="247:9" pos:end="251:52"><expr pos:start="247:9" pos:end="251:51"><call pos:start="247:9" pos:end="251:51"><name pos:start="247:9" pos:end="247:14">memset</name><argument_list pos:start="247:15" pos:end="251:51">(<argument pos:start="247:16" pos:end="247:46"><expr pos:start="247:16" pos:end="247:46"><name pos:start="247:16" pos:end="247:46"><name pos:start="247:16" pos:end="247:16">s</name><operator pos:start="247:17" pos:end="247:18">-&gt;</operator><name pos:start="247:19" pos:end="247:34">last_picture_ptr</name><operator pos:start="247:35" pos:end="247:36">-&gt;</operator><name pos:start="247:37" pos:end="247:37">f</name><operator pos:start="247:38" pos:end="247:39">-&gt;</operator><name pos:start="247:40" pos:end="247:43">data</name><index pos:start="247:44" pos:end="247:46">[<expr pos:start="247:45" pos:end="247:45"><literal type="number" pos:start="247:45" pos:end="247:45">2</literal></expr>]</index></name></expr></argument>, <argument pos:start="247:49" pos:end="247:52"><expr pos:start="247:49" pos:end="247:52"><literal type="number" pos:start="247:49" pos:end="247:52">0x80</literal></expr></argument>,

               <argument pos:start="249:16" pos:end="251:50"><expr pos:start="249:16" pos:end="251:50"><operator pos:start="249:16" pos:end="249:16">(</operator><name pos:start="249:17" pos:end="249:29"><name pos:start="249:17" pos:end="249:21">avctx</name><operator pos:start="249:22" pos:end="249:23">-&gt;</operator><name pos:start="249:24" pos:end="249:29">height</name></name> <operator pos:start="249:31" pos:end="249:32">&gt;&gt;</operator> <name pos:start="249:34" pos:end="249:47">v_chroma_shift</name><operator pos:start="249:48" pos:end="249:48">)</operator> <operator pos:start="249:50" pos:end="249:50">*</operator>

               <name pos:start="251:16" pos:end="251:50"><name pos:start="251:16" pos:end="251:16">s</name><operator pos:start="251:17" pos:end="251:18">-&gt;</operator><name pos:start="251:19" pos:end="251:34">last_picture_ptr</name><operator pos:start="251:35" pos:end="251:36">-&gt;</operator><name pos:start="251:37" pos:end="251:37">f</name><operator pos:start="251:38" pos:end="251:39">-&gt;</operator><name pos:start="251:40" pos:end="251:47">linesize</name><index pos:start="251:48" pos:end="251:50">[<expr pos:start="251:49" pos:end="251:49"><literal type="number" pos:start="251:49" pos:end="251:49">2</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <expr_stmt pos:start="255:9" pos:end="255:72"><expr pos:start="255:9" pos:end="255:71"><call pos:start="255:9" pos:end="255:71"><name pos:start="255:9" pos:end="255:33">ff_thread_report_progress</name><argument_list pos:start="255:34" pos:end="255:71">(<argument pos:start="255:35" pos:end="255:58"><expr pos:start="255:35" pos:end="255:58"><operator pos:start="255:35" pos:end="255:35">&amp;</operator><name pos:start="255:36" pos:end="255:58"><name pos:start="255:36" pos:end="255:36">s</name><operator pos:start="255:37" pos:end="255:38">-&gt;</operator><name pos:start="255:39" pos:end="255:54">last_picture_ptr</name><operator pos:start="255:55" pos:end="255:56">-&gt;</operator><name pos:start="255:57" pos:end="255:58">tf</name></name></expr></argument>, <argument pos:start="255:61" pos:end="255:67"><expr pos:start="255:61" pos:end="255:67"><name pos:start="255:61" pos:end="255:67">INT_MAX</name></expr></argument>, <argument pos:start="255:70" pos:end="255:70"><expr pos:start="255:70" pos:end="255:70"><literal type="number" pos:start="255:70" pos:end="255:70">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="257:9" pos:end="257:72"><expr pos:start="257:9" pos:end="257:71"><call pos:start="257:9" pos:end="257:71"><name pos:start="257:9" pos:end="257:33">ff_thread_report_progress</name><argument_list pos:start="257:34" pos:end="257:71">(<argument pos:start="257:35" pos:end="257:58"><expr pos:start="257:35" pos:end="257:58"><operator pos:start="257:35" pos:end="257:35">&amp;</operator><name pos:start="257:36" pos:end="257:58"><name pos:start="257:36" pos:end="257:36">s</name><operator pos:start="257:37" pos:end="257:38">-&gt;</operator><name pos:start="257:39" pos:end="257:54">last_picture_ptr</name><operator pos:start="257:55" pos:end="257:56">-&gt;</operator><name pos:start="257:57" pos:end="257:58">tf</name></name></expr></argument>, <argument pos:start="257:61" pos:end="257:67"><expr pos:start="257:61" pos:end="257:67"><name pos:start="257:61" pos:end="257:67">INT_MAX</name></expr></argument>, <argument pos:start="257:70" pos:end="257:70"><expr pos:start="257:70" pos:end="257:70"><literal type="number" pos:start="257:70" pos:end="257:70">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    <if_stmt pos:start="261:5" pos:end="299:5"><if pos:start="261:5" pos:end="299:5">if <condition pos:start="261:8" pos:end="263:42">(<expr pos:start="261:9" pos:end="263:41"><operator pos:start="261:9" pos:end="261:9">(</operator><operator pos:start="261:10" pos:end="261:10">!</operator><name pos:start="261:11" pos:end="261:29"><name pos:start="261:11" pos:end="261:11">s</name><operator pos:start="261:12" pos:end="261:13">-&gt;</operator><name pos:start="261:14" pos:end="261:29">next_picture_ptr</name></name> <operator pos:start="261:31" pos:end="261:32">||</operator> <operator pos:start="261:34" pos:end="261:34">!</operator><name pos:start="261:35" pos:end="261:64"><name pos:start="261:35" pos:end="261:35">s</name><operator pos:start="261:36" pos:end="261:37">-&gt;</operator><name pos:start="261:38" pos:end="261:53">next_picture_ptr</name><operator pos:start="261:54" pos:end="261:55">-&gt;</operator><name pos:start="261:56" pos:end="261:56">f</name><operator pos:start="261:57" pos:end="261:58">-&gt;</operator><name pos:start="261:59" pos:end="261:61">buf</name><index pos:start="261:62" pos:end="261:64">[<expr pos:start="261:63" pos:end="261:63"><literal type="number" pos:start="261:63" pos:end="261:63">0</literal></expr>]</index></name><operator pos:start="261:65" pos:end="261:65">)</operator> <operator pos:start="261:67" pos:end="261:68">&amp;&amp;</operator>

        <name pos:start="263:9" pos:end="263:20"><name pos:start="263:9" pos:end="263:9">s</name><operator pos:start="263:10" pos:end="263:11">-&gt;</operator><name pos:start="263:12" pos:end="263:20">pict_type</name></name> <operator pos:start="263:22" pos:end="263:23">==</operator> <name pos:start="263:25" pos:end="263:41">AV_PICTURE_TYPE_B</name></expr>)</condition> <block pos:start="263:44" pos:end="299:5">{<block_content pos:start="267:9" pos:end="297:72">

        <comment type="block" pos:start="265:9" pos:end="265:36">/* Allocate a dummy frame */</comment>

        <expr_stmt pos:start="267:9" pos:end="267:60"><expr pos:start="267:9" pos:end="267:59"><name pos:start="267:9" pos:end="267:9">i</name> <operator pos:start="267:11" pos:end="267:11">=</operator> <call pos:start="267:13" pos:end="267:59"><name pos:start="267:13" pos:end="267:34">ff_find_unused_picture</name><argument_list pos:start="267:35" pos:end="267:59">(<argument pos:start="267:36" pos:end="267:43"><expr pos:start="267:36" pos:end="267:43"><name pos:start="267:36" pos:end="267:43"><name pos:start="267:36" pos:end="267:36">s</name><operator pos:start="267:37" pos:end="267:38">-&gt;</operator><name pos:start="267:39" pos:end="267:43">avctx</name></name></expr></argument>, <argument pos:start="267:46" pos:end="267:55"><expr pos:start="267:46" pos:end="267:55"><name pos:start="267:46" pos:end="267:55"><name pos:start="267:46" pos:end="267:46">s</name><operator pos:start="267:47" pos:end="267:48">-&gt;</operator><name pos:start="267:49" pos:end="267:55">picture</name></name></expr></argument>, <argument pos:start="267:58" pos:end="267:58"><expr pos:start="267:58" pos:end="267:58"><literal type="number" pos:start="267:58" pos:end="267:58">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="269:9" pos:end="275:9"><if pos:start="269:9" pos:end="275:9">if <condition pos:start="269:12" pos:end="269:18">(<expr pos:start="269:13" pos:end="269:17"><name pos:start="269:13" pos:end="269:13">i</name> <operator pos:start="269:15" pos:end="269:15">&lt;</operator> <literal type="number" pos:start="269:17" pos:end="269:17">0</literal></expr>)</condition> <block pos:start="269:20" pos:end="275:9">{<block_content pos:start="271:13" pos:end="273:21">

            <expr_stmt pos:start="271:13" pos:end="271:74"><expr pos:start="271:13" pos:end="271:73"><call pos:start="271:13" pos:end="271:73"><name pos:start="271:13" pos:end="271:18">av_log</name><argument_list pos:start="271:19" pos:end="271:73">(<argument pos:start="271:20" pos:end="271:27"><expr pos:start="271:20" pos:end="271:27"><name pos:start="271:20" pos:end="271:27"><name pos:start="271:20" pos:end="271:20">s</name><operator pos:start="271:21" pos:end="271:22">-&gt;</operator><name pos:start="271:23" pos:end="271:27">avctx</name></name></expr></argument>, <argument pos:start="271:30" pos:end="271:41"><expr pos:start="271:30" pos:end="271:41"><name pos:start="271:30" pos:end="271:41">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="271:44" pos:end="271:72"><expr pos:start="271:44" pos:end="271:72"><literal type="string" pos:start="271:44" pos:end="271:72">"no frame buffer available\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <return pos:start="273:13" pos:end="273:21">return <expr pos:start="273:20" pos:end="273:20"><name pos:start="273:20" pos:end="273:20">i</name></expr>;</return>

        </block_content>}</block></if></if_stmt>

        <expr_stmt pos:start="277:9" pos:end="277:45"><expr pos:start="277:9" pos:end="277:44"><name pos:start="277:9" pos:end="277:27"><name pos:start="277:9" pos:end="277:9">s</name><operator pos:start="277:10" pos:end="277:11">-&gt;</operator><name pos:start="277:12" pos:end="277:27">next_picture_ptr</name></name> <operator pos:start="277:29" pos:end="277:29">=</operator> <operator pos:start="277:31" pos:end="277:31">&amp;</operator><name pos:start="277:32" pos:end="277:44"><name pos:start="277:32" pos:end="277:32">s</name><operator pos:start="277:33" pos:end="277:34">-&gt;</operator><name pos:start="277:35" pos:end="277:41">picture</name><index pos:start="277:42" pos:end="277:44">[<expr pos:start="277:43" pos:end="277:43"><name pos:start="277:43" pos:end="277:43">i</name></expr>]</index></name></expr>;</expr_stmt>



        <expr_stmt pos:start="281:9" pos:end="281:45"><expr pos:start="281:9" pos:end="281:44"><name pos:start="281:9" pos:end="281:38"><name pos:start="281:9" pos:end="281:9">s</name><operator pos:start="281:10" pos:end="281:11">-&gt;</operator><name pos:start="281:12" pos:end="281:27">next_picture_ptr</name><operator pos:start="281:28" pos:end="281:29">-&gt;</operator><name pos:start="281:30" pos:end="281:38">reference</name></name>   <operator pos:start="281:42" pos:end="281:42">=</operator> <literal type="number" pos:start="281:44" pos:end="281:44">3</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="283:9" pos:end="283:62"><expr pos:start="283:9" pos:end="283:61"><name pos:start="283:9" pos:end="283:41"><name pos:start="283:9" pos:end="283:9">s</name><operator pos:start="283:10" pos:end="283:11">-&gt;</operator><name pos:start="283:12" pos:end="283:27">next_picture_ptr</name><operator pos:start="283:28" pos:end="283:29">-&gt;</operator><name pos:start="283:30" pos:end="283:30">f</name><operator pos:start="283:31" pos:end="283:32">-&gt;</operator><name pos:start="283:33" pos:end="283:41">pict_type</name></name> <operator pos:start="283:43" pos:end="283:43">=</operator> <name pos:start="283:45" pos:end="283:61">AV_PICTURE_TYPE_I</name></expr>;</expr_stmt>



        <if_stmt pos:start="287:9" pos:end="293:9"><if pos:start="287:9" pos:end="293:9">if <condition pos:start="287:12" pos:end="287:57">(<expr pos:start="287:13" pos:end="287:56"><call pos:start="287:13" pos:end="287:52"><name pos:start="287:13" pos:end="287:25">alloc_picture</name><argument_list pos:start="287:26" pos:end="287:52">(<argument pos:start="287:27" pos:end="287:27"><expr pos:start="287:27" pos:end="287:27"><name pos:start="287:27" pos:end="287:27">s</name></expr></argument>, <argument pos:start="287:30" pos:end="287:48"><expr pos:start="287:30" pos:end="287:48"><name pos:start="287:30" pos:end="287:48"><name pos:start="287:30" pos:end="287:30">s</name><operator pos:start="287:31" pos:end="287:32">-&gt;</operator><name pos:start="287:33" pos:end="287:48">next_picture_ptr</name></name></expr></argument>, <argument pos:start="287:51" pos:end="287:51"><expr pos:start="287:51" pos:end="287:51"><literal type="number" pos:start="287:51" pos:end="287:51">0</literal></expr></argument>)</argument_list></call> <operator pos:start="287:54" pos:end="287:54">&lt;</operator> <literal type="number" pos:start="287:56" pos:end="287:56">0</literal></expr>)</condition> <block pos:start="287:59" pos:end="293:9">{<block_content pos:start="289:13" pos:end="291:22">

            <expr_stmt pos:start="289:13" pos:end="289:39"><expr pos:start="289:13" pos:end="289:38"><name pos:start="289:13" pos:end="289:31"><name pos:start="289:13" pos:end="289:13">s</name><operator pos:start="289:14" pos:end="289:15">-&gt;</operator><name pos:start="289:16" pos:end="289:31">next_picture_ptr</name></name> <operator pos:start="289:33" pos:end="289:33">=</operator> <name pos:start="289:35" pos:end="289:38">NULL</name></expr>;</expr_stmt>

            <return pos:start="291:13" pos:end="291:22">return <expr pos:start="291:20" pos:end="291:21"><operator pos:start="291:20" pos:end="291:20">-</operator><literal type="number" pos:start="291:21" pos:end="291:21">1</literal></expr>;</return>

        </block_content>}</block></if></if_stmt>

        <expr_stmt pos:start="295:9" pos:end="295:72"><expr pos:start="295:9" pos:end="295:71"><call pos:start="295:9" pos:end="295:71"><name pos:start="295:9" pos:end="295:33">ff_thread_report_progress</name><argument_list pos:start="295:34" pos:end="295:71">(<argument pos:start="295:35" pos:end="295:58"><expr pos:start="295:35" pos:end="295:58"><operator pos:start="295:35" pos:end="295:35">&amp;</operator><name pos:start="295:36" pos:end="295:58"><name pos:start="295:36" pos:end="295:36">s</name><operator pos:start="295:37" pos:end="295:38">-&gt;</operator><name pos:start="295:39" pos:end="295:54">next_picture_ptr</name><operator pos:start="295:55" pos:end="295:56">-&gt;</operator><name pos:start="295:57" pos:end="295:58">tf</name></name></expr></argument>, <argument pos:start="295:61" pos:end="295:67"><expr pos:start="295:61" pos:end="295:67"><name pos:start="295:61" pos:end="295:67">INT_MAX</name></expr></argument>, <argument pos:start="295:70" pos:end="295:70"><expr pos:start="295:70" pos:end="295:70"><literal type="number" pos:start="295:70" pos:end="295:70">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="297:9" pos:end="297:72"><expr pos:start="297:9" pos:end="297:71"><call pos:start="297:9" pos:end="297:71"><name pos:start="297:9" pos:end="297:33">ff_thread_report_progress</name><argument_list pos:start="297:34" pos:end="297:71">(<argument pos:start="297:35" pos:end="297:58"><expr pos:start="297:35" pos:end="297:58"><operator pos:start="297:35" pos:end="297:35">&amp;</operator><name pos:start="297:36" pos:end="297:58"><name pos:start="297:36" pos:end="297:36">s</name><operator pos:start="297:37" pos:end="297:38">-&gt;</operator><name pos:start="297:39" pos:end="297:54">next_picture_ptr</name><operator pos:start="297:55" pos:end="297:56">-&gt;</operator><name pos:start="297:57" pos:end="297:58">tf</name></name></expr></argument>, <argument pos:start="297:61" pos:end="297:67"><expr pos:start="297:61" pos:end="297:67"><name pos:start="297:61" pos:end="297:67">INT_MAX</name></expr></argument>, <argument pos:start="297:70" pos:end="297:70"><expr pos:start="297:70" pos:end="297:70"><literal type="number" pos:start="297:70" pos:end="297:70">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="303:5" pos:end="315:5"><if pos:start="303:5" pos:end="315:5">if <condition pos:start="303:8" pos:end="303:28">(<expr pos:start="303:9" pos:end="303:27"><name pos:start="303:9" pos:end="303:27"><name pos:start="303:9" pos:end="303:9">s</name><operator pos:start="303:10" pos:end="303:11">-&gt;</operator><name pos:start="303:12" pos:end="303:27">last_picture_ptr</name></name></expr>)</condition> <block pos:start="303:30" pos:end="315:5">{<block_content pos:start="305:9" pos:end="313:23">

        <expr_stmt pos:start="305:9" pos:end="305:58"><expr pos:start="305:9" pos:end="305:57"><call pos:start="305:9" pos:end="305:57"><name pos:start="305:9" pos:end="305:29">ff_mpeg_unref_picture</name><argument_list pos:start="305:30" pos:end="305:57">(<argument pos:start="305:31" pos:end="305:38"><expr pos:start="305:31" pos:end="305:38"><name pos:start="305:31" pos:end="305:38"><name pos:start="305:31" pos:end="305:31">s</name><operator pos:start="305:32" pos:end="305:33">-&gt;</operator><name pos:start="305:34" pos:end="305:38">avctx</name></name></expr></argument>, <argument pos:start="305:41" pos:end="305:56"><expr pos:start="305:41" pos:end="305:56"><operator pos:start="305:41" pos:end="305:41">&amp;</operator><name pos:start="305:42" pos:end="305:56"><name pos:start="305:42" pos:end="305:42">s</name><operator pos:start="305:43" pos:end="305:44">-&gt;</operator><name pos:start="305:45" pos:end="305:56">last_picture</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="307:9" pos:end="313:23"><if pos:start="307:9" pos:end="313:23">if <condition pos:start="307:12" pos:end="311:65">(<expr pos:start="307:13" pos:end="311:64"><name pos:start="307:13" pos:end="307:42"><name pos:start="307:13" pos:end="307:13">s</name><operator pos:start="307:14" pos:end="307:15">-&gt;</operator><name pos:start="307:16" pos:end="307:31">last_picture_ptr</name><operator pos:start="307:32" pos:end="307:33">-&gt;</operator><name pos:start="307:34" pos:end="307:34">f</name><operator pos:start="307:35" pos:end="307:36">-&gt;</operator><name pos:start="307:37" pos:end="307:39">buf</name><index pos:start="307:40" pos:end="307:42">[<expr pos:start="307:41" pos:end="307:41"><literal type="number" pos:start="307:41" pos:end="307:41">0</literal></expr>]</index></name> <operator pos:start="307:44" pos:end="307:45">&amp;&amp;</operator>

            <operator pos:start="309:13" pos:end="309:13">(</operator><name pos:start="309:14" pos:end="309:16">ret</name> <operator pos:start="309:18" pos:end="309:18">=</operator> <call pos:start="309:20" pos:end="311:59"><name pos:start="309:20" pos:end="309:38">ff_mpeg_ref_picture</name><argument_list pos:start="309:39" pos:end="311:59">(<argument pos:start="309:40" pos:end="309:47"><expr pos:start="309:40" pos:end="309:47"><name pos:start="309:40" pos:end="309:47"><name pos:start="309:40" pos:end="309:40">s</name><operator pos:start="309:41" pos:end="309:42">-&gt;</operator><name pos:start="309:43" pos:end="309:47">avctx</name></name></expr></argument>, <argument pos:start="309:50" pos:end="309:65"><expr pos:start="309:50" pos:end="309:65"><operator pos:start="309:50" pos:end="309:50">&amp;</operator><name pos:start="309:51" pos:end="309:65"><name pos:start="309:51" pos:end="309:51">s</name><operator pos:start="309:52" pos:end="309:53">-&gt;</operator><name pos:start="309:54" pos:end="309:65">last_picture</name></name></expr></argument>,

                                       <argument pos:start="311:40" pos:end="311:58"><expr pos:start="311:40" pos:end="311:58"><name pos:start="311:40" pos:end="311:58"><name pos:start="311:40" pos:end="311:40">s</name><operator pos:start="311:41" pos:end="311:42">-&gt;</operator><name pos:start="311:43" pos:end="311:58">last_picture_ptr</name></name></expr></argument>)</argument_list></call><operator pos:start="311:60" pos:end="311:60">)</operator> <operator pos:start="311:62" pos:end="311:62">&lt;</operator> <literal type="number" pos:start="311:64" pos:end="311:64">0</literal></expr>)</condition><block type="pseudo" pos:start="313:13" pos:end="313:23"><block_content pos:start="313:13" pos:end="313:23">

            <return pos:start="313:13" pos:end="313:23">return <expr pos:start="313:20" pos:end="313:22"><name pos:start="313:20" pos:end="313:22">ret</name></expr>;</return></block_content></block></if></if_stmt>

    </block_content>}</block></if></if_stmt>

    <if_stmt pos:start="317:5" pos:end="329:5"><if pos:start="317:5" pos:end="329:5">if <condition pos:start="317:8" pos:end="317:28">(<expr pos:start="317:9" pos:end="317:27"><name pos:start="317:9" pos:end="317:27"><name pos:start="317:9" pos:end="317:9">s</name><operator pos:start="317:10" pos:end="317:11">-&gt;</operator><name pos:start="317:12" pos:end="317:27">next_picture_ptr</name></name></expr>)</condition> <block pos:start="317:30" pos:end="329:5">{<block_content pos:start="319:9" pos:end="327:23">

        <expr_stmt pos:start="319:9" pos:end="319:58"><expr pos:start="319:9" pos:end="319:57"><call pos:start="319:9" pos:end="319:57"><name pos:start="319:9" pos:end="319:29">ff_mpeg_unref_picture</name><argument_list pos:start="319:30" pos:end="319:57">(<argument pos:start="319:31" pos:end="319:38"><expr pos:start="319:31" pos:end="319:38"><name pos:start="319:31" pos:end="319:38"><name pos:start="319:31" pos:end="319:31">s</name><operator pos:start="319:32" pos:end="319:33">-&gt;</operator><name pos:start="319:34" pos:end="319:38">avctx</name></name></expr></argument>, <argument pos:start="319:41" pos:end="319:56"><expr pos:start="319:41" pos:end="319:56"><operator pos:start="319:41" pos:end="319:41">&amp;</operator><name pos:start="319:42" pos:end="319:56"><name pos:start="319:42" pos:end="319:42">s</name><operator pos:start="319:43" pos:end="319:44">-&gt;</operator><name pos:start="319:45" pos:end="319:56">next_picture</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="321:9" pos:end="327:23"><if pos:start="321:9" pos:end="327:23">if <condition pos:start="321:12" pos:end="325:65">(<expr pos:start="321:13" pos:end="325:64"><name pos:start="321:13" pos:end="321:42"><name pos:start="321:13" pos:end="321:13">s</name><operator pos:start="321:14" pos:end="321:15">-&gt;</operator><name pos:start="321:16" pos:end="321:31">next_picture_ptr</name><operator pos:start="321:32" pos:end="321:33">-&gt;</operator><name pos:start="321:34" pos:end="321:34">f</name><operator pos:start="321:35" pos:end="321:36">-&gt;</operator><name pos:start="321:37" pos:end="321:39">buf</name><index pos:start="321:40" pos:end="321:42">[<expr pos:start="321:41" pos:end="321:41"><literal type="number" pos:start="321:41" pos:end="321:41">0</literal></expr>]</index></name> <operator pos:start="321:44" pos:end="321:45">&amp;&amp;</operator>

            <operator pos:start="323:13" pos:end="323:13">(</operator><name pos:start="323:14" pos:end="323:16">ret</name> <operator pos:start="323:18" pos:end="323:18">=</operator> <call pos:start="323:20" pos:end="325:59"><name pos:start="323:20" pos:end="323:38">ff_mpeg_ref_picture</name><argument_list pos:start="323:39" pos:end="325:59">(<argument pos:start="323:40" pos:end="323:47"><expr pos:start="323:40" pos:end="323:47"><name pos:start="323:40" pos:end="323:47"><name pos:start="323:40" pos:end="323:40">s</name><operator pos:start="323:41" pos:end="323:42">-&gt;</operator><name pos:start="323:43" pos:end="323:47">avctx</name></name></expr></argument>, <argument pos:start="323:50" pos:end="323:65"><expr pos:start="323:50" pos:end="323:65"><operator pos:start="323:50" pos:end="323:50">&amp;</operator><name pos:start="323:51" pos:end="323:65"><name pos:start="323:51" pos:end="323:51">s</name><operator pos:start="323:52" pos:end="323:53">-&gt;</operator><name pos:start="323:54" pos:end="323:65">next_picture</name></name></expr></argument>,

                                       <argument pos:start="325:40" pos:end="325:58"><expr pos:start="325:40" pos:end="325:58"><name pos:start="325:40" pos:end="325:58"><name pos:start="325:40" pos:end="325:40">s</name><operator pos:start="325:41" pos:end="325:42">-&gt;</operator><name pos:start="325:43" pos:end="325:58">next_picture_ptr</name></name></expr></argument>)</argument_list></call><operator pos:start="325:60" pos:end="325:60">)</operator> <operator pos:start="325:62" pos:end="325:62">&lt;</operator> <literal type="number" pos:start="325:64" pos:end="325:64">0</literal></expr>)</condition><block type="pseudo" pos:start="327:13" pos:end="327:23"><block_content pos:start="327:13" pos:end="327:23">

            <return pos:start="327:13" pos:end="327:23">return <expr pos:start="327:20" pos:end="327:22"><name pos:start="327:20" pos:end="327:22">ret</name></expr>;</return></block_content></block></if></if_stmt>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="333:5" pos:end="343:5"><if pos:start="333:5" pos:end="343:5">if <condition pos:start="333:8" pos:end="335:65">(<expr pos:start="333:9" pos:end="335:64"><name pos:start="333:9" pos:end="333:20"><name pos:start="333:9" pos:end="333:9">s</name><operator pos:start="333:10" pos:end="333:11">-&gt;</operator><name pos:start="333:12" pos:end="333:20">pict_type</name></name> <operator pos:start="333:22" pos:end="333:23">!=</operator> <name pos:start="333:25" pos:end="333:41">AV_PICTURE_TYPE_I</name> <operator pos:start="333:43" pos:end="333:44">&amp;&amp;</operator>

        <operator pos:start="335:9" pos:end="335:9">!</operator><operator pos:start="335:10" pos:end="335:10">(</operator><name pos:start="335:11" pos:end="335:29"><name pos:start="335:11" pos:end="335:11">s</name><operator pos:start="335:12" pos:end="335:13">-&gt;</operator><name pos:start="335:14" pos:end="335:29">last_picture_ptr</name></name> <operator pos:start="335:31" pos:end="335:32">&amp;&amp;</operator> <name pos:start="335:34" pos:end="335:63"><name pos:start="335:34" pos:end="335:34">s</name><operator pos:start="335:35" pos:end="335:36">-&gt;</operator><name pos:start="335:37" pos:end="335:52">last_picture_ptr</name><operator pos:start="335:53" pos:end="335:54">-&gt;</operator><name pos:start="335:55" pos:end="335:55">f</name><operator pos:start="335:56" pos:end="335:57">-&gt;</operator><name pos:start="335:58" pos:end="335:60">buf</name><index pos:start="335:61" pos:end="335:63">[<expr pos:start="335:62" pos:end="335:62"><literal type="number" pos:start="335:62" pos:end="335:62">0</literal></expr>]</index></name><operator pos:start="335:64" pos:end="335:64">)</operator></expr>)</condition> <block pos:start="335:67" pos:end="343:5">{<block_content pos:start="337:9" pos:end="341:35">

        <expr_stmt pos:start="337:9" pos:end="339:78"><expr pos:start="337:9" pos:end="339:77"><call pos:start="337:9" pos:end="339:77"><name pos:start="337:9" pos:end="337:14">av_log</name><argument_list pos:start="337:15" pos:end="339:77">(<argument pos:start="337:16" pos:end="337:16"><expr pos:start="337:16" pos:end="337:16"><name pos:start="337:16" pos:end="337:16">s</name></expr></argument>, <argument pos:start="337:19" pos:end="337:30"><expr pos:start="337:19" pos:end="337:30"><name pos:start="337:19" pos:end="337:30">AV_LOG_ERROR</name></expr></argument>,

               <argument pos:start="339:16" pos:end="339:76"><expr pos:start="339:16" pos:end="339:76"><literal type="string" pos:start="339:16" pos:end="339:76">"Non-reference picture received and no reference available\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <return pos:start="341:9" pos:end="341:35">return <expr pos:start="341:16" pos:end="341:34"><name pos:start="341:16" pos:end="341:34">AVERROR_INVALIDDATA</name></expr>;</return>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="347:5" pos:end="369:5"><if pos:start="347:5" pos:end="369:5">if <condition pos:start="347:8" pos:end="347:42">(<expr pos:start="347:9" pos:end="347:41"><name pos:start="347:9" pos:end="347:28"><name pos:start="347:9" pos:end="347:9">s</name><operator pos:start="347:10" pos:end="347:11">-&gt;</operator><name pos:start="347:12" pos:end="347:28">picture_structure</name></name><operator pos:start="347:29" pos:end="347:30">!=</operator> <name pos:start="347:32" pos:end="347:41">PICT_FRAME</name></expr>)</condition> <block pos:start="347:44" pos:end="369:5">{<block_content pos:start="349:9" pos:end="367:9">

        <decl_stmt pos:start="349:9" pos:end="349:14"><decl pos:start="349:9" pos:end="349:13"><type pos:start="349:9" pos:end="349:11"><name pos:start="349:9" pos:end="349:11">int</name></type> <name pos:start="349:13" pos:end="349:13">i</name></decl>;</decl_stmt>

        <for pos:start="351:9" pos:end="367:9">for <control pos:start="351:13" pos:end="351:31">(<init pos:start="351:14" pos:end="351:19"><expr pos:start="351:14" pos:end="351:18"><name pos:start="351:14" pos:end="351:14">i</name> <operator pos:start="351:16" pos:end="351:16">=</operator> <literal type="number" pos:start="351:18" pos:end="351:18">0</literal></expr>;</init> <condition pos:start="351:21" pos:end="351:26"><expr pos:start="351:21" pos:end="351:25"><name pos:start="351:21" pos:end="351:21">i</name> <operator pos:start="351:23" pos:end="351:23">&lt;</operator> <literal type="number" pos:start="351:25" pos:end="351:25">4</literal></expr>;</condition> <incr pos:start="351:28" pos:end="351:30"><expr pos:start="351:28" pos:end="351:30"><name pos:start="351:28" pos:end="351:28">i</name><operator pos:start="351:29" pos:end="351:30">++</operator></expr></incr>)</control> <block pos:start="351:33" pos:end="367:9">{<block_content pos:start="353:13" pos:end="365:51">

            <if_stmt pos:start="353:13" pos:end="359:13"><if pos:start="353:13" pos:end="359:13">if <condition pos:start="353:16" pos:end="353:58">(<expr pos:start="353:17" pos:end="353:57"><name pos:start="353:17" pos:end="353:36"><name pos:start="353:17" pos:end="353:17">s</name><operator pos:start="353:18" pos:end="353:19">-&gt;</operator><name pos:start="353:20" pos:end="353:36">picture_structure</name></name> <operator pos:start="353:38" pos:end="353:39">==</operator> <name pos:start="353:41" pos:end="353:57">PICT_BOTTOM_FIELD</name></expr>)</condition> <block pos:start="353:60" pos:end="359:13">{<block_content pos:start="355:17" pos:end="357:54">

                <expr_stmt pos:start="355:17" pos:end="357:54"><expr pos:start="355:17" pos:end="357:53"><name pos:start="355:17" pos:end="355:45"><name pos:start="355:17" pos:end="355:17">s</name><operator pos:start="355:18" pos:end="355:19">-&gt;</operator><name pos:start="355:20" pos:end="355:34">current_picture</name><operator pos:start="355:35" pos:end="355:35">.</operator><name pos:start="355:36" pos:end="355:36">f</name><operator pos:start="355:37" pos:end="355:38">-&gt;</operator><name pos:start="355:39" pos:end="355:42">data</name><index pos:start="355:43" pos:end="355:45">[<expr pos:start="355:44" pos:end="355:44"><name pos:start="355:44" pos:end="355:44">i</name></expr>]</index></name> <operator pos:start="355:47" pos:end="355:48">+=</operator>

                    <name pos:start="357:21" pos:end="357:53"><name pos:start="357:21" pos:end="357:21">s</name><operator pos:start="357:22" pos:end="357:23">-&gt;</operator><name pos:start="357:24" pos:end="357:38">current_picture</name><operator pos:start="357:39" pos:end="357:39">.</operator><name pos:start="357:40" pos:end="357:40">f</name><operator pos:start="357:41" pos:end="357:42">-&gt;</operator><name pos:start="357:43" pos:end="357:50">linesize</name><index pos:start="357:51" pos:end="357:53">[<expr pos:start="357:52" pos:end="357:52"><name pos:start="357:52" pos:end="357:52">i</name></expr>]</index></name></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>

            <expr_stmt pos:start="361:13" pos:end="361:51"><expr pos:start="361:13" pos:end="361:50"><name pos:start="361:13" pos:end="361:45"><name pos:start="361:13" pos:end="361:13">s</name><operator pos:start="361:14" pos:end="361:15">-&gt;</operator><name pos:start="361:16" pos:end="361:30">current_picture</name><operator pos:start="361:31" pos:end="361:31">.</operator><name pos:start="361:32" pos:end="361:32">f</name><operator pos:start="361:33" pos:end="361:34">-&gt;</operator><name pos:start="361:35" pos:end="361:42">linesize</name><index pos:start="361:43" pos:end="361:45">[<expr pos:start="361:44" pos:end="361:44"><name pos:start="361:44" pos:end="361:44">i</name></expr>]</index></name> <operator pos:start="361:47" pos:end="361:48">*=</operator> <literal type="number" pos:start="361:50" pos:end="361:50">2</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="363:13" pos:end="363:51"><expr pos:start="363:13" pos:end="363:50"><name pos:start="363:13" pos:end="363:42"><name pos:start="363:13" pos:end="363:13">s</name><operator pos:start="363:14" pos:end="363:15">-&gt;</operator><name pos:start="363:16" pos:end="363:27">last_picture</name><operator pos:start="363:28" pos:end="363:28">.</operator><name pos:start="363:29" pos:end="363:29">f</name><operator pos:start="363:30" pos:end="363:31">-&gt;</operator><name pos:start="363:32" pos:end="363:39">linesize</name><index pos:start="363:40" pos:end="363:42">[<expr pos:start="363:41" pos:end="363:41"><name pos:start="363:41" pos:end="363:41">i</name></expr>]</index></name>    <operator pos:start="363:47" pos:end="363:48">*=</operator> <literal type="number" pos:start="363:50" pos:end="363:50">2</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="365:13" pos:end="365:51"><expr pos:start="365:13" pos:end="365:50"><name pos:start="365:13" pos:end="365:42"><name pos:start="365:13" pos:end="365:13">s</name><operator pos:start="365:14" pos:end="365:15">-&gt;</operator><name pos:start="365:16" pos:end="365:27">next_picture</name><operator pos:start="365:28" pos:end="365:28">.</operator><name pos:start="365:29" pos:end="365:29">f</name><operator pos:start="365:30" pos:end="365:31">-&gt;</operator><name pos:start="365:32" pos:end="365:39">linesize</name><index pos:start="365:40" pos:end="365:42">[<expr pos:start="365:41" pos:end="365:41"><name pos:start="365:41" pos:end="365:41">i</name></expr>]</index></name>    <operator pos:start="365:47" pos:end="365:48">*=</operator> <literal type="number" pos:start="365:50" pos:end="365:50">2</literal></expr>;</expr_stmt>

        </block_content>}</block></for>

    </block_content>}</block></if></if_stmt>



    <comment type="block" pos:start="373:5" pos:end="377:59">/* set dequantizer, we can't do it during init as

     * it might change for MPEG-4 and we can't do it in the header

     * decode as init is not called for MPEG-4 there yet */</comment>

    <if_stmt pos:start="379:5" pos:end="402:0"><if pos:start="379:5" pos:end="385:5">if <condition pos:start="379:8" pos:end="379:63">(<expr pos:start="379:9" pos:end="379:62"><name pos:start="379:9" pos:end="379:21"><name pos:start="379:9" pos:end="379:9">s</name><operator pos:start="379:10" pos:end="379:11">-&gt;</operator><name pos:start="379:12" pos:end="379:21">mpeg_quant</name></name> <operator pos:start="379:23" pos:end="379:24">||</operator> <name pos:start="379:26" pos:end="379:36"><name pos:start="379:26" pos:end="379:26">s</name><operator pos:start="379:27" pos:end="379:28">-&gt;</operator><name pos:start="379:29" pos:end="379:36">codec_id</name></name> <operator pos:start="379:38" pos:end="379:39">==</operator> <name pos:start="379:41" pos:end="379:62">AV_CODEC_ID_MPEG2VIDEO</name></expr>)</condition> <block pos:start="379:65" pos:end="385:5">{<block_content pos:start="381:9" pos:end="383:64">

        <expr_stmt pos:start="381:9" pos:end="381:64"><expr pos:start="381:9" pos:end="381:63"><name pos:start="381:9" pos:end="381:31"><name pos:start="381:9" pos:end="381:9">s</name><operator pos:start="381:10" pos:end="381:11">-&gt;</operator><name pos:start="381:12" pos:end="381:31">dct_unquantize_intra</name></name> <operator pos:start="381:33" pos:end="381:33">=</operator> <name pos:start="381:35" pos:end="381:63"><name pos:start="381:35" pos:end="381:35">s</name><operator pos:start="381:36" pos:end="381:37">-&gt;</operator><name pos:start="381:38" pos:end="381:63">dct_unquantize_mpeg2_intra</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="383:9" pos:end="383:64"><expr pos:start="383:9" pos:end="383:63"><name pos:start="383:9" pos:end="383:31"><name pos:start="383:9" pos:end="383:9">s</name><operator pos:start="383:10" pos:end="383:11">-&gt;</operator><name pos:start="383:12" pos:end="383:31">dct_unquantize_inter</name></name> <operator pos:start="383:33" pos:end="383:33">=</operator> <name pos:start="383:35" pos:end="383:63"><name pos:start="383:35" pos:end="383:35">s</name><operator pos:start="383:36" pos:end="383:37">-&gt;</operator><name pos:start="383:38" pos:end="383:63">dct_unquantize_mpeg2_inter</name></name></expr>;</expr_stmt>

    </block_content>}</block></if> <if type="elseif" pos:start="385:7" pos:end="391:5">else if <condition pos:start="385:15" pos:end="385:70">(<expr pos:start="385:16" pos:end="385:69"><name pos:start="385:16" pos:end="385:28"><name pos:start="385:16" pos:end="385:16">s</name><operator pos:start="385:17" pos:end="385:18">-&gt;</operator><name pos:start="385:19" pos:end="385:28">out_format</name></name> <operator pos:start="385:30" pos:end="385:31">==</operator> <name pos:start="385:33" pos:end="385:40">FMT_H263</name> <operator pos:start="385:42" pos:end="385:43">||</operator> <name pos:start="385:45" pos:end="385:57"><name pos:start="385:45" pos:end="385:45">s</name><operator pos:start="385:46" pos:end="385:47">-&gt;</operator><name pos:start="385:48" pos:end="385:57">out_format</name></name> <operator pos:start="385:59" pos:end="385:60">==</operator> <name pos:start="385:62" pos:end="385:69">FMT_H261</name></expr>)</condition> <block pos:start="385:72" pos:end="391:5">{<block_content pos:start="387:9" pos:end="389:63">

        <expr_stmt pos:start="387:9" pos:end="387:63"><expr pos:start="387:9" pos:end="387:62"><name pos:start="387:9" pos:end="387:31"><name pos:start="387:9" pos:end="387:9">s</name><operator pos:start="387:10" pos:end="387:11">-&gt;</operator><name pos:start="387:12" pos:end="387:31">dct_unquantize_intra</name></name> <operator pos:start="387:33" pos:end="387:33">=</operator> <name pos:start="387:35" pos:end="387:62"><name pos:start="387:35" pos:end="387:35">s</name><operator pos:start="387:36" pos:end="387:37">-&gt;</operator><name pos:start="387:38" pos:end="387:62">dct_unquantize_h263_intra</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="389:9" pos:end="389:63"><expr pos:start="389:9" pos:end="389:62"><name pos:start="389:9" pos:end="389:31"><name pos:start="389:9" pos:end="389:9">s</name><operator pos:start="389:10" pos:end="389:11">-&gt;</operator><name pos:start="389:12" pos:end="389:31">dct_unquantize_inter</name></name> <operator pos:start="389:33" pos:end="389:33">=</operator> <name pos:start="389:35" pos:end="389:62"><name pos:start="389:35" pos:end="389:35">s</name><operator pos:start="389:36" pos:end="389:37">-&gt;</operator><name pos:start="389:38" pos:end="389:62">dct_unquantize_h263_inter</name></name></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="391:7" pos:end="402:0">else <block pos:start="391:12" pos:end="402:0">{<block_content pos:start="393:9" pos:end="395:64">

        <expr_stmt pos:start="393:9" pos:end="393:64"><expr pos:start="393:9" pos:end="393:63"><name pos:start="393:9" pos:end="393:31"><name pos:start="393:9" pos:end="393:9">s</name><operator pos:start="393:10" pos:end="393:11">-&gt;</operator><name pos:start="393:12" pos:end="393:31">dct_unquantize_intra</name></name> <operator pos:start="393:33" pos:end="393:33">=</operator> <name pos:start="393:35" pos:end="393:63"><name pos:start="393:35" pos:end="393:35">s</name><operator pos:start="393:36" pos:end="393:37">-&gt;</operator><name pos:start="393:38" pos:end="393:63">dct_unquantize_mpeg1_intra</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="395:9" pos:end="395:64"><expr pos:start="395:9" pos:end="395:63"><name pos:start="395:9" pos:end="395:31"><name pos:start="395:9" pos:end="395:9">s</name><operator pos:start="395:10" pos:end="395:11">-&gt;</operator><name pos:start="395:12" pos:end="395:31">dct_unquantize_inter</name></name> <operator pos:start="395:33" pos:end="395:33">=</operator> <name pos:start="395:35" pos:end="395:63"><name pos:start="395:35" pos:end="395:35">s</name><operator pos:start="395:36" pos:end="395:37">-&gt;</operator><name pos:start="395:38" pos:end="395:63">dct_unquantize_mpeg1_inter</name></name></expr>;</expr_stmt>

    </block_content>}</block></else></if_stmt>



<cpp:if pos:start="401:1" pos:end="401:15">#<cpp:directive pos:start="401:2" pos:end="401:3">if</cpp:directive> <expr pos:start="401:5" pos:end="401:15"><name pos:start="401:5" pos:end="401:15">FF_API_XVMC</name></expr></cpp:if>

<macro pos:start="403:1" pos:end="403:31"><name pos:start="403:1" pos:end="403:31">FF_DISABLE_DEPRECATION_WARNINGS</name></macro>

    <if_stmt pos:start="405:5" pos:end="407:45"><if pos:start="405:5" pos:end="407:45">if <condition pos:start="405:8" pos:end="405:64">(<expr pos:start="405:9" pos:end="405:63"><name pos:start="405:9" pos:end="405:32">CONFIG_MPEG_XVMC_DECODER</name> <operator pos:start="405:34" pos:end="405:35">&amp;&amp;</operator> <name pos:start="405:37" pos:end="405:63"><name pos:start="405:37" pos:end="405:37">s</name><operator pos:start="405:38" pos:end="405:39">-&gt;</operator><name pos:start="405:40" pos:end="405:44">avctx</name><operator pos:start="405:45" pos:end="405:46">-&gt;</operator><name pos:start="405:47" pos:end="405:63">xvmc_acceleration</name></name></expr>)</condition><block type="pseudo" pos:start="407:9" pos:end="407:45"><block_content pos:start="407:9" pos:end="407:45">

        <return pos:start="407:9" pos:end="407:45">return <expr pos:start="407:16" pos:end="407:44"><call pos:start="407:16" pos:end="407:44"><name pos:start="407:16" pos:end="407:34">ff_xvmc_field_start</name><argument_list pos:start="407:35" pos:end="407:44">(<argument pos:start="407:36" pos:end="407:36"><expr pos:start="407:36" pos:end="407:36"><name pos:start="407:36" pos:end="407:36">s</name></expr></argument>, <argument pos:start="407:39" pos:end="407:43"><expr pos:start="407:39" pos:end="407:43"><name pos:start="407:39" pos:end="407:43">avctx</name></expr></argument>)</argument_list></call></expr>;</return></block_content></block></if></if_stmt>

<macro pos:start="409:1" pos:end="412:0"><name pos:start="409:1" pos:end="412:0">FF_ENABLE_DEPRECATION_WARNINGS</name></macro>

<cpp:endif pos:start="411:1" pos:end="411:6">#<cpp:directive pos:start="411:2" pos:end="411:6">endif</cpp:directive></cpp:endif> <comment type="block" pos:start="411:8" pos:end="411:24">/* FF_API_XVMC */</comment>



    <return pos:start="415:5" pos:end="415:13">return <expr pos:start="415:12" pos:end="415:12"><literal type="number" pos:start="415:12" pos:end="415:12">0</literal></expr>;</return>

</block_content>}</block></function>
</unit>
