<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/27086.c" pos:tabs="8"><function pos:start="1:1" pos:end="351:1"><type pos:start="1:1" pos:end="1:10"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:10">int</name></type> <name pos:start="1:12" pos:end="1:31">select_input_picture</name><parameter_list pos:start="1:32" pos:end="1:50">(<parameter pos:start="1:33" pos:end="1:49"><decl pos:start="1:33" pos:end="1:49"><type pos:start="1:33" pos:end="1:48"><name pos:start="1:33" pos:end="1:46">MpegEncContext</name> <modifier pos:start="1:48" pos:end="1:48">*</modifier></type><name pos:start="1:49" pos:end="1:49">s</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="351:1">{<block_content pos:start="5:5" pos:end="349:13">

    <decl_stmt pos:start="5:5" pos:end="5:15"><decl pos:start="5:5" pos:end="5:9"><type pos:start="5:5" pos:end="5:7"><name pos:start="5:5" pos:end="5:7">int</name></type> <name pos:start="5:9" pos:end="5:9">i</name></decl>, <decl pos:start="5:12" pos:end="5:14"><type ref="prev" pos:start="5:5" pos:end="5:7"/><name pos:start="5:12" pos:end="5:14">ret</name></decl>;</decl_stmt>



    <for pos:start="9:5" pos:end="11:74">for <control pos:start="9:9" pos:end="9:43">(<init pos:start="9:10" pos:end="9:15"><expr pos:start="9:10" pos:end="9:14"><name pos:start="9:10" pos:end="9:10">i</name> <operator pos:start="9:12" pos:end="9:12">=</operator> <literal type="number" pos:start="9:14" pos:end="9:14">1</literal></expr>;</init> <condition pos:start="9:17" pos:end="9:38"><expr pos:start="9:17" pos:end="9:37"><name pos:start="9:17" pos:end="9:17">i</name> <operator pos:start="9:19" pos:end="9:19">&lt;</operator> <name pos:start="9:21" pos:end="9:37">MAX_PICTURE_COUNT</name></expr>;</condition> <incr pos:start="9:40" pos:end="9:42"><expr pos:start="9:40" pos:end="9:42"><name pos:start="9:40" pos:end="9:40">i</name><operator pos:start="9:41" pos:end="9:42">++</operator></expr></incr>)</control><block type="pseudo" pos:start="11:9" pos:end="11:74"><block_content pos:start="11:9" pos:end="11:74">

        <expr_stmt pos:start="11:9" pos:end="11:74"><expr pos:start="11:9" pos:end="11:73"><name pos:start="11:9" pos:end="11:41"><name pos:start="11:9" pos:end="11:9">s</name><operator pos:start="11:10" pos:end="11:11">-&gt;</operator><name pos:start="11:12" pos:end="11:34">reordered_input_picture</name><index pos:start="11:35" pos:end="11:41">[<expr pos:start="11:36" pos:end="11:40"><name pos:start="11:36" pos:end="11:36">i</name> <operator pos:start="11:38" pos:end="11:38">-</operator> <literal type="number" pos:start="11:40" pos:end="11:40">1</literal></expr>]</index></name> <operator pos:start="11:43" pos:end="11:43">=</operator> <name pos:start="11:45" pos:end="11:73"><name pos:start="11:45" pos:end="11:45">s</name><operator pos:start="11:46" pos:end="11:47">-&gt;</operator><name pos:start="11:48" pos:end="11:70">reordered_input_picture</name><index pos:start="11:71" pos:end="11:73">[<expr pos:start="11:72" pos:end="11:72"><name pos:start="11:72" pos:end="11:72">i</name></expr>]</index></name></expr>;</expr_stmt></block_content></block></for>

    <expr_stmt pos:start="13:5" pos:end="13:61"><expr pos:start="13:5" pos:end="13:60"><name pos:start="13:5" pos:end="13:53"><name pos:start="13:5" pos:end="13:5">s</name><operator pos:start="13:6" pos:end="13:7">-&gt;</operator><name pos:start="13:8" pos:end="13:30">reordered_input_picture</name><index pos:start="13:31" pos:end="13:53">[<expr pos:start="13:32" pos:end="13:52"><name pos:start="13:32" pos:end="13:48">MAX_PICTURE_COUNT</name> <operator pos:start="13:50" pos:end="13:50">-</operator> <literal type="number" pos:start="13:52" pos:end="13:52">1</literal></expr>]</index></name> <operator pos:start="13:55" pos:end="13:55">=</operator> <name pos:start="13:57" pos:end="13:60">NULL</name></expr>;</expr_stmt>



    <comment type="block" pos:start="17:5" pos:end="17:42">/* set next picture type &amp; ordering */</comment>

    <if_stmt pos:start="19:5" pos:end="249:5"><if pos:start="19:5" pos:end="249:5">if <condition pos:start="19:8" pos:end="19:62">(<expr pos:start="19:9" pos:end="19:61"><operator pos:start="19:9" pos:end="19:9">!</operator><name pos:start="19:10" pos:end="19:38"><name pos:start="19:10" pos:end="19:10">s</name><operator pos:start="19:11" pos:end="19:12">-&gt;</operator><name pos:start="19:13" pos:end="19:35">reordered_input_picture</name><index pos:start="19:36" pos:end="19:38">[<expr pos:start="19:37" pos:end="19:37"><literal type="number" pos:start="19:37" pos:end="19:37">0</literal></expr>]</index></name> <operator pos:start="19:40" pos:end="19:41">&amp;&amp;</operator> <name pos:start="19:43" pos:end="19:61"><name pos:start="19:43" pos:end="19:43">s</name><operator pos:start="19:44" pos:end="19:45">-&gt;</operator><name pos:start="19:46" pos:end="19:58">input_picture</name><index pos:start="19:59" pos:end="19:61">[<expr pos:start="19:60" pos:end="19:60"><literal type="number" pos:start="19:60" pos:end="19:60">0</literal></expr>]</index></name></expr>)</condition> <block pos:start="19:64" pos:end="249:5">{<block_content pos:start="21:9" pos:end="247:9">

        <if_stmt pos:start="21:9" pos:end="247:9"><if pos:start="21:9" pos:end="33:9">if <condition pos:start="21:12" pos:end="23:50">(<comment type="block" pos:start="21:13" pos:end="21:58">/*s-&gt;picture_in_gop_number &gt;= s-&gt;gop_size ||*/</comment>

            <expr pos:start="23:13" pos:end="23:49"><operator pos:start="23:13" pos:end="23:13">!</operator><name pos:start="23:14" pos:end="23:32"><name pos:start="23:14" pos:end="23:14">s</name><operator pos:start="23:15" pos:end="23:16">-&gt;</operator><name pos:start="23:17" pos:end="23:32">next_picture_ptr</name></name> <operator pos:start="23:34" pos:end="23:35">||</operator> <name pos:start="23:37" pos:end="23:49"><name pos:start="23:37" pos:end="23:37">s</name><operator pos:start="23:38" pos:end="23:39">-&gt;</operator><name pos:start="23:40" pos:end="23:49">intra_only</name></name></expr>)</condition> <block pos:start="23:52" pos:end="33:9">{<block_content pos:start="25:13" pos:end="31:42">

            <expr_stmt pos:start="25:13" pos:end="25:64"><expr pos:start="25:13" pos:end="25:63"><name pos:start="25:13" pos:end="25:41"><name pos:start="25:13" pos:end="25:13">s</name><operator pos:start="25:14" pos:end="25:15">-&gt;</operator><name pos:start="25:16" pos:end="25:38">reordered_input_picture</name><index pos:start="25:39" pos:end="25:41">[<expr pos:start="25:40" pos:end="25:40"><literal type="number" pos:start="25:40" pos:end="25:40">0</literal></expr>]</index></name> <operator pos:start="25:43" pos:end="25:43">=</operator> <name pos:start="25:45" pos:end="25:63"><name pos:start="25:45" pos:end="25:45">s</name><operator pos:start="25:46" pos:end="25:47">-&gt;</operator><name pos:start="25:48" pos:end="25:60">input_picture</name><index pos:start="25:61" pos:end="25:63">[<expr pos:start="25:62" pos:end="25:62"><literal type="number" pos:start="25:62" pos:end="25:62">0</literal></expr>]</index></name></expr>;</expr_stmt>

            <expr_stmt pos:start="27:13" pos:end="27:76"><expr pos:start="27:13" pos:end="27:75"><name pos:start="27:13" pos:end="27:41"><name pos:start="27:13" pos:end="27:13">s</name><operator pos:start="27:14" pos:end="27:15">-&gt;</operator><name pos:start="27:16" pos:end="27:38">reordered_input_picture</name><index pos:start="27:39" pos:end="27:41">[<expr pos:start="27:40" pos:end="27:40"><literal type="number" pos:start="27:40" pos:end="27:40">0</literal></expr>]</index></name><operator pos:start="27:42" pos:end="27:43">-&gt;</operator><name pos:start="27:44" pos:end="27:55"><name pos:start="27:44" pos:end="27:44">f</name><operator pos:start="27:45" pos:end="27:46">-&gt;</operator><name pos:start="27:47" pos:end="27:55">pict_type</name></name> <operator pos:start="27:57" pos:end="27:57">=</operator> <name pos:start="27:59" pos:end="27:75">AV_PICTURE_TYPE_I</name></expr>;</expr_stmt>

            <expr_stmt pos:start="29:13" pos:end="31:42"><expr pos:start="29:13" pos:end="31:41"><name pos:start="29:13" pos:end="29:41"><name pos:start="29:13" pos:end="29:13">s</name><operator pos:start="29:14" pos:end="29:15">-&gt;</operator><name pos:start="29:16" pos:end="29:38">reordered_input_picture</name><index pos:start="29:39" pos:end="29:41">[<expr pos:start="29:40" pos:end="29:40"><literal type="number" pos:start="29:40" pos:end="29:40">0</literal></expr>]</index></name><operator pos:start="29:42" pos:end="29:43">-&gt;</operator><name pos:start="29:44" pos:end="29:66"><name pos:start="29:44" pos:end="29:44">f</name><operator pos:start="29:45" pos:end="29:46">-&gt;</operator><name pos:start="29:47" pos:end="29:66">coded_picture_number</name></name> <operator pos:start="29:68" pos:end="29:68">=</operator>

                <name pos:start="31:17" pos:end="31:39"><name pos:start="31:17" pos:end="31:17">s</name><operator pos:start="31:18" pos:end="31:19">-&gt;</operator><name pos:start="31:20" pos:end="31:39">coded_picture_number</name></name><operator pos:start="31:40" pos:end="31:41">++</operator></expr>;</expr_stmt>

        </block_content>}</block></if> <else pos:start="33:11" pos:end="247:9">else <block pos:start="33:16" pos:end="247:9">{<block_content pos:start="35:13" pos:end="245:13">

            <decl_stmt pos:start="35:13" pos:end="35:25"><decl pos:start="35:13" pos:end="35:24"><type pos:start="35:13" pos:end="35:15"><name pos:start="35:13" pos:end="35:15">int</name></type> <name pos:start="35:17" pos:end="35:24">b_frames</name></decl>;</decl_stmt>



            <if_stmt pos:start="39:13" pos:end="61:13"><if pos:start="39:13" pos:end="61:13">if <condition pos:start="39:16" pos:end="39:78">(<expr pos:start="39:17" pos:end="39:77"><name pos:start="39:17" pos:end="39:46"><name pos:start="39:17" pos:end="39:17">s</name><operator pos:start="39:18" pos:end="39:19">-&gt;</operator><name pos:start="39:20" pos:end="39:24">avctx</name><operator pos:start="39:25" pos:end="39:26">-&gt;</operator><name pos:start="39:27" pos:end="39:46">frame_skip_threshold</name></name> <operator pos:start="39:48" pos:end="39:49">||</operator> <name pos:start="39:51" pos:end="39:77"><name pos:start="39:51" pos:end="39:51">s</name><operator pos:start="39:52" pos:end="39:53">-&gt;</operator><name pos:start="39:54" pos:end="39:58">avctx</name><operator pos:start="39:59" pos:end="39:60">-&gt;</operator><name pos:start="39:61" pos:end="39:77">frame_skip_factor</name></name></expr>)</condition> <block pos:start="39:80" pos:end="61:13">{<block_content pos:start="41:17" pos:end="59:17">

                <if_stmt pos:start="41:17" pos:end="59:17"><if pos:start="41:17" pos:end="59:17">if <condition pos:start="41:20" pos:end="43:76">(<expr pos:start="41:21" pos:end="43:75"><name pos:start="41:21" pos:end="41:44"><name pos:start="41:21" pos:end="41:21">s</name><operator pos:start="41:22" pos:end="41:23">-&gt;</operator><name pos:start="41:24" pos:end="41:44">picture_in_gop_number</name></name> <operator pos:start="41:46" pos:end="41:46">&lt;</operator> <name pos:start="41:48" pos:end="41:58"><name pos:start="41:48" pos:end="41:48">s</name><operator pos:start="41:49" pos:end="41:50">-&gt;</operator><name pos:start="41:51" pos:end="41:58">gop_size</name></name> <operator pos:start="41:60" pos:end="41:61">&amp;&amp;</operator>

                    <call pos:start="43:21" pos:end="43:75"><name pos:start="43:21" pos:end="43:30">skip_check</name><argument_list pos:start="43:31" pos:end="43:75">(<argument pos:start="43:32" pos:end="43:32"><expr pos:start="43:32" pos:end="43:32"><name pos:start="43:32" pos:end="43:32">s</name></expr></argument>, <argument pos:start="43:35" pos:end="43:53"><expr pos:start="43:35" pos:end="43:53"><name pos:start="43:35" pos:end="43:53"><name pos:start="43:35" pos:end="43:35">s</name><operator pos:start="43:36" pos:end="43:37">-&gt;</operator><name pos:start="43:38" pos:end="43:50">input_picture</name><index pos:start="43:51" pos:end="43:53">[<expr pos:start="43:52" pos:end="43:52"><literal type="number" pos:start="43:52" pos:end="43:52">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="43:56" pos:end="43:74"><expr pos:start="43:56" pos:end="43:74"><name pos:start="43:56" pos:end="43:74"><name pos:start="43:56" pos:end="43:56">s</name><operator pos:start="43:57" pos:end="43:58">-&gt;</operator><name pos:start="43:59" pos:end="43:74">next_picture_ptr</name></name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="43:78" pos:end="59:17">{<block_content pos:start="47:21" pos:end="57:39">

                    <comment type="line" pos:start="45:21" pos:end="45:73">// FIXME check that te gop check above is +-1 correct</comment>

                    <expr_stmt pos:start="47:21" pos:end="47:59"><expr pos:start="47:21" pos:end="47:58"><call pos:start="47:21" pos:end="47:58"><name pos:start="47:21" pos:end="47:34">av_frame_unref</name><argument_list pos:start="47:35" pos:end="47:58">(<argument pos:start="47:36" pos:end="47:57"><expr pos:start="47:36" pos:end="47:57"><name pos:start="47:36" pos:end="47:54"><name pos:start="47:36" pos:end="47:36">s</name><operator pos:start="47:37" pos:end="47:38">-&gt;</operator><name pos:start="47:39" pos:end="47:51">input_picture</name><index pos:start="47:52" pos:end="47:54">[<expr pos:start="47:53" pos:end="47:53"><literal type="number" pos:start="47:53" pos:end="47:53">0</literal></expr>]</index></name><operator pos:start="47:55" pos:end="47:56">-&gt;</operator><name pos:start="47:57" pos:end="47:57">f</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



                    <expr_stmt pos:start="51:21" pos:end="51:29"><expr pos:start="51:21" pos:end="51:28"><call pos:start="51:21" pos:end="51:28"><name pos:start="51:21" pos:end="51:26">emms_c</name><argument_list pos:start="51:27" pos:end="51:28">()</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="53:21" pos:end="53:40"><expr pos:start="53:21" pos:end="53:39"><call pos:start="53:21" pos:end="53:39"><name pos:start="53:21" pos:end="53:33">ff_vbv_update</name><argument_list pos:start="53:34" pos:end="53:39">(<argument pos:start="53:35" pos:end="53:35"><expr pos:start="53:35" pos:end="53:35"><name pos:start="53:35" pos:end="53:35">s</name></expr></argument>, <argument pos:start="53:38" pos:end="53:38"><expr pos:start="53:38" pos:end="53:38"><literal type="number" pos:start="53:38" pos:end="53:38">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>



                    <goto pos:start="57:21" pos:end="57:39">goto <name pos:start="57:26" pos:end="57:38">no_output_pic</name>;</goto>

                </block_content>}</block></if></if_stmt>

            </block_content>}</block></if></if_stmt>



            <if_stmt pos:start="65:13" pos:end="93:13"><if pos:start="65:13" pos:end="93:13">if <condition pos:start="65:16" pos:end="65:54">(<expr pos:start="65:17" pos:end="65:53"><name pos:start="65:17" pos:end="65:31"><name pos:start="65:17" pos:end="65:17">s</name><operator pos:start="65:18" pos:end="65:19">-&gt;</operator><name pos:start="65:20" pos:end="65:24">avctx</name><operator pos:start="65:25" pos:end="65:26">-&gt;</operator><name pos:start="65:27" pos:end="65:31">flags</name></name> <operator pos:start="65:33" pos:end="65:33">&amp;</operator> <name pos:start="65:35" pos:end="65:53">AV_CODEC_FLAG_PASS2</name></expr>)</condition> <block pos:start="65:56" pos:end="93:13">{<block_content pos:start="67:17" pos:end="91:17">

                <for pos:start="67:17" pos:end="91:17">for <control pos:start="67:21" pos:end="67:57">(<init pos:start="67:22" pos:end="67:27"><expr pos:start="67:22" pos:end="67:26"><name pos:start="67:22" pos:end="67:22">i</name> <operator pos:start="67:24" pos:end="67:24">=</operator> <literal type="number" pos:start="67:26" pos:end="67:26">0</literal></expr>;</init> <condition pos:start="67:29" pos:end="67:52"><expr pos:start="67:29" pos:end="67:51"><name pos:start="67:29" pos:end="67:29">i</name> <operator pos:start="67:31" pos:end="67:31">&lt;</operator> <name pos:start="67:33" pos:end="67:47"><name pos:start="67:33" pos:end="67:33">s</name><operator pos:start="67:34" pos:end="67:35">-&gt;</operator><name pos:start="67:36" pos:end="67:47">max_b_frames</name></name> <operator pos:start="67:49" pos:end="67:49">+</operator> <literal type="number" pos:start="67:51" pos:end="67:51">1</literal></expr>;</condition> <incr pos:start="67:54" pos:end="67:56"><expr pos:start="67:54" pos:end="67:56"><name pos:start="67:54" pos:end="67:54">i</name><operator pos:start="67:55" pos:end="67:56">++</operator></expr></incr>)</control> <block pos:start="67:59" pos:end="91:17">{<block_content pos:start="69:21" pos:end="89:68">

                    <decl_stmt pos:start="69:21" pos:end="69:86"><decl pos:start="69:21" pos:end="69:85"><type pos:start="69:21" pos:end="69:23"><name pos:start="69:21" pos:end="69:23">int</name></type> <name pos:start="69:25" pos:end="69:32">pict_num</name> <init pos:start="69:34" pos:end="69:85">= <expr pos:start="69:36" pos:end="69:85"><name pos:start="69:36" pos:end="69:54"><name pos:start="69:36" pos:end="69:36">s</name><operator pos:start="69:37" pos:end="69:38">-&gt;</operator><name pos:start="69:39" pos:end="69:51">input_picture</name><index pos:start="69:52" pos:end="69:54">[<expr pos:start="69:53" pos:end="69:53"><literal type="number" pos:start="69:53" pos:end="69:53">0</literal></expr>]</index></name><operator pos:start="69:55" pos:end="69:56">-&gt;</operator><name pos:start="69:57" pos:end="69:81"><name pos:start="69:57" pos:end="69:57">f</name><operator pos:start="69:58" pos:end="69:59">-&gt;</operator><name pos:start="69:60" pos:end="69:81">display_picture_number</name></name> <operator pos:start="69:83" pos:end="69:83">+</operator> <name pos:start="69:85" pos:end="69:85">i</name></expr></init></decl>;</decl_stmt>



                    <if_stmt pos:start="73:21" pos:end="75:30"><if pos:start="73:21" pos:end="75:30">if <condition pos:start="73:24" pos:end="73:62">(<expr pos:start="73:25" pos:end="73:61"><name pos:start="73:25" pos:end="73:32">pict_num</name> <operator pos:start="73:34" pos:end="73:35">&gt;=</operator> <name pos:start="73:37" pos:end="73:61"><name pos:start="73:37" pos:end="73:37">s</name><operator pos:start="73:38" pos:end="73:39">-&gt;</operator><name pos:start="73:40" pos:end="73:49">rc_context</name><operator pos:start="73:50" pos:end="73:50">.</operator><name pos:start="73:51" pos:end="73:61">num_entries</name></name></expr>)</condition><block type="pseudo" pos:start="75:25" pos:end="75:30"><block_content pos:start="75:25" pos:end="75:30">

                        <break pos:start="75:25" pos:end="75:30">break;</break></block_content></block></if></if_stmt>

                    <if_stmt pos:start="77:21" pos:end="83:21"><if pos:start="77:21" pos:end="83:21">if <condition pos:start="77:24" pos:end="77:45">(<expr pos:start="77:25" pos:end="77:44"><operator pos:start="77:25" pos:end="77:25">!</operator><name pos:start="77:26" pos:end="77:44"><name pos:start="77:26" pos:end="77:26">s</name><operator pos:start="77:27" pos:end="77:28">-&gt;</operator><name pos:start="77:29" pos:end="77:41">input_picture</name><index pos:start="77:42" pos:end="77:44">[<expr pos:start="77:43" pos:end="77:43"><name pos:start="77:43" pos:end="77:43">i</name></expr>]</index></name></expr>)</condition> <block pos:start="77:47" pos:end="83:21">{<block_content pos:start="79:25" pos:end="81:30">

                        <expr_stmt pos:start="79:25" pos:end="79:92"><expr pos:start="79:25" pos:end="79:91"><name pos:start="79:25" pos:end="79:57"><name pos:start="79:25" pos:end="79:25">s</name><operator pos:start="79:26" pos:end="79:27">-&gt;</operator><name pos:start="79:28" pos:end="79:37">rc_context</name><operator pos:start="79:38" pos:end="79:38">.</operator><name pos:start="79:39" pos:end="79:43">entry</name><index pos:start="79:44" pos:end="79:57">[<expr pos:start="79:45" pos:end="79:56"><name pos:start="79:45" pos:end="79:52">pict_num</name> <operator pos:start="79:54" pos:end="79:54">-</operator> <literal type="number" pos:start="79:56" pos:end="79:56">1</literal></expr>]</index></name><operator pos:start="79:58" pos:end="79:58">.</operator><name pos:start="79:59" pos:end="79:71">new_pict_type</name> <operator pos:start="79:73" pos:end="79:73">=</operator> <name pos:start="79:75" pos:end="79:91">AV_PICTURE_TYPE_P</name></expr>;</expr_stmt>

                        <break pos:start="81:25" pos:end="81:30">break;</break>

                    </block_content>}</block></if></if_stmt>



                    <expr_stmt pos:start="87:21" pos:end="89:68"><expr pos:start="87:21" pos:end="89:67"><name pos:start="87:21" pos:end="87:39"><name pos:start="87:21" pos:end="87:21">s</name><operator pos:start="87:22" pos:end="87:23">-&gt;</operator><name pos:start="87:24" pos:end="87:36">input_picture</name><index pos:start="87:37" pos:end="87:39">[<expr pos:start="87:38" pos:end="87:38"><name pos:start="87:38" pos:end="87:38">i</name></expr>]</index></name><operator pos:start="87:40" pos:end="87:41">-&gt;</operator><name pos:start="87:42" pos:end="87:53"><name pos:start="87:42" pos:end="87:42">f</name><operator pos:start="87:43" pos:end="87:44">-&gt;</operator><name pos:start="87:45" pos:end="87:53">pict_type</name></name> <operator pos:start="87:55" pos:end="87:55">=</operator>

                        <name pos:start="89:25" pos:end="89:53"><name pos:start="89:25" pos:end="89:25">s</name><operator pos:start="89:26" pos:end="89:27">-&gt;</operator><name pos:start="89:28" pos:end="89:37">rc_context</name><operator pos:start="89:38" pos:end="89:38">.</operator><name pos:start="89:39" pos:end="89:43">entry</name><index pos:start="89:44" pos:end="89:53">[<expr pos:start="89:45" pos:end="89:52"><name pos:start="89:45" pos:end="89:52">pict_num</name></expr>]</index></name><operator pos:start="89:54" pos:end="89:54">.</operator><name pos:start="89:55" pos:end="89:67">new_pict_type</name></expr>;</expr_stmt>

                </block_content>}</block></for>

            </block_content>}</block></if></if_stmt>



            <if_stmt pos:start="97:13" pos:end="163:13"><if pos:start="97:13" pos:end="105:13">if <condition pos:start="97:16" pos:end="97:48">(<expr pos:start="97:17" pos:end="97:47"><name pos:start="97:17" pos:end="97:42"><name pos:start="97:17" pos:end="97:17">s</name><operator pos:start="97:18" pos:end="97:19">-&gt;</operator><name pos:start="97:20" pos:end="97:24">avctx</name><operator pos:start="97:25" pos:end="97:26">-&gt;</operator><name pos:start="97:27" pos:end="97:42">b_frame_strategy</name></name> <operator pos:start="97:44" pos:end="97:45">==</operator> <literal type="number" pos:start="97:47" pos:end="97:47">0</literal></expr>)</condition> <block pos:start="97:50" pos:end="105:13">{<block_content pos:start="99:17" pos:end="103:31">

                <expr_stmt pos:start="99:17" pos:end="99:43"><expr pos:start="99:17" pos:end="99:42"><name pos:start="99:17" pos:end="99:24">b_frames</name> <operator pos:start="99:26" pos:end="99:26">=</operator> <name pos:start="99:28" pos:end="99:42"><name pos:start="99:28" pos:end="99:28">s</name><operator pos:start="99:29" pos:end="99:30">-&gt;</operator><name pos:start="99:31" pos:end="99:42">max_b_frames</name></name></expr>;</expr_stmt>

                <while pos:start="101:17" pos:end="103:31">while <condition pos:start="101:23" pos:end="101:63">(<expr pos:start="101:24" pos:end="101:62"><name pos:start="101:24" pos:end="101:31">b_frames</name> <operator pos:start="101:33" pos:end="101:34">&amp;&amp;</operator> <operator pos:start="101:36" pos:end="101:36">!</operator><name pos:start="101:37" pos:end="101:62"><name pos:start="101:37" pos:end="101:37">s</name><operator pos:start="101:38" pos:end="101:39">-&gt;</operator><name pos:start="101:40" pos:end="101:52">input_picture</name><index pos:start="101:53" pos:end="101:62">[<expr pos:start="101:54" pos:end="101:61"><name pos:start="101:54" pos:end="101:61">b_frames</name></expr>]</index></name></expr>)</condition><block type="pseudo" pos:start="103:21" pos:end="103:31"><block_content pos:start="103:21" pos:end="103:31">

                    <expr_stmt pos:start="103:21" pos:end="103:31"><expr pos:start="103:21" pos:end="103:30"><name pos:start="103:21" pos:end="103:28">b_frames</name><operator pos:start="103:29" pos:end="103:30">--</operator></expr>;</expr_stmt></block_content></block></while>

            </block_content>}</block></if> <if type="elseif" pos:start="105:15" pos:end="153:13">else if <condition pos:start="105:23" pos:end="105:55">(<expr pos:start="105:24" pos:end="105:54"><name pos:start="105:24" pos:end="105:49"><name pos:start="105:24" pos:end="105:24">s</name><operator pos:start="105:25" pos:end="105:26">-&gt;</operator><name pos:start="105:27" pos:end="105:31">avctx</name><operator pos:start="105:32" pos:end="105:33">-&gt;</operator><name pos:start="105:34" pos:end="105:49">b_frame_strategy</name></name> <operator pos:start="105:51" pos:end="105:52">==</operator> <literal type="number" pos:start="105:54" pos:end="105:54">1</literal></expr>)</condition> <block pos:start="105:57" pos:end="153:13">{<block_content pos:start="107:17" pos:end="151:17">

                <for pos:start="107:17" pos:end="125:17">for <control pos:start="107:21" pos:end="107:57">(<init pos:start="107:22" pos:end="107:27"><expr pos:start="107:22" pos:end="107:26"><name pos:start="107:22" pos:end="107:22">i</name> <operator pos:start="107:24" pos:end="107:24">=</operator> <literal type="number" pos:start="107:26" pos:end="107:26">1</literal></expr>;</init> <condition pos:start="107:29" pos:end="107:52"><expr pos:start="107:29" pos:end="107:51"><name pos:start="107:29" pos:end="107:29">i</name> <operator pos:start="107:31" pos:end="107:31">&lt;</operator> <name pos:start="107:33" pos:end="107:47"><name pos:start="107:33" pos:end="107:33">s</name><operator pos:start="107:34" pos:end="107:35">-&gt;</operator><name pos:start="107:36" pos:end="107:47">max_b_frames</name></name> <operator pos:start="107:49" pos:end="107:49">+</operator> <literal type="number" pos:start="107:51" pos:end="107:51">1</literal></expr>;</condition> <incr pos:start="107:54" pos:end="107:56"><expr pos:start="107:54" pos:end="107:56"><name pos:start="107:54" pos:end="107:54">i</name><operator pos:start="107:55" pos:end="107:56">++</operator></expr></incr>)</control> <block pos:start="107:59" pos:end="125:17">{<block_content pos:start="109:21" pos:end="123:21">

                    <if_stmt pos:start="109:21" pos:end="123:21"><if pos:start="109:21" pos:end="123:21">if <condition pos:start="109:24" pos:end="111:64">(<expr pos:start="109:25" pos:end="111:63"><name pos:start="109:25" pos:end="109:43"><name pos:start="109:25" pos:end="109:25">s</name><operator pos:start="109:26" pos:end="109:27">-&gt;</operator><name pos:start="109:28" pos:end="109:40">input_picture</name><index pos:start="109:41" pos:end="109:43">[<expr pos:start="109:42" pos:end="109:42"><name pos:start="109:42" pos:end="109:42">i</name></expr>]</index></name> <operator pos:start="109:45" pos:end="109:46">&amp;&amp;</operator>

                        <name pos:start="111:25" pos:end="111:43"><name pos:start="111:25" pos:end="111:25">s</name><operator pos:start="111:26" pos:end="111:27">-&gt;</operator><name pos:start="111:28" pos:end="111:40">input_picture</name><index pos:start="111:41" pos:end="111:43">[<expr pos:start="111:42" pos:end="111:42"><name pos:start="111:42" pos:end="111:42">i</name></expr>]</index></name><operator pos:start="111:44" pos:end="111:45">-&gt;</operator><name pos:start="111:46" pos:end="111:58">b_frame_score</name> <operator pos:start="111:60" pos:end="111:61">==</operator> <literal type="number" pos:start="111:63" pos:end="111:63">0</literal></expr>)</condition> <block pos:start="111:66" pos:end="123:21">{<block_content pos:start="113:25" pos:end="121:61">

                        <expr_stmt pos:start="113:25" pos:end="121:61"><expr pos:start="113:25" pos:end="121:60"><name pos:start="113:25" pos:end="113:43"><name pos:start="113:25" pos:end="113:25">s</name><operator pos:start="113:26" pos:end="113:27">-&gt;</operator><name pos:start="113:28" pos:end="113:40">input_picture</name><index pos:start="113:41" pos:end="113:43">[<expr pos:start="113:42" pos:end="113:42"><name pos:start="113:42" pos:end="113:42">i</name></expr>]</index></name><operator pos:start="113:44" pos:end="113:45">-&gt;</operator><name pos:start="113:46" pos:end="113:58">b_frame_score</name> <operator pos:start="113:60" pos:end="113:60">=</operator>

                            <call pos:start="115:29" pos:end="121:56"><name pos:start="115:29" pos:end="115:43">get_intra_count</name><argument_list pos:start="115:44" pos:end="121:56">(<argument pos:start="115:45" pos:end="115:45"><expr pos:start="115:45" pos:end="115:45"><name pos:start="115:45" pos:end="115:45">s</name></expr></argument>,

                                            <argument pos:start="117:45" pos:end="117:79"><expr pos:start="117:45" pos:end="117:79"><name pos:start="117:45" pos:end="117:67"><name pos:start="117:45" pos:end="117:45">s</name><operator pos:start="117:46" pos:end="117:47">-&gt;</operator><name pos:start="117:48" pos:end="117:60">input_picture</name><index pos:start="117:61" pos:end="117:67">[<expr pos:start="117:62" pos:end="117:62"><name pos:start="117:62" pos:end="117:62">i</name></expr>    ]</index></name><operator pos:start="117:68" pos:end="117:69">-&gt;</operator><name pos:start="117:70" pos:end="117:79"><name pos:start="117:70" pos:end="117:70">f</name><operator pos:start="117:71" pos:end="117:72">-&gt;</operator><name pos:start="117:73" pos:end="117:76">data</name><index pos:start="117:77" pos:end="117:79">[<expr pos:start="117:78" pos:end="117:78"><literal type="number" pos:start="117:78" pos:end="117:78">0</literal></expr>]</index></name></expr></argument>,

                                            <argument pos:start="119:45" pos:end="119:79"><expr pos:start="119:45" pos:end="119:79"><name pos:start="119:45" pos:end="119:67"><name pos:start="119:45" pos:end="119:45">s</name><operator pos:start="119:46" pos:end="119:47">-&gt;</operator><name pos:start="119:48" pos:end="119:60">input_picture</name><index pos:start="119:61" pos:end="119:67">[<expr pos:start="119:62" pos:end="119:66"><name pos:start="119:62" pos:end="119:62">i</name> <operator pos:start="119:64" pos:end="119:64">-</operator> <literal type="number" pos:start="119:66" pos:end="119:66">1</literal></expr>]</index></name><operator pos:start="119:68" pos:end="119:69">-&gt;</operator><name pos:start="119:70" pos:end="119:79"><name pos:start="119:70" pos:end="119:70">f</name><operator pos:start="119:71" pos:end="119:72">-&gt;</operator><name pos:start="119:73" pos:end="119:76">data</name><index pos:start="119:77" pos:end="119:79">[<expr pos:start="119:78" pos:end="119:78"><literal type="number" pos:start="119:78" pos:end="119:78">0</literal></expr>]</index></name></expr></argument>,

                                            <argument pos:start="121:45" pos:end="121:55"><expr pos:start="121:45" pos:end="121:55"><name pos:start="121:45" pos:end="121:55"><name pos:start="121:45" pos:end="121:45">s</name><operator pos:start="121:46" pos:end="121:47">-&gt;</operator><name pos:start="121:48" pos:end="121:55">linesize</name></name></expr></argument>)</argument_list></call> <operator pos:start="121:58" pos:end="121:58">+</operator> <literal type="number" pos:start="121:60" pos:end="121:60">1</literal></expr>;</expr_stmt>

                    </block_content>}</block></if></if_stmt>

                </block_content>}</block></for>

                <for pos:start="127:17" pos:end="137:17">for <control pos:start="127:21" pos:end="127:57">(<init pos:start="127:22" pos:end="127:27"><expr pos:start="127:22" pos:end="127:26"><name pos:start="127:22" pos:end="127:22">i</name> <operator pos:start="127:24" pos:end="127:24">=</operator> <literal type="number" pos:start="127:26" pos:end="127:26">0</literal></expr>;</init> <condition pos:start="127:29" pos:end="127:52"><expr pos:start="127:29" pos:end="127:51"><name pos:start="127:29" pos:end="127:29">i</name> <operator pos:start="127:31" pos:end="127:31">&lt;</operator> <name pos:start="127:33" pos:end="127:47"><name pos:start="127:33" pos:end="127:33">s</name><operator pos:start="127:34" pos:end="127:35">-&gt;</operator><name pos:start="127:36" pos:end="127:47">max_b_frames</name></name> <operator pos:start="127:49" pos:end="127:49">+</operator> <literal type="number" pos:start="127:51" pos:end="127:51">1</literal></expr>;</condition> <incr pos:start="127:54" pos:end="127:56"><expr pos:start="127:54" pos:end="127:56"><name pos:start="127:54" pos:end="127:54">i</name><operator pos:start="127:55" pos:end="127:56">++</operator></expr></incr>)</control> <block pos:start="127:59" pos:end="137:17">{<block_content pos:start="129:21" pos:end="135:30">

                    <if_stmt pos:start="129:21" pos:end="135:30"><if pos:start="129:21" pos:end="135:30">if <condition pos:start="129:24" pos:end="133:64">(<expr pos:start="129:25" pos:end="133:63"><operator pos:start="129:25" pos:end="129:25">!</operator><name pos:start="129:26" pos:end="129:44"><name pos:start="129:26" pos:end="129:26">s</name><operator pos:start="129:27" pos:end="129:28">-&gt;</operator><name pos:start="129:29" pos:end="129:41">input_picture</name><index pos:start="129:42" pos:end="129:44">[<expr pos:start="129:43" pos:end="129:43"><name pos:start="129:43" pos:end="129:43">i</name></expr>]</index></name> <operator pos:start="129:46" pos:end="129:47">||</operator>

                        <name pos:start="131:25" pos:end="131:43"><name pos:start="131:25" pos:end="131:25">s</name><operator pos:start="131:26" pos:end="131:27">-&gt;</operator><name pos:start="131:28" pos:end="131:40">input_picture</name><index pos:start="131:41" pos:end="131:43">[<expr pos:start="131:42" pos:end="131:42"><name pos:start="131:42" pos:end="131:42">i</name></expr>]</index></name><operator pos:start="131:44" pos:end="131:45">-&gt;</operator><name pos:start="131:46" pos:end="131:58">b_frame_score</name> <operator pos:start="131:60" pos:end="131:60">-</operator> <literal type="number" pos:start="131:62" pos:end="131:62">1</literal> <operator pos:start="131:64" pos:end="131:64">&gt;</operator>

                            <name pos:start="133:29" pos:end="133:37"><name pos:start="133:29" pos:end="133:29">s</name><operator pos:start="133:30" pos:end="133:31">-&gt;</operator><name pos:start="133:32" pos:end="133:37">mb_num</name></name> <operator pos:start="133:39" pos:end="133:39">/</operator> <name pos:start="133:41" pos:end="133:63"><name pos:start="133:41" pos:end="133:41">s</name><operator pos:start="133:42" pos:end="133:43">-&gt;</operator><name pos:start="133:44" pos:end="133:48">avctx</name><operator pos:start="133:49" pos:end="133:50">-&gt;</operator><name pos:start="133:51" pos:end="133:63">b_sensitivity</name></name></expr>)</condition><block type="pseudo" pos:start="135:25" pos:end="135:30"><block_content pos:start="135:25" pos:end="135:30">

                        <break pos:start="135:25" pos:end="135:30">break;</break></block_content></block></if></if_stmt>

                </block_content>}</block></for>



                <expr_stmt pos:start="141:17" pos:end="141:43"><expr pos:start="141:17" pos:end="141:42"><name pos:start="141:17" pos:end="141:24">b_frames</name> <operator pos:start="141:26" pos:end="141:26">=</operator> <call pos:start="141:28" pos:end="141:42"><name pos:start="141:28" pos:end="141:32">FFMAX</name><argument_list pos:start="141:33" pos:end="141:42">(<argument pos:start="141:34" pos:end="141:34"><expr pos:start="141:34" pos:end="141:34"><literal type="number" pos:start="141:34" pos:end="141:34">0</literal></expr></argument>, <argument pos:start="141:37" pos:end="141:41"><expr pos:start="141:37" pos:end="141:41"><name pos:start="141:37" pos:end="141:37">i</name> <operator pos:start="141:39" pos:end="141:39">-</operator> <literal type="number" pos:start="141:41" pos:end="141:41">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>



                <comment type="block" pos:start="145:17" pos:end="145:34">/* reset scores */</comment>

                <for pos:start="147:17" pos:end="151:17">for <control pos:start="147:21" pos:end="147:50">(<init pos:start="147:22" pos:end="147:27"><expr pos:start="147:22" pos:end="147:26"><name pos:start="147:22" pos:end="147:22">i</name> <operator pos:start="147:24" pos:end="147:24">=</operator> <literal type="number" pos:start="147:26" pos:end="147:26">0</literal></expr>;</init> <condition pos:start="147:29" pos:end="147:45"><expr pos:start="147:29" pos:end="147:44"><name pos:start="147:29" pos:end="147:29">i</name> <operator pos:start="147:31" pos:end="147:31">&lt;</operator> <name pos:start="147:33" pos:end="147:40">b_frames</name> <operator pos:start="147:42" pos:end="147:42">+</operator> <literal type="number" pos:start="147:44" pos:end="147:44">1</literal></expr>;</condition> <incr pos:start="147:47" pos:end="147:49"><expr pos:start="147:47" pos:end="147:49"><name pos:start="147:47" pos:end="147:47">i</name><operator pos:start="147:48" pos:end="147:49">++</operator></expr></incr>)</control> <block pos:start="147:52" pos:end="151:17">{<block_content pos:start="149:21" pos:end="149:59">

                    <expr_stmt pos:start="149:21" pos:end="149:59"><expr pos:start="149:21" pos:end="149:58"><name pos:start="149:21" pos:end="149:39"><name pos:start="149:21" pos:end="149:21">s</name><operator pos:start="149:22" pos:end="149:23">-&gt;</operator><name pos:start="149:24" pos:end="149:36">input_picture</name><index pos:start="149:37" pos:end="149:39">[<expr pos:start="149:38" pos:end="149:38"><name pos:start="149:38" pos:end="149:38">i</name></expr>]</index></name><operator pos:start="149:40" pos:end="149:41">-&gt;</operator><name pos:start="149:42" pos:end="149:54">b_frame_score</name> <operator pos:start="149:56" pos:end="149:56">=</operator> <literal type="number" pos:start="149:58" pos:end="149:58">0</literal></expr>;</expr_stmt>

                </block_content>}</block></for>

            </block_content>}</block></if> <if type="elseif" pos:start="153:15" pos:end="157:13">else if <condition pos:start="153:23" pos:end="153:55">(<expr pos:start="153:24" pos:end="153:54"><name pos:start="153:24" pos:end="153:49"><name pos:start="153:24" pos:end="153:24">s</name><operator pos:start="153:25" pos:end="153:26">-&gt;</operator><name pos:start="153:27" pos:end="153:31">avctx</name><operator pos:start="153:32" pos:end="153:33">-&gt;</operator><name pos:start="153:34" pos:end="153:49">b_frame_strategy</name></name> <operator pos:start="153:51" pos:end="153:52">==</operator> <literal type="number" pos:start="153:54" pos:end="153:54">2</literal></expr>)</condition> <block pos:start="153:57" pos:end="157:13">{<block_content pos:start="155:17" pos:end="155:52">

                <expr_stmt pos:start="155:17" pos:end="155:52"><expr pos:start="155:17" pos:end="155:51"><name pos:start="155:17" pos:end="155:24">b_frames</name> <operator pos:start="155:26" pos:end="155:26">=</operator> <call pos:start="155:28" pos:end="155:51"><name pos:start="155:28" pos:end="155:48">estimate_best_b_count</name><argument_list pos:start="155:49" pos:end="155:51">(<argument pos:start="155:50" pos:end="155:50"><expr pos:start="155:50" pos:end="155:50"><name pos:start="155:50" pos:end="155:50">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></if> <else pos:start="157:15" pos:end="163:13">else <block pos:start="157:20" pos:end="163:13">{<block_content pos:start="159:17" pos:end="161:29">

                <expr_stmt pos:start="159:17" pos:end="159:77"><expr pos:start="159:17" pos:end="159:76"><call pos:start="159:17" pos:end="159:76"><name pos:start="159:17" pos:end="159:22">av_log</name><argument_list pos:start="159:23" pos:end="159:76">(<argument pos:start="159:24" pos:end="159:31"><expr pos:start="159:24" pos:end="159:31"><name pos:start="159:24" pos:end="159:31"><name pos:start="159:24" pos:end="159:24">s</name><operator pos:start="159:25" pos:end="159:26">-&gt;</operator><name pos:start="159:27" pos:end="159:31">avctx</name></name></expr></argument>, <argument pos:start="159:34" pos:end="159:45"><expr pos:start="159:34" pos:end="159:45"><name pos:start="159:34" pos:end="159:45">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="159:48" pos:end="159:75"><expr pos:start="159:48" pos:end="159:75"><literal type="string" pos:start="159:48" pos:end="159:75">"illegal b frame strategy\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="161:17" pos:end="161:29"><expr pos:start="161:17" pos:end="161:28"><name pos:start="161:17" pos:end="161:24">b_frames</name> <operator pos:start="161:26" pos:end="161:26">=</operator> <literal type="number" pos:start="161:28" pos:end="161:28">0</literal></expr>;</expr_stmt>

            </block_content>}</block></else></if_stmt>



            <expr_stmt pos:start="167:13" pos:end="167:21"><expr pos:start="167:13" pos:end="167:20"><call pos:start="167:13" pos:end="167:20"><name pos:start="167:13" pos:end="167:18">emms_c</name><argument_list pos:start="167:19" pos:end="167:20">()</argument_list></call></expr>;</expr_stmt>



            <for pos:start="171:13" pos:end="179:13">for <control pos:start="171:17" pos:end="171:47">(<init pos:start="171:18" pos:end="171:34"><expr pos:start="171:18" pos:end="171:33"><name pos:start="171:18" pos:end="171:18">i</name> <operator pos:start="171:20" pos:end="171:20">=</operator> <name pos:start="171:22" pos:end="171:29">b_frames</name> <operator pos:start="171:31" pos:end="171:31">-</operator> <literal type="number" pos:start="171:33" pos:end="171:33">1</literal></expr>;</init> <condition pos:start="171:36" pos:end="171:42"><expr pos:start="171:36" pos:end="171:41"><name pos:start="171:36" pos:end="171:36">i</name> <operator pos:start="171:38" pos:end="171:39">&gt;=</operator> <literal type="number" pos:start="171:41" pos:end="171:41">0</literal></expr>;</condition> <incr pos:start="171:44" pos:end="171:46"><expr pos:start="171:44" pos:end="171:46"><name pos:start="171:44" pos:end="171:44">i</name><operator pos:start="171:45" pos:end="171:46">--</operator></expr></incr>)</control> <block pos:start="171:49" pos:end="179:13">{<block_content pos:start="173:17" pos:end="177:33">

                <decl_stmt pos:start="173:17" pos:end="173:61"><decl pos:start="173:17" pos:end="173:60"><type pos:start="173:17" pos:end="173:19"><name pos:start="173:17" pos:end="173:19">int</name></type> <name pos:start="173:21" pos:end="173:24">type</name> <init pos:start="173:26" pos:end="173:60">= <expr pos:start="173:28" pos:end="173:60"><name pos:start="173:28" pos:end="173:46"><name pos:start="173:28" pos:end="173:28">s</name><operator pos:start="173:29" pos:end="173:30">-&gt;</operator><name pos:start="173:31" pos:end="173:43">input_picture</name><index pos:start="173:44" pos:end="173:46">[<expr pos:start="173:45" pos:end="173:45"><name pos:start="173:45" pos:end="173:45">i</name></expr>]</index></name><operator pos:start="173:47" pos:end="173:48">-&gt;</operator><name pos:start="173:49" pos:end="173:60"><name pos:start="173:49" pos:end="173:49">f</name><operator pos:start="173:50" pos:end="173:51">-&gt;</operator><name pos:start="173:52" pos:end="173:60">pict_type</name></name></expr></init></decl>;</decl_stmt>

                <if_stmt pos:start="175:17" pos:end="177:33"><if pos:start="175:17" pos:end="177:33">if <condition pos:start="175:20" pos:end="175:54">(<expr pos:start="175:21" pos:end="175:53"><name pos:start="175:21" pos:end="175:24">type</name> <operator pos:start="175:26" pos:end="175:27">&amp;&amp;</operator> <name pos:start="175:29" pos:end="175:32">type</name> <operator pos:start="175:34" pos:end="175:35">!=</operator> <name pos:start="175:37" pos:end="175:53">AV_PICTURE_TYPE_B</name></expr>)</condition><block type="pseudo" pos:start="177:21" pos:end="177:33"><block_content pos:start="177:21" pos:end="177:33">

                    <expr_stmt pos:start="177:21" pos:end="177:33"><expr pos:start="177:21" pos:end="177:32"><name pos:start="177:21" pos:end="177:28">b_frames</name> <operator pos:start="177:30" pos:end="177:30">=</operator> <name pos:start="177:32" pos:end="177:32">i</name></expr>;</expr_stmt></block_content></block></if></if_stmt>

            </block_content>}</block></for>

            <if_stmt pos:start="181:13" pos:end="189:13"><if pos:start="181:13" pos:end="189:13">if <condition pos:start="181:16" pos:end="183:44">(<expr pos:start="181:17" pos:end="183:43"><name pos:start="181:17" pos:end="181:42"><name pos:start="181:17" pos:end="181:17">s</name><operator pos:start="181:18" pos:end="181:19">-&gt;</operator><name pos:start="181:20" pos:end="181:32">input_picture</name><index pos:start="181:33" pos:end="181:42">[<expr pos:start="181:34" pos:end="181:41"><name pos:start="181:34" pos:end="181:41">b_frames</name></expr>]</index></name><operator pos:start="181:43" pos:end="181:44">-&gt;</operator><name pos:start="181:45" pos:end="181:56"><name pos:start="181:45" pos:end="181:45">f</name><operator pos:start="181:46" pos:end="181:47">-&gt;</operator><name pos:start="181:48" pos:end="181:56">pict_type</name></name> <operator pos:start="181:58" pos:end="181:59">==</operator> <name pos:start="181:61" pos:end="181:77">AV_PICTURE_TYPE_B</name> <operator pos:start="181:79" pos:end="181:80">&amp;&amp;</operator>

                <name pos:start="183:17" pos:end="183:24">b_frames</name> <operator pos:start="183:26" pos:end="183:27">==</operator> <name pos:start="183:29" pos:end="183:43"><name pos:start="183:29" pos:end="183:29">s</name><operator pos:start="183:30" pos:end="183:31">-&gt;</operator><name pos:start="183:32" pos:end="183:43">max_b_frames</name></name></expr>)</condition> <block pos:start="183:46" pos:end="189:13">{<block_content pos:start="185:17" pos:end="187:64">

                <expr_stmt pos:start="185:17" pos:end="187:64"><expr pos:start="185:17" pos:end="187:63"><call pos:start="185:17" pos:end="187:63"><name pos:start="185:17" pos:end="185:22">av_log</name><argument_list pos:start="185:23" pos:end="187:63">(<argument pos:start="185:24" pos:end="185:31"><expr pos:start="185:24" pos:end="185:31"><name pos:start="185:24" pos:end="185:31"><name pos:start="185:24" pos:end="185:24">s</name><operator pos:start="185:25" pos:end="185:26">-&gt;</operator><name pos:start="185:27" pos:end="185:31">avctx</name></name></expr></argument>, <argument pos:start="185:34" pos:end="185:45"><expr pos:start="185:34" pos:end="185:45"><name pos:start="185:34" pos:end="185:45">AV_LOG_ERROR</name></expr></argument>,

                       <argument pos:start="187:24" pos:end="187:62"><expr pos:start="187:24" pos:end="187:62"><literal type="string" pos:start="187:24" pos:end="187:62">"warning, too many b frames in a row\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>



            <if_stmt pos:start="193:13" pos:end="211:13"><if pos:start="193:13" pos:end="211:13">if <condition pos:start="193:16" pos:end="193:67">(<expr pos:start="193:17" pos:end="193:66"><name pos:start="193:17" pos:end="193:40"><name pos:start="193:17" pos:end="193:17">s</name><operator pos:start="193:18" pos:end="193:19">-&gt;</operator><name pos:start="193:20" pos:end="193:40">picture_in_gop_number</name></name> <operator pos:start="193:42" pos:end="193:42">+</operator> <name pos:start="193:44" pos:end="193:51">b_frames</name> <operator pos:start="193:53" pos:end="193:54">&gt;=</operator> <name pos:start="193:56" pos:end="193:66"><name pos:start="193:56" pos:end="193:56">s</name><operator pos:start="193:57" pos:end="193:58">-&gt;</operator><name pos:start="193:59" pos:end="193:66">gop_size</name></name></expr>)</condition> <block pos:start="193:69" pos:end="211:13">{<block_content pos:start="195:17" pos:end="209:17">

                <if_stmt pos:start="195:17" pos:end="209:17"><if pos:start="195:17" pos:end="201:17">if <condition pos:start="195:20" pos:end="197:59">(<expr pos:start="195:21" pos:end="197:58"><operator pos:start="195:21" pos:end="195:21">(</operator><name pos:start="195:22" pos:end="195:33"><name pos:start="195:22" pos:end="195:22">s</name><operator pos:start="195:23" pos:end="195:24">-&gt;</operator><name pos:start="195:25" pos:end="195:33">mpv_flags</name></name> <operator pos:start="195:35" pos:end="195:35">&amp;</operator> <name pos:start="195:37" pos:end="195:58">FF_MPV_FLAG_STRICT_GOP</name><operator pos:start="195:59" pos:end="195:59">)</operator> <operator pos:start="195:61" pos:end="195:62">&amp;&amp;</operator>

                    <name pos:start="197:21" pos:end="197:31"><name pos:start="197:21" pos:end="197:21">s</name><operator pos:start="197:22" pos:end="197:23">-&gt;</operator><name pos:start="197:24" pos:end="197:31">gop_size</name></name> <operator pos:start="197:33" pos:end="197:33">&gt;</operator> <name pos:start="197:35" pos:end="197:58"><name pos:start="197:35" pos:end="197:35">s</name><operator pos:start="197:36" pos:end="197:37">-&gt;</operator><name pos:start="197:38" pos:end="197:58">picture_in_gop_number</name></name></expr>)</condition> <block pos:start="197:61" pos:end="201:17">{<block_content pos:start="199:21" pos:end="199:74">

                    <expr_stmt pos:start="199:21" pos:end="199:74"><expr pos:start="199:21" pos:end="199:73"><name pos:start="199:21" pos:end="199:28">b_frames</name> <operator pos:start="199:30" pos:end="199:30">=</operator> <name pos:start="199:32" pos:end="199:42"><name pos:start="199:32" pos:end="199:32">s</name><operator pos:start="199:33" pos:end="199:34">-&gt;</operator><name pos:start="199:35" pos:end="199:42">gop_size</name></name> <operator pos:start="199:44" pos:end="199:44">-</operator> <name pos:start="199:46" pos:end="199:69"><name pos:start="199:46" pos:end="199:46">s</name><operator pos:start="199:47" pos:end="199:48">-&gt;</operator><name pos:start="199:49" pos:end="199:69">picture_in_gop_number</name></name> <operator pos:start="199:71" pos:end="199:71">-</operator> <literal type="number" pos:start="199:73" pos:end="199:73">1</literal></expr>;</expr_stmt>

                </block_content>}</block></if> <else pos:start="201:19" pos:end="209:17">else <block pos:start="201:24" pos:end="209:17">{<block_content pos:start="203:21" pos:end="207:81">

                    <if_stmt pos:start="203:21" pos:end="205:37"><if pos:start="203:21" pos:end="205:37">if <condition pos:start="203:24" pos:end="203:67">(<expr pos:start="203:25" pos:end="203:66"><name pos:start="203:25" pos:end="203:39"><name pos:start="203:25" pos:end="203:25">s</name><operator pos:start="203:26" pos:end="203:27">-&gt;</operator><name pos:start="203:28" pos:end="203:32">avctx</name><operator pos:start="203:33" pos:end="203:34">-&gt;</operator><name pos:start="203:35" pos:end="203:39">flags</name></name> <operator pos:start="203:41" pos:end="203:41">&amp;</operator> <name pos:start="203:43" pos:end="203:66">AV_CODEC_FLAG_CLOSED_GOP</name></expr>)</condition><block type="pseudo" pos:start="205:25" pos:end="205:37"><block_content pos:start="205:25" pos:end="205:37">

                        <expr_stmt pos:start="205:25" pos:end="205:37"><expr pos:start="205:25" pos:end="205:36"><name pos:start="205:25" pos:end="205:32">b_frames</name> <operator pos:start="205:34" pos:end="205:34">=</operator> <literal type="number" pos:start="205:36" pos:end="205:36">0</literal></expr>;</expr_stmt></block_content></block></if></if_stmt>

                    <expr_stmt pos:start="207:21" pos:end="207:81"><expr pos:start="207:21" pos:end="207:80"><name pos:start="207:21" pos:end="207:46"><name pos:start="207:21" pos:end="207:21">s</name><operator pos:start="207:22" pos:end="207:23">-&gt;</operator><name pos:start="207:24" pos:end="207:36">input_picture</name><index pos:start="207:37" pos:end="207:46">[<expr pos:start="207:38" pos:end="207:45"><name pos:start="207:38" pos:end="207:45">b_frames</name></expr>]</index></name><operator pos:start="207:47" pos:end="207:48">-&gt;</operator><name pos:start="207:49" pos:end="207:60"><name pos:start="207:49" pos:end="207:49">f</name><operator pos:start="207:50" pos:end="207:51">-&gt;</operator><name pos:start="207:52" pos:end="207:60">pict_type</name></name> <operator pos:start="207:62" pos:end="207:62">=</operator> <name pos:start="207:64" pos:end="207:80">AV_PICTURE_TYPE_I</name></expr>;</expr_stmt>

                </block_content>}</block></else></if_stmt>

            </block_content>}</block></if></if_stmt>



            <if_stmt pos:start="215:13" pos:end="219:27"><if pos:start="215:13" pos:end="219:27">if <condition pos:start="215:16" pos:end="217:78">(<expr pos:start="215:17" pos:end="217:77"><operator pos:start="215:17" pos:end="215:17">(</operator><name pos:start="215:18" pos:end="215:32"><name pos:start="215:18" pos:end="215:18">s</name><operator pos:start="215:19" pos:end="215:20">-&gt;</operator><name pos:start="215:21" pos:end="215:25">avctx</name><operator pos:start="215:26" pos:end="215:27">-&gt;</operator><name pos:start="215:28" pos:end="215:32">flags</name></name> <operator pos:start="215:34" pos:end="215:34">&amp;</operator> <name pos:start="215:36" pos:end="215:59">AV_CODEC_FLAG_CLOSED_GOP</name><operator pos:start="215:60" pos:end="215:60">)</operator> <operator pos:start="215:62" pos:end="215:63">&amp;&amp;</operator> <name pos:start="215:65" pos:end="215:72">b_frames</name> <operator pos:start="215:74" pos:end="215:75">&amp;&amp;</operator>

                <name pos:start="217:17" pos:end="217:42"><name pos:start="217:17" pos:end="217:17">s</name><operator pos:start="217:18" pos:end="217:19">-&gt;</operator><name pos:start="217:20" pos:end="217:32">input_picture</name><index pos:start="217:33" pos:end="217:42">[<expr pos:start="217:34" pos:end="217:41"><name pos:start="217:34" pos:end="217:41">b_frames</name></expr>]</index></name><operator pos:start="217:43" pos:end="217:44">-&gt;</operator><name pos:start="217:45" pos:end="217:56"><name pos:start="217:45" pos:end="217:45">f</name><operator pos:start="217:46" pos:end="217:47">-&gt;</operator><name pos:start="217:48" pos:end="217:56">pict_type</name></name> <operator pos:start="217:58" pos:end="217:59">==</operator> <name pos:start="217:61" pos:end="217:77">AV_PICTURE_TYPE_I</name></expr>)</condition><block type="pseudo" pos:start="219:17" pos:end="219:27"><block_content pos:start="219:17" pos:end="219:27">

                <expr_stmt pos:start="219:17" pos:end="219:27"><expr pos:start="219:17" pos:end="219:26"><name pos:start="219:17" pos:end="219:24">b_frames</name><operator pos:start="219:25" pos:end="219:26">--</operator></expr>;</expr_stmt></block_content></block></if></if_stmt>



            <expr_stmt pos:start="223:13" pos:end="223:71"><expr pos:start="223:13" pos:end="223:70"><name pos:start="223:13" pos:end="223:41"><name pos:start="223:13" pos:end="223:13">s</name><operator pos:start="223:14" pos:end="223:15">-&gt;</operator><name pos:start="223:16" pos:end="223:38">reordered_input_picture</name><index pos:start="223:39" pos:end="223:41">[<expr pos:start="223:40" pos:end="223:40"><literal type="number" pos:start="223:40" pos:end="223:40">0</literal></expr>]</index></name> <operator pos:start="223:43" pos:end="223:43">=</operator> <name pos:start="223:45" pos:end="223:70"><name pos:start="223:45" pos:end="223:45">s</name><operator pos:start="223:46" pos:end="223:47">-&gt;</operator><name pos:start="223:48" pos:end="223:60">input_picture</name><index pos:start="223:61" pos:end="223:70">[<expr pos:start="223:62" pos:end="223:69"><name pos:start="223:62" pos:end="223:69">b_frames</name></expr>]</index></name></expr>;</expr_stmt>

            <if_stmt pos:start="225:13" pos:end="227:80"><if pos:start="225:13" pos:end="227:80">if <condition pos:start="225:16" pos:end="225:81">(<expr pos:start="225:17" pos:end="225:80"><name pos:start="225:17" pos:end="225:45"><name pos:start="225:17" pos:end="225:17">s</name><operator pos:start="225:18" pos:end="225:19">-&gt;</operator><name pos:start="225:20" pos:end="225:42">reordered_input_picture</name><index pos:start="225:43" pos:end="225:45">[<expr pos:start="225:44" pos:end="225:44"><literal type="number" pos:start="225:44" pos:end="225:44">0</literal></expr>]</index></name><operator pos:start="225:46" pos:end="225:47">-&gt;</operator><name pos:start="225:48" pos:end="225:59"><name pos:start="225:48" pos:end="225:48">f</name><operator pos:start="225:49" pos:end="225:50">-&gt;</operator><name pos:start="225:51" pos:end="225:59">pict_type</name></name> <operator pos:start="225:61" pos:end="225:62">!=</operator> <name pos:start="225:64" pos:end="225:80">AV_PICTURE_TYPE_I</name></expr>)</condition><block type="pseudo" pos:start="227:17" pos:end="227:80"><block_content pos:start="227:17" pos:end="227:80">

                <expr_stmt pos:start="227:17" pos:end="227:80"><expr pos:start="227:17" pos:end="227:79"><name pos:start="227:17" pos:end="227:45"><name pos:start="227:17" pos:end="227:17">s</name><operator pos:start="227:18" pos:end="227:19">-&gt;</operator><name pos:start="227:20" pos:end="227:42">reordered_input_picture</name><index pos:start="227:43" pos:end="227:45">[<expr pos:start="227:44" pos:end="227:44"><literal type="number" pos:start="227:44" pos:end="227:44">0</literal></expr>]</index></name><operator pos:start="227:46" pos:end="227:47">-&gt;</operator><name pos:start="227:48" pos:end="227:59"><name pos:start="227:48" pos:end="227:48">f</name><operator pos:start="227:49" pos:end="227:50">-&gt;</operator><name pos:start="227:51" pos:end="227:59">pict_type</name></name> <operator pos:start="227:61" pos:end="227:61">=</operator> <name pos:start="227:63" pos:end="227:79">AV_PICTURE_TYPE_P</name></expr>;</expr_stmt></block_content></block></if></if_stmt>

            <expr_stmt pos:start="229:13" pos:end="231:42"><expr pos:start="229:13" pos:end="231:41"><name pos:start="229:13" pos:end="229:41"><name pos:start="229:13" pos:end="229:13">s</name><operator pos:start="229:14" pos:end="229:15">-&gt;</operator><name pos:start="229:16" pos:end="229:38">reordered_input_picture</name><index pos:start="229:39" pos:end="229:41">[<expr pos:start="229:40" pos:end="229:40"><literal type="number" pos:start="229:40" pos:end="229:40">0</literal></expr>]</index></name><operator pos:start="229:42" pos:end="229:43">-&gt;</operator><name pos:start="229:44" pos:end="229:66"><name pos:start="229:44" pos:end="229:44">f</name><operator pos:start="229:45" pos:end="229:46">-&gt;</operator><name pos:start="229:47" pos:end="229:66">coded_picture_number</name></name> <operator pos:start="229:68" pos:end="229:68">=</operator>

                <name pos:start="231:17" pos:end="231:39"><name pos:start="231:17" pos:end="231:17">s</name><operator pos:start="231:18" pos:end="231:19">-&gt;</operator><name pos:start="231:20" pos:end="231:39">coded_picture_number</name></name><operator pos:start="231:40" pos:end="231:41">++</operator></expr>;</expr_stmt>

            <for pos:start="233:13" pos:end="245:13">for <control pos:start="233:17" pos:end="233:42">(<init pos:start="233:18" pos:end="233:23"><expr pos:start="233:18" pos:end="233:22"><name pos:start="233:18" pos:end="233:18">i</name> <operator pos:start="233:20" pos:end="233:20">=</operator> <literal type="number" pos:start="233:22" pos:end="233:22">0</literal></expr>;</init> <condition pos:start="233:25" pos:end="233:37"><expr pos:start="233:25" pos:end="233:36"><name pos:start="233:25" pos:end="233:25">i</name> <operator pos:start="233:27" pos:end="233:27">&lt;</operator> <name pos:start="233:29" pos:end="233:36">b_frames</name></expr>;</condition> <incr pos:start="233:39" pos:end="233:41"><expr pos:start="233:39" pos:end="233:41"><name pos:start="233:39" pos:end="233:39">i</name><operator pos:start="233:40" pos:end="233:41">++</operator></expr></incr>)</control> <block pos:start="233:44" pos:end="245:13">{<block_content pos:start="235:17" pos:end="243:46">

                <expr_stmt pos:start="235:17" pos:end="235:72"><expr pos:start="235:17" pos:end="235:71"><name pos:start="235:17" pos:end="235:49"><name pos:start="235:17" pos:end="235:17">s</name><operator pos:start="235:18" pos:end="235:19">-&gt;</operator><name pos:start="235:20" pos:end="235:42">reordered_input_picture</name><index pos:start="235:43" pos:end="235:49">[<expr pos:start="235:44" pos:end="235:48"><name pos:start="235:44" pos:end="235:44">i</name> <operator pos:start="235:46" pos:end="235:46">+</operator> <literal type="number" pos:start="235:48" pos:end="235:48">1</literal></expr>]</index></name> <operator pos:start="235:51" pos:end="235:51">=</operator> <name pos:start="235:53" pos:end="235:71"><name pos:start="235:53" pos:end="235:53">s</name><operator pos:start="235:54" pos:end="235:55">-&gt;</operator><name pos:start="235:56" pos:end="235:68">input_picture</name><index pos:start="235:69" pos:end="235:71">[<expr pos:start="235:70" pos:end="235:70"><name pos:start="235:70" pos:end="235:70">i</name></expr>]</index></name></expr>;</expr_stmt>

                <expr_stmt pos:start="237:17" pos:end="239:38"><expr pos:start="237:17" pos:end="239:37"><name pos:start="237:17" pos:end="237:49"><name pos:start="237:17" pos:end="237:17">s</name><operator pos:start="237:18" pos:end="237:19">-&gt;</operator><name pos:start="237:20" pos:end="237:42">reordered_input_picture</name><index pos:start="237:43" pos:end="237:49">[<expr pos:start="237:44" pos:end="237:48"><name pos:start="237:44" pos:end="237:44">i</name> <operator pos:start="237:46" pos:end="237:46">+</operator> <literal type="number" pos:start="237:48" pos:end="237:48">1</literal></expr>]</index></name><operator pos:start="237:50" pos:end="237:51">-&gt;</operator><name pos:start="237:52" pos:end="237:63"><name pos:start="237:52" pos:end="237:52">f</name><operator pos:start="237:53" pos:end="237:54">-&gt;</operator><name pos:start="237:55" pos:end="237:63">pict_type</name></name> <operator pos:start="237:65" pos:end="237:65">=</operator>

                    <name pos:start="239:21" pos:end="239:37">AV_PICTURE_TYPE_B</name></expr>;</expr_stmt>

                <expr_stmt pos:start="241:17" pos:end="243:46"><expr pos:start="241:17" pos:end="243:45"><name pos:start="241:17" pos:end="241:49"><name pos:start="241:17" pos:end="241:17">s</name><operator pos:start="241:18" pos:end="241:19">-&gt;</operator><name pos:start="241:20" pos:end="241:42">reordered_input_picture</name><index pos:start="241:43" pos:end="241:49">[<expr pos:start="241:44" pos:end="241:48"><name pos:start="241:44" pos:end="241:44">i</name> <operator pos:start="241:46" pos:end="241:46">+</operator> <literal type="number" pos:start="241:48" pos:end="241:48">1</literal></expr>]</index></name><operator pos:start="241:50" pos:end="241:51">-&gt;</operator><name pos:start="241:52" pos:end="241:74"><name pos:start="241:52" pos:end="241:52">f</name><operator pos:start="241:53" pos:end="241:54">-&gt;</operator><name pos:start="241:55" pos:end="241:74">coded_picture_number</name></name> <operator pos:start="241:76" pos:end="241:76">=</operator>

                    <name pos:start="243:21" pos:end="243:43"><name pos:start="243:21" pos:end="243:21">s</name><operator pos:start="243:22" pos:end="243:23">-&gt;</operator><name pos:start="243:24" pos:end="243:43">coded_picture_number</name></name><operator pos:start="243:44" pos:end="243:45">++</operator></expr>;</expr_stmt>

            </block_content>}</block></for>

        </block_content>}</block></else></if_stmt>

    </block_content>}</block></if></if_stmt>

<label pos:start="251:1" pos:end="251:14"><name pos:start="251:1" pos:end="251:13">no_output_pic</name>:</label>

    <expr_stmt pos:start="253:5" pos:end="253:53"><expr pos:start="253:5" pos:end="253:52"><call pos:start="253:5" pos:end="253:52"><name pos:start="253:5" pos:end="253:25">ff_mpeg_unref_picture</name><argument_list pos:start="253:26" pos:end="253:52">(<argument pos:start="253:27" pos:end="253:34"><expr pos:start="253:27" pos:end="253:34"><name pos:start="253:27" pos:end="253:34"><name pos:start="253:27" pos:end="253:27">s</name><operator pos:start="253:28" pos:end="253:29">-&gt;</operator><name pos:start="253:30" pos:end="253:34">avctx</name></name></expr></argument>, <argument pos:start="253:37" pos:end="253:51"><expr pos:start="253:37" pos:end="253:51"><operator pos:start="253:37" pos:end="253:37">&amp;</operator><name pos:start="253:38" pos:end="253:51"><name pos:start="253:38" pos:end="253:38">s</name><operator pos:start="253:39" pos:end="253:40">-&gt;</operator><name pos:start="253:41" pos:end="253:51">new_picture</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <if_stmt pos:start="257:5" pos:end="347:5"><if pos:start="257:5" pos:end="347:5">if <condition pos:start="257:8" pos:end="257:38">(<expr pos:start="257:9" pos:end="257:37"><name pos:start="257:9" pos:end="257:37"><name pos:start="257:9" pos:end="257:9">s</name><operator pos:start="257:10" pos:end="257:11">-&gt;</operator><name pos:start="257:12" pos:end="257:34">reordered_input_picture</name><index pos:start="257:35" pos:end="257:37">[<expr pos:start="257:36" pos:end="257:36"><literal type="number" pos:start="257:36" pos:end="257:36">0</literal></expr>]</index></name></expr>)</condition> <block pos:start="257:40" pos:end="347:5">{<block_content pos:start="259:9" pos:end="345:69">

        <expr_stmt pos:start="259:9" pos:end="263:41"><expr pos:start="259:9" pos:end="263:40"><name pos:start="259:9" pos:end="259:37"><name pos:start="259:9" pos:end="259:9">s</name><operator pos:start="259:10" pos:end="259:11">-&gt;</operator><name pos:start="259:12" pos:end="259:34">reordered_input_picture</name><index pos:start="259:35" pos:end="259:37">[<expr pos:start="259:36" pos:end="259:36"><literal type="number" pos:start="259:36" pos:end="259:36">0</literal></expr>]</index></name><operator pos:start="259:38" pos:end="259:39">-&gt;</operator><name pos:start="259:40" pos:end="259:48">reference</name> <operator pos:start="259:50" pos:end="259:50">=</operator>

           <ternary pos:start="261:12" pos:end="263:40"><condition pos:start="261:12" pos:end="263:34"><expr pos:start="261:12" pos:end="263:32"><name pos:start="261:12" pos:end="261:40"><name pos:start="261:12" pos:end="261:12">s</name><operator pos:start="261:13" pos:end="261:14">-&gt;</operator><name pos:start="261:15" pos:end="261:37">reordered_input_picture</name><index pos:start="261:38" pos:end="261:40">[<expr pos:start="261:39" pos:end="261:39"><literal type="number" pos:start="261:39" pos:end="261:39">0</literal></expr>]</index></name><operator pos:start="261:41" pos:end="261:42">-&gt;</operator><name pos:start="261:43" pos:end="261:54"><name pos:start="261:43" pos:end="261:43">f</name><operator pos:start="261:44" pos:end="261:45">-&gt;</operator><name pos:start="261:46" pos:end="261:54">pict_type</name></name> <operator pos:start="261:56" pos:end="261:57">!=</operator>

               <name pos:start="263:16" pos:end="263:32">AV_PICTURE_TYPE_B</name></expr> ?</condition><then pos:start="263:36" pos:end="263:36"> <expr pos:start="263:36" pos:end="263:36"><literal type="number" pos:start="263:36" pos:end="263:36">3</literal></expr> </then><else pos:start="263:38" pos:end="263:40">: <expr pos:start="263:40" pos:end="263:40"><literal type="number" pos:start="263:40" pos:end="263:40">0</literal></expr></else></ternary></expr>;</expr_stmt>



        <if_stmt pos:start="267:9" pos:end="269:23"><if pos:start="267:9" pos:end="269:23">if <condition pos:start="267:12" pos:end="267:98">(<expr pos:start="267:13" pos:end="267:97"><operator pos:start="267:13" pos:end="267:13">(</operator><name pos:start="267:14" pos:end="267:16">ret</name> <operator pos:start="267:18" pos:end="267:18">=</operator> <call pos:start="267:20" pos:end="267:96"><name pos:start="267:20" pos:end="267:38">ff_mpeg_ref_picture</name><argument_list pos:start="267:39" pos:end="267:96">(<argument pos:start="267:40" pos:end="267:47"><expr pos:start="267:40" pos:end="267:47"><name pos:start="267:40" pos:end="267:47"><name pos:start="267:40" pos:end="267:40">s</name><operator pos:start="267:41" pos:end="267:42">-&gt;</operator><name pos:start="267:43" pos:end="267:47">avctx</name></name></expr></argument>, <argument pos:start="267:50" pos:end="267:64"><expr pos:start="267:50" pos:end="267:64"><operator pos:start="267:50" pos:end="267:50">&amp;</operator><name pos:start="267:51" pos:end="267:64"><name pos:start="267:51" pos:end="267:51">s</name><operator pos:start="267:52" pos:end="267:53">-&gt;</operator><name pos:start="267:54" pos:end="267:64">new_picture</name></name></expr></argument>, <argument pos:start="267:67" pos:end="267:95"><expr pos:start="267:67" pos:end="267:95"><name pos:start="267:67" pos:end="267:95"><name pos:start="267:67" pos:end="267:67">s</name><operator pos:start="267:68" pos:end="267:69">-&gt;</operator><name pos:start="267:70" pos:end="267:92">reordered_input_picture</name><index pos:start="267:93" pos:end="267:95">[<expr pos:start="267:94" pos:end="267:94"><literal type="number" pos:start="267:94" pos:end="267:94">0</literal></expr>]</index></name></expr></argument>)</argument_list></call><operator pos:start="267:97" pos:end="267:97">)</operator></expr>)</condition><block type="pseudo" pos:start="269:13" pos:end="269:23"><block_content pos:start="269:13" pos:end="269:23">

            <return pos:start="269:13" pos:end="269:23">return <expr pos:start="269:20" pos:end="269:22"><name pos:start="269:20" pos:end="269:22">ret</name></expr>;</return></block_content></block></if></if_stmt>



        <if_stmt pos:start="273:9" pos:end="333:9"><if pos:start="273:9" pos:end="321:9">if <condition pos:start="273:12" pos:end="273:78">(<expr pos:start="273:13" pos:end="273:77"><name pos:start="273:13" pos:end="273:41"><name pos:start="273:13" pos:end="273:13">s</name><operator pos:start="273:14" pos:end="273:15">-&gt;</operator><name pos:start="273:16" pos:end="273:38">reordered_input_picture</name><index pos:start="273:39" pos:end="273:41">[<expr pos:start="273:40" pos:end="273:40"><literal type="number" pos:start="273:40" pos:end="273:40">0</literal></expr>]</index></name><operator pos:start="273:42" pos:end="273:43">-&gt;</operator><name pos:start="273:44" pos:end="273:49">shared</name> <operator pos:start="273:51" pos:end="273:52">||</operator> <name pos:start="273:54" pos:end="273:77"><name pos:start="273:54" pos:end="273:54">s</name><operator pos:start="273:55" pos:end="273:56">-&gt;</operator><name pos:start="273:57" pos:end="273:61">avctx</name><operator pos:start="273:62" pos:end="273:63">-&gt;</operator><name pos:start="273:64" pos:end="273:77">rc_buffer_size</name></name></expr>)</condition> <block pos:start="273:80" pos:end="321:9">{<block_content pos:start="281:13" pos:end="319:41">

            <comment type="line" pos:start="275:13" pos:end="275:75">// input is a shared pix, so we can't modifiy it -&gt; alloc a new</comment>

            <comment type="line" pos:start="277:13" pos:end="277:60">// one &amp; ensure that the shared one is reuseable</comment>



            <decl_stmt pos:start="281:13" pos:end="281:25"><decl pos:start="281:13" pos:end="281:24"><type pos:start="281:13" pos:end="281:21"><name pos:start="281:13" pos:end="281:19">Picture</name> <modifier pos:start="281:21" pos:end="281:21">*</modifier></type><name pos:start="281:22" pos:end="281:24">pic</name></decl>;</decl_stmt>

            <decl_stmt pos:start="283:13" pos:end="283:68"><decl pos:start="283:13" pos:end="283:67"><type pos:start="283:13" pos:end="283:15"><name pos:start="283:13" pos:end="283:15">int</name></type> <name pos:start="283:17" pos:end="283:17">i</name> <init pos:start="283:19" pos:end="283:67">= <expr pos:start="283:21" pos:end="283:67"><call pos:start="283:21" pos:end="283:67"><name pos:start="283:21" pos:end="283:42">ff_find_unused_picture</name><argument_list pos:start="283:43" pos:end="283:67">(<argument pos:start="283:44" pos:end="283:51"><expr pos:start="283:44" pos:end="283:51"><name pos:start="283:44" pos:end="283:51"><name pos:start="283:44" pos:end="283:44">s</name><operator pos:start="283:45" pos:end="283:46">-&gt;</operator><name pos:start="283:47" pos:end="283:51">avctx</name></name></expr></argument>, <argument pos:start="283:54" pos:end="283:63"><expr pos:start="283:54" pos:end="283:63"><name pos:start="283:54" pos:end="283:63"><name pos:start="283:54" pos:end="283:54">s</name><operator pos:start="283:55" pos:end="283:56">-&gt;</operator><name pos:start="283:57" pos:end="283:63">picture</name></name></expr></argument>, <argument pos:start="283:66" pos:end="283:66"><expr pos:start="283:66" pos:end="283:66"><literal type="number" pos:start="283:66" pos:end="283:66">0</literal></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

            <if_stmt pos:start="285:13" pos:end="287:25"><if pos:start="285:13" pos:end="287:25">if <condition pos:start="285:16" pos:end="285:22">(<expr pos:start="285:17" pos:end="285:21"><name pos:start="285:17" pos:end="285:17">i</name> <operator pos:start="285:19" pos:end="285:19">&lt;</operator> <literal type="number" pos:start="285:21" pos:end="285:21">0</literal></expr>)</condition><block type="pseudo" pos:start="287:17" pos:end="287:25"><block_content pos:start="287:17" pos:end="287:25">

                <return pos:start="287:17" pos:end="287:25">return <expr pos:start="287:24" pos:end="287:24"><name pos:start="287:24" pos:end="287:24">i</name></expr>;</return></block_content></block></if></if_stmt>

            <expr_stmt pos:start="289:13" pos:end="289:33"><expr pos:start="289:13" pos:end="289:32"><name pos:start="289:13" pos:end="289:15">pic</name> <operator pos:start="289:17" pos:end="289:17">=</operator> <operator pos:start="289:19" pos:end="289:19">&amp;</operator><name pos:start="289:20" pos:end="289:32"><name pos:start="289:20" pos:end="289:20">s</name><operator pos:start="289:21" pos:end="289:22">-&gt;</operator><name pos:start="289:23" pos:end="289:29">picture</name><index pos:start="289:30" pos:end="289:32">[<expr pos:start="289:31" pos:end="289:31"><name pos:start="289:31" pos:end="289:31">i</name></expr>]</index></name></expr>;</expr_stmt>



            <expr_stmt pos:start="293:13" pos:end="293:70"><expr pos:start="293:13" pos:end="293:69"><name pos:start="293:13" pos:end="293:26"><name pos:start="293:13" pos:end="293:15">pic</name><operator pos:start="293:16" pos:end="293:17">-&gt;</operator><name pos:start="293:18" pos:end="293:26">reference</name></name> <operator pos:start="293:28" pos:end="293:28">=</operator> <name pos:start="293:30" pos:end="293:58"><name pos:start="293:30" pos:end="293:30">s</name><operator pos:start="293:31" pos:end="293:32">-&gt;</operator><name pos:start="293:33" pos:end="293:55">reordered_input_picture</name><index pos:start="293:56" pos:end="293:58">[<expr pos:start="293:57" pos:end="293:57"><literal type="number" pos:start="293:57" pos:end="293:57">0</literal></expr>]</index></name><operator pos:start="293:59" pos:end="293:60">-&gt;</operator><name pos:start="293:61" pos:end="293:69">reference</name></expr>;</expr_stmt>

            <if_stmt pos:start="295:13" pos:end="299:13"><if pos:start="295:13" pos:end="299:13">if <condition pos:start="295:16" pos:end="295:45">(<expr pos:start="295:17" pos:end="295:44"><call pos:start="295:17" pos:end="295:40"><name pos:start="295:17" pos:end="295:29">alloc_picture</name><argument_list pos:start="295:30" pos:end="295:40">(<argument pos:start="295:31" pos:end="295:31"><expr pos:start="295:31" pos:end="295:31"><name pos:start="295:31" pos:end="295:31">s</name></expr></argument>, <argument pos:start="295:34" pos:end="295:36"><expr pos:start="295:34" pos:end="295:36"><name pos:start="295:34" pos:end="295:36">pic</name></expr></argument>, <argument pos:start="295:39" pos:end="295:39"><expr pos:start="295:39" pos:end="295:39"><literal type="number" pos:start="295:39" pos:end="295:39">0</literal></expr></argument>)</argument_list></call> <operator pos:start="295:42" pos:end="295:42">&lt;</operator> <literal type="number" pos:start="295:44" pos:end="295:44">0</literal></expr>)</condition> <block pos:start="295:47" pos:end="299:13">{<block_content pos:start="297:17" pos:end="297:26">

                <return pos:start="297:17" pos:end="297:26">return <expr pos:start="297:24" pos:end="297:25"><operator pos:start="297:24" pos:end="297:24">-</operator><literal type="number" pos:start="297:25" pos:end="297:25">1</literal></expr>;</return>

            </block_content>}</block></if></if_stmt>



            <expr_stmt pos:start="303:13" pos:end="303:80"><expr pos:start="303:13" pos:end="303:79"><name pos:start="303:13" pos:end="303:15">ret</name> <operator pos:start="303:17" pos:end="303:17">=</operator> <call pos:start="303:19" pos:end="303:79"><name pos:start="303:19" pos:end="303:37">av_frame_copy_props</name><argument_list pos:start="303:38" pos:end="303:79">(<argument pos:start="303:39" pos:end="303:44"><expr pos:start="303:39" pos:end="303:44"><name pos:start="303:39" pos:end="303:44"><name pos:start="303:39" pos:end="303:41">pic</name><operator pos:start="303:42" pos:end="303:43">-&gt;</operator><name pos:start="303:44" pos:end="303:44">f</name></name></expr></argument>, <argument pos:start="303:47" pos:end="303:78"><expr pos:start="303:47" pos:end="303:78"><name pos:start="303:47" pos:end="303:75"><name pos:start="303:47" pos:end="303:47">s</name><operator pos:start="303:48" pos:end="303:49">-&gt;</operator><name pos:start="303:50" pos:end="303:72">reordered_input_picture</name><index pos:start="303:73" pos:end="303:75">[<expr pos:start="303:74" pos:end="303:74"><literal type="number" pos:start="303:74" pos:end="303:74">0</literal></expr>]</index></name><operator pos:start="303:76" pos:end="303:77">-&gt;</operator><name pos:start="303:78" pos:end="303:78">f</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <if_stmt pos:start="305:13" pos:end="307:27"><if pos:start="305:13" pos:end="307:27">if <condition pos:start="305:16" pos:end="305:24">(<expr pos:start="305:17" pos:end="305:23"><name pos:start="305:17" pos:end="305:19">ret</name> <operator pos:start="305:21" pos:end="305:21">&lt;</operator> <literal type="number" pos:start="305:23" pos:end="305:23">0</literal></expr>)</condition><block type="pseudo" pos:start="307:17" pos:end="307:27"><block_content pos:start="307:17" pos:end="307:27">

                <return pos:start="307:17" pos:end="307:27">return <expr pos:start="307:24" pos:end="307:26"><name pos:start="307:24" pos:end="307:26">ret</name></expr>;</return></block_content></block></if></if_stmt>



            <comment type="block" pos:start="311:13" pos:end="311:50">/* mark us unused / free shared pic */</comment>

            <expr_stmt pos:start="313:13" pos:end="313:61"><expr pos:start="313:13" pos:end="313:60"><call pos:start="313:13" pos:end="313:60"><name pos:start="313:13" pos:end="313:26">av_frame_unref</name><argument_list pos:start="313:27" pos:end="313:60">(<argument pos:start="313:28" pos:end="313:59"><expr pos:start="313:28" pos:end="313:59"><name pos:start="313:28" pos:end="313:56"><name pos:start="313:28" pos:end="313:28">s</name><operator pos:start="313:29" pos:end="313:30">-&gt;</operator><name pos:start="313:31" pos:end="313:53">reordered_input_picture</name><index pos:start="313:54" pos:end="313:56">[<expr pos:start="313:55" pos:end="313:55"><literal type="number" pos:start="313:55" pos:end="313:55">0</literal></expr>]</index></name><operator pos:start="313:57" pos:end="313:58">-&gt;</operator><name pos:start="313:59" pos:end="313:59">f</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="315:13" pos:end="315:54"><expr pos:start="315:13" pos:end="315:53"><name pos:start="315:13" pos:end="315:41"><name pos:start="315:13" pos:end="315:13">s</name><operator pos:start="315:14" pos:end="315:15">-&gt;</operator><name pos:start="315:16" pos:end="315:38">reordered_input_picture</name><index pos:start="315:39" pos:end="315:41">[<expr pos:start="315:40" pos:end="315:40"><literal type="number" pos:start="315:40" pos:end="315:40">0</literal></expr>]</index></name><operator pos:start="315:42" pos:end="315:43">-&gt;</operator><name pos:start="315:44" pos:end="315:49">shared</name> <operator pos:start="315:51" pos:end="315:51">=</operator> <literal type="number" pos:start="315:53" pos:end="315:53">0</literal></expr>;</expr_stmt>



            <expr_stmt pos:start="319:13" pos:end="319:41"><expr pos:start="319:13" pos:end="319:40"><name pos:start="319:13" pos:end="319:34"><name pos:start="319:13" pos:end="319:13">s</name><operator pos:start="319:14" pos:end="319:15">-&gt;</operator><name pos:start="319:16" pos:end="319:34">current_picture_ptr</name></name> <operator pos:start="319:36" pos:end="319:36">=</operator> <name pos:start="319:38" pos:end="319:40">pic</name></expr>;</expr_stmt>

        </block_content>}</block></if> <else pos:start="321:11" pos:end="333:9">else <block pos:start="321:16" pos:end="333:9">{<block_content pos:start="325:13" pos:end="331:13">

            <comment type="line" pos:start="323:13" pos:end="323:72">// input is not a shared pix -&gt; reuse buffer for current_pix</comment>

            <expr_stmt pos:start="325:13" pos:end="325:67"><expr pos:start="325:13" pos:end="325:66"><name pos:start="325:13" pos:end="325:34"><name pos:start="325:13" pos:end="325:13">s</name><operator pos:start="325:14" pos:end="325:15">-&gt;</operator><name pos:start="325:16" pos:end="325:34">current_picture_ptr</name></name> <operator pos:start="325:36" pos:end="325:36">=</operator> <name pos:start="325:38" pos:end="325:66"><name pos:start="325:38" pos:end="325:38">s</name><operator pos:start="325:39" pos:end="325:40">-&gt;</operator><name pos:start="325:41" pos:end="325:63">reordered_input_picture</name><index pos:start="325:64" pos:end="325:66">[<expr pos:start="325:65" pos:end="325:65"><literal type="number" pos:start="325:65" pos:end="325:65">0</literal></expr>]</index></name></expr>;</expr_stmt>

            <for pos:start="327:13" pos:end="331:13">for <control pos:start="327:17" pos:end="327:35">(<init pos:start="327:18" pos:end="327:23"><expr pos:start="327:18" pos:end="327:22"><name pos:start="327:18" pos:end="327:18">i</name> <operator pos:start="327:20" pos:end="327:20">=</operator> <literal type="number" pos:start="327:22" pos:end="327:22">0</literal></expr>;</init> <condition pos:start="327:25" pos:end="327:30"><expr pos:start="327:25" pos:end="327:29"><name pos:start="327:25" pos:end="327:25">i</name> <operator pos:start="327:27" pos:end="327:27">&lt;</operator> <literal type="number" pos:start="327:29" pos:end="327:29">4</literal></expr>;</condition> <incr pos:start="327:32" pos:end="327:34"><expr pos:start="327:32" pos:end="327:34"><name pos:start="327:32" pos:end="327:32">i</name><operator pos:start="327:33" pos:end="327:34">++</operator></expr></incr>)</control> <block pos:start="327:37" pos:end="331:13">{<block_content pos:start="329:17" pos:end="329:60">

                <expr_stmt pos:start="329:17" pos:end="329:60"><expr pos:start="329:17" pos:end="329:59"><name pos:start="329:17" pos:end="329:41"><name pos:start="329:17" pos:end="329:17">s</name><operator pos:start="329:18" pos:end="329:19">-&gt;</operator><name pos:start="329:20" pos:end="329:30">new_picture</name><operator pos:start="329:31" pos:end="329:31">.</operator><name pos:start="329:32" pos:end="329:32">f</name><operator pos:start="329:33" pos:end="329:34">-&gt;</operator><name pos:start="329:35" pos:end="329:38">data</name><index pos:start="329:39" pos:end="329:41">[<expr pos:start="329:40" pos:end="329:40"><name pos:start="329:40" pos:end="329:40">i</name></expr>]</index></name> <operator pos:start="329:43" pos:end="329:44">+=</operator> <name pos:start="329:46" pos:end="329:59">INPLACE_OFFSET</name></expr>;</expr_stmt>

            </block_content>}</block></for>

        </block_content>}</block></else></if_stmt>

        <expr_stmt pos:start="335:9" pos:end="335:61"><expr pos:start="335:9" pos:end="335:60"><call pos:start="335:9" pos:end="335:60"><name pos:start="335:9" pos:end="335:29">ff_mpeg_unref_picture</name><argument_list pos:start="335:30" pos:end="335:60">(<argument pos:start="335:31" pos:end="335:38"><expr pos:start="335:31" pos:end="335:38"><name pos:start="335:31" pos:end="335:38"><name pos:start="335:31" pos:end="335:31">s</name><operator pos:start="335:32" pos:end="335:33">-&gt;</operator><name pos:start="335:34" pos:end="335:38">avctx</name></name></expr></argument>, <argument pos:start="335:41" pos:end="335:59"><expr pos:start="335:41" pos:end="335:59"><operator pos:start="335:41" pos:end="335:41">&amp;</operator><name pos:start="335:42" pos:end="335:59"><name pos:start="335:42" pos:end="335:42">s</name><operator pos:start="335:43" pos:end="335:44">-&gt;</operator><name pos:start="335:45" pos:end="335:59">current_picture</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="337:9" pos:end="341:23"><if pos:start="337:9" pos:end="341:23">if <condition pos:start="337:12" pos:end="339:68">(<expr pos:start="337:13" pos:end="339:67"><operator pos:start="337:13" pos:end="337:13">(</operator><name pos:start="337:14" pos:end="337:16">ret</name> <operator pos:start="337:18" pos:end="337:18">=</operator> <call pos:start="337:20" pos:end="339:62"><name pos:start="337:20" pos:end="337:38">ff_mpeg_ref_picture</name><argument_list pos:start="337:39" pos:end="339:62">(<argument pos:start="337:40" pos:end="337:47"><expr pos:start="337:40" pos:end="337:47"><name pos:start="337:40" pos:end="337:47"><name pos:start="337:40" pos:end="337:40">s</name><operator pos:start="337:41" pos:end="337:42">-&gt;</operator><name pos:start="337:43" pos:end="337:47">avctx</name></name></expr></argument>, <argument pos:start="337:50" pos:end="337:68"><expr pos:start="337:50" pos:end="337:68"><operator pos:start="337:50" pos:end="337:50">&amp;</operator><name pos:start="337:51" pos:end="337:68"><name pos:start="337:51" pos:end="337:51">s</name><operator pos:start="337:52" pos:end="337:53">-&gt;</operator><name pos:start="337:54" pos:end="337:68">current_picture</name></name></expr></argument>,

                                       <argument pos:start="339:40" pos:end="339:61"><expr pos:start="339:40" pos:end="339:61"><name pos:start="339:40" pos:end="339:61"><name pos:start="339:40" pos:end="339:40">s</name><operator pos:start="339:41" pos:end="339:42">-&gt;</operator><name pos:start="339:43" pos:end="339:61">current_picture_ptr</name></name></expr></argument>)</argument_list></call><operator pos:start="339:63" pos:end="339:63">)</operator> <operator pos:start="339:65" pos:end="339:65">&lt;</operator> <literal type="number" pos:start="339:67" pos:end="339:67">0</literal></expr>)</condition><block type="pseudo" pos:start="341:13" pos:end="341:23"><block_content pos:start="341:13" pos:end="341:23">

            <return pos:start="341:13" pos:end="341:23">return <expr pos:start="341:20" pos:end="341:22"><name pos:start="341:20" pos:end="341:22">ret</name></expr>;</return></block_content></block></if></if_stmt>



        <expr_stmt pos:start="345:9" pos:end="345:69"><expr pos:start="345:9" pos:end="345:68"><name pos:start="345:9" pos:end="345:25"><name pos:start="345:9" pos:end="345:9">s</name><operator pos:start="345:10" pos:end="345:11">-&gt;</operator><name pos:start="345:12" pos:end="345:25">picture_number</name></name> <operator pos:start="345:27" pos:end="345:27">=</operator> <name pos:start="345:29" pos:end="345:68"><name pos:start="345:29" pos:end="345:29">s</name><operator pos:start="345:30" pos:end="345:31">-&gt;</operator><name pos:start="345:32" pos:end="345:42">new_picture</name><operator pos:start="345:43" pos:end="345:43">.</operator><name pos:start="345:44" pos:end="345:44">f</name><operator pos:start="345:45" pos:end="345:46">-&gt;</operator><name pos:start="345:47" pos:end="345:68">display_picture_number</name></name></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    <return pos:start="349:5" pos:end="349:13">return <expr pos:start="349:12" pos:end="349:12"><literal type="number" pos:start="349:12" pos:end="349:12">0</literal></expr>;</return>

</block_content>}</block></function>
</unit>
