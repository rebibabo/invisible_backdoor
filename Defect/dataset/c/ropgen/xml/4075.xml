<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/4075.c" pos:tabs="8"><function pos:start="1:1" pos:end="77:1"><type pos:start="1:1" pos:end="1:4"><name pos:start="1:1" pos:end="1:4">void</name></type> <name pos:start="1:6" pos:end="1:30">ff_compute_frame_duration</name><parameter_list pos:start="1:31" pos:end="3:71">(<parameter pos:start="1:32" pos:end="1:40"><decl pos:start="1:32" pos:end="1:40"><type pos:start="1:32" pos:end="1:40"><name pos:start="1:32" pos:end="1:34">int</name> <modifier pos:start="1:36" pos:end="1:36">*</modifier></type><name pos:start="1:37" pos:end="1:40">pnum</name></decl></parameter>, <parameter pos:start="1:43" pos:end="1:51"><decl pos:start="1:43" pos:end="1:51"><type pos:start="1:43" pos:end="1:51"><name pos:start="1:43" pos:end="1:45">int</name> <modifier pos:start="1:47" pos:end="1:47">*</modifier></type><name pos:start="1:48" pos:end="1:51">pden</name></decl></parameter>, <parameter pos:start="1:54" pos:end="1:65"><decl pos:start="1:54" pos:end="1:65"><type pos:start="1:54" pos:end="1:65"><name pos:start="1:54" pos:end="1:61">AVStream</name> <modifier pos:start="1:63" pos:end="1:63">*</modifier></type><name pos:start="1:64" pos:end="1:65">st</name></decl></parameter>,

                               <parameter pos:start="3:32" pos:end="3:55"><decl pos:start="3:32" pos:end="3:55"><type pos:start="3:32" pos:end="3:55"><name pos:start="3:32" pos:end="3:51">AVCodecParserContext</name> <modifier pos:start="3:53" pos:end="3:53">*</modifier></type><name pos:start="3:54" pos:end="3:55">pc</name></decl></parameter>, <parameter pos:start="3:58" pos:end="3:70"><decl pos:start="3:58" pos:end="3:70"><type pos:start="3:58" pos:end="3:70"><name pos:start="3:58" pos:end="3:65">AVPacket</name> <modifier pos:start="3:67" pos:end="3:67">*</modifier></type><name pos:start="3:68" pos:end="3:70">pkt</name></decl></parameter>)</parameter_list>

<block pos:start="5:1" pos:end="77:1">{<block_content pos:start="7:5" pos:end="75:5">

    <decl_stmt pos:start="7:5" pos:end="7:19"><decl pos:start="7:5" pos:end="7:18"><type pos:start="7:5" pos:end="7:7"><name pos:start="7:5" pos:end="7:7">int</name></type> <name pos:start="7:9" pos:end="7:18">frame_size</name></decl>;</decl_stmt>



    <expr_stmt pos:start="11:5" pos:end="11:14"><expr pos:start="11:5" pos:end="11:13"><operator pos:start="11:5" pos:end="11:5">*</operator><name pos:start="11:6" pos:end="11:9">pnum</name> <operator pos:start="11:11" pos:end="11:11">=</operator> <literal type="number" pos:start="11:13" pos:end="11:13">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="13:5" pos:end="13:14"><expr pos:start="13:5" pos:end="13:13"><operator pos:start="13:5" pos:end="13:5">*</operator><name pos:start="13:6" pos:end="13:9">pden</name> <operator pos:start="13:11" pos:end="13:11">=</operator> <literal type="number" pos:start="13:13" pos:end="13:13">0</literal></expr>;</expr_stmt>

    <switch pos:start="15:5" pos:end="75:5">switch<condition pos:start="15:11" pos:end="15:33">(<expr pos:start="15:12" pos:end="15:32"><name pos:start="15:12" pos:end="15:32"><name pos:start="15:12" pos:end="15:13">st</name><operator pos:start="15:14" pos:end="15:15">-&gt;</operator><name pos:start="15:16" pos:end="15:20">codec</name><operator pos:start="15:21" pos:end="15:22">-&gt;</operator><name pos:start="15:23" pos:end="15:32">codec_type</name></name></expr>)</condition> <block pos:start="15:35" pos:end="75:5">{<block_content pos:start="17:5" pos:end="73:14">

    <case pos:start="17:5" pos:end="17:28">case <expr pos:start="17:10" pos:end="17:27"><name pos:start="17:10" pos:end="17:27">AVMEDIA_TYPE_VIDEO</name></expr>:</case>

        <if_stmt pos:start="19:9" pos:end="53:9"><if pos:start="19:9" pos:end="25:9">if <condition pos:start="19:12" pos:end="19:35">(<expr pos:start="19:13" pos:end="19:34"><name pos:start="19:13" pos:end="19:34"><name pos:start="19:13" pos:end="19:14">st</name><operator pos:start="19:15" pos:end="19:16">-&gt;</operator><name pos:start="19:17" pos:end="19:30">avg_frame_rate</name><operator pos:start="19:31" pos:end="19:31">.</operator><name pos:start="19:32" pos:end="19:34">num</name></name></expr>)</condition> <block pos:start="19:37" pos:end="25:9">{<block_content pos:start="21:13" pos:end="23:43">

            <expr_stmt pos:start="21:13" pos:end="21:43"><expr pos:start="21:13" pos:end="21:42"><operator pos:start="21:13" pos:end="21:13">*</operator><name pos:start="21:14" pos:end="21:17">pnum</name> <operator pos:start="21:19" pos:end="21:19">=</operator> <name pos:start="21:21" pos:end="21:42"><name pos:start="21:21" pos:end="21:22">st</name><operator pos:start="21:23" pos:end="21:24">-&gt;</operator><name pos:start="21:25" pos:end="21:38">avg_frame_rate</name><operator pos:start="21:39" pos:end="21:39">.</operator><name pos:start="21:40" pos:end="21:42">den</name></name></expr>;</expr_stmt>

            <expr_stmt pos:start="23:13" pos:end="23:43"><expr pos:start="23:13" pos:end="23:42"><operator pos:start="23:13" pos:end="23:13">*</operator><name pos:start="23:14" pos:end="23:17">pden</name> <operator pos:start="23:19" pos:end="23:19">=</operator> <name pos:start="23:21" pos:end="23:42"><name pos:start="23:21" pos:end="23:22">st</name><operator pos:start="23:23" pos:end="23:24">-&gt;</operator><name pos:start="23:25" pos:end="23:38">avg_frame_rate</name><operator pos:start="23:39" pos:end="23:39">.</operator><name pos:start="23:40" pos:end="23:42">num</name></name></expr>;</expr_stmt>

        </block_content>}</block></if> <if type="elseif" pos:start="25:11" pos:end="31:9">else if<condition pos:start="25:18" pos:end="25:63">(<expr pos:start="25:19" pos:end="25:62"><name pos:start="25:19" pos:end="25:35"><name pos:start="25:19" pos:end="25:20">st</name><operator pos:start="25:21" pos:end="25:22">-&gt;</operator><name pos:start="25:23" pos:end="25:31">time_base</name><operator pos:start="25:32" pos:end="25:32">.</operator><name pos:start="25:33" pos:end="25:35">num</name></name><operator pos:start="25:36" pos:end="25:36">*</operator><literal type="number" pos:start="25:37" pos:end="25:42">1000LL</literal> <operator pos:start="25:44" pos:end="25:44">&gt;</operator> <name pos:start="25:46" pos:end="25:62"><name pos:start="25:46" pos:end="25:47">st</name><operator pos:start="25:48" pos:end="25:49">-&gt;</operator><name pos:start="25:50" pos:end="25:58">time_base</name><operator pos:start="25:59" pos:end="25:59">.</operator><name pos:start="25:60" pos:end="25:62">den</name></name></expr>)</condition> <block pos:start="25:65" pos:end="31:9">{<block_content pos:start="27:13" pos:end="29:38">

            <expr_stmt pos:start="27:13" pos:end="27:38"><expr pos:start="27:13" pos:end="27:37"><operator pos:start="27:13" pos:end="27:13">*</operator><name pos:start="27:14" pos:end="27:17">pnum</name> <operator pos:start="27:19" pos:end="27:19">=</operator> <name pos:start="27:21" pos:end="27:37"><name pos:start="27:21" pos:end="27:22">st</name><operator pos:start="27:23" pos:end="27:24">-&gt;</operator><name pos:start="27:25" pos:end="27:33">time_base</name><operator pos:start="27:34" pos:end="27:34">.</operator><name pos:start="27:35" pos:end="27:37">num</name></name></expr>;</expr_stmt>

            <expr_stmt pos:start="29:13" pos:end="29:38"><expr pos:start="29:13" pos:end="29:37"><operator pos:start="29:13" pos:end="29:13">*</operator><name pos:start="29:14" pos:end="29:17">pden</name> <operator pos:start="29:19" pos:end="29:19">=</operator> <name pos:start="29:21" pos:end="29:37"><name pos:start="29:21" pos:end="29:22">st</name><operator pos:start="29:23" pos:end="29:24">-&gt;</operator><name pos:start="29:25" pos:end="29:33">time_base</name><operator pos:start="29:34" pos:end="29:34">.</operator><name pos:start="29:35" pos:end="29:37">den</name></name></expr>;</expr_stmt>

        </block_content>}</block></if><if type="elseif" pos:start="31:10" pos:end="53:9">else if<condition pos:start="31:17" pos:end="31:76">(<expr pos:start="31:18" pos:end="31:75"><name pos:start="31:18" pos:end="31:41"><name pos:start="31:18" pos:end="31:19">st</name><operator pos:start="31:20" pos:end="31:21">-&gt;</operator><name pos:start="31:22" pos:end="31:26">codec</name><operator pos:start="31:27" pos:end="31:28">-&gt;</operator><name pos:start="31:29" pos:end="31:37">time_base</name><operator pos:start="31:38" pos:end="31:38">.</operator><name pos:start="31:39" pos:end="31:41">num</name></name><operator pos:start="31:42" pos:end="31:42">*</operator><literal type="number" pos:start="31:43" pos:end="31:48">1000LL</literal> <operator pos:start="31:50" pos:end="31:50">&gt;</operator> <name pos:start="31:52" pos:end="31:75"><name pos:start="31:52" pos:end="31:53">st</name><operator pos:start="31:54" pos:end="31:55">-&gt;</operator><name pos:start="31:56" pos:end="31:60">codec</name><operator pos:start="31:61" pos:end="31:62">-&gt;</operator><name pos:start="31:63" pos:end="31:71">time_base</name><operator pos:start="31:72" pos:end="31:72">.</operator><name pos:start="31:73" pos:end="31:75">den</name></name></expr>)</condition><block pos:start="31:77" pos:end="53:9">{<block_content pos:start="33:13" pos:end="51:13">

            <expr_stmt pos:start="33:13" pos:end="33:45"><expr pos:start="33:13" pos:end="33:44"><operator pos:start="33:13" pos:end="33:13">*</operator><name pos:start="33:14" pos:end="33:17">pnum</name> <operator pos:start="33:19" pos:end="33:19">=</operator> <name pos:start="33:21" pos:end="33:44"><name pos:start="33:21" pos:end="33:22">st</name><operator pos:start="33:23" pos:end="33:24">-&gt;</operator><name pos:start="33:25" pos:end="33:29">codec</name><operator pos:start="33:30" pos:end="33:31">-&gt;</operator><name pos:start="33:32" pos:end="33:40">time_base</name><operator pos:start="33:41" pos:end="33:41">.</operator><name pos:start="33:42" pos:end="33:44">num</name></name></expr>;</expr_stmt>

            <expr_stmt pos:start="35:13" pos:end="35:45"><expr pos:start="35:13" pos:end="35:44"><operator pos:start="35:13" pos:end="35:13">*</operator><name pos:start="35:14" pos:end="35:17">pden</name> <operator pos:start="35:19" pos:end="35:19">=</operator> <name pos:start="35:21" pos:end="35:44"><name pos:start="35:21" pos:end="35:22">st</name><operator pos:start="35:23" pos:end="35:24">-&gt;</operator><name pos:start="35:25" pos:end="35:29">codec</name><operator pos:start="35:30" pos:end="35:31">-&gt;</operator><name pos:start="35:32" pos:end="35:40">time_base</name><operator pos:start="35:41" pos:end="35:41">.</operator><name pos:start="35:42" pos:end="35:44">den</name></name></expr>;</expr_stmt>

            <if_stmt pos:start="37:13" pos:end="41:13"><if pos:start="37:13" pos:end="41:13">if <condition pos:start="37:16" pos:end="37:38">(<expr pos:start="37:17" pos:end="37:37"><name pos:start="37:17" pos:end="37:18">pc</name> <operator pos:start="37:20" pos:end="37:21">&amp;&amp;</operator> <name pos:start="37:23" pos:end="37:37"><name pos:start="37:23" pos:end="37:24">pc</name><operator pos:start="37:25" pos:end="37:26">-&gt;</operator><name pos:start="37:27" pos:end="37:37">repeat_pict</name></name></expr>)</condition> <block pos:start="37:40" pos:end="41:13">{<block_content pos:start="39:17" pos:end="39:56">

                <expr_stmt pos:start="39:17" pos:end="39:56"><expr pos:start="39:17" pos:end="39:55"><operator pos:start="39:17" pos:end="39:17">*</operator><name pos:start="39:18" pos:end="39:21">pnum</name> <operator pos:start="39:23" pos:end="39:23">=</operator> <operator pos:start="39:25" pos:end="39:25">(</operator><operator pos:start="39:26" pos:end="39:26">*</operator><name pos:start="39:27" pos:end="39:30">pnum</name><operator pos:start="39:31" pos:end="39:31">)</operator> <operator pos:start="39:33" pos:end="39:33">*</operator> <operator pos:start="39:35" pos:end="39:35">(</operator><literal type="number" pos:start="39:36" pos:end="39:38">1</literal> <operator pos:start="39:38" pos:end="39:38">+</operator> <name pos:start="39:40" pos:end="39:54"><name pos:start="39:40" pos:end="39:41">pc</name><operator pos:start="39:42" pos:end="39:43">-&gt;</operator><name pos:start="39:44" pos:end="39:54">repeat_pict</name></name><operator pos:start="39:55" pos:end="39:55">)</operator></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>

            <comment type="line" pos:start="43:13" pos:end="43:114">//If this codec can be interlaced or progressive then we need a parser to compute duration of a packet</comment>

            <comment type="line" pos:start="45:13" pos:end="45:78">//Thus if we have no parser in such case leave duration undefined.</comment>

            <if_stmt pos:start="47:13" pos:end="51:13"><if pos:start="47:13" pos:end="51:13">if<condition pos:start="47:15" pos:end="47:51">(<expr pos:start="47:16" pos:end="47:50"><name pos:start="47:16" pos:end="47:41"><name pos:start="47:16" pos:end="47:17">st</name><operator pos:start="47:18" pos:end="47:19">-&gt;</operator><name pos:start="47:20" pos:end="47:24">codec</name><operator pos:start="47:25" pos:end="47:26">-&gt;</operator><name pos:start="47:27" pos:end="47:41">ticks_per_frame</name></name><operator pos:start="47:42" pos:end="47:42">&gt;</operator><literal type="number" pos:start="47:43" pos:end="47:43">1</literal> <operator pos:start="47:45" pos:end="47:46">&amp;&amp;</operator> <operator pos:start="47:48" pos:end="47:48">!</operator><name pos:start="47:49" pos:end="47:50">pc</name></expr>)</condition><block pos:start="47:52" pos:end="51:13">{<block_content pos:start="49:17" pos:end="49:34">

                <expr_stmt pos:start="49:17" pos:end="49:34"><expr pos:start="49:17" pos:end="49:33"><operator pos:start="49:17" pos:end="49:17">*</operator><name pos:start="49:18" pos:end="49:21">pnum</name> <operator pos:start="49:23" pos:end="49:23">=</operator> <operator pos:start="49:25" pos:end="49:25">*</operator><name pos:start="49:26" pos:end="49:29">pden</name> <operator pos:start="49:31" pos:end="49:31">=</operator> <literal type="number" pos:start="49:33" pos:end="49:33">0</literal></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>

        </block_content>}</block></if></if_stmt>

        <break pos:start="55:9" pos:end="55:14">break;</break>

    <case pos:start="57:5" pos:end="57:28">case <expr pos:start="57:10" pos:end="57:27"><name pos:start="57:10" pos:end="57:27">AVMEDIA_TYPE_AUDIO</name></expr>:</case>

        <expr_stmt pos:start="59:9" pos:end="59:70"><expr pos:start="59:9" pos:end="59:69"><name pos:start="59:9" pos:end="59:18">frame_size</name> <operator pos:start="59:20" pos:end="59:20">=</operator> <call pos:start="59:22" pos:end="59:69"><name pos:start="59:22" pos:end="59:44">ff_get_audio_frame_size</name><argument_list pos:start="59:45" pos:end="59:69">(<argument pos:start="59:46" pos:end="59:54"><expr pos:start="59:46" pos:end="59:54"><name pos:start="59:46" pos:end="59:54"><name pos:start="59:46" pos:end="59:47">st</name><operator pos:start="59:48" pos:end="59:49">-&gt;</operator><name pos:start="59:50" pos:end="59:54">codec</name></name></expr></argument>, <argument pos:start="59:57" pos:end="59:65"><expr pos:start="59:57" pos:end="59:65"><name pos:start="59:57" pos:end="59:65"><name pos:start="59:57" pos:end="59:59">pkt</name><operator pos:start="59:60" pos:end="59:61">-&gt;</operator><name pos:start="59:62" pos:end="59:65">size</name></name></expr></argument>, <argument pos:start="59:68" pos:end="59:68"><expr pos:start="59:68" pos:end="59:68"><literal type="number" pos:start="59:68" pos:end="59:68">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="61:9" pos:end="63:18"><if pos:start="61:9" pos:end="63:18">if <condition pos:start="61:12" pos:end="61:59">(<expr pos:start="61:13" pos:end="61:58"><name pos:start="61:13" pos:end="61:22">frame_size</name> <operator pos:start="61:24" pos:end="61:25">&lt;=</operator> <literal type="number" pos:start="61:27" pos:end="61:27">0</literal> <operator pos:start="61:29" pos:end="61:30">||</operator> <name pos:start="61:32" pos:end="61:53"><name pos:start="61:32" pos:end="61:33">st</name><operator pos:start="61:34" pos:end="61:35">-&gt;</operator><name pos:start="61:36" pos:end="61:40">codec</name><operator pos:start="61:41" pos:end="61:42">-&gt;</operator><name pos:start="61:43" pos:end="61:53">sample_rate</name></name> <operator pos:start="61:55" pos:end="61:56">&lt;=</operator> <literal type="number" pos:start="61:58" pos:end="61:58">0</literal></expr>)</condition><block type="pseudo" pos:start="63:13" pos:end="63:18"><block_content pos:start="63:13" pos:end="63:18">

            <break pos:start="63:13" pos:end="63:18">break;</break></block_content></block></if></if_stmt>

        <expr_stmt pos:start="65:9" pos:end="65:27"><expr pos:start="65:9" pos:end="65:26"><operator pos:start="65:9" pos:end="65:9">*</operator><name pos:start="65:10" pos:end="65:13">pnum</name> <operator pos:start="65:15" pos:end="65:15">=</operator> <name pos:start="65:17" pos:end="65:26">frame_size</name></expr>;</expr_stmt>

        <expr_stmt pos:start="67:9" pos:end="67:39"><expr pos:start="67:9" pos:end="67:38"><operator pos:start="67:9" pos:end="67:9">*</operator><name pos:start="67:10" pos:end="67:13">pden</name> <operator pos:start="67:15" pos:end="67:15">=</operator> <name pos:start="67:17" pos:end="67:38"><name pos:start="67:17" pos:end="67:18">st</name><operator pos:start="67:19" pos:end="67:20">-&gt;</operator><name pos:start="67:21" pos:end="67:25">codec</name><operator pos:start="67:26" pos:end="67:27">-&gt;</operator><name pos:start="67:28" pos:end="67:38">sample_rate</name></name></expr>;</expr_stmt>

        <break pos:start="69:9" pos:end="69:14">break;</break>

    <default pos:start="71:5" pos:end="71:12">default:</default>

        <break pos:start="73:9" pos:end="73:14">break;</break>

    </block_content>}</block></switch>

</block_content>}</block></function>
</unit>
