<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:cpp="http://www.srcML.org/srcML/cpp" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/26105.c" pos:tabs="8"><decl_stmt pos:start="1:1" pos:end="105:1"><decl pos:start="1:1" pos:end="105:1"><type pos:start="1:1" pos:end="1:28"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:23">av_always_inline</name> <name pos:start="1:25" pos:end="1:28">void</name></type> <name pos:start="1:30" pos:end="1:43">mc_luma_scaled</name><argument_list pos:start="1:44" pos:end="17:87">(<argument pos:start="1:45" pos:end="1:57"><expr pos:start="1:45" pos:end="1:57"><name pos:start="1:45" pos:end="1:54">VP9Context</name> <operator pos:start="1:56" pos:end="1:56">*</operator><name pos:start="1:57" pos:end="1:57">s</name></expr></argument>, <argument pos:start="1:60" pos:end="1:81"><expr pos:start="1:60" pos:end="1:81"><name pos:start="1:60" pos:end="1:77">vp9_scaled_mc_func</name> <name pos:start="1:79" pos:end="1:81">smc</name></expr></argument>,

                                            <argument pos:start="3:45" pos:end="3:64"><expr pos:start="3:45" pos:end="3:64"><call pos:start="3:45" pos:end="3:61"><name pos:start="3:45" pos:end="3:55">vp9_mc_func</name> <argument_list pos:start="3:57" pos:end="3:61">(<argument pos:start="3:58" pos:end="3:60"><expr pos:start="3:58" pos:end="3:60"><operator pos:start="3:58" pos:end="3:58">*</operator><name pos:start="3:59" pos:end="3:60">mc</name></expr></argument>)</argument_list></call><index pos:start="3:62" pos:end="3:64">[<expr pos:start="3:63" pos:end="3:63"><literal type="number" pos:start="3:63" pos:end="3:63">2</literal></expr>]</index></expr></argument>,

                                            <argument pos:start="5:45" pos:end="5:56"><expr pos:start="5:45" pos:end="5:56"><name pos:start="5:45" pos:end="5:51">uint8_t</name> <operator pos:start="5:53" pos:end="5:53">*</operator><name pos:start="5:54" pos:end="5:56">dst</name></expr></argument>, <argument pos:start="5:59" pos:end="5:78"><expr pos:start="5:59" pos:end="5:78"><name pos:start="5:59" pos:end="5:67">ptrdiff_t</name> <name pos:start="5:69" pos:end="5:78">dst_stride</name></expr></argument>,

                                            <argument pos:start="7:45" pos:end="7:62"><expr pos:start="7:45" pos:end="7:62"><specifier pos:start="7:45" pos:end="7:49">const</specifier> <name pos:start="7:51" pos:end="7:57">uint8_t</name> <operator pos:start="7:59" pos:end="7:59">*</operator><name pos:start="7:60" pos:end="7:62">ref</name></expr></argument>, <argument pos:start="7:65" pos:end="7:84"><expr pos:start="7:65" pos:end="7:84"><name pos:start="7:65" pos:end="7:73">ptrdiff_t</name> <name pos:start="7:75" pos:end="7:84">ref_stride</name></expr></argument>,

                                            <argument pos:start="9:45" pos:end="9:66"><expr pos:start="9:45" pos:end="9:66"><name pos:start="9:45" pos:end="9:55">ThreadFrame</name> <operator pos:start="9:57" pos:end="9:57">*</operator><name pos:start="9:58" pos:end="9:66">ref_frame</name></expr></argument>,

                                            <argument pos:start="11:45" pos:end="11:55"><expr pos:start="11:45" pos:end="11:55"><name pos:start="11:45" pos:end="11:53">ptrdiff_t</name> <name pos:start="11:55" pos:end="11:55">y</name></expr></argument>, <argument pos:start="11:58" pos:end="11:68"><expr pos:start="11:58" pos:end="11:68"><name pos:start="11:58" pos:end="11:66">ptrdiff_t</name> <name pos:start="11:68" pos:end="11:68">x</name></expr></argument>, <argument pos:start="11:71" pos:end="11:89"><expr pos:start="11:71" pos:end="11:89"><specifier pos:start="11:71" pos:end="11:75">const</specifier> <name pos:start="11:77" pos:end="11:82">VP56mv</name> <operator pos:start="11:84" pos:end="11:84">*</operator><name pos:start="11:85" pos:end="11:89">in_mv</name></expr></argument>,

                                            <argument pos:start="13:45" pos:end="13:50"><expr pos:start="13:45" pos:end="13:50"><name pos:start="13:45" pos:end="13:47">int</name> <name pos:start="13:49" pos:end="13:50">px</name></expr></argument>, <argument pos:start="13:53" pos:end="13:58"><expr pos:start="13:53" pos:end="13:58"><name pos:start="13:53" pos:end="13:55">int</name> <name pos:start="13:57" pos:end="13:58">py</name></expr></argument>, <argument pos:start="13:61" pos:end="13:66"><expr pos:start="13:61" pos:end="13:66"><name pos:start="13:61" pos:end="13:63">int</name> <name pos:start="13:65" pos:end="13:66">pw</name></expr></argument>, <argument pos:start="13:69" pos:end="13:74"><expr pos:start="13:69" pos:end="13:74"><name pos:start="13:69" pos:end="13:71">int</name> <name pos:start="13:73" pos:end="13:74">ph</name></expr></argument>,

                                            <argument pos:start="15:45" pos:end="15:50"><expr pos:start="15:45" pos:end="15:50"><name pos:start="15:45" pos:end="15:47">int</name> <name pos:start="15:49" pos:end="15:50">bw</name></expr></argument>, <argument pos:start="15:53" pos:end="15:58"><expr pos:start="15:53" pos:end="15:58"><name pos:start="15:53" pos:end="15:55">int</name> <name pos:start="15:57" pos:end="15:58">bh</name></expr></argument>, <argument pos:start="15:61" pos:end="15:65"><expr pos:start="15:61" pos:end="15:65"><name pos:start="15:61" pos:end="15:63">int</name> <name pos:start="15:65" pos:end="15:65">w</name></expr></argument>, <argument pos:start="15:68" pos:end="15:72"><expr pos:start="15:68" pos:end="15:72"><name pos:start="15:68" pos:end="15:70">int</name> <name pos:start="15:72" pos:end="15:72">h</name></expr></argument>, <argument pos:start="15:75" pos:end="15:91"><expr pos:start="15:75" pos:end="15:91"><name pos:start="15:75" pos:end="15:77">int</name> <name pos:start="15:79" pos:end="15:91">bytesperpixel</name></expr></argument>,

                                            <argument pos:start="17:45" pos:end="17:65"><expr pos:start="17:45" pos:end="17:65"><specifier pos:start="17:45" pos:end="17:49">const</specifier> <name pos:start="17:51" pos:end="17:58">uint16_t</name> <operator pos:start="17:60" pos:end="17:60">*</operator><name pos:start="17:61" pos:end="17:65">scale</name></expr></argument>, <argument pos:start="17:68" pos:end="17:86"><expr pos:start="17:68" pos:end="17:86"><specifier pos:start="17:68" pos:end="17:72">const</specifier> <name pos:start="17:74" pos:end="17:80">uint8_t</name> <operator pos:start="17:82" pos:end="17:82">*</operator><name pos:start="17:83" pos:end="17:86">step</name></expr></argument>)</argument_list>

<block pos:start="19:1" pos:end="105:1">{<block_content pos:start="21:5" pos:end="103:5">

    <if_stmt pos:start="21:5" pos:end="103:5"><if pos:start="21:5" pos:end="29:5">if <condition pos:start="21:8" pos:end="23:68">(<expr pos:start="21:9" pos:end="23:67"><name pos:start="21:9" pos:end="21:30"><name pos:start="21:9" pos:end="21:9">s</name><operator pos:start="21:10" pos:end="21:11">-&gt;</operator><name pos:start="21:12" pos:end="21:12">s</name><operator pos:start="21:13" pos:end="21:13">.</operator><name pos:start="21:14" pos:end="21:19">frames</name><index pos:start="21:20" pos:end="21:30">[<expr pos:start="21:21" pos:end="21:29"><name pos:start="21:21" pos:end="21:29">CUR_FRAME</name></expr>]</index></name><operator pos:start="21:31" pos:end="21:31">.</operator><name pos:start="21:32" pos:end="21:42"><name pos:start="21:32" pos:end="21:33">tf</name><operator pos:start="21:34" pos:end="21:34">.</operator><name pos:start="21:35" pos:end="21:35">f</name><operator pos:start="21:36" pos:end="21:37">-&gt;</operator><name pos:start="21:38" pos:end="21:42">width</name></name> <operator pos:start="21:44" pos:end="21:45">==</operator> <name pos:start="21:47" pos:end="21:65"><name pos:start="21:47" pos:end="21:55">ref_frame</name><operator pos:start="21:56" pos:end="21:57">-&gt;</operator><name pos:start="21:58" pos:end="21:58">f</name><operator pos:start="21:59" pos:end="21:60">-&gt;</operator><name pos:start="21:61" pos:end="21:65">width</name></name> <operator pos:start="21:67" pos:end="21:68">&amp;&amp;</operator>

        <name pos:start="23:9" pos:end="23:30"><name pos:start="23:9" pos:end="23:9">s</name><operator pos:start="23:10" pos:end="23:11">-&gt;</operator><name pos:start="23:12" pos:end="23:12">s</name><operator pos:start="23:13" pos:end="23:13">.</operator><name pos:start="23:14" pos:end="23:19">frames</name><index pos:start="23:20" pos:end="23:30">[<expr pos:start="23:21" pos:end="23:29"><name pos:start="23:21" pos:end="23:29">CUR_FRAME</name></expr>]</index></name><operator pos:start="23:31" pos:end="23:31">.</operator><name pos:start="23:32" pos:end="23:43"><name pos:start="23:32" pos:end="23:33">tf</name><operator pos:start="23:34" pos:end="23:34">.</operator><name pos:start="23:35" pos:end="23:35">f</name><operator pos:start="23:36" pos:end="23:37">-&gt;</operator><name pos:start="23:38" pos:end="23:43">height</name></name> <operator pos:start="23:45" pos:end="23:46">==</operator> <name pos:start="23:48" pos:end="23:67"><name pos:start="23:48" pos:end="23:56">ref_frame</name><operator pos:start="23:57" pos:end="23:58">-&gt;</operator><name pos:start="23:59" pos:end="23:59">f</name><operator pos:start="23:60" pos:end="23:61">-&gt;</operator><name pos:start="23:62" pos:end="23:67">height</name></name></expr>)</condition> <block pos:start="23:70" pos:end="29:5">{<block_content pos:start="25:9" pos:end="27:67">

        <expr_stmt pos:start="25:9" pos:end="27:67"><expr pos:start="25:9" pos:end="27:66"><call pos:start="25:9" pos:end="27:66"><name pos:start="25:9" pos:end="25:24">mc_luma_unscaled</name><argument_list pos:start="25:25" pos:end="27:66">(<argument pos:start="25:26" pos:end="25:26"><expr pos:start="25:26" pos:end="25:26"><name pos:start="25:26" pos:end="25:26">s</name></expr></argument>, <argument pos:start="25:29" pos:end="25:30"><expr pos:start="25:29" pos:end="25:30"><name pos:start="25:29" pos:end="25:30">mc</name></expr></argument>, <argument pos:start="25:33" pos:end="25:35"><expr pos:start="25:33" pos:end="25:35"><name pos:start="25:33" pos:end="25:35">dst</name></expr></argument>, <argument pos:start="25:38" pos:end="25:47"><expr pos:start="25:38" pos:end="25:47"><name pos:start="25:38" pos:end="25:47">dst_stride</name></expr></argument>, <argument pos:start="25:50" pos:end="25:52"><expr pos:start="25:50" pos:end="25:52"><name pos:start="25:50" pos:end="25:52">ref</name></expr></argument>, <argument pos:start="25:55" pos:end="25:64"><expr pos:start="25:55" pos:end="25:64"><name pos:start="25:55" pos:end="25:64">ref_stride</name></expr></argument>, <argument pos:start="25:67" pos:end="25:75"><expr pos:start="25:67" pos:end="25:75"><name pos:start="25:67" pos:end="25:75">ref_frame</name></expr></argument>,

                         <argument pos:start="27:26" pos:end="27:26"><expr pos:start="27:26" pos:end="27:26"><name pos:start="27:26" pos:end="27:26">y</name></expr></argument>, <argument pos:start="27:29" pos:end="27:29"><expr pos:start="27:29" pos:end="27:29"><name pos:start="27:29" pos:end="27:29">x</name></expr></argument>, <argument pos:start="27:32" pos:end="27:36"><expr pos:start="27:32" pos:end="27:36"><name pos:start="27:32" pos:end="27:36">in_mv</name></expr></argument>, <argument pos:start="27:39" pos:end="27:40"><expr pos:start="27:39" pos:end="27:40"><name pos:start="27:39" pos:end="27:40">bw</name></expr></argument>, <argument pos:start="27:43" pos:end="27:44"><expr pos:start="27:43" pos:end="27:44"><name pos:start="27:43" pos:end="27:44">bh</name></expr></argument>, <argument pos:start="27:47" pos:end="27:47"><expr pos:start="27:47" pos:end="27:47"><name pos:start="27:47" pos:end="27:47">w</name></expr></argument>, <argument pos:start="27:50" pos:end="27:50"><expr pos:start="27:50" pos:end="27:50"><name pos:start="27:50" pos:end="27:50">h</name></expr></argument>, <argument pos:start="27:53" pos:end="27:65"><expr pos:start="27:53" pos:end="27:65"><name pos:start="27:53" pos:end="27:65">bytesperpixel</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="29:7" pos:end="103:5">else <block pos:start="29:12" pos:end="103:5">{<block_content pos:start="33:5" pos:end="101:72">

<cpp:define pos:start="31:1" pos:end="31:60">#<cpp:directive pos:start="31:2" pos:end="31:7">define</cpp:directive> <cpp:macro pos:start="31:9" pos:end="31:24"><name pos:start="31:9" pos:end="31:16">scale_mv</name><parameter_list pos:start="31:17" pos:end="31:24">(<parameter pos:start="31:18" pos:end="31:18"><type pos:start="31:18" pos:end="31:18"><name pos:start="31:18" pos:end="31:18">n</name></type></parameter>, <parameter pos:start="31:21" pos:end="31:23"><type pos:start="31:21" pos:end="31:23"><name pos:start="31:21" pos:end="31:23">dim</name></type></parameter>)</parameter_list></cpp:macro> <cpp:value pos:start="31:26" pos:end="31:60">(((int64_t)(n) * scale[dim]) &gt;&gt; 14)</cpp:value></cpp:define>

    <decl_stmt pos:start="33:5" pos:end="33:15"><decl pos:start="33:5" pos:end="33:10"><type pos:start="33:5" pos:end="33:7"><name pos:start="33:5" pos:end="33:7">int</name></type> <name pos:start="33:9" pos:end="33:10">mx</name></decl>, <decl pos:start="33:13" pos:end="33:14"><type ref="prev" pos:start="33:5" pos:end="33:7"/><name pos:start="33:13" pos:end="33:14">my</name></decl>;</decl_stmt>

    <decl_stmt pos:start="35:5" pos:end="35:27"><decl pos:start="35:5" pos:end="35:16"><type pos:start="35:5" pos:end="35:7"><name pos:start="35:5" pos:end="35:7">int</name></type> <name pos:start="35:9" pos:end="35:16">refbw_m1</name></decl>, <decl pos:start="35:19" pos:end="35:26"><type ref="prev" pos:start="35:5" pos:end="35:7"/><name pos:start="35:19" pos:end="35:26">refbh_m1</name></decl>;</decl_stmt>

    <decl_stmt pos:start="37:5" pos:end="37:11"><decl pos:start="37:5" pos:end="37:10"><type pos:start="37:5" pos:end="37:7"><name pos:start="37:5" pos:end="37:7">int</name></type> <name pos:start="37:9" pos:end="37:10">th</name></decl>;</decl_stmt>

    <decl_stmt pos:start="39:5" pos:end="39:14"><decl pos:start="39:5" pos:end="39:13"><type pos:start="39:5" pos:end="39:10"><name pos:start="39:5" pos:end="39:10">VP56mv</name></type> <name pos:start="39:12" pos:end="39:13">mv</name></decl>;</decl_stmt>



    <expr_stmt pos:start="43:5" pos:end="43:85"><expr pos:start="43:5" pos:end="43:84"><name pos:start="43:5" pos:end="43:8"><name pos:start="43:5" pos:end="43:6">mv</name><operator pos:start="43:7" pos:end="43:7">.</operator><name pos:start="43:8" pos:end="43:8">x</name></name> <operator pos:start="43:10" pos:end="43:10">=</operator> <call pos:start="43:12" pos:end="43:84"><name pos:start="43:12" pos:end="43:18">av_clip</name><argument_list pos:start="43:19" pos:end="43:84">(<argument pos:start="43:20" pos:end="43:27"><expr pos:start="43:20" pos:end="43:27"><name pos:start="43:20" pos:end="43:27"><name pos:start="43:20" pos:end="43:24">in_mv</name><operator pos:start="43:25" pos:end="43:26">-&gt;</operator><name pos:start="43:27" pos:end="43:27">x</name></name></expr></argument>, <argument pos:start="43:30" pos:end="43:51"><expr pos:start="43:30" pos:end="43:51"><operator pos:start="43:30" pos:end="43:30">-</operator><operator pos:start="43:31" pos:end="43:31">(</operator><name pos:start="43:32" pos:end="43:32">x</name> <operator pos:start="43:34" pos:end="43:34">+</operator> <name pos:start="43:36" pos:end="43:37">pw</name> <operator pos:start="43:39" pos:end="43:39">-</operator> <name pos:start="43:41" pos:end="43:42">px</name> <operator pos:start="43:44" pos:end="43:44">+</operator> <literal type="number" pos:start="43:46" pos:end="43:46">4</literal><operator pos:start="43:47" pos:end="43:47">)</operator> <operator pos:start="43:49" pos:end="43:49">*</operator> <literal type="number" pos:start="43:51" pos:end="43:51">8</literal></expr></argument>, <argument pos:start="43:54" pos:end="43:83"><expr pos:start="43:54" pos:end="43:83"><operator pos:start="43:54" pos:end="43:54">(</operator><name pos:start="43:55" pos:end="43:61"><name pos:start="43:55" pos:end="43:55">s</name><operator pos:start="43:56" pos:end="43:57">-&gt;</operator><name pos:start="43:58" pos:end="43:61">cols</name></name> <operator pos:start="43:63" pos:end="43:63">*</operator> <literal type="number" pos:start="43:65" pos:end="43:67">8</literal> <operator pos:start="43:67" pos:end="43:67">-</operator> <name pos:start="43:69" pos:end="43:69">x</name> <operator pos:start="43:71" pos:end="43:71">+</operator> <name pos:start="43:73" pos:end="43:74">px</name> <operator pos:start="43:76" pos:end="43:76">+</operator> <literal type="number" pos:start="43:78" pos:end="43:78">3</literal><operator pos:start="43:79" pos:end="43:79">)</operator> <operator pos:start="43:81" pos:end="43:81">*</operator> <literal type="number" pos:start="43:83" pos:end="43:83">8</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="45:5" pos:end="45:85"><expr pos:start="45:5" pos:end="45:84"><name pos:start="45:5" pos:end="45:8"><name pos:start="45:5" pos:end="45:6">mv</name><operator pos:start="45:7" pos:end="45:7">.</operator><name pos:start="45:8" pos:end="45:8">y</name></name> <operator pos:start="45:10" pos:end="45:10">=</operator> <call pos:start="45:12" pos:end="45:84"><name pos:start="45:12" pos:end="45:18">av_clip</name><argument_list pos:start="45:19" pos:end="45:84">(<argument pos:start="45:20" pos:end="45:27"><expr pos:start="45:20" pos:end="45:27"><name pos:start="45:20" pos:end="45:27"><name pos:start="45:20" pos:end="45:24">in_mv</name><operator pos:start="45:25" pos:end="45:26">-&gt;</operator><name pos:start="45:27" pos:end="45:27">y</name></name></expr></argument>, <argument pos:start="45:30" pos:end="45:51"><expr pos:start="45:30" pos:end="45:51"><operator pos:start="45:30" pos:end="45:30">-</operator><operator pos:start="45:31" pos:end="45:31">(</operator><name pos:start="45:32" pos:end="45:32">y</name> <operator pos:start="45:34" pos:end="45:34">+</operator> <name pos:start="45:36" pos:end="45:37">ph</name> <operator pos:start="45:39" pos:end="45:39">-</operator> <name pos:start="45:41" pos:end="45:42">py</name> <operator pos:start="45:44" pos:end="45:44">+</operator> <literal type="number" pos:start="45:46" pos:end="45:46">4</literal><operator pos:start="45:47" pos:end="45:47">)</operator> <operator pos:start="45:49" pos:end="45:49">*</operator> <literal type="number" pos:start="45:51" pos:end="45:51">8</literal></expr></argument>, <argument pos:start="45:54" pos:end="45:83"><expr pos:start="45:54" pos:end="45:83"><operator pos:start="45:54" pos:end="45:54">(</operator><name pos:start="45:55" pos:end="45:61"><name pos:start="45:55" pos:end="45:55">s</name><operator pos:start="45:56" pos:end="45:57">-&gt;</operator><name pos:start="45:58" pos:end="45:61">rows</name></name> <operator pos:start="45:63" pos:end="45:63">*</operator> <literal type="number" pos:start="45:65" pos:end="45:67">8</literal> <operator pos:start="45:67" pos:end="45:67">-</operator> <name pos:start="45:69" pos:end="45:69">y</name> <operator pos:start="45:71" pos:end="45:71">+</operator> <name pos:start="45:73" pos:end="45:74">py</name> <operator pos:start="45:76" pos:end="45:76">+</operator> <literal type="number" pos:start="45:78" pos:end="45:78">3</literal><operator pos:start="45:79" pos:end="45:79">)</operator> <operator pos:start="45:81" pos:end="45:81">*</operator> <literal type="number" pos:start="45:83" pos:end="45:83">8</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <comment type="line" pos:start="47:5" pos:end="47:79">// BUG libvpx seems to scale the two components separately. This introduces</comment>

    <comment type="line" pos:start="49:5" pos:end="49:77">// rounding errors but we have to reproduce them to be exactly compatible</comment>

    <comment type="line" pos:start="51:5" pos:end="51:37">// with the output from libvpx...</comment>

    <expr_stmt pos:start="53:5" pos:end="53:53"><expr pos:start="53:5" pos:end="53:52"><name pos:start="53:5" pos:end="53:6">mx</name> <operator pos:start="53:8" pos:end="53:8">=</operator> <call pos:start="53:10" pos:end="53:30"><name pos:start="53:10" pos:end="53:17">scale_mv</name><argument_list pos:start="53:18" pos:end="53:30">(<argument pos:start="53:19" pos:end="53:26"><expr pos:start="53:19" pos:end="53:26"><name pos:start="53:19" pos:end="53:22"><name pos:start="53:19" pos:end="53:20">mv</name><operator pos:start="53:21" pos:end="53:21">.</operator><name pos:start="53:22" pos:end="53:22">x</name></name> <operator pos:start="53:24" pos:end="53:24">*</operator> <literal type="number" pos:start="53:26" pos:end="53:26">2</literal></expr></argument>, <argument pos:start="53:29" pos:end="53:29"><expr pos:start="53:29" pos:end="53:29"><literal type="number" pos:start="53:29" pos:end="53:29">0</literal></expr></argument>)</argument_list></call> <operator pos:start="53:32" pos:end="53:32">+</operator> <call pos:start="53:34" pos:end="53:52"><name pos:start="53:34" pos:end="53:41">scale_mv</name><argument_list pos:start="53:42" pos:end="53:52">(<argument pos:start="53:43" pos:end="53:48"><expr pos:start="53:43" pos:end="53:48"><name pos:start="53:43" pos:end="53:43">x</name> <operator pos:start="53:45" pos:end="53:45">*</operator> <literal type="number" pos:start="53:47" pos:end="53:48">16</literal></expr></argument>, <argument pos:start="53:51" pos:end="53:51"><expr pos:start="53:51" pos:end="53:51"><literal type="number" pos:start="53:51" pos:end="53:51">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="55:5" pos:end="55:53"><expr pos:start="55:5" pos:end="55:52"><name pos:start="55:5" pos:end="55:6">my</name> <operator pos:start="55:8" pos:end="55:8">=</operator> <call pos:start="55:10" pos:end="55:30"><name pos:start="55:10" pos:end="55:17">scale_mv</name><argument_list pos:start="55:18" pos:end="55:30">(<argument pos:start="55:19" pos:end="55:26"><expr pos:start="55:19" pos:end="55:26"><name pos:start="55:19" pos:end="55:22"><name pos:start="55:19" pos:end="55:20">mv</name><operator pos:start="55:21" pos:end="55:21">.</operator><name pos:start="55:22" pos:end="55:22">y</name></name> <operator pos:start="55:24" pos:end="55:24">*</operator> <literal type="number" pos:start="55:26" pos:end="55:26">2</literal></expr></argument>, <argument pos:start="55:29" pos:end="55:29"><expr pos:start="55:29" pos:end="55:29"><literal type="number" pos:start="55:29" pos:end="55:29">1</literal></expr></argument>)</argument_list></call> <operator pos:start="55:32" pos:end="55:32">+</operator> <call pos:start="55:34" pos:end="55:52"><name pos:start="55:34" pos:end="55:41">scale_mv</name><argument_list pos:start="55:42" pos:end="55:52">(<argument pos:start="55:43" pos:end="55:48"><expr pos:start="55:43" pos:end="55:48"><name pos:start="55:43" pos:end="55:43">y</name> <operator pos:start="55:45" pos:end="55:45">*</operator> <literal type="number" pos:start="55:47" pos:end="55:48">16</literal></expr></argument>, <argument pos:start="55:51" pos:end="55:51"><expr pos:start="55:51" pos:end="55:51"><literal type="number" pos:start="55:51" pos:end="55:51">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="59:5" pos:end="59:16"><expr pos:start="59:5" pos:end="59:15"><name pos:start="59:5" pos:end="59:5">y</name> <operator pos:start="59:7" pos:end="59:7">=</operator> <name pos:start="59:9" pos:end="59:10">my</name> <operator pos:start="59:12" pos:end="59:13">&gt;&gt;</operator> <literal type="number" pos:start="59:15" pos:end="59:15">4</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="61:5" pos:end="61:16"><expr pos:start="61:5" pos:end="61:15"><name pos:start="61:5" pos:end="61:5">x</name> <operator pos:start="61:7" pos:end="61:7">=</operator> <name pos:start="61:9" pos:end="61:10">mx</name> <operator pos:start="61:12" pos:end="61:13">&gt;&gt;</operator> <literal type="number" pos:start="61:15" pos:end="61:15">4</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="63:5" pos:end="63:46"><expr pos:start="63:5" pos:end="63:45"><name pos:start="63:5" pos:end="63:7">ref</name> <operator pos:start="63:9" pos:end="63:10">+=</operator> <name pos:start="63:12" pos:end="63:12">y</name> <operator pos:start="63:14" pos:end="63:14">*</operator> <name pos:start="63:16" pos:end="63:25">ref_stride</name> <operator pos:start="63:27" pos:end="63:27">+</operator> <name pos:start="63:29" pos:end="63:29">x</name> <operator pos:start="63:31" pos:end="63:31">*</operator> <name pos:start="63:33" pos:end="63:45">bytesperpixel</name></expr>;</expr_stmt>

    <expr_stmt pos:start="65:5" pos:end="65:13"><expr pos:start="65:5" pos:end="65:12"><name pos:start="65:5" pos:end="65:6">mx</name> <operator pos:start="65:8" pos:end="65:9">&amp;=</operator> <literal type="number" pos:start="65:11" pos:end="65:12">15</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="67:5" pos:end="67:13"><expr pos:start="67:5" pos:end="67:12"><name pos:start="67:5" pos:end="67:6">my</name> <operator pos:start="67:8" pos:end="67:9">&amp;=</operator> <literal type="number" pos:start="67:11" pos:end="67:12">15</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="69:5" pos:end="69:46"><expr pos:start="69:5" pos:end="69:45"><name pos:start="69:5" pos:end="69:12">refbw_m1</name> <operator pos:start="69:14" pos:end="69:14">=</operator> <operator pos:start="69:16" pos:end="69:16">(</operator><operator pos:start="69:17" pos:end="69:17">(</operator><name pos:start="69:18" pos:end="69:19">bw</name> <operator pos:start="69:21" pos:end="69:21">-</operator> <literal type="number" pos:start="69:23" pos:end="69:23">1</literal><operator pos:start="69:24" pos:end="69:24">)</operator> <operator pos:start="69:26" pos:end="69:26">*</operator> <name pos:start="69:28" pos:end="69:34"><name pos:start="69:28" pos:end="69:31">step</name><index pos:start="69:32" pos:end="69:34">[<expr pos:start="69:33" pos:end="69:33"><literal type="number" pos:start="69:33" pos:end="69:33">0</literal></expr>]</index></name> <operator pos:start="69:36" pos:end="69:36">+</operator> <name pos:start="69:38" pos:end="69:39">mx</name><operator pos:start="69:40" pos:end="69:40">)</operator> <operator pos:start="69:42" pos:end="69:43">&gt;&gt;</operator> <literal type="number" pos:start="69:45" pos:end="69:45">4</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="71:5" pos:end="71:46"><expr pos:start="71:5" pos:end="71:45"><name pos:start="71:5" pos:end="71:12">refbh_m1</name> <operator pos:start="71:14" pos:end="71:14">=</operator> <operator pos:start="71:16" pos:end="71:16">(</operator><operator pos:start="71:17" pos:end="71:17">(</operator><name pos:start="71:18" pos:end="71:19">bh</name> <operator pos:start="71:21" pos:end="71:21">-</operator> <literal type="number" pos:start="71:23" pos:end="71:23">1</literal><operator pos:start="71:24" pos:end="71:24">)</operator> <operator pos:start="71:26" pos:end="71:26">*</operator> <name pos:start="71:28" pos:end="71:34"><name pos:start="71:28" pos:end="71:31">step</name><index pos:start="71:32" pos:end="71:34">[<expr pos:start="71:33" pos:end="71:33"><literal type="number" pos:start="71:33" pos:end="71:33">1</literal></expr>]</index></name> <operator pos:start="71:36" pos:end="71:36">+</operator> <name pos:start="71:38" pos:end="71:39">my</name><operator pos:start="71:40" pos:end="71:40">)</operator> <operator pos:start="71:42" pos:end="71:43">&gt;&gt;</operator> <literal type="number" pos:start="71:45" pos:end="71:45">4</literal></expr>;</expr_stmt>

    <comment type="line" pos:start="73:5" pos:end="73:59">// FIXME bilinear filter only needs 0/1 pixels, not 3/4</comment>

    <comment type="line" pos:start="75:5" pos:end="75:74">// we use +7 because the last 7 pixels of each sbrow can be changed in</comment>

    <comment type="line" pos:start="77:5" pos:end="77:47">// the longest loopfilter of the next sbrow</comment>

    <expr_stmt pos:start="79:5" pos:end="79:37"><expr pos:start="79:5" pos:end="79:36"><name pos:start="79:5" pos:end="79:6">th</name> <operator pos:start="79:8" pos:end="79:8">=</operator> <operator pos:start="79:10" pos:end="79:10">(</operator><name pos:start="79:11" pos:end="79:11">y</name> <operator pos:start="79:13" pos:end="79:13">+</operator> <name pos:start="79:15" pos:end="79:22">refbh_m1</name> <operator pos:start="79:24" pos:end="79:24">+</operator> <literal type="number" pos:start="79:26" pos:end="79:28">4</literal> <operator pos:start="79:28" pos:end="79:28">+</operator> <literal type="number" pos:start="79:30" pos:end="79:30">7</literal><operator pos:start="79:31" pos:end="79:31">)</operator> <operator pos:start="79:33" pos:end="79:34">&gt;&gt;</operator> <literal type="number" pos:start="79:36" pos:end="79:36">6</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="81:5" pos:end="81:57"><expr pos:start="81:5" pos:end="81:56"><call pos:start="81:5" pos:end="81:56"><name pos:start="81:5" pos:end="81:28">ff_thread_await_progress</name><argument_list pos:start="81:29" pos:end="81:56">(<argument pos:start="81:30" pos:end="81:38"><expr pos:start="81:30" pos:end="81:38"><name pos:start="81:30" pos:end="81:38">ref_frame</name></expr></argument>, <argument pos:start="81:41" pos:end="81:52"><expr pos:start="81:41" pos:end="81:52"><call pos:start="81:41" pos:end="81:52"><name pos:start="81:41" pos:end="81:45">FFMAX</name><argument_list pos:start="81:46" pos:end="81:52">(<argument pos:start="81:47" pos:end="81:48"><expr pos:start="81:47" pos:end="81:48"><name pos:start="81:47" pos:end="81:48">th</name></expr></argument>, <argument pos:start="81:51" pos:end="81:51"><expr pos:start="81:51" pos:end="81:51"><literal type="number" pos:start="81:51" pos:end="81:51">0</literal></expr></argument>)</argument_list></call></expr></argument>, <argument pos:start="81:55" pos:end="81:55"><expr pos:start="81:55" pos:end="81:55"><literal type="number" pos:start="81:55" pos:end="81:55">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="83:5" pos:end="99:5"><if pos:start="83:5" pos:end="99:5">if <condition pos:start="83:8" pos:end="83:73">(<expr pos:start="83:9" pos:end="83:72"><name pos:start="83:9" pos:end="83:9">x</name> <operator pos:start="83:11" pos:end="83:11">&lt;</operator> <literal type="number" pos:start="83:13" pos:end="83:13">3</literal> <operator pos:start="83:15" pos:end="83:16">||</operator> <name pos:start="83:18" pos:end="83:18">y</name> <operator pos:start="83:20" pos:end="83:20">&lt;</operator> <literal type="number" pos:start="83:22" pos:end="83:22">3</literal> <operator pos:start="83:24" pos:end="83:25">||</operator> <name pos:start="83:27" pos:end="83:27">x</name> <operator pos:start="83:29" pos:end="83:29">+</operator> <literal type="number" pos:start="83:31" pos:end="83:31">4</literal> <operator pos:start="83:33" pos:end="83:34">&gt;=</operator> <name pos:start="83:36" pos:end="83:36">w</name> <operator pos:start="83:38" pos:end="83:38">-</operator> <name pos:start="83:40" pos:end="83:47">refbw_m1</name> <operator pos:start="83:49" pos:end="83:50">||</operator> <name pos:start="83:52" pos:end="83:52">y</name> <operator pos:start="83:54" pos:end="83:54">+</operator> <literal type="number" pos:start="83:56" pos:end="83:56">4</literal> <operator pos:start="83:58" pos:end="83:59">&gt;=</operator> <name pos:start="83:61" pos:end="83:61">h</name> <operator pos:start="83:63" pos:end="83:63">-</operator> <name pos:start="83:65" pos:end="83:72">refbh_m1</name></expr>)</condition> <block pos:start="83:75" pos:end="99:5">{<block_content pos:start="85:9" pos:end="97:25">

        <expr_stmt pos:start="85:9" pos:end="93:53"><expr pos:start="85:9" pos:end="93:52"><call pos:start="85:9" pos:end="93:52"><name pos:start="85:9" pos:end="85:32"><name pos:start="85:9" pos:end="85:9">s</name><operator pos:start="85:10" pos:end="85:11">-&gt;</operator><name pos:start="85:12" pos:end="85:15">vdsp</name><operator pos:start="85:16" pos:end="85:16">.</operator><name pos:start="85:17" pos:end="85:32">emulated_edge_mc</name></name><argument_list pos:start="85:33" pos:end="93:52">(<argument pos:start="85:34" pos:end="85:51"><expr pos:start="85:34" pos:end="85:51"><name pos:start="85:34" pos:end="85:51"><name pos:start="85:34" pos:end="85:34">s</name><operator pos:start="85:35" pos:end="85:36">-&gt;</operator><name pos:start="85:37" pos:end="85:51">edge_emu_buffer</name></name></expr></argument>,

                                 <argument pos:start="87:34" pos:end="87:73"><expr pos:start="87:34" pos:end="87:73"><name pos:start="87:34" pos:end="87:36">ref</name> <operator pos:start="87:38" pos:end="87:38">-</operator> <literal type="number" pos:start="87:40" pos:end="87:40">3</literal> <operator pos:start="87:42" pos:end="87:42">*</operator> <name pos:start="87:44" pos:end="87:53">ref_stride</name> <operator pos:start="87:55" pos:end="87:55">-</operator> <literal type="number" pos:start="87:57" pos:end="87:57">3</literal> <operator pos:start="87:59" pos:end="87:59">*</operator> <name pos:start="87:61" pos:end="87:73">bytesperpixel</name></expr></argument>,

                                 <argument pos:start="89:34" pos:end="89:36"><expr pos:start="89:34" pos:end="89:36"><literal type="number" pos:start="89:34" pos:end="89:36">288</literal></expr></argument>, <argument pos:start="89:39" pos:end="89:48"><expr pos:start="89:39" pos:end="89:48"><name pos:start="89:39" pos:end="89:48">ref_stride</name></expr></argument>,

                                 <argument pos:start="91:34" pos:end="91:45"><expr pos:start="91:34" pos:end="91:45"><name pos:start="91:34" pos:end="91:41">refbw_m1</name> <operator pos:start="91:43" pos:end="91:43">+</operator> <literal type="number" pos:start="91:45" pos:end="91:45">8</literal></expr></argument>, <argument pos:start="91:48" pos:end="91:59"><expr pos:start="91:48" pos:end="91:59"><name pos:start="91:48" pos:end="91:55">refbh_m1</name> <operator pos:start="91:57" pos:end="91:57">+</operator> <literal type="number" pos:start="91:59" pos:end="91:59">8</literal></expr></argument>,

                                 <argument pos:start="93:34" pos:end="93:38"><expr pos:start="93:34" pos:end="93:38"><name pos:start="93:34" pos:end="93:34">x</name> <operator pos:start="93:36" pos:end="93:36">-</operator> <literal type="number" pos:start="93:38" pos:end="93:38">3</literal></expr></argument>, <argument pos:start="93:41" pos:end="93:45"><expr pos:start="93:41" pos:end="93:45"><name pos:start="93:41" pos:end="93:41">y</name> <operator pos:start="93:43" pos:end="93:43">-</operator> <literal type="number" pos:start="93:45" pos:end="93:45">3</literal></expr></argument>, <argument pos:start="93:48" pos:end="93:48"><expr pos:start="93:48" pos:end="93:48"><name pos:start="93:48" pos:end="93:48">w</name></expr></argument>, <argument pos:start="93:51" pos:end="93:51"><expr pos:start="93:51" pos:end="93:51"><name pos:start="93:51" pos:end="93:51">h</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="95:9" pos:end="95:63"><expr pos:start="95:9" pos:end="95:62"><name pos:start="95:9" pos:end="95:11">ref</name> <operator pos:start="95:13" pos:end="95:13">=</operator> <name pos:start="95:15" pos:end="95:32"><name pos:start="95:15" pos:end="95:15">s</name><operator pos:start="95:16" pos:end="95:17">-&gt;</operator><name pos:start="95:18" pos:end="95:32">edge_emu_buffer</name></name> <operator pos:start="95:34" pos:end="95:34">+</operator> <literal type="number" pos:start="95:36" pos:end="95:36">3</literal> <operator pos:start="95:38" pos:end="95:38">*</operator> <literal type="number" pos:start="95:40" pos:end="95:44">288</literal> <operator pos:start="95:44" pos:end="95:44">+</operator> <literal type="number" pos:start="95:46" pos:end="95:46">3</literal> <operator pos:start="95:48" pos:end="95:48">*</operator> <name pos:start="95:50" pos:end="95:62">bytesperpixel</name></expr>;</expr_stmt>

        <expr_stmt pos:start="97:9" pos:end="97:25"><expr pos:start="97:9" pos:end="97:24"><name pos:start="97:9" pos:end="97:18">ref_stride</name> <operator pos:start="97:20" pos:end="97:20">=</operator> <literal type="number" pos:start="97:22" pos:end="97:24">288</literal></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    <expr_stmt pos:start="101:5" pos:end="101:72"><expr pos:start="101:5" pos:end="101:71"><call pos:start="101:5" pos:end="101:71"><name pos:start="101:5" pos:end="101:7">smc</name><argument_list pos:start="101:8" pos:end="101:71">(<argument pos:start="101:9" pos:end="101:11"><expr pos:start="101:9" pos:end="101:11"><name pos:start="101:9" pos:end="101:11">dst</name></expr></argument>, <argument pos:start="101:14" pos:end="101:23"><expr pos:start="101:14" pos:end="101:23"><name pos:start="101:14" pos:end="101:23">dst_stride</name></expr></argument>, <argument pos:start="101:26" pos:end="101:28"><expr pos:start="101:26" pos:end="101:28"><name pos:start="101:26" pos:end="101:28">ref</name></expr></argument>, <argument pos:start="101:31" pos:end="101:40"><expr pos:start="101:31" pos:end="101:40"><name pos:start="101:31" pos:end="101:40">ref_stride</name></expr></argument>, <argument pos:start="101:43" pos:end="101:44"><expr pos:start="101:43" pos:end="101:44"><name pos:start="101:43" pos:end="101:44">bh</name></expr></argument>, <argument pos:start="101:47" pos:end="101:48"><expr pos:start="101:47" pos:end="101:48"><name pos:start="101:47" pos:end="101:48">mx</name></expr></argument>, <argument pos:start="101:51" pos:end="101:52"><expr pos:start="101:51" pos:end="101:52"><name pos:start="101:51" pos:end="101:52">my</name></expr></argument>, <argument pos:start="101:55" pos:end="101:61"><expr pos:start="101:55" pos:end="101:61"><name pos:start="101:55" pos:end="101:61"><name pos:start="101:55" pos:end="101:58">step</name><index pos:start="101:59" pos:end="101:61">[<expr pos:start="101:60" pos:end="101:60"><literal type="number" pos:start="101:60" pos:end="101:60">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="101:64" pos:end="101:70"><expr pos:start="101:64" pos:end="101:70"><name pos:start="101:64" pos:end="101:70"><name pos:start="101:64" pos:end="101:67">step</name><index pos:start="101:68" pos:end="101:70">[<expr pos:start="101:69" pos:end="101:69"><literal type="number" pos:start="101:69" pos:end="101:69">1</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></else></if_stmt>

</block_content>}</block></decl></decl_stmt>
</unit>
