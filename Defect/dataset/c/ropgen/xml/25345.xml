<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/25345.c" pos:tabs="8"><function pos:start="1:1" pos:end="71:1"><type pos:start="1:1" pos:end="1:3"><name pos:start="1:1" pos:end="1:3">int</name></type> <name pos:start="1:5" pos:end="1:17">av_seek_frame</name><parameter_list pos:start="1:18" pos:end="1:85">(<parameter pos:start="1:19" pos:end="1:36"><decl pos:start="1:19" pos:end="1:36"><type pos:start="1:19" pos:end="1:36"><name pos:start="1:19" pos:end="1:33">AVFormatContext</name> <modifier pos:start="1:35" pos:end="1:35">*</modifier></type><name pos:start="1:36" pos:end="1:36">s</name></decl></parameter>, <parameter pos:start="1:39" pos:end="1:54"><decl pos:start="1:39" pos:end="1:54"><type pos:start="1:39" pos:end="1:54"><name pos:start="1:39" pos:end="1:41">int</name></type> <name pos:start="1:43" pos:end="1:54">stream_index</name></decl></parameter>, <parameter pos:start="1:57" pos:end="1:73"><decl pos:start="1:57" pos:end="1:73"><type pos:start="1:57" pos:end="1:73"><name pos:start="1:57" pos:end="1:63">int64_t</name></type> <name pos:start="1:65" pos:end="1:73">timestamp</name></decl></parameter>, <parameter pos:start="1:76" pos:end="1:84"><decl pos:start="1:76" pos:end="1:84"><type pos:start="1:76" pos:end="1:84"><name pos:start="1:76" pos:end="1:78">int</name></type> <name pos:start="1:80" pos:end="1:84">flags</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="71:1">{<block_content pos:start="5:5" pos:end="69:18">

    <decl_stmt pos:start="5:5" pos:end="5:12"><decl pos:start="5:5" pos:end="5:11"><type pos:start="5:5" pos:end="5:7"><name pos:start="5:5" pos:end="5:7">int</name></type> <name pos:start="5:9" pos:end="5:11">ret</name></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:17"><decl pos:start="7:5" pos:end="7:16"><type pos:start="7:5" pos:end="7:14"><name pos:start="7:5" pos:end="7:12">AVStream</name> <modifier pos:start="7:14" pos:end="7:14">*</modifier></type><name pos:start="7:15" pos:end="7:16">st</name></decl>;</decl_stmt>



    <expr_stmt pos:start="11:5" pos:end="11:27"><expr pos:start="11:5" pos:end="11:26"><call pos:start="11:5" pos:end="11:26"><name pos:start="11:5" pos:end="11:23">ff_read_frame_flush</name><argument_list pos:start="11:24" pos:end="11:26">(<argument pos:start="11:25" pos:end="11:25"><expr pos:start="11:25" pos:end="11:25"><name pos:start="11:25" pos:end="11:25">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <if_stmt pos:start="15:5" pos:end="17:66"><if pos:start="15:5" pos:end="17:66">if<condition pos:start="15:7" pos:end="15:32">(<expr pos:start="15:8" pos:end="15:31"><name pos:start="15:8" pos:end="15:12">flags</name> <operator pos:start="15:14" pos:end="15:14">&amp;</operator> <name pos:start="15:16" pos:end="15:31">AVSEEK_FLAG_BYTE</name></expr>)</condition><block type="pseudo" pos:start="17:9" pos:end="17:66"><block_content pos:start="17:9" pos:end="17:66">

        <return pos:start="17:9" pos:end="17:66">return <expr pos:start="17:16" pos:end="17:65"><call pos:start="17:16" pos:end="17:65"><name pos:start="17:16" pos:end="17:30">seek_frame_byte</name><argument_list pos:start="17:31" pos:end="17:65">(<argument pos:start="17:32" pos:end="17:32"><expr pos:start="17:32" pos:end="17:32"><name pos:start="17:32" pos:end="17:32">s</name></expr></argument>, <argument pos:start="17:35" pos:end="17:46"><expr pos:start="17:35" pos:end="17:46"><name pos:start="17:35" pos:end="17:46">stream_index</name></expr></argument>, <argument pos:start="17:49" pos:end="17:57"><expr pos:start="17:49" pos:end="17:57"><name pos:start="17:49" pos:end="17:57">timestamp</name></expr></argument>, <argument pos:start="17:60" pos:end="17:64"><expr pos:start="17:60" pos:end="17:64"><name pos:start="17:60" pos:end="17:64">flags</name></expr></argument>)</argument_list></call></expr>;</return></block_content></block></if></if_stmt>



    <if_stmt pos:start="21:5" pos:end="37:5"><if pos:start="21:5" pos:end="37:5">if<condition pos:start="21:7" pos:end="21:24">(<expr pos:start="21:8" pos:end="21:23"><name pos:start="21:8" pos:end="21:19">stream_index</name> <operator pos:start="21:21" pos:end="21:21">&lt;</operator> <literal type="number" pos:start="21:23" pos:end="21:23">0</literal></expr>)</condition><block pos:start="21:25" pos:end="37:5">{<block_content pos:start="23:9" pos:end="35:104">

        <expr_stmt pos:start="23:9" pos:end="23:54"><expr pos:start="23:9" pos:end="23:53"><name pos:start="23:9" pos:end="23:20">stream_index</name><operator pos:start="23:21" pos:end="23:21">=</operator> <call pos:start="23:23" pos:end="23:53"><name pos:start="23:23" pos:end="23:50">av_find_default_stream_index</name><argument_list pos:start="23:51" pos:end="23:53">(<argument pos:start="23:52" pos:end="23:52"><expr pos:start="23:52" pos:end="23:52"><name pos:start="23:52" pos:end="23:52">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="25:9" pos:end="27:22"><if pos:start="25:9" pos:end="27:22">if<condition pos:start="25:11" pos:end="25:28">(<expr pos:start="25:12" pos:end="25:27"><name pos:start="25:12" pos:end="25:23">stream_index</name> <operator pos:start="25:25" pos:end="25:25">&lt;</operator> <literal type="number" pos:start="25:27" pos:end="25:27">0</literal></expr>)</condition><block type="pseudo" pos:start="27:13" pos:end="27:22"><block_content pos:start="27:13" pos:end="27:22">

            <return pos:start="27:13" pos:end="27:22">return <expr pos:start="27:20" pos:end="27:21"><operator pos:start="27:20" pos:end="27:20">-</operator><literal type="number" pos:start="27:21" pos:end="27:21">1</literal></expr>;</return></block_content></block></if></if_stmt>



        <expr_stmt pos:start="31:9" pos:end="31:37"><expr pos:start="31:9" pos:end="31:36"><name pos:start="31:9" pos:end="31:10">st</name><operator pos:start="31:11" pos:end="31:11">=</operator> <name pos:start="31:13" pos:end="31:36"><name pos:start="31:13" pos:end="31:13">s</name><operator pos:start="31:14" pos:end="31:15">-&gt;</operator><name pos:start="31:16" pos:end="31:22">streams</name><index pos:start="31:23" pos:end="31:36">[<expr pos:start="31:24" pos:end="31:35"><name pos:start="31:24" pos:end="31:35">stream_index</name></expr>]</index></name></expr>;</expr_stmt>

        <comment type="block" pos:start="33:9" pos:end="33:75">/* timestamp for default must be expressed in AV_TIME_BASE units */</comment>

        <expr_stmt pos:start="35:9" pos:end="35:104"><expr pos:start="35:9" pos:end="35:103"><name pos:start="35:9" pos:end="35:17">timestamp</name> <operator pos:start="35:19" pos:end="35:19">=</operator> <call pos:start="35:21" pos:end="35:103"><name pos:start="35:21" pos:end="35:30">av_rescale</name><argument_list pos:start="35:31" pos:end="35:103">(<argument pos:start="35:32" pos:end="35:40"><expr pos:start="35:32" pos:end="35:40"><name pos:start="35:32" pos:end="35:40">timestamp</name></expr></argument>, <argument pos:start="35:43" pos:end="35:59"><expr pos:start="35:43" pos:end="35:59"><name pos:start="35:43" pos:end="35:59"><name pos:start="35:43" pos:end="35:44">st</name><operator pos:start="35:45" pos:end="35:46">-&gt;</operator><name pos:start="35:47" pos:end="35:55">time_base</name><operator pos:start="35:56" pos:end="35:56">.</operator><name pos:start="35:57" pos:end="35:59">den</name></name></expr></argument>, <argument pos:start="35:62" pos:end="35:102"><expr pos:start="35:62" pos:end="35:102"><name pos:start="35:62" pos:end="35:73">AV_TIME_BASE</name> <operator pos:start="35:75" pos:end="35:75">*</operator> <operator pos:start="35:77" pos:end="35:77">(</operator><name pos:start="35:78" pos:end="35:84">int64_t</name><operator pos:start="35:85" pos:end="35:85">)</operator><name pos:start="35:86" pos:end="35:102"><name pos:start="35:86" pos:end="35:87">st</name><operator pos:start="35:88" pos:end="35:89">-&gt;</operator><name pos:start="35:90" pos:end="35:98">time_base</name><operator pos:start="35:99" pos:end="35:99">.</operator><name pos:start="35:100" pos:end="35:102">num</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <comment type="block" pos:start="41:5" pos:end="41:48">/* first, we try the format specific seek */</comment>

    <if_stmt pos:start="43:5" pos:end="49:17"><if pos:start="43:5" pos:end="45:71">if <condition pos:start="43:8" pos:end="43:30">(<expr pos:start="43:9" pos:end="43:29"><name pos:start="43:9" pos:end="43:29"><name pos:start="43:9" pos:end="43:9">s</name><operator pos:start="43:10" pos:end="43:11">-&gt;</operator><name pos:start="43:12" pos:end="43:18">iformat</name><operator pos:start="43:19" pos:end="43:20">-&gt;</operator><name pos:start="43:21" pos:end="43:29">read_seek</name></name></expr>)</condition><block type="pseudo" pos:start="45:9" pos:end="45:71"><block_content pos:start="45:9" pos:end="45:71">

        <expr_stmt pos:start="45:9" pos:end="45:71"><expr pos:start="45:9" pos:end="45:70"><name pos:start="45:9" pos:end="45:11">ret</name> <operator pos:start="45:13" pos:end="45:13">=</operator> <call pos:start="45:15" pos:end="45:70"><name pos:start="45:15" pos:end="45:35"><name pos:start="45:15" pos:end="45:15">s</name><operator pos:start="45:16" pos:end="45:17">-&gt;</operator><name pos:start="45:18" pos:end="45:24">iformat</name><operator pos:start="45:25" pos:end="45:26">-&gt;</operator><name pos:start="45:27" pos:end="45:35">read_seek</name></name><argument_list pos:start="45:36" pos:end="45:70">(<argument pos:start="45:37" pos:end="45:37"><expr pos:start="45:37" pos:end="45:37"><name pos:start="45:37" pos:end="45:37">s</name></expr></argument>, <argument pos:start="45:40" pos:end="45:51"><expr pos:start="45:40" pos:end="45:51"><name pos:start="45:40" pos:end="45:51">stream_index</name></expr></argument>, <argument pos:start="45:54" pos:end="45:62"><expr pos:start="45:54" pos:end="45:62"><name pos:start="45:54" pos:end="45:62">timestamp</name></expr></argument>, <argument pos:start="45:65" pos:end="45:69"><expr pos:start="45:65" pos:end="45:69"><name pos:start="45:65" pos:end="45:69">flags</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if>

    <else pos:start="47:5" pos:end="49:17">else<block type="pseudo" pos:start="49:9" pos:end="49:17"><block_content pos:start="49:9" pos:end="49:17">

        <expr_stmt pos:start="49:9" pos:end="49:17"><expr pos:start="49:9" pos:end="49:16"><name pos:start="49:9" pos:end="49:11">ret</name> <operator pos:start="49:13" pos:end="49:13">=</operator> <operator pos:start="49:15" pos:end="49:15">-</operator><literal type="number" pos:start="49:16" pos:end="49:16">1</literal></expr>;</expr_stmt></block_content></block></else></if_stmt>

    <if_stmt pos:start="51:5" pos:end="55:5"><if pos:start="51:5" pos:end="55:5">if <condition pos:start="51:8" pos:end="51:17">(<expr pos:start="51:9" pos:end="51:16"><name pos:start="51:9" pos:end="51:11">ret</name> <operator pos:start="51:13" pos:end="51:14">&gt;=</operator> <literal type="number" pos:start="51:16" pos:end="51:16">0</literal></expr>)</condition> <block pos:start="51:19" pos:end="55:5">{<block_content pos:start="53:9" pos:end="53:17">

        <return pos:start="53:9" pos:end="53:17">return <expr pos:start="53:16" pos:end="53:16"><literal type="number" pos:start="53:16" pos:end="53:16">0</literal></expr>;</return>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="59:5" pos:end="69:18"><if pos:start="59:5" pos:end="61:71">if<condition pos:start="59:7" pos:end="59:78">(<expr pos:start="59:8" pos:end="59:77"><name pos:start="59:8" pos:end="59:33"><name pos:start="59:8" pos:end="59:8">s</name><operator pos:start="59:9" pos:end="59:10">-&gt;</operator><name pos:start="59:11" pos:end="59:17">iformat</name><operator pos:start="59:18" pos:end="59:19">-&gt;</operator><name pos:start="59:20" pos:end="59:33">read_timestamp</name></name> <operator pos:start="59:35" pos:end="59:36">&amp;&amp;</operator> <operator pos:start="59:38" pos:end="59:38">!</operator><operator pos:start="59:39" pos:end="59:39">(</operator><name pos:start="59:40" pos:end="59:56"><name pos:start="59:40" pos:end="59:40">s</name><operator pos:start="59:41" pos:end="59:42">-&gt;</operator><name pos:start="59:43" pos:end="59:49">iformat</name><operator pos:start="59:50" pos:end="59:51">-&gt;</operator><name pos:start="59:52" pos:end="59:56">flags</name></name> <operator pos:start="59:58" pos:end="59:58">&amp;</operator> <name pos:start="59:60" pos:end="59:76">AVFMT_NOBINSEARCH</name><operator pos:start="59:77" pos:end="59:77">)</operator></expr>)</condition><block type="pseudo" pos:start="61:9" pos:end="61:71"><block_content pos:start="61:9" pos:end="61:71">

        <return pos:start="61:9" pos:end="61:71">return <expr pos:start="61:16" pos:end="61:70"><call pos:start="61:16" pos:end="61:70"><name pos:start="61:16" pos:end="61:35">av_seek_frame_binary</name><argument_list pos:start="61:36" pos:end="61:70">(<argument pos:start="61:37" pos:end="61:37"><expr pos:start="61:37" pos:end="61:37"><name pos:start="61:37" pos:end="61:37">s</name></expr></argument>, <argument pos:start="61:40" pos:end="61:51"><expr pos:start="61:40" pos:end="61:51"><name pos:start="61:40" pos:end="61:51">stream_index</name></expr></argument>, <argument pos:start="61:54" pos:end="61:62"><expr pos:start="61:54" pos:end="61:62"><name pos:start="61:54" pos:end="61:62">timestamp</name></expr></argument>, <argument pos:start="61:65" pos:end="61:69"><expr pos:start="61:65" pos:end="61:69"><name pos:start="61:65" pos:end="61:69">flags</name></expr></argument>)</argument_list></call></expr>;</return></block_content></block></if>

    <if type="elseif" pos:start="63:5" pos:end="65:69">else if <condition pos:start="63:13" pos:end="63:54">(<expr pos:start="63:14" pos:end="63:53"><operator pos:start="63:14" pos:end="63:14">!</operator><operator pos:start="63:15" pos:end="63:15">(</operator><name pos:start="63:16" pos:end="63:32"><name pos:start="63:16" pos:end="63:16">s</name><operator pos:start="63:17" pos:end="63:18">-&gt;</operator><name pos:start="63:19" pos:end="63:25">iformat</name><operator pos:start="63:26" pos:end="63:27">-&gt;</operator><name pos:start="63:28" pos:end="63:32">flags</name></name> <operator pos:start="63:34" pos:end="63:34">&amp;</operator> <name pos:start="63:36" pos:end="63:52">AVFMT_NOGENSEARCH</name><operator pos:start="63:53" pos:end="63:53">)</operator></expr>)</condition><block type="pseudo" pos:start="65:9" pos:end="65:69"><block_content pos:start="65:9" pos:end="65:69">

        <return pos:start="65:9" pos:end="65:69">return <expr pos:start="65:16" pos:end="65:68"><call pos:start="65:16" pos:end="65:68"><name pos:start="65:16" pos:end="65:33">seek_frame_generic</name><argument_list pos:start="65:34" pos:end="65:68">(<argument pos:start="65:35" pos:end="65:35"><expr pos:start="65:35" pos:end="65:35"><name pos:start="65:35" pos:end="65:35">s</name></expr></argument>, <argument pos:start="65:38" pos:end="65:49"><expr pos:start="65:38" pos:end="65:49"><name pos:start="65:38" pos:end="65:49">stream_index</name></expr></argument>, <argument pos:start="65:52" pos:end="65:60"><expr pos:start="65:52" pos:end="65:60"><name pos:start="65:52" pos:end="65:60">timestamp</name></expr></argument>, <argument pos:start="65:63" pos:end="65:67"><expr pos:start="65:63" pos:end="65:67"><name pos:start="65:63" pos:end="65:67">flags</name></expr></argument>)</argument_list></call></expr>;</return></block_content></block></if>

    <else pos:start="67:5" pos:end="69:18">else<block type="pseudo" pos:start="69:9" pos:end="69:18"><block_content pos:start="69:9" pos:end="69:18">

        <return pos:start="69:9" pos:end="69:18">return <expr pos:start="69:16" pos:end="69:17"><operator pos:start="69:16" pos:end="69:16">-</operator><literal type="number" pos:start="69:17" pos:end="69:17">1</literal></expr>;</return></block_content></block></else></if_stmt>

</block_content>}</block></function>
</unit>
