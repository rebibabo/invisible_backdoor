<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/7358.c" pos:tabs="8"><function pos:start="1:1" pos:end="901:1"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:26">encode_picture</name><parameter_list pos:start="1:27" pos:end="1:65">(<parameter pos:start="1:28" pos:end="1:44"><decl pos:start="1:28" pos:end="1:44"><type pos:start="1:28" pos:end="1:44"><name pos:start="1:28" pos:end="1:41">MpegEncContext</name> <modifier pos:start="1:43" pos:end="1:43">*</modifier></type><name pos:start="1:44" pos:end="1:44">s</name></decl></parameter>, <parameter pos:start="1:47" pos:end="1:64"><decl pos:start="1:47" pos:end="1:64"><type pos:start="1:47" pos:end="1:64"><name pos:start="1:47" pos:end="1:49">int</name></type> <name pos:start="1:51" pos:end="1:64">picture_number</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="901:1">{<block_content pos:start="5:5" pos:end="899:5">

    <decl_stmt pos:start="5:5" pos:end="5:39"><decl pos:start="5:5" pos:end="5:12"><type pos:start="5:5" pos:end="5:7"><name pos:start="5:5" pos:end="5:7">int</name></type> <name pos:start="5:9" pos:end="5:12">mb_x</name></decl>, <decl pos:start="5:15" pos:end="5:18"><type ref="prev" pos:start="5:5" pos:end="5:7"/><name pos:start="5:15" pos:end="5:18">mb_y</name></decl>, <decl pos:start="5:21" pos:end="5:28"><type ref="prev" pos:start="5:5" pos:end="5:7"/><name pos:start="5:21" pos:end="5:28">last_gob</name></decl>, <decl pos:start="5:31" pos:end="5:38"><type ref="prev" pos:start="5:5" pos:end="5:7"/><name pos:start="5:31" pos:end="5:34">pdif</name> <init pos:start="5:36" pos:end="5:38">= <expr pos:start="5:38" pos:end="5:38"><literal type="number" pos:start="5:38" pos:end="5:38">0</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:10"><decl pos:start="7:5" pos:end="7:9"><type pos:start="7:5" pos:end="7:7"><name pos:start="7:5" pos:end="7:7">int</name></type> <name pos:start="7:9" pos:end="7:9">i</name></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:13"><decl pos:start="9:5" pos:end="9:12"><type pos:start="9:5" pos:end="9:7"><name pos:start="9:5" pos:end="9:7">int</name></type> <name pos:start="9:9" pos:end="9:12">bits</name></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:36"><decl pos:start="11:5" pos:end="11:25"><type pos:start="11:5" pos:end="11:18"><name pos:start="11:5" pos:end="11:18">MpegEncContext</name></type> <name pos:start="11:20" pos:end="11:25">best_s</name></decl>, <decl pos:start="11:28" pos:end="11:35"><type ref="prev" pos:start="11:5" pos:end="11:18"/><name pos:start="11:28" pos:end="11:35">backup_s</name></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:27"><decl pos:start="13:5" pos:end="13:26"><type pos:start="13:5" pos:end="13:9"><name pos:start="13:5" pos:end="13:9">UINT8</name></type> <name pos:start="13:11" pos:end="13:26"><name pos:start="13:11" pos:end="13:17">bit_buf</name><index pos:start="13:18" pos:end="13:20">[<expr pos:start="13:19" pos:end="13:19"><literal type="number" pos:start="13:19" pos:end="13:19">7</literal></expr>]</index><index pos:start="13:21" pos:end="13:26">[<expr pos:start="13:22" pos:end="13:25"><literal type="number" pos:start="13:22" pos:end="13:25">3000</literal></expr>]</index></name></decl>;</decl_stmt> <comment type="line" pos:start="13:29" pos:end="13:83">//FIXME check that this is ALLWAYS large enogh for a MB</comment>



    <expr_stmt pos:start="17:5" pos:end="17:39"><expr pos:start="17:5" pos:end="17:38"><name pos:start="17:5" pos:end="17:21"><name pos:start="17:5" pos:end="17:5">s</name><operator pos:start="17:6" pos:end="17:7">-&gt;</operator><name pos:start="17:8" pos:end="17:21">picture_number</name></name> <operator pos:start="17:23" pos:end="17:23">=</operator> <name pos:start="17:25" pos:end="17:38">picture_number</name></expr>;</expr_stmt>



    <expr_stmt pos:start="21:5" pos:end="27:40"><expr pos:start="21:5" pos:end="27:39"><name pos:start="21:5" pos:end="21:20"><name pos:start="21:5" pos:end="21:5">s</name><operator pos:start="21:6" pos:end="21:7">-&gt;</operator><name pos:start="21:8" pos:end="21:17">block_wrap</name><index pos:start="21:18" pos:end="21:20">[<expr pos:start="21:19" pos:end="21:19"><literal type="number" pos:start="21:19" pos:end="21:19">0</literal></expr>]</index></name><operator pos:start="21:21" pos:end="21:21">=</operator>

    <name pos:start="23:5" pos:end="23:20"><name pos:start="23:5" pos:end="23:5">s</name><operator pos:start="23:6" pos:end="23:7">-&gt;</operator><name pos:start="23:8" pos:end="23:17">block_wrap</name><index pos:start="23:18" pos:end="23:20">[<expr pos:start="23:19" pos:end="23:19"><literal type="number" pos:start="23:19" pos:end="23:19">1</literal></expr>]</index></name><operator pos:start="23:21" pos:end="23:21">=</operator>

    <name pos:start="25:5" pos:end="25:20"><name pos:start="25:5" pos:end="25:5">s</name><operator pos:start="25:6" pos:end="25:7">-&gt;</operator><name pos:start="25:8" pos:end="25:17">block_wrap</name><index pos:start="25:18" pos:end="25:20">[<expr pos:start="25:19" pos:end="25:19"><literal type="number" pos:start="25:19" pos:end="25:19">2</literal></expr>]</index></name><operator pos:start="25:21" pos:end="25:21">=</operator>

    <name pos:start="27:5" pos:end="27:20"><name pos:start="27:5" pos:end="27:5">s</name><operator pos:start="27:6" pos:end="27:7">-&gt;</operator><name pos:start="27:8" pos:end="27:17">block_wrap</name><index pos:start="27:18" pos:end="27:20">[<expr pos:start="27:19" pos:end="27:19"><literal type="number" pos:start="27:19" pos:end="27:19">3</literal></expr>]</index></name><operator pos:start="27:21" pos:end="27:21">=</operator> <name pos:start="27:23" pos:end="27:33"><name pos:start="27:23" pos:end="27:23">s</name><operator pos:start="27:24" pos:end="27:25">-&gt;</operator><name pos:start="27:26" pos:end="27:33">mb_width</name></name><operator pos:start="27:34" pos:end="27:34">*</operator><literal type="number" pos:start="27:35" pos:end="27:37">2</literal> <operator pos:start="27:37" pos:end="27:37">+</operator> <literal type="number" pos:start="27:39" pos:end="27:39">2</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="29:5" pos:end="31:38"><expr pos:start="29:5" pos:end="31:37"><name pos:start="29:5" pos:end="29:20"><name pos:start="29:5" pos:end="29:5">s</name><operator pos:start="29:6" pos:end="29:7">-&gt;</operator><name pos:start="29:8" pos:end="29:17">block_wrap</name><index pos:start="29:18" pos:end="29:20">[<expr pos:start="29:19" pos:end="29:19"><literal type="number" pos:start="29:19" pos:end="29:19">4</literal></expr>]</index></name><operator pos:start="29:21" pos:end="29:21">=</operator>

    <name pos:start="31:5" pos:end="31:20"><name pos:start="31:5" pos:end="31:5">s</name><operator pos:start="31:6" pos:end="31:7">-&gt;</operator><name pos:start="31:8" pos:end="31:17">block_wrap</name><index pos:start="31:18" pos:end="31:20">[<expr pos:start="31:19" pos:end="31:19"><literal type="number" pos:start="31:19" pos:end="31:19">5</literal></expr>]</index></name><operator pos:start="31:21" pos:end="31:21">=</operator> <name pos:start="31:23" pos:end="31:33"><name pos:start="31:23" pos:end="31:23">s</name><operator pos:start="31:24" pos:end="31:25">-&gt;</operator><name pos:start="31:26" pos:end="31:33">mb_width</name></name> <operator pos:start="31:35" pos:end="31:35">+</operator> <literal type="number" pos:start="31:37" pos:end="31:37">2</literal></expr>;</expr_stmt>

    

    <comment type="block" pos:start="35:5" pos:end="35:39">/* Reset the average MB variance */</comment>

    <expr_stmt pos:start="37:5" pos:end="37:22"><expr pos:start="37:5" pos:end="37:21"><name pos:start="37:5" pos:end="37:17"><name pos:start="37:5" pos:end="37:5">s</name><operator pos:start="37:6" pos:end="37:7">-&gt;</operator><name pos:start="37:8" pos:end="37:17">avg_mb_var</name></name> <operator pos:start="37:19" pos:end="37:19">=</operator> <literal type="number" pos:start="37:21" pos:end="37:21">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="39:5" pos:end="39:21"><expr pos:start="39:5" pos:end="39:20"><name pos:start="39:5" pos:end="39:16"><name pos:start="39:5" pos:end="39:5">s</name><operator pos:start="39:6" pos:end="39:7">-&gt;</operator><name pos:start="39:8" pos:end="39:16">mc_mb_var</name></name> <operator pos:start="39:18" pos:end="39:18">=</operator> <literal type="number" pos:start="39:20" pos:end="39:20">0</literal></expr>;</expr_stmt>



    <comment type="block" pos:start="43:5" pos:end="43:76">/* we need to initialize some time vars before we can encode b-frames */</comment>

    <if_stmt pos:start="45:5" pos:end="47:48"><if pos:start="45:5" pos:end="47:48">if <condition pos:start="45:8" pos:end="45:41">(<expr pos:start="45:9" pos:end="45:40"><name pos:start="45:9" pos:end="45:20"><name pos:start="45:9" pos:end="45:9">s</name><operator pos:start="45:10" pos:end="45:11">-&gt;</operator><name pos:start="45:12" pos:end="45:20">h263_pred</name></name> <operator pos:start="45:22" pos:end="45:23">&amp;&amp;</operator> <operator pos:start="45:25" pos:end="45:25">!</operator><name pos:start="45:26" pos:end="45:40"><name pos:start="45:26" pos:end="45:26">s</name><operator pos:start="45:27" pos:end="45:28">-&gt;</operator><name pos:start="45:29" pos:end="45:40">h263_msmpeg4</name></name></expr>)</condition><block type="pseudo" pos:start="47:9" pos:end="47:48"><block_content pos:start="47:9" pos:end="47:48">

        <expr_stmt pos:start="47:9" pos:end="47:48"><expr pos:start="47:9" pos:end="47:47"><call pos:start="47:9" pos:end="47:47"><name pos:start="47:9" pos:end="47:25">ff_set_mpeg4_time</name><argument_list pos:start="47:26" pos:end="47:47">(<argument pos:start="47:27" pos:end="47:27"><expr pos:start="47:27" pos:end="47:27"><name pos:start="47:27" pos:end="47:27">s</name></expr></argument>, <argument pos:start="47:30" pos:end="47:46"><expr pos:start="47:30" pos:end="47:46"><name pos:start="47:30" pos:end="47:46"><name pos:start="47:30" pos:end="47:30">s</name><operator pos:start="47:31" pos:end="47:32">-&gt;</operator><name pos:start="47:33" pos:end="47:46">picture_number</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt> 



    <comment type="block" pos:start="51:5" pos:end="51:38">/* Estimate motion for every MB */</comment>

    <if_stmt pos:start="53:5" pos:end="119:5"><if pos:start="53:5" pos:end="107:5">if<condition pos:start="53:7" pos:end="53:30">(<expr pos:start="53:8" pos:end="53:29"><name pos:start="53:8" pos:end="53:19"><name pos:start="53:8" pos:end="53:8">s</name><operator pos:start="53:9" pos:end="53:10">-&gt;</operator><name pos:start="53:11" pos:end="53:19">pict_type</name></name> <operator pos:start="53:21" pos:end="53:22">!=</operator> <name pos:start="53:24" pos:end="53:29">I_TYPE</name></expr>)</condition><block pos:start="53:31" pos:end="107:5">{<block_content pos:start="63:9" pos:end="105:17">

<comment type="line" pos:start="55:1" pos:end="55:43">//        int16_t (*tmp)[2]= s-&gt;p_mv_table;</comment>

<comment type="line" pos:start="57:1" pos:end="57:42">//        s-&gt;p_mv_table= s-&gt;last_mv_table;</comment>

<comment type="line" pos:start="59:1" pos:end="59:40">//        s-&gt;last_mv_table= s-&gt;mv_table;</comment>

    

        <for pos:start="63:9" pos:end="103:9">for<control pos:start="63:12" pos:end="63:48">(<init pos:start="63:13" pos:end="63:19"><expr pos:start="63:13" pos:end="63:18"><name pos:start="63:13" pos:end="63:16">mb_y</name><operator pos:start="63:17" pos:end="63:17">=</operator><literal type="number" pos:start="63:18" pos:end="63:18">0</literal></expr>;</init> <condition pos:start="63:21" pos:end="63:40"><expr pos:start="63:21" pos:end="63:39"><name pos:start="63:21" pos:end="63:24">mb_y</name> <operator pos:start="63:26" pos:end="63:26">&lt;</operator> <name pos:start="63:28" pos:end="63:39"><name pos:start="63:28" pos:end="63:28">s</name><operator pos:start="63:29" pos:end="63:30">-&gt;</operator><name pos:start="63:31" pos:end="63:39">mb_height</name></name></expr>;</condition> <incr pos:start="63:42" pos:end="63:47"><expr pos:start="63:42" pos:end="63:47"><name pos:start="63:42" pos:end="63:45">mb_y</name><operator pos:start="63:46" pos:end="63:47">++</operator></expr></incr>)</control> <block pos:start="63:50" pos:end="103:9">{<block_content pos:start="65:13" pos:end="101:13">

            <expr_stmt pos:start="65:13" pos:end="65:65"><expr pos:start="65:13" pos:end="65:64"><name pos:start="65:13" pos:end="65:29"><name pos:start="65:13" pos:end="65:13">s</name><operator pos:start="65:14" pos:end="65:15">-&gt;</operator><name pos:start="65:16" pos:end="65:26">block_index</name><index pos:start="65:27" pos:end="65:29">[<expr pos:start="65:28" pos:end="65:28"><literal type="number" pos:start="65:28" pos:end="65:28">0</literal></expr>]</index></name><operator pos:start="65:30" pos:end="65:30">=</operator> <name pos:start="65:32" pos:end="65:47"><name pos:start="65:32" pos:end="65:32">s</name><operator pos:start="65:33" pos:end="65:34">-&gt;</operator><name pos:start="65:35" pos:end="65:44">block_wrap</name><index pos:start="65:45" pos:end="65:47">[<expr pos:start="65:46" pos:end="65:46"><literal type="number" pos:start="65:46" pos:end="65:46">0</literal></expr>]</index></name><operator pos:start="65:48" pos:end="65:48">*</operator><operator pos:start="65:49" pos:end="65:49">(</operator><name pos:start="65:50" pos:end="65:53">mb_y</name><operator pos:start="65:54" pos:end="65:54">*</operator><literal type="number" pos:start="65:55" pos:end="65:57">2</literal> <operator pos:start="65:57" pos:end="65:57">+</operator> <literal type="number" pos:start="65:59" pos:end="65:59">1</literal><operator pos:start="65:60" pos:end="65:60">)</operator> <operator pos:start="65:62" pos:end="65:62">-</operator> <literal type="number" pos:start="65:64" pos:end="65:64">1</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="67:13" pos:end="67:61"><expr pos:start="67:13" pos:end="67:60"><name pos:start="67:13" pos:end="67:29"><name pos:start="67:13" pos:end="67:13">s</name><operator pos:start="67:14" pos:end="67:15">-&gt;</operator><name pos:start="67:16" pos:end="67:26">block_index</name><index pos:start="67:27" pos:end="67:29">[<expr pos:start="67:28" pos:end="67:28"><literal type="number" pos:start="67:28" pos:end="67:28">1</literal></expr>]</index></name><operator pos:start="67:30" pos:end="67:30">=</operator> <name pos:start="67:32" pos:end="67:47"><name pos:start="67:32" pos:end="67:32">s</name><operator pos:start="67:33" pos:end="67:34">-&gt;</operator><name pos:start="67:35" pos:end="67:44">block_wrap</name><index pos:start="67:45" pos:end="67:47">[<expr pos:start="67:46" pos:end="67:46"><literal type="number" pos:start="67:46" pos:end="67:46">0</literal></expr>]</index></name><operator pos:start="67:48" pos:end="67:48">*</operator><operator pos:start="67:49" pos:end="67:49">(</operator><name pos:start="67:50" pos:end="67:53">mb_y</name><operator pos:start="67:54" pos:end="67:54">*</operator><literal type="number" pos:start="67:55" pos:end="67:57">2</literal> <operator pos:start="67:57" pos:end="67:57">+</operator> <literal type="number" pos:start="67:59" pos:end="67:59">1</literal><operator pos:start="67:60" pos:end="67:60">)</operator></expr>;</expr_stmt>

            <expr_stmt pos:start="69:13" pos:end="69:65"><expr pos:start="69:13" pos:end="69:64"><name pos:start="69:13" pos:end="69:29"><name pos:start="69:13" pos:end="69:13">s</name><operator pos:start="69:14" pos:end="69:15">-&gt;</operator><name pos:start="69:16" pos:end="69:26">block_index</name><index pos:start="69:27" pos:end="69:29">[<expr pos:start="69:28" pos:end="69:28"><literal type="number" pos:start="69:28" pos:end="69:28">2</literal></expr>]</index></name><operator pos:start="69:30" pos:end="69:30">=</operator> <name pos:start="69:32" pos:end="69:47"><name pos:start="69:32" pos:end="69:32">s</name><operator pos:start="69:33" pos:end="69:34">-&gt;</operator><name pos:start="69:35" pos:end="69:44">block_wrap</name><index pos:start="69:45" pos:end="69:47">[<expr pos:start="69:46" pos:end="69:46"><literal type="number" pos:start="69:46" pos:end="69:46">0</literal></expr>]</index></name><operator pos:start="69:48" pos:end="69:48">*</operator><operator pos:start="69:49" pos:end="69:49">(</operator><name pos:start="69:50" pos:end="69:53">mb_y</name><operator pos:start="69:54" pos:end="69:54">*</operator><literal type="number" pos:start="69:55" pos:end="69:57">2</literal> <operator pos:start="69:57" pos:end="69:57">+</operator> <literal type="number" pos:start="69:59" pos:end="69:59">2</literal><operator pos:start="69:60" pos:end="69:60">)</operator> <operator pos:start="69:62" pos:end="69:62">-</operator> <literal type="number" pos:start="69:64" pos:end="69:64">1</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="71:13" pos:end="71:61"><expr pos:start="71:13" pos:end="71:60"><name pos:start="71:13" pos:end="71:29"><name pos:start="71:13" pos:end="71:13">s</name><operator pos:start="71:14" pos:end="71:15">-&gt;</operator><name pos:start="71:16" pos:end="71:26">block_index</name><index pos:start="71:27" pos:end="71:29">[<expr pos:start="71:28" pos:end="71:28"><literal type="number" pos:start="71:28" pos:end="71:28">3</literal></expr>]</index></name><operator pos:start="71:30" pos:end="71:30">=</operator> <name pos:start="71:32" pos:end="71:47"><name pos:start="71:32" pos:end="71:32">s</name><operator pos:start="71:33" pos:end="71:34">-&gt;</operator><name pos:start="71:35" pos:end="71:44">block_wrap</name><index pos:start="71:45" pos:end="71:47">[<expr pos:start="71:46" pos:end="71:46"><literal type="number" pos:start="71:46" pos:end="71:46">0</literal></expr>]</index></name><operator pos:start="71:48" pos:end="71:48">*</operator><operator pos:start="71:49" pos:end="71:49">(</operator><name pos:start="71:50" pos:end="71:53">mb_y</name><operator pos:start="71:54" pos:end="71:54">*</operator><literal type="number" pos:start="71:55" pos:end="71:57">2</literal> <operator pos:start="71:57" pos:end="71:57">+</operator> <literal type="number" pos:start="71:59" pos:end="71:59">2</literal><operator pos:start="71:60" pos:end="71:60">)</operator></expr>;</expr_stmt>

            <for pos:start="73:13" pos:end="101:13">for<control pos:start="73:16" pos:end="73:51">(<init pos:start="73:17" pos:end="73:23"><expr pos:start="73:17" pos:end="73:22"><name pos:start="73:17" pos:end="73:20">mb_x</name><operator pos:start="73:21" pos:end="73:21">=</operator><literal type="number" pos:start="73:22" pos:end="73:22">0</literal></expr>;</init> <condition pos:start="73:25" pos:end="73:43"><expr pos:start="73:25" pos:end="73:42"><name pos:start="73:25" pos:end="73:28">mb_x</name> <operator pos:start="73:30" pos:end="73:30">&lt;</operator> <name pos:start="73:32" pos:end="73:42"><name pos:start="73:32" pos:end="73:32">s</name><operator pos:start="73:33" pos:end="73:34">-&gt;</operator><name pos:start="73:35" pos:end="73:42">mb_width</name></name></expr>;</condition> <incr pos:start="73:45" pos:end="73:50"><expr pos:start="73:45" pos:end="73:50"><name pos:start="73:45" pos:end="73:48">mb_x</name><operator pos:start="73:49" pos:end="73:50">++</operator></expr></incr>)</control> <block pos:start="73:53" pos:end="101:13">{<block_content pos:start="75:17" pos:end="97:62">

                <expr_stmt pos:start="75:17" pos:end="75:31"><expr pos:start="75:17" pos:end="75:30"><name pos:start="75:17" pos:end="75:23"><name pos:start="75:17" pos:end="75:17">s</name><operator pos:start="75:18" pos:end="75:19">-&gt;</operator><name pos:start="75:20" pos:end="75:23">mb_x</name></name> <operator pos:start="75:25" pos:end="75:25">=</operator> <name pos:start="75:27" pos:end="75:30">mb_x</name></expr>;</expr_stmt>

                <expr_stmt pos:start="77:17" pos:end="77:31"><expr pos:start="77:17" pos:end="77:30"><name pos:start="77:17" pos:end="77:23"><name pos:start="77:17" pos:end="77:17">s</name><operator pos:start="77:18" pos:end="77:19">-&gt;</operator><name pos:start="77:20" pos:end="77:23">mb_y</name></name> <operator pos:start="77:25" pos:end="77:25">=</operator> <name pos:start="77:27" pos:end="77:30">mb_y</name></expr>;</expr_stmt>

                <expr_stmt pos:start="79:17" pos:end="79:37"><expr pos:start="79:17" pos:end="79:36"><name pos:start="79:17" pos:end="79:33"><name pos:start="79:17" pos:end="79:17">s</name><operator pos:start="79:18" pos:end="79:19">-&gt;</operator><name pos:start="79:20" pos:end="79:30">block_index</name><index pos:start="79:31" pos:end="79:33">[<expr pos:start="79:32" pos:end="79:32"><literal type="number" pos:start="79:32" pos:end="79:32">0</literal></expr>]</index></name><operator pos:start="79:34" pos:end="79:35">+=</operator><literal type="number" pos:start="79:36" pos:end="79:36">2</literal></expr>;</expr_stmt>

                <expr_stmt pos:start="81:17" pos:end="81:37"><expr pos:start="81:17" pos:end="81:36"><name pos:start="81:17" pos:end="81:33"><name pos:start="81:17" pos:end="81:17">s</name><operator pos:start="81:18" pos:end="81:19">-&gt;</operator><name pos:start="81:20" pos:end="81:30">block_index</name><index pos:start="81:31" pos:end="81:33">[<expr pos:start="81:32" pos:end="81:32"><literal type="number" pos:start="81:32" pos:end="81:32">1</literal></expr>]</index></name><operator pos:start="81:34" pos:end="81:35">+=</operator><literal type="number" pos:start="81:36" pos:end="81:36">2</literal></expr>;</expr_stmt>

                <expr_stmt pos:start="83:17" pos:end="83:37"><expr pos:start="83:17" pos:end="83:36"><name pos:start="83:17" pos:end="83:33"><name pos:start="83:17" pos:end="83:17">s</name><operator pos:start="83:18" pos:end="83:19">-&gt;</operator><name pos:start="83:20" pos:end="83:30">block_index</name><index pos:start="83:31" pos:end="83:33">[<expr pos:start="83:32" pos:end="83:32"><literal type="number" pos:start="83:32" pos:end="83:32">2</literal></expr>]</index></name><operator pos:start="83:34" pos:end="83:35">+=</operator><literal type="number" pos:start="83:36" pos:end="83:36">2</literal></expr>;</expr_stmt>

                <expr_stmt pos:start="85:17" pos:end="85:37"><expr pos:start="85:17" pos:end="85:36"><name pos:start="85:17" pos:end="85:33"><name pos:start="85:17" pos:end="85:17">s</name><operator pos:start="85:18" pos:end="85:19">-&gt;</operator><name pos:start="85:20" pos:end="85:30">block_index</name><index pos:start="85:31" pos:end="85:33">[<expr pos:start="85:32" pos:end="85:32"><literal type="number" pos:start="85:32" pos:end="85:32">3</literal></expr>]</index></name><operator pos:start="85:34" pos:end="85:35">+=</operator><literal type="number" pos:start="85:36" pos:end="85:36">2</literal></expr>;</expr_stmt>



                <comment type="block" pos:start="89:17" pos:end="89:74">/* compute motion vector &amp; mb_type and store in context */</comment>

                <if_stmt pos:start="91:17" pos:end="97:62"><if pos:start="91:17" pos:end="93:62">if<condition pos:start="91:19" pos:end="91:40">(<expr pos:start="91:20" pos:end="91:39"><name pos:start="91:20" pos:end="91:31"><name pos:start="91:20" pos:end="91:20">s</name><operator pos:start="91:21" pos:end="91:22">-&gt;</operator><name pos:start="91:23" pos:end="91:31">pict_type</name></name><operator pos:start="91:32" pos:end="91:33">==</operator><name pos:start="91:34" pos:end="91:39">B_TYPE</name></expr>)</condition><block type="pseudo" pos:start="93:21" pos:end="93:62"><block_content pos:start="93:21" pos:end="93:62">

                    <expr_stmt pos:start="93:21" pos:end="93:62"><expr pos:start="93:21" pos:end="93:61"><call pos:start="93:21" pos:end="93:61"><name pos:start="93:21" pos:end="93:46">ff_estimate_b_frame_motion</name><argument_list pos:start="93:47" pos:end="93:61">(<argument pos:start="93:48" pos:end="93:48"><expr pos:start="93:48" pos:end="93:48"><name pos:start="93:48" pos:end="93:48">s</name></expr></argument>, <argument pos:start="93:51" pos:end="93:54"><expr pos:start="93:51" pos:end="93:54"><name pos:start="93:51" pos:end="93:54">mb_x</name></expr></argument>, <argument pos:start="93:57" pos:end="93:60"><expr pos:start="93:57" pos:end="93:60"><name pos:start="93:57" pos:end="93:60">mb_y</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if>

                <else pos:start="95:17" pos:end="97:62">else<block type="pseudo" pos:start="97:21" pos:end="97:62"><block_content pos:start="97:21" pos:end="97:62">

                    <expr_stmt pos:start="97:21" pos:end="97:62"><expr pos:start="97:21" pos:end="97:61"><call pos:start="97:21" pos:end="97:61"><name pos:start="97:21" pos:end="97:46">ff_estimate_p_frame_motion</name><argument_list pos:start="97:47" pos:end="97:61">(<argument pos:start="97:48" pos:end="97:48"><expr pos:start="97:48" pos:end="97:48"><name pos:start="97:48" pos:end="97:48">s</name></expr></argument>, <argument pos:start="97:51" pos:end="97:54"><expr pos:start="97:51" pos:end="97:54"><name pos:start="97:51" pos:end="97:54">mb_x</name></expr></argument>, <argument pos:start="97:57" pos:end="97:60"><expr pos:start="97:57" pos:end="97:60"><name pos:start="97:57" pos:end="97:60">mb_y</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></else></if_stmt>

<comment type="line" pos:start="99:1" pos:end="99:68">//                s-&gt;mb_type[mb_y*s-&gt;mb_width + mb_x]=MB_TYPE_INTER;</comment>

            </block_content>}</block></for>

        </block_content>}</block></for>

        <expr_stmt pos:start="105:9" pos:end="105:17"><expr pos:start="105:9" pos:end="105:16"><call pos:start="105:9" pos:end="105:16"><name pos:start="105:9" pos:end="105:14">emms_c</name><argument_list pos:start="105:15" pos:end="105:16">()</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if><if type="elseif" pos:start="107:6" pos:end="119:5">else if<condition pos:start="107:13" pos:end="107:36">(<expr pos:start="107:14" pos:end="107:35"><name pos:start="107:14" pos:end="107:25"><name pos:start="107:14" pos:end="107:14">s</name><operator pos:start="107:15" pos:end="107:16">-&gt;</operator><name pos:start="107:17" pos:end="107:25">pict_type</name></name> <operator pos:start="107:27" pos:end="107:28">==</operator> <name pos:start="107:30" pos:end="107:35">I_TYPE</name></expr>)</condition><block pos:start="107:37" pos:end="119:5">{<block_content pos:start="113:9" pos:end="117:88">

        <comment type="block" pos:start="109:9" pos:end="109:21">/* I-Frame */</comment>

        <comment type="line" pos:start="111:9" pos:end="111:40">//FIXME do we need to zero them?</comment>

        <expr_stmt pos:start="113:9" pos:end="113:94"><expr pos:start="113:9" pos:end="113:93"><call pos:start="113:9" pos:end="113:93"><name pos:start="113:9" pos:end="113:14">memset</name><argument_list pos:start="113:15" pos:end="113:93">(<argument pos:start="113:16" pos:end="113:31"><expr pos:start="113:16" pos:end="113:31"><name pos:start="113:16" pos:end="113:31"><name pos:start="113:16" pos:end="113:16">s</name><operator pos:start="113:17" pos:end="113:18">-&gt;</operator><name pos:start="113:19" pos:end="113:28">motion_val</name><index pos:start="113:29" pos:end="113:31">[<expr pos:start="113:30" pos:end="113:30"><literal type="number" pos:start="113:30" pos:end="113:30">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="113:34" pos:end="113:34"><expr pos:start="113:34" pos:end="113:34"><literal type="number" pos:start="113:34" pos:end="113:34">0</literal></expr></argument>, <argument pos:start="113:37" pos:end="113:92"><expr pos:start="113:37" pos:end="113:92"><sizeof pos:start="113:37" pos:end="113:49">sizeof<argument_list pos:start="113:43" pos:end="113:49">(<argument pos:start="113:44" pos:end="113:48"><expr pos:start="113:44" pos:end="113:48"><name pos:start="113:44" pos:end="113:48">INT16</name></expr></argument>)</argument_list></sizeof><operator pos:start="113:50" pos:end="113:50">*</operator><operator pos:start="113:51" pos:end="113:51">(</operator><name pos:start="113:52" pos:end="113:62"><name pos:start="113:52" pos:end="113:52">s</name><operator pos:start="113:53" pos:end="113:54">-&gt;</operator><name pos:start="113:55" pos:end="113:62">mb_width</name></name><operator pos:start="113:63" pos:end="113:63">*</operator><literal type="number" pos:start="113:64" pos:end="113:66">2</literal> <operator pos:start="113:66" pos:end="113:66">+</operator> <literal type="number" pos:start="113:68" pos:end="113:68">2</literal><operator pos:start="113:69" pos:end="113:69">)</operator><operator pos:start="113:70" pos:end="113:70">*</operator><operator pos:start="113:71" pos:end="113:71">(</operator><name pos:start="113:72" pos:end="113:83"><name pos:start="113:72" pos:end="113:72">s</name><operator pos:start="113:73" pos:end="113:74">-&gt;</operator><name pos:start="113:75" pos:end="113:83">mb_height</name></name><operator pos:start="113:84" pos:end="113:84">*</operator><literal type="number" pos:start="113:85" pos:end="113:87">2</literal> <operator pos:start="113:87" pos:end="113:87">+</operator> <literal type="number" pos:start="113:89" pos:end="113:89">2</literal><operator pos:start="113:90" pos:end="113:90">)</operator><operator pos:start="113:91" pos:end="113:91">*</operator><literal type="number" pos:start="113:92" pos:end="113:92">2</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="115:9" pos:end="115:86"><expr pos:start="115:9" pos:end="115:85"><call pos:start="115:9" pos:end="115:85"><name pos:start="115:9" pos:end="115:14">memset</name><argument_list pos:start="115:15" pos:end="115:85">(<argument pos:start="115:16" pos:end="115:28"><expr pos:start="115:16" pos:end="115:28"><name pos:start="115:16" pos:end="115:28"><name pos:start="115:16" pos:end="115:16">s</name><operator pos:start="115:17" pos:end="115:18">-&gt;</operator><name pos:start="115:19" pos:end="115:28">p_mv_table</name></name></expr></argument>   , <argument pos:start="115:34" pos:end="115:34"><expr pos:start="115:34" pos:end="115:34"><literal type="number" pos:start="115:34" pos:end="115:34">0</literal></expr></argument>, <argument pos:start="115:37" pos:end="115:84"><expr pos:start="115:37" pos:end="115:84"><sizeof pos:start="115:37" pos:end="115:49">sizeof<argument_list pos:start="115:43" pos:end="115:49">(<argument pos:start="115:44" pos:end="115:48"><expr pos:start="115:44" pos:end="115:48"><name pos:start="115:44" pos:end="115:48">INT16</name></expr></argument>)</argument_list></sizeof><operator pos:start="115:50" pos:end="115:50">*</operator><operator pos:start="115:51" pos:end="115:51">(</operator><name pos:start="115:52" pos:end="115:62"><name pos:start="115:52" pos:end="115:52">s</name><operator pos:start="115:53" pos:end="115:54">-&gt;</operator><name pos:start="115:55" pos:end="115:62">mb_width</name></name><operator pos:start="115:63" pos:end="115:63">+</operator><literal type="number" pos:start="115:64" pos:end="115:64">2</literal><operator pos:start="115:65" pos:end="115:65">)</operator><operator pos:start="115:66" pos:end="115:66">*</operator><operator pos:start="115:67" pos:end="115:67">(</operator><name pos:start="115:68" pos:end="115:79"><name pos:start="115:68" pos:end="115:68">s</name><operator pos:start="115:69" pos:end="115:70">-&gt;</operator><name pos:start="115:71" pos:end="115:79">mb_height</name></name><operator pos:start="115:80" pos:end="115:80">+</operator><literal type="number" pos:start="115:81" pos:end="115:81">2</literal><operator pos:start="115:82" pos:end="115:82">)</operator><operator pos:start="115:83" pos:end="115:83">*</operator><literal type="number" pos:start="115:84" pos:end="115:84">2</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="117:9" pos:end="117:88"><expr pos:start="117:9" pos:end="117:87"><call pos:start="117:9" pos:end="117:87"><name pos:start="117:9" pos:end="117:14">memset</name><argument_list pos:start="117:15" pos:end="117:87">(<argument pos:start="117:16" pos:end="117:25"><expr pos:start="117:16" pos:end="117:25"><name pos:start="117:16" pos:end="117:25"><name pos:start="117:16" pos:end="117:16">s</name><operator pos:start="117:17" pos:end="117:18">-&gt;</operator><name pos:start="117:19" pos:end="117:25">mb_type</name></name></expr></argument>      , <argument pos:start="117:34" pos:end="117:46"><expr pos:start="117:34" pos:end="117:46"><name pos:start="117:34" pos:end="117:46">MB_TYPE_INTRA</name></expr></argument>, <argument pos:start="117:49" pos:end="117:86"><expr pos:start="117:49" pos:end="117:86"><sizeof pos:start="117:49" pos:end="117:61">sizeof<argument_list pos:start="117:55" pos:end="117:61">(<argument pos:start="117:56" pos:end="117:60"><expr pos:start="117:56" pos:end="117:60"><name pos:start="117:56" pos:end="117:60">UINT8</name></expr></argument>)</argument_list></sizeof><operator pos:start="117:62" pos:end="117:62">*</operator><name pos:start="117:63" pos:end="117:73"><name pos:start="117:63" pos:end="117:63">s</name><operator pos:start="117:64" pos:end="117:65">-&gt;</operator><name pos:start="117:66" pos:end="117:73">mb_width</name></name><operator pos:start="117:74" pos:end="117:74">*</operator><name pos:start="117:75" pos:end="117:86"><name pos:start="117:75" pos:end="117:75">s</name><operator pos:start="117:76" pos:end="117:77">-&gt;</operator><name pos:start="117:78" pos:end="117:86">mb_height</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="123:5" pos:end="139:5"><if pos:start="123:5" pos:end="139:5">if<condition pos:start="123:7" pos:end="123:62">(<expr pos:start="123:8" pos:end="123:61"><name pos:start="123:8" pos:end="123:20"><name pos:start="123:8" pos:end="123:8">s</name><operator pos:start="123:9" pos:end="123:10">-&gt;</operator><name pos:start="123:11" pos:end="123:20">avg_mb_var</name></name> <operator pos:start="123:22" pos:end="123:22">&lt;</operator> <name pos:start="123:24" pos:end="123:35"><name pos:start="123:24" pos:end="123:24">s</name><operator pos:start="123:25" pos:end="123:26">-&gt;</operator><name pos:start="123:27" pos:end="123:35">mc_mb_var</name></name> <operator pos:start="123:37" pos:end="123:38">&amp;&amp;</operator> <name pos:start="123:40" pos:end="123:51"><name pos:start="123:40" pos:end="123:40">s</name><operator pos:start="123:41" pos:end="123:42">-&gt;</operator><name pos:start="123:43" pos:end="123:51">pict_type</name></name> <operator pos:start="123:53" pos:end="123:54">==</operator> <name pos:start="123:56" pos:end="123:61">P_TYPE</name></expr>)</condition><block pos:start="123:63" pos:end="139:5">{<block_content pos:start="125:9" pos:end="135:9"> <comment type="line" pos:start="123:65" pos:end="123:88">//FIXME subtract MV bits</comment>

        <expr_stmt pos:start="125:9" pos:end="125:29"><expr pos:start="125:9" pos:end="125:28"><name pos:start="125:9" pos:end="125:20"><name pos:start="125:9" pos:end="125:9">s</name><operator pos:start="125:10" pos:end="125:11">-&gt;</operator><name pos:start="125:12" pos:end="125:20">pict_type</name></name><operator pos:start="125:21" pos:end="125:21">=</operator> <name pos:start="125:23" pos:end="125:28">I_TYPE</name></expr>;</expr_stmt>

        <expr_stmt pos:start="127:9" pos:end="127:85"><expr pos:start="127:9" pos:end="127:84"><call pos:start="127:9" pos:end="127:84"><name pos:start="127:9" pos:end="127:14">memset</name><argument_list pos:start="127:15" pos:end="127:84">(<argument pos:start="127:16" pos:end="127:25"><expr pos:start="127:16" pos:end="127:25"><name pos:start="127:16" pos:end="127:25"><name pos:start="127:16" pos:end="127:16">s</name><operator pos:start="127:17" pos:end="127:18">-&gt;</operator><name pos:start="127:19" pos:end="127:25">mb_type</name></name></expr></argument>   , <argument pos:start="127:31" pos:end="127:43"><expr pos:start="127:31" pos:end="127:43"><name pos:start="127:31" pos:end="127:43">MB_TYPE_INTRA</name></expr></argument>, <argument pos:start="127:46" pos:end="127:83"><expr pos:start="127:46" pos:end="127:83"><sizeof pos:start="127:46" pos:end="127:58">sizeof<argument_list pos:start="127:52" pos:end="127:58">(<argument pos:start="127:53" pos:end="127:57"><expr pos:start="127:53" pos:end="127:57"><name pos:start="127:53" pos:end="127:57">UINT8</name></expr></argument>)</argument_list></sizeof><operator pos:start="127:59" pos:end="127:59">*</operator><name pos:start="127:60" pos:end="127:70"><name pos:start="127:60" pos:end="127:60">s</name><operator pos:start="127:61" pos:end="127:62">-&gt;</operator><name pos:start="127:63" pos:end="127:70">mb_width</name></name><operator pos:start="127:71" pos:end="127:71">*</operator><name pos:start="127:72" pos:end="127:83"><name pos:start="127:72" pos:end="127:72">s</name><operator pos:start="127:73" pos:end="127:74">-&gt;</operator><name pos:start="127:75" pos:end="127:83">mb_height</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="129:9" pos:end="135:9"><if pos:start="129:9" pos:end="135:9">if<condition pos:start="129:11" pos:end="129:30">(<expr pos:start="129:12" pos:end="129:29"><name pos:start="129:12" pos:end="129:26"><name pos:start="129:12" pos:end="129:12">s</name><operator pos:start="129:13" pos:end="129:14">-&gt;</operator><name pos:start="129:15" pos:end="129:26">max_b_frames</name></name><operator pos:start="129:27" pos:end="129:28">==</operator><literal type="number" pos:start="129:29" pos:end="129:29">0</literal></expr>)</condition><block pos:start="129:31" pos:end="135:9">{<block_content pos:start="131:13" pos:end="133:45">

            <expr_stmt pos:start="131:13" pos:end="131:39"><expr pos:start="131:13" pos:end="131:38"><name pos:start="131:13" pos:end="131:30"><name pos:start="131:13" pos:end="131:13">s</name><operator pos:start="131:14" pos:end="131:15">-&gt;</operator><name pos:start="131:16" pos:end="131:30">input_pict_type</name></name><operator pos:start="131:31" pos:end="131:31">=</operator> <name pos:start="131:33" pos:end="131:38">I_TYPE</name></expr>;</expr_stmt>

            <expr_stmt pos:start="133:13" pos:end="133:45"><expr pos:start="133:13" pos:end="133:44"><name pos:start="133:13" pos:end="133:42"><name pos:start="133:13" pos:end="133:13">s</name><operator pos:start="133:14" pos:end="133:15">-&gt;</operator><name pos:start="133:16" pos:end="133:42">input_picture_in_gop_number</name></name><operator pos:start="133:43" pos:end="133:43">=</operator><literal type="number" pos:start="133:44" pos:end="133:44">0</literal></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>

<comment type="line" pos:start="137:1" pos:end="137:57">//printf("Scene change detected, encoding as I Frame\n");</comment>

    </block_content>}</block></if></if_stmt>

    

    <if_stmt pos:start="143:5" pos:end="145:70"><if pos:start="143:5" pos:end="145:70">if<condition pos:start="143:7" pos:end="143:52">(<expr pos:start="143:8" pos:end="143:51"><name pos:start="143:8" pos:end="143:19"><name pos:start="143:8" pos:end="143:8">s</name><operator pos:start="143:9" pos:end="143:10">-&gt;</operator><name pos:start="143:11" pos:end="143:19">pict_type</name></name><operator pos:start="143:20" pos:end="143:21">==</operator><name pos:start="143:22" pos:end="143:27">P_TYPE</name> <operator pos:start="143:29" pos:end="143:30">||</operator> <name pos:start="143:32" pos:end="143:43"><name pos:start="143:32" pos:end="143:32">s</name><operator pos:start="143:33" pos:end="143:34">-&gt;</operator><name pos:start="143:35" pos:end="143:43">pict_type</name></name><operator pos:start="143:44" pos:end="143:45">==</operator><name pos:start="143:46" pos:end="143:51">S_TYPE</name></expr>)</condition><block type="pseudo" pos:start="145:9" pos:end="145:70"><block_content pos:start="145:9" pos:end="145:70"> 

        <expr_stmt pos:start="145:9" pos:end="145:70"><expr pos:start="145:9" pos:end="145:69"><name pos:start="145:9" pos:end="145:17"><name pos:start="145:9" pos:end="145:9">s</name><operator pos:start="145:10" pos:end="145:11">-&gt;</operator><name pos:start="145:12" pos:end="145:17">f_code</name></name><operator pos:start="145:18" pos:end="145:18">=</operator> <call pos:start="145:20" pos:end="145:69"><name pos:start="145:20" pos:end="145:36">ff_get_best_fcode</name><argument_list pos:start="145:37" pos:end="145:69">(<argument pos:start="145:38" pos:end="145:38"><expr pos:start="145:38" pos:end="145:38"><name pos:start="145:38" pos:end="145:38">s</name></expr></argument>, <argument pos:start="145:41" pos:end="145:53"><expr pos:start="145:41" pos:end="145:53"><name pos:start="145:41" pos:end="145:53"><name pos:start="145:41" pos:end="145:41">s</name><operator pos:start="145:42" pos:end="145:43">-&gt;</operator><name pos:start="145:44" pos:end="145:53">p_mv_table</name></name></expr></argument>, <argument pos:start="145:56" pos:end="145:68"><expr pos:start="145:56" pos:end="145:68"><name pos:start="145:56" pos:end="145:68">MB_TYPE_INTER</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

        <expr_stmt pos:start="147:9" pos:end="147:29"><expr pos:start="147:9" pos:end="147:28"><call pos:start="147:9" pos:end="147:28"><name pos:start="147:9" pos:end="147:25">ff_fix_long_p_mvs</name><argument_list pos:start="147:26" pos:end="147:28">(<argument pos:start="147:27" pos:end="147:27"><expr pos:start="147:27" pos:end="147:27"><name pos:start="147:27" pos:end="147:27">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="149:5" pos:end="165:5"><if pos:start="149:5" pos:end="165:5">if<condition pos:start="149:7" pos:end="149:28">(<expr pos:start="149:8" pos:end="149:27"><name pos:start="149:8" pos:end="149:19"><name pos:start="149:8" pos:end="149:8">s</name><operator pos:start="149:9" pos:end="149:10">-&gt;</operator><name pos:start="149:11" pos:end="149:19">pict_type</name></name><operator pos:start="149:20" pos:end="149:21">==</operator><name pos:start="149:22" pos:end="149:27">B_TYPE</name></expr>)</condition><block pos:start="149:29" pos:end="165:5">{<block_content pos:start="151:9" pos:end="163:81">

        <expr_stmt pos:start="151:9" pos:end="151:77"><expr pos:start="151:9" pos:end="151:76"><name pos:start="151:9" pos:end="151:17"><name pos:start="151:9" pos:end="151:9">s</name><operator pos:start="151:10" pos:end="151:11">-&gt;</operator><name pos:start="151:12" pos:end="151:17">f_code</name></name><operator pos:start="151:18" pos:end="151:18">=</operator> <call pos:start="151:20" pos:end="151:76"><name pos:start="151:20" pos:end="151:36">ff_get_best_fcode</name><argument_list pos:start="151:37" pos:end="151:76">(<argument pos:start="151:38" pos:end="151:38"><expr pos:start="151:38" pos:end="151:38"><name pos:start="151:38" pos:end="151:38">s</name></expr></argument>, <argument pos:start="151:41" pos:end="151:58"><expr pos:start="151:41" pos:end="151:58"><name pos:start="151:41" pos:end="151:58"><name pos:start="151:41" pos:end="151:41">s</name><operator pos:start="151:42" pos:end="151:43">-&gt;</operator><name pos:start="151:44" pos:end="151:58">b_forw_mv_table</name></name></expr></argument>, <argument pos:start="151:61" pos:end="151:75"><expr pos:start="151:61" pos:end="151:75"><name pos:start="151:61" pos:end="151:75">MB_TYPE_FORWARD</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="153:9" pos:end="153:78"><expr pos:start="153:9" pos:end="153:77"><name pos:start="153:9" pos:end="153:17"><name pos:start="153:9" pos:end="153:9">s</name><operator pos:start="153:10" pos:end="153:11">-&gt;</operator><name pos:start="153:12" pos:end="153:17">b_code</name></name><operator pos:start="153:18" pos:end="153:18">=</operator> <call pos:start="153:20" pos:end="153:77"><name pos:start="153:20" pos:end="153:36">ff_get_best_fcode</name><argument_list pos:start="153:37" pos:end="153:77">(<argument pos:start="153:38" pos:end="153:38"><expr pos:start="153:38" pos:end="153:38"><name pos:start="153:38" pos:end="153:38">s</name></expr></argument>, <argument pos:start="153:41" pos:end="153:58"><expr pos:start="153:41" pos:end="153:58"><name pos:start="153:41" pos:end="153:58"><name pos:start="153:41" pos:end="153:41">s</name><operator pos:start="153:42" pos:end="153:43">-&gt;</operator><name pos:start="153:44" pos:end="153:58">b_back_mv_table</name></name></expr></argument>, <argument pos:start="153:61" pos:end="153:76"><expr pos:start="153:61" pos:end="153:76"><name pos:start="153:61" pos:end="153:76">MB_TYPE_BACKWARD</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <expr_stmt pos:start="157:9" pos:end="157:77"><expr pos:start="157:9" pos:end="157:76"><call pos:start="157:9" pos:end="157:76"><name pos:start="157:9" pos:end="157:25">ff_fix_long_b_mvs</name><argument_list pos:start="157:26" pos:end="157:76">(<argument pos:start="157:27" pos:end="157:27"><expr pos:start="157:27" pos:end="157:27"><name pos:start="157:27" pos:end="157:27">s</name></expr></argument>, <argument pos:start="157:30" pos:end="157:47"><expr pos:start="157:30" pos:end="157:47"><name pos:start="157:30" pos:end="157:47"><name pos:start="157:30" pos:end="157:30">s</name><operator pos:start="157:31" pos:end="157:32">-&gt;</operator><name pos:start="157:33" pos:end="157:47">b_forw_mv_table</name></name></expr></argument>, <argument pos:start="157:50" pos:end="157:58"><expr pos:start="157:50" pos:end="157:58"><name pos:start="157:50" pos:end="157:58"><name pos:start="157:50" pos:end="157:50">s</name><operator pos:start="157:51" pos:end="157:52">-&gt;</operator><name pos:start="157:53" pos:end="157:58">f_code</name></name></expr></argument>, <argument pos:start="157:61" pos:end="157:75"><expr pos:start="157:61" pos:end="157:75"><name pos:start="157:61" pos:end="157:75">MB_TYPE_FORWARD</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="159:9" pos:end="159:78"><expr pos:start="159:9" pos:end="159:77"><call pos:start="159:9" pos:end="159:77"><name pos:start="159:9" pos:end="159:25">ff_fix_long_b_mvs</name><argument_list pos:start="159:26" pos:end="159:77">(<argument pos:start="159:27" pos:end="159:27"><expr pos:start="159:27" pos:end="159:27"><name pos:start="159:27" pos:end="159:27">s</name></expr></argument>, <argument pos:start="159:30" pos:end="159:47"><expr pos:start="159:30" pos:end="159:47"><name pos:start="159:30" pos:end="159:47"><name pos:start="159:30" pos:end="159:30">s</name><operator pos:start="159:31" pos:end="159:32">-&gt;</operator><name pos:start="159:33" pos:end="159:47">b_back_mv_table</name></name></expr></argument>, <argument pos:start="159:50" pos:end="159:58"><expr pos:start="159:50" pos:end="159:58"><name pos:start="159:50" pos:end="159:58"><name pos:start="159:50" pos:end="159:50">s</name><operator pos:start="159:51" pos:end="159:52">-&gt;</operator><name pos:start="159:53" pos:end="159:58">b_code</name></name></expr></argument>, <argument pos:start="159:61" pos:end="159:76"><expr pos:start="159:61" pos:end="159:76"><name pos:start="159:61" pos:end="159:76">MB_TYPE_BACKWARD</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="161:9" pos:end="161:81"><expr pos:start="161:9" pos:end="161:80"><call pos:start="161:9" pos:end="161:80"><name pos:start="161:9" pos:end="161:25">ff_fix_long_b_mvs</name><argument_list pos:start="161:26" pos:end="161:80">(<argument pos:start="161:27" pos:end="161:27"><expr pos:start="161:27" pos:end="161:27"><name pos:start="161:27" pos:end="161:27">s</name></expr></argument>, <argument pos:start="161:30" pos:end="161:53"><expr pos:start="161:30" pos:end="161:53"><name pos:start="161:30" pos:end="161:53"><name pos:start="161:30" pos:end="161:30">s</name><operator pos:start="161:31" pos:end="161:32">-&gt;</operator><name pos:start="161:33" pos:end="161:53">b_bidir_forw_mv_table</name></name></expr></argument>, <argument pos:start="161:56" pos:end="161:64"><expr pos:start="161:56" pos:end="161:64"><name pos:start="161:56" pos:end="161:64"><name pos:start="161:56" pos:end="161:56">s</name><operator pos:start="161:57" pos:end="161:58">-&gt;</operator><name pos:start="161:59" pos:end="161:64">f_code</name></name></expr></argument>, <argument pos:start="161:67" pos:end="161:79"><expr pos:start="161:67" pos:end="161:79"><name pos:start="161:67" pos:end="161:79">MB_TYPE_BIDIR</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="163:9" pos:end="163:81"><expr pos:start="163:9" pos:end="163:80"><call pos:start="163:9" pos:end="163:80"><name pos:start="163:9" pos:end="163:25">ff_fix_long_b_mvs</name><argument_list pos:start="163:26" pos:end="163:80">(<argument pos:start="163:27" pos:end="163:27"><expr pos:start="163:27" pos:end="163:27"><name pos:start="163:27" pos:end="163:27">s</name></expr></argument>, <argument pos:start="163:30" pos:end="163:53"><expr pos:start="163:30" pos:end="163:53"><name pos:start="163:30" pos:end="163:53"><name pos:start="163:30" pos:end="163:30">s</name><operator pos:start="163:31" pos:end="163:32">-&gt;</operator><name pos:start="163:33" pos:end="163:53">b_bidir_back_mv_table</name></name></expr></argument>, <argument pos:start="163:56" pos:end="163:64"><expr pos:start="163:56" pos:end="163:64"><name pos:start="163:56" pos:end="163:64"><name pos:start="163:56" pos:end="163:56">s</name><operator pos:start="163:57" pos:end="163:58">-&gt;</operator><name pos:start="163:59" pos:end="163:64">b_code</name></name></expr></argument>, <argument pos:start="163:67" pos:end="163:79"><expr pos:start="163:67" pos:end="163:79"><name pos:start="163:67" pos:end="163:79">MB_TYPE_BIDIR</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    

<comment type="line" pos:start="169:1" pos:end="169:39">//printf("f_code %d ///\n", s-&gt;f_code);</comment>



<comment type="line" pos:start="173:1" pos:end="173:53">//    printf("%d %d\n", s-&gt;avg_mb_var, s-&gt;mc_mb_var);</comment>



    <if_stmt pos:start="177:5" pos:end="183:47"><if pos:start="177:5" pos:end="179:53">if<condition pos:start="177:7" pos:end="177:33">(<expr pos:start="177:8" pos:end="177:32"><name pos:start="177:8" pos:end="177:15"><name pos:start="177:8" pos:end="177:8">s</name><operator pos:start="177:9" pos:end="177:10">-&gt;</operator><name pos:start="177:11" pos:end="177:15">flags</name></name><operator pos:start="177:16" pos:end="177:16">&amp;</operator><name pos:start="177:17" pos:end="177:32">CODEC_FLAG_PASS2</name></expr>)</condition><block type="pseudo" pos:start="179:9" pos:end="179:53"><block_content pos:start="179:9" pos:end="179:53">

        <expr_stmt pos:start="179:9" pos:end="179:53"><expr pos:start="179:9" pos:end="179:52"><name pos:start="179:9" pos:end="179:17"><name pos:start="179:9" pos:end="179:9">s</name><operator pos:start="179:10" pos:end="179:11">-&gt;</operator><name pos:start="179:12" pos:end="179:17">qscale</name></name> <operator pos:start="179:19" pos:end="179:19">=</operator> <call pos:start="179:21" pos:end="179:52"><name pos:start="179:21" pos:end="179:49">ff_rate_estimate_qscale_pass2</name><argument_list pos:start="179:50" pos:end="179:52">(<argument pos:start="179:51" pos:end="179:51"><expr pos:start="179:51" pos:end="179:51"><name pos:start="179:51" pos:end="179:51">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if>

    <if type="elseif" pos:start="181:5" pos:end="183:47">else if <condition pos:start="181:13" pos:end="181:30">(<expr pos:start="181:14" pos:end="181:29"><operator pos:start="181:14" pos:end="181:14">!</operator><name pos:start="181:15" pos:end="181:29"><name pos:start="181:15" pos:end="181:15">s</name><operator pos:start="181:16" pos:end="181:17">-&gt;</operator><name pos:start="181:18" pos:end="181:29">fixed_qscale</name></name></expr>)</condition><block type="pseudo" pos:start="183:9" pos:end="183:47"><block_content pos:start="183:9" pos:end="183:47"> 

        <expr_stmt pos:start="183:9" pos:end="183:47"><expr pos:start="183:9" pos:end="183:46"><name pos:start="183:9" pos:end="183:17"><name pos:start="183:9" pos:end="183:9">s</name><operator pos:start="183:10" pos:end="183:11">-&gt;</operator><name pos:start="183:12" pos:end="183:17">qscale</name></name> <operator pos:start="183:19" pos:end="183:19">=</operator> <call pos:start="183:21" pos:end="183:46"><name pos:start="183:21" pos:end="183:43">ff_rate_estimate_qscale</name><argument_list pos:start="183:44" pos:end="183:46">(<argument pos:start="183:45" pos:end="183:45"><expr pos:start="183:45" pos:end="183:45"><name pos:start="183:45" pos:end="183:45">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>





    <comment type="block" pos:start="189:5" pos:end="189:27">/* precompute matrix */</comment>

    <if_stmt pos:start="191:5" pos:end="209:5"><if pos:start="191:5" pos:end="203:5">if <condition pos:start="191:8" pos:end="191:35">(<expr pos:start="191:9" pos:end="191:34"><name pos:start="191:9" pos:end="191:21"><name pos:start="191:9" pos:end="191:9">s</name><operator pos:start="191:10" pos:end="191:11">-&gt;</operator><name pos:start="191:12" pos:end="191:21">out_format</name></name> <operator pos:start="191:23" pos:end="191:24">==</operator> <name pos:start="191:26" pos:end="191:34">FMT_MJPEG</name></expr>)</condition> <block pos:start="191:37" pos:end="203:5">{<block_content pos:start="195:9" pos:end="201:83">

        <comment type="block" pos:start="193:9" pos:end="193:59">/* for mjpeg, we do include qscale in the matrix */</comment>

        <expr_stmt pos:start="195:9" pos:end="195:53"><expr pos:start="195:9" pos:end="195:52"><name pos:start="195:9" pos:end="195:26"><name pos:start="195:9" pos:end="195:9">s</name><operator pos:start="195:10" pos:end="195:11">-&gt;</operator><name pos:start="195:12" pos:end="195:23">intra_matrix</name><index pos:start="195:24" pos:end="195:26">[<expr pos:start="195:25" pos:end="195:25"><literal type="number" pos:start="195:25" pos:end="195:25">0</literal></expr>]</index></name> <operator pos:start="195:28" pos:end="195:28">=</operator> <name pos:start="195:30" pos:end="195:52"><name pos:start="195:30" pos:end="195:49">default_intra_matrix</name><index pos:start="195:50" pos:end="195:52">[<expr pos:start="195:51" pos:end="195:51"><literal type="number" pos:start="195:51" pos:end="195:51">0</literal></expr>]</index></name></expr>;</expr_stmt>

        <for pos:start="197:9" pos:end="199:76">for<control pos:start="197:12" pos:end="197:25">(<init pos:start="197:13" pos:end="197:16"><expr pos:start="197:13" pos:end="197:15"><name pos:start="197:13" pos:end="197:13">i</name><operator pos:start="197:14" pos:end="197:14">=</operator><literal type="number" pos:start="197:15" pos:end="197:15">1</literal></expr>;</init><condition pos:start="197:17" pos:end="197:21"><expr pos:start="197:17" pos:end="197:20"><name pos:start="197:17" pos:end="197:17">i</name><operator pos:start="197:18" pos:end="197:18">&lt;</operator><literal type="number" pos:start="197:19" pos:end="197:20">64</literal></expr>;</condition><incr pos:start="197:22" pos:end="197:24"><expr pos:start="197:22" pos:end="197:24"><name pos:start="197:22" pos:end="197:22">i</name><operator pos:start="197:23" pos:end="197:24">++</operator></expr></incr>)</control><block type="pseudo" pos:start="199:13" pos:end="199:76"><block_content pos:start="199:13" pos:end="199:76">

            <expr_stmt pos:start="199:13" pos:end="199:76"><expr pos:start="199:13" pos:end="199:75"><name pos:start="199:13" pos:end="199:30"><name pos:start="199:13" pos:end="199:13">s</name><operator pos:start="199:14" pos:end="199:15">-&gt;</operator><name pos:start="199:16" pos:end="199:27">intra_matrix</name><index pos:start="199:28" pos:end="199:30">[<expr pos:start="199:29" pos:end="199:29"><name pos:start="199:29" pos:end="199:29">i</name></expr>]</index></name> <operator pos:start="199:32" pos:end="199:32">=</operator> <operator pos:start="199:34" pos:end="199:34">(</operator><name pos:start="199:35" pos:end="199:57"><name pos:start="199:35" pos:end="199:54">default_intra_matrix</name><index pos:start="199:55" pos:end="199:57">[<expr pos:start="199:56" pos:end="199:56"><name pos:start="199:56" pos:end="199:56">i</name></expr>]</index></name> <operator pos:start="199:59" pos:end="199:59">*</operator> <name pos:start="199:61" pos:end="199:69"><name pos:start="199:61" pos:end="199:61">s</name><operator pos:start="199:62" pos:end="199:63">-&gt;</operator><name pos:start="199:64" pos:end="199:69">qscale</name></name><operator pos:start="199:70" pos:end="199:70">)</operator> <operator pos:start="199:72" pos:end="199:73">&gt;&gt;</operator> <literal type="number" pos:start="199:75" pos:end="199:75">3</literal></expr>;</expr_stmt></block_content></block></for>

        <expr_stmt pos:start="201:9" pos:end="201:83"><expr pos:start="201:9" pos:end="201:82"><call pos:start="201:9" pos:end="201:82"><name pos:start="201:9" pos:end="201:22">convert_matrix</name><argument_list pos:start="201:23" pos:end="201:82">(<argument pos:start="201:24" pos:end="201:40"><expr pos:start="201:24" pos:end="201:40"><name pos:start="201:24" pos:end="201:40"><name pos:start="201:24" pos:end="201:24">s</name><operator pos:start="201:25" pos:end="201:26">-&gt;</operator><name pos:start="201:27" pos:end="201:40">q_intra_matrix</name></name></expr></argument>, <argument pos:start="201:43" pos:end="201:61"><expr pos:start="201:43" pos:end="201:61"><name pos:start="201:43" pos:end="201:61"><name pos:start="201:43" pos:end="201:43">s</name><operator pos:start="201:44" pos:end="201:45">-&gt;</operator><name pos:start="201:46" pos:end="201:61">q_intra_matrix16</name></name></expr></argument>, <argument pos:start="201:64" pos:end="201:78"><expr pos:start="201:64" pos:end="201:78"><name pos:start="201:64" pos:end="201:78"><name pos:start="201:64" pos:end="201:64">s</name><operator pos:start="201:65" pos:end="201:66">-&gt;</operator><name pos:start="201:67" pos:end="201:78">intra_matrix</name></name></expr></argument>, <argument pos:start="201:81" pos:end="201:81"><expr pos:start="201:81" pos:end="201:81"><literal type="number" pos:start="201:81" pos:end="201:81">8</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="203:7" pos:end="209:5">else <block pos:start="203:12" pos:end="209:5">{<block_content pos:start="205:9" pos:end="207:103">

        <expr_stmt pos:start="205:9" pos:end="205:91"><expr pos:start="205:9" pos:end="205:90"><call pos:start="205:9" pos:end="205:90"><name pos:start="205:9" pos:end="205:22">convert_matrix</name><argument_list pos:start="205:23" pos:end="205:90">(<argument pos:start="205:24" pos:end="205:40"><expr pos:start="205:24" pos:end="205:40"><name pos:start="205:24" pos:end="205:40"><name pos:start="205:24" pos:end="205:24">s</name><operator pos:start="205:25" pos:end="205:26">-&gt;</operator><name pos:start="205:27" pos:end="205:40">q_intra_matrix</name></name></expr></argument>, <argument pos:start="205:43" pos:end="205:61"><expr pos:start="205:43" pos:end="205:61"><name pos:start="205:43" pos:end="205:61"><name pos:start="205:43" pos:end="205:43">s</name><operator pos:start="205:44" pos:end="205:45">-&gt;</operator><name pos:start="205:46" pos:end="205:61">q_intra_matrix16</name></name></expr></argument>, <argument pos:start="205:64" pos:end="205:78"><expr pos:start="205:64" pos:end="205:78"><name pos:start="205:64" pos:end="205:78"><name pos:start="205:64" pos:end="205:64">s</name><operator pos:start="205:65" pos:end="205:66">-&gt;</operator><name pos:start="205:67" pos:end="205:78">intra_matrix</name></name></expr></argument>, <argument pos:start="205:81" pos:end="205:89"><expr pos:start="205:81" pos:end="205:89"><name pos:start="205:81" pos:end="205:89"><name pos:start="205:81" pos:end="205:81">s</name><operator pos:start="205:82" pos:end="205:83">-&gt;</operator><name pos:start="205:84" pos:end="205:89">qscale</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="207:9" pos:end="207:103"><expr pos:start="207:9" pos:end="207:102"><call pos:start="207:9" pos:end="207:102"><name pos:start="207:9" pos:end="207:22">convert_matrix</name><argument_list pos:start="207:23" pos:end="207:102">(<argument pos:start="207:24" pos:end="207:44"><expr pos:start="207:24" pos:end="207:44"><name pos:start="207:24" pos:end="207:44"><name pos:start="207:24" pos:end="207:24">s</name><operator pos:start="207:25" pos:end="207:26">-&gt;</operator><name pos:start="207:27" pos:end="207:44">q_non_intra_matrix</name></name></expr></argument>, <argument pos:start="207:47" pos:end="207:69"><expr pos:start="207:47" pos:end="207:69"><name pos:start="207:47" pos:end="207:69"><name pos:start="207:47" pos:end="207:47">s</name><operator pos:start="207:48" pos:end="207:49">-&gt;</operator><name pos:start="207:50" pos:end="207:69">q_non_intra_matrix16</name></name></expr></argument>, <argument pos:start="207:72" pos:end="207:90"><expr pos:start="207:72" pos:end="207:90"><name pos:start="207:72" pos:end="207:90"><name pos:start="207:72" pos:end="207:72">s</name><operator pos:start="207:73" pos:end="207:74">-&gt;</operator><name pos:start="207:75" pos:end="207:90">non_intra_matrix</name></name></expr></argument>, <argument pos:start="207:93" pos:end="207:101"><expr pos:start="207:93" pos:end="207:101"><name pos:start="207:93" pos:end="207:101"><name pos:start="207:93" pos:end="207:93">s</name><operator pos:start="207:94" pos:end="207:95">-&gt;</operator><name pos:start="207:96" pos:end="207:101">qscale</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></else></if_stmt>



    <expr_stmt pos:start="213:5" pos:end="213:40"><expr pos:start="213:5" pos:end="213:39"><name pos:start="213:5" pos:end="213:16"><name pos:start="213:5" pos:end="213:5">s</name><operator pos:start="213:6" pos:end="213:7">-&gt;</operator><name pos:start="213:8" pos:end="213:16">last_bits</name></name><operator pos:start="213:17" pos:end="213:17">=</operator> <call pos:start="213:19" pos:end="213:39"><name pos:start="213:19" pos:end="213:31">get_bit_count</name><argument_list pos:start="213:32" pos:end="213:39">(<argument pos:start="213:33" pos:end="213:38"><expr pos:start="213:33" pos:end="213:38"><operator pos:start="213:33" pos:end="213:33">&amp;</operator><name pos:start="213:34" pos:end="213:38"><name pos:start="213:34" pos:end="213:34">s</name><operator pos:start="213:35" pos:end="213:36">-&gt;</operator><name pos:start="213:37" pos:end="213:38">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <switch pos:start="215:5" pos:end="249:5">switch<condition pos:start="215:11" pos:end="215:25">(<expr pos:start="215:12" pos:end="215:24"><name pos:start="215:12" pos:end="215:24"><name pos:start="215:12" pos:end="215:12">s</name><operator pos:start="215:13" pos:end="215:14">-&gt;</operator><name pos:start="215:15" pos:end="215:24">out_format</name></name></expr>)</condition> <block pos:start="215:27" pos:end="249:5">{<block_content pos:start="217:5" pos:end="247:14">

    <case pos:start="217:5" pos:end="217:19">case <expr pos:start="217:10" pos:end="217:18"><name pos:start="217:10" pos:end="217:18">FMT_MJPEG</name></expr>:</case>

        <expr_stmt pos:start="219:9" pos:end="219:32"><expr pos:start="219:9" pos:end="219:31"><call pos:start="219:9" pos:end="219:31"><name pos:start="219:9" pos:end="219:28">mjpeg_picture_header</name><argument_list pos:start="219:29" pos:end="219:31">(<argument pos:start="219:30" pos:end="219:30"><expr pos:start="219:30" pos:end="219:30"><name pos:start="219:30" pos:end="219:30">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <break pos:start="221:9" pos:end="221:14">break;</break>

    <case pos:start="223:5" pos:end="223:18">case <expr pos:start="223:10" pos:end="223:17"><name pos:start="223:10" pos:end="223:17">FMT_H263</name></expr>:</case>

        <if_stmt pos:start="225:9" pos:end="239:58"><if pos:start="225:9" pos:end="227:61">if <condition pos:start="225:12" pos:end="225:28">(<expr pos:start="225:13" pos:end="225:27"><name pos:start="225:13" pos:end="225:27"><name pos:start="225:13" pos:end="225:13">s</name><operator pos:start="225:14" pos:end="225:15">-&gt;</operator><name pos:start="225:16" pos:end="225:27">h263_msmpeg4</name></name></expr>)</condition><block type="pseudo" pos:start="227:13" pos:end="227:61"><block_content pos:start="227:13" pos:end="227:61"> 

            <expr_stmt pos:start="227:13" pos:end="227:61"><expr pos:start="227:13" pos:end="227:60"><call pos:start="227:13" pos:end="227:60"><name pos:start="227:13" pos:end="227:41">msmpeg4_encode_picture_header</name><argument_list pos:start="227:42" pos:end="227:60">(<argument pos:start="227:43" pos:end="227:43"><expr pos:start="227:43" pos:end="227:43"><name pos:start="227:43" pos:end="227:43">s</name></expr></argument>, <argument pos:start="227:46" pos:end="227:59"><expr pos:start="227:46" pos:end="227:59"><name pos:start="227:46" pos:end="227:59">picture_number</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if>

        <if type="elseif" pos:start="229:9" pos:end="231:59">else if <condition pos:start="229:17" pos:end="229:30">(<expr pos:start="229:18" pos:end="229:29"><name pos:start="229:18" pos:end="229:29"><name pos:start="229:18" pos:end="229:18">s</name><operator pos:start="229:19" pos:end="229:20">-&gt;</operator><name pos:start="229:21" pos:end="229:29">h263_pred</name></name></expr>)</condition><block type="pseudo" pos:start="231:13" pos:end="231:59"><block_content pos:start="231:13" pos:end="231:59">

            <expr_stmt pos:start="231:13" pos:end="231:59"><expr pos:start="231:13" pos:end="231:58"><call pos:start="231:13" pos:end="231:58"><name pos:start="231:13" pos:end="231:39">mpeg4_encode_picture_header</name><argument_list pos:start="231:40" pos:end="231:58">(<argument pos:start="231:41" pos:end="231:41"><expr pos:start="231:41" pos:end="231:41"><name pos:start="231:41" pos:end="231:41">s</name></expr></argument>, <argument pos:start="231:44" pos:end="231:57"><expr pos:start="231:44" pos:end="231:57"><name pos:start="231:44" pos:end="231:57">picture_number</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if>

        <if type="elseif" pos:start="233:9" pos:end="235:58">else if <condition pos:start="233:17" pos:end="233:30">(<expr pos:start="233:18" pos:end="233:29"><name pos:start="233:18" pos:end="233:29"><name pos:start="233:18" pos:end="233:18">s</name><operator pos:start="233:19" pos:end="233:20">-&gt;</operator><name pos:start="233:21" pos:end="233:29">h263_rv10</name></name></expr>)</condition><block type="pseudo" pos:start="235:13" pos:end="235:58"><block_content pos:start="235:13" pos:end="235:58"> 

            <expr_stmt pos:start="235:13" pos:end="235:58"><expr pos:start="235:13" pos:end="235:57"><call pos:start="235:13" pos:end="235:57"><name pos:start="235:13" pos:end="235:38">rv10_encode_picture_header</name><argument_list pos:start="235:39" pos:end="235:57">(<argument pos:start="235:40" pos:end="235:40"><expr pos:start="235:40" pos:end="235:40"><name pos:start="235:40" pos:end="235:40">s</name></expr></argument>, <argument pos:start="235:43" pos:end="235:56"><expr pos:start="235:43" pos:end="235:56"><name pos:start="235:43" pos:end="235:56">picture_number</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if>

        <else pos:start="237:9" pos:end="239:58">else<block type="pseudo" pos:start="239:13" pos:end="239:58"><block_content pos:start="239:13" pos:end="239:58">

            <expr_stmt pos:start="239:13" pos:end="239:58"><expr pos:start="239:13" pos:end="239:57"><call pos:start="239:13" pos:end="239:57"><name pos:start="239:13" pos:end="239:38">h263_encode_picture_header</name><argument_list pos:start="239:39" pos:end="239:57">(<argument pos:start="239:40" pos:end="239:40"><expr pos:start="239:40" pos:end="239:40"><name pos:start="239:40" pos:end="239:40">s</name></expr></argument>, <argument pos:start="239:43" pos:end="239:56"><expr pos:start="239:43" pos:end="239:56"><name pos:start="239:43" pos:end="239:56">picture_number</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></else></if_stmt>

        <break pos:start="241:9" pos:end="241:14">break;</break>

    <case pos:start="243:5" pos:end="243:19">case <expr pos:start="243:10" pos:end="243:18"><name pos:start="243:10" pos:end="243:18">FMT_MPEG1</name></expr>:</case>

        <expr_stmt pos:start="245:9" pos:end="245:55"><expr pos:start="245:9" pos:end="245:54"><call pos:start="245:9" pos:end="245:54"><name pos:start="245:9" pos:end="245:35">mpeg1_encode_picture_header</name><argument_list pos:start="245:36" pos:end="245:54">(<argument pos:start="245:37" pos:end="245:37"><expr pos:start="245:37" pos:end="245:37"><name pos:start="245:37" pos:end="245:37">s</name></expr></argument>, <argument pos:start="245:40" pos:end="245:53"><expr pos:start="245:40" pos:end="245:53"><name pos:start="245:40" pos:end="245:53">picture_number</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <break pos:start="247:9" pos:end="247:14">break;</break>

    </block_content>}</block></switch>

    <expr_stmt pos:start="251:5" pos:end="251:32"><expr pos:start="251:5" pos:end="251:31"><name pos:start="251:5" pos:end="251:8">bits</name><operator pos:start="251:9" pos:end="251:9">=</operator> <call pos:start="251:11" pos:end="251:31"><name pos:start="251:11" pos:end="251:23">get_bit_count</name><argument_list pos:start="251:24" pos:end="251:31">(<argument pos:start="251:25" pos:end="251:30"><expr pos:start="251:25" pos:end="251:30"><operator pos:start="251:25" pos:end="251:25">&amp;</operator><name pos:start="251:26" pos:end="251:30"><name pos:start="251:26" pos:end="251:26">s</name><operator pos:start="251:27" pos:end="251:28">-&gt;</operator><name pos:start="251:29" pos:end="251:30">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="253:5" pos:end="253:40"><expr pos:start="253:5" pos:end="253:39"><name pos:start="253:5" pos:end="253:18"><name pos:start="253:5" pos:end="253:5">s</name><operator pos:start="253:6" pos:end="253:7">-&gt;</operator><name pos:start="253:8" pos:end="253:18">header_bits</name></name><operator pos:start="253:19" pos:end="253:19">=</operator> <name pos:start="253:21" pos:end="253:24">bits</name> <operator pos:start="253:26" pos:end="253:26">-</operator> <name pos:start="253:28" pos:end="253:39"><name pos:start="253:28" pos:end="253:28">s</name><operator pos:start="253:29" pos:end="253:30">-&gt;</operator><name pos:start="253:31" pos:end="253:39">last_bits</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="255:5" pos:end="255:23"><expr pos:start="255:5" pos:end="255:22"><name pos:start="255:5" pos:end="255:16"><name pos:start="255:5" pos:end="255:5">s</name><operator pos:start="255:6" pos:end="255:7">-&gt;</operator><name pos:start="255:8" pos:end="255:16">last_bits</name></name><operator pos:start="255:17" pos:end="255:17">=</operator> <name pos:start="255:19" pos:end="255:22">bits</name></expr>;</expr_stmt>

    <expr_stmt pos:start="257:5" pos:end="257:17"><expr pos:start="257:5" pos:end="257:16"><name pos:start="257:5" pos:end="257:14"><name pos:start="257:5" pos:end="257:5">s</name><operator pos:start="257:6" pos:end="257:7">-&gt;</operator><name pos:start="257:8" pos:end="257:14">mv_bits</name></name><operator pos:start="257:15" pos:end="257:15">=</operator><literal type="number" pos:start="257:16" pos:end="257:16">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="259:5" pos:end="259:19"><expr pos:start="259:5" pos:end="259:18"><name pos:start="259:5" pos:end="259:16"><name pos:start="259:5" pos:end="259:5">s</name><operator pos:start="259:6" pos:end="259:7">-&gt;</operator><name pos:start="259:8" pos:end="259:16">misc_bits</name></name><operator pos:start="259:17" pos:end="259:17">=</operator><literal type="number" pos:start="259:18" pos:end="259:18">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="261:5" pos:end="261:20"><expr pos:start="261:5" pos:end="261:19"><name pos:start="261:5" pos:end="261:17"><name pos:start="261:5" pos:end="261:5">s</name><operator pos:start="261:6" pos:end="261:7">-&gt;</operator><name pos:start="261:8" pos:end="261:17">i_tex_bits</name></name><operator pos:start="261:18" pos:end="261:18">=</operator><literal type="number" pos:start="261:19" pos:end="261:19">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="263:5" pos:end="263:20"><expr pos:start="263:5" pos:end="263:19"><name pos:start="263:5" pos:end="263:17"><name pos:start="263:5" pos:end="263:5">s</name><operator pos:start="263:6" pos:end="263:7">-&gt;</operator><name pos:start="263:8" pos:end="263:17">p_tex_bits</name></name><operator pos:start="263:18" pos:end="263:18">=</operator><literal type="number" pos:start="263:19" pos:end="263:19">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="265:5" pos:end="265:17"><expr pos:start="265:5" pos:end="265:16"><name pos:start="265:5" pos:end="265:14"><name pos:start="265:5" pos:end="265:5">s</name><operator pos:start="265:6" pos:end="265:7">-&gt;</operator><name pos:start="265:8" pos:end="265:14">i_count</name></name><operator pos:start="265:15" pos:end="265:15">=</operator><literal type="number" pos:start="265:16" pos:end="265:16">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="267:5" pos:end="267:17"><expr pos:start="267:5" pos:end="267:16"><name pos:start="267:5" pos:end="267:14"><name pos:start="267:5" pos:end="267:5">s</name><operator pos:start="267:6" pos:end="267:7">-&gt;</operator><name pos:start="267:8" pos:end="267:14">p_count</name></name><operator pos:start="267:15" pos:end="267:15">=</operator><literal type="number" pos:start="267:16" pos:end="267:16">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="269:5" pos:end="269:20"><expr pos:start="269:5" pos:end="269:19"><name pos:start="269:5" pos:end="269:17"><name pos:start="269:5" pos:end="269:5">s</name><operator pos:start="269:6" pos:end="269:7">-&gt;</operator><name pos:start="269:8" pos:end="269:17">skip_count</name></name><operator pos:start="269:18" pos:end="269:18">=</operator><literal type="number" pos:start="269:19" pos:end="269:19">0</literal></expr>;</expr_stmt>



    <comment type="block" pos:start="273:5" pos:end="273:29">/* init last dc values */</comment>

    <comment type="block" pos:start="275:5" pos:end="275:54">/* note: quant matrix value (8) is implied here */</comment>

    <expr_stmt pos:start="277:5" pos:end="277:24"><expr pos:start="277:5" pos:end="277:23"><name pos:start="277:5" pos:end="277:17"><name pos:start="277:5" pos:end="277:5">s</name><operator pos:start="277:6" pos:end="277:7">-&gt;</operator><name pos:start="277:8" pos:end="277:14">last_dc</name><index pos:start="277:15" pos:end="277:17">[<expr pos:start="277:16" pos:end="277:16"><literal type="number" pos:start="277:16" pos:end="277:16">0</literal></expr>]</index></name> <operator pos:start="277:19" pos:end="277:19">=</operator> <literal type="number" pos:start="277:21" pos:end="277:23">128</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="279:5" pos:end="279:24"><expr pos:start="279:5" pos:end="279:23"><name pos:start="279:5" pos:end="279:17"><name pos:start="279:5" pos:end="279:5">s</name><operator pos:start="279:6" pos:end="279:7">-&gt;</operator><name pos:start="279:8" pos:end="279:14">last_dc</name><index pos:start="279:15" pos:end="279:17">[<expr pos:start="279:16" pos:end="279:16"><literal type="number" pos:start="279:16" pos:end="279:16">1</literal></expr>]</index></name> <operator pos:start="279:19" pos:end="279:19">=</operator> <literal type="number" pos:start="279:21" pos:end="279:23">128</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="281:5" pos:end="281:24"><expr pos:start="281:5" pos:end="281:23"><name pos:start="281:5" pos:end="281:17"><name pos:start="281:5" pos:end="281:5">s</name><operator pos:start="281:6" pos:end="281:7">-&gt;</operator><name pos:start="281:8" pos:end="281:14">last_dc</name><index pos:start="281:15" pos:end="281:17">[<expr pos:start="281:16" pos:end="281:16"><literal type="number" pos:start="281:16" pos:end="281:16">2</literal></expr>]</index></name> <operator pos:start="281:19" pos:end="281:19">=</operator> <literal type="number" pos:start="281:21" pos:end="281:23">128</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="283:5" pos:end="283:19"><expr pos:start="283:5" pos:end="283:18"><name pos:start="283:5" pos:end="283:14"><name pos:start="283:5" pos:end="283:5">s</name><operator pos:start="283:6" pos:end="283:7">-&gt;</operator><name pos:start="283:8" pos:end="283:14">mb_incr</name></name> <operator pos:start="283:16" pos:end="283:16">=</operator> <literal type="number" pos:start="283:18" pos:end="283:18">1</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="285:5" pos:end="285:28"><expr pos:start="285:5" pos:end="285:27"><name pos:start="285:5" pos:end="285:23"><name pos:start="285:5" pos:end="285:5">s</name><operator pos:start="285:6" pos:end="285:7">-&gt;</operator><name pos:start="285:8" pos:end="285:14">last_mv</name><index pos:start="285:15" pos:end="285:17">[<expr pos:start="285:16" pos:end="285:16"><literal type="number" pos:start="285:16" pos:end="285:16">0</literal></expr>]</index><index pos:start="285:18" pos:end="285:20">[<expr pos:start="285:19" pos:end="285:19"><literal type="number" pos:start="285:19" pos:end="285:19">0</literal></expr>]</index><index pos:start="285:21" pos:end="285:23">[<expr pos:start="285:22" pos:end="285:22"><literal type="number" pos:start="285:22" pos:end="285:22">0</literal></expr>]</index></name> <operator pos:start="285:25" pos:end="285:25">=</operator> <literal type="number" pos:start="285:27" pos:end="285:27">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="287:5" pos:end="287:28"><expr pos:start="287:5" pos:end="287:27"><name pos:start="287:5" pos:end="287:23"><name pos:start="287:5" pos:end="287:5">s</name><operator pos:start="287:6" pos:end="287:7">-&gt;</operator><name pos:start="287:8" pos:end="287:14">last_mv</name><index pos:start="287:15" pos:end="287:17">[<expr pos:start="287:16" pos:end="287:16"><literal type="number" pos:start="287:16" pos:end="287:16">0</literal></expr>]</index><index pos:start="287:18" pos:end="287:20">[<expr pos:start="287:19" pos:end="287:19"><literal type="number" pos:start="287:19" pos:end="287:19">0</literal></expr>]</index><index pos:start="287:21" pos:end="287:23">[<expr pos:start="287:22" pos:end="287:22"><literal type="number" pos:start="287:22" pos:end="287:22">1</literal></expr>]</index></name> <operator pos:start="287:25" pos:end="287:25">=</operator> <literal type="number" pos:start="287:27" pos:end="287:27">0</literal></expr>;</expr_stmt>



    <comment type="block" pos:start="291:5" pos:end="291:52">/* Get the GOB height based on picture height */</comment>

    <if_stmt pos:start="293:5" pos:end="307:5"><if pos:start="293:5" pos:end="307:5">if <condition pos:start="293:8" pos:end="293:71">(<expr pos:start="293:9" pos:end="293:70"><name pos:start="293:9" pos:end="293:21"><name pos:start="293:9" pos:end="293:9">s</name><operator pos:start="293:10" pos:end="293:11">-&gt;</operator><name pos:start="293:12" pos:end="293:21">out_format</name></name> <operator pos:start="293:23" pos:end="293:24">==</operator> <name pos:start="293:26" pos:end="293:33">FMT_H263</name> <operator pos:start="293:35" pos:end="293:36">&amp;&amp;</operator> <operator pos:start="293:38" pos:end="293:38">!</operator><name pos:start="293:39" pos:end="293:50"><name pos:start="293:39" pos:end="293:39">s</name><operator pos:start="293:40" pos:end="293:41">-&gt;</operator><name pos:start="293:42" pos:end="293:50">h263_pred</name></name> <operator pos:start="293:52" pos:end="293:53">&amp;&amp;</operator> <operator pos:start="293:55" pos:end="293:55">!</operator><name pos:start="293:56" pos:end="293:70"><name pos:start="293:56" pos:end="293:56">s</name><operator pos:start="293:57" pos:end="293:58">-&gt;</operator><name pos:start="293:59" pos:end="293:70">h263_msmpeg4</name></name></expr>)</condition> <block pos:start="293:73" pos:end="307:5">{<block_content pos:start="295:9" pos:end="305:29">

        <if_stmt pos:start="295:9" pos:end="305:29"><if pos:start="295:9" pos:end="297:29">if <condition pos:start="295:12" pos:end="295:29">(<expr pos:start="295:13" pos:end="295:28"><name pos:start="295:13" pos:end="295:21"><name pos:start="295:13" pos:end="295:13">s</name><operator pos:start="295:14" pos:end="295:15">-&gt;</operator><name pos:start="295:16" pos:end="295:21">height</name></name> <operator pos:start="295:23" pos:end="295:24">&lt;=</operator> <literal type="number" pos:start="295:26" pos:end="295:28">400</literal></expr>)</condition><block type="pseudo" pos:start="297:13" pos:end="297:29"><block_content pos:start="297:13" pos:end="297:29">

            <expr_stmt pos:start="297:13" pos:end="297:29"><expr pos:start="297:13" pos:end="297:28"><name pos:start="297:13" pos:end="297:24"><name pos:start="297:13" pos:end="297:13">s</name><operator pos:start="297:14" pos:end="297:15">-&gt;</operator><name pos:start="297:16" pos:end="297:24">gob_index</name></name> <operator pos:start="297:26" pos:end="297:26">=</operator> <literal type="number" pos:start="297:28" pos:end="297:28">1</literal></expr>;</expr_stmt></block_content></block></if>

        <if type="elseif" pos:start="299:9" pos:end="301:29">else if <condition pos:start="299:17" pos:end="299:34">(<expr pos:start="299:18" pos:end="299:33"><name pos:start="299:18" pos:end="299:26"><name pos:start="299:18" pos:end="299:18">s</name><operator pos:start="299:19" pos:end="299:20">-&gt;</operator><name pos:start="299:21" pos:end="299:26">height</name></name> <operator pos:start="299:28" pos:end="299:29">&lt;=</operator> <literal type="number" pos:start="299:31" pos:end="299:33">800</literal></expr>)</condition><block type="pseudo" pos:start="301:13" pos:end="301:29"><block_content pos:start="301:13" pos:end="301:29">

            <expr_stmt pos:start="301:13" pos:end="301:29"><expr pos:start="301:13" pos:end="301:28"><name pos:start="301:13" pos:end="301:24"><name pos:start="301:13" pos:end="301:13">s</name><operator pos:start="301:14" pos:end="301:15">-&gt;</operator><name pos:start="301:16" pos:end="301:24">gob_index</name></name> <operator pos:start="301:26" pos:end="301:26">=</operator> <literal type="number" pos:start="301:28" pos:end="301:28">2</literal></expr>;</expr_stmt></block_content></block></if>

        <else pos:start="303:9" pos:end="305:29">else<block type="pseudo" pos:start="305:13" pos:end="305:29"><block_content pos:start="305:13" pos:end="305:29">

            <expr_stmt pos:start="305:13" pos:end="305:29"><expr pos:start="305:13" pos:end="305:28"><name pos:start="305:13" pos:end="305:24"><name pos:start="305:13" pos:end="305:13">s</name><operator pos:start="305:14" pos:end="305:15">-&gt;</operator><name pos:start="305:16" pos:end="305:24">gob_index</name></name> <operator pos:start="305:26" pos:end="305:26">=</operator> <literal type="number" pos:start="305:28" pos:end="305:28">4</literal></expr>;</expr_stmt></block_content></block></else></if_stmt>

    </block_content>}</block></if></if_stmt>

        

    <expr_stmt pos:start="311:5" pos:end="311:46"><expr pos:start="311:5" pos:end="311:45"><name pos:start="311:5" pos:end="311:17"><name pos:start="311:5" pos:end="311:5">s</name><operator pos:start="311:6" pos:end="311:7">-&gt;</operator><name pos:start="311:8" pos:end="311:17">avg_mb_var</name></name> <operator pos:start="311:19" pos:end="311:19">=</operator> <name pos:start="311:21" pos:end="311:33"><name pos:start="311:21" pos:end="311:21">s</name><operator pos:start="311:22" pos:end="311:23">-&gt;</operator><name pos:start="311:24" pos:end="311:33">avg_mb_var</name></name> <operator pos:start="311:35" pos:end="311:35">/</operator> <name pos:start="311:37" pos:end="311:45"><name pos:start="311:37" pos:end="311:37">s</name><operator pos:start="311:38" pos:end="311:39">-&gt;</operator><name pos:start="311:40" pos:end="311:45">mb_num</name></name></expr>;</expr_stmt>        

    

    <for pos:start="315:5" pos:end="863:5">for<control pos:start="315:8" pos:end="315:44">(<init pos:start="315:9" pos:end="315:15"><expr pos:start="315:9" pos:end="315:14"><name pos:start="315:9" pos:end="315:12">mb_y</name><operator pos:start="315:13" pos:end="315:13">=</operator><literal type="number" pos:start="315:14" pos:end="315:14">0</literal></expr>;</init> <condition pos:start="315:17" pos:end="315:36"><expr pos:start="315:17" pos:end="315:35"><name pos:start="315:17" pos:end="315:20">mb_y</name> <operator pos:start="315:22" pos:end="315:22">&lt;</operator> <name pos:start="315:24" pos:end="315:35"><name pos:start="315:24" pos:end="315:24">s</name><operator pos:start="315:25" pos:end="315:26">-&gt;</operator><name pos:start="315:27" pos:end="315:35">mb_height</name></name></expr>;</condition> <incr pos:start="315:38" pos:end="315:43"><expr pos:start="315:38" pos:end="315:43"><name pos:start="315:38" pos:end="315:41">mb_y</name><operator pos:start="315:42" pos:end="315:43">++</operator></expr></incr>)</control> <block pos:start="315:46" pos:end="863:5">{<block_content pos:start="321:9" pos:end="861:9">

        <comment type="block" pos:start="317:9" pos:end="317:45">/* Put GOB header based on RTP MTU */</comment>

        <comment type="block" pos:start="319:9" pos:end="319:69">/* TODO: Put all this stuff in a separate generic function */</comment>

        <if_stmt pos:start="321:9" pos:end="341:9"><if pos:start="321:9" pos:end="341:9">if <condition pos:start="321:12" pos:end="321:24">(<expr pos:start="321:13" pos:end="321:23"><name pos:start="321:13" pos:end="321:23"><name pos:start="321:13" pos:end="321:13">s</name><operator pos:start="321:14" pos:end="321:15">-&gt;</operator><name pos:start="321:16" pos:end="321:23">rtp_mode</name></name></expr>)</condition> <block pos:start="321:26" pos:end="341:9">{<block_content pos:start="323:13" pos:end="339:13">

            <if_stmt pos:start="323:13" pos:end="339:13"><if pos:start="323:13" pos:end="329:13">if <condition pos:start="323:16" pos:end="323:22">(<expr pos:start="323:17" pos:end="323:21"><operator pos:start="323:17" pos:end="323:17">!</operator><name pos:start="323:18" pos:end="323:21">mb_y</name></expr>)</condition> <block pos:start="323:24" pos:end="329:13">{<block_content pos:start="325:17" pos:end="327:48">

                <expr_stmt pos:start="325:17" pos:end="325:43"><expr pos:start="325:17" pos:end="325:42"><name pos:start="325:17" pos:end="325:30"><name pos:start="325:17" pos:end="325:17">s</name><operator pos:start="325:18" pos:end="325:19">-&gt;</operator><name pos:start="325:20" pos:end="325:30">ptr_lastgob</name></name> <operator pos:start="325:32" pos:end="325:32">=</operator> <name pos:start="325:34" pos:end="325:42"><name pos:start="325:34" pos:end="325:34">s</name><operator pos:start="325:35" pos:end="325:36">-&gt;</operator><name pos:start="325:37" pos:end="325:38">pb</name><operator pos:start="325:39" pos:end="325:39">.</operator><name pos:start="325:40" pos:end="325:42">buf</name></name></expr>;</expr_stmt>

                <expr_stmt pos:start="327:17" pos:end="327:48"><expr pos:start="327:17" pos:end="327:47"><name pos:start="327:17" pos:end="327:35"><name pos:start="327:17" pos:end="327:17">s</name><operator pos:start="327:18" pos:end="327:19">-&gt;</operator><name pos:start="327:20" pos:end="327:35">ptr_last_mb_line</name></name> <operator pos:start="327:37" pos:end="327:37">=</operator> <name pos:start="327:39" pos:end="327:47"><name pos:start="327:39" pos:end="327:39">s</name><operator pos:start="327:40" pos:end="327:41">-&gt;</operator><name pos:start="327:42" pos:end="327:43">pb</name><operator pos:start="327:44" pos:end="327:44">.</operator><name pos:start="327:45" pos:end="327:47">buf</name></name></expr>;</expr_stmt>

            </block_content>}</block></if> <if type="elseif" pos:start="329:15" pos:end="339:13">else if <condition pos:start="329:23" pos:end="329:112">(<expr pos:start="329:24" pos:end="329:111"><name pos:start="329:24" pos:end="329:36"><name pos:start="329:24" pos:end="329:24">s</name><operator pos:start="329:25" pos:end="329:26">-&gt;</operator><name pos:start="329:27" pos:end="329:36">out_format</name></name> <operator pos:start="329:38" pos:end="329:39">==</operator> <name pos:start="329:41" pos:end="329:48">FMT_H263</name> <operator pos:start="329:50" pos:end="329:51">&amp;&amp;</operator> <operator pos:start="329:53" pos:end="329:53">!</operator><name pos:start="329:54" pos:end="329:65"><name pos:start="329:54" pos:end="329:54">s</name><operator pos:start="329:55" pos:end="329:56">-&gt;</operator><name pos:start="329:57" pos:end="329:65">h263_pred</name></name> <operator pos:start="329:67" pos:end="329:68">&amp;&amp;</operator> <operator pos:start="329:70" pos:end="329:70">!</operator><name pos:start="329:71" pos:end="329:85"><name pos:start="329:71" pos:end="329:71">s</name><operator pos:start="329:72" pos:end="329:73">-&gt;</operator><name pos:start="329:74" pos:end="329:85">h263_msmpeg4</name></name> <operator pos:start="329:87" pos:end="329:88">&amp;&amp;</operator> <operator pos:start="329:90" pos:end="329:90">!</operator><operator pos:start="329:91" pos:end="329:91">(</operator><name pos:start="329:92" pos:end="329:95">mb_y</name> <operator pos:start="329:97" pos:end="329:97">%</operator> <name pos:start="329:99" pos:end="329:110"><name pos:start="329:99" pos:end="329:99">s</name><operator pos:start="329:100" pos:end="329:101">-&gt;</operator><name pos:start="329:102" pos:end="329:110">gob_index</name></name><operator pos:start="329:111" pos:end="329:111">)</operator></expr>)</condition> <block pos:start="329:114" pos:end="339:13">{<block_content pos:start="331:17" pos:end="337:17">

                <expr_stmt pos:start="331:17" pos:end="331:59"><expr pos:start="331:17" pos:end="331:58"><name pos:start="331:17" pos:end="331:24">last_gob</name> <operator pos:start="331:26" pos:end="331:26">=</operator> <call pos:start="331:28" pos:end="331:58"><name pos:start="331:28" pos:end="331:49">h263_encode_gob_header</name><argument_list pos:start="331:50" pos:end="331:58">(<argument pos:start="331:51" pos:end="331:51"><expr pos:start="331:51" pos:end="331:51"><name pos:start="331:51" pos:end="331:51">s</name></expr></argument>, <argument pos:start="331:54" pos:end="331:57"><expr pos:start="331:54" pos:end="331:57"><name pos:start="331:54" pos:end="331:57">mb_y</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <if_stmt pos:start="333:17" pos:end="337:17"><if pos:start="333:17" pos:end="337:17">if <condition pos:start="333:20" pos:end="333:29">(<expr pos:start="333:21" pos:end="333:28"><name pos:start="333:21" pos:end="333:28">last_gob</name></expr>)</condition> <block pos:start="333:31" pos:end="337:17">{<block_content pos:start="335:21" pos:end="335:42">

                    <expr_stmt pos:start="335:21" pos:end="335:42"><expr pos:start="335:21" pos:end="335:41"><name pos:start="335:21" pos:end="335:37"><name pos:start="335:21" pos:end="335:21">s</name><operator pos:start="335:22" pos:end="335:23">-&gt;</operator><name pos:start="335:24" pos:end="335:37">first_gob_line</name></name> <operator pos:start="335:39" pos:end="335:39">=</operator> <literal type="number" pos:start="335:41" pos:end="335:41">1</literal></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

            </block_content>}</block></if></if_stmt>

        </block_content>}</block></if></if_stmt>

        

        <expr_stmt pos:start="345:9" pos:end="345:61"><expr pos:start="345:9" pos:end="345:60"><name pos:start="345:9" pos:end="345:25"><name pos:start="345:9" pos:end="345:9">s</name><operator pos:start="345:10" pos:end="345:11">-&gt;</operator><name pos:start="345:12" pos:end="345:22">block_index</name><index pos:start="345:23" pos:end="345:25">[<expr pos:start="345:24" pos:end="345:24"><literal type="number" pos:start="345:24" pos:end="345:24">0</literal></expr>]</index></name><operator pos:start="345:26" pos:end="345:26">=</operator> <name pos:start="345:28" pos:end="345:43"><name pos:start="345:28" pos:end="345:28">s</name><operator pos:start="345:29" pos:end="345:30">-&gt;</operator><name pos:start="345:31" pos:end="345:40">block_wrap</name><index pos:start="345:41" pos:end="345:43">[<expr pos:start="345:42" pos:end="345:42"><literal type="number" pos:start="345:42" pos:end="345:42">0</literal></expr>]</index></name><operator pos:start="345:44" pos:end="345:44">*</operator><operator pos:start="345:45" pos:end="345:45">(</operator><name pos:start="345:46" pos:end="345:49">mb_y</name><operator pos:start="345:50" pos:end="345:50">*</operator><literal type="number" pos:start="345:51" pos:end="345:53">2</literal> <operator pos:start="345:53" pos:end="345:53">+</operator> <literal type="number" pos:start="345:55" pos:end="345:55">1</literal><operator pos:start="345:56" pos:end="345:56">)</operator> <operator pos:start="345:58" pos:end="345:58">-</operator> <literal type="number" pos:start="345:60" pos:end="345:60">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="347:9" pos:end="347:57"><expr pos:start="347:9" pos:end="347:56"><name pos:start="347:9" pos:end="347:25"><name pos:start="347:9" pos:end="347:9">s</name><operator pos:start="347:10" pos:end="347:11">-&gt;</operator><name pos:start="347:12" pos:end="347:22">block_index</name><index pos:start="347:23" pos:end="347:25">[<expr pos:start="347:24" pos:end="347:24"><literal type="number" pos:start="347:24" pos:end="347:24">1</literal></expr>]</index></name><operator pos:start="347:26" pos:end="347:26">=</operator> <name pos:start="347:28" pos:end="347:43"><name pos:start="347:28" pos:end="347:28">s</name><operator pos:start="347:29" pos:end="347:30">-&gt;</operator><name pos:start="347:31" pos:end="347:40">block_wrap</name><index pos:start="347:41" pos:end="347:43">[<expr pos:start="347:42" pos:end="347:42"><literal type="number" pos:start="347:42" pos:end="347:42">0</literal></expr>]</index></name><operator pos:start="347:44" pos:end="347:44">*</operator><operator pos:start="347:45" pos:end="347:45">(</operator><name pos:start="347:46" pos:end="347:49">mb_y</name><operator pos:start="347:50" pos:end="347:50">*</operator><literal type="number" pos:start="347:51" pos:end="347:53">2</literal> <operator pos:start="347:53" pos:end="347:53">+</operator> <literal type="number" pos:start="347:55" pos:end="347:55">1</literal><operator pos:start="347:56" pos:end="347:56">)</operator></expr>;</expr_stmt>

        <expr_stmt pos:start="349:9" pos:end="349:61"><expr pos:start="349:9" pos:end="349:60"><name pos:start="349:9" pos:end="349:25"><name pos:start="349:9" pos:end="349:9">s</name><operator pos:start="349:10" pos:end="349:11">-&gt;</operator><name pos:start="349:12" pos:end="349:22">block_index</name><index pos:start="349:23" pos:end="349:25">[<expr pos:start="349:24" pos:end="349:24"><literal type="number" pos:start="349:24" pos:end="349:24">2</literal></expr>]</index></name><operator pos:start="349:26" pos:end="349:26">=</operator> <name pos:start="349:28" pos:end="349:43"><name pos:start="349:28" pos:end="349:28">s</name><operator pos:start="349:29" pos:end="349:30">-&gt;</operator><name pos:start="349:31" pos:end="349:40">block_wrap</name><index pos:start="349:41" pos:end="349:43">[<expr pos:start="349:42" pos:end="349:42"><literal type="number" pos:start="349:42" pos:end="349:42">0</literal></expr>]</index></name><operator pos:start="349:44" pos:end="349:44">*</operator><operator pos:start="349:45" pos:end="349:45">(</operator><name pos:start="349:46" pos:end="349:49">mb_y</name><operator pos:start="349:50" pos:end="349:50">*</operator><literal type="number" pos:start="349:51" pos:end="349:53">2</literal> <operator pos:start="349:53" pos:end="349:53">+</operator> <literal type="number" pos:start="349:55" pos:end="349:55">2</literal><operator pos:start="349:56" pos:end="349:56">)</operator> <operator pos:start="349:58" pos:end="349:58">-</operator> <literal type="number" pos:start="349:60" pos:end="349:60">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="351:9" pos:end="351:57"><expr pos:start="351:9" pos:end="351:56"><name pos:start="351:9" pos:end="351:25"><name pos:start="351:9" pos:end="351:9">s</name><operator pos:start="351:10" pos:end="351:11">-&gt;</operator><name pos:start="351:12" pos:end="351:22">block_index</name><index pos:start="351:23" pos:end="351:25">[<expr pos:start="351:24" pos:end="351:24"><literal type="number" pos:start="351:24" pos:end="351:24">3</literal></expr>]</index></name><operator pos:start="351:26" pos:end="351:26">=</operator> <name pos:start="351:28" pos:end="351:43"><name pos:start="351:28" pos:end="351:28">s</name><operator pos:start="351:29" pos:end="351:30">-&gt;</operator><name pos:start="351:31" pos:end="351:40">block_wrap</name><index pos:start="351:41" pos:end="351:43">[<expr pos:start="351:42" pos:end="351:42"><literal type="number" pos:start="351:42" pos:end="351:42">0</literal></expr>]</index></name><operator pos:start="351:44" pos:end="351:44">*</operator><operator pos:start="351:45" pos:end="351:45">(</operator><name pos:start="351:46" pos:end="351:49">mb_y</name><operator pos:start="351:50" pos:end="351:50">*</operator><literal type="number" pos:start="351:51" pos:end="351:53">2</literal> <operator pos:start="351:53" pos:end="351:53">+</operator> <literal type="number" pos:start="351:55" pos:end="351:55">2</literal><operator pos:start="351:56" pos:end="351:56">)</operator></expr>;</expr_stmt>

        <expr_stmt pos:start="353:9" pos:end="353:114"><expr pos:start="353:9" pos:end="353:113"><name pos:start="353:9" pos:end="353:25"><name pos:start="353:9" pos:end="353:9">s</name><operator pos:start="353:10" pos:end="353:11">-&gt;</operator><name pos:start="353:12" pos:end="353:22">block_index</name><index pos:start="353:23" pos:end="353:25">[<expr pos:start="353:24" pos:end="353:24"><literal type="number" pos:start="353:24" pos:end="353:24">4</literal></expr>]</index></name><operator pos:start="353:26" pos:end="353:26">=</operator> <name pos:start="353:28" pos:end="353:43"><name pos:start="353:28" pos:end="353:28">s</name><operator pos:start="353:29" pos:end="353:30">-&gt;</operator><name pos:start="353:31" pos:end="353:40">block_wrap</name><index pos:start="353:41" pos:end="353:43">[<expr pos:start="353:42" pos:end="353:42"><literal type="number" pos:start="353:42" pos:end="353:42">4</literal></expr>]</index></name><operator pos:start="353:44" pos:end="353:44">*</operator><operator pos:start="353:45" pos:end="353:45">(</operator><name pos:start="353:46" pos:end="353:49">mb_y</name> <operator pos:start="353:51" pos:end="353:51">+</operator> <literal type="number" pos:start="353:53" pos:end="353:53">1</literal><operator pos:start="353:54" pos:end="353:54">)</operator>                    <operator pos:start="353:75" pos:end="353:75">+</operator> <name pos:start="353:77" pos:end="353:92"><name pos:start="353:77" pos:end="353:77">s</name><operator pos:start="353:78" pos:end="353:79">-&gt;</operator><name pos:start="353:80" pos:end="353:89">block_wrap</name><index pos:start="353:90" pos:end="353:92">[<expr pos:start="353:91" pos:end="353:91"><literal type="number" pos:start="353:91" pos:end="353:91">0</literal></expr>]</index></name><operator pos:start="353:93" pos:end="353:93">*</operator><operator pos:start="353:94" pos:end="353:94">(</operator><name pos:start="353:95" pos:end="353:106"><name pos:start="353:95" pos:end="353:95">s</name><operator pos:start="353:96" pos:end="353:97">-&gt;</operator><name pos:start="353:98" pos:end="353:106">mb_height</name></name><operator pos:start="353:107" pos:end="353:107">*</operator><literal type="number" pos:start="353:108" pos:end="353:110">2</literal> <operator pos:start="353:110" pos:end="353:110">+</operator> <literal type="number" pos:start="353:112" pos:end="353:112">2</literal><operator pos:start="353:113" pos:end="353:113">)</operator></expr>;</expr_stmt>

        <expr_stmt pos:start="355:9" pos:end="355:114"><expr pos:start="355:9" pos:end="355:113"><name pos:start="355:9" pos:end="355:25"><name pos:start="355:9" pos:end="355:9">s</name><operator pos:start="355:10" pos:end="355:11">-&gt;</operator><name pos:start="355:12" pos:end="355:22">block_index</name><index pos:start="355:23" pos:end="355:25">[<expr pos:start="355:24" pos:end="355:24"><literal type="number" pos:start="355:24" pos:end="355:24">5</literal></expr>]</index></name><operator pos:start="355:26" pos:end="355:26">=</operator> <name pos:start="355:28" pos:end="355:43"><name pos:start="355:28" pos:end="355:28">s</name><operator pos:start="355:29" pos:end="355:30">-&gt;</operator><name pos:start="355:31" pos:end="355:40">block_wrap</name><index pos:start="355:41" pos:end="355:43">[<expr pos:start="355:42" pos:end="355:42"><literal type="number" pos:start="355:42" pos:end="355:42">4</literal></expr>]</index></name><operator pos:start="355:44" pos:end="355:44">*</operator><operator pos:start="355:45" pos:end="355:45">(</operator><name pos:start="355:46" pos:end="355:49">mb_y</name> <operator pos:start="355:51" pos:end="355:51">+</operator> <literal type="number" pos:start="355:53" pos:end="355:55">1</literal> <operator pos:start="355:55" pos:end="355:55">+</operator> <name pos:start="355:57" pos:end="355:68"><name pos:start="355:57" pos:end="355:57">s</name><operator pos:start="355:58" pos:end="355:59">-&gt;</operator><name pos:start="355:60" pos:end="355:68">mb_height</name></name> <operator pos:start="355:70" pos:end="355:70">+</operator> <literal type="number" pos:start="355:72" pos:end="355:72">2</literal><operator pos:start="355:73" pos:end="355:73">)</operator> <operator pos:start="355:75" pos:end="355:75">+</operator> <name pos:start="355:77" pos:end="355:92"><name pos:start="355:77" pos:end="355:77">s</name><operator pos:start="355:78" pos:end="355:79">-&gt;</operator><name pos:start="355:80" pos:end="355:89">block_wrap</name><index pos:start="355:90" pos:end="355:92">[<expr pos:start="355:91" pos:end="355:91"><literal type="number" pos:start="355:91" pos:end="355:91">0</literal></expr>]</index></name><operator pos:start="355:93" pos:end="355:93">*</operator><operator pos:start="355:94" pos:end="355:94">(</operator><name pos:start="355:95" pos:end="355:106"><name pos:start="355:95" pos:end="355:95">s</name><operator pos:start="355:96" pos:end="355:97">-&gt;</operator><name pos:start="355:98" pos:end="355:106">mb_height</name></name><operator pos:start="355:107" pos:end="355:107">*</operator><literal type="number" pos:start="355:108" pos:end="355:110">2</literal> <operator pos:start="355:110" pos:end="355:110">+</operator> <literal type="number" pos:start="355:112" pos:end="355:112">2</literal><operator pos:start="355:113" pos:end="355:113">)</operator></expr>;</expr_stmt>

        <for pos:start="357:9" pos:end="833:9">for<control pos:start="357:12" pos:end="357:47">(<init pos:start="357:13" pos:end="357:19"><expr pos:start="357:13" pos:end="357:18"><name pos:start="357:13" pos:end="357:16">mb_x</name><operator pos:start="357:17" pos:end="357:17">=</operator><literal type="number" pos:start="357:18" pos:end="357:18">0</literal></expr>;</init> <condition pos:start="357:21" pos:end="357:39"><expr pos:start="357:21" pos:end="357:38"><name pos:start="357:21" pos:end="357:24">mb_x</name> <operator pos:start="357:26" pos:end="357:26">&lt;</operator> <name pos:start="357:28" pos:end="357:38"><name pos:start="357:28" pos:end="357:28">s</name><operator pos:start="357:29" pos:end="357:30">-&gt;</operator><name pos:start="357:31" pos:end="357:38">mb_width</name></name></expr>;</condition> <incr pos:start="357:41" pos:end="357:46"><expr pos:start="357:41" pos:end="357:46"><name pos:start="357:41" pos:end="357:44">mb_x</name><operator pos:start="357:45" pos:end="357:46">++</operator></expr></incr>)</control> <block pos:start="357:49" pos:end="833:9">{<block_content pos:start="359:13" pos:end="831:39">

            <decl_stmt pos:start="359:13" pos:end="359:69"><decl pos:start="359:13" pos:end="359:68"><type pos:start="359:13" pos:end="359:21"><specifier pos:start="359:13" pos:end="359:17">const</specifier> <name pos:start="359:19" pos:end="359:21">int</name></type> <name pos:start="359:23" pos:end="359:29">mb_type</name><init pos:start="359:30" pos:end="359:68">= <expr pos:start="359:32" pos:end="359:68"><name pos:start="359:32" pos:end="359:68"><name pos:start="359:32" pos:end="359:32">s</name><operator pos:start="359:33" pos:end="359:34">-&gt;</operator><name pos:start="359:35" pos:end="359:41">mb_type</name><index pos:start="359:42" pos:end="359:68">[<expr pos:start="359:43" pos:end="359:67"><name pos:start="359:43" pos:end="359:46">mb_y</name> <operator pos:start="359:48" pos:end="359:48">*</operator> <name pos:start="359:50" pos:end="359:60"><name pos:start="359:50" pos:end="359:50">s</name><operator pos:start="359:51" pos:end="359:52">-&gt;</operator><name pos:start="359:53" pos:end="359:60">mb_width</name></name> <operator pos:start="359:62" pos:end="359:62">+</operator> <name pos:start="359:64" pos:end="359:67">mb_x</name></expr>]</index></name></expr></init></decl>;</decl_stmt>

            <decl_stmt pos:start="361:13" pos:end="361:64"><decl pos:start="361:13" pos:end="361:63"><type pos:start="361:13" pos:end="361:21"><specifier pos:start="361:13" pos:end="361:17">const</specifier> <name pos:start="361:19" pos:end="361:21">int</name></type> <name pos:start="361:23" pos:end="361:24">xy</name><init pos:start="361:25" pos:end="361:63">= <expr pos:start="361:27" pos:end="361:63"><operator pos:start="361:27" pos:end="361:27">(</operator><name pos:start="361:28" pos:end="361:31">mb_y</name><operator pos:start="361:32" pos:end="361:32">+</operator><literal type="number" pos:start="361:33" pos:end="361:33">1</literal><operator pos:start="361:34" pos:end="361:34">)</operator> <operator pos:start="361:36" pos:end="361:36">*</operator> <operator pos:start="361:38" pos:end="361:38">(</operator><name pos:start="361:39" pos:end="361:49"><name pos:start="361:39" pos:end="361:39">s</name><operator pos:start="361:40" pos:end="361:41">-&gt;</operator><name pos:start="361:42" pos:end="361:49">mb_width</name></name><operator pos:start="361:50" pos:end="361:50">+</operator><literal type="number" pos:start="361:51" pos:end="361:51">2</literal><operator pos:start="361:52" pos:end="361:52">)</operator> <operator pos:start="361:54" pos:end="361:54">+</operator> <name pos:start="361:56" pos:end="361:59">mb_x</name> <operator pos:start="361:61" pos:end="361:61">+</operator> <literal type="number" pos:start="361:63" pos:end="361:63">1</literal></expr></init></decl>;</decl_stmt>

            <decl_stmt pos:start="363:13" pos:end="363:29"><decl pos:start="363:13" pos:end="363:28"><type pos:start="363:13" pos:end="363:25"><name pos:start="363:13" pos:end="363:25">PutBitContext</name></type> <name pos:start="363:27" pos:end="363:28">pb</name></decl>;</decl_stmt>

            <decl_stmt pos:start="365:13" pos:end="365:18"><decl pos:start="365:13" pos:end="365:17"><type pos:start="365:13" pos:end="365:15"><name pos:start="365:13" pos:end="365:15">int</name></type> <name pos:start="365:17" pos:end="365:17">d</name></decl>;</decl_stmt>

            <decl_stmt pos:start="367:13" pos:end="367:30"><decl pos:start="367:13" pos:end="367:29"><type pos:start="367:13" pos:end="367:15"><name pos:start="367:13" pos:end="367:15">int</name></type> <name pos:start="367:17" pos:end="367:20">dmin</name><init pos:start="367:21" pos:end="367:29">=<expr pos:start="367:22" pos:end="367:29"><literal type="number" pos:start="367:22" pos:end="367:29">10000000</literal></expr></init></decl>;</decl_stmt>

            <decl_stmt pos:start="369:13" pos:end="369:23"><decl pos:start="369:13" pos:end="369:22"><type pos:start="369:13" pos:end="369:15"><name pos:start="369:13" pos:end="369:15">int</name></type> <name pos:start="369:17" pos:end="369:20">best</name><init pos:start="369:21" pos:end="369:22">=<expr pos:start="369:22" pos:end="369:22"><literal type="number" pos:start="369:22" pos:end="369:22">0</literal></expr></init></decl>;</decl_stmt>



            <expr_stmt pos:start="373:13" pos:end="373:27"><expr pos:start="373:13" pos:end="373:26"><name pos:start="373:13" pos:end="373:19"><name pos:start="373:13" pos:end="373:13">s</name><operator pos:start="373:14" pos:end="373:15">-&gt;</operator><name pos:start="373:16" pos:end="373:19">mb_x</name></name> <operator pos:start="373:21" pos:end="373:21">=</operator> <name pos:start="373:23" pos:end="373:26">mb_x</name></expr>;</expr_stmt>

            <expr_stmt pos:start="375:13" pos:end="375:27"><expr pos:start="375:13" pos:end="375:26"><name pos:start="375:13" pos:end="375:19"><name pos:start="375:13" pos:end="375:13">s</name><operator pos:start="375:14" pos:end="375:15">-&gt;</operator><name pos:start="375:16" pos:end="375:19">mb_y</name></name> <operator pos:start="375:21" pos:end="375:21">=</operator> <name pos:start="375:23" pos:end="375:26">mb_y</name></expr>;</expr_stmt>

            <expr_stmt pos:start="377:13" pos:end="377:33"><expr pos:start="377:13" pos:end="377:32"><name pos:start="377:13" pos:end="377:29"><name pos:start="377:13" pos:end="377:13">s</name><operator pos:start="377:14" pos:end="377:15">-&gt;</operator><name pos:start="377:16" pos:end="377:26">block_index</name><index pos:start="377:27" pos:end="377:29">[<expr pos:start="377:28" pos:end="377:28"><literal type="number" pos:start="377:28" pos:end="377:28">0</literal></expr>]</index></name><operator pos:start="377:30" pos:end="377:31">+=</operator><literal type="number" pos:start="377:32" pos:end="377:32">2</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="379:13" pos:end="379:33"><expr pos:start="379:13" pos:end="379:32"><name pos:start="379:13" pos:end="379:29"><name pos:start="379:13" pos:end="379:13">s</name><operator pos:start="379:14" pos:end="379:15">-&gt;</operator><name pos:start="379:16" pos:end="379:26">block_index</name><index pos:start="379:27" pos:end="379:29">[<expr pos:start="379:28" pos:end="379:28"><literal type="number" pos:start="379:28" pos:end="379:28">1</literal></expr>]</index></name><operator pos:start="379:30" pos:end="379:31">+=</operator><literal type="number" pos:start="379:32" pos:end="379:32">2</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="381:13" pos:end="381:33"><expr pos:start="381:13" pos:end="381:32"><name pos:start="381:13" pos:end="381:29"><name pos:start="381:13" pos:end="381:13">s</name><operator pos:start="381:14" pos:end="381:15">-&gt;</operator><name pos:start="381:16" pos:end="381:26">block_index</name><index pos:start="381:27" pos:end="381:29">[<expr pos:start="381:28" pos:end="381:28"><literal type="number" pos:start="381:28" pos:end="381:28">2</literal></expr>]</index></name><operator pos:start="381:30" pos:end="381:31">+=</operator><literal type="number" pos:start="381:32" pos:end="381:32">2</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="383:13" pos:end="383:33"><expr pos:start="383:13" pos:end="383:32"><name pos:start="383:13" pos:end="383:29"><name pos:start="383:13" pos:end="383:13">s</name><operator pos:start="383:14" pos:end="383:15">-&gt;</operator><name pos:start="383:16" pos:end="383:26">block_index</name><index pos:start="383:27" pos:end="383:29">[<expr pos:start="383:28" pos:end="383:28"><literal type="number" pos:start="383:28" pos:end="383:28">3</literal></expr>]</index></name><operator pos:start="383:30" pos:end="383:31">+=</operator><literal type="number" pos:start="383:32" pos:end="383:32">2</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="385:13" pos:end="385:32"><expr pos:start="385:13" pos:end="385:31"><name pos:start="385:13" pos:end="385:29"><name pos:start="385:13" pos:end="385:13">s</name><operator pos:start="385:14" pos:end="385:15">-&gt;</operator><name pos:start="385:16" pos:end="385:26">block_index</name><index pos:start="385:27" pos:end="385:29">[<expr pos:start="385:28" pos:end="385:28"><literal type="number" pos:start="385:28" pos:end="385:28">4</literal></expr>]</index></name><operator pos:start="385:30" pos:end="385:31">++</operator></expr>;</expr_stmt>

            <expr_stmt pos:start="387:13" pos:end="387:32"><expr pos:start="387:13" pos:end="387:31"><name pos:start="387:13" pos:end="387:29"><name pos:start="387:13" pos:end="387:13">s</name><operator pos:start="387:14" pos:end="387:15">-&gt;</operator><name pos:start="387:16" pos:end="387:26">block_index</name><index pos:start="387:27" pos:end="387:29">[<expr pos:start="387:28" pos:end="387:28"><literal type="number" pos:start="387:28" pos:end="387:28">5</literal></expr>]</index></name><operator pos:start="387:30" pos:end="387:31">++</operator></expr>;</expr_stmt>

            <if_stmt pos:start="389:13" pos:end="817:13"><if pos:start="389:13" pos:end="707:13">if<condition pos:start="389:15" pos:end="389:37">(<expr pos:start="389:16" pos:end="389:36"><name pos:start="389:16" pos:end="389:22">mb_type</name> <operator pos:start="389:24" pos:end="389:24">&amp;</operator> <operator pos:start="389:26" pos:end="389:26">(</operator><name pos:start="389:27" pos:end="389:33">mb_type</name><operator pos:start="389:34" pos:end="389:34">-</operator><literal type="number" pos:start="389:35" pos:end="389:35">1</literal><operator pos:start="389:36" pos:end="389:36">)</operator></expr>)</condition><block pos:start="389:38" pos:end="707:13">{<block_content pos:start="391:17" pos:end="705:52"> <comment type="line" pos:start="389:40" pos:end="389:70">// more than 1 MB type possible</comment>

                <decl_stmt pos:start="391:17" pos:end="391:33"><decl pos:start="391:17" pos:end="391:32"><type pos:start="391:17" pos:end="391:19"><name pos:start="391:17" pos:end="391:19">int</name></type> <name pos:start="391:21" pos:end="391:30">next_block</name><init pos:start="391:31" pos:end="391:32">=<expr pos:start="391:32" pos:end="391:32"><literal type="number" pos:start="391:32" pos:end="391:32">0</literal></expr></init></decl>;</decl_stmt>

                <expr_stmt pos:start="393:17" pos:end="393:26"><expr pos:start="393:17" pos:end="393:25"><name pos:start="393:17" pos:end="393:18">pb</name><operator pos:start="393:19" pos:end="393:19">=</operator> <name pos:start="393:21" pos:end="393:25"><name pos:start="393:21" pos:end="393:21">s</name><operator pos:start="393:22" pos:end="393:23">-&gt;</operator><name pos:start="393:24" pos:end="393:25">pb</name></name></expr>;</expr_stmt>



                <expr_stmt pos:start="397:17" pos:end="397:61"><expr pos:start="397:17" pos:end="397:60"><call pos:start="397:17" pos:end="397:60"><name pos:start="397:17" pos:end="397:42">copy_context_before_encode</name><argument_list pos:start="397:43" pos:end="397:60">(<argument pos:start="397:44" pos:end="397:52"><expr pos:start="397:44" pos:end="397:52"><operator pos:start="397:44" pos:end="397:44">&amp;</operator><name pos:start="397:45" pos:end="397:52">backup_s</name></expr></argument>, <argument pos:start="397:55" pos:end="397:55"><expr pos:start="397:55" pos:end="397:55"><name pos:start="397:55" pos:end="397:55">s</name></expr></argument>, <argument pos:start="397:58" pos:end="397:59"><expr pos:start="397:58" pos:end="397:59"><operator pos:start="397:58" pos:end="397:58">-</operator><literal type="number" pos:start="397:59" pos:end="397:59">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>



                <if_stmt pos:start="401:17" pos:end="439:17"><if pos:start="401:17" pos:end="439:17">if<condition pos:start="401:19" pos:end="401:41">(<expr pos:start="401:20" pos:end="401:40"><name pos:start="401:20" pos:end="401:26">mb_type</name><operator pos:start="401:27" pos:end="401:27">&amp;</operator><name pos:start="401:28" pos:end="401:40">MB_TYPE_INTER</name></expr>)</condition><block pos:start="401:42" pos:end="439:17">{<block_content pos:start="403:21" pos:end="437:21">

                    <expr_stmt pos:start="403:21" pos:end="403:47"><expr pos:start="403:21" pos:end="403:46"><name pos:start="403:21" pos:end="403:29"><name pos:start="403:21" pos:end="403:21">s</name><operator pos:start="403:22" pos:end="403:23">-&gt;</operator><name pos:start="403:24" pos:end="403:29">mv_dir</name></name> <operator pos:start="403:31" pos:end="403:31">=</operator> <name pos:start="403:33" pos:end="403:46">MV_DIR_FORWARD</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="405:21" pos:end="405:47"><expr pos:start="405:21" pos:end="405:46"><name pos:start="405:21" pos:end="405:30"><name pos:start="405:21" pos:end="405:21">s</name><operator pos:start="405:22" pos:end="405:23">-&gt;</operator><name pos:start="405:24" pos:end="405:30">mv_type</name></name> <operator pos:start="405:32" pos:end="405:32">=</operator> <name pos:start="405:34" pos:end="405:46">MV_TYPE_16X16</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="407:21" pos:end="407:35"><expr pos:start="407:21" pos:end="407:34"><name pos:start="407:21" pos:end="407:31"><name pos:start="407:21" pos:end="407:21">s</name><operator pos:start="407:22" pos:end="407:23">-&gt;</operator><name pos:start="407:24" pos:end="407:31">mb_intra</name></name><operator pos:start="407:32" pos:end="407:32">=</operator> <literal type="number" pos:start="407:34" pos:end="407:34">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="409:21" pos:end="409:58"><expr pos:start="409:21" pos:end="409:57"><name pos:start="409:21" pos:end="409:34"><name pos:start="409:21" pos:end="409:21">s</name><operator pos:start="409:22" pos:end="409:23">-&gt;</operator><name pos:start="409:24" pos:end="409:25">mv</name><index pos:start="409:26" pos:end="409:28">[<expr pos:start="409:27" pos:end="409:27"><literal type="number" pos:start="409:27" pos:end="409:27">0</literal></expr>]</index><index pos:start="409:29" pos:end="409:31">[<expr pos:start="409:30" pos:end="409:30"><literal type="number" pos:start="409:30" pos:end="409:30">0</literal></expr>]</index><index pos:start="409:32" pos:end="409:34">[<expr pos:start="409:33" pos:end="409:33"><literal type="number" pos:start="409:33" pos:end="409:33">0</literal></expr>]</index></name> <operator pos:start="409:36" pos:end="409:36">=</operator> <name pos:start="409:38" pos:end="409:57"><name pos:start="409:38" pos:end="409:38">s</name><operator pos:start="409:39" pos:end="409:40">-&gt;</operator><name pos:start="409:41" pos:end="409:50">p_mv_table</name><index pos:start="409:51" pos:end="409:54">[<expr pos:start="409:52" pos:end="409:53"><name pos:start="409:52" pos:end="409:53">xy</name></expr>]</index><index pos:start="409:55" pos:end="409:57">[<expr pos:start="409:56" pos:end="409:56"><literal type="number" pos:start="409:56" pos:end="409:56">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="411:21" pos:end="411:58"><expr pos:start="411:21" pos:end="411:57"><name pos:start="411:21" pos:end="411:34"><name pos:start="411:21" pos:end="411:21">s</name><operator pos:start="411:22" pos:end="411:23">-&gt;</operator><name pos:start="411:24" pos:end="411:25">mv</name><index pos:start="411:26" pos:end="411:28">[<expr pos:start="411:27" pos:end="411:27"><literal type="number" pos:start="411:27" pos:end="411:27">0</literal></expr>]</index><index pos:start="411:29" pos:end="411:31">[<expr pos:start="411:30" pos:end="411:30"><literal type="number" pos:start="411:30" pos:end="411:30">0</literal></expr>]</index><index pos:start="411:32" pos:end="411:34">[<expr pos:start="411:33" pos:end="411:33"><literal type="number" pos:start="411:33" pos:end="411:33">1</literal></expr>]</index></name> <operator pos:start="411:36" pos:end="411:36">=</operator> <name pos:start="411:38" pos:end="411:57"><name pos:start="411:38" pos:end="411:38">s</name><operator pos:start="411:39" pos:end="411:40">-&gt;</operator><name pos:start="411:41" pos:end="411:50">p_mv_table</name><index pos:start="411:51" pos:end="411:54">[<expr pos:start="411:52" pos:end="411:53"><name pos:start="411:52" pos:end="411:53">xy</name></expr>]</index><index pos:start="411:55" pos:end="411:57">[<expr pos:start="411:56" pos:end="411:56"><literal type="number" pos:start="411:56" pos:end="411:56">1</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="413:21" pos:end="413:72"><expr pos:start="413:21" pos:end="413:71"><call pos:start="413:21" pos:end="413:71"><name pos:start="413:21" pos:end="413:33">init_put_bits</name><argument_list pos:start="413:34" pos:end="413:71">(<argument pos:start="413:35" pos:end="413:40"><expr pos:start="413:35" pos:end="413:40"><operator pos:start="413:35" pos:end="413:35">&amp;</operator><name pos:start="413:36" pos:end="413:40"><name pos:start="413:36" pos:end="413:36">s</name><operator pos:start="413:37" pos:end="413:38">-&gt;</operator><name pos:start="413:39" pos:end="413:40">pb</name></name></expr></argument>, <argument pos:start="413:43" pos:end="413:52"><expr pos:start="413:43" pos:end="413:52"><name pos:start="413:43" pos:end="413:52"><name pos:start="413:43" pos:end="413:49">bit_buf</name><index pos:start="413:50" pos:end="413:52">[<expr pos:start="413:51" pos:end="413:51"><literal type="number" pos:start="413:51" pos:end="413:51">1</literal></expr>]</index></name></expr></argument>, <argument pos:start="413:55" pos:end="413:58"><expr pos:start="413:55" pos:end="413:58"><literal type="number" pos:start="413:55" pos:end="413:58">3000</literal></expr></argument>, <argument pos:start="413:61" pos:end="413:64"><expr pos:start="413:61" pos:end="413:64"><name pos:start="413:61" pos:end="413:64">NULL</name></expr></argument>, <argument pos:start="413:67" pos:end="413:70"><expr pos:start="413:67" pos:end="413:70"><name pos:start="413:67" pos:end="413:70">NULL</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="415:21" pos:end="415:52"><expr pos:start="415:21" pos:end="415:51"><name pos:start="415:21" pos:end="415:28"><name pos:start="415:21" pos:end="415:21">s</name><operator pos:start="415:22" pos:end="415:23">-&gt;</operator><name pos:start="415:24" pos:end="415:28">block</name></name><operator pos:start="415:29" pos:end="415:29">=</operator> <name pos:start="415:31" pos:end="415:51"><name pos:start="415:31" pos:end="415:31">s</name><operator pos:start="415:32" pos:end="415:33">-&gt;</operator><name pos:start="415:34" pos:end="415:39">blocks</name><index pos:start="415:40" pos:end="415:51">[<expr pos:start="415:41" pos:end="415:50"><name pos:start="415:41" pos:end="415:50">next_block</name></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="417:21" pos:end="417:36"><expr pos:start="417:21" pos:end="417:35"><name pos:start="417:21" pos:end="417:32"><name pos:start="417:21" pos:end="417:21">s</name><operator pos:start="417:22" pos:end="417:23">-&gt;</operator><name pos:start="417:24" pos:end="417:32">last_bits</name></name><operator pos:start="417:33" pos:end="417:33">=</operator> <literal type="number" pos:start="417:35" pos:end="417:35">0</literal></expr>;</expr_stmt> <comment type="line" pos:start="417:38" pos:end="417:95">//done in copy_context_before_encode but we skip that here</comment>



                    <expr_stmt pos:start="421:21" pos:end="421:65"><expr pos:start="421:21" pos:end="421:64"><call pos:start="421:21" pos:end="421:64"><name pos:start="421:21" pos:end="421:29">encode_mb</name><argument_list pos:start="421:30" pos:end="421:64">(<argument pos:start="421:31" pos:end="421:31"><expr pos:start="421:31" pos:end="421:31"><name pos:start="421:31" pos:end="421:31">s</name></expr></argument>, <argument pos:start="421:34" pos:end="421:47"><expr pos:start="421:34" pos:end="421:47"><name pos:start="421:34" pos:end="421:47"><name pos:start="421:34" pos:end="421:34">s</name><operator pos:start="421:35" pos:end="421:36">-&gt;</operator><name pos:start="421:37" pos:end="421:38">mv</name><index pos:start="421:39" pos:end="421:41">[<expr pos:start="421:40" pos:end="421:40"><literal type="number" pos:start="421:40" pos:end="421:40">0</literal></expr>]</index><index pos:start="421:42" pos:end="421:44">[<expr pos:start="421:43" pos:end="421:43"><literal type="number" pos:start="421:43" pos:end="421:43">0</literal></expr>]</index><index pos:start="421:45" pos:end="421:47">[<expr pos:start="421:46" pos:end="421:46"><literal type="number" pos:start="421:46" pos:end="421:46">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="421:50" pos:end="421:63"><expr pos:start="421:50" pos:end="421:63"><name pos:start="421:50" pos:end="421:63"><name pos:start="421:50" pos:end="421:50">s</name><operator pos:start="421:51" pos:end="421:52">-&gt;</operator><name pos:start="421:53" pos:end="421:54">mv</name><index pos:start="421:55" pos:end="421:57">[<expr pos:start="421:56" pos:end="421:56"><literal type="number" pos:start="421:56" pos:end="421:56">0</literal></expr>]</index><index pos:start="421:58" pos:end="421:60">[<expr pos:start="421:59" pos:end="421:59"><literal type="number" pos:start="421:59" pos:end="421:59">0</literal></expr>]</index><index pos:start="421:61" pos:end="421:63">[<expr pos:start="421:62" pos:end="421:62"><literal type="number" pos:start="421:62" pos:end="421:62">1</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="423:21" pos:end="423:45"><expr pos:start="423:21" pos:end="423:44"><name pos:start="423:21" pos:end="423:21">d</name><operator pos:start="423:22" pos:end="423:22">=</operator> <call pos:start="423:24" pos:end="423:44"><name pos:start="423:24" pos:end="423:36">get_bit_count</name><argument_list pos:start="423:37" pos:end="423:44">(<argument pos:start="423:38" pos:end="423:43"><expr pos:start="423:38" pos:end="423:43"><operator pos:start="423:38" pos:end="423:38">&amp;</operator><name pos:start="423:39" pos:end="423:43"><name pos:start="423:39" pos:end="423:39">s</name><operator pos:start="423:40" pos:end="423:41">-&gt;</operator><name pos:start="423:42" pos:end="423:43">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <if_stmt pos:start="425:21" pos:end="437:21"><if pos:start="425:21" pos:end="437:21">if<condition pos:start="425:23" pos:end="425:30">(<expr pos:start="425:24" pos:end="425:29"><name pos:start="425:24" pos:end="425:24">d</name><operator pos:start="425:25" pos:end="425:25">&lt;</operator><name pos:start="425:26" pos:end="425:29">dmin</name></expr>)</condition><block pos:start="425:31" pos:end="437:21">{<block_content pos:start="427:25" pos:end="435:38">

                        <expr_stmt pos:start="427:25" pos:end="427:47"><expr pos:start="427:25" pos:end="427:46"><call pos:start="427:25" pos:end="427:46"><name pos:start="427:25" pos:end="427:38">flush_put_bits</name><argument_list pos:start="427:39" pos:end="427:46">(<argument pos:start="427:40" pos:end="427:45"><expr pos:start="427:40" pos:end="427:45"><operator pos:start="427:40" pos:end="427:40">&amp;</operator><name pos:start="427:41" pos:end="427:45"><name pos:start="427:41" pos:end="427:41">s</name><operator pos:start="427:42" pos:end="427:43">-&gt;</operator><name pos:start="427:44" pos:end="427:45">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                        <expr_stmt pos:start="429:25" pos:end="429:31"><expr pos:start="429:25" pos:end="429:30"><name pos:start="429:25" pos:end="429:28">dmin</name><operator pos:start="429:29" pos:end="429:29">=</operator><name pos:start="429:30" pos:end="429:30">d</name></expr>;</expr_stmt>

                        <expr_stmt pos:start="431:25" pos:end="431:77"><expr pos:start="431:25" pos:end="431:76"><call pos:start="431:25" pos:end="431:76"><name pos:start="431:25" pos:end="431:49">copy_context_after_encode</name><argument_list pos:start="431:50" pos:end="431:76">(<argument pos:start="431:51" pos:end="431:57"><expr pos:start="431:51" pos:end="431:57"><operator pos:start="431:51" pos:end="431:51">&amp;</operator><name pos:start="431:52" pos:end="431:57">best_s</name></expr></argument>, <argument pos:start="431:60" pos:end="431:60"><expr pos:start="431:60" pos:end="431:60"><name pos:start="431:60" pos:end="431:60">s</name></expr></argument>, <argument pos:start="431:63" pos:end="431:75"><expr pos:start="431:63" pos:end="431:75"><name pos:start="431:63" pos:end="431:75">MB_TYPE_INTER</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                        <expr_stmt pos:start="433:25" pos:end="433:31"><expr pos:start="433:25" pos:end="433:30"><name pos:start="433:25" pos:end="433:28">best</name><operator pos:start="433:29" pos:end="433:29">=</operator><literal type="number" pos:start="433:30" pos:end="433:30">1</literal></expr>;</expr_stmt>

                        <expr_stmt pos:start="435:25" pos:end="435:38"><expr pos:start="435:25" pos:end="435:37"><name pos:start="435:25" pos:end="435:34">next_block</name><operator pos:start="435:35" pos:end="435:36">^=</operator><literal type="number" pos:start="435:37" pos:end="435:37">1</literal></expr>;</expr_stmt>

                    </block_content>}</block></if></if_stmt>

                </block_content>}</block></if></if_stmt>

                <if_stmt pos:start="441:17" pos:end="483:17"><if pos:start="441:17" pos:end="483:17">if<condition pos:start="441:19" pos:end="441:43">(<expr pos:start="441:20" pos:end="441:42"><name pos:start="441:20" pos:end="441:26">mb_type</name><operator pos:start="441:27" pos:end="441:27">&amp;</operator><name pos:start="441:28" pos:end="441:42">MB_TYPE_INTER4V</name></expr>)</condition><block pos:start="441:44" pos:end="483:17">{<block_content pos:start="443:21" pos:end="481:21">                 

                    <expr_stmt pos:start="443:21" pos:end="443:78"><expr pos:start="443:21" pos:end="443:77"><call pos:start="443:21" pos:end="443:77"><name pos:start="443:21" pos:end="443:46">copy_context_before_encode</name><argument_list pos:start="443:47" pos:end="443:77">(<argument pos:start="443:48" pos:end="443:48"><expr pos:start="443:48" pos:end="443:48"><name pos:start="443:48" pos:end="443:48">s</name></expr></argument>, <argument pos:start="443:51" pos:end="443:59"><expr pos:start="443:51" pos:end="443:59"><operator pos:start="443:51" pos:end="443:51">&amp;</operator><name pos:start="443:52" pos:end="443:59">backup_s</name></expr></argument>, <argument pos:start="443:62" pos:end="443:76"><expr pos:start="443:62" pos:end="443:76"><name pos:start="443:62" pos:end="443:76">MB_TYPE_INTER4V</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="445:21" pos:end="445:47"><expr pos:start="445:21" pos:end="445:46"><name pos:start="445:21" pos:end="445:29"><name pos:start="445:21" pos:end="445:21">s</name><operator pos:start="445:22" pos:end="445:23">-&gt;</operator><name pos:start="445:24" pos:end="445:29">mv_dir</name></name> <operator pos:start="445:31" pos:end="445:31">=</operator> <name pos:start="445:33" pos:end="445:46">MV_DIR_FORWARD</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="447:21" pos:end="447:45"><expr pos:start="447:21" pos:end="447:44"><name pos:start="447:21" pos:end="447:30"><name pos:start="447:21" pos:end="447:21">s</name><operator pos:start="447:22" pos:end="447:23">-&gt;</operator><name pos:start="447:24" pos:end="447:30">mv_type</name></name> <operator pos:start="447:32" pos:end="447:32">=</operator> <name pos:start="447:34" pos:end="447:44">MV_TYPE_8X8</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="449:21" pos:end="449:35"><expr pos:start="449:21" pos:end="449:34"><name pos:start="449:21" pos:end="449:31"><name pos:start="449:21" pos:end="449:21">s</name><operator pos:start="449:22" pos:end="449:23">-&gt;</operator><name pos:start="449:24" pos:end="449:31">mb_intra</name></name><operator pos:start="449:32" pos:end="449:32">=</operator> <literal type="number" pos:start="449:34" pos:end="449:34">0</literal></expr>;</expr_stmt>

                    <for pos:start="451:21" pos:end="457:21">for<control pos:start="451:24" pos:end="451:38">(<init pos:start="451:25" pos:end="451:28"><expr pos:start="451:25" pos:end="451:27"><name pos:start="451:25" pos:end="451:25">i</name><operator pos:start="451:26" pos:end="451:26">=</operator><literal type="number" pos:start="451:27" pos:end="451:27">0</literal></expr>;</init> <condition pos:start="451:30" pos:end="451:33"><expr pos:start="451:30" pos:end="451:32"><name pos:start="451:30" pos:end="451:30">i</name><operator pos:start="451:31" pos:end="451:31">&lt;</operator><literal type="number" pos:start="451:32" pos:end="451:32">4</literal></expr>;</condition> <incr pos:start="451:35" pos:end="451:37"><expr pos:start="451:35" pos:end="451:37"><name pos:start="451:35" pos:end="451:35">i</name><operator pos:start="451:36" pos:end="451:37">++</operator></expr></incr>)</control><block pos:start="451:39" pos:end="457:21">{<block_content pos:start="453:25" pos:end="455:77">

                        <expr_stmt pos:start="453:25" pos:end="453:77"><expr pos:start="453:25" pos:end="453:76"><name pos:start="453:25" pos:end="453:38"><name pos:start="453:25" pos:end="453:25">s</name><operator pos:start="453:26" pos:end="453:27">-&gt;</operator><name pos:start="453:28" pos:end="453:29">mv</name><index pos:start="453:30" pos:end="453:32">[<expr pos:start="453:31" pos:end="453:31"><literal type="number" pos:start="453:31" pos:end="453:31">0</literal></expr>]</index><index pos:start="453:33" pos:end="453:35">[<expr pos:start="453:34" pos:end="453:34"><name pos:start="453:34" pos:end="453:34">i</name></expr>]</index><index pos:start="453:36" pos:end="453:38">[<expr pos:start="453:37" pos:end="453:37"><literal type="number" pos:start="453:37" pos:end="453:37">0</literal></expr>]</index></name> <operator pos:start="453:40" pos:end="453:40">=</operator> <name pos:start="453:42" pos:end="453:76"><name pos:start="453:42" pos:end="453:42">s</name><operator pos:start="453:43" pos:end="453:44">-&gt;</operator><name pos:start="453:45" pos:end="453:54">motion_val</name><index pos:start="453:55" pos:end="453:73">[<expr pos:start="453:56" pos:end="453:72"><name pos:start="453:56" pos:end="453:72"><name pos:start="453:56" pos:end="453:56">s</name><operator pos:start="453:57" pos:end="453:58">-&gt;</operator><name pos:start="453:59" pos:end="453:69">block_index</name><index pos:start="453:70" pos:end="453:72">[<expr pos:start="453:71" pos:end="453:71"><name pos:start="453:71" pos:end="453:71">i</name></expr>]</index></name></expr>]</index><index pos:start="453:74" pos:end="453:76">[<expr pos:start="453:75" pos:end="453:75"><literal type="number" pos:start="453:75" pos:end="453:75">0</literal></expr>]</index></name></expr>;</expr_stmt>

                        <expr_stmt pos:start="455:25" pos:end="455:77"><expr pos:start="455:25" pos:end="455:76"><name pos:start="455:25" pos:end="455:38"><name pos:start="455:25" pos:end="455:25">s</name><operator pos:start="455:26" pos:end="455:27">-&gt;</operator><name pos:start="455:28" pos:end="455:29">mv</name><index pos:start="455:30" pos:end="455:32">[<expr pos:start="455:31" pos:end="455:31"><literal type="number" pos:start="455:31" pos:end="455:31">0</literal></expr>]</index><index pos:start="455:33" pos:end="455:35">[<expr pos:start="455:34" pos:end="455:34"><name pos:start="455:34" pos:end="455:34">i</name></expr>]</index><index pos:start="455:36" pos:end="455:38">[<expr pos:start="455:37" pos:end="455:37"><literal type="number" pos:start="455:37" pos:end="455:37">1</literal></expr>]</index></name> <operator pos:start="455:40" pos:end="455:40">=</operator> <name pos:start="455:42" pos:end="455:76"><name pos:start="455:42" pos:end="455:42">s</name><operator pos:start="455:43" pos:end="455:44">-&gt;</operator><name pos:start="455:45" pos:end="455:54">motion_val</name><index pos:start="455:55" pos:end="455:73">[<expr pos:start="455:56" pos:end="455:72"><name pos:start="455:56" pos:end="455:72"><name pos:start="455:56" pos:end="455:56">s</name><operator pos:start="455:57" pos:end="455:58">-&gt;</operator><name pos:start="455:59" pos:end="455:69">block_index</name><index pos:start="455:70" pos:end="455:72">[<expr pos:start="455:71" pos:end="455:71"><name pos:start="455:71" pos:end="455:71">i</name></expr>]</index></name></expr>]</index><index pos:start="455:74" pos:end="455:76">[<expr pos:start="455:75" pos:end="455:75"><literal type="number" pos:start="455:75" pos:end="455:75">1</literal></expr>]</index></name></expr>;</expr_stmt>

                    </block_content>}</block></for>

                    <expr_stmt pos:start="459:21" pos:end="459:72"><expr pos:start="459:21" pos:end="459:71"><call pos:start="459:21" pos:end="459:71"><name pos:start="459:21" pos:end="459:33">init_put_bits</name><argument_list pos:start="459:34" pos:end="459:71">(<argument pos:start="459:35" pos:end="459:40"><expr pos:start="459:35" pos:end="459:40"><operator pos:start="459:35" pos:end="459:35">&amp;</operator><name pos:start="459:36" pos:end="459:40"><name pos:start="459:36" pos:end="459:36">s</name><operator pos:start="459:37" pos:end="459:38">-&gt;</operator><name pos:start="459:39" pos:end="459:40">pb</name></name></expr></argument>, <argument pos:start="459:43" pos:end="459:52"><expr pos:start="459:43" pos:end="459:52"><name pos:start="459:43" pos:end="459:52"><name pos:start="459:43" pos:end="459:49">bit_buf</name><index pos:start="459:50" pos:end="459:52">[<expr pos:start="459:51" pos:end="459:51"><literal type="number" pos:start="459:51" pos:end="459:51">2</literal></expr>]</index></name></expr></argument>, <argument pos:start="459:55" pos:end="459:58"><expr pos:start="459:55" pos:end="459:58"><literal type="number" pos:start="459:55" pos:end="459:58">3000</literal></expr></argument>, <argument pos:start="459:61" pos:end="459:64"><expr pos:start="459:61" pos:end="459:64"><name pos:start="459:61" pos:end="459:64">NULL</name></expr></argument>, <argument pos:start="459:67" pos:end="459:70"><expr pos:start="459:67" pos:end="459:70"><name pos:start="459:67" pos:end="459:70">NULL</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="461:21" pos:end="461:52"><expr pos:start="461:21" pos:end="461:51"><name pos:start="461:21" pos:end="461:28"><name pos:start="461:21" pos:end="461:21">s</name><operator pos:start="461:22" pos:end="461:23">-&gt;</operator><name pos:start="461:24" pos:end="461:28">block</name></name><operator pos:start="461:29" pos:end="461:29">=</operator> <name pos:start="461:31" pos:end="461:51"><name pos:start="461:31" pos:end="461:31">s</name><operator pos:start="461:32" pos:end="461:33">-&gt;</operator><name pos:start="461:34" pos:end="461:39">blocks</name><index pos:start="461:40" pos:end="461:51">[<expr pos:start="461:41" pos:end="461:50"><name pos:start="461:41" pos:end="461:50">next_block</name></expr>]</index></name></expr>;</expr_stmt>



                    <expr_stmt pos:start="465:21" pos:end="465:39"><expr pos:start="465:21" pos:end="465:38"><call pos:start="465:21" pos:end="465:38"><name pos:start="465:21" pos:end="465:29">encode_mb</name><argument_list pos:start="465:30" pos:end="465:38">(<argument pos:start="465:31" pos:end="465:31"><expr pos:start="465:31" pos:end="465:31"><name pos:start="465:31" pos:end="465:31">s</name></expr></argument>, <argument pos:start="465:34" pos:end="465:34"><expr pos:start="465:34" pos:end="465:34"><literal type="number" pos:start="465:34" pos:end="465:34">0</literal></expr></argument>, <argument pos:start="465:37" pos:end="465:37"><expr pos:start="465:37" pos:end="465:37"><literal type="number" pos:start="465:37" pos:end="465:37">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="467:21" pos:end="467:45"><expr pos:start="467:21" pos:end="467:44"><name pos:start="467:21" pos:end="467:21">d</name><operator pos:start="467:22" pos:end="467:22">=</operator> <call pos:start="467:24" pos:end="467:44"><name pos:start="467:24" pos:end="467:36">get_bit_count</name><argument_list pos:start="467:37" pos:end="467:44">(<argument pos:start="467:38" pos:end="467:43"><expr pos:start="467:38" pos:end="467:43"><operator pos:start="467:38" pos:end="467:38">&amp;</operator><name pos:start="467:39" pos:end="467:43"><name pos:start="467:39" pos:end="467:39">s</name><operator pos:start="467:40" pos:end="467:41">-&gt;</operator><name pos:start="467:42" pos:end="467:43">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <if_stmt pos:start="469:21" pos:end="481:21"><if pos:start="469:21" pos:end="481:21">if<condition pos:start="469:23" pos:end="469:30">(<expr pos:start="469:24" pos:end="469:29"><name pos:start="469:24" pos:end="469:24">d</name><operator pos:start="469:25" pos:end="469:25">&lt;</operator><name pos:start="469:26" pos:end="469:29">dmin</name></expr>)</condition><block pos:start="469:31" pos:end="481:21">{<block_content pos:start="471:25" pos:end="479:38">

                        <expr_stmt pos:start="471:25" pos:end="471:47"><expr pos:start="471:25" pos:end="471:46"><call pos:start="471:25" pos:end="471:46"><name pos:start="471:25" pos:end="471:38">flush_put_bits</name><argument_list pos:start="471:39" pos:end="471:46">(<argument pos:start="471:40" pos:end="471:45"><expr pos:start="471:40" pos:end="471:45"><operator pos:start="471:40" pos:end="471:40">&amp;</operator><name pos:start="471:41" pos:end="471:45"><name pos:start="471:41" pos:end="471:41">s</name><operator pos:start="471:42" pos:end="471:43">-&gt;</operator><name pos:start="471:44" pos:end="471:45">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                        <expr_stmt pos:start="473:25" pos:end="473:31"><expr pos:start="473:25" pos:end="473:30"><name pos:start="473:25" pos:end="473:28">dmin</name><operator pos:start="473:29" pos:end="473:29">=</operator><name pos:start="473:30" pos:end="473:30">d</name></expr>;</expr_stmt>

                        <expr_stmt pos:start="475:25" pos:end="475:79"><expr pos:start="475:25" pos:end="475:78"><call pos:start="475:25" pos:end="475:78"><name pos:start="475:25" pos:end="475:49">copy_context_after_encode</name><argument_list pos:start="475:50" pos:end="475:78">(<argument pos:start="475:51" pos:end="475:57"><expr pos:start="475:51" pos:end="475:57"><operator pos:start="475:51" pos:end="475:51">&amp;</operator><name pos:start="475:52" pos:end="475:57">best_s</name></expr></argument>, <argument pos:start="475:60" pos:end="475:60"><expr pos:start="475:60" pos:end="475:60"><name pos:start="475:60" pos:end="475:60">s</name></expr></argument>, <argument pos:start="475:63" pos:end="475:77"><expr pos:start="475:63" pos:end="475:77"><name pos:start="475:63" pos:end="475:77">MB_TYPE_INTER4V</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                        <expr_stmt pos:start="477:25" pos:end="477:31"><expr pos:start="477:25" pos:end="477:30"><name pos:start="477:25" pos:end="477:28">best</name><operator pos:start="477:29" pos:end="477:29">=</operator><literal type="number" pos:start="477:30" pos:end="477:30">2</literal></expr>;</expr_stmt>

                        <expr_stmt pos:start="479:25" pos:end="479:38"><expr pos:start="479:25" pos:end="479:37"><name pos:start="479:25" pos:end="479:34">next_block</name><operator pos:start="479:35" pos:end="479:36">^=</operator><literal type="number" pos:start="479:37" pos:end="479:37">1</literal></expr>;</expr_stmt>

                    </block_content>}</block></if></if_stmt>

                </block_content>}</block></if></if_stmt>

                <if_stmt pos:start="485:17" pos:end="523:17"><if pos:start="485:17" pos:end="523:17">if<condition pos:start="485:19" pos:end="485:43">(<expr pos:start="485:20" pos:end="485:42"><name pos:start="485:20" pos:end="485:26">mb_type</name><operator pos:start="485:27" pos:end="485:27">&amp;</operator><name pos:start="485:28" pos:end="485:42">MB_TYPE_FORWARD</name></expr>)</condition><block pos:start="485:44" pos:end="523:17">{<block_content pos:start="487:21" pos:end="521:21">

                    <expr_stmt pos:start="487:21" pos:end="487:78"><expr pos:start="487:21" pos:end="487:77"><call pos:start="487:21" pos:end="487:77"><name pos:start="487:21" pos:end="487:46">copy_context_before_encode</name><argument_list pos:start="487:47" pos:end="487:77">(<argument pos:start="487:48" pos:end="487:48"><expr pos:start="487:48" pos:end="487:48"><name pos:start="487:48" pos:end="487:48">s</name></expr></argument>, <argument pos:start="487:51" pos:end="487:59"><expr pos:start="487:51" pos:end="487:59"><operator pos:start="487:51" pos:end="487:51">&amp;</operator><name pos:start="487:52" pos:end="487:59">backup_s</name></expr></argument>, <argument pos:start="487:62" pos:end="487:76"><expr pos:start="487:62" pos:end="487:76"><name pos:start="487:62" pos:end="487:76">MB_TYPE_FORWARD</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="489:21" pos:end="489:47"><expr pos:start="489:21" pos:end="489:46"><name pos:start="489:21" pos:end="489:29"><name pos:start="489:21" pos:end="489:21">s</name><operator pos:start="489:22" pos:end="489:23">-&gt;</operator><name pos:start="489:24" pos:end="489:29">mv_dir</name></name> <operator pos:start="489:31" pos:end="489:31">=</operator> <name pos:start="489:33" pos:end="489:46">MV_DIR_FORWARD</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="491:21" pos:end="491:47"><expr pos:start="491:21" pos:end="491:46"><name pos:start="491:21" pos:end="491:30"><name pos:start="491:21" pos:end="491:21">s</name><operator pos:start="491:22" pos:end="491:23">-&gt;</operator><name pos:start="491:24" pos:end="491:30">mv_type</name></name> <operator pos:start="491:32" pos:end="491:32">=</operator> <name pos:start="491:34" pos:end="491:46">MV_TYPE_16X16</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="493:21" pos:end="493:35"><expr pos:start="493:21" pos:end="493:34"><name pos:start="493:21" pos:end="493:31"><name pos:start="493:21" pos:end="493:21">s</name><operator pos:start="493:22" pos:end="493:23">-&gt;</operator><name pos:start="493:24" pos:end="493:31">mb_intra</name></name><operator pos:start="493:32" pos:end="493:32">=</operator> <literal type="number" pos:start="493:34" pos:end="493:34">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="495:21" pos:end="495:63"><expr pos:start="495:21" pos:end="495:62"><name pos:start="495:21" pos:end="495:34"><name pos:start="495:21" pos:end="495:21">s</name><operator pos:start="495:22" pos:end="495:23">-&gt;</operator><name pos:start="495:24" pos:end="495:25">mv</name><index pos:start="495:26" pos:end="495:28">[<expr pos:start="495:27" pos:end="495:27"><literal type="number" pos:start="495:27" pos:end="495:27">0</literal></expr>]</index><index pos:start="495:29" pos:end="495:31">[<expr pos:start="495:30" pos:end="495:30"><literal type="number" pos:start="495:30" pos:end="495:30">0</literal></expr>]</index><index pos:start="495:32" pos:end="495:34">[<expr pos:start="495:33" pos:end="495:33"><literal type="number" pos:start="495:33" pos:end="495:33">0</literal></expr>]</index></name> <operator pos:start="495:36" pos:end="495:36">=</operator> <name pos:start="495:38" pos:end="495:62"><name pos:start="495:38" pos:end="495:38">s</name><operator pos:start="495:39" pos:end="495:40">-&gt;</operator><name pos:start="495:41" pos:end="495:55">b_forw_mv_table</name><index pos:start="495:56" pos:end="495:59">[<expr pos:start="495:57" pos:end="495:58"><name pos:start="495:57" pos:end="495:58">xy</name></expr>]</index><index pos:start="495:60" pos:end="495:62">[<expr pos:start="495:61" pos:end="495:61"><literal type="number" pos:start="495:61" pos:end="495:61">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="497:21" pos:end="497:63"><expr pos:start="497:21" pos:end="497:62"><name pos:start="497:21" pos:end="497:34"><name pos:start="497:21" pos:end="497:21">s</name><operator pos:start="497:22" pos:end="497:23">-&gt;</operator><name pos:start="497:24" pos:end="497:25">mv</name><index pos:start="497:26" pos:end="497:28">[<expr pos:start="497:27" pos:end="497:27"><literal type="number" pos:start="497:27" pos:end="497:27">0</literal></expr>]</index><index pos:start="497:29" pos:end="497:31">[<expr pos:start="497:30" pos:end="497:30"><literal type="number" pos:start="497:30" pos:end="497:30">0</literal></expr>]</index><index pos:start="497:32" pos:end="497:34">[<expr pos:start="497:33" pos:end="497:33"><literal type="number" pos:start="497:33" pos:end="497:33">1</literal></expr>]</index></name> <operator pos:start="497:36" pos:end="497:36">=</operator> <name pos:start="497:38" pos:end="497:62"><name pos:start="497:38" pos:end="497:38">s</name><operator pos:start="497:39" pos:end="497:40">-&gt;</operator><name pos:start="497:41" pos:end="497:55">b_forw_mv_table</name><index pos:start="497:56" pos:end="497:59">[<expr pos:start="497:57" pos:end="497:58"><name pos:start="497:57" pos:end="497:58">xy</name></expr>]</index><index pos:start="497:60" pos:end="497:62">[<expr pos:start="497:61" pos:end="497:61"><literal type="number" pos:start="497:61" pos:end="497:61">1</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="499:21" pos:end="499:72"><expr pos:start="499:21" pos:end="499:71"><call pos:start="499:21" pos:end="499:71"><name pos:start="499:21" pos:end="499:33">init_put_bits</name><argument_list pos:start="499:34" pos:end="499:71">(<argument pos:start="499:35" pos:end="499:40"><expr pos:start="499:35" pos:end="499:40"><operator pos:start="499:35" pos:end="499:35">&amp;</operator><name pos:start="499:36" pos:end="499:40"><name pos:start="499:36" pos:end="499:36">s</name><operator pos:start="499:37" pos:end="499:38">-&gt;</operator><name pos:start="499:39" pos:end="499:40">pb</name></name></expr></argument>, <argument pos:start="499:43" pos:end="499:52"><expr pos:start="499:43" pos:end="499:52"><name pos:start="499:43" pos:end="499:52"><name pos:start="499:43" pos:end="499:49">bit_buf</name><index pos:start="499:50" pos:end="499:52">[<expr pos:start="499:51" pos:end="499:51"><literal type="number" pos:start="499:51" pos:end="499:51">3</literal></expr>]</index></name></expr></argument>, <argument pos:start="499:55" pos:end="499:58"><expr pos:start="499:55" pos:end="499:58"><literal type="number" pos:start="499:55" pos:end="499:58">3000</literal></expr></argument>, <argument pos:start="499:61" pos:end="499:64"><expr pos:start="499:61" pos:end="499:64"><name pos:start="499:61" pos:end="499:64">NULL</name></expr></argument>, <argument pos:start="499:67" pos:end="499:70"><expr pos:start="499:67" pos:end="499:70"><name pos:start="499:67" pos:end="499:70">NULL</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="501:21" pos:end="501:52"><expr pos:start="501:21" pos:end="501:51"><name pos:start="501:21" pos:end="501:28"><name pos:start="501:21" pos:end="501:21">s</name><operator pos:start="501:22" pos:end="501:23">-&gt;</operator><name pos:start="501:24" pos:end="501:28">block</name></name><operator pos:start="501:29" pos:end="501:29">=</operator> <name pos:start="501:31" pos:end="501:51"><name pos:start="501:31" pos:end="501:31">s</name><operator pos:start="501:32" pos:end="501:33">-&gt;</operator><name pos:start="501:34" pos:end="501:39">blocks</name><index pos:start="501:40" pos:end="501:51">[<expr pos:start="501:41" pos:end="501:50"><name pos:start="501:41" pos:end="501:50">next_block</name></expr>]</index></name></expr>;</expr_stmt>



                    <expr_stmt pos:start="505:21" pos:end="505:65"><expr pos:start="505:21" pos:end="505:64"><call pos:start="505:21" pos:end="505:64"><name pos:start="505:21" pos:end="505:29">encode_mb</name><argument_list pos:start="505:30" pos:end="505:64">(<argument pos:start="505:31" pos:end="505:31"><expr pos:start="505:31" pos:end="505:31"><name pos:start="505:31" pos:end="505:31">s</name></expr></argument>, <argument pos:start="505:34" pos:end="505:47"><expr pos:start="505:34" pos:end="505:47"><name pos:start="505:34" pos:end="505:47"><name pos:start="505:34" pos:end="505:34">s</name><operator pos:start="505:35" pos:end="505:36">-&gt;</operator><name pos:start="505:37" pos:end="505:38">mv</name><index pos:start="505:39" pos:end="505:41">[<expr pos:start="505:40" pos:end="505:40"><literal type="number" pos:start="505:40" pos:end="505:40">0</literal></expr>]</index><index pos:start="505:42" pos:end="505:44">[<expr pos:start="505:43" pos:end="505:43"><literal type="number" pos:start="505:43" pos:end="505:43">0</literal></expr>]</index><index pos:start="505:45" pos:end="505:47">[<expr pos:start="505:46" pos:end="505:46"><literal type="number" pos:start="505:46" pos:end="505:46">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="505:50" pos:end="505:63"><expr pos:start="505:50" pos:end="505:63"><name pos:start="505:50" pos:end="505:63"><name pos:start="505:50" pos:end="505:50">s</name><operator pos:start="505:51" pos:end="505:52">-&gt;</operator><name pos:start="505:53" pos:end="505:54">mv</name><index pos:start="505:55" pos:end="505:57">[<expr pos:start="505:56" pos:end="505:56"><literal type="number" pos:start="505:56" pos:end="505:56">0</literal></expr>]</index><index pos:start="505:58" pos:end="505:60">[<expr pos:start="505:59" pos:end="505:59"><literal type="number" pos:start="505:59" pos:end="505:59">0</literal></expr>]</index><index pos:start="505:61" pos:end="505:63">[<expr pos:start="505:62" pos:end="505:62"><literal type="number" pos:start="505:62" pos:end="505:62">1</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="507:21" pos:end="507:45"><expr pos:start="507:21" pos:end="507:44"><name pos:start="507:21" pos:end="507:21">d</name><operator pos:start="507:22" pos:end="507:22">=</operator> <call pos:start="507:24" pos:end="507:44"><name pos:start="507:24" pos:end="507:36">get_bit_count</name><argument_list pos:start="507:37" pos:end="507:44">(<argument pos:start="507:38" pos:end="507:43"><expr pos:start="507:38" pos:end="507:43"><operator pos:start="507:38" pos:end="507:38">&amp;</operator><name pos:start="507:39" pos:end="507:43"><name pos:start="507:39" pos:end="507:39">s</name><operator pos:start="507:40" pos:end="507:41">-&gt;</operator><name pos:start="507:42" pos:end="507:43">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <if_stmt pos:start="509:21" pos:end="521:21"><if pos:start="509:21" pos:end="521:21">if<condition pos:start="509:23" pos:end="509:30">(<expr pos:start="509:24" pos:end="509:29"><name pos:start="509:24" pos:end="509:24">d</name><operator pos:start="509:25" pos:end="509:25">&lt;</operator><name pos:start="509:26" pos:end="509:29">dmin</name></expr>)</condition><block pos:start="509:31" pos:end="521:21">{<block_content pos:start="511:25" pos:end="519:38">

                        <expr_stmt pos:start="511:25" pos:end="511:47"><expr pos:start="511:25" pos:end="511:46"><call pos:start="511:25" pos:end="511:46"><name pos:start="511:25" pos:end="511:38">flush_put_bits</name><argument_list pos:start="511:39" pos:end="511:46">(<argument pos:start="511:40" pos:end="511:45"><expr pos:start="511:40" pos:end="511:45"><operator pos:start="511:40" pos:end="511:40">&amp;</operator><name pos:start="511:41" pos:end="511:45"><name pos:start="511:41" pos:end="511:41">s</name><operator pos:start="511:42" pos:end="511:43">-&gt;</operator><name pos:start="511:44" pos:end="511:45">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                        <expr_stmt pos:start="513:25" pos:end="513:31"><expr pos:start="513:25" pos:end="513:30"><name pos:start="513:25" pos:end="513:28">dmin</name><operator pos:start="513:29" pos:end="513:29">=</operator><name pos:start="513:30" pos:end="513:30">d</name></expr>;</expr_stmt>

                        <expr_stmt pos:start="515:25" pos:end="515:79"><expr pos:start="515:25" pos:end="515:78"><call pos:start="515:25" pos:end="515:78"><name pos:start="515:25" pos:end="515:49">copy_context_after_encode</name><argument_list pos:start="515:50" pos:end="515:78">(<argument pos:start="515:51" pos:end="515:57"><expr pos:start="515:51" pos:end="515:57"><operator pos:start="515:51" pos:end="515:51">&amp;</operator><name pos:start="515:52" pos:end="515:57">best_s</name></expr></argument>, <argument pos:start="515:60" pos:end="515:60"><expr pos:start="515:60" pos:end="515:60"><name pos:start="515:60" pos:end="515:60">s</name></expr></argument>, <argument pos:start="515:63" pos:end="515:77"><expr pos:start="515:63" pos:end="515:77"><name pos:start="515:63" pos:end="515:77">MB_TYPE_FORWARD</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                        <expr_stmt pos:start="517:25" pos:end="517:31"><expr pos:start="517:25" pos:end="517:30"><name pos:start="517:25" pos:end="517:28">best</name><operator pos:start="517:29" pos:end="517:29">=</operator><literal type="number" pos:start="517:30" pos:end="517:30">3</literal></expr>;</expr_stmt>

                        <expr_stmt pos:start="519:25" pos:end="519:38"><expr pos:start="519:25" pos:end="519:37"><name pos:start="519:25" pos:end="519:34">next_block</name><operator pos:start="519:35" pos:end="519:36">^=</operator><literal type="number" pos:start="519:37" pos:end="519:37">1</literal></expr>;</expr_stmt>

                    </block_content>}</block></if></if_stmt>

                </block_content>}</block></if></if_stmt>

                <if_stmt pos:start="525:17" pos:end="563:17"><if pos:start="525:17" pos:end="563:17">if<condition pos:start="525:19" pos:end="525:44">(<expr pos:start="525:20" pos:end="525:43"><name pos:start="525:20" pos:end="525:26">mb_type</name><operator pos:start="525:27" pos:end="525:27">&amp;</operator><name pos:start="525:28" pos:end="525:43">MB_TYPE_BACKWARD</name></expr>)</condition><block pos:start="525:45" pos:end="563:17">{<block_content pos:start="527:21" pos:end="561:21">

                    <expr_stmt pos:start="527:21" pos:end="527:79"><expr pos:start="527:21" pos:end="527:78"><call pos:start="527:21" pos:end="527:78"><name pos:start="527:21" pos:end="527:46">copy_context_before_encode</name><argument_list pos:start="527:47" pos:end="527:78">(<argument pos:start="527:48" pos:end="527:48"><expr pos:start="527:48" pos:end="527:48"><name pos:start="527:48" pos:end="527:48">s</name></expr></argument>, <argument pos:start="527:51" pos:end="527:59"><expr pos:start="527:51" pos:end="527:59"><operator pos:start="527:51" pos:end="527:51">&amp;</operator><name pos:start="527:52" pos:end="527:59">backup_s</name></expr></argument>, <argument pos:start="527:62" pos:end="527:77"><expr pos:start="527:62" pos:end="527:77"><name pos:start="527:62" pos:end="527:77">MB_TYPE_BACKWARD</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="529:21" pos:end="529:48"><expr pos:start="529:21" pos:end="529:47"><name pos:start="529:21" pos:end="529:29"><name pos:start="529:21" pos:end="529:21">s</name><operator pos:start="529:22" pos:end="529:23">-&gt;</operator><name pos:start="529:24" pos:end="529:29">mv_dir</name></name> <operator pos:start="529:31" pos:end="529:31">=</operator> <name pos:start="529:33" pos:end="529:47">MV_DIR_BACKWARD</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="531:21" pos:end="531:47"><expr pos:start="531:21" pos:end="531:46"><name pos:start="531:21" pos:end="531:30"><name pos:start="531:21" pos:end="531:21">s</name><operator pos:start="531:22" pos:end="531:23">-&gt;</operator><name pos:start="531:24" pos:end="531:30">mv_type</name></name> <operator pos:start="531:32" pos:end="531:32">=</operator> <name pos:start="531:34" pos:end="531:46">MV_TYPE_16X16</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="533:21" pos:end="533:35"><expr pos:start="533:21" pos:end="533:34"><name pos:start="533:21" pos:end="533:31"><name pos:start="533:21" pos:end="533:21">s</name><operator pos:start="533:22" pos:end="533:23">-&gt;</operator><name pos:start="533:24" pos:end="533:31">mb_intra</name></name><operator pos:start="533:32" pos:end="533:32">=</operator> <literal type="number" pos:start="533:34" pos:end="533:34">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="535:21" pos:end="535:63"><expr pos:start="535:21" pos:end="535:62"><name pos:start="535:21" pos:end="535:34"><name pos:start="535:21" pos:end="535:21">s</name><operator pos:start="535:22" pos:end="535:23">-&gt;</operator><name pos:start="535:24" pos:end="535:25">mv</name><index pos:start="535:26" pos:end="535:28">[<expr pos:start="535:27" pos:end="535:27"><literal type="number" pos:start="535:27" pos:end="535:27">1</literal></expr>]</index><index pos:start="535:29" pos:end="535:31">[<expr pos:start="535:30" pos:end="535:30"><literal type="number" pos:start="535:30" pos:end="535:30">0</literal></expr>]</index><index pos:start="535:32" pos:end="535:34">[<expr pos:start="535:33" pos:end="535:33"><literal type="number" pos:start="535:33" pos:end="535:33">0</literal></expr>]</index></name> <operator pos:start="535:36" pos:end="535:36">=</operator> <name pos:start="535:38" pos:end="535:62"><name pos:start="535:38" pos:end="535:38">s</name><operator pos:start="535:39" pos:end="535:40">-&gt;</operator><name pos:start="535:41" pos:end="535:55">b_back_mv_table</name><index pos:start="535:56" pos:end="535:59">[<expr pos:start="535:57" pos:end="535:58"><name pos:start="535:57" pos:end="535:58">xy</name></expr>]</index><index pos:start="535:60" pos:end="535:62">[<expr pos:start="535:61" pos:end="535:61"><literal type="number" pos:start="535:61" pos:end="535:61">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="537:21" pos:end="537:63"><expr pos:start="537:21" pos:end="537:62"><name pos:start="537:21" pos:end="537:34"><name pos:start="537:21" pos:end="537:21">s</name><operator pos:start="537:22" pos:end="537:23">-&gt;</operator><name pos:start="537:24" pos:end="537:25">mv</name><index pos:start="537:26" pos:end="537:28">[<expr pos:start="537:27" pos:end="537:27"><literal type="number" pos:start="537:27" pos:end="537:27">1</literal></expr>]</index><index pos:start="537:29" pos:end="537:31">[<expr pos:start="537:30" pos:end="537:30"><literal type="number" pos:start="537:30" pos:end="537:30">0</literal></expr>]</index><index pos:start="537:32" pos:end="537:34">[<expr pos:start="537:33" pos:end="537:33"><literal type="number" pos:start="537:33" pos:end="537:33">1</literal></expr>]</index></name> <operator pos:start="537:36" pos:end="537:36">=</operator> <name pos:start="537:38" pos:end="537:62"><name pos:start="537:38" pos:end="537:38">s</name><operator pos:start="537:39" pos:end="537:40">-&gt;</operator><name pos:start="537:41" pos:end="537:55">b_back_mv_table</name><index pos:start="537:56" pos:end="537:59">[<expr pos:start="537:57" pos:end="537:58"><name pos:start="537:57" pos:end="537:58">xy</name></expr>]</index><index pos:start="537:60" pos:end="537:62">[<expr pos:start="537:61" pos:end="537:61"><literal type="number" pos:start="537:61" pos:end="537:61">1</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="539:21" pos:end="539:72"><expr pos:start="539:21" pos:end="539:71"><call pos:start="539:21" pos:end="539:71"><name pos:start="539:21" pos:end="539:33">init_put_bits</name><argument_list pos:start="539:34" pos:end="539:71">(<argument pos:start="539:35" pos:end="539:40"><expr pos:start="539:35" pos:end="539:40"><operator pos:start="539:35" pos:end="539:35">&amp;</operator><name pos:start="539:36" pos:end="539:40"><name pos:start="539:36" pos:end="539:36">s</name><operator pos:start="539:37" pos:end="539:38">-&gt;</operator><name pos:start="539:39" pos:end="539:40">pb</name></name></expr></argument>, <argument pos:start="539:43" pos:end="539:52"><expr pos:start="539:43" pos:end="539:52"><name pos:start="539:43" pos:end="539:52"><name pos:start="539:43" pos:end="539:49">bit_buf</name><index pos:start="539:50" pos:end="539:52">[<expr pos:start="539:51" pos:end="539:51"><literal type="number" pos:start="539:51" pos:end="539:51">4</literal></expr>]</index></name></expr></argument>, <argument pos:start="539:55" pos:end="539:58"><expr pos:start="539:55" pos:end="539:58"><literal type="number" pos:start="539:55" pos:end="539:58">3000</literal></expr></argument>, <argument pos:start="539:61" pos:end="539:64"><expr pos:start="539:61" pos:end="539:64"><name pos:start="539:61" pos:end="539:64">NULL</name></expr></argument>, <argument pos:start="539:67" pos:end="539:70"><expr pos:start="539:67" pos:end="539:70"><name pos:start="539:67" pos:end="539:70">NULL</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="541:21" pos:end="541:52"><expr pos:start="541:21" pos:end="541:51"><name pos:start="541:21" pos:end="541:28"><name pos:start="541:21" pos:end="541:21">s</name><operator pos:start="541:22" pos:end="541:23">-&gt;</operator><name pos:start="541:24" pos:end="541:28">block</name></name><operator pos:start="541:29" pos:end="541:29">=</operator> <name pos:start="541:31" pos:end="541:51"><name pos:start="541:31" pos:end="541:31">s</name><operator pos:start="541:32" pos:end="541:33">-&gt;</operator><name pos:start="541:34" pos:end="541:39">blocks</name><index pos:start="541:40" pos:end="541:51">[<expr pos:start="541:41" pos:end="541:50"><name pos:start="541:41" pos:end="541:50">next_block</name></expr>]</index></name></expr>;</expr_stmt>



                    <expr_stmt pos:start="545:21" pos:end="545:65"><expr pos:start="545:21" pos:end="545:64"><call pos:start="545:21" pos:end="545:64"><name pos:start="545:21" pos:end="545:29">encode_mb</name><argument_list pos:start="545:30" pos:end="545:64">(<argument pos:start="545:31" pos:end="545:31"><expr pos:start="545:31" pos:end="545:31"><name pos:start="545:31" pos:end="545:31">s</name></expr></argument>, <argument pos:start="545:34" pos:end="545:47"><expr pos:start="545:34" pos:end="545:47"><name pos:start="545:34" pos:end="545:47"><name pos:start="545:34" pos:end="545:34">s</name><operator pos:start="545:35" pos:end="545:36">-&gt;</operator><name pos:start="545:37" pos:end="545:38">mv</name><index pos:start="545:39" pos:end="545:41">[<expr pos:start="545:40" pos:end="545:40"><literal type="number" pos:start="545:40" pos:end="545:40">1</literal></expr>]</index><index pos:start="545:42" pos:end="545:44">[<expr pos:start="545:43" pos:end="545:43"><literal type="number" pos:start="545:43" pos:end="545:43">0</literal></expr>]</index><index pos:start="545:45" pos:end="545:47">[<expr pos:start="545:46" pos:end="545:46"><literal type="number" pos:start="545:46" pos:end="545:46">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="545:50" pos:end="545:63"><expr pos:start="545:50" pos:end="545:63"><name pos:start="545:50" pos:end="545:63"><name pos:start="545:50" pos:end="545:50">s</name><operator pos:start="545:51" pos:end="545:52">-&gt;</operator><name pos:start="545:53" pos:end="545:54">mv</name><index pos:start="545:55" pos:end="545:57">[<expr pos:start="545:56" pos:end="545:56"><literal type="number" pos:start="545:56" pos:end="545:56">1</literal></expr>]</index><index pos:start="545:58" pos:end="545:60">[<expr pos:start="545:59" pos:end="545:59"><literal type="number" pos:start="545:59" pos:end="545:59">0</literal></expr>]</index><index pos:start="545:61" pos:end="545:63">[<expr pos:start="545:62" pos:end="545:62"><literal type="number" pos:start="545:62" pos:end="545:62">1</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="547:21" pos:end="547:45"><expr pos:start="547:21" pos:end="547:44"><name pos:start="547:21" pos:end="547:21">d</name><operator pos:start="547:22" pos:end="547:22">=</operator> <call pos:start="547:24" pos:end="547:44"><name pos:start="547:24" pos:end="547:36">get_bit_count</name><argument_list pos:start="547:37" pos:end="547:44">(<argument pos:start="547:38" pos:end="547:43"><expr pos:start="547:38" pos:end="547:43"><operator pos:start="547:38" pos:end="547:38">&amp;</operator><name pos:start="547:39" pos:end="547:43"><name pos:start="547:39" pos:end="547:39">s</name><operator pos:start="547:40" pos:end="547:41">-&gt;</operator><name pos:start="547:42" pos:end="547:43">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <if_stmt pos:start="549:21" pos:end="561:21"><if pos:start="549:21" pos:end="561:21">if<condition pos:start="549:23" pos:end="549:30">(<expr pos:start="549:24" pos:end="549:29"><name pos:start="549:24" pos:end="549:24">d</name><operator pos:start="549:25" pos:end="549:25">&lt;</operator><name pos:start="549:26" pos:end="549:29">dmin</name></expr>)</condition><block pos:start="549:31" pos:end="561:21">{<block_content pos:start="551:25" pos:end="559:38">

                        <expr_stmt pos:start="551:25" pos:end="551:47"><expr pos:start="551:25" pos:end="551:46"><call pos:start="551:25" pos:end="551:46"><name pos:start="551:25" pos:end="551:38">flush_put_bits</name><argument_list pos:start="551:39" pos:end="551:46">(<argument pos:start="551:40" pos:end="551:45"><expr pos:start="551:40" pos:end="551:45"><operator pos:start="551:40" pos:end="551:40">&amp;</operator><name pos:start="551:41" pos:end="551:45"><name pos:start="551:41" pos:end="551:41">s</name><operator pos:start="551:42" pos:end="551:43">-&gt;</operator><name pos:start="551:44" pos:end="551:45">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                        <expr_stmt pos:start="553:25" pos:end="553:31"><expr pos:start="553:25" pos:end="553:30"><name pos:start="553:25" pos:end="553:28">dmin</name><operator pos:start="553:29" pos:end="553:29">=</operator><name pos:start="553:30" pos:end="553:30">d</name></expr>;</expr_stmt>

                        <expr_stmt pos:start="555:25" pos:end="555:80"><expr pos:start="555:25" pos:end="555:79"><call pos:start="555:25" pos:end="555:79"><name pos:start="555:25" pos:end="555:49">copy_context_after_encode</name><argument_list pos:start="555:50" pos:end="555:79">(<argument pos:start="555:51" pos:end="555:57"><expr pos:start="555:51" pos:end="555:57"><operator pos:start="555:51" pos:end="555:51">&amp;</operator><name pos:start="555:52" pos:end="555:57">best_s</name></expr></argument>, <argument pos:start="555:60" pos:end="555:60"><expr pos:start="555:60" pos:end="555:60"><name pos:start="555:60" pos:end="555:60">s</name></expr></argument>, <argument pos:start="555:63" pos:end="555:78"><expr pos:start="555:63" pos:end="555:78"><name pos:start="555:63" pos:end="555:78">MB_TYPE_BACKWARD</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                        <expr_stmt pos:start="557:25" pos:end="557:31"><expr pos:start="557:25" pos:end="557:30"><name pos:start="557:25" pos:end="557:28">best</name><operator pos:start="557:29" pos:end="557:29">=</operator><literal type="number" pos:start="557:30" pos:end="557:30">4</literal></expr>;</expr_stmt>

                        <expr_stmt pos:start="559:25" pos:end="559:38"><expr pos:start="559:25" pos:end="559:37"><name pos:start="559:25" pos:end="559:34">next_block</name><operator pos:start="559:35" pos:end="559:36">^=</operator><literal type="number" pos:start="559:37" pos:end="559:37">1</literal></expr>;</expr_stmt>

                    </block_content>}</block></if></if_stmt>

                </block_content>}</block></if></if_stmt>

                <if_stmt pos:start="565:17" pos:end="607:17"><if pos:start="565:17" pos:end="607:17">if<condition pos:start="565:19" pos:end="565:41">(<expr pos:start="565:20" pos:end="565:40"><name pos:start="565:20" pos:end="565:26">mb_type</name><operator pos:start="565:27" pos:end="565:27">&amp;</operator><name pos:start="565:28" pos:end="565:40">MB_TYPE_BIDIR</name></expr>)</condition><block pos:start="565:42" pos:end="607:17">{<block_content pos:start="567:21" pos:end="605:21">

                    <expr_stmt pos:start="567:21" pos:end="567:76"><expr pos:start="567:21" pos:end="567:75"><call pos:start="567:21" pos:end="567:75"><name pos:start="567:21" pos:end="567:46">copy_context_before_encode</name><argument_list pos:start="567:47" pos:end="567:75">(<argument pos:start="567:48" pos:end="567:48"><expr pos:start="567:48" pos:end="567:48"><name pos:start="567:48" pos:end="567:48">s</name></expr></argument>, <argument pos:start="567:51" pos:end="567:59"><expr pos:start="567:51" pos:end="567:59"><operator pos:start="567:51" pos:end="567:51">&amp;</operator><name pos:start="567:52" pos:end="567:59">backup_s</name></expr></argument>, <argument pos:start="567:62" pos:end="567:74"><expr pos:start="567:62" pos:end="567:74"><name pos:start="567:62" pos:end="567:74">MB_TYPE_BIDIR</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="569:21" pos:end="569:65"><expr pos:start="569:21" pos:end="569:64"><name pos:start="569:21" pos:end="569:29"><name pos:start="569:21" pos:end="569:21">s</name><operator pos:start="569:22" pos:end="569:23">-&gt;</operator><name pos:start="569:24" pos:end="569:29">mv_dir</name></name> <operator pos:start="569:31" pos:end="569:31">=</operator> <name pos:start="569:33" pos:end="569:46">MV_DIR_FORWARD</name> <operator pos:start="569:48" pos:end="569:48">|</operator> <name pos:start="569:50" pos:end="569:64">MV_DIR_BACKWARD</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="571:21" pos:end="571:47"><expr pos:start="571:21" pos:end="571:46"><name pos:start="571:21" pos:end="571:30"><name pos:start="571:21" pos:end="571:21">s</name><operator pos:start="571:22" pos:end="571:23">-&gt;</operator><name pos:start="571:24" pos:end="571:30">mv_type</name></name> <operator pos:start="571:32" pos:end="571:32">=</operator> <name pos:start="571:34" pos:end="571:46">MV_TYPE_16X16</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="573:21" pos:end="573:35"><expr pos:start="573:21" pos:end="573:34"><name pos:start="573:21" pos:end="573:31"><name pos:start="573:21" pos:end="573:21">s</name><operator pos:start="573:22" pos:end="573:23">-&gt;</operator><name pos:start="573:24" pos:end="573:31">mb_intra</name></name><operator pos:start="573:32" pos:end="573:32">=</operator> <literal type="number" pos:start="573:34" pos:end="573:34">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="575:21" pos:end="575:69"><expr pos:start="575:21" pos:end="575:68"><name pos:start="575:21" pos:end="575:34"><name pos:start="575:21" pos:end="575:21">s</name><operator pos:start="575:22" pos:end="575:23">-&gt;</operator><name pos:start="575:24" pos:end="575:25">mv</name><index pos:start="575:26" pos:end="575:28">[<expr pos:start="575:27" pos:end="575:27"><literal type="number" pos:start="575:27" pos:end="575:27">0</literal></expr>]</index><index pos:start="575:29" pos:end="575:31">[<expr pos:start="575:30" pos:end="575:30"><literal type="number" pos:start="575:30" pos:end="575:30">0</literal></expr>]</index><index pos:start="575:32" pos:end="575:34">[<expr pos:start="575:33" pos:end="575:33"><literal type="number" pos:start="575:33" pos:end="575:33">0</literal></expr>]</index></name> <operator pos:start="575:36" pos:end="575:36">=</operator> <name pos:start="575:38" pos:end="575:68"><name pos:start="575:38" pos:end="575:38">s</name><operator pos:start="575:39" pos:end="575:40">-&gt;</operator><name pos:start="575:41" pos:end="575:61">b_bidir_forw_mv_table</name><index pos:start="575:62" pos:end="575:65">[<expr pos:start="575:63" pos:end="575:64"><name pos:start="575:63" pos:end="575:64">xy</name></expr>]</index><index pos:start="575:66" pos:end="575:68">[<expr pos:start="575:67" pos:end="575:67"><literal type="number" pos:start="575:67" pos:end="575:67">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="577:21" pos:end="577:69"><expr pos:start="577:21" pos:end="577:68"><name pos:start="577:21" pos:end="577:34"><name pos:start="577:21" pos:end="577:21">s</name><operator pos:start="577:22" pos:end="577:23">-&gt;</operator><name pos:start="577:24" pos:end="577:25">mv</name><index pos:start="577:26" pos:end="577:28">[<expr pos:start="577:27" pos:end="577:27"><literal type="number" pos:start="577:27" pos:end="577:27">0</literal></expr>]</index><index pos:start="577:29" pos:end="577:31">[<expr pos:start="577:30" pos:end="577:30"><literal type="number" pos:start="577:30" pos:end="577:30">0</literal></expr>]</index><index pos:start="577:32" pos:end="577:34">[<expr pos:start="577:33" pos:end="577:33"><literal type="number" pos:start="577:33" pos:end="577:33">1</literal></expr>]</index></name> <operator pos:start="577:36" pos:end="577:36">=</operator> <name pos:start="577:38" pos:end="577:68"><name pos:start="577:38" pos:end="577:38">s</name><operator pos:start="577:39" pos:end="577:40">-&gt;</operator><name pos:start="577:41" pos:end="577:61">b_bidir_forw_mv_table</name><index pos:start="577:62" pos:end="577:65">[<expr pos:start="577:63" pos:end="577:64"><name pos:start="577:63" pos:end="577:64">xy</name></expr>]</index><index pos:start="577:66" pos:end="577:68">[<expr pos:start="577:67" pos:end="577:67"><literal type="number" pos:start="577:67" pos:end="577:67">1</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="579:21" pos:end="579:69"><expr pos:start="579:21" pos:end="579:68"><name pos:start="579:21" pos:end="579:34"><name pos:start="579:21" pos:end="579:21">s</name><operator pos:start="579:22" pos:end="579:23">-&gt;</operator><name pos:start="579:24" pos:end="579:25">mv</name><index pos:start="579:26" pos:end="579:28">[<expr pos:start="579:27" pos:end="579:27"><literal type="number" pos:start="579:27" pos:end="579:27">1</literal></expr>]</index><index pos:start="579:29" pos:end="579:31">[<expr pos:start="579:30" pos:end="579:30"><literal type="number" pos:start="579:30" pos:end="579:30">0</literal></expr>]</index><index pos:start="579:32" pos:end="579:34">[<expr pos:start="579:33" pos:end="579:33"><literal type="number" pos:start="579:33" pos:end="579:33">0</literal></expr>]</index></name> <operator pos:start="579:36" pos:end="579:36">=</operator> <name pos:start="579:38" pos:end="579:68"><name pos:start="579:38" pos:end="579:38">s</name><operator pos:start="579:39" pos:end="579:40">-&gt;</operator><name pos:start="579:41" pos:end="579:61">b_bidir_back_mv_table</name><index pos:start="579:62" pos:end="579:65">[<expr pos:start="579:63" pos:end="579:64"><name pos:start="579:63" pos:end="579:64">xy</name></expr>]</index><index pos:start="579:66" pos:end="579:68">[<expr pos:start="579:67" pos:end="579:67"><literal type="number" pos:start="579:67" pos:end="579:67">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="581:21" pos:end="581:69"><expr pos:start="581:21" pos:end="581:68"><name pos:start="581:21" pos:end="581:34"><name pos:start="581:21" pos:end="581:21">s</name><operator pos:start="581:22" pos:end="581:23">-&gt;</operator><name pos:start="581:24" pos:end="581:25">mv</name><index pos:start="581:26" pos:end="581:28">[<expr pos:start="581:27" pos:end="581:27"><literal type="number" pos:start="581:27" pos:end="581:27">1</literal></expr>]</index><index pos:start="581:29" pos:end="581:31">[<expr pos:start="581:30" pos:end="581:30"><literal type="number" pos:start="581:30" pos:end="581:30">0</literal></expr>]</index><index pos:start="581:32" pos:end="581:34">[<expr pos:start="581:33" pos:end="581:33"><literal type="number" pos:start="581:33" pos:end="581:33">1</literal></expr>]</index></name> <operator pos:start="581:36" pos:end="581:36">=</operator> <name pos:start="581:38" pos:end="581:68"><name pos:start="581:38" pos:end="581:38">s</name><operator pos:start="581:39" pos:end="581:40">-&gt;</operator><name pos:start="581:41" pos:end="581:61">b_bidir_back_mv_table</name><index pos:start="581:62" pos:end="581:65">[<expr pos:start="581:63" pos:end="581:64"><name pos:start="581:63" pos:end="581:64">xy</name></expr>]</index><index pos:start="581:66" pos:end="581:68">[<expr pos:start="581:67" pos:end="581:67"><literal type="number" pos:start="581:67" pos:end="581:67">1</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="583:21" pos:end="583:72"><expr pos:start="583:21" pos:end="583:71"><call pos:start="583:21" pos:end="583:71"><name pos:start="583:21" pos:end="583:33">init_put_bits</name><argument_list pos:start="583:34" pos:end="583:71">(<argument pos:start="583:35" pos:end="583:40"><expr pos:start="583:35" pos:end="583:40"><operator pos:start="583:35" pos:end="583:35">&amp;</operator><name pos:start="583:36" pos:end="583:40"><name pos:start="583:36" pos:end="583:36">s</name><operator pos:start="583:37" pos:end="583:38">-&gt;</operator><name pos:start="583:39" pos:end="583:40">pb</name></name></expr></argument>, <argument pos:start="583:43" pos:end="583:52"><expr pos:start="583:43" pos:end="583:52"><name pos:start="583:43" pos:end="583:52"><name pos:start="583:43" pos:end="583:49">bit_buf</name><index pos:start="583:50" pos:end="583:52">[<expr pos:start="583:51" pos:end="583:51"><literal type="number" pos:start="583:51" pos:end="583:51">5</literal></expr>]</index></name></expr></argument>, <argument pos:start="583:55" pos:end="583:58"><expr pos:start="583:55" pos:end="583:58"><literal type="number" pos:start="583:55" pos:end="583:58">3000</literal></expr></argument>, <argument pos:start="583:61" pos:end="583:64"><expr pos:start="583:61" pos:end="583:64"><name pos:start="583:61" pos:end="583:64">NULL</name></expr></argument>, <argument pos:start="583:67" pos:end="583:70"><expr pos:start="583:67" pos:end="583:70"><name pos:start="583:67" pos:end="583:70">NULL</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="585:21" pos:end="585:52"><expr pos:start="585:21" pos:end="585:51"><name pos:start="585:21" pos:end="585:28"><name pos:start="585:21" pos:end="585:21">s</name><operator pos:start="585:22" pos:end="585:23">-&gt;</operator><name pos:start="585:24" pos:end="585:28">block</name></name><operator pos:start="585:29" pos:end="585:29">=</operator> <name pos:start="585:31" pos:end="585:51"><name pos:start="585:31" pos:end="585:31">s</name><operator pos:start="585:32" pos:end="585:33">-&gt;</operator><name pos:start="585:34" pos:end="585:39">blocks</name><index pos:start="585:40" pos:end="585:51">[<expr pos:start="585:41" pos:end="585:50"><name pos:start="585:41" pos:end="585:50">next_block</name></expr>]</index></name></expr>;</expr_stmt>



                    <expr_stmt pos:start="589:21" pos:end="589:39"><expr pos:start="589:21" pos:end="589:38"><call pos:start="589:21" pos:end="589:38"><name pos:start="589:21" pos:end="589:29">encode_mb</name><argument_list pos:start="589:30" pos:end="589:38">(<argument pos:start="589:31" pos:end="589:31"><expr pos:start="589:31" pos:end="589:31"><name pos:start="589:31" pos:end="589:31">s</name></expr></argument>, <argument pos:start="589:34" pos:end="589:34"><expr pos:start="589:34" pos:end="589:34"><literal type="number" pos:start="589:34" pos:end="589:34">0</literal></expr></argument>, <argument pos:start="589:37" pos:end="589:37"><expr pos:start="589:37" pos:end="589:37"><literal type="number" pos:start="589:37" pos:end="589:37">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="591:21" pos:end="591:45"><expr pos:start="591:21" pos:end="591:44"><name pos:start="591:21" pos:end="591:21">d</name><operator pos:start="591:22" pos:end="591:22">=</operator> <call pos:start="591:24" pos:end="591:44"><name pos:start="591:24" pos:end="591:36">get_bit_count</name><argument_list pos:start="591:37" pos:end="591:44">(<argument pos:start="591:38" pos:end="591:43"><expr pos:start="591:38" pos:end="591:43"><operator pos:start="591:38" pos:end="591:38">&amp;</operator><name pos:start="591:39" pos:end="591:43"><name pos:start="591:39" pos:end="591:39">s</name><operator pos:start="591:40" pos:end="591:41">-&gt;</operator><name pos:start="591:42" pos:end="591:43">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <if_stmt pos:start="593:21" pos:end="605:21"><if pos:start="593:21" pos:end="605:21">if<condition pos:start="593:23" pos:end="593:30">(<expr pos:start="593:24" pos:end="593:29"><name pos:start="593:24" pos:end="593:24">d</name><operator pos:start="593:25" pos:end="593:25">&lt;</operator><name pos:start="593:26" pos:end="593:29">dmin</name></expr>)</condition><block pos:start="593:31" pos:end="605:21">{<block_content pos:start="595:25" pos:end="603:38">

                        <expr_stmt pos:start="595:25" pos:end="595:47"><expr pos:start="595:25" pos:end="595:46"><call pos:start="595:25" pos:end="595:46"><name pos:start="595:25" pos:end="595:38">flush_put_bits</name><argument_list pos:start="595:39" pos:end="595:46">(<argument pos:start="595:40" pos:end="595:45"><expr pos:start="595:40" pos:end="595:45"><operator pos:start="595:40" pos:end="595:40">&amp;</operator><name pos:start="595:41" pos:end="595:45"><name pos:start="595:41" pos:end="595:41">s</name><operator pos:start="595:42" pos:end="595:43">-&gt;</operator><name pos:start="595:44" pos:end="595:45">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                        <expr_stmt pos:start="597:25" pos:end="597:31"><expr pos:start="597:25" pos:end="597:30"><name pos:start="597:25" pos:end="597:28">dmin</name><operator pos:start="597:29" pos:end="597:29">=</operator><name pos:start="597:30" pos:end="597:30">d</name></expr>;</expr_stmt>

                        <expr_stmt pos:start="599:25" pos:end="599:77"><expr pos:start="599:25" pos:end="599:76"><call pos:start="599:25" pos:end="599:76"><name pos:start="599:25" pos:end="599:49">copy_context_after_encode</name><argument_list pos:start="599:50" pos:end="599:76">(<argument pos:start="599:51" pos:end="599:57"><expr pos:start="599:51" pos:end="599:57"><operator pos:start="599:51" pos:end="599:51">&amp;</operator><name pos:start="599:52" pos:end="599:57">best_s</name></expr></argument>, <argument pos:start="599:60" pos:end="599:60"><expr pos:start="599:60" pos:end="599:60"><name pos:start="599:60" pos:end="599:60">s</name></expr></argument>, <argument pos:start="599:63" pos:end="599:75"><expr pos:start="599:63" pos:end="599:75"><name pos:start="599:63" pos:end="599:75">MB_TYPE_BIDIR</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                        <expr_stmt pos:start="601:25" pos:end="601:31"><expr pos:start="601:25" pos:end="601:30"><name pos:start="601:25" pos:end="601:28">best</name><operator pos:start="601:29" pos:end="601:29">=</operator><literal type="number" pos:start="601:30" pos:end="601:30">5</literal></expr>;</expr_stmt>

                        <expr_stmt pos:start="603:25" pos:end="603:38"><expr pos:start="603:25" pos:end="603:37"><name pos:start="603:25" pos:end="603:34">next_block</name><operator pos:start="603:35" pos:end="603:36">^=</operator><literal type="number" pos:start="603:37" pos:end="603:37">1</literal></expr>;</expr_stmt>

                    </block_content>}</block></if></if_stmt>

                </block_content>}</block></if></if_stmt>

                <if_stmt pos:start="609:17" pos:end="651:17"><if pos:start="609:17" pos:end="651:17">if<condition pos:start="609:19" pos:end="609:42">(<expr pos:start="609:20" pos:end="609:41"><name pos:start="609:20" pos:end="609:26">mb_type</name><operator pos:start="609:27" pos:end="609:27">&amp;</operator><name pos:start="609:28" pos:end="609:41">MB_TYPE_DIRECT</name></expr>)</condition><block pos:start="609:43" pos:end="651:17">{<block_content pos:start="611:21" pos:end="649:21">

                    <expr_stmt pos:start="611:21" pos:end="611:77"><expr pos:start="611:21" pos:end="611:76"><call pos:start="611:21" pos:end="611:76"><name pos:start="611:21" pos:end="611:46">copy_context_before_encode</name><argument_list pos:start="611:47" pos:end="611:76">(<argument pos:start="611:48" pos:end="611:48"><expr pos:start="611:48" pos:end="611:48"><name pos:start="611:48" pos:end="611:48">s</name></expr></argument>, <argument pos:start="611:51" pos:end="611:59"><expr pos:start="611:51" pos:end="611:59"><operator pos:start="611:51" pos:end="611:51">&amp;</operator><name pos:start="611:52" pos:end="611:59">backup_s</name></expr></argument>, <argument pos:start="611:62" pos:end="611:75"><expr pos:start="611:62" pos:end="611:75"><name pos:start="611:62" pos:end="611:75">MB_TYPE_DIRECT</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="613:21" pos:end="613:77"><expr pos:start="613:21" pos:end="613:76"><name pos:start="613:21" pos:end="613:29"><name pos:start="613:21" pos:end="613:21">s</name><operator pos:start="613:22" pos:end="613:23">-&gt;</operator><name pos:start="613:24" pos:end="613:29">mv_dir</name></name> <operator pos:start="613:31" pos:end="613:31">=</operator> <name pos:start="613:33" pos:end="613:46">MV_DIR_FORWARD</name> <operator pos:start="613:48" pos:end="613:48">|</operator> <name pos:start="613:50" pos:end="613:64">MV_DIR_BACKWARD</name> <operator pos:start="613:66" pos:end="613:66">|</operator> <name pos:start="613:68" pos:end="613:76">MV_DIRECT</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="615:21" pos:end="615:47"><expr pos:start="615:21" pos:end="615:46"><name pos:start="615:21" pos:end="615:30"><name pos:start="615:21" pos:end="615:21">s</name><operator pos:start="615:22" pos:end="615:23">-&gt;</operator><name pos:start="615:24" pos:end="615:30">mv_type</name></name> <operator pos:start="615:32" pos:end="615:32">=</operator> <name pos:start="615:34" pos:end="615:46">MV_TYPE_16X16</name></expr>;</expr_stmt> <comment type="line" pos:start="615:49" pos:end="615:55">//FIXME</comment>

                    <expr_stmt pos:start="617:21" pos:end="617:35"><expr pos:start="617:21" pos:end="617:34"><name pos:start="617:21" pos:end="617:31"><name pos:start="617:21" pos:end="617:21">s</name><operator pos:start="617:22" pos:end="617:23">-&gt;</operator><name pos:start="617:24" pos:end="617:31">mb_intra</name></name><operator pos:start="617:32" pos:end="617:32">=</operator> <literal type="number" pos:start="617:34" pos:end="617:34">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="619:21" pos:end="619:70"><expr pos:start="619:21" pos:end="619:69"><name pos:start="619:21" pos:end="619:34"><name pos:start="619:21" pos:end="619:21">s</name><operator pos:start="619:22" pos:end="619:23">-&gt;</operator><name pos:start="619:24" pos:end="619:25">mv</name><index pos:start="619:26" pos:end="619:28">[<expr pos:start="619:27" pos:end="619:27"><literal type="number" pos:start="619:27" pos:end="619:27">0</literal></expr>]</index><index pos:start="619:29" pos:end="619:31">[<expr pos:start="619:30" pos:end="619:30"><literal type="number" pos:start="619:30" pos:end="619:30">0</literal></expr>]</index><index pos:start="619:32" pos:end="619:34">[<expr pos:start="619:33" pos:end="619:33"><literal type="number" pos:start="619:33" pos:end="619:33">0</literal></expr>]</index></name> <operator pos:start="619:36" pos:end="619:36">=</operator> <name pos:start="619:38" pos:end="619:69"><name pos:start="619:38" pos:end="619:38">s</name><operator pos:start="619:39" pos:end="619:40">-&gt;</operator><name pos:start="619:41" pos:end="619:62">b_direct_forw_mv_table</name><index pos:start="619:63" pos:end="619:66">[<expr pos:start="619:64" pos:end="619:65"><name pos:start="619:64" pos:end="619:65">xy</name></expr>]</index><index pos:start="619:67" pos:end="619:69">[<expr pos:start="619:68" pos:end="619:68"><literal type="number" pos:start="619:68" pos:end="619:68">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="621:21" pos:end="621:70"><expr pos:start="621:21" pos:end="621:69"><name pos:start="621:21" pos:end="621:34"><name pos:start="621:21" pos:end="621:21">s</name><operator pos:start="621:22" pos:end="621:23">-&gt;</operator><name pos:start="621:24" pos:end="621:25">mv</name><index pos:start="621:26" pos:end="621:28">[<expr pos:start="621:27" pos:end="621:27"><literal type="number" pos:start="621:27" pos:end="621:27">0</literal></expr>]</index><index pos:start="621:29" pos:end="621:31">[<expr pos:start="621:30" pos:end="621:30"><literal type="number" pos:start="621:30" pos:end="621:30">0</literal></expr>]</index><index pos:start="621:32" pos:end="621:34">[<expr pos:start="621:33" pos:end="621:33"><literal type="number" pos:start="621:33" pos:end="621:33">1</literal></expr>]</index></name> <operator pos:start="621:36" pos:end="621:36">=</operator> <name pos:start="621:38" pos:end="621:69"><name pos:start="621:38" pos:end="621:38">s</name><operator pos:start="621:39" pos:end="621:40">-&gt;</operator><name pos:start="621:41" pos:end="621:62">b_direct_forw_mv_table</name><index pos:start="621:63" pos:end="621:66">[<expr pos:start="621:64" pos:end="621:65"><name pos:start="621:64" pos:end="621:65">xy</name></expr>]</index><index pos:start="621:67" pos:end="621:69">[<expr pos:start="621:68" pos:end="621:68"><literal type="number" pos:start="621:68" pos:end="621:68">1</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="623:21" pos:end="623:70"><expr pos:start="623:21" pos:end="623:69"><name pos:start="623:21" pos:end="623:34"><name pos:start="623:21" pos:end="623:21">s</name><operator pos:start="623:22" pos:end="623:23">-&gt;</operator><name pos:start="623:24" pos:end="623:25">mv</name><index pos:start="623:26" pos:end="623:28">[<expr pos:start="623:27" pos:end="623:27"><literal type="number" pos:start="623:27" pos:end="623:27">1</literal></expr>]</index><index pos:start="623:29" pos:end="623:31">[<expr pos:start="623:30" pos:end="623:30"><literal type="number" pos:start="623:30" pos:end="623:30">0</literal></expr>]</index><index pos:start="623:32" pos:end="623:34">[<expr pos:start="623:33" pos:end="623:33"><literal type="number" pos:start="623:33" pos:end="623:33">0</literal></expr>]</index></name> <operator pos:start="623:36" pos:end="623:36">=</operator> <name pos:start="623:38" pos:end="623:69"><name pos:start="623:38" pos:end="623:38">s</name><operator pos:start="623:39" pos:end="623:40">-&gt;</operator><name pos:start="623:41" pos:end="623:62">b_direct_back_mv_table</name><index pos:start="623:63" pos:end="623:66">[<expr pos:start="623:64" pos:end="623:65"><name pos:start="623:64" pos:end="623:65">xy</name></expr>]</index><index pos:start="623:67" pos:end="623:69">[<expr pos:start="623:68" pos:end="623:68"><literal type="number" pos:start="623:68" pos:end="623:68">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="625:21" pos:end="625:70"><expr pos:start="625:21" pos:end="625:69"><name pos:start="625:21" pos:end="625:34"><name pos:start="625:21" pos:end="625:21">s</name><operator pos:start="625:22" pos:end="625:23">-&gt;</operator><name pos:start="625:24" pos:end="625:25">mv</name><index pos:start="625:26" pos:end="625:28">[<expr pos:start="625:27" pos:end="625:27"><literal type="number" pos:start="625:27" pos:end="625:27">1</literal></expr>]</index><index pos:start="625:29" pos:end="625:31">[<expr pos:start="625:30" pos:end="625:30"><literal type="number" pos:start="625:30" pos:end="625:30">0</literal></expr>]</index><index pos:start="625:32" pos:end="625:34">[<expr pos:start="625:33" pos:end="625:33"><literal type="number" pos:start="625:33" pos:end="625:33">1</literal></expr>]</index></name> <operator pos:start="625:36" pos:end="625:36">=</operator> <name pos:start="625:38" pos:end="625:69"><name pos:start="625:38" pos:end="625:38">s</name><operator pos:start="625:39" pos:end="625:40">-&gt;</operator><name pos:start="625:41" pos:end="625:62">b_direct_back_mv_table</name><index pos:start="625:63" pos:end="625:66">[<expr pos:start="625:64" pos:end="625:65"><name pos:start="625:64" pos:end="625:65">xy</name></expr>]</index><index pos:start="625:67" pos:end="625:69">[<expr pos:start="625:68" pos:end="625:68"><literal type="number" pos:start="625:68" pos:end="625:68">1</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="627:21" pos:end="627:72"><expr pos:start="627:21" pos:end="627:71"><call pos:start="627:21" pos:end="627:71"><name pos:start="627:21" pos:end="627:33">init_put_bits</name><argument_list pos:start="627:34" pos:end="627:71">(<argument pos:start="627:35" pos:end="627:40"><expr pos:start="627:35" pos:end="627:40"><operator pos:start="627:35" pos:end="627:35">&amp;</operator><name pos:start="627:36" pos:end="627:40"><name pos:start="627:36" pos:end="627:36">s</name><operator pos:start="627:37" pos:end="627:38">-&gt;</operator><name pos:start="627:39" pos:end="627:40">pb</name></name></expr></argument>, <argument pos:start="627:43" pos:end="627:52"><expr pos:start="627:43" pos:end="627:52"><name pos:start="627:43" pos:end="627:52"><name pos:start="627:43" pos:end="627:49">bit_buf</name><index pos:start="627:50" pos:end="627:52">[<expr pos:start="627:51" pos:end="627:51"><literal type="number" pos:start="627:51" pos:end="627:51">6</literal></expr>]</index></name></expr></argument>, <argument pos:start="627:55" pos:end="627:58"><expr pos:start="627:55" pos:end="627:58"><literal type="number" pos:start="627:55" pos:end="627:58">3000</literal></expr></argument>, <argument pos:start="627:61" pos:end="627:64"><expr pos:start="627:61" pos:end="627:64"><name pos:start="627:61" pos:end="627:64">NULL</name></expr></argument>, <argument pos:start="627:67" pos:end="627:70"><expr pos:start="627:67" pos:end="627:70"><name pos:start="627:67" pos:end="627:70">NULL</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="629:21" pos:end="629:52"><expr pos:start="629:21" pos:end="629:51"><name pos:start="629:21" pos:end="629:28"><name pos:start="629:21" pos:end="629:21">s</name><operator pos:start="629:22" pos:end="629:23">-&gt;</operator><name pos:start="629:24" pos:end="629:28">block</name></name><operator pos:start="629:29" pos:end="629:29">=</operator> <name pos:start="629:31" pos:end="629:51"><name pos:start="629:31" pos:end="629:31">s</name><operator pos:start="629:32" pos:end="629:33">-&gt;</operator><name pos:start="629:34" pos:end="629:39">blocks</name><index pos:start="629:40" pos:end="629:51">[<expr pos:start="629:41" pos:end="629:50"><name pos:start="629:41" pos:end="629:50">next_block</name></expr>]</index></name></expr>;</expr_stmt>



                    <expr_stmt pos:start="633:21" pos:end="633:91"><expr pos:start="633:21" pos:end="633:90"><call pos:start="633:21" pos:end="633:90"><name pos:start="633:21" pos:end="633:29">encode_mb</name><argument_list pos:start="633:30" pos:end="633:90">(<argument pos:start="633:31" pos:end="633:31"><expr pos:start="633:31" pos:end="633:31"><name pos:start="633:31" pos:end="633:31">s</name></expr></argument>, <argument pos:start="633:34" pos:end="633:60"><expr pos:start="633:34" pos:end="633:60"><name pos:start="633:34" pos:end="633:60"><name pos:start="633:34" pos:end="633:34">s</name><operator pos:start="633:35" pos:end="633:36">-&gt;</operator><name pos:start="633:37" pos:end="633:53">b_direct_mv_table</name><index pos:start="633:54" pos:end="633:57">[<expr pos:start="633:55" pos:end="633:56"><name pos:start="633:55" pos:end="633:56">xy</name></expr>]</index><index pos:start="633:58" pos:end="633:60">[<expr pos:start="633:59" pos:end="633:59"><literal type="number" pos:start="633:59" pos:end="633:59">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="633:63" pos:end="633:89"><expr pos:start="633:63" pos:end="633:89"><name pos:start="633:63" pos:end="633:89"><name pos:start="633:63" pos:end="633:63">s</name><operator pos:start="633:64" pos:end="633:65">-&gt;</operator><name pos:start="633:66" pos:end="633:82">b_direct_mv_table</name><index pos:start="633:83" pos:end="633:86">[<expr pos:start="633:84" pos:end="633:85"><name pos:start="633:84" pos:end="633:85">xy</name></expr>]</index><index pos:start="633:87" pos:end="633:89">[<expr pos:start="633:88" pos:end="633:88"><literal type="number" pos:start="633:88" pos:end="633:88">1</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="635:21" pos:end="635:45"><expr pos:start="635:21" pos:end="635:44"><name pos:start="635:21" pos:end="635:21">d</name><operator pos:start="635:22" pos:end="635:22">=</operator> <call pos:start="635:24" pos:end="635:44"><name pos:start="635:24" pos:end="635:36">get_bit_count</name><argument_list pos:start="635:37" pos:end="635:44">(<argument pos:start="635:38" pos:end="635:43"><expr pos:start="635:38" pos:end="635:43"><operator pos:start="635:38" pos:end="635:38">&amp;</operator><name pos:start="635:39" pos:end="635:43"><name pos:start="635:39" pos:end="635:39">s</name><operator pos:start="635:40" pos:end="635:41">-&gt;</operator><name pos:start="635:42" pos:end="635:43">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <if_stmt pos:start="637:21" pos:end="649:21"><if pos:start="637:21" pos:end="649:21">if<condition pos:start="637:23" pos:end="637:30">(<expr pos:start="637:24" pos:end="637:29"><name pos:start="637:24" pos:end="637:24">d</name><operator pos:start="637:25" pos:end="637:25">&lt;</operator><name pos:start="637:26" pos:end="637:29">dmin</name></expr>)</condition><block pos:start="637:31" pos:end="649:21">{<block_content pos:start="639:25" pos:end="647:38">

                        <expr_stmt pos:start="639:25" pos:end="639:47"><expr pos:start="639:25" pos:end="639:46"><call pos:start="639:25" pos:end="639:46"><name pos:start="639:25" pos:end="639:38">flush_put_bits</name><argument_list pos:start="639:39" pos:end="639:46">(<argument pos:start="639:40" pos:end="639:45"><expr pos:start="639:40" pos:end="639:45"><operator pos:start="639:40" pos:end="639:40">&amp;</operator><name pos:start="639:41" pos:end="639:45"><name pos:start="639:41" pos:end="639:41">s</name><operator pos:start="639:42" pos:end="639:43">-&gt;</operator><name pos:start="639:44" pos:end="639:45">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                        <expr_stmt pos:start="641:25" pos:end="641:31"><expr pos:start="641:25" pos:end="641:30"><name pos:start="641:25" pos:end="641:28">dmin</name><operator pos:start="641:29" pos:end="641:29">=</operator><name pos:start="641:30" pos:end="641:30">d</name></expr>;</expr_stmt>

                        <expr_stmt pos:start="643:25" pos:end="643:78"><expr pos:start="643:25" pos:end="643:77"><call pos:start="643:25" pos:end="643:77"><name pos:start="643:25" pos:end="643:49">copy_context_after_encode</name><argument_list pos:start="643:50" pos:end="643:77">(<argument pos:start="643:51" pos:end="643:57"><expr pos:start="643:51" pos:end="643:57"><operator pos:start="643:51" pos:end="643:51">&amp;</operator><name pos:start="643:52" pos:end="643:57">best_s</name></expr></argument>, <argument pos:start="643:60" pos:end="643:60"><expr pos:start="643:60" pos:end="643:60"><name pos:start="643:60" pos:end="643:60">s</name></expr></argument>, <argument pos:start="643:63" pos:end="643:76"><expr pos:start="643:63" pos:end="643:76"><name pos:start="643:63" pos:end="643:76">MB_TYPE_DIRECT</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                        <expr_stmt pos:start="645:25" pos:end="645:31"><expr pos:start="645:25" pos:end="645:30"><name pos:start="645:25" pos:end="645:28">best</name><operator pos:start="645:29" pos:end="645:29">=</operator><literal type="number" pos:start="645:30" pos:end="645:30">6</literal></expr>;</expr_stmt>

                        <expr_stmt pos:start="647:25" pos:end="647:38"><expr pos:start="647:25" pos:end="647:37"><name pos:start="647:25" pos:end="647:34">next_block</name><operator pos:start="647:35" pos:end="647:36">^=</operator><literal type="number" pos:start="647:37" pos:end="647:37">1</literal></expr>;</expr_stmt>

                    </block_content>}</block></if></if_stmt>

                </block_content>}</block></if></if_stmt>

                <if_stmt pos:start="653:17" pos:end="697:17"><if pos:start="653:17" pos:end="697:17">if<condition pos:start="653:19" pos:end="653:41">(<expr pos:start="653:20" pos:end="653:40"><name pos:start="653:20" pos:end="653:26">mb_type</name><operator pos:start="653:27" pos:end="653:27">&amp;</operator><name pos:start="653:28" pos:end="653:40">MB_TYPE_INTRA</name></expr>)</condition><block pos:start="653:42" pos:end="697:17">{<block_content pos:start="655:21" pos:end="695:68">

                    <expr_stmt pos:start="655:21" pos:end="655:76"><expr pos:start="655:21" pos:end="655:75"><call pos:start="655:21" pos:end="655:75"><name pos:start="655:21" pos:end="655:46">copy_context_before_encode</name><argument_list pos:start="655:47" pos:end="655:75">(<argument pos:start="655:48" pos:end="655:48"><expr pos:start="655:48" pos:end="655:48"><name pos:start="655:48" pos:end="655:48">s</name></expr></argument>, <argument pos:start="655:51" pos:end="655:59"><expr pos:start="655:51" pos:end="655:59"><operator pos:start="655:51" pos:end="655:51">&amp;</operator><name pos:start="655:52" pos:end="655:59">backup_s</name></expr></argument>, <argument pos:start="655:62" pos:end="655:74"><expr pos:start="655:62" pos:end="655:74"><name pos:start="655:62" pos:end="655:74">MB_TYPE_INTRA</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="657:21" pos:end="657:47"><expr pos:start="657:21" pos:end="657:46"><name pos:start="657:21" pos:end="657:29"><name pos:start="657:21" pos:end="657:21">s</name><operator pos:start="657:22" pos:end="657:23">-&gt;</operator><name pos:start="657:24" pos:end="657:29">mv_dir</name></name> <operator pos:start="657:31" pos:end="657:31">=</operator> <name pos:start="657:33" pos:end="657:46">MV_DIR_FORWARD</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="659:21" pos:end="659:47"><expr pos:start="659:21" pos:end="659:46"><name pos:start="659:21" pos:end="659:30"><name pos:start="659:21" pos:end="659:21">s</name><operator pos:start="659:22" pos:end="659:23">-&gt;</operator><name pos:start="659:24" pos:end="659:30">mv_type</name></name> <operator pos:start="659:32" pos:end="659:32">=</operator> <name pos:start="659:34" pos:end="659:46">MV_TYPE_16X16</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="661:21" pos:end="661:35"><expr pos:start="661:21" pos:end="661:34"><name pos:start="661:21" pos:end="661:31"><name pos:start="661:21" pos:end="661:21">s</name><operator pos:start="661:22" pos:end="661:23">-&gt;</operator><name pos:start="661:24" pos:end="661:31">mb_intra</name></name><operator pos:start="661:32" pos:end="661:32">=</operator> <literal type="number" pos:start="661:34" pos:end="661:34">1</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="663:21" pos:end="663:39"><expr pos:start="663:21" pos:end="663:38"><name pos:start="663:21" pos:end="663:34"><name pos:start="663:21" pos:end="663:21">s</name><operator pos:start="663:22" pos:end="663:23">-&gt;</operator><name pos:start="663:24" pos:end="663:25">mv</name><index pos:start="663:26" pos:end="663:28">[<expr pos:start="663:27" pos:end="663:27"><literal type="number" pos:start="663:27" pos:end="663:27">0</literal></expr>]</index><index pos:start="663:29" pos:end="663:31">[<expr pos:start="663:30" pos:end="663:30"><literal type="number" pos:start="663:30" pos:end="663:30">0</literal></expr>]</index><index pos:start="663:32" pos:end="663:34">[<expr pos:start="663:33" pos:end="663:33"><literal type="number" pos:start="663:33" pos:end="663:33">0</literal></expr>]</index></name> <operator pos:start="663:36" pos:end="663:36">=</operator> <literal type="number" pos:start="663:38" pos:end="663:38">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="665:21" pos:end="665:39"><expr pos:start="665:21" pos:end="665:38"><name pos:start="665:21" pos:end="665:34"><name pos:start="665:21" pos:end="665:21">s</name><operator pos:start="665:22" pos:end="665:23">-&gt;</operator><name pos:start="665:24" pos:end="665:25">mv</name><index pos:start="665:26" pos:end="665:28">[<expr pos:start="665:27" pos:end="665:27"><literal type="number" pos:start="665:27" pos:end="665:27">0</literal></expr>]</index><index pos:start="665:29" pos:end="665:31">[<expr pos:start="665:30" pos:end="665:30"><literal type="number" pos:start="665:30" pos:end="665:30">0</literal></expr>]</index><index pos:start="665:32" pos:end="665:34">[<expr pos:start="665:33" pos:end="665:33"><literal type="number" pos:start="665:33" pos:end="665:33">1</literal></expr>]</index></name> <operator pos:start="665:36" pos:end="665:36">=</operator> <literal type="number" pos:start="665:38" pos:end="665:38">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="667:21" pos:end="667:72"><expr pos:start="667:21" pos:end="667:71"><call pos:start="667:21" pos:end="667:71"><name pos:start="667:21" pos:end="667:33">init_put_bits</name><argument_list pos:start="667:34" pos:end="667:71">(<argument pos:start="667:35" pos:end="667:40"><expr pos:start="667:35" pos:end="667:40"><operator pos:start="667:35" pos:end="667:35">&amp;</operator><name pos:start="667:36" pos:end="667:40"><name pos:start="667:36" pos:end="667:36">s</name><operator pos:start="667:37" pos:end="667:38">-&gt;</operator><name pos:start="667:39" pos:end="667:40">pb</name></name></expr></argument>, <argument pos:start="667:43" pos:end="667:52"><expr pos:start="667:43" pos:end="667:52"><name pos:start="667:43" pos:end="667:52"><name pos:start="667:43" pos:end="667:49">bit_buf</name><index pos:start="667:50" pos:end="667:52">[<expr pos:start="667:51" pos:end="667:51"><literal type="number" pos:start="667:51" pos:end="667:51">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="667:55" pos:end="667:58"><expr pos:start="667:55" pos:end="667:58"><literal type="number" pos:start="667:55" pos:end="667:58">3000</literal></expr></argument>, <argument pos:start="667:61" pos:end="667:64"><expr pos:start="667:61" pos:end="667:64"><name pos:start="667:61" pos:end="667:64">NULL</name></expr></argument>, <argument pos:start="667:67" pos:end="667:70"><expr pos:start="667:67" pos:end="667:70"><name pos:start="667:67" pos:end="667:70">NULL</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="669:21" pos:end="669:52"><expr pos:start="669:21" pos:end="669:51"><name pos:start="669:21" pos:end="669:28"><name pos:start="669:21" pos:end="669:21">s</name><operator pos:start="669:22" pos:end="669:23">-&gt;</operator><name pos:start="669:24" pos:end="669:28">block</name></name><operator pos:start="669:29" pos:end="669:29">=</operator> <name pos:start="669:31" pos:end="669:51"><name pos:start="669:31" pos:end="669:31">s</name><operator pos:start="669:32" pos:end="669:33">-&gt;</operator><name pos:start="669:34" pos:end="669:39">blocks</name><index pos:start="669:40" pos:end="669:51">[<expr pos:start="669:41" pos:end="669:50"><name pos:start="669:41" pos:end="669:50">next_block</name></expr>]</index></name></expr>;</expr_stmt>

                   

                    <expr_stmt pos:start="673:21" pos:end="673:39"><expr pos:start="673:21" pos:end="673:38"><call pos:start="673:21" pos:end="673:38"><name pos:start="673:21" pos:end="673:29">encode_mb</name><argument_list pos:start="673:30" pos:end="673:38">(<argument pos:start="673:31" pos:end="673:31"><expr pos:start="673:31" pos:end="673:31"><name pos:start="673:31" pos:end="673:31">s</name></expr></argument>, <argument pos:start="673:34" pos:end="673:34"><expr pos:start="673:34" pos:end="673:34"><literal type="number" pos:start="673:34" pos:end="673:34">0</literal></expr></argument>, <argument pos:start="673:37" pos:end="673:37"><expr pos:start="673:37" pos:end="673:37"><literal type="number" pos:start="673:37" pos:end="673:37">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="675:21" pos:end="675:45"><expr pos:start="675:21" pos:end="675:44"><name pos:start="675:21" pos:end="675:21">d</name><operator pos:start="675:22" pos:end="675:22">=</operator> <call pos:start="675:24" pos:end="675:44"><name pos:start="675:24" pos:end="675:36">get_bit_count</name><argument_list pos:start="675:37" pos:end="675:44">(<argument pos:start="675:38" pos:end="675:43"><expr pos:start="675:38" pos:end="675:43"><operator pos:start="675:38" pos:end="675:38">&amp;</operator><name pos:start="675:39" pos:end="675:43"><name pos:start="675:39" pos:end="675:39">s</name><operator pos:start="675:40" pos:end="675:41">-&gt;</operator><name pos:start="675:42" pos:end="675:43">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <if_stmt pos:start="677:21" pos:end="689:21"><if pos:start="677:21" pos:end="689:21">if<condition pos:start="677:23" pos:end="677:30">(<expr pos:start="677:24" pos:end="677:29"><name pos:start="677:24" pos:end="677:24">d</name><operator pos:start="677:25" pos:end="677:25">&lt;</operator><name pos:start="677:26" pos:end="677:29">dmin</name></expr>)</condition><block pos:start="677:31" pos:end="689:21">{<block_content pos:start="679:25" pos:end="687:38">

                        <expr_stmt pos:start="679:25" pos:end="679:47"><expr pos:start="679:25" pos:end="679:46"><call pos:start="679:25" pos:end="679:46"><name pos:start="679:25" pos:end="679:38">flush_put_bits</name><argument_list pos:start="679:39" pos:end="679:46">(<argument pos:start="679:40" pos:end="679:45"><expr pos:start="679:40" pos:end="679:45"><operator pos:start="679:40" pos:end="679:40">&amp;</operator><name pos:start="679:41" pos:end="679:45"><name pos:start="679:41" pos:end="679:41">s</name><operator pos:start="679:42" pos:end="679:43">-&gt;</operator><name pos:start="679:44" pos:end="679:45">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                        <expr_stmt pos:start="681:25" pos:end="681:31"><expr pos:start="681:25" pos:end="681:30"><name pos:start="681:25" pos:end="681:28">dmin</name><operator pos:start="681:29" pos:end="681:29">=</operator><name pos:start="681:30" pos:end="681:30">d</name></expr>;</expr_stmt>

                        <expr_stmt pos:start="683:25" pos:end="683:77"><expr pos:start="683:25" pos:end="683:76"><call pos:start="683:25" pos:end="683:76"><name pos:start="683:25" pos:end="683:49">copy_context_after_encode</name><argument_list pos:start="683:50" pos:end="683:76">(<argument pos:start="683:51" pos:end="683:57"><expr pos:start="683:51" pos:end="683:57"><operator pos:start="683:51" pos:end="683:51">&amp;</operator><name pos:start="683:52" pos:end="683:57">best_s</name></expr></argument>, <argument pos:start="683:60" pos:end="683:60"><expr pos:start="683:60" pos:end="683:60"><name pos:start="683:60" pos:end="683:60">s</name></expr></argument>, <argument pos:start="683:63" pos:end="683:75"><expr pos:start="683:63" pos:end="683:75"><name pos:start="683:63" pos:end="683:75">MB_TYPE_INTRA</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                        <expr_stmt pos:start="685:25" pos:end="685:31"><expr pos:start="685:25" pos:end="685:30"><name pos:start="685:25" pos:end="685:28">best</name><operator pos:start="685:29" pos:end="685:29">=</operator><literal type="number" pos:start="685:30" pos:end="685:30">0</literal></expr>;</expr_stmt>

                        <expr_stmt pos:start="687:25" pos:end="687:38"><expr pos:start="687:25" pos:end="687:37"><name pos:start="687:25" pos:end="687:34">next_block</name><operator pos:start="687:35" pos:end="687:36">^=</operator><literal type="number" pos:start="687:37" pos:end="687:37">1</literal></expr>;</expr_stmt>

                    </block_content>}</block></if></if_stmt>

                    <comment type="block" pos:start="691:21" pos:end="691:74">/* force cleaning of ac/dc pred stuff if needed ... */</comment>

                    <if_stmt pos:start="693:21" pos:end="695:68"><if pos:start="693:21" pos:end="695:68">if<condition pos:start="693:23" pos:end="693:51">(<expr pos:start="693:24" pos:end="693:50"><name pos:start="693:24" pos:end="693:35"><name pos:start="693:24" pos:end="693:24">s</name><operator pos:start="693:25" pos:end="693:26">-&gt;</operator><name pos:start="693:27" pos:end="693:35">h263_pred</name></name> <operator pos:start="693:37" pos:end="693:38">||</operator> <name pos:start="693:40" pos:end="693:50"><name pos:start="693:40" pos:end="693:40">s</name><operator pos:start="693:41" pos:end="693:42">-&gt;</operator><name pos:start="693:43" pos:end="693:50">h263_aic</name></name></expr>)</condition><block type="pseudo" pos:start="695:25" pos:end="695:68"><block_content pos:start="695:25" pos:end="695:68">

                        <expr_stmt pos:start="695:25" pos:end="695:68"><expr pos:start="695:25" pos:end="695:67"><name pos:start="695:25" pos:end="695:65"><name pos:start="695:25" pos:end="695:25">s</name><operator pos:start="695:26" pos:end="695:27">-&gt;</operator><name pos:start="695:28" pos:end="695:40">mbintra_table</name><index pos:start="695:41" pos:end="695:65">[<expr pos:start="695:42" pos:end="695:64"><name pos:start="695:42" pos:end="695:45">mb_x</name> <operator pos:start="695:47" pos:end="695:47">+</operator> <name pos:start="695:49" pos:end="695:52">mb_y</name><operator pos:start="695:53" pos:end="695:53">*</operator><name pos:start="695:54" pos:end="695:64"><name pos:start="695:54" pos:end="695:54">s</name><operator pos:start="695:55" pos:end="695:56">-&gt;</operator><name pos:start="695:57" pos:end="695:64">mb_width</name></name></expr>]</index></name><operator pos:start="695:66" pos:end="695:66">=</operator><literal type="number" pos:start="695:67" pos:end="695:67">1</literal></expr>;</expr_stmt></block_content></block></if></if_stmt>

                </block_content>}</block></if></if_stmt>

                <expr_stmt pos:start="699:17" pos:end="699:58"><expr pos:start="699:17" pos:end="699:57"><call pos:start="699:17" pos:end="699:57"><name pos:start="699:17" pos:end="699:41">copy_context_after_encode</name><argument_list pos:start="699:42" pos:end="699:57">(<argument pos:start="699:43" pos:end="699:43"><expr pos:start="699:43" pos:end="699:43"><name pos:start="699:43" pos:end="699:43">s</name></expr></argument>, <argument pos:start="699:46" pos:end="699:52"><expr pos:start="699:46" pos:end="699:52"><operator pos:start="699:46" pos:end="699:46">&amp;</operator><name pos:start="699:47" pos:end="699:52">best_s</name></expr></argument>, <argument pos:start="699:55" pos:end="699:56"><expr pos:start="699:55" pos:end="699:56"><operator pos:start="699:55" pos:end="699:55">-</operator><literal type="number" pos:start="699:56" pos:end="699:56">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="701:17" pos:end="701:52"><expr pos:start="701:17" pos:end="701:51"><call pos:start="701:17" pos:end="701:51"><name pos:start="701:17" pos:end="701:25">copy_bits</name><argument_list pos:start="701:26" pos:end="701:51">(<argument pos:start="701:27" pos:end="701:29"><expr pos:start="701:27" pos:end="701:29"><operator pos:start="701:27" pos:end="701:27">&amp;</operator><name pos:start="701:28" pos:end="701:29">pb</name></expr></argument>, <argument pos:start="701:32" pos:end="701:44"><expr pos:start="701:32" pos:end="701:44"><name pos:start="701:32" pos:end="701:44"><name pos:start="701:32" pos:end="701:38">bit_buf</name><index pos:start="701:39" pos:end="701:44">[<expr pos:start="701:40" pos:end="701:43"><name pos:start="701:40" pos:end="701:43">best</name></expr>]</index></name></expr></argument>, <argument pos:start="701:47" pos:end="701:50"><expr pos:start="701:47" pos:end="701:50"><name pos:start="701:47" pos:end="701:50">dmin</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="703:17" pos:end="703:26"><expr pos:start="703:17" pos:end="703:25"><name pos:start="703:17" pos:end="703:21"><name pos:start="703:17" pos:end="703:17">s</name><operator pos:start="703:18" pos:end="703:19">-&gt;</operator><name pos:start="703:20" pos:end="703:21">pb</name></name><operator pos:start="703:22" pos:end="703:22">=</operator> <name pos:start="703:24" pos:end="703:25">pb</name></expr>;</expr_stmt>

                <expr_stmt pos:start="705:17" pos:end="705:52"><expr pos:start="705:17" pos:end="705:51"><name pos:start="705:17" pos:end="705:28"><name pos:start="705:17" pos:end="705:17">s</name><operator pos:start="705:18" pos:end="705:19">-&gt;</operator><name pos:start="705:20" pos:end="705:28">last_bits</name></name><operator pos:start="705:29" pos:end="705:29">=</operator> <call pos:start="705:31" pos:end="705:51"><name pos:start="705:31" pos:end="705:43">get_bit_count</name><argument_list pos:start="705:44" pos:end="705:51">(<argument pos:start="705:45" pos:end="705:50"><expr pos:start="705:45" pos:end="705:50"><operator pos:start="705:45" pos:end="705:45">&amp;</operator><name pos:start="705:46" pos:end="705:50"><name pos:start="705:46" pos:end="705:46">s</name><operator pos:start="705:47" pos:end="705:48">-&gt;</operator><name pos:start="705:49" pos:end="705:50">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></if> <else pos:start="707:15" pos:end="817:13">else <block pos:start="707:20" pos:end="817:13">{<block_content pos:start="709:17" pos:end="815:49">

                <decl_stmt pos:start="709:17" pos:end="709:39"><decl pos:start="709:17" pos:end="709:28"><type pos:start="709:17" pos:end="709:19"><name pos:start="709:17" pos:end="709:19">int</name></type> <name pos:start="709:21" pos:end="709:28">motion_x</name></decl>, <decl pos:start="709:31" pos:end="709:38"><type ref="prev" pos:start="709:17" pos:end="709:19"/><name pos:start="709:31" pos:end="709:38">motion_y</name></decl>;</decl_stmt>

                <expr_stmt pos:start="711:17" pos:end="711:41"><expr pos:start="711:17" pos:end="711:40"><name pos:start="711:17" pos:end="711:26"><name pos:start="711:17" pos:end="711:17">s</name><operator pos:start="711:18" pos:end="711:19">-&gt;</operator><name pos:start="711:20" pos:end="711:26">mv_type</name></name><operator pos:start="711:27" pos:end="711:27">=</operator><name pos:start="711:28" pos:end="711:40">MV_TYPE_16X16</name></expr>;</expr_stmt>

                <comment type="line" pos:start="713:17" pos:end="713:44">// only one MB-Type possible</comment>

                <switch pos:start="715:17" pos:end="813:17">switch<condition pos:start="715:23" pos:end="715:31">(<expr pos:start="715:24" pos:end="715:30"><name pos:start="715:24" pos:end="715:30">mb_type</name></expr>)</condition><block pos:start="715:32" pos:end="813:17">{<block_content pos:start="717:17" pos:end="811:48">

                <case pos:start="717:17" pos:end="717:35">case <expr pos:start="717:22" pos:end="717:34"><name pos:start="717:22" pos:end="717:34">MB_TYPE_INTRA</name></expr>:</case>

                    <expr_stmt pos:start="719:21" pos:end="719:47"><expr pos:start="719:21" pos:end="719:46"><name pos:start="719:21" pos:end="719:29"><name pos:start="719:21" pos:end="719:21">s</name><operator pos:start="719:22" pos:end="719:23">-&gt;</operator><name pos:start="719:24" pos:end="719:29">mv_dir</name></name> <operator pos:start="719:31" pos:end="719:31">=</operator> <name pos:start="719:33" pos:end="719:46">MV_DIR_FORWARD</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="721:21" pos:end="721:35"><expr pos:start="721:21" pos:end="721:34"><name pos:start="721:21" pos:end="721:31"><name pos:start="721:21" pos:end="721:21">s</name><operator pos:start="721:22" pos:end="721:23">-&gt;</operator><name pos:start="721:24" pos:end="721:31">mb_intra</name></name><operator pos:start="721:32" pos:end="721:32">=</operator> <literal type="number" pos:start="721:34" pos:end="721:34">1</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="723:21" pos:end="723:49"><expr pos:start="723:21" pos:end="723:48"><name pos:start="723:21" pos:end="723:28">motion_x</name><operator pos:start="723:29" pos:end="723:29">=</operator> <name pos:start="723:31" pos:end="723:44"><name pos:start="723:31" pos:end="723:31">s</name><operator pos:start="723:32" pos:end="723:33">-&gt;</operator><name pos:start="723:34" pos:end="723:35">mv</name><index pos:start="723:36" pos:end="723:38">[<expr pos:start="723:37" pos:end="723:37"><literal type="number" pos:start="723:37" pos:end="723:37">0</literal></expr>]</index><index pos:start="723:39" pos:end="723:41">[<expr pos:start="723:40" pos:end="723:40"><literal type="number" pos:start="723:40" pos:end="723:40">0</literal></expr>]</index><index pos:start="723:42" pos:end="723:44">[<expr pos:start="723:43" pos:end="723:43"><literal type="number" pos:start="723:43" pos:end="723:43">0</literal></expr>]</index></name> <operator pos:start="723:46" pos:end="723:46">=</operator> <literal type="number" pos:start="723:48" pos:end="723:48">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="725:21" pos:end="725:49"><expr pos:start="725:21" pos:end="725:48"><name pos:start="725:21" pos:end="725:28">motion_y</name><operator pos:start="725:29" pos:end="725:29">=</operator> <name pos:start="725:31" pos:end="725:44"><name pos:start="725:31" pos:end="725:31">s</name><operator pos:start="725:32" pos:end="725:33">-&gt;</operator><name pos:start="725:34" pos:end="725:35">mv</name><index pos:start="725:36" pos:end="725:38">[<expr pos:start="725:37" pos:end="725:37"><literal type="number" pos:start="725:37" pos:end="725:37">0</literal></expr>]</index><index pos:start="725:39" pos:end="725:41">[<expr pos:start="725:40" pos:end="725:40"><literal type="number" pos:start="725:40" pos:end="725:40">0</literal></expr>]</index><index pos:start="725:42" pos:end="725:44">[<expr pos:start="725:43" pos:end="725:43"><literal type="number" pos:start="725:43" pos:end="725:43">1</literal></expr>]</index></name> <operator pos:start="725:46" pos:end="725:46">=</operator> <literal type="number" pos:start="725:48" pos:end="725:48">0</literal></expr>;</expr_stmt>

                    <break pos:start="727:21" pos:end="727:26">break;</break>

                <case pos:start="729:17" pos:end="729:35">case <expr pos:start="729:22" pos:end="729:34"><name pos:start="729:22" pos:end="729:34">MB_TYPE_INTER</name></expr>:</case>

                    <expr_stmt pos:start="731:21" pos:end="731:47"><expr pos:start="731:21" pos:end="731:46"><name pos:start="731:21" pos:end="731:29"><name pos:start="731:21" pos:end="731:21">s</name><operator pos:start="731:22" pos:end="731:23">-&gt;</operator><name pos:start="731:24" pos:end="731:29">mv_dir</name></name> <operator pos:start="731:31" pos:end="731:31">=</operator> <name pos:start="731:33" pos:end="731:46">MV_DIR_FORWARD</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="733:21" pos:end="733:35"><expr pos:start="733:21" pos:end="733:34"><name pos:start="733:21" pos:end="733:31"><name pos:start="733:21" pos:end="733:21">s</name><operator pos:start="733:22" pos:end="733:23">-&gt;</operator><name pos:start="733:24" pos:end="733:31">mb_intra</name></name><operator pos:start="733:32" pos:end="733:32">=</operator> <literal type="number" pos:start="733:34" pos:end="733:34">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="735:21" pos:end="735:68"><expr pos:start="735:21" pos:end="735:67"><name pos:start="735:21" pos:end="735:28">motion_x</name><operator pos:start="735:29" pos:end="735:29">=</operator> <name pos:start="735:31" pos:end="735:44"><name pos:start="735:31" pos:end="735:31">s</name><operator pos:start="735:32" pos:end="735:33">-&gt;</operator><name pos:start="735:34" pos:end="735:35">mv</name><index pos:start="735:36" pos:end="735:38">[<expr pos:start="735:37" pos:end="735:37"><literal type="number" pos:start="735:37" pos:end="735:37">0</literal></expr>]</index><index pos:start="735:39" pos:end="735:41">[<expr pos:start="735:40" pos:end="735:40"><literal type="number" pos:start="735:40" pos:end="735:40">0</literal></expr>]</index><index pos:start="735:42" pos:end="735:44">[<expr pos:start="735:43" pos:end="735:43"><literal type="number" pos:start="735:43" pos:end="735:43">0</literal></expr>]</index></name> <operator pos:start="735:46" pos:end="735:46">=</operator> <name pos:start="735:48" pos:end="735:67"><name pos:start="735:48" pos:end="735:48">s</name><operator pos:start="735:49" pos:end="735:50">-&gt;</operator><name pos:start="735:51" pos:end="735:60">p_mv_table</name><index pos:start="735:61" pos:end="735:64">[<expr pos:start="735:62" pos:end="735:63"><name pos:start="735:62" pos:end="735:63">xy</name></expr>]</index><index pos:start="735:65" pos:end="735:67">[<expr pos:start="735:66" pos:end="735:66"><literal type="number" pos:start="735:66" pos:end="735:66">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="737:21" pos:end="737:68"><expr pos:start="737:21" pos:end="737:67"><name pos:start="737:21" pos:end="737:28">motion_y</name><operator pos:start="737:29" pos:end="737:29">=</operator> <name pos:start="737:31" pos:end="737:44"><name pos:start="737:31" pos:end="737:31">s</name><operator pos:start="737:32" pos:end="737:33">-&gt;</operator><name pos:start="737:34" pos:end="737:35">mv</name><index pos:start="737:36" pos:end="737:38">[<expr pos:start="737:37" pos:end="737:37"><literal type="number" pos:start="737:37" pos:end="737:37">0</literal></expr>]</index><index pos:start="737:39" pos:end="737:41">[<expr pos:start="737:40" pos:end="737:40"><literal type="number" pos:start="737:40" pos:end="737:40">0</literal></expr>]</index><index pos:start="737:42" pos:end="737:44">[<expr pos:start="737:43" pos:end="737:43"><literal type="number" pos:start="737:43" pos:end="737:43">1</literal></expr>]</index></name> <operator pos:start="737:46" pos:end="737:46">=</operator> <name pos:start="737:48" pos:end="737:67"><name pos:start="737:48" pos:end="737:48">s</name><operator pos:start="737:49" pos:end="737:50">-&gt;</operator><name pos:start="737:51" pos:end="737:60">p_mv_table</name><index pos:start="737:61" pos:end="737:64">[<expr pos:start="737:62" pos:end="737:63"><name pos:start="737:62" pos:end="737:63">xy</name></expr>]</index><index pos:start="737:65" pos:end="737:67">[<expr pos:start="737:66" pos:end="737:66"><literal type="number" pos:start="737:66" pos:end="737:66">1</literal></expr>]</index></name></expr>;</expr_stmt>

                    <break pos:start="739:21" pos:end="739:26">break;</break>

                <case pos:start="741:17" pos:end="741:36">case <expr pos:start="741:22" pos:end="741:35"><name pos:start="741:22" pos:end="741:35">MB_TYPE_DIRECT</name></expr>:</case>

                    <expr_stmt pos:start="743:21" pos:end="743:77"><expr pos:start="743:21" pos:end="743:76"><name pos:start="743:21" pos:end="743:29"><name pos:start="743:21" pos:end="743:21">s</name><operator pos:start="743:22" pos:end="743:23">-&gt;</operator><name pos:start="743:24" pos:end="743:29">mv_dir</name></name> <operator pos:start="743:31" pos:end="743:31">=</operator> <name pos:start="743:33" pos:end="743:46">MV_DIR_FORWARD</name> <operator pos:start="743:48" pos:end="743:48">|</operator> <name pos:start="743:50" pos:end="743:64">MV_DIR_BACKWARD</name> <operator pos:start="743:66" pos:end="743:66">|</operator> <name pos:start="743:68" pos:end="743:76">MV_DIRECT</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="745:21" pos:end="745:35"><expr pos:start="745:21" pos:end="745:34"><name pos:start="745:21" pos:end="745:31"><name pos:start="745:21" pos:end="745:21">s</name><operator pos:start="745:22" pos:end="745:23">-&gt;</operator><name pos:start="745:24" pos:end="745:31">mb_intra</name></name><operator pos:start="745:32" pos:end="745:32">=</operator> <literal type="number" pos:start="745:34" pos:end="745:34">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="747:21" pos:end="747:57"><expr pos:start="747:21" pos:end="747:56"><name pos:start="747:21" pos:end="747:28">motion_x</name><operator pos:start="747:29" pos:end="747:29">=</operator><name pos:start="747:30" pos:end="747:56"><name pos:start="747:30" pos:end="747:30">s</name><operator pos:start="747:31" pos:end="747:32">-&gt;</operator><name pos:start="747:33" pos:end="747:49">b_direct_mv_table</name><index pos:start="747:50" pos:end="747:53">[<expr pos:start="747:51" pos:end="747:52"><name pos:start="747:51" pos:end="747:52">xy</name></expr>]</index><index pos:start="747:54" pos:end="747:56">[<expr pos:start="747:55" pos:end="747:55"><literal type="number" pos:start="747:55" pos:end="747:55">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="749:21" pos:end="749:57"><expr pos:start="749:21" pos:end="749:56"><name pos:start="749:21" pos:end="749:28">motion_y</name><operator pos:start="749:29" pos:end="749:29">=</operator><name pos:start="749:30" pos:end="749:56"><name pos:start="749:30" pos:end="749:30">s</name><operator pos:start="749:31" pos:end="749:32">-&gt;</operator><name pos:start="749:33" pos:end="749:49">b_direct_mv_table</name><index pos:start="749:50" pos:end="749:53">[<expr pos:start="749:51" pos:end="749:52"><name pos:start="749:51" pos:end="749:52">xy</name></expr>]</index><index pos:start="749:54" pos:end="749:56">[<expr pos:start="749:55" pos:end="749:55"><literal type="number" pos:start="749:55" pos:end="749:55">1</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="751:21" pos:end="751:70"><expr pos:start="751:21" pos:end="751:69"><name pos:start="751:21" pos:end="751:34"><name pos:start="751:21" pos:end="751:21">s</name><operator pos:start="751:22" pos:end="751:23">-&gt;</operator><name pos:start="751:24" pos:end="751:25">mv</name><index pos:start="751:26" pos:end="751:28">[<expr pos:start="751:27" pos:end="751:27"><literal type="number" pos:start="751:27" pos:end="751:27">0</literal></expr>]</index><index pos:start="751:29" pos:end="751:31">[<expr pos:start="751:30" pos:end="751:30"><literal type="number" pos:start="751:30" pos:end="751:30">0</literal></expr>]</index><index pos:start="751:32" pos:end="751:34">[<expr pos:start="751:33" pos:end="751:33"><literal type="number" pos:start="751:33" pos:end="751:33">0</literal></expr>]</index></name> <operator pos:start="751:36" pos:end="751:36">=</operator> <name pos:start="751:38" pos:end="751:69"><name pos:start="751:38" pos:end="751:38">s</name><operator pos:start="751:39" pos:end="751:40">-&gt;</operator><name pos:start="751:41" pos:end="751:62">b_direct_forw_mv_table</name><index pos:start="751:63" pos:end="751:66">[<expr pos:start="751:64" pos:end="751:65"><name pos:start="751:64" pos:end="751:65">xy</name></expr>]</index><index pos:start="751:67" pos:end="751:69">[<expr pos:start="751:68" pos:end="751:68"><literal type="number" pos:start="751:68" pos:end="751:68">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="753:21" pos:end="753:70"><expr pos:start="753:21" pos:end="753:69"><name pos:start="753:21" pos:end="753:34"><name pos:start="753:21" pos:end="753:21">s</name><operator pos:start="753:22" pos:end="753:23">-&gt;</operator><name pos:start="753:24" pos:end="753:25">mv</name><index pos:start="753:26" pos:end="753:28">[<expr pos:start="753:27" pos:end="753:27"><literal type="number" pos:start="753:27" pos:end="753:27">0</literal></expr>]</index><index pos:start="753:29" pos:end="753:31">[<expr pos:start="753:30" pos:end="753:30"><literal type="number" pos:start="753:30" pos:end="753:30">0</literal></expr>]</index><index pos:start="753:32" pos:end="753:34">[<expr pos:start="753:33" pos:end="753:33"><literal type="number" pos:start="753:33" pos:end="753:33">1</literal></expr>]</index></name> <operator pos:start="753:36" pos:end="753:36">=</operator> <name pos:start="753:38" pos:end="753:69"><name pos:start="753:38" pos:end="753:38">s</name><operator pos:start="753:39" pos:end="753:40">-&gt;</operator><name pos:start="753:41" pos:end="753:62">b_direct_forw_mv_table</name><index pos:start="753:63" pos:end="753:66">[<expr pos:start="753:64" pos:end="753:65"><name pos:start="753:64" pos:end="753:65">xy</name></expr>]</index><index pos:start="753:67" pos:end="753:69">[<expr pos:start="753:68" pos:end="753:68"><literal type="number" pos:start="753:68" pos:end="753:68">1</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="755:21" pos:end="755:70"><expr pos:start="755:21" pos:end="755:69"><name pos:start="755:21" pos:end="755:34"><name pos:start="755:21" pos:end="755:21">s</name><operator pos:start="755:22" pos:end="755:23">-&gt;</operator><name pos:start="755:24" pos:end="755:25">mv</name><index pos:start="755:26" pos:end="755:28">[<expr pos:start="755:27" pos:end="755:27"><literal type="number" pos:start="755:27" pos:end="755:27">1</literal></expr>]</index><index pos:start="755:29" pos:end="755:31">[<expr pos:start="755:30" pos:end="755:30"><literal type="number" pos:start="755:30" pos:end="755:30">0</literal></expr>]</index><index pos:start="755:32" pos:end="755:34">[<expr pos:start="755:33" pos:end="755:33"><literal type="number" pos:start="755:33" pos:end="755:33">0</literal></expr>]</index></name> <operator pos:start="755:36" pos:end="755:36">=</operator> <name pos:start="755:38" pos:end="755:69"><name pos:start="755:38" pos:end="755:38">s</name><operator pos:start="755:39" pos:end="755:40">-&gt;</operator><name pos:start="755:41" pos:end="755:62">b_direct_back_mv_table</name><index pos:start="755:63" pos:end="755:66">[<expr pos:start="755:64" pos:end="755:65"><name pos:start="755:64" pos:end="755:65">xy</name></expr>]</index><index pos:start="755:67" pos:end="755:69">[<expr pos:start="755:68" pos:end="755:68"><literal type="number" pos:start="755:68" pos:end="755:68">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="757:21" pos:end="757:70"><expr pos:start="757:21" pos:end="757:69"><name pos:start="757:21" pos:end="757:34"><name pos:start="757:21" pos:end="757:21">s</name><operator pos:start="757:22" pos:end="757:23">-&gt;</operator><name pos:start="757:24" pos:end="757:25">mv</name><index pos:start="757:26" pos:end="757:28">[<expr pos:start="757:27" pos:end="757:27"><literal type="number" pos:start="757:27" pos:end="757:27">1</literal></expr>]</index><index pos:start="757:29" pos:end="757:31">[<expr pos:start="757:30" pos:end="757:30"><literal type="number" pos:start="757:30" pos:end="757:30">0</literal></expr>]</index><index pos:start="757:32" pos:end="757:34">[<expr pos:start="757:33" pos:end="757:33"><literal type="number" pos:start="757:33" pos:end="757:33">1</literal></expr>]</index></name> <operator pos:start="757:36" pos:end="757:36">=</operator> <name pos:start="757:38" pos:end="757:69"><name pos:start="757:38" pos:end="757:38">s</name><operator pos:start="757:39" pos:end="757:40">-&gt;</operator><name pos:start="757:41" pos:end="757:62">b_direct_back_mv_table</name><index pos:start="757:63" pos:end="757:66">[<expr pos:start="757:64" pos:end="757:65"><name pos:start="757:64" pos:end="757:65">xy</name></expr>]</index><index pos:start="757:67" pos:end="757:69">[<expr pos:start="757:68" pos:end="757:68"><literal type="number" pos:start="757:68" pos:end="757:68">1</literal></expr>]</index></name></expr>;</expr_stmt>

                    <break pos:start="759:21" pos:end="759:26">break;</break>

                <case pos:start="761:17" pos:end="761:35">case <expr pos:start="761:22" pos:end="761:34"><name pos:start="761:22" pos:end="761:34">MB_TYPE_BIDIR</name></expr>:</case>

                    <expr_stmt pos:start="763:21" pos:end="763:65"><expr pos:start="763:21" pos:end="763:64"><name pos:start="763:21" pos:end="763:29"><name pos:start="763:21" pos:end="763:21">s</name><operator pos:start="763:22" pos:end="763:23">-&gt;</operator><name pos:start="763:24" pos:end="763:29">mv_dir</name></name> <operator pos:start="763:31" pos:end="763:31">=</operator> <name pos:start="763:33" pos:end="763:46">MV_DIR_FORWARD</name> <operator pos:start="763:48" pos:end="763:48">|</operator> <name pos:start="763:50" pos:end="763:64">MV_DIR_BACKWARD</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="765:21" pos:end="765:35"><expr pos:start="765:21" pos:end="765:34"><name pos:start="765:21" pos:end="765:31"><name pos:start="765:21" pos:end="765:21">s</name><operator pos:start="765:22" pos:end="765:23">-&gt;</operator><name pos:start="765:24" pos:end="765:31">mb_intra</name></name><operator pos:start="765:32" pos:end="765:32">=</operator> <literal type="number" pos:start="765:34" pos:end="765:34">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="767:21" pos:end="767:31"><expr pos:start="767:21" pos:end="767:30"><name pos:start="767:21" pos:end="767:28">motion_x</name><operator pos:start="767:29" pos:end="767:29">=</operator><literal type="number" pos:start="767:30" pos:end="767:30">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="769:21" pos:end="769:31"><expr pos:start="769:21" pos:end="769:30"><name pos:start="769:21" pos:end="769:28">motion_y</name><operator pos:start="769:29" pos:end="769:29">=</operator><literal type="number" pos:start="769:30" pos:end="769:30">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="771:21" pos:end="771:69"><expr pos:start="771:21" pos:end="771:68"><name pos:start="771:21" pos:end="771:34"><name pos:start="771:21" pos:end="771:21">s</name><operator pos:start="771:22" pos:end="771:23">-&gt;</operator><name pos:start="771:24" pos:end="771:25">mv</name><index pos:start="771:26" pos:end="771:28">[<expr pos:start="771:27" pos:end="771:27"><literal type="number" pos:start="771:27" pos:end="771:27">0</literal></expr>]</index><index pos:start="771:29" pos:end="771:31">[<expr pos:start="771:30" pos:end="771:30"><literal type="number" pos:start="771:30" pos:end="771:30">0</literal></expr>]</index><index pos:start="771:32" pos:end="771:34">[<expr pos:start="771:33" pos:end="771:33"><literal type="number" pos:start="771:33" pos:end="771:33">0</literal></expr>]</index></name> <operator pos:start="771:36" pos:end="771:36">=</operator> <name pos:start="771:38" pos:end="771:68"><name pos:start="771:38" pos:end="771:38">s</name><operator pos:start="771:39" pos:end="771:40">-&gt;</operator><name pos:start="771:41" pos:end="771:61">b_bidir_forw_mv_table</name><index pos:start="771:62" pos:end="771:65">[<expr pos:start="771:63" pos:end="771:64"><name pos:start="771:63" pos:end="771:64">xy</name></expr>]</index><index pos:start="771:66" pos:end="771:68">[<expr pos:start="771:67" pos:end="771:67"><literal type="number" pos:start="771:67" pos:end="771:67">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="773:21" pos:end="773:69"><expr pos:start="773:21" pos:end="773:68"><name pos:start="773:21" pos:end="773:34"><name pos:start="773:21" pos:end="773:21">s</name><operator pos:start="773:22" pos:end="773:23">-&gt;</operator><name pos:start="773:24" pos:end="773:25">mv</name><index pos:start="773:26" pos:end="773:28">[<expr pos:start="773:27" pos:end="773:27"><literal type="number" pos:start="773:27" pos:end="773:27">0</literal></expr>]</index><index pos:start="773:29" pos:end="773:31">[<expr pos:start="773:30" pos:end="773:30"><literal type="number" pos:start="773:30" pos:end="773:30">0</literal></expr>]</index><index pos:start="773:32" pos:end="773:34">[<expr pos:start="773:33" pos:end="773:33"><literal type="number" pos:start="773:33" pos:end="773:33">1</literal></expr>]</index></name> <operator pos:start="773:36" pos:end="773:36">=</operator> <name pos:start="773:38" pos:end="773:68"><name pos:start="773:38" pos:end="773:38">s</name><operator pos:start="773:39" pos:end="773:40">-&gt;</operator><name pos:start="773:41" pos:end="773:61">b_bidir_forw_mv_table</name><index pos:start="773:62" pos:end="773:65">[<expr pos:start="773:63" pos:end="773:64"><name pos:start="773:63" pos:end="773:64">xy</name></expr>]</index><index pos:start="773:66" pos:end="773:68">[<expr pos:start="773:67" pos:end="773:67"><literal type="number" pos:start="773:67" pos:end="773:67">1</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="775:21" pos:end="775:69"><expr pos:start="775:21" pos:end="775:68"><name pos:start="775:21" pos:end="775:34"><name pos:start="775:21" pos:end="775:21">s</name><operator pos:start="775:22" pos:end="775:23">-&gt;</operator><name pos:start="775:24" pos:end="775:25">mv</name><index pos:start="775:26" pos:end="775:28">[<expr pos:start="775:27" pos:end="775:27"><literal type="number" pos:start="775:27" pos:end="775:27">1</literal></expr>]</index><index pos:start="775:29" pos:end="775:31">[<expr pos:start="775:30" pos:end="775:30"><literal type="number" pos:start="775:30" pos:end="775:30">0</literal></expr>]</index><index pos:start="775:32" pos:end="775:34">[<expr pos:start="775:33" pos:end="775:33"><literal type="number" pos:start="775:33" pos:end="775:33">0</literal></expr>]</index></name> <operator pos:start="775:36" pos:end="775:36">=</operator> <name pos:start="775:38" pos:end="775:68"><name pos:start="775:38" pos:end="775:38">s</name><operator pos:start="775:39" pos:end="775:40">-&gt;</operator><name pos:start="775:41" pos:end="775:61">b_bidir_back_mv_table</name><index pos:start="775:62" pos:end="775:65">[<expr pos:start="775:63" pos:end="775:64"><name pos:start="775:63" pos:end="775:64">xy</name></expr>]</index><index pos:start="775:66" pos:end="775:68">[<expr pos:start="775:67" pos:end="775:67"><literal type="number" pos:start="775:67" pos:end="775:67">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="777:21" pos:end="777:69"><expr pos:start="777:21" pos:end="777:68"><name pos:start="777:21" pos:end="777:34"><name pos:start="777:21" pos:end="777:21">s</name><operator pos:start="777:22" pos:end="777:23">-&gt;</operator><name pos:start="777:24" pos:end="777:25">mv</name><index pos:start="777:26" pos:end="777:28">[<expr pos:start="777:27" pos:end="777:27"><literal type="number" pos:start="777:27" pos:end="777:27">1</literal></expr>]</index><index pos:start="777:29" pos:end="777:31">[<expr pos:start="777:30" pos:end="777:30"><literal type="number" pos:start="777:30" pos:end="777:30">0</literal></expr>]</index><index pos:start="777:32" pos:end="777:34">[<expr pos:start="777:33" pos:end="777:33"><literal type="number" pos:start="777:33" pos:end="777:33">1</literal></expr>]</index></name> <operator pos:start="777:36" pos:end="777:36">=</operator> <name pos:start="777:38" pos:end="777:68"><name pos:start="777:38" pos:end="777:38">s</name><operator pos:start="777:39" pos:end="777:40">-&gt;</operator><name pos:start="777:41" pos:end="777:61">b_bidir_back_mv_table</name><index pos:start="777:62" pos:end="777:65">[<expr pos:start="777:63" pos:end="777:64"><name pos:start="777:63" pos:end="777:64">xy</name></expr>]</index><index pos:start="777:66" pos:end="777:68">[<expr pos:start="777:67" pos:end="777:67"><literal type="number" pos:start="777:67" pos:end="777:67">1</literal></expr>]</index></name></expr>;</expr_stmt>

                    <break pos:start="779:21" pos:end="779:26">break;</break>

                <case pos:start="781:17" pos:end="781:38">case <expr pos:start="781:22" pos:end="781:37"><name pos:start="781:22" pos:end="781:37">MB_TYPE_BACKWARD</name></expr>:</case>

                    <expr_stmt pos:start="783:21" pos:end="783:48"><expr pos:start="783:21" pos:end="783:47"><name pos:start="783:21" pos:end="783:29"><name pos:start="783:21" pos:end="783:21">s</name><operator pos:start="783:22" pos:end="783:23">-&gt;</operator><name pos:start="783:24" pos:end="783:29">mv_dir</name></name> <operator pos:start="783:31" pos:end="783:31">=</operator> <name pos:start="783:33" pos:end="783:47">MV_DIR_BACKWARD</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="785:21" pos:end="785:35"><expr pos:start="785:21" pos:end="785:34"><name pos:start="785:21" pos:end="785:31"><name pos:start="785:21" pos:end="785:21">s</name><operator pos:start="785:22" pos:end="785:23">-&gt;</operator><name pos:start="785:24" pos:end="785:31">mb_intra</name></name><operator pos:start="785:32" pos:end="785:32">=</operator> <literal type="number" pos:start="785:34" pos:end="785:34">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="787:21" pos:end="787:73"><expr pos:start="787:21" pos:end="787:72"><name pos:start="787:21" pos:end="787:28">motion_x</name><operator pos:start="787:29" pos:end="787:29">=</operator> <name pos:start="787:31" pos:end="787:44"><name pos:start="787:31" pos:end="787:31">s</name><operator pos:start="787:32" pos:end="787:33">-&gt;</operator><name pos:start="787:34" pos:end="787:35">mv</name><index pos:start="787:36" pos:end="787:38">[<expr pos:start="787:37" pos:end="787:37"><literal type="number" pos:start="787:37" pos:end="787:37">1</literal></expr>]</index><index pos:start="787:39" pos:end="787:41">[<expr pos:start="787:40" pos:end="787:40"><literal type="number" pos:start="787:40" pos:end="787:40">0</literal></expr>]</index><index pos:start="787:42" pos:end="787:44">[<expr pos:start="787:43" pos:end="787:43"><literal type="number" pos:start="787:43" pos:end="787:43">0</literal></expr>]</index></name> <operator pos:start="787:46" pos:end="787:46">=</operator> <name pos:start="787:48" pos:end="787:72"><name pos:start="787:48" pos:end="787:48">s</name><operator pos:start="787:49" pos:end="787:50">-&gt;</operator><name pos:start="787:51" pos:end="787:65">b_back_mv_table</name><index pos:start="787:66" pos:end="787:69">[<expr pos:start="787:67" pos:end="787:68"><name pos:start="787:67" pos:end="787:68">xy</name></expr>]</index><index pos:start="787:70" pos:end="787:72">[<expr pos:start="787:71" pos:end="787:71"><literal type="number" pos:start="787:71" pos:end="787:71">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="789:21" pos:end="789:73"><expr pos:start="789:21" pos:end="789:72"><name pos:start="789:21" pos:end="789:28">motion_y</name><operator pos:start="789:29" pos:end="789:29">=</operator> <name pos:start="789:31" pos:end="789:44"><name pos:start="789:31" pos:end="789:31">s</name><operator pos:start="789:32" pos:end="789:33">-&gt;</operator><name pos:start="789:34" pos:end="789:35">mv</name><index pos:start="789:36" pos:end="789:38">[<expr pos:start="789:37" pos:end="789:37"><literal type="number" pos:start="789:37" pos:end="789:37">1</literal></expr>]</index><index pos:start="789:39" pos:end="789:41">[<expr pos:start="789:40" pos:end="789:40"><literal type="number" pos:start="789:40" pos:end="789:40">0</literal></expr>]</index><index pos:start="789:42" pos:end="789:44">[<expr pos:start="789:43" pos:end="789:43"><literal type="number" pos:start="789:43" pos:end="789:43">1</literal></expr>]</index></name> <operator pos:start="789:46" pos:end="789:46">=</operator> <name pos:start="789:48" pos:end="789:72"><name pos:start="789:48" pos:end="789:48">s</name><operator pos:start="789:49" pos:end="789:50">-&gt;</operator><name pos:start="789:51" pos:end="789:65">b_back_mv_table</name><index pos:start="789:66" pos:end="789:69">[<expr pos:start="789:67" pos:end="789:68"><name pos:start="789:67" pos:end="789:68">xy</name></expr>]</index><index pos:start="789:70" pos:end="789:72">[<expr pos:start="789:71" pos:end="789:71"><literal type="number" pos:start="789:71" pos:end="789:71">1</literal></expr>]</index></name></expr>;</expr_stmt>

                    <break pos:start="791:21" pos:end="791:26">break;</break>

                <case pos:start="793:17" pos:end="793:37">case <expr pos:start="793:22" pos:end="793:36"><name pos:start="793:22" pos:end="793:36">MB_TYPE_FORWARD</name></expr>:</case>

                    <expr_stmt pos:start="795:21" pos:end="795:47"><expr pos:start="795:21" pos:end="795:46"><name pos:start="795:21" pos:end="795:29"><name pos:start="795:21" pos:end="795:21">s</name><operator pos:start="795:22" pos:end="795:23">-&gt;</operator><name pos:start="795:24" pos:end="795:29">mv_dir</name></name> <operator pos:start="795:31" pos:end="795:31">=</operator> <name pos:start="795:33" pos:end="795:46">MV_DIR_FORWARD</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="797:21" pos:end="797:35"><expr pos:start="797:21" pos:end="797:34"><name pos:start="797:21" pos:end="797:31"><name pos:start="797:21" pos:end="797:21">s</name><operator pos:start="797:22" pos:end="797:23">-&gt;</operator><name pos:start="797:24" pos:end="797:31">mb_intra</name></name><operator pos:start="797:32" pos:end="797:32">=</operator> <literal type="number" pos:start="797:34" pos:end="797:34">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="799:21" pos:end="799:73"><expr pos:start="799:21" pos:end="799:72"><name pos:start="799:21" pos:end="799:28">motion_x</name><operator pos:start="799:29" pos:end="799:29">=</operator> <name pos:start="799:31" pos:end="799:44"><name pos:start="799:31" pos:end="799:31">s</name><operator pos:start="799:32" pos:end="799:33">-&gt;</operator><name pos:start="799:34" pos:end="799:35">mv</name><index pos:start="799:36" pos:end="799:38">[<expr pos:start="799:37" pos:end="799:37"><literal type="number" pos:start="799:37" pos:end="799:37">0</literal></expr>]</index><index pos:start="799:39" pos:end="799:41">[<expr pos:start="799:40" pos:end="799:40"><literal type="number" pos:start="799:40" pos:end="799:40">0</literal></expr>]</index><index pos:start="799:42" pos:end="799:44">[<expr pos:start="799:43" pos:end="799:43"><literal type="number" pos:start="799:43" pos:end="799:43">0</literal></expr>]</index></name> <operator pos:start="799:46" pos:end="799:46">=</operator> <name pos:start="799:48" pos:end="799:72"><name pos:start="799:48" pos:end="799:48">s</name><operator pos:start="799:49" pos:end="799:50">-&gt;</operator><name pos:start="799:51" pos:end="799:65">b_forw_mv_table</name><index pos:start="799:66" pos:end="799:69">[<expr pos:start="799:67" pos:end="799:68"><name pos:start="799:67" pos:end="799:68">xy</name></expr>]</index><index pos:start="799:70" pos:end="799:72">[<expr pos:start="799:71" pos:end="799:71"><literal type="number" pos:start="799:71" pos:end="799:71">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="801:21" pos:end="801:73"><expr pos:start="801:21" pos:end="801:72"><name pos:start="801:21" pos:end="801:28">motion_y</name><operator pos:start="801:29" pos:end="801:29">=</operator> <name pos:start="801:31" pos:end="801:44"><name pos:start="801:31" pos:end="801:31">s</name><operator pos:start="801:32" pos:end="801:33">-&gt;</operator><name pos:start="801:34" pos:end="801:35">mv</name><index pos:start="801:36" pos:end="801:38">[<expr pos:start="801:37" pos:end="801:37"><literal type="number" pos:start="801:37" pos:end="801:37">0</literal></expr>]</index><index pos:start="801:39" pos:end="801:41">[<expr pos:start="801:40" pos:end="801:40"><literal type="number" pos:start="801:40" pos:end="801:40">0</literal></expr>]</index><index pos:start="801:42" pos:end="801:44">[<expr pos:start="801:43" pos:end="801:43"><literal type="number" pos:start="801:43" pos:end="801:43">1</literal></expr>]</index></name> <operator pos:start="801:46" pos:end="801:46">=</operator> <name pos:start="801:48" pos:end="801:72"><name pos:start="801:48" pos:end="801:48">s</name><operator pos:start="801:49" pos:end="801:50">-&gt;</operator><name pos:start="801:51" pos:end="801:65">b_forw_mv_table</name><index pos:start="801:66" pos:end="801:69">[<expr pos:start="801:67" pos:end="801:68"><name pos:start="801:67" pos:end="801:68">xy</name></expr>]</index><index pos:start="801:70" pos:end="801:72">[<expr pos:start="801:71" pos:end="801:71"><literal type="number" pos:start="801:71" pos:end="801:71">1</literal></expr>]</index></name></expr>;</expr_stmt>

<comment type="line" pos:start="803:1" pos:end="803:60">//                    printf(" %d %d ", motion_x, motion_y);</comment>

                    <break pos:start="805:21" pos:end="805:26">break;</break>

                <default pos:start="807:17" pos:end="807:24">default:</default>

                    <expr_stmt pos:start="809:21" pos:end="809:40"><expr pos:start="809:21" pos:end="809:39"><name pos:start="809:21" pos:end="809:28">motion_x</name><operator pos:start="809:29" pos:end="809:29">=</operator><name pos:start="809:30" pos:end="809:37">motion_y</name><operator pos:start="809:38" pos:end="809:38">=</operator><literal type="number" pos:start="809:39" pos:end="809:39">0</literal></expr>;</expr_stmt> <comment type="line" pos:start="809:42" pos:end="809:58">//gcc warning fix</comment>

                    <expr_stmt pos:start="811:21" pos:end="811:48"><expr pos:start="811:21" pos:end="811:47"><call pos:start="811:21" pos:end="811:47"><name pos:start="811:21" pos:end="811:26">printf</name><argument_list pos:start="811:27" pos:end="811:47">(<argument pos:start="811:28" pos:end="811:46"><expr pos:start="811:28" pos:end="811:46"><literal type="string" pos:start="811:28" pos:end="811:46">"illegal MB type\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                </block_content>}</block></switch>

                <expr_stmt pos:start="815:17" pos:end="815:49"><expr pos:start="815:17" pos:end="815:48"><call pos:start="815:17" pos:end="815:48"><name pos:start="815:17" pos:end="815:25">encode_mb</name><argument_list pos:start="815:26" pos:end="815:48">(<argument pos:start="815:27" pos:end="815:27"><expr pos:start="815:27" pos:end="815:27"><name pos:start="815:27" pos:end="815:27">s</name></expr></argument>, <argument pos:start="815:30" pos:end="815:37"><expr pos:start="815:30" pos:end="815:37"><name pos:start="815:30" pos:end="815:37">motion_x</name></expr></argument>, <argument pos:start="815:40" pos:end="815:47"><expr pos:start="815:40" pos:end="815:47"><name pos:start="815:40" pos:end="815:47">motion_y</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></else></if_stmt>

            <comment type="block" pos:start="819:13" pos:end="819:78">/* clean the MV table in IPS frames for direct mode in B frames */</comment>

            <if_stmt pos:start="821:13" pos:end="827:13"><if pos:start="821:13" pos:end="827:13">if<condition pos:start="821:15" pos:end="821:47">(<expr pos:start="821:16" pos:end="821:26"><name pos:start="821:16" pos:end="821:26"><name pos:start="821:16" pos:end="821:16">s</name><operator pos:start="821:17" pos:end="821:18">-&gt;</operator><name pos:start="821:19" pos:end="821:26">mb_intra</name></name></expr> <comment type="block" pos:start="821:28" pos:end="821:46">/* &amp;&amp; I,P,S_TYPE */</comment>)</condition><block pos:start="821:48" pos:end="827:13">{<block_content pos:start="823:17" pos:end="825:39">

                <expr_stmt pos:start="823:17" pos:end="823:39"><expr pos:start="823:17" pos:end="823:38"><name pos:start="823:17" pos:end="823:36"><name pos:start="823:17" pos:end="823:17">s</name><operator pos:start="823:18" pos:end="823:19">-&gt;</operator><name pos:start="823:20" pos:end="823:29">p_mv_table</name><index pos:start="823:30" pos:end="823:33">[<expr pos:start="823:31" pos:end="823:32"><name pos:start="823:31" pos:end="823:32">xy</name></expr>]</index><index pos:start="823:34" pos:end="823:36">[<expr pos:start="823:35" pos:end="823:35"><literal type="number" pos:start="823:35" pos:end="823:35">0</literal></expr>]</index></name><operator pos:start="823:37" pos:end="823:37">=</operator><literal type="number" pos:start="823:38" pos:end="823:38">0</literal></expr>;</expr_stmt>

                <expr_stmt pos:start="825:17" pos:end="825:39"><expr pos:start="825:17" pos:end="825:38"><name pos:start="825:17" pos:end="825:36"><name pos:start="825:17" pos:end="825:17">s</name><operator pos:start="825:18" pos:end="825:19">-&gt;</operator><name pos:start="825:20" pos:end="825:29">p_mv_table</name><index pos:start="825:30" pos:end="825:33">[<expr pos:start="825:31" pos:end="825:32"><name pos:start="825:31" pos:end="825:32">xy</name></expr>]</index><index pos:start="825:34" pos:end="825:36">[<expr pos:start="825:35" pos:end="825:35"><literal type="number" pos:start="825:35" pos:end="825:35">1</literal></expr>]</index></name><operator pos:start="825:37" pos:end="825:37">=</operator><literal type="number" pos:start="825:38" pos:end="825:38">0</literal></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>



            <expr_stmt pos:start="831:13" pos:end="831:39"><expr pos:start="831:13" pos:end="831:38"><call pos:start="831:13" pos:end="831:38"><name pos:start="831:13" pos:end="831:25">MPV_decode_mb</name><argument_list pos:start="831:26" pos:end="831:38">(<argument pos:start="831:27" pos:end="831:27"><expr pos:start="831:27" pos:end="831:27"><name pos:start="831:27" pos:end="831:27">s</name></expr></argument>, <argument pos:start="831:30" pos:end="831:37"><expr pos:start="831:30" pos:end="831:37"><name pos:start="831:30" pos:end="831:37"><name pos:start="831:30" pos:end="831:30">s</name><operator pos:start="831:31" pos:end="831:32">-&gt;</operator><name pos:start="831:33" pos:end="831:37">block</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></for>





        <comment type="block" pos:start="839:9" pos:end="839:45">/* Obtain average GOB size for RTP */</comment>

        <if_stmt pos:start="841:9" pos:end="861:9"><if pos:start="841:9" pos:end="861:9">if <condition pos:start="841:12" pos:end="841:24">(<expr pos:start="841:13" pos:end="841:23"><name pos:start="841:13" pos:end="841:23"><name pos:start="841:13" pos:end="841:13">s</name><operator pos:start="841:14" pos:end="841:15">-&gt;</operator><name pos:start="841:16" pos:end="841:23">rtp_mode</name></name></expr>)</condition> <block pos:start="841:26" pos:end="861:9">{<block_content pos:start="843:13" pos:end="859:34">

            <if_stmt pos:start="843:13" pos:end="853:13"><if pos:start="843:13" pos:end="845:76">if <condition pos:start="843:16" pos:end="843:22">(<expr pos:start="843:17" pos:end="843:21"><operator pos:start="843:17" pos:end="843:17">!</operator><name pos:start="843:18" pos:end="843:21">mb_y</name></expr>)</condition><block type="pseudo" pos:start="845:17" pos:end="845:76"><block_content pos:start="845:17" pos:end="845:76">

                <expr_stmt pos:start="845:17" pos:end="845:76"><expr pos:start="845:17" pos:end="845:75"><name pos:start="845:17" pos:end="845:34"><name pos:start="845:17" pos:end="845:17">s</name><operator pos:start="845:18" pos:end="845:19">-&gt;</operator><name pos:start="845:20" pos:end="845:34">mb_line_avgsize</name></name> <operator pos:start="845:36" pos:end="845:36">=</operator> <call pos:start="845:38" pos:end="845:53"><name pos:start="845:38" pos:end="845:45">pbBufPtr</name><argument_list pos:start="845:46" pos:end="845:53">(<argument pos:start="845:47" pos:end="845:52"><expr pos:start="845:47" pos:end="845:52"><operator pos:start="845:47" pos:end="845:47">&amp;</operator><name pos:start="845:48" pos:end="845:52"><name pos:start="845:48" pos:end="845:48">s</name><operator pos:start="845:49" pos:end="845:50">-&gt;</operator><name pos:start="845:51" pos:end="845:52">pb</name></name></expr></argument>)</argument_list></call> <operator pos:start="845:55" pos:end="845:55">-</operator> <name pos:start="845:57" pos:end="845:75"><name pos:start="845:57" pos:end="845:57">s</name><operator pos:start="845:58" pos:end="845:59">-&gt;</operator><name pos:start="845:60" pos:end="845:75">ptr_last_mb_line</name></name></expr>;</expr_stmt></block_content></block></if>

            <if type="elseif" pos:start="847:13" pos:end="853:13">else if <condition pos:start="847:21" pos:end="847:44">(<expr pos:start="847:22" pos:end="847:43"><operator pos:start="847:22" pos:end="847:22">!</operator><operator pos:start="847:23" pos:end="847:23">(</operator><name pos:start="847:24" pos:end="847:27">mb_y</name> <operator pos:start="847:29" pos:end="847:29">%</operator> <name pos:start="847:31" pos:end="847:42"><name pos:start="847:31" pos:end="847:31">s</name><operator pos:start="847:32" pos:end="847:33">-&gt;</operator><name pos:start="847:34" pos:end="847:42">gob_index</name></name><operator pos:start="847:43" pos:end="847:43">)</operator></expr>)</condition> <block pos:start="847:46" pos:end="853:13">{<block_content pos:start="849:17" pos:end="851:55">    

                <expr_stmt pos:start="849:17" pos:end="849:104"><expr pos:start="849:17" pos:end="849:103"><name pos:start="849:17" pos:end="849:34"><name pos:start="849:17" pos:end="849:17">s</name><operator pos:start="849:18" pos:end="849:19">-&gt;</operator><name pos:start="849:20" pos:end="849:34">mb_line_avgsize</name></name> <operator pos:start="849:36" pos:end="849:36">=</operator> <operator pos:start="849:38" pos:end="849:38">(</operator><name pos:start="849:39" pos:end="849:56"><name pos:start="849:39" pos:end="849:39">s</name><operator pos:start="849:40" pos:end="849:41">-&gt;</operator><name pos:start="849:42" pos:end="849:56">mb_line_avgsize</name></name> <operator pos:start="849:58" pos:end="849:58">+</operator> <call pos:start="849:60" pos:end="849:75"><name pos:start="849:60" pos:end="849:67">pbBufPtr</name><argument_list pos:start="849:68" pos:end="849:75">(<argument pos:start="849:69" pos:end="849:74"><expr pos:start="849:69" pos:end="849:74"><operator pos:start="849:69" pos:end="849:69">&amp;</operator><name pos:start="849:70" pos:end="849:74"><name pos:start="849:70" pos:end="849:70">s</name><operator pos:start="849:71" pos:end="849:72">-&gt;</operator><name pos:start="849:73" pos:end="849:74">pb</name></name></expr></argument>)</argument_list></call> <operator pos:start="849:77" pos:end="849:77">-</operator> <name pos:start="849:79" pos:end="849:97"><name pos:start="849:79" pos:end="849:79">s</name><operator pos:start="849:80" pos:end="849:81">-&gt;</operator><name pos:start="849:82" pos:end="849:97">ptr_last_mb_line</name></name><operator pos:start="849:98" pos:end="849:98">)</operator> <operator pos:start="849:100" pos:end="849:101">&gt;&gt;</operator> <literal type="number" pos:start="849:103" pos:end="849:103">1</literal></expr>;</expr_stmt>

                <expr_stmt pos:start="851:17" pos:end="851:55"><expr pos:start="851:17" pos:end="851:54"><name pos:start="851:17" pos:end="851:35"><name pos:start="851:17" pos:end="851:17">s</name><operator pos:start="851:18" pos:end="851:19">-&gt;</operator><name pos:start="851:20" pos:end="851:35">ptr_last_mb_line</name></name> <operator pos:start="851:37" pos:end="851:37">=</operator> <call pos:start="851:39" pos:end="851:54"><name pos:start="851:39" pos:end="851:46">pbBufPtr</name><argument_list pos:start="851:47" pos:end="851:54">(<argument pos:start="851:48" pos:end="851:53"><expr pos:start="851:48" pos:end="851:53"><operator pos:start="851:48" pos:end="851:48">&amp;</operator><name pos:start="851:49" pos:end="851:53"><name pos:start="851:49" pos:end="851:49">s</name><operator pos:start="851:50" pos:end="851:51">-&gt;</operator><name pos:start="851:52" pos:end="851:53">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>

            <comment type="line" pos:start="855:13" pos:end="855:81">//fprintf(stderr, "\nMB line: %d\tSize: %u\tAvg. Size: %u", s-&gt;mb_y, </comment>

            <comment type="line" pos:start="857:13" pos:end="857:93">//                    (s-&gt;pb.buf_ptr - s-&gt;ptr_last_mb_line), s-&gt;mb_line_avgsize);</comment>

            <expr_stmt pos:start="859:13" pos:end="859:34"><expr pos:start="859:13" pos:end="859:33"><name pos:start="859:13" pos:end="859:29"><name pos:start="859:13" pos:end="859:13">s</name><operator pos:start="859:14" pos:end="859:15">-&gt;</operator><name pos:start="859:16" pos:end="859:29">first_gob_line</name></name> <operator pos:start="859:31" pos:end="859:31">=</operator> <literal type="number" pos:start="859:33" pos:end="859:33">0</literal></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></for>

    <expr_stmt pos:start="865:5" pos:end="865:13"><expr pos:start="865:5" pos:end="865:12"><call pos:start="865:5" pos:end="865:12"><name pos:start="865:5" pos:end="865:10">emms_c</name><argument_list pos:start="865:11" pos:end="865:12">()</argument_list></call></expr>;</expr_stmt>



    <if_stmt pos:start="869:5" pos:end="871:37"><if pos:start="869:5" pos:end="871:37">if <condition pos:start="869:8" pos:end="869:74">(<expr pos:start="869:9" pos:end="869:73"><name pos:start="869:9" pos:end="869:23"><name pos:start="869:9" pos:end="869:9">s</name><operator pos:start="869:10" pos:end="869:11">-&gt;</operator><name pos:start="869:12" pos:end="869:23">h263_msmpeg4</name></name> <operator pos:start="869:25" pos:end="869:26">&amp;&amp;</operator> <name pos:start="869:28" pos:end="869:45"><name pos:start="869:28" pos:end="869:28">s</name><operator pos:start="869:29" pos:end="869:30">-&gt;</operator><name pos:start="869:31" pos:end="869:45">msmpeg4_version</name></name><operator pos:start="869:46" pos:end="869:46">&lt;</operator><literal type="number" pos:start="869:47" pos:end="869:47">4</literal> <operator pos:start="869:49" pos:end="869:50">&amp;&amp;</operator> <name pos:start="869:52" pos:end="869:63"><name pos:start="869:52" pos:end="869:52">s</name><operator pos:start="869:53" pos:end="869:54">-&gt;</operator><name pos:start="869:55" pos:end="869:63">pict_type</name></name> <operator pos:start="869:65" pos:end="869:66">==</operator> <name pos:start="869:68" pos:end="869:73">I_TYPE</name></expr>)</condition><block type="pseudo" pos:start="871:9" pos:end="871:37"><block_content pos:start="871:9" pos:end="871:37">

        <expr_stmt pos:start="871:9" pos:end="871:37"><expr pos:start="871:9" pos:end="871:36"><call pos:start="871:9" pos:end="871:36"><name pos:start="871:9" pos:end="871:33">msmpeg4_encode_ext_header</name><argument_list pos:start="871:34" pos:end="871:36">(<argument pos:start="871:35" pos:end="871:35"><expr pos:start="871:35" pos:end="871:35"><name pos:start="871:35" pos:end="871:35">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>



    <comment type="line" pos:start="875:5" pos:end="875:24">//if (s-&gt;gob_number)</comment>

    <comment type="line" pos:start="877:5" pos:end="877:63">//    fprintf(stderr,"\nNumber of GOB: %d", s-&gt;gob_number);</comment>

    

    <comment type="block" pos:start="881:5" pos:end="881:34">/* Send the last GOB if RTP */</comment>    

    <if_stmt pos:start="883:5" pos:end="899:5"><if pos:start="883:5" pos:end="899:5">if <condition pos:start="883:8" pos:end="883:20">(<expr pos:start="883:9" pos:end="883:19"><name pos:start="883:9" pos:end="883:19"><name pos:start="883:9" pos:end="883:9">s</name><operator pos:start="883:10" pos:end="883:11">-&gt;</operator><name pos:start="883:12" pos:end="883:19">rtp_mode</name></name></expr>)</condition> <block pos:start="883:22" pos:end="899:5">{<block_content pos:start="885:9" pos:end="895:42">

        <expr_stmt pos:start="885:9" pos:end="885:31"><expr pos:start="885:9" pos:end="885:30"><call pos:start="885:9" pos:end="885:30"><name pos:start="885:9" pos:end="885:22">flush_put_bits</name><argument_list pos:start="885:23" pos:end="885:30">(<argument pos:start="885:24" pos:end="885:29"><expr pos:start="885:24" pos:end="885:29"><operator pos:start="885:24" pos:end="885:24">&amp;</operator><name pos:start="885:25" pos:end="885:29"><name pos:start="885:25" pos:end="885:25">s</name><operator pos:start="885:26" pos:end="885:27">-&gt;</operator><name pos:start="885:28" pos:end="885:29">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="887:9" pos:end="887:49"><expr pos:start="887:9" pos:end="887:48"><name pos:start="887:9" pos:end="887:12">pdif</name> <operator pos:start="887:14" pos:end="887:14">=</operator> <call pos:start="887:16" pos:end="887:31"><name pos:start="887:16" pos:end="887:23">pbBufPtr</name><argument_list pos:start="887:24" pos:end="887:31">(<argument pos:start="887:25" pos:end="887:30"><expr pos:start="887:25" pos:end="887:30"><operator pos:start="887:25" pos:end="887:25">&amp;</operator><name pos:start="887:26" pos:end="887:30"><name pos:start="887:26" pos:end="887:26">s</name><operator pos:start="887:27" pos:end="887:28">-&gt;</operator><name pos:start="887:29" pos:end="887:30">pb</name></name></expr></argument>)</argument_list></call> <operator pos:start="887:33" pos:end="887:33">-</operator> <name pos:start="887:35" pos:end="887:48"><name pos:start="887:35" pos:end="887:35">s</name><operator pos:start="887:36" pos:end="887:37">-&gt;</operator><name pos:start="887:38" pos:end="887:48">ptr_lastgob</name></name></expr>;</expr_stmt>

        <comment type="block" pos:start="889:9" pos:end="889:56">/* Call the RTP callback to send the last GOB */</comment>

        <if_stmt pos:start="891:9" pos:end="893:65"><if pos:start="891:9" pos:end="893:65">if <condition pos:start="891:12" pos:end="891:28">(<expr pos:start="891:13" pos:end="891:27"><name pos:start="891:13" pos:end="891:27"><name pos:start="891:13" pos:end="891:13">s</name><operator pos:start="891:14" pos:end="891:15">-&gt;</operator><name pos:start="891:16" pos:end="891:27">rtp_callback</name></name></expr>)</condition><block type="pseudo" pos:start="893:13" pos:end="893:65"><block_content pos:start="893:13" pos:end="893:65">

            <expr_stmt pos:start="893:13" pos:end="893:65"><expr pos:start="893:13" pos:end="893:64"><call pos:start="893:13" pos:end="893:64"><name pos:start="893:13" pos:end="893:27"><name pos:start="893:13" pos:end="893:13">s</name><operator pos:start="893:14" pos:end="893:15">-&gt;</operator><name pos:start="893:16" pos:end="893:27">rtp_callback</name></name><argument_list pos:start="893:28" pos:end="893:64">(<argument pos:start="893:29" pos:end="893:42"><expr pos:start="893:29" pos:end="893:42"><name pos:start="893:29" pos:end="893:42"><name pos:start="893:29" pos:end="893:29">s</name><operator pos:start="893:30" pos:end="893:31">-&gt;</operator><name pos:start="893:32" pos:end="893:42">ptr_lastgob</name></name></expr></argument>, <argument pos:start="893:45" pos:end="893:48"><expr pos:start="893:45" pos:end="893:48"><name pos:start="893:45" pos:end="893:48">pdif</name></expr></argument>, <argument pos:start="893:51" pos:end="893:63"><expr pos:start="893:51" pos:end="893:63"><name pos:start="893:51" pos:end="893:63"><name pos:start="893:51" pos:end="893:51">s</name><operator pos:start="893:52" pos:end="893:53">-&gt;</operator><name pos:start="893:54" pos:end="893:63">gob_number</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

        <expr_stmt pos:start="895:9" pos:end="895:42"><expr pos:start="895:9" pos:end="895:41"><name pos:start="895:9" pos:end="895:22"><name pos:start="895:9" pos:end="895:9">s</name><operator pos:start="895:10" pos:end="895:11">-&gt;</operator><name pos:start="895:12" pos:end="895:22">ptr_lastgob</name></name> <operator pos:start="895:24" pos:end="895:24">=</operator> <call pos:start="895:26" pos:end="895:41"><name pos:start="895:26" pos:end="895:33">pbBufPtr</name><argument_list pos:start="895:34" pos:end="895:41">(<argument pos:start="895:35" pos:end="895:40"><expr pos:start="895:35" pos:end="895:40"><operator pos:start="895:35" pos:end="895:35">&amp;</operator><name pos:start="895:36" pos:end="895:40"><name pos:start="895:36" pos:end="895:36">s</name><operator pos:start="895:37" pos:end="895:38">-&gt;</operator><name pos:start="895:39" pos:end="895:40">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <comment type="line" pos:start="897:9" pos:end="897:76">//fprintf(stderr,"\nGOB: %2d size: %d (last)", s-&gt;gob_number, pdif);</comment>

    </block_content>}</block></if></if_stmt>

</block_content>}</block></function>
</unit>
