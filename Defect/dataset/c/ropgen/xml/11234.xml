<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/11234.c" pos:tabs="8"><function pos:start="1:1" pos:end="303:1"><type pos:start="1:1" pos:end="1:3"><name pos:start="1:1" pos:end="1:3">int</name></type> <name pos:start="1:5" pos:end="1:23">ff_vp8_decode_frame</name><parameter_list pos:start="1:24" pos:end="3:40">(<parameter pos:start="1:25" pos:end="1:45"><decl pos:start="1:25" pos:end="1:45"><type pos:start="1:25" pos:end="1:45"><name pos:start="1:25" pos:end="1:38">AVCodecContext</name> <modifier pos:start="1:40" pos:end="1:40">*</modifier></type><name pos:start="1:41" pos:end="1:45">avctx</name></decl></parameter>, <parameter pos:start="1:48" pos:end="1:57"><decl pos:start="1:48" pos:end="1:57"><type pos:start="1:48" pos:end="1:57"><name pos:start="1:48" pos:end="1:51">void</name> <modifier pos:start="1:53" pos:end="1:53">*</modifier></type><name pos:start="1:54" pos:end="1:57">data</name></decl></parameter>, <parameter pos:start="1:60" pos:end="1:73"><decl pos:start="1:60" pos:end="1:73"><type pos:start="1:60" pos:end="1:73"><name pos:start="1:60" pos:end="1:62">int</name> <modifier pos:start="1:64" pos:end="1:64">*</modifier></type><name pos:start="1:65" pos:end="1:73">got_frame</name></decl></parameter>,

                        <parameter pos:start="3:25" pos:end="3:39"><decl pos:start="3:25" pos:end="3:39"><type pos:start="3:25" pos:end="3:39"><name pos:start="3:25" pos:end="3:32">AVPacket</name> <modifier pos:start="3:34" pos:end="3:34">*</modifier></type><name pos:start="3:35" pos:end="3:39">avpkt</name></decl></parameter>)</parameter_list>

<block pos:start="5:1" pos:end="303:1">{<block_content pos:start="7:5" pos:end="301:15">

    <decl_stmt pos:start="7:5" pos:end="7:37"><decl pos:start="7:5" pos:end="7:36"><type pos:start="7:5" pos:end="7:16"><name pos:start="7:5" pos:end="7:14">VP8Context</name> <modifier pos:start="7:16" pos:end="7:16">*</modifier></type><name pos:start="7:17" pos:end="7:17">s</name> <init pos:start="7:19" pos:end="7:36">= <expr pos:start="7:21" pos:end="7:36"><name pos:start="7:21" pos:end="7:36"><name pos:start="7:21" pos:end="7:25">avctx</name><operator pos:start="7:26" pos:end="7:27">-&gt;</operator><name pos:start="7:28" pos:end="7:36">priv_data</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:37"><decl pos:start="9:5" pos:end="9:11"><type pos:start="9:5" pos:end="9:7"><name pos:start="9:5" pos:end="9:7">int</name></type> <name pos:start="9:9" pos:end="9:11">ret</name></decl>, <decl pos:start="9:14" pos:end="9:14"><type ref="prev" pos:start="9:5" pos:end="9:7"/><name pos:start="9:14" pos:end="9:14">i</name></decl>, <decl pos:start="9:17" pos:end="9:26"><type ref="prev" pos:start="9:5" pos:end="9:7"/><name pos:start="9:17" pos:end="9:26">referenced</name></decl>, <decl pos:start="9:29" pos:end="9:36"><type ref="prev" pos:start="9:5" pos:end="9:7"/><name pos:start="9:29" pos:end="9:36">num_jobs</name></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:31"><decl pos:start="11:5" pos:end="11:30"><type pos:start="11:5" pos:end="11:18"><name pos:start="11:5" pos:end="11:18"><name pos:start="11:5" pos:end="11:8">enum</name> <name pos:start="11:10" pos:end="11:18">AVDiscard</name></name></type> <name pos:start="11:20" pos:end="11:30">skip_thresh</name></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:47"><decl pos:start="13:5" pos:end="13:33"><type pos:start="13:5" pos:end="13:14"><name pos:start="13:5" pos:end="13:12">VP8Frame</name> <modifier pos:start="13:14" pos:end="13:14">*</modifier></type><name pos:start="13:15" pos:end="13:23">av_uninit</name><argument_list pos:start="13:24" pos:end="13:33">(<argument pos:start="13:25" pos:end="13:32"><expr pos:start="13:25" pos:end="13:32"><name pos:start="13:25" pos:end="13:32">curframe</name></expr></argument>)</argument_list></decl>, <decl pos:start="13:36" pos:end="13:46"><type ref="prev" pos:start="13:5" pos:end="13:14"><modifier pos:start="13:36" pos:end="13:36">*</modifier></type><name pos:start="13:37" pos:end="13:46">prev_frame</name></decl>;</decl_stmt>



    <if_stmt pos:start="17:5" pos:end="19:17"><if pos:start="17:5" pos:end="19:17">if <condition pos:start="17:8" pos:end="17:69">(<expr pos:start="17:9" pos:end="17:68"><operator pos:start="17:9" pos:end="17:9">(</operator><name pos:start="17:10" pos:end="17:12">ret</name> <operator pos:start="17:14" pos:end="17:14">=</operator> <call pos:start="17:16" pos:end="17:63"><name pos:start="17:16" pos:end="17:34">decode_frame_header</name><argument_list pos:start="17:35" pos:end="17:63">(<argument pos:start="17:36" pos:end="17:36"><expr pos:start="17:36" pos:end="17:36"><name pos:start="17:36" pos:end="17:36">s</name></expr></argument>, <argument pos:start="17:39" pos:end="17:49"><expr pos:start="17:39" pos:end="17:49"><name pos:start="17:39" pos:end="17:49"><name pos:start="17:39" pos:end="17:43">avpkt</name><operator pos:start="17:44" pos:end="17:45">-&gt;</operator><name pos:start="17:46" pos:end="17:49">data</name></name></expr></argument>, <argument pos:start="17:52" pos:end="17:62"><expr pos:start="17:52" pos:end="17:62"><name pos:start="17:52" pos:end="17:62"><name pos:start="17:52" pos:end="17:56">avpkt</name><operator pos:start="17:57" pos:end="17:58">-&gt;</operator><name pos:start="17:59" pos:end="17:62">size</name></name></expr></argument>)</argument_list></call><operator pos:start="17:64" pos:end="17:64">)</operator> <operator pos:start="17:66" pos:end="17:66">&lt;</operator> <literal type="number" pos:start="17:68" pos:end="17:68">0</literal></expr>)</condition><block type="pseudo" pos:start="19:9" pos:end="19:17"><block_content pos:start="19:9" pos:end="19:17">

        <goto pos:start="19:9" pos:end="19:17">goto <name pos:start="19:14" pos:end="19:16">err</name>;</goto></block_content></block></if></if_stmt>



    <expr_stmt pos:start="23:5" pos:end="23:47"><expr pos:start="23:5" pos:end="23:46"><name pos:start="23:5" pos:end="23:14">prev_frame</name> <operator pos:start="23:16" pos:end="23:16">=</operator> <name pos:start="23:18" pos:end="23:46"><name pos:start="23:18" pos:end="23:18">s</name><operator pos:start="23:19" pos:end="23:20">-&gt;</operator><name pos:start="23:21" pos:end="23:26">framep</name><index pos:start="23:27" pos:end="23:46">[<expr pos:start="23:28" pos:end="23:45"><name pos:start="23:28" pos:end="23:45">VP56_FRAME_CURRENT</name></expr>]</index></name></expr>;</expr_stmt>



    <expr_stmt pos:start="27:5" pos:end="29:56"><expr pos:start="27:5" pos:end="29:55"><name pos:start="27:5" pos:end="27:14">referenced</name> <operator pos:start="27:16" pos:end="27:16">=</operator> <name pos:start="27:18" pos:end="27:31"><name pos:start="27:18" pos:end="27:18">s</name><operator pos:start="27:19" pos:end="27:20">-&gt;</operator><name pos:start="27:21" pos:end="27:31">update_last</name></name> <operator pos:start="27:33" pos:end="27:34">||</operator> <name pos:start="27:36" pos:end="27:51"><name pos:start="27:36" pos:end="27:36">s</name><operator pos:start="27:37" pos:end="27:38">-&gt;</operator><name pos:start="27:39" pos:end="27:51">update_golden</name></name> <operator pos:start="27:53" pos:end="27:54">==</operator> <name pos:start="27:56" pos:end="27:73">VP56_FRAME_CURRENT</name> <operator pos:start="27:75" pos:end="27:76">||</operator>

                 <name pos:start="29:18" pos:end="29:33"><name pos:start="29:18" pos:end="29:18">s</name><operator pos:start="29:19" pos:end="29:20">-&gt;</operator><name pos:start="29:21" pos:end="29:33">update_altref</name></name> <operator pos:start="29:35" pos:end="29:36">==</operator> <name pos:start="29:38" pos:end="29:55">VP56_FRAME_CURRENT</name></expr>;</expr_stmt>



    <expr_stmt pos:start="33:5" pos:end="37:61"><expr pos:start="33:5" pos:end="37:60"><name pos:start="33:5" pos:end="33:15">skip_thresh</name> <operator pos:start="33:17" pos:end="33:17">=</operator> <ternary pos:start="33:19" pos:end="37:60"><condition pos:start="33:19" pos:end="33:31"><expr pos:start="33:19" pos:end="33:29"><operator pos:start="33:19" pos:end="33:19">!</operator><name pos:start="33:20" pos:end="33:29">referenced</name></expr> ?</condition><then pos:start="33:33" pos:end="33:48"> <expr pos:start="33:33" pos:end="33:48"><name pos:start="33:33" pos:end="33:48">AVDISCARD_NONREF</name></expr>

                              </then><else pos:start="35:31" pos:end="37:60">: <expr pos:start="35:33" pos:end="37:60"><ternary pos:start="35:33" pos:end="37:60"><condition pos:start="35:33" pos:end="35:46"><expr pos:start="35:33" pos:end="35:44"><operator pos:start="35:33" pos:end="35:33">!</operator><name pos:start="35:34" pos:end="35:44"><name pos:start="35:34" pos:end="35:34">s</name><operator pos:start="35:35" pos:end="35:36">-&gt;</operator><name pos:start="35:37" pos:end="35:44">keyframe</name></name></expr> ?</condition><then pos:start="35:48" pos:end="35:63"> <expr pos:start="35:48" pos:end="35:63"><name pos:start="35:48" pos:end="35:63">AVDISCARD_NONKEY</name></expr>

                                             </then><else pos:start="37:46" pos:end="37:60">: <expr pos:start="37:48" pos:end="37:60"><name pos:start="37:48" pos:end="37:60">AVDISCARD_ALL</name></expr></else></ternary></expr></else></ternary></expr>;</expr_stmt>



    <if_stmt pos:start="41:5" pos:end="49:5"><if pos:start="41:5" pos:end="49:5">if <condition pos:start="41:8" pos:end="41:41">(<expr pos:start="41:9" pos:end="41:40"><name pos:start="41:9" pos:end="41:25"><name pos:start="41:9" pos:end="41:13">avctx</name><operator pos:start="41:14" pos:end="41:15">-&gt;</operator><name pos:start="41:16" pos:end="41:25">skip_frame</name></name> <operator pos:start="41:27" pos:end="41:28">&gt;=</operator> <name pos:start="41:30" pos:end="41:40">skip_thresh</name></expr>)</condition> <block pos:start="41:43" pos:end="49:5">{<block_content pos:start="43:9" pos:end="47:25">

        <expr_stmt pos:start="43:9" pos:end="43:25"><expr pos:start="43:9" pos:end="43:24"><name pos:start="43:9" pos:end="43:20"><name pos:start="43:9" pos:end="43:9">s</name><operator pos:start="43:10" pos:end="43:11">-&gt;</operator><name pos:start="43:12" pos:end="43:20">invisible</name></name> <operator pos:start="43:22" pos:end="43:22">=</operator> <literal type="number" pos:start="43:24" pos:end="43:24">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="45:9" pos:end="45:76"><expr pos:start="45:9" pos:end="45:75"><call pos:start="45:9" pos:end="45:75"><name pos:start="45:9" pos:end="45:14">memcpy</name><argument_list pos:start="45:15" pos:end="45:75">(<argument pos:start="45:16" pos:end="45:33"><expr pos:start="45:16" pos:end="45:33"><operator pos:start="45:16" pos:end="45:16">&amp;</operator><name pos:start="45:17" pos:end="45:33"><name pos:start="45:17" pos:end="45:17">s</name><operator pos:start="45:18" pos:end="45:19">-&gt;</operator><name pos:start="45:20" pos:end="45:30">next_framep</name><index pos:start="45:31" pos:end="45:33">[<expr pos:start="45:32" pos:end="45:32"><literal type="number" pos:start="45:32" pos:end="45:32">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="45:36" pos:end="45:48"><expr pos:start="45:36" pos:end="45:48"><operator pos:start="45:36" pos:end="45:36">&amp;</operator><name pos:start="45:37" pos:end="45:48"><name pos:start="45:37" pos:end="45:37">s</name><operator pos:start="45:38" pos:end="45:39">-&gt;</operator><name pos:start="45:40" pos:end="45:45">framep</name><index pos:start="45:46" pos:end="45:48">[<expr pos:start="45:47" pos:end="45:47"><literal type="number" pos:start="45:47" pos:end="45:47">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="45:51" pos:end="45:74"><expr pos:start="45:51" pos:end="45:74"><sizeof pos:start="45:51" pos:end="45:70">sizeof<argument_list pos:start="45:57" pos:end="45:70">(<argument pos:start="45:58" pos:end="45:69"><expr pos:start="45:58" pos:end="45:69"><name pos:start="45:58" pos:end="45:69"><name pos:start="45:58" pos:end="45:58">s</name><operator pos:start="45:59" pos:end="45:60">-&gt;</operator><name pos:start="45:61" pos:end="45:66">framep</name><index pos:start="45:67" pos:end="45:69">[<expr pos:start="45:68" pos:end="45:68"><literal type="number" pos:start="45:68" pos:end="45:68">0</literal></expr>]</index></name></expr></argument>)</argument_list></sizeof> <operator pos:start="45:72" pos:end="45:72">*</operator> <literal type="number" pos:start="45:74" pos:end="45:74">4</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <goto pos:start="47:9" pos:end="47:25">goto <name pos:start="47:14" pos:end="47:24">skip_decode</name>;</goto>

    </block_content>}</block></if></if_stmt>

    <expr_stmt pos:start="51:5" pos:end="51:81"><expr pos:start="51:5" pos:end="51:80"><name pos:start="51:5" pos:end="51:21"><name pos:start="51:5" pos:end="51:5">s</name><operator pos:start="51:6" pos:end="51:7">-&gt;</operator><name pos:start="51:8" pos:end="51:21">deblock_filter</name></name> <operator pos:start="51:23" pos:end="51:23">=</operator> <name pos:start="51:25" pos:end="51:39"><name pos:start="51:25" pos:end="51:25">s</name><operator pos:start="51:26" pos:end="51:27">-&gt;</operator><name pos:start="51:28" pos:end="51:33">filter</name><operator pos:start="51:34" pos:end="51:34">.</operator><name pos:start="51:35" pos:end="51:39">level</name></name> <operator pos:start="51:41" pos:end="51:42">&amp;&amp;</operator> <name pos:start="51:44" pos:end="51:66"><name pos:start="51:44" pos:end="51:48">avctx</name><operator pos:start="51:49" pos:end="51:50">-&gt;</operator><name pos:start="51:51" pos:end="51:66">skip_loop_filter</name></name> <operator pos:start="51:68" pos:end="51:68">&lt;</operator> <name pos:start="51:70" pos:end="51:80">skip_thresh</name></expr>;</expr_stmt>



    <comment type="line" pos:start="55:5" pos:end="55:42">// release no longer referenced frames</comment>

    <for pos:start="57:5" pos:end="69:48">for <control pos:start="57:9" pos:end="57:27">(<init pos:start="57:10" pos:end="57:15"><expr pos:start="57:10" pos:end="57:14"><name pos:start="57:10" pos:end="57:10">i</name> <operator pos:start="57:12" pos:end="57:12">=</operator> <literal type="number" pos:start="57:14" pos:end="57:14">0</literal></expr>;</init> <condition pos:start="57:17" pos:end="57:22"><expr pos:start="57:17" pos:end="57:21"><name pos:start="57:17" pos:end="57:17">i</name> <operator pos:start="57:19" pos:end="57:19">&lt;</operator> <literal type="number" pos:start="57:21" pos:end="57:21">5</literal></expr>;</condition> <incr pos:start="57:24" pos:end="57:26"><expr pos:start="57:24" pos:end="57:26"><name pos:start="57:24" pos:end="57:24">i</name><operator pos:start="57:25" pos:end="57:26">++</operator></expr></incr>)</control><block type="pseudo" pos:start="59:9" pos:end="69:48"><block_content pos:start="59:9" pos:end="69:48">

        <if_stmt pos:start="59:9" pos:end="69:48"><if pos:start="59:9" pos:end="69:48">if <condition pos:start="59:12" pos:end="67:59">(<expr pos:start="59:13" pos:end="67:58"><name pos:start="59:13" pos:end="59:24"><name pos:start="59:13" pos:end="59:13">s</name><operator pos:start="59:14" pos:end="59:15">-&gt;</operator><name pos:start="59:16" pos:end="59:21">frames</name><index pos:start="59:22" pos:end="59:24">[<expr pos:start="59:23" pos:end="59:23"><name pos:start="59:23" pos:end="59:23">i</name></expr>]</index></name><operator pos:start="59:25" pos:end="59:25">.</operator><name pos:start="59:26" pos:end="59:38"><name pos:start="59:26" pos:end="59:27">tf</name><operator pos:start="59:28" pos:end="59:28">.</operator><name pos:start="59:29" pos:end="59:29">f</name><operator pos:start="59:30" pos:end="59:31">-&gt;</operator><name pos:start="59:32" pos:end="59:35">data</name><index pos:start="59:36" pos:end="59:38">[<expr pos:start="59:37" pos:end="59:37"><literal type="number" pos:start="59:37" pos:end="59:37">0</literal></expr>]</index></name> <operator pos:start="59:40" pos:end="59:41">&amp;&amp;</operator>

            <operator pos:start="61:13" pos:end="61:13">&amp;</operator><name pos:start="61:14" pos:end="61:25"><name pos:start="61:14" pos:end="61:14">s</name><operator pos:start="61:15" pos:end="61:16">-&gt;</operator><name pos:start="61:17" pos:end="61:22">frames</name><index pos:start="61:23" pos:end="61:25">[<expr pos:start="61:24" pos:end="61:24"><name pos:start="61:24" pos:end="61:24">i</name></expr>]</index></name> <operator pos:start="61:27" pos:end="61:28">!=</operator> <name pos:start="61:30" pos:end="61:39">prev_frame</name> <operator pos:start="61:41" pos:end="61:42">&amp;&amp;</operator>

            <operator pos:start="63:13" pos:end="63:13">&amp;</operator><name pos:start="63:14" pos:end="63:25"><name pos:start="63:14" pos:end="63:14">s</name><operator pos:start="63:15" pos:end="63:16">-&gt;</operator><name pos:start="63:17" pos:end="63:22">frames</name><index pos:start="63:23" pos:end="63:25">[<expr pos:start="63:24" pos:end="63:24"><name pos:start="63:24" pos:end="63:24">i</name></expr>]</index></name> <operator pos:start="63:27" pos:end="63:28">!=</operator> <name pos:start="63:30" pos:end="63:59"><name pos:start="63:30" pos:end="63:30">s</name><operator pos:start="63:31" pos:end="63:32">-&gt;</operator><name pos:start="63:33" pos:end="63:38">framep</name><index pos:start="63:39" pos:end="63:59">[<expr pos:start="63:40" pos:end="63:58"><name pos:start="63:40" pos:end="63:58">VP56_FRAME_PREVIOUS</name></expr>]</index></name> <operator pos:start="63:61" pos:end="63:62">&amp;&amp;</operator>

            <operator pos:start="65:13" pos:end="65:13">&amp;</operator><name pos:start="65:14" pos:end="65:25"><name pos:start="65:14" pos:end="65:14">s</name><operator pos:start="65:15" pos:end="65:16">-&gt;</operator><name pos:start="65:17" pos:end="65:22">frames</name><index pos:start="65:23" pos:end="65:25">[<expr pos:start="65:24" pos:end="65:24"><name pos:start="65:24" pos:end="65:24">i</name></expr>]</index></name> <operator pos:start="65:27" pos:end="65:28">!=</operator> <name pos:start="65:30" pos:end="65:57"><name pos:start="65:30" pos:end="65:30">s</name><operator pos:start="65:31" pos:end="65:32">-&gt;</operator><name pos:start="65:33" pos:end="65:38">framep</name><index pos:start="65:39" pos:end="65:57">[<expr pos:start="65:40" pos:end="65:56"><name pos:start="65:40" pos:end="65:56">VP56_FRAME_GOLDEN</name></expr>]</index></name>   <operator pos:start="65:61" pos:end="65:62">&amp;&amp;</operator>

            <operator pos:start="67:13" pos:end="67:13">&amp;</operator><name pos:start="67:14" pos:end="67:25"><name pos:start="67:14" pos:end="67:14">s</name><operator pos:start="67:15" pos:end="67:16">-&gt;</operator><name pos:start="67:17" pos:end="67:22">frames</name><index pos:start="67:23" pos:end="67:25">[<expr pos:start="67:24" pos:end="67:24"><name pos:start="67:24" pos:end="67:24">i</name></expr>]</index></name> <operator pos:start="67:27" pos:end="67:28">!=</operator> <name pos:start="67:30" pos:end="67:58"><name pos:start="67:30" pos:end="67:30">s</name><operator pos:start="67:31" pos:end="67:32">-&gt;</operator><name pos:start="67:33" pos:end="67:38">framep</name><index pos:start="67:39" pos:end="67:58">[<expr pos:start="67:40" pos:end="67:57"><name pos:start="67:40" pos:end="67:57">VP56_FRAME_GOLDEN2</name></expr>]</index></name></expr>)</condition><block type="pseudo" pos:start="69:13" pos:end="69:48"><block_content pos:start="69:13" pos:end="69:48">

            <expr_stmt pos:start="69:13" pos:end="69:48"><expr pos:start="69:13" pos:end="69:47"><call pos:start="69:13" pos:end="69:47"><name pos:start="69:13" pos:end="69:29">vp8_release_frame</name><argument_list pos:start="69:30" pos:end="69:47">(<argument pos:start="69:31" pos:end="69:31"><expr pos:start="69:31" pos:end="69:31"><name pos:start="69:31" pos:end="69:31">s</name></expr></argument>, <argument pos:start="69:34" pos:end="69:46"><expr pos:start="69:34" pos:end="69:46"><operator pos:start="69:34" pos:end="69:34">&amp;</operator><name pos:start="69:35" pos:end="69:46"><name pos:start="69:35" pos:end="69:35">s</name><operator pos:start="69:36" pos:end="69:37">-&gt;</operator><name pos:start="69:38" pos:end="69:43">frames</name><index pos:start="69:44" pos:end="69:46">[<expr pos:start="69:45" pos:end="69:45"><name pos:start="69:45" pos:end="69:45">i</name></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt></block_content></block></for>



    <comment type="line" pos:start="73:5" pos:end="73:25">// find a free buffer</comment>

    <for pos:start="75:5" pos:end="89:9">for <control pos:start="75:9" pos:end="75:27">(<init pos:start="75:10" pos:end="75:15"><expr pos:start="75:10" pos:end="75:14"><name pos:start="75:10" pos:end="75:10">i</name> <operator pos:start="75:12" pos:end="75:12">=</operator> <literal type="number" pos:start="75:14" pos:end="75:14">0</literal></expr>;</init> <condition pos:start="75:17" pos:end="75:22"><expr pos:start="75:17" pos:end="75:21"><name pos:start="75:17" pos:end="75:17">i</name> <operator pos:start="75:19" pos:end="75:19">&lt;</operator> <literal type="number" pos:start="75:21" pos:end="75:21">5</literal></expr>;</condition> <incr pos:start="75:24" pos:end="75:26"><expr pos:start="75:24" pos:end="75:26"><name pos:start="75:24" pos:end="75:24">i</name><operator pos:start="75:25" pos:end="75:26">++</operator></expr></incr>)</control><block type="pseudo" pos:start="77:9" pos:end="89:9"><block_content pos:start="77:9" pos:end="89:9">

        <if_stmt pos:start="77:9" pos:end="89:9"><if pos:start="77:9" pos:end="89:9">if <condition pos:start="77:12" pos:end="83:59">(<expr pos:start="77:13" pos:end="83:58"><operator pos:start="77:13" pos:end="77:13">&amp;</operator><name pos:start="77:14" pos:end="77:25"><name pos:start="77:14" pos:end="77:14">s</name><operator pos:start="77:15" pos:end="77:16">-&gt;</operator><name pos:start="77:17" pos:end="77:22">frames</name><index pos:start="77:23" pos:end="77:25">[<expr pos:start="77:24" pos:end="77:24"><name pos:start="77:24" pos:end="77:24">i</name></expr>]</index></name> <operator pos:start="77:27" pos:end="77:28">!=</operator> <name pos:start="77:30" pos:end="77:39">prev_frame</name> <operator pos:start="77:41" pos:end="77:42">&amp;&amp;</operator>

            <operator pos:start="79:13" pos:end="79:13">&amp;</operator><name pos:start="79:14" pos:end="79:25"><name pos:start="79:14" pos:end="79:14">s</name><operator pos:start="79:15" pos:end="79:16">-&gt;</operator><name pos:start="79:17" pos:end="79:22">frames</name><index pos:start="79:23" pos:end="79:25">[<expr pos:start="79:24" pos:end="79:24"><name pos:start="79:24" pos:end="79:24">i</name></expr>]</index></name> <operator pos:start="79:27" pos:end="79:28">!=</operator> <name pos:start="79:30" pos:end="79:59"><name pos:start="79:30" pos:end="79:30">s</name><operator pos:start="79:31" pos:end="79:32">-&gt;</operator><name pos:start="79:33" pos:end="79:38">framep</name><index pos:start="79:39" pos:end="79:59">[<expr pos:start="79:40" pos:end="79:58"><name pos:start="79:40" pos:end="79:58">VP56_FRAME_PREVIOUS</name></expr>]</index></name> <operator pos:start="79:61" pos:end="79:62">&amp;&amp;</operator>

            <operator pos:start="81:13" pos:end="81:13">&amp;</operator><name pos:start="81:14" pos:end="81:25"><name pos:start="81:14" pos:end="81:14">s</name><operator pos:start="81:15" pos:end="81:16">-&gt;</operator><name pos:start="81:17" pos:end="81:22">frames</name><index pos:start="81:23" pos:end="81:25">[<expr pos:start="81:24" pos:end="81:24"><name pos:start="81:24" pos:end="81:24">i</name></expr>]</index></name> <operator pos:start="81:27" pos:end="81:28">!=</operator> <name pos:start="81:30" pos:end="81:57"><name pos:start="81:30" pos:end="81:30">s</name><operator pos:start="81:31" pos:end="81:32">-&gt;</operator><name pos:start="81:33" pos:end="81:38">framep</name><index pos:start="81:39" pos:end="81:57">[<expr pos:start="81:40" pos:end="81:56"><name pos:start="81:40" pos:end="81:56">VP56_FRAME_GOLDEN</name></expr>]</index></name>   <operator pos:start="81:61" pos:end="81:62">&amp;&amp;</operator>

            <operator pos:start="83:13" pos:end="83:13">&amp;</operator><name pos:start="83:14" pos:end="83:25"><name pos:start="83:14" pos:end="83:14">s</name><operator pos:start="83:15" pos:end="83:16">-&gt;</operator><name pos:start="83:17" pos:end="83:22">frames</name><index pos:start="83:23" pos:end="83:25">[<expr pos:start="83:24" pos:end="83:24"><name pos:start="83:24" pos:end="83:24">i</name></expr>]</index></name> <operator pos:start="83:27" pos:end="83:28">!=</operator> <name pos:start="83:30" pos:end="83:58"><name pos:start="83:30" pos:end="83:30">s</name><operator pos:start="83:31" pos:end="83:32">-&gt;</operator><name pos:start="83:33" pos:end="83:38">framep</name><index pos:start="83:39" pos:end="83:58">[<expr pos:start="83:40" pos:end="83:57"><name pos:start="83:40" pos:end="83:57">VP56_FRAME_GOLDEN2</name></expr>]</index></name></expr>)</condition> <block pos:start="83:61" pos:end="89:9">{<block_content pos:start="85:13" pos:end="87:18">

            <expr_stmt pos:start="85:13" pos:end="85:69"><expr pos:start="85:13" pos:end="85:68"><name pos:start="85:13" pos:end="85:20">curframe</name> <operator pos:start="85:22" pos:end="85:22">=</operator> <name pos:start="85:24" pos:end="85:52"><name pos:start="85:24" pos:end="85:24">s</name><operator pos:start="85:25" pos:end="85:26">-&gt;</operator><name pos:start="85:27" pos:end="85:32">framep</name><index pos:start="85:33" pos:end="85:52">[<expr pos:start="85:34" pos:end="85:51"><name pos:start="85:34" pos:end="85:51">VP56_FRAME_CURRENT</name></expr>]</index></name> <operator pos:start="85:54" pos:end="85:54">=</operator> <operator pos:start="85:56" pos:end="85:56">&amp;</operator><name pos:start="85:57" pos:end="85:68"><name pos:start="85:57" pos:end="85:57">s</name><operator pos:start="85:58" pos:end="85:59">-&gt;</operator><name pos:start="85:60" pos:end="85:65">frames</name><index pos:start="85:66" pos:end="85:68">[<expr pos:start="85:67" pos:end="85:67"><name pos:start="85:67" pos:end="85:67">i</name></expr>]</index></name></expr>;</expr_stmt>

            <break pos:start="87:13" pos:end="87:18">break;</break>

        </block_content>}</block></if></if_stmt></block_content></block></for>

    <if_stmt pos:start="91:5" pos:end="97:5"><if pos:start="91:5" pos:end="97:5">if <condition pos:start="91:8" pos:end="91:15">(<expr pos:start="91:9" pos:end="91:14"><name pos:start="91:9" pos:end="91:9">i</name> <operator pos:start="91:11" pos:end="91:12">==</operator> <literal type="number" pos:start="91:14" pos:end="91:14">5</literal></expr>)</condition> <block pos:start="91:17" pos:end="97:5">{<block_content pos:start="93:9" pos:end="95:16">

        <expr_stmt pos:start="93:9" pos:end="93:65"><expr pos:start="93:9" pos:end="93:64"><call pos:start="93:9" pos:end="93:64"><name pos:start="93:9" pos:end="93:14">av_log</name><argument_list pos:start="93:15" pos:end="93:64">(<argument pos:start="93:16" pos:end="93:20"><expr pos:start="93:16" pos:end="93:20"><name pos:start="93:16" pos:end="93:20">avctx</name></expr></argument>, <argument pos:start="93:23" pos:end="93:34"><expr pos:start="93:23" pos:end="93:34"><name pos:start="93:23" pos:end="93:34">AV_LOG_FATAL</name></expr></argument>, <argument pos:start="93:37" pos:end="93:63"><expr pos:start="93:37" pos:end="93:63"><literal type="string" pos:start="93:37" pos:end="93:63">"Ran out of free frames!\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="95:9" pos:end="95:16"><expr pos:start="95:9" pos:end="95:15"><call pos:start="95:9" pos:end="95:15"><name pos:start="95:9" pos:end="95:13">abort</name><argument_list pos:start="95:14" pos:end="95:15">()</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    <if_stmt pos:start="99:5" pos:end="101:39"><if pos:start="99:5" pos:end="101:39">if <condition pos:start="99:8" pos:end="99:32">(<expr pos:start="99:9" pos:end="99:31"><name pos:start="99:9" pos:end="99:31"><name pos:start="99:9" pos:end="99:16">curframe</name><operator pos:start="99:17" pos:end="99:18">-&gt;</operator><name pos:start="99:19" pos:end="99:20">tf</name><operator pos:start="99:21" pos:end="99:21">.</operator><name pos:start="99:22" pos:end="99:22">f</name><operator pos:start="99:23" pos:end="99:24">-&gt;</operator><name pos:start="99:25" pos:end="99:28">data</name><index pos:start="99:29" pos:end="99:31">[<expr pos:start="99:30" pos:end="99:30"><literal type="number" pos:start="99:30" pos:end="99:30">0</literal></expr>]</index></name></expr>)</condition><block type="pseudo" pos:start="101:9" pos:end="101:39"><block_content pos:start="101:9" pos:end="101:39">

        <expr_stmt pos:start="101:9" pos:end="101:39"><expr pos:start="101:9" pos:end="101:38"><call pos:start="101:9" pos:end="101:38"><name pos:start="101:9" pos:end="101:25">vp8_release_frame</name><argument_list pos:start="101:26" pos:end="101:38">(<argument pos:start="101:27" pos:end="101:27"><expr pos:start="101:27" pos:end="101:27"><name pos:start="101:27" pos:end="101:27">s</name></expr></argument>, <argument pos:start="101:30" pos:end="101:37"><expr pos:start="101:30" pos:end="101:37"><name pos:start="101:30" pos:end="101:37">curframe</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>



    <comment type="block" pos:start="105:5" pos:end="111:36">/* Given that arithmetic probabilities are updated every frame, it's quite

     * likely that the values we have on a random interframe are complete

     * junk if we didn't start decode on a keyframe. So just don't display

     * anything rather than junk. */</comment>

    <if_stmt pos:start="113:5" pos:end="127:5"><if pos:start="113:5" pos:end="127:5">if <condition pos:start="113:8" pos:end="117:57">(<expr pos:start="113:9" pos:end="117:56"><operator pos:start="113:9" pos:end="113:9">!</operator><name pos:start="113:10" pos:end="113:20"><name pos:start="113:10" pos:end="113:10">s</name><operator pos:start="113:11" pos:end="113:12">-&gt;</operator><name pos:start="113:13" pos:end="113:20">keyframe</name></name> <operator pos:start="113:22" pos:end="113:23">&amp;&amp;</operator> <operator pos:start="113:25" pos:end="113:25">(</operator><operator pos:start="113:26" pos:end="113:26">!</operator><name pos:start="113:27" pos:end="113:56"><name pos:start="113:27" pos:end="113:27">s</name><operator pos:start="113:28" pos:end="113:29">-&gt;</operator><name pos:start="113:30" pos:end="113:35">framep</name><index pos:start="113:36" pos:end="113:56">[<expr pos:start="113:37" pos:end="113:55"><name pos:start="113:37" pos:end="113:55">VP56_FRAME_PREVIOUS</name></expr>]</index></name> <operator pos:start="113:58" pos:end="113:59">||</operator>

                         <operator pos:start="115:26" pos:end="115:26">!</operator><name pos:start="115:27" pos:end="115:54"><name pos:start="115:27" pos:end="115:27">s</name><operator pos:start="115:28" pos:end="115:29">-&gt;</operator><name pos:start="115:30" pos:end="115:35">framep</name><index pos:start="115:36" pos:end="115:54">[<expr pos:start="115:37" pos:end="115:53"><name pos:start="115:37" pos:end="115:53">VP56_FRAME_GOLDEN</name></expr>]</index></name>   <operator pos:start="115:58" pos:end="115:59">||</operator>

                         <operator pos:start="117:26" pos:end="117:26">!</operator><name pos:start="117:27" pos:end="117:55"><name pos:start="117:27" pos:end="117:27">s</name><operator pos:start="117:28" pos:end="117:29">-&gt;</operator><name pos:start="117:30" pos:end="117:35">framep</name><index pos:start="117:36" pos:end="117:55">[<expr pos:start="117:37" pos:end="117:54"><name pos:start="117:37" pos:end="117:54">VP56_FRAME_GOLDEN2</name></expr>]</index></name><operator pos:start="117:56" pos:end="117:56">)</operator></expr>)</condition> <block pos:start="117:59" pos:end="127:5">{<block_content pos:start="119:9" pos:end="125:17">

        <expr_stmt pos:start="119:9" pos:end="121:68"><expr pos:start="119:9" pos:end="121:67"><call pos:start="119:9" pos:end="121:67"><name pos:start="119:9" pos:end="119:14">av_log</name><argument_list pos:start="119:15" pos:end="121:67">(<argument pos:start="119:16" pos:end="119:20"><expr pos:start="119:16" pos:end="119:20"><name pos:start="119:16" pos:end="119:20">avctx</name></expr></argument>, <argument pos:start="119:23" pos:end="119:36"><expr pos:start="119:23" pos:end="119:36"><name pos:start="119:23" pos:end="119:36">AV_LOG_WARNING</name></expr></argument>,

               <argument pos:start="121:16" pos:end="121:66"><expr pos:start="121:16" pos:end="121:66"><literal type="string" pos:start="121:16" pos:end="121:66">"Discarding interframe without a prior keyframe!\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="123:9" pos:end="123:34"><expr pos:start="123:9" pos:end="123:33"><name pos:start="123:9" pos:end="123:11">ret</name> <operator pos:start="123:13" pos:end="123:13">=</operator> <name pos:start="123:15" pos:end="123:33">AVERROR_INVALIDDATA</name></expr>;</expr_stmt>

        <goto pos:start="125:9" pos:end="125:17">goto <name pos:start="125:14" pos:end="125:16">err</name>;</goto>

    </block_content>}</block></if></if_stmt>



    <expr_stmt pos:start="131:5" pos:end="131:44"><expr pos:start="131:5" pos:end="131:43"><name pos:start="131:5" pos:end="131:29"><name pos:start="131:5" pos:end="131:12">curframe</name><operator pos:start="131:13" pos:end="131:14">-&gt;</operator><name pos:start="131:15" pos:end="131:16">tf</name><operator pos:start="131:17" pos:end="131:17">.</operator><name pos:start="131:18" pos:end="131:18">f</name><operator pos:start="131:19" pos:end="131:20">-&gt;</operator><name pos:start="131:21" pos:end="131:29">key_frame</name></name> <operator pos:start="131:31" pos:end="131:31">=</operator> <name pos:start="131:33" pos:end="131:43"><name pos:start="131:33" pos:end="131:33">s</name><operator pos:start="131:34" pos:end="131:35">-&gt;</operator><name pos:start="131:36" pos:end="131:43">keyframe</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="133:5" pos:end="135:64"><expr pos:start="133:5" pos:end="135:63"><name pos:start="133:5" pos:end="133:29"><name pos:start="133:5" pos:end="133:12">curframe</name><operator pos:start="133:13" pos:end="133:14">-&gt;</operator><name pos:start="133:15" pos:end="133:16">tf</name><operator pos:start="133:17" pos:end="133:17">.</operator><name pos:start="133:18" pos:end="133:18">f</name><operator pos:start="133:19" pos:end="133:20">-&gt;</operator><name pos:start="133:21" pos:end="133:29">pict_type</name></name> <operator pos:start="133:31" pos:end="133:31">=</operator> <ternary pos:start="133:33" pos:end="135:63"><condition pos:start="133:33" pos:end="133:45"><expr pos:start="133:33" pos:end="133:43"><name pos:start="133:33" pos:end="133:43"><name pos:start="133:33" pos:end="133:33">s</name><operator pos:start="133:34" pos:end="133:35">-&gt;</operator><name pos:start="133:36" pos:end="133:43">keyframe</name></name></expr> ?</condition><then pos:start="133:47" pos:end="133:63"> <expr pos:start="133:47" pos:end="133:63"><name pos:start="133:47" pos:end="133:63">AV_PICTURE_TYPE_I</name></expr>

                                            </then><else pos:start="135:45" pos:end="135:63">: <expr pos:start="135:47" pos:end="135:63"><name pos:start="135:47" pos:end="135:63">AV_PICTURE_TYPE_P</name></expr></else></ternary></expr>;</expr_stmt>

    <if_stmt pos:start="137:5" pos:end="143:5"><if pos:start="137:5" pos:end="143:5">if <condition pos:start="137:8" pos:end="137:57">(<expr pos:start="137:9" pos:end="137:56"><operator pos:start="137:9" pos:end="137:9">(</operator><name pos:start="137:10" pos:end="137:12">ret</name> <operator pos:start="137:14" pos:end="137:14">=</operator> <call pos:start="137:16" pos:end="137:55"><name pos:start="137:16" pos:end="137:30">vp8_alloc_frame</name><argument_list pos:start="137:31" pos:end="137:55">(<argument pos:start="137:32" pos:end="137:32"><expr pos:start="137:32" pos:end="137:32"><name pos:start="137:32" pos:end="137:32">s</name></expr></argument>, <argument pos:start="137:35" pos:end="137:42"><expr pos:start="137:35" pos:end="137:42"><name pos:start="137:35" pos:end="137:42">curframe</name></expr></argument>, <argument pos:start="137:45" pos:end="137:54"><expr pos:start="137:45" pos:end="137:54"><name pos:start="137:45" pos:end="137:54">referenced</name></expr></argument>)</argument_list></call><operator pos:start="137:56" pos:end="137:56">)</operator></expr>)</condition> <block pos:start="137:59" pos:end="143:5">{<block_content pos:start="139:9" pos:end="141:17">

        <expr_stmt pos:start="139:9" pos:end="139:62"><expr pos:start="139:9" pos:end="139:61"><call pos:start="139:9" pos:end="139:61"><name pos:start="139:9" pos:end="139:14">av_log</name><argument_list pos:start="139:15" pos:end="139:61">(<argument pos:start="139:16" pos:end="139:20"><expr pos:start="139:16" pos:end="139:20"><name pos:start="139:16" pos:end="139:20">avctx</name></expr></argument>, <argument pos:start="139:23" pos:end="139:34"><expr pos:start="139:23" pos:end="139:34"><name pos:start="139:23" pos:end="139:34">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="139:37" pos:end="139:60"><expr pos:start="139:37" pos:end="139:60"><literal type="string" pos:start="139:37" pos:end="139:60">"get_buffer() failed!\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <goto pos:start="141:9" pos:end="141:17">goto <name pos:start="141:14" pos:end="141:16">err</name>;</goto>

    </block_content>}</block></if></if_stmt>



    <comment type="line" pos:start="147:5" pos:end="147:45">// check if golden and altref are swapped</comment>

    <if_stmt pos:start="149:5" pos:end="155:75"><if pos:start="149:5" pos:end="151:73">if <condition pos:start="149:8" pos:end="149:44">(<expr pos:start="149:9" pos:end="149:43"><name pos:start="149:9" pos:end="149:24"><name pos:start="149:9" pos:end="149:9">s</name><operator pos:start="149:10" pos:end="149:11">-&gt;</operator><name pos:start="149:12" pos:end="149:24">update_altref</name></name> <operator pos:start="149:26" pos:end="149:27">!=</operator> <name pos:start="149:29" pos:end="149:43">VP56_FRAME_NONE</name></expr>)</condition><block type="pseudo" pos:start="151:9" pos:end="151:73"><block_content pos:start="151:9" pos:end="151:73">

        <expr_stmt pos:start="151:9" pos:end="151:73"><expr pos:start="151:9" pos:end="151:72"><name pos:start="151:9" pos:end="151:42"><name pos:start="151:9" pos:end="151:9">s</name><operator pos:start="151:10" pos:end="151:11">-&gt;</operator><name pos:start="151:12" pos:end="151:22">next_framep</name><index pos:start="151:23" pos:end="151:42">[<expr pos:start="151:24" pos:end="151:41"><name pos:start="151:24" pos:end="151:41">VP56_FRAME_GOLDEN2</name></expr>]</index></name> <operator pos:start="151:44" pos:end="151:44">=</operator> <name pos:start="151:46" pos:end="151:72"><name pos:start="151:46" pos:end="151:46">s</name><operator pos:start="151:47" pos:end="151:48">-&gt;</operator><name pos:start="151:49" pos:end="151:54">framep</name><index pos:start="151:55" pos:end="151:72">[<expr pos:start="151:56" pos:end="151:71"><name pos:start="151:56" pos:end="151:71"><name pos:start="151:56" pos:end="151:56">s</name><operator pos:start="151:57" pos:end="151:58">-&gt;</operator><name pos:start="151:59" pos:end="151:71">update_altref</name></name></expr>]</index></name></expr>;</expr_stmt></block_content></block></if>

    <else pos:start="153:5" pos:end="155:75">else<block type="pseudo" pos:start="155:9" pos:end="155:75"><block_content pos:start="155:9" pos:end="155:75">

        <expr_stmt pos:start="155:9" pos:end="155:75"><expr pos:start="155:9" pos:end="155:74"><name pos:start="155:9" pos:end="155:42"><name pos:start="155:9" pos:end="155:9">s</name><operator pos:start="155:10" pos:end="155:11">-&gt;</operator><name pos:start="155:12" pos:end="155:22">next_framep</name><index pos:start="155:23" pos:end="155:42">[<expr pos:start="155:24" pos:end="155:41"><name pos:start="155:24" pos:end="155:41">VP56_FRAME_GOLDEN2</name></expr>]</index></name> <operator pos:start="155:44" pos:end="155:44">=</operator> <name pos:start="155:46" pos:end="155:74"><name pos:start="155:46" pos:end="155:46">s</name><operator pos:start="155:47" pos:end="155:48">-&gt;</operator><name pos:start="155:49" pos:end="155:54">framep</name><index pos:start="155:55" pos:end="155:74">[<expr pos:start="155:56" pos:end="155:73"><name pos:start="155:56" pos:end="155:73">VP56_FRAME_GOLDEN2</name></expr>]</index></name></expr>;</expr_stmt></block_content></block></else></if_stmt>



    <if_stmt pos:start="159:5" pos:end="165:73"><if pos:start="159:5" pos:end="161:72">if <condition pos:start="159:8" pos:end="159:44">(<expr pos:start="159:9" pos:end="159:43"><name pos:start="159:9" pos:end="159:24"><name pos:start="159:9" pos:end="159:9">s</name><operator pos:start="159:10" pos:end="159:11">-&gt;</operator><name pos:start="159:12" pos:end="159:24">update_golden</name></name> <operator pos:start="159:26" pos:end="159:27">!=</operator> <name pos:start="159:29" pos:end="159:43">VP56_FRAME_NONE</name></expr>)</condition><block type="pseudo" pos:start="161:9" pos:end="161:72"><block_content pos:start="161:9" pos:end="161:72">

        <expr_stmt pos:start="161:9" pos:end="161:72"><expr pos:start="161:9" pos:end="161:71"><name pos:start="161:9" pos:end="161:41"><name pos:start="161:9" pos:end="161:9">s</name><operator pos:start="161:10" pos:end="161:11">-&gt;</operator><name pos:start="161:12" pos:end="161:22">next_framep</name><index pos:start="161:23" pos:end="161:41">[<expr pos:start="161:24" pos:end="161:40"><name pos:start="161:24" pos:end="161:40">VP56_FRAME_GOLDEN</name></expr>]</index></name> <operator pos:start="161:43" pos:end="161:43">=</operator> <name pos:start="161:45" pos:end="161:71"><name pos:start="161:45" pos:end="161:45">s</name><operator pos:start="161:46" pos:end="161:47">-&gt;</operator><name pos:start="161:48" pos:end="161:53">framep</name><index pos:start="161:54" pos:end="161:71">[<expr pos:start="161:55" pos:end="161:70"><name pos:start="161:55" pos:end="161:70"><name pos:start="161:55" pos:end="161:55">s</name><operator pos:start="161:56" pos:end="161:57">-&gt;</operator><name pos:start="161:58" pos:end="161:70">update_golden</name></name></expr>]</index></name></expr>;</expr_stmt></block_content></block></if>

    <else pos:start="163:5" pos:end="165:73">else<block type="pseudo" pos:start="165:9" pos:end="165:73"><block_content pos:start="165:9" pos:end="165:73">

        <expr_stmt pos:start="165:9" pos:end="165:73"><expr pos:start="165:9" pos:end="165:72"><name pos:start="165:9" pos:end="165:41"><name pos:start="165:9" pos:end="165:9">s</name><operator pos:start="165:10" pos:end="165:11">-&gt;</operator><name pos:start="165:12" pos:end="165:22">next_framep</name><index pos:start="165:23" pos:end="165:41">[<expr pos:start="165:24" pos:end="165:40"><name pos:start="165:24" pos:end="165:40">VP56_FRAME_GOLDEN</name></expr>]</index></name> <operator pos:start="165:43" pos:end="165:43">=</operator> <name pos:start="165:45" pos:end="165:72"><name pos:start="165:45" pos:end="165:45">s</name><operator pos:start="165:46" pos:end="165:47">-&gt;</operator><name pos:start="165:48" pos:end="165:53">framep</name><index pos:start="165:54" pos:end="165:72">[<expr pos:start="165:55" pos:end="165:71"><name pos:start="165:55" pos:end="165:71">VP56_FRAME_GOLDEN</name></expr>]</index></name></expr>;</expr_stmt></block_content></block></else></if_stmt>



    <if_stmt pos:start="169:5" pos:end="175:77"><if pos:start="169:5" pos:end="171:55">if <condition pos:start="169:8" pos:end="169:23">(<expr pos:start="169:9" pos:end="169:22"><name pos:start="169:9" pos:end="169:22"><name pos:start="169:9" pos:end="169:9">s</name><operator pos:start="169:10" pos:end="169:11">-&gt;</operator><name pos:start="169:12" pos:end="169:22">update_last</name></name></expr>)</condition><block type="pseudo" pos:start="171:9" pos:end="171:55"><block_content pos:start="171:9" pos:end="171:55">

        <expr_stmt pos:start="171:9" pos:end="171:55"><expr pos:start="171:9" pos:end="171:54"><name pos:start="171:9" pos:end="171:43"><name pos:start="171:9" pos:end="171:9">s</name><operator pos:start="171:10" pos:end="171:11">-&gt;</operator><name pos:start="171:12" pos:end="171:22">next_framep</name><index pos:start="171:23" pos:end="171:43">[<expr pos:start="171:24" pos:end="171:42"><name pos:start="171:24" pos:end="171:42">VP56_FRAME_PREVIOUS</name></expr>]</index></name> <operator pos:start="171:45" pos:end="171:45">=</operator> <name pos:start="171:47" pos:end="171:54">curframe</name></expr>;</expr_stmt></block_content></block></if>

    <else pos:start="173:5" pos:end="175:77">else<block type="pseudo" pos:start="175:9" pos:end="175:77"><block_content pos:start="175:9" pos:end="175:77">

        <expr_stmt pos:start="175:9" pos:end="175:77"><expr pos:start="175:9" pos:end="175:76"><name pos:start="175:9" pos:end="175:43"><name pos:start="175:9" pos:end="175:9">s</name><operator pos:start="175:10" pos:end="175:11">-&gt;</operator><name pos:start="175:12" pos:end="175:22">next_framep</name><index pos:start="175:23" pos:end="175:43">[<expr pos:start="175:24" pos:end="175:42"><name pos:start="175:24" pos:end="175:42">VP56_FRAME_PREVIOUS</name></expr>]</index></name> <operator pos:start="175:45" pos:end="175:45">=</operator> <name pos:start="175:47" pos:end="175:76"><name pos:start="175:47" pos:end="175:47">s</name><operator pos:start="175:48" pos:end="175:49">-&gt;</operator><name pos:start="175:50" pos:end="175:55">framep</name><index pos:start="175:56" pos:end="175:76">[<expr pos:start="175:57" pos:end="175:75"><name pos:start="175:57" pos:end="175:75">VP56_FRAME_PREVIOUS</name></expr>]</index></name></expr>;</expr_stmt></block_content></block></else></if_stmt>



    <expr_stmt pos:start="179:5" pos:end="179:50"><expr pos:start="179:5" pos:end="179:49"><name pos:start="179:5" pos:end="179:38"><name pos:start="179:5" pos:end="179:5">s</name><operator pos:start="179:6" pos:end="179:7">-&gt;</operator><name pos:start="179:8" pos:end="179:18">next_framep</name><index pos:start="179:19" pos:end="179:38">[<expr pos:start="179:20" pos:end="179:37"><name pos:start="179:20" pos:end="179:37">VP56_FRAME_CURRENT</name></expr>]</index></name> <operator pos:start="179:40" pos:end="179:40">=</operator> <name pos:start="179:42" pos:end="179:49">curframe</name></expr>;</expr_stmt>



    <expr_stmt pos:start="183:5" pos:end="183:34"><expr pos:start="183:5" pos:end="183:33"><call pos:start="183:5" pos:end="183:33"><name pos:start="183:5" pos:end="183:26">ff_thread_finish_setup</name><argument_list pos:start="183:27" pos:end="183:33">(<argument pos:start="183:28" pos:end="183:32"><expr pos:start="183:28" pos:end="183:32"><name pos:start="183:28" pos:end="183:32">avctx</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="187:5" pos:end="187:48"><expr pos:start="187:5" pos:end="187:47"><name pos:start="187:5" pos:end="187:15"><name pos:start="187:5" pos:end="187:5">s</name><operator pos:start="187:6" pos:end="187:7">-&gt;</operator><name pos:start="187:8" pos:end="187:15">linesize</name></name>   <operator pos:start="187:19" pos:end="187:19">=</operator> <name pos:start="187:21" pos:end="187:47"><name pos:start="187:21" pos:end="187:28">curframe</name><operator pos:start="187:29" pos:end="187:30">-&gt;</operator><name pos:start="187:31" pos:end="187:32">tf</name><operator pos:start="187:33" pos:end="187:33">.</operator><name pos:start="187:34" pos:end="187:34">f</name><operator pos:start="187:35" pos:end="187:36">-&gt;</operator><name pos:start="187:37" pos:end="187:44">linesize</name><index pos:start="187:45" pos:end="187:47">[<expr pos:start="187:46" pos:end="187:46"><literal type="number" pos:start="187:46" pos:end="187:46">0</literal></expr>]</index></name></expr>;</expr_stmt>

    <expr_stmt pos:start="189:5" pos:end="189:48"><expr pos:start="189:5" pos:end="189:47"><name pos:start="189:5" pos:end="189:17"><name pos:start="189:5" pos:end="189:5">s</name><operator pos:start="189:6" pos:end="189:7">-&gt;</operator><name pos:start="189:8" pos:end="189:17">uvlinesize</name></name> <operator pos:start="189:19" pos:end="189:19">=</operator> <name pos:start="189:21" pos:end="189:47"><name pos:start="189:21" pos:end="189:28">curframe</name><operator pos:start="189:29" pos:end="189:30">-&gt;</operator><name pos:start="189:31" pos:end="189:32">tf</name><operator pos:start="189:33" pos:end="189:33">.</operator><name pos:start="189:34" pos:end="189:34">f</name><operator pos:start="189:35" pos:end="189:36">-&gt;</operator><name pos:start="189:37" pos:end="189:44">linesize</name><index pos:start="189:45" pos:end="189:47">[<expr pos:start="189:46" pos:end="189:46"><literal type="number" pos:start="189:46" pos:end="189:46">1</literal></expr>]</index></name></expr>;</expr_stmt>



    <expr_stmt pos:start="193:5" pos:end="193:61"><expr pos:start="193:5" pos:end="193:60"><call pos:start="193:5" pos:end="193:60"><name pos:start="193:5" pos:end="193:10">memset</name><argument_list pos:start="193:11" pos:end="193:60">(<argument pos:start="193:12" pos:end="193:21"><expr pos:start="193:12" pos:end="193:21"><name pos:start="193:12" pos:end="193:21"><name pos:start="193:12" pos:end="193:12">s</name><operator pos:start="193:13" pos:end="193:14">-&gt;</operator><name pos:start="193:15" pos:end="193:21">top_nnz</name></name></expr></argument>, <argument pos:start="193:24" pos:end="193:24"><expr pos:start="193:24" pos:end="193:24"><literal type="number" pos:start="193:24" pos:end="193:24">0</literal></expr></argument>, <argument pos:start="193:27" pos:end="193:59"><expr pos:start="193:27" pos:end="193:59"><name pos:start="193:27" pos:end="193:37"><name pos:start="193:27" pos:end="193:27">s</name><operator pos:start="193:28" pos:end="193:29">-&gt;</operator><name pos:start="193:30" pos:end="193:37">mb_width</name></name> <operator pos:start="193:39" pos:end="193:39">*</operator> <sizeof pos:start="193:41" pos:end="193:59">sizeof<argument_list pos:start="193:47" pos:end="193:59">(<argument pos:start="193:48" pos:end="193:58"><expr pos:start="193:48" pos:end="193:58"><operator pos:start="193:48" pos:end="193:48">*</operator><name pos:start="193:49" pos:end="193:58"><name pos:start="193:49" pos:end="193:49">s</name><operator pos:start="193:50" pos:end="193:51">-&gt;</operator><name pos:start="193:52" pos:end="193:58">top_nnz</name></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <comment type="block" pos:start="195:5" pos:end="197:33">/* Zero macroblock structures for top/top-left prediction

     * from outside the frame. */</comment>

    <if_stmt pos:start="199:5" pos:end="203:60"><if pos:start="199:5" pos:end="203:60">if <condition pos:start="199:8" pos:end="199:22">(<expr pos:start="199:9" pos:end="199:21"><operator pos:start="199:9" pos:end="199:9">!</operator><name pos:start="199:10" pos:end="199:21"><name pos:start="199:10" pos:end="199:10">s</name><operator pos:start="199:11" pos:end="199:12">-&gt;</operator><name pos:start="199:13" pos:end="199:21">mb_layout</name></name></expr>)</condition><block type="pseudo" pos:start="201:9" pos:end="203:60"><block_content pos:start="201:9" pos:end="203:60">

        <expr_stmt pos:start="201:9" pos:end="203:60"><expr pos:start="201:9" pos:end="203:59"><call pos:start="201:9" pos:end="203:59"><name pos:start="201:9" pos:end="201:14">memset</name><argument_list pos:start="201:15" pos:end="203:59">(<argument pos:start="201:16" pos:end="201:52"><expr pos:start="201:16" pos:end="201:52"><name pos:start="201:16" pos:end="201:29"><name pos:start="201:16" pos:end="201:16">s</name><operator pos:start="201:17" pos:end="201:18">-&gt;</operator><name pos:start="201:19" pos:end="201:29">macroblocks</name></name> <operator pos:start="201:31" pos:end="201:31">+</operator> <name pos:start="201:33" pos:end="201:44"><name pos:start="201:33" pos:end="201:33">s</name><operator pos:start="201:34" pos:end="201:35">-&gt;</operator><name pos:start="201:36" pos:end="201:44">mb_height</name></name> <operator pos:start="201:46" pos:end="201:46">*</operator> <literal type="number" pos:start="201:48" pos:end="201:50">2</literal> <operator pos:start="201:50" pos:end="201:50">-</operator> <literal type="number" pos:start="201:52" pos:end="201:52">1</literal></expr></argument>, <argument pos:start="201:55" pos:end="201:55"><expr pos:start="201:55" pos:end="201:55"><literal type="number" pos:start="201:55" pos:end="201:55">0</literal></expr></argument>,

               <argument pos:start="203:16" pos:end="203:58"><expr pos:start="203:16" pos:end="203:58"><operator pos:start="203:16" pos:end="203:16">(</operator><name pos:start="203:17" pos:end="203:27"><name pos:start="203:17" pos:end="203:17">s</name><operator pos:start="203:18" pos:end="203:19">-&gt;</operator><name pos:start="203:20" pos:end="203:27">mb_width</name></name> <operator pos:start="203:29" pos:end="203:29">+</operator> <literal type="number" pos:start="203:31" pos:end="203:31">1</literal><operator pos:start="203:32" pos:end="203:32">)</operator> <operator pos:start="203:34" pos:end="203:34">*</operator> <sizeof pos:start="203:36" pos:end="203:58">sizeof<argument_list pos:start="203:42" pos:end="203:58">(<argument pos:start="203:43" pos:end="203:57"><expr pos:start="203:43" pos:end="203:57"><operator pos:start="203:43" pos:end="203:43">*</operator><name pos:start="203:44" pos:end="203:57"><name pos:start="203:44" pos:end="203:44">s</name><operator pos:start="203:45" pos:end="203:46">-&gt;</operator><name pos:start="203:47" pos:end="203:57">macroblocks</name></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

    <if_stmt pos:start="205:5" pos:end="207:68"><if pos:start="205:5" pos:end="207:68">if <condition pos:start="205:8" pos:end="205:37">(<expr pos:start="205:9" pos:end="205:36"><operator pos:start="205:9" pos:end="205:9">!</operator><name pos:start="205:10" pos:end="205:21"><name pos:start="205:10" pos:end="205:10">s</name><operator pos:start="205:11" pos:end="205:12">-&gt;</operator><name pos:start="205:13" pos:end="205:21">mb_layout</name></name> <operator pos:start="205:23" pos:end="205:24">&amp;&amp;</operator> <name pos:start="205:26" pos:end="205:36"><name pos:start="205:26" pos:end="205:26">s</name><operator pos:start="205:27" pos:end="205:28">-&gt;</operator><name pos:start="205:29" pos:end="205:36">keyframe</name></name></expr>)</condition><block type="pseudo" pos:start="207:9" pos:end="207:68"><block_content pos:start="207:9" pos:end="207:68">

        <expr_stmt pos:start="207:9" pos:end="207:68"><expr pos:start="207:9" pos:end="207:67"><call pos:start="207:9" pos:end="207:67"><name pos:start="207:9" pos:end="207:14">memset</name><argument_list pos:start="207:15" pos:end="207:67">(<argument pos:start="207:16" pos:end="207:40"><expr pos:start="207:16" pos:end="207:40"><name pos:start="207:16" pos:end="207:40"><name pos:start="207:16" pos:end="207:16">s</name><operator pos:start="207:17" pos:end="207:18">-&gt;</operator><name pos:start="207:19" pos:end="207:40">intra4x4_pred_mode_top</name></name></expr></argument>, <argument pos:start="207:43" pos:end="207:49"><expr pos:start="207:43" pos:end="207:49"><name pos:start="207:43" pos:end="207:49">DC_PRED</name></expr></argument>, <argument pos:start="207:52" pos:end="207:66"><expr pos:start="207:52" pos:end="207:66"><name pos:start="207:52" pos:end="207:62"><name pos:start="207:52" pos:end="207:52">s</name><operator pos:start="207:53" pos:end="207:54">-&gt;</operator><name pos:start="207:55" pos:end="207:62">mb_width</name></name> <operator pos:start="207:64" pos:end="207:64">*</operator> <literal type="number" pos:start="207:66" pos:end="207:66">4</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>



    <expr_stmt pos:start="211:5" pos:end="211:50"><expr pos:start="211:5" pos:end="211:49"><call pos:start="211:5" pos:end="211:49"><name pos:start="211:5" pos:end="211:10">memset</name><argument_list pos:start="211:11" pos:end="211:49">(<argument pos:start="211:12" pos:end="211:23"><expr pos:start="211:12" pos:end="211:23"><name pos:start="211:12" pos:end="211:23"><name pos:start="211:12" pos:end="211:12">s</name><operator pos:start="211:13" pos:end="211:14">-&gt;</operator><name pos:start="211:15" pos:end="211:23">ref_count</name></name></expr></argument>, <argument pos:start="211:26" pos:end="211:26"><expr pos:start="211:26" pos:end="211:26"><literal type="number" pos:start="211:26" pos:end="211:26">0</literal></expr></argument>, <argument pos:start="211:29" pos:end="211:48"><expr pos:start="211:29" pos:end="211:48"><sizeof pos:start="211:29" pos:end="211:48">sizeof<argument_list pos:start="211:35" pos:end="211:48">(<argument pos:start="211:36" pos:end="211:47"><expr pos:start="211:36" pos:end="211:47"><name pos:start="211:36" pos:end="211:47"><name pos:start="211:36" pos:end="211:36">s</name><operator pos:start="211:37" pos:end="211:38">-&gt;</operator><name pos:start="211:39" pos:end="211:47">ref_count</name></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <if_stmt pos:start="215:5" pos:end="229:5"><if pos:start="215:5" pos:end="229:5">if <condition pos:start="215:8" pos:end="215:26">(<expr pos:start="215:9" pos:end="215:25"><name pos:start="215:9" pos:end="215:20"><name pos:start="215:9" pos:end="215:9">s</name><operator pos:start="215:10" pos:end="215:11">-&gt;</operator><name pos:start="215:12" pos:end="215:20">mb_layout</name></name> <operator pos:start="215:22" pos:end="215:23">==</operator> <literal type="number" pos:start="215:25" pos:end="215:25">1</literal></expr>)</condition> <block pos:start="215:28" pos:end="229:5">{<block_content pos:start="221:9" pos:end="227:60">

        <comment type="line" pos:start="217:9" pos:end="217:70">// Make sure the previous frame has read its segmentation map,</comment>

        <comment type="line" pos:start="219:9" pos:end="219:37">// if we re-use the same map.</comment>

        <if_stmt pos:start="221:9" pos:end="225:60"><if pos:start="221:9" pos:end="225:60">if <condition pos:start="221:12" pos:end="223:40">(<expr pos:start="221:13" pos:end="223:39"><name pos:start="221:13" pos:end="221:22">prev_frame</name> <operator pos:start="221:24" pos:end="221:25">&amp;&amp;</operator> <name pos:start="221:27" pos:end="221:49"><name pos:start="221:27" pos:end="221:27">s</name><operator pos:start="221:28" pos:end="221:29">-&gt;</operator><name pos:start="221:30" pos:end="221:41">segmentation</name><operator pos:start="221:42" pos:end="221:42">.</operator><name pos:start="221:43" pos:end="221:49">enabled</name></name> <operator pos:start="221:51" pos:end="221:52">&amp;&amp;</operator>

            <operator pos:start="223:13" pos:end="223:13">!</operator><name pos:start="223:14" pos:end="223:39"><name pos:start="223:14" pos:end="223:14">s</name><operator pos:start="223:15" pos:end="223:16">-&gt;</operator><name pos:start="223:17" pos:end="223:28">segmentation</name><operator pos:start="223:29" pos:end="223:29">.</operator><name pos:start="223:30" pos:end="223:39">update_map</name></name></expr>)</condition><block type="pseudo" pos:start="225:13" pos:end="225:60"><block_content pos:start="225:13" pos:end="225:60">

            <expr_stmt pos:start="225:13" pos:end="225:60"><expr pos:start="225:13" pos:end="225:59"><call pos:start="225:13" pos:end="225:59"><name pos:start="225:13" pos:end="225:36">ff_thread_await_progress</name><argument_list pos:start="225:37" pos:end="225:59">(<argument pos:start="225:38" pos:end="225:52"><expr pos:start="225:38" pos:end="225:52"><operator pos:start="225:38" pos:end="225:38">&amp;</operator><name pos:start="225:39" pos:end="225:52"><name pos:start="225:39" pos:end="225:48">prev_frame</name><operator pos:start="225:49" pos:end="225:50">-&gt;</operator><name pos:start="225:51" pos:end="225:52">tf</name></name></expr></argument>, <argument pos:start="225:55" pos:end="225:55"><expr pos:start="225:55" pos:end="225:55"><literal type="number" pos:start="225:55" pos:end="225:55">1</literal></expr></argument>, <argument pos:start="225:58" pos:end="225:58"><expr pos:start="225:58" pos:end="225:58"><literal type="number" pos:start="225:58" pos:end="225:58">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

        <expr_stmt pos:start="227:9" pos:end="227:60"><expr pos:start="227:9" pos:end="227:59"><call pos:start="227:9" pos:end="227:59"><name pos:start="227:9" pos:end="227:30">vp8_decode_mv_mb_modes</name><argument_list pos:start="227:31" pos:end="227:59">(<argument pos:start="227:32" pos:end="227:36"><expr pos:start="227:32" pos:end="227:36"><name pos:start="227:32" pos:end="227:36">avctx</name></expr></argument>, <argument pos:start="227:39" pos:end="227:46"><expr pos:start="227:39" pos:end="227:46"><name pos:start="227:39" pos:end="227:46">curframe</name></expr></argument>, <argument pos:start="227:49" pos:end="227:58"><expr pos:start="227:49" pos:end="227:58"><name pos:start="227:49" pos:end="227:58">prev_frame</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="233:5" pos:end="239:71"><if pos:start="233:5" pos:end="235:21">if <condition pos:start="233:8" pos:end="233:53">(<expr pos:start="233:9" pos:end="233:52"><name pos:start="233:9" pos:end="233:33"><name pos:start="233:9" pos:end="233:13">avctx</name><operator pos:start="233:14" pos:end="233:15">-&gt;</operator><name pos:start="233:16" pos:end="233:33">active_thread_type</name></name> <operator pos:start="233:35" pos:end="233:36">==</operator> <name pos:start="233:38" pos:end="233:52">FF_THREAD_FRAME</name></expr>)</condition><block type="pseudo" pos:start="235:9" pos:end="235:21"><block_content pos:start="235:9" pos:end="235:21">

        <expr_stmt pos:start="235:9" pos:end="235:21"><expr pos:start="235:9" pos:end="235:20"><name pos:start="235:9" pos:end="235:16">num_jobs</name> <operator pos:start="235:18" pos:end="235:18">=</operator> <literal type="number" pos:start="235:20" pos:end="235:20">1</literal></expr>;</expr_stmt></block_content></block></if>

    <else pos:start="237:5" pos:end="239:71">else<block type="pseudo" pos:start="239:9" pos:end="239:71"><block_content pos:start="239:9" pos:end="239:71">

        <expr_stmt pos:start="239:9" pos:end="239:71"><expr pos:start="239:9" pos:end="239:70"><name pos:start="239:9" pos:end="239:16">num_jobs</name> <operator pos:start="239:18" pos:end="239:18">=</operator> <call pos:start="239:20" pos:end="239:70"><name pos:start="239:20" pos:end="239:24">FFMIN</name><argument_list pos:start="239:25" pos:end="239:70">(<argument pos:start="239:26" pos:end="239:48"><expr pos:start="239:26" pos:end="239:48"><name pos:start="239:26" pos:end="239:48"><name pos:start="239:26" pos:end="239:26">s</name><operator pos:start="239:27" pos:end="239:28">-&gt;</operator><name pos:start="239:29" pos:end="239:48">num_coeff_partitions</name></name></expr></argument>, <argument pos:start="239:51" pos:end="239:69"><expr pos:start="239:51" pos:end="239:69"><name pos:start="239:51" pos:end="239:69"><name pos:start="239:51" pos:end="239:55">avctx</name><operator pos:start="239:56" pos:end="239:57">-&gt;</operator><name pos:start="239:58" pos:end="239:69">thread_count</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></else></if_stmt>

    <expr_stmt pos:start="241:5" pos:end="241:29"><expr pos:start="241:5" pos:end="241:28"><name pos:start="241:5" pos:end="241:15"><name pos:start="241:5" pos:end="241:5">s</name><operator pos:start="241:6" pos:end="241:7">-&gt;</operator><name pos:start="241:8" pos:end="241:15">num_jobs</name></name>   <operator pos:start="241:19" pos:end="241:19">=</operator> <name pos:start="241:21" pos:end="241:28">num_jobs</name></expr>;</expr_stmt>

    <expr_stmt pos:start="243:5" pos:end="243:29"><expr pos:start="243:5" pos:end="243:28"><name pos:start="243:5" pos:end="243:15"><name pos:start="243:5" pos:end="243:5">s</name><operator pos:start="243:6" pos:end="243:7">-&gt;</operator><name pos:start="243:8" pos:end="243:15">curframe</name></name>   <operator pos:start="243:19" pos:end="243:19">=</operator> <name pos:start="243:21" pos:end="243:28">curframe</name></expr>;</expr_stmt>

    <expr_stmt pos:start="245:5" pos:end="245:31"><expr pos:start="245:5" pos:end="245:30"><name pos:start="245:5" pos:end="245:17"><name pos:start="245:5" pos:end="245:5">s</name><operator pos:start="245:6" pos:end="245:7">-&gt;</operator><name pos:start="245:8" pos:end="245:17">prev_frame</name></name> <operator pos:start="245:19" pos:end="245:19">=</operator> <name pos:start="245:21" pos:end="245:30">prev_frame</name></expr>;</expr_stmt>

    <expr_stmt pos:start="247:5" pos:end="247:28"><expr pos:start="247:5" pos:end="247:27"><name pos:start="247:5" pos:end="247:15"><name pos:start="247:5" pos:end="247:5">s</name><operator pos:start="247:6" pos:end="247:7">-&gt;</operator><name pos:start="247:8" pos:end="247:13">mv_min</name><operator pos:start="247:14" pos:end="247:14">.</operator><name pos:start="247:15" pos:end="247:15">y</name></name>   <operator pos:start="247:19" pos:end="247:19">=</operator> <operator pos:start="247:21" pos:end="247:21">-</operator><name pos:start="247:22" pos:end="247:27">MARGIN</name></expr>;</expr_stmt>

    <expr_stmt pos:start="249:5" pos:end="249:55"><expr pos:start="249:5" pos:end="249:54"><name pos:start="249:5" pos:end="249:15"><name pos:start="249:5" pos:end="249:5">s</name><operator pos:start="249:6" pos:end="249:7">-&gt;</operator><name pos:start="249:8" pos:end="249:13">mv_max</name><operator pos:start="249:14" pos:end="249:14">.</operator><name pos:start="249:15" pos:end="249:15">y</name></name>   <operator pos:start="249:19" pos:end="249:19">=</operator> <operator pos:start="249:21" pos:end="249:21">(</operator><operator pos:start="249:22" pos:end="249:22">(</operator><name pos:start="249:23" pos:end="249:34"><name pos:start="249:23" pos:end="249:23">s</name><operator pos:start="249:24" pos:end="249:25">-&gt;</operator><name pos:start="249:26" pos:end="249:34">mb_height</name></name> <operator pos:start="249:36" pos:end="249:36">-</operator> <literal type="number" pos:start="249:38" pos:end="249:38">1</literal><operator pos:start="249:39" pos:end="249:39">)</operator> <operator pos:start="249:41" pos:end="249:42">&lt;&lt;</operator> <literal type="number" pos:start="249:44" pos:end="249:44">6</literal><operator pos:start="249:45" pos:end="249:45">)</operator> <operator pos:start="249:47" pos:end="249:47">+</operator> <name pos:start="249:49" pos:end="249:54">MARGIN</name></expr>;</expr_stmt>

    <for pos:start="251:5" pos:end="257:5">for <control pos:start="251:9" pos:end="251:37">(<init pos:start="251:10" pos:end="251:15"><expr pos:start="251:10" pos:end="251:14"><name pos:start="251:10" pos:end="251:10">i</name> <operator pos:start="251:12" pos:end="251:12">=</operator> <literal type="number" pos:start="251:14" pos:end="251:14">0</literal></expr>;</init> <condition pos:start="251:17" pos:end="251:32"><expr pos:start="251:17" pos:end="251:31"><name pos:start="251:17" pos:end="251:17">i</name> <operator pos:start="251:19" pos:end="251:19">&lt;</operator> <name pos:start="251:21" pos:end="251:31">MAX_THREADS</name></expr>;</condition> <incr pos:start="251:34" pos:end="251:36"><expr pos:start="251:34" pos:end="251:36"><name pos:start="251:34" pos:end="251:34">i</name><operator pos:start="251:35" pos:end="251:36">++</operator></expr></incr>)</control> <block pos:start="251:39" pos:end="257:5">{<block_content pos:start="253:9" pos:end="255:50">

        <expr_stmt pos:start="253:9" pos:end="253:44"><expr pos:start="253:9" pos:end="253:43"><name pos:start="253:9" pos:end="253:25"><name pos:start="253:9" pos:end="253:9">s</name><operator pos:start="253:10" pos:end="253:11">-&gt;</operator><name pos:start="253:12" pos:end="253:22">thread_data</name><index pos:start="253:23" pos:end="253:25">[<expr pos:start="253:24" pos:end="253:24"><name pos:start="253:24" pos:end="253:24">i</name></expr>]</index></name><operator pos:start="253:26" pos:end="253:26">.</operator><name pos:start="253:27" pos:end="253:39">thread_mb_pos</name> <operator pos:start="253:41" pos:end="253:41">=</operator> <literal type="number" pos:start="253:43" pos:end="253:43">0</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="255:9" pos:end="255:50"><expr pos:start="255:9" pos:end="255:49"><name pos:start="255:9" pos:end="255:25"><name pos:start="255:9" pos:end="255:9">s</name><operator pos:start="255:10" pos:end="255:11">-&gt;</operator><name pos:start="255:12" pos:end="255:22">thread_data</name><index pos:start="255:23" pos:end="255:25">[<expr pos:start="255:24" pos:end="255:24"><name pos:start="255:24" pos:end="255:24">i</name></expr>]</index></name><operator pos:start="255:26" pos:end="255:26">.</operator><name pos:start="255:27" pos:end="255:37">wait_mb_pos</name>   <operator pos:start="255:41" pos:end="255:41">=</operator> <name pos:start="255:43" pos:end="255:49">INT_MAX</name></expr>;</expr_stmt>

    </block_content>}</block></for>

    <expr_stmt pos:start="259:5" pos:end="261:52"><expr pos:start="259:5" pos:end="261:51"><call pos:start="259:5" pos:end="261:51"><name pos:start="259:5" pos:end="259:19"><name pos:start="259:5" pos:end="259:9">avctx</name><operator pos:start="259:10" pos:end="259:11">-&gt;</operator><name pos:start="259:12" pos:end="259:19">execute2</name></name><argument_list pos:start="259:20" pos:end="261:51">(<argument pos:start="259:21" pos:end="259:25"><expr pos:start="259:21" pos:end="259:25"><name pos:start="259:21" pos:end="259:25">avctx</name></expr></argument>, <argument pos:start="259:28" pos:end="259:51"><expr pos:start="259:28" pos:end="259:51"><name pos:start="259:28" pos:end="259:51">vp8_decode_mb_row_sliced</name></expr></argument>,

                    <argument pos:start="261:21" pos:end="261:34"><expr pos:start="261:21" pos:end="261:34"><name pos:start="261:21" pos:end="261:34"><name pos:start="261:21" pos:end="261:21">s</name><operator pos:start="261:22" pos:end="261:23">-&gt;</operator><name pos:start="261:24" pos:end="261:34">thread_data</name></name></expr></argument>, <argument pos:start="261:37" pos:end="261:40"><expr pos:start="261:37" pos:end="261:40"><name pos:start="261:37" pos:end="261:40">NULL</name></expr></argument>, <argument pos:start="261:43" pos:end="261:50"><expr pos:start="261:43" pos:end="261:50"><name pos:start="261:43" pos:end="261:50">num_jobs</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="265:5" pos:end="265:57"><expr pos:start="265:5" pos:end="265:56"><call pos:start="265:5" pos:end="265:56"><name pos:start="265:5" pos:end="265:29">ff_thread_report_progress</name><argument_list pos:start="265:30" pos:end="265:56">(<argument pos:start="265:31" pos:end="265:43"><expr pos:start="265:31" pos:end="265:43"><operator pos:start="265:31" pos:end="265:31">&amp;</operator><name pos:start="265:32" pos:end="265:43"><name pos:start="265:32" pos:end="265:39">curframe</name><operator pos:start="265:40" pos:end="265:41">-&gt;</operator><name pos:start="265:42" pos:end="265:43">tf</name></name></expr></argument>, <argument pos:start="265:46" pos:end="265:52"><expr pos:start="265:46" pos:end="265:52"><name pos:start="265:46" pos:end="265:52">INT_MAX</name></expr></argument>, <argument pos:start="265:55" pos:end="265:55"><expr pos:start="265:55" pos:end="265:55"><literal type="number" pos:start="265:55" pos:end="265:55">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="267:5" pos:end="267:72"><expr pos:start="267:5" pos:end="267:71"><call pos:start="267:5" pos:end="267:71"><name pos:start="267:5" pos:end="267:10">memcpy</name><argument_list pos:start="267:11" pos:end="267:71">(<argument pos:start="267:12" pos:end="267:24"><expr pos:start="267:12" pos:end="267:24"><operator pos:start="267:12" pos:end="267:12">&amp;</operator><name pos:start="267:13" pos:end="267:24"><name pos:start="267:13" pos:end="267:13">s</name><operator pos:start="267:14" pos:end="267:15">-&gt;</operator><name pos:start="267:16" pos:end="267:21">framep</name><index pos:start="267:22" pos:end="267:24">[<expr pos:start="267:23" pos:end="267:23"><literal type="number" pos:start="267:23" pos:end="267:23">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="267:27" pos:end="267:44"><expr pos:start="267:27" pos:end="267:44"><operator pos:start="267:27" pos:end="267:27">&amp;</operator><name pos:start="267:28" pos:end="267:44"><name pos:start="267:28" pos:end="267:28">s</name><operator pos:start="267:29" pos:end="267:30">-&gt;</operator><name pos:start="267:31" pos:end="267:41">next_framep</name><index pos:start="267:42" pos:end="267:44">[<expr pos:start="267:43" pos:end="267:43"><literal type="number" pos:start="267:43" pos:end="267:43">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="267:47" pos:end="267:70"><expr pos:start="267:47" pos:end="267:70"><sizeof pos:start="267:47" pos:end="267:66">sizeof<argument_list pos:start="267:53" pos:end="267:66">(<argument pos:start="267:54" pos:end="267:65"><expr pos:start="267:54" pos:end="267:65"><name pos:start="267:54" pos:end="267:65"><name pos:start="267:54" pos:end="267:54">s</name><operator pos:start="267:55" pos:end="267:56">-&gt;</operator><name pos:start="267:57" pos:end="267:62">framep</name><index pos:start="267:63" pos:end="267:65">[<expr pos:start="267:64" pos:end="267:64"><literal type="number" pos:start="267:64" pos:end="267:64">0</literal></expr>]</index></name></expr></argument>)</argument_list></sizeof> <operator pos:start="267:68" pos:end="267:68">*</operator> <literal type="number" pos:start="267:70" pos:end="267:70">4</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>



<label pos:start="271:1" pos:end="271:12"><name pos:start="271:1" pos:end="271:11">skip_decode</name>:</label>

    <comment type="line" pos:start="273:5" pos:end="273:60">// if future frames don't use the updated probabilities,</comment>

    <comment type="line" pos:start="275:5" pos:end="275:40">// reset them to the values we saved</comment>

    <if_stmt pos:start="277:5" pos:end="279:32"><if pos:start="277:5" pos:end="279:32">if <condition pos:start="277:8" pos:end="277:33">(<expr pos:start="277:9" pos:end="277:32"><operator pos:start="277:9" pos:end="277:9">!</operator><name pos:start="277:10" pos:end="277:32"><name pos:start="277:10" pos:end="277:10">s</name><operator pos:start="277:11" pos:end="277:12">-&gt;</operator><name pos:start="277:13" pos:end="277:32">update_probabilities</name></name></expr>)</condition><block type="pseudo" pos:start="279:9" pos:end="279:32"><block_content pos:start="279:9" pos:end="279:32">

        <expr_stmt pos:start="279:9" pos:end="279:32"><expr pos:start="279:9" pos:end="279:31"><name pos:start="279:9" pos:end="279:18"><name pos:start="279:9" pos:end="279:9">s</name><operator pos:start="279:10" pos:end="279:11">-&gt;</operator><name pos:start="279:12" pos:end="279:15">prob</name><index pos:start="279:16" pos:end="279:18">[<expr pos:start="279:17" pos:end="279:17"><literal type="number" pos:start="279:17" pos:end="279:17">0</literal></expr>]</index></name> <operator pos:start="279:20" pos:end="279:20">=</operator> <name pos:start="279:22" pos:end="279:31"><name pos:start="279:22" pos:end="279:22">s</name><operator pos:start="279:23" pos:end="279:24">-&gt;</operator><name pos:start="279:25" pos:end="279:28">prob</name><index pos:start="279:29" pos:end="279:31">[<expr pos:start="279:30" pos:end="279:30"><literal type="number" pos:start="279:30" pos:end="279:30">1</literal></expr>]</index></name></expr>;</expr_stmt></block_content></block></if></if_stmt>



    <if_stmt pos:start="283:5" pos:end="291:5"><if pos:start="283:5" pos:end="291:5">if <condition pos:start="283:8" pos:end="283:22">(<expr pos:start="283:9" pos:end="283:21"><operator pos:start="283:9" pos:end="283:9">!</operator><name pos:start="283:10" pos:end="283:21"><name pos:start="283:10" pos:end="283:10">s</name><operator pos:start="283:11" pos:end="283:12">-&gt;</operator><name pos:start="283:13" pos:end="283:21">invisible</name></name></expr>)</condition> <block pos:start="283:24" pos:end="291:5">{<block_content pos:start="285:9" pos:end="289:23">

        <if_stmt pos:start="285:9" pos:end="287:23"><if pos:start="285:9" pos:end="287:23">if <condition pos:start="285:12" pos:end="285:59">(<expr pos:start="285:13" pos:end="285:58"><operator pos:start="285:13" pos:end="285:13">(</operator><name pos:start="285:14" pos:end="285:16">ret</name> <operator pos:start="285:18" pos:end="285:18">=</operator> <call pos:start="285:20" pos:end="285:53"><name pos:start="285:20" pos:end="285:31">av_frame_ref</name><argument_list pos:start="285:32" pos:end="285:53">(<argument pos:start="285:33" pos:end="285:36"><expr pos:start="285:33" pos:end="285:36"><name pos:start="285:33" pos:end="285:36">data</name></expr></argument>, <argument pos:start="285:39" pos:end="285:52"><expr pos:start="285:39" pos:end="285:52"><name pos:start="285:39" pos:end="285:52"><name pos:start="285:39" pos:end="285:46">curframe</name><operator pos:start="285:47" pos:end="285:48">-&gt;</operator><name pos:start="285:49" pos:end="285:50">tf</name><operator pos:start="285:51" pos:end="285:51">.</operator><name pos:start="285:52" pos:end="285:52">f</name></name></expr></argument>)</argument_list></call><operator pos:start="285:54" pos:end="285:54">)</operator> <operator pos:start="285:56" pos:end="285:56">&lt;</operator> <literal type="number" pos:start="285:58" pos:end="285:58">0</literal></expr>)</condition><block type="pseudo" pos:start="287:13" pos:end="287:23"><block_content pos:start="287:13" pos:end="287:23">

            <return pos:start="287:13" pos:end="287:23">return <expr pos:start="287:20" pos:end="287:22"><name pos:start="287:20" pos:end="287:22">ret</name></expr>;</return></block_content></block></if></if_stmt>

        <expr_stmt pos:start="289:9" pos:end="289:23"><expr pos:start="289:9" pos:end="289:22"><operator pos:start="289:9" pos:end="289:9">*</operator><name pos:start="289:10" pos:end="289:18">got_frame</name> <operator pos:start="289:20" pos:end="289:20">=</operator> <literal type="number" pos:start="289:22" pos:end="289:22">1</literal></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <return pos:start="295:5" pos:end="295:23">return <expr pos:start="295:12" pos:end="295:22"><name pos:start="295:12" pos:end="295:22"><name pos:start="295:12" pos:end="295:16">avpkt</name><operator pos:start="295:17" pos:end="295:18">-&gt;</operator><name pos:start="295:19" pos:end="295:22">size</name></name></expr>;</return>

<label pos:start="297:1" pos:end="297:4"><name pos:start="297:1" pos:end="297:3">err</name>:</label>

    <expr_stmt pos:start="299:5" pos:end="299:72"><expr pos:start="299:5" pos:end="299:71"><call pos:start="299:5" pos:end="299:71"><name pos:start="299:5" pos:end="299:10">memcpy</name><argument_list pos:start="299:11" pos:end="299:71">(<argument pos:start="299:12" pos:end="299:29"><expr pos:start="299:12" pos:end="299:29"><operator pos:start="299:12" pos:end="299:12">&amp;</operator><name pos:start="299:13" pos:end="299:29"><name pos:start="299:13" pos:end="299:13">s</name><operator pos:start="299:14" pos:end="299:15">-&gt;</operator><name pos:start="299:16" pos:end="299:26">next_framep</name><index pos:start="299:27" pos:end="299:29">[<expr pos:start="299:28" pos:end="299:28"><literal type="number" pos:start="299:28" pos:end="299:28">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="299:32" pos:end="299:44"><expr pos:start="299:32" pos:end="299:44"><operator pos:start="299:32" pos:end="299:32">&amp;</operator><name pos:start="299:33" pos:end="299:44"><name pos:start="299:33" pos:end="299:33">s</name><operator pos:start="299:34" pos:end="299:35">-&gt;</operator><name pos:start="299:36" pos:end="299:41">framep</name><index pos:start="299:42" pos:end="299:44">[<expr pos:start="299:43" pos:end="299:43"><literal type="number" pos:start="299:43" pos:end="299:43">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="299:47" pos:end="299:70"><expr pos:start="299:47" pos:end="299:70"><sizeof pos:start="299:47" pos:end="299:66">sizeof<argument_list pos:start="299:53" pos:end="299:66">(<argument pos:start="299:54" pos:end="299:65"><expr pos:start="299:54" pos:end="299:65"><name pos:start="299:54" pos:end="299:65"><name pos:start="299:54" pos:end="299:54">s</name><operator pos:start="299:55" pos:end="299:56">-&gt;</operator><name pos:start="299:57" pos:end="299:62">framep</name><index pos:start="299:63" pos:end="299:65">[<expr pos:start="299:64" pos:end="299:64"><literal type="number" pos:start="299:64" pos:end="299:64">0</literal></expr>]</index></name></expr></argument>)</argument_list></sizeof> <operator pos:start="299:68" pos:end="299:68">*</operator> <literal type="number" pos:start="299:70" pos:end="299:70">4</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <return pos:start="301:5" pos:end="301:15">return <expr pos:start="301:12" pos:end="301:14"><name pos:start="301:12" pos:end="301:14">ret</name></expr>;</return>

</block_content>}</block></function>
</unit>
