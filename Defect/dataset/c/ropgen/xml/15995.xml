<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/15995.c" pos:tabs="8"><function pos:start="1:1" pos:end="113:1"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:25">do_streamcopy</name><parameter_list pos:start="1:26" pos:end="1:83">(<parameter pos:start="1:27" pos:end="1:42"><decl pos:start="1:27" pos:end="1:42"><type pos:start="1:27" pos:end="1:42"><name pos:start="1:27" pos:end="1:37">InputStream</name> <modifier pos:start="1:39" pos:end="1:39">*</modifier></type><name pos:start="1:40" pos:end="1:42">ist</name></decl></parameter>, <parameter pos:start="1:45" pos:end="1:61"><decl pos:start="1:45" pos:end="1:61"><type pos:start="1:45" pos:end="1:61"><name pos:start="1:45" pos:end="1:56">OutputStream</name> <modifier pos:start="1:58" pos:end="1:58">*</modifier></type><name pos:start="1:59" pos:end="1:61">ost</name></decl></parameter>, <parameter pos:start="1:64" pos:end="1:82"><decl pos:start="1:64" pos:end="1:82"><type pos:start="1:64" pos:end="1:82"><specifier pos:start="1:64" pos:end="1:68">const</specifier> <name pos:start="1:70" pos:end="1:77">AVPacket</name> <modifier pos:start="1:79" pos:end="1:79">*</modifier></type><name pos:start="1:80" pos:end="1:82">pkt</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="113:1">{<block_content pos:start="5:5" pos:end="111:26">

    <decl_stmt pos:start="5:5" pos:end="5:51"><decl pos:start="5:5" pos:end="5:50"><type pos:start="5:5" pos:end="5:16"><name pos:start="5:5" pos:end="5:14">OutputFile</name> <modifier pos:start="5:16" pos:end="5:16">*</modifier></type><name pos:start="5:17" pos:end="5:18">of</name> <init pos:start="5:20" pos:end="5:50">= <expr pos:start="5:22" pos:end="5:50"><name pos:start="5:22" pos:end="5:50"><name pos:start="5:22" pos:end="5:33">output_files</name><index pos:start="5:34" pos:end="5:50">[<expr pos:start="5:35" pos:end="5:49"><name pos:start="5:35" pos:end="5:49"><name pos:start="5:35" pos:end="5:37">ost</name><operator pos:start="5:38" pos:end="5:39">-&gt;</operator><name pos:start="5:40" pos:end="5:49">file_index</name></name></expr>]</index></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:97"><decl pos:start="7:5" pos:end="7:96"><type pos:start="7:5" pos:end="7:11"><name pos:start="7:5" pos:end="7:11">int64_t</name></type> <name pos:start="7:13" pos:end="7:29">ost_tb_start_time</name> <init pos:start="7:31" pos:end="7:96">= <expr pos:start="7:33" pos:end="7:96"><call pos:start="7:33" pos:end="7:96"><name pos:start="7:33" pos:end="7:44">av_rescale_q</name><argument_list pos:start="7:45" pos:end="7:96">(<argument pos:start="7:46" pos:end="7:59"><expr pos:start="7:46" pos:end="7:59"><name pos:start="7:46" pos:end="7:59"><name pos:start="7:46" pos:end="7:47">of</name><operator pos:start="7:48" pos:end="7:49">-&gt;</operator><name pos:start="7:50" pos:end="7:59">start_time</name></name></expr></argument>, <argument pos:start="7:62" pos:end="7:75"><expr pos:start="7:62" pos:end="7:75"><name pos:start="7:62" pos:end="7:75">AV_TIME_BASE_Q</name></expr></argument>, <argument pos:start="7:78" pos:end="7:95"><expr pos:start="7:78" pos:end="7:95"><name pos:start="7:78" pos:end="7:95"><name pos:start="7:78" pos:end="7:80">ost</name><operator pos:start="7:81" pos:end="7:82">-&gt;</operator><name pos:start="7:83" pos:end="7:84">st</name><operator pos:start="7:85" pos:end="7:86">-&gt;</operator><name pos:start="7:87" pos:end="7:95">time_base</name></name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:18"><decl pos:start="9:5" pos:end="9:17"><type pos:start="9:5" pos:end="9:12"><name pos:start="9:5" pos:end="9:12">AVPacket</name></type> <name pos:start="9:14" pos:end="9:17">opkt</name></decl>;</decl_stmt>



    <expr_stmt pos:start="13:5" pos:end="13:26"><expr pos:start="13:5" pos:end="13:25"><call pos:start="13:5" pos:end="13:25"><name pos:start="13:5" pos:end="13:18">av_init_packet</name><argument_list pos:start="13:19" pos:end="13:25">(<argument pos:start="13:20" pos:end="13:24"><expr pos:start="13:20" pos:end="13:24"><operator pos:start="13:20" pos:end="13:20">&amp;</operator><name pos:start="13:21" pos:end="13:24">opkt</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <if_stmt pos:start="17:5" pos:end="21:15"><if pos:start="17:5" pos:end="21:15">if <condition pos:start="17:8" pos:end="19:40">(<expr pos:start="17:9" pos:end="19:39"><operator pos:start="17:9" pos:end="17:9">(</operator><operator pos:start="17:10" pos:end="17:10">!</operator><name pos:start="17:11" pos:end="17:27"><name pos:start="17:11" pos:end="17:13">ost</name><operator pos:start="17:14" pos:end="17:15">-&gt;</operator><name pos:start="17:16" pos:end="17:27">frame_number</name></name> <operator pos:start="17:29" pos:end="17:30">&amp;&amp;</operator> <operator pos:start="17:32" pos:end="17:32">!</operator><operator pos:start="17:33" pos:end="17:33">(</operator><name pos:start="17:34" pos:end="17:43"><name pos:start="17:34" pos:end="17:36">pkt</name><operator pos:start="17:37" pos:end="17:38">-&gt;</operator><name pos:start="17:39" pos:end="17:43">flags</name></name> <operator pos:start="17:45" pos:end="17:45">&amp;</operator> <name pos:start="17:47" pos:end="17:61">AV_PKT_FLAG_KEY</name><operator pos:start="17:62" pos:end="17:62">)</operator><operator pos:start="17:63" pos:end="17:63">)</operator> <operator pos:start="17:65" pos:end="17:66">&amp;&amp;</operator>

        <operator pos:start="19:9" pos:end="19:9">!</operator><name pos:start="19:10" pos:end="19:39"><name pos:start="19:10" pos:end="19:12">ost</name><operator pos:start="19:13" pos:end="19:14">-&gt;</operator><name pos:start="19:15" pos:end="19:39">copy_initial_nonkeyframes</name></name></expr>)</condition><block type="pseudo" pos:start="21:9" pos:end="21:15"><block_content pos:start="21:9" pos:end="21:15">

        <return pos:start="21:9" pos:end="21:15">return;</return></block_content></block></if></if_stmt>



    <if_stmt pos:start="25:5" pos:end="33:5"><if pos:start="25:5" pos:end="33:5">if <condition pos:start="25:8" pos:end="27:61">(<expr pos:start="25:9" pos:end="27:60"><name pos:start="25:9" pos:end="25:26"><name pos:start="25:9" pos:end="25:10">of</name><operator pos:start="25:11" pos:end="25:12">-&gt;</operator><name pos:start="25:13" pos:end="25:26">recording_time</name></name> <operator pos:start="25:28" pos:end="25:29">!=</operator> <name pos:start="25:31" pos:end="25:39">INT64_MAX</name> <operator pos:start="25:41" pos:end="25:42">&amp;&amp;</operator>

        <name pos:start="27:9" pos:end="27:21"><name pos:start="27:9" pos:end="27:11">ist</name><operator pos:start="27:12" pos:end="27:13">-&gt;</operator><name pos:start="27:14" pos:end="27:21">last_dts</name></name> <operator pos:start="27:23" pos:end="27:24">&gt;=</operator> <name pos:start="27:26" pos:end="27:43"><name pos:start="27:26" pos:end="27:27">of</name><operator pos:start="27:28" pos:end="27:29">-&gt;</operator><name pos:start="27:30" pos:end="27:43">recording_time</name></name> <operator pos:start="27:45" pos:end="27:45">+</operator> <name pos:start="27:47" pos:end="27:60"><name pos:start="27:47" pos:end="27:48">of</name><operator pos:start="27:49" pos:end="27:50">-&gt;</operator><name pos:start="27:51" pos:end="27:60">start_time</name></name></expr>)</condition> <block pos:start="27:63" pos:end="33:5">{<block_content pos:start="29:9" pos:end="31:15">

        <expr_stmt pos:start="29:9" pos:end="29:40"><expr pos:start="29:9" pos:end="29:39"><name pos:start="29:9" pos:end="29:35"><name pos:start="29:9" pos:end="29:11">ost</name><operator pos:start="29:12" pos:end="29:13">-&gt;</operator><name pos:start="29:14" pos:end="29:35">is_past_recording_time</name></name> <operator pos:start="29:37" pos:end="29:37">=</operator> <literal type="number" pos:start="29:39" pos:end="29:39">1</literal></expr>;</expr_stmt>

        <return pos:start="31:9" pos:end="31:15">return;</return>

    </block_content>}</block></if></if_stmt>



    <comment type="block" pos:start="37:5" pos:end="37:36">/* force the input stream PTS */</comment>

    <if_stmt pos:start="39:5" pos:end="49:5"><if pos:start="39:5" pos:end="41:32">if <condition pos:start="39:8" pos:end="39:57">(<expr pos:start="39:9" pos:end="39:56"><name pos:start="39:9" pos:end="39:34"><name pos:start="39:9" pos:end="39:11">ost</name><operator pos:start="39:12" pos:end="39:13">-&gt;</operator><name pos:start="39:14" pos:end="39:15">st</name><operator pos:start="39:16" pos:end="39:17">-&gt;</operator><name pos:start="39:18" pos:end="39:22">codec</name><operator pos:start="39:23" pos:end="39:24">-&gt;</operator><name pos:start="39:25" pos:end="39:34">codec_type</name></name> <operator pos:start="39:36" pos:end="39:37">==</operator> <name pos:start="39:39" pos:end="39:56">AVMEDIA_TYPE_AUDIO</name></expr>)</condition><block type="pseudo" pos:start="41:9" pos:end="41:32"><block_content pos:start="41:9" pos:end="41:32">

        <expr_stmt pos:start="41:9" pos:end="41:32"><expr pos:start="41:9" pos:end="41:31"><name pos:start="41:9" pos:end="41:18">audio_size</name> <operator pos:start="41:20" pos:end="41:21">+=</operator> <name pos:start="41:23" pos:end="41:31"><name pos:start="41:23" pos:end="41:25">pkt</name><operator pos:start="41:26" pos:end="41:27">-&gt;</operator><name pos:start="41:28" pos:end="41:31">size</name></name></expr>;</expr_stmt></block_content></block></if>

    <if type="elseif" pos:start="43:5" pos:end="49:5">else if <condition pos:start="43:13" pos:end="43:62">(<expr pos:start="43:14" pos:end="43:61"><name pos:start="43:14" pos:end="43:39"><name pos:start="43:14" pos:end="43:16">ost</name><operator pos:start="43:17" pos:end="43:18">-&gt;</operator><name pos:start="43:19" pos:end="43:20">st</name><operator pos:start="43:21" pos:end="43:22">-&gt;</operator><name pos:start="43:23" pos:end="43:27">codec</name><operator pos:start="43:28" pos:end="43:29">-&gt;</operator><name pos:start="43:30" pos:end="43:39">codec_type</name></name> <operator pos:start="43:41" pos:end="43:42">==</operator> <name pos:start="43:44" pos:end="43:61">AVMEDIA_TYPE_VIDEO</name></expr>)</condition> <block pos:start="43:64" pos:end="49:5">{<block_content pos:start="45:9" pos:end="47:25">

        <expr_stmt pos:start="45:9" pos:end="45:32"><expr pos:start="45:9" pos:end="45:31"><name pos:start="45:9" pos:end="45:18">video_size</name> <operator pos:start="45:20" pos:end="45:21">+=</operator> <name pos:start="45:23" pos:end="45:31"><name pos:start="45:23" pos:end="45:25">pkt</name><operator pos:start="45:26" pos:end="45:27">-&gt;</operator><name pos:start="45:28" pos:end="45:31">size</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="47:9" pos:end="47:25"><expr pos:start="47:9" pos:end="47:24"><name pos:start="47:9" pos:end="47:22"><name pos:start="47:9" pos:end="47:11">ost</name><operator pos:start="47:12" pos:end="47:13">-&gt;</operator><name pos:start="47:14" pos:end="47:22">sync_opts</name></name><operator pos:start="47:23" pos:end="47:24">++</operator></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="53:5" pos:end="59:34"><if pos:start="53:5" pos:end="55:102">if <condition pos:start="53:8" pos:end="53:35">(<expr pos:start="53:9" pos:end="53:34"><name pos:start="53:9" pos:end="53:16"><name pos:start="53:9" pos:end="53:11">pkt</name><operator pos:start="53:12" pos:end="53:13">-&gt;</operator><name pos:start="53:14" pos:end="53:16">pts</name></name> <operator pos:start="53:18" pos:end="53:19">!=</operator> <name pos:start="53:21" pos:end="53:34">AV_NOPTS_VALUE</name></expr>)</condition><block type="pseudo" pos:start="55:9" pos:end="55:102"><block_content pos:start="55:9" pos:end="55:102">

        <expr_stmt pos:start="55:9" pos:end="55:102"><expr pos:start="55:9" pos:end="55:101"><name pos:start="55:9" pos:end="55:16"><name pos:start="55:9" pos:end="55:12">opkt</name><operator pos:start="55:13" pos:end="55:13">.</operator><name pos:start="55:14" pos:end="55:16">pts</name></name> <operator pos:start="55:18" pos:end="55:18">=</operator> <call pos:start="55:20" pos:end="55:81"><name pos:start="55:20" pos:end="55:31">av_rescale_q</name><argument_list pos:start="55:32" pos:end="55:81">(<argument pos:start="55:33" pos:end="55:40"><expr pos:start="55:33" pos:end="55:40"><name pos:start="55:33" pos:end="55:40"><name pos:start="55:33" pos:end="55:35">pkt</name><operator pos:start="55:36" pos:end="55:37">-&gt;</operator><name pos:start="55:38" pos:end="55:40">pts</name></name></expr></argument>, <argument pos:start="55:43" pos:end="55:60"><expr pos:start="55:43" pos:end="55:60"><name pos:start="55:43" pos:end="55:60"><name pos:start="55:43" pos:end="55:45">ist</name><operator pos:start="55:46" pos:end="55:47">-&gt;</operator><name pos:start="55:48" pos:end="55:49">st</name><operator pos:start="55:50" pos:end="55:51">-&gt;</operator><name pos:start="55:52" pos:end="55:60">time_base</name></name></expr></argument>, <argument pos:start="55:63" pos:end="55:80"><expr pos:start="55:63" pos:end="55:80"><name pos:start="55:63" pos:end="55:80"><name pos:start="55:63" pos:end="55:65">ost</name><operator pos:start="55:66" pos:end="55:67">-&gt;</operator><name pos:start="55:68" pos:end="55:69">st</name><operator pos:start="55:70" pos:end="55:71">-&gt;</operator><name pos:start="55:72" pos:end="55:80">time_base</name></name></expr></argument>)</argument_list></call> <operator pos:start="55:83" pos:end="55:83">-</operator> <name pos:start="55:85" pos:end="55:101">ost_tb_start_time</name></expr>;</expr_stmt></block_content></block></if>

    <else pos:start="57:5" pos:end="59:34">else<block type="pseudo" pos:start="59:9" pos:end="59:34"><block_content pos:start="59:9" pos:end="59:34">

        <expr_stmt pos:start="59:9" pos:end="59:34"><expr pos:start="59:9" pos:end="59:33"><name pos:start="59:9" pos:end="59:16"><name pos:start="59:9" pos:end="59:12">opkt</name><operator pos:start="59:13" pos:end="59:13">.</operator><name pos:start="59:14" pos:end="59:16">pts</name></name> <operator pos:start="59:18" pos:end="59:18">=</operator> <name pos:start="59:20" pos:end="59:33">AV_NOPTS_VALUE</name></expr>;</expr_stmt></block_content></block></else></if_stmt>



    <if_stmt pos:start="63:5" pos:end="69:82"><if pos:start="63:5" pos:end="65:83">if <condition pos:start="63:8" pos:end="63:35">(<expr pos:start="63:9" pos:end="63:34"><name pos:start="63:9" pos:end="63:16"><name pos:start="63:9" pos:end="63:11">pkt</name><operator pos:start="63:12" pos:end="63:13">-&gt;</operator><name pos:start="63:14" pos:end="63:16">dts</name></name> <operator pos:start="63:18" pos:end="63:19">==</operator> <name pos:start="63:21" pos:end="63:34">AV_NOPTS_VALUE</name></expr>)</condition><block type="pseudo" pos:start="65:9" pos:end="65:83"><block_content pos:start="65:9" pos:end="65:83">

        <expr_stmt pos:start="65:9" pos:end="65:83"><expr pos:start="65:9" pos:end="65:82"><name pos:start="65:9" pos:end="65:16"><name pos:start="65:9" pos:end="65:12">opkt</name><operator pos:start="65:13" pos:end="65:13">.</operator><name pos:start="65:14" pos:end="65:16">dts</name></name> <operator pos:start="65:18" pos:end="65:18">=</operator> <call pos:start="65:20" pos:end="65:82"><name pos:start="65:20" pos:end="65:31">av_rescale_q</name><argument_list pos:start="65:32" pos:end="65:82">(<argument pos:start="65:33" pos:end="65:45"><expr pos:start="65:33" pos:end="65:45"><name pos:start="65:33" pos:end="65:45"><name pos:start="65:33" pos:end="65:35">ist</name><operator pos:start="65:36" pos:end="65:37">-&gt;</operator><name pos:start="65:38" pos:end="65:45">last_dts</name></name></expr></argument>, <argument pos:start="65:48" pos:end="65:61"><expr pos:start="65:48" pos:end="65:61"><name pos:start="65:48" pos:end="65:61">AV_TIME_BASE_Q</name></expr></argument>, <argument pos:start="65:64" pos:end="65:81"><expr pos:start="65:64" pos:end="65:81"><name pos:start="65:64" pos:end="65:81"><name pos:start="65:64" pos:end="65:66">ost</name><operator pos:start="65:67" pos:end="65:68">-&gt;</operator><name pos:start="65:69" pos:end="65:70">st</name><operator pos:start="65:71" pos:end="65:72">-&gt;</operator><name pos:start="65:73" pos:end="65:81">time_base</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if>

    <else pos:start="67:5" pos:end="69:82">else<block type="pseudo" pos:start="69:9" pos:end="69:82"><block_content pos:start="69:9" pos:end="69:82">

        <expr_stmt pos:start="69:9" pos:end="69:82"><expr pos:start="69:9" pos:end="69:81"><name pos:start="69:9" pos:end="69:16"><name pos:start="69:9" pos:end="69:12">opkt</name><operator pos:start="69:13" pos:end="69:13">.</operator><name pos:start="69:14" pos:end="69:16">dts</name></name> <operator pos:start="69:18" pos:end="69:18">=</operator> <call pos:start="69:20" pos:end="69:81"><name pos:start="69:20" pos:end="69:31">av_rescale_q</name><argument_list pos:start="69:32" pos:end="69:81">(<argument pos:start="69:33" pos:end="69:40"><expr pos:start="69:33" pos:end="69:40"><name pos:start="69:33" pos:end="69:40"><name pos:start="69:33" pos:end="69:35">pkt</name><operator pos:start="69:36" pos:end="69:37">-&gt;</operator><name pos:start="69:38" pos:end="69:40">dts</name></name></expr></argument>, <argument pos:start="69:43" pos:end="69:60"><expr pos:start="69:43" pos:end="69:60"><name pos:start="69:43" pos:end="69:60"><name pos:start="69:43" pos:end="69:45">ist</name><operator pos:start="69:46" pos:end="69:47">-&gt;</operator><name pos:start="69:48" pos:end="69:49">st</name><operator pos:start="69:50" pos:end="69:51">-&gt;</operator><name pos:start="69:52" pos:end="69:60">time_base</name></name></expr></argument>, <argument pos:start="69:63" pos:end="69:80"><expr pos:start="69:63" pos:end="69:80"><name pos:start="69:63" pos:end="69:80"><name pos:start="69:63" pos:end="69:65">ost</name><operator pos:start="69:66" pos:end="69:67">-&gt;</operator><name pos:start="69:68" pos:end="69:69">st</name><operator pos:start="69:70" pos:end="69:71">-&gt;</operator><name pos:start="69:72" pos:end="69:80">time_base</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></else></if_stmt>

    <expr_stmt pos:start="71:5" pos:end="71:34"><expr pos:start="71:5" pos:end="71:33"><name pos:start="71:5" pos:end="71:12"><name pos:start="71:5" pos:end="71:8">opkt</name><operator pos:start="71:9" pos:end="71:9">.</operator><name pos:start="71:10" pos:end="71:12">dts</name></name> <operator pos:start="71:14" pos:end="71:15">-=</operator> <name pos:start="71:17" pos:end="71:33">ost_tb_start_time</name></expr>;</expr_stmt>



    <expr_stmt pos:start="75:5" pos:end="75:88"><expr pos:start="75:5" pos:end="75:87"><name pos:start="75:5" pos:end="75:17"><name pos:start="75:5" pos:end="75:8">opkt</name><operator pos:start="75:9" pos:end="75:9">.</operator><name pos:start="75:10" pos:end="75:17">duration</name></name> <operator pos:start="75:19" pos:end="75:19">=</operator> <call pos:start="75:21" pos:end="75:87"><name pos:start="75:21" pos:end="75:32">av_rescale_q</name><argument_list pos:start="75:33" pos:end="75:87">(<argument pos:start="75:34" pos:end="75:46"><expr pos:start="75:34" pos:end="75:46"><name pos:start="75:34" pos:end="75:46"><name pos:start="75:34" pos:end="75:36">pkt</name><operator pos:start="75:37" pos:end="75:38">-&gt;</operator><name pos:start="75:39" pos:end="75:46">duration</name></name></expr></argument>, <argument pos:start="75:49" pos:end="75:66"><expr pos:start="75:49" pos:end="75:66"><name pos:start="75:49" pos:end="75:66"><name pos:start="75:49" pos:end="75:51">ist</name><operator pos:start="75:52" pos:end="75:53">-&gt;</operator><name pos:start="75:54" pos:end="75:55">st</name><operator pos:start="75:56" pos:end="75:57">-&gt;</operator><name pos:start="75:58" pos:end="75:66">time_base</name></name></expr></argument>, <argument pos:start="75:69" pos:end="75:86"><expr pos:start="75:69" pos:end="75:86"><name pos:start="75:69" pos:end="75:86"><name pos:start="75:69" pos:end="75:71">ost</name><operator pos:start="75:72" pos:end="75:73">-&gt;</operator><name pos:start="75:74" pos:end="75:75">st</name><operator pos:start="75:76" pos:end="75:77">-&gt;</operator><name pos:start="75:78" pos:end="75:86">time_base</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="77:5" pos:end="77:31"><expr pos:start="77:5" pos:end="77:30"><name pos:start="77:5" pos:end="77:14"><name pos:start="77:5" pos:end="77:8">opkt</name><operator pos:start="77:9" pos:end="77:9">.</operator><name pos:start="77:10" pos:end="77:14">flags</name></name>    <operator pos:start="77:19" pos:end="77:19">=</operator> <name pos:start="77:21" pos:end="77:30"><name pos:start="77:21" pos:end="77:23">pkt</name><operator pos:start="77:24" pos:end="77:25">-&gt;</operator><name pos:start="77:26" pos:end="77:30">flags</name></name></expr>;</expr_stmt>



    <comment type="line" pos:start="81:5" pos:end="81:89">// FIXME remove the following 2 lines they shall be replaced by the bitstream filters</comment>

    <if_stmt pos:start="83:5" pos:end="103:5"><if pos:start="83:5" pos:end="97:5">if <condition pos:start="83:8" pos:end="91:8">(  <expr pos:start="83:11" pos:end="89:53"><name pos:start="83:11" pos:end="83:34"><name pos:start="83:11" pos:end="83:13">ost</name><operator pos:start="83:14" pos:end="83:15">-&gt;</operator><name pos:start="83:16" pos:end="83:17">st</name><operator pos:start="83:18" pos:end="83:19">-&gt;</operator><name pos:start="83:20" pos:end="83:24">codec</name><operator pos:start="83:25" pos:end="83:26">-&gt;</operator><name pos:start="83:27" pos:end="83:34">codec_id</name></name> <operator pos:start="83:36" pos:end="83:37">!=</operator> <name pos:start="83:39" pos:end="83:54">AV_CODEC_ID_H264</name>

       <operator pos:start="85:8" pos:end="85:9">&amp;&amp;</operator> <name pos:start="85:11" pos:end="85:34"><name pos:start="85:11" pos:end="85:13">ost</name><operator pos:start="85:14" pos:end="85:15">-&gt;</operator><name pos:start="85:16" pos:end="85:17">st</name><operator pos:start="85:18" pos:end="85:19">-&gt;</operator><name pos:start="85:20" pos:end="85:24">codec</name><operator pos:start="85:25" pos:end="85:26">-&gt;</operator><name pos:start="85:27" pos:end="85:34">codec_id</name></name> <operator pos:start="85:36" pos:end="85:37">!=</operator> <name pos:start="85:39" pos:end="85:60">AV_CODEC_ID_MPEG1VIDEO</name>

       <operator pos:start="87:8" pos:end="87:9">&amp;&amp;</operator> <name pos:start="87:11" pos:end="87:34"><name pos:start="87:11" pos:end="87:13">ost</name><operator pos:start="87:14" pos:end="87:15">-&gt;</operator><name pos:start="87:16" pos:end="87:17">st</name><operator pos:start="87:18" pos:end="87:19">-&gt;</operator><name pos:start="87:20" pos:end="87:24">codec</name><operator pos:start="87:25" pos:end="87:26">-&gt;</operator><name pos:start="87:27" pos:end="87:34">codec_id</name></name> <operator pos:start="87:36" pos:end="87:37">!=</operator> <name pos:start="87:39" pos:end="87:60">AV_CODEC_ID_MPEG2VIDEO</name>

       <operator pos:start="89:8" pos:end="89:9">&amp;&amp;</operator> <name pos:start="89:11" pos:end="89:34"><name pos:start="89:11" pos:end="89:13">ost</name><operator pos:start="89:14" pos:end="89:15">-&gt;</operator><name pos:start="89:16" pos:end="89:17">st</name><operator pos:start="89:18" pos:end="89:19">-&gt;</operator><name pos:start="89:20" pos:end="89:24">codec</name><operator pos:start="89:25" pos:end="89:26">-&gt;</operator><name pos:start="89:27" pos:end="89:34">codec_id</name></name> <operator pos:start="89:36" pos:end="89:37">!=</operator> <name pos:start="89:39" pos:end="89:53">AV_CODEC_ID_VC1</name></expr>

       )</condition> <block pos:start="91:10" pos:end="97:5">{<block_content pos:start="93:9" pos:end="95:47">

        <if_stmt pos:start="93:9" pos:end="95:47"><if pos:start="93:9" pos:end="95:47">if <condition pos:start="93:12" pos:end="93:138">(<expr pos:start="93:13" pos:end="93:137"><call pos:start="93:13" pos:end="93:137"><name pos:start="93:13" pos:end="93:28">av_parser_change</name><argument_list pos:start="93:29" pos:end="93:137">(<argument pos:start="93:30" pos:end="93:44"><expr pos:start="93:30" pos:end="93:44"><name pos:start="93:30" pos:end="93:44"><name pos:start="93:30" pos:end="93:32">ist</name><operator pos:start="93:33" pos:end="93:34">-&gt;</operator><name pos:start="93:35" pos:end="93:36">st</name><operator pos:start="93:37" pos:end="93:38">-&gt;</operator><name pos:start="93:39" pos:end="93:44">parser</name></name></expr></argument>, <argument pos:start="93:47" pos:end="93:60"><expr pos:start="93:47" pos:end="93:60"><name pos:start="93:47" pos:end="93:60"><name pos:start="93:47" pos:end="93:49">ost</name><operator pos:start="93:50" pos:end="93:51">-&gt;</operator><name pos:start="93:52" pos:end="93:53">st</name><operator pos:start="93:54" pos:end="93:55">-&gt;</operator><name pos:start="93:56" pos:end="93:60">codec</name></name></expr></argument>, <argument pos:start="93:63" pos:end="93:72"><expr pos:start="93:63" pos:end="93:72"><operator pos:start="93:63" pos:end="93:63">&amp;</operator><name pos:start="93:64" pos:end="93:72"><name pos:start="93:64" pos:end="93:67">opkt</name><operator pos:start="93:68" pos:end="93:68">.</operator><name pos:start="93:69" pos:end="93:72">data</name></name></expr></argument>, <argument pos:start="93:75" pos:end="93:84"><expr pos:start="93:75" pos:end="93:84"><operator pos:start="93:75" pos:end="93:75">&amp;</operator><name pos:start="93:76" pos:end="93:84"><name pos:start="93:76" pos:end="93:79">opkt</name><operator pos:start="93:80" pos:end="93:80">.</operator><name pos:start="93:81" pos:end="93:84">size</name></name></expr></argument>, <argument pos:start="93:87" pos:end="93:95"><expr pos:start="93:87" pos:end="93:95"><name pos:start="93:87" pos:end="93:95"><name pos:start="93:87" pos:end="93:89">pkt</name><operator pos:start="93:90" pos:end="93:91">-&gt;</operator><name pos:start="93:92" pos:end="93:95">data</name></name></expr></argument>, <argument pos:start="93:98" pos:end="93:106"><expr pos:start="93:98" pos:end="93:106"><name pos:start="93:98" pos:end="93:106"><name pos:start="93:98" pos:end="93:100">pkt</name><operator pos:start="93:101" pos:end="93:102">-&gt;</operator><name pos:start="93:103" pos:end="93:106">size</name></name></expr></argument>, <argument pos:start="93:109" pos:end="93:136"><expr pos:start="93:109" pos:end="93:136"><name pos:start="93:109" pos:end="93:118"><name pos:start="93:109" pos:end="93:111">pkt</name><operator pos:start="93:112" pos:end="93:113">-&gt;</operator><name pos:start="93:114" pos:end="93:118">flags</name></name> <operator pos:start="93:120" pos:end="93:120">&amp;</operator> <name pos:start="93:122" pos:end="93:136">AV_PKT_FLAG_KEY</name></expr></argument>)</argument_list></call></expr>)</condition><block type="pseudo" pos:start="95:13" pos:end="95:47"><block_content pos:start="95:13" pos:end="95:47">

            <expr_stmt pos:start="95:13" pos:end="95:47"><expr pos:start="95:13" pos:end="95:46"><name pos:start="95:13" pos:end="95:25"><name pos:start="95:13" pos:end="95:16">opkt</name><operator pos:start="95:17" pos:end="95:17">.</operator><name pos:start="95:18" pos:end="95:25">destruct</name></name> <operator pos:start="95:27" pos:end="95:27">=</operator> <name pos:start="95:29" pos:end="95:46">av_destruct_packet</name></expr>;</expr_stmt></block_content></block></if></if_stmt>

    </block_content>}</block></if> <else pos:start="97:7" pos:end="103:5">else <block pos:start="97:12" pos:end="103:5">{<block_content pos:start="99:9" pos:end="101:30">

        <expr_stmt pos:start="99:9" pos:end="99:30"><expr pos:start="99:9" pos:end="99:29"><name pos:start="99:9" pos:end="99:17"><name pos:start="99:9" pos:end="99:12">opkt</name><operator pos:start="99:13" pos:end="99:13">.</operator><name pos:start="99:14" pos:end="99:17">data</name></name> <operator pos:start="99:19" pos:end="99:19">=</operator> <name pos:start="99:21" pos:end="99:29"><name pos:start="99:21" pos:end="99:23">pkt</name><operator pos:start="99:24" pos:end="99:25">-&gt;</operator><name pos:start="99:26" pos:end="99:29">data</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="101:9" pos:end="101:30"><expr pos:start="101:9" pos:end="101:29"><name pos:start="101:9" pos:end="101:17"><name pos:start="101:9" pos:end="101:12">opkt</name><operator pos:start="101:13" pos:end="101:13">.</operator><name pos:start="101:14" pos:end="101:17">size</name></name> <operator pos:start="101:19" pos:end="101:19">=</operator> <name pos:start="101:21" pos:end="101:29"><name pos:start="101:21" pos:end="101:23">pkt</name><operator pos:start="101:24" pos:end="101:25">-&gt;</operator><name pos:start="101:26" pos:end="101:29">size</name></name></expr>;</expr_stmt>

    </block_content>}</block></else></if_stmt>



    <expr_stmt pos:start="107:5" pos:end="107:37"><expr pos:start="107:5" pos:end="107:36"><call pos:start="107:5" pos:end="107:36"><name pos:start="107:5" pos:end="107:15">write_frame</name><argument_list pos:start="107:16" pos:end="107:36">(<argument pos:start="107:17" pos:end="107:23"><expr pos:start="107:17" pos:end="107:23"><name pos:start="107:17" pos:end="107:23"><name pos:start="107:17" pos:end="107:18">of</name><operator pos:start="107:19" pos:end="107:20">-&gt;</operator><name pos:start="107:21" pos:end="107:23">ctx</name></name></expr></argument>, <argument pos:start="107:26" pos:end="107:30"><expr pos:start="107:26" pos:end="107:30"><operator pos:start="107:26" pos:end="107:26">&amp;</operator><name pos:start="107:27" pos:end="107:30">opkt</name></expr></argument>, <argument pos:start="107:33" pos:end="107:35"><expr pos:start="107:33" pos:end="107:35"><name pos:start="107:33" pos:end="107:35">ost</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="109:5" pos:end="109:35"><expr pos:start="109:5" pos:end="109:34"><name pos:start="109:5" pos:end="109:32"><name pos:start="109:5" pos:end="109:7">ost</name><operator pos:start="109:8" pos:end="109:9">-&gt;</operator><name pos:start="109:10" pos:end="109:11">st</name><operator pos:start="109:12" pos:end="109:13">-&gt;</operator><name pos:start="109:14" pos:end="109:18">codec</name><operator pos:start="109:19" pos:end="109:20">-&gt;</operator><name pos:start="109:21" pos:end="109:32">frame_number</name></name><operator pos:start="109:33" pos:end="109:34">++</operator></expr>;</expr_stmt>

    <expr_stmt pos:start="111:5" pos:end="111:26"><expr pos:start="111:5" pos:end="111:25"><call pos:start="111:5" pos:end="111:25"><name pos:start="111:5" pos:end="111:18">av_free_packet</name><argument_list pos:start="111:19" pos:end="111:25">(<argument pos:start="111:20" pos:end="111:24"><expr pos:start="111:20" pos:end="111:24"><operator pos:start="111:20" pos:end="111:20">&amp;</operator><name pos:start="111:21" pos:end="111:24">opkt</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

</block_content>}</block></function>
</unit>
