<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/4467.c" pos:tabs="8"><function pos:start="1:1" pos:end="151:1"><type pos:start="1:1" pos:end="1:10"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:10">int</name></type> <name pos:start="1:12" pos:end="1:21">parse_strk</name><parameter_list pos:start="1:22" pos:end="5:31">(<parameter pos:start="1:23" pos:end="1:40"><decl pos:start="1:23" pos:end="1:40"><type pos:start="1:23" pos:end="1:40"><name pos:start="1:23" pos:end="1:37">AVFormatContext</name> <modifier pos:start="1:39" pos:end="1:39">*</modifier></type><name pos:start="1:40" pos:end="1:40">s</name></decl></parameter>,

                      <parameter pos:start="3:23" pos:end="3:48"><decl pos:start="3:23" pos:end="3:48"><type pos:start="3:23" pos:end="3:48"><name pos:start="3:23" pos:end="3:40">FourxmDemuxContext</name> <modifier pos:start="3:42" pos:end="3:42">*</modifier></type><name pos:start="3:43" pos:end="3:48">fourxm</name></decl></parameter>, <parameter pos:start="3:51" pos:end="3:62"><decl pos:start="3:51" pos:end="3:62"><type pos:start="3:51" pos:end="3:62"><name pos:start="3:51" pos:end="3:57">uint8_t</name> <modifier pos:start="3:59" pos:end="3:59">*</modifier></type><name pos:start="3:60" pos:end="3:62">buf</name></decl></parameter>, <parameter pos:start="3:65" pos:end="3:72"><decl pos:start="3:65" pos:end="3:72"><type pos:start="3:65" pos:end="3:72"><name pos:start="3:65" pos:end="3:67">int</name></type> <name pos:start="3:69" pos:end="3:72">size</name></decl></parameter>,

                      <parameter pos:start="5:23" pos:end="5:30"><decl pos:start="5:23" pos:end="5:30"><type pos:start="5:23" pos:end="5:30"><name pos:start="5:23" pos:end="5:25">int</name></type> <name pos:start="5:27" pos:end="5:30">left</name></decl></parameter>)</parameter_list>

<block pos:start="7:1" pos:end="151:1">{<block_content pos:start="9:5" pos:end="149:13">

    <decl_stmt pos:start="9:5" pos:end="9:17"><decl pos:start="9:5" pos:end="9:16"><type pos:start="9:5" pos:end="9:14"><name pos:start="9:5" pos:end="9:12">AVStream</name> <modifier pos:start="9:14" pos:end="9:14">*</modifier></type><name pos:start="9:15" pos:end="9:16">st</name></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:14"><decl pos:start="11:5" pos:end="11:13"><type pos:start="11:5" pos:end="11:7"><name pos:start="11:5" pos:end="11:7">int</name></type> <name pos:start="11:9" pos:end="11:13">track</name></decl>;</decl_stmt>

    <comment type="block" pos:start="13:5" pos:end="13:41">/* check that there is enough data */</comment>

    <if_stmt pos:start="15:5" pos:end="17:35"><if pos:start="15:5" pos:end="17:35">if <condition pos:start="15:8" pos:end="15:45">(<expr pos:start="15:9" pos:end="15:44"><name pos:start="15:9" pos:end="15:12">size</name> <operator pos:start="15:14" pos:end="15:15">!=</operator> <name pos:start="15:17" pos:end="15:25">strk_SIZE</name> <operator pos:start="15:27" pos:end="15:28">||</operator> <name pos:start="15:30" pos:end="15:33">left</name> <operator pos:start="15:35" pos:end="15:35">&lt;</operator> <name pos:start="15:37" pos:end="15:40">size</name> <operator pos:start="15:42" pos:end="15:42">+</operator> <literal type="number" pos:start="15:44" pos:end="15:44">8</literal></expr>)</condition><block type="pseudo" pos:start="17:9" pos:end="17:35"><block_content pos:start="17:9" pos:end="17:35">

        <return pos:start="17:9" pos:end="17:35">return <expr pos:start="17:16" pos:end="17:34"><name pos:start="17:16" pos:end="17:34">AVERROR_INVALIDDATA</name></expr>;</return></block_content></block></if></if_stmt>



    <expr_stmt pos:start="21:5" pos:end="21:29"><expr pos:start="21:5" pos:end="21:28"><name pos:start="21:5" pos:end="21:9">track</name> <operator pos:start="21:11" pos:end="21:11">=</operator> <call pos:start="21:13" pos:end="21:28"><name pos:start="21:13" pos:end="21:19">AV_RL32</name><argument_list pos:start="21:20" pos:end="21:28">(<argument pos:start="21:21" pos:end="21:27"><expr pos:start="21:21" pos:end="21:27"><name pos:start="21:21" pos:end="21:23">buf</name> <operator pos:start="21:25" pos:end="21:25">+</operator> <literal type="number" pos:start="21:27" pos:end="21:27">8</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="23:5" pos:end="29:5"><if pos:start="23:5" pos:end="29:5">if <condition pos:start="23:8" pos:end="23:61">(<expr pos:start="23:9" pos:end="23:60"><operator pos:start="23:9" pos:end="23:9">(</operator><name pos:start="23:10" pos:end="23:17">unsigned</name><operator pos:start="23:18" pos:end="23:18">)</operator><name pos:start="23:19" pos:end="23:23">track</name> <operator pos:start="23:25" pos:end="23:26">&gt;=</operator> <name pos:start="23:28" pos:end="23:35">UINT_MAX</name> <operator pos:start="23:37" pos:end="23:37">/</operator> <sizeof pos:start="23:39" pos:end="23:56">sizeof<argument_list pos:start="23:45" pos:end="23:56">(<argument pos:start="23:46" pos:end="23:55"><expr pos:start="23:46" pos:end="23:55"><name pos:start="23:46" pos:end="23:55">AudioTrack</name></expr></argument>)</argument_list></sizeof> <operator pos:start="23:58" pos:end="23:58">-</operator> <literal type="number" pos:start="23:60" pos:end="23:60">1</literal></expr>)</condition> <block pos:start="23:63" pos:end="29:5">{<block_content pos:start="25:9" pos:end="27:35">

        <expr_stmt pos:start="25:9" pos:end="25:61"><expr pos:start="25:9" pos:end="25:60"><call pos:start="25:9" pos:end="25:60"><name pos:start="25:9" pos:end="25:14">av_log</name><argument_list pos:start="25:15" pos:end="25:60">(<argument pos:start="25:16" pos:end="25:16"><expr pos:start="25:16" pos:end="25:16"><name pos:start="25:16" pos:end="25:16">s</name></expr></argument>, <argument pos:start="25:19" pos:end="25:30"><expr pos:start="25:19" pos:end="25:30"><name pos:start="25:19" pos:end="25:30">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="25:33" pos:end="25:59"><expr pos:start="25:33" pos:end="25:59"><literal type="string" pos:start="25:33" pos:end="25:59">"current_track too large\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <return pos:start="27:9" pos:end="27:35">return <expr pos:start="27:16" pos:end="27:34"><name pos:start="27:16" pos:end="27:34">AVERROR_INVALIDDATA</name></expr>;</return>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="33:5" pos:end="45:5"><if pos:start="33:5" pos:end="45:5">if <condition pos:start="33:8" pos:end="33:40">(<expr pos:start="33:9" pos:end="33:39"><name pos:start="33:9" pos:end="33:13">track</name> <operator pos:start="33:15" pos:end="33:15">+</operator> <literal type="number" pos:start="33:17" pos:end="33:17">1</literal> <operator pos:start="33:19" pos:end="33:19">&gt;</operator> <name pos:start="33:21" pos:end="33:39"><name pos:start="33:21" pos:end="33:26">fourxm</name><operator pos:start="33:27" pos:end="33:28">-&gt;</operator><name pos:start="33:29" pos:end="33:39">track_count</name></name></expr>)</condition> <block pos:start="33:42" pos:end="45:5">{<block_content pos:start="35:9" pos:end="43:40">

        <if_stmt pos:start="35:9" pos:end="37:35"><if pos:start="35:9" pos:end="37:35">if <condition pos:start="35:12" pos:end="35:78">(<expr pos:start="35:13" pos:end="35:77"><call pos:start="35:13" pos:end="35:77"><name pos:start="35:13" pos:end="35:29">av_reallocp_array</name><argument_list pos:start="35:30" pos:end="35:77">(<argument pos:start="35:31" pos:end="35:45"><expr pos:start="35:31" pos:end="35:45"><operator pos:start="35:31" pos:end="35:31">&amp;</operator><name pos:start="35:32" pos:end="35:45"><name pos:start="35:32" pos:end="35:37">fourxm</name><operator pos:start="35:38" pos:end="35:39">-&gt;</operator><name pos:start="35:40" pos:end="35:45">tracks</name></name></expr></argument>, <argument pos:start="35:48" pos:end="35:56"><expr pos:start="35:48" pos:end="35:56"><name pos:start="35:48" pos:end="35:52">track</name> <operator pos:start="35:54" pos:end="35:54">+</operator> <literal type="number" pos:start="35:56" pos:end="35:56">1</literal></expr></argument>, <argument pos:start="35:59" pos:end="35:76"><expr pos:start="35:59" pos:end="35:76"><sizeof pos:start="35:59" pos:end="35:76">sizeof<argument_list pos:start="35:65" pos:end="35:76">(<argument pos:start="35:66" pos:end="35:75"><expr pos:start="35:66" pos:end="35:75"><name pos:start="35:66" pos:end="35:75">AudioTrack</name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>)</condition><block type="pseudo" pos:start="37:13" pos:end="37:35"><block_content pos:start="37:13" pos:end="37:35">

            <return pos:start="37:13" pos:end="37:35">return <expr pos:start="37:20" pos:end="37:34"><call pos:start="37:20" pos:end="37:34"><name pos:start="37:20" pos:end="37:26">AVERROR</name><argument_list pos:start="37:27" pos:end="37:34">(<argument pos:start="37:28" pos:end="37:33"><expr pos:start="37:28" pos:end="37:33"><name pos:start="37:28" pos:end="37:33">ENOMEM</name></expr></argument>)</argument_list></call></expr>;</return></block_content></block></if></if_stmt>

        <expr_stmt pos:start="39:9" pos:end="41:71"><expr pos:start="39:9" pos:end="41:70"><call pos:start="39:9" pos:end="41:70"><name pos:start="39:9" pos:end="39:14">memset</name><argument_list pos:start="39:15" pos:end="41:70">(<argument pos:start="39:16" pos:end="39:51"><expr pos:start="39:16" pos:end="39:51"><operator pos:start="39:16" pos:end="39:16">&amp;</operator><name pos:start="39:17" pos:end="39:51"><name pos:start="39:17" pos:end="39:22">fourxm</name><operator pos:start="39:23" pos:end="39:24">-&gt;</operator><name pos:start="39:25" pos:end="39:30">tracks</name><index pos:start="39:31" pos:end="39:51">[<expr pos:start="39:32" pos:end="39:50"><name pos:start="39:32" pos:end="39:50"><name pos:start="39:32" pos:end="39:37">fourxm</name><operator pos:start="39:38" pos:end="39:39">-&gt;</operator><name pos:start="39:40" pos:end="39:50">track_count</name></name></expr>]</index></name></expr></argument>, <argument pos:start="39:54" pos:end="39:54"><expr pos:start="39:54" pos:end="39:54"><literal type="number" pos:start="39:54" pos:end="39:54">0</literal></expr></argument>,

               <argument pos:start="41:16" pos:end="41:69"><expr pos:start="41:16" pos:end="41:69"><sizeof pos:start="41:16" pos:end="41:33">sizeof<argument_list pos:start="41:22" pos:end="41:33">(<argument pos:start="41:23" pos:end="41:32"><expr pos:start="41:23" pos:end="41:32"><name pos:start="41:23" pos:end="41:32">AudioTrack</name></expr></argument>)</argument_list></sizeof> <operator pos:start="41:35" pos:end="41:35">*</operator> <operator pos:start="41:37" pos:end="41:37">(</operator><name pos:start="41:38" pos:end="41:42">track</name> <operator pos:start="41:44" pos:end="41:44">+</operator> <literal type="number" pos:start="41:46" pos:end="41:48">1</literal> <operator pos:start="41:48" pos:end="41:48">-</operator> <name pos:start="41:50" pos:end="41:68"><name pos:start="41:50" pos:end="41:55">fourxm</name><operator pos:start="41:56" pos:end="41:57">-&gt;</operator><name pos:start="41:58" pos:end="41:68">track_count</name></name><operator pos:start="41:69" pos:end="41:69">)</operator></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="43:9" pos:end="43:40"><expr pos:start="43:9" pos:end="43:39"><name pos:start="43:9" pos:end="43:27"><name pos:start="43:9" pos:end="43:14">fourxm</name><operator pos:start="43:15" pos:end="43:16">-&gt;</operator><name pos:start="43:17" pos:end="43:27">track_count</name></name> <operator pos:start="43:29" pos:end="43:29">=</operator> <name pos:start="43:31" pos:end="43:35">track</name> <operator pos:start="43:37" pos:end="43:37">+</operator> <literal type="number" pos:start="43:39" pos:end="43:39">1</literal></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    <expr_stmt pos:start="47:5" pos:end="47:58"><expr pos:start="47:5" pos:end="47:57"><name pos:start="47:5" pos:end="47:25"><name pos:start="47:5" pos:end="47:10">fourxm</name><operator pos:start="47:11" pos:end="47:12">-&gt;</operator><name pos:start="47:13" pos:end="47:18">tracks</name><index pos:start="47:19" pos:end="47:25">[<expr pos:start="47:20" pos:end="47:24"><name pos:start="47:20" pos:end="47:24">track</name></expr>]</index></name><operator pos:start="47:26" pos:end="47:26">.</operator><name pos:start="47:27" pos:end="47:31">adpcm</name>       <operator pos:start="47:39" pos:end="47:39">=</operator> <call pos:start="47:41" pos:end="47:57"><name pos:start="47:41" pos:end="47:47">AV_RL32</name><argument_list pos:start="47:48" pos:end="47:57">(<argument pos:start="47:49" pos:end="47:56"><expr pos:start="47:49" pos:end="47:56"><name pos:start="47:49" pos:end="47:51">buf</name> <operator pos:start="47:53" pos:end="47:53">+</operator> <literal type="number" pos:start="47:55" pos:end="47:56">12</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="49:5" pos:end="49:58"><expr pos:start="49:5" pos:end="49:57"><name pos:start="49:5" pos:end="49:25"><name pos:start="49:5" pos:end="49:10">fourxm</name><operator pos:start="49:11" pos:end="49:12">-&gt;</operator><name pos:start="49:13" pos:end="49:18">tracks</name><index pos:start="49:19" pos:end="49:25">[<expr pos:start="49:20" pos:end="49:24"><name pos:start="49:20" pos:end="49:24">track</name></expr>]</index></name><operator pos:start="49:26" pos:end="49:26">.</operator><name pos:start="49:27" pos:end="49:34">channels</name>    <operator pos:start="49:39" pos:end="49:39">=</operator> <call pos:start="49:41" pos:end="49:57"><name pos:start="49:41" pos:end="49:47">AV_RL32</name><argument_list pos:start="49:48" pos:end="49:57">(<argument pos:start="49:49" pos:end="49:56"><expr pos:start="49:49" pos:end="49:56"><name pos:start="49:49" pos:end="49:51">buf</name> <operator pos:start="49:53" pos:end="49:53">+</operator> <literal type="number" pos:start="49:55" pos:end="49:56">36</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="51:5" pos:end="51:58"><expr pos:start="51:5" pos:end="51:57"><name pos:start="51:5" pos:end="51:25"><name pos:start="51:5" pos:end="51:10">fourxm</name><operator pos:start="51:11" pos:end="51:12">-&gt;</operator><name pos:start="51:13" pos:end="51:18">tracks</name><index pos:start="51:19" pos:end="51:25">[<expr pos:start="51:20" pos:end="51:24"><name pos:start="51:20" pos:end="51:24">track</name></expr>]</index></name><operator pos:start="51:26" pos:end="51:26">.</operator><name pos:start="51:27" pos:end="51:37">sample_rate</name> <operator pos:start="51:39" pos:end="51:39">=</operator> <call pos:start="51:41" pos:end="51:57"><name pos:start="51:41" pos:end="51:47">AV_RL32</name><argument_list pos:start="51:48" pos:end="51:57">(<argument pos:start="51:49" pos:end="51:56"><expr pos:start="51:49" pos:end="51:56"><name pos:start="51:49" pos:end="51:51">buf</name> <operator pos:start="51:53" pos:end="51:53">+</operator> <literal type="number" pos:start="51:55" pos:end="51:56">40</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="53:5" pos:end="53:58"><expr pos:start="53:5" pos:end="53:57"><name pos:start="53:5" pos:end="53:25"><name pos:start="53:5" pos:end="53:10">fourxm</name><operator pos:start="53:11" pos:end="53:12">-&gt;</operator><name pos:start="53:13" pos:end="53:18">tracks</name><index pos:start="53:19" pos:end="53:25">[<expr pos:start="53:20" pos:end="53:24"><name pos:start="53:20" pos:end="53:24">track</name></expr>]</index></name><operator pos:start="53:26" pos:end="53:26">.</operator><name pos:start="53:27" pos:end="53:30">bits</name>        <operator pos:start="53:39" pos:end="53:39">=</operator> <call pos:start="53:41" pos:end="53:57"><name pos:start="53:41" pos:end="53:47">AV_RL32</name><argument_list pos:start="53:48" pos:end="53:57">(<argument pos:start="53:49" pos:end="53:56"><expr pos:start="53:49" pos:end="53:56"><name pos:start="53:49" pos:end="53:51">buf</name> <operator pos:start="53:53" pos:end="53:53">+</operator> <literal type="number" pos:start="53:55" pos:end="53:56">44</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="55:5" pos:end="55:42"><expr pos:start="55:5" pos:end="55:41"><name pos:start="55:5" pos:end="55:25"><name pos:start="55:5" pos:end="55:10">fourxm</name><operator pos:start="55:11" pos:end="55:12">-&gt;</operator><name pos:start="55:13" pos:end="55:18">tracks</name><index pos:start="55:19" pos:end="55:25">[<expr pos:start="55:20" pos:end="55:24"><name pos:start="55:20" pos:end="55:24">track</name></expr>]</index></name><operator pos:start="55:26" pos:end="55:26">.</operator><name pos:start="55:27" pos:end="55:35">audio_pts</name>   <operator pos:start="55:39" pos:end="55:39">=</operator> <literal type="number" pos:start="55:41" pos:end="55:41">0</literal></expr>;</expr_stmt>



    <if_stmt pos:start="59:5" pos:end="69:5"><if pos:start="59:5" pos:end="69:5">if <condition pos:start="59:8" pos:end="63:47">(<expr pos:start="59:9" pos:end="63:46"><name pos:start="59:9" pos:end="59:29"><name pos:start="59:9" pos:end="59:14">fourxm</name><operator pos:start="59:15" pos:end="59:16">-&gt;</operator><name pos:start="59:17" pos:end="59:22">tracks</name><index pos:start="59:23" pos:end="59:29">[<expr pos:start="59:24" pos:end="59:28"><name pos:start="59:24" pos:end="59:28">track</name></expr>]</index></name><operator pos:start="59:30" pos:end="59:30">.</operator><name pos:start="59:31" pos:end="59:38">channels</name>    <operator pos:start="59:43" pos:end="59:44">&lt;=</operator> <literal type="number" pos:start="59:46" pos:end="59:46">0</literal> <operator pos:start="59:48" pos:end="59:49">||</operator>

        <name pos:start="61:9" pos:end="61:29"><name pos:start="61:9" pos:end="61:14">fourxm</name><operator pos:start="61:15" pos:end="61:16">-&gt;</operator><name pos:start="61:17" pos:end="61:22">tracks</name><index pos:start="61:23" pos:end="61:29">[<expr pos:start="61:24" pos:end="61:28"><name pos:start="61:24" pos:end="61:28">track</name></expr>]</index></name><operator pos:start="61:30" pos:end="61:30">.</operator><name pos:start="61:31" pos:end="61:41">sample_rate</name> <operator pos:start="61:43" pos:end="61:44">&lt;=</operator> <literal type="number" pos:start="61:46" pos:end="61:46">0</literal> <operator pos:start="61:48" pos:end="61:49">||</operator>

        <name pos:start="63:9" pos:end="63:29"><name pos:start="63:9" pos:end="63:14">fourxm</name><operator pos:start="63:15" pos:end="63:16">-&gt;</operator><name pos:start="63:17" pos:end="63:22">tracks</name><index pos:start="63:23" pos:end="63:29">[<expr pos:start="63:24" pos:end="63:28"><name pos:start="63:24" pos:end="63:28">track</name></expr>]</index></name><operator pos:start="63:30" pos:end="63:30">.</operator><name pos:start="63:31" pos:end="63:34">bits</name>        <operator pos:start="63:43" pos:end="63:44">&lt;=</operator> <literal type="number" pos:start="63:46" pos:end="63:46">0</literal></expr>)</condition> <block pos:start="63:49" pos:end="69:5">{<block_content pos:start="65:9" pos:end="67:35">

        <expr_stmt pos:start="65:9" pos:end="65:58"><expr pos:start="65:9" pos:end="65:57"><call pos:start="65:9" pos:end="65:57"><name pos:start="65:9" pos:end="65:14">av_log</name><argument_list pos:start="65:15" pos:end="65:57">(<argument pos:start="65:16" pos:end="65:16"><expr pos:start="65:16" pos:end="65:16"><name pos:start="65:16" pos:end="65:16">s</name></expr></argument>, <argument pos:start="65:19" pos:end="65:30"><expr pos:start="65:19" pos:end="65:30"><name pos:start="65:19" pos:end="65:30">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="65:33" pos:end="65:56"><expr pos:start="65:33" pos:end="65:56"><literal type="string" pos:start="65:33" pos:end="65:56">"audio header invalid\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <return pos:start="67:9" pos:end="67:35">return <expr pos:start="67:16" pos:end="67:34"><name pos:start="67:16" pos:end="67:34">AVERROR_INVALIDDATA</name></expr>;</return>

    </block_content>}</block></if></if_stmt>

    <if_stmt pos:start="71:5" pos:end="77:5"><if pos:start="71:5" pos:end="77:5">if <condition pos:start="71:8" pos:end="71:69">(<expr pos:start="71:9" pos:end="71:68"><operator pos:start="71:9" pos:end="71:9">!</operator><name pos:start="71:10" pos:end="71:30"><name pos:start="71:10" pos:end="71:15">fourxm</name><operator pos:start="71:16" pos:end="71:17">-&gt;</operator><name pos:start="71:18" pos:end="71:23">tracks</name><index pos:start="71:24" pos:end="71:30">[<expr pos:start="71:25" pos:end="71:29"><name pos:start="71:25" pos:end="71:29">track</name></expr>]</index></name><operator pos:start="71:31" pos:end="71:31">.</operator><name pos:start="71:32" pos:end="71:36">adpcm</name> <operator pos:start="71:38" pos:end="71:39">&amp;&amp;</operator> <name pos:start="71:41" pos:end="71:61"><name pos:start="71:41" pos:end="71:46">fourxm</name><operator pos:start="71:47" pos:end="71:48">-&gt;</operator><name pos:start="71:49" pos:end="71:54">tracks</name><index pos:start="71:55" pos:end="71:61">[<expr pos:start="71:56" pos:end="71:60"><name pos:start="71:56" pos:end="71:60">track</name></expr>]</index></name><operator pos:start="71:62" pos:end="71:62">.</operator><name pos:start="71:63" pos:end="71:66">bits</name><operator pos:start="71:67" pos:end="71:67">&lt;</operator><literal type="number" pos:start="71:68" pos:end="71:68">8</literal></expr>)</condition> <block pos:start="71:71" pos:end="77:5">{<block_content pos:start="73:9" pos:end="75:35">

        <expr_stmt pos:start="73:9" pos:end="73:68"><expr pos:start="73:9" pos:end="73:67"><call pos:start="73:9" pos:end="73:67"><name pos:start="73:9" pos:end="73:14">av_log</name><argument_list pos:start="73:15" pos:end="73:67">(<argument pos:start="73:16" pos:end="73:16"><expr pos:start="73:16" pos:end="73:16"><name pos:start="73:16" pos:end="73:16">s</name></expr></argument>, <argument pos:start="73:19" pos:end="73:30"><expr pos:start="73:19" pos:end="73:30"><name pos:start="73:19" pos:end="73:30">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="73:33" pos:end="73:66"><expr pos:start="73:33" pos:end="73:66"><literal type="string" pos:start="73:33" pos:end="73:66">"bits unspecified for non ADPCM\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <return pos:start="75:9" pos:end="75:35">return <expr pos:start="75:16" pos:end="75:34"><name pos:start="75:16" pos:end="75:34">AVERROR_INVALIDDATA</name></expr>;</return>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="81:5" pos:end="89:5"><if pos:start="81:5" pos:end="89:5">if <condition pos:start="81:8" pos:end="81:116">(<expr pos:start="81:9" pos:end="81:115"><name pos:start="81:9" pos:end="81:29"><name pos:start="81:9" pos:end="81:14">fourxm</name><operator pos:start="81:15" pos:end="81:16">-&gt;</operator><name pos:start="81:17" pos:end="81:22">tracks</name><index pos:start="81:23" pos:end="81:29">[<expr pos:start="81:24" pos:end="81:28"><name pos:start="81:24" pos:end="81:28">track</name></expr>]</index></name><operator pos:start="81:30" pos:end="81:30">.</operator><name pos:start="81:31" pos:end="81:41">sample_rate</name> <operator pos:start="81:43" pos:end="81:43">&gt;</operator> <name pos:start="81:45" pos:end="81:53">INT64_MAX</name> <operator pos:start="81:55" pos:end="81:55">/</operator> <name pos:start="81:57" pos:end="81:77"><name pos:start="81:57" pos:end="81:62">fourxm</name><operator pos:start="81:63" pos:end="81:64">-&gt;</operator><name pos:start="81:65" pos:end="81:70">tracks</name><index pos:start="81:71" pos:end="81:77">[<expr pos:start="81:72" pos:end="81:76"><name pos:start="81:72" pos:end="81:76">track</name></expr>]</index></name><operator pos:start="81:78" pos:end="81:78">.</operator><name pos:start="81:79" pos:end="81:82">bits</name> <operator pos:start="81:84" pos:end="81:84">/</operator> <name pos:start="81:86" pos:end="81:106"><name pos:start="81:86" pos:end="81:91">fourxm</name><operator pos:start="81:92" pos:end="81:93">-&gt;</operator><name pos:start="81:94" pos:end="81:99">tracks</name><index pos:start="81:100" pos:end="81:106">[<expr pos:start="81:101" pos:end="81:105"><name pos:start="81:101" pos:end="81:105">track</name></expr>]</index></name><operator pos:start="81:107" pos:end="81:107">.</operator><name pos:start="81:108" pos:end="81:115">channels</name></expr>)</condition> <block pos:start="81:118" pos:end="89:5">{<block_content pos:start="83:9" pos:end="87:35">

        <expr_stmt pos:start="83:9" pos:end="85:110"><expr pos:start="83:9" pos:end="85:109"><call pos:start="83:9" pos:end="85:109"><name pos:start="83:9" pos:end="83:14">av_log</name><argument_list pos:start="83:15" pos:end="85:109">(<argument pos:start="83:16" pos:end="83:16"><expr pos:start="83:16" pos:end="83:16"><name pos:start="83:16" pos:end="83:16">s</name></expr></argument>, <argument pos:start="83:19" pos:end="83:30"><expr pos:start="83:19" pos:end="83:30"><name pos:start="83:19" pos:end="83:30">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="83:33" pos:end="83:85"><expr pos:start="83:33" pos:end="83:85"><literal type="string" pos:start="83:33" pos:end="83:85">"Overflow during bit rate calculation %d * %d * %d\n"</literal></expr></argument>,

               <argument pos:start="85:16" pos:end="85:48"><expr pos:start="85:16" pos:end="85:48"><name pos:start="85:16" pos:end="85:36"><name pos:start="85:16" pos:end="85:21">fourxm</name><operator pos:start="85:22" pos:end="85:23">-&gt;</operator><name pos:start="85:24" pos:end="85:29">tracks</name><index pos:start="85:30" pos:end="85:36">[<expr pos:start="85:31" pos:end="85:35"><name pos:start="85:31" pos:end="85:35">track</name></expr>]</index></name><operator pos:start="85:37" pos:end="85:37">.</operator><name pos:start="85:38" pos:end="85:48">sample_rate</name></expr></argument>, <argument pos:start="85:51" pos:end="85:76"><expr pos:start="85:51" pos:end="85:76"><name pos:start="85:51" pos:end="85:71"><name pos:start="85:51" pos:end="85:56">fourxm</name><operator pos:start="85:57" pos:end="85:58">-&gt;</operator><name pos:start="85:59" pos:end="85:64">tracks</name><index pos:start="85:65" pos:end="85:71">[<expr pos:start="85:66" pos:end="85:70"><name pos:start="85:66" pos:end="85:70">track</name></expr>]</index></name><operator pos:start="85:72" pos:end="85:72">.</operator><name pos:start="85:73" pos:end="85:76">bits</name></expr></argument>, <argument pos:start="85:79" pos:end="85:108"><expr pos:start="85:79" pos:end="85:108"><name pos:start="85:79" pos:end="85:99"><name pos:start="85:79" pos:end="85:84">fourxm</name><operator pos:start="85:85" pos:end="85:86">-&gt;</operator><name pos:start="85:87" pos:end="85:92">tracks</name><index pos:start="85:93" pos:end="85:99">[<expr pos:start="85:94" pos:end="85:98"><name pos:start="85:94" pos:end="85:98">track</name></expr>]</index></name><operator pos:start="85:100" pos:end="85:100">.</operator><name pos:start="85:101" pos:end="85:108">channels</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <return pos:start="87:9" pos:end="87:35">return <expr pos:start="87:16" pos:end="87:34"><name pos:start="87:16" pos:end="87:34">AVERROR_INVALIDDATA</name></expr>;</return>

    </block_content>}</block></if></if_stmt>



    <comment type="block" pos:start="93:5" pos:end="93:33">/* allocate a new AVStream */</comment>

    <expr_stmt pos:start="95:5" pos:end="95:38"><expr pos:start="95:5" pos:end="95:37"><name pos:start="95:5" pos:end="95:6">st</name> <operator pos:start="95:8" pos:end="95:8">=</operator> <call pos:start="95:10" pos:end="95:37"><name pos:start="95:10" pos:end="95:28">avformat_new_stream</name><argument_list pos:start="95:29" pos:end="95:37">(<argument pos:start="95:30" pos:end="95:30"><expr pos:start="95:30" pos:end="95:30"><name pos:start="95:30" pos:end="95:30">s</name></expr></argument>, <argument pos:start="95:33" pos:end="95:36"><expr pos:start="95:33" pos:end="95:36"><name pos:start="95:33" pos:end="95:36">NULL</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="97:5" pos:end="99:31"><if pos:start="97:5" pos:end="99:31">if <condition pos:start="97:8" pos:end="97:12">(<expr pos:start="97:9" pos:end="97:11"><operator pos:start="97:9" pos:end="97:9">!</operator><name pos:start="97:10" pos:end="97:11">st</name></expr>)</condition><block type="pseudo" pos:start="99:9" pos:end="99:31"><block_content pos:start="99:9" pos:end="99:31">

        <return pos:start="99:9" pos:end="99:31">return <expr pos:start="99:16" pos:end="99:30"><call pos:start="99:16" pos:end="99:30"><name pos:start="99:16" pos:end="99:22">AVERROR</name><argument_list pos:start="99:23" pos:end="99:30">(<argument pos:start="99:24" pos:end="99:29"><expr pos:start="99:24" pos:end="99:29"><name pos:start="99:24" pos:end="99:29">ENOMEM</name></expr></argument>)</argument_list></call></expr>;</return></block_content></block></if></if_stmt>



    <expr_stmt pos:start="103:5" pos:end="103:19"><expr pos:start="103:5" pos:end="103:18"><name pos:start="103:5" pos:end="103:10"><name pos:start="103:5" pos:end="103:6">st</name><operator pos:start="103:7" pos:end="103:8">-&gt;</operator><name pos:start="103:9" pos:end="103:10">id</name></name> <operator pos:start="103:12" pos:end="103:12">=</operator> <name pos:start="103:14" pos:end="103:18">track</name></expr>;</expr_stmt>

    <expr_stmt pos:start="105:5" pos:end="105:70"><expr pos:start="105:5" pos:end="105:69"><call pos:start="105:5" pos:end="105:69"><name pos:start="105:5" pos:end="105:23">avpriv_set_pts_info</name><argument_list pos:start="105:24" pos:end="105:69">(<argument pos:start="105:25" pos:end="105:26"><expr pos:start="105:25" pos:end="105:26"><name pos:start="105:25" pos:end="105:26">st</name></expr></argument>, <argument pos:start="105:29" pos:end="105:30"><expr pos:start="105:29" pos:end="105:30"><literal type="number" pos:start="105:29" pos:end="105:30">60</literal></expr></argument>, <argument pos:start="105:33" pos:end="105:33"><expr pos:start="105:33" pos:end="105:33"><literal type="number" pos:start="105:33" pos:end="105:33">1</literal></expr></argument>, <argument pos:start="105:36" pos:end="105:68"><expr pos:start="105:36" pos:end="105:68"><name pos:start="105:36" pos:end="105:56"><name pos:start="105:36" pos:end="105:41">fourxm</name><operator pos:start="105:42" pos:end="105:43">-&gt;</operator><name pos:start="105:44" pos:end="105:49">tracks</name><index pos:start="105:50" pos:end="105:56">[<expr pos:start="105:51" pos:end="105:55"><name pos:start="105:51" pos:end="105:55">track</name></expr>]</index></name><operator pos:start="105:57" pos:end="105:57">.</operator><name pos:start="105:58" pos:end="105:68">sample_rate</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="109:5" pos:end="109:51"><expr pos:start="109:5" pos:end="109:50"><name pos:start="109:5" pos:end="109:25"><name pos:start="109:5" pos:end="109:10">fourxm</name><operator pos:start="109:11" pos:end="109:12">-&gt;</operator><name pos:start="109:13" pos:end="109:18">tracks</name><index pos:start="109:19" pos:end="109:25">[<expr pos:start="109:20" pos:end="109:24"><name pos:start="109:20" pos:end="109:24">track</name></expr>]</index></name><operator pos:start="109:26" pos:end="109:26">.</operator><name pos:start="109:27" pos:end="109:38">stream_index</name> <operator pos:start="109:40" pos:end="109:40">=</operator> <name pos:start="109:42" pos:end="109:50"><name pos:start="109:42" pos:end="109:43">st</name><operator pos:start="109:44" pos:end="109:45">-&gt;</operator><name pos:start="109:46" pos:end="109:50">index</name></name></expr>;</expr_stmt>



    <expr_stmt pos:start="113:5" pos:end="113:61"><expr pos:start="113:5" pos:end="113:60"><name pos:start="113:5" pos:end="113:28"><name pos:start="113:5" pos:end="113:6">st</name><operator pos:start="113:7" pos:end="113:8">-&gt;</operator><name pos:start="113:9" pos:end="113:16">codecpar</name><operator pos:start="113:17" pos:end="113:18">-&gt;</operator><name pos:start="113:19" pos:end="113:28">codec_type</name></name>            <operator pos:start="113:41" pos:end="113:41">=</operator> <name pos:start="113:43" pos:end="113:60">AVMEDIA_TYPE_AUDIO</name></expr>;</expr_stmt>

    <expr_stmt pos:start="115:5" pos:end="115:44"><expr pos:start="115:5" pos:end="115:43"><name pos:start="115:5" pos:end="115:27"><name pos:start="115:5" pos:end="115:6">st</name><operator pos:start="115:7" pos:end="115:8">-&gt;</operator><name pos:start="115:9" pos:end="115:16">codecpar</name><operator pos:start="115:17" pos:end="115:18">-&gt;</operator><name pos:start="115:19" pos:end="115:27">codec_tag</name></name>             <operator pos:start="115:41" pos:end="115:41">=</operator> <literal type="number" pos:start="115:43" pos:end="115:43">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="117:5" pos:end="117:73"><expr pos:start="117:5" pos:end="117:72"><name pos:start="117:5" pos:end="117:26"><name pos:start="117:5" pos:end="117:6">st</name><operator pos:start="117:7" pos:end="117:8">-&gt;</operator><name pos:start="117:9" pos:end="117:16">codecpar</name><operator pos:start="117:17" pos:end="117:18">-&gt;</operator><name pos:start="117:19" pos:end="117:26">channels</name></name>              <operator pos:start="117:41" pos:end="117:41">=</operator> <name pos:start="117:43" pos:end="117:63"><name pos:start="117:43" pos:end="117:48">fourxm</name><operator pos:start="117:49" pos:end="117:50">-&gt;</operator><name pos:start="117:51" pos:end="117:56">tracks</name><index pos:start="117:57" pos:end="117:63">[<expr pos:start="117:58" pos:end="117:62"><name pos:start="117:58" pos:end="117:62">track</name></expr>]</index></name><operator pos:start="117:64" pos:end="117:64">.</operator><name pos:start="117:65" pos:end="117:72">channels</name></expr>;</expr_stmt>

    <expr_stmt pos:start="119:5" pos:end="119:76"><expr pos:start="119:5" pos:end="119:75"><name pos:start="119:5" pos:end="119:29"><name pos:start="119:5" pos:end="119:6">st</name><operator pos:start="119:7" pos:end="119:8">-&gt;</operator><name pos:start="119:9" pos:end="119:16">codecpar</name><operator pos:start="119:17" pos:end="119:18">-&gt;</operator><name pos:start="119:19" pos:end="119:29">sample_rate</name></name>           <operator pos:start="119:41" pos:end="119:41">=</operator> <name pos:start="119:43" pos:end="119:63"><name pos:start="119:43" pos:end="119:48">fourxm</name><operator pos:start="119:49" pos:end="119:50">-&gt;</operator><name pos:start="119:51" pos:end="119:56">tracks</name><index pos:start="119:57" pos:end="119:63">[<expr pos:start="119:58" pos:end="119:62"><name pos:start="119:58" pos:end="119:62">track</name></expr>]</index></name><operator pos:start="119:64" pos:end="119:64">.</operator><name pos:start="119:65" pos:end="119:75">sample_rate</name></expr>;</expr_stmt>

    <expr_stmt pos:start="121:5" pos:end="121:69"><expr pos:start="121:5" pos:end="121:68"><name pos:start="121:5" pos:end="121:39"><name pos:start="121:5" pos:end="121:6">st</name><operator pos:start="121:7" pos:end="121:8">-&gt;</operator><name pos:start="121:9" pos:end="121:16">codecpar</name><operator pos:start="121:17" pos:end="121:18">-&gt;</operator><name pos:start="121:19" pos:end="121:39">bits_per_coded_sample</name></name> <operator pos:start="121:41" pos:end="121:41">=</operator> <name pos:start="121:43" pos:end="121:63"><name pos:start="121:43" pos:end="121:48">fourxm</name><operator pos:start="121:49" pos:end="121:50">-&gt;</operator><name pos:start="121:51" pos:end="121:56">tracks</name><index pos:start="121:57" pos:end="121:63">[<expr pos:start="121:58" pos:end="121:62"><name pos:start="121:58" pos:end="121:62">track</name></expr>]</index></name><operator pos:start="121:64" pos:end="121:64">.</operator><name pos:start="121:65" pos:end="121:68">bits</name></expr>;</expr_stmt>

    <expr_stmt pos:start="123:5" pos:end="127:78"><expr pos:start="123:5" pos:end="127:77"><name pos:start="123:5" pos:end="123:26"><name pos:start="123:5" pos:end="123:6">st</name><operator pos:start="123:7" pos:end="123:8">-&gt;</operator><name pos:start="123:9" pos:end="123:16">codecpar</name><operator pos:start="123:17" pos:end="123:18">-&gt;</operator><name pos:start="123:19" pos:end="123:26">bit_rate</name></name>              <operator pos:start="123:41" pos:end="123:41">=</operator> <operator pos:start="123:43" pos:end="123:43">(</operator><name pos:start="123:44" pos:end="123:50">int64_t</name><operator pos:start="123:51" pos:end="123:51">)</operator><name pos:start="123:52" pos:end="123:73"><name pos:start="123:52" pos:end="123:53">st</name><operator pos:start="123:54" pos:end="123:55">-&gt;</operator><name pos:start="123:56" pos:end="123:63">codecpar</name><operator pos:start="123:64" pos:end="123:65">-&gt;</operator><name pos:start="123:66" pos:end="123:73">channels</name></name> <operator pos:start="123:75" pos:end="123:75">*</operator>

                                          <name pos:start="125:43" pos:end="125:67"><name pos:start="125:43" pos:end="125:44">st</name><operator pos:start="125:45" pos:end="125:46">-&gt;</operator><name pos:start="125:47" pos:end="125:54">codecpar</name><operator pos:start="125:55" pos:end="125:56">-&gt;</operator><name pos:start="125:57" pos:end="125:67">sample_rate</name></name> <operator pos:start="125:69" pos:end="125:69">*</operator>

                                          <name pos:start="127:43" pos:end="127:77"><name pos:start="127:43" pos:end="127:44">st</name><operator pos:start="127:45" pos:end="127:46">-&gt;</operator><name pos:start="127:47" pos:end="127:54">codecpar</name><operator pos:start="127:55" pos:end="127:56">-&gt;</operator><name pos:start="127:57" pos:end="127:77">bits_per_coded_sample</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="129:5" pos:end="131:78"><expr pos:start="129:5" pos:end="131:77"><name pos:start="129:5" pos:end="129:29"><name pos:start="129:5" pos:end="129:6">st</name><operator pos:start="129:7" pos:end="129:8">-&gt;</operator><name pos:start="129:9" pos:end="129:16">codecpar</name><operator pos:start="129:17" pos:end="129:18">-&gt;</operator><name pos:start="129:19" pos:end="129:29">block_align</name></name>           <operator pos:start="129:41" pos:end="129:41">=</operator> <name pos:start="129:43" pos:end="129:64"><name pos:start="129:43" pos:end="129:44">st</name><operator pos:start="129:45" pos:end="129:46">-&gt;</operator><name pos:start="129:47" pos:end="129:54">codecpar</name><operator pos:start="129:55" pos:end="129:56">-&gt;</operator><name pos:start="129:57" pos:end="129:64">channels</name></name> <operator pos:start="129:66" pos:end="129:66">*</operator>

                                          <name pos:start="131:43" pos:end="131:77"><name pos:start="131:43" pos:end="131:44">st</name><operator pos:start="131:45" pos:end="131:46">-&gt;</operator><name pos:start="131:47" pos:end="131:54">codecpar</name><operator pos:start="131:55" pos:end="131:56">-&gt;</operator><name pos:start="131:57" pos:end="131:77">bits_per_coded_sample</name></name></expr>;</expr_stmt>



    <if_stmt pos:start="135:5" pos:end="145:55"><if pos:start="135:5" pos:end="139:5">if <condition pos:start="135:8" pos:end="135:36">(<expr pos:start="135:9" pos:end="135:35"><name pos:start="135:9" pos:end="135:29"><name pos:start="135:9" pos:end="135:14">fourxm</name><operator pos:start="135:15" pos:end="135:16">-&gt;</operator><name pos:start="135:17" pos:end="135:22">tracks</name><index pos:start="135:23" pos:end="135:29">[<expr pos:start="135:24" pos:end="135:28"><name pos:start="135:24" pos:end="135:28">track</name></expr>]</index></name><operator pos:start="135:30" pos:end="135:30">.</operator><name pos:start="135:31" pos:end="135:35">adpcm</name></expr>)</condition><block pos:start="135:37" pos:end="139:5">{<block_content pos:start="137:9" pos:end="137:55">

        <expr_stmt pos:start="137:9" pos:end="137:55"><expr pos:start="137:9" pos:end="137:54"><name pos:start="137:9" pos:end="137:30"><name pos:start="137:9" pos:end="137:10">st</name><operator pos:start="137:11" pos:end="137:12">-&gt;</operator><name pos:start="137:13" pos:end="137:20">codecpar</name><operator pos:start="137:21" pos:end="137:22">-&gt;</operator><name pos:start="137:23" pos:end="137:30">codec_id</name></name> <operator pos:start="137:32" pos:end="137:32">=</operator> <name pos:start="137:34" pos:end="137:54">AV_CODEC_ID_ADPCM_4XM</name></expr>;</expr_stmt>

    </block_content>}</block></if> <if type="elseif" pos:start="139:7" pos:end="143:5">else if <condition pos:start="139:15" pos:end="139:56">(<expr pos:start="139:16" pos:end="139:55"><name pos:start="139:16" pos:end="139:50"><name pos:start="139:16" pos:end="139:17">st</name><operator pos:start="139:18" pos:end="139:19">-&gt;</operator><name pos:start="139:20" pos:end="139:27">codecpar</name><operator pos:start="139:28" pos:end="139:29">-&gt;</operator><name pos:start="139:30" pos:end="139:50">bits_per_coded_sample</name></name> <operator pos:start="139:52" pos:end="139:53">==</operator> <literal type="number" pos:start="139:55" pos:end="139:55">8</literal></expr>)</condition> <block pos:start="139:58" pos:end="143:5">{<block_content pos:start="141:9" pos:end="141:52">

        <expr_stmt pos:start="141:9" pos:end="141:52"><expr pos:start="141:9" pos:end="141:51"><name pos:start="141:9" pos:end="141:30"><name pos:start="141:9" pos:end="141:10">st</name><operator pos:start="141:11" pos:end="141:12">-&gt;</operator><name pos:start="141:13" pos:end="141:20">codecpar</name><operator pos:start="141:21" pos:end="141:22">-&gt;</operator><name pos:start="141:23" pos:end="141:30">codec_id</name></name> <operator pos:start="141:32" pos:end="141:32">=</operator> <name pos:start="141:34" pos:end="141:51">AV_CODEC_ID_PCM_U8</name></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="143:7" pos:end="145:55">else<block type="pseudo" pos:start="145:9" pos:end="145:55"><block_content pos:start="145:9" pos:end="145:55">

        <expr_stmt pos:start="145:9" pos:end="145:55"><expr pos:start="145:9" pos:end="145:54"><name pos:start="145:9" pos:end="145:30"><name pos:start="145:9" pos:end="145:10">st</name><operator pos:start="145:11" pos:end="145:12">-&gt;</operator><name pos:start="145:13" pos:end="145:20">codecpar</name><operator pos:start="145:21" pos:end="145:22">-&gt;</operator><name pos:start="145:23" pos:end="145:30">codec_id</name></name> <operator pos:start="145:32" pos:end="145:32">=</operator> <name pos:start="145:34" pos:end="145:54">AV_CODEC_ID_PCM_S16LE</name></expr>;</expr_stmt></block_content></block></else></if_stmt>



    <return pos:start="149:5" pos:end="149:13">return <expr pos:start="149:12" pos:end="149:12"><literal type="number" pos:start="149:12" pos:end="149:12">0</literal></expr>;</return>

</block_content>}</block></function>
</unit>
