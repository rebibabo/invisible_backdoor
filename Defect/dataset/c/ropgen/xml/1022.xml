<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/1022.c" pos:tabs="8"><function pos:start="1:1" pos:end="365:1"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:36">psy_3gpp_analyze_channel</name><parameter_list pos:start="1:37" pos:end="3:83">(<parameter pos:start="1:38" pos:end="1:54"><decl pos:start="1:38" pos:end="1:54"><type pos:start="1:38" pos:end="1:54"><name pos:start="1:38" pos:end="1:49">FFPsyContext</name> <modifier pos:start="1:51" pos:end="1:51">*</modifier></type><name pos:start="1:52" pos:end="1:54">ctx</name></decl></parameter>, <parameter pos:start="1:57" pos:end="1:67"><decl pos:start="1:57" pos:end="1:67"><type pos:start="1:57" pos:end="1:67"><name pos:start="1:57" pos:end="1:59">int</name></type> <name pos:start="1:61" pos:end="1:67">channel</name></decl></parameter>,

                                     <parameter pos:start="3:38" pos:end="3:55"><decl pos:start="3:38" pos:end="3:55"><type pos:start="3:38" pos:end="3:55"><specifier pos:start="3:38" pos:end="3:42">const</specifier> <name pos:start="3:44" pos:end="3:48">float</name> <modifier pos:start="3:50" pos:end="3:50">*</modifier></type><name pos:start="3:51" pos:end="3:55">coefs</name></decl></parameter>, <parameter pos:start="3:58" pos:end="3:82"><decl pos:start="3:58" pos:end="3:82"><type pos:start="3:58" pos:end="3:82"><specifier pos:start="3:58" pos:end="3:62">const</specifier> <name pos:start="3:64" pos:end="3:78">FFPsyWindowInfo</name> <modifier pos:start="3:80" pos:end="3:80">*</modifier></type><name pos:start="3:81" pos:end="3:82">wi</name></decl></parameter>)</parameter_list>

<block pos:start="5:1" pos:end="365:1">{<block_content pos:start="7:5" pos:end="363:57">

    <decl_stmt pos:start="7:5" pos:end="7:64"><decl pos:start="7:5" pos:end="7:63"><type pos:start="7:5" pos:end="7:19"><name pos:start="7:5" pos:end="7:17">AacPsyContext</name> <modifier pos:start="7:19" pos:end="7:19">*</modifier></type><name pos:start="7:20" pos:end="7:23">pctx</name> <init pos:start="7:25" pos:end="7:63">= <expr pos:start="7:27" pos:end="7:63"><operator pos:start="7:27" pos:end="7:27">(</operator><name pos:start="7:28" pos:end="7:40">AacPsyContext</name><operator pos:start="7:41" pos:end="7:41">*</operator><operator pos:start="7:42" pos:end="7:42">)</operator> <name pos:start="7:44" pos:end="7:63"><name pos:start="7:44" pos:end="7:46">ctx</name><operator pos:start="7:47" pos:end="7:48">-&gt;</operator><name pos:start="7:49" pos:end="7:63">model_priv_data</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:45"><decl pos:start="9:5" pos:end="9:44"><type pos:start="9:5" pos:end="9:19"><name pos:start="9:5" pos:end="9:17">AacPsyChannel</name> <modifier pos:start="9:19" pos:end="9:19">*</modifier></type><name pos:start="9:20" pos:end="9:22">pch</name>  <init pos:start="9:25" pos:end="9:44">= <expr pos:start="9:27" pos:end="9:44"><operator pos:start="9:27" pos:end="9:27">&amp;</operator><name pos:start="9:28" pos:end="9:44"><name pos:start="9:28" pos:end="9:31">pctx</name><operator pos:start="9:32" pos:end="9:33">-&gt;</operator><name pos:start="9:34" pos:end="9:35">ch</name><index pos:start="9:36" pos:end="9:44">[<expr pos:start="9:37" pos:end="9:43"><name pos:start="9:37" pos:end="9:43">channel</name></expr>]</index></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:18"><decl pos:start="11:5" pos:end="11:17"><type pos:start="11:5" pos:end="11:7"><name pos:start="11:5" pos:end="11:7">int</name></type> <name pos:start="11:9" pos:end="11:13">start</name> <init pos:start="11:15" pos:end="11:17">= <expr pos:start="11:17" pos:end="11:17"><literal type="number" pos:start="11:17" pos:end="11:17">0</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:16"><decl pos:start="13:5" pos:end="13:9"><type pos:start="13:5" pos:end="13:7"><name pos:start="13:5" pos:end="13:7">int</name></type> <name pos:start="13:9" pos:end="13:9">i</name></decl>, <decl pos:start="13:12" pos:end="13:12"><type ref="prev" pos:start="13:5" pos:end="13:7"/><name pos:start="13:12" pos:end="13:12">w</name></decl>, <decl pos:start="13:15" pos:end="13:15"><type ref="prev" pos:start="13:5" pos:end="13:7"/><name pos:start="13:15" pos:end="13:15">g</name></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="15:78"><decl pos:start="15:5" pos:end="15:22"><type pos:start="15:5" pos:end="15:9"><name pos:start="15:5" pos:end="15:9">float</name></type> <name pos:start="15:11" pos:end="15:22">desired_bits</name></decl>, <decl pos:start="15:25" pos:end="15:34"><type ref="prev" pos:start="15:5" pos:end="15:9"/><name pos:start="15:25" pos:end="15:34">desired_pe</name></decl>, <decl pos:start="15:37" pos:end="15:44"><type ref="prev" pos:start="15:5" pos:end="15:9"/><name pos:start="15:37" pos:end="15:44">delta_pe</name></decl>, <decl pos:start="15:47" pos:end="15:55"><type ref="prev" pos:start="15:5" pos:end="15:9"/><name pos:start="15:47" pos:end="15:55">reduction</name></decl>, <decl pos:start="15:58" pos:end="15:77"><type ref="prev" pos:start="15:5" pos:end="15:9"/><name pos:start="15:58" pos:end="15:71"><name pos:start="15:58" pos:end="15:66">spread_en</name><index pos:start="15:67" pos:end="15:71">[<expr pos:start="15:68" pos:end="15:70"><literal type="number" pos:start="15:68" pos:end="15:70">128</literal></expr>]</index></name> <init pos:start="15:73" pos:end="15:77">= <expr pos:start="15:75" pos:end="15:77"><block pos:start="15:75" pos:end="15:77">{<expr pos:start="15:76" pos:end="15:76"><literal type="number" pos:start="15:76" pos:end="15:76">0</literal></expr>}</block></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="17:5" pos:end="17:57"><decl pos:start="17:5" pos:end="17:18"><type pos:start="17:5" pos:end="17:9"><name pos:start="17:5" pos:end="17:9">float</name></type> <name pos:start="17:11" pos:end="17:11">a</name> <init pos:start="17:13" pos:end="17:18">= <expr pos:start="17:15" pos:end="17:18"><literal type="number" pos:start="17:15" pos:end="17:18">0.0f</literal></expr></init></decl>, <decl pos:start="17:21" pos:end="17:39"><type ref="prev" pos:start="17:5" pos:end="17:9"/><name pos:start="17:21" pos:end="17:32">active_lines</name> <init pos:start="17:34" pos:end="17:39">= <expr pos:start="17:36" pos:end="17:39"><literal type="number" pos:start="17:36" pos:end="17:39">0.0f</literal></expr></init></decl>, <decl pos:start="17:42" pos:end="17:56"><type ref="prev" pos:start="17:5" pos:end="17:9"/><name pos:start="17:42" pos:end="17:49">norm_fac</name> <init pos:start="17:51" pos:end="17:56">= <expr pos:start="17:53" pos:end="17:56"><literal type="number" pos:start="17:53" pos:end="17:56">0.0f</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="19:5" pos:end="19:113"><decl pos:start="19:5" pos:end="19:112"><type pos:start="19:5" pos:end="19:9"><name pos:start="19:5" pos:end="19:9">float</name></type> <name pos:start="19:11" pos:end="19:12">pe</name> <init pos:start="19:14" pos:end="19:112">= <expr pos:start="19:16" pos:end="19:112"><ternary pos:start="19:16" pos:end="19:112"><condition pos:start="19:16" pos:end="19:43"><expr pos:start="19:16" pos:end="19:41"><name pos:start="19:16" pos:end="19:33"><name pos:start="19:16" pos:end="19:19">pctx</name><operator pos:start="19:20" pos:end="19:21">-&gt;</operator><name pos:start="19:22" pos:end="19:33">chan_bitrate</name></name> <operator pos:start="19:35" pos:end="19:35">&gt;</operator> <literal type="number" pos:start="19:37" pos:end="19:41">32000</literal></expr> ?</condition><then pos:start="19:45" pos:end="19:48"> <expr pos:start="19:45" pos:end="19:48"><literal type="number" pos:start="19:45" pos:end="19:48">0.0f</literal></expr> </then><else pos:start="19:50" pos:end="19:112">: <expr pos:start="19:52" pos:end="19:112"><call pos:start="19:52" pos:end="19:112"><name pos:start="19:52" pos:end="19:56">FFMAX</name><argument_list pos:start="19:57" pos:end="19:112">(<argument pos:start="19:58" pos:end="19:62"><expr pos:start="19:58" pos:end="19:62"><literal type="number" pos:start="19:58" pos:end="19:62">50.0f</literal></expr></argument>, <argument pos:start="19:65" pos:end="19:111"><expr pos:start="19:65" pos:end="19:111"><literal type="number" pos:start="19:65" pos:end="19:72">100.0f</literal> <operator pos:start="19:72" pos:end="19:72">-</operator> <name pos:start="19:74" pos:end="19:91"><name pos:start="19:74" pos:end="19:77">pctx</name><operator pos:start="19:78" pos:end="19:79">-&gt;</operator><name pos:start="19:80" pos:end="19:91">chan_bitrate</name></name> <operator pos:start="19:93" pos:end="19:93">*</operator> <literal type="number" pos:start="19:95" pos:end="19:100">100.0f</literal> <operator pos:start="19:102" pos:end="19:102">/</operator> <literal type="number" pos:start="19:104" pos:end="19:111">32000.0f</literal></expr></argument>)</argument_list></call></expr></else></ternary></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="21:5" pos:end="21:70"><decl pos:start="21:5" pos:end="21:69"><type pos:start="21:5" pos:end="21:13"><specifier pos:start="21:5" pos:end="21:9">const</specifier> <name pos:start="21:11" pos:end="21:13">int</name></type>      <name pos:start="21:20" pos:end="21:28">num_bands</name>   <init pos:start="21:32" pos:end="21:69">= <expr pos:start="21:34" pos:end="21:69"><name pos:start="21:34" pos:end="21:69"><name pos:start="21:34" pos:end="21:36">ctx</name><operator pos:start="21:37" pos:end="21:38">-&gt;</operator><name pos:start="21:39" pos:end="21:47">num_bands</name><index pos:start="21:48" pos:end="21:69">[<expr pos:start="21:49" pos:end="21:68"><name pos:start="21:49" pos:end="21:63"><name pos:start="21:49" pos:end="21:50">wi</name><operator pos:start="21:51" pos:end="21:52">-&gt;</operator><name pos:start="21:53" pos:end="21:63">num_windows</name></name> <operator pos:start="21:65" pos:end="21:66">==</operator> <literal type="number" pos:start="21:68" pos:end="21:68">8</literal></expr>]</index></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="23:5" pos:end="23:66"><decl pos:start="23:5" pos:end="23:65"><type pos:start="23:5" pos:end="23:19"><specifier pos:start="23:5" pos:end="23:9">const</specifier> <name pos:start="23:11" pos:end="23:17">uint8_t</name> <modifier pos:start="23:19" pos:end="23:19">*</modifier></type><name pos:start="23:20" pos:end="23:29">band_sizes</name>  <init pos:start="23:32" pos:end="23:65">= <expr pos:start="23:34" pos:end="23:65"><name pos:start="23:34" pos:end="23:65"><name pos:start="23:34" pos:end="23:36">ctx</name><operator pos:start="23:37" pos:end="23:38">-&gt;</operator><name pos:start="23:39" pos:end="23:43">bands</name><index pos:start="23:44" pos:end="23:65">[<expr pos:start="23:45" pos:end="23:64"><name pos:start="23:45" pos:end="23:59"><name pos:start="23:45" pos:end="23:46">wi</name><operator pos:start="23:47" pos:end="23:48">-&gt;</operator><name pos:start="23:49" pos:end="23:59">num_windows</name></name> <operator pos:start="23:61" pos:end="23:62">==</operator> <literal type="number" pos:start="23:64" pos:end="23:64">8</literal></expr>]</index></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="25:5" pos:end="25:70"><decl pos:start="25:5" pos:end="25:69"><type pos:start="25:5" pos:end="25:19"><name pos:start="25:5" pos:end="25:16">AacPsyCoeffs</name>  <modifier pos:start="25:19" pos:end="25:19">*</modifier></type><name pos:start="25:20" pos:end="25:25">coeffs</name>      <init pos:start="25:32" pos:end="25:69">= <expr pos:start="25:34" pos:end="25:69"><name pos:start="25:34" pos:end="25:69"><name pos:start="25:34" pos:end="25:37">pctx</name><operator pos:start="25:38" pos:end="25:39">-&gt;</operator><name pos:start="25:40" pos:end="25:47">psy_coef</name><index pos:start="25:48" pos:end="25:69">[<expr pos:start="25:49" pos:end="25:68"><name pos:start="25:49" pos:end="25:63"><name pos:start="25:49" pos:end="25:50">wi</name><operator pos:start="25:51" pos:end="25:52">-&gt;</operator><name pos:start="25:53" pos:end="25:63">num_windows</name></name> <operator pos:start="25:65" pos:end="25:66">==</operator> <literal type="number" pos:start="25:68" pos:end="25:68">8</literal></expr>]</index></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="27:5" pos:end="27:101"><decl pos:start="27:5" pos:end="27:100"><type pos:start="27:5" pos:end="27:15"><specifier pos:start="27:5" pos:end="27:9">const</specifier> <name pos:start="27:11" pos:end="27:15">float</name></type> <name pos:start="27:17" pos:end="27:30">avoid_hole_thr</name> <init pos:start="27:32" pos:end="27:100">= <expr pos:start="27:34" pos:end="27:100"><ternary pos:start="27:34" pos:end="27:100"><condition pos:start="27:34" pos:end="27:55"><expr pos:start="27:34" pos:end="27:53"><name pos:start="27:34" pos:end="27:48"><name pos:start="27:34" pos:end="27:35">wi</name><operator pos:start="27:36" pos:end="27:37">-&gt;</operator><name pos:start="27:38" pos:end="27:48">num_windows</name></name> <operator pos:start="27:50" pos:end="27:51">==</operator> <literal type="number" pos:start="27:53" pos:end="27:53">8</literal></expr> ?</condition><then pos:start="27:57" pos:end="27:77"> <expr pos:start="27:57" pos:end="27:77"><name pos:start="27:57" pos:end="27:77">PSY_3GPP_AH_THR_SHORT</name></expr> </then><else pos:start="27:79" pos:end="27:100">: <expr pos:start="27:81" pos:end="27:100"><name pos:start="27:81" pos:end="27:100">PSY_3GPP_AH_THR_LONG</name></expr></else></ternary></expr></init></decl>;</decl_stmt>



    <comment type="line" pos:start="31:5" pos:end="31:95">//calculate energies, initial thresholds and related values - 5.4.2 "Threshold Calculation"</comment>

    <for pos:start="33:5" pos:end="63:5">for <control pos:start="33:9" pos:end="33:48">(<init pos:start="33:10" pos:end="33:15"><expr pos:start="33:10" pos:end="33:14"><name pos:start="33:10" pos:end="33:10">w</name> <operator pos:start="33:12" pos:end="33:12">=</operator> <literal type="number" pos:start="33:14" pos:end="33:14">0</literal></expr>;</init> <condition pos:start="33:17" pos:end="33:39"><expr pos:start="33:17" pos:end="33:38"><name pos:start="33:17" pos:end="33:17">w</name> <operator pos:start="33:19" pos:end="33:19">&lt;</operator> <name pos:start="33:21" pos:end="33:35"><name pos:start="33:21" pos:end="33:22">wi</name><operator pos:start="33:23" pos:end="33:24">-&gt;</operator><name pos:start="33:25" pos:end="33:35">num_windows</name></name><operator pos:start="33:36" pos:end="33:36">*</operator><literal type="number" pos:start="33:37" pos:end="33:38">16</literal></expr>;</condition> <incr pos:start="33:41" pos:end="33:47"><expr pos:start="33:41" pos:end="33:47"><name pos:start="33:41" pos:end="33:41">w</name> <operator pos:start="33:43" pos:end="33:44">+=</operator> <literal type="number" pos:start="33:46" pos:end="33:47">16</literal></expr></incr>)</control> <block pos:start="33:50" pos:end="63:5">{<block_content pos:start="35:9" pos:end="61:9">

        <for pos:start="35:9" pos:end="61:9">for <control pos:start="35:13" pos:end="35:39">(<init pos:start="35:14" pos:end="35:19"><expr pos:start="35:14" pos:end="35:18"><name pos:start="35:14" pos:end="35:14">g</name> <operator pos:start="35:16" pos:end="35:16">=</operator> <literal type="number" pos:start="35:18" pos:end="35:18">0</literal></expr>;</init> <condition pos:start="35:21" pos:end="35:34"><expr pos:start="35:21" pos:end="35:33"><name pos:start="35:21" pos:end="35:21">g</name> <operator pos:start="35:23" pos:end="35:23">&lt;</operator> <name pos:start="35:25" pos:end="35:33">num_bands</name></expr>;</condition> <incr pos:start="35:36" pos:end="35:38"><expr pos:start="35:36" pos:end="35:38"><name pos:start="35:36" pos:end="35:36">g</name><operator pos:start="35:37" pos:end="35:38">++</operator></expr></incr>)</control> <block pos:start="35:41" pos:end="61:9">{<block_content pos:start="37:13" pos:end="59:35">

            <decl_stmt pos:start="37:13" pos:end="37:47"><decl pos:start="37:13" pos:end="37:46"><type pos:start="37:13" pos:end="37:24"><name pos:start="37:13" pos:end="37:22">AacPsyBand</name> <modifier pos:start="37:24" pos:end="37:24">*</modifier></type><name pos:start="37:25" pos:end="37:28">band</name> <init pos:start="37:30" pos:end="37:46">= <expr pos:start="37:32" pos:end="37:46"><operator pos:start="37:32" pos:end="37:32">&amp;</operator><name pos:start="37:33" pos:end="37:46"><name pos:start="37:33" pos:end="37:35">pch</name><operator pos:start="37:36" pos:end="37:37">-&gt;</operator><name pos:start="37:38" pos:end="37:41">band</name><index pos:start="37:42" pos:end="37:46">[<expr pos:start="37:43" pos:end="37:45"><name pos:start="37:43" pos:end="37:43">w</name><operator pos:start="37:44" pos:end="37:44">+</operator><name pos:start="37:45" pos:end="37:45">g</name></expr>]</index></name></expr></init></decl>;</decl_stmt>



            <decl_stmt pos:start="41:13" pos:end="41:37"><decl pos:start="41:13" pos:end="41:36"><type pos:start="41:13" pos:end="41:17"><name pos:start="41:13" pos:end="41:17">float</name></type> <name pos:start="41:19" pos:end="41:29">form_factor</name> <init pos:start="41:31" pos:end="41:36">= <expr pos:start="41:33" pos:end="41:36"><literal type="number" pos:start="41:33" pos:end="41:36">0.0f</literal></expr></init></decl>;</decl_stmt>

            <expr_stmt pos:start="43:13" pos:end="43:32"><expr pos:start="43:13" pos:end="43:31"><name pos:start="43:13" pos:end="43:24"><name pos:start="43:13" pos:end="43:16">band</name><operator pos:start="43:17" pos:end="43:18">-&gt;</operator><name pos:start="43:19" pos:end="43:24">energy</name></name> <operator pos:start="43:26" pos:end="43:26">=</operator> <literal type="number" pos:start="43:28" pos:end="43:31">0.0f</literal></expr>;</expr_stmt>

            <for pos:start="45:13" pos:end="51:13">for <control pos:start="45:17" pos:end="45:47">(<init pos:start="45:18" pos:end="45:23"><expr pos:start="45:18" pos:end="45:22"><name pos:start="45:18" pos:end="45:18">i</name> <operator pos:start="45:20" pos:end="45:20">=</operator> <literal type="number" pos:start="45:22" pos:end="45:22">0</literal></expr>;</init> <condition pos:start="45:25" pos:end="45:42"><expr pos:start="45:25" pos:end="45:41"><name pos:start="45:25" pos:end="45:25">i</name> <operator pos:start="45:27" pos:end="45:27">&lt;</operator> <name pos:start="45:29" pos:end="45:41"><name pos:start="45:29" pos:end="45:38">band_sizes</name><index pos:start="45:39" pos:end="45:41">[<expr pos:start="45:40" pos:end="45:40"><name pos:start="45:40" pos:end="45:40">g</name></expr>]</index></name></expr>;</condition> <incr pos:start="45:44" pos:end="45:46"><expr pos:start="45:44" pos:end="45:46"><name pos:start="45:44" pos:end="45:44">i</name><operator pos:start="45:45" pos:end="45:46">++</operator></expr></incr>)</control> <block pos:start="45:49" pos:end="51:13">{<block_content pos:start="47:17" pos:end="49:60">

                <expr_stmt pos:start="47:17" pos:end="47:64"><expr pos:start="47:17" pos:end="47:63"><name pos:start="47:17" pos:end="47:28"><name pos:start="47:17" pos:end="47:20">band</name><operator pos:start="47:21" pos:end="47:22">-&gt;</operator><name pos:start="47:23" pos:end="47:28">energy</name></name> <operator pos:start="47:30" pos:end="47:31">+=</operator> <name pos:start="47:33" pos:end="47:46"><name pos:start="47:33" pos:end="47:37">coefs</name><index pos:start="47:38" pos:end="47:46">[<expr pos:start="47:39" pos:end="47:45"><name pos:start="47:39" pos:end="47:43">start</name><operator pos:start="47:44" pos:end="47:44">+</operator><name pos:start="47:45" pos:end="47:45">i</name></expr>]</index></name> <operator pos:start="47:48" pos:end="47:48">*</operator> <name pos:start="47:50" pos:end="47:63"><name pos:start="47:50" pos:end="47:54">coefs</name><index pos:start="47:55" pos:end="47:63">[<expr pos:start="47:56" pos:end="47:62"><name pos:start="47:56" pos:end="47:60">start</name><operator pos:start="47:61" pos:end="47:61">+</operator><name pos:start="47:62" pos:end="47:62">i</name></expr>]</index></name></expr>;</expr_stmt>

                <expr_stmt pos:start="49:17" pos:end="49:60"><expr pos:start="49:17" pos:end="49:59"><name pos:start="49:17" pos:end="49:27">form_factor</name>  <operator pos:start="49:30" pos:end="49:31">+=</operator> <call pos:start="49:33" pos:end="49:59"><name pos:start="49:33" pos:end="49:37">sqrtf</name><argument_list pos:start="49:38" pos:end="49:59">(<argument pos:start="49:39" pos:end="49:58"><expr pos:start="49:39" pos:end="49:58"><call pos:start="49:39" pos:end="49:58"><name pos:start="49:39" pos:end="49:42">fabs</name><argument_list pos:start="49:43" pos:end="49:58">(<argument pos:start="49:44" pos:end="49:57"><expr pos:start="49:44" pos:end="49:57"><name pos:start="49:44" pos:end="49:57"><name pos:start="49:44" pos:end="49:48">coefs</name><index pos:start="49:49" pos:end="49:57">[<expr pos:start="49:50" pos:end="49:56"><name pos:start="49:50" pos:end="49:54">start</name><operator pos:start="49:55" pos:end="49:55">+</operator><name pos:start="49:56" pos:end="49:56">i</name></expr>]</index></name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></for>

            <expr_stmt pos:start="53:13" pos:end="53:57"><expr pos:start="53:13" pos:end="53:56"><name pos:start="53:13" pos:end="53:21"><name pos:start="53:13" pos:end="53:16">band</name><operator pos:start="53:17" pos:end="53:18">-&gt;</operator><name pos:start="53:19" pos:end="53:21">thr</name></name>      <operator pos:start="53:28" pos:end="53:28">=</operator> <name pos:start="53:30" pos:end="53:41"><name pos:start="53:30" pos:end="53:33">band</name><operator pos:start="53:34" pos:end="53:35">-&gt;</operator><name pos:start="53:36" pos:end="53:41">energy</name></name> <operator pos:start="53:43" pos:end="53:43">*</operator> <literal type="number" pos:start="53:45" pos:end="53:56">0.001258925f</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="55:13" pos:end="55:85"><expr pos:start="55:13" pos:end="55:84"><name pos:start="55:13" pos:end="55:26"><name pos:start="55:13" pos:end="55:16">band</name><operator pos:start="55:17" pos:end="55:18">-&gt;</operator><name pos:start="55:19" pos:end="55:26">nz_lines</name></name> <operator pos:start="55:28" pos:end="55:28">=</operator> <name pos:start="55:30" pos:end="55:40">form_factor</name> <operator pos:start="55:42" pos:end="55:42">/</operator> <call pos:start="55:44" pos:end="55:84"><name pos:start="55:44" pos:end="55:47">powf</name><argument_list pos:start="55:48" pos:end="55:84">(<argument pos:start="55:49" pos:end="55:76"><expr pos:start="55:49" pos:end="55:76"><name pos:start="55:49" pos:end="55:60"><name pos:start="55:49" pos:end="55:52">band</name><operator pos:start="55:53" pos:end="55:54">-&gt;</operator><name pos:start="55:55" pos:end="55:60">energy</name></name> <operator pos:start="55:62" pos:end="55:62">/</operator> <name pos:start="55:64" pos:end="55:76"><name pos:start="55:64" pos:end="55:73">band_sizes</name><index pos:start="55:74" pos:end="55:76">[<expr pos:start="55:75" pos:end="55:75"><name pos:start="55:75" pos:end="55:75">g</name></expr>]</index></name></expr></argument>, <argument pos:start="55:79" pos:end="55:83"><expr pos:start="55:79" pos:end="55:83"><literal type="number" pos:start="55:79" pos:end="55:83">0.25f</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>



            <expr_stmt pos:start="59:13" pos:end="59:35"><expr pos:start="59:13" pos:end="59:34"><name pos:start="59:13" pos:end="59:17">start</name> <operator pos:start="59:19" pos:end="59:20">+=</operator> <name pos:start="59:22" pos:end="59:34"><name pos:start="59:22" pos:end="59:31">band_sizes</name><index pos:start="59:32" pos:end="59:34">[<expr pos:start="59:33" pos:end="59:33"><name pos:start="59:33" pos:end="59:33">g</name></expr>]</index></name></expr>;</expr_stmt>

        </block_content>}</block></for>

    </block_content>}</block></for>

    <comment type="line" pos:start="65:5" pos:end="65:83">//modify thresholds and energies - spread, threshold in quiet, pre-echo control</comment>

    <for pos:start="67:5" pos:end="135:5">for <control pos:start="67:9" pos:end="67:48">(<init pos:start="67:10" pos:end="67:15"><expr pos:start="67:10" pos:end="67:14"><name pos:start="67:10" pos:end="67:10">w</name> <operator pos:start="67:12" pos:end="67:12">=</operator> <literal type="number" pos:start="67:14" pos:end="67:14">0</literal></expr>;</init> <condition pos:start="67:17" pos:end="67:39"><expr pos:start="67:17" pos:end="67:38"><name pos:start="67:17" pos:end="67:17">w</name> <operator pos:start="67:19" pos:end="67:19">&lt;</operator> <name pos:start="67:21" pos:end="67:35"><name pos:start="67:21" pos:end="67:22">wi</name><operator pos:start="67:23" pos:end="67:24">-&gt;</operator><name pos:start="67:25" pos:end="67:35">num_windows</name></name><operator pos:start="67:36" pos:end="67:36">*</operator><literal type="number" pos:start="67:37" pos:end="67:38">16</literal></expr>;</condition> <incr pos:start="67:41" pos:end="67:47"><expr pos:start="67:41" pos:end="67:47"><name pos:start="67:41" pos:end="67:41">w</name> <operator pos:start="67:43" pos:end="67:44">+=</operator> <literal type="number" pos:start="67:46" pos:end="67:47">16</literal></expr></incr>)</control> <block pos:start="67:50" pos:end="135:5">{<block_content pos:start="69:9" pos:end="133:9">

        <decl_stmt pos:start="69:9" pos:end="69:42"><decl pos:start="69:9" pos:end="69:41"><type pos:start="69:9" pos:end="69:20"><name pos:start="69:9" pos:end="69:18">AacPsyBand</name> <modifier pos:start="69:20" pos:end="69:20">*</modifier></type><name pos:start="69:21" pos:end="69:25">bands</name> <init pos:start="69:27" pos:end="69:41">= <expr pos:start="69:29" pos:end="69:41"><operator pos:start="69:29" pos:end="69:29">&amp;</operator><name pos:start="69:30" pos:end="69:41"><name pos:start="69:30" pos:end="69:32">pch</name><operator pos:start="69:33" pos:end="69:34">-&gt;</operator><name pos:start="69:35" pos:end="69:38">band</name><index pos:start="69:39" pos:end="69:41">[<expr pos:start="69:40" pos:end="69:40"><name pos:start="69:40" pos:end="69:40">w</name></expr>]</index></name></expr></init></decl>;</decl_stmt>



        <comment type="line" pos:start="73:9" pos:end="73:67">//5.4.2.3 "Spreading" &amp; 5.4.3 "Spreaded Energy Calculation"</comment>

        <expr_stmt pos:start="75:9" pos:end="75:39"><expr pos:start="75:9" pos:end="75:38"><name pos:start="75:9" pos:end="75:20"><name pos:start="75:9" pos:end="75:17">spread_en</name><index pos:start="75:18" pos:end="75:20">[<expr pos:start="75:19" pos:end="75:19"><literal type="number" pos:start="75:19" pos:end="75:19">0</literal></expr>]</index></name> <operator pos:start="75:22" pos:end="75:22">=</operator> <name pos:start="75:24" pos:end="75:31"><name pos:start="75:24" pos:end="75:28">bands</name><index pos:start="75:29" pos:end="75:31">[<expr pos:start="75:30" pos:end="75:30"><literal type="number" pos:start="75:30" pos:end="75:30">0</literal></expr>]</index></name><operator pos:start="75:32" pos:end="75:32">.</operator><name pos:start="75:33" pos:end="75:38">energy</name></expr>;</expr_stmt>

        <for pos:start="77:9" pos:end="83:9">for <control pos:start="77:13" pos:end="77:39">(<init pos:start="77:14" pos:end="77:19"><expr pos:start="77:14" pos:end="77:18"><name pos:start="77:14" pos:end="77:14">g</name> <operator pos:start="77:16" pos:end="77:16">=</operator> <literal type="number" pos:start="77:18" pos:end="77:18">1</literal></expr>;</init> <condition pos:start="77:21" pos:end="77:34"><expr pos:start="77:21" pos:end="77:33"><name pos:start="77:21" pos:end="77:21">g</name> <operator pos:start="77:23" pos:end="77:23">&lt;</operator> <name pos:start="77:25" pos:end="77:33">num_bands</name></expr>;</condition> <incr pos:start="77:36" pos:end="77:38"><expr pos:start="77:36" pos:end="77:38"><name pos:start="77:36" pos:end="77:36">g</name><operator pos:start="77:37" pos:end="77:38">++</operator></expr></incr>)</control> <block pos:start="77:41" pos:end="83:9">{<block_content pos:start="79:13" pos:end="81:95">

            <expr_stmt pos:start="79:13" pos:end="79:93"><expr pos:start="79:13" pos:end="79:92"><name pos:start="79:13" pos:end="79:20"><name pos:start="79:13" pos:end="79:17">bands</name><index pos:start="79:18" pos:end="79:20">[<expr pos:start="79:19" pos:end="79:19"><name pos:start="79:19" pos:end="79:19">g</name></expr>]</index></name><operator pos:start="79:21" pos:end="79:21">.</operator><name pos:start="79:22" pos:end="79:24">thr</name>   <operator pos:start="79:28" pos:end="79:28">=</operator> <call pos:start="79:30" pos:end="79:92"><name pos:start="79:30" pos:end="79:34">FFMAX</name><argument_list pos:start="79:35" pos:end="79:92">(<argument pos:start="79:36" pos:end="79:47"><expr pos:start="79:36" pos:end="79:47"><name pos:start="79:36" pos:end="79:43"><name pos:start="79:36" pos:end="79:40">bands</name><index pos:start="79:41" pos:end="79:43">[<expr pos:start="79:42" pos:end="79:42"><name pos:start="79:42" pos:end="79:42">g</name></expr>]</index></name><operator pos:start="79:44" pos:end="79:44">.</operator><name pos:start="79:45" pos:end="79:47">thr</name></expr></argument>,    <argument pos:start="79:53" pos:end="79:91"><expr pos:start="79:53" pos:end="79:91"><name pos:start="79:53" pos:end="79:62"><name pos:start="79:53" pos:end="79:57">bands</name><index pos:start="79:58" pos:end="79:62">[<expr pos:start="79:59" pos:end="79:61"><name pos:start="79:59" pos:end="79:59">g</name><operator pos:start="79:60" pos:end="79:60">-</operator><literal type="number" pos:start="79:61" pos:end="79:61">1</literal></expr>]</index></name><operator pos:start="79:63" pos:end="79:63">.</operator><name pos:start="79:64" pos:end="79:66">thr</name> <operator pos:start="79:68" pos:end="79:68">*</operator> <name pos:start="79:70" pos:end="79:78"><name pos:start="79:70" pos:end="79:75">coeffs</name><index pos:start="79:76" pos:end="79:78">[<expr pos:start="79:77" pos:end="79:77"><name pos:start="79:77" pos:end="79:77">g</name></expr>]</index></name><operator pos:start="79:79" pos:end="79:79">.</operator><name pos:start="79:80" pos:end="79:91"><name pos:start="79:80" pos:end="79:88">spread_hi</name><index pos:start="79:89" pos:end="79:91">[<expr pos:start="79:90" pos:end="79:90"><literal type="number" pos:start="79:90" pos:end="79:90">0</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="81:13" pos:end="81:95"><expr pos:start="81:13" pos:end="81:94"><name pos:start="81:13" pos:end="81:26"><name pos:start="81:13" pos:end="81:21">spread_en</name><index pos:start="81:22" pos:end="81:26">[<expr pos:start="81:23" pos:end="81:25"><name pos:start="81:23" pos:end="81:23">w</name><operator pos:start="81:24" pos:end="81:24">+</operator><name pos:start="81:25" pos:end="81:25">g</name></expr>]</index></name> <operator pos:start="81:28" pos:end="81:28">=</operator> <call pos:start="81:30" pos:end="81:94"><name pos:start="81:30" pos:end="81:34">FFMAX</name><argument_list pos:start="81:35" pos:end="81:94">(<argument pos:start="81:36" pos:end="81:50"><expr pos:start="81:36" pos:end="81:50"><name pos:start="81:36" pos:end="81:43"><name pos:start="81:36" pos:end="81:40">bands</name><index pos:start="81:41" pos:end="81:43">[<expr pos:start="81:42" pos:end="81:42"><name pos:start="81:42" pos:end="81:42">g</name></expr>]</index></name><operator pos:start="81:44" pos:end="81:44">.</operator><name pos:start="81:45" pos:end="81:50">energy</name></expr></argument>, <argument pos:start="81:53" pos:end="81:93"><expr pos:start="81:53" pos:end="81:93"><name pos:start="81:53" pos:end="81:68"><name pos:start="81:53" pos:end="81:61">spread_en</name><index pos:start="81:62" pos:end="81:68">[<expr pos:start="81:63" pos:end="81:67"><name pos:start="81:63" pos:end="81:63">w</name><operator pos:start="81:64" pos:end="81:64">+</operator><name pos:start="81:65" pos:end="81:65">g</name><operator pos:start="81:66" pos:end="81:66">-</operator><literal type="number" pos:start="81:67" pos:end="81:67">1</literal></expr>]</index></name> <operator pos:start="81:70" pos:end="81:70">*</operator> <name pos:start="81:72" pos:end="81:80"><name pos:start="81:72" pos:end="81:77">coeffs</name><index pos:start="81:78" pos:end="81:80">[<expr pos:start="81:79" pos:end="81:79"><name pos:start="81:79" pos:end="81:79">g</name></expr>]</index></name><operator pos:start="81:81" pos:end="81:81">.</operator><name pos:start="81:82" pos:end="81:93"><name pos:start="81:82" pos:end="81:90">spread_hi</name><index pos:start="81:91" pos:end="81:93">[<expr pos:start="81:92" pos:end="81:92"><literal type="number" pos:start="81:92" pos:end="81:92">1</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></for>

        <for pos:start="85:9" pos:end="91:9">for <control pos:start="85:13" pos:end="85:44">(<init pos:start="85:14" pos:end="85:31"><expr pos:start="85:14" pos:end="85:30"><name pos:start="85:14" pos:end="85:14">g</name> <operator pos:start="85:16" pos:end="85:16">=</operator> <name pos:start="85:18" pos:end="85:26">num_bands</name> <operator pos:start="85:28" pos:end="85:28">-</operator> <literal type="number" pos:start="85:30" pos:end="85:30">2</literal></expr>;</init> <condition pos:start="85:33" pos:end="85:39"><expr pos:start="85:33" pos:end="85:38"><name pos:start="85:33" pos:end="85:33">g</name> <operator pos:start="85:35" pos:end="85:36">&gt;=</operator> <literal type="number" pos:start="85:38" pos:end="85:38">0</literal></expr>;</condition> <incr pos:start="85:41" pos:end="85:43"><expr pos:start="85:41" pos:end="85:43"><name pos:start="85:41" pos:end="85:41">g</name><operator pos:start="85:42" pos:end="85:43">--</operator></expr></incr>)</control> <block pos:start="85:46" pos:end="91:9">{<block_content pos:start="87:13" pos:end="89:95">

            <expr_stmt pos:start="87:13" pos:end="87:93"><expr pos:start="87:13" pos:end="87:92"><name pos:start="87:13" pos:end="87:20"><name pos:start="87:13" pos:end="87:17">bands</name><index pos:start="87:18" pos:end="87:20">[<expr pos:start="87:19" pos:end="87:19"><name pos:start="87:19" pos:end="87:19">g</name></expr>]</index></name><operator pos:start="87:21" pos:end="87:21">.</operator><name pos:start="87:22" pos:end="87:24">thr</name>   <operator pos:start="87:28" pos:end="87:28">=</operator> <call pos:start="87:30" pos:end="87:92"><name pos:start="87:30" pos:end="87:34">FFMAX</name><argument_list pos:start="87:35" pos:end="87:92">(<argument pos:start="87:36" pos:end="87:47"><expr pos:start="87:36" pos:end="87:47"><name pos:start="87:36" pos:end="87:43"><name pos:start="87:36" pos:end="87:40">bands</name><index pos:start="87:41" pos:end="87:43">[<expr pos:start="87:42" pos:end="87:42"><name pos:start="87:42" pos:end="87:42">g</name></expr>]</index></name><operator pos:start="87:44" pos:end="87:44">.</operator><name pos:start="87:45" pos:end="87:47">thr</name></expr></argument>,   <argument pos:start="87:52" pos:end="87:91"><expr pos:start="87:52" pos:end="87:91"><name pos:start="87:52" pos:end="87:61"><name pos:start="87:52" pos:end="87:56">bands</name><index pos:start="87:57" pos:end="87:61">[<expr pos:start="87:58" pos:end="87:60"><name pos:start="87:58" pos:end="87:58">g</name><operator pos:start="87:59" pos:end="87:59">+</operator><literal type="number" pos:start="87:60" pos:end="87:60">1</literal></expr>]</index></name><operator pos:start="87:62" pos:end="87:62">.</operator><name pos:start="87:63" pos:end="87:65">thr</name> <operator pos:start="87:67" pos:end="87:67">*</operator> <name pos:start="87:69" pos:end="87:77"><name pos:start="87:69" pos:end="87:74">coeffs</name><index pos:start="87:75" pos:end="87:77">[<expr pos:start="87:76" pos:end="87:76"><name pos:start="87:76" pos:end="87:76">g</name></expr>]</index></name><operator pos:start="87:78" pos:end="87:78">.</operator><name pos:start="87:79" pos:end="87:91"><name pos:start="87:79" pos:end="87:88">spread_low</name><index pos:start="87:89" pos:end="87:91">[<expr pos:start="87:90" pos:end="87:90"><literal type="number" pos:start="87:90" pos:end="87:90">0</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="89:13" pos:end="89:95"><expr pos:start="89:13" pos:end="89:94"><name pos:start="89:13" pos:end="89:26"><name pos:start="89:13" pos:end="89:21">spread_en</name><index pos:start="89:22" pos:end="89:26">[<expr pos:start="89:23" pos:end="89:25"><name pos:start="89:23" pos:end="89:23">w</name><operator pos:start="89:24" pos:end="89:24">+</operator><name pos:start="89:25" pos:end="89:25">g</name></expr>]</index></name> <operator pos:start="89:28" pos:end="89:28">=</operator> <call pos:start="89:30" pos:end="89:94"><name pos:start="89:30" pos:end="89:34">FFMAX</name><argument_list pos:start="89:35" pos:end="89:94">(<argument pos:start="89:36" pos:end="89:49"><expr pos:start="89:36" pos:end="89:49"><name pos:start="89:36" pos:end="89:49"><name pos:start="89:36" pos:end="89:44">spread_en</name><index pos:start="89:45" pos:end="89:49">[<expr pos:start="89:46" pos:end="89:48"><name pos:start="89:46" pos:end="89:46">w</name><operator pos:start="89:47" pos:end="89:47">+</operator><name pos:start="89:48" pos:end="89:48">g</name></expr>]</index></name></expr></argument>, <argument pos:start="89:52" pos:end="89:93"><expr pos:start="89:52" pos:end="89:93"><name pos:start="89:52" pos:end="89:67"><name pos:start="89:52" pos:end="89:60">spread_en</name><index pos:start="89:61" pos:end="89:67">[<expr pos:start="89:62" pos:end="89:66"><name pos:start="89:62" pos:end="89:62">w</name><operator pos:start="89:63" pos:end="89:63">+</operator><name pos:start="89:64" pos:end="89:64">g</name><operator pos:start="89:65" pos:end="89:65">+</operator><literal type="number" pos:start="89:66" pos:end="89:66">1</literal></expr>]</index></name> <operator pos:start="89:69" pos:end="89:69">*</operator> <name pos:start="89:71" pos:end="89:79"><name pos:start="89:71" pos:end="89:76">coeffs</name><index pos:start="89:77" pos:end="89:79">[<expr pos:start="89:78" pos:end="89:78"><name pos:start="89:78" pos:end="89:78">g</name></expr>]</index></name><operator pos:start="89:80" pos:end="89:80">.</operator><name pos:start="89:81" pos:end="89:93"><name pos:start="89:81" pos:end="89:90">spread_low</name><index pos:start="89:91" pos:end="89:93">[<expr pos:start="89:92" pos:end="89:92"><literal type="number" pos:start="89:92" pos:end="89:92">1</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></for>

        <comment type="line" pos:start="93:9" pos:end="93:38">//5.4.2.4 "Threshold in quiet"</comment>

        <for pos:start="95:9" pos:end="133:9">for <control pos:start="95:13" pos:end="95:39">(<init pos:start="95:14" pos:end="95:19"><expr pos:start="95:14" pos:end="95:18"><name pos:start="95:14" pos:end="95:14">g</name> <operator pos:start="95:16" pos:end="95:16">=</operator> <literal type="number" pos:start="95:18" pos:end="95:18">0</literal></expr>;</init> <condition pos:start="95:21" pos:end="95:34"><expr pos:start="95:21" pos:end="95:33"><name pos:start="95:21" pos:end="95:21">g</name> <operator pos:start="95:23" pos:end="95:23">&lt;</operator> <name pos:start="95:25" pos:end="95:33">num_bands</name></expr>;</condition> <incr pos:start="95:36" pos:end="95:38"><expr pos:start="95:36" pos:end="95:38"><name pos:start="95:36" pos:end="95:36">g</name><operator pos:start="95:37" pos:end="95:38">++</operator></expr></incr>)</control> <block pos:start="95:41" pos:end="133:9">{<block_content pos:start="97:13" pos:end="131:57">

            <decl_stmt pos:start="97:13" pos:end="97:41"><decl pos:start="97:13" pos:end="97:40"><type pos:start="97:13" pos:end="97:24"><name pos:start="97:13" pos:end="97:22">AacPsyBand</name> <modifier pos:start="97:24" pos:end="97:24">*</modifier></type><name pos:start="97:25" pos:end="97:28">band</name> <init pos:start="97:30" pos:end="97:40">= <expr pos:start="97:32" pos:end="97:40"><operator pos:start="97:32" pos:end="97:32">&amp;</operator><name pos:start="97:33" pos:end="97:40"><name pos:start="97:33" pos:end="97:37">bands</name><index pos:start="97:38" pos:end="97:40">[<expr pos:start="97:39" pos:end="97:39"><name pos:start="97:39" pos:end="97:39">g</name></expr>]</index></name></expr></init></decl>;</decl_stmt>



            <expr_stmt pos:start="101:13" pos:end="101:74"><expr pos:start="101:13" pos:end="101:73"><name pos:start="101:13" pos:end="101:27"><name pos:start="101:13" pos:end="101:16">band</name><operator pos:start="101:17" pos:end="101:18">-&gt;</operator><name pos:start="101:19" pos:end="101:27">thr_quiet</name></name> <operator pos:start="101:29" pos:end="101:29">=</operator> <name pos:start="101:31" pos:end="101:39"><name pos:start="101:31" pos:end="101:34">band</name><operator pos:start="101:35" pos:end="101:36">-&gt;</operator><name pos:start="101:37" pos:end="101:39">thr</name></name> <operator pos:start="101:41" pos:end="101:41">=</operator> <call pos:start="101:43" pos:end="101:73"><name pos:start="101:43" pos:end="101:47">FFMAX</name><argument_list pos:start="101:48" pos:end="101:73">(<argument pos:start="101:49" pos:end="101:57"><expr pos:start="101:49" pos:end="101:57"><name pos:start="101:49" pos:end="101:57"><name pos:start="101:49" pos:end="101:52">band</name><operator pos:start="101:53" pos:end="101:54">-&gt;</operator><name pos:start="101:55" pos:end="101:57">thr</name></name></expr></argument>, <argument pos:start="101:60" pos:end="101:72"><expr pos:start="101:60" pos:end="101:72"><name pos:start="101:60" pos:end="101:68"><name pos:start="101:60" pos:end="101:65">coeffs</name><index pos:start="101:66" pos:end="101:68">[<expr pos:start="101:67" pos:end="101:67"><name pos:start="101:67" pos:end="101:67">g</name></expr>]</index></name><operator pos:start="101:69" pos:end="101:69">.</operator><name pos:start="101:70" pos:end="101:72">ath</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <comment type="line" pos:start="103:13" pos:end="103:40">//5.4.2.5 "Pre-echo control"</comment>

            <if_stmt pos:start="105:13" pos:end="109:82"><if pos:start="105:13" pos:end="109:82">if <condition pos:start="105:16" pos:end="105:113">(<expr pos:start="105:17" pos:end="105:112"><operator pos:start="105:17" pos:end="105:17">!</operator><operator pos:start="105:18" pos:end="105:18">(</operator><name pos:start="105:19" pos:end="105:36"><name pos:start="105:19" pos:end="105:20">wi</name><operator pos:start="105:21" pos:end="105:22">-&gt;</operator><name pos:start="105:23" pos:end="105:33">window_type</name><index pos:start="105:34" pos:end="105:36">[<expr pos:start="105:35" pos:end="105:35"><literal type="number" pos:start="105:35" pos:end="105:35">0</literal></expr>]</index></name> <operator pos:start="105:38" pos:end="105:39">==</operator> <name pos:start="105:41" pos:end="105:58">LONG_STOP_SEQUENCE</name> <operator pos:start="105:60" pos:end="105:61">||</operator> <operator pos:start="105:63" pos:end="105:63">(</operator><name pos:start="105:64" pos:end="105:81"><name pos:start="105:64" pos:end="105:65">wi</name><operator pos:start="105:66" pos:end="105:67">-&gt;</operator><name pos:start="105:68" pos:end="105:78">window_type</name><index pos:start="105:79" pos:end="105:81">[<expr pos:start="105:80" pos:end="105:80"><literal type="number" pos:start="105:80" pos:end="105:80">1</literal></expr>]</index></name> <operator pos:start="105:83" pos:end="105:84">==</operator> <name pos:start="105:86" pos:end="105:104">LONG_START_SEQUENCE</name> <operator pos:start="105:106" pos:end="105:107">&amp;&amp;</operator> <operator pos:start="105:109" pos:end="105:109">!</operator><name pos:start="105:110" pos:end="105:110">w</name><operator pos:start="105:111" pos:end="105:111">)</operator><operator pos:start="105:112" pos:end="105:112">)</operator></expr>)</condition><block type="pseudo" pos:start="107:17" pos:end="109:82"><block_content pos:start="107:17" pos:end="109:82">

                <expr_stmt pos:start="107:17" pos:end="109:82"><expr pos:start="107:17" pos:end="109:81"><name pos:start="107:17" pos:end="107:25"><name pos:start="107:17" pos:end="107:20">band</name><operator pos:start="107:21" pos:end="107:22">-&gt;</operator><name pos:start="107:23" pos:end="107:25">thr</name></name> <operator pos:start="107:27" pos:end="107:27">=</operator> <call pos:start="107:29" pos:end="109:81"><name pos:start="107:29" pos:end="107:33">FFMAX</name><argument_list pos:start="107:34" pos:end="109:81">(<argument pos:start="107:35" pos:end="107:59"><expr pos:start="107:35" pos:end="107:59"><name pos:start="107:35" pos:end="107:49">PSY_3GPP_RPEMIN</name><operator pos:start="107:50" pos:end="107:50">*</operator><name pos:start="107:51" pos:end="107:59"><name pos:start="107:51" pos:end="107:54">band</name><operator pos:start="107:55" pos:end="107:56">-&gt;</operator><name pos:start="107:57" pos:end="107:59">thr</name></name></expr></argument>, <argument pos:start="107:62" pos:end="109:80"><expr pos:start="107:62" pos:end="109:80"><call pos:start="107:62" pos:end="109:80"><name pos:start="107:62" pos:end="107:66">FFMIN</name><argument_list pos:start="107:67" pos:end="109:80">(<argument pos:start="107:68" pos:end="107:76"><expr pos:start="107:68" pos:end="107:76"><name pos:start="107:68" pos:end="107:76"><name pos:start="107:68" pos:end="107:71">band</name><operator pos:start="107:72" pos:end="107:73">-&gt;</operator><name pos:start="107:74" pos:end="107:76">thr</name></name></expr></argument>,

                                  <argument pos:start="109:35" pos:end="109:79"><expr pos:start="109:35" pos:end="109:79"><name pos:start="109:35" pos:end="109:49">PSY_3GPP_RPELEV</name><operator pos:start="109:50" pos:end="109:50">*</operator><name pos:start="109:51" pos:end="109:69"><name pos:start="109:51" pos:end="109:53">pch</name><operator pos:start="109:54" pos:end="109:55">-&gt;</operator><name pos:start="109:56" pos:end="109:64">prev_band</name><index pos:start="109:65" pos:end="109:69">[<expr pos:start="109:66" pos:end="109:68"><name pos:start="109:66" pos:end="109:66">w</name><operator pos:start="109:67" pos:end="109:67">+</operator><name pos:start="109:68" pos:end="109:68">g</name></expr>]</index></name><operator pos:start="109:70" pos:end="109:70">.</operator><name pos:start="109:71" pos:end="109:79">thr_quiet</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>



            <comment type="block" pos:start="113:13" pos:end="113:83">/* 5.6.1.3.1 "Prepatory steps of the perceptual entropy calculation" */</comment>

            <expr_stmt pos:start="115:13" pos:end="115:37"><expr pos:start="115:13" pos:end="115:36"><name pos:start="115:13" pos:end="115:14">pe</name> <operator pos:start="115:16" pos:end="115:17">+=</operator> <call pos:start="115:19" pos:end="115:36"><name pos:start="115:19" pos:end="115:30">calc_pe_3gpp</name><argument_list pos:start="115:31" pos:end="115:36">(<argument pos:start="115:32" pos:end="115:35"><expr pos:start="115:32" pos:end="115:35"><name pos:start="115:32" pos:end="115:35">band</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="117:13" pos:end="117:33"><expr pos:start="117:13" pos:end="117:32"><name pos:start="117:13" pos:end="117:13">a</name>  <operator pos:start="117:16" pos:end="117:17">+=</operator> <name pos:start="117:19" pos:end="117:32"><name pos:start="117:19" pos:end="117:22">band</name><operator pos:start="117:23" pos:end="117:24">-&gt;</operator><name pos:start="117:25" pos:end="117:32">pe_const</name></name></expr>;</expr_stmt>

            <expr_stmt pos:start="119:13" pos:end="119:47"><expr pos:start="119:13" pos:end="119:46"><name pos:start="119:13" pos:end="119:24">active_lines</name> <operator pos:start="119:26" pos:end="119:27">+=</operator> <name pos:start="119:29" pos:end="119:46"><name pos:start="119:29" pos:end="119:32">band</name><operator pos:start="119:33" pos:end="119:34">-&gt;</operator><name pos:start="119:35" pos:end="119:46">active_lines</name></name></expr>;</expr_stmt>



            <comment type="block" pos:start="123:13" pos:end="123:75">/* 5.6.1.3.3 "Selection of the bands for avoidance of holes" */</comment>

            <if_stmt pos:start="125:13" pos:end="131:57"><if pos:start="125:13" pos:end="127:53">if <condition pos:start="125:16" pos:end="125:91">(<expr pos:start="125:17" pos:end="125:90"><name pos:start="125:17" pos:end="125:30"><name pos:start="125:17" pos:end="125:25">spread_en</name><index pos:start="125:26" pos:end="125:30">[<expr pos:start="125:27" pos:end="125:29"><name pos:start="125:27" pos:end="125:27">w</name><operator pos:start="125:28" pos:end="125:28">+</operator><name pos:start="125:29" pos:end="125:29">g</name></expr>]</index></name> <operator pos:start="125:32" pos:end="125:32">*</operator> <name pos:start="125:34" pos:end="125:47">avoid_hole_thr</name> <operator pos:start="125:49" pos:end="125:49">&gt;</operator> <name pos:start="125:51" pos:end="125:62"><name pos:start="125:51" pos:end="125:54">band</name><operator pos:start="125:55" pos:end="125:56">-&gt;</operator><name pos:start="125:57" pos:end="125:62">energy</name></name> <operator pos:start="125:64" pos:end="125:65">||</operator> <name pos:start="125:67" pos:end="125:75"><name pos:start="125:67" pos:end="125:72">coeffs</name><index pos:start="125:73" pos:end="125:75">[<expr pos:start="125:74" pos:end="125:74"><name pos:start="125:74" pos:end="125:74">g</name></expr>]</index></name><operator pos:start="125:76" pos:end="125:76">.</operator><name pos:start="125:77" pos:end="125:83">min_snr</name> <operator pos:start="125:85" pos:end="125:85">&gt;</operator> <literal type="number" pos:start="125:87" pos:end="125:90">1.0f</literal></expr>)</condition><block type="pseudo" pos:start="127:17" pos:end="127:53"><block_content pos:start="127:17" pos:end="127:53">

                <expr_stmt pos:start="127:17" pos:end="127:53"><expr pos:start="127:17" pos:end="127:52"><name pos:start="127:17" pos:end="127:33"><name pos:start="127:17" pos:end="127:20">band</name><operator pos:start="127:21" pos:end="127:22">-&gt;</operator><name pos:start="127:23" pos:end="127:33">avoid_holes</name></name> <operator pos:start="127:35" pos:end="127:35">=</operator> <name pos:start="127:37" pos:end="127:52">PSY_3GPP_AH_NONE</name></expr>;</expr_stmt></block_content></block></if>

            <else pos:start="129:13" pos:end="131:57">else<block type="pseudo" pos:start="131:17" pos:end="131:57"><block_content pos:start="131:17" pos:end="131:57">

                <expr_stmt pos:start="131:17" pos:end="131:57"><expr pos:start="131:17" pos:end="131:56"><name pos:start="131:17" pos:end="131:33"><name pos:start="131:17" pos:end="131:20">band</name><operator pos:start="131:21" pos:end="131:22">-&gt;</operator><name pos:start="131:23" pos:end="131:33">avoid_holes</name></name> <operator pos:start="131:35" pos:end="131:35">=</operator> <name pos:start="131:37" pos:end="131:56">PSY_3GPP_AH_INACTIVE</name></expr>;</expr_stmt></block_content></block></else></if_stmt>

        </block_content>}</block></for>

    </block_content>}</block></for>



    <comment type="block" pos:start="139:5" pos:end="139:67">/* 5.6.1.3.2 "Calculation of the desired perceptual entropy" */</comment>

    <expr_stmt pos:start="141:5" pos:end="141:34"><expr pos:start="141:5" pos:end="141:33"><name pos:start="141:5" pos:end="141:20"><name pos:start="141:5" pos:end="141:7">ctx</name><operator pos:start="141:8" pos:end="141:9">-&gt;</operator><name pos:start="141:10" pos:end="141:11">ch</name><index pos:start="141:12" pos:end="141:20">[<expr pos:start="141:13" pos:end="141:19"><name pos:start="141:13" pos:end="141:19">channel</name></expr>]</index></name><operator pos:start="141:21" pos:end="141:21">.</operator><name pos:start="141:22" pos:end="141:28">entropy</name> <operator pos:start="141:30" pos:end="141:30">=</operator> <name pos:start="141:32" pos:end="141:33">pe</name></expr>;</expr_stmt>

    <expr_stmt pos:start="143:5" pos:end="143:103"><expr pos:start="143:5" pos:end="143:102"><name pos:start="143:5" pos:end="143:16">desired_bits</name> <operator pos:start="143:18" pos:end="143:18">=</operator> <call pos:start="143:20" pos:end="143:102"><name pos:start="143:20" pos:end="143:34">calc_bit_demand</name><argument_list pos:start="143:35" pos:end="143:102">(<argument pos:start="143:36" pos:end="143:39"><expr pos:start="143:36" pos:end="143:39"><name pos:start="143:36" pos:end="143:39">pctx</name></expr></argument>, <argument pos:start="143:42" pos:end="143:43"><expr pos:start="143:42" pos:end="143:43"><name pos:start="143:42" pos:end="143:43">pe</name></expr></argument>, <argument pos:start="143:46" pos:end="143:61"><expr pos:start="143:46" pos:end="143:61"><name pos:start="143:46" pos:end="143:61"><name pos:start="143:46" pos:end="143:48">ctx</name><operator pos:start="143:49" pos:end="143:50">-&gt;</operator><name pos:start="143:51" pos:end="143:56">bitres</name><operator pos:start="143:57" pos:end="143:57">.</operator><name pos:start="143:58" pos:end="143:61">bits</name></name></expr></argument>, <argument pos:start="143:64" pos:end="143:79"><expr pos:start="143:64" pos:end="143:79"><name pos:start="143:64" pos:end="143:79"><name pos:start="143:64" pos:end="143:66">ctx</name><operator pos:start="143:67" pos:end="143:68">-&gt;</operator><name pos:start="143:69" pos:end="143:74">bitres</name><operator pos:start="143:75" pos:end="143:75">.</operator><name pos:start="143:76" pos:end="143:79">size</name></name></expr></argument>, <argument pos:start="143:82" pos:end="143:101"><expr pos:start="143:82" pos:end="143:101"><name pos:start="143:82" pos:end="143:96"><name pos:start="143:82" pos:end="143:83">wi</name><operator pos:start="143:84" pos:end="143:85">-&gt;</operator><name pos:start="143:86" pos:end="143:96">num_windows</name></name> <operator pos:start="143:98" pos:end="143:99">==</operator> <literal type="number" pos:start="143:101" pos:end="143:101">8</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="145:5" pos:end="145:51"><expr pos:start="145:5" pos:end="145:50"><name pos:start="145:5" pos:end="145:14">desired_pe</name> <operator pos:start="145:16" pos:end="145:16">=</operator> <call pos:start="145:18" pos:end="145:50"><name pos:start="145:18" pos:end="145:36">PSY_3GPP_BITS_TO_PE</name><argument_list pos:start="145:37" pos:end="145:50">(<argument pos:start="145:38" pos:end="145:49"><expr pos:start="145:38" pos:end="145:49"><name pos:start="145:38" pos:end="145:49">desired_bits</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <comment type="block" pos:start="147:5" pos:end="153:7">/* NOTE: PE correction is kept simple. During initial testing it had very

     *       little effect on the final bitrate. Probably a good idea to come

     *       back and do more testing later.

     */</comment>

    <if_stmt pos:start="155:5" pos:end="159:45"><if pos:start="155:5" pos:end="159:45">if <condition pos:start="155:8" pos:end="155:29">(<expr pos:start="155:9" pos:end="155:28"><name pos:start="155:9" pos:end="155:24"><name pos:start="155:9" pos:end="155:11">ctx</name><operator pos:start="155:12" pos:end="155:13">-&gt;</operator><name pos:start="155:14" pos:end="155:19">bitres</name><operator pos:start="155:20" pos:end="155:20">.</operator><name pos:start="155:21" pos:end="155:24">bits</name></name> <operator pos:start="155:26" pos:end="155:26">&gt;</operator> <literal type="number" pos:start="155:28" pos:end="155:28">0</literal></expr>)</condition><block type="pseudo" pos:start="157:9" pos:end="159:45"><block_content pos:start="157:9" pos:end="159:45">

        <expr_stmt pos:start="157:9" pos:end="159:45"><expr pos:start="157:9" pos:end="159:44"><name pos:start="157:9" pos:end="157:18">desired_pe</name> <operator pos:start="157:20" pos:end="157:21">*=</operator> <call pos:start="157:23" pos:end="159:44"><name pos:start="157:23" pos:end="157:30">av_clipf</name><argument_list pos:start="157:31" pos:end="159:44">(<argument pos:start="157:32" pos:end="157:88"><expr pos:start="157:32" pos:end="157:88"><name pos:start="157:32" pos:end="157:48"><name pos:start="157:32" pos:end="157:35">pctx</name><operator pos:start="157:36" pos:end="157:37">-&gt;</operator><name pos:start="157:38" pos:end="157:39">pe</name><operator pos:start="157:40" pos:end="157:40">.</operator><name pos:start="157:41" pos:end="157:48">previous</name></name> <operator pos:start="157:50" pos:end="157:50">/</operator> <call pos:start="157:52" pos:end="157:88"><name pos:start="157:52" pos:end="157:70">PSY_3GPP_BITS_TO_PE</name><argument_list pos:start="157:71" pos:end="157:88">(<argument pos:start="157:72" pos:end="157:87"><expr pos:start="157:72" pos:end="157:87"><name pos:start="157:72" pos:end="157:87"><name pos:start="157:72" pos:end="157:74">ctx</name><operator pos:start="157:75" pos:end="157:76">-&gt;</operator><name pos:start="157:77" pos:end="157:82">bitres</name><operator pos:start="157:83" pos:end="157:83">.</operator><name pos:start="157:84" pos:end="157:87">bits</name></name></expr></argument>)</argument_list></call></expr></argument>,

                               <argument pos:start="159:32" pos:end="159:36"><expr pos:start="159:32" pos:end="159:36"><literal type="number" pos:start="159:32" pos:end="159:36">0.85f</literal></expr></argument>, <argument pos:start="159:39" pos:end="159:43"><expr pos:start="159:39" pos:end="159:43"><literal type="number" pos:start="159:39" pos:end="159:43">1.15f</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

    <expr_stmt pos:start="161:5" pos:end="161:58"><expr pos:start="161:5" pos:end="161:57"><name pos:start="161:5" pos:end="161:21"><name pos:start="161:5" pos:end="161:8">pctx</name><operator pos:start="161:9" pos:end="161:10">-&gt;</operator><name pos:start="161:11" pos:end="161:12">pe</name><operator pos:start="161:13" pos:end="161:13">.</operator><name pos:start="161:14" pos:end="161:21">previous</name></name> <operator pos:start="161:23" pos:end="161:23">=</operator> <call pos:start="161:25" pos:end="161:57"><name pos:start="161:25" pos:end="161:43">PSY_3GPP_BITS_TO_PE</name><argument_list pos:start="161:44" pos:end="161:57">(<argument pos:start="161:45" pos:end="161:56"><expr pos:start="161:45" pos:end="161:56"><name pos:start="161:45" pos:end="161:56">desired_bits</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <if_stmt pos:start="165:5" pos:end="339:5"><if pos:start="165:5" pos:end="339:5">if <condition pos:start="165:8" pos:end="165:24">(<expr pos:start="165:9" pos:end="165:23"><name pos:start="165:9" pos:end="165:18">desired_pe</name> <operator pos:start="165:20" pos:end="165:20">&lt;</operator> <name pos:start="165:22" pos:end="165:23">pe</name></expr>)</condition> <block pos:start="165:26" pos:end="339:5">{<block_content pos:start="169:9" pos:end="337:9">

        <comment type="block" pos:start="167:9" pos:end="167:65">/* 5.6.1.3.4 "First Estimation of the reduction value" */</comment>

        <for pos:start="169:9" pos:end="197:9">for <control pos:start="169:13" pos:end="169:52">(<init pos:start="169:14" pos:end="169:19"><expr pos:start="169:14" pos:end="169:18"><name pos:start="169:14" pos:end="169:14">w</name> <operator pos:start="169:16" pos:end="169:16">=</operator> <literal type="number" pos:start="169:18" pos:end="169:18">0</literal></expr>;</init> <condition pos:start="169:21" pos:end="169:43"><expr pos:start="169:21" pos:end="169:42"><name pos:start="169:21" pos:end="169:21">w</name> <operator pos:start="169:23" pos:end="169:23">&lt;</operator> <name pos:start="169:25" pos:end="169:39"><name pos:start="169:25" pos:end="169:26">wi</name><operator pos:start="169:27" pos:end="169:28">-&gt;</operator><name pos:start="169:29" pos:end="169:39">num_windows</name></name><operator pos:start="169:40" pos:end="169:40">*</operator><literal type="number" pos:start="169:41" pos:end="169:42">16</literal></expr>;</condition> <incr pos:start="169:45" pos:end="169:51"><expr pos:start="169:45" pos:end="169:51"><name pos:start="169:45" pos:end="169:45">w</name> <operator pos:start="169:47" pos:end="169:48">+=</operator> <literal type="number" pos:start="169:50" pos:end="169:51">16</literal></expr></incr>)</control> <block pos:start="169:54" pos:end="197:9">{<block_content pos:start="171:13" pos:end="195:13">

            <expr_stmt pos:start="171:13" pos:end="171:77"><expr pos:start="171:13" pos:end="171:76"><name pos:start="171:13" pos:end="171:21">reduction</name> <operator pos:start="171:23" pos:end="171:23">=</operator> <call pos:start="171:25" pos:end="171:76"><name pos:start="171:25" pos:end="171:43">calc_reduction_3gpp</name><argument_list pos:start="171:44" pos:end="171:76">(<argument pos:start="171:45" pos:end="171:45"><expr pos:start="171:45" pos:end="171:45"><name pos:start="171:45" pos:end="171:45">a</name></expr></argument>, <argument pos:start="171:48" pos:end="171:57"><expr pos:start="171:48" pos:end="171:57"><name pos:start="171:48" pos:end="171:57">desired_pe</name></expr></argument>, <argument pos:start="171:60" pos:end="171:61"><expr pos:start="171:60" pos:end="171:61"><name pos:start="171:60" pos:end="171:61">pe</name></expr></argument>, <argument pos:start="171:64" pos:end="171:75"><expr pos:start="171:64" pos:end="171:75"><name pos:start="171:64" pos:end="171:75">active_lines</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="173:13" pos:end="173:22"><expr pos:start="173:13" pos:end="173:21"><name pos:start="173:13" pos:end="173:14">pe</name> <operator pos:start="173:16" pos:end="173:16">=</operator> <literal type="number" pos:start="173:18" pos:end="173:21">0.0f</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="175:13" pos:end="175:22"><expr pos:start="175:13" pos:end="175:21"><name pos:start="175:13" pos:end="175:13">a</name>  <operator pos:start="175:16" pos:end="175:16">=</operator> <literal type="number" pos:start="175:18" pos:end="175:21">0.0f</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="177:13" pos:end="177:32"><expr pos:start="177:13" pos:end="177:31"><name pos:start="177:13" pos:end="177:24">active_lines</name> <operator pos:start="177:26" pos:end="177:26">=</operator> <literal type="number" pos:start="177:28" pos:end="177:31">0.0f</literal></expr>;</expr_stmt>

            <for pos:start="179:13" pos:end="195:13">for <control pos:start="179:17" pos:end="179:43">(<init pos:start="179:18" pos:end="179:23"><expr pos:start="179:18" pos:end="179:22"><name pos:start="179:18" pos:end="179:18">g</name> <operator pos:start="179:20" pos:end="179:20">=</operator> <literal type="number" pos:start="179:22" pos:end="179:22">0</literal></expr>;</init> <condition pos:start="179:25" pos:end="179:38"><expr pos:start="179:25" pos:end="179:37"><name pos:start="179:25" pos:end="179:25">g</name> <operator pos:start="179:27" pos:end="179:27">&lt;</operator> <name pos:start="179:29" pos:end="179:37">num_bands</name></expr>;</condition> <incr pos:start="179:40" pos:end="179:42"><expr pos:start="179:40" pos:end="179:42"><name pos:start="179:40" pos:end="179:40">g</name><operator pos:start="179:41" pos:end="179:42">++</operator></expr></incr>)</control> <block pos:start="179:45" pos:end="195:13">{<block_content pos:start="181:17" pos:end="193:51">

                <decl_stmt pos:start="181:17" pos:end="181:51"><decl pos:start="181:17" pos:end="181:50"><type pos:start="181:17" pos:end="181:28"><name pos:start="181:17" pos:end="181:26">AacPsyBand</name> <modifier pos:start="181:28" pos:end="181:28">*</modifier></type><name pos:start="181:29" pos:end="181:32">band</name> <init pos:start="181:34" pos:end="181:50">= <expr pos:start="181:36" pos:end="181:50"><operator pos:start="181:36" pos:end="181:36">&amp;</operator><name pos:start="181:37" pos:end="181:50"><name pos:start="181:37" pos:end="181:39">pch</name><operator pos:start="181:40" pos:end="181:41">-&gt;</operator><name pos:start="181:42" pos:end="181:45">band</name><index pos:start="181:46" pos:end="181:50">[<expr pos:start="181:47" pos:end="181:49"><name pos:start="181:47" pos:end="181:47">w</name><operator pos:start="181:48" pos:end="181:48">+</operator><name pos:start="181:49" pos:end="181:49">g</name></expr>]</index></name></expr></init></decl>;</decl_stmt>



                <expr_stmt pos:start="185:17" pos:end="185:86"><expr pos:start="185:17" pos:end="185:85"><name pos:start="185:17" pos:end="185:25"><name pos:start="185:17" pos:end="185:20">band</name><operator pos:start="185:21" pos:end="185:22">-&gt;</operator><name pos:start="185:23" pos:end="185:25">thr</name></name> <operator pos:start="185:27" pos:end="185:27">=</operator> <call pos:start="185:29" pos:end="185:85"><name pos:start="185:29" pos:end="185:49">calc_reduced_thr_3gpp</name><argument_list pos:start="185:50" pos:end="185:85">(<argument pos:start="185:51" pos:end="185:54"><expr pos:start="185:51" pos:end="185:54"><name pos:start="185:51" pos:end="185:54">band</name></expr></argument>, <argument pos:start="185:57" pos:end="185:73"><expr pos:start="185:57" pos:end="185:73"><name pos:start="185:57" pos:end="185:65"><name pos:start="185:57" pos:end="185:62">coeffs</name><index pos:start="185:63" pos:end="185:65">[<expr pos:start="185:64" pos:end="185:64"><name pos:start="185:64" pos:end="185:64">g</name></expr>]</index></name><operator pos:start="185:66" pos:end="185:66">.</operator><name pos:start="185:67" pos:end="185:73">min_snr</name></expr></argument>, <argument pos:start="185:76" pos:end="185:84"><expr pos:start="185:76" pos:end="185:84"><name pos:start="185:76" pos:end="185:84">reduction</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <comment type="block" pos:start="187:17" pos:end="187:36">/* recalculate PE */</comment>

                <expr_stmt pos:start="189:17" pos:end="189:41"><expr pos:start="189:17" pos:end="189:40"><name pos:start="189:17" pos:end="189:18">pe</name> <operator pos:start="189:20" pos:end="189:21">+=</operator> <call pos:start="189:23" pos:end="189:40"><name pos:start="189:23" pos:end="189:34">calc_pe_3gpp</name><argument_list pos:start="189:35" pos:end="189:40">(<argument pos:start="189:36" pos:end="189:39"><expr pos:start="189:36" pos:end="189:39"><name pos:start="189:36" pos:end="189:39">band</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="191:17" pos:end="191:37"><expr pos:start="191:17" pos:end="191:36"><name pos:start="191:17" pos:end="191:17">a</name>  <operator pos:start="191:20" pos:end="191:21">+=</operator> <name pos:start="191:23" pos:end="191:36"><name pos:start="191:23" pos:end="191:26">band</name><operator pos:start="191:27" pos:end="191:28">-&gt;</operator><name pos:start="191:29" pos:end="191:36">pe_const</name></name></expr>;</expr_stmt>

                <expr_stmt pos:start="193:17" pos:end="193:51"><expr pos:start="193:17" pos:end="193:50"><name pos:start="193:17" pos:end="193:28">active_lines</name> <operator pos:start="193:30" pos:end="193:31">+=</operator> <name pos:start="193:33" pos:end="193:50"><name pos:start="193:33" pos:end="193:36">band</name><operator pos:start="193:37" pos:end="193:38">-&gt;</operator><name pos:start="193:39" pos:end="193:50">active_lines</name></name></expr>;</expr_stmt>

            </block_content>}</block></for>

        </block_content>}</block></for>



        <comment type="block" pos:start="201:9" pos:end="201:66">/* 5.6.1.3.5 "Second Estimation of the reduction value" */</comment>

        <for pos:start="203:9" pos:end="269:9">for <control pos:start="203:13" pos:end="203:31">(<init pos:start="203:14" pos:end="203:19"><expr pos:start="203:14" pos:end="203:18"><name pos:start="203:14" pos:end="203:14">i</name> <operator pos:start="203:16" pos:end="203:16">=</operator> <literal type="number" pos:start="203:18" pos:end="203:18">0</literal></expr>;</init> <condition pos:start="203:21" pos:end="203:26"><expr pos:start="203:21" pos:end="203:25"><name pos:start="203:21" pos:end="203:21">i</name> <operator pos:start="203:23" pos:end="203:23">&lt;</operator> <literal type="number" pos:start="203:25" pos:end="203:25">2</literal></expr>;</condition> <incr pos:start="203:28" pos:end="203:30"><expr pos:start="203:28" pos:end="203:30"><name pos:start="203:28" pos:end="203:28">i</name><operator pos:start="203:29" pos:end="203:30">++</operator></expr></incr>)</control> <block pos:start="203:33" pos:end="269:9">{<block_content pos:start="205:13" pos:end="267:22">

            <decl_stmt pos:start="205:13" pos:end="205:52"><decl pos:start="205:13" pos:end="205:33"><type pos:start="205:13" pos:end="205:17"><name pos:start="205:13" pos:end="205:17">float</name></type> <name pos:start="205:19" pos:end="205:26">pe_no_ah</name> <init pos:start="205:28" pos:end="205:33">= <expr pos:start="205:30" pos:end="205:33"><literal type="number" pos:start="205:30" pos:end="205:33">0.0f</literal></expr></init></decl>, <decl pos:start="205:36" pos:end="205:51"><type ref="prev" pos:start="205:13" pos:end="205:17"/><name pos:start="205:36" pos:end="205:51">desired_pe_no_ah</name></decl>;</decl_stmt>

            <expr_stmt pos:start="207:13" pos:end="207:36"><expr pos:start="207:13" pos:end="207:35"><name pos:start="207:13" pos:end="207:24">active_lines</name> <operator pos:start="207:26" pos:end="207:26">=</operator> <name pos:start="207:28" pos:end="207:28">a</name> <operator pos:start="207:30" pos:end="207:30">=</operator> <literal type="number" pos:start="207:32" pos:end="207:35">0.0f</literal></expr>;</expr_stmt>

            <for pos:start="209:13" pos:end="229:13">for <control pos:start="209:17" pos:end="209:56">(<init pos:start="209:18" pos:end="209:23"><expr pos:start="209:18" pos:end="209:22"><name pos:start="209:18" pos:end="209:18">w</name> <operator pos:start="209:20" pos:end="209:20">=</operator> <literal type="number" pos:start="209:22" pos:end="209:22">0</literal></expr>;</init> <condition pos:start="209:25" pos:end="209:47"><expr pos:start="209:25" pos:end="209:46"><name pos:start="209:25" pos:end="209:25">w</name> <operator pos:start="209:27" pos:end="209:27">&lt;</operator> <name pos:start="209:29" pos:end="209:43"><name pos:start="209:29" pos:end="209:30">wi</name><operator pos:start="209:31" pos:end="209:32">-&gt;</operator><name pos:start="209:33" pos:end="209:43">num_windows</name></name><operator pos:start="209:44" pos:end="209:44">*</operator><literal type="number" pos:start="209:45" pos:end="209:46">16</literal></expr>;</condition> <incr pos:start="209:49" pos:end="209:55"><expr pos:start="209:49" pos:end="209:55"><name pos:start="209:49" pos:end="209:49">w</name> <operator pos:start="209:51" pos:end="209:52">+=</operator> <literal type="number" pos:start="209:54" pos:end="209:55">16</literal></expr></incr>)</control> <block pos:start="209:58" pos:end="229:13">{<block_content pos:start="211:17" pos:end="227:17">

                <for pos:start="211:17" pos:end="227:17">for <control pos:start="211:21" pos:end="211:47">(<init pos:start="211:22" pos:end="211:27"><expr pos:start="211:22" pos:end="211:26"><name pos:start="211:22" pos:end="211:22">g</name> <operator pos:start="211:24" pos:end="211:24">=</operator> <literal type="number" pos:start="211:26" pos:end="211:26">0</literal></expr>;</init> <condition pos:start="211:29" pos:end="211:42"><expr pos:start="211:29" pos:end="211:41"><name pos:start="211:29" pos:end="211:29">g</name> <operator pos:start="211:31" pos:end="211:31">&lt;</operator> <name pos:start="211:33" pos:end="211:41">num_bands</name></expr>;</condition> <incr pos:start="211:44" pos:end="211:46"><expr pos:start="211:44" pos:end="211:46"><name pos:start="211:44" pos:end="211:44">g</name><operator pos:start="211:45" pos:end="211:46">++</operator></expr></incr>)</control> <block pos:start="211:49" pos:end="227:17">{<block_content pos:start="213:21" pos:end="225:21">

                    <decl_stmt pos:start="213:21" pos:end="213:55"><decl pos:start="213:21" pos:end="213:54"><type pos:start="213:21" pos:end="213:32"><name pos:start="213:21" pos:end="213:30">AacPsyBand</name> <modifier pos:start="213:32" pos:end="213:32">*</modifier></type><name pos:start="213:33" pos:end="213:36">band</name> <init pos:start="213:38" pos:end="213:54">= <expr pos:start="213:40" pos:end="213:54"><operator pos:start="213:40" pos:end="213:40">&amp;</operator><name pos:start="213:41" pos:end="213:54"><name pos:start="213:41" pos:end="213:43">pch</name><operator pos:start="213:44" pos:end="213:45">-&gt;</operator><name pos:start="213:46" pos:end="213:49">band</name><index pos:start="213:50" pos:end="213:54">[<expr pos:start="213:51" pos:end="213:53"><name pos:start="213:51" pos:end="213:51">w</name><operator pos:start="213:52" pos:end="213:52">+</operator><name pos:start="213:53" pos:end="213:53">g</name></expr>]</index></name></expr></init></decl>;</decl_stmt>



                    <if_stmt pos:start="217:21" pos:end="225:21"><if pos:start="217:21" pos:end="225:21">if <condition pos:start="217:24" pos:end="217:64">(<expr pos:start="217:25" pos:end="217:63"><name pos:start="217:25" pos:end="217:41"><name pos:start="217:25" pos:end="217:28">band</name><operator pos:start="217:29" pos:end="217:30">-&gt;</operator><name pos:start="217:31" pos:end="217:41">avoid_holes</name></name> <operator pos:start="217:43" pos:end="217:44">!=</operator> <name pos:start="217:46" pos:end="217:63">PSY_3GPP_AH_ACTIVE</name></expr>)</condition> <block pos:start="217:66" pos:end="225:21">{<block_content pos:start="219:25" pos:end="223:59">

                        <expr_stmt pos:start="219:25" pos:end="219:45"><expr pos:start="219:25" pos:end="219:44"><name pos:start="219:25" pos:end="219:32">pe_no_ah</name> <operator pos:start="219:34" pos:end="219:35">+=</operator> <name pos:start="219:37" pos:end="219:44"><name pos:start="219:37" pos:end="219:40">band</name><operator pos:start="219:41" pos:end="219:42">-&gt;</operator><name pos:start="219:43" pos:end="219:44">pe</name></name></expr>;</expr_stmt>

                        <expr_stmt pos:start="221:25" pos:end="221:51"><expr pos:start="221:25" pos:end="221:50"><name pos:start="221:25" pos:end="221:25">a</name>        <operator pos:start="221:34" pos:end="221:35">+=</operator> <name pos:start="221:37" pos:end="221:50"><name pos:start="221:37" pos:end="221:40">band</name><operator pos:start="221:41" pos:end="221:42">-&gt;</operator><name pos:start="221:43" pos:end="221:50">pe_const</name></name></expr>;</expr_stmt>

                        <expr_stmt pos:start="223:25" pos:end="223:59"><expr pos:start="223:25" pos:end="223:58"><name pos:start="223:25" pos:end="223:36">active_lines</name> <operator pos:start="223:38" pos:end="223:39">+=</operator> <name pos:start="223:41" pos:end="223:58"><name pos:start="223:41" pos:end="223:44">band</name><operator pos:start="223:45" pos:end="223:46">-&gt;</operator><name pos:start="223:47" pos:end="223:58">active_lines</name></name></expr>;</expr_stmt>

                    </block_content>}</block></if></if_stmt>

                </block_content>}</block></for>

            </block_content>}</block></for>

            <expr_stmt pos:start="231:13" pos:end="231:73"><expr pos:start="231:13" pos:end="231:72"><name pos:start="231:13" pos:end="231:28">desired_pe_no_ah</name> <operator pos:start="231:30" pos:end="231:30">=</operator> <call pos:start="231:32" pos:end="231:72"><name pos:start="231:32" pos:end="231:36">FFMAX</name><argument_list pos:start="231:37" pos:end="231:72">(<argument pos:start="231:38" pos:end="231:65"><expr pos:start="231:38" pos:end="231:65"><name pos:start="231:38" pos:end="231:47">desired_pe</name> <operator pos:start="231:49" pos:end="231:49">-</operator> <operator pos:start="231:51" pos:end="231:51">(</operator><name pos:start="231:52" pos:end="231:53">pe</name> <operator pos:start="231:55" pos:end="231:55">-</operator> <name pos:start="231:57" pos:end="231:64">pe_no_ah</name><operator pos:start="231:65" pos:end="231:65">)</operator></expr></argument>, <argument pos:start="231:68" pos:end="231:71"><expr pos:start="231:68" pos:end="231:71"><literal type="number" pos:start="231:68" pos:end="231:71">0.0f</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <if_stmt pos:start="233:13" pos:end="235:94"><if pos:start="233:13" pos:end="235:94">if <condition pos:start="233:16" pos:end="233:36">(<expr pos:start="233:17" pos:end="233:35"><name pos:start="233:17" pos:end="233:28">active_lines</name> <operator pos:start="233:30" pos:end="233:30">&gt;</operator> <literal type="number" pos:start="233:32" pos:end="233:35">0.0f</literal></expr>)</condition><block type="pseudo" pos:start="235:17" pos:end="235:94"><block_content pos:start="235:17" pos:end="235:94">

                <expr_stmt pos:start="235:17" pos:end="235:94"><expr pos:start="235:17" pos:end="235:93"><name pos:start="235:17" pos:end="235:25">reduction</name> <operator pos:start="235:27" pos:end="235:28">+=</operator> <call pos:start="235:30" pos:end="235:93"><name pos:start="235:30" pos:end="235:48">calc_reduction_3gpp</name><argument_list pos:start="235:49" pos:end="235:93">(<argument pos:start="235:50" pos:end="235:50"><expr pos:start="235:50" pos:end="235:50"><name pos:start="235:50" pos:end="235:50">a</name></expr></argument>, <argument pos:start="235:53" pos:end="235:68"><expr pos:start="235:53" pos:end="235:68"><name pos:start="235:53" pos:end="235:68">desired_pe_no_ah</name></expr></argument>, <argument pos:start="235:71" pos:end="235:78"><expr pos:start="235:71" pos:end="235:78"><name pos:start="235:71" pos:end="235:78">pe_no_ah</name></expr></argument>, <argument pos:start="235:81" pos:end="235:92"><expr pos:start="235:81" pos:end="235:92"><name pos:start="235:81" pos:end="235:92">active_lines</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>



            <expr_stmt pos:start="239:13" pos:end="239:22"><expr pos:start="239:13" pos:end="239:21"><name pos:start="239:13" pos:end="239:14">pe</name> <operator pos:start="239:16" pos:end="239:16">=</operator> <literal type="number" pos:start="239:18" pos:end="239:21">0.0f</literal></expr>;</expr_stmt>

            <for pos:start="241:13" pos:end="261:13">for <control pos:start="241:17" pos:end="241:56">(<init pos:start="241:18" pos:end="241:23"><expr pos:start="241:18" pos:end="241:22"><name pos:start="241:18" pos:end="241:18">w</name> <operator pos:start="241:20" pos:end="241:20">=</operator> <literal type="number" pos:start="241:22" pos:end="241:22">0</literal></expr>;</init> <condition pos:start="241:25" pos:end="241:47"><expr pos:start="241:25" pos:end="241:46"><name pos:start="241:25" pos:end="241:25">w</name> <operator pos:start="241:27" pos:end="241:27">&lt;</operator> <name pos:start="241:29" pos:end="241:43"><name pos:start="241:29" pos:end="241:30">wi</name><operator pos:start="241:31" pos:end="241:32">-&gt;</operator><name pos:start="241:33" pos:end="241:43">num_windows</name></name><operator pos:start="241:44" pos:end="241:44">*</operator><literal type="number" pos:start="241:45" pos:end="241:46">16</literal></expr>;</condition> <incr pos:start="241:49" pos:end="241:55"><expr pos:start="241:49" pos:end="241:55"><name pos:start="241:49" pos:end="241:49">w</name> <operator pos:start="241:51" pos:end="241:52">+=</operator> <literal type="number" pos:start="241:54" pos:end="241:55">16</literal></expr></incr>)</control> <block pos:start="241:58" pos:end="261:13">{<block_content pos:start="243:17" pos:end="259:17">

                <for pos:start="243:17" pos:end="259:17">for <control pos:start="243:21" pos:end="243:47">(<init pos:start="243:22" pos:end="243:27"><expr pos:start="243:22" pos:end="243:26"><name pos:start="243:22" pos:end="243:22">g</name> <operator pos:start="243:24" pos:end="243:24">=</operator> <literal type="number" pos:start="243:26" pos:end="243:26">0</literal></expr>;</init> <condition pos:start="243:29" pos:end="243:42"><expr pos:start="243:29" pos:end="243:41"><name pos:start="243:29" pos:end="243:29">g</name> <operator pos:start="243:31" pos:end="243:31">&lt;</operator> <name pos:start="243:33" pos:end="243:41">num_bands</name></expr>;</condition> <incr pos:start="243:44" pos:end="243:46"><expr pos:start="243:44" pos:end="243:46"><name pos:start="243:44" pos:end="243:44">g</name><operator pos:start="243:45" pos:end="243:46">++</operator></expr></incr>)</control> <block pos:start="243:49" pos:end="259:17">{<block_content pos:start="245:21" pos:end="257:47">

                    <decl_stmt pos:start="245:21" pos:end="245:55"><decl pos:start="245:21" pos:end="245:54"><type pos:start="245:21" pos:end="245:32"><name pos:start="245:21" pos:end="245:30">AacPsyBand</name> <modifier pos:start="245:32" pos:end="245:32">*</modifier></type><name pos:start="245:33" pos:end="245:36">band</name> <init pos:start="245:38" pos:end="245:54">= <expr pos:start="245:40" pos:end="245:54"><operator pos:start="245:40" pos:end="245:40">&amp;</operator><name pos:start="245:41" pos:end="245:54"><name pos:start="245:41" pos:end="245:43">pch</name><operator pos:start="245:44" pos:end="245:45">-&gt;</operator><name pos:start="245:46" pos:end="245:49">band</name><index pos:start="245:50" pos:end="245:54">[<expr pos:start="245:51" pos:end="245:53"><name pos:start="245:51" pos:end="245:51">w</name><operator pos:start="245:52" pos:end="245:52">+</operator><name pos:start="245:53" pos:end="245:53">g</name></expr>]</index></name></expr></init></decl>;</decl_stmt>



                    <if_stmt pos:start="249:21" pos:end="251:94"><if pos:start="249:21" pos:end="251:94">if <condition pos:start="249:24" pos:end="249:44">(<expr pos:start="249:25" pos:end="249:43"><name pos:start="249:25" pos:end="249:36">active_lines</name> <operator pos:start="249:38" pos:end="249:38">&gt;</operator> <literal type="number" pos:start="249:40" pos:end="249:43">0.0f</literal></expr>)</condition><block type="pseudo" pos:start="251:25" pos:end="251:94"><block_content pos:start="251:25" pos:end="251:94">

                        <expr_stmt pos:start="251:25" pos:end="251:94"><expr pos:start="251:25" pos:end="251:93"><name pos:start="251:25" pos:end="251:33"><name pos:start="251:25" pos:end="251:28">band</name><operator pos:start="251:29" pos:end="251:30">-&gt;</operator><name pos:start="251:31" pos:end="251:33">thr</name></name> <operator pos:start="251:35" pos:end="251:35">=</operator> <call pos:start="251:37" pos:end="251:93"><name pos:start="251:37" pos:end="251:57">calc_reduced_thr_3gpp</name><argument_list pos:start="251:58" pos:end="251:93">(<argument pos:start="251:59" pos:end="251:62"><expr pos:start="251:59" pos:end="251:62"><name pos:start="251:59" pos:end="251:62">band</name></expr></argument>, <argument pos:start="251:65" pos:end="251:81"><expr pos:start="251:65" pos:end="251:81"><name pos:start="251:65" pos:end="251:73"><name pos:start="251:65" pos:end="251:70">coeffs</name><index pos:start="251:71" pos:end="251:73">[<expr pos:start="251:72" pos:end="251:72"><name pos:start="251:72" pos:end="251:72">g</name></expr>]</index></name><operator pos:start="251:74" pos:end="251:74">.</operator><name pos:start="251:75" pos:end="251:81">min_snr</name></expr></argument>, <argument pos:start="251:84" pos:end="251:92"><expr pos:start="251:84" pos:end="251:92"><name pos:start="251:84" pos:end="251:92">reduction</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

                    <expr_stmt pos:start="253:21" pos:end="253:45"><expr pos:start="253:21" pos:end="253:44"><name pos:start="253:21" pos:end="253:22">pe</name> <operator pos:start="253:24" pos:end="253:25">+=</operator> <call pos:start="253:27" pos:end="253:44"><name pos:start="253:27" pos:end="253:38">calc_pe_3gpp</name><argument_list pos:start="253:39" pos:end="253:44">(<argument pos:start="253:40" pos:end="253:43"><expr pos:start="253:40" pos:end="253:43"><name pos:start="253:40" pos:end="253:43">band</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="255:21" pos:end="255:68"><expr pos:start="255:21" pos:end="255:67"><name pos:start="255:21" pos:end="255:34"><name pos:start="255:21" pos:end="255:24">band</name><operator pos:start="255:25" pos:end="255:26">-&gt;</operator><name pos:start="255:27" pos:end="255:34">norm_fac</name></name> <operator pos:start="255:36" pos:end="255:36">=</operator> <name pos:start="255:38" pos:end="255:55"><name pos:start="255:38" pos:end="255:41">band</name><operator pos:start="255:42" pos:end="255:43">-&gt;</operator><name pos:start="255:44" pos:end="255:55">active_lines</name></name> <operator pos:start="255:57" pos:end="255:57">/</operator> <name pos:start="255:59" pos:end="255:67"><name pos:start="255:59" pos:end="255:62">band</name><operator pos:start="255:63" pos:end="255:64">-&gt;</operator><name pos:start="255:65" pos:end="255:67">thr</name></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="257:21" pos:end="257:47"><expr pos:start="257:21" pos:end="257:46"><name pos:start="257:21" pos:end="257:28">norm_fac</name> <operator pos:start="257:30" pos:end="257:31">+=</operator> <name pos:start="257:33" pos:end="257:46"><name pos:start="257:33" pos:end="257:36">band</name><operator pos:start="257:37" pos:end="257:38">-&gt;</operator><name pos:start="257:39" pos:end="257:46">norm_fac</name></name></expr>;</expr_stmt>

                </block_content>}</block></for>

            </block_content>}</block></for>

            <expr_stmt pos:start="263:13" pos:end="263:39"><expr pos:start="263:13" pos:end="263:38"><name pos:start="263:13" pos:end="263:20">delta_pe</name> <operator pos:start="263:22" pos:end="263:22">=</operator> <name pos:start="263:24" pos:end="263:33">desired_pe</name> <operator pos:start="263:35" pos:end="263:35">-</operator> <name pos:start="263:37" pos:end="263:38">pe</name></expr>;</expr_stmt>

            <if_stmt pos:start="265:13" pos:end="267:22"><if pos:start="265:13" pos:end="267:22">if <condition pos:start="265:16" pos:end="265:52">(<expr pos:start="265:17" pos:end="265:51"><call pos:start="265:17" pos:end="265:30"><name pos:start="265:17" pos:end="265:20">fabs</name><argument_list pos:start="265:21" pos:end="265:30">(<argument pos:start="265:22" pos:end="265:29"><expr pos:start="265:22" pos:end="265:29"><name pos:start="265:22" pos:end="265:29">delta_pe</name></expr></argument>)</argument_list></call> <operator pos:start="265:32" pos:end="265:32">&gt;</operator> <literal type="number" pos:start="265:34" pos:end="265:38">0.05f</literal> <operator pos:start="265:40" pos:end="265:40">*</operator> <name pos:start="265:42" pos:end="265:51">desired_pe</name></expr>)</condition><block type="pseudo" pos:start="267:17" pos:end="267:22"><block_content pos:start="267:17" pos:end="267:22">

                <break pos:start="267:17" pos:end="267:22">break;</break></block_content></block></if></if_stmt>

        </block_content>}</block></for>



        <if_stmt pos:start="273:9" pos:end="337:9"><if pos:start="273:9" pos:end="309:9">if <condition pos:start="273:12" pos:end="273:36">(<expr pos:start="273:13" pos:end="273:35"><name pos:start="273:13" pos:end="273:14">pe</name> <operator pos:start="273:16" pos:end="273:16">&lt;</operator> <literal type="number" pos:start="273:18" pos:end="273:22">1.15f</literal> <operator pos:start="273:24" pos:end="273:24">*</operator> <name pos:start="273:26" pos:end="273:35">desired_pe</name></expr>)</condition> <block pos:start="273:38" pos:end="309:9">{<block_content pos:start="277:13" pos:end="307:13">

            <comment type="block" pos:start="275:13" pos:end="275:75">/* 6.6.1.3.6 "Final threshold modification by linearization" */</comment>

            <expr_stmt pos:start="277:13" pos:end="277:39"><expr pos:start="277:13" pos:end="277:38"><name pos:start="277:13" pos:end="277:20">norm_fac</name> <operator pos:start="277:22" pos:end="277:22">=</operator> <literal type="number" pos:start="277:24" pos:end="277:27">1.0f</literal> <operator pos:start="277:29" pos:end="277:29">/</operator> <name pos:start="277:31" pos:end="277:38">norm_fac</name></expr>;</expr_stmt>

            <for pos:start="279:13" pos:end="307:13">for <control pos:start="279:17" pos:end="279:56">(<init pos:start="279:18" pos:end="279:23"><expr pos:start="279:18" pos:end="279:22"><name pos:start="279:18" pos:end="279:18">w</name> <operator pos:start="279:20" pos:end="279:20">=</operator> <literal type="number" pos:start="279:22" pos:end="279:22">0</literal></expr>;</init> <condition pos:start="279:25" pos:end="279:47"><expr pos:start="279:25" pos:end="279:46"><name pos:start="279:25" pos:end="279:25">w</name> <operator pos:start="279:27" pos:end="279:27">&lt;</operator> <name pos:start="279:29" pos:end="279:43"><name pos:start="279:29" pos:end="279:30">wi</name><operator pos:start="279:31" pos:end="279:32">-&gt;</operator><name pos:start="279:33" pos:end="279:43">num_windows</name></name><operator pos:start="279:44" pos:end="279:44">*</operator><literal type="number" pos:start="279:45" pos:end="279:46">16</literal></expr>;</condition> <incr pos:start="279:49" pos:end="279:55"><expr pos:start="279:49" pos:end="279:55"><name pos:start="279:49" pos:end="279:49">w</name> <operator pos:start="279:51" pos:end="279:52">+=</operator> <literal type="number" pos:start="279:54" pos:end="279:55">16</literal></expr></incr>)</control> <block pos:start="279:58" pos:end="307:13">{<block_content pos:start="281:17" pos:end="305:17">

                <for pos:start="281:17" pos:end="305:17">for <control pos:start="281:21" pos:end="281:47">(<init pos:start="281:22" pos:end="281:27"><expr pos:start="281:22" pos:end="281:26"><name pos:start="281:22" pos:end="281:22">g</name> <operator pos:start="281:24" pos:end="281:24">=</operator> <literal type="number" pos:start="281:26" pos:end="281:26">0</literal></expr>;</init> <condition pos:start="281:29" pos:end="281:42"><expr pos:start="281:29" pos:end="281:41"><name pos:start="281:29" pos:end="281:29">g</name> <operator pos:start="281:31" pos:end="281:31">&lt;</operator> <name pos:start="281:33" pos:end="281:41">num_bands</name></expr>;</condition> <incr pos:start="281:44" pos:end="281:46"><expr pos:start="281:44" pos:end="281:46"><name pos:start="281:44" pos:end="281:44">g</name><operator pos:start="281:45" pos:end="281:46">++</operator></expr></incr>)</control> <block pos:start="281:49" pos:end="305:17">{<block_content pos:start="283:21" pos:end="303:21">

                    <decl_stmt pos:start="283:21" pos:end="283:55"><decl pos:start="283:21" pos:end="283:54"><type pos:start="283:21" pos:end="283:32"><name pos:start="283:21" pos:end="283:30">AacPsyBand</name> <modifier pos:start="283:32" pos:end="283:32">*</modifier></type><name pos:start="283:33" pos:end="283:36">band</name> <init pos:start="283:38" pos:end="283:54">= <expr pos:start="283:40" pos:end="283:54"><operator pos:start="283:40" pos:end="283:40">&amp;</operator><name pos:start="283:41" pos:end="283:54"><name pos:start="283:41" pos:end="283:43">pch</name><operator pos:start="283:44" pos:end="283:45">-&gt;</operator><name pos:start="283:46" pos:end="283:49">band</name><index pos:start="283:50" pos:end="283:54">[<expr pos:start="283:51" pos:end="283:53"><name pos:start="283:51" pos:end="283:51">w</name><operator pos:start="283:52" pos:end="283:52">+</operator><name pos:start="283:53" pos:end="283:53">g</name></expr>]</index></name></expr></init></decl>;</decl_stmt>



                    <if_stmt pos:start="287:21" pos:end="303:21"><if pos:start="287:21" pos:end="303:21">if <condition pos:start="287:24" pos:end="287:50">(<expr pos:start="287:25" pos:end="287:49"><name pos:start="287:25" pos:end="287:42"><name pos:start="287:25" pos:end="287:28">band</name><operator pos:start="287:29" pos:end="287:30">-&gt;</operator><name pos:start="287:31" pos:end="287:42">active_lines</name></name> <operator pos:start="287:44" pos:end="287:44">&gt;</operator> <literal type="number" pos:start="287:46" pos:end="287:49">0.5f</literal></expr>)</condition> <block pos:start="287:52" pos:end="303:21">{<block_content pos:start="289:25" pos:end="301:40">

                        <decl_stmt pos:start="289:25" pos:end="289:82"><decl pos:start="289:25" pos:end="289:81"><type pos:start="289:25" pos:end="289:29"><name pos:start="289:25" pos:end="289:29">float</name></type> <name pos:start="289:31" pos:end="289:42">delta_sfb_pe</name> <init pos:start="289:44" pos:end="289:81">= <expr pos:start="289:46" pos:end="289:81"><name pos:start="289:46" pos:end="289:59"><name pos:start="289:46" pos:end="289:49">band</name><operator pos:start="289:50" pos:end="289:51">-&gt;</operator><name pos:start="289:52" pos:end="289:59">norm_fac</name></name> <operator pos:start="289:61" pos:end="289:61">*</operator> <name pos:start="289:63" pos:end="289:70">norm_fac</name> <operator pos:start="289:72" pos:end="289:72">*</operator> <name pos:start="289:74" pos:end="289:81">delta_pe</name></expr></init></decl>;</decl_stmt>

                        <decl_stmt pos:start="291:25" pos:end="291:46"><decl pos:start="291:25" pos:end="291:45"><type pos:start="291:25" pos:end="291:29"><name pos:start="291:25" pos:end="291:29">float</name></type> <name pos:start="291:31" pos:end="291:33">thr</name> <init pos:start="291:35" pos:end="291:45">= <expr pos:start="291:37" pos:end="291:45"><name pos:start="291:37" pos:end="291:45"><name pos:start="291:37" pos:end="291:40">band</name><operator pos:start="291:41" pos:end="291:42">-&gt;</operator><name pos:start="291:43" pos:end="291:45">thr</name></name></expr></init></decl>;</decl_stmt>



                        <expr_stmt pos:start="295:25" pos:end="295:77"><expr pos:start="295:25" pos:end="295:76"><name pos:start="295:25" pos:end="295:27">thr</name> <operator pos:start="295:29" pos:end="295:30">*=</operator> <call pos:start="295:32" pos:end="295:76"><name pos:start="295:32" pos:end="295:35">powf</name><argument_list pos:start="295:36" pos:end="295:76">(<argument pos:start="295:37" pos:end="295:40"><expr pos:start="295:37" pos:end="295:40"><literal type="number" pos:start="295:37" pos:end="295:40">2.0f</literal></expr></argument>, <argument pos:start="295:43" pos:end="295:75"><expr pos:start="295:43" pos:end="295:75"><name pos:start="295:43" pos:end="295:54">delta_sfb_pe</name> <operator pos:start="295:56" pos:end="295:56">/</operator> <name pos:start="295:58" pos:end="295:75"><name pos:start="295:58" pos:end="295:61">band</name><operator pos:start="295:62" pos:end="295:63">-&gt;</operator><name pos:start="295:64" pos:end="295:75">active_lines</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                        <if_stmt pos:start="297:25" pos:end="299:85"><if pos:start="297:25" pos:end="299:85">if <condition pos:start="297:28" pos:end="297:112">(<expr pos:start="297:29" pos:end="297:111"><name pos:start="297:29" pos:end="297:31">thr</name> <operator pos:start="297:33" pos:end="297:33">&gt;</operator> <name pos:start="297:35" pos:end="297:43"><name pos:start="297:35" pos:end="297:40">coeffs</name><index pos:start="297:41" pos:end="297:43">[<expr pos:start="297:42" pos:end="297:42"><name pos:start="297:42" pos:end="297:42">g</name></expr>]</index></name><operator pos:start="297:44" pos:end="297:44">.</operator><name pos:start="297:45" pos:end="297:51">min_snr</name> <operator pos:start="297:53" pos:end="297:53">*</operator> <name pos:start="297:55" pos:end="297:66"><name pos:start="297:55" pos:end="297:58">band</name><operator pos:start="297:59" pos:end="297:60">-&gt;</operator><name pos:start="297:61" pos:end="297:66">energy</name></name> <operator pos:start="297:68" pos:end="297:69">&amp;&amp;</operator> <name pos:start="297:71" pos:end="297:87"><name pos:start="297:71" pos:end="297:74">band</name><operator pos:start="297:75" pos:end="297:76">-&gt;</operator><name pos:start="297:77" pos:end="297:87">avoid_holes</name></name> <operator pos:start="297:89" pos:end="297:90">==</operator> <name pos:start="297:92" pos:end="297:111">PSY_3GPP_AH_INACTIVE</name></expr>)</condition><block type="pseudo" pos:start="299:29" pos:end="299:85"><block_content pos:start="299:29" pos:end="299:85">

                            <expr_stmt pos:start="299:29" pos:end="299:85"><expr pos:start="299:29" pos:end="299:84"><name pos:start="299:29" pos:end="299:31">thr</name> <operator pos:start="299:33" pos:end="299:33">=</operator> <call pos:start="299:35" pos:end="299:84"><name pos:start="299:35" pos:end="299:39">FFMAX</name><argument_list pos:start="299:40" pos:end="299:84">(<argument pos:start="299:41" pos:end="299:49"><expr pos:start="299:41" pos:end="299:49"><name pos:start="299:41" pos:end="299:49"><name pos:start="299:41" pos:end="299:44">band</name><operator pos:start="299:45" pos:end="299:46">-&gt;</operator><name pos:start="299:47" pos:end="299:49">thr</name></name></expr></argument>, <argument pos:start="299:52" pos:end="299:83"><expr pos:start="299:52" pos:end="299:83"><name pos:start="299:52" pos:end="299:60"><name pos:start="299:52" pos:end="299:57">coeffs</name><index pos:start="299:58" pos:end="299:60">[<expr pos:start="299:59" pos:end="299:59"><name pos:start="299:59" pos:end="299:59">g</name></expr>]</index></name><operator pos:start="299:61" pos:end="299:61">.</operator><name pos:start="299:62" pos:end="299:68">min_snr</name> <operator pos:start="299:70" pos:end="299:70">*</operator> <name pos:start="299:72" pos:end="299:83"><name pos:start="299:72" pos:end="299:75">band</name><operator pos:start="299:76" pos:end="299:77">-&gt;</operator><name pos:start="299:78" pos:end="299:83">energy</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

                        <expr_stmt pos:start="301:25" pos:end="301:40"><expr pos:start="301:25" pos:end="301:39"><name pos:start="301:25" pos:end="301:33"><name pos:start="301:25" pos:end="301:28">band</name><operator pos:start="301:29" pos:end="301:30">-&gt;</operator><name pos:start="301:31" pos:end="301:33">thr</name></name> <operator pos:start="301:35" pos:end="301:35">=</operator> <name pos:start="301:37" pos:end="301:39">thr</name></expr>;</expr_stmt>

                    </block_content>}</block></if></if_stmt>

                </block_content>}</block></for>

            </block_content>}</block></for>

        </block_content>}</block></if> <else pos:start="309:11" pos:end="337:9">else <block pos:start="309:16" pos:end="337:9">{<block_content pos:start="313:13" pos:end="333:13">

            <comment type="block" pos:start="311:13" pos:end="311:66">/* 5.6.1.3.7 "Further perceptual entropy reduction" */</comment>

            <expr_stmt pos:start="313:13" pos:end="313:26"><expr pos:start="313:13" pos:end="313:25"><name pos:start="313:13" pos:end="313:13">g</name> <operator pos:start="313:15" pos:end="313:15">=</operator> <name pos:start="313:17" pos:end="313:25">num_bands</name></expr>;</expr_stmt>

            <while pos:start="315:13" pos:end="333:13">while <condition pos:start="315:19" pos:end="315:42">(<expr pos:start="315:20" pos:end="315:41"><name pos:start="315:20" pos:end="315:21">pe</name> <operator pos:start="315:23" pos:end="315:23">&gt;</operator> <name pos:start="315:25" pos:end="315:34">desired_pe</name> <operator pos:start="315:36" pos:end="315:37">&amp;&amp;</operator> <name pos:start="315:39" pos:end="315:39">g</name><operator pos:start="315:40" pos:end="315:41">--</operator></expr>)</condition> <block pos:start="315:44" pos:end="333:13">{<block_content pos:start="317:17" pos:end="331:17">

                <for pos:start="317:17" pos:end="331:17">for <control pos:start="317:21" pos:end="317:59">(<init pos:start="317:22" pos:end="317:27"><expr pos:start="317:22" pos:end="317:26"><name pos:start="317:22" pos:end="317:22">w</name> <operator pos:start="317:24" pos:end="317:24">=</operator> <literal type="number" pos:start="317:26" pos:end="317:26">0</literal></expr>;</init> <condition pos:start="317:29" pos:end="317:51"><expr pos:start="317:29" pos:end="317:50"><name pos:start="317:29" pos:end="317:29">w</name> <operator pos:start="317:31" pos:end="317:31">&lt;</operator> <name pos:start="317:33" pos:end="317:47"><name pos:start="317:33" pos:end="317:34">wi</name><operator pos:start="317:35" pos:end="317:36">-&gt;</operator><name pos:start="317:37" pos:end="317:47">num_windows</name></name><operator pos:start="317:48" pos:end="317:48">*</operator><literal type="number" pos:start="317:49" pos:end="317:50">16</literal></expr>;</condition> <incr pos:start="317:53" pos:end="317:58"><expr pos:start="317:53" pos:end="317:58"><name pos:start="317:53" pos:end="317:53">w</name><operator pos:start="317:54" pos:end="317:55">+=</operator> <literal type="number" pos:start="317:57" pos:end="317:58">16</literal></expr></incr>)</control> <block pos:start="317:61" pos:end="331:17">{<block_content pos:start="319:21" pos:end="329:21">

                    <decl_stmt pos:start="319:21" pos:end="319:55"><decl pos:start="319:21" pos:end="319:54"><type pos:start="319:21" pos:end="319:32"><name pos:start="319:21" pos:end="319:30">AacPsyBand</name> <modifier pos:start="319:32" pos:end="319:32">*</modifier></type><name pos:start="319:33" pos:end="319:36">band</name> <init pos:start="319:38" pos:end="319:54">= <expr pos:start="319:40" pos:end="319:54"><operator pos:start="319:40" pos:end="319:40">&amp;</operator><name pos:start="319:41" pos:end="319:54"><name pos:start="319:41" pos:end="319:43">pch</name><operator pos:start="319:44" pos:end="319:45">-&gt;</operator><name pos:start="319:46" pos:end="319:49">band</name><index pos:start="319:50" pos:end="319:54">[<expr pos:start="319:51" pos:end="319:53"><name pos:start="319:51" pos:end="319:51">w</name><operator pos:start="319:52" pos:end="319:52">+</operator><name pos:start="319:53" pos:end="319:53">g</name></expr>]</index></name></expr></init></decl>;</decl_stmt>

                    <if_stmt pos:start="321:21" pos:end="329:21"><if pos:start="321:21" pos:end="329:21">if <condition pos:start="321:24" pos:end="321:97">(<expr pos:start="321:25" pos:end="321:96"><name pos:start="321:25" pos:end="321:41"><name pos:start="321:25" pos:end="321:28">band</name><operator pos:start="321:29" pos:end="321:30">-&gt;</operator><name pos:start="321:31" pos:end="321:41">avoid_holes</name></name> <operator pos:start="321:43" pos:end="321:44">!=</operator> <name pos:start="321:46" pos:end="321:61">PSY_3GPP_AH_NONE</name> <operator pos:start="321:63" pos:end="321:64">&amp;&amp;</operator> <name pos:start="321:66" pos:end="321:74"><name pos:start="321:66" pos:end="321:71">coeffs</name><index pos:start="321:72" pos:end="321:74">[<expr pos:start="321:73" pos:end="321:73"><name pos:start="321:73" pos:end="321:73">g</name></expr>]</index></name><operator pos:start="321:75" pos:end="321:75">.</operator><name pos:start="321:76" pos:end="321:82">min_snr</name> <operator pos:start="321:84" pos:end="321:84">&lt;</operator> <name pos:start="321:86" pos:end="321:96">PSY_SNR_1DB</name></expr>)</condition> <block pos:start="321:99" pos:end="329:21">{<block_content pos:start="323:25" pos:end="327:67">

                        <expr_stmt pos:start="323:25" pos:end="323:56"><expr pos:start="323:25" pos:end="323:55"><name pos:start="323:25" pos:end="323:33"><name pos:start="323:25" pos:end="323:30">coeffs</name><index pos:start="323:31" pos:end="323:33">[<expr pos:start="323:32" pos:end="323:32"><name pos:start="323:32" pos:end="323:32">g</name></expr>]</index></name><operator pos:start="323:34" pos:end="323:34">.</operator><name pos:start="323:35" pos:end="323:41">min_snr</name> <operator pos:start="323:43" pos:end="323:43">=</operator> <name pos:start="323:45" pos:end="323:55">PSY_SNR_1DB</name></expr>;</expr_stmt>

                        <expr_stmt pos:start="325:25" pos:end="325:63"><expr pos:start="325:25" pos:end="325:62"><name pos:start="325:25" pos:end="325:33"><name pos:start="325:25" pos:end="325:28">band</name><operator pos:start="325:29" pos:end="325:30">-&gt;</operator><name pos:start="325:31" pos:end="325:33">thr</name></name> <operator pos:start="325:35" pos:end="325:35">=</operator> <name pos:start="325:37" pos:end="325:48"><name pos:start="325:37" pos:end="325:40">band</name><operator pos:start="325:41" pos:end="325:42">-&gt;</operator><name pos:start="325:43" pos:end="325:48">energy</name></name> <operator pos:start="325:50" pos:end="325:50">*</operator> <name pos:start="325:52" pos:end="325:62">PSY_SNR_1DB</name></expr>;</expr_stmt>

                        <expr_stmt pos:start="327:25" pos:end="327:67"><expr pos:start="327:25" pos:end="327:66"><name pos:start="327:25" pos:end="327:26">pe</name> <operator pos:start="327:28" pos:end="327:29">+=</operator> <name pos:start="327:31" pos:end="327:48"><name pos:start="327:31" pos:end="327:34">band</name><operator pos:start="327:35" pos:end="327:36">-&gt;</operator><name pos:start="327:37" pos:end="327:48">active_lines</name></name> <operator pos:start="327:50" pos:end="327:50">*</operator> <literal type="number" pos:start="327:52" pos:end="327:57">1.5f</literal> <operator pos:start="327:57" pos:end="327:57">-</operator> <name pos:start="327:59" pos:end="327:66"><name pos:start="327:59" pos:end="327:62">band</name><operator pos:start="327:63" pos:end="327:64">-&gt;</operator><name pos:start="327:65" pos:end="327:66">pe</name></name></expr>;</expr_stmt>

                    </block_content>}</block></if></if_stmt>

                </block_content>}</block></for>

            </block_content>}</block></while>

            <comment type="block" pos:start="335:13" pos:end="335:66">/* TODO: allow more holes (unused without mid/side) */</comment>

        </block_content>}</block></else></if_stmt>

    </block_content>}</block></if></if_stmt>



    <for pos:start="343:5" pos:end="359:5">for <control pos:start="343:9" pos:end="343:48">(<init pos:start="343:10" pos:end="343:15"><expr pos:start="343:10" pos:end="343:14"><name pos:start="343:10" pos:end="343:10">w</name> <operator pos:start="343:12" pos:end="343:12">=</operator> <literal type="number" pos:start="343:14" pos:end="343:14">0</literal></expr>;</init> <condition pos:start="343:17" pos:end="343:39"><expr pos:start="343:17" pos:end="343:38"><name pos:start="343:17" pos:end="343:17">w</name> <operator pos:start="343:19" pos:end="343:19">&lt;</operator> <name pos:start="343:21" pos:end="343:35"><name pos:start="343:21" pos:end="343:22">wi</name><operator pos:start="343:23" pos:end="343:24">-&gt;</operator><name pos:start="343:25" pos:end="343:35">num_windows</name></name><operator pos:start="343:36" pos:end="343:36">*</operator><literal type="number" pos:start="343:37" pos:end="343:38">16</literal></expr>;</condition> <incr pos:start="343:41" pos:end="343:47"><expr pos:start="343:41" pos:end="343:47"><name pos:start="343:41" pos:end="343:41">w</name> <operator pos:start="343:43" pos:end="343:44">+=</operator> <literal type="number" pos:start="343:46" pos:end="343:47">16</literal></expr></incr>)</control> <block pos:start="343:50" pos:end="359:5">{<block_content pos:start="345:9" pos:end="357:9">

        <for pos:start="345:9" pos:end="357:9">for <control pos:start="345:13" pos:end="345:39">(<init pos:start="345:14" pos:end="345:19"><expr pos:start="345:14" pos:end="345:18"><name pos:start="345:14" pos:end="345:14">g</name> <operator pos:start="345:16" pos:end="345:16">=</operator> <literal type="number" pos:start="345:18" pos:end="345:18">0</literal></expr>;</init> <condition pos:start="345:21" pos:end="345:34"><expr pos:start="345:21" pos:end="345:33"><name pos:start="345:21" pos:end="345:21">g</name> <operator pos:start="345:23" pos:end="345:23">&lt;</operator> <name pos:start="345:25" pos:end="345:33">num_bands</name></expr>;</condition> <incr pos:start="345:36" pos:end="345:38"><expr pos:start="345:36" pos:end="345:38"><name pos:start="345:36" pos:end="345:36">g</name><operator pos:start="345:37" pos:end="345:38">++</operator></expr></incr>)</control> <block pos:start="345:41" pos:end="357:9">{<block_content pos:start="347:13" pos:end="355:47">

            <decl_stmt pos:start="347:13" pos:end="347:51"><decl pos:start="347:13" pos:end="347:50"><type pos:start="347:13" pos:end="347:24"><name pos:start="347:13" pos:end="347:22">AacPsyBand</name> <modifier pos:start="347:24" pos:end="347:24">*</modifier></type><name pos:start="347:25" pos:end="347:28">band</name>     <init pos:start="347:34" pos:end="347:50">= <expr pos:start="347:36" pos:end="347:50"><operator pos:start="347:36" pos:end="347:36">&amp;</operator><name pos:start="347:37" pos:end="347:50"><name pos:start="347:37" pos:end="347:39">pch</name><operator pos:start="347:40" pos:end="347:41">-&gt;</operator><name pos:start="347:42" pos:end="347:45">band</name><index pos:start="347:46" pos:end="347:50">[<expr pos:start="347:47" pos:end="347:49"><name pos:start="347:47" pos:end="347:47">w</name><operator pos:start="347:48" pos:end="347:48">+</operator><name pos:start="347:49" pos:end="347:49">g</name></expr>]</index></name></expr></init></decl>;</decl_stmt>

            <decl_stmt pos:start="349:13" pos:end="349:68"><decl pos:start="349:13" pos:end="349:67"><type pos:start="349:13" pos:end="349:24"><name pos:start="349:13" pos:end="349:21">FFPsyBand</name>  <modifier pos:start="349:24" pos:end="349:24">*</modifier></type><name pos:start="349:25" pos:end="349:32">psy_band</name> <init pos:start="349:34" pos:end="349:67">= <expr pos:start="349:36" pos:end="349:67"><operator pos:start="349:36" pos:end="349:36">&amp;</operator><name pos:start="349:37" pos:end="349:52"><name pos:start="349:37" pos:end="349:39">ctx</name><operator pos:start="349:40" pos:end="349:41">-&gt;</operator><name pos:start="349:42" pos:end="349:43">ch</name><index pos:start="349:44" pos:end="349:52">[<expr pos:start="349:45" pos:end="349:51"><name pos:start="349:45" pos:end="349:51">channel</name></expr>]</index></name><operator pos:start="349:53" pos:end="349:53">.</operator><name pos:start="349:54" pos:end="349:67"><name pos:start="349:54" pos:end="349:62">psy_bands</name><index pos:start="349:63" pos:end="349:67">[<expr pos:start="349:64" pos:end="349:66"><name pos:start="349:64" pos:end="349:64">w</name><operator pos:start="349:65" pos:end="349:65">+</operator><name pos:start="349:66" pos:end="349:66">g</name></expr>]</index></name></expr></init></decl>;</decl_stmt>



            <expr_stmt pos:start="353:13" pos:end="353:44"><expr pos:start="353:13" pos:end="353:43"><name pos:start="353:13" pos:end="353:31"><name pos:start="353:13" pos:end="353:20">psy_band</name><operator pos:start="353:21" pos:end="353:22">-&gt;</operator><name pos:start="353:23" pos:end="353:31">threshold</name></name> <operator pos:start="353:33" pos:end="353:33">=</operator> <name pos:start="353:35" pos:end="353:43"><name pos:start="353:35" pos:end="353:38">band</name><operator pos:start="353:39" pos:end="353:40">-&gt;</operator><name pos:start="353:41" pos:end="353:43">thr</name></name></expr>;</expr_stmt>

            <expr_stmt pos:start="355:13" pos:end="355:47"><expr pos:start="355:13" pos:end="355:46"><name pos:start="355:13" pos:end="355:28"><name pos:start="355:13" pos:end="355:20">psy_band</name><operator pos:start="355:21" pos:end="355:22">-&gt;</operator><name pos:start="355:23" pos:end="355:28">energy</name></name>    <operator pos:start="355:33" pos:end="355:33">=</operator> <name pos:start="355:35" pos:end="355:46"><name pos:start="355:35" pos:end="355:38">band</name><operator pos:start="355:39" pos:end="355:40">-&gt;</operator><name pos:start="355:41" pos:end="355:46">energy</name></name></expr>;</expr_stmt>

        </block_content>}</block></for>

    </block_content>}</block></for>



    <expr_stmt pos:start="363:5" pos:end="363:57"><expr pos:start="363:5" pos:end="363:56"><call pos:start="363:5" pos:end="363:56"><name pos:start="363:5" pos:end="363:10">memcpy</name><argument_list pos:start="363:11" pos:end="363:56">(<argument pos:start="363:12" pos:end="363:25"><expr pos:start="363:12" pos:end="363:25"><name pos:start="363:12" pos:end="363:25"><name pos:start="363:12" pos:end="363:14">pch</name><operator pos:start="363:15" pos:end="363:16">-&gt;</operator><name pos:start="363:17" pos:end="363:25">prev_band</name></name></expr></argument>, <argument pos:start="363:28" pos:end="363:36"><expr pos:start="363:28" pos:end="363:36"><name pos:start="363:28" pos:end="363:36"><name pos:start="363:28" pos:end="363:30">pch</name><operator pos:start="363:31" pos:end="363:32">-&gt;</operator><name pos:start="363:33" pos:end="363:36">band</name></name></expr></argument>, <argument pos:start="363:39" pos:end="363:55"><expr pos:start="363:39" pos:end="363:55"><sizeof pos:start="363:39" pos:end="363:55">sizeof<argument_list pos:start="363:45" pos:end="363:55">(<argument pos:start="363:46" pos:end="363:54"><expr pos:start="363:46" pos:end="363:54"><name pos:start="363:46" pos:end="363:54"><name pos:start="363:46" pos:end="363:48">pch</name><operator pos:start="363:49" pos:end="363:50">-&gt;</operator><name pos:start="363:51" pos:end="363:54">band</name></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>

</block_content>}</block></function>
</unit>
