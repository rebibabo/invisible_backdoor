<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:cpp="http://www.srcML.org/srcML/cpp" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/660.c" pos:tabs="8"><function pos:start="1:1" pos:end="235:1"><type pos:start="1:1" pos:end="1:3"><name pos:start="1:1" pos:end="1:3">int</name></type> <name pos:start="1:5" pos:end="1:24">ff_get_cpu_flags_x86</name><parameter_list pos:start="1:25" pos:end="1:30">(<parameter pos:start="1:26" pos:end="1:29"><decl pos:start="1:26" pos:end="1:29"><type pos:start="1:26" pos:end="1:29"><name pos:start="1:26" pos:end="1:29">void</name></type></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="235:1">{<block_content pos:start="5:5" pos:end="233:16">

    <decl_stmt pos:start="5:5" pos:end="5:17"><decl pos:start="5:5" pos:end="5:16"><type pos:start="5:5" pos:end="5:7"><name pos:start="5:5" pos:end="5:7">int</name></type> <name pos:start="5:9" pos:end="5:12">rval</name> <init pos:start="5:14" pos:end="5:16">= <expr pos:start="5:16" pos:end="5:16"><literal type="number" pos:start="5:16" pos:end="5:16">0</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:27"><decl pos:start="7:5" pos:end="7:11"><type pos:start="7:5" pos:end="7:7"><name pos:start="7:5" pos:end="7:7">int</name></type> <name pos:start="7:9" pos:end="7:11">eax</name></decl>, <decl pos:start="7:14" pos:end="7:16"><type ref="prev" pos:start="7:5" pos:end="7:7"/><name pos:start="7:14" pos:end="7:16">ebx</name></decl>, <decl pos:start="7:19" pos:end="7:21"><type ref="prev" pos:start="7:5" pos:end="7:7"/><name pos:start="7:19" pos:end="7:21">ecx</name></decl>, <decl pos:start="7:24" pos:end="7:26"><type ref="prev" pos:start="7:5" pos:end="7:7"/><name pos:start="7:24" pos:end="7:26">edx</name></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:61"><decl pos:start="9:5" pos:end="9:21"><type pos:start="9:5" pos:end="9:7"><name pos:start="9:5" pos:end="9:7">int</name></type> <name pos:start="9:9" pos:end="9:21">max_std_level</name></decl>, <decl pos:start="9:24" pos:end="9:36"><type ref="prev" pos:start="9:5" pos:end="9:7"/><name pos:start="9:24" pos:end="9:36">max_ext_level</name></decl>, <decl pos:start="9:39" pos:end="9:48"><type ref="prev" pos:start="9:5" pos:end="9:7"/><name pos:start="9:39" pos:end="9:46">std_caps</name><init pos:start="9:47" pos:end="9:48">=<expr pos:start="9:48" pos:end="9:48"><literal type="number" pos:start="9:48" pos:end="9:48">0</literal></expr></init></decl>, <decl pos:start="9:51" pos:end="9:60"><type ref="prev" pos:start="9:5" pos:end="9:7"/><name pos:start="9:51" pos:end="9:58">ext_caps</name><init pos:start="9:59" pos:end="9:60">=<expr pos:start="9:60" pos:end="9:60"><literal type="number" pos:start="9:60" pos:end="9:60">0</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:26"><decl pos:start="11:5" pos:end="11:16"><type pos:start="11:5" pos:end="11:7"><name pos:start="11:5" pos:end="11:7">int</name></type> <name pos:start="11:9" pos:end="11:14">family</name><init pos:start="11:15" pos:end="11:16">=<expr pos:start="11:16" pos:end="11:16"><literal type="number" pos:start="11:16" pos:end="11:16">0</literal></expr></init></decl>, <decl pos:start="11:19" pos:end="11:25"><type ref="prev" pos:start="11:5" pos:end="11:7"/><name pos:start="11:19" pos:end="11:23">model</name><init pos:start="11:24" pos:end="11:25">=<expr pos:start="11:25" pos:end="11:25"><literal type="number" pos:start="11:25" pos:end="11:25">0</literal></expr></init></decl>;</decl_stmt>

    <union pos:start="13:5" pos:end="18:0">union <block pos:start="13:11" pos:end="13:35">{ <decl_stmt pos:start="13:13" pos:end="13:21"><decl pos:start="13:13" pos:end="13:20"><type pos:start="13:13" pos:end="13:15"><name pos:start="13:13" pos:end="13:15">int</name></type> <name pos:start="13:17" pos:end="13:20"><name pos:start="13:17" pos:end="13:17">i</name><index pos:start="13:18" pos:end="13:20">[<expr pos:start="13:19" pos:end="13:19"><literal type="number" pos:start="13:19" pos:end="13:19">3</literal></expr>]</index></name></decl>;</decl_stmt> <decl_stmt pos:start="13:23" pos:end="13:33"><decl pos:start="13:23" pos:end="13:32"><type pos:start="13:23" pos:end="13:26"><name pos:start="13:23" pos:end="13:26">char</name></type> <name pos:start="13:28" pos:end="13:32"><name pos:start="13:28" pos:end="13:28">c</name><index pos:start="13:29" pos:end="13:32">[<expr pos:start="13:30" pos:end="13:31"><literal type="number" pos:start="13:30" pos:end="13:31">12</literal></expr>]</index></name></decl>;</decl_stmt> }</block> <decl pos:start="13:37" pos:end="13:42"><name pos:start="13:37" pos:end="13:42">vendor</name></decl>;</union>



<cpp:if pos:start="17:1" pos:end="17:15">#<cpp:directive pos:start="17:2" pos:end="17:3">if</cpp:directive> <expr pos:start="17:5" pos:end="17:15"><name pos:start="17:5" pos:end="17:15">ARCH_X86_32</name></expr></cpp:if>

    <decl_stmt pos:start="19:5" pos:end="19:17"><decl pos:start="19:5" pos:end="19:13"><type pos:start="19:5" pos:end="19:11"><name pos:start="19:5" pos:end="19:11">x86_reg</name></type> <name pos:start="19:13" pos:end="19:13">a</name></decl>, <decl pos:start="19:16" pos:end="19:16"><type ref="prev" pos:start="19:5" pos:end="19:11"/><name pos:start="19:16" pos:end="19:16">c</name></decl>;</decl_stmt>

    <asm pos:start="21:5" pos:end="59:10">__asm__ <specifier pos:start="21:13" pos:end="21:20">volatile</specifier> (

        <comment type="block" pos:start="23:9" pos:end="23:55">/* See if CPUID instruction is supported ... */</comment>

        <comment type="block" pos:start="25:9" pos:end="25:55">/* ... Get copies of EFLAGS into eax and ecx */</comment>

        "pushfl\n\t"

        "pop %0\n\t"

        "mov %0, %1\n\t"



        <comment type="block" pos:start="35:9" pos:end="35:57">/* ... Toggle the ID bit in one copy and store */</comment>

        <comment type="block" pos:start="37:9" pos:end="37:35">/*     to the EFLAGS reg */</comment>

        "xor $0x200000, %0\n\t"

        "push %0\n\t"

        "popfl\n\t"



        <comment type="block" pos:start="47:9" pos:end="47:53">/* ... Get the (hopefully modified) EFLAGS */</comment>

        "pushfl\n\t"

        "pop %0\n\t"

        : "=a" (a), "=c" (c)

        :

        : "cc"

        );</asm>



    <if_stmt pos:start="63:5" pos:end="68:0"><if pos:start="63:5" pos:end="68:0">if <condition pos:start="63:8" pos:end="63:15">(<expr pos:start="63:9" pos:end="63:14"><name pos:start="63:9" pos:end="63:9">a</name> <operator pos:start="63:11" pos:end="63:12">==</operator> <name pos:start="63:14" pos:end="63:14">c</name></expr>)</condition><block type="pseudo" pos:start="65:9" pos:end="68:0"><block_content pos:start="65:9" pos:end="68:0">

        <return pos:start="65:9" pos:end="68:0">return <expr pos:start="65:16" pos:end="65:16"><literal type="number" pos:start="65:16" pos:end="65:16">0</literal></expr>;</return></block_content></block></if></if_stmt> <comment type="block" pos:start="65:19" pos:end="65:43">/* CPUID not supported */</comment>

<cpp:endif pos:start="67:1" pos:end="67:6">#<cpp:directive pos:start="67:2" pos:end="67:6">endif</cpp:directive></cpp:endif>



    <expr_stmt pos:start="71:5" pos:end="71:67"><expr pos:start="71:5" pos:end="71:66"><call pos:start="71:5" pos:end="71:66"><name pos:start="71:5" pos:end="71:9">cpuid</name><argument_list pos:start="71:10" pos:end="71:66">(<argument pos:start="71:11" pos:end="71:11"><expr pos:start="71:11" pos:end="71:11"><literal type="number" pos:start="71:11" pos:end="71:11">0</literal></expr></argument>, <argument pos:start="71:14" pos:end="71:26"><expr pos:start="71:14" pos:end="71:26"><name pos:start="71:14" pos:end="71:26">max_std_level</name></expr></argument>, <argument pos:start="71:29" pos:end="71:39"><expr pos:start="71:29" pos:end="71:39"><name pos:start="71:29" pos:end="71:39"><name pos:start="71:29" pos:end="71:34">vendor</name><operator pos:start="71:35" pos:end="71:35">.</operator><name pos:start="71:36" pos:end="71:36">i</name><index pos:start="71:37" pos:end="71:39">[<expr pos:start="71:38" pos:end="71:38"><literal type="number" pos:start="71:38" pos:end="71:38">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="71:42" pos:end="71:52"><expr pos:start="71:42" pos:end="71:52"><name pos:start="71:42" pos:end="71:52"><name pos:start="71:42" pos:end="71:47">vendor</name><operator pos:start="71:48" pos:end="71:48">.</operator><name pos:start="71:49" pos:end="71:49">i</name><index pos:start="71:50" pos:end="71:52">[<expr pos:start="71:51" pos:end="71:51"><literal type="number" pos:start="71:51" pos:end="71:51">2</literal></expr>]</index></name></expr></argument>, <argument pos:start="71:55" pos:end="71:65"><expr pos:start="71:55" pos:end="71:65"><name pos:start="71:55" pos:end="71:65"><name pos:start="71:55" pos:end="71:60">vendor</name><operator pos:start="71:61" pos:end="71:61">.</operator><name pos:start="71:62" pos:end="71:62">i</name><index pos:start="71:63" pos:end="71:65">[<expr pos:start="71:64" pos:end="71:64"><literal type="number" pos:start="71:64" pos:end="71:64">1</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <if_stmt pos:start="75:5" pos:end="137:5"><if pos:start="75:5" pos:end="137:5">if<condition pos:start="75:7" pos:end="75:26">(<expr pos:start="75:8" pos:end="75:25"><name pos:start="75:8" pos:end="75:20">max_std_level</name> <operator pos:start="75:22" pos:end="75:23">&gt;=</operator> <literal type="number" pos:start="75:25" pos:end="75:25">1</literal></expr>)</condition><block pos:start="75:27" pos:end="137:5">{<block_content pos:start="77:9" pos:end="135:19">

        <expr_stmt pos:start="77:9" pos:end="77:42"><expr pos:start="77:9" pos:end="77:41"><call pos:start="77:9" pos:end="77:41"><name pos:start="77:9" pos:end="77:13">cpuid</name><argument_list pos:start="77:14" pos:end="77:41">(<argument pos:start="77:15" pos:end="77:15"><expr pos:start="77:15" pos:end="77:15"><literal type="number" pos:start="77:15" pos:end="77:15">1</literal></expr></argument>, <argument pos:start="77:18" pos:end="77:20"><expr pos:start="77:18" pos:end="77:20"><name pos:start="77:18" pos:end="77:20">eax</name></expr></argument>, <argument pos:start="77:23" pos:end="77:25"><expr pos:start="77:23" pos:end="77:25"><name pos:start="77:23" pos:end="77:25">ebx</name></expr></argument>, <argument pos:start="77:28" pos:end="77:30"><expr pos:start="77:28" pos:end="77:30"><name pos:start="77:28" pos:end="77:30">ecx</name></expr></argument>, <argument pos:start="77:33" pos:end="77:40"><expr pos:start="77:33" pos:end="77:40"><name pos:start="77:33" pos:end="77:40">std_caps</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="79:9" pos:end="79:51"><expr pos:start="79:9" pos:end="79:50"><name pos:start="79:9" pos:end="79:14">family</name> <operator pos:start="79:16" pos:end="79:16">=</operator> <operator pos:start="79:18" pos:end="79:18">(</operator><operator pos:start="79:19" pos:end="79:19">(</operator><name pos:start="79:20" pos:end="79:22">eax</name><operator pos:start="79:23" pos:end="79:24">&gt;&gt;</operator><literal type="number" pos:start="79:25" pos:end="79:25">8</literal><operator pos:start="79:26" pos:end="79:26">)</operator><operator pos:start="79:27" pos:end="79:27">&amp;</operator><literal type="number" pos:start="79:28" pos:end="79:30">0xf</literal><operator pos:start="79:31" pos:end="79:31">)</operator> <operator pos:start="79:33" pos:end="79:33">+</operator> <operator pos:start="79:35" pos:end="79:35">(</operator><operator pos:start="79:36" pos:end="79:36">(</operator><name pos:start="79:37" pos:end="79:39">eax</name><operator pos:start="79:40" pos:end="79:41">&gt;&gt;</operator><literal type="number" pos:start="79:42" pos:end="79:43">20</literal><operator pos:start="79:44" pos:end="79:44">)</operator><operator pos:start="79:45" pos:end="79:45">&amp;</operator><literal type="number" pos:start="79:46" pos:end="79:49">0xff</literal><operator pos:start="79:50" pos:end="79:50">)</operator></expr>;</expr_stmt>

        <expr_stmt pos:start="81:9" pos:end="81:51"><expr pos:start="81:9" pos:end="81:50"><name pos:start="81:9" pos:end="81:13">model</name>  <operator pos:start="81:16" pos:end="81:16">=</operator> <operator pos:start="81:18" pos:end="81:18">(</operator><operator pos:start="81:19" pos:end="81:19">(</operator><name pos:start="81:20" pos:end="81:22">eax</name><operator pos:start="81:23" pos:end="81:24">&gt;&gt;</operator><literal type="number" pos:start="81:25" pos:end="81:25">4</literal><operator pos:start="81:26" pos:end="81:26">)</operator><operator pos:start="81:27" pos:end="81:27">&amp;</operator><literal type="number" pos:start="81:28" pos:end="81:30">0xf</literal><operator pos:start="81:31" pos:end="81:31">)</operator> <operator pos:start="81:33" pos:end="81:33">+</operator> <operator pos:start="81:35" pos:end="81:35">(</operator><operator pos:start="81:36" pos:end="81:36">(</operator><name pos:start="81:37" pos:end="81:39">eax</name><operator pos:start="81:40" pos:end="81:41">&gt;&gt;</operator><literal type="number" pos:start="81:42" pos:end="81:43">12</literal><operator pos:start="81:44" pos:end="81:44">)</operator><operator pos:start="81:45" pos:end="81:45">&amp;</operator><literal type="number" pos:start="81:46" pos:end="81:49">0xf0</literal><operator pos:start="81:50" pos:end="81:50">)</operator></expr>;</expr_stmt>

        <if_stmt pos:start="83:9" pos:end="85:36"><if pos:start="83:9" pos:end="85:36">if <condition pos:start="83:12" pos:end="83:31">(<expr pos:start="83:13" pos:end="83:30"><name pos:start="83:13" pos:end="83:20">std_caps</name> <operator pos:start="83:22" pos:end="83:22">&amp;</operator> <operator pos:start="83:24" pos:end="83:24">(</operator><literal type="number" pos:start="83:25" pos:end="83:25">1</literal><operator pos:start="83:26" pos:end="83:27">&lt;&lt;</operator><literal type="number" pos:start="83:28" pos:end="83:29">23</literal><operator pos:start="83:30" pos:end="83:30">)</operator></expr>)</condition><block type="pseudo" pos:start="85:13" pos:end="85:36"><block_content pos:start="85:13" pos:end="85:36">

            <expr_stmt pos:start="85:13" pos:end="85:36"><expr pos:start="85:13" pos:end="85:35"><name pos:start="85:13" pos:end="85:16">rval</name> <operator pos:start="85:18" pos:end="85:19">|=</operator> <name pos:start="85:21" pos:end="85:35">AV_CPU_FLAG_MMX</name></expr>;</expr_stmt></block_content></block></if></if_stmt>

        <if_stmt pos:start="87:9" pos:end="93:36"><if pos:start="87:9" pos:end="93:36">if <condition pos:start="87:12" pos:end="87:31">(<expr pos:start="87:13" pos:end="87:30"><name pos:start="87:13" pos:end="87:20">std_caps</name> <operator pos:start="87:22" pos:end="87:22">&amp;</operator> <operator pos:start="87:24" pos:end="87:24">(</operator><literal type="number" pos:start="87:25" pos:end="87:25">1</literal><operator pos:start="87:26" pos:end="87:27">&lt;&lt;</operator><literal type="number" pos:start="87:28" pos:end="87:29">25</literal><operator pos:start="87:30" pos:end="87:30">)</operator></expr>)</condition><block type="pseudo" pos:start="89:13" pos:end="93:36"><block_content pos:start="89:13" pos:end="93:36">

            <expr_stmt pos:start="89:13" pos:end="93:36"><expr pos:start="89:13" pos:end="93:35"><name pos:start="89:13" pos:end="89:16">rval</name> <operator pos:start="89:18" pos:end="89:19">|=</operator> <name pos:start="89:21" pos:end="92:0">AV_CPU_FLAG_MMX2</name>

<cpp:if pos:start="91:1" pos:end="91:12">#<cpp:directive pos:start="91:2" pos:end="91:3">if</cpp:directive> <expr pos:start="91:5" pos:end="91:12"><name pos:start="91:5" pos:end="91:12">HAVE_SSE</name></expr></cpp:if>

                  <operator pos:start="93:19" pos:end="93:19">|</operator> <name pos:start="93:21" pos:end="93:35">AV_CPU_FLAG_SSE</name></expr>;</expr_stmt></block_content></block></if></if_stmt>

        <if_stmt pos:start="95:9" pos:end="97:37"><if pos:start="95:9" pos:end="97:37">if <condition pos:start="95:12" pos:end="95:31">(<expr pos:start="95:13" pos:end="95:30"><name pos:start="95:13" pos:end="95:20">std_caps</name> <operator pos:start="95:22" pos:end="95:22">&amp;</operator> <operator pos:start="95:24" pos:end="95:24">(</operator><literal type="number" pos:start="95:25" pos:end="95:25">1</literal><operator pos:start="95:26" pos:end="95:27">&lt;&lt;</operator><literal type="number" pos:start="95:28" pos:end="95:29">26</literal><operator pos:start="95:30" pos:end="95:30">)</operator></expr>)</condition><block type="pseudo" pos:start="97:13" pos:end="97:37"><block_content pos:start="97:13" pos:end="97:37">

            <expr_stmt pos:start="97:13" pos:end="97:37"><expr pos:start="97:13" pos:end="97:36"><name pos:start="97:13" pos:end="97:16">rval</name> <operator pos:start="97:18" pos:end="97:19">|=</operator> <name pos:start="97:21" pos:end="97:36">AV_CPU_FLAG_SSE2</name></expr>;</expr_stmt></block_content></block></if></if_stmt>

        <if_stmt pos:start="99:9" pos:end="101:37"><if pos:start="99:9" pos:end="101:37">if <condition pos:start="99:12" pos:end="99:20">(<expr pos:start="99:13" pos:end="99:19"><name pos:start="99:13" pos:end="99:15">ecx</name> <operator pos:start="99:17" pos:end="99:17">&amp;</operator> <literal type="number" pos:start="99:19" pos:end="99:19">1</literal></expr>)</condition><block type="pseudo" pos:start="101:13" pos:end="101:37"><block_content pos:start="101:13" pos:end="101:37">

            <expr_stmt pos:start="101:13" pos:end="101:37"><expr pos:start="101:13" pos:end="101:36"><name pos:start="101:13" pos:end="101:16">rval</name> <operator pos:start="101:18" pos:end="101:19">|=</operator> <name pos:start="101:21" pos:end="101:36">AV_CPU_FLAG_SSE3</name></expr>;</expr_stmt></block_content></block></if></if_stmt>

        <if_stmt pos:start="103:9" pos:end="105:38"><if pos:start="103:9" pos:end="105:38">if <condition pos:start="103:12" pos:end="103:30">(<expr pos:start="103:13" pos:end="103:28"><name pos:start="103:13" pos:end="103:15">ecx</name> <operator pos:start="103:17" pos:end="103:17">&amp;</operator> <literal type="number" pos:start="103:19" pos:end="103:28">0x00000200</literal></expr> )</condition><block type="pseudo" pos:start="105:13" pos:end="105:38"><block_content pos:start="105:13" pos:end="105:38">

            <expr_stmt pos:start="105:13" pos:end="105:38"><expr pos:start="105:13" pos:end="105:37"><name pos:start="105:13" pos:end="105:16">rval</name> <operator pos:start="105:18" pos:end="105:19">|=</operator> <name pos:start="105:21" pos:end="105:37">AV_CPU_FLAG_SSSE3</name></expr>;</expr_stmt></block_content></block></if></if_stmt>

        <if_stmt pos:start="107:9" pos:end="109:37"><if pos:start="107:9" pos:end="109:37">if <condition pos:start="107:12" pos:end="107:30">(<expr pos:start="107:13" pos:end="107:28"><name pos:start="107:13" pos:end="107:15">ecx</name> <operator pos:start="107:17" pos:end="107:17">&amp;</operator> <literal type="number" pos:start="107:19" pos:end="107:28">0x00080000</literal></expr> )</condition><block type="pseudo" pos:start="109:13" pos:end="109:37"><block_content pos:start="109:13" pos:end="109:37">

            <expr_stmt pos:start="109:13" pos:end="109:37"><expr pos:start="109:13" pos:end="109:36"><name pos:start="109:13" pos:end="109:16">rval</name> <operator pos:start="109:18" pos:end="109:19">|=</operator> <name pos:start="109:21" pos:end="109:36">AV_CPU_FLAG_SSE4</name></expr>;</expr_stmt></block_content></block></if></if_stmt>

        <if_stmt pos:start="111:9" pos:end="116:0"><if pos:start="111:9" pos:end="116:0">if <condition pos:start="111:12" pos:end="111:30">(<expr pos:start="111:13" pos:end="111:28"><name pos:start="111:13" pos:end="111:15">ecx</name> <operator pos:start="111:17" pos:end="111:17">&amp;</operator> <literal type="number" pos:start="111:19" pos:end="111:28">0x00100000</literal></expr> )</condition><block type="pseudo" pos:start="113:13" pos:end="116:0"><block_content pos:start="113:13" pos:end="116:0">

            <expr_stmt pos:start="113:13" pos:end="116:0"><expr pos:start="113:13" pos:end="113:37"><name pos:start="113:13" pos:end="113:16">rval</name> <operator pos:start="113:18" pos:end="113:19">|=</operator> <name pos:start="113:21" pos:end="113:37">AV_CPU_FLAG_SSE42</name></expr>;</expr_stmt></block_content></block></if></if_stmt>

<cpp:if pos:start="115:1" pos:end="115:12">#<cpp:directive pos:start="115:2" pos:end="115:3">if</cpp:directive> <expr pos:start="115:5" pos:end="115:12"><name pos:start="115:5" pos:end="115:12">HAVE_AVX</name></expr></cpp:if>

        <comment type="block" pos:start="117:9" pos:end="117:39">/* Check OXSAVE and AVX bits */</comment>

        <if_stmt pos:start="119:9" pos:end="134:0"><if pos:start="119:9" pos:end="134:0">if <condition pos:start="119:12" pos:end="119:45">(<expr pos:start="119:13" pos:end="119:44"><operator pos:start="119:13" pos:end="119:13">(</operator><name pos:start="119:14" pos:end="119:16">ecx</name> <operator pos:start="119:18" pos:end="119:18">&amp;</operator> <literal type="number" pos:start="119:20" pos:end="119:29">0x18000000</literal><operator pos:start="119:30" pos:end="119:30">)</operator> <operator pos:start="119:32" pos:end="119:33">==</operator> <literal type="number" pos:start="119:35" pos:end="119:44">0x18000000</literal></expr>)</condition> <block pos:start="119:47" pos:end="134:0">{<block_content pos:start="123:13" pos:end="127:40">

            <comment type="block" pos:start="121:13" pos:end="121:38">/* Check for OS support */</comment>

            <expr_stmt pos:start="123:13" pos:end="123:32"><expr pos:start="123:13" pos:end="123:31"><call pos:start="123:13" pos:end="123:31"><name pos:start="123:13" pos:end="123:18">xgetbv</name><argument_list pos:start="123:19" pos:end="123:31">(<argument pos:start="123:20" pos:end="123:20"><expr pos:start="123:20" pos:end="123:20"><literal type="number" pos:start="123:20" pos:end="123:20">0</literal></expr></argument>, <argument pos:start="123:23" pos:end="123:25"><expr pos:start="123:23" pos:end="123:25"><name pos:start="123:23" pos:end="123:25">eax</name></expr></argument>, <argument pos:start="123:28" pos:end="123:30"><expr pos:start="123:28" pos:end="123:30"><name pos:start="123:28" pos:end="123:30">edx</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <if_stmt pos:start="125:13" pos:end="127:40"><if pos:start="125:13" pos:end="127:40">if <condition pos:start="125:16" pos:end="125:35">(<expr pos:start="125:17" pos:end="125:34"><operator pos:start="125:17" pos:end="125:17">(</operator><name pos:start="125:18" pos:end="125:20">eax</name> <operator pos:start="125:22" pos:end="125:22">&amp;</operator> <literal type="number" pos:start="125:24" pos:end="125:26">0x6</literal><operator pos:start="125:27" pos:end="125:27">)</operator> <operator pos:start="125:29" pos:end="125:30">==</operator> <literal type="number" pos:start="125:32" pos:end="125:34">0x6</literal></expr>)</condition><block type="pseudo" pos:start="127:17" pos:end="127:40"><block_content pos:start="127:17" pos:end="127:40">

                <expr_stmt pos:start="127:17" pos:end="127:40"><expr pos:start="127:17" pos:end="127:39"><name pos:start="127:17" pos:end="127:20">rval</name> <operator pos:start="127:22" pos:end="127:23">|=</operator> <name pos:start="127:25" pos:end="127:39">AV_CPU_FLAG_AVX</name></expr>;</expr_stmt></block_content></block></if></if_stmt>

        </block_content>}</block></if></if_stmt>

<cpp:endif pos:start="131:1" pos:end="131:6">#<cpp:directive pos:start="131:2" pos:end="131:6">endif</cpp:directive></cpp:endif>

<cpp:endif pos:start="133:1" pos:end="133:6">#<cpp:directive pos:start="133:2" pos:end="133:6">endif</cpp:directive></cpp:endif>

                  <empty_stmt pos:start="135:19" pos:end="135:19">;</empty_stmt>

    </block_content>}</block></if></if_stmt>



    <expr_stmt pos:start="141:5" pos:end="141:52"><expr pos:start="141:5" pos:end="141:51"><call pos:start="141:5" pos:end="141:51"><name pos:start="141:5" pos:end="141:9">cpuid</name><argument_list pos:start="141:10" pos:end="141:51">(<argument pos:start="141:11" pos:end="141:20"><expr pos:start="141:11" pos:end="141:20"><literal type="number" pos:start="141:11" pos:end="141:20">0x80000000</literal></expr></argument>, <argument pos:start="141:23" pos:end="141:35"><expr pos:start="141:23" pos:end="141:35"><name pos:start="141:23" pos:end="141:35">max_ext_level</name></expr></argument>, <argument pos:start="141:38" pos:end="141:40"><expr pos:start="141:38" pos:end="141:40"><name pos:start="141:38" pos:end="141:40">ebx</name></expr></argument>, <argument pos:start="141:43" pos:end="141:45"><expr pos:start="141:43" pos:end="141:45"><name pos:start="141:43" pos:end="141:45">ecx</name></expr></argument>, <argument pos:start="141:48" pos:end="141:50"><expr pos:start="141:48" pos:end="141:50"><name pos:start="141:48" pos:end="141:50">edx</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <if_stmt pos:start="145:5" pos:end="189:5"><if pos:start="145:5" pos:end="189:5">if<condition pos:start="145:7" pos:end="145:35">(<expr pos:start="145:8" pos:end="145:34"><name pos:start="145:8" pos:end="145:20">max_ext_level</name> <operator pos:start="145:22" pos:end="145:23">&gt;=</operator> <literal type="number" pos:start="145:25" pos:end="145:34">0x80000001</literal></expr>)</condition><block pos:start="145:36" pos:end="189:5">{<block_content pos:start="147:9" pos:end="187:9">

        <expr_stmt pos:start="147:9" pos:end="147:51"><expr pos:start="147:9" pos:end="147:50"><call pos:start="147:9" pos:end="147:50"><name pos:start="147:9" pos:end="147:13">cpuid</name><argument_list pos:start="147:14" pos:end="147:50">(<argument pos:start="147:15" pos:end="147:24"><expr pos:start="147:15" pos:end="147:24"><literal type="number" pos:start="147:15" pos:end="147:24">0x80000001</literal></expr></argument>, <argument pos:start="147:27" pos:end="147:29"><expr pos:start="147:27" pos:end="147:29"><name pos:start="147:27" pos:end="147:29">eax</name></expr></argument>, <argument pos:start="147:32" pos:end="147:34"><expr pos:start="147:32" pos:end="147:34"><name pos:start="147:32" pos:end="147:34">ebx</name></expr></argument>, <argument pos:start="147:37" pos:end="147:39"><expr pos:start="147:37" pos:end="147:39"><name pos:start="147:37" pos:end="147:39">ecx</name></expr></argument>, <argument pos:start="147:42" pos:end="147:49"><expr pos:start="147:42" pos:end="147:49"><name pos:start="147:42" pos:end="147:49">ext_caps</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="149:9" pos:end="151:38"><if pos:start="149:9" pos:end="151:38">if <condition pos:start="149:12" pos:end="149:31">(<expr pos:start="149:13" pos:end="149:30"><name pos:start="149:13" pos:end="149:20">ext_caps</name> <operator pos:start="149:22" pos:end="149:22">&amp;</operator> <operator pos:start="149:24" pos:end="149:24">(</operator><literal type="number" pos:start="149:25" pos:end="149:25">1</literal><operator pos:start="149:26" pos:end="149:27">&lt;&lt;</operator><literal type="number" pos:start="149:28" pos:end="149:29">31</literal><operator pos:start="149:30" pos:end="149:30">)</operator></expr>)</condition><block type="pseudo" pos:start="151:13" pos:end="151:38"><block_content pos:start="151:13" pos:end="151:38">

            <expr_stmt pos:start="151:13" pos:end="151:38"><expr pos:start="151:13" pos:end="151:37"><name pos:start="151:13" pos:end="151:16">rval</name> <operator pos:start="151:18" pos:end="151:19">|=</operator> <name pos:start="151:21" pos:end="151:37">AV_CPU_FLAG_3DNOW</name></expr>;</expr_stmt></block_content></block></if></if_stmt>

        <if_stmt pos:start="153:9" pos:end="155:41"><if pos:start="153:9" pos:end="155:41">if <condition pos:start="153:12" pos:end="153:31">(<expr pos:start="153:13" pos:end="153:30"><name pos:start="153:13" pos:end="153:20">ext_caps</name> <operator pos:start="153:22" pos:end="153:22">&amp;</operator> <operator pos:start="153:24" pos:end="153:24">(</operator><literal type="number" pos:start="153:25" pos:end="153:25">1</literal><operator pos:start="153:26" pos:end="153:27">&lt;&lt;</operator><literal type="number" pos:start="153:28" pos:end="153:29">30</literal><operator pos:start="153:30" pos:end="153:30">)</operator></expr>)</condition><block type="pseudo" pos:start="155:13" pos:end="155:41"><block_content pos:start="155:13" pos:end="155:41">

            <expr_stmt pos:start="155:13" pos:end="155:41"><expr pos:start="155:13" pos:end="155:40"><name pos:start="155:13" pos:end="155:16">rval</name> <operator pos:start="155:18" pos:end="155:19">|=</operator> <name pos:start="155:21" pos:end="155:40">AV_CPU_FLAG_3DNOWEXT</name></expr>;</expr_stmt></block_content></block></if></if_stmt>

        <if_stmt pos:start="157:9" pos:end="159:36"><if pos:start="157:9" pos:end="159:36">if <condition pos:start="157:12" pos:end="157:31">(<expr pos:start="157:13" pos:end="157:30"><name pos:start="157:13" pos:end="157:20">ext_caps</name> <operator pos:start="157:22" pos:end="157:22">&amp;</operator> <operator pos:start="157:24" pos:end="157:24">(</operator><literal type="number" pos:start="157:25" pos:end="157:25">1</literal><operator pos:start="157:26" pos:end="157:27">&lt;&lt;</operator><literal type="number" pos:start="157:28" pos:end="157:29">23</literal><operator pos:start="157:30" pos:end="157:30">)</operator></expr>)</condition><block type="pseudo" pos:start="159:13" pos:end="159:36"><block_content pos:start="159:13" pos:end="159:36">

            <expr_stmt pos:start="159:13" pos:end="159:36"><expr pos:start="159:13" pos:end="159:35"><name pos:start="159:13" pos:end="159:16">rval</name> <operator pos:start="159:18" pos:end="159:19">|=</operator> <name pos:start="159:21" pos:end="159:35">AV_CPU_FLAG_MMX</name></expr>;</expr_stmt></block_content></block></if></if_stmt>

        <if_stmt pos:start="161:9" pos:end="163:37"><if pos:start="161:9" pos:end="163:37">if <condition pos:start="161:12" pos:end="161:31">(<expr pos:start="161:13" pos:end="161:30"><name pos:start="161:13" pos:end="161:20">ext_caps</name> <operator pos:start="161:22" pos:end="161:22">&amp;</operator> <operator pos:start="161:24" pos:end="161:24">(</operator><literal type="number" pos:start="161:25" pos:end="161:25">1</literal><operator pos:start="161:26" pos:end="161:27">&lt;&lt;</operator><literal type="number" pos:start="161:28" pos:end="161:29">22</literal><operator pos:start="161:30" pos:end="161:30">)</operator></expr>)</condition><block type="pseudo" pos:start="163:13" pos:end="163:37"><block_content pos:start="163:13" pos:end="163:37">

            <expr_stmt pos:start="163:13" pos:end="163:37"><expr pos:start="163:13" pos:end="163:36"><name pos:start="163:13" pos:end="163:16">rval</name> <operator pos:start="163:18" pos:end="163:19">|=</operator> <name pos:start="163:21" pos:end="163:36">AV_CPU_FLAG_MMX2</name></expr>;</expr_stmt></block_content></block></if></if_stmt>



        <comment type="block" pos:start="167:9" pos:end="179:35">/* Allow for selectively disabling SSE2 functions on AMD processors

           with SSE2 support but not SSE4a. This includes Athlon64, some

           Opteron, and some Sempron processors. MMX, SSE, or 3DNow! are faster

           than SSE2 often enough to utilize this special-case flag.

           AV_CPU_FLAG_SSE2 and AV_CPU_FLAG_SSE2SLOW are both set in this case

           so that SSE2 is used unless explicitly disabled by checking

           AV_CPU_FLAG_SSE2SLOW. */</comment>

        <if_stmt pos:start="181:9" pos:end="187:9"><if pos:start="181:9" pos:end="187:9">if <condition pos:start="181:12" pos:end="183:59">(<expr pos:start="181:13" pos:end="183:58"><operator pos:start="181:13" pos:end="181:13">!</operator><call pos:start="181:14" pos:end="181:50"><name pos:start="181:14" pos:end="181:20">strncmp</name><argument_list pos:start="181:21" pos:end="181:50">(<argument pos:start="181:22" pos:end="181:29"><expr pos:start="181:22" pos:end="181:29"><name pos:start="181:22" pos:end="181:29"><name pos:start="181:22" pos:end="181:27">vendor</name><operator pos:start="181:28" pos:end="181:28">.</operator><name pos:start="181:29" pos:end="181:29">c</name></name></expr></argument>, <argument pos:start="181:32" pos:end="181:45"><expr pos:start="181:32" pos:end="181:45"><literal type="string" pos:start="181:32" pos:end="181:45">"AuthenticAMD"</literal></expr></argument>, <argument pos:start="181:48" pos:end="181:49"><expr pos:start="181:48" pos:end="181:49"><literal type="number" pos:start="181:48" pos:end="181:49">12</literal></expr></argument>)</argument_list></call> <operator pos:start="181:52" pos:end="181:53">&amp;&amp;</operator>

            <name pos:start="183:13" pos:end="183:16">rval</name> <operator pos:start="183:18" pos:end="183:18">&amp;</operator> <name pos:start="183:20" pos:end="183:35">AV_CPU_FLAG_SSE2</name> <operator pos:start="183:37" pos:end="183:38">&amp;&amp;</operator> <operator pos:start="183:40" pos:end="183:40">!</operator><operator pos:start="183:41" pos:end="183:41">(</operator><name pos:start="183:42" pos:end="183:44">ecx</name> <operator pos:start="183:46" pos:end="183:46">&amp;</operator> <literal type="number" pos:start="183:48" pos:end="183:57">0x00000040</literal><operator pos:start="183:58" pos:end="183:58">)</operator></expr>)</condition> <block pos:start="183:61" pos:end="187:9">{<block_content pos:start="185:13" pos:end="185:41">

            <expr_stmt pos:start="185:13" pos:end="185:41"><expr pos:start="185:13" pos:end="185:40"><name pos:start="185:13" pos:end="185:16">rval</name> <operator pos:start="185:18" pos:end="185:19">|=</operator> <name pos:start="185:21" pos:end="185:40">AV_CPU_FLAG_SSE2SLOW</name></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="193:5" pos:end="229:5"><if pos:start="193:5" pos:end="229:5">if <condition pos:start="193:8" pos:end="193:47">(<expr pos:start="193:9" pos:end="193:46"><operator pos:start="193:9" pos:end="193:9">!</operator><call pos:start="193:10" pos:end="193:46"><name pos:start="193:10" pos:end="193:16">strncmp</name><argument_list pos:start="193:17" pos:end="193:46">(<argument pos:start="193:18" pos:end="193:25"><expr pos:start="193:18" pos:end="193:25"><name pos:start="193:18" pos:end="193:25"><name pos:start="193:18" pos:end="193:23">vendor</name><operator pos:start="193:24" pos:end="193:24">.</operator><name pos:start="193:25" pos:end="193:25">c</name></name></expr></argument>, <argument pos:start="193:28" pos:end="193:41"><expr pos:start="193:28" pos:end="193:41"><literal type="string" pos:start="193:28" pos:end="193:41">"GenuineIntel"</literal></expr></argument>, <argument pos:start="193:44" pos:end="193:45"><expr pos:start="193:44" pos:end="193:45"><literal type="number" pos:start="193:44" pos:end="193:45">12</literal></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="193:49" pos:end="229:5">{<block_content pos:start="195:9" pos:end="227:37">

        <if_stmt pos:start="195:9" pos:end="213:9"><if pos:start="195:9" pos:end="213:9">if <condition pos:start="195:12" pos:end="195:70">(<expr pos:start="195:13" pos:end="195:69"><name pos:start="195:13" pos:end="195:18">family</name> <operator pos:start="195:20" pos:end="195:21">==</operator> <literal type="number" pos:start="195:23" pos:end="195:23">6</literal> <operator pos:start="195:25" pos:end="195:26">&amp;&amp;</operator> <operator pos:start="195:28" pos:end="195:28">(</operator><name pos:start="195:29" pos:end="195:33">model</name> <operator pos:start="195:35" pos:end="195:36">==</operator> <literal type="number" pos:start="195:38" pos:end="195:38">9</literal> <operator pos:start="195:40" pos:end="195:41">||</operator> <name pos:start="195:43" pos:end="195:47">model</name> <operator pos:start="195:49" pos:end="195:50">==</operator> <literal type="number" pos:start="195:52" pos:end="195:53">13</literal> <operator pos:start="195:55" pos:end="195:56">||</operator> <name pos:start="195:58" pos:end="195:62">model</name> <operator pos:start="195:64" pos:end="195:65">==</operator> <literal type="number" pos:start="195:67" pos:end="195:68">14</literal><operator pos:start="195:69" pos:end="195:69">)</operator></expr>)</condition> <block pos:start="195:72" pos:end="213:9">{<block_content pos:start="209:13" pos:end="211:87">

            <comment type="block" pos:start="197:13" pos:end="207:81">/* 6/9 (pentium-m "banias"), 6/13 (pentium-m "dothan"), and 6/14 (core1 "yonah")

            * theoretically support sse2, but it's usually slower than mmx,

            * so let's just pretend they don't. AV_CPU_FLAG_SSE2 is disabled and

            * AV_CPU_FLAG_SSE2SLOW is enabled so that SSE2 is not used unless

            * explicitly enabled by checking AV_CPU_FLAG_SSE2SLOW. The same

            * situation applies for AV_CPU_FLAG_SSE3 and AV_CPU_FLAG_SSE3SLOW. */</comment>

            <if_stmt pos:start="209:13" pos:end="209:87"><if pos:start="209:13" pos:end="209:87">if <condition pos:start="209:16" pos:end="209:40">(<expr pos:start="209:17" pos:end="209:39"><name pos:start="209:17" pos:end="209:20">rval</name> <operator pos:start="209:22" pos:end="209:22">&amp;</operator> <name pos:start="209:24" pos:end="209:39">AV_CPU_FLAG_SSE2</name></expr>)</condition><block type="pseudo" pos:start="209:42" pos:end="209:87"><block_content pos:start="209:42" pos:end="209:87"> <expr_stmt pos:start="209:42" pos:end="209:87"><expr pos:start="209:42" pos:end="209:86"><name pos:start="209:42" pos:end="209:45">rval</name> <operator pos:start="209:47" pos:end="209:48">^=</operator> <name pos:start="209:50" pos:end="209:69">AV_CPU_FLAG_SSE2SLOW</name><operator pos:start="209:70" pos:end="209:70">|</operator><name pos:start="209:71" pos:end="209:86">AV_CPU_FLAG_SSE2</name></expr>;</expr_stmt></block_content></block></if></if_stmt>

            <if_stmt pos:start="211:13" pos:end="211:87"><if pos:start="211:13" pos:end="211:87">if <condition pos:start="211:16" pos:end="211:40">(<expr pos:start="211:17" pos:end="211:39"><name pos:start="211:17" pos:end="211:20">rval</name> <operator pos:start="211:22" pos:end="211:22">&amp;</operator> <name pos:start="211:24" pos:end="211:39">AV_CPU_FLAG_SSE3</name></expr>)</condition><block type="pseudo" pos:start="211:42" pos:end="211:87"><block_content pos:start="211:42" pos:end="211:87"> <expr_stmt pos:start="211:42" pos:end="211:87"><expr pos:start="211:42" pos:end="211:86"><name pos:start="211:42" pos:end="211:45">rval</name> <operator pos:start="211:47" pos:end="211:48">^=</operator> <name pos:start="211:50" pos:end="211:69">AV_CPU_FLAG_SSE3SLOW</name><operator pos:start="211:70" pos:end="211:70">|</operator><name pos:start="211:71" pos:end="211:86">AV_CPU_FLAG_SSE3</name></expr>;</expr_stmt></block_content></block></if></if_stmt>

        </block_content>}</block></if></if_stmt>

        <comment type="block" pos:start="215:9" pos:end="223:36">/* The Atom processor has SSSE3 support, which is useful in many cases,

         * but sometimes the SSSE3 version is slower than the SSE2 equivalent

         * on the Atom, but is generally faster on other processors supporting

         * SSSE3. This flag allows for selectively disabling certain SSSE3

         * functions on the Atom. */</comment>

        <if_stmt pos:start="225:9" pos:end="227:37"><if pos:start="225:9" pos:end="227:37">if <condition pos:start="225:12" pos:end="225:39">(<expr pos:start="225:13" pos:end="225:38"><name pos:start="225:13" pos:end="225:18">family</name> <operator pos:start="225:20" pos:end="225:21">==</operator> <literal type="number" pos:start="225:23" pos:end="225:23">6</literal> <operator pos:start="225:25" pos:end="225:26">&amp;&amp;</operator> <name pos:start="225:28" pos:end="225:32">model</name> <operator pos:start="225:34" pos:end="225:35">==</operator> <literal type="number" pos:start="225:37" pos:end="225:38">28</literal></expr>)</condition><block type="pseudo" pos:start="227:13" pos:end="227:37"><block_content pos:start="227:13" pos:end="227:37">

            <expr_stmt pos:start="227:13" pos:end="227:37"><expr pos:start="227:13" pos:end="227:36"><name pos:start="227:13" pos:end="227:16">rval</name> <operator pos:start="227:18" pos:end="227:19">|=</operator> <name pos:start="227:21" pos:end="227:36">AV_CPU_FLAG_ATOM</name></expr>;</expr_stmt></block_content></block></if></if_stmt>

    </block_content>}</block></if></if_stmt>



    <return pos:start="233:5" pos:end="233:16">return <expr pos:start="233:12" pos:end="233:15"><name pos:start="233:12" pos:end="233:15">rval</name></expr>;</return>

</block_content>}</block></function>
</unit>
