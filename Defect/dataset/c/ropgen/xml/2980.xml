<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/2980.c" pos:tabs="8"><function pos:start="1:1" pos:end="25:1"><type pos:start="1:1" pos:end="1:21"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:21">block_number_t</name></type> <name pos:start="1:23" pos:end="1:36">eckd_block_num</name><parameter_list pos:start="1:37" pos:end="1:55">(<parameter pos:start="1:38" pos:end="1:54"><decl pos:start="1:38" pos:end="1:54"><type pos:start="1:38" pos:end="1:53"><name pos:start="1:38" pos:end="1:51">BootMapPointer</name> <modifier pos:start="1:53" pos:end="1:53">*</modifier></type><name pos:start="1:54" pos:end="1:54">p</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="25:1">{<block_content pos:start="5:5" pos:end="23:17">

    <decl_stmt pos:start="5:5" pos:end="5:50"><decl pos:start="5:5" pos:end="5:49"><type pos:start="5:5" pos:end="5:18"><specifier pos:start="5:5" pos:end="5:9">const</specifier> <name pos:start="5:11" pos:end="5:18">uint64_t</name></type> <name pos:start="5:20" pos:end="5:26">sectors</name> <init pos:start="5:28" pos:end="5:49">= <expr pos:start="5:30" pos:end="5:49"><call pos:start="5:30" pos:end="5:49"><name pos:start="5:30" pos:end="5:47">virtio_get_sectors</name><argument_list pos:start="5:48" pos:end="5:49">()</argument_list></call></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:46"><decl pos:start="7:5" pos:end="7:45"><type pos:start="7:5" pos:end="7:18"><specifier pos:start="7:5" pos:end="7:9">const</specifier> <name pos:start="7:11" pos:end="7:18">uint64_t</name></type> <name pos:start="7:20" pos:end="7:24">heads</name> <init pos:start="7:26" pos:end="7:45">= <expr pos:start="7:28" pos:end="7:45"><call pos:start="7:28" pos:end="7:45"><name pos:start="7:28" pos:end="7:43">virtio_get_heads</name><argument_list pos:start="7:44" pos:end="7:45">()</argument_list></call></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="11:62"><decl pos:start="9:5" pos:end="11:61"><type pos:start="9:5" pos:end="9:18"><specifier pos:start="9:5" pos:end="9:9">const</specifier> <name pos:start="9:11" pos:end="9:18">uint64_t</name></type> <name pos:start="9:20" pos:end="9:27">cylinder</name> <init pos:start="9:29" pos:end="11:61">= <expr pos:start="9:31" pos:end="11:61"><name pos:start="9:31" pos:end="9:46"><name pos:start="9:31" pos:end="9:31">p</name><operator pos:start="9:32" pos:end="9:33">-&gt;</operator><name pos:start="9:34" pos:end="9:37">eckd</name><operator pos:start="9:38" pos:end="9:38">.</operator><name pos:start="9:39" pos:end="9:46">cylinder</name></name>

                            <operator pos:start="11:29" pos:end="11:29">+</operator> <operator pos:start="11:31" pos:end="11:31">(</operator><operator pos:start="11:32" pos:end="11:32">(</operator><name pos:start="11:33" pos:end="11:44"><name pos:start="11:33" pos:end="11:33">p</name><operator pos:start="11:34" pos:end="11:35">-&gt;</operator><name pos:start="11:36" pos:end="11:39">eckd</name><operator pos:start="11:40" pos:end="11:40">.</operator><name pos:start="11:41" pos:end="11:44">head</name></name> <operator pos:start="11:46" pos:end="11:46">&amp;</operator> <literal type="number" pos:start="11:48" pos:end="11:53">0xfff0</literal><operator pos:start="11:54" pos:end="11:54">)</operator> <operator pos:start="11:56" pos:end="11:57">&lt;&lt;</operator> <literal type="number" pos:start="11:59" pos:end="11:60">12</literal><operator pos:start="11:61" pos:end="11:61">)</operator></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:48"><decl pos:start="13:5" pos:end="13:47"><type pos:start="13:5" pos:end="13:18"><specifier pos:start="13:5" pos:end="13:9">const</specifier> <name pos:start="13:11" pos:end="13:18">uint64_t</name></type> <name pos:start="13:20" pos:end="13:23">head</name> <init pos:start="13:25" pos:end="13:47">= <expr pos:start="13:27" pos:end="13:47"><name pos:start="13:27" pos:end="13:38"><name pos:start="13:27" pos:end="13:27">p</name><operator pos:start="13:28" pos:end="13:29">-&gt;</operator><name pos:start="13:30" pos:end="13:33">eckd</name><operator pos:start="13:34" pos:end="13:34">.</operator><name pos:start="13:35" pos:end="13:38">head</name></name> <operator pos:start="13:40" pos:end="13:40">&amp;</operator> <literal type="number" pos:start="13:42" pos:end="13:47">0x000f</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="21:35"><decl pos:start="15:5" pos:end="21:34"><type pos:start="15:5" pos:end="15:24"><specifier pos:start="15:5" pos:end="15:9">const</specifier> <name pos:start="15:11" pos:end="15:24">block_number_t</name></type> <name pos:start="15:26" pos:end="15:30">block</name> <init pos:start="15:32" pos:end="21:34">= <expr pos:start="15:34" pos:end="21:34"><name pos:start="15:34" pos:end="15:40">sectors</name> <operator pos:start="15:42" pos:end="15:42">*</operator> <name pos:start="15:44" pos:end="15:48">heads</name> <operator pos:start="15:50" pos:end="15:50">*</operator> <name pos:start="15:52" pos:end="15:59">cylinder</name>

                               <operator pos:start="17:32" pos:end="17:32">+</operator> <name pos:start="17:34" pos:end="17:40">sectors</name> <operator pos:start="17:42" pos:end="17:42">*</operator> <name pos:start="17:44" pos:end="17:47">head</name>

                               <operator pos:start="19:32" pos:end="19:32">+</operator> <name pos:start="19:34" pos:end="19:47"><name pos:start="19:34" pos:end="19:34">p</name><operator pos:start="19:35" pos:end="19:36">-&gt;</operator><name pos:start="19:37" pos:end="19:40">eckd</name><operator pos:start="19:41" pos:end="19:41">.</operator><name pos:start="19:42" pos:end="19:47">sector</name></name>

                               <operator pos:start="21:32" pos:end="21:32">-</operator> <literal type="number" pos:start="21:34" pos:end="21:34">1</literal></expr></init></decl>;</decl_stmt> <comment type="block" pos:start="21:37" pos:end="21:67">/* block nr starts with zero */</comment>

    <return pos:start="23:5" pos:end="23:17">return <expr pos:start="23:12" pos:end="23:16"><name pos:start="23:12" pos:end="23:16">block</name></expr>;</return>

</block_content>}</block></function>
</unit>
