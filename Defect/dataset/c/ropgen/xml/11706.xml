<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/11706.c" pos:tabs="8"><function pos:start="1:1" pos:end="41:1"><type pos:start="1:1" pos:end="1:3"><name pos:start="1:1" pos:end="1:3">int</name></type> <name pos:start="1:5" pos:end="1:22">avformat_seek_file</name><parameter_list pos:start="1:23" pos:end="1:115">(<parameter pos:start="1:24" pos:end="1:41"><decl pos:start="1:24" pos:end="1:41"><type pos:start="1:24" pos:end="1:41"><name pos:start="1:24" pos:end="1:38">AVFormatContext</name> <modifier pos:start="1:40" pos:end="1:40">*</modifier></type><name pos:start="1:41" pos:end="1:41">s</name></decl></parameter>, <parameter pos:start="1:44" pos:end="1:59"><decl pos:start="1:44" pos:end="1:59"><type pos:start="1:44" pos:end="1:59"><name pos:start="1:44" pos:end="1:46">int</name></type> <name pos:start="1:48" pos:end="1:59">stream_index</name></decl></parameter>, <parameter pos:start="1:62" pos:end="1:75"><decl pos:start="1:62" pos:end="1:75"><type pos:start="1:62" pos:end="1:75"><name pos:start="1:62" pos:end="1:68">int64_t</name></type> <name pos:start="1:70" pos:end="1:75">min_ts</name></decl></parameter>, <parameter pos:start="1:78" pos:end="1:87"><decl pos:start="1:78" pos:end="1:87"><type pos:start="1:78" pos:end="1:87"><name pos:start="1:78" pos:end="1:84">int64_t</name></type> <name pos:start="1:86" pos:end="1:87">ts</name></decl></parameter>, <parameter pos:start="1:90" pos:end="1:103"><decl pos:start="1:90" pos:end="1:103"><type pos:start="1:90" pos:end="1:103"><name pos:start="1:90" pos:end="1:96">int64_t</name></type> <name pos:start="1:98" pos:end="1:103">max_ts</name></decl></parameter>, <parameter pos:start="1:106" pos:end="1:114"><decl pos:start="1:106" pos:end="1:114"><type pos:start="1:106" pos:end="1:114"><name pos:start="1:106" pos:end="1:108">int</name></type> <name pos:start="1:110" pos:end="1:114">flags</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="41:1">{<block_content pos:start="5:5" pos:end="35:126">

    <if_stmt pos:start="5:5" pos:end="7:18"><if pos:start="5:5" pos:end="7:18">if<condition pos:start="5:7" pos:end="5:34">(<expr pos:start="5:8" pos:end="5:33"><name pos:start="5:8" pos:end="5:13">min_ts</name> <operator pos:start="5:15" pos:end="5:15">&gt;</operator> <name pos:start="5:17" pos:end="5:18">ts</name> <operator pos:start="5:20" pos:end="5:21">||</operator> <name pos:start="5:23" pos:end="5:28">max_ts</name> <operator pos:start="5:30" pos:end="5:30">&lt;</operator> <name pos:start="5:32" pos:end="5:33">ts</name></expr>)</condition><block type="pseudo" pos:start="7:9" pos:end="7:18"><block_content pos:start="7:9" pos:end="7:18">

        <return pos:start="7:9" pos:end="7:18">return <expr pos:start="7:16" pos:end="7:17"><operator pos:start="7:16" pos:end="7:16">-</operator><literal type="number" pos:start="7:17" pos:end="7:17">1</literal></expr>;</return></block_content></block></if></if_stmt>



    <expr_stmt pos:start="11:5" pos:end="11:27"><expr pos:start="11:5" pos:end="11:26"><call pos:start="11:5" pos:end="11:26"><name pos:start="11:5" pos:end="11:23">ff_read_frame_flush</name><argument_list pos:start="11:24" pos:end="11:26">(<argument pos:start="11:25" pos:end="11:25"><expr pos:start="11:25" pos:end="11:25"><name pos:start="11:25" pos:end="11:25">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <if_stmt pos:start="15:5" pos:end="17:82"><if pos:start="15:5" pos:end="17:82">if <condition pos:start="15:8" pos:end="15:31">(<expr pos:start="15:9" pos:end="15:30"><name pos:start="15:9" pos:end="15:30"><name pos:start="15:9" pos:end="15:9">s</name><operator pos:start="15:10" pos:end="15:11">-&gt;</operator><name pos:start="15:12" pos:end="15:18">iformat</name><operator pos:start="15:19" pos:end="15:20">-&gt;</operator><name pos:start="15:21" pos:end="15:30">read_seek2</name></name></expr>)</condition><block type="pseudo" pos:start="17:9" pos:end="17:82"><block_content pos:start="17:9" pos:end="17:82">

        <return pos:start="17:9" pos:end="17:82">return <expr pos:start="17:16" pos:end="17:81"><call pos:start="17:16" pos:end="17:81"><name pos:start="17:16" pos:end="17:37"><name pos:start="17:16" pos:end="17:16">s</name><operator pos:start="17:17" pos:end="17:18">-&gt;</operator><name pos:start="17:19" pos:end="17:25">iformat</name><operator pos:start="17:26" pos:end="17:27">-&gt;</operator><name pos:start="17:28" pos:end="17:37">read_seek2</name></name><argument_list pos:start="17:38" pos:end="17:81">(<argument pos:start="17:39" pos:end="17:39"><expr pos:start="17:39" pos:end="17:39"><name pos:start="17:39" pos:end="17:39">s</name></expr></argument>, <argument pos:start="17:42" pos:end="17:53"><expr pos:start="17:42" pos:end="17:53"><name pos:start="17:42" pos:end="17:53">stream_index</name></expr></argument>, <argument pos:start="17:56" pos:end="17:61"><expr pos:start="17:56" pos:end="17:61"><name pos:start="17:56" pos:end="17:61">min_ts</name></expr></argument>, <argument pos:start="17:64" pos:end="17:65"><expr pos:start="17:64" pos:end="17:65"><name pos:start="17:64" pos:end="17:65">ts</name></expr></argument>, <argument pos:start="17:68" pos:end="17:73"><expr pos:start="17:68" pos:end="17:73"><name pos:start="17:68" pos:end="17:73">max_ts</name></expr></argument>, <argument pos:start="17:76" pos:end="17:80"><expr pos:start="17:76" pos:end="17:80"><name pos:start="17:76" pos:end="17:80">flags</name></expr></argument>)</argument_list></call></expr>;</return></block_content></block></if></if_stmt>



    <if_stmt pos:start="21:5" pos:end="25:5"><if pos:start="21:5" pos:end="25:5">if<condition pos:start="21:7" pos:end="21:34">(<expr pos:start="21:8" pos:end="21:33"><name pos:start="21:8" pos:end="21:33"><name pos:start="21:8" pos:end="21:8">s</name><operator pos:start="21:9" pos:end="21:10">-&gt;</operator><name pos:start="21:11" pos:end="21:17">iformat</name><operator pos:start="21:18" pos:end="21:19">-&gt;</operator><name pos:start="21:20" pos:end="21:33">read_timestamp</name></name></expr>)</condition><block pos:start="21:35" pos:end="25:5">{<block_content>

        <comment type="line" pos:start="23:9" pos:end="23:42">//try to seek via read_timestamp()</comment>

    </block_content>}</block></if></if_stmt>



    <comment type="line" pos:start="29:5" pos:end="29:62">//Fallback to old API if new is not implemented but old is</comment>

    <comment type="line" pos:start="31:5" pos:end="31:49">//Note the old has somewat different sematics</comment>

    <if_stmt pos:start="33:5" pos:end="35:126"><if pos:start="33:5" pos:end="35:126">if<condition pos:start="33:7" pos:end="33:34">(<expr pos:start="33:8" pos:end="33:33"><name pos:start="33:8" pos:end="33:28"><name pos:start="33:8" pos:end="33:8">s</name><operator pos:start="33:9" pos:end="33:10">-&gt;</operator><name pos:start="33:11" pos:end="33:17">iformat</name><operator pos:start="33:18" pos:end="33:19">-&gt;</operator><name pos:start="33:20" pos:end="33:28">read_seek</name></name> <operator pos:start="33:30" pos:end="33:31">||</operator> <literal type="number" pos:start="33:33" pos:end="33:33">1</literal></expr>)</condition><block type="pseudo" pos:start="35:9" pos:end="35:126"><block_content pos:start="35:9" pos:end="35:126">

        <return pos:start="35:9" pos:end="35:126">return <expr pos:start="35:16" pos:end="35:125"><call pos:start="35:16" pos:end="35:125"><name pos:start="35:16" pos:end="35:28">av_seek_frame</name><argument_list pos:start="35:29" pos:end="35:125">(<argument pos:start="35:30" pos:end="35:30"><expr pos:start="35:30" pos:end="35:30"><name pos:start="35:30" pos:end="35:30">s</name></expr></argument>, <argument pos:start="35:33" pos:end="35:44"><expr pos:start="35:33" pos:end="35:44"><name pos:start="35:33" pos:end="35:44">stream_index</name></expr></argument>, <argument pos:start="35:47" pos:end="35:48"><expr pos:start="35:47" pos:end="35:48"><name pos:start="35:47" pos:end="35:48">ts</name></expr></argument>, <argument pos:start="35:51" pos:end="35:124"><expr pos:start="35:51" pos:end="35:124"><name pos:start="35:51" pos:end="35:55">flags</name> <operator pos:start="35:57" pos:end="35:57">|</operator> <operator pos:start="35:59" pos:end="35:59">(</operator><ternary pos:start="35:60" pos:end="35:123"><condition pos:start="35:60" pos:end="35:98"><expr pos:start="35:60" pos:end="35:96"><name pos:start="35:60" pos:end="35:61">ts</name> <operator pos:start="35:63" pos:end="35:63">-</operator> <name pos:start="35:65" pos:end="35:70">min_ts</name> <operator pos:start="35:72" pos:end="35:72">&gt;</operator> <operator pos:start="35:74" pos:end="35:74">(</operator><name pos:start="35:75" pos:end="35:82">uint64_t</name><operator pos:start="35:83" pos:end="35:83">)</operator><operator pos:start="35:84" pos:end="35:84">(</operator><name pos:start="35:85" pos:end="35:90">max_ts</name> <operator pos:start="35:92" pos:end="35:92">-</operator> <name pos:start="35:94" pos:end="35:95">ts</name><operator pos:start="35:96" pos:end="35:96">)</operator></expr> ?</condition><then pos:start="35:100" pos:end="35:119"> <expr pos:start="35:100" pos:end="35:119"><name pos:start="35:100" pos:end="35:119">AVSEEK_FLAG_BACKWARD</name></expr> </then><else pos:start="35:121" pos:end="35:123">: <expr pos:start="35:123" pos:end="35:123"><literal type="number" pos:start="35:123" pos:end="35:123">0</literal></expr></else></ternary><operator pos:start="35:124" pos:end="35:124">)</operator></expr></argument>)</argument_list></call></expr>;</return></block_content></block></if></if_stmt>



    <comment type="line" pos:start="39:5" pos:end="39:80">// try some generic seek like seek_frame_generic() but with new ts semantics</comment>

</block_content>}</block></function>
</unit>
