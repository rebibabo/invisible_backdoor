<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/14636.c" pos:tabs="8"><function pos:start="1:1" pos:end="57:1"><type pos:start="1:1" pos:end="1:34"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:32"><name pos:start="1:8" pos:end="1:13">struct</name> <name pos:start="1:15" pos:end="1:32">pxa2xx_dma_state_s</name></name> <modifier pos:start="1:34" pos:end="1:34">*</modifier></type><name pos:start="1:35" pos:end="1:49">pxa2xx_dma_init</name><parameter_list pos:start="1:50" pos:end="3:43">(<parameter pos:start="1:51" pos:end="1:73"><decl pos:start="1:51" pos:end="1:73"><type pos:start="1:51" pos:end="1:73"><name pos:start="1:51" pos:end="1:68">target_phys_addr_t</name></type> <name pos:start="1:70" pos:end="1:73">base</name></decl></parameter>,

                <parameter pos:start="3:17" pos:end="3:28"><decl pos:start="3:17" pos:end="3:28"><type pos:start="3:17" pos:end="3:28"><name pos:start="3:17" pos:end="3:24">qemu_irq</name></type> <name pos:start="3:26" pos:end="3:28">irq</name></decl></parameter>, <parameter pos:start="3:31" pos:end="3:42"><decl pos:start="3:31" pos:end="3:42"><type pos:start="3:31" pos:end="3:42"><name pos:start="3:31" pos:end="3:33">int</name></type> <name pos:start="3:35" pos:end="3:42">channels</name></decl></parameter>)</parameter_list>

<block pos:start="5:1" pos:end="57:1">{<block_content pos:start="7:5" pos:end="55:13">

    <decl_stmt pos:start="7:5" pos:end="7:21"><decl pos:start="7:5" pos:end="7:9"><type pos:start="7:5" pos:end="7:7"><name pos:start="7:5" pos:end="7:7">int</name></type> <name pos:start="7:9" pos:end="7:9">i</name></decl>, <decl pos:start="7:12" pos:end="7:20"><type ref="prev" pos:start="7:5" pos:end="7:7"/><name pos:start="7:12" pos:end="7:20">iomemtype</name></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:33"><decl pos:start="9:5" pos:end="9:32"><type pos:start="9:5" pos:end="9:31"><name pos:start="9:5" pos:end="9:29"><name pos:start="9:5" pos:end="9:10">struct</name> <name pos:start="9:12" pos:end="9:29">pxa2xx_dma_state_s</name></name> <modifier pos:start="9:31" pos:end="9:31">*</modifier></type><name pos:start="9:32" pos:end="9:32">s</name></decl>;</decl_stmt>

    <expr_stmt pos:start="11:5" pos:end="13:60"><expr pos:start="11:5" pos:end="13:59"><name pos:start="11:5" pos:end="11:5">s</name> <operator pos:start="11:7" pos:end="11:7">=</operator> <operator pos:start="11:9" pos:end="11:9">(</operator>struct <name pos:start="11:17" pos:end="11:34">pxa2xx_dma_state_s</name> <operator pos:start="11:36" pos:end="11:36">*</operator><operator pos:start="11:37" pos:end="11:37">)</operator>

            <call pos:start="13:13" pos:end="13:59"><name pos:start="13:13" pos:end="13:24">qemu_mallocz</name><argument_list pos:start="13:25" pos:end="13:59">(<argument pos:start="13:26" pos:end="13:58"><expr pos:start="13:26" pos:end="13:58"><sizeof pos:start="13:26" pos:end="13:58">sizeof<argument_list pos:start="13:32" pos:end="13:58">(<argument pos:start="13:33" pos:end="13:57"><expr pos:start="13:33" pos:end="13:57">struct <name pos:start="13:40" pos:end="13:57">pxa2xx_dma_state_s</name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="17:5" pos:end="17:27"><expr pos:start="17:5" pos:end="17:26"><name pos:start="17:5" pos:end="17:15"><name pos:start="17:5" pos:end="17:5">s</name><operator pos:start="17:6" pos:end="17:7">-&gt;</operator><name pos:start="17:8" pos:end="17:15">channels</name></name> <operator pos:start="17:17" pos:end="17:17">=</operator> <name pos:start="17:19" pos:end="17:26">channels</name></expr>;</expr_stmt>

    <expr_stmt pos:start="19:5" pos:end="19:78"><expr pos:start="19:5" pos:end="19:77"><name pos:start="19:5" pos:end="19:11"><name pos:start="19:5" pos:end="19:5">s</name><operator pos:start="19:6" pos:end="19:7">-&gt;</operator><name pos:start="19:8" pos:end="19:11">chan</name></name> <operator pos:start="19:13" pos:end="19:13">=</operator> <call pos:start="19:15" pos:end="19:77"><name pos:start="19:15" pos:end="19:26">qemu_mallocz</name><argument_list pos:start="19:27" pos:end="19:77">(<argument pos:start="19:28" pos:end="19:76"><expr pos:start="19:28" pos:end="19:76"><sizeof pos:start="19:28" pos:end="19:62">sizeof<argument_list pos:start="19:34" pos:end="19:62">(<argument pos:start="19:35" pos:end="19:61"><expr pos:start="19:35" pos:end="19:61">struct <name pos:start="19:42" pos:end="19:61">pxa2xx_dma_channel_s</name></expr></argument>)</argument_list></sizeof> <operator pos:start="19:64" pos:end="19:64">*</operator> <name pos:start="19:66" pos:end="19:76"><name pos:start="19:66" pos:end="19:66">s</name><operator pos:start="19:67" pos:end="19:68">-&gt;</operator><name pos:start="19:69" pos:end="19:76">channels</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="21:5" pos:end="21:19"><expr pos:start="21:5" pos:end="21:18"><name pos:start="21:5" pos:end="21:11"><name pos:start="21:5" pos:end="21:5">s</name><operator pos:start="21:6" pos:end="21:7">-&gt;</operator><name pos:start="21:8" pos:end="21:11">base</name></name> <operator pos:start="21:13" pos:end="21:13">=</operator> <name pos:start="21:15" pos:end="21:18">base</name></expr>;</expr_stmt>

    <expr_stmt pos:start="23:5" pos:end="23:17"><expr pos:start="23:5" pos:end="23:16"><name pos:start="23:5" pos:end="23:10"><name pos:start="23:5" pos:end="23:5">s</name><operator pos:start="23:6" pos:end="23:7">-&gt;</operator><name pos:start="23:8" pos:end="23:10">irq</name></name> <operator pos:start="23:12" pos:end="23:12">=</operator> <name pos:start="23:14" pos:end="23:16">irq</name></expr>;</expr_stmt>

    <expr_stmt pos:start="25:5" pos:end="25:59"><expr pos:start="25:5" pos:end="25:58"><name pos:start="25:5" pos:end="25:14"><name pos:start="25:5" pos:end="25:5">s</name><operator pos:start="25:6" pos:end="25:7">-&gt;</operator><name pos:start="25:8" pos:end="25:14">handler</name></name> <operator pos:start="25:16" pos:end="25:16">=</operator> <operator pos:start="25:18" pos:end="25:18">(</operator><name pos:start="25:19" pos:end="25:38">pxa2xx_dma_handler_t</name><operator pos:start="25:39" pos:end="25:39">)</operator> <name pos:start="25:41" pos:end="25:58">pxa2xx_dma_request</name></expr>;</expr_stmt>

    <expr_stmt pos:start="27:5" pos:end="27:69"><expr pos:start="27:5" pos:end="27:68"><name pos:start="27:5" pos:end="27:10"><name pos:start="27:5" pos:end="27:5">s</name><operator pos:start="27:6" pos:end="27:7">-&gt;</operator><name pos:start="27:8" pos:end="27:10">req</name></name> <operator pos:start="27:12" pos:end="27:12">=</operator> <call pos:start="27:14" pos:end="27:68"><name pos:start="27:14" pos:end="27:25">qemu_mallocz</name><argument_list pos:start="27:26" pos:end="27:68">(<argument pos:start="27:27" pos:end="27:67"><expr pos:start="27:27" pos:end="27:67"><sizeof pos:start="27:27" pos:end="27:41">sizeof<argument_list pos:start="27:33" pos:end="27:41">(<argument pos:start="27:34" pos:end="27:40"><expr pos:start="27:34" pos:end="27:40"><name pos:start="27:34" pos:end="27:40">uint8_t</name></expr></argument>)</argument_list></sizeof> <operator pos:start="27:43" pos:end="27:43">*</operator> <name pos:start="27:45" pos:end="27:67">PXA2XX_DMA_NUM_REQUESTS</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="31:5" pos:end="31:74"><expr pos:start="31:5" pos:end="31:73"><call pos:start="31:5" pos:end="31:73"><name pos:start="31:5" pos:end="31:10">memset</name><argument_list pos:start="31:11" pos:end="31:73">(<argument pos:start="31:12" pos:end="31:18"><expr pos:start="31:12" pos:end="31:18"><name pos:start="31:12" pos:end="31:18"><name pos:start="31:12" pos:end="31:12">s</name><operator pos:start="31:13" pos:end="31:14">-&gt;</operator><name pos:start="31:15" pos:end="31:18">chan</name></name></expr></argument>, <argument pos:start="31:21" pos:end="31:21"><expr pos:start="31:21" pos:end="31:21"><literal type="number" pos:start="31:21" pos:end="31:21">0</literal></expr></argument>, <argument pos:start="31:24" pos:end="31:72"><expr pos:start="31:24" pos:end="31:72"><sizeof pos:start="31:24" pos:end="31:58">sizeof<argument_list pos:start="31:30" pos:end="31:58">(<argument pos:start="31:31" pos:end="31:57"><expr pos:start="31:31" pos:end="31:57">struct <name pos:start="31:38" pos:end="31:57">pxa2xx_dma_channel_s</name></expr></argument>)</argument_list></sizeof> <operator pos:start="31:60" pos:end="31:60">*</operator> <name pos:start="31:62" pos:end="31:72"><name pos:start="31:62" pos:end="31:62">s</name><operator pos:start="31:63" pos:end="31:64">-&gt;</operator><name pos:start="31:65" pos:end="31:72">channels</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <for pos:start="33:5" pos:end="35:41">for <control pos:start="33:9" pos:end="33:38">(<init pos:start="33:10" pos:end="33:15"><expr pos:start="33:10" pos:end="33:14"><name pos:start="33:10" pos:end="33:10">i</name> <operator pos:start="33:12" pos:end="33:12">=</operator> <literal type="number" pos:start="33:14" pos:end="33:14">0</literal></expr>;</init> <condition pos:start="33:17" pos:end="33:32"><expr pos:start="33:17" pos:end="33:31"><name pos:start="33:17" pos:end="33:17">i</name> <operator pos:start="33:19" pos:end="33:19">&lt;</operator> <name pos:start="33:21" pos:end="33:31"><name pos:start="33:21" pos:end="33:21">s</name><operator pos:start="33:22" pos:end="33:23">-&gt;</operator><name pos:start="33:24" pos:end="33:31">channels</name></name></expr>;</condition> <incr pos:start="33:34" pos:end="33:37"><expr pos:start="33:34" pos:end="33:37"><name pos:start="33:34" pos:end="33:34">i</name> <operator pos:start="33:36" pos:end="33:37">++</operator></expr></incr>)</control><block type="pseudo" pos:start="35:9" pos:end="35:41"><block_content pos:start="35:9" pos:end="35:41">

        <expr_stmt pos:start="35:9" pos:end="35:41"><expr pos:start="35:9" pos:end="35:40"><name pos:start="35:9" pos:end="35:18"><name pos:start="35:9" pos:end="35:9">s</name><operator pos:start="35:10" pos:end="35:11">-&gt;</operator><name pos:start="35:12" pos:end="35:15">chan</name><index pos:start="35:16" pos:end="35:18">[<expr pos:start="35:17" pos:end="35:17"><name pos:start="35:17" pos:end="35:17">i</name></expr>]</index></name><operator pos:start="35:19" pos:end="35:19">.</operator><name pos:start="35:20" pos:end="35:24">state</name> <operator pos:start="35:26" pos:end="35:26">=</operator> <name pos:start="35:28" pos:end="35:40">DCSR_STOPINTR</name></expr>;</expr_stmt></block_content></block></for>



    <expr_stmt pos:start="39:5" pos:end="39:65"><expr pos:start="39:5" pos:end="39:64"><call pos:start="39:5" pos:end="39:64"><name pos:start="39:5" pos:end="39:10">memset</name><argument_list pos:start="39:11" pos:end="39:64">(<argument pos:start="39:12" pos:end="39:17"><expr pos:start="39:12" pos:end="39:17"><name pos:start="39:12" pos:end="39:17"><name pos:start="39:12" pos:end="39:12">s</name><operator pos:start="39:13" pos:end="39:14">-&gt;</operator><name pos:start="39:15" pos:end="39:17">req</name></name></expr></argument>, <argument pos:start="39:20" pos:end="39:20"><expr pos:start="39:20" pos:end="39:20"><literal type="number" pos:start="39:20" pos:end="39:20">0</literal></expr></argument>, <argument pos:start="39:23" pos:end="39:63"><expr pos:start="39:23" pos:end="39:63"><sizeof pos:start="39:23" pos:end="39:37">sizeof<argument_list pos:start="39:29" pos:end="39:37">(<argument pos:start="39:30" pos:end="39:36"><expr pos:start="39:30" pos:end="39:36"><name pos:start="39:30" pos:end="39:36">uint8_t</name></expr></argument>)</argument_list></sizeof> <operator pos:start="39:39" pos:end="39:39">*</operator> <name pos:start="39:41" pos:end="39:63">PXA2XX_DMA_NUM_REQUESTS</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="43:5" pos:end="45:43"><expr pos:start="43:5" pos:end="45:42"><name pos:start="43:5" pos:end="43:13">iomemtype</name> <operator pos:start="43:15" pos:end="43:15">=</operator> <call pos:start="43:17" pos:end="45:42"><name pos:start="43:17" pos:end="43:38">cpu_register_io_memory</name><argument_list pos:start="43:39" pos:end="45:42">(<argument pos:start="43:40" pos:end="43:40"><expr pos:start="43:40" pos:end="43:40"><literal type="number" pos:start="43:40" pos:end="43:40">0</literal></expr></argument>, <argument pos:start="43:43" pos:end="43:59"><expr pos:start="43:43" pos:end="43:59"><name pos:start="43:43" pos:end="43:59">pxa2xx_dma_readfn</name></expr></argument>,

                    <argument pos:start="45:21" pos:end="45:38"><expr pos:start="45:21" pos:end="45:38"><name pos:start="45:21" pos:end="45:38">pxa2xx_dma_writefn</name></expr></argument>, <argument pos:start="45:41" pos:end="45:41"><expr pos:start="45:41" pos:end="45:41"><name pos:start="45:41" pos:end="45:41">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="47:5" pos:end="47:62"><expr pos:start="47:5" pos:end="47:61"><call pos:start="47:5" pos:end="47:61"><name pos:start="47:5" pos:end="47:32">cpu_register_physical_memory</name><argument_list pos:start="47:33" pos:end="47:61">(<argument pos:start="47:34" pos:end="47:37"><expr pos:start="47:34" pos:end="47:37"><name pos:start="47:34" pos:end="47:37">base</name></expr></argument>, <argument pos:start="47:40" pos:end="47:49"><expr pos:start="47:40" pos:end="47:49"><literal type="number" pos:start="47:40" pos:end="47:49">0x0000ffff</literal></expr></argument>, <argument pos:start="47:52" pos:end="47:60"><expr pos:start="47:52" pos:end="47:60"><name pos:start="47:52" pos:end="47:60">iomemtype</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="51:5" pos:end="51:77"><expr pos:start="51:5" pos:end="51:76"><call pos:start="51:5" pos:end="51:76"><name pos:start="51:5" pos:end="51:19">register_savevm</name><argument_list pos:start="51:20" pos:end="51:76">(<argument pos:start="51:21" pos:end="51:32"><expr pos:start="51:21" pos:end="51:32"><literal type="string" pos:start="51:21" pos:end="51:32">"pxa2xx_dma"</literal></expr></argument>, <argument pos:start="51:35" pos:end="51:35"><expr pos:start="51:35" pos:end="51:35"><literal type="number" pos:start="51:35" pos:end="51:35">0</literal></expr></argument>, <argument pos:start="51:38" pos:end="51:38"><expr pos:start="51:38" pos:end="51:38"><literal type="number" pos:start="51:38" pos:end="51:38">0</literal></expr></argument>, <argument pos:start="51:41" pos:end="51:55"><expr pos:start="51:41" pos:end="51:55"><name pos:start="51:41" pos:end="51:55">pxa2xx_dma_save</name></expr></argument>, <argument pos:start="51:58" pos:end="51:72"><expr pos:start="51:58" pos:end="51:72"><name pos:start="51:58" pos:end="51:72">pxa2xx_dma_load</name></expr></argument>, <argument pos:start="51:75" pos:end="51:75"><expr pos:start="51:75" pos:end="51:75"><name pos:start="51:75" pos:end="51:75">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <return pos:start="55:5" pos:end="55:13">return <expr pos:start="55:12" pos:end="55:12"><name pos:start="55:12" pos:end="55:12">s</name></expr>;</return>

</block_content>}</block></function>
</unit>
