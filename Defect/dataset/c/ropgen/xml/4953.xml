<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/4953.c" pos:tabs="8"><function pos:start="1:1" pos:end="57:1"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:28">create_one_flash</name><parameter_list pos:start="1:29" pos:end="3:46">(<parameter pos:start="1:30" pos:end="1:45"><decl pos:start="1:30" pos:end="1:45"><type pos:start="1:30" pos:end="1:45"><specifier pos:start="1:30" pos:end="1:34">const</specifier> <name pos:start="1:36" pos:end="1:39">char</name> <modifier pos:start="1:41" pos:end="1:41">*</modifier></type><name pos:start="1:42" pos:end="1:45">name</name></decl></parameter>, <parameter pos:start="1:48" pos:end="1:63"><decl pos:start="1:48" pos:end="1:63"><type pos:start="1:48" pos:end="1:63"><name pos:start="1:48" pos:end="1:53">hwaddr</name></type> <name pos:start="1:55" pos:end="1:63">flashbase</name></decl></parameter>,

                             <parameter pos:start="3:30" pos:end="3:45"><decl pos:start="3:30" pos:end="3:45"><type pos:start="3:30" pos:end="3:45"><name pos:start="3:30" pos:end="3:35">hwaddr</name></type> <name pos:start="3:37" pos:end="3:45">flashsize</name></decl></parameter>)</parameter_list>

<block pos:start="5:1" pos:end="57:1">{<block_content pos:start="13:5" pos:end="55:55">

    <comment type="block" pos:start="7:5" pos:end="11:7">/* Create and map a single flash device. We use the same

     * parameters as the flash devices on the Versatile Express board.

     */</comment>

    <decl_stmt pos:start="13:5" pos:end="13:49"><decl pos:start="13:5" pos:end="13:48"><type pos:start="13:5" pos:end="13:15"><name pos:start="13:5" pos:end="13:13">DriveInfo</name> <modifier pos:start="13:15" pos:end="13:15">*</modifier></type><name pos:start="13:16" pos:end="13:20">dinfo</name> <init pos:start="13:22" pos:end="13:48">= <expr pos:start="13:24" pos:end="13:48"><call pos:start="13:24" pos:end="13:48"><name pos:start="13:24" pos:end="13:37">drive_get_next</name><argument_list pos:start="13:38" pos:end="13:48">(<argument pos:start="13:39" pos:end="13:47"><expr pos:start="13:39" pos:end="13:47"><name pos:start="13:39" pos:end="13:47">IF_PFLASH</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="15:57"><decl pos:start="15:5" pos:end="15:56"><type pos:start="15:5" pos:end="15:17"><name pos:start="15:5" pos:end="15:15">DeviceState</name> <modifier pos:start="15:17" pos:end="15:17">*</modifier></type><name pos:start="15:18" pos:end="15:20">dev</name> <init pos:start="15:22" pos:end="15:56">= <expr pos:start="15:24" pos:end="15:56"><call pos:start="15:24" pos:end="15:56"><name pos:start="15:24" pos:end="15:34">qdev_create</name><argument_list pos:start="15:35" pos:end="15:56">(<argument pos:start="15:36" pos:end="15:39"><expr pos:start="15:36" pos:end="15:39"><name pos:start="15:36" pos:end="15:39">NULL</name></expr></argument>, <argument pos:start="15:42" pos:end="15:55"><expr pos:start="15:42" pos:end="15:55"><literal type="string" pos:start="15:42" pos:end="15:55">"cfi.pflash01"</literal></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="17:5" pos:end="17:45"><decl pos:start="17:5" pos:end="17:44"><type pos:start="17:5" pos:end="17:18"><specifier pos:start="17:5" pos:end="17:9">const</specifier> <name pos:start="17:11" pos:end="17:18">uint64_t</name></type> <name pos:start="17:20" pos:end="17:31">sectorlength</name> <init pos:start="17:33" pos:end="17:44">= <expr pos:start="17:35" pos:end="17:44"><literal type="number" pos:start="17:35" pos:end="17:37">256</literal> <operator pos:start="17:39" pos:end="17:39">*</operator> <literal type="number" pos:start="17:41" pos:end="17:44">1024</literal></expr></init></decl>;</decl_stmt>



    <if_stmt pos:start="21:5" pos:end="27:5"><if pos:start="21:5" pos:end="27:5">if <condition pos:start="21:8" pos:end="23:73">(<expr pos:start="21:9" pos:end="23:72"><name pos:start="21:9" pos:end="21:13">dinfo</name> <operator pos:start="21:15" pos:end="21:16">&amp;&amp;</operator> <call pos:start="21:18" pos:end="23:72"><name pos:start="21:18" pos:end="21:36">qdev_prop_set_drive</name><argument_list pos:start="21:37" pos:end="23:72">(<argument pos:start="21:38" pos:end="21:40"><expr pos:start="21:38" pos:end="21:40"><name pos:start="21:38" pos:end="21:40">dev</name></expr></argument>, <argument pos:start="21:43" pos:end="21:49"><expr pos:start="21:43" pos:end="21:49"><literal type="string" pos:start="21:43" pos:end="21:49">"drive"</literal></expr></argument>,

                                     <argument pos:start="23:38" pos:end="23:71"><expr pos:start="23:38" pos:end="23:71"><call pos:start="23:38" pos:end="23:71"><name pos:start="23:38" pos:end="23:43">blk_bs</name><argument_list pos:start="23:44" pos:end="23:71">(<argument pos:start="23:45" pos:end="23:70"><expr pos:start="23:45" pos:end="23:70"><call pos:start="23:45" pos:end="23:70"><name pos:start="23:45" pos:end="23:63">blk_by_legacy_dinfo</name><argument_list pos:start="23:64" pos:end="23:70">(<argument pos:start="23:65" pos:end="23:69"><expr pos:start="23:65" pos:end="23:69"><name pos:start="23:65" pos:end="23:69">dinfo</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="23:75" pos:end="27:5">{<block_content pos:start="25:9" pos:end="25:16">

        <expr_stmt pos:start="25:9" pos:end="25:16"><expr pos:start="25:9" pos:end="25:15"><call pos:start="25:9" pos:end="25:15"><name pos:start="25:9" pos:end="25:13">abort</name><argument_list pos:start="25:14" pos:end="25:15">()</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <expr_stmt pos:start="31:5" pos:end="31:70"><expr pos:start="31:5" pos:end="31:69"><call pos:start="31:5" pos:end="31:69"><name pos:start="31:5" pos:end="31:24">qdev_prop_set_uint32</name><argument_list pos:start="31:25" pos:end="31:69">(<argument pos:start="31:26" pos:end="31:28"><expr pos:start="31:26" pos:end="31:28"><name pos:start="31:26" pos:end="31:28">dev</name></expr></argument>, <argument pos:start="31:31" pos:end="31:42"><expr pos:start="31:31" pos:end="31:42"><literal type="string" pos:start="31:31" pos:end="31:42">"num-blocks"</literal></expr></argument>, <argument pos:start="31:45" pos:end="31:68"><expr pos:start="31:45" pos:end="31:68"><name pos:start="31:45" pos:end="31:53">flashsize</name> <operator pos:start="31:55" pos:end="31:55">/</operator> <name pos:start="31:57" pos:end="31:68">sectorlength</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="33:5" pos:end="33:61"><expr pos:start="33:5" pos:end="33:60"><call pos:start="33:5" pos:end="33:60"><name pos:start="33:5" pos:end="33:24">qdev_prop_set_uint64</name><argument_list pos:start="33:25" pos:end="33:60">(<argument pos:start="33:26" pos:end="33:28"><expr pos:start="33:26" pos:end="33:28"><name pos:start="33:26" pos:end="33:28">dev</name></expr></argument>, <argument pos:start="33:31" pos:end="33:45"><expr pos:start="33:31" pos:end="33:45"><literal type="string" pos:start="33:31" pos:end="33:45">"sector-length"</literal></expr></argument>, <argument pos:start="33:48" pos:end="33:59"><expr pos:start="33:48" pos:end="33:59"><name pos:start="33:48" pos:end="33:59">sectorlength</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="35:5" pos:end="35:41"><expr pos:start="35:5" pos:end="35:40"><call pos:start="35:5" pos:end="35:40"><name pos:start="35:5" pos:end="35:23">qdev_prop_set_uint8</name><argument_list pos:start="35:24" pos:end="35:40">(<argument pos:start="35:25" pos:end="35:27"><expr pos:start="35:25" pos:end="35:27"><name pos:start="35:25" pos:end="35:27">dev</name></expr></argument>, <argument pos:start="35:30" pos:end="35:36"><expr pos:start="35:30" pos:end="35:36"><literal type="string" pos:start="35:30" pos:end="35:36">"width"</literal></expr></argument>, <argument pos:start="35:39" pos:end="35:39"><expr pos:start="35:39" pos:end="35:39"><literal type="number" pos:start="35:39" pos:end="35:39">4</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="37:5" pos:end="37:48"><expr pos:start="37:5" pos:end="37:47"><call pos:start="37:5" pos:end="37:47"><name pos:start="37:5" pos:end="37:23">qdev_prop_set_uint8</name><argument_list pos:start="37:24" pos:end="37:47">(<argument pos:start="37:25" pos:end="37:27"><expr pos:start="37:25" pos:end="37:27"><name pos:start="37:25" pos:end="37:27">dev</name></expr></argument>, <argument pos:start="37:30" pos:end="37:43"><expr pos:start="37:30" pos:end="37:43"><literal type="string" pos:start="37:30" pos:end="37:43">"device-width"</literal></expr></argument>, <argument pos:start="37:46" pos:end="37:46"><expr pos:start="37:46" pos:end="37:46"><literal type="number" pos:start="37:46" pos:end="37:46">2</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="39:5" pos:end="39:46"><expr pos:start="39:5" pos:end="39:45"><call pos:start="39:5" pos:end="39:45"><name pos:start="39:5" pos:end="39:23">qdev_prop_set_uint8</name><argument_list pos:start="39:24" pos:end="39:45">(<argument pos:start="39:25" pos:end="39:27"><expr pos:start="39:25" pos:end="39:27"><name pos:start="39:25" pos:end="39:27">dev</name></expr></argument>, <argument pos:start="39:30" pos:end="39:41"><expr pos:start="39:30" pos:end="39:41"><literal type="string" pos:start="39:30" pos:end="39:41">"big-endian"</literal></expr></argument>, <argument pos:start="39:44" pos:end="39:44"><expr pos:start="39:44" pos:end="39:44"><literal type="number" pos:start="39:44" pos:end="39:44">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="41:5" pos:end="41:43"><expr pos:start="41:5" pos:end="41:42"><call pos:start="41:5" pos:end="41:42"><name pos:start="41:5" pos:end="41:24">qdev_prop_set_uint16</name><argument_list pos:start="41:25" pos:end="41:42">(<argument pos:start="41:26" pos:end="41:28"><expr pos:start="41:26" pos:end="41:28"><name pos:start="41:26" pos:end="41:28">dev</name></expr></argument>, <argument pos:start="41:31" pos:end="41:35"><expr pos:start="41:31" pos:end="41:35"><literal type="string" pos:start="41:31" pos:end="41:35">"id0"</literal></expr></argument>, <argument pos:start="41:38" pos:end="41:41"><expr pos:start="41:38" pos:end="41:41"><literal type="number" pos:start="41:38" pos:end="41:41">0x89</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="43:5" pos:end="43:43"><expr pos:start="43:5" pos:end="43:42"><call pos:start="43:5" pos:end="43:42"><name pos:start="43:5" pos:end="43:24">qdev_prop_set_uint16</name><argument_list pos:start="43:25" pos:end="43:42">(<argument pos:start="43:26" pos:end="43:28"><expr pos:start="43:26" pos:end="43:28"><name pos:start="43:26" pos:end="43:28">dev</name></expr></argument>, <argument pos:start="43:31" pos:end="43:35"><expr pos:start="43:31" pos:end="43:35"><literal type="string" pos:start="43:31" pos:end="43:35">"id1"</literal></expr></argument>, <argument pos:start="43:38" pos:end="43:41"><expr pos:start="43:38" pos:end="43:41"><literal type="number" pos:start="43:38" pos:end="43:41">0x18</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="45:5" pos:end="45:43"><expr pos:start="45:5" pos:end="45:42"><call pos:start="45:5" pos:end="45:42"><name pos:start="45:5" pos:end="45:24">qdev_prop_set_uint16</name><argument_list pos:start="45:25" pos:end="45:42">(<argument pos:start="45:26" pos:end="45:28"><expr pos:start="45:26" pos:end="45:28"><name pos:start="45:26" pos:end="45:28">dev</name></expr></argument>, <argument pos:start="45:31" pos:end="45:35"><expr pos:start="45:31" pos:end="45:35"><literal type="string" pos:start="45:31" pos:end="45:35">"id2"</literal></expr></argument>, <argument pos:start="45:38" pos:end="45:41"><expr pos:start="45:38" pos:end="45:41"><literal type="number" pos:start="45:38" pos:end="45:41">0x00</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="47:5" pos:end="47:43"><expr pos:start="47:5" pos:end="47:42"><call pos:start="47:5" pos:end="47:42"><name pos:start="47:5" pos:end="47:24">qdev_prop_set_uint16</name><argument_list pos:start="47:25" pos:end="47:42">(<argument pos:start="47:26" pos:end="47:28"><expr pos:start="47:26" pos:end="47:28"><name pos:start="47:26" pos:end="47:28">dev</name></expr></argument>, <argument pos:start="47:31" pos:end="47:35"><expr pos:start="47:31" pos:end="47:35"><literal type="string" pos:start="47:31" pos:end="47:35">"id3"</literal></expr></argument>, <argument pos:start="47:38" pos:end="47:41"><expr pos:start="47:38" pos:end="47:41"><literal type="number" pos:start="47:38" pos:end="47:41">0x00</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="49:5" pos:end="49:44"><expr pos:start="49:5" pos:end="49:43"><call pos:start="49:5" pos:end="49:43"><name pos:start="49:5" pos:end="49:24">qdev_prop_set_string</name><argument_list pos:start="49:25" pos:end="49:43">(<argument pos:start="49:26" pos:end="49:28"><expr pos:start="49:26" pos:end="49:28"><name pos:start="49:26" pos:end="49:28">dev</name></expr></argument>, <argument pos:start="49:31" pos:end="49:36"><expr pos:start="49:31" pos:end="49:36"><literal type="string" pos:start="49:31" pos:end="49:36">"name"</literal></expr></argument>, <argument pos:start="49:39" pos:end="49:42"><expr pos:start="49:39" pos:end="49:42"><name pos:start="49:39" pos:end="49:42">name</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="51:5" pos:end="51:26"><expr pos:start="51:5" pos:end="51:25"><call pos:start="51:5" pos:end="51:25"><name pos:start="51:5" pos:end="51:20">qdev_init_nofail</name><argument_list pos:start="51:21" pos:end="51:25">(<argument pos:start="51:22" pos:end="51:24"><expr pos:start="51:22" pos:end="51:24"><name pos:start="51:22" pos:end="51:24">dev</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="55:5" pos:end="55:55"><expr pos:start="55:5" pos:end="55:54"><call pos:start="55:5" pos:end="55:54"><name pos:start="55:5" pos:end="55:19">sysbus_mmio_map</name><argument_list pos:start="55:20" pos:end="55:54">(<argument pos:start="55:21" pos:end="55:39"><expr pos:start="55:21" pos:end="55:39"><call pos:start="55:21" pos:end="55:39"><name pos:start="55:21" pos:end="55:34">SYS_BUS_DEVICE</name><argument_list pos:start="55:35" pos:end="55:39">(<argument pos:start="55:36" pos:end="55:38"><expr pos:start="55:36" pos:end="55:38"><name pos:start="55:36" pos:end="55:38">dev</name></expr></argument>)</argument_list></call></expr></argument>, <argument pos:start="55:42" pos:end="55:42"><expr pos:start="55:42" pos:end="55:42"><literal type="number" pos:start="55:42" pos:end="55:42">0</literal></expr></argument>, <argument pos:start="55:45" pos:end="55:53"><expr pos:start="55:45" pos:end="55:53"><name pos:start="55:45" pos:end="55:53">flashbase</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

</block_content>}</block></function>
</unit>
