<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/11494.c" pos:tabs="8"><function pos:start="1:1" pos:end="61:1"><type pos:start="1:1" pos:end="1:4"><name pos:start="1:1" pos:end="1:4">void</name></type> <name pos:start="1:6" pos:end="1:21">qpci_msix_enable</name><parameter_list pos:start="1:22" pos:end="1:38">(<parameter pos:start="1:23" pos:end="1:37"><decl pos:start="1:23" pos:end="1:37"><type pos:start="1:23" pos:end="1:34"><name pos:start="1:23" pos:end="1:32">QPCIDevice</name> <modifier pos:start="1:34" pos:end="1:34">*</modifier></type><name pos:start="1:35" pos:end="1:37">dev</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="61:1">{<block_content pos:start="5:5" pos:end="59:29">

    <decl_stmt pos:start="5:5" pos:end="5:17"><decl pos:start="5:5" pos:end="5:16"><type pos:start="5:5" pos:end="5:11"><name pos:start="5:5" pos:end="5:11">uint8_t</name></type> <name pos:start="5:13" pos:end="5:16">addr</name></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:17"><decl pos:start="7:5" pos:end="7:16"><type pos:start="7:5" pos:end="7:12"><name pos:start="7:5" pos:end="7:12">uint16_t</name></type> <name pos:start="7:14" pos:end="7:16">val</name></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:19"><decl pos:start="9:5" pos:end="9:18"><type pos:start="9:5" pos:end="9:12"><name pos:start="9:5" pos:end="9:12">uint32_t</name></type> <name pos:start="9:14" pos:end="9:18">table</name></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:22"><decl pos:start="11:5" pos:end="11:21"><type pos:start="11:5" pos:end="11:11"><name pos:start="11:5" pos:end="11:11">uint8_t</name></type> <name pos:start="11:13" pos:end="11:21">bir_table</name></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:20"><decl pos:start="13:5" pos:end="13:19"><type pos:start="13:5" pos:end="13:11"><name pos:start="13:5" pos:end="13:11">uint8_t</name></type> <name pos:start="13:13" pos:end="13:19">bir_pba</name></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="15:17"><decl pos:start="15:5" pos:end="15:16"><type pos:start="15:5" pos:end="15:10"><name pos:start="15:5" pos:end="15:8">void</name> <modifier pos:start="15:10" pos:end="15:10">*</modifier></type><name pos:start="15:11" pos:end="15:16">offset</name></decl>;</decl_stmt>



    <expr_stmt pos:start="19:5" pos:end="19:54"><expr pos:start="19:5" pos:end="19:53"><name pos:start="19:5" pos:end="19:8">addr</name> <operator pos:start="19:10" pos:end="19:10">=</operator> <call pos:start="19:12" pos:end="19:53"><name pos:start="19:12" pos:end="19:31">qpci_find_capability</name><argument_list pos:start="19:32" pos:end="19:53">(<argument pos:start="19:33" pos:end="19:35"><expr pos:start="19:33" pos:end="19:35"><name pos:start="19:33" pos:end="19:35">dev</name></expr></argument>, <argument pos:start="19:38" pos:end="19:52"><expr pos:start="19:38" pos:end="19:52"><name pos:start="19:38" pos:end="19:52">PCI_CAP_ID_MSIX</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="21:5" pos:end="21:33"><expr pos:start="21:5" pos:end="21:32"><call pos:start="21:5" pos:end="21:32"><name pos:start="21:5" pos:end="21:19">g_assert_cmphex</name><argument_list pos:start="21:20" pos:end="21:32">(<argument pos:start="21:21" pos:end="21:24"><expr pos:start="21:21" pos:end="21:24"><name pos:start="21:21" pos:end="21:24">addr</name></expr></argument>, <argument pos:start="21:27" pos:end="21:28"><expr pos:start="21:27" pos:end="21:28"><operator pos:start="21:27" pos:end="21:28">!=</operator></expr></argument>, <argument pos:start="21:31" pos:end="21:31"><expr pos:start="21:31" pos:end="21:31"><literal type="number" pos:start="21:31" pos:end="21:31">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="25:5" pos:end="25:56"><expr pos:start="25:5" pos:end="25:55"><name pos:start="25:5" pos:end="25:7">val</name> <operator pos:start="25:9" pos:end="25:9">=</operator> <call pos:start="25:11" pos:end="25:55"><name pos:start="25:11" pos:end="25:27">qpci_config_readw</name><argument_list pos:start="25:28" pos:end="25:55">(<argument pos:start="25:29" pos:end="25:31"><expr pos:start="25:29" pos:end="25:31"><name pos:start="25:29" pos:end="25:31">dev</name></expr></argument>, <argument pos:start="25:34" pos:end="25:54"><expr pos:start="25:34" pos:end="25:54"><name pos:start="25:34" pos:end="25:37">addr</name> <operator pos:start="25:39" pos:end="25:39">+</operator> <name pos:start="25:41" pos:end="25:54">PCI_MSIX_FLAGS</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="27:5" pos:end="27:80"><expr pos:start="27:5" pos:end="27:79"><call pos:start="27:5" pos:end="27:79"><name pos:start="27:5" pos:end="27:22">qpci_config_writew</name><argument_list pos:start="27:23" pos:end="27:79">(<argument pos:start="27:24" pos:end="27:26"><expr pos:start="27:24" pos:end="27:26"><name pos:start="27:24" pos:end="27:26">dev</name></expr></argument>, <argument pos:start="27:29" pos:end="27:49"><expr pos:start="27:29" pos:end="27:49"><name pos:start="27:29" pos:end="27:32">addr</name> <operator pos:start="27:34" pos:end="27:34">+</operator> <name pos:start="27:36" pos:end="27:49">PCI_MSIX_FLAGS</name></expr></argument>, <argument pos:start="27:52" pos:end="27:78"><expr pos:start="27:52" pos:end="27:78"><name pos:start="27:52" pos:end="27:54">val</name> <operator pos:start="27:56" pos:end="27:56">|</operator> <name pos:start="27:58" pos:end="27:78">PCI_MSIX_FLAGS_ENABLE</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="31:5" pos:end="31:58"><expr pos:start="31:5" pos:end="31:57"><name pos:start="31:5" pos:end="31:9">table</name> <operator pos:start="31:11" pos:end="31:11">=</operator> <call pos:start="31:13" pos:end="31:57"><name pos:start="31:13" pos:end="31:29">qpci_config_readl</name><argument_list pos:start="31:30" pos:end="31:57">(<argument pos:start="31:31" pos:end="31:33"><expr pos:start="31:31" pos:end="31:33"><name pos:start="31:31" pos:end="31:33">dev</name></expr></argument>, <argument pos:start="31:36" pos:end="31:56"><expr pos:start="31:36" pos:end="31:56"><name pos:start="31:36" pos:end="31:39">addr</name> <operator pos:start="31:41" pos:end="31:41">+</operator> <name pos:start="31:43" pos:end="31:56">PCI_MSIX_TABLE</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="33:5" pos:end="33:47"><expr pos:start="33:5" pos:end="33:46"><name pos:start="33:5" pos:end="33:13">bir_table</name> <operator pos:start="33:15" pos:end="33:15">=</operator> <name pos:start="33:17" pos:end="33:21">table</name> <operator pos:start="33:23" pos:end="33:23">&amp;</operator> <name pos:start="33:25" pos:end="33:46">PCI_MSIX_FLAGS_BIRMASK</name></expr>;</expr_stmt>

    <expr_stmt pos:start="35:5" pos:end="35:46"><expr pos:start="35:5" pos:end="35:45"><name pos:start="35:5" pos:end="35:10">offset</name> <operator pos:start="35:12" pos:end="35:12">=</operator> <call pos:start="35:14" pos:end="35:45"><name pos:start="35:14" pos:end="35:23">qpci_iomap</name><argument_list pos:start="35:24" pos:end="35:45">(<argument pos:start="35:25" pos:end="35:27"><expr pos:start="35:25" pos:end="35:27"><name pos:start="35:25" pos:end="35:27">dev</name></expr></argument>, <argument pos:start="35:30" pos:end="35:38"><expr pos:start="35:30" pos:end="35:38"><name pos:start="35:30" pos:end="35:38">bir_table</name></expr></argument>, <argument pos:start="35:41" pos:end="35:44"><expr pos:start="35:41" pos:end="35:44"><name pos:start="35:41" pos:end="35:44">NULL</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="37:5" pos:end="37:65"><expr pos:start="37:5" pos:end="37:64"><name pos:start="37:5" pos:end="37:19"><name pos:start="37:5" pos:end="37:7">dev</name><operator pos:start="37:8" pos:end="37:9">-&gt;</operator><name pos:start="37:10" pos:end="37:19">msix_table</name></name> <operator pos:start="37:21" pos:end="37:21">=</operator> <name pos:start="37:23" pos:end="37:28">offset</name> <operator pos:start="37:30" pos:end="37:30">+</operator> <operator pos:start="37:32" pos:end="37:32">(</operator><name pos:start="37:33" pos:end="37:37">table</name> <operator pos:start="37:39" pos:end="37:39">&amp;</operator> <operator pos:start="37:41" pos:end="37:41">~</operator><name pos:start="37:42" pos:end="37:63">PCI_MSIX_FLAGS_BIRMASK</name><operator pos:start="37:64" pos:end="37:64">)</operator></expr>;</expr_stmt>



    <expr_stmt pos:start="41:5" pos:end="41:56"><expr pos:start="41:5" pos:end="41:55"><name pos:start="41:5" pos:end="41:9">table</name> <operator pos:start="41:11" pos:end="41:11">=</operator> <call pos:start="41:13" pos:end="41:55"><name pos:start="41:13" pos:end="41:29">qpci_config_readl</name><argument_list pos:start="41:30" pos:end="41:55">(<argument pos:start="41:31" pos:end="41:33"><expr pos:start="41:31" pos:end="41:33"><name pos:start="41:31" pos:end="41:33">dev</name></expr></argument>, <argument pos:start="41:36" pos:end="41:54"><expr pos:start="41:36" pos:end="41:54"><name pos:start="41:36" pos:end="41:39">addr</name> <operator pos:start="41:41" pos:end="41:41">+</operator> <name pos:start="41:43" pos:end="41:54">PCI_MSIX_PBA</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="43:5" pos:end="43:45"><expr pos:start="43:5" pos:end="43:44"><name pos:start="43:5" pos:end="43:11">bir_pba</name> <operator pos:start="43:13" pos:end="43:13">=</operator> <name pos:start="43:15" pos:end="43:19">table</name> <operator pos:start="43:21" pos:end="43:21">&amp;</operator> <name pos:start="43:23" pos:end="43:44">PCI_MSIX_FLAGS_BIRMASK</name></expr>;</expr_stmt>

    <if_stmt pos:start="45:5" pos:end="49:5"><if pos:start="45:5" pos:end="49:5">if <condition pos:start="45:8" pos:end="45:29">(<expr pos:start="45:9" pos:end="45:28"><name pos:start="45:9" pos:end="45:15">bir_pba</name> <operator pos:start="45:17" pos:end="45:18">!=</operator> <name pos:start="45:20" pos:end="45:28">bir_table</name></expr>)</condition> <block pos:start="45:31" pos:end="49:5">{<block_content pos:start="47:9" pos:end="47:48">

        <expr_stmt pos:start="47:9" pos:end="47:48"><expr pos:start="47:9" pos:end="47:47"><name pos:start="47:9" pos:end="47:14">offset</name> <operator pos:start="47:16" pos:end="47:16">=</operator> <call pos:start="47:18" pos:end="47:47"><name pos:start="47:18" pos:end="47:27">qpci_iomap</name><argument_list pos:start="47:28" pos:end="47:47">(<argument pos:start="47:29" pos:end="47:31"><expr pos:start="47:29" pos:end="47:31"><name pos:start="47:29" pos:end="47:31">dev</name></expr></argument>, <argument pos:start="47:34" pos:end="47:40"><expr pos:start="47:34" pos:end="47:40"><name pos:start="47:34" pos:end="47:40">bir_pba</name></expr></argument>, <argument pos:start="47:43" pos:end="47:46"><expr pos:start="47:43" pos:end="47:46"><name pos:start="47:43" pos:end="47:46">NULL</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    <expr_stmt pos:start="51:5" pos:end="51:63"><expr pos:start="51:5" pos:end="51:62"><name pos:start="51:5" pos:end="51:17"><name pos:start="51:5" pos:end="51:7">dev</name><operator pos:start="51:8" pos:end="51:9">-&gt;</operator><name pos:start="51:10" pos:end="51:17">msix_pba</name></name> <operator pos:start="51:19" pos:end="51:19">=</operator> <name pos:start="51:21" pos:end="51:26">offset</name> <operator pos:start="51:28" pos:end="51:28">+</operator> <operator pos:start="51:30" pos:end="51:30">(</operator><name pos:start="51:31" pos:end="51:35">table</name> <operator pos:start="51:37" pos:end="51:37">&amp;</operator> <operator pos:start="51:39" pos:end="51:39">~</operator><name pos:start="51:40" pos:end="51:61">PCI_MSIX_FLAGS_BIRMASK</name><operator pos:start="51:62" pos:end="51:62">)</operator></expr>;</expr_stmt>



    <expr_stmt pos:start="55:5" pos:end="55:38"><expr pos:start="55:5" pos:end="55:37"><call pos:start="55:5" pos:end="55:37"><name pos:start="55:5" pos:end="55:12">g_assert</name><argument_list pos:start="55:13" pos:end="55:37">(<argument pos:start="55:14" pos:end="55:36"><expr pos:start="55:14" pos:end="55:36"><name pos:start="55:14" pos:end="55:28"><name pos:start="55:14" pos:end="55:16">dev</name><operator pos:start="55:17" pos:end="55:18">-&gt;</operator><name pos:start="55:19" pos:end="55:28">msix_table</name></name> <operator pos:start="55:30" pos:end="55:31">!=</operator> <name pos:start="55:33" pos:end="55:36">NULL</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="57:5" pos:end="57:36"><expr pos:start="57:5" pos:end="57:35"><call pos:start="57:5" pos:end="57:35"><name pos:start="57:5" pos:end="57:12">g_assert</name><argument_list pos:start="57:13" pos:end="57:35">(<argument pos:start="57:14" pos:end="57:34"><expr pos:start="57:14" pos:end="57:34"><name pos:start="57:14" pos:end="57:26"><name pos:start="57:14" pos:end="57:16">dev</name><operator pos:start="57:17" pos:end="57:18">-&gt;</operator><name pos:start="57:19" pos:end="57:26">msix_pba</name></name> <operator pos:start="57:28" pos:end="57:29">!=</operator> <name pos:start="57:31" pos:end="57:34">NULL</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="59:5" pos:end="59:29"><expr pos:start="59:5" pos:end="59:28"><name pos:start="59:5" pos:end="59:21"><name pos:start="59:5" pos:end="59:7">dev</name><operator pos:start="59:8" pos:end="59:9">-&gt;</operator><name pos:start="59:10" pos:end="59:21">msix_enabled</name></name> <operator pos:start="59:23" pos:end="59:23">=</operator> <name pos:start="59:25" pos:end="59:28">true</name></expr>;</expr_stmt>

</block_content>}</block></function>
</unit>
