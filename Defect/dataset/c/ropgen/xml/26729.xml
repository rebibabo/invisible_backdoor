<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/26729.c" pos:tabs="8"><function pos:start="1:1" pos:end="40:13"><type pos:start="1:1" pos:end="1:10"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:10">int</name></type> <name pos:start="1:12" pos:end="1:26">tta_read_header</name><parameter_list pos:start="1:27" pos:end="1:70">(<parameter pos:start="1:28" pos:end="1:45"><decl pos:start="1:28" pos:end="1:45"><type pos:start="1:28" pos:end="1:45"><name pos:start="1:28" pos:end="1:42">AVFormatContext</name> <modifier pos:start="1:44" pos:end="1:44">*</modifier></type><name pos:start="1:45" pos:end="1:45">s</name></decl></parameter>, <parameter pos:start="1:48" pos:end="1:69"><decl pos:start="1:48" pos:end="1:69"><type pos:start="1:48" pos:end="1:69"><name pos:start="1:48" pos:end="1:65">AVFormatParameters</name> <modifier pos:start="1:67" pos:end="1:67">*</modifier></type><name pos:start="1:68" pos:end="1:69">ap</name></decl></parameter>)</parameter_list>
<block pos:start="2:1" pos:end="40:13">{<block_content pos:start="3:5" pos:end="40:13">
    <decl_stmt pos:start="3:5" pos:end="3:33"><decl pos:start="3:5" pos:end="3:32"><type pos:start="3:5" pos:end="3:16"><name pos:start="3:5" pos:end="3:14">TTAContext</name> <modifier pos:start="3:16" pos:end="3:16">*</modifier></type><name pos:start="3:17" pos:end="3:17">c</name> <init pos:start="3:19" pos:end="3:32">= <expr pos:start="3:21" pos:end="3:32"><name pos:start="3:21" pos:end="3:32"><name pos:start="3:21" pos:end="3:21">s</name><operator pos:start="3:22" pos:end="3:23">-&gt;</operator><name pos:start="3:24" pos:end="3:32">priv_data</name></name></expr></init></decl>;</decl_stmt>
    <decl_stmt pos:start="4:5" pos:end="4:17"><decl pos:start="4:5" pos:end="4:16"><type pos:start="4:5" pos:end="4:14"><name pos:start="4:5" pos:end="4:12">AVStream</name> <modifier pos:start="4:14" pos:end="4:14">*</modifier></type><name pos:start="4:15" pos:end="4:16">st</name></decl>;</decl_stmt>
    <decl_stmt pos:start="5:5" pos:end="5:63"><decl pos:start="5:5" pos:end="5:9"><type pos:start="5:5" pos:end="5:7"><name pos:start="5:5" pos:end="5:7">int</name></type> <name pos:start="5:9" pos:end="5:9">i</name></decl>, <decl pos:start="5:12" pos:end="5:19"><type ref="prev" pos:start="5:5" pos:end="5:7"/><name pos:start="5:12" pos:end="5:19">channels</name></decl>, <decl pos:start="5:22" pos:end="5:24"><type ref="prev" pos:start="5:5" pos:end="5:7"/><name pos:start="5:22" pos:end="5:24">bps</name></decl>, <decl pos:start="5:27" pos:end="5:36"><type ref="prev" pos:start="5:5" pos:end="5:7"/><name pos:start="5:27" pos:end="5:36">samplerate</name></decl>, <decl pos:start="5:39" pos:end="5:45"><type ref="prev" pos:start="5:5" pos:end="5:7"/><name pos:start="5:39" pos:end="5:45">datalen</name></decl>, <decl pos:start="5:48" pos:end="5:55"><type ref="prev" pos:start="5:5" pos:end="5:7"/><name pos:start="5:48" pos:end="5:55">framelen</name></decl>, <decl pos:start="5:58" pos:end="5:62"><type ref="prev" pos:start="5:5" pos:end="5:7"/><name pos:start="5:58" pos:end="5:62">start</name></decl>;</decl_stmt>
    <expr_stmt pos:start="6:5" pos:end="6:30"><expr pos:start="6:5" pos:end="6:29"><name pos:start="6:5" pos:end="6:9">start</name> <operator pos:start="6:11" pos:end="6:11">=</operator> <call pos:start="6:13" pos:end="6:29"><name pos:start="6:13" pos:end="6:21">url_ftell</name><argument_list pos:start="6:22" pos:end="6:29">(<argument pos:start="6:23" pos:end="6:28"><expr pos:start="6:23" pos:end="6:28"><operator pos:start="6:23" pos:end="6:23">&amp;</operator><name pos:start="6:24" pos:end="6:28"><name pos:start="6:24" pos:end="6:24">s</name><operator pos:start="6:25" pos:end="6:26">-&gt;</operator><name pos:start="6:27" pos:end="6:28">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <if_stmt pos:start="7:5" pos:end="8:18"><if pos:start="7:5" pos:end="8:18">if <condition pos:start="7:8" pos:end="7:50">(<expr pos:start="7:9" pos:end="7:49"><call pos:start="7:9" pos:end="7:24"><name pos:start="7:9" pos:end="7:16">get_le32</name><argument_list pos:start="7:17" pos:end="7:24">(<argument pos:start="7:18" pos:end="7:23"><expr pos:start="7:18" pos:end="7:23"><operator pos:start="7:18" pos:end="7:18">&amp;</operator><name pos:start="7:19" pos:end="7:23"><name pos:start="7:19" pos:end="7:19">s</name><operator pos:start="7:20" pos:end="7:21">-&gt;</operator><name pos:start="7:22" pos:end="7:23">pb</name></name></expr></argument>)</argument_list></call> <operator pos:start="7:26" pos:end="7:27">!=</operator> <call pos:start="7:29" pos:end="7:49"><name pos:start="7:29" pos:end="7:41">ff_get_fourcc</name><argument_list pos:start="7:42" pos:end="7:49">(<argument pos:start="7:43" pos:end="7:48"><expr pos:start="7:43" pos:end="7:48"><literal type="string" pos:start="7:43" pos:end="7:48">"TTA1"</literal></expr></argument>)</argument_list></call></expr>)</condition><block type="pseudo" pos:start="8:9" pos:end="8:18"><block_content pos:start="8:9" pos:end="8:18">
        <return pos:start="8:9" pos:end="8:18">return <expr pos:start="8:16" pos:end="8:17"><operator pos:start="8:16" pos:end="8:16">-</operator><literal type="number" pos:start="8:17" pos:end="8:17">1</literal></expr>;</return></block_content></block></if></if_stmt> <comment type="line" pos:start="8:20" pos:end="8:34">// not tta file</comment>
    <expr_stmt pos:start="9:5" pos:end="9:25"><expr pos:start="9:5" pos:end="9:24"><call pos:start="9:5" pos:end="9:24"><name pos:start="9:5" pos:end="9:13">url_fskip</name><argument_list pos:start="9:14" pos:end="9:24">(<argument pos:start="9:15" pos:end="9:20"><expr pos:start="9:15" pos:end="9:20"><operator pos:start="9:15" pos:end="9:15">&amp;</operator><name pos:start="9:16" pos:end="9:20"><name pos:start="9:16" pos:end="9:16">s</name><operator pos:start="9:17" pos:end="9:18">-&gt;</operator><name pos:start="9:19" pos:end="9:20">pb</name></name></expr></argument>, <argument pos:start="9:23" pos:end="9:23"><expr pos:start="9:23" pos:end="9:23"><literal type="number" pos:start="9:23" pos:end="9:23">2</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt> <comment type="line" pos:start="9:27" pos:end="9:41">// FIXME: flags</comment>
    <expr_stmt pos:start="10:5" pos:end="10:32"><expr pos:start="10:5" pos:end="10:31"><name pos:start="10:5" pos:end="10:12">channels</name> <operator pos:start="10:14" pos:end="10:14">=</operator> <call pos:start="10:16" pos:end="10:31"><name pos:start="10:16" pos:end="10:23">get_le16</name><argument_list pos:start="10:24" pos:end="10:31">(<argument pos:start="10:25" pos:end="10:30"><expr pos:start="10:25" pos:end="10:30"><operator pos:start="10:25" pos:end="10:25">&amp;</operator><name pos:start="10:26" pos:end="10:30"><name pos:start="10:26" pos:end="10:26">s</name><operator pos:start="10:27" pos:end="10:28">-&gt;</operator><name pos:start="10:29" pos:end="10:30">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <expr_stmt pos:start="11:5" pos:end="11:27"><expr pos:start="11:5" pos:end="11:26"><name pos:start="11:5" pos:end="11:7">bps</name> <operator pos:start="11:9" pos:end="11:9">=</operator> <call pos:start="11:11" pos:end="11:26"><name pos:start="11:11" pos:end="11:18">get_le16</name><argument_list pos:start="11:19" pos:end="11:26">(<argument pos:start="11:20" pos:end="11:25"><expr pos:start="11:20" pos:end="11:25"><operator pos:start="11:20" pos:end="11:20">&amp;</operator><name pos:start="11:21" pos:end="11:25"><name pos:start="11:21" pos:end="11:21">s</name><operator pos:start="11:22" pos:end="11:23">-&gt;</operator><name pos:start="11:24" pos:end="11:25">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <expr_stmt pos:start="12:5" pos:end="12:34"><expr pos:start="12:5" pos:end="12:33"><name pos:start="12:5" pos:end="12:14">samplerate</name> <operator pos:start="12:16" pos:end="12:16">=</operator> <call pos:start="12:18" pos:end="12:33"><name pos:start="12:18" pos:end="12:25">get_le32</name><argument_list pos:start="12:26" pos:end="12:33">(<argument pos:start="12:27" pos:end="12:32"><expr pos:start="12:27" pos:end="12:32"><operator pos:start="12:27" pos:end="12:27">&amp;</operator><name pos:start="12:28" pos:end="12:32"><name pos:start="12:28" pos:end="12:28">s</name><operator pos:start="12:29" pos:end="12:30">-&gt;</operator><name pos:start="12:31" pos:end="12:32">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <expr_stmt pos:start="13:5" pos:end="13:31"><expr pos:start="13:5" pos:end="13:30"><name pos:start="13:5" pos:end="13:11">datalen</name> <operator pos:start="13:13" pos:end="13:13">=</operator> <call pos:start="13:15" pos:end="13:30"><name pos:start="13:15" pos:end="13:22">get_le32</name><argument_list pos:start="13:23" pos:end="13:30">(<argument pos:start="13:24" pos:end="13:29"><expr pos:start="13:24" pos:end="13:29"><operator pos:start="13:24" pos:end="13:24">&amp;</operator><name pos:start="13:25" pos:end="13:29"><name pos:start="13:25" pos:end="13:25">s</name><operator pos:start="13:26" pos:end="13:27">-&gt;</operator><name pos:start="13:28" pos:end="13:29">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <expr_stmt pos:start="14:5" pos:end="14:25"><expr pos:start="14:5" pos:end="14:24"><call pos:start="14:5" pos:end="14:24"><name pos:start="14:5" pos:end="14:13">url_fskip</name><argument_list pos:start="14:14" pos:end="14:24">(<argument pos:start="14:15" pos:end="14:20"><expr pos:start="14:15" pos:end="14:20"><operator pos:start="14:15" pos:end="14:15">&amp;</operator><name pos:start="14:16" pos:end="14:20"><name pos:start="14:16" pos:end="14:16">s</name><operator pos:start="14:17" pos:end="14:18">-&gt;</operator><name pos:start="14:19" pos:end="14:20">pb</name></name></expr></argument>, <argument pos:start="14:23" pos:end="14:23"><expr pos:start="14:23" pos:end="14:23"><literal type="number" pos:start="14:23" pos:end="14:23">4</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt> <comment type="line" pos:start="14:27" pos:end="14:39">// header crc</comment>
    <expr_stmt pos:start="15:5" pos:end="15:51"><expr pos:start="15:5" pos:end="15:50"><name pos:start="15:5" pos:end="15:12">framelen</name> <operator pos:start="15:14" pos:end="15:14">=</operator> <literal type="number" pos:start="15:16" pos:end="15:37">1.04489795918367346939</literal> <operator pos:start="15:39" pos:end="15:39">*</operator> <name pos:start="15:41" pos:end="15:50">samplerate</name></expr>;</expr_stmt>
    <expr_stmt pos:start="16:5" pos:end="16:73"><expr pos:start="16:5" pos:end="16:72"><name pos:start="16:5" pos:end="16:18"><name pos:start="16:5" pos:end="16:5">c</name><operator pos:start="16:6" pos:end="16:7">-&gt;</operator><name pos:start="16:8" pos:end="16:18">totalframes</name></name> <operator pos:start="16:20" pos:end="16:20">=</operator> <name pos:start="16:22" pos:end="16:28">datalen</name> <operator pos:start="16:30" pos:end="16:30">/</operator> <name pos:start="16:32" pos:end="16:39">framelen</name> <operator pos:start="16:41" pos:end="16:41">+</operator> <operator pos:start="16:43" pos:end="16:43">(</operator><ternary pos:start="16:44" pos:end="16:71"><condition pos:start="16:44" pos:end="16:65"><expr pos:start="16:44" pos:end="16:63"><operator pos:start="16:44" pos:end="16:44">(</operator><name pos:start="16:45" pos:end="16:51">datalen</name> <operator pos:start="16:53" pos:end="16:53">%</operator> <name pos:start="16:55" pos:end="16:62">framelen</name><operator pos:start="16:63" pos:end="16:63">)</operator></expr> ?</condition><then pos:start="16:67" pos:end="16:67"> <expr pos:start="16:67" pos:end="16:67"><literal type="number" pos:start="16:67" pos:end="16:67">1</literal></expr> </then><else pos:start="16:69" pos:end="16:71">: <expr pos:start="16:71" pos:end="16:71"><literal type="number" pos:start="16:71" pos:end="16:71">0</literal></expr></else></ternary><operator pos:start="16:72" pos:end="16:72">)</operator></expr>;</expr_stmt>
    <expr_stmt pos:start="17:5" pos:end="17:24"><expr pos:start="17:5" pos:end="17:23"><name pos:start="17:5" pos:end="17:19"><name pos:start="17:5" pos:end="17:5">c</name><operator pos:start="17:6" pos:end="17:7">-&gt;</operator><name pos:start="17:8" pos:end="17:19">currentframe</name></name> <operator pos:start="17:21" pos:end="17:21">=</operator> <literal type="number" pos:start="17:23" pos:end="17:23">0</literal></expr>;</expr_stmt>
    <expr_stmt pos:start="18:5" pos:end="18:63"><expr pos:start="18:5" pos:end="18:62"><name pos:start="18:5" pos:end="18:16"><name pos:start="18:5" pos:end="18:5">c</name><operator pos:start="18:6" pos:end="18:7">-&gt;</operator><name pos:start="18:8" pos:end="18:16">seektable</name></name> <operator pos:start="18:18" pos:end="18:18">=</operator> <call pos:start="18:20" pos:end="18:62"><name pos:start="18:20" pos:end="18:29">av_mallocz</name><argument_list pos:start="18:30" pos:end="18:62">(<argument pos:start="18:31" pos:end="18:61"><expr pos:start="18:31" pos:end="18:61"><sizeof pos:start="18:31" pos:end="18:46">sizeof<argument_list pos:start="18:37" pos:end="18:46">(<argument pos:start="18:38" pos:end="18:45"><expr pos:start="18:38" pos:end="18:45"><name pos:start="18:38" pos:end="18:45">uint32_t</name></expr></argument>)</argument_list></sizeof><operator pos:start="18:47" pos:end="18:47">*</operator><name pos:start="18:48" pos:end="18:61"><name pos:start="18:48" pos:end="18:48">c</name><operator pos:start="18:49" pos:end="18:50">-&gt;</operator><name pos:start="18:51" pos:end="18:61">totalframes</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <if_stmt pos:start="19:5" pos:end="20:29"><if pos:start="19:5" pos:end="20:29">if <condition pos:start="19:8" pos:end="19:22">(<expr pos:start="19:9" pos:end="19:21"><operator pos:start="19:9" pos:end="19:9">!</operator><name pos:start="19:10" pos:end="19:21"><name pos:start="19:10" pos:end="19:10">c</name><operator pos:start="19:11" pos:end="19:12">-&gt;</operator><name pos:start="19:13" pos:end="19:21">seektable</name></name></expr>)</condition><block type="pseudo" pos:start="20:9" pos:end="20:29"><block_content pos:start="20:9" pos:end="20:29">
        <return pos:start="20:9" pos:end="20:29">return <expr pos:start="20:16" pos:end="20:28"><name pos:start="20:16" pos:end="20:28">AVERROR_NOMEM</name></expr>;</return></block_content></block></if></if_stmt>
    <for pos:start="21:5" pos:end="22:47">for <control pos:start="21:9" pos:end="21:40">(<init pos:start="21:10" pos:end="21:15"><expr pos:start="21:10" pos:end="21:14"><name pos:start="21:10" pos:end="21:10">i</name> <operator pos:start="21:12" pos:end="21:12">=</operator> <literal type="number" pos:start="21:14" pos:end="21:14">0</literal></expr>;</init> <condition pos:start="21:17" pos:end="21:35"><expr pos:start="21:17" pos:end="21:34"><name pos:start="21:17" pos:end="21:17">i</name> <operator pos:start="21:19" pos:end="21:19">&lt;</operator> <name pos:start="21:21" pos:end="21:34"><name pos:start="21:21" pos:end="21:21">c</name><operator pos:start="21:22" pos:end="21:23">-&gt;</operator><name pos:start="21:24" pos:end="21:34">totalframes</name></name></expr>;</condition> <incr pos:start="21:37" pos:end="21:39"><expr pos:start="21:37" pos:end="21:39"><name pos:start="21:37" pos:end="21:37">i</name><operator pos:start="21:38" pos:end="21:39">++</operator></expr></incr>)</control><block type="pseudo" pos:start="22:13" pos:end="22:47"><block_content pos:start="22:13" pos:end="22:47">
            <expr_stmt pos:start="22:13" pos:end="22:47"><expr pos:start="22:13" pos:end="22:46"><name pos:start="22:13" pos:end="22:27"><name pos:start="22:13" pos:end="22:13">c</name><operator pos:start="22:14" pos:end="22:15">-&gt;</operator><name pos:start="22:16" pos:end="22:24">seektable</name><index pos:start="22:25" pos:end="22:27">[<expr pos:start="22:26" pos:end="22:26"><name pos:start="22:26" pos:end="22:26">i</name></expr>]</index></name> <operator pos:start="22:29" pos:end="22:29">=</operator> <call pos:start="22:31" pos:end="22:46"><name pos:start="22:31" pos:end="22:38">get_le32</name><argument_list pos:start="22:39" pos:end="22:46">(<argument pos:start="22:40" pos:end="22:45"><expr pos:start="22:40" pos:end="22:45"><operator pos:start="22:40" pos:end="22:40">&amp;</operator><name pos:start="22:41" pos:end="22:45"><name pos:start="22:41" pos:end="22:41">s</name><operator pos:start="22:42" pos:end="22:43">-&gt;</operator><name pos:start="22:44" pos:end="22:45">pb</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></for>
    <expr_stmt pos:start="23:5" pos:end="23:25"><expr pos:start="23:5" pos:end="23:24"><call pos:start="23:5" pos:end="23:24"><name pos:start="23:5" pos:end="23:13">url_fskip</name><argument_list pos:start="23:14" pos:end="23:24">(<argument pos:start="23:15" pos:end="23:20"><expr pos:start="23:15" pos:end="23:20"><operator pos:start="23:15" pos:end="23:15">&amp;</operator><name pos:start="23:16" pos:end="23:20"><name pos:start="23:16" pos:end="23:16">s</name><operator pos:start="23:17" pos:end="23:18">-&gt;</operator><name pos:start="23:19" pos:end="23:20">pb</name></name></expr></argument>, <argument pos:start="23:23" pos:end="23:23"><expr pos:start="23:23" pos:end="23:23"><literal type="number" pos:start="23:23" pos:end="23:23">4</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt> <comment type="line" pos:start="23:27" pos:end="23:42">// seektable crc</comment>
    <expr_stmt pos:start="24:5" pos:end="24:29"><expr pos:start="24:5" pos:end="24:28"><name pos:start="24:5" pos:end="24:6">st</name> <operator pos:start="24:8" pos:end="24:8">=</operator> <call pos:start="24:10" pos:end="24:28"><name pos:start="24:10" pos:end="24:22">av_new_stream</name><argument_list pos:start="24:23" pos:end="24:28">(<argument pos:start="24:24" pos:end="24:24"><expr pos:start="24:24" pos:end="24:24"><name pos:start="24:24" pos:end="24:24">s</name></expr></argument>, <argument pos:start="24:27" pos:end="24:27"><expr pos:start="24:27" pos:end="24:27"><literal type="number" pos:start="24:27" pos:end="24:27">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
<comment type="line" pos:start="25:1" pos:end="25:39">//    av_set_pts_info(st, 32, 1, 1000);</comment>
    <if_stmt pos:start="26:5" pos:end="27:29"><if pos:start="26:5" pos:end="27:29">if <condition pos:start="26:8" pos:end="26:12">(<expr pos:start="26:9" pos:end="26:11"><operator pos:start="26:9" pos:end="26:9">!</operator><name pos:start="26:10" pos:end="26:11">st</name></expr>)</condition><block type="pseudo" pos:start="27:9" pos:end="27:29"><block_content pos:start="27:9" pos:end="27:29">
        <return pos:start="27:9" pos:end="27:29">return <expr pos:start="27:16" pos:end="27:28"><name pos:start="27:16" pos:end="27:28">AVERROR_NOMEM</name></expr>;</return></block_content></block></if></if_stmt>
    <expr_stmt pos:start="28:5" pos:end="28:45"><expr pos:start="28:5" pos:end="28:44"><name pos:start="28:5" pos:end="28:25"><name pos:start="28:5" pos:end="28:6">st</name><operator pos:start="28:7" pos:end="28:8">-&gt;</operator><name pos:start="28:9" pos:end="28:13">codec</name><operator pos:start="28:14" pos:end="28:15">-&gt;</operator><name pos:start="28:16" pos:end="28:25">codec_type</name></name> <operator pos:start="28:27" pos:end="28:27">=</operator> <name pos:start="28:29" pos:end="28:44">CODEC_TYPE_AUDIO</name></expr>;</expr_stmt>
    <expr_stmt pos:start="29:5" pos:end="29:39"><expr pos:start="29:5" pos:end="29:38"><name pos:start="29:5" pos:end="29:23"><name pos:start="29:5" pos:end="29:6">st</name><operator pos:start="29:7" pos:end="29:8">-&gt;</operator><name pos:start="29:9" pos:end="29:13">codec</name><operator pos:start="29:14" pos:end="29:15">-&gt;</operator><name pos:start="29:16" pos:end="29:23">codec_id</name></name> <operator pos:start="29:25" pos:end="29:25">=</operator> <name pos:start="29:27" pos:end="29:38">CODEC_ID_TTA</name></expr>;</expr_stmt>
    <expr_stmt pos:start="30:5" pos:end="30:35"><expr pos:start="30:5" pos:end="30:34"><name pos:start="30:5" pos:end="30:23"><name pos:start="30:5" pos:end="30:6">st</name><operator pos:start="30:7" pos:end="30:8">-&gt;</operator><name pos:start="30:9" pos:end="30:13">codec</name><operator pos:start="30:14" pos:end="30:15">-&gt;</operator><name pos:start="30:16" pos:end="30:23">channels</name></name> <operator pos:start="30:25" pos:end="30:25">=</operator> <name pos:start="30:27" pos:end="30:34">channels</name></expr>;</expr_stmt>
    <expr_stmt pos:start="31:5" pos:end="31:40"><expr pos:start="31:5" pos:end="31:39"><name pos:start="31:5" pos:end="31:26"><name pos:start="31:5" pos:end="31:6">st</name><operator pos:start="31:7" pos:end="31:8">-&gt;</operator><name pos:start="31:9" pos:end="31:13">codec</name><operator pos:start="31:14" pos:end="31:15">-&gt;</operator><name pos:start="31:16" pos:end="31:26">sample_rate</name></name> <operator pos:start="31:28" pos:end="31:28">=</operator> <name pos:start="31:30" pos:end="31:39">samplerate</name></expr>;</expr_stmt>
    <expr_stmt pos:start="32:5" pos:end="32:37"><expr pos:start="32:5" pos:end="32:36"><name pos:start="32:5" pos:end="32:30"><name pos:start="32:5" pos:end="32:6">st</name><operator pos:start="32:7" pos:end="32:8">-&gt;</operator><name pos:start="32:9" pos:end="32:13">codec</name><operator pos:start="32:14" pos:end="32:15">-&gt;</operator><name pos:start="32:16" pos:end="32:30">bits_per_sample</name></name> <operator pos:start="32:32" pos:end="32:32">=</operator> <name pos:start="32:34" pos:end="32:36">bps</name></expr>;</expr_stmt>
    <expr_stmt pos:start="33:5" pos:end="33:58"><expr pos:start="33:5" pos:end="33:57"><name pos:start="33:5" pos:end="33:29"><name pos:start="33:5" pos:end="33:6">st</name><operator pos:start="33:7" pos:end="33:8">-&gt;</operator><name pos:start="33:9" pos:end="33:13">codec</name><operator pos:start="33:14" pos:end="33:15">-&gt;</operator><name pos:start="33:16" pos:end="33:29">extradata_size</name></name> <operator pos:start="33:31" pos:end="33:31">=</operator> <call pos:start="33:33" pos:end="33:49"><name pos:start="33:33" pos:end="33:41">url_ftell</name><argument_list pos:start="33:42" pos:end="33:49">(<argument pos:start="33:43" pos:end="33:48"><expr pos:start="33:43" pos:end="33:48"><operator pos:start="33:43" pos:end="33:43">&amp;</operator><name pos:start="33:44" pos:end="33:48"><name pos:start="33:44" pos:end="33:44">s</name><operator pos:start="33:45" pos:end="33:46">-&gt;</operator><name pos:start="33:47" pos:end="33:48">pb</name></name></expr></argument>)</argument_list></call> <operator pos:start="33:51" pos:end="33:51">-</operator> <name pos:start="33:53" pos:end="33:57">start</name></expr>;</expr_stmt>
    <if_stmt pos:start="34:5" pos:end="40:13"><if pos:start="34:5" pos:end="40:13">if<condition pos:start="34:7" pos:end="34:101">(<expr pos:start="34:8" pos:end="34:100"><name pos:start="34:8" pos:end="34:32"><name pos:start="34:8" pos:end="34:9">st</name><operator pos:start="34:10" pos:end="34:11">-&gt;</operator><name pos:start="34:12" pos:end="34:16">codec</name><operator pos:start="34:17" pos:end="34:18">-&gt;</operator><name pos:start="34:19" pos:end="34:32">extradata_size</name></name><operator pos:start="34:33" pos:end="34:33">+</operator><name pos:start="34:34" pos:end="34:61">FF_INPUT_BUFFER_PADDING_SIZE</name> <operator pos:start="34:63" pos:end="34:64">&lt;=</operator> <operator pos:start="34:66" pos:end="34:66">(</operator><name pos:start="34:67" pos:end="34:74">unsigned</name><operator pos:start="34:75" pos:end="34:75">)</operator><name pos:start="34:76" pos:end="34:100"><name pos:start="34:76" pos:end="34:77">st</name><operator pos:start="34:78" pos:end="34:79">-&gt;</operator><name pos:start="34:80" pos:end="34:84">codec</name><operator pos:start="34:85" pos:end="34:86">-&gt;</operator><name pos:start="34:87" pos:end="34:100">extradata_size</name></name></expr>)</condition><block pos:start="34:102" pos:end="40:13">{<block_content pos:start="36:9" pos:end="40:13">
        <comment type="line" pos:start="35:9" pos:end="35:59">//this check is redundant as get_buffer should fail</comment>
        <expr_stmt pos:start="36:9" pos:end="36:62"><expr pos:start="36:9" pos:end="36:61"><call pos:start="36:9" pos:end="36:61"><name pos:start="36:9" pos:end="36:14">av_log</name><argument_list pos:start="36:15" pos:end="36:61">(<argument pos:start="36:16" pos:end="36:16"><expr pos:start="36:16" pos:end="36:16"><name pos:start="36:16" pos:end="36:16">s</name></expr></argument>, <argument pos:start="36:19" pos:end="36:30"><expr pos:start="36:19" pos:end="36:30"><name pos:start="36:19" pos:end="36:30">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="36:33" pos:end="36:60"><expr pos:start="36:33" pos:end="36:60"><literal type="string" pos:start="36:33" pos:end="36:60">"extradata_size too large\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <expr_stmt pos:start="37:5" pos:end="37:94"><expr pos:start="37:5" pos:end="37:93"><name pos:start="37:5" pos:end="37:24"><name pos:start="37:5" pos:end="37:6">st</name><operator pos:start="37:7" pos:end="37:8">-&gt;</operator><name pos:start="37:9" pos:end="37:13">codec</name><operator pos:start="37:14" pos:end="37:15">-&gt;</operator><name pos:start="37:16" pos:end="37:24">extradata</name></name> <operator pos:start="37:26" pos:end="37:26">=</operator> <call pos:start="37:28" pos:end="37:93"><name pos:start="37:28" pos:end="37:37">av_mallocz</name><argument_list pos:start="37:38" pos:end="37:93">(<argument pos:start="37:39" pos:end="37:92"><expr pos:start="37:39" pos:end="37:92"><name pos:start="37:39" pos:end="37:63"><name pos:start="37:39" pos:end="37:40">st</name><operator pos:start="37:41" pos:end="37:42">-&gt;</operator><name pos:start="37:43" pos:end="37:47">codec</name><operator pos:start="37:48" pos:end="37:49">-&gt;</operator><name pos:start="37:50" pos:end="37:63">extradata_size</name></name><operator pos:start="37:64" pos:end="37:64">+</operator><name pos:start="37:65" pos:end="37:92">FF_INPUT_BUFFER_PADDING_SIZE</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <expr_stmt pos:start="38:5" pos:end="38:39"><expr pos:start="38:5" pos:end="38:38"><call pos:start="38:5" pos:end="38:38"><name pos:start="38:5" pos:end="38:13">url_fseek</name><argument_list pos:start="38:14" pos:end="38:38">(<argument pos:start="38:15" pos:end="38:20"><expr pos:start="38:15" pos:end="38:20"><operator pos:start="38:15" pos:end="38:15">&amp;</operator><name pos:start="38:16" pos:end="38:20"><name pos:start="38:16" pos:end="38:16">s</name><operator pos:start="38:17" pos:end="38:18">-&gt;</operator><name pos:start="38:19" pos:end="38:20">pb</name></name></expr></argument>, <argument pos:start="38:23" pos:end="38:27"><expr pos:start="38:23" pos:end="38:27"><name pos:start="38:23" pos:end="38:27">start</name></expr></argument>, <argument pos:start="38:30" pos:end="38:37"><expr pos:start="38:30" pos:end="38:37"><name pos:start="38:30" pos:end="38:37">SEEK_SET</name></expr></argument>)</argument_list></call></expr>;</expr_stmt> <comment type="line" pos:start="38:41" pos:end="38:69">// or SEEK_CUR and -size ? :)</comment>
    <expr_stmt pos:start="39:5" pos:end="39:72"><expr pos:start="39:5" pos:end="39:71"><call pos:start="39:5" pos:end="39:71"><name pos:start="39:5" pos:end="39:14">get_buffer</name><argument_list pos:start="39:15" pos:end="39:71">(<argument pos:start="39:16" pos:end="39:21"><expr pos:start="39:16" pos:end="39:21"><operator pos:start="39:16" pos:end="39:16">&amp;</operator><name pos:start="39:17" pos:end="39:21"><name pos:start="39:17" pos:end="39:17">s</name><operator pos:start="39:18" pos:end="39:19">-&gt;</operator><name pos:start="39:20" pos:end="39:21">pb</name></name></expr></argument>, <argument pos:start="39:24" pos:end="39:43"><expr pos:start="39:24" pos:end="39:43"><name pos:start="39:24" pos:end="39:43"><name pos:start="39:24" pos:end="39:25">st</name><operator pos:start="39:26" pos:end="39:27">-&gt;</operator><name pos:start="39:28" pos:end="39:32">codec</name><operator pos:start="39:33" pos:end="39:34">-&gt;</operator><name pos:start="39:35" pos:end="39:43">extradata</name></name></expr></argument>, <argument pos:start="39:46" pos:end="39:70"><expr pos:start="39:46" pos:end="39:70"><name pos:start="39:46" pos:end="39:70"><name pos:start="39:46" pos:end="39:47">st</name><operator pos:start="39:48" pos:end="39:49">-&gt;</operator><name pos:start="39:50" pos:end="39:54">codec</name><operator pos:start="39:55" pos:end="39:56">-&gt;</operator><name pos:start="39:57" pos:end="39:70">extradata_size</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <return pos:start="40:5" pos:end="40:13">return <expr pos:start="40:12" pos:end="40:12"><literal type="number" pos:start="40:12" pos:end="40:12">0</literal></expr>;</return></block_content></block></if></if_stmt></block_content></block></function></unit>
