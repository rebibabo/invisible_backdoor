<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:cpp="http://www.srcML.org/srcML/cpp" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/22010.c" pos:tabs="8"><function pos:start="1:1" pos:end="22:57"><type pos:start="1:1" pos:end="1:4"><name pos:start="1:1" pos:end="1:4">void</name></type> <name pos:start="1:6" pos:end="1:20">ide_sector_read</name><parameter_list pos:start="1:21" pos:end="1:33">(<parameter pos:start="1:22" pos:end="1:32"><decl pos:start="1:22" pos:end="1:32"><type pos:start="1:22" pos:end="1:31"><name pos:start="1:22" pos:end="1:29">IDEState</name> <modifier pos:start="1:31" pos:end="1:31">*</modifier></type><name pos:start="1:32" pos:end="1:32">s</name></decl></parameter>)</parameter_list>
<block pos:start="2:1" pos:end="22:57">{<block_content pos:start="3:5" pos:end="22:57">
    <decl_stmt pos:start="3:5" pos:end="3:23"><decl pos:start="3:5" pos:end="3:22"><type pos:start="3:5" pos:end="3:11"><name pos:start="3:5" pos:end="3:11">int64_t</name></type> <name pos:start="3:13" pos:end="3:22">sector_num</name></decl>;</decl_stmt>
    <decl_stmt pos:start="4:5" pos:end="4:10"><decl pos:start="4:5" pos:end="4:9"><type pos:start="4:5" pos:end="4:7"><name pos:start="4:5" pos:end="4:7">int</name></type> <name pos:start="4:9" pos:end="4:9">n</name></decl>;</decl_stmt>
    <expr_stmt pos:start="5:5" pos:end="5:39"><expr pos:start="5:5" pos:end="5:38"><name pos:start="5:5" pos:end="5:13"><name pos:start="5:5" pos:end="5:5">s</name><operator pos:start="5:6" pos:end="5:7">-&gt;</operator><name pos:start="5:8" pos:end="5:13">status</name></name> <operator pos:start="5:15" pos:end="5:15">=</operator> <name pos:start="5:17" pos:end="5:26">READY_STAT</name> <operator pos:start="5:28" pos:end="5:28">|</operator> <name pos:start="5:30" pos:end="5:38">SEEK_STAT</name></expr>;</expr_stmt>
    <expr_stmt pos:start="6:5" pos:end="6:17"><expr pos:start="6:5" pos:end="6:16"><name pos:start="6:5" pos:end="6:12"><name pos:start="6:5" pos:end="6:5">s</name><operator pos:start="6:6" pos:end="6:7">-&gt;</operator><name pos:start="6:8" pos:end="6:12">error</name></name> <operator pos:start="6:14" pos:end="6:14">=</operator> <literal type="number" pos:start="6:16" pos:end="6:16">0</literal></expr>;</expr_stmt> <comment type="block" pos:start="6:19" pos:end="6:69">/* not needed by IDE spec, but needed by Windows */</comment>
    <expr_stmt pos:start="7:5" pos:end="7:35"><expr pos:start="7:5" pos:end="7:34"><name pos:start="7:5" pos:end="7:14">sector_num</name> <operator pos:start="7:16" pos:end="7:16">=</operator> <call pos:start="7:18" pos:end="7:34"><name pos:start="7:18" pos:end="7:31">ide_get_sector</name><argument_list pos:start="7:32" pos:end="7:34">(<argument pos:start="7:33" pos:end="7:33"><expr pos:start="7:33" pos:end="7:33"><name pos:start="7:33" pos:end="7:33">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <expr_stmt pos:start="8:5" pos:end="8:19"><expr pos:start="8:5" pos:end="8:18"><name pos:start="8:5" pos:end="8:5">n</name> <operator pos:start="8:7" pos:end="8:7">=</operator> <name pos:start="8:9" pos:end="8:18"><name pos:start="8:9" pos:end="8:9">s</name><operator pos:start="8:10" pos:end="8:11">-&gt;</operator><name pos:start="8:12" pos:end="8:18">nsector</name></name></expr>;</expr_stmt>
    <if_stmt pos:start="9:5" pos:end="22:57"><if pos:start="9:5" pos:end="22:57">if <condition pos:start="9:8" pos:end="9:15">(<expr pos:start="9:9" pos:end="9:14"><name pos:start="9:9" pos:end="9:9">n</name> <operator pos:start="9:11" pos:end="9:12">==</operator> <literal type="number" pos:start="9:14" pos:end="9:14">0</literal></expr>)</condition> <block pos:start="9:17" pos:end="22:57">{<block_content pos:start="10:9" pos:end="22:57">
        <expr_stmt pos:start="10:9" pos:end="10:29"><expr pos:start="10:9" pos:end="10:28"><call pos:start="10:9" pos:end="10:28"><name pos:start="10:9" pos:end="10:25">ide_transfer_stop</name><argument_list pos:start="10:26" pos:end="10:28">(<argument pos:start="10:27" pos:end="10:27"><expr pos:start="10:27" pos:end="10:27"><name pos:start="10:27" pos:end="10:27">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <expr_stmt pos:start="11:5" pos:end="11:27"><expr pos:start="11:5" pos:end="11:26"><name pos:start="11:5" pos:end="11:13"><name pos:start="11:5" pos:end="11:5">s</name><operator pos:start="11:6" pos:end="11:7">-&gt;</operator><name pos:start="11:8" pos:end="11:13">status</name></name> <operator pos:start="11:15" pos:end="11:16">|=</operator> <name pos:start="11:18" pos:end="11:26">BUSY_STAT</name></expr>;</expr_stmt>
    <if_stmt pos:start="12:5" pos:end="22:57"><if pos:start="12:5" pos:end="22:57">if <condition pos:start="12:8" pos:end="12:30">(<expr pos:start="12:9" pos:end="12:29"><name pos:start="12:9" pos:end="12:9">n</name> <operator pos:start="12:11" pos:end="12:11">&gt;</operator> <name pos:start="12:13" pos:end="12:29"><name pos:start="12:13" pos:end="12:13">s</name><operator pos:start="12:14" pos:end="12:15">-&gt;</operator><name pos:start="12:16" pos:end="12:29">req_nb_sectors</name></name></expr>)</condition> <block pos:start="12:32" pos:end="22:57">{<block_content pos:start="13:9" pos:end="22:57">
        <expr_stmt pos:start="13:9" pos:end="15:0"><expr pos:start="13:9" pos:end="13:29"><name pos:start="13:9" pos:end="13:9">n</name> <operator pos:start="13:11" pos:end="13:11">=</operator> <name pos:start="13:13" pos:end="13:29"><name pos:start="13:13" pos:end="13:13">s</name><operator pos:start="13:14" pos:end="13:15">-&gt;</operator><name pos:start="13:16" pos:end="13:29">req_nb_sectors</name></name></expr>;</expr_stmt>
<cpp:if pos:start="14:1" pos:end="14:22">#<cpp:directive pos:start="14:2" pos:end="14:3">if</cpp:directive> <expr pos:start="14:5" pos:end="14:22"><call pos:start="14:5" pos:end="14:22"><name pos:start="14:5" pos:end="14:11">defined</name><argument_list pos:start="14:12" pos:end="14:22">(<argument pos:start="14:13" pos:end="14:21"><expr pos:start="14:13" pos:end="14:21"><name pos:start="14:13" pos:end="14:21">DEBUG_IDE</name></expr></argument>)</argument_list></call></expr></cpp:if>
    <expr_stmt pos:start="15:5" pos:end="17:0"><expr pos:start="15:5" pos:end="15:46"><call pos:start="15:5" pos:end="15:46"><name pos:start="15:5" pos:end="15:10">printf</name><argument_list pos:start="15:11" pos:end="15:46">(<argument pos:start="15:12" pos:end="15:33"><expr pos:start="15:12" pos:end="15:33"><literal type="string" pos:start="15:12" pos:end="15:21">"sector=%"</literal> <name pos:start="15:23" pos:end="15:28">PRId64</name> <literal type="string" pos:start="15:30" pos:end="15:33">"\n"</literal></expr></argument>, <argument pos:start="15:36" pos:end="15:45"><expr pos:start="15:36" pos:end="15:45"><name pos:start="15:36" pos:end="15:45">sector_num</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
<cpp:endif pos:start="16:1" pos:end="16:6">#<cpp:directive pos:start="16:2" pos:end="16:6">endif</cpp:directive></cpp:endif>
    <expr_stmt pos:start="17:5" pos:end="17:35"><expr pos:start="17:5" pos:end="17:34"><name pos:start="17:5" pos:end="17:19"><name pos:start="17:5" pos:end="17:5">s</name><operator pos:start="17:6" pos:end="17:7">-&gt;</operator><name pos:start="17:8" pos:end="17:10">iov</name><operator pos:start="17:11" pos:end="17:11">.</operator><name pos:start="17:12" pos:end="17:19">iov_base</name></name> <operator pos:start="17:21" pos:end="17:21">=</operator> <name pos:start="17:23" pos:end="17:34"><name pos:start="17:23" pos:end="17:23">s</name><operator pos:start="17:24" pos:end="17:25">-&gt;</operator><name pos:start="17:26" pos:end="17:34">io_buffer</name></name></expr>;</expr_stmt>
    <expr_stmt pos:start="18:5" pos:end="18:43"><expr pos:start="18:5" pos:end="18:42"><name pos:start="18:5" pos:end="18:18"><name pos:start="18:5" pos:end="18:5">s</name><operator pos:start="18:6" pos:end="18:7">-&gt;</operator><name pos:start="18:8" pos:end="18:10">iov</name><operator pos:start="18:11" pos:end="18:11">.</operator><name pos:start="18:12" pos:end="18:18">iov_len</name></name>  <operator pos:start="18:21" pos:end="18:21">=</operator> <name pos:start="18:23" pos:end="18:23">n</name> <operator pos:start="18:25" pos:end="18:25">*</operator> <name pos:start="18:27" pos:end="18:42">BDRV_SECTOR_SIZE</name></expr>;</expr_stmt>
    <expr_stmt pos:start="19:5" pos:end="19:51"><expr pos:start="19:5" pos:end="19:50"><call pos:start="19:5" pos:end="19:50"><name pos:start="19:5" pos:end="19:28">qemu_iovec_init_external</name><argument_list pos:start="19:29" pos:end="19:50">(<argument pos:start="19:30" pos:end="19:37"><expr pos:start="19:30" pos:end="19:37"><operator pos:start="19:30" pos:end="19:30">&amp;</operator><name pos:start="19:31" pos:end="19:37"><name pos:start="19:31" pos:end="19:31">s</name><operator pos:start="19:32" pos:end="19:33">-&gt;</operator><name pos:start="19:34" pos:end="19:37">qiov</name></name></expr></argument>, <argument pos:start="19:40" pos:end="19:46"><expr pos:start="19:40" pos:end="19:46"><operator pos:start="19:40" pos:end="19:40">&amp;</operator><name pos:start="19:41" pos:end="19:46"><name pos:start="19:41" pos:end="19:41">s</name><operator pos:start="19:42" pos:end="19:43">-&gt;</operator><name pos:start="19:44" pos:end="19:46">iov</name></name></expr></argument>, <argument pos:start="19:49" pos:end="19:49"><expr pos:start="19:49" pos:end="19:49"><literal type="number" pos:start="19:49" pos:end="19:49">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <expr_stmt pos:start="20:5" pos:end="20:75"><expr pos:start="20:5" pos:end="20:74"><call pos:start="20:5" pos:end="20:74"><name pos:start="20:5" pos:end="20:19">bdrv_acct_start</name><argument_list pos:start="20:20" pos:end="20:74">(<argument pos:start="20:21" pos:end="20:25"><expr pos:start="20:21" pos:end="20:25"><name pos:start="20:21" pos:end="20:25"><name pos:start="20:21" pos:end="20:21">s</name><operator pos:start="20:22" pos:end="20:23">-&gt;</operator><name pos:start="20:24" pos:end="20:25">bs</name></name></expr></argument>, <argument pos:start="20:28" pos:end="20:35"><expr pos:start="20:28" pos:end="20:35"><operator pos:start="20:28" pos:end="20:28">&amp;</operator><name pos:start="20:29" pos:end="20:35"><name pos:start="20:29" pos:end="20:29">s</name><operator pos:start="20:30" pos:end="20:31">-&gt;</operator><name pos:start="20:32" pos:end="20:35">acct</name></name></expr></argument>, <argument pos:start="20:38" pos:end="20:57"><expr pos:start="20:38" pos:end="20:57"><name pos:start="20:38" pos:end="20:38">n</name> <operator pos:start="20:40" pos:end="20:40">*</operator> <name pos:start="20:42" pos:end="20:57">BDRV_SECTOR_SIZE</name></expr></argument>, <argument pos:start="20:60" pos:end="20:73"><expr pos:start="20:60" pos:end="20:73"><name pos:start="20:60" pos:end="20:73">BDRV_ACCT_READ</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <expr_stmt pos:start="21:5" pos:end="22:57"><expr pos:start="21:5" pos:end="22:56"><name pos:start="21:5" pos:end="21:16"><name pos:start="21:5" pos:end="21:5">s</name><operator pos:start="21:6" pos:end="21:7">-&gt;</operator><name pos:start="21:8" pos:end="21:16">pio_aiocb</name></name> <operator pos:start="21:18" pos:end="21:18">=</operator> <call pos:start="21:20" pos:end="22:56"><name pos:start="21:20" pos:end="21:33">bdrv_aio_readv</name><argument_list pos:start="21:34" pos:end="22:56">(<argument pos:start="21:35" pos:end="21:39"><expr pos:start="21:35" pos:end="21:39"><name pos:start="21:35" pos:end="21:39"><name pos:start="21:35" pos:end="21:35">s</name><operator pos:start="21:36" pos:end="21:37">-&gt;</operator><name pos:start="21:38" pos:end="21:39">bs</name></name></expr></argument>, <argument pos:start="21:42" pos:end="21:51"><expr pos:start="21:42" pos:end="21:51"><name pos:start="21:42" pos:end="21:51">sector_num</name></expr></argument>, <argument pos:start="21:54" pos:end="21:61"><expr pos:start="21:54" pos:end="21:61"><operator pos:start="21:54" pos:end="21:54">&amp;</operator><name pos:start="21:55" pos:end="21:61"><name pos:start="21:55" pos:end="21:55">s</name><operator pos:start="21:56" pos:end="21:57">-&gt;</operator><name pos:start="21:58" pos:end="21:61">qiov</name></name></expr></argument>, <argument pos:start="21:64" pos:end="21:64"><expr pos:start="21:64" pos:end="21:64"><name pos:start="21:64" pos:end="21:64">n</name></expr></argument>,
                                  <argument pos:start="22:35" pos:end="22:52"><expr pos:start="22:35" pos:end="22:52"><name pos:start="22:35" pos:end="22:52">ide_sector_read_cb</name></expr></argument>, <argument pos:start="22:55" pos:end="22:55"><expr pos:start="22:55" pos:end="22:55"><name pos:start="22:55" pos:end="22:55">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt></block_content></block></if></if_stmt></block_content></block></function></unit>
