<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:cpp="http://www.srcML.org/srcML/cpp" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/10008.c" pos:tabs="8"><function pos:start="1:1" pos:end="77:1"><type pos:start="1:1" pos:end="1:4"><name pos:start="1:1" pos:end="1:4">void</name></type> <name pos:start="1:6" pos:end="1:14">tlb_flush</name><parameter_list pos:start="1:15" pos:end="1:47">(<parameter pos:start="1:16" pos:end="1:28"><decl pos:start="1:16" pos:end="1:28"><type pos:start="1:16" pos:end="1:28"><name pos:start="1:16" pos:end="1:23">CPUState</name> <modifier pos:start="1:25" pos:end="1:25">*</modifier></type><name pos:start="1:26" pos:end="1:28">env</name></decl></parameter>, <parameter pos:start="1:31" pos:end="1:46"><decl pos:start="1:31" pos:end="1:46"><type pos:start="1:31" pos:end="1:46"><name pos:start="1:31" pos:end="1:33">int</name></type> <name pos:start="1:35" pos:end="1:46">flush_global</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="77:1">{<block_content pos:start="5:5" pos:end="75:22">

    <decl_stmt pos:start="5:5" pos:end="10:0"><decl pos:start="5:5" pos:end="5:9"><type pos:start="5:5" pos:end="5:7"><name pos:start="5:5" pos:end="5:7">int</name></type> <name pos:start="5:9" pos:end="5:9">i</name></decl>;</decl_stmt>



<cpp:if pos:start="9:1" pos:end="9:22">#<cpp:directive pos:start="9:2" pos:end="9:3">if</cpp:directive> <expr pos:start="9:5" pos:end="9:22"><call pos:start="9:5" pos:end="9:22"><name pos:start="9:5" pos:end="9:11">defined</name><argument_list pos:start="9:12" pos:end="9:22">(<argument pos:start="9:13" pos:end="9:21"><expr pos:start="9:13" pos:end="9:21"><name pos:start="9:13" pos:end="9:21">DEBUG_TLB</name></expr></argument>)</argument_list></call></expr></cpp:if>

    <expr_stmt pos:start="11:5" pos:end="14:0"><expr pos:start="11:5" pos:end="11:26"><call pos:start="11:5" pos:end="11:26"><name pos:start="11:5" pos:end="11:10">printf</name><argument_list pos:start="11:11" pos:end="11:26">(<argument pos:start="11:12" pos:end="11:25"><expr pos:start="11:12" pos:end="11:25"><literal type="string" pos:start="11:12" pos:end="11:25">"tlb_flush:\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

<cpp:endif pos:start="13:1" pos:end="13:6">#<cpp:directive pos:start="13:2" pos:end="13:6">endif</cpp:directive></cpp:endif>

    <comment type="block" pos:start="15:5" pos:end="17:43">/* must reset current TB so that interrupts cannot modify the

       links while we are modifying them */</comment>

    <expr_stmt pos:start="19:5" pos:end="19:27"><expr pos:start="19:5" pos:end="19:26"><name pos:start="19:5" pos:end="19:19"><name pos:start="19:5" pos:end="19:7">env</name><operator pos:start="19:8" pos:end="19:9">-&gt;</operator><name pos:start="19:10" pos:end="19:19">current_tb</name></name> <operator pos:start="19:21" pos:end="19:21">=</operator> <name pos:start="19:23" pos:end="19:26">NULL</name></expr>;</expr_stmt>



    <for pos:start="23:5" pos:end="57:5">for<control pos:start="23:8" pos:end="23:37">(<init pos:start="23:9" pos:end="23:14"><expr pos:start="23:9" pos:end="23:13"><name pos:start="23:9" pos:end="23:9">i</name> <operator pos:start="23:11" pos:end="23:11">=</operator> <literal type="number" pos:start="23:13" pos:end="23:13">0</literal></expr>;</init> <condition pos:start="23:16" pos:end="23:32"><expr pos:start="23:16" pos:end="23:31"><name pos:start="23:16" pos:end="23:16">i</name> <operator pos:start="23:18" pos:end="23:18">&lt;</operator> <name pos:start="23:20" pos:end="23:31">CPU_TLB_SIZE</name></expr>;</condition> <incr pos:start="23:34" pos:end="23:36"><expr pos:start="23:34" pos:end="23:36"><name pos:start="23:34" pos:end="23:34">i</name><operator pos:start="23:35" pos:end="23:36">++</operator></expr></incr>)</control> <block pos:start="23:39" pos:end="57:5">{<block_content pos:start="25:9" pos:end="56:0">

        <expr_stmt pos:start="25:9" pos:end="25:44"><expr pos:start="25:9" pos:end="25:43"><name pos:start="25:9" pos:end="25:28"><name pos:start="25:9" pos:end="25:11">env</name><operator pos:start="25:12" pos:end="25:13">-&gt;</operator><name pos:start="25:14" pos:end="25:22">tlb_table</name><index pos:start="25:23" pos:end="25:25">[<expr pos:start="25:24" pos:end="25:24"><literal type="number" pos:start="25:24" pos:end="25:24">0</literal></expr>]</index><index pos:start="25:26" pos:end="25:28">[<expr pos:start="25:27" pos:end="25:27"><name pos:start="25:27" pos:end="25:27">i</name></expr>]</index></name><operator pos:start="25:29" pos:end="25:29">.</operator><name pos:start="25:30" pos:end="25:38">addr_read</name> <operator pos:start="25:40" pos:end="25:40">=</operator> <operator pos:start="25:42" pos:end="25:42">-</operator><literal type="number" pos:start="25:43" pos:end="25:43">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="27:9" pos:end="27:45"><expr pos:start="27:9" pos:end="27:44"><name pos:start="27:9" pos:end="27:28"><name pos:start="27:9" pos:end="27:11">env</name><operator pos:start="27:12" pos:end="27:13">-&gt;</operator><name pos:start="27:14" pos:end="27:22">tlb_table</name><index pos:start="27:23" pos:end="27:25">[<expr pos:start="27:24" pos:end="27:24"><literal type="number" pos:start="27:24" pos:end="27:24">0</literal></expr>]</index><index pos:start="27:26" pos:end="27:28">[<expr pos:start="27:27" pos:end="27:27"><name pos:start="27:27" pos:end="27:27">i</name></expr>]</index></name><operator pos:start="27:29" pos:end="27:29">.</operator><name pos:start="27:30" pos:end="27:39">addr_write</name> <operator pos:start="27:41" pos:end="27:41">=</operator> <operator pos:start="27:43" pos:end="27:43">-</operator><literal type="number" pos:start="27:44" pos:end="27:44">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="29:9" pos:end="29:44"><expr pos:start="29:9" pos:end="29:43"><name pos:start="29:9" pos:end="29:28"><name pos:start="29:9" pos:end="29:11">env</name><operator pos:start="29:12" pos:end="29:13">-&gt;</operator><name pos:start="29:14" pos:end="29:22">tlb_table</name><index pos:start="29:23" pos:end="29:25">[<expr pos:start="29:24" pos:end="29:24"><literal type="number" pos:start="29:24" pos:end="29:24">0</literal></expr>]</index><index pos:start="29:26" pos:end="29:28">[<expr pos:start="29:27" pos:end="29:27"><name pos:start="29:27" pos:end="29:27">i</name></expr>]</index></name><operator pos:start="29:29" pos:end="29:29">.</operator><name pos:start="29:30" pos:end="29:38">addr_code</name> <operator pos:start="29:40" pos:end="29:40">=</operator> <operator pos:start="29:42" pos:end="29:42">-</operator><literal type="number" pos:start="29:43" pos:end="29:43">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="31:9" pos:end="31:44"><expr pos:start="31:9" pos:end="31:43"><name pos:start="31:9" pos:end="31:28"><name pos:start="31:9" pos:end="31:11">env</name><operator pos:start="31:12" pos:end="31:13">-&gt;</operator><name pos:start="31:14" pos:end="31:22">tlb_table</name><index pos:start="31:23" pos:end="31:25">[<expr pos:start="31:24" pos:end="31:24"><literal type="number" pos:start="31:24" pos:end="31:24">1</literal></expr>]</index><index pos:start="31:26" pos:end="31:28">[<expr pos:start="31:27" pos:end="31:27"><name pos:start="31:27" pos:end="31:27">i</name></expr>]</index></name><operator pos:start="31:29" pos:end="31:29">.</operator><name pos:start="31:30" pos:end="31:38">addr_read</name> <operator pos:start="31:40" pos:end="31:40">=</operator> <operator pos:start="31:42" pos:end="31:42">-</operator><literal type="number" pos:start="31:43" pos:end="31:43">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="33:9" pos:end="33:45"><expr pos:start="33:9" pos:end="33:44"><name pos:start="33:9" pos:end="33:28"><name pos:start="33:9" pos:end="33:11">env</name><operator pos:start="33:12" pos:end="33:13">-&gt;</operator><name pos:start="33:14" pos:end="33:22">tlb_table</name><index pos:start="33:23" pos:end="33:25">[<expr pos:start="33:24" pos:end="33:24"><literal type="number" pos:start="33:24" pos:end="33:24">1</literal></expr>]</index><index pos:start="33:26" pos:end="33:28">[<expr pos:start="33:27" pos:end="33:27"><name pos:start="33:27" pos:end="33:27">i</name></expr>]</index></name><operator pos:start="33:29" pos:end="33:29">.</operator><name pos:start="33:30" pos:end="33:39">addr_write</name> <operator pos:start="33:41" pos:end="33:41">=</operator> <operator pos:start="33:43" pos:end="33:43">-</operator><literal type="number" pos:start="33:44" pos:end="33:44">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="35:9" pos:end="38:0"><expr pos:start="35:9" pos:end="35:43"><name pos:start="35:9" pos:end="35:28"><name pos:start="35:9" pos:end="35:11">env</name><operator pos:start="35:12" pos:end="35:13">-&gt;</operator><name pos:start="35:14" pos:end="35:22">tlb_table</name><index pos:start="35:23" pos:end="35:25">[<expr pos:start="35:24" pos:end="35:24"><literal type="number" pos:start="35:24" pos:end="35:24">1</literal></expr>]</index><index pos:start="35:26" pos:end="35:28">[<expr pos:start="35:27" pos:end="35:27"><name pos:start="35:27" pos:end="35:27">i</name></expr>]</index></name><operator pos:start="35:29" pos:end="35:29">.</operator><name pos:start="35:30" pos:end="35:38">addr_code</name> <operator pos:start="35:40" pos:end="35:40">=</operator> <operator pos:start="35:42" pos:end="35:42">-</operator><literal type="number" pos:start="35:43" pos:end="35:43">1</literal></expr>;</expr_stmt>

<cpp:if pos:start="37:1" pos:end="37:23">#<cpp:directive pos:start="37:2" pos:end="37:3">if</cpp:directive> <expr pos:start="37:5" pos:end="37:23"><operator pos:start="37:5" pos:end="37:5">(</operator><name pos:start="37:6" pos:end="37:17">NB_MMU_MODES</name> <operator pos:start="37:19" pos:end="37:20">&gt;=</operator> <literal type="number" pos:start="37:22" pos:end="37:22">3</literal><operator pos:start="37:23" pos:end="37:23">)</operator></expr></cpp:if>

        <expr_stmt pos:start="39:9" pos:end="39:44"><expr pos:start="39:9" pos:end="39:43"><name pos:start="39:9" pos:end="39:28"><name pos:start="39:9" pos:end="39:11">env</name><operator pos:start="39:12" pos:end="39:13">-&gt;</operator><name pos:start="39:14" pos:end="39:22">tlb_table</name><index pos:start="39:23" pos:end="39:25">[<expr pos:start="39:24" pos:end="39:24"><literal type="number" pos:start="39:24" pos:end="39:24">2</literal></expr>]</index><index pos:start="39:26" pos:end="39:28">[<expr pos:start="39:27" pos:end="39:27"><name pos:start="39:27" pos:end="39:27">i</name></expr>]</index></name><operator pos:start="39:29" pos:end="39:29">.</operator><name pos:start="39:30" pos:end="39:38">addr_read</name> <operator pos:start="39:40" pos:end="39:40">=</operator> <operator pos:start="39:42" pos:end="39:42">-</operator><literal type="number" pos:start="39:43" pos:end="39:43">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="41:9" pos:end="41:45"><expr pos:start="41:9" pos:end="41:44"><name pos:start="41:9" pos:end="41:28"><name pos:start="41:9" pos:end="41:11">env</name><operator pos:start="41:12" pos:end="41:13">-&gt;</operator><name pos:start="41:14" pos:end="41:22">tlb_table</name><index pos:start="41:23" pos:end="41:25">[<expr pos:start="41:24" pos:end="41:24"><literal type="number" pos:start="41:24" pos:end="41:24">2</literal></expr>]</index><index pos:start="41:26" pos:end="41:28">[<expr pos:start="41:27" pos:end="41:27"><name pos:start="41:27" pos:end="41:27">i</name></expr>]</index></name><operator pos:start="41:29" pos:end="41:29">.</operator><name pos:start="41:30" pos:end="41:39">addr_write</name> <operator pos:start="41:41" pos:end="41:41">=</operator> <operator pos:start="41:43" pos:end="41:43">-</operator><literal type="number" pos:start="41:44" pos:end="41:44">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="43:9" pos:end="46:0"><expr pos:start="43:9" pos:end="43:43"><name pos:start="43:9" pos:end="43:28"><name pos:start="43:9" pos:end="43:11">env</name><operator pos:start="43:12" pos:end="43:13">-&gt;</operator><name pos:start="43:14" pos:end="43:22">tlb_table</name><index pos:start="43:23" pos:end="43:25">[<expr pos:start="43:24" pos:end="43:24"><literal type="number" pos:start="43:24" pos:end="43:24">2</literal></expr>]</index><index pos:start="43:26" pos:end="43:28">[<expr pos:start="43:27" pos:end="43:27"><name pos:start="43:27" pos:end="43:27">i</name></expr>]</index></name><operator pos:start="43:29" pos:end="43:29">.</operator><name pos:start="43:30" pos:end="43:38">addr_code</name> <operator pos:start="43:40" pos:end="43:40">=</operator> <operator pos:start="43:42" pos:end="43:42">-</operator><literal type="number" pos:start="43:43" pos:end="43:43">1</literal></expr>;</expr_stmt>

<cpp:if pos:start="45:1" pos:end="45:23">#<cpp:directive pos:start="45:2" pos:end="45:3">if</cpp:directive> <expr pos:start="45:5" pos:end="45:23"><operator pos:start="45:5" pos:end="45:5">(</operator><name pos:start="45:6" pos:end="45:17">NB_MMU_MODES</name> <operator pos:start="45:19" pos:end="45:20">==</operator> <literal type="number" pos:start="45:22" pos:end="45:22">4</literal><operator pos:start="45:23" pos:end="45:23">)</operator></expr></cpp:if>

        <expr_stmt pos:start="47:9" pos:end="47:44"><expr pos:start="47:9" pos:end="47:43"><name pos:start="47:9" pos:end="47:28"><name pos:start="47:9" pos:end="47:11">env</name><operator pos:start="47:12" pos:end="47:13">-&gt;</operator><name pos:start="47:14" pos:end="47:22">tlb_table</name><index pos:start="47:23" pos:end="47:25">[<expr pos:start="47:24" pos:end="47:24"><literal type="number" pos:start="47:24" pos:end="47:24">3</literal></expr>]</index><index pos:start="47:26" pos:end="47:28">[<expr pos:start="47:27" pos:end="47:27"><name pos:start="47:27" pos:end="47:27">i</name></expr>]</index></name><operator pos:start="47:29" pos:end="47:29">.</operator><name pos:start="47:30" pos:end="47:38">addr_read</name> <operator pos:start="47:40" pos:end="47:40">=</operator> <operator pos:start="47:42" pos:end="47:42">-</operator><literal type="number" pos:start="47:43" pos:end="47:43">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="49:9" pos:end="49:45"><expr pos:start="49:9" pos:end="49:44"><name pos:start="49:9" pos:end="49:28"><name pos:start="49:9" pos:end="49:11">env</name><operator pos:start="49:12" pos:end="49:13">-&gt;</operator><name pos:start="49:14" pos:end="49:22">tlb_table</name><index pos:start="49:23" pos:end="49:25">[<expr pos:start="49:24" pos:end="49:24"><literal type="number" pos:start="49:24" pos:end="49:24">3</literal></expr>]</index><index pos:start="49:26" pos:end="49:28">[<expr pos:start="49:27" pos:end="49:27"><name pos:start="49:27" pos:end="49:27">i</name></expr>]</index></name><operator pos:start="49:29" pos:end="49:29">.</operator><name pos:start="49:30" pos:end="49:39">addr_write</name> <operator pos:start="49:41" pos:end="49:41">=</operator> <operator pos:start="49:43" pos:end="49:43">-</operator><literal type="number" pos:start="49:44" pos:end="49:44">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="51:9" pos:end="56:0"><expr pos:start="51:9" pos:end="51:43"><name pos:start="51:9" pos:end="51:28"><name pos:start="51:9" pos:end="51:11">env</name><operator pos:start="51:12" pos:end="51:13">-&gt;</operator><name pos:start="51:14" pos:end="51:22">tlb_table</name><index pos:start="51:23" pos:end="51:25">[<expr pos:start="51:24" pos:end="51:24"><literal type="number" pos:start="51:24" pos:end="51:24">3</literal></expr>]</index><index pos:start="51:26" pos:end="51:28">[<expr pos:start="51:27" pos:end="51:27"><name pos:start="51:27" pos:end="51:27">i</name></expr>]</index></name><operator pos:start="51:29" pos:end="51:29">.</operator><name pos:start="51:30" pos:end="51:38">addr_code</name> <operator pos:start="51:40" pos:end="51:40">=</operator> <operator pos:start="51:42" pos:end="51:42">-</operator><literal type="number" pos:start="51:43" pos:end="51:43">1</literal></expr>;</expr_stmt>

<cpp:endif pos:start="53:1" pos:end="53:6">#<cpp:directive pos:start="53:2" pos:end="53:6">endif</cpp:directive></cpp:endif>

<cpp:endif pos:start="55:1" pos:end="55:6">#<cpp:directive pos:start="55:2" pos:end="55:6">endif</cpp:directive></cpp:endif>

    </block_content>}</block></for>



    <expr_stmt pos:start="61:5" pos:end="66:0"><expr pos:start="61:5" pos:end="61:70"><call pos:start="61:5" pos:end="61:70"><name pos:start="61:5" pos:end="61:10">memset</name> <argument_list pos:start="61:12" pos:end="61:70">(<argument pos:start="61:13" pos:end="61:29"><expr pos:start="61:13" pos:end="61:29"><name pos:start="61:13" pos:end="61:29"><name pos:start="61:13" pos:end="61:15">env</name><operator pos:start="61:16" pos:end="61:17">-&gt;</operator><name pos:start="61:18" pos:end="61:29">tb_jmp_cache</name></name></expr></argument>, <argument pos:start="61:32" pos:end="61:32"><expr pos:start="61:32" pos:end="61:32"><literal type="number" pos:start="61:32" pos:end="61:32">0</literal></expr></argument>, <argument pos:start="61:35" pos:end="61:69"><expr pos:start="61:35" pos:end="61:69"><name pos:start="61:35" pos:end="61:51">TB_JMP_CACHE_SIZE</name> <operator pos:start="61:53" pos:end="61:53">*</operator> <sizeof pos:start="61:55" pos:end="61:69">sizeof <argument_list pos:start="61:62" pos:end="61:69">(<argument pos:start="61:63" pos:end="61:68"><expr pos:start="61:63" pos:end="61:68"><name pos:start="61:63" pos:end="61:66">void</name> <operator pos:start="61:68" pos:end="61:68">*</operator></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>



<cpp:ifdef pos:start="65:1" pos:end="65:16">#<cpp:directive pos:start="65:2" pos:end="65:6">ifdef</cpp:directive> <name pos:start="65:8" pos:end="65:16">USE_KQEMU</name></cpp:ifdef>

    <if_stmt pos:start="67:5" pos:end="74:0"><if pos:start="67:5" pos:end="74:0">if <condition pos:start="67:8" pos:end="67:27">(<expr pos:start="67:9" pos:end="67:26"><name pos:start="67:9" pos:end="67:26"><name pos:start="67:9" pos:end="67:11">env</name><operator pos:start="67:12" pos:end="67:13">-&gt;</operator><name pos:start="67:14" pos:end="67:26">kqemu_enabled</name></name></expr>)</condition> <block pos:start="67:29" pos:end="74:0">{<block_content pos:start="69:9" pos:end="69:39">

        <expr_stmt pos:start="69:9" pos:end="69:39"><expr pos:start="69:9" pos:end="69:38"><call pos:start="69:9" pos:end="69:38"><name pos:start="69:9" pos:end="69:19">kqemu_flush</name><argument_list pos:start="69:20" pos:end="69:38">(<argument pos:start="69:21" pos:end="69:23"><expr pos:start="69:21" pos:end="69:23"><name pos:start="69:21" pos:end="69:23">env</name></expr></argument>, <argument pos:start="69:26" pos:end="69:37"><expr pos:start="69:26" pos:end="69:37"><name pos:start="69:26" pos:end="69:37">flush_global</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

<cpp:endif pos:start="73:1" pos:end="73:6">#<cpp:directive pos:start="73:2" pos:end="73:6">endif</cpp:directive></cpp:endif>

    <expr_stmt pos:start="75:5" pos:end="75:22"><expr pos:start="75:5" pos:end="75:21"><name pos:start="75:5" pos:end="75:19">tlb_flush_count</name><operator pos:start="75:20" pos:end="75:21">++</operator></expr>;</expr_stmt>

</block_content>}</block></function>
</unit>
