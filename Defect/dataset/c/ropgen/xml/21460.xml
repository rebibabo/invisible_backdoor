<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/21460.c" pos:tabs="8"><function pos:start="1:1" pos:end="207:1"><type pos:start="1:1" pos:end="1:10"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:10">int</name></type> <name pos:start="1:12" pos:end="1:26">mxf_parse_index</name><parameter_list pos:start="1:27" pos:end="1:71">(<parameter pos:start="1:28" pos:end="1:42"><decl pos:start="1:28" pos:end="1:42"><type pos:start="1:28" pos:end="1:42"><name pos:start="1:28" pos:end="1:37">MXFContext</name> <modifier pos:start="1:39" pos:end="1:39">*</modifier></type><name pos:start="1:40" pos:end="1:42">mxf</name></decl></parameter>, <parameter pos:start="1:45" pos:end="1:56"><decl pos:start="1:45" pos:end="1:56"><type pos:start="1:45" pos:end="1:56"><name pos:start="1:45" pos:end="1:47">int</name></type> <name pos:start="1:49" pos:end="1:56">track_id</name></decl></parameter>, <parameter pos:start="1:59" pos:end="1:70"><decl pos:start="1:59" pos:end="1:70"><type pos:start="1:59" pos:end="1:70"><name pos:start="1:59" pos:end="1:66">AVStream</name> <modifier pos:start="1:68" pos:end="1:68">*</modifier></type><name pos:start="1:69" pos:end="1:70">st</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="207:1">{<block_content pos:start="5:5" pos:end="205:13">

    <decl_stmt pos:start="5:5" pos:end="5:35"><decl pos:start="5:5" pos:end="5:34"><type pos:start="5:5" pos:end="5:11"><name pos:start="5:5" pos:end="5:11">int64_t</name></type> <name pos:start="5:13" pos:end="5:30">accumulated_offset</name> <init pos:start="5:32" pos:end="5:34">= <expr pos:start="5:34" pos:end="5:34"><literal type="number" pos:start="5:34" pos:end="5:34">0</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:38"><decl pos:start="7:5" pos:end="7:9"><type pos:start="7:5" pos:end="7:7"><name pos:start="7:5" pos:end="7:7">int</name></type> <name pos:start="7:9" pos:end="7:9">j</name></decl>, <decl pos:start="7:12" pos:end="7:12"><type ref="prev" pos:start="7:5" pos:end="7:7"/><name pos:start="7:12" pos:end="7:12">k</name></decl>, <decl pos:start="7:15" pos:end="7:17"><type ref="prev" pos:start="7:5" pos:end="7:7"/><name pos:start="7:15" pos:end="7:17">ret</name></decl>, <decl pos:start="7:20" pos:end="7:37"><type ref="prev" pos:start="7:5" pos:end="7:7"/><name pos:start="7:20" pos:end="7:37">nb_sorted_segments</name></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:43"><decl pos:start="9:5" pos:end="9:42"><type pos:start="9:5" pos:end="9:27"><name pos:start="9:5" pos:end="9:24">MXFIndexTableSegment</name> <modifier pos:start="9:26" pos:end="9:26">*</modifier><modifier pos:start="9:27" pos:end="9:27">*</modifier></type><name pos:start="9:28" pos:end="9:42">sorted_segments</name></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:31"><decl pos:start="11:5" pos:end="11:30"><type pos:start="11:5" pos:end="11:7"><name pos:start="11:5" pos:end="11:7">int</name></type> <name pos:start="11:9" pos:end="11:15">n_delta</name> <init pos:start="11:17" pos:end="11:30">= <expr pos:start="11:19" pos:end="11:30"><name pos:start="11:19" pos:end="11:26">track_id</name> <operator pos:start="11:28" pos:end="11:28">-</operator> <literal type="number" pos:start="11:30" pos:end="11:30">1</literal></expr></init></decl>;</decl_stmt>  <comment type="block" pos:start="11:34" pos:end="11:69">/* TrackID = 1-based stream index */</comment>



    <if_stmt pos:start="15:5" pos:end="21:5"><if pos:start="15:5" pos:end="21:5">if <condition pos:start="15:8" pos:end="15:21">(<expr pos:start="15:9" pos:end="15:20"><name pos:start="15:9" pos:end="15:16">track_id</name> <operator pos:start="15:18" pos:end="15:18">&lt;</operator> <literal type="number" pos:start="15:20" pos:end="15:20">1</literal></expr>)</condition> <block pos:start="15:23" pos:end="21:5">{<block_content pos:start="17:9" pos:end="19:35">

        <expr_stmt pos:start="17:9" pos:end="17:78"><expr pos:start="17:9" pos:end="17:77"><call pos:start="17:9" pos:end="17:77"><name pos:start="17:9" pos:end="17:14">av_log</name><argument_list pos:start="17:15" pos:end="17:77">(<argument pos:start="17:16" pos:end="17:22"><expr pos:start="17:16" pos:end="17:22"><name pos:start="17:16" pos:end="17:22"><name pos:start="17:16" pos:end="17:18">mxf</name><operator pos:start="17:19" pos:end="17:20">-&gt;</operator><name pos:start="17:21" pos:end="17:22">fc</name></name></expr></argument>, <argument pos:start="17:25" pos:end="17:36"><expr pos:start="17:25" pos:end="17:36"><name pos:start="17:25" pos:end="17:36">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="17:39" pos:end="17:66"><expr pos:start="17:39" pos:end="17:66"><literal type="string" pos:start="17:39" pos:end="17:66">"TrackID not positive: %i\n"</literal></expr></argument>, <argument pos:start="17:69" pos:end="17:76"><expr pos:start="17:69" pos:end="17:76"><name pos:start="17:69" pos:end="17:76">track_id</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <return pos:start="19:9" pos:end="19:35">return <expr pos:start="19:16" pos:end="19:34"><name pos:start="19:16" pos:end="19:34">AVERROR_INVALIDDATA</name></expr>;</return>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="25:5" pos:end="27:19"><if pos:start="25:5" pos:end="27:19">if <condition pos:start="25:8" pos:end="25:90">(<expr pos:start="25:9" pos:end="25:89"><operator pos:start="25:9" pos:end="25:9">(</operator><name pos:start="25:10" pos:end="25:12">ret</name> <operator pos:start="25:14" pos:end="25:14">=</operator> <call pos:start="25:16" pos:end="25:88"><name pos:start="25:16" pos:end="25:44">mxf_get_sorted_table_segments</name><argument_list pos:start="25:45" pos:end="25:88">(<argument pos:start="25:46" pos:end="25:48"><expr pos:start="25:46" pos:end="25:48"><name pos:start="25:46" pos:end="25:48">mxf</name></expr></argument>, <argument pos:start="25:51" pos:end="25:69"><expr pos:start="25:51" pos:end="25:69"><operator pos:start="25:51" pos:end="25:51">&amp;</operator><name pos:start="25:52" pos:end="25:69">nb_sorted_segments</name></expr></argument>, <argument pos:start="25:72" pos:end="25:87"><expr pos:start="25:72" pos:end="25:87"><operator pos:start="25:72" pos:end="25:72">&amp;</operator><name pos:start="25:73" pos:end="25:87">sorted_segments</name></expr></argument>)</argument_list></call><operator pos:start="25:89" pos:end="25:89">)</operator></expr>)</condition><block type="pseudo" pos:start="27:9" pos:end="27:19"><block_content pos:start="27:9" pos:end="27:19">

        <return pos:start="27:9" pos:end="27:19">return <expr pos:start="27:16" pos:end="27:18"><name pos:start="27:16" pos:end="27:18">ret</name></expr>;</return></block_content></block></if></if_stmt>



    <for pos:start="31:5" pos:end="197:5">for <control pos:start="31:9" pos:end="31:44">(<init pos:start="31:10" pos:end="31:15"><expr pos:start="31:10" pos:end="31:14"><name pos:start="31:10" pos:end="31:10">j</name> <operator pos:start="31:12" pos:end="31:12">=</operator> <literal type="number" pos:start="31:14" pos:end="31:14">0</literal></expr>;</init> <condition pos:start="31:17" pos:end="31:39"><expr pos:start="31:17" pos:end="31:38"><name pos:start="31:17" pos:end="31:17">j</name> <operator pos:start="31:19" pos:end="31:19">&lt;</operator> <name pos:start="31:21" pos:end="31:38">nb_sorted_segments</name></expr>;</condition> <incr pos:start="31:41" pos:end="31:43"><expr pos:start="31:41" pos:end="31:43"><name pos:start="31:41" pos:end="31:41">j</name><operator pos:start="31:42" pos:end="31:43">++</operator></expr></incr>)</control> <block pos:start="31:46" pos:end="197:5">{<block_content pos:start="33:9" pos:end="195:43">

        <decl_stmt pos:start="33:9" pos:end="33:64"><decl pos:start="33:9" pos:end="33:20"><type pos:start="33:9" pos:end="33:11"><name pos:start="33:9" pos:end="33:11">int</name></type> <name pos:start="33:13" pos:end="33:20">duration</name></decl>, <decl pos:start="33:23" pos:end="33:41"><type ref="prev" pos:start="33:9" pos:end="33:11"/><name pos:start="33:23" pos:end="33:37">sample_duration</name> <init pos:start="33:39" pos:end="33:41">= <expr pos:start="33:41" pos:end="33:41"><literal type="number" pos:start="33:41" pos:end="33:41">1</literal></expr></init></decl>, <decl pos:start="33:44" pos:end="33:63"><type ref="prev" pos:start="33:9" pos:end="33:11"/><name pos:start="33:44" pos:end="33:59">last_sample_size</name> <init pos:start="33:61" pos:end="33:63">= <expr pos:start="33:63" pos:end="33:63"><literal type="number" pos:start="33:63" pos:end="33:63">0</literal></expr></init></decl>;</decl_stmt>

        <decl_stmt pos:start="35:9" pos:end="35:29"><decl pos:start="35:9" pos:end="35:28"><type pos:start="35:9" pos:end="35:15"><name pos:start="35:9" pos:end="35:15">int64_t</name></type> <name pos:start="35:17" pos:end="35:28">segment_size</name></decl>;</decl_stmt>

        <decl_stmt pos:start="37:9" pos:end="37:60"><decl pos:start="37:9" pos:end="37:59"><type pos:start="37:9" pos:end="37:30"><name pos:start="37:9" pos:end="37:28">MXFIndexTableSegment</name> <modifier pos:start="37:30" pos:end="37:30">*</modifier></type><name pos:start="37:31" pos:end="37:38">tableseg</name> <init pos:start="37:40" pos:end="37:59">= <expr pos:start="37:42" pos:end="37:59"><name pos:start="37:42" pos:end="37:59"><name pos:start="37:42" pos:end="37:56">sorted_segments</name><index pos:start="37:57" pos:end="37:59">[<expr pos:start="37:58" pos:end="37:58"><name pos:start="37:58" pos:end="37:58">j</name></expr>]</index></name></expr></init></decl>;</decl_stmt>



        <comment type="block" pos:start="41:9" pos:end="41:56">/* reset accumulated_offset on BodySID change */</comment>

        <if_stmt pos:start="43:9" pos:end="45:35"><if pos:start="43:9" pos:end="45:35">if <condition pos:start="43:12" pos:end="43:74">(<expr pos:start="43:13" pos:end="43:73"><name pos:start="43:13" pos:end="43:13">j</name> <operator pos:start="43:15" pos:end="43:15">&gt;</operator> <literal type="number" pos:start="43:17" pos:end="43:17">0</literal> <operator pos:start="43:19" pos:end="43:20">&amp;&amp;</operator> <name pos:start="43:22" pos:end="43:39"><name pos:start="43:22" pos:end="43:29">tableseg</name><operator pos:start="43:30" pos:end="43:31">-&gt;</operator><name pos:start="43:32" pos:end="43:39">body_sid</name></name> <operator pos:start="43:41" pos:end="43:42">!=</operator> <name pos:start="43:44" pos:end="43:63"><name pos:start="43:44" pos:end="43:58">sorted_segments</name><index pos:start="43:59" pos:end="43:63">[<expr pos:start="43:60" pos:end="43:62"><name pos:start="43:60" pos:end="43:60">j</name><operator pos:start="43:61" pos:end="43:61">-</operator><literal type="number" pos:start="43:62" pos:end="43:62">1</literal></expr>]</index></name><operator pos:start="43:64" pos:end="43:65">-&gt;</operator><name pos:start="43:66" pos:end="43:73">body_sid</name></expr>)</condition><block type="pseudo" pos:start="45:13" pos:end="45:35"><block_content pos:start="45:13" pos:end="45:35">

            <expr_stmt pos:start="45:13" pos:end="45:35"><expr pos:start="45:13" pos:end="45:34"><name pos:start="45:13" pos:end="45:30">accumulated_offset</name> <operator pos:start="45:32" pos:end="45:32">=</operator> <literal type="number" pos:start="45:34" pos:end="45:34">0</literal></expr>;</expr_stmt></block_content></block></if></if_stmt>



        <if_stmt pos:start="49:9" pos:end="51:21"><if pos:start="49:9" pos:end="51:21">if <condition pos:start="49:12" pos:end="49:68">(<expr pos:start="49:13" pos:end="49:67"><name pos:start="49:13" pos:end="49:19">n_delta</name> <operator pos:start="49:21" pos:end="49:22">&gt;=</operator> <name pos:start="49:24" pos:end="49:49"><name pos:start="49:24" pos:end="49:31">tableseg</name><operator pos:start="49:32" pos:end="49:33">-&gt;</operator><name pos:start="49:34" pos:end="49:49">nb_delta_entries</name></name> <operator pos:start="49:51" pos:end="49:52">&amp;&amp;</operator> <name pos:start="49:54" pos:end="49:62"><name pos:start="49:54" pos:end="49:55">st</name><operator pos:start="49:56" pos:end="49:57">-&gt;</operator><name pos:start="49:58" pos:end="49:62">index</name></name> <operator pos:start="49:64" pos:end="49:65">!=</operator> <literal type="number" pos:start="49:67" pos:end="49:67">0</literal></expr>)</condition><block type="pseudo" pos:start="51:13" pos:end="51:21"><block_content pos:start="51:13" pos:end="51:21">

            <continue pos:start="51:13" pos:end="51:21">continue;</continue></block_content></block></if></if_stmt>

        <expr_stmt pos:start="53:9" pos:end="55:48"><expr pos:start="53:9" pos:end="55:47"><name pos:start="53:9" pos:end="53:16">duration</name> <operator pos:start="53:18" pos:end="53:18">=</operator> <ternary pos:start="53:20" pos:end="55:47"><condition pos:start="53:20" pos:end="53:49"><expr pos:start="53:20" pos:end="53:47"><name pos:start="53:20" pos:end="53:43"><name pos:start="53:20" pos:end="53:27">tableseg</name><operator pos:start="53:28" pos:end="53:29">-&gt;</operator><name pos:start="53:30" pos:end="53:43">index_duration</name></name> <operator pos:start="53:45" pos:end="53:45">&gt;</operator> <literal type="number" pos:start="53:47" pos:end="53:47">0</literal></expr> ?</condition><then pos:start="53:51" pos:end="53:74"> <expr pos:start="53:51" pos:end="53:74"><name pos:start="53:51" pos:end="53:74"><name pos:start="53:51" pos:end="53:58">tableseg</name><operator pos:start="53:59" pos:end="53:60">-&gt;</operator><name pos:start="53:61" pos:end="53:74">index_duration</name></name></expr> </then><else pos:start="53:76" pos:end="55:47">:

            <expr pos:start="55:13" pos:end="55:47"><name pos:start="55:13" pos:end="55:24"><name pos:start="55:13" pos:end="55:14">st</name><operator pos:start="55:15" pos:end="55:16">-&gt;</operator><name pos:start="55:17" pos:end="55:24">duration</name></name> <operator pos:start="55:26" pos:end="55:26">-</operator> <name pos:start="55:28" pos:end="55:47"><name pos:start="55:28" pos:end="55:29">st</name><operator pos:start="55:30" pos:end="55:31">-&gt;</operator><name pos:start="55:32" pos:end="55:47">nb_index_entries</name></name></expr></else></ternary></expr>;</expr_stmt>

        <expr_stmt pos:start="57:9" pos:end="57:65"><expr pos:start="57:9" pos:end="57:64"><name pos:start="57:9" pos:end="57:20">segment_size</name> <operator pos:start="57:22" pos:end="57:22">=</operator> <name pos:start="57:24" pos:end="57:53"><name pos:start="57:24" pos:end="57:31">tableseg</name><operator pos:start="57:32" pos:end="57:33">-&gt;</operator><name pos:start="57:34" pos:end="57:53">edit_unit_byte_count</name></name> <operator pos:start="57:55" pos:end="57:55">*</operator> <name pos:start="57:57" pos:end="57:64">duration</name></expr>;</expr_stmt>

        <comment type="block" pos:start="59:9" pos:end="59:53">/* check small EditUnitByteCount for audio */</comment>

        <if_stmt pos:start="61:9" pos:end="79:9"><if pos:start="61:9" pos:end="79:9">if <condition pos:start="61:12" pos:end="63:41">(<expr pos:start="61:13" pos:end="63:40"><name pos:start="61:13" pos:end="61:42"><name pos:start="61:13" pos:end="61:20">tableseg</name><operator pos:start="61:21" pos:end="61:22">-&gt;</operator><name pos:start="61:23" pos:end="61:42">edit_unit_byte_count</name></name> <operator pos:start="61:44" pos:end="61:45">&amp;&amp;</operator> <name pos:start="61:47" pos:end="61:76"><name pos:start="61:47" pos:end="61:54">tableseg</name><operator pos:start="61:55" pos:end="61:56">-&gt;</operator><name pos:start="61:57" pos:end="61:76">edit_unit_byte_count</name></name> <operator pos:start="61:78" pos:end="61:78">&lt;</operator> <literal type="number" pos:start="61:80" pos:end="61:81">32</literal>

            <operator pos:start="63:13" pos:end="63:14">&amp;&amp;</operator> <operator pos:start="63:16" pos:end="63:16">!</operator><name pos:start="63:17" pos:end="63:40"><name pos:start="63:17" pos:end="63:24">tableseg</name><operator pos:start="63:25" pos:end="63:26">-&gt;</operator><name pos:start="63:27" pos:end="63:40">index_duration</name></name></expr>)</condition> <block pos:start="63:43" pos:end="79:9">{<block_content pos:start="69:13" pos:end="77:45">

            <comment type="block" pos:start="65:13" pos:end="67:74">/* duration might be prime relative to the new sample_duration,

             * which means we need to handle the last frame differently */</comment>

            <expr_stmt pos:start="69:13" pos:end="69:35"><expr pos:start="69:13" pos:end="69:34"><name pos:start="69:13" pos:end="69:27">sample_duration</name> <operator pos:start="69:29" pos:end="69:29">=</operator> <literal type="number" pos:start="69:31" pos:end="69:34">8192</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="71:13" pos:end="71:93"><expr pos:start="71:13" pos:end="71:92"><name pos:start="71:13" pos:end="71:28">last_sample_size</name> <operator pos:start="71:30" pos:end="71:30">=</operator> <operator pos:start="71:32" pos:end="71:32">(</operator><name pos:start="71:33" pos:end="71:40">duration</name> <operator pos:start="71:42" pos:end="71:42">%</operator> <name pos:start="71:44" pos:end="71:58">sample_duration</name><operator pos:start="71:59" pos:end="71:59">)</operator> <operator pos:start="71:61" pos:end="71:61">*</operator> <name pos:start="71:63" pos:end="71:92"><name pos:start="71:63" pos:end="71:70">tableseg</name><operator pos:start="71:71" pos:end="71:72">-&gt;</operator><name pos:start="71:73" pos:end="71:92">edit_unit_byte_count</name></name></expr>;</expr_stmt>

            <expr_stmt pos:start="73:13" pos:end="73:62"><expr pos:start="73:13" pos:end="73:61"><name pos:start="73:13" pos:end="73:42"><name pos:start="73:13" pos:end="73:20">tableseg</name><operator pos:start="73:21" pos:end="73:22">-&gt;</operator><name pos:start="73:23" pos:end="73:42">edit_unit_byte_count</name></name> <operator pos:start="73:44" pos:end="73:45">*=</operator> <name pos:start="73:47" pos:end="73:61">sample_duration</name></expr>;</expr_stmt>

            <expr_stmt pos:start="75:13" pos:end="75:40"><expr pos:start="75:13" pos:end="75:39"><name pos:start="75:13" pos:end="75:20">duration</name> <operator pos:start="75:22" pos:end="75:23">/=</operator> <name pos:start="75:25" pos:end="75:39">sample_duration</name></expr>;</expr_stmt>

            <if_stmt pos:start="77:13" pos:end="77:45"><if pos:start="77:13" pos:end="77:45">if <condition pos:start="77:16" pos:end="77:33">(<expr pos:start="77:17" pos:end="77:32"><name pos:start="77:17" pos:end="77:32">last_sample_size</name></expr>)</condition><block type="pseudo" pos:start="77:35" pos:end="77:45"><block_content pos:start="77:35" pos:end="77:45"> <expr_stmt pos:start="77:35" pos:end="77:45"><expr pos:start="77:35" pos:end="77:44"><name pos:start="77:35" pos:end="77:42">duration</name><operator pos:start="77:43" pos:end="77:44">++</operator></expr>;</expr_stmt></block_content></block></if></if_stmt>

        </block_content>}</block></if></if_stmt>



        <for pos:start="83:9" pos:end="193:9">for <control pos:start="83:13" pos:end="83:38">(<init pos:start="83:14" pos:end="83:19"><expr pos:start="83:14" pos:end="83:18"><name pos:start="83:14" pos:end="83:14">k</name> <operator pos:start="83:16" pos:end="83:16">=</operator> <literal type="number" pos:start="83:18" pos:end="83:18">0</literal></expr>;</init> <condition pos:start="83:21" pos:end="83:33"><expr pos:start="83:21" pos:end="83:32"><name pos:start="83:21" pos:end="83:21">k</name> <operator pos:start="83:23" pos:end="83:23">&lt;</operator> <name pos:start="83:25" pos:end="83:32">duration</name></expr>;</condition> <incr pos:start="83:35" pos:end="83:37"><expr pos:start="83:35" pos:end="83:37"><name pos:start="83:35" pos:end="83:35">k</name><operator pos:start="83:36" pos:end="83:37">++</operator></expr></incr>)</control> <block pos:start="83:40" pos:end="193:9">{<block_content pos:start="85:13" pos:end="191:27">

            <decl_stmt pos:start="85:13" pos:end="85:24"><decl pos:start="85:13" pos:end="85:23"><type pos:start="85:13" pos:end="85:19"><name pos:start="85:13" pos:end="85:19">int64_t</name></type> <name pos:start="85:21" pos:end="85:23">pos</name></decl>;</decl_stmt>

            <decl_stmt pos:start="87:13" pos:end="87:32"><decl pos:start="87:13" pos:end="87:20"><type pos:start="87:13" pos:end="87:15"><name pos:start="87:13" pos:end="87:15">int</name></type> <name pos:start="87:17" pos:end="87:20">size</name></decl>, <decl pos:start="87:23" pos:end="87:31"><type ref="prev" pos:start="87:13" pos:end="87:15"/><name pos:start="87:23" pos:end="87:27">flags</name> <init pos:start="87:29" pos:end="87:31">= <expr pos:start="87:31" pos:end="87:31"><literal type="number" pos:start="87:31" pos:end="87:31">0</literal></expr></init></decl>;</decl_stmt>



            <if_stmt pos:start="91:13" pos:end="169:13"><if pos:start="91:13" pos:end="137:13">if <condition pos:start="91:16" pos:end="91:47">(<expr pos:start="91:17" pos:end="91:46"><name pos:start="91:17" pos:end="91:17">k</name> <operator pos:start="91:19" pos:end="91:19">&lt;</operator> <name pos:start="91:21" pos:end="91:46"><name pos:start="91:21" pos:end="91:28">tableseg</name><operator pos:start="91:29" pos:end="91:30">-&gt;</operator><name pos:start="91:31" pos:end="91:46">nb_index_entries</name></name></expr>)</condition> <block pos:start="91:49" pos:end="137:13">{<block_content pos:start="93:17" pos:end="135:83">

                <expr_stmt pos:start="93:17" pos:end="93:57"><expr pos:start="93:17" pos:end="93:56"><name pos:start="93:17" pos:end="93:19">pos</name> <operator pos:start="93:21" pos:end="93:21">=</operator> <name pos:start="93:23" pos:end="93:56"><name pos:start="93:23" pos:end="93:30">tableseg</name><operator pos:start="93:31" pos:end="93:32">-&gt;</operator><name pos:start="93:33" pos:end="93:53">stream_offset_entries</name><index pos:start="93:54" pos:end="93:56">[<expr pos:start="93:55" pos:end="93:55"><name pos:start="93:55" pos:end="93:55">k</name></expr>]</index></name></expr>;</expr_stmt>

                <if_stmt pos:start="95:17" pos:end="133:29"><if pos:start="95:17" pos:end="131:17">if <condition pos:start="95:20" pos:end="95:57">(<expr pos:start="95:21" pos:end="95:56"><name pos:start="95:21" pos:end="95:27">n_delta</name> <operator pos:start="95:29" pos:end="95:29">&lt;</operator> <name pos:start="95:31" pos:end="95:56"><name pos:start="95:31" pos:end="95:38">tableseg</name><operator pos:start="95:39" pos:end="95:40">-&gt;</operator><name pos:start="95:41" pos:end="95:56">nb_delta_entries</name></name></expr>)</condition> <block pos:start="95:59" pos:end="131:17">{<block_content pos:start="97:21" pos:end="129:60">

                    <if_stmt pos:start="97:21" pos:end="123:33"><if pos:start="97:21" pos:end="111:21">if <condition pos:start="97:24" pos:end="97:65">(<expr pos:start="97:25" pos:end="97:64"><name pos:start="97:25" pos:end="97:31">n_delta</name> <operator pos:start="97:33" pos:end="97:33">&lt;</operator> <name pos:start="97:35" pos:end="97:60"><name pos:start="97:35" pos:end="97:42">tableseg</name><operator pos:start="97:43" pos:end="97:44">-&gt;</operator><name pos:start="97:45" pos:end="97:60">nb_delta_entries</name></name> <operator pos:start="97:62" pos:end="97:62">-</operator> <literal type="number" pos:start="97:64" pos:end="97:64">1</literal></expr>)</condition> <block pos:start="97:67" pos:end="111:21">{<block_content pos:start="99:25" pos:end="109:98">

                        <expr_stmt pos:start="99:25" pos:end="105:61"><expr pos:start="99:25" pos:end="105:60"><name pos:start="99:25" pos:end="99:28">size</name> <operator pos:start="99:30" pos:end="99:30">=</operator>

                            <name pos:start="101:29" pos:end="101:91"><name pos:start="101:29" pos:end="101:36">tableseg</name><operator pos:start="101:37" pos:end="101:38">-&gt;</operator><name pos:start="101:39" pos:end="101:58">slice_offset_entries</name><index pos:start="101:59" pos:end="101:61">[<expr pos:start="101:60" pos:end="101:60"><name pos:start="101:60" pos:end="101:60">k</name></expr>]</index><index pos:start="101:62" pos:end="101:91">[<expr pos:start="101:63" pos:end="101:90"><name pos:start="101:63" pos:end="101:88"><name pos:start="101:63" pos:end="101:70">tableseg</name><operator pos:start="101:71" pos:end="101:72">-&gt;</operator><name pos:start="101:73" pos:end="101:77">slice</name><index pos:start="101:78" pos:end="101:88">[<expr pos:start="101:79" pos:end="101:87"><name pos:start="101:79" pos:end="101:85">n_delta</name><operator pos:start="101:86" pos:end="101:86">+</operator><literal type="number" pos:start="101:87" pos:end="101:87">1</literal></expr>]</index></name><operator pos:start="101:89" pos:end="101:89">-</operator><literal type="number" pos:start="101:90" pos:end="101:90">1</literal></expr>]</index></name> <operator pos:start="101:93" pos:end="101:93">+</operator>

                            <name pos:start="103:29" pos:end="103:62"><name pos:start="103:29" pos:end="103:36">tableseg</name><operator pos:start="103:37" pos:end="103:38">-&gt;</operator><name pos:start="103:39" pos:end="103:51">element_delta</name><index pos:start="103:52" pos:end="103:62">[<expr pos:start="103:53" pos:end="103:61"><name pos:start="103:53" pos:end="103:59">n_delta</name><operator pos:start="103:60" pos:end="103:60">+</operator><literal type="number" pos:start="103:61" pos:end="103:61">1</literal></expr>]</index></name> <operator pos:start="103:64" pos:end="103:64">-</operator>

                            <name pos:start="105:29" pos:end="105:60"><name pos:start="105:29" pos:end="105:36">tableseg</name><operator pos:start="105:37" pos:end="105:38">-&gt;</operator><name pos:start="105:39" pos:end="105:51">element_delta</name><index pos:start="105:52" pos:end="105:60">[<expr pos:start="105:53" pos:end="105:59"><name pos:start="105:53" pos:end="105:59">n_delta</name></expr>]</index></name></expr>;</expr_stmt>

                        <if_stmt pos:start="107:25" pos:end="109:98"><if pos:start="107:25" pos:end="109:98">if <condition pos:start="107:28" pos:end="107:57">(<expr pos:start="107:29" pos:end="107:56"><name pos:start="107:29" pos:end="107:52"><name pos:start="107:29" pos:end="107:36">tableseg</name><operator pos:start="107:37" pos:end="107:38">-&gt;</operator><name pos:start="107:39" pos:end="107:43">slice</name><index pos:start="107:44" pos:end="107:52">[<expr pos:start="107:45" pos:end="107:51"><name pos:start="107:45" pos:end="107:51">n_delta</name></expr>]</index></name> <operator pos:start="107:54" pos:end="107:54">&gt;</operator> <literal type="number" pos:start="107:56" pos:end="107:56">0</literal></expr>)</condition><block type="pseudo" pos:start="109:29" pos:end="109:98"><block_content pos:start="109:29" pos:end="109:98">

                            <expr_stmt pos:start="109:29" pos:end="109:98"><expr pos:start="109:29" pos:end="109:97"><name pos:start="109:29" pos:end="109:32">size</name> <operator pos:start="109:34" pos:end="109:35">-=</operator> <name pos:start="109:37" pos:end="109:97"><name pos:start="109:37" pos:end="109:44">tableseg</name><operator pos:start="109:45" pos:end="109:46">-&gt;</operator><name pos:start="109:47" pos:end="109:66">slice_offset_entries</name><index pos:start="109:67" pos:end="109:69">[<expr pos:start="109:68" pos:end="109:68"><name pos:start="109:68" pos:end="109:68">k</name></expr>]</index><index pos:start="109:70" pos:end="109:97">[<expr pos:start="109:71" pos:end="109:96"><name pos:start="109:71" pos:end="109:94"><name pos:start="109:71" pos:end="109:78">tableseg</name><operator pos:start="109:79" pos:end="109:80">-&gt;</operator><name pos:start="109:81" pos:end="109:85">slice</name><index pos:start="109:86" pos:end="109:94">[<expr pos:start="109:87" pos:end="109:93"><name pos:start="109:87" pos:end="109:93">n_delta</name></expr>]</index></name><operator pos:start="109:95" pos:end="109:95">-</operator><literal type="number" pos:start="109:96" pos:end="109:96">1</literal></expr>]</index></name></expr>;</expr_stmt></block_content></block></if></if_stmt>

                    </block_content>}</block></if> <if type="elseif" pos:start="111:23" pos:end="121:21">else if <condition pos:start="111:31" pos:end="111:48">(<expr pos:start="111:32" pos:end="111:47"><name pos:start="111:32" pos:end="111:32">k</name> <operator pos:start="111:34" pos:end="111:34">&lt;</operator> <name pos:start="111:36" pos:end="111:43">duration</name> <operator pos:start="111:45" pos:end="111:45">-</operator> <literal type="number" pos:start="111:47" pos:end="111:47">1</literal></expr>)</condition> <block pos:start="111:50" pos:end="121:21">{<block_content pos:start="113:25" pos:end="119:82">

                        <expr_stmt pos:start="113:25" pos:end="119:82"><expr pos:start="113:25" pos:end="119:81"><name pos:start="113:25" pos:end="113:28">size</name> <operator pos:start="113:30" pos:end="113:30">=</operator> <name pos:start="113:32" pos:end="113:67"><name pos:start="113:32" pos:end="113:39">tableseg</name><operator pos:start="113:40" pos:end="113:41">-&gt;</operator><name pos:start="113:42" pos:end="113:62">stream_offset_entries</name><index pos:start="113:63" pos:end="113:67">[<expr pos:start="113:64" pos:end="113:66"><name pos:start="113:64" pos:end="113:64">k</name><operator pos:start="113:65" pos:end="113:65">+</operator><literal type="number" pos:start="113:66" pos:end="113:66">1</literal></expr>]</index></name> <operator pos:start="113:69" pos:end="113:69">-</operator>

                            <name pos:start="115:29" pos:end="115:62"><name pos:start="115:29" pos:end="115:36">tableseg</name><operator pos:start="115:37" pos:end="115:38">-&gt;</operator><name pos:start="115:39" pos:end="115:59">stream_offset_entries</name><index pos:start="115:60" pos:end="115:62">[<expr pos:start="115:61" pos:end="115:61"><name pos:start="115:61" pos:end="115:61">k</name></expr>]</index></name> <operator pos:start="115:64" pos:end="115:64">-</operator>

                            <name pos:start="117:29" pos:end="117:110"><name pos:start="117:29" pos:end="117:36">tableseg</name><operator pos:start="117:37" pos:end="117:38">-&gt;</operator><name pos:start="117:39" pos:end="117:58">slice_offset_entries</name><index pos:start="117:59" pos:end="117:61">[<expr pos:start="117:60" pos:end="117:60"><name pos:start="117:60" pos:end="117:60">k</name></expr>]</index><index pos:start="117:62" pos:end="117:110">[<expr pos:start="117:63" pos:end="117:109"><name pos:start="117:63" pos:end="117:107"><name pos:start="117:63" pos:end="117:70">tableseg</name><operator pos:start="117:71" pos:end="117:72">-&gt;</operator><name pos:start="117:73" pos:end="117:77">slice</name><index pos:start="117:78" pos:end="117:107">[<expr pos:start="117:79" pos:end="117:106"><name pos:start="117:79" pos:end="117:104"><name pos:start="117:79" pos:end="117:86">tableseg</name><operator pos:start="117:87" pos:end="117:88">-&gt;</operator><name pos:start="117:89" pos:end="117:104">nb_delta_entries</name></name><operator pos:start="117:105" pos:end="117:105">-</operator><literal type="number" pos:start="117:106" pos:end="117:106">1</literal></expr>]</index></name><operator pos:start="117:108" pos:end="117:108">-</operator><literal type="number" pos:start="117:109" pos:end="117:109">1</literal></expr>]</index></name> <operator pos:start="117:112" pos:end="117:112">-</operator>

                            <name pos:start="119:29" pos:end="119:81"><name pos:start="119:29" pos:end="119:36">tableseg</name><operator pos:start="119:37" pos:end="119:38">-&gt;</operator><name pos:start="119:39" pos:end="119:51">element_delta</name><index pos:start="119:52" pos:end="119:81">[<expr pos:start="119:53" pos:end="119:80"><name pos:start="119:53" pos:end="119:78"><name pos:start="119:53" pos:end="119:60">tableseg</name><operator pos:start="119:61" pos:end="119:62">-&gt;</operator><name pos:start="119:63" pos:end="119:78">nb_delta_entries</name></name><operator pos:start="119:79" pos:end="119:79">-</operator><literal type="number" pos:start="119:80" pos:end="119:80">1</literal></expr>]</index></name></expr>;</expr_stmt>

                    </block_content>}</block></if> <else pos:start="121:23" pos:end="123:33">else<block type="pseudo" pos:start="123:25" pos:end="123:33"><block_content pos:start="123:25" pos:end="123:33">

                        <expr_stmt pos:start="123:25" pos:end="123:33"><expr pos:start="123:25" pos:end="123:32"><name pos:start="123:25" pos:end="123:28">size</name> <operator pos:start="123:30" pos:end="123:30">=</operator> <literal type="number" pos:start="123:32" pos:end="123:32">0</literal></expr>;</expr_stmt></block_content></block></else></if_stmt>

                    <if_stmt pos:start="125:21" pos:end="127:93"><if pos:start="125:21" pos:end="127:93">if <condition pos:start="125:24" pos:end="125:53">(<expr pos:start="125:25" pos:end="125:52"><name pos:start="125:25" pos:end="125:48"><name pos:start="125:25" pos:end="125:32">tableseg</name><operator pos:start="125:33" pos:end="125:34">-&gt;</operator><name pos:start="125:35" pos:end="125:39">slice</name><index pos:start="125:40" pos:end="125:48">[<expr pos:start="125:41" pos:end="125:47"><name pos:start="125:41" pos:end="125:47">n_delta</name></expr>]</index></name> <operator pos:start="125:50" pos:end="125:50">&gt;</operator> <literal type="number" pos:start="125:52" pos:end="125:52">0</literal></expr>)</condition><block type="pseudo" pos:start="127:25" pos:end="127:93"><block_content pos:start="127:25" pos:end="127:93">

                        <expr_stmt pos:start="127:25" pos:end="127:93"><expr pos:start="127:25" pos:end="127:92"><name pos:start="127:25" pos:end="127:27">pos</name> <operator pos:start="127:29" pos:end="127:30">+=</operator> <name pos:start="127:32" pos:end="127:92"><name pos:start="127:32" pos:end="127:39">tableseg</name><operator pos:start="127:40" pos:end="127:41">-&gt;</operator><name pos:start="127:42" pos:end="127:61">slice_offset_entries</name><index pos:start="127:62" pos:end="127:64">[<expr pos:start="127:63" pos:end="127:63"><name pos:start="127:63" pos:end="127:63">k</name></expr>]</index><index pos:start="127:65" pos:end="127:92">[<expr pos:start="127:66" pos:end="127:91"><name pos:start="127:66" pos:end="127:89"><name pos:start="127:66" pos:end="127:73">tableseg</name><operator pos:start="127:74" pos:end="127:75">-&gt;</operator><name pos:start="127:76" pos:end="127:80">slice</name><index pos:start="127:81" pos:end="127:89">[<expr pos:start="127:82" pos:end="127:88"><name pos:start="127:82" pos:end="127:88">n_delta</name></expr>]</index></name><operator pos:start="127:90" pos:end="127:90">-</operator><literal type="number" pos:start="127:91" pos:end="127:91">1</literal></expr>]</index></name></expr>;</expr_stmt></block_content></block></if></if_stmt>

                    <expr_stmt pos:start="129:21" pos:end="129:60"><expr pos:start="129:21" pos:end="129:59"><name pos:start="129:21" pos:end="129:23">pos</name> <operator pos:start="129:25" pos:end="129:26">+=</operator> <name pos:start="129:28" pos:end="129:59"><name pos:start="129:28" pos:end="129:35">tableseg</name><operator pos:start="129:36" pos:end="129:37">-&gt;</operator><name pos:start="129:38" pos:end="129:50">element_delta</name><index pos:start="129:51" pos:end="129:59">[<expr pos:start="129:52" pos:end="129:58"><name pos:start="129:52" pos:end="129:58">n_delta</name></expr>]</index></name></expr>;</expr_stmt>

                </block_content>}</block></if> <else pos:start="131:19" pos:end="133:29">else<block type="pseudo" pos:start="133:21" pos:end="133:29"><block_content pos:start="133:21" pos:end="133:29">

                    <expr_stmt pos:start="133:21" pos:end="133:29"><expr pos:start="133:21" pos:end="133:28"><name pos:start="133:21" pos:end="133:24">size</name> <operator pos:start="133:26" pos:end="133:26">=</operator> <literal type="number" pos:start="133:28" pos:end="133:28">0</literal></expr>;</expr_stmt></block_content></block></else></if_stmt>

                <expr_stmt pos:start="135:17" pos:end="135:83"><expr pos:start="135:17" pos:end="135:82"><name pos:start="135:17" pos:end="135:21">flags</name> <operator pos:start="135:23" pos:end="135:23">=</operator> <ternary pos:start="135:25" pos:end="135:82"><condition pos:start="135:25" pos:end="135:61"><expr pos:start="135:25" pos:end="135:59"><operator pos:start="135:25" pos:end="135:25">!</operator><operator pos:start="135:26" pos:end="135:26">(</operator><name pos:start="135:27" pos:end="135:51"><name pos:start="135:27" pos:end="135:34">tableseg</name><operator pos:start="135:35" pos:end="135:36">-&gt;</operator><name pos:start="135:37" pos:end="135:48">flag_entries</name><index pos:start="135:49" pos:end="135:51">[<expr pos:start="135:50" pos:end="135:50"><name pos:start="135:50" pos:end="135:50">k</name></expr>]</index></name> <operator pos:start="135:53" pos:end="135:53">&amp;</operator> <literal type="number" pos:start="135:55" pos:end="135:58">0x30</literal><operator pos:start="135:59" pos:end="135:59">)</operator></expr> ?</condition><then pos:start="135:63" pos:end="135:78"> <expr pos:start="135:63" pos:end="135:78"><name pos:start="135:63" pos:end="135:78">AVINDEX_KEYFRAME</name></expr> </then><else pos:start="135:80" pos:end="135:82">: <expr pos:start="135:82" pos:end="135:82"><literal type="number" pos:start="135:82" pos:end="135:82">0</literal></expr></else></ternary></expr>;</expr_stmt>

            </block_content>}</block></if> <else pos:start="137:15" pos:end="169:13">else <block pos:start="137:20" pos:end="169:13">{<block_content pos:start="139:17" pos:end="167:41">

                <expr_stmt pos:start="139:17" pos:end="139:87"><expr pos:start="139:17" pos:end="139:86"><name pos:start="139:17" pos:end="139:19">pos</name> <operator pos:start="139:21" pos:end="139:21">=</operator> <operator pos:start="139:23" pos:end="139:23">(</operator><name pos:start="139:24" pos:end="139:30">int64_t</name><operator pos:start="139:31" pos:end="139:31">)</operator><name pos:start="139:32" pos:end="139:32">k</name> <operator pos:start="139:34" pos:end="139:34">*</operator> <name pos:start="139:36" pos:end="139:65"><name pos:start="139:36" pos:end="139:43">tableseg</name><operator pos:start="139:44" pos:end="139:45">-&gt;</operator><name pos:start="139:46" pos:end="139:65">edit_unit_byte_count</name></name> <operator pos:start="139:67" pos:end="139:67">+</operator> <name pos:start="139:69" pos:end="139:86">accumulated_offset</name></expr>;</expr_stmt>

                <if_stmt pos:start="141:17" pos:end="161:17"><if pos:start="141:17" pos:end="143:97">if <condition pos:start="141:20" pos:end="141:61">(<expr pos:start="141:21" pos:end="141:60"><name pos:start="141:21" pos:end="141:27">n_delta</name> <operator pos:start="141:29" pos:end="141:29">&lt;</operator> <name pos:start="141:31" pos:end="141:56"><name pos:start="141:31" pos:end="141:38">tableseg</name><operator pos:start="141:39" pos:end="141:40">-&gt;</operator><name pos:start="141:41" pos:end="141:56">nb_delta_entries</name></name> <operator pos:start="141:58" pos:end="141:58">-</operator> <literal type="number" pos:start="141:60" pos:end="141:60">1</literal></expr>)</condition><block type="pseudo" pos:start="143:21" pos:end="143:97"><block_content pos:start="143:21" pos:end="143:97">

                    <expr_stmt pos:start="143:21" pos:end="143:97"><expr pos:start="143:21" pos:end="143:96"><name pos:start="143:21" pos:end="143:24">size</name> <operator pos:start="143:26" pos:end="143:26">=</operator> <name pos:start="143:28" pos:end="143:61"><name pos:start="143:28" pos:end="143:35">tableseg</name><operator pos:start="143:36" pos:end="143:37">-&gt;</operator><name pos:start="143:38" pos:end="143:50">element_delta</name><index pos:start="143:51" pos:end="143:61">[<expr pos:start="143:52" pos:end="143:60"><name pos:start="143:52" pos:end="143:58">n_delta</name><operator pos:start="143:59" pos:end="143:59">+</operator><literal type="number" pos:start="143:60" pos:end="143:60">1</literal></expr>]</index></name> <operator pos:start="143:63" pos:end="143:63">-</operator> <name pos:start="143:65" pos:end="143:96"><name pos:start="143:65" pos:end="143:72">tableseg</name><operator pos:start="143:73" pos:end="143:74">-&gt;</operator><name pos:start="143:75" pos:end="143:87">element_delta</name><index pos:start="143:88" pos:end="143:96">[<expr pos:start="143:89" pos:end="143:95"><name pos:start="143:89" pos:end="143:95">n_delta</name></expr>]</index></name></expr>;</expr_stmt></block_content></block></if>

                <else pos:start="145:17" pos:end="161:17">else <block pos:start="145:22" pos:end="161:17">{<block_content pos:start="149:21" pos:end="159:86">

                    <comment type="block" pos:start="147:21" pos:end="147:71">/* use smaller size for last sample if we should */</comment>

                    <if_stmt pos:start="149:21" pos:end="155:62"><if pos:start="149:21" pos:end="151:48">if <condition pos:start="149:24" pos:end="149:62">(<expr pos:start="149:25" pos:end="149:61"><name pos:start="149:25" pos:end="149:40">last_sample_size</name> <operator pos:start="149:42" pos:end="149:43">&amp;&amp;</operator> <name pos:start="149:45" pos:end="149:45">k</name> <operator pos:start="149:47" pos:end="149:48">==</operator> <name pos:start="149:50" pos:end="149:57">duration</name> <operator pos:start="149:59" pos:end="149:59">-</operator> <literal type="number" pos:start="149:61" pos:end="149:61">1</literal></expr>)</condition><block type="pseudo" pos:start="151:25" pos:end="151:48"><block_content pos:start="151:25" pos:end="151:48">

                        <expr_stmt pos:start="151:25" pos:end="151:48"><expr pos:start="151:25" pos:end="151:47"><name pos:start="151:25" pos:end="151:28">size</name> <operator pos:start="151:30" pos:end="151:30">=</operator> <name pos:start="151:32" pos:end="151:47">last_sample_size</name></expr>;</expr_stmt></block_content></block></if>

                    <else pos:start="153:21" pos:end="155:62">else<block type="pseudo" pos:start="155:25" pos:end="155:62"><block_content pos:start="155:25" pos:end="155:62">

                        <expr_stmt pos:start="155:25" pos:end="155:62"><expr pos:start="155:25" pos:end="155:61"><name pos:start="155:25" pos:end="155:28">size</name> <operator pos:start="155:30" pos:end="155:30">=</operator> <name pos:start="155:32" pos:end="155:61"><name pos:start="155:32" pos:end="155:39">tableseg</name><operator pos:start="155:40" pos:end="155:41">-&gt;</operator><name pos:start="155:42" pos:end="155:61">edit_unit_byte_count</name></name></expr>;</expr_stmt></block_content></block></else></if_stmt>

                    <if_stmt pos:start="157:21" pos:end="159:86"><if pos:start="157:21" pos:end="159:86">if <condition pos:start="157:24" pos:end="157:51">(<expr pos:start="157:25" pos:end="157:50"><name pos:start="157:25" pos:end="157:50"><name pos:start="157:25" pos:end="157:32">tableseg</name><operator pos:start="157:33" pos:end="157:34">-&gt;</operator><name pos:start="157:35" pos:end="157:50">nb_delta_entries</name></name></expr>)</condition><block type="pseudo" pos:start="159:25" pos:end="159:86"><block_content pos:start="159:25" pos:end="159:86">

                        <expr_stmt pos:start="159:25" pos:end="159:86"><expr pos:start="159:25" pos:end="159:85"><name pos:start="159:25" pos:end="159:28">size</name> <operator pos:start="159:30" pos:end="159:31">-=</operator> <name pos:start="159:33" pos:end="159:85"><name pos:start="159:33" pos:end="159:40">tableseg</name><operator pos:start="159:41" pos:end="159:42">-&gt;</operator><name pos:start="159:43" pos:end="159:55">element_delta</name><index pos:start="159:56" pos:end="159:85">[<expr pos:start="159:57" pos:end="159:84"><name pos:start="159:57" pos:end="159:82"><name pos:start="159:57" pos:end="159:64">tableseg</name><operator pos:start="159:65" pos:end="159:66">-&gt;</operator><name pos:start="159:67" pos:end="159:82">nb_delta_entries</name></name><operator pos:start="159:83" pos:end="159:83">-</operator><literal type="number" pos:start="159:84" pos:end="159:84">1</literal></expr>]</index></name></expr>;</expr_stmt></block_content></block></if></if_stmt>

                </block_content>}</block></else></if_stmt>

                <if_stmt pos:start="163:17" pos:end="165:60"><if pos:start="163:17" pos:end="165:60">if <condition pos:start="163:20" pos:end="163:57">(<expr pos:start="163:21" pos:end="163:56"><name pos:start="163:21" pos:end="163:27">n_delta</name> <operator pos:start="163:29" pos:end="163:29">&lt;</operator> <name pos:start="163:31" pos:end="163:56"><name pos:start="163:31" pos:end="163:38">tableseg</name><operator pos:start="163:39" pos:end="163:40">-&gt;</operator><name pos:start="163:41" pos:end="163:56">nb_delta_entries</name></name></expr>)</condition><block type="pseudo" pos:start="165:21" pos:end="165:60"><block_content pos:start="165:21" pos:end="165:60">

                    <expr_stmt pos:start="165:21" pos:end="165:60"><expr pos:start="165:21" pos:end="165:59"><name pos:start="165:21" pos:end="165:23">pos</name> <operator pos:start="165:25" pos:end="165:26">+=</operator> <name pos:start="165:28" pos:end="165:59"><name pos:start="165:28" pos:end="165:35">tableseg</name><operator pos:start="165:36" pos:end="165:37">-&gt;</operator><name pos:start="165:38" pos:end="165:50">element_delta</name><index pos:start="165:51" pos:end="165:59">[<expr pos:start="165:52" pos:end="165:58"><name pos:start="165:52" pos:end="165:58">n_delta</name></expr>]</index></name></expr>;</expr_stmt></block_content></block></if></if_stmt>

                <expr_stmt pos:start="167:17" pos:end="167:41"><expr pos:start="167:17" pos:end="167:40"><name pos:start="167:17" pos:end="167:21">flags</name> <operator pos:start="167:23" pos:end="167:23">=</operator> <name pos:start="167:25" pos:end="167:40">AVINDEX_KEYFRAME</name></expr>;</expr_stmt>

            </block_content>}</block></else></if_stmt>



            <if_stmt pos:start="173:13" pos:end="179:13"><if pos:start="173:13" pos:end="179:13">if <condition pos:start="173:16" pos:end="173:84">(<expr pos:start="173:17" pos:end="173:83"><call pos:start="173:17" pos:end="173:79"><name pos:start="173:17" pos:end="173:43">mxf_absolute_bodysid_offset</name><argument_list pos:start="173:44" pos:end="173:79">(<argument pos:start="173:45" pos:end="173:47"><expr pos:start="173:45" pos:end="173:47"><name pos:start="173:45" pos:end="173:47">mxf</name></expr></argument>, <argument pos:start="173:50" pos:end="173:67"><expr pos:start="173:50" pos:end="173:67"><name pos:start="173:50" pos:end="173:67"><name pos:start="173:50" pos:end="173:57">tableseg</name><operator pos:start="173:58" pos:end="173:59">-&gt;</operator><name pos:start="173:60" pos:end="173:67">body_sid</name></name></expr></argument>, <argument pos:start="173:70" pos:end="173:72"><expr pos:start="173:70" pos:end="173:72"><name pos:start="173:70" pos:end="173:72">pos</name></expr></argument>, <argument pos:start="173:75" pos:end="173:78"><expr pos:start="173:75" pos:end="173:78"><operator pos:start="173:75" pos:end="173:75">&amp;</operator><name pos:start="173:76" pos:end="173:78">pos</name></expr></argument>)</argument_list></call> <operator pos:start="173:81" pos:end="173:81">&lt;</operator> <literal type="number" pos:start="173:83" pos:end="173:83">0</literal></expr>)</condition> <block pos:start="173:86" pos:end="179:13">{<block_content pos:start="177:17" pos:end="177:22">

                <comment type="block" pos:start="175:17" pos:end="175:84">/* probably partial file - no point going further for this stream */</comment>

                <break pos:start="177:17" pos:end="177:22">break;</break>

            </block_content>}</block></if></if_stmt>



            <expr_stmt pos:start="183:13" pos:end="185:108"><expr pos:start="183:13" pos:end="185:107"><call pos:start="183:13" pos:end="185:107"><name pos:start="183:13" pos:end="183:19">av_dlog</name><argument_list pos:start="183:20" pos:end="185:107">(<argument pos:start="183:21" pos:end="183:27"><expr pos:start="183:21" pos:end="183:27"><name pos:start="183:21" pos:end="183:27"><name pos:start="183:21" pos:end="183:23">mxf</name><operator pos:start="183:24" pos:end="183:25">-&gt;</operator><name pos:start="183:26" pos:end="183:27">fc</name></name></expr></argument>, <argument pos:start="183:30" pos:end="183:104"><expr pos:start="183:30" pos:end="183:104"><literal type="string" pos:start="183:30" pos:end="183:74">"Stream %d IndexEntry %d TrackID %d Offset %"</literal><name pos:start="183:75" pos:end="183:80">PRIx64</name><literal type="string" pos:start="183:81" pos:end="183:94">" Timestamp %"</literal><name pos:start="183:95" pos:end="183:100">PRId64</name><literal type="string" pos:start="183:101" pos:end="183:104">"\n"</literal></expr></argument>,

                    <argument pos:start="185:21" pos:end="185:29"><expr pos:start="185:21" pos:end="185:29"><name pos:start="185:21" pos:end="185:29"><name pos:start="185:21" pos:end="185:22">st</name><operator pos:start="185:23" pos:end="185:24">-&gt;</operator><name pos:start="185:25" pos:end="185:29">index</name></name></expr></argument>, <argument pos:start="185:32" pos:end="185:51"><expr pos:start="185:32" pos:end="185:51"><name pos:start="185:32" pos:end="185:51"><name pos:start="185:32" pos:end="185:33">st</name><operator pos:start="185:34" pos:end="185:35">-&gt;</operator><name pos:start="185:36" pos:end="185:51">nb_index_entries</name></name></expr></argument>, <argument pos:start="185:54" pos:end="185:61"><expr pos:start="185:54" pos:end="185:61"><name pos:start="185:54" pos:end="185:61">track_id</name></expr></argument>, <argument pos:start="185:64" pos:end="185:66"><expr pos:start="185:64" pos:end="185:66"><name pos:start="185:64" pos:end="185:66">pos</name></expr></argument>, <argument pos:start="185:69" pos:end="185:106"><expr pos:start="185:69" pos:end="185:106"><name pos:start="185:69" pos:end="185:83">sample_duration</name> <operator pos:start="185:85" pos:end="185:85">*</operator> <name pos:start="185:87" pos:end="185:106"><name pos:start="185:87" pos:end="185:88">st</name><operator pos:start="185:89" pos:end="185:90">-&gt;</operator><name pos:start="185:91" pos:end="185:106">nb_index_entries</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



            <if_stmt pos:start="189:13" pos:end="191:27"><if pos:start="189:13" pos:end="191:27">if <condition pos:start="189:16" pos:end="189:112">(<expr pos:start="189:17" pos:end="189:111"><operator pos:start="189:17" pos:end="189:17">(</operator><name pos:start="189:18" pos:end="189:20">ret</name> <operator pos:start="189:22" pos:end="189:22">=</operator> <call pos:start="189:24" pos:end="189:106"><name pos:start="189:24" pos:end="189:41">av_add_index_entry</name><argument_list pos:start="189:42" pos:end="189:106">(<argument pos:start="189:43" pos:end="189:44"><expr pos:start="189:43" pos:end="189:44"><name pos:start="189:43" pos:end="189:44">st</name></expr></argument>, <argument pos:start="189:47" pos:end="189:49"><expr pos:start="189:47" pos:end="189:49"><name pos:start="189:47" pos:end="189:49">pos</name></expr></argument>, <argument pos:start="189:52" pos:end="189:89"><expr pos:start="189:52" pos:end="189:89"><name pos:start="189:52" pos:end="189:66">sample_duration</name> <operator pos:start="189:68" pos:end="189:68">*</operator> <name pos:start="189:70" pos:end="189:89"><name pos:start="189:70" pos:end="189:71">st</name><operator pos:start="189:72" pos:end="189:73">-&gt;</operator><name pos:start="189:74" pos:end="189:89">nb_index_entries</name></name></expr></argument>, <argument pos:start="189:92" pos:end="189:95"><expr pos:start="189:92" pos:end="189:95"><name pos:start="189:92" pos:end="189:95">size</name></expr></argument>, <argument pos:start="189:98" pos:end="189:98"><expr pos:start="189:98" pos:end="189:98"><literal type="number" pos:start="189:98" pos:end="189:98">0</literal></expr></argument>, <argument pos:start="189:101" pos:end="189:105"><expr pos:start="189:101" pos:end="189:105"><name pos:start="189:101" pos:end="189:105">flags</name></expr></argument>)</argument_list></call><operator pos:start="189:107" pos:end="189:107">)</operator> <operator pos:start="189:109" pos:end="189:109">&lt;</operator> <literal type="number" pos:start="189:111" pos:end="189:111">0</literal></expr>)</condition><block type="pseudo" pos:start="191:17" pos:end="191:27"><block_content pos:start="191:17" pos:end="191:27">

                <return pos:start="191:17" pos:end="191:27">return <expr pos:start="191:24" pos:end="191:26"><name pos:start="191:24" pos:end="191:26">ret</name></expr>;</return></block_content></block></if></if_stmt>

        </block_content>}</block></for>

        <expr_stmt pos:start="195:9" pos:end="195:43"><expr pos:start="195:9" pos:end="195:42"><name pos:start="195:9" pos:end="195:26">accumulated_offset</name> <operator pos:start="195:28" pos:end="195:29">+=</operator> <name pos:start="195:31" pos:end="195:42">segment_size</name></expr>;</expr_stmt>

    </block_content>}</block></for>



    <expr_stmt pos:start="201:5" pos:end="201:29"><expr pos:start="201:5" pos:end="201:28"><call pos:start="201:5" pos:end="201:28"><name pos:start="201:5" pos:end="201:11">av_free</name><argument_list pos:start="201:12" pos:end="201:28">(<argument pos:start="201:13" pos:end="201:27"><expr pos:start="201:13" pos:end="201:27"><name pos:start="201:13" pos:end="201:27">sorted_segments</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <return pos:start="205:5" pos:end="205:13">return <expr pos:start="205:12" pos:end="205:12"><literal type="number" pos:start="205:12" pos:end="205:12">0</literal></expr>;</return>

</block_content>}</block></function>
</unit>
