<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/15772.c" pos:tabs="8"><function pos:start="1:1" pos:end="519:1"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:21">filter_mb</name><parameter_list pos:start="1:22" pos:end="1:156">( <parameter pos:start="1:24" pos:end="1:37"><decl pos:start="1:24" pos:end="1:37"><type pos:start="1:24" pos:end="1:37"><name pos:start="1:24" pos:end="1:34">H264Context</name> <modifier pos:start="1:36" pos:end="1:36">*</modifier></type><name pos:start="1:37" pos:end="1:37">h</name></decl></parameter>, <parameter pos:start="1:40" pos:end="1:47"><decl pos:start="1:40" pos:end="1:47"><type pos:start="1:40" pos:end="1:47"><name pos:start="1:40" pos:end="1:42">int</name></type> <name pos:start="1:44" pos:end="1:47">mb_x</name></decl></parameter>, <parameter pos:start="1:50" pos:end="1:57"><decl pos:start="1:50" pos:end="1:57"><type pos:start="1:50" pos:end="1:57"><name pos:start="1:50" pos:end="1:52">int</name></type> <name pos:start="1:54" pos:end="1:57">mb_y</name></decl></parameter>, <parameter pos:start="1:60" pos:end="1:73"><decl pos:start="1:60" pos:end="1:73"><type pos:start="1:60" pos:end="1:73"><name pos:start="1:60" pos:end="1:66">uint8_t</name> <modifier pos:start="1:68" pos:end="1:68">*</modifier></type><name pos:start="1:69" pos:end="1:73">img_y</name></decl></parameter>, <parameter pos:start="1:76" pos:end="1:90"><decl pos:start="1:76" pos:end="1:90"><type pos:start="1:76" pos:end="1:90"><name pos:start="1:76" pos:end="1:82">uint8_t</name> <modifier pos:start="1:84" pos:end="1:84">*</modifier></type><name pos:start="1:85" pos:end="1:90">img_cb</name></decl></parameter>, <parameter pos:start="1:93" pos:end="1:107"><decl pos:start="1:93" pos:end="1:107"><type pos:start="1:93" pos:end="1:107"><name pos:start="1:93" pos:end="1:99">uint8_t</name> <modifier pos:start="1:101" pos:end="1:101">*</modifier></type><name pos:start="1:102" pos:end="1:107">img_cr</name></decl></parameter>, <parameter pos:start="1:110" pos:end="1:130"><decl pos:start="1:110" pos:end="1:130"><type pos:start="1:110" pos:end="1:130"><name pos:start="1:110" pos:end="1:117">unsigned</name> <name pos:start="1:119" pos:end="1:121">int</name></type> <name pos:start="1:123" pos:end="1:130">linesize</name></decl></parameter>, <parameter pos:start="1:133" pos:end="1:155"><decl pos:start="1:133" pos:end="1:155"><type pos:start="1:133" pos:end="1:155"><name pos:start="1:133" pos:end="1:140">unsigned</name> <name pos:start="1:142" pos:end="1:144">int</name></type> <name pos:start="1:146" pos:end="1:155">uvlinesize</name></decl></parameter>)</parameter_list> <block pos:start="1:158" pos:end="519:1">{<block_content pos:start="3:5" pos:end="517:5">

    <decl_stmt pos:start="3:5" pos:end="3:37"><decl pos:start="3:5" pos:end="3:36"><type pos:start="3:5" pos:end="3:26"><name pos:start="3:5" pos:end="3:18">MpegEncContext</name> <modifier pos:start="3:20" pos:end="3:20">*</modifier> <specifier pos:start="3:22" pos:end="3:26">const</specifier></type> <name pos:start="3:28" pos:end="3:28">s</name> <init pos:start="3:30" pos:end="3:36">= <expr pos:start="3:32" pos:end="3:36"><operator pos:start="3:32" pos:end="3:32">&amp;</operator><name pos:start="3:33" pos:end="3:36"><name pos:start="3:33" pos:end="3:33">h</name><operator pos:start="3:34" pos:end="3:35">-&gt;</operator><name pos:start="3:36" pos:end="3:36">s</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="5:5" pos:end="5:46"><decl pos:start="5:5" pos:end="5:45"><type pos:start="5:5" pos:end="5:13"><specifier pos:start="5:5" pos:end="5:9">const</specifier> <name pos:start="5:11" pos:end="5:13">int</name></type> <name pos:start="5:15" pos:end="5:19">mb_xy</name><init pos:start="5:20" pos:end="5:45">= <expr pos:start="5:22" pos:end="5:45"><name pos:start="5:22" pos:end="5:25">mb_x</name> <operator pos:start="5:27" pos:end="5:27">+</operator> <name pos:start="5:29" pos:end="5:32">mb_y</name><operator pos:start="5:33" pos:end="5:33">*</operator><name pos:start="5:34" pos:end="5:45"><name pos:start="5:34" pos:end="5:34">s</name><operator pos:start="5:35" pos:end="5:36">-&gt;</operator><name pos:start="5:37" pos:end="5:45">mb_stride</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:58"><decl pos:start="7:5" pos:end="7:57"><type pos:start="7:5" pos:end="7:13"><specifier pos:start="7:5" pos:end="7:9">const</specifier> <name pos:start="7:11" pos:end="7:13">int</name></type> <name pos:start="7:15" pos:end="7:21">mb_type</name> <init pos:start="7:23" pos:end="7:57">= <expr pos:start="7:25" pos:end="7:57"><name pos:start="7:25" pos:end="7:57"><name pos:start="7:25" pos:end="7:25">s</name><operator pos:start="7:26" pos:end="7:27">-&gt;</operator><name pos:start="7:28" pos:end="7:42">current_picture</name><operator pos:start="7:43" pos:end="7:43">.</operator><name pos:start="7:44" pos:end="7:50">mb_type</name><index pos:start="7:51" pos:end="7:57">[<expr pos:start="7:52" pos:end="7:56"><name pos:start="7:52" pos:end="7:56">mb_xy</name></expr>]</index></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:57"><decl pos:start="9:5" pos:end="9:56"><type pos:start="9:5" pos:end="9:13"><specifier pos:start="9:5" pos:end="9:9">const</specifier> <name pos:start="9:11" pos:end="9:13">int</name></type> <name pos:start="9:15" pos:end="9:23">mvy_limit</name> <init pos:start="9:25" pos:end="9:56">= <expr pos:start="9:27" pos:end="9:56"><ternary pos:start="9:27" pos:end="9:56"><condition pos:start="9:27" pos:end="9:50"><expr pos:start="9:27" pos:end="9:48"><call pos:start="9:27" pos:end="9:48"><name pos:start="9:27" pos:end="9:39">IS_INTERLACED</name><argument_list pos:start="9:40" pos:end="9:48">(<argument pos:start="9:41" pos:end="9:47"><expr pos:start="9:41" pos:end="9:47"><name pos:start="9:41" pos:end="9:47">mb_type</name></expr></argument>)</argument_list></call></expr> ?</condition><then pos:start="9:52" pos:end="9:52"> <expr pos:start="9:52" pos:end="9:52"><literal type="number" pos:start="9:52" pos:end="9:52">2</literal></expr> </then><else pos:start="9:54" pos:end="9:56">: <expr pos:start="9:56" pos:end="9:56"><literal type="number" pos:start="9:56" pos:end="9:56">4</literal></expr></else></ternary></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:37"><decl pos:start="11:5" pos:end="11:36"><type pos:start="11:5" pos:end="11:7"><name pos:start="11:5" pos:end="11:7">int</name></type> <name pos:start="11:9" pos:end="11:32">first_vertical_edge_done</name> <init pos:start="11:34" pos:end="11:36">= <expr pos:start="11:36" pos:end="11:36"><literal type="number" pos:start="11:36" pos:end="11:36">0</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:12"><decl pos:start="13:5" pos:end="13:11"><type pos:start="13:5" pos:end="13:7"><name pos:start="13:5" pos:end="13:7">int</name></type> <name pos:start="13:9" pos:end="13:11">dir</name></decl>;</decl_stmt>



    <comment type="line" pos:start="17:5" pos:end="17:61">//for sufficiently low qp, filtering wouldn't do anything</comment>

    <comment type="line" pos:start="19:5" pos:end="19:95">//this is a conservative estimate: could also check beta_offset and more accurate chroma_qp</comment>

    <if_stmt pos:start="21:5" pos:end="37:5"><if pos:start="21:5" pos:end="37:5">if<condition pos:start="21:7" pos:end="21:20">(<expr pos:start="21:8" pos:end="21:19"><operator pos:start="21:8" pos:end="21:8">!</operator><name pos:start="21:9" pos:end="21:19">FRAME_MBAFF</name></expr>)</condition><block pos:start="21:21" pos:end="37:5">{<block_content pos:start="23:9" pos:end="35:9">

        <decl_stmt pos:start="23:9" pos:end="23:134"><decl pos:start="23:9" pos:end="23:133"><type pos:start="23:9" pos:end="23:11"><name pos:start="23:9" pos:end="23:11">int</name></type> <name pos:start="23:13" pos:end="23:21">qp_thresh</name> <init pos:start="23:23" pos:end="23:133">= <expr pos:start="23:25" pos:end="23:133"><literal type="number" pos:start="23:25" pos:end="23:28">15</literal> <operator pos:start="23:28" pos:end="23:28">-</operator> <name pos:start="23:30" pos:end="23:53"><name pos:start="23:30" pos:end="23:30">h</name><operator pos:start="23:31" pos:end="23:32">-&gt;</operator><name pos:start="23:33" pos:end="23:53">slice_alpha_c0_offset</name></name> <operator pos:start="23:55" pos:end="23:55">-</operator> <call pos:start="23:57" pos:end="23:133"><name pos:start="23:57" pos:end="23:62">FFMAX3</name><argument_list pos:start="23:63" pos:end="23:133">(<argument pos:start="23:64" pos:end="23:64"><expr pos:start="23:64" pos:end="23:64"><literal type="number" pos:start="23:64" pos:end="23:64">0</literal></expr></argument>, <argument pos:start="23:67" pos:end="23:98"><expr pos:start="23:67" pos:end="23:98"><name pos:start="23:67" pos:end="23:98"><name pos:start="23:67" pos:end="23:67">h</name><operator pos:start="23:68" pos:end="23:69">-&gt;</operator><name pos:start="23:70" pos:end="23:72">pps</name><operator pos:start="23:73" pos:end="23:73">.</operator><name pos:start="23:74" pos:end="23:95">chroma_qp_index_offset</name><index pos:start="23:96" pos:end="23:98">[<expr pos:start="23:97" pos:end="23:97"><literal type="number" pos:start="23:97" pos:end="23:97">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="23:101" pos:end="23:132"><expr pos:start="23:101" pos:end="23:132"><name pos:start="23:101" pos:end="23:132"><name pos:start="23:101" pos:end="23:101">h</name><operator pos:start="23:102" pos:end="23:103">-&gt;</operator><name pos:start="23:104" pos:end="23:106">pps</name><operator pos:start="23:107" pos:end="23:107">.</operator><name pos:start="23:108" pos:end="23:129">chroma_qp_index_offset</name><index pos:start="23:130" pos:end="23:132">[<expr pos:start="23:131" pos:end="23:131"><literal type="number" pos:start="23:131" pos:end="23:131">1</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

        <decl_stmt pos:start="25:9" pos:end="25:56"><decl pos:start="25:9" pos:end="25:55"><type pos:start="25:9" pos:end="25:11"><name pos:start="25:9" pos:end="25:11">int</name></type> <name pos:start="25:13" pos:end="25:14">qp</name> <init pos:start="25:16" pos:end="25:55">= <expr pos:start="25:18" pos:end="25:55"><name pos:start="25:18" pos:end="25:55"><name pos:start="25:18" pos:end="25:18">s</name><operator pos:start="25:19" pos:end="25:20">-&gt;</operator><name pos:start="25:21" pos:end="25:35">current_picture</name><operator pos:start="25:36" pos:end="25:36">.</operator><name pos:start="25:37" pos:end="25:48">qscale_table</name><index pos:start="25:49" pos:end="25:55">[<expr pos:start="25:50" pos:end="25:54"><name pos:start="25:50" pos:end="25:54">mb_xy</name></expr>]</index></name></expr></init></decl>;</decl_stmt>

        <if_stmt pos:start="27:9" pos:end="35:9"><if pos:start="27:9" pos:end="35:9">if<condition pos:start="27:11" pos:end="31:104">(<expr pos:start="27:12" pos:end="31:103"><name pos:start="27:12" pos:end="27:13">qp</name> <operator pos:start="27:15" pos:end="27:16">&lt;=</operator> <name pos:start="27:18" pos:end="27:26">qp_thresh</name>

           <operator pos:start="29:12" pos:end="29:13">&amp;&amp;</operator> <operator pos:start="29:15" pos:end="29:15">(</operator><name pos:start="29:16" pos:end="29:19">mb_x</name> <operator pos:start="29:21" pos:end="29:22">==</operator> <literal type="number" pos:start="29:24" pos:end="29:24">0</literal> <operator pos:start="29:26" pos:end="29:27">||</operator> <operator pos:start="29:29" pos:end="29:29">(</operator><operator pos:start="29:30" pos:end="29:30">(</operator><name pos:start="29:31" pos:end="29:32">qp</name> <operator pos:start="29:34" pos:end="29:34">+</operator> <name pos:start="29:36" pos:end="29:75"><name pos:start="29:36" pos:end="29:36">s</name><operator pos:start="29:37" pos:end="29:38">-&gt;</operator><name pos:start="29:39" pos:end="29:53">current_picture</name><operator pos:start="29:54" pos:end="29:54">.</operator><name pos:start="29:55" pos:end="29:66">qscale_table</name><index pos:start="29:67" pos:end="29:75">[<expr pos:start="29:68" pos:end="29:74"><name pos:start="29:68" pos:end="29:72">mb_xy</name><operator pos:start="29:73" pos:end="29:73">-</operator><literal type="number" pos:start="29:74" pos:end="29:74">1</literal></expr>]</index></name> <operator pos:start="29:77" pos:end="29:77">+</operator> <literal type="number" pos:start="29:79" pos:end="29:79">1</literal><operator pos:start="29:80" pos:end="29:80">)</operator><operator pos:start="29:81" pos:end="29:82">&gt;&gt;</operator><literal type="number" pos:start="29:83" pos:end="29:83">1</literal><operator pos:start="29:84" pos:end="29:84">)</operator> <operator pos:start="29:86" pos:end="29:87">&lt;=</operator> <name pos:start="29:89" pos:end="29:97">qp_thresh</name><operator pos:start="29:98" pos:end="29:98">)</operator>

           <operator pos:start="31:12" pos:end="31:13">&amp;&amp;</operator> <operator pos:start="31:15" pos:end="31:15">(</operator><name pos:start="31:16" pos:end="31:19">mb_y</name> <operator pos:start="31:21" pos:end="31:22">==</operator> <literal type="number" pos:start="31:24" pos:end="31:24">0</literal> <operator pos:start="31:26" pos:end="31:27">||</operator> <operator pos:start="31:29" pos:end="31:29">(</operator><operator pos:start="31:30" pos:end="31:30">(</operator><name pos:start="31:31" pos:end="31:32">qp</name> <operator pos:start="31:34" pos:end="31:34">+</operator> <name pos:start="31:36" pos:end="31:80"><name pos:start="31:36" pos:end="31:36">s</name><operator pos:start="31:37" pos:end="31:38">-&gt;</operator><name pos:start="31:39" pos:end="31:53">current_picture</name><operator pos:start="31:54" pos:end="31:54">.</operator><name pos:start="31:55" pos:end="31:66">qscale_table</name><index pos:start="31:67" pos:end="31:80">[<expr pos:start="31:68" pos:end="31:79"><name pos:start="31:68" pos:end="31:79"><name pos:start="31:68" pos:end="31:68">h</name><operator pos:start="31:69" pos:end="31:70">-&gt;</operator><name pos:start="31:71" pos:end="31:79">top_mb_xy</name></name></expr>]</index></name> <operator pos:start="31:82" pos:end="31:82">+</operator> <literal type="number" pos:start="31:84" pos:end="31:84">1</literal><operator pos:start="31:85" pos:end="31:85">)</operator><operator pos:start="31:86" pos:end="31:87">&gt;&gt;</operator><literal type="number" pos:start="31:88" pos:end="31:88">1</literal><operator pos:start="31:89" pos:end="31:89">)</operator> <operator pos:start="31:91" pos:end="31:92">&lt;=</operator> <name pos:start="31:94" pos:end="31:102">qp_thresh</name><operator pos:start="31:103" pos:end="31:103">)</operator></expr>)</condition><block pos:start="31:105" pos:end="35:9">{<block_content pos:start="33:13" pos:end="33:19">

            <return pos:start="33:13" pos:end="33:19">return;</return>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="41:5" pos:end="155:5"><if pos:start="41:5" pos:end="155:5">if <condition pos:start="41:8" pos:end="53:93">(<expr pos:start="41:9" pos:end="53:92"><name pos:start="41:9" pos:end="41:19">FRAME_MBAFF</name>

            <comment type="line" pos:start="43:13" pos:end="43:36">// left mb is in picture</comment>

            <operator pos:start="45:13" pos:end="45:14">&amp;&amp;</operator> <name pos:start="45:16" pos:end="45:38"><name pos:start="45:16" pos:end="45:16">h</name><operator pos:start="45:17" pos:end="45:18">-&gt;</operator><name pos:start="45:19" pos:end="45:29">slice_table</name><index pos:start="45:30" pos:end="45:38">[<expr pos:start="45:31" pos:end="45:37"><name pos:start="45:31" pos:end="45:35">mb_xy</name><operator pos:start="45:36" pos:end="45:36">-</operator><literal type="number" pos:start="45:37" pos:end="45:37">1</literal></expr>]</index></name> <operator pos:start="45:40" pos:end="45:41">!=</operator> <literal type="number" pos:start="45:43" pos:end="45:45">255</literal>

            <comment type="line" pos:start="47:13" pos:end="47:77">// and current and left pair do not have the same interlaced type</comment>

            <operator pos:start="49:13" pos:end="49:14">&amp;&amp;</operator> <operator pos:start="49:16" pos:end="49:16">(</operator><call pos:start="49:17" pos:end="49:38"><name pos:start="49:17" pos:end="49:29">IS_INTERLACED</name><argument_list pos:start="49:30" pos:end="49:38">(<argument pos:start="49:31" pos:end="49:37"><expr pos:start="49:31" pos:end="49:37"><name pos:start="49:31" pos:end="49:37">mb_type</name></expr></argument>)</argument_list></call> <operator pos:start="49:40" pos:end="49:41">!=</operator> <call pos:start="49:43" pos:end="49:92"><name pos:start="49:43" pos:end="49:55">IS_INTERLACED</name><argument_list pos:start="49:56" pos:end="49:92">(<argument pos:start="49:57" pos:end="49:91"><expr pos:start="49:57" pos:end="49:91"><name pos:start="49:57" pos:end="49:91"><name pos:start="49:57" pos:end="49:57">s</name><operator pos:start="49:58" pos:end="49:59">-&gt;</operator><name pos:start="49:60" pos:end="49:74">current_picture</name><operator pos:start="49:75" pos:end="49:75">.</operator><name pos:start="49:76" pos:end="49:82">mb_type</name><index pos:start="49:83" pos:end="49:91">[<expr pos:start="49:84" pos:end="49:90"><name pos:start="49:84" pos:end="49:88">mb_xy</name><operator pos:start="49:89" pos:end="49:89">-</operator><literal type="number" pos:start="49:90" pos:end="49:90">1</literal></expr>]</index></name></expr></argument>)</argument_list></call><operator pos:start="49:93" pos:end="49:93">)</operator>

            <comment type="line" pos:start="51:13" pos:end="51:73">// and left mb is in the same slice if deblocking_filter == 2</comment>

            <operator pos:start="53:13" pos:end="53:14">&amp;&amp;</operator> <operator pos:start="53:16" pos:end="53:16">(</operator><name pos:start="53:17" pos:end="53:36"><name pos:start="53:17" pos:end="53:17">h</name><operator pos:start="53:18" pos:end="53:19">-&gt;</operator><name pos:start="53:20" pos:end="53:36">deblocking_filter</name></name><operator pos:start="53:37" pos:end="53:38">!=</operator><literal type="number" pos:start="53:39" pos:end="53:39">2</literal> <operator pos:start="53:41" pos:end="53:42">||</operator> <name pos:start="53:44" pos:end="53:66"><name pos:start="53:44" pos:end="53:44">h</name><operator pos:start="53:45" pos:end="53:46">-&gt;</operator><name pos:start="53:47" pos:end="53:57">slice_table</name><index pos:start="53:58" pos:end="53:66">[<expr pos:start="53:59" pos:end="53:65"><name pos:start="53:59" pos:end="53:63">mb_xy</name><operator pos:start="53:64" pos:end="53:64">-</operator><literal type="number" pos:start="53:65" pos:end="53:65">1</literal></expr>]</index></name> <operator pos:start="53:68" pos:end="53:69">==</operator> <name pos:start="53:71" pos:end="53:91"><name pos:start="53:71" pos:end="53:71">h</name><operator pos:start="53:72" pos:end="53:73">-&gt;</operator><name pos:start="53:74" pos:end="53:84">slice_table</name><index pos:start="53:85" pos:end="53:91">[<expr pos:start="53:86" pos:end="53:90"><name pos:start="53:86" pos:end="53:90">mb_xy</name></expr>]</index></name><operator pos:start="53:92" pos:end="53:92">)</operator></expr>)</condition> <block pos:start="53:95" pos:end="155:5">{<block_content pos:start="61:9" pos:end="153:69">

        <comment type="block" pos:start="55:9" pos:end="59:11">/* First vertical edge is different in MBAFF frames

         * There are 8 different bS to compute and 2 different Qp

         */</comment>

        <decl_stmt pos:start="61:9" pos:end="61:58"><decl pos:start="61:9" pos:end="61:57"><type pos:start="61:9" pos:end="61:17"><specifier pos:start="61:9" pos:end="61:13">const</specifier> <name pos:start="61:15" pos:end="61:17">int</name></type> <name pos:start="61:19" pos:end="61:25">pair_xy</name> <init pos:start="61:27" pos:end="61:57">= <expr pos:start="61:29" pos:end="61:57"><name pos:start="61:29" pos:end="61:32">mb_x</name> <operator pos:start="61:34" pos:end="61:34">+</operator> <operator pos:start="61:36" pos:end="61:36">(</operator><name pos:start="61:37" pos:end="61:40">mb_y</name><operator pos:start="61:41" pos:end="61:41">&amp;</operator><operator pos:start="61:42" pos:end="61:42">~</operator><literal type="number" pos:start="61:43" pos:end="61:43">1</literal><operator pos:start="61:44" pos:end="61:44">)</operator><operator pos:start="61:45" pos:end="61:45">*</operator><name pos:start="61:46" pos:end="61:57"><name pos:start="61:46" pos:end="61:46">s</name><operator pos:start="61:47" pos:end="61:48">-&gt;</operator><name pos:start="61:49" pos:end="61:57">mb_stride</name></name></expr></init></decl>;</decl_stmt>

        <decl_stmt pos:start="63:9" pos:end="63:72"><decl pos:start="63:9" pos:end="63:71"><type pos:start="63:9" pos:end="63:17"><specifier pos:start="63:9" pos:end="63:13">const</specifier> <name pos:start="63:15" pos:end="63:17">int</name></type> <name pos:start="63:19" pos:end="63:31"><name pos:start="63:19" pos:end="63:28">left_mb_xy</name><index pos:start="63:29" pos:end="63:31">[<expr pos:start="63:30" pos:end="63:30"><literal type="number" pos:start="63:30" pos:end="63:30">2</literal></expr>]</index></name> <init pos:start="63:33" pos:end="63:71">= <expr pos:start="63:35" pos:end="63:71"><block pos:start="63:35" pos:end="63:71">{ <expr pos:start="63:37" pos:end="63:45"><name pos:start="63:37" pos:end="63:43">pair_xy</name><operator pos:start="63:44" pos:end="63:44">-</operator><literal type="number" pos:start="63:45" pos:end="63:45">1</literal></expr>, <expr pos:start="63:48" pos:end="63:69"><name pos:start="63:48" pos:end="63:54">pair_xy</name><operator pos:start="63:55" pos:end="63:55">-</operator><literal type="number" pos:start="63:56" pos:end="63:57">1</literal><operator pos:start="63:57" pos:end="63:57">+</operator><name pos:start="63:58" pos:end="63:69"><name pos:start="63:58" pos:end="63:58">s</name><operator pos:start="63:59" pos:end="63:60">-&gt;</operator><name pos:start="63:61" pos:end="63:69">mb_stride</name></name></expr> }</block></expr></init></decl>;</decl_stmt>

        <decl_stmt pos:start="65:9" pos:end="65:22"><decl pos:start="65:9" pos:end="65:21"><type pos:start="65:9" pos:end="65:15"><name pos:start="65:9" pos:end="65:15">int16_t</name></type> <name pos:start="65:17" pos:end="65:21"><name pos:start="65:17" pos:end="65:18">bS</name><index pos:start="65:19" pos:end="65:21">[<expr pos:start="65:20" pos:end="65:20"><literal type="number" pos:start="65:20" pos:end="65:20">8</literal></expr>]</index></name></decl>;</decl_stmt>

        <decl_stmt pos:start="67:9" pos:end="67:18"><decl pos:start="67:9" pos:end="67:17"><type pos:start="67:9" pos:end="67:11"><name pos:start="67:9" pos:end="67:11">int</name></type> <name pos:start="67:13" pos:end="67:17"><name pos:start="67:13" pos:end="67:14">qp</name><index pos:start="67:15" pos:end="67:17">[<expr pos:start="67:16" pos:end="67:16"><literal type="number" pos:start="67:16" pos:end="67:16">2</literal></expr>]</index></name></decl>;</decl_stmt>

        <decl_stmt pos:start="69:9" pos:end="69:19"><decl pos:start="69:9" pos:end="69:18"><type pos:start="69:9" pos:end="69:11"><name pos:start="69:9" pos:end="69:11">int</name></type> <name pos:start="69:13" pos:end="69:18"><name pos:start="69:13" pos:end="69:15">bqp</name><index pos:start="69:16" pos:end="69:18">[<expr pos:start="69:17" pos:end="69:17"><literal type="number" pos:start="69:17" pos:end="69:17">2</literal></expr>]</index></name></decl>;</decl_stmt>

        <decl_stmt pos:start="71:9" pos:end="71:19"><decl pos:start="71:9" pos:end="71:18"><type pos:start="71:9" pos:end="71:11"><name pos:start="71:9" pos:end="71:11">int</name></type> <name pos:start="71:13" pos:end="71:18"><name pos:start="71:13" pos:end="71:15">rqp</name><index pos:start="71:16" pos:end="71:18">[<expr pos:start="71:17" pos:end="71:17"><literal type="number" pos:start="71:17" pos:end="71:17">2</literal></expr>]</index></name></decl>;</decl_stmt>

        <decl_stmt pos:start="73:9" pos:end="73:36"><decl pos:start="73:9" pos:end="73:17"><type pos:start="73:9" pos:end="73:11"><name pos:start="73:9" pos:end="73:11">int</name></type> <name pos:start="73:13" pos:end="73:17">mb_qp</name></decl>, <decl pos:start="73:20" pos:end="73:26"><type ref="prev" pos:start="73:9" pos:end="73:11"/><name pos:start="73:20" pos:end="73:26">mbn0_qp</name></decl>, <decl pos:start="73:29" pos:end="73:35"><type ref="prev" pos:start="73:9" pos:end="73:11"/><name pos:start="73:29" pos:end="73:35">mbn1_qp</name></decl>;</decl_stmt>

        <decl_stmt pos:start="75:9" pos:end="75:14"><decl pos:start="75:9" pos:end="75:13"><type pos:start="75:9" pos:end="75:11"><name pos:start="75:9" pos:end="75:11">int</name></type> <name pos:start="75:13" pos:end="75:13">i</name></decl>;</decl_stmt>

        <expr_stmt pos:start="77:9" pos:end="77:37"><expr pos:start="77:9" pos:end="77:36"><name pos:start="77:9" pos:end="77:32">first_vertical_edge_done</name> <operator pos:start="77:34" pos:end="77:34">=</operator> <literal type="number" pos:start="77:36" pos:end="77:36">1</literal></expr>;</expr_stmt>



        <if_stmt pos:start="81:9" pos:end="111:9"><if pos:start="81:9" pos:end="83:78">if<condition pos:start="81:11" pos:end="81:31">( <expr pos:start="81:13" pos:end="81:29"><call pos:start="81:13" pos:end="81:29"><name pos:start="81:13" pos:end="81:20">IS_INTRA</name><argument_list pos:start="81:21" pos:end="81:29">(<argument pos:start="81:22" pos:end="81:28"><expr pos:start="81:22" pos:end="81:28"><name pos:start="81:22" pos:end="81:28">mb_type</name></expr></argument>)</argument_list></call></expr> )</condition><block type="pseudo" pos:start="83:13" pos:end="83:78"><block_content pos:start="83:13" pos:end="83:78">

            <expr_stmt pos:start="83:13" pos:end="83:78"><expr pos:start="83:13" pos:end="83:77"><name pos:start="83:13" pos:end="83:17"><name pos:start="83:13" pos:end="83:14">bS</name><index pos:start="83:15" pos:end="83:17">[<expr pos:start="83:16" pos:end="83:16"><literal type="number" pos:start="83:16" pos:end="83:16">0</literal></expr>]</index></name> <operator pos:start="83:19" pos:end="83:19">=</operator> <name pos:start="83:21" pos:end="83:25"><name pos:start="83:21" pos:end="83:22">bS</name><index pos:start="83:23" pos:end="83:25">[<expr pos:start="83:24" pos:end="83:24"><literal type="number" pos:start="83:24" pos:end="83:24">1</literal></expr>]</index></name> <operator pos:start="83:27" pos:end="83:27">=</operator> <name pos:start="83:29" pos:end="83:33"><name pos:start="83:29" pos:end="83:30">bS</name><index pos:start="83:31" pos:end="83:33">[<expr pos:start="83:32" pos:end="83:32"><literal type="number" pos:start="83:32" pos:end="83:32">2</literal></expr>]</index></name> <operator pos:start="83:35" pos:end="83:35">=</operator> <name pos:start="83:37" pos:end="83:41"><name pos:start="83:37" pos:end="83:38">bS</name><index pos:start="83:39" pos:end="83:41">[<expr pos:start="83:40" pos:end="83:40"><literal type="number" pos:start="83:40" pos:end="83:40">3</literal></expr>]</index></name> <operator pos:start="83:43" pos:end="83:43">=</operator> <name pos:start="83:45" pos:end="83:49"><name pos:start="83:45" pos:end="83:46">bS</name><index pos:start="83:47" pos:end="83:49">[<expr pos:start="83:48" pos:end="83:48"><literal type="number" pos:start="83:48" pos:end="83:48">4</literal></expr>]</index></name> <operator pos:start="83:51" pos:end="83:51">=</operator> <name pos:start="83:53" pos:end="83:57"><name pos:start="83:53" pos:end="83:54">bS</name><index pos:start="83:55" pos:end="83:57">[<expr pos:start="83:56" pos:end="83:56"><literal type="number" pos:start="83:56" pos:end="83:56">5</literal></expr>]</index></name> <operator pos:start="83:59" pos:end="83:59">=</operator> <name pos:start="83:61" pos:end="83:65"><name pos:start="83:61" pos:end="83:62">bS</name><index pos:start="83:63" pos:end="83:65">[<expr pos:start="83:64" pos:end="83:64"><literal type="number" pos:start="83:64" pos:end="83:64">6</literal></expr>]</index></name> <operator pos:start="83:67" pos:end="83:67">=</operator> <name pos:start="83:69" pos:end="83:73"><name pos:start="83:69" pos:end="83:70">bS</name><index pos:start="83:71" pos:end="83:73">[<expr pos:start="83:72" pos:end="83:72"><literal type="number" pos:start="83:72" pos:end="83:72">7</literal></expr>]</index></name> <operator pos:start="83:75" pos:end="83:75">=</operator> <literal type="number" pos:start="83:77" pos:end="83:77">4</literal></expr>;</expr_stmt></block_content></block></if>

        <else pos:start="85:9" pos:end="111:9">else <block pos:start="85:14" pos:end="111:9">{<block_content pos:start="87:13" pos:end="109:13">

            <for pos:start="87:13" pos:end="109:13">for<control pos:start="87:16" pos:end="87:36">( <init pos:start="87:18" pos:end="87:23"><expr pos:start="87:18" pos:end="87:22"><name pos:start="87:18" pos:end="87:18">i</name> <operator pos:start="87:20" pos:end="87:20">=</operator> <literal type="number" pos:start="87:22" pos:end="87:22">0</literal></expr>;</init> <condition pos:start="87:25" pos:end="87:30"><expr pos:start="87:25" pos:end="87:29"><name pos:start="87:25" pos:end="87:25">i</name> <operator pos:start="87:27" pos:end="87:27">&lt;</operator> <literal type="number" pos:start="87:29" pos:end="87:29">8</literal></expr>;</condition> <incr pos:start="87:32" pos:end="87:34"><expr pos:start="87:32" pos:end="87:34"><name pos:start="87:32" pos:end="87:32">i</name><operator pos:start="87:33" pos:end="87:34">++</operator></expr></incr> )</control> <block pos:start="87:38" pos:end="109:13">{<block_content pos:start="89:17" pos:end="107:30">

                <decl_stmt pos:start="89:17" pos:end="89:75"><decl pos:start="89:17" pos:end="89:74"><type pos:start="89:17" pos:end="89:19"><name pos:start="89:17" pos:end="89:19">int</name></type> <name pos:start="89:21" pos:end="89:26">mbn_xy</name> <init pos:start="89:28" pos:end="89:74">= <expr pos:start="89:30" pos:end="89:74"><ternary pos:start="89:30" pos:end="89:74"><condition pos:start="89:30" pos:end="89:39"><expr pos:start="89:30" pos:end="89:37"><name pos:start="89:30" pos:end="89:37">MB_FIELD</name></expr> ?</condition><then pos:start="89:41" pos:end="89:56"> <expr pos:start="89:41" pos:end="89:56"><name pos:start="89:41" pos:end="89:56"><name pos:start="89:41" pos:end="89:50">left_mb_xy</name><index pos:start="89:51" pos:end="89:56">[<expr pos:start="89:52" pos:end="89:55"><name pos:start="89:52" pos:end="89:52">i</name><operator pos:start="89:53" pos:end="89:54">&gt;&gt;</operator><literal type="number" pos:start="89:55" pos:end="89:55">2</literal></expr>]</index></name></expr> </then><else pos:start="89:58" pos:end="89:74">: <expr pos:start="89:60" pos:end="89:74"><name pos:start="89:60" pos:end="89:74"><name pos:start="89:60" pos:end="89:69">left_mb_xy</name><index pos:start="89:70" pos:end="89:74">[<expr pos:start="89:71" pos:end="89:73"><name pos:start="89:71" pos:end="89:71">i</name><operator pos:start="89:72" pos:end="89:72">&amp;</operator><literal type="number" pos:start="89:73" pos:end="89:73">1</literal></expr>]</index></name></expr></else></ternary></expr></init></decl>;</decl_stmt>



                <if_stmt pos:start="93:17" pos:end="107:30"><if pos:start="93:17" pos:end="95:30">if<condition pos:start="93:19" pos:end="93:68">( <expr pos:start="93:21" pos:end="93:66"><call pos:start="93:21" pos:end="93:66"><name pos:start="93:21" pos:end="93:28">IS_INTRA</name><argument_list pos:start="93:29" pos:end="93:66">( <argument pos:start="93:31" pos:end="93:64"><expr pos:start="93:31" pos:end="93:64"><name pos:start="93:31" pos:end="93:64"><name pos:start="93:31" pos:end="93:31">s</name><operator pos:start="93:32" pos:end="93:33">-&gt;</operator><name pos:start="93:34" pos:end="93:48">current_picture</name><operator pos:start="93:49" pos:end="93:49">.</operator><name pos:start="93:50" pos:end="93:56">mb_type</name><index pos:start="93:57" pos:end="93:64">[<expr pos:start="93:58" pos:end="93:63"><name pos:start="93:58" pos:end="93:63">mbn_xy</name></expr>]</index></name></expr></argument> )</argument_list></call></expr> )</condition><block type="pseudo" pos:start="95:21" pos:end="95:30"><block_content pos:start="95:21" pos:end="95:30">

                    <expr_stmt pos:start="95:21" pos:end="95:30"><expr pos:start="95:21" pos:end="95:29"><name pos:start="95:21" pos:end="95:25"><name pos:start="95:21" pos:end="95:22">bS</name><index pos:start="95:23" pos:end="95:25">[<expr pos:start="95:24" pos:end="95:24"><name pos:start="95:24" pos:end="95:24">i</name></expr>]</index></name> <operator pos:start="95:27" pos:end="95:27">=</operator> <literal type="number" pos:start="95:29" pos:end="95:29">4</literal></expr>;</expr_stmt></block_content></block></if>

                <if type="elseif" pos:start="97:17" pos:end="103:30">else if<condition pos:start="97:24" pos:end="101:88">( <expr pos:start="97:26" pos:end="101:86"><name pos:start="97:26" pos:end="97:61"><name pos:start="97:26" pos:end="97:26">h</name><operator pos:start="97:27" pos:end="97:28">-&gt;</operator><name pos:start="97:29" pos:end="97:48">non_zero_count_cache</name><index pos:start="97:49" pos:end="97:61">[<expr pos:start="97:50" pos:end="97:60"><literal type="number" pos:start="97:50" pos:end="97:51">12</literal><operator pos:start="97:52" pos:end="97:52">+</operator><literal type="number" pos:start="97:53" pos:end="97:53">8</literal><operator pos:start="97:54" pos:end="97:54">*</operator><operator pos:start="97:55" pos:end="97:55">(</operator><name pos:start="97:56" pos:end="97:56">i</name><operator pos:start="97:57" pos:end="97:58">&gt;&gt;</operator><literal type="number" pos:start="97:59" pos:end="97:59">1</literal><operator pos:start="97:60" pos:end="97:60">)</operator></expr>]</index></name> <operator pos:start="97:63" pos:end="97:64">!=</operator> <literal type="number" pos:start="97:66" pos:end="97:66">0</literal> <operator pos:start="97:68" pos:end="97:69">||</operator>

                         <comment type="block" pos:start="99:26" pos:end="99:90">/* FIXME: with 8x8dct + cavlc, should check cbp instead of nnz */</comment>

                         <name pos:start="101:26" pos:end="101:86"><name pos:start="101:26" pos:end="101:26">h</name><operator pos:start="101:27" pos:end="101:28">-&gt;</operator><name pos:start="101:29" pos:end="101:42">non_zero_count</name><index pos:start="101:43" pos:end="101:50">[<expr pos:start="101:44" pos:end="101:49"><name pos:start="101:44" pos:end="101:49">mbn_xy</name></expr>]</index><index pos:start="101:51" pos:end="101:86">[<expr pos:start="101:52" pos:end="101:85"><ternary pos:start="101:52" pos:end="101:85"><condition pos:start="101:52" pos:end="101:61"><expr pos:start="101:52" pos:end="101:59"><name pos:start="101:52" pos:end="101:59">MB_FIELD</name></expr> ?</condition><then pos:start="101:63" pos:end="101:65"> <expr pos:start="101:63" pos:end="101:65"><name pos:start="101:63" pos:end="101:63">i</name><operator pos:start="101:64" pos:end="101:64">&amp;</operator><literal type="number" pos:start="101:65" pos:end="101:65">3</literal></expr> </then><else pos:start="101:67" pos:end="101:85">: <expr pos:start="101:69" pos:end="101:85"><operator pos:start="101:69" pos:end="101:69">(</operator><name pos:start="101:70" pos:end="101:70">i</name><operator pos:start="101:71" pos:end="101:72">&gt;&gt;</operator><literal type="number" pos:start="101:73" pos:end="101:73">2</literal><operator pos:start="101:74" pos:end="101:74">)</operator><operator pos:start="101:75" pos:end="101:75">+</operator><operator pos:start="101:76" pos:end="101:76">(</operator><name pos:start="101:77" pos:end="101:80">mb_y</name><operator pos:start="101:81" pos:end="101:81">&amp;</operator><literal type="number" pos:start="101:82" pos:end="101:82">1</literal><operator pos:start="101:83" pos:end="101:83">)</operator><operator pos:start="101:84" pos:end="101:84">*</operator><literal type="number" pos:start="101:85" pos:end="101:85">2</literal></expr></else></ternary></expr>]</index></name></expr> )</condition><block type="pseudo" pos:start="103:21" pos:end="103:30"><block_content pos:start="103:21" pos:end="103:30">

                    <expr_stmt pos:start="103:21" pos:end="103:30"><expr pos:start="103:21" pos:end="103:29"><name pos:start="103:21" pos:end="103:25"><name pos:start="103:21" pos:end="103:22">bS</name><index pos:start="103:23" pos:end="103:25">[<expr pos:start="103:24" pos:end="103:24"><name pos:start="103:24" pos:end="103:24">i</name></expr>]</index></name> <operator pos:start="103:27" pos:end="103:27">=</operator> <literal type="number" pos:start="103:29" pos:end="103:29">2</literal></expr>;</expr_stmt></block_content></block></if>

                <else pos:start="105:17" pos:end="107:30">else<block type="pseudo" pos:start="107:21" pos:end="107:30"><block_content pos:start="107:21" pos:end="107:30">

                    <expr_stmt pos:start="107:21" pos:end="107:30"><expr pos:start="107:21" pos:end="107:29"><name pos:start="107:21" pos:end="107:25"><name pos:start="107:21" pos:end="107:22">bS</name><index pos:start="107:23" pos:end="107:25">[<expr pos:start="107:24" pos:end="107:24"><name pos:start="107:24" pos:end="107:24">i</name></expr>]</index></name> <operator pos:start="107:27" pos:end="107:27">=</operator> <literal type="number" pos:start="107:29" pos:end="107:29">1</literal></expr>;</expr_stmt></block_content></block></else></if_stmt>

            </block_content>}</block></for>

        </block_content>}</block></else></if_stmt>



        <expr_stmt pos:start="115:9" pos:end="115:55"><expr pos:start="115:9" pos:end="115:54"><name pos:start="115:9" pos:end="115:13">mb_qp</name> <operator pos:start="115:15" pos:end="115:15">=</operator> <name pos:start="115:17" pos:end="115:54"><name pos:start="115:17" pos:end="115:17">s</name><operator pos:start="115:18" pos:end="115:19">-&gt;</operator><name pos:start="115:20" pos:end="115:34">current_picture</name><operator pos:start="115:35" pos:end="115:35">.</operator><name pos:start="115:36" pos:end="115:47">qscale_table</name><index pos:start="115:48" pos:end="115:54">[<expr pos:start="115:49" pos:end="115:53"><name pos:start="115:49" pos:end="115:53">mb_xy</name></expr>]</index></name></expr>;</expr_stmt>

        <expr_stmt pos:start="117:9" pos:end="117:65"><expr pos:start="117:9" pos:end="117:64"><name pos:start="117:9" pos:end="117:15">mbn0_qp</name> <operator pos:start="117:17" pos:end="117:17">=</operator> <name pos:start="117:19" pos:end="117:64"><name pos:start="117:19" pos:end="117:19">s</name><operator pos:start="117:20" pos:end="117:21">-&gt;</operator><name pos:start="117:22" pos:end="117:36">current_picture</name><operator pos:start="117:37" pos:end="117:37">.</operator><name pos:start="117:38" pos:end="117:49">qscale_table</name><index pos:start="117:50" pos:end="117:64">[<expr pos:start="117:51" pos:end="117:63"><name pos:start="117:51" pos:end="117:63"><name pos:start="117:51" pos:end="117:60">left_mb_xy</name><index pos:start="117:61" pos:end="117:63">[<expr pos:start="117:62" pos:end="117:62"><literal type="number" pos:start="117:62" pos:end="117:62">0</literal></expr>]</index></name></expr>]</index></name></expr>;</expr_stmt>

        <expr_stmt pos:start="119:9" pos:end="119:65"><expr pos:start="119:9" pos:end="119:64"><name pos:start="119:9" pos:end="119:15">mbn1_qp</name> <operator pos:start="119:17" pos:end="119:17">=</operator> <name pos:start="119:19" pos:end="119:64"><name pos:start="119:19" pos:end="119:19">s</name><operator pos:start="119:20" pos:end="119:21">-&gt;</operator><name pos:start="119:22" pos:end="119:36">current_picture</name><operator pos:start="119:37" pos:end="119:37">.</operator><name pos:start="119:38" pos:end="119:49">qscale_table</name><index pos:start="119:50" pos:end="119:64">[<expr pos:start="119:51" pos:end="119:63"><name pos:start="119:51" pos:end="119:63"><name pos:start="119:51" pos:end="119:60">left_mb_xy</name><index pos:start="119:61" pos:end="119:63">[<expr pos:start="119:62" pos:end="119:62"><literal type="number" pos:start="119:62" pos:end="119:62">1</literal></expr>]</index></name></expr>]</index></name></expr>;</expr_stmt>

        <expr_stmt pos:start="121:9" pos:end="121:45"><expr pos:start="121:9" pos:end="121:44"><name pos:start="121:9" pos:end="121:13"><name pos:start="121:9" pos:end="121:10">qp</name><index pos:start="121:11" pos:end="121:13">[<expr pos:start="121:12" pos:end="121:12"><literal type="number" pos:start="121:12" pos:end="121:12">0</literal></expr>]</index></name> <operator pos:start="121:15" pos:end="121:15">=</operator> <operator pos:start="121:17" pos:end="121:17">(</operator> <name pos:start="121:19" pos:end="121:23">mb_qp</name> <operator pos:start="121:25" pos:end="121:25">+</operator> <name pos:start="121:27" pos:end="121:33">mbn0_qp</name> <operator pos:start="121:35" pos:end="121:35">+</operator> <literal type="number" pos:start="121:37" pos:end="121:37">1</literal> <operator pos:start="121:39" pos:end="121:39">)</operator> <operator pos:start="121:41" pos:end="121:42">&gt;&gt;</operator> <literal type="number" pos:start="121:44" pos:end="121:44">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="123:9" pos:end="125:61"><expr pos:start="123:9" pos:end="125:60"><name pos:start="123:9" pos:end="123:14"><name pos:start="123:9" pos:end="123:11">bqp</name><index pos:start="123:12" pos:end="123:14">[<expr pos:start="123:13" pos:end="123:13"><literal type="number" pos:start="123:13" pos:end="123:13">0</literal></expr>]</index></name> <operator pos:start="123:16" pos:end="123:16">=</operator> <operator pos:start="123:18" pos:end="123:18">(</operator> <call pos:start="123:20" pos:end="123:47"><name pos:start="123:20" pos:end="123:32">get_chroma_qp</name><argument_list pos:start="123:33" pos:end="123:47">( <argument pos:start="123:35" pos:end="123:35"><expr pos:start="123:35" pos:end="123:35"><name pos:start="123:35" pos:end="123:35">h</name></expr></argument>, <argument pos:start="123:38" pos:end="123:38"><expr pos:start="123:38" pos:end="123:38"><literal type="number" pos:start="123:38" pos:end="123:38">0</literal></expr></argument>, <argument pos:start="123:41" pos:end="123:45"><expr pos:start="123:41" pos:end="123:45"><name pos:start="123:41" pos:end="123:45">mb_qp</name></expr></argument> )</argument_list></call> <operator pos:start="123:49" pos:end="123:49">+</operator>

                   <call pos:start="125:20" pos:end="125:49"><name pos:start="125:20" pos:end="125:32">get_chroma_qp</name><argument_list pos:start="125:33" pos:end="125:49">( <argument pos:start="125:35" pos:end="125:35"><expr pos:start="125:35" pos:end="125:35"><name pos:start="125:35" pos:end="125:35">h</name></expr></argument>, <argument pos:start="125:38" pos:end="125:38"><expr pos:start="125:38" pos:end="125:38"><literal type="number" pos:start="125:38" pos:end="125:38">0</literal></expr></argument>, <argument pos:start="125:41" pos:end="125:47"><expr pos:start="125:41" pos:end="125:47"><name pos:start="125:41" pos:end="125:47">mbn0_qp</name></expr></argument> )</argument_list></call> <operator pos:start="125:51" pos:end="125:51">+</operator> <literal type="number" pos:start="125:53" pos:end="125:53">1</literal> <operator pos:start="125:55" pos:end="125:55">)</operator> <operator pos:start="125:57" pos:end="125:58">&gt;&gt;</operator> <literal type="number" pos:start="125:60" pos:end="125:60">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="127:9" pos:end="129:61"><expr pos:start="127:9" pos:end="129:60"><name pos:start="127:9" pos:end="127:14"><name pos:start="127:9" pos:end="127:11">rqp</name><index pos:start="127:12" pos:end="127:14">[<expr pos:start="127:13" pos:end="127:13"><literal type="number" pos:start="127:13" pos:end="127:13">0</literal></expr>]</index></name> <operator pos:start="127:16" pos:end="127:16">=</operator> <operator pos:start="127:18" pos:end="127:18">(</operator> <call pos:start="127:20" pos:end="127:47"><name pos:start="127:20" pos:end="127:32">get_chroma_qp</name><argument_list pos:start="127:33" pos:end="127:47">( <argument pos:start="127:35" pos:end="127:35"><expr pos:start="127:35" pos:end="127:35"><name pos:start="127:35" pos:end="127:35">h</name></expr></argument>, <argument pos:start="127:38" pos:end="127:38"><expr pos:start="127:38" pos:end="127:38"><literal type="number" pos:start="127:38" pos:end="127:38">1</literal></expr></argument>, <argument pos:start="127:41" pos:end="127:45"><expr pos:start="127:41" pos:end="127:45"><name pos:start="127:41" pos:end="127:45">mb_qp</name></expr></argument> )</argument_list></call> <operator pos:start="127:49" pos:end="127:49">+</operator>

                   <call pos:start="129:20" pos:end="129:49"><name pos:start="129:20" pos:end="129:32">get_chroma_qp</name><argument_list pos:start="129:33" pos:end="129:49">( <argument pos:start="129:35" pos:end="129:35"><expr pos:start="129:35" pos:end="129:35"><name pos:start="129:35" pos:end="129:35">h</name></expr></argument>, <argument pos:start="129:38" pos:end="129:38"><expr pos:start="129:38" pos:end="129:38"><literal type="number" pos:start="129:38" pos:end="129:38">1</literal></expr></argument>, <argument pos:start="129:41" pos:end="129:47"><expr pos:start="129:41" pos:end="129:47"><name pos:start="129:41" pos:end="129:47">mbn0_qp</name></expr></argument> )</argument_list></call> <operator pos:start="129:51" pos:end="129:51">+</operator> <literal type="number" pos:start="129:53" pos:end="129:53">1</literal> <operator pos:start="129:55" pos:end="129:55">)</operator> <operator pos:start="129:57" pos:end="129:58">&gt;&gt;</operator> <literal type="number" pos:start="129:60" pos:end="129:60">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="131:9" pos:end="131:45"><expr pos:start="131:9" pos:end="131:44"><name pos:start="131:9" pos:end="131:13"><name pos:start="131:9" pos:end="131:10">qp</name><index pos:start="131:11" pos:end="131:13">[<expr pos:start="131:12" pos:end="131:12"><literal type="number" pos:start="131:12" pos:end="131:12">1</literal></expr>]</index></name> <operator pos:start="131:15" pos:end="131:15">=</operator> <operator pos:start="131:17" pos:end="131:17">(</operator> <name pos:start="131:19" pos:end="131:23">mb_qp</name> <operator pos:start="131:25" pos:end="131:25">+</operator> <name pos:start="131:27" pos:end="131:33">mbn1_qp</name> <operator pos:start="131:35" pos:end="131:35">+</operator> <literal type="number" pos:start="131:37" pos:end="131:37">1</literal> <operator pos:start="131:39" pos:end="131:39">)</operator> <operator pos:start="131:41" pos:end="131:42">&gt;&gt;</operator> <literal type="number" pos:start="131:44" pos:end="131:44">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="133:9" pos:end="135:61"><expr pos:start="133:9" pos:end="135:60"><name pos:start="133:9" pos:end="133:14"><name pos:start="133:9" pos:end="133:11">bqp</name><index pos:start="133:12" pos:end="133:14">[<expr pos:start="133:13" pos:end="133:13"><literal type="number" pos:start="133:13" pos:end="133:13">1</literal></expr>]</index></name> <operator pos:start="133:16" pos:end="133:16">=</operator> <operator pos:start="133:18" pos:end="133:18">(</operator> <call pos:start="133:20" pos:end="133:47"><name pos:start="133:20" pos:end="133:32">get_chroma_qp</name><argument_list pos:start="133:33" pos:end="133:47">( <argument pos:start="133:35" pos:end="133:35"><expr pos:start="133:35" pos:end="133:35"><name pos:start="133:35" pos:end="133:35">h</name></expr></argument>, <argument pos:start="133:38" pos:end="133:38"><expr pos:start="133:38" pos:end="133:38"><literal type="number" pos:start="133:38" pos:end="133:38">0</literal></expr></argument>, <argument pos:start="133:41" pos:end="133:45"><expr pos:start="133:41" pos:end="133:45"><name pos:start="133:41" pos:end="133:45">mb_qp</name></expr></argument> )</argument_list></call> <operator pos:start="133:49" pos:end="133:49">+</operator>

                   <call pos:start="135:20" pos:end="135:49"><name pos:start="135:20" pos:end="135:32">get_chroma_qp</name><argument_list pos:start="135:33" pos:end="135:49">( <argument pos:start="135:35" pos:end="135:35"><expr pos:start="135:35" pos:end="135:35"><name pos:start="135:35" pos:end="135:35">h</name></expr></argument>, <argument pos:start="135:38" pos:end="135:38"><expr pos:start="135:38" pos:end="135:38"><literal type="number" pos:start="135:38" pos:end="135:38">0</literal></expr></argument>, <argument pos:start="135:41" pos:end="135:47"><expr pos:start="135:41" pos:end="135:47"><name pos:start="135:41" pos:end="135:47">mbn1_qp</name></expr></argument> )</argument_list></call> <operator pos:start="135:51" pos:end="135:51">+</operator> <literal type="number" pos:start="135:53" pos:end="135:53">1</literal> <operator pos:start="135:55" pos:end="135:55">)</operator> <operator pos:start="135:57" pos:end="135:58">&gt;&gt;</operator> <literal type="number" pos:start="135:60" pos:end="135:60">1</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="137:9" pos:end="139:61"><expr pos:start="137:9" pos:end="139:60"><name pos:start="137:9" pos:end="137:14"><name pos:start="137:9" pos:end="137:11">rqp</name><index pos:start="137:12" pos:end="137:14">[<expr pos:start="137:13" pos:end="137:13"><literal type="number" pos:start="137:13" pos:end="137:13">1</literal></expr>]</index></name> <operator pos:start="137:16" pos:end="137:16">=</operator> <operator pos:start="137:18" pos:end="137:18">(</operator> <call pos:start="137:20" pos:end="137:47"><name pos:start="137:20" pos:end="137:32">get_chroma_qp</name><argument_list pos:start="137:33" pos:end="137:47">( <argument pos:start="137:35" pos:end="137:35"><expr pos:start="137:35" pos:end="137:35"><name pos:start="137:35" pos:end="137:35">h</name></expr></argument>, <argument pos:start="137:38" pos:end="137:38"><expr pos:start="137:38" pos:end="137:38"><literal type="number" pos:start="137:38" pos:end="137:38">1</literal></expr></argument>, <argument pos:start="137:41" pos:end="137:45"><expr pos:start="137:41" pos:end="137:45"><name pos:start="137:41" pos:end="137:45">mb_qp</name></expr></argument> )</argument_list></call> <operator pos:start="137:49" pos:end="137:49">+</operator>

                   <call pos:start="139:20" pos:end="139:49"><name pos:start="139:20" pos:end="139:32">get_chroma_qp</name><argument_list pos:start="139:33" pos:end="139:49">( <argument pos:start="139:35" pos:end="139:35"><expr pos:start="139:35" pos:end="139:35"><name pos:start="139:35" pos:end="139:35">h</name></expr></argument>, <argument pos:start="139:38" pos:end="139:38"><expr pos:start="139:38" pos:end="139:38"><literal type="number" pos:start="139:38" pos:end="139:38">1</literal></expr></argument>, <argument pos:start="139:41" pos:end="139:47"><expr pos:start="139:41" pos:end="139:47"><name pos:start="139:41" pos:end="139:47">mbn1_qp</name></expr></argument> )</argument_list></call> <operator pos:start="139:51" pos:end="139:51">+</operator> <literal type="number" pos:start="139:53" pos:end="139:53">1</literal> <operator pos:start="139:55" pos:end="139:55">)</operator> <operator pos:start="139:57" pos:end="139:58">&gt;&gt;</operator> <literal type="number" pos:start="139:60" pos:end="139:60">1</literal></expr>;</expr_stmt>



        <comment type="block" pos:start="143:9" pos:end="143:25">/* Filter edge */</comment>

        <expr_stmt pos:start="145:9" pos:end="145:177"><expr pos:start="145:9" pos:end="145:176"><call pos:start="145:9" pos:end="145:176"><name pos:start="145:9" pos:end="145:15">tprintf</name><argument_list pos:start="145:16" pos:end="145:176">(<argument pos:start="145:17" pos:end="145:24"><expr pos:start="145:17" pos:end="145:24"><name pos:start="145:17" pos:end="145:24"><name pos:start="145:17" pos:end="145:17">s</name><operator pos:start="145:18" pos:end="145:19">-&gt;</operator><name pos:start="145:20" pos:end="145:24">avctx</name></name></expr></argument>, <argument pos:start="145:27" pos:end="145:95"><expr pos:start="145:27" pos:end="145:95"><literal type="string" pos:start="145:27" pos:end="145:95">"filter mb:%d/%d MBAFF, QPy:%d/%d, QPb:%d/%d QPr:%d/%d ls:%d uvls:%d"</literal></expr></argument>, <argument pos:start="145:98" pos:end="145:101"><expr pos:start="145:98" pos:end="145:101"><name pos:start="145:98" pos:end="145:101">mb_x</name></expr></argument>, <argument pos:start="145:104" pos:end="145:107"><expr pos:start="145:104" pos:end="145:107"><name pos:start="145:104" pos:end="145:107">mb_y</name></expr></argument>, <argument pos:start="145:110" pos:end="145:114"><expr pos:start="145:110" pos:end="145:114"><name pos:start="145:110" pos:end="145:114"><name pos:start="145:110" pos:end="145:111">qp</name><index pos:start="145:112" pos:end="145:114">[<expr pos:start="145:113" pos:end="145:113"><literal type="number" pos:start="145:113" pos:end="145:113">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="145:117" pos:end="145:121"><expr pos:start="145:117" pos:end="145:121"><name pos:start="145:117" pos:end="145:121"><name pos:start="145:117" pos:end="145:118">qp</name><index pos:start="145:119" pos:end="145:121">[<expr pos:start="145:120" pos:end="145:120"><literal type="number" pos:start="145:120" pos:end="145:120">1</literal></expr>]</index></name></expr></argument>, <argument pos:start="145:124" pos:end="145:129"><expr pos:start="145:124" pos:end="145:129"><name pos:start="145:124" pos:end="145:129"><name pos:start="145:124" pos:end="145:126">bqp</name><index pos:start="145:127" pos:end="145:129">[<expr pos:start="145:128" pos:end="145:128"><literal type="number" pos:start="145:128" pos:end="145:128">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="145:132" pos:end="145:137"><expr pos:start="145:132" pos:end="145:137"><name pos:start="145:132" pos:end="145:137"><name pos:start="145:132" pos:end="145:134">bqp</name><index pos:start="145:135" pos:end="145:137">[<expr pos:start="145:136" pos:end="145:136"><literal type="number" pos:start="145:136" pos:end="145:136">1</literal></expr>]</index></name></expr></argument>, <argument pos:start="145:140" pos:end="145:145"><expr pos:start="145:140" pos:end="145:145"><name pos:start="145:140" pos:end="145:145"><name pos:start="145:140" pos:end="145:142">rqp</name><index pos:start="145:143" pos:end="145:145">[<expr pos:start="145:144" pos:end="145:144"><literal type="number" pos:start="145:144" pos:end="145:144">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="145:148" pos:end="145:153"><expr pos:start="145:148" pos:end="145:153"><name pos:start="145:148" pos:end="145:153"><name pos:start="145:148" pos:end="145:150">rqp</name><index pos:start="145:151" pos:end="145:153">[<expr pos:start="145:152" pos:end="145:152"><literal type="number" pos:start="145:152" pos:end="145:152">1</literal></expr>]</index></name></expr></argument>, <argument pos:start="145:156" pos:end="145:163"><expr pos:start="145:156" pos:end="145:163"><name pos:start="145:156" pos:end="145:163">linesize</name></expr></argument>, <argument pos:start="145:166" pos:end="145:175"><expr pos:start="145:166" pos:end="145:175"><name pos:start="145:166" pos:end="145:175">uvlinesize</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <block pos:start="147:9" pos:end="147:110">{<block_content pos:start="147:11" pos:end="147:108"> <decl_stmt pos:start="147:11" pos:end="147:16"><decl pos:start="147:11" pos:end="147:15"><type pos:start="147:11" pos:end="147:13"><name pos:start="147:11" pos:end="147:13">int</name></type> <name pos:start="147:15" pos:end="147:15">i</name></decl>;</decl_stmt> <for pos:start="147:18" pos:end="147:83">for <control pos:start="147:22" pos:end="147:40">(<init pos:start="147:23" pos:end="147:28"><expr pos:start="147:23" pos:end="147:27"><name pos:start="147:23" pos:end="147:23">i</name> <operator pos:start="147:25" pos:end="147:25">=</operator> <literal type="number" pos:start="147:27" pos:end="147:27">0</literal></expr>;</init> <condition pos:start="147:30" pos:end="147:35"><expr pos:start="147:30" pos:end="147:34"><name pos:start="147:30" pos:end="147:30">i</name> <operator pos:start="147:32" pos:end="147:32">&lt;</operator> <literal type="number" pos:start="147:34" pos:end="147:34">8</literal></expr>;</condition> <incr pos:start="147:37" pos:end="147:39"><expr pos:start="147:37" pos:end="147:39"><name pos:start="147:37" pos:end="147:37">i</name><operator pos:start="147:38" pos:end="147:39">++</operator></expr></incr>)</control><block type="pseudo" pos:start="147:42" pos:end="147:83"><block_content pos:start="147:42" pos:end="147:83"> <expr_stmt pos:start="147:42" pos:end="147:83"><expr pos:start="147:42" pos:end="147:82"><call pos:start="147:42" pos:end="147:82"><name pos:start="147:42" pos:end="147:48">tprintf</name><argument_list pos:start="147:49" pos:end="147:82">(<argument pos:start="147:50" pos:end="147:57"><expr pos:start="147:50" pos:end="147:57"><name pos:start="147:50" pos:end="147:57"><name pos:start="147:50" pos:end="147:50">s</name><operator pos:start="147:51" pos:end="147:52">-&gt;</operator><name pos:start="147:53" pos:end="147:57">avctx</name></name></expr></argument>, <argument pos:start="147:60" pos:end="147:71"><expr pos:start="147:60" pos:end="147:71"><literal type="string" pos:start="147:60" pos:end="147:71">" bS[%d]:%d"</literal></expr></argument>, <argument pos:start="147:74" pos:end="147:74"><expr pos:start="147:74" pos:end="147:74"><name pos:start="147:74" pos:end="147:74">i</name></expr></argument>, <argument pos:start="147:77" pos:end="147:81"><expr pos:start="147:77" pos:end="147:81"><name pos:start="147:77" pos:end="147:81"><name pos:start="147:77" pos:end="147:78">bS</name><index pos:start="147:79" pos:end="147:81">[<expr pos:start="147:80" pos:end="147:80"><name pos:start="147:80" pos:end="147:80">i</name></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></for> <expr_stmt pos:start="147:85" pos:end="147:108"><expr pos:start="147:85" pos:end="147:107"><call pos:start="147:85" pos:end="147:107"><name pos:start="147:85" pos:end="147:91">tprintf</name><argument_list pos:start="147:92" pos:end="147:107">(<argument pos:start="147:93" pos:end="147:100"><expr pos:start="147:93" pos:end="147:100"><name pos:start="147:93" pos:end="147:100"><name pos:start="147:93" pos:end="147:93">s</name><operator pos:start="147:94" pos:end="147:95">-&gt;</operator><name pos:start="147:96" pos:end="147:100">avctx</name></name></expr></argument>, <argument pos:start="147:103" pos:end="147:106"><expr pos:start="147:103" pos:end="147:106"><literal type="string" pos:start="147:103" pos:end="147:106">"\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt> </block_content>}</block>

        <expr_stmt pos:start="149:9" pos:end="149:68"><expr pos:start="149:9" pos:end="149:67"><call pos:start="149:9" pos:end="149:67"><name pos:start="149:9" pos:end="149:29">filter_mb_mbaff_edgev</name> <argument_list pos:start="149:31" pos:end="149:67">( <argument pos:start="149:33" pos:end="149:33"><expr pos:start="149:33" pos:end="149:33"><name pos:start="149:33" pos:end="149:33">h</name></expr></argument>, <argument pos:start="149:36" pos:end="149:45"><expr pos:start="149:36" pos:end="149:45"><operator pos:start="149:36" pos:end="149:36">&amp;</operator><name pos:start="149:37" pos:end="149:45"><name pos:start="149:37" pos:end="149:41">img_y</name> <index pos:start="149:43" pos:end="149:45">[<expr pos:start="149:44" pos:end="149:44"><literal type="number" pos:start="149:44" pos:end="149:44">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="149:48" pos:end="149:55"><expr pos:start="149:48" pos:end="149:55"><name pos:start="149:48" pos:end="149:55">linesize</name></expr></argument>,   <argument pos:start="149:60" pos:end="149:61"><expr pos:start="149:60" pos:end="149:61"><name pos:start="149:60" pos:end="149:61">bS</name></expr></argument>, <argument pos:start="149:64" pos:end="149:65"><expr pos:start="149:64" pos:end="149:65"><name pos:start="149:64" pos:end="149:65">qp</name></expr></argument> )</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="151:9" pos:end="151:69"><expr pos:start="151:9" pos:end="151:68"><call pos:start="151:9" pos:end="151:68"><name pos:start="151:9" pos:end="151:30">filter_mb_mbaff_edgecv</name><argument_list pos:start="151:31" pos:end="151:68">( <argument pos:start="151:33" pos:end="151:33"><expr pos:start="151:33" pos:end="151:33"><name pos:start="151:33" pos:end="151:33">h</name></expr></argument>, <argument pos:start="151:36" pos:end="151:45"><expr pos:start="151:36" pos:end="151:45"><operator pos:start="151:36" pos:end="151:36">&amp;</operator><name pos:start="151:37" pos:end="151:45"><name pos:start="151:37" pos:end="151:42">img_cb</name><index pos:start="151:43" pos:end="151:45">[<expr pos:start="151:44" pos:end="151:44"><literal type="number" pos:start="151:44" pos:end="151:44">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="151:48" pos:end="151:57"><expr pos:start="151:48" pos:end="151:57"><name pos:start="151:48" pos:end="151:57">uvlinesize</name></expr></argument>, <argument pos:start="151:60" pos:end="151:61"><expr pos:start="151:60" pos:end="151:61"><name pos:start="151:60" pos:end="151:61">bS</name></expr></argument>, <argument pos:start="151:64" pos:end="151:66"><expr pos:start="151:64" pos:end="151:66"><name pos:start="151:64" pos:end="151:66">bqp</name></expr></argument> )</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="153:9" pos:end="153:69"><expr pos:start="153:9" pos:end="153:68"><call pos:start="153:9" pos:end="153:68"><name pos:start="153:9" pos:end="153:30">filter_mb_mbaff_edgecv</name><argument_list pos:start="153:31" pos:end="153:68">( <argument pos:start="153:33" pos:end="153:33"><expr pos:start="153:33" pos:end="153:33"><name pos:start="153:33" pos:end="153:33">h</name></expr></argument>, <argument pos:start="153:36" pos:end="153:45"><expr pos:start="153:36" pos:end="153:45"><operator pos:start="153:36" pos:end="153:36">&amp;</operator><name pos:start="153:37" pos:end="153:45"><name pos:start="153:37" pos:end="153:42">img_cr</name><index pos:start="153:43" pos:end="153:45">[<expr pos:start="153:44" pos:end="153:44"><literal type="number" pos:start="153:44" pos:end="153:44">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="153:48" pos:end="153:57"><expr pos:start="153:48" pos:end="153:57"><name pos:start="153:48" pos:end="153:57">uvlinesize</name></expr></argument>, <argument pos:start="153:60" pos:end="153:61"><expr pos:start="153:60" pos:end="153:61"><name pos:start="153:60" pos:end="153:61">bS</name></expr></argument>, <argument pos:start="153:64" pos:end="153:66"><expr pos:start="153:64" pos:end="153:66"><name pos:start="153:64" pos:end="153:66">rqp</name></expr></argument> )</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    <comment type="block" pos:start="157:5" pos:end="157:56">/* dir : 0 -&gt; vertical edge, 1 -&gt; horizontal edge */</comment>

    <for pos:start="159:5" pos:end="517:5">for<control pos:start="159:8" pos:end="159:34">( <init pos:start="159:10" pos:end="159:17"><expr pos:start="159:10" pos:end="159:16"><name pos:start="159:10" pos:end="159:12">dir</name> <operator pos:start="159:14" pos:end="159:14">=</operator> <literal type="number" pos:start="159:16" pos:end="159:16">0</literal></expr>;</init> <condition pos:start="159:19" pos:end="159:26"><expr pos:start="159:19" pos:end="159:25"><name pos:start="159:19" pos:end="159:21">dir</name> <operator pos:start="159:23" pos:end="159:23">&lt;</operator> <literal type="number" pos:start="159:25" pos:end="159:25">2</literal></expr>;</condition> <incr pos:start="159:28" pos:end="159:32"><expr pos:start="159:28" pos:end="159:32"><name pos:start="159:28" pos:end="159:30">dir</name><operator pos:start="159:31" pos:end="159:32">++</operator></expr></incr> )</control>

    <block pos:start="161:5" pos:end="517:5">{<block_content pos:start="163:9" pos:end="515:9">

        <decl_stmt pos:start="163:9" pos:end="163:17"><decl pos:start="163:9" pos:end="163:16"><type pos:start="163:9" pos:end="163:11"><name pos:start="163:9" pos:end="163:11">int</name></type> <name pos:start="163:13" pos:end="163:16">edge</name></decl>;</decl_stmt>

        <decl_stmt pos:start="165:9" pos:end="165:62"><decl pos:start="165:9" pos:end="165:61"><type pos:start="165:9" pos:end="165:17"><specifier pos:start="165:9" pos:end="165:13">const</specifier> <name pos:start="165:15" pos:end="165:17">int</name></type> <name pos:start="165:19" pos:end="165:24">mbm_xy</name> <init pos:start="165:26" pos:end="165:61">= <expr pos:start="165:28" pos:end="165:61"><ternary pos:start="165:28" pos:end="165:61"><condition pos:start="165:28" pos:end="165:37"><expr pos:start="165:28" pos:end="165:35"><name pos:start="165:28" pos:end="165:30">dir</name> <operator pos:start="165:32" pos:end="165:33">==</operator> <literal type="number" pos:start="165:35" pos:end="165:35">0</literal></expr> ?</condition><then pos:start="165:39" pos:end="165:46"> <expr pos:start="165:39" pos:end="165:46"><name pos:start="165:39" pos:end="165:43">mb_xy</name> <operator pos:start="165:45" pos:end="165:45">-</operator><literal type="number" pos:start="165:46" pos:end="165:46">1</literal></expr> </then><else pos:start="165:48" pos:end="165:61">: <expr pos:start="165:50" pos:end="165:61"><name pos:start="165:50" pos:end="165:61"><name pos:start="165:50" pos:end="165:50">h</name><operator pos:start="165:51" pos:end="165:52">-&gt;</operator><name pos:start="165:53" pos:end="165:61">top_mb_xy</name></name></expr></else></ternary></expr></init></decl>;</decl_stmt>

        <decl_stmt pos:start="167:9" pos:end="167:64"><decl pos:start="167:9" pos:end="167:63"><type pos:start="167:9" pos:end="167:17"><specifier pos:start="167:9" pos:end="167:13">const</specifier> <name pos:start="167:15" pos:end="167:17">int</name></type> <name pos:start="167:19" pos:end="167:26">mbm_type</name> <init pos:start="167:28" pos:end="167:63">= <expr pos:start="167:30" pos:end="167:63"><name pos:start="167:30" pos:end="167:63"><name pos:start="167:30" pos:end="167:30">s</name><operator pos:start="167:31" pos:end="167:32">-&gt;</operator><name pos:start="167:33" pos:end="167:47">current_picture</name><operator pos:start="167:48" pos:end="167:48">.</operator><name pos:start="167:49" pos:end="167:55">mb_type</name><index pos:start="167:56" pos:end="167:63">[<expr pos:start="167:57" pos:end="167:62"><name pos:start="167:57" pos:end="167:62">mbm_xy</name></expr>]</index></name></expr></init></decl>;</decl_stmt>

        <decl_stmt pos:start="169:9" pos:end="169:58"><decl pos:start="169:9" pos:end="169:57"><type pos:start="169:9" pos:end="169:11"><name pos:start="169:9" pos:end="169:11">int</name></type> <name pos:start="169:13" pos:end="169:17">start</name> <init pos:start="169:19" pos:end="169:57">= <expr pos:start="169:21" pos:end="169:57"><ternary pos:start="169:21" pos:end="169:57"><condition pos:start="169:21" pos:end="169:51"><expr pos:start="169:21" pos:end="169:49"><name pos:start="169:21" pos:end="169:42"><name pos:start="169:21" pos:end="169:21">h</name><operator pos:start="169:22" pos:end="169:23">-&gt;</operator><name pos:start="169:24" pos:end="169:34">slice_table</name><index pos:start="169:35" pos:end="169:42">[<expr pos:start="169:36" pos:end="169:41"><name pos:start="169:36" pos:end="169:41">mbm_xy</name></expr>]</index></name> <operator pos:start="169:44" pos:end="169:45">==</operator> <literal type="number" pos:start="169:47" pos:end="169:49">255</literal></expr> ?</condition><then pos:start="169:53" pos:end="169:53"> <expr pos:start="169:53" pos:end="169:53"><literal type="number" pos:start="169:53" pos:end="169:53">1</literal></expr> </then><else pos:start="169:55" pos:end="169:57">: <expr pos:start="169:57" pos:end="169:57"><literal type="number" pos:start="169:57" pos:end="169:57">0</literal></expr></else></ternary></expr></init></decl>;</decl_stmt>



        <decl_stmt pos:start="173:9" pos:end="175:74"><decl pos:start="173:9" pos:end="175:73"><type pos:start="173:9" pos:end="173:17"><specifier pos:start="173:9" pos:end="173:13">const</specifier> <name pos:start="173:15" pos:end="173:17">int</name></type> <name pos:start="173:19" pos:end="173:23">edges</name> <init pos:start="173:25" pos:end="175:73">= <expr pos:start="173:27" pos:end="175:73"><ternary pos:start="173:27" pos:end="175:73"><condition pos:start="173:27" pos:end="175:67"><expr pos:start="173:27" pos:end="175:65"><operator pos:start="173:27" pos:end="173:27">(</operator><name pos:start="173:28" pos:end="173:34">mb_type</name> <operator pos:start="173:36" pos:end="173:36">&amp;</operator> <operator pos:start="173:38" pos:end="173:38">(</operator><name pos:start="173:39" pos:end="173:51">MB_TYPE_16x16</name><operator pos:start="173:52" pos:end="173:52">|</operator><name pos:start="173:53" pos:end="173:64">MB_TYPE_SKIP</name><operator pos:start="173:65" pos:end="173:65">)</operator><operator pos:start="173:66" pos:end="173:66">)</operator>

                                  <operator pos:start="175:35" pos:end="175:36">==</operator> <operator pos:start="175:38" pos:end="175:38">(</operator><name pos:start="175:39" pos:end="175:51">MB_TYPE_16x16</name><operator pos:start="175:52" pos:end="175:52">|</operator><name pos:start="175:53" pos:end="175:64">MB_TYPE_SKIP</name><operator pos:start="175:65" pos:end="175:65">)</operator></expr> ?</condition><then pos:start="175:69" pos:end="175:69"> <expr pos:start="175:69" pos:end="175:69"><literal type="number" pos:start="175:69" pos:end="175:69">1</literal></expr> </then><else pos:start="175:71" pos:end="175:73">: <expr pos:start="175:73" pos:end="175:73"><literal type="number" pos:start="175:73" pos:end="175:73">4</literal></expr></else></ternary></expr></init></decl>;</decl_stmt>

        <comment type="line" pos:start="177:9" pos:end="177:72">// how often to recheck mv-based bS when iterating between edges</comment>

        <decl_stmt pos:start="179:9" pos:end="181:72"><decl pos:start="179:9" pos:end="181:71"><type pos:start="179:9" pos:end="179:17"><specifier pos:start="179:9" pos:end="179:13">const</specifier> <name pos:start="179:15" pos:end="179:17">int</name></type> <name pos:start="179:19" pos:end="179:27">mask_edge</name> <init pos:start="179:29" pos:end="181:71">= <expr pos:start="179:31" pos:end="181:71"><ternary pos:start="179:31" pos:end="181:71"><condition pos:start="179:31" pos:end="179:83"><expr pos:start="179:31" pos:end="179:81"><operator pos:start="179:31" pos:end="179:31">(</operator><name pos:start="179:32" pos:end="179:38">mb_type</name> <operator pos:start="179:40" pos:end="179:40">&amp;</operator> <operator pos:start="179:42" pos:end="179:42">(</operator><name pos:start="179:43" pos:end="179:55">MB_TYPE_16x16</name> <operator pos:start="179:57" pos:end="179:57">|</operator> <operator pos:start="179:59" pos:end="179:59">(</operator><name pos:start="179:60" pos:end="179:71">MB_TYPE_16x8</name> <operator pos:start="179:73" pos:end="179:74">&lt;&lt;</operator> <name pos:start="179:76" pos:end="179:78">dir</name><operator pos:start="179:79" pos:end="179:79">)</operator><operator pos:start="179:80" pos:end="179:80">)</operator><operator pos:start="179:81" pos:end="179:81">)</operator></expr> ?</condition><then pos:start="179:85" pos:end="179:85"> <expr pos:start="179:85" pos:end="179:85"><literal type="number" pos:start="179:85" pos:end="179:85">3</literal></expr> </then><else pos:start="179:87" pos:end="181:71">:

                              <expr pos:start="181:31" pos:end="181:71"><ternary pos:start="181:31" pos:end="181:71"><condition pos:start="181:31" pos:end="181:65"><expr pos:start="181:31" pos:end="181:63"><operator pos:start="181:31" pos:end="181:31">(</operator><name pos:start="181:32" pos:end="181:38">mb_type</name> <operator pos:start="181:40" pos:end="181:40">&amp;</operator> <operator pos:start="181:42" pos:end="181:42">(</operator><name pos:start="181:43" pos:end="181:54">MB_TYPE_8x16</name> <operator pos:start="181:56" pos:end="181:57">&gt;&gt;</operator> <name pos:start="181:59" pos:end="181:61">dir</name><operator pos:start="181:62" pos:end="181:62">)</operator><operator pos:start="181:63" pos:end="181:63">)</operator></expr> ?</condition><then pos:start="181:67" pos:end="181:67"> <expr pos:start="181:67" pos:end="181:67"><literal type="number" pos:start="181:67" pos:end="181:67">1</literal></expr> </then><else pos:start="181:69" pos:end="181:71">: <expr pos:start="181:71" pos:end="181:71"><literal type="number" pos:start="181:71" pos:end="181:71">0</literal></expr></else></ternary></expr></else></ternary></expr></init></decl>;</decl_stmt>

        <comment type="line" pos:start="183:9" pos:end="183:74">// how often to recheck mv-based bS when iterating along each edge</comment>

        <decl_stmt pos:start="185:9" pos:end="185:80"><decl pos:start="185:9" pos:end="185:79"><type pos:start="185:9" pos:end="185:17"><specifier pos:start="185:9" pos:end="185:13">const</specifier> <name pos:start="185:15" pos:end="185:17">int</name></type> <name pos:start="185:19" pos:end="185:27">mask_par0</name> <init pos:start="185:29" pos:end="185:79">= <expr pos:start="185:31" pos:end="185:79"><name pos:start="185:31" pos:end="185:37">mb_type</name> <operator pos:start="185:39" pos:end="185:39">&amp;</operator> <operator pos:start="185:41" pos:end="185:41">(</operator><name pos:start="185:42" pos:end="185:54">MB_TYPE_16x16</name> <operator pos:start="185:56" pos:end="185:56">|</operator> <operator pos:start="185:58" pos:end="185:58">(</operator><name pos:start="185:59" pos:end="185:70">MB_TYPE_8x16</name> <operator pos:start="185:72" pos:end="185:73">&gt;&gt;</operator> <name pos:start="185:75" pos:end="185:77">dir</name><operator pos:start="185:78" pos:end="185:78">)</operator><operator pos:start="185:79" pos:end="185:79">)</operator></expr></init></decl>;</decl_stmt>



        <if_stmt pos:start="189:9" pos:end="195:9"><if pos:start="189:9" pos:end="195:9">if <condition pos:start="189:12" pos:end="189:37">(<expr pos:start="189:13" pos:end="189:36"><name pos:start="189:13" pos:end="189:36">first_vertical_edge_done</name></expr>)</condition> <block pos:start="189:39" pos:end="195:9">{<block_content pos:start="191:13" pos:end="193:41">

            <expr_stmt pos:start="191:13" pos:end="191:22"><expr pos:start="191:13" pos:end="191:21"><name pos:start="191:13" pos:end="191:17">start</name> <operator pos:start="191:19" pos:end="191:19">=</operator> <literal type="number" pos:start="191:21" pos:end="191:21">1</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="193:13" pos:end="193:41"><expr pos:start="193:13" pos:end="193:40"><name pos:start="193:13" pos:end="193:36">first_vertical_edge_done</name> <operator pos:start="193:38" pos:end="193:38">=</operator> <literal type="number" pos:start="193:40" pos:end="193:40">0</literal></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>



        <if_stmt pos:start="199:9" pos:end="201:22"><if pos:start="199:9" pos:end="201:22">if <condition pos:start="199:12" pos:end="199:87">(<expr pos:start="199:13" pos:end="199:86"><name pos:start="199:13" pos:end="199:32"><name pos:start="199:13" pos:end="199:13">h</name><operator pos:start="199:14" pos:end="199:15">-&gt;</operator><name pos:start="199:16" pos:end="199:32">deblocking_filter</name></name><operator pos:start="199:33" pos:end="199:34">==</operator><literal type="number" pos:start="199:35" pos:end="199:35">2</literal> <operator pos:start="199:37" pos:end="199:38">&amp;&amp;</operator> <name pos:start="199:40" pos:end="199:61"><name pos:start="199:40" pos:end="199:40">h</name><operator pos:start="199:41" pos:end="199:42">-&gt;</operator><name pos:start="199:43" pos:end="199:53">slice_table</name><index pos:start="199:54" pos:end="199:61">[<expr pos:start="199:55" pos:end="199:60"><name pos:start="199:55" pos:end="199:60">mbm_xy</name></expr>]</index></name> <operator pos:start="199:63" pos:end="199:64">!=</operator> <name pos:start="199:66" pos:end="199:86"><name pos:start="199:66" pos:end="199:66">h</name><operator pos:start="199:67" pos:end="199:68">-&gt;</operator><name pos:start="199:69" pos:end="199:79">slice_table</name><index pos:start="199:80" pos:end="199:86">[<expr pos:start="199:81" pos:end="199:85"><name pos:start="199:81" pos:end="199:85">mb_xy</name></expr>]</index></name></expr>)</condition><block type="pseudo" pos:start="201:13" pos:end="201:22"><block_content pos:start="201:13" pos:end="201:22">

            <expr_stmt pos:start="201:13" pos:end="201:22"><expr pos:start="201:13" pos:end="201:21"><name pos:start="201:13" pos:end="201:17">start</name> <operator pos:start="201:19" pos:end="201:19">=</operator> <literal type="number" pos:start="201:21" pos:end="201:21">1</literal></expr>;</expr_stmt></block_content></block></if></if_stmt>



        <if_stmt pos:start="205:9" pos:end="291:9"><if pos:start="205:9" pos:end="291:9">if <condition pos:start="205:12" pos:end="211:13">(<expr pos:start="205:13" pos:end="209:38"><name pos:start="205:13" pos:end="205:23">FRAME_MBAFF</name> <operator pos:start="205:25" pos:end="205:26">&amp;&amp;</operator> <operator pos:start="205:28" pos:end="205:28">(</operator><name pos:start="205:29" pos:end="205:31">dir</name> <operator pos:start="205:33" pos:end="205:34">==</operator> <literal type="number" pos:start="205:36" pos:end="205:36">1</literal><operator pos:start="205:37" pos:end="205:37">)</operator> <operator pos:start="205:39" pos:end="205:40">&amp;&amp;</operator> <operator pos:start="205:42" pos:end="205:42">(</operator><operator pos:start="205:43" pos:end="205:43">(</operator><name pos:start="205:44" pos:end="205:47">mb_y</name><operator pos:start="205:48" pos:end="205:48">&amp;</operator><literal type="number" pos:start="205:49" pos:end="205:49">1</literal><operator pos:start="205:50" pos:end="205:50">)</operator> <operator pos:start="205:52" pos:end="205:53">==</operator> <literal type="number" pos:start="205:55" pos:end="205:55">0</literal><operator pos:start="205:56" pos:end="205:56">)</operator> <operator pos:start="205:58" pos:end="205:59">&amp;&amp;</operator> <name pos:start="205:61" pos:end="205:65">start</name> <operator pos:start="205:67" pos:end="205:68">==</operator> <literal type="number" pos:start="205:70" pos:end="205:70">0</literal>

            <operator pos:start="207:13" pos:end="207:14">&amp;&amp;</operator> <operator pos:start="207:16" pos:end="207:16">!</operator><call pos:start="207:17" pos:end="207:38"><name pos:start="207:17" pos:end="207:29">IS_INTERLACED</name><argument_list pos:start="207:30" pos:end="207:38">(<argument pos:start="207:31" pos:end="207:37"><expr pos:start="207:31" pos:end="207:37"><name pos:start="207:31" pos:end="207:37">mb_type</name></expr></argument>)</argument_list></call>

            <operator pos:start="209:13" pos:end="209:14">&amp;&amp;</operator> <call pos:start="209:16" pos:end="209:38"><name pos:start="209:16" pos:end="209:28">IS_INTERLACED</name><argument_list pos:start="209:29" pos:end="209:38">(<argument pos:start="209:30" pos:end="209:37"><expr pos:start="209:30" pos:end="209:37"><name pos:start="209:30" pos:end="209:37">mbm_type</name></expr></argument>)</argument_list></call></expr>

            )</condition> <block pos:start="211:15" pos:end="291:9">{<block_content pos:start="221:13" pos:end="289:22">

            <comment type="line" pos:start="213:13" pos:end="213:74">// This is a special case in the norm where the filtering must</comment>

            <comment type="line" pos:start="215:13" pos:end="215:72">// be done twice (one each of the field) even if we are in a</comment>

            <comment type="line" pos:start="217:13" pos:end="217:32">// frame macroblock.</comment>

            <comment type="line" pos:start="219:13" pos:end="219:14">//</comment>

            <decl_stmt pos:start="221:13" pos:end="221:52"><decl pos:start="221:13" pos:end="221:51"><type pos:start="221:13" pos:end="221:28"><specifier pos:start="221:13" pos:end="221:18">static</specifier> <specifier pos:start="221:20" pos:end="221:24">const</specifier> <name pos:start="221:26" pos:end="221:28">int</name></type> <name pos:start="221:30" pos:end="221:39"><name pos:start="221:30" pos:end="221:36">nnz_idx</name><index pos:start="221:37" pos:end="221:39">[<expr pos:start="221:38" pos:end="221:38"><literal type="number" pos:start="221:38" pos:end="221:38">4</literal></expr>]</index></name> <init pos:start="221:41" pos:end="221:51">= <expr pos:start="221:43" pos:end="221:51"><block pos:start="221:43" pos:end="221:51">{<expr pos:start="221:44" pos:end="221:44"><literal type="number" pos:start="221:44" pos:end="221:44">4</literal></expr>,<expr pos:start="221:46" pos:end="221:46"><literal type="number" pos:start="221:46" pos:end="221:46">5</literal></expr>,<expr pos:start="221:48" pos:end="221:48"><literal type="number" pos:start="221:48" pos:end="221:48">6</literal></expr>,<expr pos:start="221:50" pos:end="221:50"><literal type="number" pos:start="221:50" pos:end="221:50">3</literal></expr>}</block></expr></init></decl>;</decl_stmt>

            <decl_stmt pos:start="223:13" pos:end="223:57"><decl pos:start="223:13" pos:end="223:56"><type pos:start="223:13" pos:end="223:24"><name pos:start="223:13" pos:end="223:20">unsigned</name> <name pos:start="223:22" pos:end="223:24">int</name></type> <name pos:start="223:26" pos:end="223:37">tmp_linesize</name>   <init pos:start="223:41" pos:end="223:56">= <expr pos:start="223:43" pos:end="223:56"><literal type="number" pos:start="223:43" pos:end="223:43">2</literal> <operator pos:start="223:45" pos:end="223:45">*</operator>   <name pos:start="223:49" pos:end="223:56">linesize</name></expr></init></decl>;</decl_stmt>

            <decl_stmt pos:start="225:13" pos:end="225:57"><decl pos:start="225:13" pos:end="225:56"><type pos:start="225:13" pos:end="225:24"><name pos:start="225:13" pos:end="225:20">unsigned</name> <name pos:start="225:22" pos:end="225:24">int</name></type> <name pos:start="225:26" pos:end="225:39">tmp_uvlinesize</name> <init pos:start="225:41" pos:end="225:56">= <expr pos:start="225:43" pos:end="225:56"><literal type="number" pos:start="225:43" pos:end="225:43">2</literal> <operator pos:start="225:45" pos:end="225:45">*</operator> <name pos:start="225:47" pos:end="225:56">uvlinesize</name></expr></init></decl>;</decl_stmt>

            <decl_stmt pos:start="227:13" pos:end="227:50"><decl pos:start="227:13" pos:end="227:49"><type pos:start="227:13" pos:end="227:15"><name pos:start="227:13" pos:end="227:15">int</name></type> <name pos:start="227:17" pos:end="227:22">mbn_xy</name> <init pos:start="227:24" pos:end="227:49">= <expr pos:start="227:26" pos:end="227:49"><name pos:start="227:26" pos:end="227:30">mb_xy</name> <operator pos:start="227:32" pos:end="227:32">-</operator> <literal type="number" pos:start="227:34" pos:end="227:34">2</literal> <operator pos:start="227:36" pos:end="227:36">*</operator> <name pos:start="227:38" pos:end="227:49"><name pos:start="227:38" pos:end="227:38">s</name><operator pos:start="227:39" pos:end="227:40">-&gt;</operator><name pos:start="227:41" pos:end="227:49">mb_stride</name></name></expr></init></decl>;</decl_stmt>

            <decl_stmt pos:start="229:13" pos:end="229:19"><decl pos:start="229:13" pos:end="229:18"><type pos:start="229:13" pos:end="229:15"><name pos:start="229:13" pos:end="229:15">int</name></type> <name pos:start="229:17" pos:end="229:18">qp</name></decl>;</decl_stmt>

            <decl_stmt pos:start="231:13" pos:end="231:21"><decl pos:start="231:13" pos:end="231:17"><type pos:start="231:13" pos:end="231:15"><name pos:start="231:13" pos:end="231:15">int</name></type> <name pos:start="231:17" pos:end="231:17">i</name></decl>, <decl pos:start="231:20" pos:end="231:20"><type ref="prev" pos:start="231:13" pos:end="231:15"/><name pos:start="231:20" pos:end="231:20">j</name></decl>;</decl_stmt>

            <decl_stmt pos:start="233:13" pos:end="233:26"><decl pos:start="233:13" pos:end="233:25"><type pos:start="233:13" pos:end="233:19"><name pos:start="233:13" pos:end="233:19">int16_t</name></type> <name pos:start="233:21" pos:end="233:25"><name pos:start="233:21" pos:end="233:22">bS</name><index pos:start="233:23" pos:end="233:25">[<expr pos:start="233:24" pos:end="233:24"><literal type="number" pos:start="233:24" pos:end="233:24">4</literal></expr>]</index></name></decl>;</decl_stmt>



            <for pos:start="237:13" pos:end="285:13">for<control pos:start="237:16" pos:end="237:54">(<init pos:start="237:17" pos:end="237:20"><expr pos:start="237:17" pos:end="237:19"><name pos:start="237:17" pos:end="237:17">j</name><operator pos:start="237:18" pos:end="237:18">=</operator><literal type="number" pos:start="237:19" pos:end="237:19">0</literal></expr>;</init> <condition pos:start="237:22" pos:end="237:25"><expr pos:start="237:22" pos:end="237:24"><name pos:start="237:22" pos:end="237:22">j</name><operator pos:start="237:23" pos:end="237:23">&lt;</operator><literal type="number" pos:start="237:24" pos:end="237:24">2</literal></expr>;</condition> <incr pos:start="237:27" pos:end="237:53"><expr pos:start="237:27" pos:end="237:29"><name pos:start="237:27" pos:end="237:27">j</name><operator pos:start="237:28" pos:end="237:29">++</operator></expr><operator pos:start="237:30" pos:end="237:30">,</operator> <expr pos:start="237:32" pos:end="237:53"><name pos:start="237:32" pos:end="237:37">mbn_xy</name> <operator pos:start="237:39" pos:end="237:40">+=</operator> <name pos:start="237:42" pos:end="237:53"><name pos:start="237:42" pos:end="237:42">s</name><operator pos:start="237:43" pos:end="237:44">-&gt;</operator><name pos:start="237:45" pos:end="237:53">mb_stride</name></name></expr></incr>)</control><block pos:start="237:55" pos:end="285:13">{<block_content pos:start="239:17" pos:end="283:129">

                <if_stmt pos:start="239:17" pos:end="263:17"><if pos:start="239:17" pos:end="245:17">if<condition pos:start="239:19" pos:end="241:66">( <expr pos:start="239:21" pos:end="241:64"><call pos:start="239:21" pos:end="239:37"><name pos:start="239:21" pos:end="239:28">IS_INTRA</name><argument_list pos:start="239:29" pos:end="239:37">(<argument pos:start="239:30" pos:end="239:36"><expr pos:start="239:30" pos:end="239:36"><name pos:start="239:30" pos:end="239:36">mb_type</name></expr></argument>)</argument_list></call> <operator pos:start="239:39" pos:end="239:40">||</operator>

                    <call pos:start="241:21" pos:end="241:64"><name pos:start="241:21" pos:end="241:28">IS_INTRA</name><argument_list pos:start="241:29" pos:end="241:64">(<argument pos:start="241:30" pos:end="241:63"><expr pos:start="241:30" pos:end="241:63"><name pos:start="241:30" pos:end="241:63"><name pos:start="241:30" pos:end="241:30">s</name><operator pos:start="241:31" pos:end="241:32">-&gt;</operator><name pos:start="241:33" pos:end="241:47">current_picture</name><operator pos:start="241:48" pos:end="241:48">.</operator><name pos:start="241:49" pos:end="241:55">mb_type</name><index pos:start="241:56" pos:end="241:63">[<expr pos:start="241:57" pos:end="241:62"><name pos:start="241:57" pos:end="241:62">mbn_xy</name></expr>]</index></name></expr></argument>)</argument_list></call></expr> )</condition> <block pos:start="241:68" pos:end="245:17">{<block_content pos:start="243:21" pos:end="243:54">

                    <expr_stmt pos:start="243:21" pos:end="243:54"><expr pos:start="243:21" pos:end="243:53"><name pos:start="243:21" pos:end="243:25"><name pos:start="243:21" pos:end="243:22">bS</name><index pos:start="243:23" pos:end="243:25">[<expr pos:start="243:24" pos:end="243:24"><literal type="number" pos:start="243:24" pos:end="243:24">0</literal></expr>]</index></name> <operator pos:start="243:27" pos:end="243:27">=</operator> <name pos:start="243:29" pos:end="243:33"><name pos:start="243:29" pos:end="243:30">bS</name><index pos:start="243:31" pos:end="243:33">[<expr pos:start="243:32" pos:end="243:32"><literal type="number" pos:start="243:32" pos:end="243:32">1</literal></expr>]</index></name> <operator pos:start="243:35" pos:end="243:35">=</operator> <name pos:start="243:37" pos:end="243:41"><name pos:start="243:37" pos:end="243:38">bS</name><index pos:start="243:39" pos:end="243:41">[<expr pos:start="243:40" pos:end="243:40"><literal type="number" pos:start="243:40" pos:end="243:40">2</literal></expr>]</index></name> <operator pos:start="243:43" pos:end="243:43">=</operator> <name pos:start="243:45" pos:end="243:49"><name pos:start="243:45" pos:end="243:46">bS</name><index pos:start="243:47" pos:end="243:49">[<expr pos:start="243:48" pos:end="243:48"><literal type="number" pos:start="243:48" pos:end="243:48">3</literal></expr>]</index></name> <operator pos:start="243:51" pos:end="243:51">=</operator> <literal type="number" pos:start="243:53" pos:end="243:53">3</literal></expr>;</expr_stmt>

                </block_content>}</block></if> <else pos:start="245:19" pos:end="263:17">else <block pos:start="245:24" pos:end="263:17">{<block_content pos:start="247:21" pos:end="261:21">

                    <decl_stmt pos:start="247:21" pos:end="247:71"><decl pos:start="247:21" pos:end="247:70"><type pos:start="247:21" pos:end="247:35"><specifier pos:start="247:21" pos:end="247:25">const</specifier> <name pos:start="247:27" pos:end="247:33">uint8_t</name> <modifier pos:start="247:35" pos:end="247:35">*</modifier></type><name pos:start="247:36" pos:end="247:42">mbn_nnz</name> <init pos:start="247:44" pos:end="247:70">= <expr pos:start="247:46" pos:end="247:70"><name pos:start="247:46" pos:end="247:70"><name pos:start="247:46" pos:end="247:46">h</name><operator pos:start="247:47" pos:end="247:48">-&gt;</operator><name pos:start="247:49" pos:end="247:62">non_zero_count</name><index pos:start="247:63" pos:end="247:70">[<expr pos:start="247:64" pos:end="247:69"><name pos:start="247:64" pos:end="247:69">mbn_xy</name></expr>]</index></name></expr></init></decl>;</decl_stmt>

                    <for pos:start="249:21" pos:end="261:21">for<control pos:start="249:24" pos:end="249:44">( <init pos:start="249:26" pos:end="249:31"><expr pos:start="249:26" pos:end="249:30"><name pos:start="249:26" pos:end="249:26">i</name> <operator pos:start="249:28" pos:end="249:28">=</operator> <literal type="number" pos:start="249:30" pos:end="249:30">0</literal></expr>;</init> <condition pos:start="249:33" pos:end="249:38"><expr pos:start="249:33" pos:end="249:37"><name pos:start="249:33" pos:end="249:33">i</name> <operator pos:start="249:35" pos:end="249:35">&lt;</operator> <literal type="number" pos:start="249:37" pos:end="249:37">4</literal></expr>;</condition> <incr pos:start="249:40" pos:end="249:42"><expr pos:start="249:40" pos:end="249:42"><name pos:start="249:40" pos:end="249:40">i</name><operator pos:start="249:41" pos:end="249:42">++</operator></expr></incr> )</control> <block pos:start="249:46" pos:end="261:21">{<block_content pos:start="251:25" pos:end="259:38">

                        <if_stmt pos:start="251:25" pos:end="259:38"><if pos:start="251:25" pos:end="255:38">if<condition pos:start="251:27" pos:end="253:54">( <expr pos:start="251:29" pos:end="253:52"><name pos:start="251:29" pos:end="251:63"><name pos:start="251:29" pos:end="251:29">h</name><operator pos:start="251:30" pos:end="251:31">-&gt;</operator><name pos:start="251:32" pos:end="251:51">non_zero_count_cache</name><index pos:start="251:52" pos:end="251:63">[<expr pos:start="251:53" pos:end="251:62"><name pos:start="251:53" pos:end="251:60"><name pos:start="251:53" pos:end="251:57">scan8</name><index pos:start="251:58" pos:end="251:60">[<expr pos:start="251:59" pos:end="251:59"><literal type="number" pos:start="251:59" pos:end="251:59">0</literal></expr>]</index></name><operator pos:start="251:61" pos:end="251:61">+</operator><name pos:start="251:62" pos:end="251:62">i</name></expr>]</index></name> <operator pos:start="251:65" pos:end="251:66">!=</operator> <literal type="number" pos:start="251:68" pos:end="251:68">0</literal> <operator pos:start="251:70" pos:end="251:71">||</operator>

                            <name pos:start="253:29" pos:end="253:47"><name pos:start="253:29" pos:end="253:35">mbn_nnz</name><index pos:start="253:36" pos:end="253:47">[<expr pos:start="253:37" pos:end="253:46"><name pos:start="253:37" pos:end="253:46"><name pos:start="253:37" pos:end="253:43">nnz_idx</name><index pos:start="253:44" pos:end="253:46">[<expr pos:start="253:45" pos:end="253:45"><name pos:start="253:45" pos:end="253:45">i</name></expr>]</index></name></expr>]</index></name> <operator pos:start="253:49" pos:end="253:50">!=</operator> <literal type="number" pos:start="253:52" pos:end="253:52">0</literal></expr> )</condition><block type="pseudo" pos:start="255:29" pos:end="255:38"><block_content pos:start="255:29" pos:end="255:38">

                            <expr_stmt pos:start="255:29" pos:end="255:38"><expr pos:start="255:29" pos:end="255:37"><name pos:start="255:29" pos:end="255:33"><name pos:start="255:29" pos:end="255:30">bS</name><index pos:start="255:31" pos:end="255:33">[<expr pos:start="255:32" pos:end="255:32"><name pos:start="255:32" pos:end="255:32">i</name></expr>]</index></name> <operator pos:start="255:35" pos:end="255:35">=</operator> <literal type="number" pos:start="255:37" pos:end="255:37">2</literal></expr>;</expr_stmt></block_content></block></if>

                        <else pos:start="257:25" pos:end="259:38">else<block type="pseudo" pos:start="259:29" pos:end="259:38"><block_content pos:start="259:29" pos:end="259:38">

                            <expr_stmt pos:start="259:29" pos:end="259:38"><expr pos:start="259:29" pos:end="259:37"><name pos:start="259:29" pos:end="259:33"><name pos:start="259:29" pos:end="259:30">bS</name><index pos:start="259:31" pos:end="259:33">[<expr pos:start="259:32" pos:end="259:32"><name pos:start="259:32" pos:end="259:32">i</name></expr>]</index></name> <operator pos:start="259:35" pos:end="259:35">=</operator> <literal type="number" pos:start="259:37" pos:end="259:37">1</literal></expr>;</expr_stmt></block_content></block></else></if_stmt>

                    </block_content>}</block></for>

                </block_content>}</block></else></if_stmt>

                <comment type="line" pos:start="265:17" pos:end="265:85">// Do not use s-&gt;qscale as luma quantizer because it has not the same</comment>

                <comment type="line" pos:start="267:17" pos:end="267:45">// value in IPCM macroblocks.</comment>

                <expr_stmt pos:start="269:17" pos:end="269:115"><expr pos:start="269:17" pos:end="269:114"><name pos:start="269:17" pos:end="269:18">qp</name> <operator pos:start="269:20" pos:end="269:20">=</operator> <operator pos:start="269:22" pos:end="269:22">(</operator> <name pos:start="269:24" pos:end="269:61"><name pos:start="269:24" pos:end="269:24">s</name><operator pos:start="269:25" pos:end="269:26">-&gt;</operator><name pos:start="269:27" pos:end="269:41">current_picture</name><operator pos:start="269:42" pos:end="269:42">.</operator><name pos:start="269:43" pos:end="269:54">qscale_table</name><index pos:start="269:55" pos:end="269:61">[<expr pos:start="269:56" pos:end="269:60"><name pos:start="269:56" pos:end="269:60">mb_xy</name></expr>]</index></name> <operator pos:start="269:63" pos:end="269:63">+</operator> <name pos:start="269:65" pos:end="269:103"><name pos:start="269:65" pos:end="269:65">s</name><operator pos:start="269:66" pos:end="269:67">-&gt;</operator><name pos:start="269:68" pos:end="269:82">current_picture</name><operator pos:start="269:83" pos:end="269:83">.</operator><name pos:start="269:84" pos:end="269:95">qscale_table</name><index pos:start="269:96" pos:end="269:103">[<expr pos:start="269:97" pos:end="269:102"><name pos:start="269:97" pos:end="269:102">mbn_xy</name></expr>]</index></name> <operator pos:start="269:105" pos:end="269:105">+</operator> <literal type="number" pos:start="269:107" pos:end="269:107">1</literal> <operator pos:start="269:109" pos:end="269:109">)</operator> <operator pos:start="269:111" pos:end="269:112">&gt;&gt;</operator> <literal type="number" pos:start="269:114" pos:end="269:114">1</literal></expr>;</expr_stmt>

                <expr_stmt pos:start="271:17" pos:end="271:147"><expr pos:start="271:17" pos:end="271:146"><call pos:start="271:17" pos:end="271:146"><name pos:start="271:17" pos:end="271:23">tprintf</name><argument_list pos:start="271:24" pos:end="271:146">(<argument pos:start="271:25" pos:end="271:32"><expr pos:start="271:25" pos:end="271:32"><name pos:start="271:25" pos:end="271:32"><name pos:start="271:25" pos:end="271:25">s</name><operator pos:start="271:26" pos:end="271:27">-&gt;</operator><name pos:start="271:28" pos:end="271:32">avctx</name></name></expr></argument>, <argument pos:start="271:35" pos:end="271:88"><expr pos:start="271:35" pos:end="271:88"><literal type="string" pos:start="271:35" pos:end="271:88">"filter mb:%d/%d dir:%d edge:%d, QPy:%d ls:%d uvls:%d"</literal></expr></argument>, <argument pos:start="271:91" pos:end="271:94"><expr pos:start="271:91" pos:end="271:94"><name pos:start="271:91" pos:end="271:94">mb_x</name></expr></argument>, <argument pos:start="271:97" pos:end="271:100"><expr pos:start="271:97" pos:end="271:100"><name pos:start="271:97" pos:end="271:100">mb_y</name></expr></argument>, <argument pos:start="271:103" pos:end="271:105"><expr pos:start="271:103" pos:end="271:105"><name pos:start="271:103" pos:end="271:105">dir</name></expr></argument>, <argument pos:start="271:108" pos:end="271:111"><expr pos:start="271:108" pos:end="271:111"><name pos:start="271:108" pos:end="271:111">edge</name></expr></argument>, <argument pos:start="271:114" pos:end="271:115"><expr pos:start="271:114" pos:end="271:115"><name pos:start="271:114" pos:end="271:115">qp</name></expr></argument>, <argument pos:start="271:118" pos:end="271:129"><expr pos:start="271:118" pos:end="271:129"><name pos:start="271:118" pos:end="271:129">tmp_linesize</name></expr></argument>, <argument pos:start="271:132" pos:end="271:145"><expr pos:start="271:132" pos:end="271:145"><name pos:start="271:132" pos:end="271:145">tmp_uvlinesize</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <block pos:start="273:17" pos:end="273:118">{<block_content pos:start="273:19" pos:end="273:116"> <decl_stmt pos:start="273:19" pos:end="273:24"><decl pos:start="273:19" pos:end="273:23"><type pos:start="273:19" pos:end="273:21"><name pos:start="273:19" pos:end="273:21">int</name></type> <name pos:start="273:23" pos:end="273:23">i</name></decl>;</decl_stmt> <for pos:start="273:26" pos:end="273:91">for <control pos:start="273:30" pos:end="273:48">(<init pos:start="273:31" pos:end="273:36"><expr pos:start="273:31" pos:end="273:35"><name pos:start="273:31" pos:end="273:31">i</name> <operator pos:start="273:33" pos:end="273:33">=</operator> <literal type="number" pos:start="273:35" pos:end="273:35">0</literal></expr>;</init> <condition pos:start="273:38" pos:end="273:43"><expr pos:start="273:38" pos:end="273:42"><name pos:start="273:38" pos:end="273:38">i</name> <operator pos:start="273:40" pos:end="273:40">&lt;</operator> <literal type="number" pos:start="273:42" pos:end="273:42">4</literal></expr>;</condition> <incr pos:start="273:45" pos:end="273:47"><expr pos:start="273:45" pos:end="273:47"><name pos:start="273:45" pos:end="273:45">i</name><operator pos:start="273:46" pos:end="273:47">++</operator></expr></incr>)</control><block type="pseudo" pos:start="273:50" pos:end="273:91"><block_content pos:start="273:50" pos:end="273:91"> <expr_stmt pos:start="273:50" pos:end="273:91"><expr pos:start="273:50" pos:end="273:90"><call pos:start="273:50" pos:end="273:90"><name pos:start="273:50" pos:end="273:56">tprintf</name><argument_list pos:start="273:57" pos:end="273:90">(<argument pos:start="273:58" pos:end="273:65"><expr pos:start="273:58" pos:end="273:65"><name pos:start="273:58" pos:end="273:65"><name pos:start="273:58" pos:end="273:58">s</name><operator pos:start="273:59" pos:end="273:60">-&gt;</operator><name pos:start="273:61" pos:end="273:65">avctx</name></name></expr></argument>, <argument pos:start="273:68" pos:end="273:79"><expr pos:start="273:68" pos:end="273:79"><literal type="string" pos:start="273:68" pos:end="273:79">" bS[%d]:%d"</literal></expr></argument>, <argument pos:start="273:82" pos:end="273:82"><expr pos:start="273:82" pos:end="273:82"><name pos:start="273:82" pos:end="273:82">i</name></expr></argument>, <argument pos:start="273:85" pos:end="273:89"><expr pos:start="273:85" pos:end="273:89"><name pos:start="273:85" pos:end="273:89"><name pos:start="273:85" pos:end="273:86">bS</name><index pos:start="273:87" pos:end="273:89">[<expr pos:start="273:88" pos:end="273:88"><name pos:start="273:88" pos:end="273:88">i</name></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></for> <expr_stmt pos:start="273:93" pos:end="273:116"><expr pos:start="273:93" pos:end="273:115"><call pos:start="273:93" pos:end="273:115"><name pos:start="273:93" pos:end="273:99">tprintf</name><argument_list pos:start="273:100" pos:end="273:115">(<argument pos:start="273:101" pos:end="273:108"><expr pos:start="273:101" pos:end="273:108"><name pos:start="273:101" pos:end="273:108"><name pos:start="273:101" pos:end="273:101">s</name><operator pos:start="273:102" pos:end="273:103">-&gt;</operator><name pos:start="273:104" pos:end="273:108">avctx</name></name></expr></argument>, <argument pos:start="273:111" pos:end="273:114"><expr pos:start="273:111" pos:end="273:114"><literal type="string" pos:start="273:111" pos:end="273:114">"\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt> </block_content>}</block>

                <expr_stmt pos:start="275:17" pos:end="275:79"><expr pos:start="275:17" pos:end="275:78"><call pos:start="275:17" pos:end="275:78"><name pos:start="275:17" pos:end="275:31">filter_mb_edgeh</name><argument_list pos:start="275:32" pos:end="275:78">( <argument pos:start="275:34" pos:end="275:34"><expr pos:start="275:34" pos:end="275:34"><name pos:start="275:34" pos:end="275:34">h</name></expr></argument>, <argument pos:start="275:37" pos:end="275:54"><expr pos:start="275:37" pos:end="275:54"><operator pos:start="275:37" pos:end="275:37">&amp;</operator><name pos:start="275:38" pos:end="275:54"><name pos:start="275:38" pos:end="275:42">img_y</name><index pos:start="275:43" pos:end="275:54">[<expr pos:start="275:44" pos:end="275:53"><name pos:start="275:44" pos:end="275:44">j</name><operator pos:start="275:45" pos:end="275:45">*</operator><name pos:start="275:46" pos:end="275:53">linesize</name></expr>]</index></name></expr></argument>, <argument pos:start="275:57" pos:end="275:68"><expr pos:start="275:57" pos:end="275:68"><name pos:start="275:57" pos:end="275:68">tmp_linesize</name></expr></argument>, <argument pos:start="275:71" pos:end="275:72"><expr pos:start="275:71" pos:end="275:72"><name pos:start="275:71" pos:end="275:72">bS</name></expr></argument>, <argument pos:start="275:75" pos:end="275:76"><expr pos:start="275:75" pos:end="275:76"><name pos:start="275:75" pos:end="275:76">qp</name></expr></argument> )</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="277:17" pos:end="279:129"><expr pos:start="277:17" pos:end="279:128"><call pos:start="277:17" pos:end="279:128"><name pos:start="277:17" pos:end="277:32">filter_mb_edgech</name><argument_list pos:start="277:33" pos:end="279:128">( <argument pos:start="277:35" pos:end="277:35"><expr pos:start="277:35" pos:end="277:35"><name pos:start="277:35" pos:end="277:35">h</name></expr></argument>, <argument pos:start="277:38" pos:end="277:58"><expr pos:start="277:38" pos:end="277:58"><operator pos:start="277:38" pos:end="277:38">&amp;</operator><name pos:start="277:39" pos:end="277:58"><name pos:start="277:39" pos:end="277:44">img_cb</name><index pos:start="277:45" pos:end="277:58">[<expr pos:start="277:46" pos:end="277:57"><name pos:start="277:46" pos:end="277:46">j</name><operator pos:start="277:47" pos:end="277:47">*</operator><name pos:start="277:48" pos:end="277:57">uvlinesize</name></expr>]</index></name></expr></argument>, <argument pos:start="277:61" pos:end="277:74"><expr pos:start="277:61" pos:end="277:74"><name pos:start="277:61" pos:end="277:74">tmp_uvlinesize</name></expr></argument>, <argument pos:start="277:77" pos:end="277:78"><expr pos:start="277:77" pos:end="277:78"><name pos:start="277:77" pos:end="277:78">bS</name></expr></argument>,

                                  <argument pos:start="279:35" pos:end="279:127"><expr pos:start="279:35" pos:end="279:127"><operator pos:start="279:35" pos:end="279:35">(</operator> <name pos:start="279:37" pos:end="279:51"><name pos:start="279:37" pos:end="279:37">h</name><operator pos:start="279:38" pos:end="279:39">-&gt;</operator><name pos:start="279:40" pos:end="279:48">chroma_qp</name><index pos:start="279:49" pos:end="279:51">[<expr pos:start="279:50" pos:end="279:50"><literal type="number" pos:start="279:50" pos:end="279:50">0</literal></expr>]</index></name> <operator pos:start="279:53" pos:end="279:53">+</operator> <call pos:start="279:55" pos:end="279:116"><name pos:start="279:55" pos:end="279:67">get_chroma_qp</name><argument_list pos:start="279:68" pos:end="279:116">( <argument pos:start="279:70" pos:end="279:70"><expr pos:start="279:70" pos:end="279:70"><name pos:start="279:70" pos:end="279:70">h</name></expr></argument>, <argument pos:start="279:73" pos:end="279:73"><expr pos:start="279:73" pos:end="279:73"><literal type="number" pos:start="279:73" pos:end="279:73">0</literal></expr></argument>, <argument pos:start="279:76" pos:end="279:114"><expr pos:start="279:76" pos:end="279:114"><name pos:start="279:76" pos:end="279:114"><name pos:start="279:76" pos:end="279:76">s</name><operator pos:start="279:77" pos:end="279:78">-&gt;</operator><name pos:start="279:79" pos:end="279:93">current_picture</name><operator pos:start="279:94" pos:end="279:94">.</operator><name pos:start="279:95" pos:end="279:106">qscale_table</name><index pos:start="279:107" pos:end="279:114">[<expr pos:start="279:108" pos:end="279:113"><name pos:start="279:108" pos:end="279:113">mbn_xy</name></expr>]</index></name></expr></argument> )</argument_list></call> <operator pos:start="279:118" pos:end="279:118">+</operator> <literal type="number" pos:start="279:120" pos:end="279:120">1</literal> <operator pos:start="279:122" pos:end="279:122">)</operator> <operator pos:start="279:124" pos:end="279:125">&gt;&gt;</operator> <literal type="number" pos:start="279:127" pos:end="279:127">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="281:17" pos:end="283:129"><expr pos:start="281:17" pos:end="283:128"><call pos:start="281:17" pos:end="283:128"><name pos:start="281:17" pos:end="281:32">filter_mb_edgech</name><argument_list pos:start="281:33" pos:end="283:128">( <argument pos:start="281:35" pos:end="281:35"><expr pos:start="281:35" pos:end="281:35"><name pos:start="281:35" pos:end="281:35">h</name></expr></argument>, <argument pos:start="281:38" pos:end="281:58"><expr pos:start="281:38" pos:end="281:58"><operator pos:start="281:38" pos:end="281:38">&amp;</operator><name pos:start="281:39" pos:end="281:58"><name pos:start="281:39" pos:end="281:44">img_cr</name><index pos:start="281:45" pos:end="281:58">[<expr pos:start="281:46" pos:end="281:57"><name pos:start="281:46" pos:end="281:46">j</name><operator pos:start="281:47" pos:end="281:47">*</operator><name pos:start="281:48" pos:end="281:57">uvlinesize</name></expr>]</index></name></expr></argument>, <argument pos:start="281:61" pos:end="281:74"><expr pos:start="281:61" pos:end="281:74"><name pos:start="281:61" pos:end="281:74">tmp_uvlinesize</name></expr></argument>, <argument pos:start="281:77" pos:end="281:78"><expr pos:start="281:77" pos:end="281:78"><name pos:start="281:77" pos:end="281:78">bS</name></expr></argument>,

                                  <argument pos:start="283:35" pos:end="283:127"><expr pos:start="283:35" pos:end="283:127"><operator pos:start="283:35" pos:end="283:35">(</operator> <name pos:start="283:37" pos:end="283:51"><name pos:start="283:37" pos:end="283:37">h</name><operator pos:start="283:38" pos:end="283:39">-&gt;</operator><name pos:start="283:40" pos:end="283:48">chroma_qp</name><index pos:start="283:49" pos:end="283:51">[<expr pos:start="283:50" pos:end="283:50"><literal type="number" pos:start="283:50" pos:end="283:50">1</literal></expr>]</index></name> <operator pos:start="283:53" pos:end="283:53">+</operator> <call pos:start="283:55" pos:end="283:116"><name pos:start="283:55" pos:end="283:67">get_chroma_qp</name><argument_list pos:start="283:68" pos:end="283:116">( <argument pos:start="283:70" pos:end="283:70"><expr pos:start="283:70" pos:end="283:70"><name pos:start="283:70" pos:end="283:70">h</name></expr></argument>, <argument pos:start="283:73" pos:end="283:73"><expr pos:start="283:73" pos:end="283:73"><literal type="number" pos:start="283:73" pos:end="283:73">1</literal></expr></argument>, <argument pos:start="283:76" pos:end="283:114"><expr pos:start="283:76" pos:end="283:114"><name pos:start="283:76" pos:end="283:114"><name pos:start="283:76" pos:end="283:76">s</name><operator pos:start="283:77" pos:end="283:78">-&gt;</operator><name pos:start="283:79" pos:end="283:93">current_picture</name><operator pos:start="283:94" pos:end="283:94">.</operator><name pos:start="283:95" pos:end="283:106">qscale_table</name><index pos:start="283:107" pos:end="283:114">[<expr pos:start="283:108" pos:end="283:113"><name pos:start="283:108" pos:end="283:113">mbn_xy</name></expr>]</index></name></expr></argument> )</argument_list></call> <operator pos:start="283:118" pos:end="283:118">+</operator> <literal type="number" pos:start="283:120" pos:end="283:120">1</literal> <operator pos:start="283:122" pos:end="283:122">)</operator> <operator pos:start="283:124" pos:end="283:125">&gt;&gt;</operator> <literal type="number" pos:start="283:127" pos:end="283:127">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></for>



            <expr_stmt pos:start="289:13" pos:end="289:22"><expr pos:start="289:13" pos:end="289:21"><name pos:start="289:13" pos:end="289:17">start</name> <operator pos:start="289:19" pos:end="289:19">=</operator> <literal type="number" pos:start="289:21" pos:end="289:21">1</literal></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>



        <comment type="block" pos:start="295:9" pos:end="295:26">/* Calculate bS */</comment>

        <for pos:start="297:9" pos:end="515:9">for<control pos:start="297:12" pos:end="297:49">( <init pos:start="297:14" pos:end="297:26"><expr pos:start="297:14" pos:end="297:25"><name pos:start="297:14" pos:end="297:17">edge</name> <operator pos:start="297:19" pos:end="297:19">=</operator> <name pos:start="297:21" pos:end="297:25">start</name></expr>;</init> <condition pos:start="297:28" pos:end="297:40"><expr pos:start="297:28" pos:end="297:39"><name pos:start="297:28" pos:end="297:31">edge</name> <operator pos:start="297:33" pos:end="297:33">&lt;</operator> <name pos:start="297:35" pos:end="297:39">edges</name></expr>;</condition> <incr pos:start="297:42" pos:end="297:47"><expr pos:start="297:42" pos:end="297:47"><name pos:start="297:42" pos:end="297:45">edge</name><operator pos:start="297:46" pos:end="297:47">++</operator></expr></incr> )</control> <block pos:start="297:51" pos:end="515:9">{<block_content pos:start="301:13" pos:end="513:13">

            <comment type="block" pos:start="299:13" pos:end="299:45">/* mbn_xy: neighbor macroblock */</comment>

            <decl_stmt pos:start="301:13" pos:end="301:57"><decl pos:start="301:13" pos:end="301:56"><type pos:start="301:13" pos:end="301:21"><specifier pos:start="301:13" pos:end="301:17">const</specifier> <name pos:start="301:19" pos:end="301:21">int</name></type> <name pos:start="301:23" pos:end="301:28">mbn_xy</name> <init pos:start="301:30" pos:end="301:56">= <expr pos:start="301:32" pos:end="301:56"><ternary pos:start="301:32" pos:end="301:56"><condition pos:start="301:32" pos:end="301:41"><expr pos:start="301:32" pos:end="301:39"><name pos:start="301:32" pos:end="301:35">edge</name> <operator pos:start="301:37" pos:end="301:37">&gt;</operator> <literal type="number" pos:start="301:39" pos:end="301:39">0</literal></expr> ?</condition><then pos:start="301:43" pos:end="301:47"> <expr pos:start="301:43" pos:end="301:47"><name pos:start="301:43" pos:end="301:47">mb_xy</name></expr> </then><else pos:start="301:49" pos:end="301:56">: <expr pos:start="301:51" pos:end="301:56"><name pos:start="301:51" pos:end="301:56">mbm_xy</name></expr></else></ternary></expr></init></decl>;</decl_stmt>

            <decl_stmt pos:start="303:13" pos:end="303:68"><decl pos:start="303:13" pos:end="303:67"><type pos:start="303:13" pos:end="303:21"><specifier pos:start="303:13" pos:end="303:17">const</specifier> <name pos:start="303:19" pos:end="303:21">int</name></type> <name pos:start="303:23" pos:end="303:30">mbn_type</name> <init pos:start="303:32" pos:end="303:67">= <expr pos:start="303:34" pos:end="303:67"><name pos:start="303:34" pos:end="303:67"><name pos:start="303:34" pos:end="303:34">s</name><operator pos:start="303:35" pos:end="303:36">-&gt;</operator><name pos:start="303:37" pos:end="303:51">current_picture</name><operator pos:start="303:52" pos:end="303:52">.</operator><name pos:start="303:53" pos:end="303:59">mb_type</name><index pos:start="303:60" pos:end="303:67">[<expr pos:start="303:61" pos:end="303:66"><name pos:start="303:61" pos:end="303:66">mbn_xy</name></expr>]</index></name></expr></init></decl>;</decl_stmt>

            <decl_stmt pos:start="305:13" pos:end="305:26"><decl pos:start="305:13" pos:end="305:25"><type pos:start="305:13" pos:end="305:19"><name pos:start="305:13" pos:end="305:19">int16_t</name></type> <name pos:start="305:21" pos:end="305:25"><name pos:start="305:21" pos:end="305:22">bS</name><index pos:start="305:23" pos:end="305:25">[<expr pos:start="305:24" pos:end="305:24"><literal type="number" pos:start="305:24" pos:end="305:24">4</literal></expr>]</index></name></decl>;</decl_stmt>

            <decl_stmt pos:start="307:13" pos:end="307:19"><decl pos:start="307:13" pos:end="307:18"><type pos:start="307:13" pos:end="307:15"><name pos:start="307:13" pos:end="307:15">int</name></type> <name pos:start="307:17" pos:end="307:18">qp</name></decl>;</decl_stmt>



            <if_stmt pos:start="311:13" pos:end="313:25"><if pos:start="311:13" pos:end="313:25">if<condition pos:start="311:15" pos:end="311:48">( <expr pos:start="311:17" pos:end="311:46"><operator pos:start="311:17" pos:end="311:17">(</operator><name pos:start="311:18" pos:end="311:21">edge</name><operator pos:start="311:22" pos:end="311:22">&amp;</operator><literal type="number" pos:start="311:23" pos:end="311:23">1</literal><operator pos:start="311:24" pos:end="311:24">)</operator> <operator pos:start="311:26" pos:end="311:27">&amp;&amp;</operator> <call pos:start="311:29" pos:end="311:46"><name pos:start="311:29" pos:end="311:37">IS_8x8DCT</name><argument_list pos:start="311:38" pos:end="311:46">(<argument pos:start="311:39" pos:end="311:45"><expr pos:start="311:39" pos:end="311:45"><name pos:start="311:39" pos:end="311:45">mb_type</name></expr></argument>)</argument_list></call></expr> )</condition><block type="pseudo" pos:start="313:17" pos:end="313:25"><block_content pos:start="313:17" pos:end="313:25">

                <continue pos:start="313:17" pos:end="313:25">continue;</continue></block_content></block></if></if_stmt>



            <if_stmt pos:start="317:13" pos:end="463:13"><if pos:start="317:13" pos:end="347:13">if<condition pos:start="317:15" pos:end="319:36">( <expr pos:start="317:17" pos:end="319:34"><call pos:start="317:17" pos:end="317:33"><name pos:start="317:17" pos:end="317:24">IS_INTRA</name><argument_list pos:start="317:25" pos:end="317:33">(<argument pos:start="317:26" pos:end="317:32"><expr pos:start="317:26" pos:end="317:32"><name pos:start="317:26" pos:end="317:32">mb_type</name></expr></argument>)</argument_list></call> <operator pos:start="317:35" pos:end="317:36">||</operator>

                <call pos:start="319:17" pos:end="319:34"><name pos:start="319:17" pos:end="319:24">IS_INTRA</name><argument_list pos:start="319:25" pos:end="319:34">(<argument pos:start="319:26" pos:end="319:33"><expr pos:start="319:26" pos:end="319:33"><name pos:start="319:26" pos:end="319:33">mbn_type</name></expr></argument>)</argument_list></call></expr> )</condition> <block pos:start="319:38" pos:end="347:13">{<block_content pos:start="321:17" pos:end="345:54">

                <decl_stmt pos:start="321:17" pos:end="321:26"><decl pos:start="321:17" pos:end="321:25"><type pos:start="321:17" pos:end="321:19"><name pos:start="321:17" pos:end="321:19">int</name></type> <name pos:start="321:21" pos:end="321:25">value</name></decl>;</decl_stmt>

                <if_stmt pos:start="323:17" pos:end="343:17"><if pos:start="323:17" pos:end="339:17">if <condition pos:start="323:20" pos:end="323:30">(<expr pos:start="323:21" pos:end="323:29"><name pos:start="323:21" pos:end="323:24">edge</name> <operator pos:start="323:26" pos:end="323:27">==</operator> <literal type="number" pos:start="323:29" pos:end="323:29">0</literal></expr>)</condition> <block pos:start="323:32" pos:end="339:17">{<block_content pos:start="325:21" pos:end="337:21">

                    <if_stmt pos:start="325:21" pos:end="337:21"><if pos:start="325:21" pos:end="333:21">if <condition pos:start="325:24" pos:end="329:21">(   <expr pos:start="325:28" pos:end="327:96"><operator pos:start="325:28" pos:end="325:28">(</operator><operator pos:start="325:29" pos:end="325:29">!</operator><call pos:start="325:30" pos:end="325:51"><name pos:start="325:30" pos:end="325:42">IS_INTERLACED</name><argument_list pos:start="325:43" pos:end="325:51">(<argument pos:start="325:44" pos:end="325:50"><expr pos:start="325:44" pos:end="325:50"><name pos:start="325:44" pos:end="325:50">mb_type</name></expr></argument>)</argument_list></call> <operator pos:start="325:53" pos:end="325:54">&amp;&amp;</operator> <operator pos:start="325:56" pos:end="325:56">!</operator><call pos:start="325:57" pos:end="325:79"><name pos:start="325:57" pos:end="325:69">IS_INTERLACED</name><argument_list pos:start="325:70" pos:end="325:79">(<argument pos:start="325:71" pos:end="325:78"><expr pos:start="325:71" pos:end="325:78"><name pos:start="325:71" pos:end="325:78">mbm_type</name></expr></argument>)</argument_list></call><operator pos:start="325:80" pos:end="325:80">)</operator>

                        <operator pos:start="327:25" pos:end="327:26">||</operator> <operator pos:start="327:28" pos:end="327:28">(</operator><operator pos:start="327:29" pos:end="327:29">(</operator><name pos:start="327:30" pos:end="327:40">FRAME_MBAFF</name> <operator pos:start="327:42" pos:end="327:43">||</operator> <operator pos:start="327:45" pos:end="327:45">(</operator><name pos:start="327:46" pos:end="327:65"><name pos:start="327:46" pos:end="327:46">s</name><operator pos:start="327:47" pos:end="327:48">-&gt;</operator><name pos:start="327:49" pos:end="327:65">picture_structure</name></name> <operator pos:start="327:67" pos:end="327:68">!=</operator> <name pos:start="327:70" pos:end="327:79">PICT_FRAME</name><operator pos:start="327:80" pos:end="327:80">)</operator><operator pos:start="327:81" pos:end="327:81">)</operator> <operator pos:start="327:83" pos:end="327:84">&amp;&amp;</operator> <operator pos:start="327:86" pos:end="327:86">(</operator><name pos:start="327:87" pos:end="327:89">dir</name> <operator pos:start="327:91" pos:end="327:92">==</operator> <literal type="number" pos:start="327:94" pos:end="327:94">0</literal><operator pos:start="327:95" pos:end="327:95">)</operator><operator pos:start="327:96" pos:end="327:96">)</operator></expr>

                    )</condition> <block pos:start="329:23" pos:end="333:21">{<block_content pos:start="331:25" pos:end="331:34">

                        <expr_stmt pos:start="331:25" pos:end="331:34"><expr pos:start="331:25" pos:end="331:33"><name pos:start="331:25" pos:end="331:29">value</name> <operator pos:start="331:31" pos:end="331:31">=</operator> <literal type="number" pos:start="331:33" pos:end="331:33">4</literal></expr>;</expr_stmt>

                    </block_content>}</block></if> <else pos:start="333:23" pos:end="337:21">else <block pos:start="333:28" pos:end="337:21">{<block_content pos:start="335:25" pos:end="335:34">

                        <expr_stmt pos:start="335:25" pos:end="335:34"><expr pos:start="335:25" pos:end="335:33"><name pos:start="335:25" pos:end="335:29">value</name> <operator pos:start="335:31" pos:end="335:31">=</operator> <literal type="number" pos:start="335:33" pos:end="335:33">3</literal></expr>;</expr_stmt>

                    </block_content>}</block></else></if_stmt>

                </block_content>}</block></if> <else pos:start="339:19" pos:end="343:17">else <block pos:start="339:24" pos:end="343:17">{<block_content pos:start="341:21" pos:end="341:30">

                    <expr_stmt pos:start="341:21" pos:end="341:30"><expr pos:start="341:21" pos:end="341:29"><name pos:start="341:21" pos:end="341:25">value</name> <operator pos:start="341:27" pos:end="341:27">=</operator> <literal type="number" pos:start="341:29" pos:end="341:29">3</literal></expr>;</expr_stmt>

                </block_content>}</block></else></if_stmt>

                <expr_stmt pos:start="345:17" pos:end="345:54"><expr pos:start="345:17" pos:end="345:53"><name pos:start="345:17" pos:end="345:21"><name pos:start="345:17" pos:end="345:18">bS</name><index pos:start="345:19" pos:end="345:21">[<expr pos:start="345:20" pos:end="345:20"><literal type="number" pos:start="345:20" pos:end="345:20">0</literal></expr>]</index></name> <operator pos:start="345:23" pos:end="345:23">=</operator> <name pos:start="345:25" pos:end="345:29"><name pos:start="345:25" pos:end="345:26">bS</name><index pos:start="345:27" pos:end="345:29">[<expr pos:start="345:28" pos:end="345:28"><literal type="number" pos:start="345:28" pos:end="345:28">1</literal></expr>]</index></name> <operator pos:start="345:31" pos:end="345:31">=</operator> <name pos:start="345:33" pos:end="345:37"><name pos:start="345:33" pos:end="345:34">bS</name><index pos:start="345:35" pos:end="345:37">[<expr pos:start="345:36" pos:end="345:36"><literal type="number" pos:start="345:36" pos:end="345:36">2</literal></expr>]</index></name> <operator pos:start="345:39" pos:end="345:39">=</operator> <name pos:start="345:41" pos:end="345:45"><name pos:start="345:41" pos:end="345:42">bS</name><index pos:start="345:43" pos:end="345:45">[<expr pos:start="345:44" pos:end="345:44"><literal type="number" pos:start="345:44" pos:end="345:44">3</literal></expr>]</index></name> <operator pos:start="345:47" pos:end="345:47">=</operator> <name pos:start="345:49" pos:end="345:53">value</name></expr>;</expr_stmt>

            </block_content>}</block></if> <else pos:start="347:15" pos:end="463:13">else <block pos:start="347:20" pos:end="463:13">{<block_content pos:start="349:17" pos:end="461:29">

                <decl_stmt pos:start="349:17" pos:end="349:25"><decl pos:start="349:17" pos:end="349:21"><type pos:start="349:17" pos:end="349:19"><name pos:start="349:17" pos:end="349:19">int</name></type> <name pos:start="349:21" pos:end="349:21">i</name></decl>, <decl pos:start="349:24" pos:end="349:24"><type ref="prev" pos:start="349:17" pos:end="349:19"/><name pos:start="349:24" pos:end="349:24">l</name></decl>;</decl_stmt>

                <decl_stmt pos:start="351:17" pos:end="351:28"><decl pos:start="351:17" pos:end="351:27"><type pos:start="351:17" pos:end="351:19"><name pos:start="351:17" pos:end="351:19">int</name></type> <name pos:start="351:21" pos:end="351:27">mv_done</name></decl>;</decl_stmt>



                <if_stmt pos:start="355:17" pos:end="403:32"><if pos:start="355:17" pos:end="361:17">if<condition pos:start="355:19" pos:end="355:38">( <expr pos:start="355:21" pos:end="355:36"><name pos:start="355:21" pos:end="355:24">edge</name> <operator pos:start="355:26" pos:end="355:26">&amp;</operator> <name pos:start="355:28" pos:end="355:36">mask_edge</name></expr> )</condition> <block pos:start="355:40" pos:end="361:17">{<block_content pos:start="357:21" pos:end="359:32">

                    <expr_stmt pos:start="357:21" pos:end="357:54"><expr pos:start="357:21" pos:end="357:53"><name pos:start="357:21" pos:end="357:25"><name pos:start="357:21" pos:end="357:22">bS</name><index pos:start="357:23" pos:end="357:25">[<expr pos:start="357:24" pos:end="357:24"><literal type="number" pos:start="357:24" pos:end="357:24">0</literal></expr>]</index></name> <operator pos:start="357:27" pos:end="357:27">=</operator> <name pos:start="357:29" pos:end="357:33"><name pos:start="357:29" pos:end="357:30">bS</name><index pos:start="357:31" pos:end="357:33">[<expr pos:start="357:32" pos:end="357:32"><literal type="number" pos:start="357:32" pos:end="357:32">1</literal></expr>]</index></name> <operator pos:start="357:35" pos:end="357:35">=</operator> <name pos:start="357:37" pos:end="357:41"><name pos:start="357:37" pos:end="357:38">bS</name><index pos:start="357:39" pos:end="357:41">[<expr pos:start="357:40" pos:end="357:40"><literal type="number" pos:start="357:40" pos:end="357:40">2</literal></expr>]</index></name> <operator pos:start="357:43" pos:end="357:43">=</operator> <name pos:start="357:45" pos:end="357:49"><name pos:start="357:45" pos:end="357:46">bS</name><index pos:start="357:47" pos:end="357:49">[<expr pos:start="357:48" pos:end="357:48"><literal type="number" pos:start="357:48" pos:end="357:48">3</literal></expr>]</index></name> <operator pos:start="357:51" pos:end="357:51">=</operator> <literal type="number" pos:start="357:53" pos:end="357:53">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="359:21" pos:end="359:32"><expr pos:start="359:21" pos:end="359:31"><name pos:start="359:21" pos:end="359:27">mv_done</name> <operator pos:start="359:29" pos:end="359:29">=</operator> <literal type="number" pos:start="359:31" pos:end="359:31">1</literal></expr>;</expr_stmt>

                </block_content>}</block></if>

                <if type="elseif" pos:start="363:17" pos:end="369:17">else if<condition pos:start="363:24" pos:end="363:74">( <expr pos:start="363:26" pos:end="363:73"><name pos:start="363:26" pos:end="363:36">FRAME_MBAFF</name> <operator pos:start="363:38" pos:end="363:39">&amp;&amp;</operator> <call pos:start="363:41" pos:end="363:73"><name pos:start="363:41" pos:end="363:53">IS_INTERLACED</name><argument_list pos:start="363:54" pos:end="363:73">(<argument pos:start="363:55" pos:end="363:72"><expr pos:start="363:55" pos:end="363:72"><name pos:start="363:55" pos:end="363:61">mb_type</name> <operator pos:start="363:63" pos:end="363:63">^</operator> <name pos:start="363:65" pos:end="363:72">mbn_type</name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="363:76" pos:end="369:17">{<block_content pos:start="365:21" pos:end="367:32">

                    <expr_stmt pos:start="365:21" pos:end="365:54"><expr pos:start="365:21" pos:end="365:53"><name pos:start="365:21" pos:end="365:25"><name pos:start="365:21" pos:end="365:22">bS</name><index pos:start="365:23" pos:end="365:25">[<expr pos:start="365:24" pos:end="365:24"><literal type="number" pos:start="365:24" pos:end="365:24">0</literal></expr>]</index></name> <operator pos:start="365:27" pos:end="365:27">=</operator> <name pos:start="365:29" pos:end="365:33"><name pos:start="365:29" pos:end="365:30">bS</name><index pos:start="365:31" pos:end="365:33">[<expr pos:start="365:32" pos:end="365:32"><literal type="number" pos:start="365:32" pos:end="365:32">1</literal></expr>]</index></name> <operator pos:start="365:35" pos:end="365:35">=</operator> <name pos:start="365:37" pos:end="365:41"><name pos:start="365:37" pos:end="365:38">bS</name><index pos:start="365:39" pos:end="365:41">[<expr pos:start="365:40" pos:end="365:40"><literal type="number" pos:start="365:40" pos:end="365:40">2</literal></expr>]</index></name> <operator pos:start="365:43" pos:end="365:43">=</operator> <name pos:start="365:45" pos:end="365:49"><name pos:start="365:45" pos:end="365:46">bS</name><index pos:start="365:47" pos:end="365:49">[<expr pos:start="365:48" pos:end="365:48"><literal type="number" pos:start="365:48" pos:end="365:48">3</literal></expr>]</index></name> <operator pos:start="365:51" pos:end="365:51">=</operator> <literal type="number" pos:start="365:53" pos:end="365:53">1</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="367:21" pos:end="367:32"><expr pos:start="367:21" pos:end="367:31"><name pos:start="367:21" pos:end="367:27">mv_done</name> <operator pos:start="367:29" pos:end="367:29">=</operator> <literal type="number" pos:start="367:31" pos:end="367:31">1</literal></expr>;</expr_stmt>

                </block_content>}</block></if>

                <if type="elseif" pos:start="371:17" pos:end="399:17">else if<condition pos:start="371:24" pos:end="371:102">( <expr pos:start="371:26" pos:end="371:100"><name pos:start="371:26" pos:end="371:34">mask_par0</name> <operator pos:start="371:36" pos:end="371:37">&amp;&amp;</operator> <operator pos:start="371:39" pos:end="371:39">(</operator><name pos:start="371:40" pos:end="371:43">edge</name> <operator pos:start="371:45" pos:end="371:46">||</operator> <operator pos:start="371:48" pos:end="371:48">(</operator><name pos:start="371:49" pos:end="371:56">mbn_type</name> <operator pos:start="371:58" pos:end="371:58">&amp;</operator> <operator pos:start="371:60" pos:end="371:60">(</operator><name pos:start="371:61" pos:end="371:73">MB_TYPE_16x16</name> <operator pos:start="371:75" pos:end="371:75">|</operator> <operator pos:start="371:77" pos:end="371:77">(</operator><name pos:start="371:78" pos:end="371:89">MB_TYPE_8x16</name> <operator pos:start="371:91" pos:end="371:92">&gt;&gt;</operator> <name pos:start="371:94" pos:end="371:96">dir</name><operator pos:start="371:97" pos:end="371:97">)</operator><operator pos:start="371:98" pos:end="371:98">)</operator><operator pos:start="371:99" pos:end="371:99">)</operator><operator pos:start="371:100" pos:end="371:100">)</operator></expr> )</condition> <block pos:start="371:104" pos:end="399:17">{<block_content pos:start="373:21" pos:end="397:32">

                    <decl_stmt pos:start="373:21" pos:end="373:58"><decl pos:start="373:21" pos:end="373:57"><type pos:start="373:21" pos:end="373:23"><name pos:start="373:21" pos:end="373:23">int</name></type> <name pos:start="373:25" pos:end="373:29">b_idx</name><init pos:start="373:30" pos:end="373:57">= <expr pos:start="373:32" pos:end="373:57"><literal type="number" pos:start="373:32" pos:end="373:34">8</literal> <operator pos:start="373:34" pos:end="373:34">+</operator> <literal type="number" pos:start="373:36" pos:end="373:38">4</literal> <operator pos:start="373:38" pos:end="373:38">+</operator> <name pos:start="373:40" pos:end="373:43">edge</name> <operator pos:start="373:45" pos:end="373:45">*</operator> <operator pos:start="373:47" pos:end="373:47">(</operator><ternary pos:start="373:48" pos:end="373:56"><condition pos:start="373:48" pos:end="373:52"><expr pos:start="373:48" pos:end="373:50"><name pos:start="373:48" pos:end="373:50">dir</name></expr> ?</condition><then pos:start="373:54" pos:end="373:54"> <expr pos:start="373:54" pos:end="373:54"><literal type="number" pos:start="373:54" pos:end="373:54">8</literal></expr></then><else pos:start="373:55" pos:end="373:56">:<expr pos:start="373:56" pos:end="373:56"><literal type="number" pos:start="373:56" pos:end="373:56">1</literal></expr></else></ternary><operator pos:start="373:57" pos:end="373:57">)</operator></expr></init></decl>;</decl_stmt>

                    <decl_stmt pos:start="375:21" pos:end="375:52"><decl pos:start="375:21" pos:end="375:51"><type pos:start="375:21" pos:end="375:23"><name pos:start="375:21" pos:end="375:23">int</name></type> <name pos:start="375:25" pos:end="375:30">bn_idx</name><init pos:start="375:31" pos:end="375:51">= <expr pos:start="375:33" pos:end="375:51"><name pos:start="375:33" pos:end="375:37">b_idx</name> <operator pos:start="375:39" pos:end="375:39">-</operator> <operator pos:start="375:41" pos:end="375:41">(</operator><ternary pos:start="375:42" pos:end="375:50"><condition pos:start="375:42" pos:end="375:46"><expr pos:start="375:42" pos:end="375:44"><name pos:start="375:42" pos:end="375:44">dir</name></expr> ?</condition><then pos:start="375:48" pos:end="375:48"> <expr pos:start="375:48" pos:end="375:48"><literal type="number" pos:start="375:48" pos:end="375:48">8</literal></expr></then><else pos:start="375:49" pos:end="375:50">:<expr pos:start="375:50" pos:end="375:50"><literal type="number" pos:start="375:50" pos:end="375:50">1</literal></expr></else></ternary><operator pos:start="375:51" pos:end="375:51">)</operator></expr></init></decl>;</decl_stmt>

                    <decl_stmt pos:start="377:21" pos:end="377:30"><decl pos:start="377:21" pos:end="377:29"><type pos:start="377:21" pos:end="377:23"><name pos:start="377:21" pos:end="377:23">int</name></type> <name pos:start="377:25" pos:end="377:25">v</name> <init pos:start="377:27" pos:end="377:29">= <expr pos:start="377:29" pos:end="377:29"><literal type="number" pos:start="377:29" pos:end="377:29">0</literal></expr></init></decl>;</decl_stmt>

                    <decl_stmt pos:start="379:21" pos:end="379:146"><decl pos:start="379:21" pos:end="379:145"><type pos:start="379:21" pos:end="379:23"><name pos:start="379:21" pos:end="379:23">int</name></type> <name pos:start="379:25" pos:end="379:26">xn</name><init pos:start="379:27" pos:end="379:145">= <expr pos:start="379:29" pos:end="379:145"><name pos:start="379:29" pos:end="379:45"><name pos:start="379:29" pos:end="379:29">h</name><operator pos:start="379:30" pos:end="379:31">-&gt;</operator><name pos:start="379:32" pos:end="379:45">slice_type_nos</name></name> <operator pos:start="379:47" pos:end="379:48">==</operator> <name pos:start="379:50" pos:end="379:58">FF_B_TYPE</name> <operator pos:start="379:60" pos:end="379:61">&amp;&amp;</operator> <name pos:start="379:63" pos:end="379:101"><name pos:start="379:63" pos:end="379:63">h</name><operator pos:start="379:64" pos:end="379:65">-&gt;</operator><name pos:start="379:66" pos:end="379:72">ref2frm</name><index pos:start="379:73" pos:end="379:75">[<expr pos:start="379:74" pos:end="379:74"><literal type="number" pos:start="379:74" pos:end="379:74">0</literal></expr>]</index><index pos:start="379:76" pos:end="379:101">[<expr pos:start="379:77" pos:end="379:100"><name pos:start="379:77" pos:end="379:98"><name pos:start="379:77" pos:end="379:77">h</name><operator pos:start="379:78" pos:end="379:79">-&gt;</operator><name pos:start="379:80" pos:end="379:88">ref_cache</name><index pos:start="379:89" pos:end="379:91">[<expr pos:start="379:90" pos:end="379:90"><literal type="number" pos:start="379:90" pos:end="379:90">0</literal></expr>]</index><index pos:start="379:92" pos:end="379:98">[<expr pos:start="379:93" pos:end="379:97"><name pos:start="379:93" pos:end="379:97">b_idx</name></expr>]</index></name><operator pos:start="379:99" pos:end="379:99">+</operator><literal type="number" pos:start="379:100" pos:end="379:100">2</literal></expr>]</index></name> <operator pos:start="379:103" pos:end="379:104">!=</operator> <name pos:start="379:106" pos:end="379:145"><name pos:start="379:106" pos:end="379:106">h</name><operator pos:start="379:107" pos:end="379:108">-&gt;</operator><name pos:start="379:109" pos:end="379:115">ref2frm</name><index pos:start="379:116" pos:end="379:118">[<expr pos:start="379:117" pos:end="379:117"><literal type="number" pos:start="379:117" pos:end="379:117">0</literal></expr>]</index><index pos:start="379:119" pos:end="379:145">[<expr pos:start="379:120" pos:end="379:144"><name pos:start="379:120" pos:end="379:142"><name pos:start="379:120" pos:end="379:120">h</name><operator pos:start="379:121" pos:end="379:122">-&gt;</operator><name pos:start="379:123" pos:end="379:131">ref_cache</name><index pos:start="379:132" pos:end="379:134">[<expr pos:start="379:133" pos:end="379:133"><literal type="number" pos:start="379:133" pos:end="379:133">0</literal></expr>]</index><index pos:start="379:135" pos:end="379:142">[<expr pos:start="379:136" pos:end="379:141"><name pos:start="379:136" pos:end="379:141">bn_idx</name></expr>]</index></name><operator pos:start="379:143" pos:end="379:143">+</operator><literal type="number" pos:start="379:144" pos:end="379:144">2</literal></expr>]</index></name></expr></init></decl>;</decl_stmt>



                    <for pos:start="383:21" pos:end="393:21">for<control pos:start="383:24" pos:end="383:85">( <init pos:start="383:26" pos:end="383:31"><expr pos:start="383:26" pos:end="383:30"><name pos:start="383:26" pos:end="383:26">l</name> <operator pos:start="383:28" pos:end="383:28">=</operator> <literal type="number" pos:start="383:30" pos:end="383:30">0</literal></expr>;</init> <condition pos:start="383:33" pos:end="383:79"><expr pos:start="383:33" pos:end="383:78"><operator pos:start="383:33" pos:end="383:33">!</operator><name pos:start="383:34" pos:end="383:34">v</name> <operator pos:start="383:36" pos:end="383:37">&amp;&amp;</operator> <name pos:start="383:39" pos:end="383:39">l</name> <operator pos:start="383:41" pos:end="383:41">&lt;</operator> <literal type="number" pos:start="383:43" pos:end="383:45">1</literal> <operator pos:start="383:45" pos:end="383:45">+</operator> <operator pos:start="383:47" pos:end="383:47">(</operator><name pos:start="383:48" pos:end="383:64"><name pos:start="383:48" pos:end="383:48">h</name><operator pos:start="383:49" pos:end="383:50">-&gt;</operator><name pos:start="383:51" pos:end="383:64">slice_type_nos</name></name> <operator pos:start="383:66" pos:end="383:67">==</operator> <name pos:start="383:69" pos:end="383:77">FF_B_TYPE</name><operator pos:start="383:78" pos:end="383:78">)</operator></expr>;</condition> <incr pos:start="383:81" pos:end="383:83"><expr pos:start="383:81" pos:end="383:83"><name pos:start="383:81" pos:end="383:81">l</name><operator pos:start="383:82" pos:end="383:83">++</operator></expr></incr> )</control> <block pos:start="383:87" pos:end="393:21">{<block_content pos:start="385:25" pos:end="391:105">

                        <decl_stmt pos:start="385:25" pos:end="385:37"><decl pos:start="385:25" pos:end="385:36"><type pos:start="385:25" pos:end="385:27"><name pos:start="385:25" pos:end="385:27">int</name></type> <name pos:start="385:29" pos:end="385:30">ln</name><init pos:start="385:31" pos:end="385:36">= <expr pos:start="385:33" pos:end="385:36"><name pos:start="385:33" pos:end="385:33">l</name><operator pos:start="385:34" pos:end="385:34">^</operator><name pos:start="385:35" pos:end="385:36">xn</name></expr></init></decl>;</decl_stmt>

                        <expr_stmt pos:start="387:25" pos:end="391:105"><expr pos:start="387:25" pos:end="391:104"><name pos:start="387:25" pos:end="387:25">v</name> <operator pos:start="387:27" pos:end="387:28">|=</operator> <name pos:start="387:30" pos:end="387:68"><name pos:start="387:30" pos:end="387:30">h</name><operator pos:start="387:31" pos:end="387:32">-&gt;</operator><name pos:start="387:33" pos:end="387:39">ref2frm</name><index pos:start="387:40" pos:end="387:42">[<expr pos:start="387:41" pos:end="387:41"><name pos:start="387:41" pos:end="387:41">l</name></expr>]</index><index pos:start="387:43" pos:end="387:68">[<expr pos:start="387:44" pos:end="387:67"><name pos:start="387:44" pos:end="387:65"><name pos:start="387:44" pos:end="387:44">h</name><operator pos:start="387:45" pos:end="387:46">-&gt;</operator><name pos:start="387:47" pos:end="387:55">ref_cache</name><index pos:start="387:56" pos:end="387:58">[<expr pos:start="387:57" pos:end="387:57"><name pos:start="387:57" pos:end="387:57">l</name></expr>]</index><index pos:start="387:59" pos:end="387:65">[<expr pos:start="387:60" pos:end="387:64"><name pos:start="387:60" pos:end="387:64">b_idx</name></expr>]</index></name><operator pos:start="387:66" pos:end="387:66">+</operator><literal type="number" pos:start="387:67" pos:end="387:67">2</literal></expr>]</index></name> <operator pos:start="387:70" pos:end="387:71">!=</operator> <name pos:start="387:73" pos:end="387:114"><name pos:start="387:73" pos:end="387:73">h</name><operator pos:start="387:74" pos:end="387:75">-&gt;</operator><name pos:start="387:76" pos:end="387:82">ref2frm</name><index pos:start="387:83" pos:end="387:86">[<expr pos:start="387:84" pos:end="387:85"><name pos:start="387:84" pos:end="387:85">ln</name></expr>]</index><index pos:start="387:87" pos:end="387:114">[<expr pos:start="387:88" pos:end="387:113"><name pos:start="387:88" pos:end="387:111"><name pos:start="387:88" pos:end="387:88">h</name><operator pos:start="387:89" pos:end="387:90">-&gt;</operator><name pos:start="387:91" pos:end="387:99">ref_cache</name><index pos:start="387:100" pos:end="387:103">[<expr pos:start="387:101" pos:end="387:102"><name pos:start="387:101" pos:end="387:102">ln</name></expr>]</index><index pos:start="387:104" pos:end="387:111">[<expr pos:start="387:105" pos:end="387:110"><name pos:start="387:105" pos:end="387:110">bn_idx</name></expr>]</index></name><operator pos:start="387:112" pos:end="387:112">+</operator><literal type="number" pos:start="387:113" pos:end="387:113">2</literal></expr>]</index></name> <operator pos:start="387:116" pos:end="387:117">||</operator>

                             <call pos:start="389:30" pos:end="389:91"><name pos:start="389:30" pos:end="389:34">FFABS</name><argument_list pos:start="389:35" pos:end="389:91">( <argument pos:start="389:37" pos:end="389:89"><expr pos:start="389:37" pos:end="389:89"><name pos:start="389:37" pos:end="389:60"><name pos:start="389:37" pos:end="389:37">h</name><operator pos:start="389:38" pos:end="389:39">-&gt;</operator><name pos:start="389:40" pos:end="389:47">mv_cache</name><index pos:start="389:48" pos:end="389:50">[<expr pos:start="389:49" pos:end="389:49"><name pos:start="389:49" pos:end="389:49">l</name></expr>]</index><index pos:start="389:51" pos:end="389:57">[<expr pos:start="389:52" pos:end="389:56"><name pos:start="389:52" pos:end="389:56">b_idx</name></expr>]</index><index pos:start="389:58" pos:end="389:60">[<expr pos:start="389:59" pos:end="389:59"><literal type="number" pos:start="389:59" pos:end="389:59">0</literal></expr>]</index></name> <operator pos:start="389:62" pos:end="389:62">-</operator> <name pos:start="389:64" pos:end="389:89"><name pos:start="389:64" pos:end="389:64">h</name><operator pos:start="389:65" pos:end="389:66">-&gt;</operator><name pos:start="389:67" pos:end="389:74">mv_cache</name><index pos:start="389:75" pos:end="389:78">[<expr pos:start="389:76" pos:end="389:77"><name pos:start="389:76" pos:end="389:77">ln</name></expr>]</index><index pos:start="389:79" pos:end="389:86">[<expr pos:start="389:80" pos:end="389:85"><name pos:start="389:80" pos:end="389:85">bn_idx</name></expr>]</index><index pos:start="389:87" pos:end="389:89">[<expr pos:start="389:88" pos:end="389:88"><literal type="number" pos:start="389:88" pos:end="389:88">0</literal></expr>]</index></name></expr></argument> )</argument_list></call> <operator pos:start="389:93" pos:end="389:94">&gt;=</operator> <literal type="number" pos:start="389:96" pos:end="389:96">4</literal> <operator pos:start="389:98" pos:end="389:99">||</operator>

                             <call pos:start="391:30" pos:end="391:91"><name pos:start="391:30" pos:end="391:34">FFABS</name><argument_list pos:start="391:35" pos:end="391:91">( <argument pos:start="391:37" pos:end="391:89"><expr pos:start="391:37" pos:end="391:89"><name pos:start="391:37" pos:end="391:60"><name pos:start="391:37" pos:end="391:37">h</name><operator pos:start="391:38" pos:end="391:39">-&gt;</operator><name pos:start="391:40" pos:end="391:47">mv_cache</name><index pos:start="391:48" pos:end="391:50">[<expr pos:start="391:49" pos:end="391:49"><name pos:start="391:49" pos:end="391:49">l</name></expr>]</index><index pos:start="391:51" pos:end="391:57">[<expr pos:start="391:52" pos:end="391:56"><name pos:start="391:52" pos:end="391:56">b_idx</name></expr>]</index><index pos:start="391:58" pos:end="391:60">[<expr pos:start="391:59" pos:end="391:59"><literal type="number" pos:start="391:59" pos:end="391:59">1</literal></expr>]</index></name> <operator pos:start="391:62" pos:end="391:62">-</operator> <name pos:start="391:64" pos:end="391:89"><name pos:start="391:64" pos:end="391:64">h</name><operator pos:start="391:65" pos:end="391:66">-&gt;</operator><name pos:start="391:67" pos:end="391:74">mv_cache</name><index pos:start="391:75" pos:end="391:78">[<expr pos:start="391:76" pos:end="391:77"><name pos:start="391:76" pos:end="391:77">ln</name></expr>]</index><index pos:start="391:79" pos:end="391:86">[<expr pos:start="391:80" pos:end="391:85"><name pos:start="391:80" pos:end="391:85">bn_idx</name></expr>]</index><index pos:start="391:87" pos:end="391:89">[<expr pos:start="391:88" pos:end="391:88"><literal type="number" pos:start="391:88" pos:end="391:88">1</literal></expr>]</index></name></expr></argument> )</argument_list></call> <operator pos:start="391:93" pos:end="391:94">&gt;=</operator> <name pos:start="391:96" pos:end="391:104">mvy_limit</name></expr>;</expr_stmt>

                    </block_content>}</block></for>

                    <expr_stmt pos:start="395:21" pos:end="395:54"><expr pos:start="395:21" pos:end="395:53"><name pos:start="395:21" pos:end="395:25"><name pos:start="395:21" pos:end="395:22">bS</name><index pos:start="395:23" pos:end="395:25">[<expr pos:start="395:24" pos:end="395:24"><literal type="number" pos:start="395:24" pos:end="395:24">0</literal></expr>]</index></name> <operator pos:start="395:27" pos:end="395:27">=</operator> <name pos:start="395:29" pos:end="395:33"><name pos:start="395:29" pos:end="395:30">bS</name><index pos:start="395:31" pos:end="395:33">[<expr pos:start="395:32" pos:end="395:32"><literal type="number" pos:start="395:32" pos:end="395:32">1</literal></expr>]</index></name> <operator pos:start="395:35" pos:end="395:35">=</operator> <name pos:start="395:37" pos:end="395:41"><name pos:start="395:37" pos:end="395:38">bS</name><index pos:start="395:39" pos:end="395:41">[<expr pos:start="395:40" pos:end="395:40"><literal type="number" pos:start="395:40" pos:end="395:40">2</literal></expr>]</index></name> <operator pos:start="395:43" pos:end="395:43">=</operator> <name pos:start="395:45" pos:end="395:49"><name pos:start="395:45" pos:end="395:46">bS</name><index pos:start="395:47" pos:end="395:49">[<expr pos:start="395:48" pos:end="395:48"><literal type="number" pos:start="395:48" pos:end="395:48">3</literal></expr>]</index></name> <operator pos:start="395:51" pos:end="395:51">=</operator> <name pos:start="395:53" pos:end="395:53">v</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="397:21" pos:end="397:32"><expr pos:start="397:21" pos:end="397:31"><name pos:start="397:21" pos:end="397:27">mv_done</name> <operator pos:start="397:29" pos:end="397:29">=</operator> <literal type="number" pos:start="397:31" pos:end="397:31">1</literal></expr>;</expr_stmt>

                </block_content>}</block></if>

                <else pos:start="401:17" pos:end="403:32">else<block type="pseudo" pos:start="403:21" pos:end="403:32"><block_content pos:start="403:21" pos:end="403:32">

                    <expr_stmt pos:start="403:21" pos:end="403:32"><expr pos:start="403:21" pos:end="403:31"><name pos:start="403:21" pos:end="403:27">mv_done</name> <operator pos:start="403:29" pos:end="403:29">=</operator> <literal type="number" pos:start="403:31" pos:end="403:31">0</literal></expr>;</expr_stmt></block_content></block></else></if_stmt>



                <for pos:start="407:17" pos:end="455:17">for<control pos:start="407:20" pos:end="407:40">( <init pos:start="407:22" pos:end="407:27"><expr pos:start="407:22" pos:end="407:26"><name pos:start="407:22" pos:end="407:22">i</name> <operator pos:start="407:24" pos:end="407:24">=</operator> <literal type="number" pos:start="407:26" pos:end="407:26">0</literal></expr>;</init> <condition pos:start="407:29" pos:end="407:34"><expr pos:start="407:29" pos:end="407:33"><name pos:start="407:29" pos:end="407:29">i</name> <operator pos:start="407:31" pos:end="407:31">&lt;</operator> <literal type="number" pos:start="407:33" pos:end="407:33">4</literal></expr>;</condition> <incr pos:start="407:36" pos:end="407:38"><expr pos:start="407:36" pos:end="407:38"><name pos:start="407:36" pos:end="407:36">i</name><operator pos:start="407:37" pos:end="407:38">++</operator></expr></incr> )</control> <block pos:start="407:42" pos:end="455:17">{<block_content pos:start="409:21" pos:end="453:21">

                    <decl_stmt pos:start="409:21" pos:end="409:48"><decl pos:start="409:21" pos:end="409:47"><type pos:start="409:21" pos:end="409:23"><name pos:start="409:21" pos:end="409:23">int</name></type> <name pos:start="409:25" pos:end="409:25">x</name> <init pos:start="409:27" pos:end="409:47">= <expr pos:start="409:29" pos:end="409:47"><ternary pos:start="409:29" pos:end="409:47"><condition pos:start="409:29" pos:end="409:38"><expr pos:start="409:29" pos:end="409:36"><name pos:start="409:29" pos:end="409:31">dir</name> <operator pos:start="409:33" pos:end="409:34">==</operator> <literal type="number" pos:start="409:36" pos:end="409:36">0</literal></expr> ?</condition><then pos:start="409:40" pos:end="409:43"> <expr pos:start="409:40" pos:end="409:43"><name pos:start="409:40" pos:end="409:43">edge</name></expr> </then><else pos:start="409:45" pos:end="409:47">: <expr pos:start="409:47" pos:end="409:47"><name pos:start="409:47" pos:end="409:47">i</name></expr></else></ternary></expr></init></decl>;</decl_stmt>

                    <decl_stmt pos:start="411:21" pos:end="411:51"><decl pos:start="411:21" pos:end="411:50"><type pos:start="411:21" pos:end="411:23"><name pos:start="411:21" pos:end="411:23">int</name></type> <name pos:start="411:25" pos:end="411:25">y</name> <init pos:start="411:27" pos:end="411:50">= <expr pos:start="411:29" pos:end="411:50"><ternary pos:start="411:29" pos:end="411:50"><condition pos:start="411:29" pos:end="411:38"><expr pos:start="411:29" pos:end="411:36"><name pos:start="411:29" pos:end="411:31">dir</name> <operator pos:start="411:33" pos:end="411:34">==</operator> <literal type="number" pos:start="411:36" pos:end="411:36">0</literal></expr> ?</condition><then pos:start="411:40" pos:end="411:40"> <expr pos:start="411:40" pos:end="411:40"><name pos:start="411:40" pos:end="411:40">i</name></expr>    </then><else pos:start="411:45" pos:end="411:50">: <expr pos:start="411:47" pos:end="411:50"><name pos:start="411:47" pos:end="411:50">edge</name></expr></else></ternary></expr></init></decl>;</decl_stmt>

                    <decl_stmt pos:start="413:21" pos:end="413:47"><decl pos:start="413:21" pos:end="413:46"><type pos:start="413:21" pos:end="413:23"><name pos:start="413:21" pos:end="413:23">int</name></type> <name pos:start="413:25" pos:end="413:29">b_idx</name><init pos:start="413:30" pos:end="413:46">= <expr pos:start="413:32" pos:end="413:46"><literal type="number" pos:start="413:32" pos:end="413:34">8</literal> <operator pos:start="413:34" pos:end="413:34">+</operator> <literal type="number" pos:start="413:36" pos:end="413:38">4</literal> <operator pos:start="413:38" pos:end="413:38">+</operator> <name pos:start="413:40" pos:end="413:40">x</name> <operator pos:start="413:42" pos:end="413:42">+</operator> <literal type="number" pos:start="413:44" pos:end="413:44">8</literal><operator pos:start="413:45" pos:end="413:45">*</operator><name pos:start="413:46" pos:end="413:46">y</name></expr></init></decl>;</decl_stmt>

                    <decl_stmt pos:start="415:21" pos:end="415:52"><decl pos:start="415:21" pos:end="415:51"><type pos:start="415:21" pos:end="415:23"><name pos:start="415:21" pos:end="415:23">int</name></type> <name pos:start="415:25" pos:end="415:30">bn_idx</name><init pos:start="415:31" pos:end="415:51">= <expr pos:start="415:33" pos:end="415:51"><name pos:start="415:33" pos:end="415:37">b_idx</name> <operator pos:start="415:39" pos:end="415:39">-</operator> <operator pos:start="415:41" pos:end="415:41">(</operator><ternary pos:start="415:42" pos:end="415:50"><condition pos:start="415:42" pos:end="415:46"><expr pos:start="415:42" pos:end="415:44"><name pos:start="415:42" pos:end="415:44">dir</name></expr> ?</condition><then pos:start="415:48" pos:end="415:48"> <expr pos:start="415:48" pos:end="415:48"><literal type="number" pos:start="415:48" pos:end="415:48">8</literal></expr></then><else pos:start="415:49" pos:end="415:50">:<expr pos:start="415:50" pos:end="415:50"><literal type="number" pos:start="415:50" pos:end="415:50">1</literal></expr></else></ternary><operator pos:start="415:51" pos:end="415:51">)</operator></expr></init></decl>;</decl_stmt>



                    <if_stmt pos:start="419:21" pos:end="453:21"><if pos:start="419:21" pos:end="425:21">if<condition pos:start="419:23" pos:end="421:62">( <expr pos:start="419:25" pos:end="421:60"><name pos:start="419:25" pos:end="419:54"><name pos:start="419:25" pos:end="419:25">h</name><operator pos:start="419:26" pos:end="419:27">-&gt;</operator><name pos:start="419:28" pos:end="419:47">non_zero_count_cache</name><index pos:start="419:48" pos:end="419:54">[<expr pos:start="419:49" pos:end="419:53"><name pos:start="419:49" pos:end="419:53">b_idx</name></expr>]</index></name> <operator pos:start="419:56" pos:end="419:57">!=</operator> <literal type="number" pos:start="419:59" pos:end="419:59">0</literal> <operator pos:start="419:61" pos:end="419:62">||</operator>

                        <name pos:start="421:25" pos:end="421:55"><name pos:start="421:25" pos:end="421:25">h</name><operator pos:start="421:26" pos:end="421:27">-&gt;</operator><name pos:start="421:28" pos:end="421:47">non_zero_count_cache</name><index pos:start="421:48" pos:end="421:55">[<expr pos:start="421:49" pos:end="421:54"><name pos:start="421:49" pos:end="421:54">bn_idx</name></expr>]</index></name> <operator pos:start="421:57" pos:end="421:58">!=</operator> <literal type="number" pos:start="421:60" pos:end="421:60">0</literal></expr> )</condition> <block pos:start="421:64" pos:end="425:21">{<block_content pos:start="423:25" pos:end="423:34">

                        <expr_stmt pos:start="423:25" pos:end="423:34"><expr pos:start="423:25" pos:end="423:33"><name pos:start="423:25" pos:end="423:29"><name pos:start="423:25" pos:end="423:26">bS</name><index pos:start="423:27" pos:end="423:29">[<expr pos:start="423:28" pos:end="423:28"><name pos:start="423:28" pos:end="423:28">i</name></expr>]</index></name> <operator pos:start="423:31" pos:end="423:31">=</operator> <literal type="number" pos:start="423:33" pos:end="423:33">2</literal></expr>;</expr_stmt>

                    </block_content>}</block></if>

                    <if type="elseif" pos:start="427:21" pos:end="453:21">else if<condition pos:start="427:28" pos:end="427:37">(<expr pos:start="427:29" pos:end="427:36"><operator pos:start="427:29" pos:end="427:29">!</operator><name pos:start="427:30" pos:end="427:36">mv_done</name></expr>)</condition>

                    <block pos:start="429:21" pos:end="453:21">{<block_content pos:start="431:25" pos:end="451:25">

                        <decl_stmt pos:start="431:25" pos:end="431:150"><decl pos:start="431:25" pos:end="431:149"><type pos:start="431:25" pos:end="431:27"><name pos:start="431:25" pos:end="431:27">int</name></type> <name pos:start="431:29" pos:end="431:30">xn</name><init pos:start="431:31" pos:end="431:149">= <expr pos:start="431:33" pos:end="431:149"><name pos:start="431:33" pos:end="431:49"><name pos:start="431:33" pos:end="431:33">h</name><operator pos:start="431:34" pos:end="431:35">-&gt;</operator><name pos:start="431:36" pos:end="431:49">slice_type_nos</name></name> <operator pos:start="431:51" pos:end="431:52">==</operator> <name pos:start="431:54" pos:end="431:62">FF_B_TYPE</name> <operator pos:start="431:64" pos:end="431:65">&amp;&amp;</operator> <name pos:start="431:67" pos:end="431:105"><name pos:start="431:67" pos:end="431:67">h</name><operator pos:start="431:68" pos:end="431:69">-&gt;</operator><name pos:start="431:70" pos:end="431:76">ref2frm</name><index pos:start="431:77" pos:end="431:79">[<expr pos:start="431:78" pos:end="431:78"><literal type="number" pos:start="431:78" pos:end="431:78">0</literal></expr>]</index><index pos:start="431:80" pos:end="431:105">[<expr pos:start="431:81" pos:end="431:104"><name pos:start="431:81" pos:end="431:102"><name pos:start="431:81" pos:end="431:81">h</name><operator pos:start="431:82" pos:end="431:83">-&gt;</operator><name pos:start="431:84" pos:end="431:92">ref_cache</name><index pos:start="431:93" pos:end="431:95">[<expr pos:start="431:94" pos:end="431:94"><literal type="number" pos:start="431:94" pos:end="431:94">0</literal></expr>]</index><index pos:start="431:96" pos:end="431:102">[<expr pos:start="431:97" pos:end="431:101"><name pos:start="431:97" pos:end="431:101">b_idx</name></expr>]</index></name><operator pos:start="431:103" pos:end="431:103">+</operator><literal type="number" pos:start="431:104" pos:end="431:104">2</literal></expr>]</index></name> <operator pos:start="431:107" pos:end="431:108">!=</operator> <name pos:start="431:110" pos:end="431:149"><name pos:start="431:110" pos:end="431:110">h</name><operator pos:start="431:111" pos:end="431:112">-&gt;</operator><name pos:start="431:113" pos:end="431:119">ref2frm</name><index pos:start="431:120" pos:end="431:122">[<expr pos:start="431:121" pos:end="431:121"><literal type="number" pos:start="431:121" pos:end="431:121">0</literal></expr>]</index><index pos:start="431:123" pos:end="431:149">[<expr pos:start="431:124" pos:end="431:148"><name pos:start="431:124" pos:end="431:146"><name pos:start="431:124" pos:end="431:124">h</name><operator pos:start="431:125" pos:end="431:126">-&gt;</operator><name pos:start="431:127" pos:end="431:135">ref_cache</name><index pos:start="431:136" pos:end="431:138">[<expr pos:start="431:137" pos:end="431:137"><literal type="number" pos:start="431:137" pos:end="431:137">0</literal></expr>]</index><index pos:start="431:139" pos:end="431:146">[<expr pos:start="431:140" pos:end="431:145"><name pos:start="431:140" pos:end="431:145">bn_idx</name></expr>]</index></name><operator pos:start="431:147" pos:end="431:147">+</operator><literal type="number" pos:start="431:148" pos:end="431:148">2</literal></expr>]</index></name></expr></init></decl>;</decl_stmt>

                        <expr_stmt pos:start="433:25" pos:end="433:34"><expr pos:start="433:25" pos:end="433:33"><name pos:start="433:25" pos:end="433:29"><name pos:start="433:25" pos:end="433:26">bS</name><index pos:start="433:27" pos:end="433:29">[<expr pos:start="433:28" pos:end="433:28"><name pos:start="433:28" pos:end="433:28">i</name></expr>]</index></name> <operator pos:start="433:31" pos:end="433:31">=</operator> <literal type="number" pos:start="433:33" pos:end="433:33">0</literal></expr>;</expr_stmt>

                        <for pos:start="435:25" pos:end="451:25">for<control pos:start="435:28" pos:end="435:83">( <init pos:start="435:30" pos:end="435:35"><expr pos:start="435:30" pos:end="435:34"><name pos:start="435:30" pos:end="435:30">l</name> <operator pos:start="435:32" pos:end="435:32">=</operator> <literal type="number" pos:start="435:34" pos:end="435:34">0</literal></expr>;</init> <condition pos:start="435:37" pos:end="435:77"><expr pos:start="435:37" pos:end="435:76"><name pos:start="435:37" pos:end="435:37">l</name> <operator pos:start="435:39" pos:end="435:39">&lt;</operator> <literal type="number" pos:start="435:41" pos:end="435:43">1</literal> <operator pos:start="435:43" pos:end="435:43">+</operator> <operator pos:start="435:45" pos:end="435:45">(</operator><name pos:start="435:46" pos:end="435:62"><name pos:start="435:46" pos:end="435:46">h</name><operator pos:start="435:47" pos:end="435:48">-&gt;</operator><name pos:start="435:49" pos:end="435:62">slice_type_nos</name></name> <operator pos:start="435:64" pos:end="435:65">==</operator> <name pos:start="435:67" pos:end="435:75">FF_B_TYPE</name><operator pos:start="435:76" pos:end="435:76">)</operator></expr>;</condition> <incr pos:start="435:79" pos:end="435:81"><expr pos:start="435:79" pos:end="435:81"><name pos:start="435:79" pos:end="435:79">l</name><operator pos:start="435:80" pos:end="435:81">++</operator></expr></incr> )</control> <block pos:start="435:85" pos:end="451:25">{<block_content pos:start="437:29" pos:end="449:29">

                            <decl_stmt pos:start="437:29" pos:end="437:41"><decl pos:start="437:29" pos:end="437:40"><type pos:start="437:29" pos:end="437:31"><name pos:start="437:29" pos:end="437:31">int</name></type> <name pos:start="437:33" pos:end="437:34">ln</name><init pos:start="437:35" pos:end="437:40">= <expr pos:start="437:37" pos:end="437:40"><name pos:start="437:37" pos:end="437:37">l</name><operator pos:start="437:38" pos:end="437:38">^</operator><name pos:start="437:39" pos:end="437:40">xn</name></expr></init></decl>;</decl_stmt>

                            <if_stmt pos:start="439:29" pos:end="449:29"><if pos:start="439:29" pos:end="449:29">if<condition pos:start="439:31" pos:end="443:109">( <expr pos:start="439:33" pos:end="443:107"><name pos:start="439:33" pos:end="439:71"><name pos:start="439:33" pos:end="439:33">h</name><operator pos:start="439:34" pos:end="439:35">-&gt;</operator><name pos:start="439:36" pos:end="439:42">ref2frm</name><index pos:start="439:43" pos:end="439:45">[<expr pos:start="439:44" pos:end="439:44"><name pos:start="439:44" pos:end="439:44">l</name></expr>]</index><index pos:start="439:46" pos:end="439:71">[<expr pos:start="439:47" pos:end="439:70"><name pos:start="439:47" pos:end="439:68"><name pos:start="439:47" pos:end="439:47">h</name><operator pos:start="439:48" pos:end="439:49">-&gt;</operator><name pos:start="439:50" pos:end="439:58">ref_cache</name><index pos:start="439:59" pos:end="439:61">[<expr pos:start="439:60" pos:end="439:60"><name pos:start="439:60" pos:end="439:60">l</name></expr>]</index><index pos:start="439:62" pos:end="439:68">[<expr pos:start="439:63" pos:end="439:67"><name pos:start="439:63" pos:end="439:67">b_idx</name></expr>]</index></name><operator pos:start="439:69" pos:end="439:69">+</operator><literal type="number" pos:start="439:70" pos:end="439:70">2</literal></expr>]</index></name> <operator pos:start="439:73" pos:end="439:74">!=</operator> <name pos:start="439:76" pos:end="439:117"><name pos:start="439:76" pos:end="439:76">h</name><operator pos:start="439:77" pos:end="439:78">-&gt;</operator><name pos:start="439:79" pos:end="439:85">ref2frm</name><index pos:start="439:86" pos:end="439:89">[<expr pos:start="439:87" pos:end="439:88"><name pos:start="439:87" pos:end="439:88">ln</name></expr>]</index><index pos:start="439:90" pos:end="439:117">[<expr pos:start="439:91" pos:end="439:116"><name pos:start="439:91" pos:end="439:114"><name pos:start="439:91" pos:end="439:91">h</name><operator pos:start="439:92" pos:end="439:93">-&gt;</operator><name pos:start="439:94" pos:end="439:102">ref_cache</name><index pos:start="439:103" pos:end="439:106">[<expr pos:start="439:104" pos:end="439:105"><name pos:start="439:104" pos:end="439:105">ln</name></expr>]</index><index pos:start="439:107" pos:end="439:114">[<expr pos:start="439:108" pos:end="439:113"><name pos:start="439:108" pos:end="439:113">bn_idx</name></expr>]</index></name><operator pos:start="439:115" pos:end="439:115">+</operator><literal type="number" pos:start="439:116" pos:end="439:116">2</literal></expr>]</index></name> <operator pos:start="439:119" pos:end="439:120">||</operator>

                                <call pos:start="441:33" pos:end="441:94"><name pos:start="441:33" pos:end="441:37">FFABS</name><argument_list pos:start="441:38" pos:end="441:94">( <argument pos:start="441:40" pos:end="441:92"><expr pos:start="441:40" pos:end="441:92"><name pos:start="441:40" pos:end="441:63"><name pos:start="441:40" pos:end="441:40">h</name><operator pos:start="441:41" pos:end="441:42">-&gt;</operator><name pos:start="441:43" pos:end="441:50">mv_cache</name><index pos:start="441:51" pos:end="441:53">[<expr pos:start="441:52" pos:end="441:52"><name pos:start="441:52" pos:end="441:52">l</name></expr>]</index><index pos:start="441:54" pos:end="441:60">[<expr pos:start="441:55" pos:end="441:59"><name pos:start="441:55" pos:end="441:59">b_idx</name></expr>]</index><index pos:start="441:61" pos:end="441:63">[<expr pos:start="441:62" pos:end="441:62"><literal type="number" pos:start="441:62" pos:end="441:62">0</literal></expr>]</index></name> <operator pos:start="441:65" pos:end="441:65">-</operator> <name pos:start="441:67" pos:end="441:92"><name pos:start="441:67" pos:end="441:67">h</name><operator pos:start="441:68" pos:end="441:69">-&gt;</operator><name pos:start="441:70" pos:end="441:77">mv_cache</name><index pos:start="441:78" pos:end="441:81">[<expr pos:start="441:79" pos:end="441:80"><name pos:start="441:79" pos:end="441:80">ln</name></expr>]</index><index pos:start="441:82" pos:end="441:89">[<expr pos:start="441:83" pos:end="441:88"><name pos:start="441:83" pos:end="441:88">bn_idx</name></expr>]</index><index pos:start="441:90" pos:end="441:92">[<expr pos:start="441:91" pos:end="441:91"><literal type="number" pos:start="441:91" pos:end="441:91">0</literal></expr>]</index></name></expr></argument> )</argument_list></call> <operator pos:start="441:96" pos:end="441:97">&gt;=</operator> <literal type="number" pos:start="441:99" pos:end="441:99">4</literal> <operator pos:start="441:101" pos:end="441:102">||</operator>

                                <call pos:start="443:33" pos:end="443:94"><name pos:start="443:33" pos:end="443:37">FFABS</name><argument_list pos:start="443:38" pos:end="443:94">( <argument pos:start="443:40" pos:end="443:92"><expr pos:start="443:40" pos:end="443:92"><name pos:start="443:40" pos:end="443:63"><name pos:start="443:40" pos:end="443:40">h</name><operator pos:start="443:41" pos:end="443:42">-&gt;</operator><name pos:start="443:43" pos:end="443:50">mv_cache</name><index pos:start="443:51" pos:end="443:53">[<expr pos:start="443:52" pos:end="443:52"><name pos:start="443:52" pos:end="443:52">l</name></expr>]</index><index pos:start="443:54" pos:end="443:60">[<expr pos:start="443:55" pos:end="443:59"><name pos:start="443:55" pos:end="443:59">b_idx</name></expr>]</index><index pos:start="443:61" pos:end="443:63">[<expr pos:start="443:62" pos:end="443:62"><literal type="number" pos:start="443:62" pos:end="443:62">1</literal></expr>]</index></name> <operator pos:start="443:65" pos:end="443:65">-</operator> <name pos:start="443:67" pos:end="443:92"><name pos:start="443:67" pos:end="443:67">h</name><operator pos:start="443:68" pos:end="443:69">-&gt;</operator><name pos:start="443:70" pos:end="443:77">mv_cache</name><index pos:start="443:78" pos:end="443:81">[<expr pos:start="443:79" pos:end="443:80"><name pos:start="443:79" pos:end="443:80">ln</name></expr>]</index><index pos:start="443:82" pos:end="443:89">[<expr pos:start="443:83" pos:end="443:88"><name pos:start="443:83" pos:end="443:88">bn_idx</name></expr>]</index><index pos:start="443:90" pos:end="443:92">[<expr pos:start="443:91" pos:end="443:91"><literal type="number" pos:start="443:91" pos:end="443:91">1</literal></expr>]</index></name></expr></argument> )</argument_list></call> <operator pos:start="443:96" pos:end="443:97">&gt;=</operator> <name pos:start="443:99" pos:end="443:107">mvy_limit</name></expr> )</condition> <block pos:start="443:111" pos:end="449:29">{<block_content pos:start="445:33" pos:end="447:38">

                                <expr_stmt pos:start="445:33" pos:end="445:42"><expr pos:start="445:33" pos:end="445:41"><name pos:start="445:33" pos:end="445:37"><name pos:start="445:33" pos:end="445:34">bS</name><index pos:start="445:35" pos:end="445:37">[<expr pos:start="445:36" pos:end="445:36"><name pos:start="445:36" pos:end="445:36">i</name></expr>]</index></name> <operator pos:start="445:39" pos:end="445:39">=</operator> <literal type="number" pos:start="445:41" pos:end="445:41">1</literal></expr>;</expr_stmt>

                                <break pos:start="447:33" pos:end="447:38">break;</break>

                            </block_content>}</block></if></if_stmt>

                        </block_content>}</block></for>

                    </block_content>}</block></if></if_stmt>

                </block_content>}</block></for>



                <if_stmt pos:start="459:17" pos:end="461:29"><if pos:start="459:17" pos:end="461:29">if<condition pos:start="459:19" pos:end="459:48">(<expr pos:start="459:20" pos:end="459:47"><name pos:start="459:20" pos:end="459:24"><name pos:start="459:20" pos:end="459:21">bS</name><index pos:start="459:22" pos:end="459:24">[<expr pos:start="459:23" pos:end="459:23"><literal type="number" pos:start="459:23" pos:end="459:23">0</literal></expr>]</index></name><operator pos:start="459:25" pos:end="459:25">+</operator><name pos:start="459:26" pos:end="459:30"><name pos:start="459:26" pos:end="459:27">bS</name><index pos:start="459:28" pos:end="459:30">[<expr pos:start="459:29" pos:end="459:29"><literal type="number" pos:start="459:29" pos:end="459:29">1</literal></expr>]</index></name><operator pos:start="459:31" pos:end="459:31">+</operator><name pos:start="459:32" pos:end="459:36"><name pos:start="459:32" pos:end="459:33">bS</name><index pos:start="459:34" pos:end="459:36">[<expr pos:start="459:35" pos:end="459:35"><literal type="number" pos:start="459:35" pos:end="459:35">2</literal></expr>]</index></name><operator pos:start="459:37" pos:end="459:37">+</operator><name pos:start="459:38" pos:end="459:42"><name pos:start="459:38" pos:end="459:39">bS</name><index pos:start="459:40" pos:end="459:42">[<expr pos:start="459:41" pos:end="459:41"><literal type="number" pos:start="459:41" pos:end="459:41">3</literal></expr>]</index></name> <operator pos:start="459:44" pos:end="459:45">==</operator> <literal type="number" pos:start="459:47" pos:end="459:47">0</literal></expr>)</condition><block type="pseudo" pos:start="461:21" pos:end="461:29"><block_content pos:start="461:21" pos:end="461:29">

                    <continue pos:start="461:21" pos:end="461:29">continue;</continue></block_content></block></if></if_stmt>

            </block_content>}</block></else></if_stmt>



            <comment type="block" pos:start="467:13" pos:end="467:29">/* Filter edge */</comment>

            <comment type="line" pos:start="469:13" pos:end="469:81">// Do not use s-&gt;qscale as luma quantizer because it has not the same</comment>

            <comment type="line" pos:start="471:13" pos:end="471:41">// value in IPCM macroblocks.</comment>

            <expr_stmt pos:start="473:13" pos:end="473:111"><expr pos:start="473:13" pos:end="473:110"><name pos:start="473:13" pos:end="473:14">qp</name> <operator pos:start="473:16" pos:end="473:16">=</operator> <operator pos:start="473:18" pos:end="473:18">(</operator> <name pos:start="473:20" pos:end="473:57"><name pos:start="473:20" pos:end="473:20">s</name><operator pos:start="473:21" pos:end="473:22">-&gt;</operator><name pos:start="473:23" pos:end="473:37">current_picture</name><operator pos:start="473:38" pos:end="473:38">.</operator><name pos:start="473:39" pos:end="473:50">qscale_table</name><index pos:start="473:51" pos:end="473:57">[<expr pos:start="473:52" pos:end="473:56"><name pos:start="473:52" pos:end="473:56">mb_xy</name></expr>]</index></name> <operator pos:start="473:59" pos:end="473:59">+</operator> <name pos:start="473:61" pos:end="473:99"><name pos:start="473:61" pos:end="473:61">s</name><operator pos:start="473:62" pos:end="473:63">-&gt;</operator><name pos:start="473:64" pos:end="473:78">current_picture</name><operator pos:start="473:79" pos:end="473:79">.</operator><name pos:start="473:80" pos:end="473:91">qscale_table</name><index pos:start="473:92" pos:end="473:99">[<expr pos:start="473:93" pos:end="473:98"><name pos:start="473:93" pos:end="473:98">mbn_xy</name></expr>]</index></name> <operator pos:start="473:101" pos:end="473:101">+</operator> <literal type="number" pos:start="473:103" pos:end="473:103">1</literal> <operator pos:start="473:105" pos:end="473:105">)</operator> <operator pos:start="473:107" pos:end="473:108">&gt;&gt;</operator> <literal type="number" pos:start="473:110" pos:end="473:110">1</literal></expr>;</expr_stmt>

            <comment type="line" pos:start="475:13" pos:end="475:175">//tprintf(s-&gt;avctx, "filter mb:%d/%d dir:%d edge:%d, QPy:%d, QPc:%d, QPcn:%d\n", mb_x, mb_y, dir, edge, qp, h-&gt;chroma_qp, s-&gt;current_picture.qscale_table[mbn_xy]);</comment>

            <expr_stmt pos:start="477:13" pos:end="477:135"><expr pos:start="477:13" pos:end="477:134"><call pos:start="477:13" pos:end="477:134"><name pos:start="477:13" pos:end="477:19">tprintf</name><argument_list pos:start="477:20" pos:end="477:134">(<argument pos:start="477:21" pos:end="477:28"><expr pos:start="477:21" pos:end="477:28"><name pos:start="477:21" pos:end="477:28"><name pos:start="477:21" pos:end="477:21">s</name><operator pos:start="477:22" pos:end="477:23">-&gt;</operator><name pos:start="477:24" pos:end="477:28">avctx</name></name></expr></argument>, <argument pos:start="477:31" pos:end="477:84"><expr pos:start="477:31" pos:end="477:84"><literal type="string" pos:start="477:31" pos:end="477:84">"filter mb:%d/%d dir:%d edge:%d, QPy:%d ls:%d uvls:%d"</literal></expr></argument>, <argument pos:start="477:87" pos:end="477:90"><expr pos:start="477:87" pos:end="477:90"><name pos:start="477:87" pos:end="477:90">mb_x</name></expr></argument>, <argument pos:start="477:93" pos:end="477:96"><expr pos:start="477:93" pos:end="477:96"><name pos:start="477:93" pos:end="477:96">mb_y</name></expr></argument>, <argument pos:start="477:99" pos:end="477:101"><expr pos:start="477:99" pos:end="477:101"><name pos:start="477:99" pos:end="477:101">dir</name></expr></argument>, <argument pos:start="477:104" pos:end="477:107"><expr pos:start="477:104" pos:end="477:107"><name pos:start="477:104" pos:end="477:107">edge</name></expr></argument>, <argument pos:start="477:110" pos:end="477:111"><expr pos:start="477:110" pos:end="477:111"><name pos:start="477:110" pos:end="477:111">qp</name></expr></argument>, <argument pos:start="477:114" pos:end="477:121"><expr pos:start="477:114" pos:end="477:121"><name pos:start="477:114" pos:end="477:121">linesize</name></expr></argument>, <argument pos:start="477:124" pos:end="477:133"><expr pos:start="477:124" pos:end="477:133"><name pos:start="477:124" pos:end="477:133">uvlinesize</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <block pos:start="479:13" pos:end="479:114">{<block_content pos:start="479:15" pos:end="479:112"> <decl_stmt pos:start="479:15" pos:end="479:20"><decl pos:start="479:15" pos:end="479:19"><type pos:start="479:15" pos:end="479:17"><name pos:start="479:15" pos:end="479:17">int</name></type> <name pos:start="479:19" pos:end="479:19">i</name></decl>;</decl_stmt> <for pos:start="479:22" pos:end="479:87">for <control pos:start="479:26" pos:end="479:44">(<init pos:start="479:27" pos:end="479:32"><expr pos:start="479:27" pos:end="479:31"><name pos:start="479:27" pos:end="479:27">i</name> <operator pos:start="479:29" pos:end="479:29">=</operator> <literal type="number" pos:start="479:31" pos:end="479:31">0</literal></expr>;</init> <condition pos:start="479:34" pos:end="479:39"><expr pos:start="479:34" pos:end="479:38"><name pos:start="479:34" pos:end="479:34">i</name> <operator pos:start="479:36" pos:end="479:36">&lt;</operator> <literal type="number" pos:start="479:38" pos:end="479:38">4</literal></expr>;</condition> <incr pos:start="479:41" pos:end="479:43"><expr pos:start="479:41" pos:end="479:43"><name pos:start="479:41" pos:end="479:41">i</name><operator pos:start="479:42" pos:end="479:43">++</operator></expr></incr>)</control><block type="pseudo" pos:start="479:46" pos:end="479:87"><block_content pos:start="479:46" pos:end="479:87"> <expr_stmt pos:start="479:46" pos:end="479:87"><expr pos:start="479:46" pos:end="479:86"><call pos:start="479:46" pos:end="479:86"><name pos:start="479:46" pos:end="479:52">tprintf</name><argument_list pos:start="479:53" pos:end="479:86">(<argument pos:start="479:54" pos:end="479:61"><expr pos:start="479:54" pos:end="479:61"><name pos:start="479:54" pos:end="479:61"><name pos:start="479:54" pos:end="479:54">s</name><operator pos:start="479:55" pos:end="479:56">-&gt;</operator><name pos:start="479:57" pos:end="479:61">avctx</name></name></expr></argument>, <argument pos:start="479:64" pos:end="479:75"><expr pos:start="479:64" pos:end="479:75"><literal type="string" pos:start="479:64" pos:end="479:75">" bS[%d]:%d"</literal></expr></argument>, <argument pos:start="479:78" pos:end="479:78"><expr pos:start="479:78" pos:end="479:78"><name pos:start="479:78" pos:end="479:78">i</name></expr></argument>, <argument pos:start="479:81" pos:end="479:85"><expr pos:start="479:81" pos:end="479:85"><name pos:start="479:81" pos:end="479:85"><name pos:start="479:81" pos:end="479:82">bS</name><index pos:start="479:83" pos:end="479:85">[<expr pos:start="479:84" pos:end="479:84"><name pos:start="479:84" pos:end="479:84">i</name></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></for> <expr_stmt pos:start="479:89" pos:end="479:112"><expr pos:start="479:89" pos:end="479:111"><call pos:start="479:89" pos:end="479:111"><name pos:start="479:89" pos:end="479:95">tprintf</name><argument_list pos:start="479:96" pos:end="479:111">(<argument pos:start="479:97" pos:end="479:104"><expr pos:start="479:97" pos:end="479:104"><name pos:start="479:97" pos:end="479:104"><name pos:start="479:97" pos:end="479:97">s</name><operator pos:start="479:98" pos:end="479:99">-&gt;</operator><name pos:start="479:100" pos:end="479:104">avctx</name></name></expr></argument>, <argument pos:start="479:107" pos:end="479:110"><expr pos:start="479:107" pos:end="479:110"><literal type="string" pos:start="479:107" pos:end="479:110">"\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt> </block_content>}</block>

            <if_stmt pos:start="481:13" pos:end="513:13"><if pos:start="481:13" pos:end="497:13">if<condition pos:start="481:15" pos:end="481:26">( <expr pos:start="481:17" pos:end="481:24"><name pos:start="481:17" pos:end="481:19">dir</name> <operator pos:start="481:21" pos:end="481:22">==</operator> <literal type="number" pos:start="481:24" pos:end="481:24">0</literal></expr> )</condition> <block pos:start="481:28" pos:end="497:13">{<block_content pos:start="483:17" pos:end="495:17">

                <expr_stmt pos:start="483:17" pos:end="483:71"><expr pos:start="483:17" pos:end="483:70"><call pos:start="483:17" pos:end="483:70"><name pos:start="483:17" pos:end="483:31">filter_mb_edgev</name><argument_list pos:start="483:32" pos:end="483:70">( <argument pos:start="483:34" pos:end="483:34"><expr pos:start="483:34" pos:end="483:34"><name pos:start="483:34" pos:end="483:34">h</name></expr></argument>, <argument pos:start="483:37" pos:end="483:50"><expr pos:start="483:37" pos:end="483:50"><operator pos:start="483:37" pos:end="483:37">&amp;</operator><name pos:start="483:38" pos:end="483:50"><name pos:start="483:38" pos:end="483:42">img_y</name><index pos:start="483:43" pos:end="483:50">[<expr pos:start="483:44" pos:end="483:49"><literal type="number" pos:start="483:44" pos:end="483:44">4</literal><operator pos:start="483:45" pos:end="483:45">*</operator><name pos:start="483:46" pos:end="483:49">edge</name></expr>]</index></name></expr></argument>, <argument pos:start="483:53" pos:end="483:60"><expr pos:start="483:53" pos:end="483:60"><name pos:start="483:53" pos:end="483:60">linesize</name></expr></argument>, <argument pos:start="483:63" pos:end="483:64"><expr pos:start="483:63" pos:end="483:64"><name pos:start="483:63" pos:end="483:64">bS</name></expr></argument>, <argument pos:start="483:67" pos:end="483:68"><expr pos:start="483:67" pos:end="483:68"><name pos:start="483:67" pos:end="483:68">qp</name></expr></argument> )</argument_list></call></expr>;</expr_stmt>

                <if_stmt pos:start="485:17" pos:end="495:17"><if pos:start="485:17" pos:end="495:17">if<condition pos:start="485:19" pos:end="485:35">( <expr pos:start="485:21" pos:end="485:33"><operator pos:start="485:21" pos:end="485:21">(</operator><name pos:start="485:22" pos:end="485:25">edge</name><operator pos:start="485:26" pos:end="485:26">&amp;</operator><literal type="number" pos:start="485:27" pos:end="485:27">1</literal><operator pos:start="485:28" pos:end="485:28">)</operator> <operator pos:start="485:30" pos:end="485:31">==</operator> <literal type="number" pos:start="485:33" pos:end="485:33">0</literal></expr> )</condition> <block pos:start="485:37" pos:end="495:17">{<block_content pos:start="487:21" pos:end="493:133">

                    <expr_stmt pos:start="487:21" pos:end="489:133"><expr pos:start="487:21" pos:end="489:132"><call pos:start="487:21" pos:end="489:132"><name pos:start="487:21" pos:end="487:36">filter_mb_edgecv</name><argument_list pos:start="487:37" pos:end="489:132">( <argument pos:start="487:39" pos:end="487:39"><expr pos:start="487:39" pos:end="487:39"><name pos:start="487:39" pos:end="487:39">h</name></expr></argument>, <argument pos:start="487:42" pos:end="487:56"><expr pos:start="487:42" pos:end="487:56"><operator pos:start="487:42" pos:end="487:42">&amp;</operator><name pos:start="487:43" pos:end="487:56"><name pos:start="487:43" pos:end="487:48">img_cb</name><index pos:start="487:49" pos:end="487:56">[<expr pos:start="487:50" pos:end="487:55"><literal type="number" pos:start="487:50" pos:end="487:50">2</literal><operator pos:start="487:51" pos:end="487:51">*</operator><name pos:start="487:52" pos:end="487:55">edge</name></expr>]</index></name></expr></argument>, <argument pos:start="487:59" pos:end="487:68"><expr pos:start="487:59" pos:end="487:68"><name pos:start="487:59" pos:end="487:68">uvlinesize</name></expr></argument>, <argument pos:start="487:71" pos:end="487:72"><expr pos:start="487:71" pos:end="487:72"><name pos:start="487:71" pos:end="487:72">bS</name></expr></argument>,

                                      <argument pos:start="489:39" pos:end="489:131"><expr pos:start="489:39" pos:end="489:131"><operator pos:start="489:39" pos:end="489:39">(</operator> <name pos:start="489:41" pos:end="489:55"><name pos:start="489:41" pos:end="489:41">h</name><operator pos:start="489:42" pos:end="489:43">-&gt;</operator><name pos:start="489:44" pos:end="489:52">chroma_qp</name><index pos:start="489:53" pos:end="489:55">[<expr pos:start="489:54" pos:end="489:54"><literal type="number" pos:start="489:54" pos:end="489:54">0</literal></expr>]</index></name> <operator pos:start="489:57" pos:end="489:57">+</operator> <call pos:start="489:59" pos:end="489:120"><name pos:start="489:59" pos:end="489:71">get_chroma_qp</name><argument_list pos:start="489:72" pos:end="489:120">( <argument pos:start="489:74" pos:end="489:74"><expr pos:start="489:74" pos:end="489:74"><name pos:start="489:74" pos:end="489:74">h</name></expr></argument>, <argument pos:start="489:77" pos:end="489:77"><expr pos:start="489:77" pos:end="489:77"><literal type="number" pos:start="489:77" pos:end="489:77">0</literal></expr></argument>, <argument pos:start="489:80" pos:end="489:118"><expr pos:start="489:80" pos:end="489:118"><name pos:start="489:80" pos:end="489:118"><name pos:start="489:80" pos:end="489:80">s</name><operator pos:start="489:81" pos:end="489:82">-&gt;</operator><name pos:start="489:83" pos:end="489:97">current_picture</name><operator pos:start="489:98" pos:end="489:98">.</operator><name pos:start="489:99" pos:end="489:110">qscale_table</name><index pos:start="489:111" pos:end="489:118">[<expr pos:start="489:112" pos:end="489:117"><name pos:start="489:112" pos:end="489:117">mbn_xy</name></expr>]</index></name></expr></argument> )</argument_list></call> <operator pos:start="489:122" pos:end="489:122">+</operator> <literal type="number" pos:start="489:124" pos:end="489:124">1</literal> <operator pos:start="489:126" pos:end="489:126">)</operator> <operator pos:start="489:128" pos:end="489:129">&gt;&gt;</operator> <literal type="number" pos:start="489:131" pos:end="489:131">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="491:21" pos:end="493:133"><expr pos:start="491:21" pos:end="493:132"><call pos:start="491:21" pos:end="493:132"><name pos:start="491:21" pos:end="491:36">filter_mb_edgecv</name><argument_list pos:start="491:37" pos:end="493:132">( <argument pos:start="491:39" pos:end="491:39"><expr pos:start="491:39" pos:end="491:39"><name pos:start="491:39" pos:end="491:39">h</name></expr></argument>, <argument pos:start="491:42" pos:end="491:56"><expr pos:start="491:42" pos:end="491:56"><operator pos:start="491:42" pos:end="491:42">&amp;</operator><name pos:start="491:43" pos:end="491:56"><name pos:start="491:43" pos:end="491:48">img_cr</name><index pos:start="491:49" pos:end="491:56">[<expr pos:start="491:50" pos:end="491:55"><literal type="number" pos:start="491:50" pos:end="491:50">2</literal><operator pos:start="491:51" pos:end="491:51">*</operator><name pos:start="491:52" pos:end="491:55">edge</name></expr>]</index></name></expr></argument>, <argument pos:start="491:59" pos:end="491:68"><expr pos:start="491:59" pos:end="491:68"><name pos:start="491:59" pos:end="491:68">uvlinesize</name></expr></argument>, <argument pos:start="491:71" pos:end="491:72"><expr pos:start="491:71" pos:end="491:72"><name pos:start="491:71" pos:end="491:72">bS</name></expr></argument>,

                                      <argument pos:start="493:39" pos:end="493:131"><expr pos:start="493:39" pos:end="493:131"><operator pos:start="493:39" pos:end="493:39">(</operator> <name pos:start="493:41" pos:end="493:55"><name pos:start="493:41" pos:end="493:41">h</name><operator pos:start="493:42" pos:end="493:43">-&gt;</operator><name pos:start="493:44" pos:end="493:52">chroma_qp</name><index pos:start="493:53" pos:end="493:55">[<expr pos:start="493:54" pos:end="493:54"><literal type="number" pos:start="493:54" pos:end="493:54">1</literal></expr>]</index></name> <operator pos:start="493:57" pos:end="493:57">+</operator> <call pos:start="493:59" pos:end="493:120"><name pos:start="493:59" pos:end="493:71">get_chroma_qp</name><argument_list pos:start="493:72" pos:end="493:120">( <argument pos:start="493:74" pos:end="493:74"><expr pos:start="493:74" pos:end="493:74"><name pos:start="493:74" pos:end="493:74">h</name></expr></argument>, <argument pos:start="493:77" pos:end="493:77"><expr pos:start="493:77" pos:end="493:77"><literal type="number" pos:start="493:77" pos:end="493:77">1</literal></expr></argument>, <argument pos:start="493:80" pos:end="493:118"><expr pos:start="493:80" pos:end="493:118"><name pos:start="493:80" pos:end="493:118"><name pos:start="493:80" pos:end="493:80">s</name><operator pos:start="493:81" pos:end="493:82">-&gt;</operator><name pos:start="493:83" pos:end="493:97">current_picture</name><operator pos:start="493:98" pos:end="493:98">.</operator><name pos:start="493:99" pos:end="493:110">qscale_table</name><index pos:start="493:111" pos:end="493:118">[<expr pos:start="493:112" pos:end="493:117"><name pos:start="493:112" pos:end="493:117">mbn_xy</name></expr>]</index></name></expr></argument> )</argument_list></call> <operator pos:start="493:122" pos:end="493:122">+</operator> <literal type="number" pos:start="493:124" pos:end="493:124">1</literal> <operator pos:start="493:126" pos:end="493:126">)</operator> <operator pos:start="493:128" pos:end="493:129">&gt;&gt;</operator> <literal type="number" pos:start="493:131" pos:end="493:131">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

            </block_content>}</block></if> <else pos:start="497:15" pos:end="513:13">else <block pos:start="497:20" pos:end="513:13">{<block_content pos:start="499:17" pos:end="511:17">

                <expr_stmt pos:start="499:17" pos:end="499:80"><expr pos:start="499:17" pos:end="499:79"><call pos:start="499:17" pos:end="499:79"><name pos:start="499:17" pos:end="499:31">filter_mb_edgeh</name><argument_list pos:start="499:32" pos:end="499:79">( <argument pos:start="499:34" pos:end="499:34"><expr pos:start="499:34" pos:end="499:34"><name pos:start="499:34" pos:end="499:34">h</name></expr></argument>, <argument pos:start="499:37" pos:end="499:59"><expr pos:start="499:37" pos:end="499:59"><operator pos:start="499:37" pos:end="499:37">&amp;</operator><name pos:start="499:38" pos:end="499:59"><name pos:start="499:38" pos:end="499:42">img_y</name><index pos:start="499:43" pos:end="499:59">[<expr pos:start="499:44" pos:end="499:58"><literal type="number" pos:start="499:44" pos:end="499:44">4</literal><operator pos:start="499:45" pos:end="499:45">*</operator><name pos:start="499:46" pos:end="499:49">edge</name><operator pos:start="499:50" pos:end="499:50">*</operator><name pos:start="499:51" pos:end="499:58">linesize</name></expr>]</index></name></expr></argument>, <argument pos:start="499:62" pos:end="499:69"><expr pos:start="499:62" pos:end="499:69"><name pos:start="499:62" pos:end="499:69">linesize</name></expr></argument>, <argument pos:start="499:72" pos:end="499:73"><expr pos:start="499:72" pos:end="499:73"><name pos:start="499:72" pos:end="499:73">bS</name></expr></argument>, <argument pos:start="499:76" pos:end="499:77"><expr pos:start="499:76" pos:end="499:77"><name pos:start="499:76" pos:end="499:77">qp</name></expr></argument> )</argument_list></call></expr>;</expr_stmt>

                <if_stmt pos:start="501:17" pos:end="511:17"><if pos:start="501:17" pos:end="511:17">if<condition pos:start="501:19" pos:end="501:35">( <expr pos:start="501:21" pos:end="501:33"><operator pos:start="501:21" pos:end="501:21">(</operator><name pos:start="501:22" pos:end="501:25">edge</name><operator pos:start="501:26" pos:end="501:26">&amp;</operator><literal type="number" pos:start="501:27" pos:end="501:27">1</literal><operator pos:start="501:28" pos:end="501:28">)</operator> <operator pos:start="501:30" pos:end="501:31">==</operator> <literal type="number" pos:start="501:33" pos:end="501:33">0</literal></expr> )</condition> <block pos:start="501:37" pos:end="511:17">{<block_content pos:start="503:21" pos:end="509:133">

                    <expr_stmt pos:start="503:21" pos:end="505:133"><expr pos:start="503:21" pos:end="505:132"><call pos:start="503:21" pos:end="505:132"><name pos:start="503:21" pos:end="503:36">filter_mb_edgech</name><argument_list pos:start="503:37" pos:end="505:132">( <argument pos:start="503:39" pos:end="503:39"><expr pos:start="503:39" pos:end="503:39"><name pos:start="503:39" pos:end="503:39">h</name></expr></argument>, <argument pos:start="503:42" pos:end="503:67"><expr pos:start="503:42" pos:end="503:67"><operator pos:start="503:42" pos:end="503:42">&amp;</operator><name pos:start="503:43" pos:end="503:67"><name pos:start="503:43" pos:end="503:48">img_cb</name><index pos:start="503:49" pos:end="503:67">[<expr pos:start="503:50" pos:end="503:66"><literal type="number" pos:start="503:50" pos:end="503:50">2</literal><operator pos:start="503:51" pos:end="503:51">*</operator><name pos:start="503:52" pos:end="503:55">edge</name><operator pos:start="503:56" pos:end="503:56">*</operator><name pos:start="503:57" pos:end="503:66">uvlinesize</name></expr>]</index></name></expr></argument>, <argument pos:start="503:70" pos:end="503:79"><expr pos:start="503:70" pos:end="503:79"><name pos:start="503:70" pos:end="503:79">uvlinesize</name></expr></argument>, <argument pos:start="503:82" pos:end="503:83"><expr pos:start="503:82" pos:end="503:83"><name pos:start="503:82" pos:end="503:83">bS</name></expr></argument>,

                                      <argument pos:start="505:39" pos:end="505:131"><expr pos:start="505:39" pos:end="505:131"><operator pos:start="505:39" pos:end="505:39">(</operator> <name pos:start="505:41" pos:end="505:55"><name pos:start="505:41" pos:end="505:41">h</name><operator pos:start="505:42" pos:end="505:43">-&gt;</operator><name pos:start="505:44" pos:end="505:52">chroma_qp</name><index pos:start="505:53" pos:end="505:55">[<expr pos:start="505:54" pos:end="505:54"><literal type="number" pos:start="505:54" pos:end="505:54">0</literal></expr>]</index></name> <operator pos:start="505:57" pos:end="505:57">+</operator> <call pos:start="505:59" pos:end="505:120"><name pos:start="505:59" pos:end="505:71">get_chroma_qp</name><argument_list pos:start="505:72" pos:end="505:120">( <argument pos:start="505:74" pos:end="505:74"><expr pos:start="505:74" pos:end="505:74"><name pos:start="505:74" pos:end="505:74">h</name></expr></argument>, <argument pos:start="505:77" pos:end="505:77"><expr pos:start="505:77" pos:end="505:77"><literal type="number" pos:start="505:77" pos:end="505:77">0</literal></expr></argument>, <argument pos:start="505:80" pos:end="505:118"><expr pos:start="505:80" pos:end="505:118"><name pos:start="505:80" pos:end="505:118"><name pos:start="505:80" pos:end="505:80">s</name><operator pos:start="505:81" pos:end="505:82">-&gt;</operator><name pos:start="505:83" pos:end="505:97">current_picture</name><operator pos:start="505:98" pos:end="505:98">.</operator><name pos:start="505:99" pos:end="505:110">qscale_table</name><index pos:start="505:111" pos:end="505:118">[<expr pos:start="505:112" pos:end="505:117"><name pos:start="505:112" pos:end="505:117">mbn_xy</name></expr>]</index></name></expr></argument> )</argument_list></call> <operator pos:start="505:122" pos:end="505:122">+</operator> <literal type="number" pos:start="505:124" pos:end="505:124">1</literal> <operator pos:start="505:126" pos:end="505:126">)</operator> <operator pos:start="505:128" pos:end="505:129">&gt;&gt;</operator> <literal type="number" pos:start="505:131" pos:end="505:131">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <expr_stmt pos:start="507:21" pos:end="509:133"><expr pos:start="507:21" pos:end="509:132"><call pos:start="507:21" pos:end="509:132"><name pos:start="507:21" pos:end="507:36">filter_mb_edgech</name><argument_list pos:start="507:37" pos:end="509:132">( <argument pos:start="507:39" pos:end="507:39"><expr pos:start="507:39" pos:end="507:39"><name pos:start="507:39" pos:end="507:39">h</name></expr></argument>, <argument pos:start="507:42" pos:end="507:67"><expr pos:start="507:42" pos:end="507:67"><operator pos:start="507:42" pos:end="507:42">&amp;</operator><name pos:start="507:43" pos:end="507:67"><name pos:start="507:43" pos:end="507:48">img_cr</name><index pos:start="507:49" pos:end="507:67">[<expr pos:start="507:50" pos:end="507:66"><literal type="number" pos:start="507:50" pos:end="507:50">2</literal><operator pos:start="507:51" pos:end="507:51">*</operator><name pos:start="507:52" pos:end="507:55">edge</name><operator pos:start="507:56" pos:end="507:56">*</operator><name pos:start="507:57" pos:end="507:66">uvlinesize</name></expr>]</index></name></expr></argument>, <argument pos:start="507:70" pos:end="507:79"><expr pos:start="507:70" pos:end="507:79"><name pos:start="507:70" pos:end="507:79">uvlinesize</name></expr></argument>, <argument pos:start="507:82" pos:end="507:83"><expr pos:start="507:82" pos:end="507:83"><name pos:start="507:82" pos:end="507:83">bS</name></expr></argument>,

                                      <argument pos:start="509:39" pos:end="509:131"><expr pos:start="509:39" pos:end="509:131"><operator pos:start="509:39" pos:end="509:39">(</operator> <name pos:start="509:41" pos:end="509:55"><name pos:start="509:41" pos:end="509:41">h</name><operator pos:start="509:42" pos:end="509:43">-&gt;</operator><name pos:start="509:44" pos:end="509:52">chroma_qp</name><index pos:start="509:53" pos:end="509:55">[<expr pos:start="509:54" pos:end="509:54"><literal type="number" pos:start="509:54" pos:end="509:54">1</literal></expr>]</index></name> <operator pos:start="509:57" pos:end="509:57">+</operator> <call pos:start="509:59" pos:end="509:120"><name pos:start="509:59" pos:end="509:71">get_chroma_qp</name><argument_list pos:start="509:72" pos:end="509:120">( <argument pos:start="509:74" pos:end="509:74"><expr pos:start="509:74" pos:end="509:74"><name pos:start="509:74" pos:end="509:74">h</name></expr></argument>, <argument pos:start="509:77" pos:end="509:77"><expr pos:start="509:77" pos:end="509:77"><literal type="number" pos:start="509:77" pos:end="509:77">1</literal></expr></argument>, <argument pos:start="509:80" pos:end="509:118"><expr pos:start="509:80" pos:end="509:118"><name pos:start="509:80" pos:end="509:118"><name pos:start="509:80" pos:end="509:80">s</name><operator pos:start="509:81" pos:end="509:82">-&gt;</operator><name pos:start="509:83" pos:end="509:97">current_picture</name><operator pos:start="509:98" pos:end="509:98">.</operator><name pos:start="509:99" pos:end="509:110">qscale_table</name><index pos:start="509:111" pos:end="509:118">[<expr pos:start="509:112" pos:end="509:117"><name pos:start="509:112" pos:end="509:117">mbn_xy</name></expr>]</index></name></expr></argument> )</argument_list></call> <operator pos:start="509:122" pos:end="509:122">+</operator> <literal type="number" pos:start="509:124" pos:end="509:124">1</literal> <operator pos:start="509:126" pos:end="509:126">)</operator> <operator pos:start="509:128" pos:end="509:129">&gt;&gt;</operator> <literal type="number" pos:start="509:131" pos:end="509:131">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

            </block_content>}</block></else></if_stmt>

        </block_content>}</block></for>

    </block_content>}</block></for>

</block_content>}</block></function>
</unit>
