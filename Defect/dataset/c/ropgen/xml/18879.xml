<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/18879.c" pos:tabs="8"><function pos:start="1:1" pos:end="39:1"><type pos:start="1:1" pos:end="1:10"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:10">int</name></type> <name pos:start="1:12" pos:end="1:30">usb_ohci_initfn_pci</name><parameter_list pos:start="1:31" pos:end="1:53">(<parameter pos:start="1:32" pos:end="1:52"><decl pos:start="1:32" pos:end="1:52"><type pos:start="1:32" pos:end="1:52"><name pos:start="1:32" pos:end="1:47"><name pos:start="1:32" pos:end="1:37">struct</name> <name pos:start="1:39" pos:end="1:47">PCIDevice</name></name> <modifier pos:start="1:49" pos:end="1:49">*</modifier></type><name pos:start="1:50" pos:end="1:52">dev</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="39:1">{<block_content pos:start="5:5" pos:end="37:13">

    <decl_stmt pos:start="5:5" pos:end="5:63"><decl pos:start="5:5" pos:end="5:62"><type pos:start="5:5" pos:end="5:18"><name pos:start="5:5" pos:end="5:16">OHCIPCIState</name> <modifier pos:start="5:18" pos:end="5:18">*</modifier></type><name pos:start="5:19" pos:end="5:22">ohci</name> <init pos:start="5:24" pos:end="5:62">= <expr pos:start="5:26" pos:end="5:62"><call pos:start="5:26" pos:end="5:62"><name pos:start="5:26" pos:end="5:34">DO_UPCAST</name><argument_list pos:start="5:35" pos:end="5:62">(<argument pos:start="5:36" pos:end="5:47"><expr pos:start="5:36" pos:end="5:47"><name pos:start="5:36" pos:end="5:47">OHCIPCIState</name></expr></argument>, <argument pos:start="5:50" pos:end="5:56"><expr pos:start="5:50" pos:end="5:56"><name pos:start="5:50" pos:end="5:56">pci_dev</name></expr></argument>, <argument pos:start="5:59" pos:end="5:61"><expr pos:start="5:59" pos:end="5:61"><name pos:start="5:59" pos:end="5:61">dev</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:22"><decl pos:start="7:5" pos:end="7:21"><type pos:start="7:5" pos:end="7:7"><name pos:start="7:5" pos:end="7:7">int</name></type> <name pos:start="7:9" pos:end="7:17">num_ports</name> <init pos:start="7:19" pos:end="7:21">= <expr pos:start="7:21" pos:end="7:21"><literal type="number" pos:start="7:21" pos:end="7:21">3</literal></expr></init></decl>;</decl_stmt>



    <expr_stmt pos:start="11:5" pos:end="11:72"><expr pos:start="11:5" pos:end="11:71"><call pos:start="11:5" pos:end="11:71"><name pos:start="11:5" pos:end="11:28">pci_config_set_vendor_id</name><argument_list pos:start="11:29" pos:end="11:71">(<argument pos:start="11:30" pos:end="11:49"><expr pos:start="11:30" pos:end="11:49"><name pos:start="11:30" pos:end="11:49"><name pos:start="11:30" pos:end="11:33">ohci</name><operator pos:start="11:34" pos:end="11:35">-&gt;</operator><name pos:start="11:36" pos:end="11:42">pci_dev</name><operator pos:start="11:43" pos:end="11:43">.</operator><name pos:start="11:44" pos:end="11:49">config</name></name></expr></argument>, <argument pos:start="11:52" pos:end="11:70"><expr pos:start="11:52" pos:end="11:70"><name pos:start="11:52" pos:end="11:70">PCI_VENDOR_ID_APPLE</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="13:5" pos:end="15:59"><expr pos:start="13:5" pos:end="15:58"><call pos:start="13:5" pos:end="15:58"><name pos:start="13:5" pos:end="13:28">pci_config_set_device_id</name><argument_list pos:start="13:29" pos:end="15:58">(<argument pos:start="13:30" pos:end="13:49"><expr pos:start="13:30" pos:end="13:49"><name pos:start="13:30" pos:end="13:49"><name pos:start="13:30" pos:end="13:33">ohci</name><operator pos:start="13:34" pos:end="13:35">-&gt;</operator><name pos:start="13:36" pos:end="13:42">pci_dev</name><operator pos:start="13:43" pos:end="13:43">.</operator><name pos:start="13:44" pos:end="13:49">config</name></name></expr></argument>,

                             <argument pos:start="15:30" pos:end="15:57"><expr pos:start="15:30" pos:end="15:57"><name pos:start="15:30" pos:end="15:57">PCI_DEVICE_ID_APPLE_IPID_USB</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="17:5" pos:end="17:48"><expr pos:start="17:5" pos:end="17:47"><name pos:start="17:5" pos:end="17:40"><name pos:start="17:5" pos:end="17:8">ohci</name><operator pos:start="17:9" pos:end="17:10">-&gt;</operator><name pos:start="17:11" pos:end="17:17">pci_dev</name><operator pos:start="17:18" pos:end="17:18">.</operator><name pos:start="17:19" pos:end="17:24">config</name><index pos:start="17:25" pos:end="17:40">[<expr pos:start="17:26" pos:end="17:39"><name pos:start="17:26" pos:end="17:39">PCI_CLASS_PROG</name></expr>]</index></name> <operator pos:start="17:42" pos:end="17:42">=</operator> <literal type="number" pos:start="17:44" pos:end="17:47">0x10</literal></expr>;</expr_stmt> <comment type="block" pos:start="17:50" pos:end="17:59">/* OHCI */</comment>

    <expr_stmt pos:start="19:5" pos:end="19:69"><expr pos:start="19:5" pos:end="19:68"><call pos:start="19:5" pos:end="19:68"><name pos:start="19:5" pos:end="19:24">pci_config_set_class</name><argument_list pos:start="19:25" pos:end="19:68">(<argument pos:start="19:26" pos:end="19:45"><expr pos:start="19:26" pos:end="19:45"><name pos:start="19:26" pos:end="19:45"><name pos:start="19:26" pos:end="19:29">ohci</name><operator pos:start="19:30" pos:end="19:31">-&gt;</operator><name pos:start="19:32" pos:end="19:38">pci_dev</name><operator pos:start="19:39" pos:end="19:39">.</operator><name pos:start="19:40" pos:end="19:45">config</name></name></expr></argument>, <argument pos:start="19:48" pos:end="19:67"><expr pos:start="19:48" pos:end="19:67"><name pos:start="19:48" pos:end="19:67">PCI_CLASS_SERIAL_USB</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <comment type="block" pos:start="21:5" pos:end="21:39">/* TODO: RST# value should be 0. */</comment>

    <expr_stmt pos:start="23:5" pos:end="23:51"><expr pos:start="23:5" pos:end="23:50"><name pos:start="23:5" pos:end="23:43"><name pos:start="23:5" pos:end="23:8">ohci</name><operator pos:start="23:9" pos:end="23:10">-&gt;</operator><name pos:start="23:11" pos:end="23:17">pci_dev</name><operator pos:start="23:18" pos:end="23:18">.</operator><name pos:start="23:19" pos:end="23:24">config</name><index pos:start="23:25" pos:end="23:43">[<expr pos:start="23:26" pos:end="23:42"><name pos:start="23:26" pos:end="23:42">PCI_INTERRUPT_PIN</name></expr>]</index></name> <operator pos:start="23:45" pos:end="23:45">=</operator> <literal type="number" pos:start="23:47" pos:end="23:50">0x01</literal></expr>;</expr_stmt> <comment type="block" pos:start="23:53" pos:end="23:73">/* interrupt pin 1 */</comment>



    <expr_stmt pos:start="27:5" pos:end="27:58"><expr pos:start="27:5" pos:end="27:57"><call pos:start="27:5" pos:end="27:57"><name pos:start="27:5" pos:end="27:17">usb_ohci_init</name><argument_list pos:start="27:18" pos:end="27:57">(<argument pos:start="27:19" pos:end="27:30"><expr pos:start="27:19" pos:end="27:30"><operator pos:start="27:19" pos:end="27:19">&amp;</operator><name pos:start="27:20" pos:end="27:30"><name pos:start="27:20" pos:end="27:23">ohci</name><operator pos:start="27:24" pos:end="27:25">-&gt;</operator><name pos:start="27:26" pos:end="27:30">state</name></name></expr></argument>, <argument pos:start="27:33" pos:end="27:42"><expr pos:start="27:33" pos:end="27:42"><operator pos:start="27:33" pos:end="27:33">&amp;</operator><name pos:start="27:34" pos:end="27:42"><name pos:start="27:34" pos:end="27:36">dev</name><operator pos:start="27:37" pos:end="27:38">-&gt;</operator><name pos:start="27:39" pos:end="27:42">qdev</name></name></expr></argument>, <argument pos:start="27:45" pos:end="27:53"><expr pos:start="27:45" pos:end="27:53"><name pos:start="27:45" pos:end="27:53">num_ports</name></expr></argument>, <argument pos:start="27:56" pos:end="27:56"><expr pos:start="27:56" pos:end="27:56"><literal type="number" pos:start="27:56" pos:end="27:56">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="29:5" pos:end="29:43"><expr pos:start="29:5" pos:end="29:42"><name pos:start="29:5" pos:end="29:19"><name pos:start="29:5" pos:end="29:8">ohci</name><operator pos:start="29:9" pos:end="29:10">-&gt;</operator><name pos:start="29:11" pos:end="29:15">state</name><operator pos:start="29:16" pos:end="29:16">.</operator><name pos:start="29:17" pos:end="29:19">irq</name></name> <operator pos:start="29:21" pos:end="29:21">=</operator> <name pos:start="29:23" pos:end="29:42"><name pos:start="29:23" pos:end="29:26">ohci</name><operator pos:start="29:27" pos:end="29:28">-&gt;</operator><name pos:start="29:29" pos:end="29:35">pci_dev</name><operator pos:start="29:36" pos:end="29:36">.</operator><name pos:start="29:37" pos:end="29:39">irq</name><index pos:start="29:40" pos:end="29:42">[<expr pos:start="29:41" pos:end="29:41"><literal type="number" pos:start="29:41" pos:end="29:41">0</literal></expr>]</index></name></expr>;</expr_stmt>



    <comment type="block" pos:start="33:5" pos:end="33:45">/* TODO: avoid cast below by using dev */</comment>

    <expr_stmt pos:start="35:5" pos:end="35:72"><expr pos:start="35:5" pos:end="35:71"><call pos:start="35:5" pos:end="35:71"><name pos:start="35:5" pos:end="35:27">pci_register_bar_simple</name><argument_list pos:start="35:28" pos:end="35:71">(<argument pos:start="35:29" pos:end="35:42"><expr pos:start="35:29" pos:end="35:42"><operator pos:start="35:29" pos:end="35:29">&amp;</operator><name pos:start="35:30" pos:end="35:42"><name pos:start="35:30" pos:end="35:33">ohci</name><operator pos:start="35:34" pos:end="35:35">-&gt;</operator><name pos:start="35:36" pos:end="35:42">pci_dev</name></name></expr></argument>, <argument pos:start="35:45" pos:end="35:45"><expr pos:start="35:45" pos:end="35:45"><literal type="number" pos:start="35:45" pos:end="35:45">0</literal></expr></argument>, <argument pos:start="35:48" pos:end="35:50"><expr pos:start="35:48" pos:end="35:50"><literal type="number" pos:start="35:48" pos:end="35:50">256</literal></expr></argument>, <argument pos:start="35:53" pos:end="35:53"><expr pos:start="35:53" pos:end="35:53"><literal type="number" pos:start="35:53" pos:end="35:53">0</literal></expr></argument>, <argument pos:start="35:56" pos:end="35:70"><expr pos:start="35:56" pos:end="35:70"><name pos:start="35:56" pos:end="35:70"><name pos:start="35:56" pos:end="35:59">ohci</name><operator pos:start="35:60" pos:end="35:61">-&gt;</operator><name pos:start="35:62" pos:end="35:66">state</name><operator pos:start="35:67" pos:end="35:67">.</operator><name pos:start="35:68" pos:end="35:70">mem</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <return pos:start="37:5" pos:end="37:13">return <expr pos:start="37:12" pos:end="37:12"><literal type="number" pos:start="37:12" pos:end="37:12">0</literal></expr>;</return>

</block_content>}</block></function>
</unit>
