<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/21243.c" pos:tabs="8"><function pos:start="1:1" pos:end="198:1"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:34">virtio_gpu_set_scanout</name><parameter_list pos:start="1:35" pos:end="3:71">(<parameter pos:start="1:36" pos:end="1:47"><decl pos:start="1:36" pos:end="1:47"><type pos:start="1:36" pos:end="1:47"><name pos:start="1:36" pos:end="1:44">VirtIOGPU</name> <modifier pos:start="1:46" pos:end="1:46">*</modifier></type><name pos:start="1:47" pos:end="1:47">g</name></decl></parameter>,

                                   <parameter pos:start="3:36" pos:end="3:70"><decl pos:start="3:36" pos:end="3:70"><type pos:start="3:36" pos:end="3:70"><name pos:start="3:36" pos:end="3:65"><name pos:start="3:36" pos:end="3:41">struct</name> <name pos:start="3:43" pos:end="3:65">virtio_gpu_ctrl_command</name></name> <modifier pos:start="3:67" pos:end="3:67">*</modifier></type><name pos:start="3:68" pos:end="3:70">cmd</name></decl></parameter>)</parameter_list>

<block pos:start="5:1" pos:end="198:1">{<block_content pos:start="7:5" pos:end="196:34">

    <decl_stmt pos:start="7:5" pos:end="7:43"><decl pos:start="7:5" pos:end="7:42"><type pos:start="7:5" pos:end="7:39"><name pos:start="7:5" pos:end="7:37"><name pos:start="7:5" pos:end="7:10">struct</name> <name pos:start="7:12" pos:end="7:37">virtio_gpu_simple_resource</name></name> <modifier pos:start="7:39" pos:end="7:39">*</modifier></type><name pos:start="7:40" pos:end="7:42">res</name></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:39"><decl pos:start="9:5" pos:end="9:38"><type pos:start="9:5" pos:end="9:31"><name pos:start="9:5" pos:end="9:29"><name pos:start="9:5" pos:end="9:10">struct</name> <name pos:start="9:12" pos:end="9:29">virtio_gpu_scanout</name></name> <modifier pos:start="9:31" pos:end="9:31">*</modifier></type><name pos:start="9:32" pos:end="9:38">scanout</name></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:32"><decl pos:start="11:5" pos:end="11:31"><type pos:start="11:5" pos:end="11:24"><name pos:start="11:5" pos:end="11:24">pixman_format_code_t</name></type> <name pos:start="11:26" pos:end="11:31">format</name></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:20"><decl pos:start="13:5" pos:end="13:19"><type pos:start="13:5" pos:end="13:12"><name pos:start="13:5" pos:end="13:12">uint32_t</name></type> <name pos:start="13:14" pos:end="13:19">offset</name></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="15:12"><decl pos:start="15:5" pos:end="15:11"><type pos:start="15:5" pos:end="15:7"><name pos:start="15:5" pos:end="15:7">int</name></type> <name pos:start="15:9" pos:end="15:11">bpp</name></decl>;</decl_stmt>

    <decl_stmt pos:start="17:5" pos:end="17:37"><decl pos:start="17:5" pos:end="17:36"><type pos:start="17:5" pos:end="17:33"><name pos:start="17:5" pos:end="17:33"><name pos:start="17:5" pos:end="17:10">struct</name> <name pos:start="17:12" pos:end="17:33">virtio_gpu_set_scanout</name></name></type> <name pos:start="17:35" pos:end="17:36">ss</name></decl>;</decl_stmt>



    <expr_stmt pos:start="21:5" pos:end="21:28"><expr pos:start="21:5" pos:end="21:27"><call pos:start="21:5" pos:end="21:27"><name pos:start="21:5" pos:end="21:23">VIRTIO_GPU_FILL_CMD</name><argument_list pos:start="21:24" pos:end="21:27">(<argument pos:start="21:25" pos:end="21:26"><expr pos:start="21:25" pos:end="21:26"><name pos:start="21:25" pos:end="21:26">ss</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="23:5" pos:end="25:78"><expr pos:start="23:5" pos:end="25:77"><call pos:start="23:5" pos:end="25:77"><name pos:start="23:5" pos:end="23:36">trace_virtio_gpu_cmd_set_scanout</name><argument_list pos:start="23:37" pos:end="25:77">(<argument pos:start="23:38" pos:end="23:50"><expr pos:start="23:38" pos:end="23:50"><name pos:start="23:38" pos:end="23:50"><name pos:start="23:38" pos:end="23:39">ss</name><operator pos:start="23:40" pos:end="23:40">.</operator><name pos:start="23:41" pos:end="23:50">scanout_id</name></name></expr></argument>, <argument pos:start="23:53" pos:end="23:66"><expr pos:start="23:53" pos:end="23:66"><name pos:start="23:53" pos:end="23:66"><name pos:start="23:53" pos:end="23:54">ss</name><operator pos:start="23:55" pos:end="23:55">.</operator><name pos:start="23:56" pos:end="23:66">resource_id</name></name></expr></argument>,

                                     <argument pos:start="25:38" pos:end="25:47"><expr pos:start="25:38" pos:end="25:47"><name pos:start="25:38" pos:end="25:47"><name pos:start="25:38" pos:end="25:39">ss</name><operator pos:start="25:40" pos:end="25:40">.</operator><name pos:start="25:41" pos:end="25:41">r</name><operator pos:start="25:42" pos:end="25:42">.</operator><name pos:start="25:43" pos:end="25:47">width</name></name></expr></argument>, <argument pos:start="25:50" pos:end="25:60"><expr pos:start="25:50" pos:end="25:60"><name pos:start="25:50" pos:end="25:60"><name pos:start="25:50" pos:end="25:51">ss</name><operator pos:start="25:52" pos:end="25:52">.</operator><name pos:start="25:53" pos:end="25:53">r</name><operator pos:start="25:54" pos:end="25:54">.</operator><name pos:start="25:55" pos:end="25:60">height</name></name></expr></argument>, <argument pos:start="25:63" pos:end="25:68"><expr pos:start="25:63" pos:end="25:68"><name pos:start="25:63" pos:end="25:68"><name pos:start="25:63" pos:end="25:64">ss</name><operator pos:start="25:65" pos:end="25:65">.</operator><name pos:start="25:66" pos:end="25:66">r</name><operator pos:start="25:67" pos:end="25:67">.</operator><name pos:start="25:68" pos:end="25:68">x</name></name></expr></argument>, <argument pos:start="25:71" pos:end="25:76"><expr pos:start="25:71" pos:end="25:76"><name pos:start="25:71" pos:end="25:76"><name pos:start="25:71" pos:end="25:72">ss</name><operator pos:start="25:73" pos:end="25:73">.</operator><name pos:start="25:74" pos:end="25:74">r</name><operator pos:start="25:75" pos:end="25:75">.</operator><name pos:start="25:76" pos:end="25:76">y</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <if_stmt pos:start="29:5" pos:end="39:5"><if pos:start="29:5" pos:end="39:5">if <condition pos:start="29:8" pos:end="29:45">(<expr pos:start="29:9" pos:end="29:44"><name pos:start="29:9" pos:end="29:21"><name pos:start="29:9" pos:end="29:10">ss</name><operator pos:start="29:11" pos:end="29:11">.</operator><name pos:start="29:12" pos:end="29:21">scanout_id</name></name> <operator pos:start="29:23" pos:end="29:24">&gt;=</operator> <name pos:start="29:26" pos:end="29:44"><name pos:start="29:26" pos:end="29:26">g</name><operator pos:start="29:27" pos:end="29:28">-&gt;</operator><name pos:start="29:29" pos:end="29:32">conf</name><operator pos:start="29:33" pos:end="29:33">.</operator><name pos:start="29:34" pos:end="29:44">max_outputs</name></name></expr>)</condition> <block pos:start="29:47" pos:end="39:5">{<block_content pos:start="31:9" pos:end="37:15">

        <expr_stmt pos:start="31:9" pos:end="33:47"><expr pos:start="31:9" pos:end="33:46"><call pos:start="31:9" pos:end="33:46"><name pos:start="31:9" pos:end="31:21">qemu_log_mask</name><argument_list pos:start="31:22" pos:end="33:46">(<argument pos:start="31:23" pos:end="31:37"><expr pos:start="31:23" pos:end="31:37"><name pos:start="31:23" pos:end="31:37">LOG_GUEST_ERROR</name></expr></argument>, <argument pos:start="31:40" pos:end="31:76"><expr pos:start="31:40" pos:end="31:76"><literal type="string" pos:start="31:40" pos:end="31:76">"%s: illegal scanout id specified %d"</literal></expr></argument>,

                      <argument pos:start="33:23" pos:end="33:30"><expr pos:start="33:23" pos:end="33:30"><name pos:start="33:23" pos:end="33:30">__func__</name></expr></argument>, <argument pos:start="33:33" pos:end="33:45"><expr pos:start="33:33" pos:end="33:45"><name pos:start="33:33" pos:end="33:45"><name pos:start="33:33" pos:end="33:34">ss</name><operator pos:start="33:35" pos:end="33:35">.</operator><name pos:start="33:36" pos:end="33:45">scanout_id</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="35:9" pos:end="35:60"><expr pos:start="35:9" pos:end="35:59"><name pos:start="35:9" pos:end="35:18"><name pos:start="35:9" pos:end="35:11">cmd</name><operator pos:start="35:12" pos:end="35:13">-&gt;</operator><name pos:start="35:14" pos:end="35:18">error</name></name> <operator pos:start="35:20" pos:end="35:20">=</operator> <name pos:start="35:22" pos:end="35:59">VIRTIO_GPU_RESP_ERR_INVALID_SCANOUT_ID</name></expr>;</expr_stmt>

        <return pos:start="37:9" pos:end="37:15">return;</return>

    </block_content>}</block></if></if_stmt>



    <expr_stmt pos:start="43:5" pos:end="43:18"><expr pos:start="43:5" pos:end="43:17"><name pos:start="43:5" pos:end="43:13"><name pos:start="43:5" pos:end="43:5">g</name><operator pos:start="43:6" pos:end="43:7">-&gt;</operator><name pos:start="43:8" pos:end="43:13">enable</name></name> <operator pos:start="43:15" pos:end="43:15">=</operator> <literal type="number" pos:start="43:17" pos:end="43:17">1</literal></expr>;</expr_stmt>

    <if_stmt pos:start="45:5" pos:end="85:5"><if pos:start="45:5" pos:end="85:5">if <condition pos:start="45:8" pos:end="45:28">(<expr pos:start="45:9" pos:end="45:27"><name pos:start="45:9" pos:end="45:22"><name pos:start="45:9" pos:end="45:10">ss</name><operator pos:start="45:11" pos:end="45:11">.</operator><name pos:start="45:12" pos:end="45:22">resource_id</name></name> <operator pos:start="45:24" pos:end="45:25">==</operator> <literal type="number" pos:start="45:27" pos:end="45:27">0</literal></expr>)</condition> <block pos:start="45:30" pos:end="85:5">{<block_content pos:start="47:9" pos:end="83:15">

        <expr_stmt pos:start="47:9" pos:end="47:45"><expr pos:start="47:9" pos:end="47:44"><name pos:start="47:9" pos:end="47:15">scanout</name> <operator pos:start="47:17" pos:end="47:17">=</operator> <operator pos:start="47:19" pos:end="47:19">&amp;</operator><name pos:start="47:20" pos:end="47:44"><name pos:start="47:20" pos:end="47:20">g</name><operator pos:start="47:21" pos:end="47:22">-&gt;</operator><name pos:start="47:23" pos:end="47:29">scanout</name><index pos:start="47:30" pos:end="47:44">[<expr pos:start="47:31" pos:end="47:43"><name pos:start="47:31" pos:end="47:43"><name pos:start="47:31" pos:end="47:32">ss</name><operator pos:start="47:33" pos:end="47:33">.</operator><name pos:start="47:34" pos:end="47:43">scanout_id</name></name></expr>]</index></name></expr>;</expr_stmt>

        <if_stmt pos:start="49:9" pos:end="59:9"><if pos:start="49:9" pos:end="59:9">if <condition pos:start="49:12" pos:end="49:33">(<expr pos:start="49:13" pos:end="49:32"><name pos:start="49:13" pos:end="49:32"><name pos:start="49:13" pos:end="49:19">scanout</name><operator pos:start="49:20" pos:end="49:21">-&gt;</operator><name pos:start="49:22" pos:end="49:32">resource_id</name></name></expr>)</condition> <block pos:start="49:35" pos:end="59:9">{<block_content pos:start="51:13" pos:end="57:13">

            <expr_stmt pos:start="51:13" pos:end="51:68"><expr pos:start="51:13" pos:end="51:67"><name pos:start="51:13" pos:end="51:15">res</name> <operator pos:start="51:17" pos:end="51:17">=</operator> <call pos:start="51:19" pos:end="51:67"><name pos:start="51:19" pos:end="51:42">virtio_gpu_find_resource</name><argument_list pos:start="51:43" pos:end="51:67">(<argument pos:start="51:44" pos:end="51:44"><expr pos:start="51:44" pos:end="51:44"><name pos:start="51:44" pos:end="51:44">g</name></expr></argument>, <argument pos:start="51:47" pos:end="51:66"><expr pos:start="51:47" pos:end="51:66"><name pos:start="51:47" pos:end="51:66"><name pos:start="51:47" pos:end="51:53">scanout</name><operator pos:start="51:54" pos:end="51:55">-&gt;</operator><name pos:start="51:56" pos:end="51:66">resource_id</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <if_stmt pos:start="53:13" pos:end="57:13"><if pos:start="53:13" pos:end="57:13">if <condition pos:start="53:16" pos:end="53:20">(<expr pos:start="53:17" pos:end="53:19"><name pos:start="53:17" pos:end="53:19">res</name></expr>)</condition> <block pos:start="53:22" pos:end="57:13">{<block_content pos:start="55:17" pos:end="55:62">

                <expr_stmt pos:start="55:17" pos:end="55:62"><expr pos:start="55:17" pos:end="55:61"><name pos:start="55:17" pos:end="55:36"><name pos:start="55:17" pos:end="55:19">res</name><operator pos:start="55:20" pos:end="55:21">-&gt;</operator><name pos:start="55:22" pos:end="55:36">scanout_bitmask</name></name> <operator pos:start="55:38" pos:end="55:39">&amp;=</operator> <operator pos:start="55:41" pos:end="55:41">~</operator><operator pos:start="55:42" pos:end="55:42">(</operator><literal type="number" pos:start="55:43" pos:end="55:43">1</literal> <operator pos:start="55:45" pos:end="55:46">&lt;&lt;</operator> <name pos:start="55:48" pos:end="55:60"><name pos:start="55:48" pos:end="55:49">ss</name><operator pos:start="55:50" pos:end="55:50">.</operator><name pos:start="55:51" pos:end="55:60">scanout_id</name></name><operator pos:start="55:61" pos:end="55:61">)</operator></expr>;</expr_stmt>

            </block_content>}</block></if></if_stmt>

        </block_content>}</block></if></if_stmt>

        <if_stmt pos:start="61:9" pos:end="73:9"><if pos:start="61:9" pos:end="73:9">if <condition pos:start="61:12" pos:end="61:31">(<expr pos:start="61:13" pos:end="61:30"><name pos:start="61:13" pos:end="61:25"><name pos:start="61:13" pos:end="61:14">ss</name><operator pos:start="61:15" pos:end="61:15">.</operator><name pos:start="61:16" pos:end="61:25">scanout_id</name></name> <operator pos:start="61:27" pos:end="61:28">==</operator> <literal type="number" pos:start="61:30" pos:end="61:30">0</literal></expr>)</condition> <block pos:start="61:33" pos:end="73:9">{<block_content pos:start="63:13" pos:end="71:19">

            <expr_stmt pos:start="63:13" pos:end="67:51"><expr pos:start="63:13" pos:end="67:50"><call pos:start="63:13" pos:end="67:50"><name pos:start="63:13" pos:end="63:25">qemu_log_mask</name><argument_list pos:start="63:26" pos:end="67:50">(<argument pos:start="63:27" pos:end="63:41"><expr pos:start="63:27" pos:end="63:41"><name pos:start="63:27" pos:end="63:41">LOG_GUEST_ERROR</name></expr></argument>,

                          <argument pos:start="65:27" pos:end="65:63"><expr pos:start="65:27" pos:end="65:63"><literal type="string" pos:start="65:27" pos:end="65:63">"%s: illegal scanout id specified %d"</literal></expr></argument>,

                          <argument pos:start="67:27" pos:end="67:34"><expr pos:start="67:27" pos:end="67:34"><name pos:start="67:27" pos:end="67:34">__func__</name></expr></argument>, <argument pos:start="67:37" pos:end="67:49"><expr pos:start="67:37" pos:end="67:49"><name pos:start="67:37" pos:end="67:49"><name pos:start="67:37" pos:end="67:38">ss</name><operator pos:start="67:39" pos:end="67:39">.</operator><name pos:start="67:40" pos:end="67:49">scanout_id</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="69:13" pos:end="69:64"><expr pos:start="69:13" pos:end="69:63"><name pos:start="69:13" pos:end="69:22"><name pos:start="69:13" pos:end="69:15">cmd</name><operator pos:start="69:16" pos:end="69:17">-&gt;</operator><name pos:start="69:18" pos:end="69:22">error</name></name> <operator pos:start="69:24" pos:end="69:24">=</operator> <name pos:start="69:26" pos:end="69:63">VIRTIO_GPU_RESP_ERR_INVALID_SCANOUT_ID</name></expr>;</expr_stmt>

            <return pos:start="71:13" pos:end="71:19">return;</return>

        </block_content>}</block></if></if_stmt>

        <expr_stmt pos:start="75:9" pos:end="75:69"><expr pos:start="75:9" pos:end="75:68"><call pos:start="75:9" pos:end="75:68"><name pos:start="75:9" pos:end="75:31">dpy_gfx_replace_surface</name><argument_list pos:start="75:32" pos:end="75:68">(<argument pos:start="75:33" pos:end="75:61"><expr pos:start="75:33" pos:end="75:61"><name pos:start="75:33" pos:end="75:57"><name pos:start="75:33" pos:end="75:33">g</name><operator pos:start="75:34" pos:end="75:35">-&gt;</operator><name pos:start="75:36" pos:end="75:42">scanout</name><index pos:start="75:43" pos:end="75:57">[<expr pos:start="75:44" pos:end="75:56"><name pos:start="75:44" pos:end="75:56"><name pos:start="75:44" pos:end="75:45">ss</name><operator pos:start="75:46" pos:end="75:46">.</operator><name pos:start="75:47" pos:end="75:56">scanout_id</name></name></expr>]</index></name><operator pos:start="75:58" pos:end="75:58">.</operator><name pos:start="75:59" pos:end="75:61">con</name></expr></argument>, <argument pos:start="75:64" pos:end="75:67"><expr pos:start="75:64" pos:end="75:67"><name pos:start="75:64" pos:end="75:67">NULL</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="77:9" pos:end="77:27"><expr pos:start="77:9" pos:end="77:26"><name pos:start="77:9" pos:end="77:19"><name pos:start="77:9" pos:end="77:15">scanout</name><operator pos:start="77:16" pos:end="77:17">-&gt;</operator><name pos:start="77:18" pos:end="77:19">ds</name></name> <operator pos:start="77:21" pos:end="77:21">=</operator> <name pos:start="77:23" pos:end="77:26">NULL</name></expr>;</expr_stmt>

        <expr_stmt pos:start="79:9" pos:end="79:27"><expr pos:start="79:9" pos:end="79:26"><name pos:start="79:9" pos:end="79:22"><name pos:start="79:9" pos:end="79:15">scanout</name><operator pos:start="79:16" pos:end="79:17">-&gt;</operator><name pos:start="79:18" pos:end="79:22">width</name></name> <operator pos:start="79:24" pos:end="79:24">=</operator> <literal type="number" pos:start="79:26" pos:end="79:26">0</literal></expr>;</expr_stmt>

        <expr_stmt pos:start="81:9" pos:end="81:28"><expr pos:start="81:9" pos:end="81:27"><name pos:start="81:9" pos:end="81:23"><name pos:start="81:9" pos:end="81:15">scanout</name><operator pos:start="81:16" pos:end="81:17">-&gt;</operator><name pos:start="81:18" pos:end="81:23">height</name></name> <operator pos:start="81:25" pos:end="81:25">=</operator> <literal type="number" pos:start="81:27" pos:end="81:27">0</literal></expr>;</expr_stmt>

        <return pos:start="83:9" pos:end="83:15">return;</return>

    </block_content>}</block></if></if_stmt>



    <comment type="block" pos:start="89:5" pos:end="89:43">/* create a surface for this scanout */</comment>

    <expr_stmt pos:start="91:5" pos:end="91:54"><expr pos:start="91:5" pos:end="91:53"><name pos:start="91:5" pos:end="91:7">res</name> <operator pos:start="91:9" pos:end="91:9">=</operator> <call pos:start="91:11" pos:end="91:53"><name pos:start="91:11" pos:end="91:34">virtio_gpu_find_resource</name><argument_list pos:start="91:35" pos:end="91:53">(<argument pos:start="91:36" pos:end="91:36"><expr pos:start="91:36" pos:end="91:36"><name pos:start="91:36" pos:end="91:36">g</name></expr></argument>, <argument pos:start="91:39" pos:end="91:52"><expr pos:start="91:39" pos:end="91:52"><name pos:start="91:39" pos:end="91:52"><name pos:start="91:39" pos:end="91:40">ss</name><operator pos:start="91:41" pos:end="91:41">.</operator><name pos:start="91:42" pos:end="91:52">resource_id</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="93:5" pos:end="103:5"><if pos:start="93:5" pos:end="103:5">if <condition pos:start="93:8" pos:end="93:13">(<expr pos:start="93:9" pos:end="93:12"><operator pos:start="93:9" pos:end="93:9">!</operator><name pos:start="93:10" pos:end="93:12">res</name></expr>)</condition> <block pos:start="93:15" pos:end="103:5">{<block_content pos:start="95:9" pos:end="101:15">

        <expr_stmt pos:start="95:9" pos:end="97:48"><expr pos:start="95:9" pos:end="97:47"><call pos:start="95:9" pos:end="97:47"><name pos:start="95:9" pos:end="95:21">qemu_log_mask</name><argument_list pos:start="95:22" pos:end="97:47">(<argument pos:start="95:23" pos:end="95:37"><expr pos:start="95:23" pos:end="95:37"><name pos:start="95:23" pos:end="95:37">LOG_GUEST_ERROR</name></expr></argument>, <argument pos:start="95:40" pos:end="95:76"><expr pos:start="95:40" pos:end="95:76"><literal type="string" pos:start="95:40" pos:end="95:76">"%s: illegal resource specified %d\n"</literal></expr></argument>,

                      <argument pos:start="97:23" pos:end="97:30"><expr pos:start="97:23" pos:end="97:30"><name pos:start="97:23" pos:end="97:30">__func__</name></expr></argument>, <argument pos:start="97:33" pos:end="97:46"><expr pos:start="97:33" pos:end="97:46"><name pos:start="97:33" pos:end="97:46"><name pos:start="97:33" pos:end="97:34">ss</name><operator pos:start="97:35" pos:end="97:35">.</operator><name pos:start="97:36" pos:end="97:46">resource_id</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="99:9" pos:end="99:61"><expr pos:start="99:9" pos:end="99:60"><name pos:start="99:9" pos:end="99:18"><name pos:start="99:9" pos:end="99:11">cmd</name><operator pos:start="99:12" pos:end="99:13">-&gt;</operator><name pos:start="99:14" pos:end="99:18">error</name></name> <operator pos:start="99:20" pos:end="99:20">=</operator> <name pos:start="99:22" pos:end="99:60">VIRTIO_GPU_RESP_ERR_INVALID_RESOURCE_ID</name></expr>;</expr_stmt>

        <return pos:start="101:9" pos:end="101:15">return;</return>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="107:5" pos:end="131:5"><if pos:start="107:5" pos:end="131:5">if <condition pos:start="107:8" pos:end="117:43">(<expr pos:start="107:9" pos:end="117:42"><name pos:start="107:9" pos:end="107:14"><name pos:start="107:9" pos:end="107:10">ss</name><operator pos:start="107:11" pos:end="107:11">.</operator><name pos:start="107:12" pos:end="107:12">r</name><operator pos:start="107:13" pos:end="107:13">.</operator><name pos:start="107:14" pos:end="107:14">x</name></name> <operator pos:start="107:16" pos:end="107:16">&gt;</operator> <name pos:start="107:18" pos:end="107:27"><name pos:start="107:18" pos:end="107:20">res</name><operator pos:start="107:21" pos:end="107:22">-&gt;</operator><name pos:start="107:23" pos:end="107:27">width</name></name> <operator pos:start="107:29" pos:end="107:30">||</operator>

        <name pos:start="109:9" pos:end="109:14"><name pos:start="109:9" pos:end="109:10">ss</name><operator pos:start="109:11" pos:end="109:11">.</operator><name pos:start="109:12" pos:end="109:12">r</name><operator pos:start="109:13" pos:end="109:13">.</operator><name pos:start="109:14" pos:end="109:14">y</name></name> <operator pos:start="109:16" pos:end="109:16">&gt;</operator> <name pos:start="109:18" pos:end="109:28"><name pos:start="109:18" pos:end="109:20">res</name><operator pos:start="109:21" pos:end="109:22">-&gt;</operator><name pos:start="109:23" pos:end="109:28">height</name></name> <operator pos:start="109:30" pos:end="109:31">||</operator>

        <name pos:start="111:9" pos:end="111:18"><name pos:start="111:9" pos:end="111:10">ss</name><operator pos:start="111:11" pos:end="111:11">.</operator><name pos:start="111:12" pos:end="111:12">r</name><operator pos:start="111:13" pos:end="111:13">.</operator><name pos:start="111:14" pos:end="111:18">width</name></name> <operator pos:start="111:20" pos:end="111:20">&gt;</operator> <name pos:start="111:22" pos:end="111:31"><name pos:start="111:22" pos:end="111:24">res</name><operator pos:start="111:25" pos:end="111:26">-&gt;</operator><name pos:start="111:27" pos:end="111:31">width</name></name> <operator pos:start="111:33" pos:end="111:34">||</operator>

        <name pos:start="113:9" pos:end="113:19"><name pos:start="113:9" pos:end="113:10">ss</name><operator pos:start="113:11" pos:end="113:11">.</operator><name pos:start="113:12" pos:end="113:12">r</name><operator pos:start="113:13" pos:end="113:13">.</operator><name pos:start="113:14" pos:end="113:19">height</name></name> <operator pos:start="113:21" pos:end="113:21">&gt;</operator> <name pos:start="113:23" pos:end="113:33"><name pos:start="113:23" pos:end="113:25">res</name><operator pos:start="113:26" pos:end="113:27">-&gt;</operator><name pos:start="113:28" pos:end="113:33">height</name></name> <operator pos:start="113:35" pos:end="113:36">||</operator>

        <name pos:start="115:9" pos:end="115:14"><name pos:start="115:9" pos:end="115:10">ss</name><operator pos:start="115:11" pos:end="115:11">.</operator><name pos:start="115:12" pos:end="115:12">r</name><operator pos:start="115:13" pos:end="115:13">.</operator><name pos:start="115:14" pos:end="115:14">x</name></name> <operator pos:start="115:16" pos:end="115:16">+</operator> <name pos:start="115:18" pos:end="115:27"><name pos:start="115:18" pos:end="115:19">ss</name><operator pos:start="115:20" pos:end="115:20">.</operator><name pos:start="115:21" pos:end="115:21">r</name><operator pos:start="115:22" pos:end="115:22">.</operator><name pos:start="115:23" pos:end="115:27">width</name></name> <operator pos:start="115:29" pos:end="115:29">&gt;</operator> <name pos:start="115:31" pos:end="115:40"><name pos:start="115:31" pos:end="115:33">res</name><operator pos:start="115:34" pos:end="115:35">-&gt;</operator><name pos:start="115:36" pos:end="115:40">width</name></name> <operator pos:start="115:42" pos:end="115:43">||</operator>

        <name pos:start="117:9" pos:end="117:14"><name pos:start="117:9" pos:end="117:10">ss</name><operator pos:start="117:11" pos:end="117:11">.</operator><name pos:start="117:12" pos:end="117:12">r</name><operator pos:start="117:13" pos:end="117:13">.</operator><name pos:start="117:14" pos:end="117:14">y</name></name> <operator pos:start="117:16" pos:end="117:16">+</operator> <name pos:start="117:18" pos:end="117:28"><name pos:start="117:18" pos:end="117:19">ss</name><operator pos:start="117:20" pos:end="117:20">.</operator><name pos:start="117:21" pos:end="117:21">r</name><operator pos:start="117:22" pos:end="117:22">.</operator><name pos:start="117:23" pos:end="117:28">height</name></name> <operator pos:start="117:30" pos:end="117:30">&gt;</operator> <name pos:start="117:32" pos:end="117:42"><name pos:start="117:32" pos:end="117:34">res</name><operator pos:start="117:35" pos:end="117:36">-&gt;</operator><name pos:start="117:37" pos:end="117:42">height</name></name></expr>)</condition> <block pos:start="117:45" pos:end="131:5">{<block_content pos:start="119:9" pos:end="129:15">

        <expr_stmt pos:start="119:9" pos:end="125:72"><expr pos:start="119:9" pos:end="125:71"><call pos:start="119:9" pos:end="125:71"><name pos:start="119:9" pos:end="119:21">qemu_log_mask</name><argument_list pos:start="119:22" pos:end="125:71">(<argument pos:start="119:23" pos:end="119:37"><expr pos:start="119:23" pos:end="119:37"><name pos:start="119:23" pos:end="119:37">LOG_GUEST_ERROR</name></expr></argument>, <argument pos:start="119:40" pos:end="121:62"><expr pos:start="119:40" pos:end="121:62"><literal type="string" pos:start="119:40" pos:end="119:74">"%s: illegal scanout %d bounds for"</literal>

                      <literal type="string" pos:start="121:23" pos:end="121:62">" resource %d, (%d,%d)+%d,%d vs %d %d\n"</literal></expr></argument>,

                      <argument pos:start="123:23" pos:end="123:30"><expr pos:start="123:23" pos:end="123:30"><name pos:start="123:23" pos:end="123:30">__func__</name></expr></argument>, <argument pos:start="123:33" pos:end="123:45"><expr pos:start="123:33" pos:end="123:45"><name pos:start="123:33" pos:end="123:45"><name pos:start="123:33" pos:end="123:34">ss</name><operator pos:start="123:35" pos:end="123:35">.</operator><name pos:start="123:36" pos:end="123:45">scanout_id</name></name></expr></argument>, <argument pos:start="123:48" pos:end="123:61"><expr pos:start="123:48" pos:end="123:61"><name pos:start="123:48" pos:end="123:61"><name pos:start="123:48" pos:end="123:49">ss</name><operator pos:start="123:50" pos:end="123:50">.</operator><name pos:start="123:51" pos:end="123:61">resource_id</name></name></expr></argument>, <argument pos:start="123:64" pos:end="123:69"><expr pos:start="123:64" pos:end="123:69"><name pos:start="123:64" pos:end="123:69"><name pos:start="123:64" pos:end="123:65">ss</name><operator pos:start="123:66" pos:end="123:66">.</operator><name pos:start="123:67" pos:end="123:67">r</name><operator pos:start="123:68" pos:end="123:68">.</operator><name pos:start="123:69" pos:end="123:69">x</name></name></expr></argument>, <argument pos:start="123:72" pos:end="123:77"><expr pos:start="123:72" pos:end="123:77"><name pos:start="123:72" pos:end="123:77"><name pos:start="123:72" pos:end="123:73">ss</name><operator pos:start="123:74" pos:end="123:74">.</operator><name pos:start="123:75" pos:end="123:75">r</name><operator pos:start="123:76" pos:end="123:76">.</operator><name pos:start="123:77" pos:end="123:77">y</name></name></expr></argument>,

                      <argument pos:start="125:23" pos:end="125:32"><expr pos:start="125:23" pos:end="125:32"><name pos:start="125:23" pos:end="125:32"><name pos:start="125:23" pos:end="125:24">ss</name><operator pos:start="125:25" pos:end="125:25">.</operator><name pos:start="125:26" pos:end="125:26">r</name><operator pos:start="125:27" pos:end="125:27">.</operator><name pos:start="125:28" pos:end="125:32">width</name></name></expr></argument>, <argument pos:start="125:35" pos:end="125:45"><expr pos:start="125:35" pos:end="125:45"><name pos:start="125:35" pos:end="125:45"><name pos:start="125:35" pos:end="125:36">ss</name><operator pos:start="125:37" pos:end="125:37">.</operator><name pos:start="125:38" pos:end="125:38">r</name><operator pos:start="125:39" pos:end="125:39">.</operator><name pos:start="125:40" pos:end="125:45">height</name></name></expr></argument>, <argument pos:start="125:48" pos:end="125:57"><expr pos:start="125:48" pos:end="125:57"><name pos:start="125:48" pos:end="125:57"><name pos:start="125:48" pos:end="125:50">res</name><operator pos:start="125:51" pos:end="125:52">-&gt;</operator><name pos:start="125:53" pos:end="125:57">width</name></name></expr></argument>, <argument pos:start="125:60" pos:end="125:70"><expr pos:start="125:60" pos:end="125:70"><name pos:start="125:60" pos:end="125:70"><name pos:start="125:60" pos:end="125:62">res</name><operator pos:start="125:63" pos:end="125:64">-&gt;</operator><name pos:start="125:65" pos:end="125:70">height</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="127:9" pos:end="127:59"><expr pos:start="127:9" pos:end="127:58"><name pos:start="127:9" pos:end="127:18"><name pos:start="127:9" pos:end="127:11">cmd</name><operator pos:start="127:12" pos:end="127:13">-&gt;</operator><name pos:start="127:14" pos:end="127:18">error</name></name> <operator pos:start="127:20" pos:end="127:20">=</operator> <name pos:start="127:22" pos:end="127:58">VIRTIO_GPU_RESP_ERR_INVALID_PARAMETER</name></expr>;</expr_stmt>

        <return pos:start="129:9" pos:end="129:15">return;</return>

    </block_content>}</block></if></if_stmt>



    <expr_stmt pos:start="135:5" pos:end="135:41"><expr pos:start="135:5" pos:end="135:40"><name pos:start="135:5" pos:end="135:11">scanout</name> <operator pos:start="135:13" pos:end="135:13">=</operator> <operator pos:start="135:15" pos:end="135:15">&amp;</operator><name pos:start="135:16" pos:end="135:40"><name pos:start="135:16" pos:end="135:16">g</name><operator pos:start="135:17" pos:end="135:18">-&gt;</operator><name pos:start="135:19" pos:end="135:25">scanout</name><index pos:start="135:26" pos:end="135:40">[<expr pos:start="135:27" pos:end="135:39"><name pos:start="135:27" pos:end="135:39"><name pos:start="135:27" pos:end="135:28">ss</name><operator pos:start="135:29" pos:end="135:29">.</operator><name pos:start="135:30" pos:end="135:39">scanout_id</name></name></expr>]</index></name></expr>;</expr_stmt>



    <expr_stmt pos:start="139:5" pos:end="139:49"><expr pos:start="139:5" pos:end="139:48"><name pos:start="139:5" pos:end="139:10">format</name> <operator pos:start="139:12" pos:end="139:12">=</operator> <call pos:start="139:14" pos:end="139:48"><name pos:start="139:14" pos:end="139:36">pixman_image_get_format</name><argument_list pos:start="139:37" pos:end="139:48">(<argument pos:start="139:38" pos:end="139:47"><expr pos:start="139:38" pos:end="139:47"><name pos:start="139:38" pos:end="139:47"><name pos:start="139:38" pos:end="139:40">res</name><operator pos:start="139:41" pos:end="139:42">-&gt;</operator><name pos:start="139:43" pos:end="139:47">image</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="141:5" pos:end="141:46"><expr pos:start="141:5" pos:end="141:45"><name pos:start="141:5" pos:end="141:7">bpp</name> <operator pos:start="141:9" pos:end="141:9">=</operator> <operator pos:start="141:11" pos:end="141:11">(</operator><call pos:start="141:12" pos:end="141:36"><name pos:start="141:12" pos:end="141:28">PIXMAN_FORMAT_BPP</name><argument_list pos:start="141:29" pos:end="141:36">(<argument pos:start="141:30" pos:end="141:35"><expr pos:start="141:30" pos:end="141:35"><name pos:start="141:30" pos:end="141:35">format</name></expr></argument>)</argument_list></call> <operator pos:start="141:38" pos:end="141:38">+</operator> <literal type="number" pos:start="141:40" pos:end="141:40">7</literal><operator pos:start="141:41" pos:end="141:41">)</operator> <operator pos:start="141:43" pos:end="141:43">/</operator> <literal type="number" pos:start="141:45" pos:end="141:45">8</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="143:5" pos:end="143:75"><expr pos:start="143:5" pos:end="143:74"><name pos:start="143:5" pos:end="143:10">offset</name> <operator pos:start="143:12" pos:end="143:12">=</operator> <operator pos:start="143:14" pos:end="143:14">(</operator><name pos:start="143:15" pos:end="143:20"><name pos:start="143:15" pos:end="143:16">ss</name><operator pos:start="143:17" pos:end="143:17">.</operator><name pos:start="143:18" pos:end="143:18">r</name><operator pos:start="143:19" pos:end="143:19">.</operator><name pos:start="143:20" pos:end="143:20">x</name></name> <operator pos:start="143:22" pos:end="143:22">*</operator> <name pos:start="143:24" pos:end="143:26">bpp</name><operator pos:start="143:27" pos:end="143:27">)</operator> <operator pos:start="143:29" pos:end="143:29">+</operator> <name pos:start="143:31" pos:end="143:36"><name pos:start="143:31" pos:end="143:32">ss</name><operator pos:start="143:33" pos:end="143:33">.</operator><name pos:start="143:34" pos:end="143:34">r</name><operator pos:start="143:35" pos:end="143:35">.</operator><name pos:start="143:36" pos:end="143:36">y</name></name> <operator pos:start="143:38" pos:end="143:38">*</operator> <call pos:start="143:40" pos:end="143:74"><name pos:start="143:40" pos:end="143:62">pixman_image_get_stride</name><argument_list pos:start="143:63" pos:end="143:74">(<argument pos:start="143:64" pos:end="143:73"><expr pos:start="143:64" pos:end="143:73"><name pos:start="143:64" pos:end="143:73"><name pos:start="143:64" pos:end="143:66">res</name><operator pos:start="143:67" pos:end="143:68">-&gt;</operator><name pos:start="143:69" pos:end="143:73">image</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="145:5" pos:end="182:5"><if pos:start="145:5" pos:end="182:5">if <condition pos:start="145:8" pos:end="151:39">(<expr pos:start="145:9" pos:end="151:38"><operator pos:start="145:9" pos:end="145:9">!</operator><name pos:start="145:10" pos:end="145:20"><name pos:start="145:10" pos:end="145:16">scanout</name><operator pos:start="145:17" pos:end="145:18">-&gt;</operator><name pos:start="145:19" pos:end="145:20">ds</name></name> <operator pos:start="145:22" pos:end="145:23">||</operator> <call pos:start="145:25" pos:end="145:49"><name pos:start="145:25" pos:end="145:36">surface_data</name><argument_list pos:start="145:37" pos:end="145:49">(<argument pos:start="145:38" pos:end="145:48"><expr pos:start="145:38" pos:end="145:48"><name pos:start="145:38" pos:end="145:48"><name pos:start="145:38" pos:end="145:44">scanout</name><operator pos:start="145:45" pos:end="145:46">-&gt;</operator><name pos:start="145:47" pos:end="145:48">ds</name></name></expr></argument>)</argument_list></call>

        <operator pos:start="147:9" pos:end="147:10">!=</operator> <operator pos:start="147:12" pos:end="147:12">(</operator><operator pos:start="147:13" pos:end="147:13">(</operator><name pos:start="147:14" pos:end="147:20">uint8_t</name> <operator pos:start="147:22" pos:end="147:22">*</operator><operator pos:start="147:23" pos:end="147:23">)</operator><call pos:start="147:24" pos:end="147:56"><name pos:start="147:24" pos:end="147:44">pixman_image_get_data</name><argument_list pos:start="147:45" pos:end="147:56">(<argument pos:start="147:46" pos:end="147:55"><expr pos:start="147:46" pos:end="147:55"><name pos:start="147:46" pos:end="147:55"><name pos:start="147:46" pos:end="147:48">res</name><operator pos:start="147:49" pos:end="147:50">-&gt;</operator><name pos:start="147:51" pos:end="147:55">image</name></name></expr></argument>)</argument_list></call> <operator pos:start="147:58" pos:end="147:58">+</operator> <name pos:start="147:60" pos:end="147:65">offset</name><operator pos:start="147:66" pos:end="147:66">)</operator> <operator pos:start="147:68" pos:end="147:69">||</operator>

        <name pos:start="149:9" pos:end="149:22"><name pos:start="149:9" pos:end="149:15">scanout</name><operator pos:start="149:16" pos:end="149:17">-&gt;</operator><name pos:start="149:18" pos:end="149:22">width</name></name> <operator pos:start="149:24" pos:end="149:25">!=</operator> <name pos:start="149:27" pos:end="149:36"><name pos:start="149:27" pos:end="149:28">ss</name><operator pos:start="149:29" pos:end="149:29">.</operator><name pos:start="149:30" pos:end="149:30">r</name><operator pos:start="149:31" pos:end="149:31">.</operator><name pos:start="149:32" pos:end="149:36">width</name></name> <operator pos:start="149:38" pos:end="149:39">||</operator>

        <name pos:start="151:9" pos:end="151:23"><name pos:start="151:9" pos:end="151:15">scanout</name><operator pos:start="151:16" pos:end="151:17">-&gt;</operator><name pos:start="151:18" pos:end="151:23">height</name></name> <operator pos:start="151:25" pos:end="151:26">!=</operator> <name pos:start="151:28" pos:end="151:38"><name pos:start="151:28" pos:end="151:29">ss</name><operator pos:start="151:30" pos:end="151:30">.</operator><name pos:start="151:31" pos:end="151:31">r</name><operator pos:start="151:32" pos:end="151:32">.</operator><name pos:start="151:33" pos:end="151:38">height</name></name></expr>)</condition> <block pos:start="151:41" pos:end="182:5">{<block_content pos:start="153:9" pos:end="180:76">

        <decl_stmt pos:start="153:9" pos:end="153:29"><decl pos:start="153:9" pos:end="153:28"><type pos:start="153:9" pos:end="153:24"><name pos:start="153:9" pos:end="153:22">pixman_image_t</name> <modifier pos:start="153:24" pos:end="153:24">*</modifier></type><name pos:start="153:25" pos:end="153:28">rect</name></decl>;</decl_stmt>

        <decl_stmt pos:start="155:9" pos:end="155:74"><decl pos:start="155:9" pos:end="155:73"><type pos:start="155:9" pos:end="155:14"><name pos:start="155:9" pos:end="155:12">void</name> <modifier pos:start="155:14" pos:end="155:14">*</modifier></type><name pos:start="155:15" pos:end="155:17">ptr</name> <init pos:start="155:19" pos:end="155:73">= <expr pos:start="155:21" pos:end="155:73"><operator pos:start="155:21" pos:end="155:21">(</operator><name pos:start="155:22" pos:end="155:28">uint8_t</name> <operator pos:start="155:30" pos:end="155:30">*</operator><operator pos:start="155:31" pos:end="155:31">)</operator><call pos:start="155:32" pos:end="155:64"><name pos:start="155:32" pos:end="155:52">pixman_image_get_data</name><argument_list pos:start="155:53" pos:end="155:64">(<argument pos:start="155:54" pos:end="155:63"><expr pos:start="155:54" pos:end="155:63"><name pos:start="155:54" pos:end="155:63"><name pos:start="155:54" pos:end="155:56">res</name><operator pos:start="155:57" pos:end="155:58">-&gt;</operator><name pos:start="155:59" pos:end="155:63">image</name></name></expr></argument>)</argument_list></call> <operator pos:start="155:66" pos:end="155:66">+</operator> <name pos:start="155:68" pos:end="155:73">offset</name></expr></init></decl>;</decl_stmt>

        <expr_stmt pos:start="157:9" pos:end="159:77"><expr pos:start="157:9" pos:end="159:76"><name pos:start="157:9" pos:end="157:12">rect</name> <operator pos:start="157:14" pos:end="157:14">=</operator> <call pos:start="157:16" pos:end="159:76"><name pos:start="157:16" pos:end="157:39">pixman_image_create_bits</name><argument_list pos:start="157:40" pos:end="159:76">(<argument pos:start="157:41" pos:end="157:46"><expr pos:start="157:41" pos:end="157:46"><name pos:start="157:41" pos:end="157:46">format</name></expr></argument>, <argument pos:start="157:49" pos:end="157:58"><expr pos:start="157:49" pos:end="157:58"><name pos:start="157:49" pos:end="157:58"><name pos:start="157:49" pos:end="157:50">ss</name><operator pos:start="157:51" pos:end="157:51">.</operator><name pos:start="157:52" pos:end="157:52">r</name><operator pos:start="157:53" pos:end="157:53">.</operator><name pos:start="157:54" pos:end="157:58">width</name></name></expr></argument>, <argument pos:start="157:61" pos:end="157:71"><expr pos:start="157:61" pos:end="157:71"><name pos:start="157:61" pos:end="157:71"><name pos:start="157:61" pos:end="157:62">ss</name><operator pos:start="157:63" pos:end="157:63">.</operator><name pos:start="157:64" pos:end="157:64">r</name><operator pos:start="157:65" pos:end="157:65">.</operator><name pos:start="157:66" pos:end="157:71">height</name></name></expr></argument>, <argument pos:start="157:74" pos:end="157:76"><expr pos:start="157:74" pos:end="157:76"><name pos:start="157:74" pos:end="157:76">ptr</name></expr></argument>,

                                        <argument pos:start="159:41" pos:end="159:75"><expr pos:start="159:41" pos:end="159:75"><call pos:start="159:41" pos:end="159:75"><name pos:start="159:41" pos:end="159:63">pixman_image_get_stride</name><argument_list pos:start="159:64" pos:end="159:75">(<argument pos:start="159:65" pos:end="159:74"><expr pos:start="159:65" pos:end="159:74"><name pos:start="159:65" pos:end="159:74"><name pos:start="159:65" pos:end="159:67">res</name><operator pos:start="159:68" pos:end="159:69">-&gt;</operator><name pos:start="159:70" pos:end="159:74">image</name></name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="161:9" pos:end="161:37"><expr pos:start="161:9" pos:end="161:36"><call pos:start="161:9" pos:end="161:36"><name pos:start="161:9" pos:end="161:24">pixman_image_ref</name><argument_list pos:start="161:25" pos:end="161:36">(<argument pos:start="161:26" pos:end="161:35"><expr pos:start="161:26" pos:end="161:35"><name pos:start="161:26" pos:end="161:35"><name pos:start="161:26" pos:end="161:28">res</name><operator pos:start="161:29" pos:end="161:30">-&gt;</operator><name pos:start="161:31" pos:end="161:35">image</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="163:9" pos:end="165:54"><expr pos:start="163:9" pos:end="165:53"><call pos:start="163:9" pos:end="165:53"><name pos:start="163:9" pos:end="163:41">pixman_image_set_destroy_function</name><argument_list pos:start="163:42" pos:end="165:53">(<argument pos:start="163:43" pos:end="163:46"><expr pos:start="163:43" pos:end="163:46"><name pos:start="163:43" pos:end="163:46">rect</name></expr></argument>, <argument pos:start="163:49" pos:end="163:69"><expr pos:start="163:49" pos:end="163:69"><name pos:start="163:49" pos:end="163:69">virtio_unref_resource</name></expr></argument>,

                                          <argument pos:start="165:43" pos:end="165:52"><expr pos:start="165:43" pos:end="165:52"><name pos:start="165:43" pos:end="165:52"><name pos:start="165:43" pos:end="165:45">res</name><operator pos:start="165:46" pos:end="165:47">-&gt;</operator><name pos:start="165:48" pos:end="165:52">image</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <comment type="block" pos:start="167:9" pos:end="167:37">/* realloc the surface ptr */</comment>

        <expr_stmt pos:start="169:9" pos:end="169:62"><expr pos:start="169:9" pos:end="169:61"><name pos:start="169:9" pos:end="169:19"><name pos:start="169:9" pos:end="169:15">scanout</name><operator pos:start="169:16" pos:end="169:17">-&gt;</operator><name pos:start="169:18" pos:end="169:19">ds</name></name> <operator pos:start="169:21" pos:end="169:21">=</operator> <call pos:start="169:23" pos:end="169:61"><name pos:start="169:23" pos:end="169:55">qemu_create_displaysurface_pixman</name><argument_list pos:start="169:56" pos:end="169:61">(<argument pos:start="169:57" pos:end="169:60"><expr pos:start="169:57" pos:end="169:60"><name pos:start="169:57" pos:end="169:60">rect</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="171:9" pos:end="177:9"><if pos:start="171:9" pos:end="177:9">if <condition pos:start="171:12" pos:end="171:25">(<expr pos:start="171:13" pos:end="171:24"><operator pos:start="171:13" pos:end="171:13">!</operator><name pos:start="171:14" pos:end="171:24"><name pos:start="171:14" pos:end="171:20">scanout</name><operator pos:start="171:21" pos:end="171:22">-&gt;</operator><name pos:start="171:23" pos:end="171:24">ds</name></name></expr>)</condition> <block pos:start="171:27" pos:end="177:9">{<block_content pos:start="173:13" pos:end="175:19">

            <expr_stmt pos:start="173:13" pos:end="173:52"><expr pos:start="173:13" pos:end="173:51"><name pos:start="173:13" pos:end="173:22"><name pos:start="173:13" pos:end="173:15">cmd</name><operator pos:start="173:16" pos:end="173:17">-&gt;</operator><name pos:start="173:18" pos:end="173:22">error</name></name> <operator pos:start="173:24" pos:end="173:24">=</operator> <name pos:start="173:26" pos:end="173:51">VIRTIO_GPU_RESP_ERR_UNSPEC</name></expr>;</expr_stmt>

            <return pos:start="175:13" pos:end="175:19">return;</return>

        </block_content>}</block></if></if_stmt>


        <expr_stmt pos:start="180:9" pos:end="180:76"><expr pos:start="180:9" pos:end="180:75"><call pos:start="180:9" pos:end="180:75"><name pos:start="180:9" pos:end="180:31">dpy_gfx_replace_surface</name><argument_list pos:start="180:32" pos:end="180:75">(<argument pos:start="180:33" pos:end="180:61"><expr pos:start="180:33" pos:end="180:61"><name pos:start="180:33" pos:end="180:57"><name pos:start="180:33" pos:end="180:33">g</name><operator pos:start="180:34" pos:end="180:35">-&gt;</operator><name pos:start="180:36" pos:end="180:42">scanout</name><index pos:start="180:43" pos:end="180:57">[<expr pos:start="180:44" pos:end="180:56"><name pos:start="180:44" pos:end="180:56"><name pos:start="180:44" pos:end="180:45">ss</name><operator pos:start="180:46" pos:end="180:46">.</operator><name pos:start="180:47" pos:end="180:56">scanout_id</name></name></expr>]</index></name><operator pos:start="180:58" pos:end="180:58">.</operator><name pos:start="180:59" pos:end="180:61">con</name></expr></argument>, <argument pos:start="180:64" pos:end="180:74"><expr pos:start="180:64" pos:end="180:74"><name pos:start="180:64" pos:end="180:74"><name pos:start="180:64" pos:end="180:70">scanout</name><operator pos:start="180:71" pos:end="180:72">-&gt;</operator><name pos:start="180:73" pos:end="180:74">ds</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <expr_stmt pos:start="186:5" pos:end="186:49"><expr pos:start="186:5" pos:end="186:48"><name pos:start="186:5" pos:end="186:24"><name pos:start="186:5" pos:end="186:7">res</name><operator pos:start="186:8" pos:end="186:9">-&gt;</operator><name pos:start="186:10" pos:end="186:24">scanout_bitmask</name></name> <operator pos:start="186:26" pos:end="186:27">|=</operator> <operator pos:start="186:29" pos:end="186:29">(</operator><literal type="number" pos:start="186:30" pos:end="186:30">1</literal> <operator pos:start="186:32" pos:end="186:33">&lt;&lt;</operator> <name pos:start="186:35" pos:end="186:47"><name pos:start="186:35" pos:end="186:36">ss</name><operator pos:start="186:37" pos:end="186:37">.</operator><name pos:start="186:38" pos:end="186:47">scanout_id</name></name><operator pos:start="186:48" pos:end="186:48">)</operator></expr>;</expr_stmt>

    <expr_stmt pos:start="188:5" pos:end="188:42"><expr pos:start="188:5" pos:end="188:41"><name pos:start="188:5" pos:end="188:24"><name pos:start="188:5" pos:end="188:11">scanout</name><operator pos:start="188:12" pos:end="188:13">-&gt;</operator><name pos:start="188:14" pos:end="188:24">resource_id</name></name> <operator pos:start="188:26" pos:end="188:26">=</operator> <name pos:start="188:28" pos:end="188:41"><name pos:start="188:28" pos:end="188:29">ss</name><operator pos:start="188:30" pos:end="188:30">.</operator><name pos:start="188:31" pos:end="188:41">resource_id</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="190:5" pos:end="190:24"><expr pos:start="190:5" pos:end="190:23"><name pos:start="190:5" pos:end="190:14"><name pos:start="190:5" pos:end="190:11">scanout</name><operator pos:start="190:12" pos:end="190:13">-&gt;</operator><name pos:start="190:14" pos:end="190:14">x</name></name> <operator pos:start="190:16" pos:end="190:16">=</operator> <name pos:start="190:18" pos:end="190:23"><name pos:start="190:18" pos:end="190:19">ss</name><operator pos:start="190:20" pos:end="190:20">.</operator><name pos:start="190:21" pos:end="190:21">r</name><operator pos:start="190:22" pos:end="190:22">.</operator><name pos:start="190:23" pos:end="190:23">x</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="192:5" pos:end="192:24"><expr pos:start="192:5" pos:end="192:23"><name pos:start="192:5" pos:end="192:14"><name pos:start="192:5" pos:end="192:11">scanout</name><operator pos:start="192:12" pos:end="192:13">-&gt;</operator><name pos:start="192:14" pos:end="192:14">y</name></name> <operator pos:start="192:16" pos:end="192:16">=</operator> <name pos:start="192:18" pos:end="192:23"><name pos:start="192:18" pos:end="192:19">ss</name><operator pos:start="192:20" pos:end="192:20">.</operator><name pos:start="192:21" pos:end="192:21">r</name><operator pos:start="192:22" pos:end="192:22">.</operator><name pos:start="192:23" pos:end="192:23">y</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="194:5" pos:end="194:32"><expr pos:start="194:5" pos:end="194:31"><name pos:start="194:5" pos:end="194:18"><name pos:start="194:5" pos:end="194:11">scanout</name><operator pos:start="194:12" pos:end="194:13">-&gt;</operator><name pos:start="194:14" pos:end="194:18">width</name></name> <operator pos:start="194:20" pos:end="194:20">=</operator> <name pos:start="194:22" pos:end="194:31"><name pos:start="194:22" pos:end="194:23">ss</name><operator pos:start="194:24" pos:end="194:24">.</operator><name pos:start="194:25" pos:end="194:25">r</name><operator pos:start="194:26" pos:end="194:26">.</operator><name pos:start="194:27" pos:end="194:31">width</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="196:5" pos:end="196:34"><expr pos:start="196:5" pos:end="196:33"><name pos:start="196:5" pos:end="196:19"><name pos:start="196:5" pos:end="196:11">scanout</name><operator pos:start="196:12" pos:end="196:13">-&gt;</operator><name pos:start="196:14" pos:end="196:19">height</name></name> <operator pos:start="196:21" pos:end="196:21">=</operator> <name pos:start="196:23" pos:end="196:33"><name pos:start="196:23" pos:end="196:24">ss</name><operator pos:start="196:25" pos:end="196:25">.</operator><name pos:start="196:26" pos:end="196:26">r</name><operator pos:start="196:27" pos:end="196:27">.</operator><name pos:start="196:28" pos:end="196:33">height</name></name></expr>;</expr_stmt>

</block_content>}</block></function></unit>
