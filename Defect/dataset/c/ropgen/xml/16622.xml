<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/16622.c" pos:tabs="8"><function pos:start="1:1" pos:end="571:1"><type pos:start="1:1" pos:end="1:3"><name pos:start="1:1" pos:end="1:3">int</name></type> <name pos:start="1:5" pos:end="1:30">ff_jpeg2000_init_component</name><parameter_list pos:start="1:31" pos:end="9:53">(<parameter pos:start="1:32" pos:end="1:54"><decl pos:start="1:32" pos:end="1:54"><type pos:start="1:32" pos:end="1:54"><name pos:start="1:32" pos:end="1:48">Jpeg2000Component</name> <modifier pos:start="1:50" pos:end="1:50">*</modifier></type><name pos:start="1:51" pos:end="1:54">comp</name></decl></parameter>,

                               <parameter pos:start="3:32" pos:end="3:58"><decl pos:start="3:32" pos:end="3:58"><type pos:start="3:32" pos:end="3:58"><name pos:start="3:32" pos:end="3:50">Jpeg2000CodingStyle</name> <modifier pos:start="3:52" pos:end="3:52">*</modifier></type><name pos:start="3:53" pos:end="3:58">codsty</name></decl></parameter>,

                               <parameter pos:start="5:32" pos:end="5:57"><decl pos:start="5:32" pos:end="5:57"><type pos:start="5:32" pos:end="5:57"><name pos:start="5:32" pos:end="5:49">Jpeg2000QuantStyle</name> <modifier pos:start="5:51" pos:end="5:51">*</modifier></type><name pos:start="5:52" pos:end="5:57">qntsty</name></decl></parameter>,

                               <parameter pos:start="7:32" pos:end="7:39"><decl pos:start="7:32" pos:end="7:39"><type pos:start="7:32" pos:end="7:39"><name pos:start="7:32" pos:end="7:34">int</name></type> <name pos:start="7:36" pos:end="7:39">cbps</name></decl></parameter>, <parameter pos:start="7:42" pos:end="7:47"><decl pos:start="7:42" pos:end="7:47"><type pos:start="7:42" pos:end="7:47"><name pos:start="7:42" pos:end="7:44">int</name></type> <name pos:start="7:46" pos:end="7:47">dx</name></decl></parameter>, <parameter pos:start="7:50" pos:end="7:55"><decl pos:start="7:50" pos:end="7:55"><type pos:start="7:50" pos:end="7:55"><name pos:start="7:50" pos:end="7:52">int</name></type> <name pos:start="7:54" pos:end="7:55">dy</name></decl></parameter>,

                               <parameter pos:start="9:32" pos:end="9:52"><decl pos:start="9:32" pos:end="9:52"><type pos:start="9:32" pos:end="9:52"><name pos:start="9:32" pos:end="9:45">AVCodecContext</name> <modifier pos:start="9:47" pos:end="9:47">*</modifier></type><name pos:start="9:48" pos:end="9:52">avctx</name></decl></parameter>)</parameter_list>

<block pos:start="11:1" pos:end="571:1">{<block_content pos:start="13:5" pos:end="569:13">

    <decl_stmt pos:start="13:5" pos:end="13:56"><decl pos:start="13:5" pos:end="13:32"><type pos:start="13:5" pos:end="13:11"><name pos:start="13:5" pos:end="13:11">uint8_t</name></type> <name pos:start="13:13" pos:end="13:32">log2_band_prec_width</name></decl>, <decl pos:start="13:35" pos:end="13:55"><type ref="prev" pos:start="13:5" pos:end="13:11"/><name pos:start="13:35" pos:end="13:55">log2_band_prec_height</name></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="15:51"><decl pos:start="15:5" pos:end="15:18"><type pos:start="15:5" pos:end="15:7"><name pos:start="15:5" pos:end="15:7">int</name></type> <name pos:start="15:9" pos:end="15:18">reslevelno</name></decl>, <decl pos:start="15:21" pos:end="15:26"><type ref="prev" pos:start="15:5" pos:end="15:7"/><name pos:start="15:21" pos:end="15:26">bandno</name></decl>, <decl pos:start="15:29" pos:end="15:39"><type ref="prev" pos:start="15:5" pos:end="15:7"/><name pos:start="15:29" pos:end="15:35">gbandno</name> <init pos:start="15:37" pos:end="15:39">= <expr pos:start="15:39" pos:end="15:39"><literal type="number" pos:start="15:39" pos:end="15:39">0</literal></expr></init></decl>, <decl pos:start="15:42" pos:end="15:44"><type ref="prev" pos:start="15:5" pos:end="15:7"/><name pos:start="15:42" pos:end="15:44">ret</name></decl>, <decl pos:start="15:47" pos:end="15:47"><type ref="prev" pos:start="15:5" pos:end="15:7"/><name pos:start="15:47" pos:end="15:47">i</name></decl>, <decl pos:start="15:50" pos:end="15:50"><type ref="prev" pos:start="15:5" pos:end="15:7"/><name pos:start="15:50" pos:end="15:50">j</name></decl>;</decl_stmt>

    <decl_stmt pos:start="17:5" pos:end="17:19"><decl pos:start="17:5" pos:end="17:18"><type pos:start="17:5" pos:end="17:12"><name pos:start="17:5" pos:end="17:12">uint32_t</name></type> <name pos:start="17:14" pos:end="17:18">csize</name></decl>;</decl_stmt>



    <if_stmt pos:start="21:5" pos:end="27:5"><if pos:start="21:5" pos:end="27:5">if <condition pos:start="21:8" pos:end="21:35">(<expr pos:start="21:9" pos:end="21:34"><operator pos:start="21:9" pos:end="21:9">!</operator><name pos:start="21:10" pos:end="21:34"><name pos:start="21:10" pos:end="21:15">codsty</name><operator pos:start="21:16" pos:end="21:17">-&gt;</operator><name pos:start="21:18" pos:end="21:34">nreslevels2decode</name></name></expr>)</condition> <block pos:start="21:37" pos:end="27:5">{<block_content pos:start="23:9" pos:end="25:35">

        <expr_stmt pos:start="23:9" pos:end="23:73"><expr pos:start="23:9" pos:end="23:72"><call pos:start="23:9" pos:end="23:72"><name pos:start="23:9" pos:end="23:14">av_log</name><argument_list pos:start="23:15" pos:end="23:72">(<argument pos:start="23:16" pos:end="23:20"><expr pos:start="23:16" pos:end="23:20"><name pos:start="23:16" pos:end="23:20">avctx</name></expr></argument>, <argument pos:start="23:23" pos:end="23:34"><expr pos:start="23:23" pos:end="23:34"><name pos:start="23:23" pos:end="23:34">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="23:37" pos:end="23:71"><expr pos:start="23:37" pos:end="23:71"><literal type="string" pos:start="23:37" pos:end="23:71">"nreslevels2decode uninitialized\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <return pos:start="25:9" pos:end="25:35">return <expr pos:start="25:16" pos:end="25:34"><name pos:start="25:16" pos:end="25:34">AVERROR_INVALIDDATA</name></expr>;</return>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="31:5" pos:end="37:19"><if pos:start="31:5" pos:end="37:19">if <condition pos:start="31:8" pos:end="35:54">(<expr pos:start="31:9" pos:end="35:53"><name pos:start="31:9" pos:end="31:11">ret</name> <operator pos:start="31:13" pos:end="31:13">=</operator> <call pos:start="31:15" pos:end="35:53"><name pos:start="31:15" pos:end="31:34">ff_jpeg2000_dwt_init</name><argument_list pos:start="31:35" pos:end="35:53">(<argument pos:start="31:36" pos:end="31:45"><expr pos:start="31:36" pos:end="31:45"><operator pos:start="31:36" pos:end="31:36">&amp;</operator><name pos:start="31:37" pos:end="31:45"><name pos:start="31:37" pos:end="31:40">comp</name><operator pos:start="31:41" pos:end="31:42">-&gt;</operator><name pos:start="31:43" pos:end="31:45">dwt</name></name></expr></argument>, <argument pos:start="31:48" pos:end="31:58"><expr pos:start="31:48" pos:end="31:58"><name pos:start="31:48" pos:end="31:58"><name pos:start="31:48" pos:end="31:51">comp</name><operator pos:start="31:52" pos:end="31:53">-&gt;</operator><name pos:start="31:54" pos:end="31:58">coord</name></name></expr></argument>,

                                   <argument pos:start="33:36" pos:end="33:64"><expr pos:start="33:36" pos:end="33:64"><name pos:start="33:36" pos:end="33:60"><name pos:start="33:36" pos:end="33:41">codsty</name><operator pos:start="33:42" pos:end="33:43">-&gt;</operator><name pos:start="33:44" pos:end="33:60">nreslevels2decode</name></name> <operator pos:start="33:62" pos:end="33:62">-</operator> <literal type="number" pos:start="33:64" pos:end="33:64">1</literal></expr></argument>,

                                   <argument pos:start="35:36" pos:end="35:52"><expr pos:start="35:36" pos:end="35:52"><name pos:start="35:36" pos:end="35:52"><name pos:start="35:36" pos:end="35:41">codsty</name><operator pos:start="35:42" pos:end="35:43">-&gt;</operator><name pos:start="35:44" pos:end="35:52">transform</name></name></expr></argument>)</argument_list></call></expr>)</condition><block type="pseudo" pos:start="37:9" pos:end="37:19"><block_content pos:start="37:9" pos:end="37:19">

        <return pos:start="37:9" pos:end="37:19">return <expr pos:start="37:16" pos:end="37:18"><name pos:start="37:16" pos:end="37:18">ret</name></expr>;</return></block_content></block></if></if_stmt>

    <comment type="line" pos:start="39:5" pos:end="39:67">// component size comp-&gt;coord is uint16_t so ir cannot overflow</comment>

    <expr_stmt pos:start="41:5" pos:end="43:52"><expr pos:start="41:5" pos:end="43:51"><name pos:start="41:5" pos:end="41:9">csize</name> <operator pos:start="41:11" pos:end="41:11">=</operator> <operator pos:start="41:13" pos:end="41:13">(</operator><name pos:start="41:14" pos:end="41:30"><name pos:start="41:14" pos:end="41:17">comp</name><operator pos:start="41:18" pos:end="41:19">-&gt;</operator><name pos:start="41:20" pos:end="41:24">coord</name><index pos:start="41:25" pos:end="41:27">[<expr pos:start="41:26" pos:end="41:26"><literal type="number" pos:start="41:26" pos:end="41:26">0</literal></expr>]</index><index pos:start="41:28" pos:end="41:30">[<expr pos:start="41:29" pos:end="41:29"><literal type="number" pos:start="41:29" pos:end="41:29">1</literal></expr>]</index></name> <operator pos:start="41:32" pos:end="41:32">-</operator> <name pos:start="41:34" pos:end="41:50"><name pos:start="41:34" pos:end="41:37">comp</name><operator pos:start="41:38" pos:end="41:39">-&gt;</operator><name pos:start="41:40" pos:end="41:44">coord</name><index pos:start="41:45" pos:end="41:47">[<expr pos:start="41:46" pos:end="41:46"><literal type="number" pos:start="41:46" pos:end="41:46">0</literal></expr>]</index><index pos:start="41:48" pos:end="41:50">[<expr pos:start="41:49" pos:end="41:49"><literal type="number" pos:start="41:49" pos:end="41:49">0</literal></expr>]</index></name><operator pos:start="41:51" pos:end="41:51">)</operator> <operator pos:start="41:53" pos:end="41:53">*</operator>

            <operator pos:start="43:13" pos:end="43:13">(</operator><name pos:start="43:14" pos:end="43:30"><name pos:start="43:14" pos:end="43:17">comp</name><operator pos:start="43:18" pos:end="43:19">-&gt;</operator><name pos:start="43:20" pos:end="43:24">coord</name><index pos:start="43:25" pos:end="43:27">[<expr pos:start="43:26" pos:end="43:26"><literal type="number" pos:start="43:26" pos:end="43:26">1</literal></expr>]</index><index pos:start="43:28" pos:end="43:30">[<expr pos:start="43:29" pos:end="43:29"><literal type="number" pos:start="43:29" pos:end="43:29">1</literal></expr>]</index></name> <operator pos:start="43:32" pos:end="43:32">-</operator> <name pos:start="43:34" pos:end="43:50"><name pos:start="43:34" pos:end="43:37">comp</name><operator pos:start="43:38" pos:end="43:39">-&gt;</operator><name pos:start="43:40" pos:end="43:44">coord</name><index pos:start="43:45" pos:end="43:47">[<expr pos:start="43:46" pos:end="43:46"><literal type="number" pos:start="43:46" pos:end="43:46">1</literal></expr>]</index><index pos:start="43:48" pos:end="43:50">[<expr pos:start="43:49" pos:end="43:49"><literal type="number" pos:start="43:49" pos:end="43:49">0</literal></expr>]</index></name><operator pos:start="43:51" pos:end="43:51">)</operator></expr>;</expr_stmt>



    <if_stmt pos:start="47:5" pos:end="67:5"><if pos:start="47:5" pos:end="57:5">if <condition pos:start="47:8" pos:end="47:38">(<expr pos:start="47:9" pos:end="47:37"><name pos:start="47:9" pos:end="47:25"><name pos:start="47:9" pos:end="47:14">codsty</name><operator pos:start="47:15" pos:end="47:16">-&gt;</operator><name pos:start="47:17" pos:end="47:25">transform</name></name> <operator pos:start="47:27" pos:end="47:28">==</operator> <name pos:start="47:30" pos:end="47:37">FF_DWT97</name></expr>)</condition> <block pos:start="47:40" pos:end="57:5">{<block_content pos:start="49:9" pos:end="55:35">

        <expr_stmt pos:start="49:9" pos:end="49:28"><expr pos:start="49:9" pos:end="49:27"><name pos:start="49:9" pos:end="49:20"><name pos:start="49:9" pos:end="49:12">comp</name><operator pos:start="49:13" pos:end="49:14">-&gt;</operator><name pos:start="49:15" pos:end="49:20">i_data</name></name> <operator pos:start="49:22" pos:end="49:22">=</operator> <name pos:start="49:24" pos:end="49:27">NULL</name></expr>;</expr_stmt>

        <expr_stmt pos:start="51:9" pos:end="51:69"><expr pos:start="51:9" pos:end="51:68"><name pos:start="51:9" pos:end="51:20"><name pos:start="51:9" pos:end="51:12">comp</name><operator pos:start="51:13" pos:end="51:14">-&gt;</operator><name pos:start="51:15" pos:end="51:20">f_data</name></name> <operator pos:start="51:22" pos:end="51:22">=</operator> <call pos:start="51:24" pos:end="51:68"><name pos:start="51:24" pos:end="51:38">av_malloc_array</name><argument_list pos:start="51:39" pos:end="51:68">(<argument pos:start="51:40" pos:end="51:44"><expr pos:start="51:40" pos:end="51:44"><name pos:start="51:40" pos:end="51:44">csize</name></expr></argument>, <argument pos:start="51:47" pos:end="51:67"><expr pos:start="51:47" pos:end="51:67"><sizeof pos:start="51:47" pos:end="51:67">sizeof<argument_list pos:start="51:53" pos:end="51:67">(<argument pos:start="51:54" pos:end="51:66"><expr pos:start="51:54" pos:end="51:66"><operator pos:start="51:54" pos:end="51:54">*</operator><name pos:start="51:55" pos:end="51:66"><name pos:start="51:55" pos:end="51:58">comp</name><operator pos:start="51:59" pos:end="51:60">-&gt;</operator><name pos:start="51:61" pos:end="51:66">f_data</name></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="53:9" pos:end="55:35"><if pos:start="53:9" pos:end="55:35">if <condition pos:start="53:12" pos:end="53:26">(<expr pos:start="53:13" pos:end="53:25"><operator pos:start="53:13" pos:end="53:13">!</operator><name pos:start="53:14" pos:end="53:25"><name pos:start="53:14" pos:end="53:17">comp</name><operator pos:start="53:18" pos:end="53:19">-&gt;</operator><name pos:start="53:20" pos:end="53:25">f_data</name></name></expr>)</condition><block type="pseudo" pos:start="55:13" pos:end="55:35"><block_content pos:start="55:13" pos:end="55:35">

            <return pos:start="55:13" pos:end="55:35">return <expr pos:start="55:20" pos:end="55:34"><call pos:start="55:20" pos:end="55:34"><name pos:start="55:20" pos:end="55:26">AVERROR</name><argument_list pos:start="55:27" pos:end="55:34">(<argument pos:start="55:28" pos:end="55:33"><expr pos:start="55:28" pos:end="55:33"><name pos:start="55:28" pos:end="55:33">ENOMEM</name></expr></argument>)</argument_list></call></expr>;</return></block_content></block></if></if_stmt>

    </block_content>}</block></if> <else pos:start="57:7" pos:end="67:5">else <block pos:start="57:12" pos:end="67:5">{<block_content pos:start="59:9" pos:end="65:35">

        <expr_stmt pos:start="59:9" pos:end="59:28"><expr pos:start="59:9" pos:end="59:27"><name pos:start="59:9" pos:end="59:20"><name pos:start="59:9" pos:end="59:12">comp</name><operator pos:start="59:13" pos:end="59:14">-&gt;</operator><name pos:start="59:15" pos:end="59:20">f_data</name></name> <operator pos:start="59:22" pos:end="59:22">=</operator> <name pos:start="59:24" pos:end="59:27">NULL</name></expr>;</expr_stmt>

        <expr_stmt pos:start="61:9" pos:end="61:69"><expr pos:start="61:9" pos:end="61:68"><name pos:start="61:9" pos:end="61:20"><name pos:start="61:9" pos:end="61:12">comp</name><operator pos:start="61:13" pos:end="61:14">-&gt;</operator><name pos:start="61:15" pos:end="61:20">i_data</name></name> <operator pos:start="61:22" pos:end="61:22">=</operator> <call pos:start="61:24" pos:end="61:68"><name pos:start="61:24" pos:end="61:38">av_malloc_array</name><argument_list pos:start="61:39" pos:end="61:68">(<argument pos:start="61:40" pos:end="61:44"><expr pos:start="61:40" pos:end="61:44"><name pos:start="61:40" pos:end="61:44">csize</name></expr></argument>, <argument pos:start="61:47" pos:end="61:67"><expr pos:start="61:47" pos:end="61:67"><sizeof pos:start="61:47" pos:end="61:67">sizeof<argument_list pos:start="61:53" pos:end="61:67">(<argument pos:start="61:54" pos:end="61:66"><expr pos:start="61:54" pos:end="61:66"><operator pos:start="61:54" pos:end="61:54">*</operator><name pos:start="61:55" pos:end="61:66"><name pos:start="61:55" pos:end="61:58">comp</name><operator pos:start="61:59" pos:end="61:60">-&gt;</operator><name pos:start="61:61" pos:end="61:66">i_data</name></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="63:9" pos:end="65:35"><if pos:start="63:9" pos:end="65:35">if <condition pos:start="63:12" pos:end="63:26">(<expr pos:start="63:13" pos:end="63:25"><operator pos:start="63:13" pos:end="63:13">!</operator><name pos:start="63:14" pos:end="63:25"><name pos:start="63:14" pos:end="63:17">comp</name><operator pos:start="63:18" pos:end="63:19">-&gt;</operator><name pos:start="63:20" pos:end="63:25">i_data</name></name></expr>)</condition><block type="pseudo" pos:start="65:13" pos:end="65:35"><block_content pos:start="65:13" pos:end="65:35">

            <return pos:start="65:13" pos:end="65:35">return <expr pos:start="65:20" pos:end="65:34"><call pos:start="65:20" pos:end="65:34"><name pos:start="65:20" pos:end="65:26">AVERROR</name><argument_list pos:start="65:27" pos:end="65:34">(<argument pos:start="65:28" pos:end="65:33"><expr pos:start="65:28" pos:end="65:33"><name pos:start="65:28" pos:end="65:33">ENOMEM</name></expr></argument>)</argument_list></call></expr>;</return></block_content></block></if></if_stmt>

    </block_content>}</block></else></if_stmt>

    <expr_stmt pos:start="69:5" pos:end="69:82"><expr pos:start="69:5" pos:end="69:81"><name pos:start="69:5" pos:end="69:18"><name pos:start="69:5" pos:end="69:8">comp</name><operator pos:start="69:9" pos:end="69:10">-&gt;</operator><name pos:start="69:11" pos:end="69:18">reslevel</name></name> <operator pos:start="69:20" pos:end="69:20">=</operator> <call pos:start="69:22" pos:end="69:81"><name pos:start="69:22" pos:end="69:36">av_malloc_array</name><argument_list pos:start="69:37" pos:end="69:81">(<argument pos:start="69:38" pos:end="69:55"><expr pos:start="69:38" pos:end="69:55"><name pos:start="69:38" pos:end="69:55"><name pos:start="69:38" pos:end="69:43">codsty</name><operator pos:start="69:44" pos:end="69:45">-&gt;</operator><name pos:start="69:46" pos:end="69:55">nreslevels</name></name></expr></argument>, <argument pos:start="69:58" pos:end="69:80"><expr pos:start="69:58" pos:end="69:80"><sizeof pos:start="69:58" pos:end="69:80">sizeof<argument_list pos:start="69:64" pos:end="69:80">(<argument pos:start="69:65" pos:end="69:79"><expr pos:start="69:65" pos:end="69:79"><operator pos:start="69:65" pos:end="69:65">*</operator><name pos:start="69:66" pos:end="69:79"><name pos:start="69:66" pos:end="69:69">comp</name><operator pos:start="69:70" pos:end="69:71">-&gt;</operator><name pos:start="69:72" pos:end="69:79">reslevel</name></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="71:5" pos:end="73:31"><if pos:start="71:5" pos:end="73:31">if <condition pos:start="71:8" pos:end="71:24">(<expr pos:start="71:9" pos:end="71:23"><operator pos:start="71:9" pos:end="71:9">!</operator><name pos:start="71:10" pos:end="71:23"><name pos:start="71:10" pos:end="71:13">comp</name><operator pos:start="71:14" pos:end="71:15">-&gt;</operator><name pos:start="71:16" pos:end="71:23">reslevel</name></name></expr>)</condition><block type="pseudo" pos:start="73:9" pos:end="73:31"><block_content pos:start="73:9" pos:end="73:31">

        <return pos:start="73:9" pos:end="73:31">return <expr pos:start="73:16" pos:end="73:30"><call pos:start="73:16" pos:end="73:30"><name pos:start="73:16" pos:end="73:22">AVERROR</name><argument_list pos:start="73:23" pos:end="73:30">(<argument pos:start="73:24" pos:end="73:29"><expr pos:start="73:24" pos:end="73:29"><name pos:start="73:24" pos:end="73:29">ENOMEM</name></expr></argument>)</argument_list></call></expr>;</return></block_content></block></if></if_stmt>

    <comment type="block" pos:start="75:5" pos:end="75:35">/* LOOP on resolution levels */</comment>

    <for pos:start="77:5" pos:end="567:5">for <control pos:start="77:9" pos:end="77:71">(<init pos:start="77:10" pos:end="77:24"><expr pos:start="77:10" pos:end="77:23"><name pos:start="77:10" pos:end="77:19">reslevelno</name> <operator pos:start="77:21" pos:end="77:21">=</operator> <literal type="number" pos:start="77:23" pos:end="77:23">0</literal></expr>;</init> <condition pos:start="77:26" pos:end="77:57"><expr pos:start="77:26" pos:end="77:56"><name pos:start="77:26" pos:end="77:35">reslevelno</name> <operator pos:start="77:37" pos:end="77:37">&lt;</operator> <name pos:start="77:39" pos:end="77:56"><name pos:start="77:39" pos:end="77:44">codsty</name><operator pos:start="77:45" pos:end="77:46">-&gt;</operator><name pos:start="77:47" pos:end="77:56">nreslevels</name></name></expr>;</condition> <incr pos:start="77:59" pos:end="77:70"><expr pos:start="77:59" pos:end="77:70"><name pos:start="77:59" pos:end="77:68">reslevelno</name><operator pos:start="77:69" pos:end="77:70">++</operator></expr></incr>)</control> <block pos:start="77:73" pos:end="567:5">{<block_content pos:start="79:9" pos:end="565:9">

        <decl_stmt pos:start="79:9" pos:end="79:53"><decl pos:start="79:9" pos:end="79:52"><type pos:start="79:9" pos:end="79:11"><name pos:start="79:9" pos:end="79:11">int</name></type> <name pos:start="79:13" pos:end="79:18">declvl</name> <init pos:start="79:20" pos:end="79:52">= <expr pos:start="79:22" pos:end="79:52"><name pos:start="79:22" pos:end="79:39"><name pos:start="79:22" pos:end="79:27">codsty</name><operator pos:start="79:28" pos:end="79:29">-&gt;</operator><name pos:start="79:30" pos:end="79:39">nreslevels</name></name> <operator pos:start="79:41" pos:end="79:41">-</operator> <name pos:start="79:43" pos:end="79:52">reslevelno</name></expr></init></decl>;</decl_stmt>    <comment type="line" pos:start="79:58" pos:end="79:96">// N_L -r see  ISO/IEC 15444-1:2002 B.5</comment>

        <decl_stmt pos:start="81:9" pos:end="81:65"><decl pos:start="81:9" pos:end="81:64"><type pos:start="81:9" pos:end="81:26"><name pos:start="81:9" pos:end="81:24">Jpeg2000ResLevel</name> <modifier pos:start="81:26" pos:end="81:26">*</modifier></type><name pos:start="81:27" pos:end="81:34">reslevel</name> <init pos:start="81:36" pos:end="81:64">= <expr pos:start="81:38" pos:end="81:64"><name pos:start="81:38" pos:end="81:51"><name pos:start="81:38" pos:end="81:41">comp</name><operator pos:start="81:42" pos:end="81:43">-&gt;</operator><name pos:start="81:44" pos:end="81:51">reslevel</name></name> <operator pos:start="81:53" pos:end="81:53">+</operator> <name pos:start="81:55" pos:end="81:64">reslevelno</name></expr></init></decl>;</decl_stmt>



        <comment type="block" pos:start="85:9" pos:end="89:55">/* Compute borders for each resolution level.

         * Computation of trx_0, trx_1, try_0 and try_1.

         * see ISO/IEC 15444-1:2002 eq. B.5 and B-14 */</comment>

        <for pos:start="91:9" pos:end="97:77">for <control pos:start="91:13" pos:end="91:31">(<init pos:start="91:14" pos:end="91:19"><expr pos:start="91:14" pos:end="91:18"><name pos:start="91:14" pos:end="91:14">i</name> <operator pos:start="91:16" pos:end="91:16">=</operator> <literal type="number" pos:start="91:18" pos:end="91:18">0</literal></expr>;</init> <condition pos:start="91:21" pos:end="91:26"><expr pos:start="91:21" pos:end="91:25"><name pos:start="91:21" pos:end="91:21">i</name> <operator pos:start="91:23" pos:end="91:23">&lt;</operator> <literal type="number" pos:start="91:25" pos:end="91:25">2</literal></expr>;</condition> <incr pos:start="91:28" pos:end="91:30"><expr pos:start="91:28" pos:end="91:30"><name pos:start="91:28" pos:end="91:28">i</name><operator pos:start="91:29" pos:end="91:30">++</operator></expr></incr>)</control><block type="pseudo" pos:start="93:13" pos:end="97:77"><block_content pos:start="93:13" pos:end="97:77">

            <for pos:start="93:13" pos:end="97:77">for <control pos:start="93:17" pos:end="93:35">(<init pos:start="93:18" pos:end="93:23"><expr pos:start="93:18" pos:end="93:22"><name pos:start="93:18" pos:end="93:18">j</name> <operator pos:start="93:20" pos:end="93:20">=</operator> <literal type="number" pos:start="93:22" pos:end="93:22">0</literal></expr>;</init> <condition pos:start="93:25" pos:end="93:30"><expr pos:start="93:25" pos:end="93:29"><name pos:start="93:25" pos:end="93:25">j</name> <operator pos:start="93:27" pos:end="93:27">&lt;</operator> <literal type="number" pos:start="93:29" pos:end="93:29">2</literal></expr>;</condition> <incr pos:start="93:32" pos:end="93:34"><expr pos:start="93:32" pos:end="93:34"><name pos:start="93:32" pos:end="93:32">j</name><operator pos:start="93:33" pos:end="93:34">++</operator></expr></incr>)</control><block type="pseudo" pos:start="95:17" pos:end="97:77"><block_content pos:start="95:17" pos:end="97:77">

                <expr_stmt pos:start="95:17" pos:end="97:77"><expr pos:start="95:17" pos:end="97:76"><name pos:start="95:17" pos:end="95:37"><name pos:start="95:17" pos:end="95:24">reslevel</name><operator pos:start="95:25" pos:end="95:26">-&gt;</operator><name pos:start="95:27" pos:end="95:31">coord</name><index pos:start="95:32" pos:end="95:34">[<expr pos:start="95:33" pos:end="95:33"><name pos:start="95:33" pos:end="95:33">i</name></expr>]</index><index pos:start="95:35" pos:end="95:37">[<expr pos:start="95:36" pos:end="95:36"><name pos:start="95:36" pos:end="95:36">j</name></expr>]</index></name> <operator pos:start="95:39" pos:end="95:39">=</operator>

                    <call pos:start="97:21" pos:end="97:76"><name pos:start="97:21" pos:end="97:43">ff_jpeg2000_ceildivpow2</name><argument_list pos:start="97:44" pos:end="97:76">(<argument pos:start="97:45" pos:end="97:63"><expr pos:start="97:45" pos:end="97:63"><name pos:start="97:45" pos:end="97:63"><name pos:start="97:45" pos:end="97:48">comp</name><operator pos:start="97:49" pos:end="97:50">-&gt;</operator><name pos:start="97:51" pos:end="97:57">coord_o</name><index pos:start="97:58" pos:end="97:60">[<expr pos:start="97:59" pos:end="97:59"><name pos:start="97:59" pos:end="97:59">i</name></expr>]</index><index pos:start="97:61" pos:end="97:63">[<expr pos:start="97:62" pos:end="97:62"><name pos:start="97:62" pos:end="97:62">j</name></expr>]</index></name></expr></argument>, <argument pos:start="97:66" pos:end="97:75"><expr pos:start="97:66" pos:end="97:75"><name pos:start="97:66" pos:end="97:71">declvl</name> <operator pos:start="97:73" pos:end="97:73">-</operator> <literal type="number" pos:start="97:75" pos:end="97:75">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></for></block_content></block></for>

        <comment type="line" pos:start="99:9" pos:end="99:43">// update precincts size: 2^n value</comment>

        <expr_stmt pos:start="101:9" pos:end="101:74"><expr pos:start="101:9" pos:end="101:73"><name pos:start="101:9" pos:end="101:33"><name pos:start="101:9" pos:end="101:16">reslevel</name><operator pos:start="101:17" pos:end="101:18">-&gt;</operator><name pos:start="101:19" pos:end="101:33">log2_prec_width</name></name>  <operator pos:start="101:36" pos:end="101:36">=</operator> <name pos:start="101:38" pos:end="101:73"><name pos:start="101:38" pos:end="101:43">codsty</name><operator pos:start="101:44" pos:end="101:45">-&gt;</operator><name pos:start="101:46" pos:end="101:61">log2_prec_widths</name><index pos:start="101:62" pos:end="101:73">[<expr pos:start="101:63" pos:end="101:72"><name pos:start="101:63" pos:end="101:72">reslevelno</name></expr>]</index></name></expr>;</expr_stmt>

        <expr_stmt pos:start="103:9" pos:end="103:75"><expr pos:start="103:9" pos:end="103:74"><name pos:start="103:9" pos:end="103:34"><name pos:start="103:9" pos:end="103:16">reslevel</name><operator pos:start="103:17" pos:end="103:18">-&gt;</operator><name pos:start="103:19" pos:end="103:34">log2_prec_height</name></name> <operator pos:start="103:36" pos:end="103:36">=</operator> <name pos:start="103:38" pos:end="103:74"><name pos:start="103:38" pos:end="103:43">codsty</name><operator pos:start="103:44" pos:end="103:45">-&gt;</operator><name pos:start="103:46" pos:end="103:62">log2_prec_heights</name><index pos:start="103:63" pos:end="103:74">[<expr pos:start="103:64" pos:end="103:73"><name pos:start="103:64" pos:end="103:73">reslevelno</name></expr>]</index></name></expr>;</expr_stmt>



        <comment type="block" pos:start="107:9" pos:end="107:55">/* Number of bands for each resolution level */</comment>

        <if_stmt pos:start="109:9" pos:end="115:33"><if pos:start="109:9" pos:end="111:33">if <condition pos:start="109:12" pos:end="109:28">(<expr pos:start="109:13" pos:end="109:27"><name pos:start="109:13" pos:end="109:22">reslevelno</name> <operator pos:start="109:24" pos:end="109:25">==</operator> <literal type="number" pos:start="109:27" pos:end="109:27">0</literal></expr>)</condition><block type="pseudo" pos:start="111:13" pos:end="111:33"><block_content pos:start="111:13" pos:end="111:33">

            <expr_stmt pos:start="111:13" pos:end="111:33"><expr pos:start="111:13" pos:end="111:32"><name pos:start="111:13" pos:end="111:28"><name pos:start="111:13" pos:end="111:20">reslevel</name><operator pos:start="111:21" pos:end="111:22">-&gt;</operator><name pos:start="111:23" pos:end="111:28">nbands</name></name> <operator pos:start="111:30" pos:end="111:30">=</operator> <literal type="number" pos:start="111:32" pos:end="111:32">1</literal></expr>;</expr_stmt></block_content></block></if>

        <else pos:start="113:9" pos:end="115:33">else<block type="pseudo" pos:start="115:13" pos:end="115:33"><block_content pos:start="115:13" pos:end="115:33">

            <expr_stmt pos:start="115:13" pos:end="115:33"><expr pos:start="115:13" pos:end="115:32"><name pos:start="115:13" pos:end="115:28"><name pos:start="115:13" pos:end="115:20">reslevel</name><operator pos:start="115:21" pos:end="115:22">-&gt;</operator><name pos:start="115:23" pos:end="115:28">nbands</name></name> <operator pos:start="115:30" pos:end="115:30">=</operator> <literal type="number" pos:start="115:32" pos:end="115:32">3</literal></expr>;</expr_stmt></block_content></block></else></if_stmt>



        <comment type="block" pos:start="119:9" pos:end="131:66">/* Number of precincts wich span the tile for resolution level reslevelno

         * see B.6 in ISO/IEC 15444-1:2002 eq. B-16

         * num_precincts_x = |- trx_1 / 2 ^ log2_prec_width) -| - (trx_0 / 2 ^ log2_prec_width)

         * num_precincts_y = |- try_1 / 2 ^ log2_prec_width) -| - (try_0 / 2 ^ log2_prec_width)

         * for Dcinema profiles in JPEG 2000

         * num_precincts_x = |- trx_1 / 2 ^ log2_prec_width) -|

         * num_precincts_y = |- try_1 / 2 ^ log2_prec_width) -| */</comment>

        <if_stmt pos:start="133:9" pos:end="145:69"><if pos:start="133:9" pos:end="135:42">if <condition pos:start="133:12" pos:end="133:59">(<expr pos:start="133:13" pos:end="133:58"><name pos:start="133:13" pos:end="133:33"><name pos:start="133:13" pos:end="133:20">reslevel</name><operator pos:start="133:21" pos:end="133:22">-&gt;</operator><name pos:start="133:23" pos:end="133:27">coord</name><index pos:start="133:28" pos:end="133:30">[<expr pos:start="133:29" pos:end="133:29"><literal type="number" pos:start="133:29" pos:end="133:29">0</literal></expr>]</index><index pos:start="133:31" pos:end="133:33">[<expr pos:start="133:32" pos:end="133:32"><literal type="number" pos:start="133:32" pos:end="133:32">1</literal></expr>]</index></name> <operator pos:start="133:35" pos:end="133:36">==</operator> <name pos:start="133:38" pos:end="133:58"><name pos:start="133:38" pos:end="133:45">reslevel</name><operator pos:start="133:46" pos:end="133:47">-&gt;</operator><name pos:start="133:48" pos:end="133:52">coord</name><index pos:start="133:53" pos:end="133:55">[<expr pos:start="133:54" pos:end="133:54"><literal type="number" pos:start="133:54" pos:end="133:54">0</literal></expr>]</index><index pos:start="133:56" pos:end="133:58">[<expr pos:start="133:57" pos:end="133:57"><literal type="number" pos:start="133:57" pos:end="133:57">0</literal></expr>]</index></name></expr>)</condition><block type="pseudo" pos:start="135:13" pos:end="135:42"><block_content pos:start="135:13" pos:end="135:42">

            <expr_stmt pos:start="135:13" pos:end="135:42"><expr pos:start="135:13" pos:end="135:41"><name pos:start="135:13" pos:end="135:37"><name pos:start="135:13" pos:end="135:20">reslevel</name><operator pos:start="135:21" pos:end="135:22">-&gt;</operator><name pos:start="135:23" pos:end="135:37">num_precincts_x</name></name> <operator pos:start="135:39" pos:end="135:39">=</operator> <literal type="number" pos:start="135:41" pos:end="135:41">0</literal></expr>;</expr_stmt></block_content></block></if>

        <else pos:start="137:9" pos:end="145:69">else<block type="pseudo" pos:start="139:13" pos:end="145:69"><block_content pos:start="139:13" pos:end="145:69">

            <expr_stmt pos:start="139:13" pos:end="145:69"><expr pos:start="139:13" pos:end="145:68"><name pos:start="139:13" pos:end="139:37"><name pos:start="139:13" pos:end="139:20">reslevel</name><operator pos:start="139:21" pos:end="139:22">-&gt;</operator><name pos:start="139:23" pos:end="139:37">num_precincts_x</name></name> <operator pos:start="139:39" pos:end="139:39">=</operator>

                <call pos:start="141:17" pos:end="143:66"><name pos:start="141:17" pos:end="141:39">ff_jpeg2000_ceildivpow2</name><argument_list pos:start="141:40" pos:end="143:66">(<argument pos:start="141:41" pos:end="141:61"><expr pos:start="141:41" pos:end="141:61"><name pos:start="141:41" pos:end="141:61"><name pos:start="141:41" pos:end="141:48">reslevel</name><operator pos:start="141:49" pos:end="141:50">-&gt;</operator><name pos:start="141:51" pos:end="141:55">coord</name><index pos:start="141:56" pos:end="141:58">[<expr pos:start="141:57" pos:end="141:57"><literal type="number" pos:start="141:57" pos:end="141:57">0</literal></expr>]</index><index pos:start="141:59" pos:end="141:61">[<expr pos:start="141:60" pos:end="141:60"><literal type="number" pos:start="141:60" pos:end="141:60">1</literal></expr>]</index></name></expr></argument>,

                                        <argument pos:start="143:41" pos:end="143:65"><expr pos:start="143:41" pos:end="143:65"><name pos:start="143:41" pos:end="143:65"><name pos:start="143:41" pos:end="143:48">reslevel</name><operator pos:start="143:49" pos:end="143:50">-&gt;</operator><name pos:start="143:51" pos:end="143:65">log2_prec_width</name></name></expr></argument>)</argument_list></call> <operator pos:start="143:68" pos:end="143:68">-</operator>

                <operator pos:start="145:17" pos:end="145:17">(</operator><name pos:start="145:18" pos:end="145:38"><name pos:start="145:18" pos:end="145:25">reslevel</name><operator pos:start="145:26" pos:end="145:27">-&gt;</operator><name pos:start="145:28" pos:end="145:32">coord</name><index pos:start="145:33" pos:end="145:35">[<expr pos:start="145:34" pos:end="145:34"><literal type="number" pos:start="145:34" pos:end="145:34">0</literal></expr>]</index><index pos:start="145:36" pos:end="145:38">[<expr pos:start="145:37" pos:end="145:37"><literal type="number" pos:start="145:37" pos:end="145:37">0</literal></expr>]</index></name> <operator pos:start="145:40" pos:end="145:41">&gt;&gt;</operator> <name pos:start="145:43" pos:end="145:67"><name pos:start="145:43" pos:end="145:50">reslevel</name><operator pos:start="145:51" pos:end="145:52">-&gt;</operator><name pos:start="145:53" pos:end="145:67">log2_prec_width</name></name><operator pos:start="145:68" pos:end="145:68">)</operator></expr>;</expr_stmt></block_content></block></else></if_stmt>



        <if_stmt pos:start="149:9" pos:end="161:70"><if pos:start="149:9" pos:end="151:42">if <condition pos:start="149:12" pos:end="149:59">(<expr pos:start="149:13" pos:end="149:58"><name pos:start="149:13" pos:end="149:33"><name pos:start="149:13" pos:end="149:20">reslevel</name><operator pos:start="149:21" pos:end="149:22">-&gt;</operator><name pos:start="149:23" pos:end="149:27">coord</name><index pos:start="149:28" pos:end="149:30">[<expr pos:start="149:29" pos:end="149:29"><literal type="number" pos:start="149:29" pos:end="149:29">1</literal></expr>]</index><index pos:start="149:31" pos:end="149:33">[<expr pos:start="149:32" pos:end="149:32"><literal type="number" pos:start="149:32" pos:end="149:32">1</literal></expr>]</index></name> <operator pos:start="149:35" pos:end="149:36">==</operator> <name pos:start="149:38" pos:end="149:58"><name pos:start="149:38" pos:end="149:45">reslevel</name><operator pos:start="149:46" pos:end="149:47">-&gt;</operator><name pos:start="149:48" pos:end="149:52">coord</name><index pos:start="149:53" pos:end="149:55">[<expr pos:start="149:54" pos:end="149:54"><literal type="number" pos:start="149:54" pos:end="149:54">1</literal></expr>]</index><index pos:start="149:56" pos:end="149:58">[<expr pos:start="149:57" pos:end="149:57"><literal type="number" pos:start="149:57" pos:end="149:57">0</literal></expr>]</index></name></expr>)</condition><block type="pseudo" pos:start="151:13" pos:end="151:42"><block_content pos:start="151:13" pos:end="151:42">

            <expr_stmt pos:start="151:13" pos:end="151:42"><expr pos:start="151:13" pos:end="151:41"><name pos:start="151:13" pos:end="151:37"><name pos:start="151:13" pos:end="151:20">reslevel</name><operator pos:start="151:21" pos:end="151:22">-&gt;</operator><name pos:start="151:23" pos:end="151:37">num_precincts_y</name></name> <operator pos:start="151:39" pos:end="151:39">=</operator> <literal type="number" pos:start="151:41" pos:end="151:41">0</literal></expr>;</expr_stmt></block_content></block></if>

        <else pos:start="153:9" pos:end="161:70">else<block type="pseudo" pos:start="155:13" pos:end="161:70"><block_content pos:start="155:13" pos:end="161:70">

            <expr_stmt pos:start="155:13" pos:end="161:70"><expr pos:start="155:13" pos:end="161:69"><name pos:start="155:13" pos:end="155:37"><name pos:start="155:13" pos:end="155:20">reslevel</name><operator pos:start="155:21" pos:end="155:22">-&gt;</operator><name pos:start="155:23" pos:end="155:37">num_precincts_y</name></name> <operator pos:start="155:39" pos:end="155:39">=</operator>

                <call pos:start="157:17" pos:end="159:67"><name pos:start="157:17" pos:end="157:39">ff_jpeg2000_ceildivpow2</name><argument_list pos:start="157:40" pos:end="159:67">(<argument pos:start="157:41" pos:end="157:61"><expr pos:start="157:41" pos:end="157:61"><name pos:start="157:41" pos:end="157:61"><name pos:start="157:41" pos:end="157:48">reslevel</name><operator pos:start="157:49" pos:end="157:50">-&gt;</operator><name pos:start="157:51" pos:end="157:55">coord</name><index pos:start="157:56" pos:end="157:58">[<expr pos:start="157:57" pos:end="157:57"><literal type="number" pos:start="157:57" pos:end="157:57">1</literal></expr>]</index><index pos:start="157:59" pos:end="157:61">[<expr pos:start="157:60" pos:end="157:60"><literal type="number" pos:start="157:60" pos:end="157:60">1</literal></expr>]</index></name></expr></argument>,

                                        <argument pos:start="159:41" pos:end="159:66"><expr pos:start="159:41" pos:end="159:66"><name pos:start="159:41" pos:end="159:66"><name pos:start="159:41" pos:end="159:48">reslevel</name><operator pos:start="159:49" pos:end="159:50">-&gt;</operator><name pos:start="159:51" pos:end="159:66">log2_prec_height</name></name></expr></argument>)</argument_list></call> <operator pos:start="159:69" pos:end="159:69">-</operator>

                <operator pos:start="161:17" pos:end="161:17">(</operator><name pos:start="161:18" pos:end="161:38"><name pos:start="161:18" pos:end="161:25">reslevel</name><operator pos:start="161:26" pos:end="161:27">-&gt;</operator><name pos:start="161:28" pos:end="161:32">coord</name><index pos:start="161:33" pos:end="161:35">[<expr pos:start="161:34" pos:end="161:34"><literal type="number" pos:start="161:34" pos:end="161:34">1</literal></expr>]</index><index pos:start="161:36" pos:end="161:38">[<expr pos:start="161:37" pos:end="161:37"><literal type="number" pos:start="161:37" pos:end="161:37">0</literal></expr>]</index></name> <operator pos:start="161:40" pos:end="161:41">&gt;&gt;</operator> <name pos:start="161:43" pos:end="161:68"><name pos:start="161:43" pos:end="161:50">reslevel</name><operator pos:start="161:51" pos:end="161:52">-&gt;</operator><name pos:start="161:53" pos:end="161:68">log2_prec_height</name></name><operator pos:start="161:69" pos:end="161:69">)</operator></expr>;</expr_stmt></block_content></block></else></if_stmt>



        <expr_stmt pos:start="165:9" pos:end="165:84"><expr pos:start="165:9" pos:end="165:83"><name pos:start="165:9" pos:end="165:22"><name pos:start="165:9" pos:end="165:16">reslevel</name><operator pos:start="165:17" pos:end="165:18">-&gt;</operator><name pos:start="165:19" pos:end="165:22">band</name></name> <operator pos:start="165:24" pos:end="165:24">=</operator> <call pos:start="165:26" pos:end="165:83"><name pos:start="165:26" pos:end="165:40">av_malloc_array</name><argument_list pos:start="165:41" pos:end="165:83">(<argument pos:start="165:42" pos:end="165:57"><expr pos:start="165:42" pos:end="165:57"><name pos:start="165:42" pos:end="165:57"><name pos:start="165:42" pos:end="165:49">reslevel</name><operator pos:start="165:50" pos:end="165:51">-&gt;</operator><name pos:start="165:52" pos:end="165:57">nbands</name></name></expr></argument>, <argument pos:start="165:60" pos:end="165:82"><expr pos:start="165:60" pos:end="165:82"><sizeof pos:start="165:60" pos:end="165:82">sizeof<argument_list pos:start="165:66" pos:end="165:82">(<argument pos:start="165:67" pos:end="165:81"><expr pos:start="165:67" pos:end="165:81"><operator pos:start="165:67" pos:end="165:67">*</operator><name pos:start="165:68" pos:end="165:81"><name pos:start="165:68" pos:end="165:75">reslevel</name><operator pos:start="165:76" pos:end="165:77">-&gt;</operator><name pos:start="165:78" pos:end="165:81">band</name></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="167:9" pos:end="169:35"><if pos:start="167:9" pos:end="169:35">if <condition pos:start="167:12" pos:end="167:28">(<expr pos:start="167:13" pos:end="167:27"><operator pos:start="167:13" pos:end="167:13">!</operator><name pos:start="167:14" pos:end="167:27"><name pos:start="167:14" pos:end="167:21">reslevel</name><operator pos:start="167:22" pos:end="167:23">-&gt;</operator><name pos:start="167:24" pos:end="167:27">band</name></name></expr>)</condition><block type="pseudo" pos:start="169:13" pos:end="169:35"><block_content pos:start="169:13" pos:end="169:35">

            <return pos:start="169:13" pos:end="169:35">return <expr pos:start="169:20" pos:end="169:34"><call pos:start="169:20" pos:end="169:34"><name pos:start="169:20" pos:end="169:26">AVERROR</name><argument_list pos:start="169:27" pos:end="169:34">(<argument pos:start="169:28" pos:end="169:33"><expr pos:start="169:28" pos:end="169:33"><name pos:start="169:28" pos:end="169:33">ENOMEM</name></expr></argument>)</argument_list></call></expr>;</return></block_content></block></if></if_stmt>



        <for pos:start="173:9" pos:end="565:9">for <control pos:start="173:13" pos:end="173:72">(<init pos:start="173:14" pos:end="173:24"><expr pos:start="173:14" pos:end="173:23"><name pos:start="173:14" pos:end="173:19">bandno</name> <operator pos:start="173:21" pos:end="173:21">=</operator> <literal type="number" pos:start="173:23" pos:end="173:23">0</literal></expr>;</init> <condition pos:start="173:26" pos:end="173:51"><expr pos:start="173:26" pos:end="173:50"><name pos:start="173:26" pos:end="173:31">bandno</name> <operator pos:start="173:33" pos:end="173:33">&lt;</operator> <name pos:start="173:35" pos:end="173:50"><name pos:start="173:35" pos:end="173:42">reslevel</name><operator pos:start="173:43" pos:end="173:44">-&gt;</operator><name pos:start="173:45" pos:end="173:50">nbands</name></name></expr>;</condition> <incr pos:start="173:53" pos:end="173:71"><expr pos:start="173:53" pos:end="173:60"><name pos:start="173:53" pos:end="173:58">bandno</name><operator pos:start="173:59" pos:end="173:60">++</operator></expr><operator pos:start="173:61" pos:end="173:61">,</operator> <expr pos:start="173:63" pos:end="173:71"><name pos:start="173:63" pos:end="173:69">gbandno</name><operator pos:start="173:70" pos:end="173:71">++</operator></expr></incr>)</control> <block pos:start="173:74" pos:end="565:9">{<block_content pos:start="175:13" pos:end="563:13">

            <decl_stmt pos:start="175:13" pos:end="175:57"><decl pos:start="175:13" pos:end="175:56"><type pos:start="175:13" pos:end="175:26"><name pos:start="175:13" pos:end="175:24">Jpeg2000Band</name> <modifier pos:start="175:26" pos:end="175:26">*</modifier></type><name pos:start="175:27" pos:end="175:30">band</name> <init pos:start="175:32" pos:end="175:56">= <expr pos:start="175:34" pos:end="175:56"><name pos:start="175:34" pos:end="175:47"><name pos:start="175:34" pos:end="175:41">reslevel</name><operator pos:start="175:42" pos:end="175:43">-&gt;</operator><name pos:start="175:44" pos:end="175:47">band</name></name> <operator pos:start="175:49" pos:end="175:49">+</operator> <name pos:start="175:51" pos:end="175:56">bandno</name></expr></init></decl>;</decl_stmt>

            <decl_stmt pos:start="177:13" pos:end="177:31"><decl pos:start="177:13" pos:end="177:22"><type pos:start="177:13" pos:end="177:15"><name pos:start="177:13" pos:end="177:15">int</name></type> <name pos:start="177:17" pos:end="177:22">cblkno</name></decl>, <decl pos:start="177:25" pos:end="177:30"><type ref="prev" pos:start="177:13" pos:end="177:15"/><name pos:start="177:25" pos:end="177:30">precno</name></decl>;</decl_stmt>

            <decl_stmt pos:start="179:13" pos:end="179:29"><decl pos:start="179:13" pos:end="179:28"><type pos:start="179:13" pos:end="179:15"><name pos:start="179:13" pos:end="179:15">int</name></type> <name pos:start="179:17" pos:end="179:28">nb_precincts</name></decl>;</decl_stmt>



            <comment type="block" pos:start="183:13" pos:end="185:57">/* TODO: Implementation of quantization step not finished,

             * see ISO/IEC 15444-1:2002 E.1 and A.6.4. */</comment>

            <switch pos:start="187:13" pos:end="249:13">switch <condition pos:start="187:20" pos:end="187:37">(<expr pos:start="187:21" pos:end="187:36"><name pos:start="187:21" pos:end="187:36"><name pos:start="187:21" pos:end="187:26">qntsty</name><operator pos:start="187:27" pos:end="187:28">-&gt;</operator><name pos:start="187:29" pos:end="187:36">quantsty</name></name></expr>)</condition> <block pos:start="187:39" pos:end="249:13">{<block_content pos:start="189:17" pos:end="247:22">

                <decl_stmt pos:start="189:17" pos:end="189:29"><decl pos:start="189:17" pos:end="189:28"><type pos:start="189:17" pos:end="189:23"><name pos:start="189:17" pos:end="189:23">uint8_t</name></type> <name pos:start="189:25" pos:end="189:28">gain</name></decl>;</decl_stmt>

                <decl_stmt pos:start="191:17" pos:end="191:27"><decl pos:start="191:17" pos:end="191:26"><type pos:start="191:17" pos:end="191:19"><name pos:start="191:17" pos:end="191:19">int</name></type> <name pos:start="191:21" pos:end="191:26">numbps</name></decl>;</decl_stmt>

            <case pos:start="193:13" pos:end="193:36">case <expr pos:start="193:18" pos:end="193:35"><name pos:start="193:18" pos:end="193:35">JPEG2000_QSTY_NONE</name></expr>:</case>

                <comment type="block" pos:start="195:17" pos:end="195:67">/* TODO: to verify. No quantization in this case */</comment>

                <expr_stmt pos:start="197:17" pos:end="197:37"><expr pos:start="197:17" pos:end="197:36"><name pos:start="197:17" pos:end="197:32"><name pos:start="197:17" pos:end="197:20">band</name><operator pos:start="197:21" pos:end="197:22">-&gt;</operator><name pos:start="197:23" pos:end="197:32">f_stepsize</name></name> <operator pos:start="197:34" pos:end="197:34">=</operator> <literal type="number" pos:start="197:36" pos:end="197:36">1</literal></expr>;</expr_stmt>

                <break pos:start="199:17" pos:end="199:22">break;</break>

            <case pos:start="201:13" pos:end="201:34">case <expr pos:start="201:18" pos:end="201:33"><name pos:start="201:18" pos:end="201:33">JPEG2000_QSTY_SI</name></expr>:</case>

                <comment type="block" pos:start="203:17" pos:end="203:56">/*TODO: Compute formula to implement. */</comment>

                <expr_stmt pos:start="205:17" pos:end="207:92"><expr pos:start="205:17" pos:end="207:91"><name pos:start="205:17" pos:end="205:22">numbps</name> <operator pos:start="205:24" pos:end="205:24">=</operator> <name pos:start="205:26" pos:end="205:29">cbps</name> <operator pos:start="205:31" pos:end="205:31">+</operator>

                         <name pos:start="207:26" pos:end="207:91"><name pos:start="207:26" pos:end="207:33">lut_gain</name><index pos:start="207:34" pos:end="207:64">[<expr pos:start="207:35" pos:end="207:63"><name pos:start="207:35" pos:end="207:51"><name pos:start="207:35" pos:end="207:40">codsty</name><operator pos:start="207:41" pos:end="207:42">-&gt;</operator><name pos:start="207:43" pos:end="207:51">transform</name></name> <operator pos:start="207:53" pos:end="207:54">==</operator> <name pos:start="207:56" pos:end="207:63">FF_DWT53</name></expr>]</index><index pos:start="207:65" pos:end="207:91">[<expr pos:start="207:66" pos:end="207:90"><name pos:start="207:66" pos:end="207:71">bandno</name> <operator pos:start="207:73" pos:end="207:73">+</operator> <operator pos:start="207:75" pos:end="207:75">(</operator><name pos:start="207:76" pos:end="207:85">reslevelno</name> <operator pos:start="207:87" pos:end="207:87">&gt;</operator> <literal type="number" pos:start="207:89" pos:end="207:89">0</literal><operator pos:start="207:90" pos:end="207:90">)</operator></expr>]</index></name></expr>;</expr_stmt>

                <expr_stmt pos:start="209:17" pos:end="211:75"><expr pos:start="209:17" pos:end="211:74"><name pos:start="209:17" pos:end="209:32"><name pos:start="209:17" pos:end="209:20">band</name><operator pos:start="209:21" pos:end="209:22">-&gt;</operator><name pos:start="209:23" pos:end="209:32">f_stepsize</name></name> <operator pos:start="209:34" pos:end="209:34">=</operator> <call pos:start="209:36" pos:end="211:74"><name pos:start="209:36" pos:end="209:38">SHL</name><argument_list pos:start="209:39" pos:end="211:74">(<argument pos:start="209:40" pos:end="209:67"><expr pos:start="209:40" pos:end="209:67"><literal type="number" pos:start="209:40" pos:end="209:45">2048</literal> <operator pos:start="209:45" pos:end="209:45">+</operator> <name pos:start="209:47" pos:end="209:67"><name pos:start="209:47" pos:end="209:52">qntsty</name><operator pos:start="209:53" pos:end="209:54">-&gt;</operator><name pos:start="209:55" pos:end="209:58">mant</name><index pos:start="209:59" pos:end="209:67">[<expr pos:start="209:60" pos:end="209:66"><name pos:start="209:60" pos:end="209:66">gbandno</name></expr>]</index></name></expr></argument>,

                                       <argument pos:start="211:40" pos:end="211:73"><expr pos:start="211:40" pos:end="211:73"><literal type="number" pos:start="211:40" pos:end="211:42">2</literal> <operator pos:start="211:42" pos:end="211:42">+</operator> <name pos:start="211:44" pos:end="211:49">numbps</name> <operator pos:start="211:51" pos:end="211:51">-</operator> <name pos:start="211:53" pos:end="211:73"><name pos:start="211:53" pos:end="211:58">qntsty</name><operator pos:start="211:59" pos:end="211:60">-&gt;</operator><name pos:start="211:61" pos:end="211:64">expn</name><index pos:start="211:65" pos:end="211:73">[<expr pos:start="211:66" pos:end="211:72"><name pos:start="211:66" pos:end="211:72">gbandno</name></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <break pos:start="213:17" pos:end="213:22">break;</break>

            <case pos:start="215:13" pos:end="215:34">case <expr pos:start="215:18" pos:end="215:33"><name pos:start="215:18" pos:end="215:33">JPEG2000_QSTY_SE</name></expr>:</case>

                <comment type="block" pos:start="217:17" pos:end="225:69">/* Exponent quantization step.

                 * Formula:

                 * delta_b = 2 ^ (R_b - expn_b) * (1 + (mant_b / 2 ^ 11))

                 * R_b = R_I + log2 (gain_b )

                 * see ISO/IEC 15444-1:2002 E.1.1 eqn. E-3 and E-4 */</comment>

                <comment type="block" pos:start="227:17" pos:end="231:51">/* TODO/WARN: value of log2 (gain_b ) not taken into account

                 * but it works (compared to OpenJPEG). Why?

                 * Further investigation needed. */</comment>

                <expr_stmt pos:start="233:17" pos:end="233:39"><expr pos:start="233:17" pos:end="233:38"><name pos:start="233:17" pos:end="233:20">gain</name>            <operator pos:start="233:33" pos:end="233:33">=</operator> <name pos:start="233:35" pos:end="233:38">cbps</name></expr>;</expr_stmt>

                <expr_stmt pos:start="235:17" pos:end="235:75"><expr pos:start="235:17" pos:end="235:74"><name pos:start="235:17" pos:end="235:32"><name pos:start="235:17" pos:end="235:20">band</name><operator pos:start="235:21" pos:end="235:22">-&gt;</operator><name pos:start="235:23" pos:end="235:32">f_stepsize</name></name>  <operator pos:start="235:35" pos:end="235:35">=</operator> <call pos:start="235:37" pos:end="235:74"><name pos:start="235:37" pos:end="235:39">pow</name><argument_list pos:start="235:40" pos:end="235:74">(<argument pos:start="235:41" pos:end="235:43"><expr pos:start="235:41" pos:end="235:43"><literal type="number" pos:start="235:41" pos:end="235:43">2.0</literal></expr></argument>, <argument pos:start="235:46" pos:end="235:73"><expr pos:start="235:46" pos:end="235:73"><name pos:start="235:46" pos:end="235:49">gain</name> <operator pos:start="235:51" pos:end="235:51">-</operator> <name pos:start="235:53" pos:end="235:73"><name pos:start="235:53" pos:end="235:58">qntsty</name><operator pos:start="235:59" pos:end="235:60">-&gt;</operator><name pos:start="235:61" pos:end="235:64">expn</name><index pos:start="235:65" pos:end="235:73">[<expr pos:start="235:66" pos:end="235:72"><name pos:start="235:66" pos:end="235:72">gbandno</name></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="237:17" pos:end="237:73"><expr pos:start="237:17" pos:end="237:72"><name pos:start="237:17" pos:end="237:32"><name pos:start="237:17" pos:end="237:20">band</name><operator pos:start="237:21" pos:end="237:22">-&gt;</operator><name pos:start="237:23" pos:end="237:32">f_stepsize</name></name> <operator pos:start="237:34" pos:end="237:35">*=</operator> <name pos:start="237:37" pos:end="237:57"><name pos:start="237:37" pos:end="237:42">qntsty</name><operator pos:start="237:43" pos:end="237:44">-&gt;</operator><name pos:start="237:45" pos:end="237:48">mant</name><index pos:start="237:49" pos:end="237:57">[<expr pos:start="237:50" pos:end="237:56"><name pos:start="237:50" pos:end="237:56">gbandno</name></expr>]</index></name> <operator pos:start="237:59" pos:end="237:59">/</operator> <literal type="number" pos:start="237:61" pos:end="237:68">2048.0</literal> <operator pos:start="237:68" pos:end="237:68">+</operator> <literal type="number" pos:start="237:70" pos:end="237:72">1.0</literal></expr>;</expr_stmt>

                <break pos:start="239:17" pos:end="239:22">break;</break>

            <default pos:start="241:13" pos:end="241:20">default:</default>

                <expr_stmt pos:start="243:17" pos:end="243:37"><expr pos:start="243:17" pos:end="243:36"><name pos:start="243:17" pos:end="243:32"><name pos:start="243:17" pos:end="243:20">band</name><operator pos:start="243:21" pos:end="243:22">-&gt;</operator><name pos:start="243:23" pos:end="243:32">f_stepsize</name></name> <operator pos:start="243:34" pos:end="243:34">=</operator> <literal type="number" pos:start="243:36" pos:end="243:36">0</literal></expr>;</expr_stmt>

                <expr_stmt pos:start="245:17" pos:end="245:77"><expr pos:start="245:17" pos:end="245:76"><call pos:start="245:17" pos:end="245:76"><name pos:start="245:17" pos:end="245:22">av_log</name><argument_list pos:start="245:23" pos:end="245:76">(<argument pos:start="245:24" pos:end="245:28"><expr pos:start="245:24" pos:end="245:28"><name pos:start="245:24" pos:end="245:28">avctx</name></expr></argument>, <argument pos:start="245:31" pos:end="245:42"><expr pos:start="245:31" pos:end="245:42"><name pos:start="245:31" pos:end="245:42">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="245:45" pos:end="245:75"><expr pos:start="245:45" pos:end="245:75"><literal type="string" pos:start="245:45" pos:end="245:75">"Unknown quantization format\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <break pos:start="247:17" pos:end="247:22">break;</break>

            </block_content>}</block></switch>

            <comment type="block" pos:start="251:13" pos:end="253:71">/* FIXME: In openjepg code stespize = stepsize * 0.5. Why?

             * If not set output of entropic decoder is not correct. */</comment>

            <if_stmt pos:start="255:13" pos:end="257:40"><if pos:start="255:13" pos:end="257:40">if <condition pos:start="255:16" pos:end="255:51">(<expr pos:start="255:17" pos:end="255:50"><operator pos:start="255:17" pos:end="255:17">!</operator><call pos:start="255:18" pos:end="255:50"><name pos:start="255:18" pos:end="255:36">av_codec_is_encoder</name><argument_list pos:start="255:37" pos:end="255:50">(<argument pos:start="255:38" pos:end="255:49"><expr pos:start="255:38" pos:end="255:49"><name pos:start="255:38" pos:end="255:49"><name pos:start="255:38" pos:end="255:42">avctx</name><operator pos:start="255:43" pos:end="255:44">-&gt;</operator><name pos:start="255:45" pos:end="255:49">codec</name></name></expr></argument>)</argument_list></call></expr>)</condition><block type="pseudo" pos:start="257:17" pos:end="257:40"><block_content pos:start="257:17" pos:end="257:40">

                <expr_stmt pos:start="257:17" pos:end="257:40"><expr pos:start="257:17" pos:end="257:39"><name pos:start="257:17" pos:end="257:32"><name pos:start="257:17" pos:end="257:20">band</name><operator pos:start="257:21" pos:end="257:22">-&gt;</operator><name pos:start="257:23" pos:end="257:32">f_stepsize</name></name> <operator pos:start="257:34" pos:end="257:35">*=</operator> <literal type="number" pos:start="257:37" pos:end="257:39">0.5</literal></expr>;</expr_stmt></block_content></block></if></if_stmt>



            <expr_stmt pos:start="261:13" pos:end="261:60"><expr pos:start="261:13" pos:end="261:59"><name pos:start="261:13" pos:end="261:28"><name pos:start="261:13" pos:end="261:16">band</name><operator pos:start="261:17" pos:end="261:18">-&gt;</operator><name pos:start="261:19" pos:end="261:28">i_stepsize</name></name> <operator pos:start="261:30" pos:end="261:30">=</operator> <name pos:start="261:32" pos:end="261:47"><name pos:start="261:32" pos:end="261:35">band</name><operator pos:start="261:36" pos:end="261:37">-&gt;</operator><name pos:start="261:38" pos:end="261:47">f_stepsize</name></name> <operator pos:start="261:49" pos:end="261:49">*</operator> <operator pos:start="261:51" pos:end="261:51">(</operator><literal type="number" pos:start="261:52" pos:end="261:52">1</literal> <operator pos:start="261:54" pos:end="261:55">&lt;&lt;</operator> <literal type="number" pos:start="261:57" pos:end="261:58">16</literal><operator pos:start="261:59" pos:end="261:59">)</operator></expr>;</expr_stmt>



            <comment type="block" pos:start="265:13" pos:end="271:78">/* computation of tbx_0, tbx_1, tby_0, tby_1

             * see ISO/IEC 15444-1:2002 B.5 eq. B-15 and tbl B.1

             * codeblock width and height is computed for

             * DCI JPEG 2000 codeblock_width = codeblock_width = 32 = 2 ^ 5 */</comment>

            <if_stmt pos:start="273:13" pos:end="343:13"><if pos:start="273:13" pos:end="301:13">if <condition pos:start="273:16" pos:end="273:32">(<expr pos:start="273:17" pos:end="273:31"><name pos:start="273:17" pos:end="273:26">reslevelno</name> <operator pos:start="273:28" pos:end="273:29">==</operator> <literal type="number" pos:start="273:31" pos:end="273:31">0</literal></expr>)</condition> <block pos:start="273:34" pos:end="301:13">{<block_content pos:start="277:17" pos:end="299:75">

                <comment type="block" pos:start="275:17" pos:end="275:72">/* for reslevelno = 0, only one band, x0_b = y0_b = 0 */</comment>

                <for pos:start="277:17" pos:end="285:64">for <control pos:start="277:21" pos:end="277:39">(<init pos:start="277:22" pos:end="277:27"><expr pos:start="277:22" pos:end="277:26"><name pos:start="277:22" pos:end="277:22">i</name> <operator pos:start="277:24" pos:end="277:24">=</operator> <literal type="number" pos:start="277:26" pos:end="277:26">0</literal></expr>;</init> <condition pos:start="277:29" pos:end="277:34"><expr pos:start="277:29" pos:end="277:33"><name pos:start="277:29" pos:end="277:29">i</name> <operator pos:start="277:31" pos:end="277:31">&lt;</operator> <literal type="number" pos:start="277:33" pos:end="277:33">2</literal></expr>;</condition> <incr pos:start="277:36" pos:end="277:38"><expr pos:start="277:36" pos:end="277:38"><name pos:start="277:36" pos:end="277:36">i</name><operator pos:start="277:37" pos:end="277:38">++</operator></expr></incr>)</control><block type="pseudo" pos:start="279:21" pos:end="285:64"><block_content pos:start="279:21" pos:end="285:64">

                    <for pos:start="279:21" pos:end="285:64">for <control pos:start="279:25" pos:end="279:43">(<init pos:start="279:26" pos:end="279:31"><expr pos:start="279:26" pos:end="279:30"><name pos:start="279:26" pos:end="279:26">j</name> <operator pos:start="279:28" pos:end="279:28">=</operator> <literal type="number" pos:start="279:30" pos:end="279:30">0</literal></expr>;</init> <condition pos:start="279:33" pos:end="279:38"><expr pos:start="279:33" pos:end="279:37"><name pos:start="279:33" pos:end="279:33">j</name> <operator pos:start="279:35" pos:end="279:35">&lt;</operator> <literal type="number" pos:start="279:37" pos:end="279:37">2</literal></expr>;</condition> <incr pos:start="279:40" pos:end="279:42"><expr pos:start="279:40" pos:end="279:42"><name pos:start="279:40" pos:end="279:40">j</name><operator pos:start="279:41" pos:end="279:42">++</operator></expr></incr>)</control><block type="pseudo" pos:start="281:25" pos:end="285:64"><block_content pos:start="281:25" pos:end="285:64">

                        <expr_stmt pos:start="281:25" pos:end="285:64"><expr pos:start="281:25" pos:end="285:63"><name pos:start="281:25" pos:end="281:41"><name pos:start="281:25" pos:end="281:28">band</name><operator pos:start="281:29" pos:end="281:30">-&gt;</operator><name pos:start="281:31" pos:end="281:35">coord</name><index pos:start="281:36" pos:end="281:38">[<expr pos:start="281:37" pos:end="281:37"><name pos:start="281:37" pos:end="281:37">i</name></expr>]</index><index pos:start="281:39" pos:end="281:41">[<expr pos:start="281:40" pos:end="281:40"><name pos:start="281:40" pos:end="281:40">j</name></expr>]</index></name> <operator pos:start="281:43" pos:end="281:43">=</operator>

                            <call pos:start="283:29" pos:end="285:63"><name pos:start="283:29" pos:end="283:51">ff_jpeg2000_ceildivpow2</name><argument_list pos:start="283:52" pos:end="285:63">(<argument pos:start="283:53" pos:end="283:93"><expr pos:start="283:53" pos:end="283:93"><name pos:start="283:53" pos:end="283:71"><name pos:start="283:53" pos:end="283:56">comp</name><operator pos:start="283:57" pos:end="283:58">-&gt;</operator><name pos:start="283:59" pos:end="283:65">coord_o</name><index pos:start="283:66" pos:end="283:68">[<expr pos:start="283:67" pos:end="283:67"><name pos:start="283:67" pos:end="283:67">i</name></expr>]</index><index pos:start="283:69" pos:end="283:71">[<expr pos:start="283:70" pos:end="283:70"><name pos:start="283:70" pos:end="283:70">j</name></expr>]</index></name> <operator pos:start="283:73" pos:end="283:73">-</operator> <name pos:start="283:75" pos:end="283:93"><name pos:start="283:75" pos:end="283:78">comp</name><operator pos:start="283:79" pos:end="283:80">-&gt;</operator><name pos:start="283:81" pos:end="283:87">coord_o</name><index pos:start="283:88" pos:end="283:90">[<expr pos:start="283:89" pos:end="283:89"><name pos:start="283:89" pos:end="283:89">i</name></expr>]</index><index pos:start="283:91" pos:end="283:93">[<expr pos:start="283:92" pos:end="283:92"><literal type="number" pos:start="283:92" pos:end="283:92">0</literal></expr>]</index></name></expr></argument>,

                                                    <argument pos:start="285:53" pos:end="285:62"><expr pos:start="285:53" pos:end="285:62"><name pos:start="285:53" pos:end="285:58">declvl</name> <operator pos:start="285:60" pos:end="285:60">-</operator> <literal type="number" pos:start="285:62" pos:end="285:62">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></for></block_content></block></for>

                <expr_stmt pos:start="287:17" pos:end="287:66"><expr pos:start="287:17" pos:end="287:65"><name pos:start="287:17" pos:end="287:36">log2_band_prec_width</name>  <operator pos:start="287:39" pos:end="287:39">=</operator> <name pos:start="287:41" pos:end="287:65"><name pos:start="287:41" pos:end="287:48">reslevel</name><operator pos:start="287:49" pos:end="287:50">-&gt;</operator><name pos:start="287:51" pos:end="287:65">log2_prec_width</name></name></expr>;</expr_stmt>

                <expr_stmt pos:start="289:17" pos:end="289:67"><expr pos:start="289:17" pos:end="289:66"><name pos:start="289:17" pos:end="289:37">log2_band_prec_height</name> <operator pos:start="289:39" pos:end="289:39">=</operator> <name pos:start="289:41" pos:end="289:66"><name pos:start="289:41" pos:end="289:48">reslevel</name><operator pos:start="289:49" pos:end="289:50">-&gt;</operator><name pos:start="289:51" pos:end="289:66">log2_prec_height</name></name></expr>;</expr_stmt>

                <comment type="block" pos:start="291:17" pos:end="291:68">/* see ISO/IEC 15444-1:2002 eq. B-17 and eq. B-15 */</comment>

                <expr_stmt pos:start="293:17" pos:end="295:74"><expr pos:start="293:17" pos:end="295:73"><name pos:start="293:17" pos:end="293:37"><name pos:start="293:17" pos:end="293:20">band</name><operator pos:start="293:21" pos:end="293:22">-&gt;</operator><name pos:start="293:23" pos:end="293:37">log2_cblk_width</name></name>  <operator pos:start="293:40" pos:end="293:40">=</operator> <call pos:start="293:42" pos:end="295:73"><name pos:start="293:42" pos:end="293:46">FFMIN</name><argument_list pos:start="293:47" pos:end="295:73">(<argument pos:start="293:48" pos:end="293:70"><expr pos:start="293:48" pos:end="293:70"><name pos:start="293:48" pos:end="293:70"><name pos:start="293:48" pos:end="293:53">codsty</name><operator pos:start="293:54" pos:end="293:55">-&gt;</operator><name pos:start="293:56" pos:end="293:70">log2_cblk_width</name></name></expr></argument>,

                                               <argument pos:start="295:48" pos:end="295:72"><expr pos:start="295:48" pos:end="295:72"><name pos:start="295:48" pos:end="295:72"><name pos:start="295:48" pos:end="295:55">reslevel</name><operator pos:start="295:56" pos:end="295:57">-&gt;</operator><name pos:start="295:58" pos:end="295:72">log2_prec_width</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="297:17" pos:end="299:75"><expr pos:start="297:17" pos:end="299:74"><name pos:start="297:17" pos:end="297:38"><name pos:start="297:17" pos:end="297:20">band</name><operator pos:start="297:21" pos:end="297:22">-&gt;</operator><name pos:start="297:23" pos:end="297:38">log2_cblk_height</name></name> <operator pos:start="297:40" pos:end="297:40">=</operator> <call pos:start="297:42" pos:end="299:74"><name pos:start="297:42" pos:end="297:46">FFMIN</name><argument_list pos:start="297:47" pos:end="299:74">(<argument pos:start="297:48" pos:end="297:71"><expr pos:start="297:48" pos:end="297:71"><name pos:start="297:48" pos:end="297:71"><name pos:start="297:48" pos:end="297:53">codsty</name><operator pos:start="297:54" pos:end="297:55">-&gt;</operator><name pos:start="297:56" pos:end="297:71">log2_cblk_height</name></name></expr></argument>,

                                               <argument pos:start="299:48" pos:end="299:73"><expr pos:start="299:48" pos:end="299:73"><name pos:start="299:48" pos:end="299:73"><name pos:start="299:48" pos:end="299:55">reslevel</name><operator pos:start="299:56" pos:end="299:57">-&gt;</operator><name pos:start="299:58" pos:end="299:73">log2_prec_height</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></if> <else pos:start="301:15" pos:end="343:13">else <block pos:start="301:20" pos:end="343:13">{<block_content pos:start="307:17" pos:end="341:71">

                <comment type="block" pos:start="303:17" pos:end="303:83">/* 3 bands x0_b = 1 y0_b = 0; x0_b = 0 y0_b = 1; x0_b = y0_b = 1 */</comment>

                <comment type="block" pos:start="305:17" pos:end="305:77">/* x0_b and y0_b are computed with ((bandno + 1 &gt;&gt; i) &amp; 1) */</comment>

                <for pos:start="307:17" pos:end="319:60">for <control pos:start="307:21" pos:end="307:39">(<init pos:start="307:22" pos:end="307:27"><expr pos:start="307:22" pos:end="307:26"><name pos:start="307:22" pos:end="307:22">i</name> <operator pos:start="307:24" pos:end="307:24">=</operator> <literal type="number" pos:start="307:26" pos:end="307:26">0</literal></expr>;</init> <condition pos:start="307:29" pos:end="307:34"><expr pos:start="307:29" pos:end="307:33"><name pos:start="307:29" pos:end="307:29">i</name> <operator pos:start="307:31" pos:end="307:31">&lt;</operator> <literal type="number" pos:start="307:33" pos:end="307:33">2</literal></expr>;</condition> <incr pos:start="307:36" pos:end="307:38"><expr pos:start="307:36" pos:end="307:38"><name pos:start="307:36" pos:end="307:36">i</name><operator pos:start="307:37" pos:end="307:38">++</operator></expr></incr>)</control><block type="pseudo" pos:start="309:21" pos:end="319:60"><block_content pos:start="309:21" pos:end="319:60">

                    <for pos:start="309:21" pos:end="319:60">for <control pos:start="309:25" pos:end="309:43">(<init pos:start="309:26" pos:end="309:31"><expr pos:start="309:26" pos:end="309:30"><name pos:start="309:26" pos:end="309:26">j</name> <operator pos:start="309:28" pos:end="309:28">=</operator> <literal type="number" pos:start="309:30" pos:end="309:30">0</literal></expr>;</init> <condition pos:start="309:33" pos:end="309:38"><expr pos:start="309:33" pos:end="309:37"><name pos:start="309:33" pos:end="309:33">j</name> <operator pos:start="309:35" pos:end="309:35">&lt;</operator> <literal type="number" pos:start="309:37" pos:end="309:37">2</literal></expr>;</condition> <incr pos:start="309:40" pos:end="309:42"><expr pos:start="309:40" pos:end="309:42"><name pos:start="309:40" pos:end="309:40">j</name><operator pos:start="309:41" pos:end="309:42">++</operator></expr></incr>)</control><block type="pseudo" pos:start="313:25" pos:end="319:60"><block_content pos:start="313:25" pos:end="319:60">

                        <comment type="block" pos:start="311:25" pos:end="311:109">/* Formula example for tbx_0 = ceildiv((tcx_0 - 2 ^ (declvl - 1) * x0_b) / declvl) */</comment>

                        <expr_stmt pos:start="313:25" pos:end="319:60"><expr pos:start="313:25" pos:end="319:59"><name pos:start="313:25" pos:end="313:41"><name pos:start="313:25" pos:end="313:28">band</name><operator pos:start="313:29" pos:end="313:30">-&gt;</operator><name pos:start="313:31" pos:end="313:35">coord</name><index pos:start="313:36" pos:end="313:38">[<expr pos:start="313:37" pos:end="313:37"><name pos:start="313:37" pos:end="313:37">i</name></expr>]</index><index pos:start="313:39" pos:end="313:41">[<expr pos:start="313:40" pos:end="313:40"><name pos:start="313:40" pos:end="313:40">j</name></expr>]</index></name> <operator pos:start="313:43" pos:end="313:43">=</operator>

                            <call pos:start="315:29" pos:end="319:59"><name pos:start="315:29" pos:end="315:51">ff_jpeg2000_ceildivpow2</name><argument_list pos:start="315:52" pos:end="319:59">(<argument pos:start="315:53" pos:end="317:91"><expr pos:start="315:53" pos:end="317:91"><name pos:start="315:53" pos:end="315:71"><name pos:start="315:53" pos:end="315:56">comp</name><operator pos:start="315:57" pos:end="315:58">-&gt;</operator><name pos:start="315:59" pos:end="315:65">coord_o</name><index pos:start="315:66" pos:end="315:68">[<expr pos:start="315:67" pos:end="315:67"><name pos:start="315:67" pos:end="315:67">i</name></expr>]</index><index pos:start="315:69" pos:end="315:71">[<expr pos:start="315:70" pos:end="315:70"><name pos:start="315:70" pos:end="315:70">j</name></expr>]</index></name> <operator pos:start="315:73" pos:end="315:73">-</operator> <name pos:start="315:75" pos:end="315:93"><name pos:start="315:75" pos:end="315:78">comp</name><operator pos:start="315:79" pos:end="315:80">-&gt;</operator><name pos:start="315:81" pos:end="315:87">coord_o</name><index pos:start="315:88" pos:end="315:90">[<expr pos:start="315:89" pos:end="315:89"><name pos:start="315:89" pos:end="315:89">i</name></expr>]</index><index pos:start="315:91" pos:end="315:93">[<expr pos:start="315:92" pos:end="315:92"><literal type="number" pos:start="315:92" pos:end="315:92">0</literal></expr>]</index></name> <operator pos:start="315:95" pos:end="315:95">-</operator>

                                                    <operator pos:start="317:53" pos:end="317:53">(</operator><operator pos:start="317:54" pos:end="317:54">(</operator><operator pos:start="317:55" pos:end="317:55">(</operator><name pos:start="317:56" pos:end="317:61">bandno</name> <operator pos:start="317:63" pos:end="317:63">+</operator> <literal type="number" pos:start="317:65" pos:end="317:65">1</literal> <operator pos:start="317:67" pos:end="317:68">&gt;&gt;</operator> <name pos:start="317:70" pos:end="317:70">i</name><operator pos:start="317:71" pos:end="317:71">)</operator> <operator pos:start="317:73" pos:end="317:73">&amp;</operator> <literal type="number" pos:start="317:75" pos:end="317:75">1</literal><operator pos:start="317:76" pos:end="317:76">)</operator> <operator pos:start="317:78" pos:end="317:79">&lt;&lt;</operator> <name pos:start="317:81" pos:end="317:86">declvl</name> <operator pos:start="317:88" pos:end="317:88">-</operator> <literal type="number" pos:start="317:90" pos:end="317:90">1</literal><operator pos:start="317:91" pos:end="317:91">)</operator></expr></argument>,

                                                    <argument pos:start="319:53" pos:end="319:58"><expr pos:start="319:53" pos:end="319:58"><name pos:start="319:53" pos:end="319:58">declvl</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></for></block_content></block></for>

                <comment type="block" pos:start="321:17" pos:end="323:50">/* TODO: Manage case of 3 band offsets here or

                 * in coding/decoding function? */</comment>



                <comment type="block" pos:start="327:17" pos:end="327:68">/* see ISO/IEC 15444-1:2002 eq. B-17 and eq. B-15 */</comment>

                <expr_stmt pos:start="329:17" pos:end="331:78"><expr pos:start="329:17" pos:end="331:77"><name pos:start="329:17" pos:end="329:37"><name pos:start="329:17" pos:end="329:20">band</name><operator pos:start="329:21" pos:end="329:22">-&gt;</operator><name pos:start="329:23" pos:end="329:37">log2_cblk_width</name></name>  <operator pos:start="329:40" pos:end="329:40">=</operator> <call pos:start="329:42" pos:end="331:77"><name pos:start="329:42" pos:end="329:46">FFMIN</name><argument_list pos:start="329:47" pos:end="331:77">(<argument pos:start="329:48" pos:end="329:70"><expr pos:start="329:48" pos:end="329:70"><name pos:start="329:48" pos:end="329:70"><name pos:start="329:48" pos:end="329:53">codsty</name><operator pos:start="329:54" pos:end="329:55">-&gt;</operator><name pos:start="329:56" pos:end="329:70">log2_cblk_width</name></name></expr></argument>,

                                               <argument pos:start="331:48" pos:end="331:76"><expr pos:start="331:48" pos:end="331:76"><name pos:start="331:48" pos:end="331:72"><name pos:start="331:48" pos:end="331:55">reslevel</name><operator pos:start="331:56" pos:end="331:57">-&gt;</operator><name pos:start="331:58" pos:end="331:72">log2_prec_width</name></name> <operator pos:start="331:74" pos:end="331:74">-</operator> <literal type="number" pos:start="331:76" pos:end="331:76">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="333:17" pos:end="335:79"><expr pos:start="333:17" pos:end="335:78"><name pos:start="333:17" pos:end="333:38"><name pos:start="333:17" pos:end="333:20">band</name><operator pos:start="333:21" pos:end="333:22">-&gt;</operator><name pos:start="333:23" pos:end="333:38">log2_cblk_height</name></name> <operator pos:start="333:40" pos:end="333:40">=</operator> <call pos:start="333:42" pos:end="335:78"><name pos:start="333:42" pos:end="333:46">FFMIN</name><argument_list pos:start="333:47" pos:end="335:78">(<argument pos:start="333:48" pos:end="333:71"><expr pos:start="333:48" pos:end="333:71"><name pos:start="333:48" pos:end="333:71"><name pos:start="333:48" pos:end="333:53">codsty</name><operator pos:start="333:54" pos:end="333:55">-&gt;</operator><name pos:start="333:56" pos:end="333:71">log2_cblk_height</name></name></expr></argument>,

                                               <argument pos:start="335:48" pos:end="335:77"><expr pos:start="335:48" pos:end="335:77"><name pos:start="335:48" pos:end="335:73"><name pos:start="335:48" pos:end="335:55">reslevel</name><operator pos:start="335:56" pos:end="335:57">-&gt;</operator><name pos:start="335:58" pos:end="335:73">log2_prec_height</name></name> <operator pos:start="335:75" pos:end="335:75">-</operator> <literal type="number" pos:start="335:77" pos:end="335:77">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>



                <expr_stmt pos:start="339:17" pos:end="339:71"><expr pos:start="339:17" pos:end="339:70"><name pos:start="339:17" pos:end="339:36">log2_band_prec_width</name>  <operator pos:start="339:39" pos:end="339:39">=</operator> <name pos:start="339:41" pos:end="339:65"><name pos:start="339:41" pos:end="339:48">reslevel</name><operator pos:start="339:49" pos:end="339:50">-&gt;</operator><name pos:start="339:51" pos:end="339:65">log2_prec_width</name></name>  <operator pos:start="339:68" pos:end="339:68">-</operator> <literal type="number" pos:start="339:70" pos:end="339:70">1</literal></expr>;</expr_stmt>

                <expr_stmt pos:start="341:17" pos:end="341:71"><expr pos:start="341:17" pos:end="341:70"><name pos:start="341:17" pos:end="341:37">log2_band_prec_height</name> <operator pos:start="341:39" pos:end="341:39">=</operator> <name pos:start="341:41" pos:end="341:66"><name pos:start="341:41" pos:end="341:48">reslevel</name><operator pos:start="341:49" pos:end="341:50">-&gt;</operator><name pos:start="341:51" pos:end="341:66">log2_prec_height</name></name> <operator pos:start="341:68" pos:end="341:68">-</operator> <literal type="number" pos:start="341:70" pos:end="341:70">1</literal></expr>;</expr_stmt>

            </block_content>}</block></else></if_stmt>



            <for pos:start="347:13" pos:end="349:79">for <control pos:start="347:17" pos:end="347:35">(<init pos:start="347:18" pos:end="347:23"><expr pos:start="347:18" pos:end="347:22"><name pos:start="347:18" pos:end="347:18">j</name> <operator pos:start="347:20" pos:end="347:20">=</operator> <literal type="number" pos:start="347:22" pos:end="347:22">0</literal></expr>;</init> <condition pos:start="347:25" pos:end="347:30"><expr pos:start="347:25" pos:end="347:29"><name pos:start="347:25" pos:end="347:25">j</name> <operator pos:start="347:27" pos:end="347:27">&lt;</operator> <literal type="number" pos:start="347:29" pos:end="347:29">2</literal></expr>;</condition> <incr pos:start="347:32" pos:end="347:34"><expr pos:start="347:32" pos:end="347:34"><name pos:start="347:32" pos:end="347:32">j</name><operator pos:start="347:33" pos:end="347:34">++</operator></expr></incr>)</control><block type="pseudo" pos:start="349:17" pos:end="349:79"><block_content pos:start="349:17" pos:end="349:79">

                <expr_stmt pos:start="349:17" pos:end="349:79"><expr pos:start="349:17" pos:end="349:78"><name pos:start="349:17" pos:end="349:33"><name pos:start="349:17" pos:end="349:20">band</name><operator pos:start="349:21" pos:end="349:22">-&gt;</operator><name pos:start="349:23" pos:end="349:27">coord</name><index pos:start="349:28" pos:end="349:30">[<expr pos:start="349:29" pos:end="349:29"><literal type="number" pos:start="349:29" pos:end="349:29">0</literal></expr>]</index><index pos:start="349:31" pos:end="349:33">[<expr pos:start="349:32" pos:end="349:32"><name pos:start="349:32" pos:end="349:32">j</name></expr>]</index></name> <operator pos:start="349:35" pos:end="349:35">=</operator> <call pos:start="349:37" pos:end="349:78"><name pos:start="349:37" pos:end="349:55">ff_jpeg2000_ceildiv</name><argument_list pos:start="349:56" pos:end="349:78">(<argument pos:start="349:57" pos:end="349:73"><expr pos:start="349:57" pos:end="349:73"><name pos:start="349:57" pos:end="349:73"><name pos:start="349:57" pos:end="349:60">band</name><operator pos:start="349:61" pos:end="349:62">-&gt;</operator><name pos:start="349:63" pos:end="349:67">coord</name><index pos:start="349:68" pos:end="349:70">[<expr pos:start="349:69" pos:end="349:69"><literal type="number" pos:start="349:69" pos:end="349:69">0</literal></expr>]</index><index pos:start="349:71" pos:end="349:73">[<expr pos:start="349:72" pos:end="349:72"><name pos:start="349:72" pos:end="349:72">j</name></expr>]</index></name></expr></argument>, <argument pos:start="349:76" pos:end="349:77"><expr pos:start="349:76" pos:end="349:77"><name pos:start="349:76" pos:end="349:77">dx</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></for>

            <for pos:start="351:13" pos:end="353:79">for <control pos:start="351:17" pos:end="351:35">(<init pos:start="351:18" pos:end="351:23"><expr pos:start="351:18" pos:end="351:22"><name pos:start="351:18" pos:end="351:18">j</name> <operator pos:start="351:20" pos:end="351:20">=</operator> <literal type="number" pos:start="351:22" pos:end="351:22">0</literal></expr>;</init> <condition pos:start="351:25" pos:end="351:30"><expr pos:start="351:25" pos:end="351:29"><name pos:start="351:25" pos:end="351:25">j</name> <operator pos:start="351:27" pos:end="351:27">&lt;</operator> <literal type="number" pos:start="351:29" pos:end="351:29">2</literal></expr>;</condition> <incr pos:start="351:32" pos:end="351:34"><expr pos:start="351:32" pos:end="351:34"><name pos:start="351:32" pos:end="351:32">j</name><operator pos:start="351:33" pos:end="351:34">++</operator></expr></incr>)</control><block type="pseudo" pos:start="353:17" pos:end="353:79"><block_content pos:start="353:17" pos:end="353:79">

                <expr_stmt pos:start="353:17" pos:end="353:79"><expr pos:start="353:17" pos:end="353:78"><name pos:start="353:17" pos:end="353:33"><name pos:start="353:17" pos:end="353:20">band</name><operator pos:start="353:21" pos:end="353:22">-&gt;</operator><name pos:start="353:23" pos:end="353:27">coord</name><index pos:start="353:28" pos:end="353:30">[<expr pos:start="353:29" pos:end="353:29"><literal type="number" pos:start="353:29" pos:end="353:29">1</literal></expr>]</index><index pos:start="353:31" pos:end="353:33">[<expr pos:start="353:32" pos:end="353:32"><name pos:start="353:32" pos:end="353:32">j</name></expr>]</index></name> <operator pos:start="353:35" pos:end="353:35">=</operator> <call pos:start="353:37" pos:end="353:78"><name pos:start="353:37" pos:end="353:55">ff_jpeg2000_ceildiv</name><argument_list pos:start="353:56" pos:end="353:78">(<argument pos:start="353:57" pos:end="353:73"><expr pos:start="353:57" pos:end="353:73"><name pos:start="353:57" pos:end="353:73"><name pos:start="353:57" pos:end="353:60">band</name><operator pos:start="353:61" pos:end="353:62">-&gt;</operator><name pos:start="353:63" pos:end="353:67">coord</name><index pos:start="353:68" pos:end="353:70">[<expr pos:start="353:69" pos:end="353:69"><literal type="number" pos:start="353:69" pos:end="353:69">1</literal></expr>]</index><index pos:start="353:71" pos:end="353:73">[<expr pos:start="353:72" pos:end="353:72"><name pos:start="353:72" pos:end="353:72">j</name></expr>]</index></name></expr></argument>, <argument pos:start="353:76" pos:end="353:77"><expr pos:start="353:76" pos:end="353:77"><name pos:start="353:76" pos:end="353:77">dy</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></for>



            <expr_stmt pos:start="357:13" pos:end="361:62"><expr pos:start="357:13" pos:end="361:61"><name pos:start="357:13" pos:end="357:22"><name pos:start="357:13" pos:end="357:16">band</name><operator pos:start="357:17" pos:end="357:18">-&gt;</operator><name pos:start="357:19" pos:end="357:22">prec</name></name> <operator pos:start="357:24" pos:end="357:24">=</operator> <call pos:start="357:26" pos:end="361:61"><name pos:start="357:26" pos:end="357:40">av_malloc_array</name><argument_list pos:start="357:41" pos:end="361:61">(<argument pos:start="357:42" pos:end="359:66"><expr pos:start="357:42" pos:end="359:66"><name pos:start="357:42" pos:end="357:66"><name pos:start="357:42" pos:end="357:49">reslevel</name><operator pos:start="357:50" pos:end="357:51">-&gt;</operator><name pos:start="357:52" pos:end="357:66">num_precincts_x</name></name> <operator pos:start="357:68" pos:end="357:68">*</operator>

                                         <name pos:start="359:42" pos:end="359:66"><name pos:start="359:42" pos:end="359:49">reslevel</name><operator pos:start="359:50" pos:end="359:51">-&gt;</operator><name pos:start="359:52" pos:end="359:66">num_precincts_y</name></name></expr></argument>,

                                         <argument pos:start="361:42" pos:end="361:60"><expr pos:start="361:42" pos:end="361:60"><sizeof pos:start="361:42" pos:end="361:60">sizeof<argument_list pos:start="361:48" pos:end="361:60">(<argument pos:start="361:49" pos:end="361:59"><expr pos:start="361:49" pos:end="361:59"><operator pos:start="361:49" pos:end="361:49">*</operator><name pos:start="361:50" pos:end="361:59"><name pos:start="361:50" pos:end="361:53">band</name><operator pos:start="361:54" pos:end="361:55">-&gt;</operator><name pos:start="361:56" pos:end="361:59">prec</name></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <if_stmt pos:start="363:13" pos:end="365:39"><if pos:start="363:13" pos:end="365:39">if <condition pos:start="363:16" pos:end="363:28">(<expr pos:start="363:17" pos:end="363:27"><operator pos:start="363:17" pos:end="363:17">!</operator><name pos:start="363:18" pos:end="363:27"><name pos:start="363:18" pos:end="363:21">band</name><operator pos:start="363:22" pos:end="363:23">-&gt;</operator><name pos:start="363:24" pos:end="363:27">prec</name></name></expr>)</condition><block type="pseudo" pos:start="365:17" pos:end="365:39"><block_content pos:start="365:17" pos:end="365:39">

                <return pos:start="365:17" pos:end="365:39">return <expr pos:start="365:24" pos:end="365:38"><call pos:start="365:24" pos:end="365:38"><name pos:start="365:24" pos:end="365:30">AVERROR</name><argument_list pos:start="365:31" pos:end="365:38">(<argument pos:start="365:32" pos:end="365:37"><expr pos:start="365:32" pos:end="365:37"><name pos:start="365:32" pos:end="365:37">ENOMEM</name></expr></argument>)</argument_list></call></expr>;</return></block_content></block></if></if_stmt>



            <expr_stmt pos:start="369:13" pos:end="369:81"><expr pos:start="369:13" pos:end="369:80"><name pos:start="369:13" pos:end="369:24">nb_precincts</name> <operator pos:start="369:26" pos:end="369:26">=</operator> <name pos:start="369:28" pos:end="369:52"><name pos:start="369:28" pos:end="369:35">reslevel</name><operator pos:start="369:36" pos:end="369:37">-&gt;</operator><name pos:start="369:38" pos:end="369:52">num_precincts_x</name></name> <operator pos:start="369:54" pos:end="369:54">*</operator> <name pos:start="369:56" pos:end="369:80"><name pos:start="369:56" pos:end="369:63">reslevel</name><operator pos:start="369:64" pos:end="369:65">-&gt;</operator><name pos:start="369:66" pos:end="369:80">num_precincts_y</name></name></expr>;</expr_stmt>



            <for pos:start="373:13" pos:end="563:13">for <control pos:start="373:17" pos:end="373:61">(<init pos:start="373:18" pos:end="373:28"><expr pos:start="373:18" pos:end="373:27"><name pos:start="373:18" pos:end="373:23">precno</name> <operator pos:start="373:25" pos:end="373:25">=</operator> <literal type="number" pos:start="373:27" pos:end="373:27">0</literal></expr>;</init> <condition pos:start="373:30" pos:end="373:51"><expr pos:start="373:30" pos:end="373:50"><name pos:start="373:30" pos:end="373:35">precno</name> <operator pos:start="373:37" pos:end="373:37">&lt;</operator> <name pos:start="373:39" pos:end="373:50">nb_precincts</name></expr>;</condition> <incr pos:start="373:53" pos:end="373:60"><expr pos:start="373:53" pos:end="373:60"><name pos:start="373:53" pos:end="373:58">precno</name><operator pos:start="373:59" pos:end="373:60">++</operator></expr></incr>)</control> <block pos:start="373:63" pos:end="563:13">{<block_content pos:start="375:17" pos:end="561:17">

                <decl_stmt pos:start="375:17" pos:end="375:57"><decl pos:start="375:17" pos:end="375:56"><type pos:start="375:17" pos:end="375:30"><name pos:start="375:17" pos:end="375:28">Jpeg2000Prec</name> <modifier pos:start="375:30" pos:end="375:30">*</modifier></type><name pos:start="375:31" pos:end="375:34">prec</name> <init pos:start="375:36" pos:end="375:56">= <expr pos:start="375:38" pos:end="375:56"><name pos:start="375:38" pos:end="375:47"><name pos:start="375:38" pos:end="375:41">band</name><operator pos:start="375:42" pos:end="375:43">-&gt;</operator><name pos:start="375:44" pos:end="375:47">prec</name></name> <operator pos:start="375:49" pos:end="375:49">+</operator> <name pos:start="375:51" pos:end="375:56">precno</name></expr></init></decl>;</decl_stmt>



                <comment type="block" pos:start="379:17" pos:end="379:64">/* TODO: Explain formula for JPEG200 DCINEMA. */</comment>

                <comment type="block" pos:start="381:17" pos:end="381:77">/* TODO: Verify with previous count of codeblocks per band */</comment>



                <comment type="block" pos:start="385:17" pos:end="385:34">/* Compute P_x0 */</comment>

                <expr_stmt pos:start="387:17" pos:end="389:64"><expr pos:start="387:17" pos:end="389:63"><name pos:start="387:17" pos:end="387:33"><name pos:start="387:17" pos:end="387:20">prec</name><operator pos:start="387:21" pos:end="387:22">-&gt;</operator><name pos:start="387:23" pos:end="387:27">coord</name><index pos:start="387:28" pos:end="387:30">[<expr pos:start="387:29" pos:end="387:29"><literal type="number" pos:start="387:29" pos:end="387:29">0</literal></expr>]</index><index pos:start="387:31" pos:end="387:33">[<expr pos:start="387:32" pos:end="387:32"><literal type="number" pos:start="387:32" pos:end="387:32">0</literal></expr>]</index></name> <operator pos:start="387:35" pos:end="387:35">=</operator> <operator pos:start="387:37" pos:end="387:37">(</operator><name pos:start="387:38" pos:end="387:43">precno</name> <operator pos:start="387:45" pos:end="387:45">%</operator> <name pos:start="387:47" pos:end="387:71"><name pos:start="387:47" pos:end="387:54">reslevel</name><operator pos:start="387:55" pos:end="387:56">-&gt;</operator><name pos:start="387:57" pos:end="387:71">num_precincts_x</name></name><operator pos:start="387:72" pos:end="387:72">)</operator> <operator pos:start="387:74" pos:end="387:74">*</operator>

                                    <operator pos:start="389:37" pos:end="389:37">(</operator><literal type="number" pos:start="389:38" pos:end="389:38">1</literal> <operator pos:start="389:40" pos:end="389:41">&lt;&lt;</operator> <name pos:start="389:43" pos:end="389:62">log2_band_prec_width</name><operator pos:start="389:63" pos:end="389:63">)</operator></expr>;</expr_stmt>

                <expr_stmt pos:start="391:17" pos:end="391:80"><expr pos:start="391:17" pos:end="391:79"><name pos:start="391:17" pos:end="391:33"><name pos:start="391:17" pos:end="391:20">prec</name><operator pos:start="391:21" pos:end="391:22">-&gt;</operator><name pos:start="391:23" pos:end="391:27">coord</name><index pos:start="391:28" pos:end="391:30">[<expr pos:start="391:29" pos:end="391:29"><literal type="number" pos:start="391:29" pos:end="391:29">0</literal></expr>]</index><index pos:start="391:31" pos:end="391:33">[<expr pos:start="391:32" pos:end="391:32"><literal type="number" pos:start="391:32" pos:end="391:32">0</literal></expr>]</index></name> <operator pos:start="391:35" pos:end="391:35">=</operator> <call pos:start="391:37" pos:end="391:79"><name pos:start="391:37" pos:end="391:41">FFMAX</name><argument_list pos:start="391:42" pos:end="391:79">(<argument pos:start="391:43" pos:end="391:59"><expr pos:start="391:43" pos:end="391:59"><name pos:start="391:43" pos:end="391:59"><name pos:start="391:43" pos:end="391:46">prec</name><operator pos:start="391:47" pos:end="391:48">-&gt;</operator><name pos:start="391:49" pos:end="391:53">coord</name><index pos:start="391:54" pos:end="391:56">[<expr pos:start="391:55" pos:end="391:55"><literal type="number" pos:start="391:55" pos:end="391:55">0</literal></expr>]</index><index pos:start="391:57" pos:end="391:59">[<expr pos:start="391:58" pos:end="391:58"><literal type="number" pos:start="391:58" pos:end="391:58">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="391:62" pos:end="391:78"><expr pos:start="391:62" pos:end="391:78"><name pos:start="391:62" pos:end="391:78"><name pos:start="391:62" pos:end="391:65">band</name><operator pos:start="391:66" pos:end="391:67">-&gt;</operator><name pos:start="391:68" pos:end="391:72">coord</name><index pos:start="391:73" pos:end="391:75">[<expr pos:start="391:74" pos:end="391:74"><literal type="number" pos:start="391:74" pos:end="391:74">0</literal></expr>]</index><index pos:start="391:76" pos:end="391:78">[<expr pos:start="391:77" pos:end="391:77"><literal type="number" pos:start="391:77" pos:end="391:77">0</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



                <comment type="block" pos:start="395:17" pos:end="395:34">/* Compute P_y0 */</comment>

                <expr_stmt pos:start="397:17" pos:end="399:65"><expr pos:start="397:17" pos:end="399:64"><name pos:start="397:17" pos:end="397:33"><name pos:start="397:17" pos:end="397:20">prec</name><operator pos:start="397:21" pos:end="397:22">-&gt;</operator><name pos:start="397:23" pos:end="397:27">coord</name><index pos:start="397:28" pos:end="397:30">[<expr pos:start="397:29" pos:end="397:29"><literal type="number" pos:start="397:29" pos:end="397:29">1</literal></expr>]</index><index pos:start="397:31" pos:end="397:33">[<expr pos:start="397:32" pos:end="397:32"><literal type="number" pos:start="397:32" pos:end="397:32">0</literal></expr>]</index></name> <operator pos:start="397:35" pos:end="397:35">=</operator> <operator pos:start="397:37" pos:end="397:37">(</operator><name pos:start="397:38" pos:end="397:43">precno</name> <operator pos:start="397:45" pos:end="397:45">/</operator> <name pos:start="397:47" pos:end="397:71"><name pos:start="397:47" pos:end="397:54">reslevel</name><operator pos:start="397:55" pos:end="397:56">-&gt;</operator><name pos:start="397:57" pos:end="397:71">num_precincts_x</name></name><operator pos:start="397:72" pos:end="397:72">)</operator> <operator pos:start="397:74" pos:end="397:74">*</operator>

                                    <operator pos:start="399:37" pos:end="399:37">(</operator><literal type="number" pos:start="399:38" pos:end="399:38">1</literal> <operator pos:start="399:40" pos:end="399:41">&lt;&lt;</operator> <name pos:start="399:43" pos:end="399:63">log2_band_prec_height</name><operator pos:start="399:64" pos:end="399:64">)</operator></expr>;</expr_stmt>

                <expr_stmt pos:start="401:17" pos:end="401:80"><expr pos:start="401:17" pos:end="401:79"><name pos:start="401:17" pos:end="401:33"><name pos:start="401:17" pos:end="401:20">prec</name><operator pos:start="401:21" pos:end="401:22">-&gt;</operator><name pos:start="401:23" pos:end="401:27">coord</name><index pos:start="401:28" pos:end="401:30">[<expr pos:start="401:29" pos:end="401:29"><literal type="number" pos:start="401:29" pos:end="401:29">1</literal></expr>]</index><index pos:start="401:31" pos:end="401:33">[<expr pos:start="401:32" pos:end="401:32"><literal type="number" pos:start="401:32" pos:end="401:32">0</literal></expr>]</index></name> <operator pos:start="401:35" pos:end="401:35">=</operator> <call pos:start="401:37" pos:end="401:79"><name pos:start="401:37" pos:end="401:41">FFMAX</name><argument_list pos:start="401:42" pos:end="401:79">(<argument pos:start="401:43" pos:end="401:59"><expr pos:start="401:43" pos:end="401:59"><name pos:start="401:43" pos:end="401:59"><name pos:start="401:43" pos:end="401:46">prec</name><operator pos:start="401:47" pos:end="401:48">-&gt;</operator><name pos:start="401:49" pos:end="401:53">coord</name><index pos:start="401:54" pos:end="401:56">[<expr pos:start="401:55" pos:end="401:55"><literal type="number" pos:start="401:55" pos:end="401:55">1</literal></expr>]</index><index pos:start="401:57" pos:end="401:59">[<expr pos:start="401:58" pos:end="401:58"><literal type="number" pos:start="401:58" pos:end="401:58">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="401:62" pos:end="401:78"><expr pos:start="401:62" pos:end="401:78"><name pos:start="401:62" pos:end="401:78"><name pos:start="401:62" pos:end="401:65">band</name><operator pos:start="401:66" pos:end="401:67">-&gt;</operator><name pos:start="401:68" pos:end="401:72">coord</name><index pos:start="401:73" pos:end="401:75">[<expr pos:start="401:74" pos:end="401:74"><literal type="number" pos:start="401:74" pos:end="401:74">1</literal></expr>]</index><index pos:start="401:76" pos:end="401:78">[<expr pos:start="401:77" pos:end="401:77"><literal type="number" pos:start="401:77" pos:end="401:77">0</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



                <comment type="block" pos:start="405:17" pos:end="405:34">/* Compute P_x1 */</comment>

                <expr_stmt pos:start="407:17" pos:end="409:64"><expr pos:start="407:17" pos:end="409:63"><name pos:start="407:17" pos:end="407:33"><name pos:start="407:17" pos:end="407:20">prec</name><operator pos:start="407:21" pos:end="407:22">-&gt;</operator><name pos:start="407:23" pos:end="407:27">coord</name><index pos:start="407:28" pos:end="407:30">[<expr pos:start="407:29" pos:end="407:29"><literal type="number" pos:start="407:29" pos:end="407:29">0</literal></expr>]</index><index pos:start="407:31" pos:end="407:33">[<expr pos:start="407:32" pos:end="407:32"><literal type="number" pos:start="407:32" pos:end="407:32">1</literal></expr>]</index></name> <operator pos:start="407:35" pos:end="407:35">=</operator> <name pos:start="407:37" pos:end="407:53"><name pos:start="407:37" pos:end="407:40">prec</name><operator pos:start="407:41" pos:end="407:42">-&gt;</operator><name pos:start="407:43" pos:end="407:47">coord</name><index pos:start="407:48" pos:end="407:50">[<expr pos:start="407:49" pos:end="407:49"><literal type="number" pos:start="407:49" pos:end="407:49">0</literal></expr>]</index><index pos:start="407:51" pos:end="407:53">[<expr pos:start="407:52" pos:end="407:52"><literal type="number" pos:start="407:52" pos:end="407:52">0</literal></expr>]</index></name> <operator pos:start="407:55" pos:end="407:55">+</operator>

                                    <operator pos:start="409:37" pos:end="409:37">(</operator><literal type="number" pos:start="409:38" pos:end="409:38">1</literal> <operator pos:start="409:40" pos:end="409:41">&lt;&lt;</operator> <name pos:start="409:43" pos:end="409:62">log2_band_prec_width</name><operator pos:start="409:63" pos:end="409:63">)</operator></expr>;</expr_stmt>

                <expr_stmt pos:start="411:17" pos:end="411:80"><expr pos:start="411:17" pos:end="411:79"><name pos:start="411:17" pos:end="411:33"><name pos:start="411:17" pos:end="411:20">prec</name><operator pos:start="411:21" pos:end="411:22">-&gt;</operator><name pos:start="411:23" pos:end="411:27">coord</name><index pos:start="411:28" pos:end="411:30">[<expr pos:start="411:29" pos:end="411:29"><literal type="number" pos:start="411:29" pos:end="411:29">0</literal></expr>]</index><index pos:start="411:31" pos:end="411:33">[<expr pos:start="411:32" pos:end="411:32"><literal type="number" pos:start="411:32" pos:end="411:32">1</literal></expr>]</index></name> <operator pos:start="411:35" pos:end="411:35">=</operator> <call pos:start="411:37" pos:end="411:79"><name pos:start="411:37" pos:end="411:41">FFMIN</name><argument_list pos:start="411:42" pos:end="411:79">(<argument pos:start="411:43" pos:end="411:59"><expr pos:start="411:43" pos:end="411:59"><name pos:start="411:43" pos:end="411:59"><name pos:start="411:43" pos:end="411:46">prec</name><operator pos:start="411:47" pos:end="411:48">-&gt;</operator><name pos:start="411:49" pos:end="411:53">coord</name><index pos:start="411:54" pos:end="411:56">[<expr pos:start="411:55" pos:end="411:55"><literal type="number" pos:start="411:55" pos:end="411:55">0</literal></expr>]</index><index pos:start="411:57" pos:end="411:59">[<expr pos:start="411:58" pos:end="411:58"><literal type="number" pos:start="411:58" pos:end="411:58">1</literal></expr>]</index></name></expr></argument>, <argument pos:start="411:62" pos:end="411:78"><expr pos:start="411:62" pos:end="411:78"><name pos:start="411:62" pos:end="411:78"><name pos:start="411:62" pos:end="411:65">band</name><operator pos:start="411:66" pos:end="411:67">-&gt;</operator><name pos:start="411:68" pos:end="411:72">coord</name><index pos:start="411:73" pos:end="411:75">[<expr pos:start="411:74" pos:end="411:74"><literal type="number" pos:start="411:74" pos:end="411:74">0</literal></expr>]</index><index pos:start="411:76" pos:end="411:78">[<expr pos:start="411:77" pos:end="411:77"><literal type="number" pos:start="411:77" pos:end="411:77">1</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



                <comment type="block" pos:start="415:17" pos:end="415:34">/* Compute P_y1 */</comment>

                <expr_stmt pos:start="417:17" pos:end="419:65"><expr pos:start="417:17" pos:end="419:64"><name pos:start="417:17" pos:end="417:33"><name pos:start="417:17" pos:end="417:20">prec</name><operator pos:start="417:21" pos:end="417:22">-&gt;</operator><name pos:start="417:23" pos:end="417:27">coord</name><index pos:start="417:28" pos:end="417:30">[<expr pos:start="417:29" pos:end="417:29"><literal type="number" pos:start="417:29" pos:end="417:29">1</literal></expr>]</index><index pos:start="417:31" pos:end="417:33">[<expr pos:start="417:32" pos:end="417:32"><literal type="number" pos:start="417:32" pos:end="417:32">1</literal></expr>]</index></name> <operator pos:start="417:35" pos:end="417:35">=</operator> <name pos:start="417:37" pos:end="417:53"><name pos:start="417:37" pos:end="417:40">prec</name><operator pos:start="417:41" pos:end="417:42">-&gt;</operator><name pos:start="417:43" pos:end="417:47">coord</name><index pos:start="417:48" pos:end="417:50">[<expr pos:start="417:49" pos:end="417:49"><literal type="number" pos:start="417:49" pos:end="417:49">1</literal></expr>]</index><index pos:start="417:51" pos:end="417:53">[<expr pos:start="417:52" pos:end="417:52"><literal type="number" pos:start="417:52" pos:end="417:52">0</literal></expr>]</index></name> <operator pos:start="417:55" pos:end="417:55">+</operator>

                                    <operator pos:start="419:37" pos:end="419:37">(</operator><literal type="number" pos:start="419:38" pos:end="419:38">1</literal> <operator pos:start="419:40" pos:end="419:41">&lt;&lt;</operator> <name pos:start="419:43" pos:end="419:63">log2_band_prec_height</name><operator pos:start="419:64" pos:end="419:64">)</operator></expr>;</expr_stmt>

                <expr_stmt pos:start="421:17" pos:end="421:80"><expr pos:start="421:17" pos:end="421:79"><name pos:start="421:17" pos:end="421:33"><name pos:start="421:17" pos:end="421:20">prec</name><operator pos:start="421:21" pos:end="421:22">-&gt;</operator><name pos:start="421:23" pos:end="421:27">coord</name><index pos:start="421:28" pos:end="421:30">[<expr pos:start="421:29" pos:end="421:29"><literal type="number" pos:start="421:29" pos:end="421:29">1</literal></expr>]</index><index pos:start="421:31" pos:end="421:33">[<expr pos:start="421:32" pos:end="421:32"><literal type="number" pos:start="421:32" pos:end="421:32">1</literal></expr>]</index></name> <operator pos:start="421:35" pos:end="421:35">=</operator> <call pos:start="421:37" pos:end="421:79"><name pos:start="421:37" pos:end="421:41">FFMIN</name><argument_list pos:start="421:42" pos:end="421:79">(<argument pos:start="421:43" pos:end="421:59"><expr pos:start="421:43" pos:end="421:59"><name pos:start="421:43" pos:end="421:59"><name pos:start="421:43" pos:end="421:46">prec</name><operator pos:start="421:47" pos:end="421:48">-&gt;</operator><name pos:start="421:49" pos:end="421:53">coord</name><index pos:start="421:54" pos:end="421:56">[<expr pos:start="421:55" pos:end="421:55"><literal type="number" pos:start="421:55" pos:end="421:55">1</literal></expr>]</index><index pos:start="421:57" pos:end="421:59">[<expr pos:start="421:58" pos:end="421:58"><literal type="number" pos:start="421:58" pos:end="421:58">1</literal></expr>]</index></name></expr></argument>, <argument pos:start="421:62" pos:end="421:78"><expr pos:start="421:62" pos:end="421:78"><name pos:start="421:62" pos:end="421:78"><name pos:start="421:62" pos:end="421:65">band</name><operator pos:start="421:66" pos:end="421:67">-&gt;</operator><name pos:start="421:68" pos:end="421:72">coord</name><index pos:start="421:73" pos:end="421:75">[<expr pos:start="421:74" pos:end="421:74"><literal type="number" pos:start="421:74" pos:end="421:74">1</literal></expr>]</index><index pos:start="421:76" pos:end="421:78">[<expr pos:start="421:77" pos:end="421:77"><literal type="number" pos:start="421:77" pos:end="421:77">1</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



                <expr_stmt pos:start="425:17" pos:end="431:67"><expr pos:start="425:17" pos:end="431:66"><name pos:start="425:17" pos:end="425:41"><name pos:start="425:17" pos:end="425:20">prec</name><operator pos:start="425:21" pos:end="425:22">-&gt;</operator><name pos:start="425:23" pos:end="425:41">nb_codeblocks_width</name></name> <operator pos:start="425:43" pos:end="425:43">=</operator>

                    <call pos:start="427:21" pos:end="431:66"><name pos:start="427:21" pos:end="427:43">ff_jpeg2000_ceildivpow2</name><argument_list pos:start="427:44" pos:end="431:66">(<argument pos:start="427:45" pos:end="429:61"><expr pos:start="427:45" pos:end="429:61"><name pos:start="427:45" pos:end="427:61"><name pos:start="427:45" pos:end="427:48">prec</name><operator pos:start="427:49" pos:end="427:50">-&gt;</operator><name pos:start="427:51" pos:end="427:55">coord</name><index pos:start="427:56" pos:end="427:58">[<expr pos:start="427:57" pos:end="427:57"><literal type="number" pos:start="427:57" pos:end="427:57">0</literal></expr>]</index><index pos:start="427:59" pos:end="427:61">[<expr pos:start="427:60" pos:end="427:60"><literal type="number" pos:start="427:60" pos:end="427:60">1</literal></expr>]</index></name> <operator pos:start="427:63" pos:end="427:63">-</operator>

                                            <name pos:start="429:45" pos:end="429:61"><name pos:start="429:45" pos:end="429:48">prec</name><operator pos:start="429:49" pos:end="429:50">-&gt;</operator><name pos:start="429:51" pos:end="429:55">coord</name><index pos:start="429:56" pos:end="429:58">[<expr pos:start="429:57" pos:end="429:57"><literal type="number" pos:start="429:57" pos:end="429:57">0</literal></expr>]</index><index pos:start="429:59" pos:end="429:61">[<expr pos:start="429:60" pos:end="429:60"><literal type="number" pos:start="429:60" pos:end="429:60">0</literal></expr>]</index></name></expr></argument>,

                                            <argument pos:start="431:45" pos:end="431:65"><expr pos:start="431:45" pos:end="431:65"><name pos:start="431:45" pos:end="431:65"><name pos:start="431:45" pos:end="431:48">band</name><operator pos:start="431:49" pos:end="431:50">-&gt;</operator><name pos:start="431:51" pos:end="431:65">log2_cblk_width</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="433:17" pos:end="439:68"><expr pos:start="433:17" pos:end="439:67"><name pos:start="433:17" pos:end="433:42"><name pos:start="433:17" pos:end="433:20">prec</name><operator pos:start="433:21" pos:end="433:22">-&gt;</operator><name pos:start="433:23" pos:end="433:42">nb_codeblocks_height</name></name> <operator pos:start="433:44" pos:end="433:44">=</operator>

                    <call pos:start="435:21" pos:end="439:67"><name pos:start="435:21" pos:end="435:43">ff_jpeg2000_ceildivpow2</name><argument_list pos:start="435:44" pos:end="439:67">(<argument pos:start="435:45" pos:end="437:61"><expr pos:start="435:45" pos:end="437:61"><name pos:start="435:45" pos:end="435:61"><name pos:start="435:45" pos:end="435:48">prec</name><operator pos:start="435:49" pos:end="435:50">-&gt;</operator><name pos:start="435:51" pos:end="435:55">coord</name><index pos:start="435:56" pos:end="435:58">[<expr pos:start="435:57" pos:end="435:57"><literal type="number" pos:start="435:57" pos:end="435:57">1</literal></expr>]</index><index pos:start="435:59" pos:end="435:61">[<expr pos:start="435:60" pos:end="435:60"><literal type="number" pos:start="435:60" pos:end="435:60">1</literal></expr>]</index></name> <operator pos:start="435:63" pos:end="435:63">-</operator>

                                            <name pos:start="437:45" pos:end="437:61"><name pos:start="437:45" pos:end="437:48">prec</name><operator pos:start="437:49" pos:end="437:50">-&gt;</operator><name pos:start="437:51" pos:end="437:55">coord</name><index pos:start="437:56" pos:end="437:58">[<expr pos:start="437:57" pos:end="437:57"><literal type="number" pos:start="437:57" pos:end="437:57">1</literal></expr>]</index><index pos:start="437:59" pos:end="437:61">[<expr pos:start="437:60" pos:end="437:60"><literal type="number" pos:start="437:60" pos:end="437:60">0</literal></expr>]</index></name></expr></argument>,

                                            <argument pos:start="439:45" pos:end="439:66"><expr pos:start="439:45" pos:end="439:66"><name pos:start="439:45" pos:end="439:66"><name pos:start="439:45" pos:end="439:48">band</name><operator pos:start="439:49" pos:end="439:50">-&gt;</operator><name pos:start="439:51" pos:end="439:66">log2_cblk_height</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



                <comment type="block" pos:start="443:17" pos:end="443:46">/* Tag trees initialization */</comment>

                <expr_stmt pos:start="445:17" pos:end="449:74"><expr pos:start="445:17" pos:end="449:73"><name pos:start="445:17" pos:end="445:30"><name pos:start="445:17" pos:end="445:20">prec</name><operator pos:start="445:21" pos:end="445:22">-&gt;</operator><name pos:start="445:23" pos:end="445:30">cblkincl</name></name> <operator pos:start="445:32" pos:end="445:32">=</operator>

                    <call pos:start="447:21" pos:end="449:73"><name pos:start="447:21" pos:end="447:45">ff_jpeg2000_tag_tree_init</name><argument_list pos:start="447:46" pos:end="449:73">(<argument pos:start="447:47" pos:end="447:71"><expr pos:start="447:47" pos:end="447:71"><name pos:start="447:47" pos:end="447:71"><name pos:start="447:47" pos:end="447:50">prec</name><operator pos:start="447:51" pos:end="447:52">-&gt;</operator><name pos:start="447:53" pos:end="447:71">nb_codeblocks_width</name></name></expr></argument>,

                                              <argument pos:start="449:47" pos:end="449:72"><expr pos:start="449:47" pos:end="449:72"><name pos:start="449:47" pos:end="449:72"><name pos:start="449:47" pos:end="449:50">prec</name><operator pos:start="449:51" pos:end="449:52">-&gt;</operator><name pos:start="449:53" pos:end="449:72">nb_codeblocks_height</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <if_stmt pos:start="451:17" pos:end="453:43"><if pos:start="451:17" pos:end="453:43">if <condition pos:start="451:20" pos:end="451:36">(<expr pos:start="451:21" pos:end="451:35"><operator pos:start="451:21" pos:end="451:21">!</operator><name pos:start="451:22" pos:end="451:35"><name pos:start="451:22" pos:end="451:25">prec</name><operator pos:start="451:26" pos:end="451:27">-&gt;</operator><name pos:start="451:28" pos:end="451:35">cblkincl</name></name></expr>)</condition><block type="pseudo" pos:start="453:21" pos:end="453:43"><block_content pos:start="453:21" pos:end="453:43">

                    <return pos:start="453:21" pos:end="453:43">return <expr pos:start="453:28" pos:end="453:42"><call pos:start="453:28" pos:end="453:42"><name pos:start="453:28" pos:end="453:34">AVERROR</name><argument_list pos:start="453:35" pos:end="453:42">(<argument pos:start="453:36" pos:end="453:41"><expr pos:start="453:36" pos:end="453:41"><name pos:start="453:36" pos:end="453:41">ENOMEM</name></expr></argument>)</argument_list></call></expr>;</return></block_content></block></if></if_stmt>



                <expr_stmt pos:start="457:17" pos:end="461:74"><expr pos:start="457:17" pos:end="461:73"><name pos:start="457:17" pos:end="457:30"><name pos:start="457:17" pos:end="457:20">prec</name><operator pos:start="457:21" pos:end="457:22">-&gt;</operator><name pos:start="457:23" pos:end="457:30">zerobits</name></name> <operator pos:start="457:32" pos:end="457:32">=</operator>

                    <call pos:start="459:21" pos:end="461:73"><name pos:start="459:21" pos:end="459:45">ff_jpeg2000_tag_tree_init</name><argument_list pos:start="459:46" pos:end="461:73">(<argument pos:start="459:47" pos:end="459:71"><expr pos:start="459:47" pos:end="459:71"><name pos:start="459:47" pos:end="459:71"><name pos:start="459:47" pos:end="459:50">prec</name><operator pos:start="459:51" pos:end="459:52">-&gt;</operator><name pos:start="459:53" pos:end="459:71">nb_codeblocks_width</name></name></expr></argument>,

                                              <argument pos:start="461:47" pos:end="461:72"><expr pos:start="461:47" pos:end="461:72"><name pos:start="461:47" pos:end="461:72"><name pos:start="461:47" pos:end="461:50">prec</name><operator pos:start="461:51" pos:end="461:52">-&gt;</operator><name pos:start="461:53" pos:end="461:72">nb_codeblocks_height</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <if_stmt pos:start="463:17" pos:end="465:43"><if pos:start="463:17" pos:end="465:43">if <condition pos:start="463:20" pos:end="463:36">(<expr pos:start="463:21" pos:end="463:35"><operator pos:start="463:21" pos:end="463:21">!</operator><name pos:start="463:22" pos:end="463:35"><name pos:start="463:22" pos:end="463:25">prec</name><operator pos:start="463:26" pos:end="463:27">-&gt;</operator><name pos:start="463:28" pos:end="463:35">zerobits</name></name></expr>)</condition><block type="pseudo" pos:start="465:21" pos:end="465:43"><block_content pos:start="465:21" pos:end="465:43">

                    <return pos:start="465:21" pos:end="465:43">return <expr pos:start="465:28" pos:end="465:42"><call pos:start="465:28" pos:end="465:42"><name pos:start="465:28" pos:end="465:34">AVERROR</name><argument_list pos:start="465:35" pos:end="465:42">(<argument pos:start="465:36" pos:end="465:41"><expr pos:start="465:36" pos:end="465:41"><name pos:start="465:36" pos:end="465:41">ENOMEM</name></expr></argument>)</argument_list></call></expr>;</return></block_content></block></if></if_stmt>



                <expr_stmt pos:start="469:17" pos:end="473:67"><expr pos:start="469:17" pos:end="473:66"><name pos:start="469:17" pos:end="469:26"><name pos:start="469:17" pos:end="469:20">prec</name><operator pos:start="469:21" pos:end="469:22">-&gt;</operator><name pos:start="469:23" pos:end="469:26">cblk</name></name> <operator pos:start="469:28" pos:end="469:28">=</operator> <call pos:start="469:30" pos:end="473:66"><name pos:start="469:30" pos:end="469:45">av_mallocz_array</name><argument_list pos:start="469:46" pos:end="473:66">(<argument pos:start="469:47" pos:end="471:72"><expr pos:start="469:47" pos:end="471:72"><name pos:start="469:47" pos:end="469:71"><name pos:start="469:47" pos:end="469:50">prec</name><operator pos:start="469:51" pos:end="469:52">-&gt;</operator><name pos:start="469:53" pos:end="469:71">nb_codeblocks_width</name></name> <operator pos:start="469:73" pos:end="469:73">*</operator>

                                              <name pos:start="471:47" pos:end="471:72"><name pos:start="471:47" pos:end="471:50">prec</name><operator pos:start="471:51" pos:end="471:52">-&gt;</operator><name pos:start="471:53" pos:end="471:72">nb_codeblocks_height</name></name></expr></argument>,

                                              <argument pos:start="473:47" pos:end="473:65"><expr pos:start="473:47" pos:end="473:65"><sizeof pos:start="473:47" pos:end="473:65">sizeof<argument_list pos:start="473:53" pos:end="473:65">(<argument pos:start="473:54" pos:end="473:64"><expr pos:start="473:54" pos:end="473:64"><operator pos:start="473:54" pos:end="473:54">*</operator><name pos:start="473:55" pos:end="473:64"><name pos:start="473:55" pos:end="473:58">prec</name><operator pos:start="473:59" pos:end="473:60">-&gt;</operator><name pos:start="473:61" pos:end="473:64">cblk</name></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <if_stmt pos:start="475:17" pos:end="477:43"><if pos:start="475:17" pos:end="477:43">if <condition pos:start="475:20" pos:end="475:32">(<expr pos:start="475:21" pos:end="475:31"><operator pos:start="475:21" pos:end="475:21">!</operator><name pos:start="475:22" pos:end="475:31"><name pos:start="475:22" pos:end="475:25">prec</name><operator pos:start="475:26" pos:end="475:27">-&gt;</operator><name pos:start="475:28" pos:end="475:31">cblk</name></name></expr>)</condition><block type="pseudo" pos:start="477:21" pos:end="477:43"><block_content pos:start="477:21" pos:end="477:43">

                    <return pos:start="477:21" pos:end="477:43">return <expr pos:start="477:28" pos:end="477:42"><call pos:start="477:28" pos:end="477:42"><name pos:start="477:28" pos:end="477:34">AVERROR</name><argument_list pos:start="477:35" pos:end="477:42">(<argument pos:start="477:36" pos:end="477:41"><expr pos:start="477:36" pos:end="477:41"><name pos:start="477:36" pos:end="477:41">ENOMEM</name></expr></argument>)</argument_list></call></expr>;</return></block_content></block></if></if_stmt>

                <for pos:start="479:17" pos:end="561:17">for <control pos:start="479:21" pos:end="479:107">(<init pos:start="479:22" pos:end="479:32"><expr pos:start="479:22" pos:end="479:31"><name pos:start="479:22" pos:end="479:27">cblkno</name> <operator pos:start="479:29" pos:end="479:29">=</operator> <literal type="number" pos:start="479:31" pos:end="479:31">0</literal></expr>;</init> <condition pos:start="479:34" pos:end="479:97"><expr pos:start="479:34" pos:end="479:96"><name pos:start="479:34" pos:end="479:39">cblkno</name> <operator pos:start="479:41" pos:end="479:41">&lt;</operator> <name pos:start="479:43" pos:end="479:67"><name pos:start="479:43" pos:end="479:46">prec</name><operator pos:start="479:47" pos:end="479:48">-&gt;</operator><name pos:start="479:49" pos:end="479:67">nb_codeblocks_width</name></name> <operator pos:start="479:69" pos:end="479:69">*</operator> <name pos:start="479:71" pos:end="479:96"><name pos:start="479:71" pos:end="479:74">prec</name><operator pos:start="479:75" pos:end="479:76">-&gt;</operator><name pos:start="479:77" pos:end="479:96">nb_codeblocks_height</name></name></expr>;</condition> <incr pos:start="479:99" pos:end="479:106"><expr pos:start="479:99" pos:end="479:106"><name pos:start="479:99" pos:end="479:104">cblkno</name><operator pos:start="479:105" pos:end="479:106">++</operator></expr></incr>)</control> <block pos:start="479:109" pos:end="561:17">{<block_content pos:start="481:21" pos:end="559:40">

                    <decl_stmt pos:start="481:21" pos:end="481:61"><decl pos:start="481:21" pos:end="481:60"><type pos:start="481:21" pos:end="481:34"><name pos:start="481:21" pos:end="481:32">Jpeg2000Cblk</name> <modifier pos:start="481:34" pos:end="481:34">*</modifier></type><name pos:start="481:35" pos:end="481:38">cblk</name> <init pos:start="481:40" pos:end="481:60">= <expr pos:start="481:42" pos:end="481:60"><name pos:start="481:42" pos:end="481:51"><name pos:start="481:42" pos:end="481:45">prec</name><operator pos:start="481:46" pos:end="481:47">-&gt;</operator><name pos:start="481:48" pos:end="481:51">cblk</name></name> <operator pos:start="481:53" pos:end="481:53">+</operator> <name pos:start="481:55" pos:end="481:60">cblkno</name></expr></init></decl>;</decl_stmt>

                    <decl_stmt pos:start="483:21" pos:end="483:38"><decl pos:start="483:21" pos:end="483:32"><type pos:start="483:21" pos:end="483:28"><name pos:start="483:21" pos:end="483:28">uint16_t</name></type> <name pos:start="483:30" pos:end="483:32">Cx0</name></decl>, <decl pos:start="483:35" pos:end="483:37"><type ref="prev" pos:start="483:21" pos:end="483:28"/><name pos:start="483:35" pos:end="483:37">Cy0</name></decl>;</decl_stmt>



                    <comment type="block" pos:start="487:21" pos:end="487:59">/* Compute coordinates of codeblocks */</comment>

                    <comment type="block" pos:start="489:21" pos:end="489:36">/* Compute Cx0*/</comment>

                    <expr_stmt pos:start="491:21" pos:end="491:96"><expr pos:start="491:21" pos:end="491:95"><name pos:start="491:21" pos:end="491:23">Cx0</name> <operator pos:start="491:25" pos:end="491:25">=</operator> <operator pos:start="491:27" pos:end="491:27">(</operator><name pos:start="491:28" pos:end="491:44"><name pos:start="491:28" pos:end="491:31">prec</name><operator pos:start="491:32" pos:end="491:33">-&gt;</operator><name pos:start="491:34" pos:end="491:38">coord</name><index pos:start="491:39" pos:end="491:41">[<expr pos:start="491:40" pos:end="491:40"><literal type="number" pos:start="491:40" pos:end="491:40">0</literal></expr>]</index><index pos:start="491:42" pos:end="491:44">[<expr pos:start="491:43" pos:end="491:43"><literal type="number" pos:start="491:43" pos:end="491:43">0</literal></expr>]</index></name> <operator pos:start="491:46" pos:end="491:47">&gt;&gt;</operator> <name pos:start="491:49" pos:end="491:69"><name pos:start="491:49" pos:end="491:52">band</name><operator pos:start="491:53" pos:end="491:54">-&gt;</operator><name pos:start="491:55" pos:end="491:69">log2_cblk_width</name></name><operator pos:start="491:70" pos:end="491:70">)</operator> <operator pos:start="491:72" pos:end="491:73">&lt;&lt;</operator> <name pos:start="491:75" pos:end="491:95"><name pos:start="491:75" pos:end="491:78">band</name><operator pos:start="491:79" pos:end="491:80">-&gt;</operator><name pos:start="491:81" pos:end="491:95">log2_cblk_width</name></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="493:21" pos:end="493:97"><expr pos:start="493:21" pos:end="493:96"><name pos:start="493:21" pos:end="493:23">Cx0</name> <operator pos:start="493:25" pos:end="493:25">=</operator> <name pos:start="493:27" pos:end="493:29">Cx0</name> <operator pos:start="493:31" pos:end="493:31">+</operator> <operator pos:start="493:33" pos:end="493:33">(</operator><operator pos:start="493:34" pos:end="493:34">(</operator><name pos:start="493:35" pos:end="493:40">cblkno</name> <operator pos:start="493:42" pos:end="493:42">%</operator> <name pos:start="493:44" pos:end="493:68"><name pos:start="493:44" pos:end="493:47">prec</name><operator pos:start="493:48" pos:end="493:49">-&gt;</operator><name pos:start="493:50" pos:end="493:68">nb_codeblocks_width</name></name><operator pos:start="493:69" pos:end="493:69">)</operator>  <operator pos:start="493:72" pos:end="493:73">&lt;&lt;</operator> <name pos:start="493:75" pos:end="493:95"><name pos:start="493:75" pos:end="493:78">band</name><operator pos:start="493:79" pos:end="493:80">-&gt;</operator><name pos:start="493:81" pos:end="493:95">log2_cblk_width</name></name><operator pos:start="493:96" pos:end="493:96">)</operator></expr>;</expr_stmt>

                    <expr_stmt pos:start="495:21" pos:end="495:70"><expr pos:start="495:21" pos:end="495:69"><name pos:start="495:21" pos:end="495:37"><name pos:start="495:21" pos:end="495:24">cblk</name><operator pos:start="495:25" pos:end="495:26">-&gt;</operator><name pos:start="495:27" pos:end="495:31">coord</name><index pos:start="495:32" pos:end="495:34">[<expr pos:start="495:33" pos:end="495:33"><literal type="number" pos:start="495:33" pos:end="495:33">0</literal></expr>]</index><index pos:start="495:35" pos:end="495:37">[<expr pos:start="495:36" pos:end="495:36"><literal type="number" pos:start="495:36" pos:end="495:36">0</literal></expr>]</index></name> <operator pos:start="495:39" pos:end="495:39">=</operator> <call pos:start="495:41" pos:end="495:69"><name pos:start="495:41" pos:end="495:45">FFMAX</name><argument_list pos:start="495:46" pos:end="495:69">(<argument pos:start="495:47" pos:end="495:49"><expr pos:start="495:47" pos:end="495:49"><name pos:start="495:47" pos:end="495:49">Cx0</name></expr></argument>, <argument pos:start="495:52" pos:end="495:68"><expr pos:start="495:52" pos:end="495:68"><name pos:start="495:52" pos:end="495:68"><name pos:start="495:52" pos:end="495:55">prec</name><operator pos:start="495:56" pos:end="495:57">-&gt;</operator><name pos:start="495:58" pos:end="495:62">coord</name><index pos:start="495:63" pos:end="495:65">[<expr pos:start="495:64" pos:end="495:64"><literal type="number" pos:start="495:64" pos:end="495:64">0</literal></expr>]</index><index pos:start="495:66" pos:end="495:68">[<expr pos:start="495:67" pos:end="495:67"><literal type="number" pos:start="495:67" pos:end="495:67">0</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



                    <comment type="block" pos:start="499:21" pos:end="499:36">/* Compute Cy0*/</comment>

                    <expr_stmt pos:start="501:21" pos:end="501:98"><expr pos:start="501:21" pos:end="501:97"><name pos:start="501:21" pos:end="501:23">Cy0</name> <operator pos:start="501:25" pos:end="501:25">=</operator> <operator pos:start="501:27" pos:end="501:27">(</operator><name pos:start="501:28" pos:end="501:44"><name pos:start="501:28" pos:end="501:31">prec</name><operator pos:start="501:32" pos:end="501:33">-&gt;</operator><name pos:start="501:34" pos:end="501:38">coord</name><index pos:start="501:39" pos:end="501:41">[<expr pos:start="501:40" pos:end="501:40"><literal type="number" pos:start="501:40" pos:end="501:40">1</literal></expr>]</index><index pos:start="501:42" pos:end="501:44">[<expr pos:start="501:43" pos:end="501:43"><literal type="number" pos:start="501:43" pos:end="501:43">0</literal></expr>]</index></name> <operator pos:start="501:46" pos:end="501:47">&gt;&gt;</operator> <name pos:start="501:49" pos:end="501:70"><name pos:start="501:49" pos:end="501:52">band</name><operator pos:start="501:53" pos:end="501:54">-&gt;</operator><name pos:start="501:55" pos:end="501:70">log2_cblk_height</name></name><operator pos:start="501:71" pos:end="501:71">)</operator> <operator pos:start="501:73" pos:end="501:74">&lt;&lt;</operator> <name pos:start="501:76" pos:end="501:97"><name pos:start="501:76" pos:end="501:79">band</name><operator pos:start="501:80" pos:end="501:81">-&gt;</operator><name pos:start="501:82" pos:end="501:97">log2_cblk_height</name></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="503:21" pos:end="503:99"><expr pos:start="503:21" pos:end="503:98"><name pos:start="503:21" pos:end="503:23">Cy0</name> <operator pos:start="503:25" pos:end="503:25">=</operator> <name pos:start="503:27" pos:end="503:29">Cy0</name> <operator pos:start="503:31" pos:end="503:31">+</operator> <operator pos:start="503:33" pos:end="503:33">(</operator><operator pos:start="503:34" pos:end="503:34">(</operator><name pos:start="503:35" pos:end="503:40">cblkno</name> <operator pos:start="503:42" pos:end="503:42">/</operator> <name pos:start="503:44" pos:end="503:68"><name pos:start="503:44" pos:end="503:47">prec</name><operator pos:start="503:48" pos:end="503:49">-&gt;</operator><name pos:start="503:50" pos:end="503:68">nb_codeblocks_width</name></name><operator pos:start="503:69" pos:end="503:69">)</operator>   <operator pos:start="503:73" pos:end="503:74">&lt;&lt;</operator> <name pos:start="503:76" pos:end="503:97"><name pos:start="503:76" pos:end="503:79">band</name><operator pos:start="503:80" pos:end="503:81">-&gt;</operator><name pos:start="503:82" pos:end="503:97">log2_cblk_height</name></name><operator pos:start="503:98" pos:end="503:98">)</operator></expr>;</expr_stmt>

                    <expr_stmt pos:start="505:21" pos:end="505:70"><expr pos:start="505:21" pos:end="505:69"><name pos:start="505:21" pos:end="505:37"><name pos:start="505:21" pos:end="505:24">cblk</name><operator pos:start="505:25" pos:end="505:26">-&gt;</operator><name pos:start="505:27" pos:end="505:31">coord</name><index pos:start="505:32" pos:end="505:34">[<expr pos:start="505:33" pos:end="505:33"><literal type="number" pos:start="505:33" pos:end="505:33">1</literal></expr>]</index><index pos:start="505:35" pos:end="505:37">[<expr pos:start="505:36" pos:end="505:36"><literal type="number" pos:start="505:36" pos:end="505:36">0</literal></expr>]</index></name> <operator pos:start="505:39" pos:end="505:39">=</operator> <call pos:start="505:41" pos:end="505:69"><name pos:start="505:41" pos:end="505:45">FFMAX</name><argument_list pos:start="505:46" pos:end="505:69">(<argument pos:start="505:47" pos:end="505:49"><expr pos:start="505:47" pos:end="505:49"><name pos:start="505:47" pos:end="505:49">Cy0</name></expr></argument>, <argument pos:start="505:52" pos:end="505:68"><expr pos:start="505:52" pos:end="505:68"><name pos:start="505:52" pos:end="505:68"><name pos:start="505:52" pos:end="505:55">prec</name><operator pos:start="505:56" pos:end="505:57">-&gt;</operator><name pos:start="505:58" pos:end="505:62">coord</name><index pos:start="505:63" pos:end="505:65">[<expr pos:start="505:64" pos:end="505:64"><literal type="number" pos:start="505:64" pos:end="505:64">1</literal></expr>]</index><index pos:start="505:66" pos:end="505:68">[<expr pos:start="505:67" pos:end="505:67"><literal type="number" pos:start="505:67" pos:end="505:67">0</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



                    <comment type="block" pos:start="509:21" pos:end="509:37">/* Compute Cx1 */</comment>

                    <expr_stmt pos:start="511:21" pos:end="513:65"><expr pos:start="511:21" pos:end="513:64"><name pos:start="511:21" pos:end="511:37"><name pos:start="511:21" pos:end="511:24">cblk</name><operator pos:start="511:25" pos:end="511:26">-&gt;</operator><name pos:start="511:27" pos:end="511:31">coord</name><index pos:start="511:32" pos:end="511:34">[<expr pos:start="511:33" pos:end="511:33"><literal type="number" pos:start="511:33" pos:end="511:33">0</literal></expr>]</index><index pos:start="511:35" pos:end="511:37">[<expr pos:start="511:36" pos:end="511:36"><literal type="number" pos:start="511:36" pos:end="511:36">1</literal></expr>]</index></name> <operator pos:start="511:39" pos:end="511:39">=</operator> <call pos:start="511:41" pos:end="513:64"><name pos:start="511:41" pos:end="511:45">FFMIN</name><argument_list pos:start="511:46" pos:end="513:64">(<argument pos:start="511:47" pos:end="511:80"><expr pos:start="511:47" pos:end="511:80"><name pos:start="511:47" pos:end="511:49">Cx0</name> <operator pos:start="511:51" pos:end="511:51">+</operator> <operator pos:start="511:53" pos:end="511:53">(</operator><literal type="number" pos:start="511:54" pos:end="511:54">1</literal> <operator pos:start="511:56" pos:end="511:57">&lt;&lt;</operator> <name pos:start="511:59" pos:end="511:79"><name pos:start="511:59" pos:end="511:62">band</name><operator pos:start="511:63" pos:end="511:64">-&gt;</operator><name pos:start="511:65" pos:end="511:79">log2_cblk_width</name></name><operator pos:start="511:80" pos:end="511:80">)</operator></expr></argument>,

                                              <argument pos:start="513:47" pos:end="513:63"><expr pos:start="513:47" pos:end="513:63"><name pos:start="513:47" pos:end="513:63"><name pos:start="513:47" pos:end="513:50">prec</name><operator pos:start="513:51" pos:end="513:52">-&gt;</operator><name pos:start="513:53" pos:end="513:57">coord</name><index pos:start="513:58" pos:end="513:60">[<expr pos:start="513:59" pos:end="513:59"><literal type="number" pos:start="513:59" pos:end="513:59">0</literal></expr>]</index><index pos:start="513:61" pos:end="513:63">[<expr pos:start="513:62" pos:end="513:62"><literal type="number" pos:start="513:62" pos:end="513:62">1</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



                    <comment type="block" pos:start="517:21" pos:end="517:37">/* Compute Cy1 */</comment>

                    <expr_stmt pos:start="519:21" pos:end="521:65"><expr pos:start="519:21" pos:end="521:64"><name pos:start="519:21" pos:end="519:37"><name pos:start="519:21" pos:end="519:24">cblk</name><operator pos:start="519:25" pos:end="519:26">-&gt;</operator><name pos:start="519:27" pos:end="519:31">coord</name><index pos:start="519:32" pos:end="519:34">[<expr pos:start="519:33" pos:end="519:33"><literal type="number" pos:start="519:33" pos:end="519:33">1</literal></expr>]</index><index pos:start="519:35" pos:end="519:37">[<expr pos:start="519:36" pos:end="519:36"><literal type="number" pos:start="519:36" pos:end="519:36">1</literal></expr>]</index></name> <operator pos:start="519:39" pos:end="519:39">=</operator> <call pos:start="519:41" pos:end="521:64"><name pos:start="519:41" pos:end="519:45">FFMIN</name><argument_list pos:start="519:46" pos:end="521:64">(<argument pos:start="519:47" pos:end="519:81"><expr pos:start="519:47" pos:end="519:81"><name pos:start="519:47" pos:end="519:49">Cy0</name> <operator pos:start="519:51" pos:end="519:51">+</operator> <operator pos:start="519:53" pos:end="519:53">(</operator><literal type="number" pos:start="519:54" pos:end="519:54">1</literal> <operator pos:start="519:56" pos:end="519:57">&lt;&lt;</operator> <name pos:start="519:59" pos:end="519:80"><name pos:start="519:59" pos:end="519:62">band</name><operator pos:start="519:63" pos:end="519:64">-&gt;</operator><name pos:start="519:65" pos:end="519:80">log2_cblk_height</name></name><operator pos:start="519:81" pos:end="519:81">)</operator></expr></argument>,

                                              <argument pos:start="521:47" pos:end="521:63"><expr pos:start="521:47" pos:end="521:63"><name pos:start="521:47" pos:end="521:63"><name pos:start="521:47" pos:end="521:50">prec</name><operator pos:start="521:51" pos:end="521:52">-&gt;</operator><name pos:start="521:53" pos:end="521:57">coord</name><index pos:start="521:58" pos:end="521:60">[<expr pos:start="521:59" pos:end="521:59"><literal type="number" pos:start="521:59" pos:end="521:59">1</literal></expr>]</index><index pos:start="521:61" pos:end="521:63">[<expr pos:start="521:62" pos:end="521:62"><literal type="number" pos:start="521:62" pos:end="521:62">1</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <comment type="block" pos:start="523:21" pos:end="523:84">/* Update code-blocks coordinates according sub-band position */</comment>

                    <if_stmt pos:start="525:21" pos:end="535:21"><if pos:start="525:21" pos:end="535:21">if <condition pos:start="525:24" pos:end="525:52">(<expr pos:start="525:25" pos:end="525:51"><operator pos:start="525:25" pos:end="525:25">(</operator><name pos:start="525:26" pos:end="525:31">bandno</name> <operator pos:start="525:33" pos:end="525:33">+</operator> <operator pos:start="525:35" pos:end="525:35">!</operator><operator pos:start="525:36" pos:end="525:36">!</operator><name pos:start="525:37" pos:end="525:46">reslevelno</name><operator pos:start="525:47" pos:end="525:47">)</operator> <operator pos:start="525:49" pos:end="525:49">&amp;</operator> <literal type="number" pos:start="525:51" pos:end="525:51">1</literal></expr>)</condition> <block pos:start="525:54" pos:end="535:21">{<block_content pos:start="527:25" pos:end="533:86">

                        <expr_stmt pos:start="527:25" pos:end="529:86"><expr pos:start="527:25" pos:end="529:85"><name pos:start="527:25" pos:end="527:41"><name pos:start="527:25" pos:end="527:28">cblk</name><operator pos:start="527:29" pos:end="527:30">-&gt;</operator><name pos:start="527:31" pos:end="527:35">coord</name><index pos:start="527:36" pos:end="527:38">[<expr pos:start="527:37" pos:end="527:37"><literal type="number" pos:start="527:37" pos:end="527:37">0</literal></expr>]</index><index pos:start="527:39" pos:end="527:41">[<expr pos:start="527:40" pos:end="527:40"><literal type="number" pos:start="527:40" pos:end="527:40">0</literal></expr>]</index></name> <operator pos:start="527:43" pos:end="527:44">+=</operator> <name pos:start="527:46" pos:end="527:73"><name pos:start="527:46" pos:end="527:49">comp</name><operator pos:start="527:50" pos:end="527:51">-&gt;</operator><name pos:start="527:52" pos:end="527:59">reslevel</name><index pos:start="527:60" pos:end="527:73">[<expr pos:start="527:61" pos:end="527:72"><name pos:start="527:61" pos:end="527:70">reslevelno</name><operator pos:start="527:71" pos:end="527:71">-</operator><literal type="number" pos:start="527:72" pos:end="527:72">1</literal></expr>]</index></name><operator pos:start="527:74" pos:end="527:74">.</operator><name pos:start="527:75" pos:end="527:85"><name pos:start="527:75" pos:end="527:79">coord</name><index pos:start="527:80" pos:end="527:82">[<expr pos:start="527:81" pos:end="527:81"><literal type="number" pos:start="527:81" pos:end="527:81">0</literal></expr>]</index><index pos:start="527:83" pos:end="527:85">[<expr pos:start="527:84" pos:end="527:84"><literal type="number" pos:start="527:84" pos:end="527:84">1</literal></expr>]</index></name> <operator pos:start="527:87" pos:end="527:87">-</operator>

                                             <name pos:start="529:46" pos:end="529:73"><name pos:start="529:46" pos:end="529:49">comp</name><operator pos:start="529:50" pos:end="529:51">-&gt;</operator><name pos:start="529:52" pos:end="529:59">reslevel</name><index pos:start="529:60" pos:end="529:73">[<expr pos:start="529:61" pos:end="529:72"><name pos:start="529:61" pos:end="529:70">reslevelno</name><operator pos:start="529:71" pos:end="529:71">-</operator><literal type="number" pos:start="529:72" pos:end="529:72">1</literal></expr>]</index></name><operator pos:start="529:74" pos:end="529:74">.</operator><name pos:start="529:75" pos:end="529:85"><name pos:start="529:75" pos:end="529:79">coord</name><index pos:start="529:80" pos:end="529:82">[<expr pos:start="529:81" pos:end="529:81"><literal type="number" pos:start="529:81" pos:end="529:81">0</literal></expr>]</index><index pos:start="529:83" pos:end="529:85">[<expr pos:start="529:84" pos:end="529:84"><literal type="number" pos:start="529:84" pos:end="529:84">0</literal></expr>]</index></name></expr>;</expr_stmt>

                        <expr_stmt pos:start="531:25" pos:end="533:86"><expr pos:start="531:25" pos:end="533:85"><name pos:start="531:25" pos:end="531:41"><name pos:start="531:25" pos:end="531:28">cblk</name><operator pos:start="531:29" pos:end="531:30">-&gt;</operator><name pos:start="531:31" pos:end="531:35">coord</name><index pos:start="531:36" pos:end="531:38">[<expr pos:start="531:37" pos:end="531:37"><literal type="number" pos:start="531:37" pos:end="531:37">0</literal></expr>]</index><index pos:start="531:39" pos:end="531:41">[<expr pos:start="531:40" pos:end="531:40"><literal type="number" pos:start="531:40" pos:end="531:40">1</literal></expr>]</index></name> <operator pos:start="531:43" pos:end="531:44">+=</operator> <name pos:start="531:46" pos:end="531:73"><name pos:start="531:46" pos:end="531:49">comp</name><operator pos:start="531:50" pos:end="531:51">-&gt;</operator><name pos:start="531:52" pos:end="531:59">reslevel</name><index pos:start="531:60" pos:end="531:73">[<expr pos:start="531:61" pos:end="531:72"><name pos:start="531:61" pos:end="531:70">reslevelno</name><operator pos:start="531:71" pos:end="531:71">-</operator><literal type="number" pos:start="531:72" pos:end="531:72">1</literal></expr>]</index></name><operator pos:start="531:74" pos:end="531:74">.</operator><name pos:start="531:75" pos:end="531:85"><name pos:start="531:75" pos:end="531:79">coord</name><index pos:start="531:80" pos:end="531:82">[<expr pos:start="531:81" pos:end="531:81"><literal type="number" pos:start="531:81" pos:end="531:81">0</literal></expr>]</index><index pos:start="531:83" pos:end="531:85">[<expr pos:start="531:84" pos:end="531:84"><literal type="number" pos:start="531:84" pos:end="531:84">1</literal></expr>]</index></name> <operator pos:start="531:87" pos:end="531:87">-</operator>

                                             <name pos:start="533:46" pos:end="533:73"><name pos:start="533:46" pos:end="533:49">comp</name><operator pos:start="533:50" pos:end="533:51">-&gt;</operator><name pos:start="533:52" pos:end="533:59">reslevel</name><index pos:start="533:60" pos:end="533:73">[<expr pos:start="533:61" pos:end="533:72"><name pos:start="533:61" pos:end="533:70">reslevelno</name><operator pos:start="533:71" pos:end="533:71">-</operator><literal type="number" pos:start="533:72" pos:end="533:72">1</literal></expr>]</index></name><operator pos:start="533:74" pos:end="533:74">.</operator><name pos:start="533:75" pos:end="533:85"><name pos:start="533:75" pos:end="533:79">coord</name><index pos:start="533:80" pos:end="533:82">[<expr pos:start="533:81" pos:end="533:81"><literal type="number" pos:start="533:81" pos:end="533:81">0</literal></expr>]</index><index pos:start="533:83" pos:end="533:85">[<expr pos:start="533:84" pos:end="533:84"><literal type="number" pos:start="533:84" pos:end="533:84">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    </block_content>}</block></if></if_stmt>

                    <if_stmt pos:start="537:21" pos:end="547:21"><if pos:start="537:21" pos:end="547:21">if <condition pos:start="537:24" pos:end="537:52">(<expr pos:start="537:25" pos:end="537:51"><operator pos:start="537:25" pos:end="537:25">(</operator><name pos:start="537:26" pos:end="537:31">bandno</name> <operator pos:start="537:33" pos:end="537:33">+</operator> <operator pos:start="537:35" pos:end="537:35">!</operator><operator pos:start="537:36" pos:end="537:36">!</operator><name pos:start="537:37" pos:end="537:46">reslevelno</name><operator pos:start="537:47" pos:end="537:47">)</operator> <operator pos:start="537:49" pos:end="537:49">&amp;</operator> <literal type="number" pos:start="537:51" pos:end="537:51">2</literal></expr>)</condition> <block pos:start="537:54" pos:end="547:21">{<block_content pos:start="539:25" pos:end="545:86">

                        <expr_stmt pos:start="539:25" pos:end="541:86"><expr pos:start="539:25" pos:end="541:85"><name pos:start="539:25" pos:end="539:41"><name pos:start="539:25" pos:end="539:28">cblk</name><operator pos:start="539:29" pos:end="539:30">-&gt;</operator><name pos:start="539:31" pos:end="539:35">coord</name><index pos:start="539:36" pos:end="539:38">[<expr pos:start="539:37" pos:end="539:37"><literal type="number" pos:start="539:37" pos:end="539:37">1</literal></expr>]</index><index pos:start="539:39" pos:end="539:41">[<expr pos:start="539:40" pos:end="539:40"><literal type="number" pos:start="539:40" pos:end="539:40">0</literal></expr>]</index></name> <operator pos:start="539:43" pos:end="539:44">+=</operator> <name pos:start="539:46" pos:end="539:73"><name pos:start="539:46" pos:end="539:49">comp</name><operator pos:start="539:50" pos:end="539:51">-&gt;</operator><name pos:start="539:52" pos:end="539:59">reslevel</name><index pos:start="539:60" pos:end="539:73">[<expr pos:start="539:61" pos:end="539:72"><name pos:start="539:61" pos:end="539:70">reslevelno</name><operator pos:start="539:71" pos:end="539:71">-</operator><literal type="number" pos:start="539:72" pos:end="539:72">1</literal></expr>]</index></name><operator pos:start="539:74" pos:end="539:74">.</operator><name pos:start="539:75" pos:end="539:85"><name pos:start="539:75" pos:end="539:79">coord</name><index pos:start="539:80" pos:end="539:82">[<expr pos:start="539:81" pos:end="539:81"><literal type="number" pos:start="539:81" pos:end="539:81">1</literal></expr>]</index><index pos:start="539:83" pos:end="539:85">[<expr pos:start="539:84" pos:end="539:84"><literal type="number" pos:start="539:84" pos:end="539:84">1</literal></expr>]</index></name> <operator pos:start="539:87" pos:end="539:87">-</operator>

                                             <name pos:start="541:46" pos:end="541:73"><name pos:start="541:46" pos:end="541:49">comp</name><operator pos:start="541:50" pos:end="541:51">-&gt;</operator><name pos:start="541:52" pos:end="541:59">reslevel</name><index pos:start="541:60" pos:end="541:73">[<expr pos:start="541:61" pos:end="541:72"><name pos:start="541:61" pos:end="541:70">reslevelno</name><operator pos:start="541:71" pos:end="541:71">-</operator><literal type="number" pos:start="541:72" pos:end="541:72">1</literal></expr>]</index></name><operator pos:start="541:74" pos:end="541:74">.</operator><name pos:start="541:75" pos:end="541:85"><name pos:start="541:75" pos:end="541:79">coord</name><index pos:start="541:80" pos:end="541:82">[<expr pos:start="541:81" pos:end="541:81"><literal type="number" pos:start="541:81" pos:end="541:81">1</literal></expr>]</index><index pos:start="541:83" pos:end="541:85">[<expr pos:start="541:84" pos:end="541:84"><literal type="number" pos:start="541:84" pos:end="541:84">0</literal></expr>]</index></name></expr>;</expr_stmt>

                        <expr_stmt pos:start="543:25" pos:end="545:86"><expr pos:start="543:25" pos:end="545:85"><name pos:start="543:25" pos:end="543:41"><name pos:start="543:25" pos:end="543:28">cblk</name><operator pos:start="543:29" pos:end="543:30">-&gt;</operator><name pos:start="543:31" pos:end="543:35">coord</name><index pos:start="543:36" pos:end="543:38">[<expr pos:start="543:37" pos:end="543:37"><literal type="number" pos:start="543:37" pos:end="543:37">1</literal></expr>]</index><index pos:start="543:39" pos:end="543:41">[<expr pos:start="543:40" pos:end="543:40"><literal type="number" pos:start="543:40" pos:end="543:40">1</literal></expr>]</index></name> <operator pos:start="543:43" pos:end="543:44">+=</operator> <name pos:start="543:46" pos:end="543:73"><name pos:start="543:46" pos:end="543:49">comp</name><operator pos:start="543:50" pos:end="543:51">-&gt;</operator><name pos:start="543:52" pos:end="543:59">reslevel</name><index pos:start="543:60" pos:end="543:73">[<expr pos:start="543:61" pos:end="543:72"><name pos:start="543:61" pos:end="543:70">reslevelno</name><operator pos:start="543:71" pos:end="543:71">-</operator><literal type="number" pos:start="543:72" pos:end="543:72">1</literal></expr>]</index></name><operator pos:start="543:74" pos:end="543:74">.</operator><name pos:start="543:75" pos:end="543:85"><name pos:start="543:75" pos:end="543:79">coord</name><index pos:start="543:80" pos:end="543:82">[<expr pos:start="543:81" pos:end="543:81"><literal type="number" pos:start="543:81" pos:end="543:81">1</literal></expr>]</index><index pos:start="543:83" pos:end="543:85">[<expr pos:start="543:84" pos:end="543:84"><literal type="number" pos:start="543:84" pos:end="543:84">1</literal></expr>]</index></name> <operator pos:start="543:87" pos:end="543:87">-</operator>

                                             <name pos:start="545:46" pos:end="545:73"><name pos:start="545:46" pos:end="545:49">comp</name><operator pos:start="545:50" pos:end="545:51">-&gt;</operator><name pos:start="545:52" pos:end="545:59">reslevel</name><index pos:start="545:60" pos:end="545:73">[<expr pos:start="545:61" pos:end="545:72"><name pos:start="545:61" pos:end="545:70">reslevelno</name><operator pos:start="545:71" pos:end="545:71">-</operator><literal type="number" pos:start="545:72" pos:end="545:72">1</literal></expr>]</index></name><operator pos:start="545:74" pos:end="545:74">.</operator><name pos:start="545:75" pos:end="545:85"><name pos:start="545:75" pos:end="545:79">coord</name><index pos:start="545:80" pos:end="545:82">[<expr pos:start="545:81" pos:end="545:81"><literal type="number" pos:start="545:81" pos:end="545:81">1</literal></expr>]</index><index pos:start="545:83" pos:end="545:85">[<expr pos:start="545:84" pos:end="545:84"><literal type="number" pos:start="545:84" pos:end="545:84">0</literal></expr>]</index></name></expr>;</expr_stmt>

                    </block_content>}</block></if></if_stmt>



                    <expr_stmt pos:start="551:21" pos:end="551:40"><expr pos:start="551:21" pos:end="551:39"><name pos:start="551:21" pos:end="551:30"><name pos:start="551:21" pos:end="551:24">cblk</name><operator pos:start="551:25" pos:end="551:26">-&gt;</operator><name pos:start="551:27" pos:end="551:30">zero</name></name>      <operator pos:start="551:37" pos:end="551:37">=</operator> <literal type="number" pos:start="551:39" pos:end="551:39">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="553:21" pos:end="553:40"><expr pos:start="553:21" pos:end="553:39"><name pos:start="553:21" pos:end="553:32"><name pos:start="553:21" pos:end="553:24">cblk</name><operator pos:start="553:25" pos:end="553:26">-&gt;</operator><name pos:start="553:27" pos:end="553:32">lblock</name></name>    <operator pos:start="553:37" pos:end="553:37">=</operator> <literal type="number" pos:start="553:39" pos:end="553:39">3</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="555:21" pos:end="555:40"><expr pos:start="555:21" pos:end="555:39"><name pos:start="555:21" pos:end="555:32"><name pos:start="555:21" pos:end="555:24">cblk</name><operator pos:start="555:25" pos:end="555:26">-&gt;</operator><name pos:start="555:27" pos:end="555:32">length</name></name>    <operator pos:start="555:37" pos:end="555:37">=</operator> <literal type="number" pos:start="555:39" pos:end="555:39">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="557:21" pos:end="557:40"><expr pos:start="557:21" pos:end="557:39"><name pos:start="557:21" pos:end="557:35"><name pos:start="557:21" pos:end="557:24">cblk</name><operator pos:start="557:25" pos:end="557:26">-&gt;</operator><name pos:start="557:27" pos:end="557:35">lengthinc</name></name> <operator pos:start="557:37" pos:end="557:37">=</operator> <literal type="number" pos:start="557:39" pos:end="557:39">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="559:21" pos:end="559:40"><expr pos:start="559:21" pos:end="559:39"><name pos:start="559:21" pos:end="559:33"><name pos:start="559:21" pos:end="559:24">cblk</name><operator pos:start="559:25" pos:end="559:26">-&gt;</operator><name pos:start="559:27" pos:end="559:33">npasses</name></name>   <operator pos:start="559:37" pos:end="559:37">=</operator> <literal type="number" pos:start="559:39" pos:end="559:39">0</literal></expr>;</expr_stmt>

                </block_content>}</block></for>

            </block_content>}</block></for>

        </block_content>}</block></for>

    </block_content>}</block></for>

    <return pos:start="569:5" pos:end="569:13">return <expr pos:start="569:12" pos:end="569:12"><literal type="number" pos:start="569:12" pos:end="569:12">0</literal></expr>;</return>

</block_content>}</block></function>
</unit>
