<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/11478.c" pos:tabs="8"><function pos:start="1:1" pos:end="357:1"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:27">mov_build_index</name><parameter_list pos:start="1:28" pos:end="1:58">(<parameter pos:start="1:29" pos:end="1:43"><decl pos:start="1:29" pos:end="1:43"><type pos:start="1:29" pos:end="1:43"><name pos:start="1:29" pos:end="1:38">MOVContext</name> <modifier pos:start="1:40" pos:end="1:40">*</modifier></type><name pos:start="1:41" pos:end="1:43">mov</name></decl></parameter>, <parameter pos:start="1:46" pos:end="1:57"><decl pos:start="1:46" pos:end="1:57"><type pos:start="1:46" pos:end="1:57"><name pos:start="1:46" pos:end="1:53">AVStream</name> <modifier pos:start="1:55" pos:end="1:55">*</modifier></type><name pos:start="1:56" pos:end="1:57">st</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="357:1">{<block_content pos:start="5:5" pos:end="355:5">

    <decl_stmt pos:start="5:5" pos:end="5:41"><decl pos:start="5:5" pos:end="5:40"><type pos:start="5:5" pos:end="5:22"><name pos:start="5:5" pos:end="5:20">MOVStreamContext</name> <modifier pos:start="5:22" pos:end="5:22">*</modifier></type><name pos:start="5:23" pos:end="5:24">sc</name> <init pos:start="5:26" pos:end="5:40">= <expr pos:start="5:28" pos:end="5:40"><name pos:start="5:28" pos:end="5:40"><name pos:start="5:28" pos:end="5:29">st</name><operator pos:start="5:30" pos:end="5:31">-&gt;</operator><name pos:start="5:32" pos:end="5:40">priv_data</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:27"><decl pos:start="7:5" pos:end="7:26"><type pos:start="7:5" pos:end="7:11"><name pos:start="7:5" pos:end="7:11">int64_t</name></type> <name pos:start="7:13" pos:end="7:26">current_offset</name></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:28"><decl pos:start="9:5" pos:end="9:27"><type pos:start="9:5" pos:end="9:11"><name pos:start="9:5" pos:end="9:11">int64_t</name></type> <name pos:start="9:13" pos:end="9:23">current_dts</name> <init pos:start="9:25" pos:end="9:27">= <expr pos:start="9:27" pos:end="9:27"><literal type="number" pos:start="9:27" pos:end="9:27">0</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:32"><decl pos:start="11:5" pos:end="11:31"><type pos:start="11:5" pos:end="11:16"><name pos:start="11:5" pos:end="11:12">unsigned</name> <name pos:start="11:14" pos:end="11:16">int</name></type> <name pos:start="11:18" pos:end="11:27">stts_index</name> <init pos:start="11:29" pos:end="11:31">= <expr pos:start="11:31" pos:end="11:31"><literal type="number" pos:start="11:31" pos:end="11:31">0</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:32"><decl pos:start="13:5" pos:end="13:31"><type pos:start="13:5" pos:end="13:16"><name pos:start="13:5" pos:end="13:12">unsigned</name> <name pos:start="13:14" pos:end="13:16">int</name></type> <name pos:start="13:18" pos:end="13:27">stsc_index</name> <init pos:start="13:29" pos:end="13:31">= <expr pos:start="13:31" pos:end="13:31"><literal type="number" pos:start="13:31" pos:end="13:31">0</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="15:32"><decl pos:start="15:5" pos:end="15:31"><type pos:start="15:5" pos:end="15:16"><name pos:start="15:5" pos:end="15:12">unsigned</name> <name pos:start="15:14" pos:end="15:16">int</name></type> <name pos:start="15:18" pos:end="15:27">stss_index</name> <init pos:start="15:29" pos:end="15:31">= <expr pos:start="15:31" pos:end="15:31"><literal type="number" pos:start="15:31" pos:end="15:31">0</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="17:5" pos:end="17:32"><decl pos:start="17:5" pos:end="17:31"><type pos:start="17:5" pos:end="17:16"><name pos:start="17:5" pos:end="17:12">unsigned</name> <name pos:start="17:14" pos:end="17:16">int</name></type> <name pos:start="17:18" pos:end="17:27">stps_index</name> <init pos:start="17:29" pos:end="17:31">= <expr pos:start="17:31" pos:end="17:31"><literal type="number" pos:start="17:31" pos:end="17:31">0</literal></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="19:5" pos:end="19:22"><decl pos:start="19:5" pos:end="19:18"><type pos:start="19:5" pos:end="19:16"><name pos:start="19:5" pos:end="19:12">unsigned</name> <name pos:start="19:14" pos:end="19:16">int</name></type> <name pos:start="19:18" pos:end="19:18">i</name></decl>, <decl pos:start="19:21" pos:end="19:21"><type ref="prev" pos:start="19:5" pos:end="19:16"/><name pos:start="19:21" pos:end="19:21">j</name></decl>;</decl_stmt>

    <decl_stmt pos:start="21:5" pos:end="21:29"><decl pos:start="21:5" pos:end="21:28"><type pos:start="21:5" pos:end="21:12"><name pos:start="21:5" pos:end="21:12">uint64_t</name></type> <name pos:start="21:14" pos:end="21:24">stream_size</name> <init pos:start="21:26" pos:end="21:28">= <expr pos:start="21:28" pos:end="21:28"><literal type="number" pos:start="21:28" pos:end="21:28">0</literal></expr></init></decl>;</decl_stmt>



    <comment type="block" pos:start="25:5" pos:end="25:49">/* adjust first dts according to edit list */</comment>

    <if_stmt pos:start="27:5" pos:end="49:5"><if pos:start="27:5" pos:end="49:5">if <condition pos:start="27:8" pos:end="27:47">(<expr pos:start="27:9" pos:end="27:46"><name pos:start="27:9" pos:end="27:23"><name pos:start="27:9" pos:end="27:10">sc</name><operator pos:start="27:11" pos:end="27:12">-&gt;</operator><name pos:start="27:13" pos:end="27:23">time_offset</name></name> <operator pos:start="27:25" pos:end="27:26">&amp;&amp;</operator> <name pos:start="27:28" pos:end="27:42"><name pos:start="27:28" pos:end="27:30">mov</name><operator pos:start="27:31" pos:end="27:32">-&gt;</operator><name pos:start="27:33" pos:end="27:42">time_scale</name></name> <operator pos:start="27:44" pos:end="27:44">&gt;</operator> <literal type="number" pos:start="27:46" pos:end="27:46">0</literal></expr>)</condition> <block pos:start="27:49" pos:end="49:5">{<block_content pos:start="29:9" pos:end="47:9">

        <if_stmt pos:start="29:9" pos:end="31:91"><if pos:start="29:9" pos:end="31:91">if <condition pos:start="29:12" pos:end="29:32">(<expr pos:start="29:13" pos:end="29:31"><name pos:start="29:13" pos:end="29:27"><name pos:start="29:13" pos:end="29:14">sc</name><operator pos:start="29:15" pos:end="29:16">-&gt;</operator><name pos:start="29:17" pos:end="29:27">time_offset</name></name> <operator pos:start="29:29" pos:end="29:29">&lt;</operator> <literal type="number" pos:start="29:31" pos:end="29:31">0</literal></expr>)</condition><block type="pseudo" pos:start="31:13" pos:end="31:91"><block_content pos:start="31:13" pos:end="31:91">

            <expr_stmt pos:start="31:13" pos:end="31:91"><expr pos:start="31:13" pos:end="31:90"><name pos:start="31:13" pos:end="31:27"><name pos:start="31:13" pos:end="31:14">sc</name><operator pos:start="31:15" pos:end="31:16">-&gt;</operator><name pos:start="31:17" pos:end="31:27">time_offset</name></name> <operator pos:start="31:29" pos:end="31:29">=</operator> <call pos:start="31:31" pos:end="31:90"><name pos:start="31:31" pos:end="31:40">av_rescale</name><argument_list pos:start="31:41" pos:end="31:90">(<argument pos:start="31:42" pos:end="31:56"><expr pos:start="31:42" pos:end="31:56"><name pos:start="31:42" pos:end="31:56"><name pos:start="31:42" pos:end="31:43">sc</name><operator pos:start="31:44" pos:end="31:45">-&gt;</operator><name pos:start="31:46" pos:end="31:56">time_offset</name></name></expr></argument>, <argument pos:start="31:59" pos:end="31:72"><expr pos:start="31:59" pos:end="31:72"><name pos:start="31:59" pos:end="31:72"><name pos:start="31:59" pos:end="31:60">sc</name><operator pos:start="31:61" pos:end="31:62">-&gt;</operator><name pos:start="31:63" pos:end="31:72">time_scale</name></name></expr></argument>, <argument pos:start="31:75" pos:end="31:89"><expr pos:start="31:75" pos:end="31:89"><name pos:start="31:75" pos:end="31:89"><name pos:start="31:75" pos:end="31:77">mov</name><operator pos:start="31:78" pos:end="31:79">-&gt;</operator><name pos:start="31:80" pos:end="31:89">time_scale</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

        <expr_stmt pos:start="33:9" pos:end="33:39"><expr pos:start="33:9" pos:end="33:38"><name pos:start="33:9" pos:end="33:19">current_dts</name> <operator pos:start="33:21" pos:end="33:21">=</operator> <operator pos:start="33:23" pos:end="33:23">-</operator><name pos:start="33:24" pos:end="33:38"><name pos:start="33:24" pos:end="33:25">sc</name><operator pos:start="33:26" pos:end="33:27">-&gt;</operator><name pos:start="33:28" pos:end="33:38">time_offset</name></name></expr>;</expr_stmt>

        <if_stmt pos:start="35:9" pos:end="47:9"><if pos:start="35:9" pos:end="47:9">if <condition pos:start="35:12" pos:end="37:71">(<expr pos:start="35:13" pos:end="37:70"><name pos:start="35:13" pos:end="35:25"><name pos:start="35:13" pos:end="35:14">sc</name><operator pos:start="35:15" pos:end="35:16">-&gt;</operator><name pos:start="35:17" pos:end="35:25">ctts_data</name></name> <operator pos:start="35:27" pos:end="35:28">&amp;&amp;</operator> <name pos:start="35:30" pos:end="35:42"><name pos:start="35:30" pos:end="35:31">sc</name><operator pos:start="35:32" pos:end="35:33">-&gt;</operator><name pos:start="35:34" pos:end="35:42">stts_data</name></name> <operator pos:start="35:44" pos:end="35:45">&amp;&amp;</operator>

            <name pos:start="37:13" pos:end="37:28"><name pos:start="37:13" pos:end="37:14">sc</name><operator pos:start="37:15" pos:end="37:16">-&gt;</operator><name pos:start="37:17" pos:end="37:25">ctts_data</name><index pos:start="37:26" pos:end="37:28">[<expr pos:start="37:27" pos:end="37:27"><literal type="number" pos:start="37:27" pos:end="37:27">0</literal></expr>]</index></name><operator pos:start="37:29" pos:end="37:29">.</operator><name pos:start="37:30" pos:end="37:37">duration</name> <operator pos:start="37:39" pos:end="37:39">/</operator> <name pos:start="37:41" pos:end="37:56"><name pos:start="37:41" pos:end="37:42">sc</name><operator pos:start="37:43" pos:end="37:44">-&gt;</operator><name pos:start="37:45" pos:end="37:53">stts_data</name><index pos:start="37:54" pos:end="37:56">[<expr pos:start="37:55" pos:end="37:55"><literal type="number" pos:start="37:55" pos:end="37:55">0</literal></expr>]</index></name><operator pos:start="37:57" pos:end="37:57">.</operator><name pos:start="37:58" pos:end="37:65">duration</name> <operator pos:start="37:67" pos:end="37:67">&gt;</operator> <literal type="number" pos:start="37:69" pos:end="37:70">16</literal></expr>)</condition> <block pos:start="37:73" pos:end="47:9">{<block_content pos:start="43:13" pos:end="45:40">

            <comment type="block" pos:start="39:13" pos:end="41:59">/* more than 16 frames delay, dts are likely wrong

               this happens with files created by iMovie */</comment>

            <expr_stmt pos:start="43:13" pos:end="43:30"><expr pos:start="43:13" pos:end="43:29"><name pos:start="43:13" pos:end="43:25"><name pos:start="43:13" pos:end="43:14">sc</name><operator pos:start="43:15" pos:end="43:16">-&gt;</operator><name pos:start="43:17" pos:end="43:25">wrong_dts</name></name> <operator pos:start="43:27" pos:end="43:27">=</operator> <literal type="number" pos:start="43:29" pos:end="43:29">1</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="45:13" pos:end="45:40"><expr pos:start="45:13" pos:end="45:39"><name pos:start="45:13" pos:end="45:35"><name pos:start="45:13" pos:end="45:14">st</name><operator pos:start="45:15" pos:end="45:16">-&gt;</operator><name pos:start="45:17" pos:end="45:21">codec</name><operator pos:start="45:22" pos:end="45:23">-&gt;</operator><name pos:start="45:24" pos:end="45:35">has_b_frames</name></name> <operator pos:start="45:37" pos:end="45:37">=</operator> <literal type="number" pos:start="45:39" pos:end="45:39">1</literal></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></if></if_stmt>



    <comment type="block" pos:start="53:5" pos:end="53:79">/* only use old uncompressed audio chunk demuxing when stts specifies it */</comment>

    <if_stmt pos:start="55:5" pos:end="355:5"><if pos:start="55:5" pos:end="191:5">if <condition pos:start="55:8" pos:end="57:65">(<expr pos:start="55:9" pos:end="57:64"><operator pos:start="55:9" pos:end="55:9">!</operator><operator pos:start="55:10" pos:end="55:10">(</operator><name pos:start="55:11" pos:end="55:31"><name pos:start="55:11" pos:end="55:12">st</name><operator pos:start="55:13" pos:end="55:14">-&gt;</operator><name pos:start="55:15" pos:end="55:19">codec</name><operator pos:start="55:20" pos:end="55:21">-&gt;</operator><name pos:start="55:22" pos:end="55:31">codec_type</name></name> <operator pos:start="55:33" pos:end="55:34">==</operator> <name pos:start="55:36" pos:end="55:53">AVMEDIA_TYPE_AUDIO</name> <operator pos:start="55:55" pos:end="55:56">&amp;&amp;</operator>

          <name pos:start="57:11" pos:end="57:24"><name pos:start="57:11" pos:end="57:12">sc</name><operator pos:start="57:13" pos:end="57:14">-&gt;</operator><name pos:start="57:15" pos:end="57:24">stts_count</name></name> <operator pos:start="57:26" pos:end="57:27">==</operator> <literal type="number" pos:start="57:29" pos:end="57:29">1</literal> <operator pos:start="57:31" pos:end="57:32">&amp;&amp;</operator> <name pos:start="57:34" pos:end="57:49"><name pos:start="57:34" pos:end="57:35">sc</name><operator pos:start="57:36" pos:end="57:37">-&gt;</operator><name pos:start="57:38" pos:end="57:46">stts_data</name><index pos:start="57:47" pos:end="57:49">[<expr pos:start="57:48" pos:end="57:48"><literal type="number" pos:start="57:48" pos:end="57:48">0</literal></expr>]</index></name><operator pos:start="57:50" pos:end="57:50">.</operator><name pos:start="57:51" pos:end="57:58">duration</name> <operator pos:start="57:60" pos:end="57:61">==</operator> <literal type="number" pos:start="57:63" pos:end="57:63">1</literal><operator pos:start="57:64" pos:end="57:64">)</operator></expr>)</condition> <block pos:start="57:67" pos:end="191:5">{<block_content pos:start="59:9" pos:end="189:76">

        <decl_stmt pos:start="59:9" pos:end="59:40"><decl pos:start="59:9" pos:end="59:39"><type pos:start="59:9" pos:end="59:20"><name pos:start="59:9" pos:end="59:16">unsigned</name> <name pos:start="59:18" pos:end="59:20">int</name></type> <name pos:start="59:22" pos:end="59:35">current_sample</name> <init pos:start="59:37" pos:end="59:39">= <expr pos:start="59:39" pos:end="59:39"><literal type="number" pos:start="59:39" pos:end="59:39">0</literal></expr></init></decl>;</decl_stmt>

        <decl_stmt pos:start="61:9" pos:end="61:37"><decl pos:start="61:9" pos:end="61:36"><type pos:start="61:9" pos:end="61:20"><name pos:start="61:9" pos:end="61:16">unsigned</name> <name pos:start="61:18" pos:end="61:20">int</name></type> <name pos:start="61:22" pos:end="61:32">stts_sample</name> <init pos:start="61:34" pos:end="61:36">= <expr pos:start="61:36" pos:end="61:36"><literal type="number" pos:start="61:36" pos:end="61:36">0</literal></expr></init></decl>;</decl_stmt>

        <decl_stmt pos:start="63:9" pos:end="63:33"><decl pos:start="63:9" pos:end="63:32"><type pos:start="63:9" pos:end="63:20"><name pos:start="63:9" pos:end="63:16">unsigned</name> <name pos:start="63:18" pos:end="63:20">int</name></type> <name pos:start="63:22" pos:end="63:32">sample_size</name></decl>;</decl_stmt>

        <decl_stmt pos:start="65:9" pos:end="65:34"><decl pos:start="65:9" pos:end="65:33"><type pos:start="65:9" pos:end="65:20"><name pos:start="65:9" pos:end="65:16">unsigned</name> <name pos:start="65:18" pos:end="65:20">int</name></type> <name pos:start="65:22" pos:end="65:29">distance</name> <init pos:start="65:31" pos:end="65:33">= <expr pos:start="65:33" pos:end="65:33"><literal type="number" pos:start="65:33" pos:end="65:33">0</literal></expr></init></decl>;</decl_stmt>

        <decl_stmt pos:start="67:9" pos:end="67:61"><decl pos:start="67:9" pos:end="67:60"><type pos:start="67:9" pos:end="67:11"><name pos:start="67:9" pos:end="67:11">int</name></type> <name pos:start="67:13" pos:end="67:19">key_off</name> <init pos:start="67:21" pos:end="67:60">= <expr pos:start="67:23" pos:end="67:60"><name pos:start="67:23" pos:end="67:35"><name pos:start="67:23" pos:end="67:24">sc</name><operator pos:start="67:25" pos:end="67:26">-&gt;</operator><name pos:start="67:27" pos:end="67:35">keyframes</name></name> <operator pos:start="67:37" pos:end="67:38">&amp;&amp;</operator> <name pos:start="67:40" pos:end="67:55"><name pos:start="67:40" pos:end="67:41">sc</name><operator pos:start="67:42" pos:end="67:43">-&gt;</operator><name pos:start="67:44" pos:end="67:52">keyframes</name><index pos:start="67:53" pos:end="67:55">[<expr pos:start="67:54" pos:end="67:54"><literal type="number" pos:start="67:54" pos:end="67:54">0</literal></expr>]</index></name> <operator pos:start="67:57" pos:end="67:58">==</operator> <literal type="number" pos:start="67:60" pos:end="67:60">1</literal></expr></init></decl>;</decl_stmt>



        <expr_stmt pos:start="71:9" pos:end="71:37"><expr pos:start="71:9" pos:end="71:36"><name pos:start="71:9" pos:end="71:19">current_dts</name> <operator pos:start="71:21" pos:end="71:22">-=</operator> <name pos:start="71:24" pos:end="71:36"><name pos:start="71:24" pos:end="71:25">sc</name><operator pos:start="71:26" pos:end="71:27">-&gt;</operator><name pos:start="71:28" pos:end="71:36">dts_shift</name></name></expr>;</expr_stmt>



        <if_stmt pos:start="75:9" pos:end="77:19"><if pos:start="75:9" pos:end="77:19">if <condition pos:start="75:12" pos:end="75:70">(<expr pos:start="75:13" pos:end="75:69"><name pos:start="75:13" pos:end="75:28"><name pos:start="75:13" pos:end="75:14">sc</name><operator pos:start="75:15" pos:end="75:16">-&gt;</operator><name pos:start="75:17" pos:end="75:28">sample_count</name></name> <operator pos:start="75:30" pos:end="75:31">&gt;=</operator> <name pos:start="75:33" pos:end="75:40">UINT_MAX</name> <operator pos:start="75:42" pos:end="75:42">/</operator> <sizeof pos:start="75:44" pos:end="75:69">sizeof<argument_list pos:start="75:50" pos:end="75:69">(<argument pos:start="75:51" pos:end="75:68"><expr pos:start="75:51" pos:end="75:68"><operator pos:start="75:51" pos:end="75:51">*</operator><name pos:start="75:52" pos:end="75:68"><name pos:start="75:52" pos:end="75:53">st</name><operator pos:start="75:54" pos:end="75:55">-&gt;</operator><name pos:start="75:56" pos:end="75:68">index_entries</name></name></expr></argument>)</argument_list></sizeof></expr>)</condition><block type="pseudo" pos:start="77:13" pos:end="77:19"><block_content pos:start="77:13" pos:end="77:19">

            <return pos:start="77:13" pos:end="77:19">return;</return></block_content></block></if></if_stmt>

        <expr_stmt pos:start="79:9" pos:end="79:83"><expr pos:start="79:9" pos:end="79:82"><name pos:start="79:9" pos:end="79:25"><name pos:start="79:9" pos:end="79:10">st</name><operator pos:start="79:11" pos:end="79:12">-&gt;</operator><name pos:start="79:13" pos:end="79:25">index_entries</name></name> <operator pos:start="79:27" pos:end="79:27">=</operator> <call pos:start="79:29" pos:end="79:82"><name pos:start="79:29" pos:end="79:37">av_malloc</name><argument_list pos:start="79:38" pos:end="79:82">(<argument pos:start="79:39" pos:end="79:81"><expr pos:start="79:39" pos:end="79:81"><name pos:start="79:39" pos:end="79:54"><name pos:start="79:39" pos:end="79:40">sc</name><operator pos:start="79:41" pos:end="79:42">-&gt;</operator><name pos:start="79:43" pos:end="79:54">sample_count</name></name><operator pos:start="79:55" pos:end="79:55">*</operator><sizeof pos:start="79:56" pos:end="79:81">sizeof<argument_list pos:start="79:62" pos:end="79:81">(<argument pos:start="79:63" pos:end="79:80"><expr pos:start="79:63" pos:end="79:80"><operator pos:start="79:63" pos:end="79:63">*</operator><name pos:start="79:64" pos:end="79:80"><name pos:start="79:64" pos:end="79:65">st</name><operator pos:start="79:66" pos:end="79:67">-&gt;</operator><name pos:start="79:68" pos:end="79:80">index_entries</name></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="81:9" pos:end="83:19"><if pos:start="81:9" pos:end="83:19">if <condition pos:start="81:12" pos:end="81:31">(<expr pos:start="81:13" pos:end="81:30"><operator pos:start="81:13" pos:end="81:13">!</operator><name pos:start="81:14" pos:end="81:30"><name pos:start="81:14" pos:end="81:15">st</name><operator pos:start="81:16" pos:end="81:17">-&gt;</operator><name pos:start="81:18" pos:end="81:30">index_entries</name></name></expr>)</condition><block type="pseudo" pos:start="83:13" pos:end="83:19"><block_content pos:start="83:13" pos:end="83:19">

            <return pos:start="83:13" pos:end="83:19">return;</return></block_content></block></if></if_stmt>

        <expr_stmt pos:start="85:9" pos:end="85:87"><expr pos:start="85:9" pos:end="85:86"><name pos:start="85:9" pos:end="85:40"><name pos:start="85:9" pos:end="85:10">st</name><operator pos:start="85:11" pos:end="85:12">-&gt;</operator><name pos:start="85:13" pos:end="85:40">index_entries_allocated_size</name></name> <operator pos:start="85:42" pos:end="85:42">=</operator> <name pos:start="85:44" pos:end="85:59"><name pos:start="85:44" pos:end="85:45">sc</name><operator pos:start="85:46" pos:end="85:47">-&gt;</operator><name pos:start="85:48" pos:end="85:59">sample_count</name></name><operator pos:start="85:60" pos:end="85:60">*</operator><sizeof pos:start="85:61" pos:end="85:86">sizeof<argument_list pos:start="85:67" pos:end="85:86">(<argument pos:start="85:68" pos:end="85:85"><expr pos:start="85:68" pos:end="85:85"><operator pos:start="85:68" pos:end="85:68">*</operator><name pos:start="85:69" pos:end="85:85"><name pos:start="85:69" pos:end="85:70">st</name><operator pos:start="85:71" pos:end="85:72">-&gt;</operator><name pos:start="85:73" pos:end="85:85">index_entries</name></name></expr></argument>)</argument_list></sizeof></expr>;</expr_stmt>



        <for pos:start="89:9" pos:end="185:9">for <control pos:start="89:13" pos:end="89:45">(<init pos:start="89:14" pos:end="89:19"><expr pos:start="89:14" pos:end="89:18"><name pos:start="89:14" pos:end="89:14">i</name> <operator pos:start="89:16" pos:end="89:16">=</operator> <literal type="number" pos:start="89:18" pos:end="89:18">0</literal></expr>;</init> <condition pos:start="89:21" pos:end="89:40"><expr pos:start="89:21" pos:end="89:39"><name pos:start="89:21" pos:end="89:21">i</name> <operator pos:start="89:23" pos:end="89:23">&lt;</operator> <name pos:start="89:25" pos:end="89:39"><name pos:start="89:25" pos:end="89:26">sc</name><operator pos:start="89:27" pos:end="89:28">-&gt;</operator><name pos:start="89:29" pos:end="89:39">chunk_count</name></name></expr>;</condition> <incr pos:start="89:42" pos:end="89:44"><expr pos:start="89:42" pos:end="89:44"><name pos:start="89:42" pos:end="89:42">i</name><operator pos:start="89:43" pos:end="89:44">++</operator></expr></incr>)</control> <block pos:start="89:47" pos:end="185:9">{<block_content pos:start="91:13" pos:end="183:13">

            <expr_stmt pos:start="91:13" pos:end="91:50"><expr pos:start="91:13" pos:end="91:49"><name pos:start="91:13" pos:end="91:26">current_offset</name> <operator pos:start="91:28" pos:end="91:28">=</operator> <name pos:start="91:30" pos:end="91:49"><name pos:start="91:30" pos:end="91:31">sc</name><operator pos:start="91:32" pos:end="91:33">-&gt;</operator><name pos:start="91:34" pos:end="91:46">chunk_offsets</name><index pos:start="91:47" pos:end="91:49">[<expr pos:start="91:48" pos:end="91:48"><name pos:start="91:48" pos:end="91:48">i</name></expr>]</index></name></expr>;</expr_stmt>

            <while pos:start="93:13" pos:end="97:29">while <condition pos:start="93:19" pos:end="95:61">(<expr pos:start="93:20" pos:end="95:60"><name pos:start="93:20" pos:end="93:29">stsc_index</name> <operator pos:start="93:31" pos:end="93:31">+</operator> <literal type="number" pos:start="93:33" pos:end="93:33">1</literal> <operator pos:start="93:35" pos:end="93:35">&lt;</operator> <name pos:start="93:37" pos:end="93:50"><name pos:start="93:37" pos:end="93:38">sc</name><operator pos:start="93:39" pos:end="93:40">-&gt;</operator><name pos:start="93:41" pos:end="93:50">stsc_count</name></name> <operator pos:start="93:52" pos:end="93:53">&amp;&amp;</operator>

                <name pos:start="95:17" pos:end="95:17">i</name> <operator pos:start="95:19" pos:end="95:19">+</operator> <literal type="number" pos:start="95:21" pos:end="95:21">1</literal> <operator pos:start="95:23" pos:end="95:24">==</operator> <name pos:start="95:26" pos:end="95:54"><name pos:start="95:26" pos:end="95:27">sc</name><operator pos:start="95:28" pos:end="95:29">-&gt;</operator><name pos:start="95:30" pos:end="95:38">stsc_data</name><index pos:start="95:39" pos:end="95:54">[<expr pos:start="95:40" pos:end="95:53"><name pos:start="95:40" pos:end="95:49">stsc_index</name> <operator pos:start="95:51" pos:end="95:51">+</operator> <literal type="number" pos:start="95:53" pos:end="95:53">1</literal></expr>]</index></name><operator pos:start="95:55" pos:end="95:55">.</operator><name pos:start="95:56" pos:end="95:60">first</name></expr>)</condition><block type="pseudo" pos:start="97:17" pos:end="97:29"><block_content pos:start="97:17" pos:end="97:29">

                <expr_stmt pos:start="97:17" pos:end="97:29"><expr pos:start="97:17" pos:end="97:28"><name pos:start="97:17" pos:end="97:26">stsc_index</name><operator pos:start="97:27" pos:end="97:28">++</operator></expr>;</expr_stmt></block_content></block></while>

            <for pos:start="99:13" pos:end="183:13">for <control pos:start="99:17" pos:end="99:65">(<init pos:start="99:18" pos:end="99:23"><expr pos:start="99:18" pos:end="99:22"><name pos:start="99:18" pos:end="99:18">j</name> <operator pos:start="99:20" pos:end="99:20">=</operator> <literal type="number" pos:start="99:22" pos:end="99:22">0</literal></expr>;</init> <condition pos:start="99:25" pos:end="99:60"><expr pos:start="99:25" pos:end="99:59"><name pos:start="99:25" pos:end="99:25">j</name> <operator pos:start="99:27" pos:end="99:27">&lt;</operator> <name pos:start="99:29" pos:end="99:53"><name pos:start="99:29" pos:end="99:30">sc</name><operator pos:start="99:31" pos:end="99:32">-&gt;</operator><name pos:start="99:33" pos:end="99:41">stsc_data</name><index pos:start="99:42" pos:end="99:53">[<expr pos:start="99:43" pos:end="99:52"><name pos:start="99:43" pos:end="99:52">stsc_index</name></expr>]</index></name><operator pos:start="99:54" pos:end="99:54">.</operator><name pos:start="99:55" pos:end="99:59">count</name></expr>;</condition> <incr pos:start="99:62" pos:end="99:64"><expr pos:start="99:62" pos:end="99:64"><name pos:start="99:62" pos:end="99:62">j</name><operator pos:start="99:63" pos:end="99:64">++</operator></expr></incr>)</control> <block pos:start="99:67" pos:end="183:13">{<block_content pos:start="101:17" pos:end="181:17">

                <decl_stmt pos:start="101:17" pos:end="101:33"><decl pos:start="101:17" pos:end="101:32"><type pos:start="101:17" pos:end="101:19"><name pos:start="101:17" pos:end="101:19">int</name></type> <name pos:start="101:21" pos:end="101:28">keyframe</name> <init pos:start="101:30" pos:end="101:32">= <expr pos:start="101:32" pos:end="101:32"><literal type="number" pos:start="101:32" pos:end="101:32">0</literal></expr></init></decl>;</decl_stmt>

                <if_stmt pos:start="103:17" pos:end="109:17"><if pos:start="103:17" pos:end="109:17">if <condition pos:start="103:20" pos:end="103:55">(<expr pos:start="103:21" pos:end="103:54"><name pos:start="103:21" pos:end="103:34">current_sample</name> <operator pos:start="103:36" pos:end="103:37">&gt;=</operator> <name pos:start="103:39" pos:end="103:54"><name pos:start="103:39" pos:end="103:40">sc</name><operator pos:start="103:41" pos:end="103:42">-&gt;</operator><name pos:start="103:43" pos:end="103:54">sample_count</name></name></expr>)</condition> <block pos:start="103:57" pos:end="109:17">{<block_content pos:start="105:21" pos:end="107:27">

                    <expr_stmt pos:start="105:21" pos:end="105:74"><expr pos:start="105:21" pos:end="105:73"><call pos:start="105:21" pos:end="105:73"><name pos:start="105:21" pos:end="105:26">av_log</name><argument_list pos:start="105:27" pos:end="105:73">(<argument pos:start="105:28" pos:end="105:34"><expr pos:start="105:28" pos:end="105:34"><name pos:start="105:28" pos:end="105:34"><name pos:start="105:28" pos:end="105:30">mov</name><operator pos:start="105:31" pos:end="105:32">-&gt;</operator><name pos:start="105:33" pos:end="105:34">fc</name></name></expr></argument>, <argument pos:start="105:37" pos:end="105:48"><expr pos:start="105:37" pos:end="105:48"><name pos:start="105:37" pos:end="105:48">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="105:51" pos:end="105:72"><expr pos:start="105:51" pos:end="105:72"><literal type="string" pos:start="105:51" pos:end="105:72">"wrong sample count\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <return pos:start="107:21" pos:end="107:27">return;</return>

                </block_content>}</block></if></if_stmt>



                <if_stmt pos:start="113:17" pos:end="129:17"><if pos:start="113:17" pos:end="121:17">if <condition pos:start="113:20" pos:end="113:95">(<expr pos:start="113:21" pos:end="113:94"><operator pos:start="113:21" pos:end="113:21">!</operator><name pos:start="113:22" pos:end="113:39"><name pos:start="113:22" pos:end="113:23">sc</name><operator pos:start="113:24" pos:end="113:25">-&gt;</operator><name pos:start="113:26" pos:end="113:39">keyframe_count</name></name> <operator pos:start="113:41" pos:end="113:42">||</operator> <name pos:start="113:44" pos:end="113:57">current_sample</name><operator pos:start="113:58" pos:end="113:58">+</operator><name pos:start="113:59" pos:end="113:65">key_off</name> <operator pos:start="113:67" pos:end="113:68">==</operator> <name pos:start="113:70" pos:end="113:94"><name pos:start="113:70" pos:end="113:71">sc</name><operator pos:start="113:72" pos:end="113:73">-&gt;</operator><name pos:start="113:74" pos:end="113:82">keyframes</name><index pos:start="113:83" pos:end="113:94">[<expr pos:start="113:84" pos:end="113:93"><name pos:start="113:84" pos:end="113:93">stss_index</name></expr>]</index></name></expr>)</condition> <block pos:start="113:97" pos:end="121:17">{<block_content pos:start="115:21" pos:end="119:37">

                    <expr_stmt pos:start="115:21" pos:end="115:33"><expr pos:start="115:21" pos:end="115:32"><name pos:start="115:21" pos:end="115:28">keyframe</name> <operator pos:start="115:30" pos:end="115:30">=</operator> <literal type="number" pos:start="115:32" pos:end="115:32">1</literal></expr>;</expr_stmt>

                    <if_stmt pos:start="117:21" pos:end="119:37"><if pos:start="117:21" pos:end="119:37">if <condition pos:start="117:24" pos:end="117:60">(<expr pos:start="117:25" pos:end="117:59"><name pos:start="117:25" pos:end="117:34">stss_index</name> <operator pos:start="117:36" pos:end="117:36">+</operator> <literal type="number" pos:start="117:38" pos:end="117:38">1</literal> <operator pos:start="117:40" pos:end="117:40">&lt;</operator> <name pos:start="117:42" pos:end="117:59"><name pos:start="117:42" pos:end="117:43">sc</name><operator pos:start="117:44" pos:end="117:45">-&gt;</operator><name pos:start="117:46" pos:end="117:59">keyframe_count</name></name></expr>)</condition><block type="pseudo" pos:start="119:25" pos:end="119:37"><block_content pos:start="119:25" pos:end="119:37">

                        <expr_stmt pos:start="119:25" pos:end="119:37"><expr pos:start="119:25" pos:end="119:36"><name pos:start="119:25" pos:end="119:34">stss_index</name><operator pos:start="119:35" pos:end="119:36">++</operator></expr>;</expr_stmt></block_content></block></if></if_stmt>

                </block_content>}</block></if> <if type="elseif" pos:start="121:19" pos:end="129:17">else if <condition pos:start="121:27" pos:end="121:97">(<expr pos:start="121:28" pos:end="121:96"><name pos:start="121:28" pos:end="121:41"><name pos:start="121:28" pos:end="121:29">sc</name><operator pos:start="121:30" pos:end="121:31">-&gt;</operator><name pos:start="121:32" pos:end="121:41">stps_count</name></name> <operator pos:start="121:43" pos:end="121:44">&amp;&amp;</operator> <name pos:start="121:46" pos:end="121:59">current_sample</name><operator pos:start="121:60" pos:end="121:60">+</operator><name pos:start="121:61" pos:end="121:67">key_off</name> <operator pos:start="121:69" pos:end="121:70">==</operator> <name pos:start="121:72" pos:end="121:96"><name pos:start="121:72" pos:end="121:73">sc</name><operator pos:start="121:74" pos:end="121:75">-&gt;</operator><name pos:start="121:76" pos:end="121:84">stps_data</name><index pos:start="121:85" pos:end="121:96">[<expr pos:start="121:86" pos:end="121:95"><name pos:start="121:86" pos:end="121:95">stps_index</name></expr>]</index></name></expr>)</condition> <block pos:start="121:99" pos:end="129:17">{<block_content pos:start="123:21" pos:end="127:37">

                    <expr_stmt pos:start="123:21" pos:end="123:33"><expr pos:start="123:21" pos:end="123:32"><name pos:start="123:21" pos:end="123:28">keyframe</name> <operator pos:start="123:30" pos:end="123:30">=</operator> <literal type="number" pos:start="123:32" pos:end="123:32">1</literal></expr>;</expr_stmt>

                    <if_stmt pos:start="125:21" pos:end="127:37"><if pos:start="125:21" pos:end="127:37">if <condition pos:start="125:24" pos:end="125:56">(<expr pos:start="125:25" pos:end="125:55"><name pos:start="125:25" pos:end="125:34">stps_index</name> <operator pos:start="125:36" pos:end="125:36">+</operator> <literal type="number" pos:start="125:38" pos:end="125:38">1</literal> <operator pos:start="125:40" pos:end="125:40">&lt;</operator> <name pos:start="125:42" pos:end="125:55"><name pos:start="125:42" pos:end="125:43">sc</name><operator pos:start="125:44" pos:end="125:45">-&gt;</operator><name pos:start="125:46" pos:end="125:55">stps_count</name></name></expr>)</condition><block type="pseudo" pos:start="127:25" pos:end="127:37"><block_content pos:start="127:25" pos:end="127:37">

                        <expr_stmt pos:start="127:25" pos:end="127:37"><expr pos:start="127:25" pos:end="127:36"><name pos:start="127:25" pos:end="127:34">stps_index</name><operator pos:start="127:35" pos:end="127:36">++</operator></expr>;</expr_stmt></block_content></block></if></if_stmt>

                </block_content>}</block></if></if_stmt>

                <if_stmt pos:start="131:17" pos:end="133:33"><if pos:start="131:17" pos:end="133:33">if <condition pos:start="131:20" pos:end="131:29">(<expr pos:start="131:21" pos:end="131:28"><name pos:start="131:21" pos:end="131:28">keyframe</name></expr>)</condition><block type="pseudo" pos:start="133:21" pos:end="133:33"><block_content pos:start="133:21" pos:end="133:33">

                    <expr_stmt pos:start="133:21" pos:end="133:33"><expr pos:start="133:21" pos:end="133:32"><name pos:start="133:21" pos:end="133:28">distance</name> <operator pos:start="133:30" pos:end="133:30">=</operator> <literal type="number" pos:start="133:32" pos:end="133:32">0</literal></expr>;</expr_stmt></block_content></block></if></if_stmt>

                <expr_stmt pos:start="135:17" pos:end="135:103"><expr pos:start="135:17" pos:end="135:102"><name pos:start="135:17" pos:end="135:27">sample_size</name> <operator pos:start="135:29" pos:end="135:29">=</operator> <ternary pos:start="135:31" pos:end="135:102"><condition pos:start="135:31" pos:end="135:51"><expr pos:start="135:31" pos:end="135:49"><name pos:start="135:31" pos:end="135:45"><name pos:start="135:31" pos:end="135:32">sc</name><operator pos:start="135:33" pos:end="135:34">-&gt;</operator><name pos:start="135:35" pos:end="135:45">sample_size</name></name> <operator pos:start="135:47" pos:end="135:47">&gt;</operator> <literal type="number" pos:start="135:49" pos:end="135:49">0</literal></expr> ?</condition><then pos:start="135:53" pos:end="135:67"> <expr pos:start="135:53" pos:end="135:67"><name pos:start="135:53" pos:end="135:67"><name pos:start="135:53" pos:end="135:54">sc</name><operator pos:start="135:55" pos:end="135:56">-&gt;</operator><name pos:start="135:57" pos:end="135:67">sample_size</name></name></expr> </then><else pos:start="135:69" pos:end="135:102">: <expr pos:start="135:71" pos:end="135:102"><name pos:start="135:71" pos:end="135:102"><name pos:start="135:71" pos:end="135:72">sc</name><operator pos:start="135:73" pos:end="135:74">-&gt;</operator><name pos:start="135:75" pos:end="135:86">sample_sizes</name><index pos:start="135:87" pos:end="135:102">[<expr pos:start="135:88" pos:end="135:101"><name pos:start="135:88" pos:end="135:101">current_sample</name></expr>]</index></name></expr></else></ternary></expr>;</expr_stmt>

                <if_stmt pos:start="137:17" pos:end="159:17"><if pos:start="137:17" pos:end="159:17">if <condition pos:start="137:20" pos:end="139:76">(<expr pos:start="137:21" pos:end="139:75"><name pos:start="137:21" pos:end="137:40"><name pos:start="137:21" pos:end="137:22">sc</name><operator pos:start="137:23" pos:end="137:24">-&gt;</operator><name pos:start="137:25" pos:end="137:40">pseudo_stream_id</name></name> <operator pos:start="137:42" pos:end="137:43">==</operator> <operator pos:start="137:45" pos:end="137:45">-</operator><literal type="number" pos:start="137:46" pos:end="137:46">1</literal> <operator pos:start="137:48" pos:end="137:49">||</operator>

                   <name pos:start="139:20" pos:end="139:44"><name pos:start="139:20" pos:end="139:21">sc</name><operator pos:start="139:22" pos:end="139:23">-&gt;</operator><name pos:start="139:24" pos:end="139:32">stsc_data</name><index pos:start="139:33" pos:end="139:44">[<expr pos:start="139:34" pos:end="139:43"><name pos:start="139:34" pos:end="139:43">stsc_index</name></expr>]</index></name><operator pos:start="139:45" pos:end="139:45">.</operator><name pos:start="139:46" pos:end="139:47">id</name> <operator pos:start="139:49" pos:end="139:49">-</operator> <literal type="number" pos:start="139:51" pos:end="139:51">1</literal> <operator pos:start="139:53" pos:end="139:54">==</operator> <name pos:start="139:56" pos:end="139:75"><name pos:start="139:56" pos:end="139:57">sc</name><operator pos:start="139:58" pos:end="139:59">-&gt;</operator><name pos:start="139:60" pos:end="139:75">pseudo_stream_id</name></name></expr>)</condition> <block pos:start="139:78" pos:end="159:17">{<block_content pos:start="141:21" pos:end="157:90">

                    <decl_stmt pos:start="141:21" pos:end="141:81"><decl pos:start="141:21" pos:end="141:80"><type pos:start="141:21" pos:end="141:34"><name pos:start="141:21" pos:end="141:32">AVIndexEntry</name> <modifier pos:start="141:34" pos:end="141:34">*</modifier></type><name pos:start="141:35" pos:end="141:35">e</name> <init pos:start="141:37" pos:end="141:80">= <expr pos:start="141:39" pos:end="141:80"><operator pos:start="141:39" pos:end="141:39">&amp;</operator><name pos:start="141:40" pos:end="141:80"><name pos:start="141:40" pos:end="141:41">st</name><operator pos:start="141:42" pos:end="141:43">-&gt;</operator><name pos:start="141:44" pos:end="141:56">index_entries</name><index pos:start="141:57" pos:end="141:80">[<expr pos:start="141:58" pos:end="141:79"><name pos:start="141:58" pos:end="141:77"><name pos:start="141:58" pos:end="141:59">st</name><operator pos:start="141:60" pos:end="141:61">-&gt;</operator><name pos:start="141:62" pos:end="141:77">nb_index_entries</name></name><operator pos:start="141:78" pos:end="141:79">++</operator></expr>]</index></name></expr></init></decl>;</decl_stmt>

                    <expr_stmt pos:start="143:21" pos:end="143:44"><expr pos:start="143:21" pos:end="143:43"><name pos:start="143:21" pos:end="143:26"><name pos:start="143:21" pos:end="143:21">e</name><operator pos:start="143:22" pos:end="143:23">-&gt;</operator><name pos:start="143:24" pos:end="143:26">pos</name></name> <operator pos:start="143:28" pos:end="143:28">=</operator> <name pos:start="143:30" pos:end="143:43">current_offset</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="145:21" pos:end="145:47"><expr pos:start="145:21" pos:end="145:46"><name pos:start="145:21" pos:end="145:32"><name pos:start="145:21" pos:end="145:21">e</name><operator pos:start="145:22" pos:end="145:23">-&gt;</operator><name pos:start="145:24" pos:end="145:32">timestamp</name></name> <operator pos:start="145:34" pos:end="145:34">=</operator> <name pos:start="145:36" pos:end="145:46">current_dts</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="147:21" pos:end="147:42"><expr pos:start="147:21" pos:end="147:41"><name pos:start="147:21" pos:end="147:27"><name pos:start="147:21" pos:end="147:21">e</name><operator pos:start="147:22" pos:end="147:23">-&gt;</operator><name pos:start="147:24" pos:end="147:27">size</name></name> <operator pos:start="147:29" pos:end="147:29">=</operator> <name pos:start="147:31" pos:end="147:41">sample_size</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="149:21" pos:end="149:47"><expr pos:start="149:21" pos:end="149:46"><name pos:start="149:21" pos:end="149:35"><name pos:start="149:21" pos:end="149:21">e</name><operator pos:start="149:22" pos:end="149:23">-&gt;</operator><name pos:start="149:24" pos:end="149:35">min_distance</name></name> <operator pos:start="149:37" pos:end="149:37">=</operator> <name pos:start="149:39" pos:end="149:46">distance</name></expr>;</expr_stmt>

                    <expr_stmt pos:start="151:21" pos:end="151:63"><expr pos:start="151:21" pos:end="151:62"><name pos:start="151:21" pos:end="151:28"><name pos:start="151:21" pos:end="151:21">e</name><operator pos:start="151:22" pos:end="151:23">-&gt;</operator><name pos:start="151:24" pos:end="151:28">flags</name></name> <operator pos:start="151:30" pos:end="151:30">=</operator> <ternary pos:start="151:32" pos:end="151:62"><condition pos:start="151:32" pos:end="151:41"><expr pos:start="151:32" pos:end="151:39"><name pos:start="151:32" pos:end="151:39">keyframe</name></expr> ?</condition><then pos:start="151:43" pos:end="151:58"> <expr pos:start="151:43" pos:end="151:58"><name pos:start="151:43" pos:end="151:58">AVINDEX_KEYFRAME</name></expr> </then><else pos:start="151:60" pos:end="151:62">: <expr pos:start="151:62" pos:end="151:62"><literal type="number" pos:start="151:62" pos:end="151:62">0</literal></expr></else></ternary></expr>;</expr_stmt>

                    <expr_stmt pos:start="153:21" pos:end="157:90"><expr pos:start="153:21" pos:end="157:89"><call pos:start="153:21" pos:end="157:89"><name pos:start="153:21" pos:end="153:27">av_dlog</name><argument_list pos:start="153:28" pos:end="157:89">(<argument pos:start="153:29" pos:end="153:35"><expr pos:start="153:29" pos:end="153:35"><name pos:start="153:29" pos:end="153:35"><name pos:start="153:29" pos:end="153:31">mov</name><operator pos:start="153:32" pos:end="153:33">-&gt;</operator><name pos:start="153:34" pos:end="153:35">fc</name></name></expr></argument>, <argument pos:start="153:38" pos:end="155:65"><expr pos:start="153:38" pos:end="155:65"><literal type="string" pos:start="153:38" pos:end="153:77">"AVIndex stream %d, sample %d, offset %"</literal><name pos:start="153:78" pos:end="153:83">PRIx64</name><literal type="string" pos:start="153:84" pos:end="153:92">", dts %"</literal><name pos:start="153:93" pos:end="153:98">PRId64</name><literal type="string" pos:start="153:99" pos:end="153:102">", "</literal>

                            <literal type="string" pos:start="155:29" pos:end="155:65">"size %d, distance %d, keyframe %d\n"</literal></expr></argument>, <argument pos:start="155:68" pos:end="155:76"><expr pos:start="155:68" pos:end="155:76"><name pos:start="155:68" pos:end="155:76"><name pos:start="155:68" pos:end="155:69">st</name><operator pos:start="155:70" pos:end="155:71">-&gt;</operator><name pos:start="155:72" pos:end="155:76">index</name></name></expr></argument>, <argument pos:start="155:79" pos:end="155:92"><expr pos:start="155:79" pos:end="155:92"><name pos:start="155:79" pos:end="155:92">current_sample</name></expr></argument>,

                            <argument pos:start="157:29" pos:end="157:42"><expr pos:start="157:29" pos:end="157:42"><name pos:start="157:29" pos:end="157:42">current_offset</name></expr></argument>, <argument pos:start="157:45" pos:end="157:55"><expr pos:start="157:45" pos:end="157:55"><name pos:start="157:45" pos:end="157:55">current_dts</name></expr></argument>, <argument pos:start="157:58" pos:end="157:68"><expr pos:start="157:58" pos:end="157:68"><name pos:start="157:58" pos:end="157:68">sample_size</name></expr></argument>, <argument pos:start="157:71" pos:end="157:78"><expr pos:start="157:71" pos:end="157:78"><name pos:start="157:71" pos:end="157:78">distance</name></expr></argument>, <argument pos:start="157:81" pos:end="157:88"><expr pos:start="157:81" pos:end="157:88"><name pos:start="157:81" pos:end="157:88">keyframe</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>



                <expr_stmt pos:start="163:17" pos:end="163:46"><expr pos:start="163:17" pos:end="163:45"><name pos:start="163:17" pos:end="163:30">current_offset</name> <operator pos:start="163:32" pos:end="163:33">+=</operator> <name pos:start="163:35" pos:end="163:45">sample_size</name></expr>;</expr_stmt>

                <expr_stmt pos:start="165:17" pos:end="165:43"><expr pos:start="165:17" pos:end="165:42"><name pos:start="165:17" pos:end="165:27">stream_size</name> <operator pos:start="165:29" pos:end="165:30">+=</operator> <name pos:start="165:32" pos:end="165:42">sample_size</name></expr>;</expr_stmt>

                <expr_stmt pos:start="167:17" pos:end="167:66"><expr pos:start="167:17" pos:end="167:65"><name pos:start="167:17" pos:end="167:27">current_dts</name> <operator pos:start="167:29" pos:end="167:30">+=</operator> <name pos:start="167:32" pos:end="167:56"><name pos:start="167:32" pos:end="167:33">sc</name><operator pos:start="167:34" pos:end="167:35">-&gt;</operator><name pos:start="167:36" pos:end="167:44">stts_data</name><index pos:start="167:45" pos:end="167:56">[<expr pos:start="167:46" pos:end="167:55"><name pos:start="167:46" pos:end="167:55">stts_index</name></expr>]</index></name><operator pos:start="167:57" pos:end="167:57">.</operator><name pos:start="167:58" pos:end="167:65">duration</name></expr>;</expr_stmt>

                <expr_stmt pos:start="169:17" pos:end="169:27"><expr pos:start="169:17" pos:end="169:26"><name pos:start="169:17" pos:end="169:24">distance</name><operator pos:start="169:25" pos:end="169:26">++</operator></expr>;</expr_stmt>

                <expr_stmt pos:start="171:17" pos:end="171:30"><expr pos:start="171:17" pos:end="171:29"><name pos:start="171:17" pos:end="171:27">stts_sample</name><operator pos:start="171:28" pos:end="171:29">++</operator></expr>;</expr_stmt>

                <expr_stmt pos:start="173:17" pos:end="173:33"><expr pos:start="173:17" pos:end="173:32"><name pos:start="173:17" pos:end="173:30">current_sample</name><operator pos:start="173:31" pos:end="173:32">++</operator></expr>;</expr_stmt>

                <if_stmt pos:start="175:17" pos:end="181:17"><if pos:start="175:17" pos:end="181:17">if <condition pos:start="175:20" pos:end="175:102">(<expr pos:start="175:21" pos:end="175:101"><name pos:start="175:21" pos:end="175:30">stts_index</name> <operator pos:start="175:32" pos:end="175:32">+</operator> <literal type="number" pos:start="175:34" pos:end="175:34">1</literal> <operator pos:start="175:36" pos:end="175:36">&lt;</operator> <name pos:start="175:38" pos:end="175:51"><name pos:start="175:38" pos:end="175:39">sc</name><operator pos:start="175:40" pos:end="175:41">-&gt;</operator><name pos:start="175:42" pos:end="175:51">stts_count</name></name> <operator pos:start="175:53" pos:end="175:54">&amp;&amp;</operator> <name pos:start="175:56" pos:end="175:66">stts_sample</name> <operator pos:start="175:68" pos:end="175:69">==</operator> <name pos:start="175:71" pos:end="175:95"><name pos:start="175:71" pos:end="175:72">sc</name><operator pos:start="175:73" pos:end="175:74">-&gt;</operator><name pos:start="175:75" pos:end="175:83">stts_data</name><index pos:start="175:84" pos:end="175:95">[<expr pos:start="175:85" pos:end="175:94"><name pos:start="175:85" pos:end="175:94">stts_index</name></expr>]</index></name><operator pos:start="175:96" pos:end="175:96">.</operator><name pos:start="175:97" pos:end="175:101">count</name></expr>)</condition> <block pos:start="175:104" pos:end="181:17">{<block_content pos:start="177:21" pos:end="179:33">

                    <expr_stmt pos:start="177:21" pos:end="177:36"><expr pos:start="177:21" pos:end="177:35"><name pos:start="177:21" pos:end="177:31">stts_sample</name> <operator pos:start="177:33" pos:end="177:33">=</operator> <literal type="number" pos:start="177:35" pos:end="177:35">0</literal></expr>;</expr_stmt>

                    <expr_stmt pos:start="179:21" pos:end="179:33"><expr pos:start="179:21" pos:end="179:32"><name pos:start="179:21" pos:end="179:30">stts_index</name><operator pos:start="179:31" pos:end="179:32">++</operator></expr>;</expr_stmt>

                </block_content>}</block></if></if_stmt>

            </block_content>}</block></for>

        </block_content>}</block></for>

        <if_stmt pos:start="187:9" pos:end="189:76"><if pos:start="187:9" pos:end="189:76">if <condition pos:start="187:12" pos:end="187:29">(<expr pos:start="187:13" pos:end="187:28"><name pos:start="187:13" pos:end="187:24"><name pos:start="187:13" pos:end="187:14">st</name><operator pos:start="187:15" pos:end="187:16">-&gt;</operator><name pos:start="187:17" pos:end="187:24">duration</name></name> <operator pos:start="187:26" pos:end="187:26">&gt;</operator> <literal type="number" pos:start="187:28" pos:end="187:28">0</literal></expr>)</condition><block type="pseudo" pos:start="189:13" pos:end="189:76"><block_content pos:start="189:13" pos:end="189:76">

            <expr_stmt pos:start="189:13" pos:end="189:76"><expr pos:start="189:13" pos:end="189:75"><name pos:start="189:13" pos:end="189:31"><name pos:start="189:13" pos:end="189:14">st</name><operator pos:start="189:15" pos:end="189:16">-&gt;</operator><name pos:start="189:17" pos:end="189:21">codec</name><operator pos:start="189:22" pos:end="189:23">-&gt;</operator><name pos:start="189:24" pos:end="189:31">bit_rate</name></name> <operator pos:start="189:33" pos:end="189:33">=</operator> <name pos:start="189:35" pos:end="189:45">stream_size</name><operator pos:start="189:46" pos:end="189:46">*</operator><literal type="number" pos:start="189:47" pos:end="189:47">8</literal><operator pos:start="189:48" pos:end="189:48">*</operator><name pos:start="189:49" pos:end="189:62"><name pos:start="189:49" pos:end="189:50">sc</name><operator pos:start="189:51" pos:end="189:52">-&gt;</operator><name pos:start="189:53" pos:end="189:62">time_scale</name></name><operator pos:start="189:63" pos:end="189:63">/</operator><name pos:start="189:64" pos:end="189:75"><name pos:start="189:64" pos:end="189:65">st</name><operator pos:start="189:66" pos:end="189:67">-&gt;</operator><name pos:start="189:68" pos:end="189:75">duration</name></name></expr>;</expr_stmt></block_content></block></if></if_stmt>

    </block_content>}</block></if> <else pos:start="191:7" pos:end="355:5">else <block pos:start="191:12" pos:end="355:5">{<block_content pos:start="193:9" pos:end="353:9">

        <decl_stmt pos:start="193:9" pos:end="193:42"><decl pos:start="193:9" pos:end="193:30"><type pos:start="193:9" pos:end="193:16"><name pos:start="193:9" pos:end="193:16">unsigned</name></type> <name pos:start="193:18" pos:end="193:30">chunk_samples</name></decl>, <decl pos:start="193:33" pos:end="193:41"><type ref="prev" pos:start="193:9" pos:end="193:16"/><name pos:start="193:33" pos:end="193:37">total</name> <init pos:start="193:39" pos:end="193:41">= <expr pos:start="193:41" pos:end="193:41"><literal type="number" pos:start="193:41" pos:end="193:41">0</literal></expr></init></decl>;</decl_stmt>



        <comment type="line" pos:start="197:9" pos:end="197:36">// compute total chunk count</comment>

        <for pos:start="199:9" pos:end="245:9">for <control pos:start="199:13" pos:end="199:44">(<init pos:start="199:14" pos:end="199:19"><expr pos:start="199:14" pos:end="199:18"><name pos:start="199:14" pos:end="199:14">i</name> <operator pos:start="199:16" pos:end="199:16">=</operator> <literal type="number" pos:start="199:18" pos:end="199:18">0</literal></expr>;</init> <condition pos:start="199:21" pos:end="199:39"><expr pos:start="199:21" pos:end="199:38"><name pos:start="199:21" pos:end="199:21">i</name> <operator pos:start="199:23" pos:end="199:23">&lt;</operator> <name pos:start="199:25" pos:end="199:38"><name pos:start="199:25" pos:end="199:26">sc</name><operator pos:start="199:27" pos:end="199:28">-&gt;</operator><name pos:start="199:29" pos:end="199:38">stsc_count</name></name></expr>;</condition> <incr pos:start="199:41" pos:end="199:43"><expr pos:start="199:41" pos:end="199:43"><name pos:start="199:41" pos:end="199:41">i</name><operator pos:start="199:42" pos:end="199:43">++</operator></expr></incr>)</control> <block pos:start="199:46" pos:end="245:9">{<block_content pos:start="201:13" pos:end="243:41">

            <decl_stmt pos:start="201:13" pos:end="201:40"><decl pos:start="201:13" pos:end="201:26"><type pos:start="201:13" pos:end="201:20"><name pos:start="201:13" pos:end="201:20">unsigned</name></type> <name pos:start="201:22" pos:end="201:26">count</name></decl>, <decl pos:start="201:29" pos:end="201:39"><type ref="prev" pos:start="201:13" pos:end="201:20"/><name pos:start="201:29" pos:end="201:39">chunk_count</name></decl>;</decl_stmt>



            <expr_stmt pos:start="205:13" pos:end="205:51"><expr pos:start="205:13" pos:end="205:50"><name pos:start="205:13" pos:end="205:25">chunk_samples</name> <operator pos:start="205:27" pos:end="205:27">=</operator> <name pos:start="205:29" pos:end="205:44"><name pos:start="205:29" pos:end="205:30">sc</name><operator pos:start="205:31" pos:end="205:32">-&gt;</operator><name pos:start="205:33" pos:end="205:41">stsc_data</name><index pos:start="205:42" pos:end="205:44">[<expr pos:start="205:43" pos:end="205:43"><name pos:start="205:43" pos:end="205:43">i</name></expr>]</index></name><operator pos:start="205:45" pos:end="205:45">.</operator><name pos:start="205:46" pos:end="205:50">count</name></expr>;</expr_stmt>

            <if_stmt pos:start="207:13" pos:end="213:13"><if pos:start="207:13" pos:end="213:13">if <condition pos:start="207:16" pos:end="207:79">(<expr pos:start="207:17" pos:end="207:78"><name pos:start="207:17" pos:end="207:37"><name pos:start="207:17" pos:end="207:18">sc</name><operator pos:start="207:19" pos:end="207:20">-&gt;</operator><name pos:start="207:21" pos:end="207:37">samples_per_frame</name></name> <operator pos:start="207:39" pos:end="207:40">&amp;&amp;</operator> <name pos:start="207:42" pos:end="207:54">chunk_samples</name> <operator pos:start="207:56" pos:end="207:56">%</operator> <name pos:start="207:58" pos:end="207:78"><name pos:start="207:58" pos:end="207:59">sc</name><operator pos:start="207:60" pos:end="207:61">-&gt;</operator><name pos:start="207:62" pos:end="207:78">samples_per_frame</name></name></expr>)</condition> <block pos:start="207:81" pos:end="213:13">{<block_content pos:start="209:17" pos:end="211:23">

                <expr_stmt pos:start="209:17" pos:end="209:73"><expr pos:start="209:17" pos:end="209:72"><call pos:start="209:17" pos:end="209:72"><name pos:start="209:17" pos:end="209:22">av_log</name><argument_list pos:start="209:23" pos:end="209:72">(<argument pos:start="209:24" pos:end="209:30"><expr pos:start="209:24" pos:end="209:30"><name pos:start="209:24" pos:end="209:30"><name pos:start="209:24" pos:end="209:26">mov</name><operator pos:start="209:27" pos:end="209:28">-&gt;</operator><name pos:start="209:29" pos:end="209:30">fc</name></name></expr></argument>, <argument pos:start="209:33" pos:end="209:44"><expr pos:start="209:33" pos:end="209:44"><name pos:start="209:33" pos:end="209:44">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="209:47" pos:end="209:71"><expr pos:start="209:47" pos:end="209:71"><literal type="string" pos:start="209:47" pos:end="209:71">"error unaligned chunk\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <return pos:start="211:17" pos:end="211:23">return;</return>

            </block_content>}</block></if></if_stmt>



            <if_stmt pos:start="217:13" pos:end="231:13"><if pos:start="217:13" pos:end="221:13">if <condition pos:start="217:16" pos:end="217:45">(<expr pos:start="217:17" pos:end="217:44"><name pos:start="217:17" pos:end="217:37"><name pos:start="217:17" pos:end="217:18">sc</name><operator pos:start="217:19" pos:end="217:20">-&gt;</operator><name pos:start="217:21" pos:end="217:37">samples_per_frame</name></name> <operator pos:start="217:39" pos:end="217:40">&gt;=</operator> <literal type="number" pos:start="217:42" pos:end="217:44">160</literal></expr>)</condition> <block pos:start="217:47" pos:end="221:13">{<block_content pos:start="219:17" pos:end="219:62"> <comment type="line" pos:start="217:49" pos:end="217:54">// gsm</comment>

                <expr_stmt pos:start="219:17" pos:end="219:62"><expr pos:start="219:17" pos:end="219:61"><name pos:start="219:17" pos:end="219:21">count</name> <operator pos:start="219:23" pos:end="219:23">=</operator> <name pos:start="219:25" pos:end="219:37">chunk_samples</name> <operator pos:start="219:39" pos:end="219:39">/</operator> <name pos:start="219:41" pos:end="219:61"><name pos:start="219:41" pos:end="219:42">sc</name><operator pos:start="219:43" pos:end="219:44">-&gt;</operator><name pos:start="219:45" pos:end="219:61">samples_per_frame</name></name></expr>;</expr_stmt>

            </block_content>}</block></if> <if type="elseif" pos:start="221:15" pos:end="227:13">else if <condition pos:start="221:23" pos:end="221:49">(<expr pos:start="221:24" pos:end="221:48"><name pos:start="221:24" pos:end="221:44"><name pos:start="221:24" pos:end="221:25">sc</name><operator pos:start="221:26" pos:end="221:27">-&gt;</operator><name pos:start="221:28" pos:end="221:44">samples_per_frame</name></name> <operator pos:start="221:46" pos:end="221:46">&gt;</operator> <literal type="number" pos:start="221:48" pos:end="221:48">1</literal></expr>)</condition> <block pos:start="221:51" pos:end="227:13">{<block_content pos:start="223:17" pos:end="225:60">

                <decl_stmt pos:start="223:17" pos:end="223:86"><decl pos:start="223:17" pos:end="223:85"><type pos:start="223:17" pos:end="223:24"><name pos:start="223:17" pos:end="223:24">unsigned</name></type> <name pos:start="223:26" pos:end="223:32">samples</name> <init pos:start="223:34" pos:end="223:85">= <expr pos:start="223:36" pos:end="223:85"><operator pos:start="223:36" pos:end="223:36">(</operator><literal type="number" pos:start="223:37" pos:end="223:40">1024</literal><operator pos:start="223:41" pos:end="223:41">/</operator><name pos:start="223:42" pos:end="223:62"><name pos:start="223:42" pos:end="223:43">sc</name><operator pos:start="223:44" pos:end="223:45">-&gt;</operator><name pos:start="223:46" pos:end="223:62">samples_per_frame</name></name><operator pos:start="223:63" pos:end="223:63">)</operator><operator pos:start="223:64" pos:end="223:64">*</operator><name pos:start="223:65" pos:end="223:85"><name pos:start="223:65" pos:end="223:66">sc</name><operator pos:start="223:67" pos:end="223:68">-&gt;</operator><name pos:start="223:69" pos:end="223:85">samples_per_frame</name></name></expr></init></decl>;</decl_stmt>

                <expr_stmt pos:start="225:17" pos:end="225:60"><expr pos:start="225:17" pos:end="225:59"><name pos:start="225:17" pos:end="225:21">count</name> <operator pos:start="225:23" pos:end="225:23">=</operator> <operator pos:start="225:25" pos:end="225:25">(</operator><name pos:start="225:26" pos:end="225:38">chunk_samples</name><operator pos:start="225:39" pos:end="225:39">+</operator><name pos:start="225:40" pos:end="225:46">samples</name><operator pos:start="225:47" pos:end="225:47">-</operator><literal type="number" pos:start="225:48" pos:end="225:48">1</literal><operator pos:start="225:49" pos:end="225:49">)</operator> <operator pos:start="225:51" pos:end="225:51">/</operator> <name pos:start="225:53" pos:end="225:59">samples</name></expr>;</expr_stmt>

            </block_content>}</block></if> <else pos:start="227:15" pos:end="231:13">else <block pos:start="227:20" pos:end="231:13">{<block_content pos:start="229:17" pos:end="229:52">

                <expr_stmt pos:start="229:17" pos:end="229:52"><expr pos:start="229:17" pos:end="229:51"><name pos:start="229:17" pos:end="229:21">count</name> <operator pos:start="229:23" pos:end="229:23">=</operator> <operator pos:start="229:25" pos:end="229:25">(</operator><name pos:start="229:26" pos:end="229:38">chunk_samples</name><operator pos:start="229:39" pos:end="229:39">+</operator><literal type="number" pos:start="229:40" pos:end="229:43">1023</literal><operator pos:start="229:44" pos:end="229:44">)</operator> <operator pos:start="229:46" pos:end="229:46">/</operator> <literal type="number" pos:start="229:48" pos:end="229:51">1024</literal></expr>;</expr_stmt>

            </block_content>}</block></else></if_stmt>



            <if_stmt pos:start="235:13" pos:end="241:77"><if pos:start="235:13" pos:end="237:80">if <condition pos:start="235:16" pos:end="235:39">(<expr pos:start="235:17" pos:end="235:38"><name pos:start="235:17" pos:end="235:17">i</name> <operator pos:start="235:19" pos:end="235:19">&lt;</operator> <name pos:start="235:21" pos:end="235:34"><name pos:start="235:21" pos:end="235:22">sc</name><operator pos:start="235:23" pos:end="235:24">-&gt;</operator><name pos:start="235:25" pos:end="235:34">stsc_count</name></name> <operator pos:start="235:36" pos:end="235:36">-</operator> <literal type="number" pos:start="235:38" pos:end="235:38">1</literal></expr>)</condition><block type="pseudo" pos:start="237:17" pos:end="237:80"><block_content pos:start="237:17" pos:end="237:80">

                <expr_stmt pos:start="237:17" pos:end="237:80"><expr pos:start="237:17" pos:end="237:79"><name pos:start="237:17" pos:end="237:27">chunk_count</name> <operator pos:start="237:29" pos:end="237:29">=</operator> <name pos:start="237:31" pos:end="237:48"><name pos:start="237:31" pos:end="237:32">sc</name><operator pos:start="237:33" pos:end="237:34">-&gt;</operator><name pos:start="237:35" pos:end="237:43">stsc_data</name><index pos:start="237:44" pos:end="237:48">[<expr pos:start="237:45" pos:end="237:47"><name pos:start="237:45" pos:end="237:45">i</name><operator pos:start="237:46" pos:end="237:46">+</operator><literal type="number" pos:start="237:47" pos:end="237:47">1</literal></expr>]</index></name><operator pos:start="237:49" pos:end="237:49">.</operator><name pos:start="237:50" pos:end="237:54">first</name> <operator pos:start="237:56" pos:end="237:56">-</operator> <name pos:start="237:58" pos:end="237:73"><name pos:start="237:58" pos:end="237:59">sc</name><operator pos:start="237:60" pos:end="237:61">-&gt;</operator><name pos:start="237:62" pos:end="237:70">stsc_data</name><index pos:start="237:71" pos:end="237:73">[<expr pos:start="237:72" pos:end="237:72"><name pos:start="237:72" pos:end="237:72">i</name></expr>]</index></name><operator pos:start="237:74" pos:end="237:74">.</operator><name pos:start="237:75" pos:end="237:79">first</name></expr>;</expr_stmt></block_content></block></if>

            <else pos:start="239:13" pos:end="241:77">else<block type="pseudo" pos:start="241:17" pos:end="241:77"><block_content pos:start="241:17" pos:end="241:77">

                <expr_stmt pos:start="241:17" pos:end="241:77"><expr pos:start="241:17" pos:end="241:76"><name pos:start="241:17" pos:end="241:27">chunk_count</name> <operator pos:start="241:29" pos:end="241:29">=</operator> <name pos:start="241:31" pos:end="241:45"><name pos:start="241:31" pos:end="241:32">sc</name><operator pos:start="241:33" pos:end="241:34">-&gt;</operator><name pos:start="241:35" pos:end="241:45">chunk_count</name></name> <operator pos:start="241:47" pos:end="241:47">-</operator> <operator pos:start="241:49" pos:end="241:49">(</operator><name pos:start="241:50" pos:end="241:65"><name pos:start="241:50" pos:end="241:51">sc</name><operator pos:start="241:52" pos:end="241:53">-&gt;</operator><name pos:start="241:54" pos:end="241:62">stsc_data</name><index pos:start="241:63" pos:end="241:65">[<expr pos:start="241:64" pos:end="241:64"><name pos:start="241:64" pos:end="241:64">i</name></expr>]</index></name><operator pos:start="241:66" pos:end="241:66">.</operator><name pos:start="241:67" pos:end="241:71">first</name> <operator pos:start="241:73" pos:end="241:73">-</operator> <literal type="number" pos:start="241:75" pos:end="241:75">1</literal><operator pos:start="241:76" pos:end="241:76">)</operator></expr>;</expr_stmt></block_content></block></else></if_stmt>

            <expr_stmt pos:start="243:13" pos:end="243:41"><expr pos:start="243:13" pos:end="243:40"><name pos:start="243:13" pos:end="243:17">total</name> <operator pos:start="243:19" pos:end="243:20">+=</operator> <name pos:start="243:22" pos:end="243:32">chunk_count</name> <operator pos:start="243:34" pos:end="243:34">*</operator> <name pos:start="243:36" pos:end="243:40">count</name></expr>;</expr_stmt>

        </block_content>}</block></for>



        <expr_stmt pos:start="249:9" pos:end="249:52"><expr pos:start="249:9" pos:end="249:51"><call pos:start="249:9" pos:end="249:51"><name pos:start="249:9" pos:end="249:15">av_dlog</name><argument_list pos:start="249:16" pos:end="249:51">(<argument pos:start="249:17" pos:end="249:23"><expr pos:start="249:17" pos:end="249:23"><name pos:start="249:17" pos:end="249:23"><name pos:start="249:17" pos:end="249:19">mov</name><operator pos:start="249:20" pos:end="249:21">-&gt;</operator><name pos:start="249:22" pos:end="249:23">fc</name></name></expr></argument>, <argument pos:start="249:26" pos:end="249:43"><expr pos:start="249:26" pos:end="249:43"><literal type="string" pos:start="249:26" pos:end="249:43">"chunk count %d\n"</literal></expr></argument>, <argument pos:start="249:46" pos:end="249:50"><expr pos:start="249:46" pos:end="249:50"><name pos:start="249:46" pos:end="249:50">total</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="251:9" pos:end="253:19"><if pos:start="251:9" pos:end="253:19">if <condition pos:start="251:12" pos:end="251:59">(<expr pos:start="251:13" pos:end="251:58"><name pos:start="251:13" pos:end="251:17">total</name> <operator pos:start="251:19" pos:end="251:20">&gt;=</operator> <name pos:start="251:22" pos:end="251:29">UINT_MAX</name> <operator pos:start="251:31" pos:end="251:31">/</operator> <sizeof pos:start="251:33" pos:end="251:58">sizeof<argument_list pos:start="251:39" pos:end="251:58">(<argument pos:start="251:40" pos:end="251:57"><expr pos:start="251:40" pos:end="251:57"><operator pos:start="251:40" pos:end="251:40">*</operator><name pos:start="251:41" pos:end="251:57"><name pos:start="251:41" pos:end="251:42">st</name><operator pos:start="251:43" pos:end="251:44">-&gt;</operator><name pos:start="251:45" pos:end="251:57">index_entries</name></name></expr></argument>)</argument_list></sizeof></expr>)</condition><block type="pseudo" pos:start="253:13" pos:end="253:19"><block_content pos:start="253:13" pos:end="253:19">

            <return pos:start="253:13" pos:end="253:19">return;</return></block_content></block></if></if_stmt>

        <expr_stmt pos:start="255:9" pos:end="255:72"><expr pos:start="255:9" pos:end="255:71"><name pos:start="255:9" pos:end="255:25"><name pos:start="255:9" pos:end="255:10">st</name><operator pos:start="255:11" pos:end="255:12">-&gt;</operator><name pos:start="255:13" pos:end="255:25">index_entries</name></name> <operator pos:start="255:27" pos:end="255:27">=</operator> <call pos:start="255:29" pos:end="255:71"><name pos:start="255:29" pos:end="255:37">av_malloc</name><argument_list pos:start="255:38" pos:end="255:71">(<argument pos:start="255:39" pos:end="255:70"><expr pos:start="255:39" pos:end="255:70"><name pos:start="255:39" pos:end="255:43">total</name><operator pos:start="255:44" pos:end="255:44">*</operator><sizeof pos:start="255:45" pos:end="255:70">sizeof<argument_list pos:start="255:51" pos:end="255:70">(<argument pos:start="255:52" pos:end="255:69"><expr pos:start="255:52" pos:end="255:69"><operator pos:start="255:52" pos:end="255:52">*</operator><name pos:start="255:53" pos:end="255:69"><name pos:start="255:53" pos:end="255:54">st</name><operator pos:start="255:55" pos:end="255:56">-&gt;</operator><name pos:start="255:57" pos:end="255:69">index_entries</name></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="257:9" pos:end="259:19"><if pos:start="257:9" pos:end="259:19">if <condition pos:start="257:12" pos:end="257:31">(<expr pos:start="257:13" pos:end="257:30"><operator pos:start="257:13" pos:end="257:13">!</operator><name pos:start="257:14" pos:end="257:30"><name pos:start="257:14" pos:end="257:15">st</name><operator pos:start="257:16" pos:end="257:17">-&gt;</operator><name pos:start="257:18" pos:end="257:30">index_entries</name></name></expr>)</condition><block type="pseudo" pos:start="259:13" pos:end="259:19"><block_content pos:start="259:13" pos:end="259:19">

            <return pos:start="259:13" pos:end="259:19">return;</return></block_content></block></if></if_stmt>

        <expr_stmt pos:start="261:9" pos:end="261:76"><expr pos:start="261:9" pos:end="261:75"><name pos:start="261:9" pos:end="261:40"><name pos:start="261:9" pos:end="261:10">st</name><operator pos:start="261:11" pos:end="261:12">-&gt;</operator><name pos:start="261:13" pos:end="261:40">index_entries_allocated_size</name></name> <operator pos:start="261:42" pos:end="261:42">=</operator> <name pos:start="261:44" pos:end="261:48">total</name><operator pos:start="261:49" pos:end="261:49">*</operator><sizeof pos:start="261:50" pos:end="261:75">sizeof<argument_list pos:start="261:56" pos:end="261:75">(<argument pos:start="261:57" pos:end="261:74"><expr pos:start="261:57" pos:end="261:74"><operator pos:start="261:57" pos:end="261:57">*</operator><name pos:start="261:58" pos:end="261:74"><name pos:start="261:58" pos:end="261:59">st</name><operator pos:start="261:60" pos:end="261:61">-&gt;</operator><name pos:start="261:62" pos:end="261:74">index_entries</name></name></expr></argument>)</argument_list></sizeof></expr>;</expr_stmt>



        <comment type="line" pos:start="265:9" pos:end="265:25">// populate index</comment>

        <for pos:start="267:9" pos:end="353:9">for <control pos:start="267:13" pos:end="267:45">(<init pos:start="267:14" pos:end="267:19"><expr pos:start="267:14" pos:end="267:18"><name pos:start="267:14" pos:end="267:14">i</name> <operator pos:start="267:16" pos:end="267:16">=</operator> <literal type="number" pos:start="267:18" pos:end="267:18">0</literal></expr>;</init> <condition pos:start="267:21" pos:end="267:40"><expr pos:start="267:21" pos:end="267:39"><name pos:start="267:21" pos:end="267:21">i</name> <operator pos:start="267:23" pos:end="267:23">&lt;</operator> <name pos:start="267:25" pos:end="267:39"><name pos:start="267:25" pos:end="267:26">sc</name><operator pos:start="267:27" pos:end="267:28">-&gt;</operator><name pos:start="267:29" pos:end="267:39">chunk_count</name></name></expr>;</condition> <incr pos:start="267:42" pos:end="267:44"><expr pos:start="267:42" pos:end="267:44"><name pos:start="267:42" pos:end="267:42">i</name><operator pos:start="267:43" pos:end="267:44">++</operator></expr></incr>)</control> <block pos:start="267:47" pos:end="353:9">{<block_content pos:start="269:13" pos:end="351:13">

            <expr_stmt pos:start="269:13" pos:end="269:50"><expr pos:start="269:13" pos:end="269:49"><name pos:start="269:13" pos:end="269:26">current_offset</name> <operator pos:start="269:28" pos:end="269:28">=</operator> <name pos:start="269:30" pos:end="269:49"><name pos:start="269:30" pos:end="269:31">sc</name><operator pos:start="269:32" pos:end="269:33">-&gt;</operator><name pos:start="269:34" pos:end="269:46">chunk_offsets</name><index pos:start="269:47" pos:end="269:49">[<expr pos:start="269:48" pos:end="269:48"><name pos:start="269:48" pos:end="269:48">i</name></expr>]</index></name></expr>;</expr_stmt>

            <if_stmt pos:start="271:13" pos:end="275:29"><if pos:start="271:13" pos:end="275:29">if <condition pos:start="271:16" pos:end="273:61">(<expr pos:start="271:17" pos:end="273:60"><name pos:start="271:17" pos:end="271:26">stsc_index</name> <operator pos:start="271:28" pos:end="271:28">+</operator> <literal type="number" pos:start="271:30" pos:end="271:30">1</literal> <operator pos:start="271:32" pos:end="271:32">&lt;</operator> <name pos:start="271:34" pos:end="271:47"><name pos:start="271:34" pos:end="271:35">sc</name><operator pos:start="271:36" pos:end="271:37">-&gt;</operator><name pos:start="271:38" pos:end="271:47">stsc_count</name></name> <operator pos:start="271:49" pos:end="271:50">&amp;&amp;</operator>

                <name pos:start="273:17" pos:end="273:17">i</name> <operator pos:start="273:19" pos:end="273:19">+</operator> <literal type="number" pos:start="273:21" pos:end="273:21">1</literal> <operator pos:start="273:23" pos:end="273:24">==</operator> <name pos:start="273:26" pos:end="273:54"><name pos:start="273:26" pos:end="273:27">sc</name><operator pos:start="273:28" pos:end="273:29">-&gt;</operator><name pos:start="273:30" pos:end="273:38">stsc_data</name><index pos:start="273:39" pos:end="273:54">[<expr pos:start="273:40" pos:end="273:53"><name pos:start="273:40" pos:end="273:49">stsc_index</name> <operator pos:start="273:51" pos:end="273:51">+</operator> <literal type="number" pos:start="273:53" pos:end="273:53">1</literal></expr>]</index></name><operator pos:start="273:55" pos:end="273:55">.</operator><name pos:start="273:56" pos:end="273:60">first</name></expr>)</condition><block type="pseudo" pos:start="275:17" pos:end="275:29"><block_content pos:start="275:17" pos:end="275:29">

                <expr_stmt pos:start="275:17" pos:end="275:29"><expr pos:start="275:17" pos:end="275:28"><name pos:start="275:17" pos:end="275:26">stsc_index</name><operator pos:start="275:27" pos:end="275:28">++</operator></expr>;</expr_stmt></block_content></block></if></if_stmt>

            <expr_stmt pos:start="277:13" pos:end="277:60"><expr pos:start="277:13" pos:end="277:59"><name pos:start="277:13" pos:end="277:25">chunk_samples</name> <operator pos:start="277:27" pos:end="277:27">=</operator> <name pos:start="277:29" pos:end="277:53"><name pos:start="277:29" pos:end="277:30">sc</name><operator pos:start="277:31" pos:end="277:32">-&gt;</operator><name pos:start="277:33" pos:end="277:41">stsc_data</name><index pos:start="277:42" pos:end="277:53">[<expr pos:start="277:43" pos:end="277:52"><name pos:start="277:43" pos:end="277:52">stsc_index</name></expr>]</index></name><operator pos:start="277:54" pos:end="277:54">.</operator><name pos:start="277:55" pos:end="277:59">count</name></expr>;</expr_stmt>



            <while pos:start="281:13" pos:end="351:13">while <condition pos:start="281:19" pos:end="281:37">(<expr pos:start="281:20" pos:end="281:36"><name pos:start="281:20" pos:end="281:32">chunk_samples</name> <operator pos:start="281:34" pos:end="281:34">&gt;</operator> <literal type="number" pos:start="281:36" pos:end="281:36">0</literal></expr>)</condition> <block pos:start="281:39" pos:end="351:13">{<block_content pos:start="283:17" pos:end="349:41">

                <decl_stmt pos:start="283:17" pos:end="283:32"><decl pos:start="283:17" pos:end="283:31"><type pos:start="283:17" pos:end="283:30"><name pos:start="283:17" pos:end="283:28">AVIndexEntry</name> <modifier pos:start="283:30" pos:end="283:30">*</modifier></type><name pos:start="283:31" pos:end="283:31">e</name></decl>;</decl_stmt>

                <decl_stmt pos:start="285:17" pos:end="285:39"><decl pos:start="285:17" pos:end="285:29"><type pos:start="285:17" pos:end="285:24"><name pos:start="285:17" pos:end="285:24">unsigned</name></type> <name pos:start="285:26" pos:end="285:29">size</name></decl>, <decl pos:start="285:32" pos:end="285:38"><type ref="prev" pos:start="285:17" pos:end="285:24"/><name pos:start="285:32" pos:end="285:38">samples</name></decl>;</decl_stmt>



                <if_stmt pos:start="289:17" pos:end="313:17"><if pos:start="289:17" pos:end="295:17">if <condition pos:start="289:20" pos:end="289:49">(<expr pos:start="289:21" pos:end="289:48"><name pos:start="289:21" pos:end="289:41"><name pos:start="289:21" pos:end="289:22">sc</name><operator pos:start="289:23" pos:end="289:24">-&gt;</operator><name pos:start="289:25" pos:end="289:41">samples_per_frame</name></name> <operator pos:start="289:43" pos:end="289:44">&gt;=</operator> <literal type="number" pos:start="289:46" pos:end="289:48">160</literal></expr>)</condition> <block pos:start="289:51" pos:end="295:17">{<block_content pos:start="291:21" pos:end="293:47"> <comment type="line" pos:start="289:53" pos:end="289:58">// gsm</comment>

                    <expr_stmt pos:start="291:21" pos:end="291:52"><expr pos:start="291:21" pos:end="291:51"><name pos:start="291:21" pos:end="291:27">samples</name> <operator pos:start="291:29" pos:end="291:29">=</operator> <name pos:start="291:31" pos:end="291:51"><name pos:start="291:31" pos:end="291:32">sc</name><operator pos:start="291:33" pos:end="291:34">-&gt;</operator><name pos:start="291:35" pos:end="291:51">samples_per_frame</name></name></expr>;</expr_stmt>

                    <expr_stmt pos:start="293:21" pos:end="293:47"><expr pos:start="293:21" pos:end="293:46"><name pos:start="293:21" pos:end="293:24">size</name> <operator pos:start="293:26" pos:end="293:26">=</operator> <name pos:start="293:28" pos:end="293:46"><name pos:start="293:28" pos:end="293:29">sc</name><operator pos:start="293:30" pos:end="293:31">-&gt;</operator><name pos:start="293:32" pos:end="293:46">bytes_per_frame</name></name></expr>;</expr_stmt>

                </block_content>}</block></if> <else pos:start="295:19" pos:end="313:17">else <block pos:start="295:24" pos:end="313:17">{<block_content pos:start="297:21" pos:end="311:21">

                    <if_stmt pos:start="297:21" pos:end="311:21"><if pos:start="297:21" pos:end="305:21">if <condition pos:start="297:24" pos:end="297:50">(<expr pos:start="297:25" pos:end="297:49"><name pos:start="297:25" pos:end="297:45"><name pos:start="297:25" pos:end="297:26">sc</name><operator pos:start="297:27" pos:end="297:28">-&gt;</operator><name pos:start="297:29" pos:end="297:45">samples_per_frame</name></name> <operator pos:start="297:47" pos:end="297:47">&gt;</operator> <literal type="number" pos:start="297:49" pos:end="297:49">1</literal></expr>)</condition> <block pos:start="297:52" pos:end="305:21">{<block_content pos:start="299:25" pos:end="303:87">

                        <expr_stmt pos:start="299:25" pos:end="301:78"><expr pos:start="299:25" pos:end="301:77"><name pos:start="299:25" pos:end="299:31">samples</name> <operator pos:start="299:33" pos:end="299:33">=</operator> <call pos:start="299:35" pos:end="301:77"><name pos:start="299:35" pos:end="299:39">FFMIN</name><argument_list pos:start="299:40" pos:end="301:77">(<argument pos:start="299:41" pos:end="301:61"><expr pos:start="299:41" pos:end="301:61"><operator pos:start="299:41" pos:end="299:41">(</operator><literal type="number" pos:start="299:42" pos:end="299:45">1024</literal> <operator pos:start="299:47" pos:end="299:47">/</operator> <name pos:start="299:49" pos:end="299:69"><name pos:start="299:49" pos:end="299:50">sc</name><operator pos:start="299:51" pos:end="299:52">-&gt;</operator><name pos:start="299:53" pos:end="299:69">samples_per_frame</name></name><operator pos:start="299:70" pos:end="299:70">)</operator><operator pos:start="299:71" pos:end="299:71">*</operator>

                                        <name pos:start="301:41" pos:end="301:61"><name pos:start="301:41" pos:end="301:42">sc</name><operator pos:start="301:43" pos:end="301:44">-&gt;</operator><name pos:start="301:45" pos:end="301:61">samples_per_frame</name></name></expr></argument>, <argument pos:start="301:64" pos:end="301:76"><expr pos:start="301:64" pos:end="301:76"><name pos:start="301:64" pos:end="301:76">chunk_samples</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                        <expr_stmt pos:start="303:25" pos:end="303:87"><expr pos:start="303:25" pos:end="303:86"><name pos:start="303:25" pos:end="303:28">size</name> <operator pos:start="303:30" pos:end="303:30">=</operator> <operator pos:start="303:32" pos:end="303:32">(</operator><name pos:start="303:33" pos:end="303:39">samples</name> <operator pos:start="303:41" pos:end="303:41">/</operator> <name pos:start="303:43" pos:end="303:63"><name pos:start="303:43" pos:end="303:44">sc</name><operator pos:start="303:45" pos:end="303:46">-&gt;</operator><name pos:start="303:47" pos:end="303:63">samples_per_frame</name></name><operator pos:start="303:64" pos:end="303:64">)</operator> <operator pos:start="303:66" pos:end="303:66">*</operator> <name pos:start="303:68" pos:end="303:86"><name pos:start="303:68" pos:end="303:69">sc</name><operator pos:start="303:70" pos:end="303:71">-&gt;</operator><name pos:start="303:72" pos:end="303:86">bytes_per_frame</name></name></expr>;</expr_stmt>

                    </block_content>}</block></if> <else pos:start="305:23" pos:end="311:21">else <block pos:start="305:28" pos:end="311:21">{<block_content pos:start="307:25" pos:end="309:57">

                        <expr_stmt pos:start="307:25" pos:end="307:61"><expr pos:start="307:25" pos:end="307:60"><name pos:start="307:25" pos:end="307:31">samples</name> <operator pos:start="307:33" pos:end="307:33">=</operator> <call pos:start="307:35" pos:end="307:60"><name pos:start="307:35" pos:end="307:39">FFMIN</name><argument_list pos:start="307:40" pos:end="307:60">(<argument pos:start="307:41" pos:end="307:44"><expr pos:start="307:41" pos:end="307:44"><literal type="number" pos:start="307:41" pos:end="307:44">1024</literal></expr></argument>, <argument pos:start="307:47" pos:end="307:59"><expr pos:start="307:47" pos:end="307:59"><name pos:start="307:47" pos:end="307:59">chunk_samples</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                        <expr_stmt pos:start="309:25" pos:end="309:57"><expr pos:start="309:25" pos:end="309:56"><name pos:start="309:25" pos:end="309:28">size</name> <operator pos:start="309:30" pos:end="309:30">=</operator> <name pos:start="309:32" pos:end="309:38">samples</name> <operator pos:start="309:40" pos:end="309:40">*</operator> <name pos:start="309:42" pos:end="309:56"><name pos:start="309:42" pos:end="309:43">sc</name><operator pos:start="309:44" pos:end="309:45">-&gt;</operator><name pos:start="309:46" pos:end="309:56">sample_size</name></name></expr>;</expr_stmt>

                    </block_content>}</block></else></if_stmt>

                </block_content>}</block></else></if_stmt>



                <if_stmt pos:start="317:17" pos:end="323:17"><if pos:start="317:17" pos:end="323:17">if <condition pos:start="317:20" pos:end="317:50">(<expr pos:start="317:21" pos:end="317:49"><name pos:start="317:21" pos:end="317:40"><name pos:start="317:21" pos:end="317:22">st</name><operator pos:start="317:23" pos:end="317:24">-&gt;</operator><name pos:start="317:25" pos:end="317:40">nb_index_entries</name></name> <operator pos:start="317:42" pos:end="317:43">&gt;=</operator> <name pos:start="317:45" pos:end="317:49">total</name></expr>)</condition> <block pos:start="317:52" pos:end="323:17">{<block_content pos:start="319:21" pos:end="321:27">

                    <expr_stmt pos:start="319:21" pos:end="319:83"><expr pos:start="319:21" pos:end="319:82"><call pos:start="319:21" pos:end="319:82"><name pos:start="319:21" pos:end="319:26">av_log</name><argument_list pos:start="319:27" pos:end="319:82">(<argument pos:start="319:28" pos:end="319:34"><expr pos:start="319:28" pos:end="319:34"><name pos:start="319:28" pos:end="319:34"><name pos:start="319:28" pos:end="319:30">mov</name><operator pos:start="319:31" pos:end="319:32">-&gt;</operator><name pos:start="319:33" pos:end="319:34">fc</name></name></expr></argument>, <argument pos:start="319:37" pos:end="319:48"><expr pos:start="319:37" pos:end="319:48"><name pos:start="319:37" pos:end="319:48">AV_LOG_ERROR</name></expr></argument>, <argument pos:start="319:51" pos:end="319:74"><expr pos:start="319:51" pos:end="319:74"><literal type="string" pos:start="319:51" pos:end="319:74">"wrong chunk count %d\n"</literal></expr></argument>, <argument pos:start="319:77" pos:end="319:81"><expr pos:start="319:77" pos:end="319:81"><name pos:start="319:77" pos:end="319:81">total</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                    <return pos:start="321:21" pos:end="321:27">return;</return>

                </block_content>}</block></if></if_stmt>

                <expr_stmt pos:start="325:17" pos:end="325:63"><expr pos:start="325:17" pos:end="325:62"><name pos:start="325:17" pos:end="325:17">e</name> <operator pos:start="325:19" pos:end="325:19">=</operator> <operator pos:start="325:21" pos:end="325:21">&amp;</operator><name pos:start="325:22" pos:end="325:62"><name pos:start="325:22" pos:end="325:23">st</name><operator pos:start="325:24" pos:end="325:25">-&gt;</operator><name pos:start="325:26" pos:end="325:38">index_entries</name><index pos:start="325:39" pos:end="325:62">[<expr pos:start="325:40" pos:end="325:61"><name pos:start="325:40" pos:end="325:59"><name pos:start="325:40" pos:end="325:41">st</name><operator pos:start="325:42" pos:end="325:43">-&gt;</operator><name pos:start="325:44" pos:end="325:59">nb_index_entries</name></name><operator pos:start="325:60" pos:end="325:61">++</operator></expr>]</index></name></expr>;</expr_stmt>

                <expr_stmt pos:start="327:17" pos:end="327:40"><expr pos:start="327:17" pos:end="327:39"><name pos:start="327:17" pos:end="327:22"><name pos:start="327:17" pos:end="327:17">e</name><operator pos:start="327:18" pos:end="327:19">-&gt;</operator><name pos:start="327:20" pos:end="327:22">pos</name></name> <operator pos:start="327:24" pos:end="327:24">=</operator> <name pos:start="327:26" pos:end="327:39">current_offset</name></expr>;</expr_stmt>

                <expr_stmt pos:start="329:17" pos:end="329:43"><expr pos:start="329:17" pos:end="329:42"><name pos:start="329:17" pos:end="329:28"><name pos:start="329:17" pos:end="329:17">e</name><operator pos:start="329:18" pos:end="329:19">-&gt;</operator><name pos:start="329:20" pos:end="329:28">timestamp</name></name> <operator pos:start="329:30" pos:end="329:30">=</operator> <name pos:start="329:32" pos:end="329:42">current_dts</name></expr>;</expr_stmt>

                <expr_stmt pos:start="331:17" pos:end="331:31"><expr pos:start="331:17" pos:end="331:30"><name pos:start="331:17" pos:end="331:23"><name pos:start="331:17" pos:end="331:17">e</name><operator pos:start="331:18" pos:end="331:19">-&gt;</operator><name pos:start="331:20" pos:end="331:23">size</name></name> <operator pos:start="331:25" pos:end="331:25">=</operator> <name pos:start="331:27" pos:end="331:30">size</name></expr>;</expr_stmt>

                <expr_stmt pos:start="333:17" pos:end="333:36"><expr pos:start="333:17" pos:end="333:35"><name pos:start="333:17" pos:end="333:31"><name pos:start="333:17" pos:end="333:17">e</name><operator pos:start="333:18" pos:end="333:19">-&gt;</operator><name pos:start="333:20" pos:end="333:31">min_distance</name></name> <operator pos:start="333:33" pos:end="333:33">=</operator> <literal type="number" pos:start="333:35" pos:end="333:35">0</literal></expr>;</expr_stmt>

                <expr_stmt pos:start="335:17" pos:end="335:44"><expr pos:start="335:17" pos:end="335:43"><name pos:start="335:17" pos:end="335:24"><name pos:start="335:17" pos:end="335:17">e</name><operator pos:start="335:18" pos:end="335:19">-&gt;</operator><name pos:start="335:20" pos:end="335:24">flags</name></name> <operator pos:start="335:26" pos:end="335:26">=</operator> <name pos:start="335:28" pos:end="335:43">AVINDEX_KEYFRAME</name></expr>;</expr_stmt>

                <expr_stmt pos:start="337:17" pos:end="341:39"><expr pos:start="337:17" pos:end="341:38"><call pos:start="337:17" pos:end="341:38"><name pos:start="337:17" pos:end="337:23">av_dlog</name><argument_list pos:start="337:24" pos:end="341:38">(<argument pos:start="337:25" pos:end="337:31"><expr pos:start="337:25" pos:end="337:31"><name pos:start="337:25" pos:end="337:31"><name pos:start="337:25" pos:end="337:27">mov</name><operator pos:start="337:28" pos:end="337:29">-&gt;</operator><name pos:start="337:30" pos:end="337:31">fc</name></name></expr></argument>, <argument pos:start="337:34" pos:end="339:48"><expr pos:start="337:34" pos:end="339:48"><literal type="string" pos:start="337:34" pos:end="337:72">"AVIndex stream %d, chunk %d, offset %"</literal><name pos:start="337:73" pos:end="337:78">PRIx64</name><literal type="string" pos:start="337:79" pos:end="337:87">", dts %"</literal><name pos:start="337:88" pos:end="337:93">PRId64</name><literal type="string" pos:start="337:94" pos:end="337:97">", "</literal>

                        <literal type="string" pos:start="339:25" pos:end="339:48">"size %d, duration %d\n"</literal></expr></argument>, <argument pos:start="339:51" pos:end="339:59"><expr pos:start="339:51" pos:end="339:59"><name pos:start="339:51" pos:end="339:59"><name pos:start="339:51" pos:end="339:52">st</name><operator pos:start="339:53" pos:end="339:54">-&gt;</operator><name pos:start="339:55" pos:end="339:59">index</name></name></expr></argument>, <argument pos:start="339:62" pos:end="339:62"><expr pos:start="339:62" pos:end="339:62"><name pos:start="339:62" pos:end="339:62">i</name></expr></argument>, <argument pos:start="339:65" pos:end="339:78"><expr pos:start="339:65" pos:end="339:78"><name pos:start="339:65" pos:end="339:78">current_offset</name></expr></argument>, <argument pos:start="339:81" pos:end="339:91"><expr pos:start="339:81" pos:end="339:91"><name pos:start="339:81" pos:end="339:91">current_dts</name></expr></argument>,

                        <argument pos:start="341:25" pos:end="341:28"><expr pos:start="341:25" pos:end="341:28"><name pos:start="341:25" pos:end="341:28">size</name></expr></argument>, <argument pos:start="341:31" pos:end="341:37"><expr pos:start="341:31" pos:end="341:37"><name pos:start="341:31" pos:end="341:37">samples</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



                <expr_stmt pos:start="345:17" pos:end="345:39"><expr pos:start="345:17" pos:end="345:38"><name pos:start="345:17" pos:end="345:30">current_offset</name> <operator pos:start="345:32" pos:end="345:33">+=</operator> <name pos:start="345:35" pos:end="345:38">size</name></expr>;</expr_stmt>

                <expr_stmt pos:start="347:17" pos:end="347:39"><expr pos:start="347:17" pos:end="347:38"><name pos:start="347:17" pos:end="347:27">current_dts</name> <operator pos:start="347:29" pos:end="347:30">+=</operator> <name pos:start="347:32" pos:end="347:38">samples</name></expr>;</expr_stmt>

                <expr_stmt pos:start="349:17" pos:end="349:41"><expr pos:start="349:17" pos:end="349:40"><name pos:start="349:17" pos:end="349:29">chunk_samples</name> <operator pos:start="349:31" pos:end="349:32">-=</operator> <name pos:start="349:34" pos:end="349:40">samples</name></expr>;</expr_stmt>

            </block_content>}</block></while>

        </block_content>}</block></for>

    </block_content>}</block></else></if_stmt>

</block_content>}</block></function>
</unit>
