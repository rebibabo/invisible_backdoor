<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/19572.c" pos:tabs="8"><function pos:start="1:1" pos:end="159:1"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:37">virtio_net_device_realize</name><parameter_list pos:start="1:38" pos:end="1:69">(<parameter pos:start="1:39" pos:end="1:54"><decl pos:start="1:39" pos:end="1:54"><type pos:start="1:39" pos:end="1:54"><name pos:start="1:39" pos:end="1:49">DeviceState</name> <modifier pos:start="1:51" pos:end="1:51">*</modifier></type><name pos:start="1:52" pos:end="1:54">dev</name></decl></parameter>, <parameter pos:start="1:57" pos:end="1:68"><decl pos:start="1:57" pos:end="1:68"><type pos:start="1:57" pos:end="1:68"><name pos:start="1:57" pos:end="1:61">Error</name> <modifier pos:start="1:63" pos:end="1:63">*</modifier><modifier pos:start="1:64" pos:end="1:64">*</modifier></type><name pos:start="1:65" pos:end="1:68">errp</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="159:1">{<block_content pos:start="5:5" pos:end="157:72">

    <decl_stmt pos:start="5:5" pos:end="5:44"><decl pos:start="5:5" pos:end="5:43"><type pos:start="5:5" pos:end="5:18"><name pos:start="5:5" pos:end="5:16">VirtIODevice</name> <modifier pos:start="5:18" pos:end="5:18">*</modifier></type><name pos:start="5:19" pos:end="5:22">vdev</name> <init pos:start="5:24" pos:end="5:43">= <expr pos:start="5:26" pos:end="5:43"><call pos:start="5:26" pos:end="5:43"><name pos:start="5:26" pos:end="5:38">VIRTIO_DEVICE</name><argument_list pos:start="5:39" pos:end="5:43">(<argument pos:start="5:40" pos:end="5:42"><expr pos:start="5:40" pos:end="5:42"><name pos:start="5:40" pos:end="5:42">dev</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:35"><decl pos:start="7:5" pos:end="7:34"><type pos:start="7:5" pos:end="7:15"><name pos:start="7:5" pos:end="7:13">VirtIONet</name> <modifier pos:start="7:15" pos:end="7:15">*</modifier></type><name pos:start="7:16" pos:end="7:16">n</name> <init pos:start="7:18" pos:end="7:34">= <expr pos:start="7:20" pos:end="7:34"><call pos:start="7:20" pos:end="7:34"><name pos:start="7:20" pos:end="7:29">VIRTIO_NET</name><argument_list pos:start="7:30" pos:end="7:34">(<argument pos:start="7:31" pos:end="7:33"><expr pos:start="7:31" pos:end="7:33"><name pos:start="7:31" pos:end="7:33">dev</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:23"><decl pos:start="9:5" pos:end="9:22"><type pos:start="9:5" pos:end="9:20"><name pos:start="9:5" pos:end="9:18">NetClientState</name> <modifier pos:start="9:20" pos:end="9:20">*</modifier></type><name pos:start="9:21" pos:end="9:22">nc</name></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:10"><decl pos:start="11:5" pos:end="11:9"><type pos:start="11:5" pos:end="11:7"><name pos:start="11:5" pos:end="11:7">int</name></type> <name pos:start="11:9" pos:end="11:9">i</name></decl>;</decl_stmt>



    <expr_stmt pos:start="15:5" pos:end="15:67"><expr pos:start="15:5" pos:end="15:66"><call pos:start="15:5" pos:end="15:66"><name pos:start="15:5" pos:end="15:15">virtio_init</name><argument_list pos:start="15:16" pos:end="15:66">(<argument pos:start="15:17" pos:end="15:20"><expr pos:start="15:17" pos:end="15:20"><name pos:start="15:17" pos:end="15:20">vdev</name></expr></argument>, <argument pos:start="15:23" pos:end="15:34"><expr pos:start="15:23" pos:end="15:34"><literal type="string" pos:start="15:23" pos:end="15:34">"virtio-net"</literal></expr></argument>, <argument pos:start="15:37" pos:end="15:49"><expr pos:start="15:37" pos:end="15:49"><name pos:start="15:37" pos:end="15:49">VIRTIO_ID_NET</name></expr></argument>, <argument pos:start="15:52" pos:end="15:65"><expr pos:start="15:52" pos:end="15:65"><name pos:start="15:52" pos:end="15:65"><name pos:start="15:52" pos:end="15:52">n</name><operator pos:start="15:53" pos:end="15:54">-&gt;</operator><name pos:start="15:55" pos:end="15:65">config_size</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="19:5" pos:end="19:47"><expr pos:start="19:5" pos:end="19:46"><name pos:start="19:5" pos:end="19:17"><name pos:start="19:5" pos:end="19:5">n</name><operator pos:start="19:6" pos:end="19:7">-&gt;</operator><name pos:start="19:8" pos:end="19:17">max_queues</name></name> <operator pos:start="19:19" pos:end="19:19">=</operator> <call pos:start="19:21" pos:end="19:46"><name pos:start="19:21" pos:end="19:23">MAX</name><argument_list pos:start="19:24" pos:end="19:46">(<argument pos:start="19:25" pos:end="19:42"><expr pos:start="19:25" pos:end="19:42"><name pos:start="19:25" pos:end="19:42"><name pos:start="19:25" pos:end="19:25">n</name><operator pos:start="19:26" pos:end="19:27">-&gt;</operator><name pos:start="19:28" pos:end="19:35">nic_conf</name><operator pos:start="19:36" pos:end="19:36">.</operator><name pos:start="19:37" pos:end="19:42">queues</name></name></expr></argument>, <argument pos:start="19:45" pos:end="19:45"><expr pos:start="19:45" pos:end="19:45"><literal type="number" pos:start="19:45" pos:end="19:45">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="21:5" pos:end="21:63"><expr pos:start="21:5" pos:end="21:62"><name pos:start="21:5" pos:end="21:10"><name pos:start="21:5" pos:end="21:5">n</name><operator pos:start="21:6" pos:end="21:7">-&gt;</operator><name pos:start="21:8" pos:end="21:10">vqs</name></name> <operator pos:start="21:12" pos:end="21:12">=</operator> <call pos:start="21:14" pos:end="21:62"><name pos:start="21:14" pos:end="21:22">g_malloc0</name><argument_list pos:start="21:23" pos:end="21:62">(<argument pos:start="21:24" pos:end="21:61"><expr pos:start="21:24" pos:end="21:61"><sizeof pos:start="21:24" pos:end="21:45">sizeof<argument_list pos:start="21:30" pos:end="21:45">(<argument pos:start="21:31" pos:end="21:44"><expr pos:start="21:31" pos:end="21:44"><name pos:start="21:31" pos:end="21:44">VirtIONetQueue</name></expr></argument>)</argument_list></sizeof> <operator pos:start="21:47" pos:end="21:47">*</operator> <name pos:start="21:49" pos:end="21:61"><name pos:start="21:49" pos:end="21:49">n</name><operator pos:start="21:50" pos:end="21:51">-&gt;</operator><name pos:start="21:52" pos:end="21:61">max_queues</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="23:5" pos:end="23:72"><expr pos:start="23:5" pos:end="23:71"><name pos:start="23:5" pos:end="23:13"><name pos:start="23:5" pos:end="23:5">n</name><operator pos:start="23:6" pos:end="23:7">-&gt;</operator><name pos:start="23:8" pos:end="23:10">vqs</name><index pos:start="23:11" pos:end="23:13">[<expr pos:start="23:12" pos:end="23:12"><literal type="number" pos:start="23:12" pos:end="23:12">0</literal></expr>]</index></name><operator pos:start="23:14" pos:end="23:14">.</operator><name pos:start="23:15" pos:end="23:19">rx_vq</name> <operator pos:start="23:21" pos:end="23:21">=</operator> <call pos:start="23:23" pos:end="23:71"><name pos:start="23:23" pos:end="23:38">virtio_add_queue</name><argument_list pos:start="23:39" pos:end="23:71">(<argument pos:start="23:40" pos:end="23:43"><expr pos:start="23:40" pos:end="23:43"><name pos:start="23:40" pos:end="23:43">vdev</name></expr></argument>, <argument pos:start="23:46" pos:end="23:48"><expr pos:start="23:46" pos:end="23:48"><literal type="number" pos:start="23:46" pos:end="23:48">256</literal></expr></argument>, <argument pos:start="23:51" pos:end="23:70"><expr pos:start="23:51" pos:end="23:70"><name pos:start="23:51" pos:end="23:70">virtio_net_handle_rx</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="25:5" pos:end="25:23"><expr pos:start="25:5" pos:end="25:22"><name pos:start="25:5" pos:end="25:18"><name pos:start="25:5" pos:end="25:5">n</name><operator pos:start="25:6" pos:end="25:7">-&gt;</operator><name pos:start="25:8" pos:end="25:18">curr_queues</name></name> <operator pos:start="25:20" pos:end="25:20">=</operator> <literal type="number" pos:start="25:22" pos:end="25:22">1</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="27:5" pos:end="27:20"><expr pos:start="27:5" pos:end="27:19"><name pos:start="27:5" pos:end="27:13"><name pos:start="27:5" pos:end="27:5">n</name><operator pos:start="27:6" pos:end="27:7">-&gt;</operator><name pos:start="27:8" pos:end="27:10">vqs</name><index pos:start="27:11" pos:end="27:13">[<expr pos:start="27:12" pos:end="27:12"><literal type="number" pos:start="27:12" pos:end="27:12">0</literal></expr>]</index></name><operator pos:start="27:14" pos:end="27:14">.</operator><name pos:start="27:15" pos:end="27:15">n</name> <operator pos:start="27:17" pos:end="27:17">=</operator> <name pos:start="27:19" pos:end="27:19">n</name></expr>;</expr_stmt>

    <expr_stmt pos:start="29:5" pos:end="29:40"><expr pos:start="29:5" pos:end="29:39"><name pos:start="29:5" pos:end="29:17"><name pos:start="29:5" pos:end="29:5">n</name><operator pos:start="29:6" pos:end="29:7">-&gt;</operator><name pos:start="29:8" pos:end="29:17">tx_timeout</name></name> <operator pos:start="29:19" pos:end="29:19">=</operator> <name pos:start="29:21" pos:end="29:39"><name pos:start="29:21" pos:end="29:21">n</name><operator pos:start="29:22" pos:end="29:23">-&gt;</operator><name pos:start="29:24" pos:end="29:31">net_conf</name><operator pos:start="29:32" pos:end="29:32">.</operator><name pos:start="29:33" pos:end="29:39">txtimer</name></name></expr>;</expr_stmt>



    <if_stmt pos:start="33:5" pos:end="45:5"><if pos:start="33:5" pos:end="45:5">if <condition pos:start="33:8" pos:end="35:55">(<expr pos:start="33:9" pos:end="35:54"><name pos:start="33:9" pos:end="33:22"><name pos:start="33:9" pos:end="33:9">n</name><operator pos:start="33:10" pos:end="33:11">-&gt;</operator><name pos:start="33:12" pos:end="33:19">net_conf</name><operator pos:start="33:20" pos:end="33:20">.</operator><name pos:start="33:21" pos:end="33:22">tx</name></name> <operator pos:start="33:24" pos:end="33:25">&amp;&amp;</operator> <call pos:start="33:27" pos:end="33:57"><name pos:start="33:27" pos:end="33:32">strcmp</name><argument_list pos:start="33:33" pos:end="33:57">(<argument pos:start="33:34" pos:end="33:47"><expr pos:start="33:34" pos:end="33:47"><name pos:start="33:34" pos:end="33:47"><name pos:start="33:34" pos:end="33:34">n</name><operator pos:start="33:35" pos:end="33:36">-&gt;</operator><name pos:start="33:37" pos:end="33:44">net_conf</name><operator pos:start="33:45" pos:end="33:45">.</operator><name pos:start="33:46" pos:end="33:47">tx</name></name></expr></argument>, <argument pos:start="33:50" pos:end="33:56"><expr pos:start="33:50" pos:end="33:56"><literal type="string" pos:start="33:50" pos:end="33:56">"timer"</literal></expr></argument>)</argument_list></call>

                       <operator pos:start="35:24" pos:end="35:25">&amp;&amp;</operator> <call pos:start="35:27" pos:end="35:54"><name pos:start="35:27" pos:end="35:32">strcmp</name><argument_list pos:start="35:33" pos:end="35:54">(<argument pos:start="35:34" pos:end="35:47"><expr pos:start="35:34" pos:end="35:47"><name pos:start="35:34" pos:end="35:47"><name pos:start="35:34" pos:end="35:34">n</name><operator pos:start="35:35" pos:end="35:36">-&gt;</operator><name pos:start="35:37" pos:end="35:44">net_conf</name><operator pos:start="35:45" pos:end="35:45">.</operator><name pos:start="35:46" pos:end="35:47">tx</name></name></expr></argument>, <argument pos:start="35:50" pos:end="35:53"><expr pos:start="35:50" pos:end="35:53"><literal type="string" pos:start="35:50" pos:end="35:53">"bh"</literal></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="35:57" pos:end="45:5">{<block_content pos:start="37:9" pos:end="43:45">

        <expr_stmt pos:start="37:9" pos:end="41:37"><expr pos:start="37:9" pos:end="41:36"><call pos:start="37:9" pos:end="41:36"><name pos:start="37:9" pos:end="37:20">error_report</name><argument_list pos:start="37:21" pos:end="41:36">(<argument pos:start="37:22" pos:end="39:76"><expr pos:start="37:22" pos:end="39:76"><literal type="string" pos:start="37:22" pos:end="37:35">"virtio-net: "</literal>

                     <literal type="string" pos:start="39:22" pos:end="39:76">"Unknown option tx=%s, valid options: \"timer\" \"bh\""</literal></expr></argument>,

                     <argument pos:start="41:22" pos:end="41:35"><expr pos:start="41:22" pos:end="41:35"><name pos:start="41:22" pos:end="41:35"><name pos:start="41:22" pos:end="41:22">n</name><operator pos:start="41:23" pos:end="41:24">-&gt;</operator><name pos:start="41:25" pos:end="41:32">net_conf</name><operator pos:start="41:33" pos:end="41:33">.</operator><name pos:start="41:34" pos:end="41:35">tx</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="43:9" pos:end="43:45"><expr pos:start="43:9" pos:end="43:44"><call pos:start="43:9" pos:end="43:44"><name pos:start="43:9" pos:end="43:20">error_report</name><argument_list pos:start="43:21" pos:end="43:44">(<argument pos:start="43:22" pos:end="43:43"><expr pos:start="43:22" pos:end="43:43"><literal type="string" pos:start="43:22" pos:end="43:43">"Defaulting to \"bh\""</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="49:5" pos:end="67:5"><if pos:start="49:5" pos:end="59:5">if <condition pos:start="49:8" pos:end="49:59">(<expr pos:start="49:9" pos:end="49:58"><name pos:start="49:9" pos:end="49:22"><name pos:start="49:9" pos:end="49:9">n</name><operator pos:start="49:10" pos:end="49:11">-&gt;</operator><name pos:start="49:12" pos:end="49:19">net_conf</name><operator pos:start="49:20" pos:end="49:20">.</operator><name pos:start="49:21" pos:end="49:22">tx</name></name> <operator pos:start="49:24" pos:end="49:25">&amp;&amp;</operator> <operator pos:start="49:27" pos:end="49:27">!</operator><call pos:start="49:28" pos:end="49:58"><name pos:start="49:28" pos:end="49:33">strcmp</name><argument_list pos:start="49:34" pos:end="49:58">(<argument pos:start="49:35" pos:end="49:48"><expr pos:start="49:35" pos:end="49:48"><name pos:start="49:35" pos:end="49:48"><name pos:start="49:35" pos:end="49:35">n</name><operator pos:start="49:36" pos:end="49:37">-&gt;</operator><name pos:start="49:38" pos:end="49:45">net_conf</name><operator pos:start="49:46" pos:end="49:46">.</operator><name pos:start="49:47" pos:end="49:48">tx</name></name></expr></argument>, <argument pos:start="49:51" pos:end="49:57"><expr pos:start="49:51" pos:end="49:57"><literal type="string" pos:start="49:51" pos:end="49:57">"timer"</literal></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="49:61" pos:end="59:5">{<block_content pos:start="51:9" pos:end="57:59">

        <expr_stmt pos:start="51:9" pos:end="53:71"><expr pos:start="51:9" pos:end="53:70"><name pos:start="51:9" pos:end="51:17"><name pos:start="51:9" pos:end="51:9">n</name><operator pos:start="51:10" pos:end="51:11">-&gt;</operator><name pos:start="51:12" pos:end="51:14">vqs</name><index pos:start="51:15" pos:end="51:17">[<expr pos:start="51:16" pos:end="51:16"><literal type="number" pos:start="51:16" pos:end="51:16">0</literal></expr>]</index></name><operator pos:start="51:18" pos:end="51:18">.</operator><name pos:start="51:19" pos:end="51:23">tx_vq</name> <operator pos:start="51:25" pos:end="51:25">=</operator> <call pos:start="51:27" pos:end="53:70"><name pos:start="51:27" pos:end="51:42">virtio_add_queue</name><argument_list pos:start="51:43" pos:end="53:70">(<argument pos:start="51:44" pos:end="51:47"><expr pos:start="51:44" pos:end="51:47"><name pos:start="51:44" pos:end="51:47">vdev</name></expr></argument>, <argument pos:start="51:50" pos:end="51:52"><expr pos:start="51:50" pos:end="51:52"><literal type="number" pos:start="51:50" pos:end="51:52">256</literal></expr></argument>,

                                           <argument pos:start="53:44" pos:end="53:69"><expr pos:start="53:44" pos:end="53:69"><name pos:start="53:44" pos:end="53:69">virtio_net_handle_tx_timer</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="55:9" pos:end="57:59"><expr pos:start="55:9" pos:end="57:58"><name pos:start="55:9" pos:end="55:17"><name pos:start="55:9" pos:end="55:9">n</name><operator pos:start="55:10" pos:end="55:11">-&gt;</operator><name pos:start="55:12" pos:end="55:14">vqs</name><index pos:start="55:15" pos:end="55:17">[<expr pos:start="55:16" pos:end="55:16"><literal type="number" pos:start="55:16" pos:end="55:16">0</literal></expr>]</index></name><operator pos:start="55:18" pos:end="55:18">.</operator><name pos:start="55:19" pos:end="55:26">tx_timer</name> <operator pos:start="55:28" pos:end="55:28">=</operator> <call pos:start="55:30" pos:end="57:58"><name pos:start="55:30" pos:end="55:41">timer_new_ns</name><argument_list pos:start="55:42" pos:end="57:58">(<argument pos:start="55:43" pos:end="55:60"><expr pos:start="55:43" pos:end="55:60"><name pos:start="55:43" pos:end="55:60">QEMU_CLOCK_VIRTUAL</name></expr></argument>, <argument pos:start="55:63" pos:end="55:81"><expr pos:start="55:63" pos:end="55:81"><name pos:start="55:63" pos:end="55:81">virtio_net_tx_timer</name></expr></argument>,

                                               <argument pos:start="57:48" pos:end="57:57"><expr pos:start="57:48" pos:end="57:57"><operator pos:start="57:48" pos:end="57:48">&amp;</operator><name pos:start="57:49" pos:end="57:57"><name pos:start="57:49" pos:end="57:49">n</name><operator pos:start="57:50" pos:end="57:51">-&gt;</operator><name pos:start="57:52" pos:end="57:54">vqs</name><index pos:start="57:55" pos:end="57:57">[<expr pos:start="57:56" pos:end="57:56"><literal type="number" pos:start="57:56" pos:end="57:56">0</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="59:7" pos:end="67:5">else <block pos:start="59:12" pos:end="67:5">{<block_content pos:start="61:9" pos:end="65:68">

        <expr_stmt pos:start="61:9" pos:end="63:68"><expr pos:start="61:9" pos:end="63:67"><name pos:start="61:9" pos:end="61:17"><name pos:start="61:9" pos:end="61:9">n</name><operator pos:start="61:10" pos:end="61:11">-&gt;</operator><name pos:start="61:12" pos:end="61:14">vqs</name><index pos:start="61:15" pos:end="61:17">[<expr pos:start="61:16" pos:end="61:16"><literal type="number" pos:start="61:16" pos:end="61:16">0</literal></expr>]</index></name><operator pos:start="61:18" pos:end="61:18">.</operator><name pos:start="61:19" pos:end="61:23">tx_vq</name> <operator pos:start="61:25" pos:end="61:25">=</operator> <call pos:start="61:27" pos:end="63:67"><name pos:start="61:27" pos:end="61:42">virtio_add_queue</name><argument_list pos:start="61:43" pos:end="63:67">(<argument pos:start="61:44" pos:end="61:47"><expr pos:start="61:44" pos:end="61:47"><name pos:start="61:44" pos:end="61:47">vdev</name></expr></argument>, <argument pos:start="61:50" pos:end="61:52"><expr pos:start="61:50" pos:end="61:52"><literal type="number" pos:start="61:50" pos:end="61:52">256</literal></expr></argument>,

                                           <argument pos:start="63:44" pos:end="63:66"><expr pos:start="63:44" pos:end="63:66"><name pos:start="63:44" pos:end="63:66">virtio_net_handle_tx_bh</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="65:9" pos:end="65:68"><expr pos:start="65:9" pos:end="65:67"><name pos:start="65:9" pos:end="65:17"><name pos:start="65:9" pos:end="65:9">n</name><operator pos:start="65:10" pos:end="65:11">-&gt;</operator><name pos:start="65:12" pos:end="65:14">vqs</name><index pos:start="65:15" pos:end="65:17">[<expr pos:start="65:16" pos:end="65:16"><literal type="number" pos:start="65:16" pos:end="65:16">0</literal></expr>]</index></name><operator pos:start="65:18" pos:end="65:18">.</operator><name pos:start="65:19" pos:end="65:23">tx_bh</name> <operator pos:start="65:25" pos:end="65:25">=</operator> <call pos:start="65:27" pos:end="65:67"><name pos:start="65:27" pos:end="65:37">qemu_bh_new</name><argument_list pos:start="65:38" pos:end="65:67">(<argument pos:start="65:39" pos:end="65:54"><expr pos:start="65:39" pos:end="65:54"><name pos:start="65:39" pos:end="65:54">virtio_net_tx_bh</name></expr></argument>, <argument pos:start="65:57" pos:end="65:66"><expr pos:start="65:57" pos:end="65:66"><operator pos:start="65:57" pos:end="65:57">&amp;</operator><name pos:start="65:58" pos:end="65:66"><name pos:start="65:58" pos:end="65:58">n</name><operator pos:start="65:59" pos:end="65:60">-&gt;</operator><name pos:start="65:61" pos:end="65:63">vqs</name><index pos:start="65:64" pos:end="65:66">[<expr pos:start="65:65" pos:end="65:65"><literal type="number" pos:start="65:65" pos:end="65:65">0</literal></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></else></if_stmt>

    <expr_stmt pos:start="69:5" pos:end="69:68"><expr pos:start="69:5" pos:end="69:67"><name pos:start="69:5" pos:end="69:14"><name pos:start="69:5" pos:end="69:5">n</name><operator pos:start="69:6" pos:end="69:7">-&gt;</operator><name pos:start="69:8" pos:end="69:14">ctrl_vq</name></name> <operator pos:start="69:16" pos:end="69:16">=</operator> <call pos:start="69:18" pos:end="69:67"><name pos:start="69:18" pos:end="69:33">virtio_add_queue</name><argument_list pos:start="69:34" pos:end="69:67">(<argument pos:start="69:35" pos:end="69:38"><expr pos:start="69:35" pos:end="69:38"><name pos:start="69:35" pos:end="69:38">vdev</name></expr></argument>, <argument pos:start="69:41" pos:end="69:42"><expr pos:start="69:41" pos:end="69:42"><literal type="number" pos:start="69:41" pos:end="69:42">64</literal></expr></argument>, <argument pos:start="69:45" pos:end="69:66"><expr pos:start="69:45" pos:end="69:66"><name pos:start="69:45" pos:end="69:66">virtio_net_handle_ctrl</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="71:5" pos:end="71:56"><expr pos:start="71:5" pos:end="71:55"><call pos:start="71:5" pos:end="71:55"><name pos:start="71:5" pos:end="71:33">qemu_macaddr_default_if_unset</name><argument_list pos:start="71:34" pos:end="71:55">(<argument pos:start="71:35" pos:end="71:54"><expr pos:start="71:35" pos:end="71:54"><operator pos:start="71:35" pos:end="71:35">&amp;</operator><name pos:start="71:36" pos:end="71:54"><name pos:start="71:36" pos:end="71:36">n</name><operator pos:start="71:37" pos:end="71:38">-&gt;</operator><name pos:start="71:39" pos:end="71:46">nic_conf</name><operator pos:start="71:47" pos:end="71:47">.</operator><name pos:start="71:48" pos:end="71:54">macaddr</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="73:5" pos:end="73:61"><expr pos:start="73:5" pos:end="73:60"><call pos:start="73:5" pos:end="73:60"><name pos:start="73:5" pos:end="73:10">memcpy</name><argument_list pos:start="73:11" pos:end="73:60">(<argument pos:start="73:12" pos:end="73:21"><expr pos:start="73:12" pos:end="73:21"><operator pos:start="73:12" pos:end="73:12">&amp;</operator><name pos:start="73:13" pos:end="73:21"><name pos:start="73:13" pos:end="73:13">n</name><operator pos:start="73:14" pos:end="73:15">-&gt;</operator><name pos:start="73:16" pos:end="73:18">mac</name><index pos:start="73:19" pos:end="73:21">[<expr pos:start="73:20" pos:end="73:20"><literal type="number" pos:start="73:20" pos:end="73:20">0</literal></expr>]</index></name></expr></argument>, <argument pos:start="73:24" pos:end="73:43"><expr pos:start="73:24" pos:end="73:43"><operator pos:start="73:24" pos:end="73:24">&amp;</operator><name pos:start="73:25" pos:end="73:43"><name pos:start="73:25" pos:end="73:25">n</name><operator pos:start="73:26" pos:end="73:27">-&gt;</operator><name pos:start="73:28" pos:end="73:35">nic_conf</name><operator pos:start="73:36" pos:end="73:36">.</operator><name pos:start="73:37" pos:end="73:43">macaddr</name></name></expr></argument>, <argument pos:start="73:46" pos:end="73:59"><expr pos:start="73:46" pos:end="73:59"><sizeof pos:start="73:46" pos:end="73:59">sizeof<argument_list pos:start="73:52" pos:end="73:59">(<argument pos:start="73:53" pos:end="73:58"><expr pos:start="73:53" pos:end="73:58"><name pos:start="73:53" pos:end="73:58"><name pos:start="73:53" pos:end="73:53">n</name><operator pos:start="73:54" pos:end="73:55">-&gt;</operator><name pos:start="73:56" pos:end="73:58">mac</name></name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="75:5" pos:end="75:37"><expr pos:start="75:5" pos:end="75:36"><name pos:start="75:5" pos:end="75:13"><name pos:start="75:5" pos:end="75:5">n</name><operator pos:start="75:6" pos:end="75:7">-&gt;</operator><name pos:start="75:8" pos:end="75:13">status</name></name> <operator pos:start="75:15" pos:end="75:15">=</operator> <name pos:start="75:17" pos:end="75:36">VIRTIO_NET_S_LINK_UP</name></expr>;</expr_stmt>



    <if_stmt pos:start="79:5" pos:end="97:5"><if pos:start="79:5" pos:end="91:5">if <condition pos:start="79:8" pos:end="79:26">(<expr pos:start="79:9" pos:end="79:25"><name pos:start="79:9" pos:end="79:25"><name pos:start="79:9" pos:end="79:9">n</name><operator pos:start="79:10" pos:end="79:11">-&gt;</operator><name pos:start="79:12" pos:end="79:25">netclient_type</name></name></expr>)</condition> <block pos:start="79:28" pos:end="91:5">{<block_content pos:start="87:9" pos:end="89:71">

        <comment type="block" pos:start="81:9" pos:end="85:11">/*

         * Happen when virtio_net_set_netclient_name has been called.

         */</comment>

        <expr_stmt pos:start="87:9" pos:end="89:71"><expr pos:start="87:9" pos:end="89:70"><name pos:start="87:9" pos:end="87:14"><name pos:start="87:9" pos:end="87:9">n</name><operator pos:start="87:10" pos:end="87:11">-&gt;</operator><name pos:start="87:12" pos:end="87:14">nic</name></name> <operator pos:start="87:16" pos:end="87:16">=</operator> <call pos:start="87:18" pos:end="89:70"><name pos:start="87:18" pos:end="87:29">qemu_new_nic</name><argument_list pos:start="87:30" pos:end="89:70">(<argument pos:start="87:31" pos:end="87:46"><expr pos:start="87:31" pos:end="87:46"><operator pos:start="87:31" pos:end="87:31">&amp;</operator><name pos:start="87:32" pos:end="87:46">net_virtio_info</name></expr></argument>, <argument pos:start="87:49" pos:end="87:60"><expr pos:start="87:49" pos:end="87:60"><operator pos:start="87:49" pos:end="87:49">&amp;</operator><name pos:start="87:50" pos:end="87:60"><name pos:start="87:50" pos:end="87:50">n</name><operator pos:start="87:51" pos:end="87:52">-&gt;</operator><name pos:start="87:53" pos:end="87:60">nic_conf</name></name></expr></argument>,

                              <argument pos:start="89:31" pos:end="89:47"><expr pos:start="89:31" pos:end="89:47"><name pos:start="89:31" pos:end="89:47"><name pos:start="89:31" pos:end="89:31">n</name><operator pos:start="89:32" pos:end="89:33">-&gt;</operator><name pos:start="89:34" pos:end="89:47">netclient_type</name></name></expr></argument>, <argument pos:start="89:50" pos:end="89:66"><expr pos:start="89:50" pos:end="89:66"><name pos:start="89:50" pos:end="89:66"><name pos:start="89:50" pos:end="89:50">n</name><operator pos:start="89:51" pos:end="89:52">-&gt;</operator><name pos:start="89:53" pos:end="89:66">netclient_name</name></name></expr></argument>, <argument pos:start="89:69" pos:end="89:69"><expr pos:start="89:69" pos:end="89:69"><name pos:start="89:69" pos:end="89:69">n</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="91:7" pos:end="97:5">else <block pos:start="91:12" pos:end="97:5">{<block_content pos:start="93:9" pos:end="95:76">

        <expr_stmt pos:start="93:9" pos:end="95:76"><expr pos:start="93:9" pos:end="95:75"><name pos:start="93:9" pos:end="93:14"><name pos:start="93:9" pos:end="93:9">n</name><operator pos:start="93:10" pos:end="93:11">-&gt;</operator><name pos:start="93:12" pos:end="93:14">nic</name></name> <operator pos:start="93:16" pos:end="93:16">=</operator> <call pos:start="93:18" pos:end="95:75"><name pos:start="93:18" pos:end="93:29">qemu_new_nic</name><argument_list pos:start="93:30" pos:end="95:75">(<argument pos:start="93:31" pos:end="93:46"><expr pos:start="93:31" pos:end="93:46"><operator pos:start="93:31" pos:end="93:31">&amp;</operator><name pos:start="93:32" pos:end="93:46">net_virtio_info</name></expr></argument>, <argument pos:start="93:49" pos:end="93:60"><expr pos:start="93:49" pos:end="93:60"><operator pos:start="93:49" pos:end="93:49">&amp;</operator><name pos:start="93:50" pos:end="93:60"><name pos:start="93:50" pos:end="93:50">n</name><operator pos:start="93:51" pos:end="93:52">-&gt;</operator><name pos:start="93:53" pos:end="93:60">nic_conf</name></name></expr></argument>,

                              <argument pos:start="95:31" pos:end="95:62"><expr pos:start="95:31" pos:end="95:62"><call pos:start="95:31" pos:end="95:62"><name pos:start="95:31" pos:end="95:49">object_get_typename</name><argument_list pos:start="95:50" pos:end="95:62">(<argument pos:start="95:51" pos:end="95:61"><expr pos:start="95:51" pos:end="95:61"><call pos:start="95:51" pos:end="95:61"><name pos:start="95:51" pos:end="95:56">OBJECT</name><argument_list pos:start="95:57" pos:end="95:61">(<argument pos:start="95:58" pos:end="95:60"><expr pos:start="95:58" pos:end="95:60"><name pos:start="95:58" pos:end="95:60">dev</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr></argument>, <argument pos:start="95:65" pos:end="95:71"><expr pos:start="95:65" pos:end="95:71"><name pos:start="95:65" pos:end="95:71"><name pos:start="95:65" pos:end="95:67">dev</name><operator pos:start="95:68" pos:end="95:69">-&gt;</operator><name pos:start="95:70" pos:end="95:71">id</name></name></expr></argument>, <argument pos:start="95:74" pos:end="95:74"><expr pos:start="95:74" pos:end="95:74"><name pos:start="95:74" pos:end="95:74">n</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></else></if_stmt>



    <expr_stmt pos:start="101:5" pos:end="101:26"><expr pos:start="101:5" pos:end="101:25"><call pos:start="101:5" pos:end="101:25"><name pos:start="101:5" pos:end="101:22">peer_test_vnet_hdr</name><argument_list pos:start="101:23" pos:end="101:25">(<argument pos:start="101:24" pos:end="101:24"><expr pos:start="101:24" pos:end="101:24"><name pos:start="101:24" pos:end="101:24">n</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="103:5" pos:end="117:5"><if pos:start="103:5" pos:end="113:5">if <condition pos:start="103:8" pos:end="103:29">(<expr pos:start="103:9" pos:end="103:28"><call pos:start="103:9" pos:end="103:28"><name pos:start="103:9" pos:end="103:25">peer_has_vnet_hdr</name><argument_list pos:start="103:26" pos:end="103:28">(<argument pos:start="103:27" pos:end="103:27"><expr pos:start="103:27" pos:end="103:27"><name pos:start="103:27" pos:end="103:27">n</name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="103:31" pos:end="113:5">{<block_content pos:start="105:9" pos:end="111:56">

        <for pos:start="105:9" pos:end="109:9">for <control pos:start="105:13" pos:end="105:43">(<init pos:start="105:14" pos:end="105:19"><expr pos:start="105:14" pos:end="105:18"><name pos:start="105:14" pos:end="105:14">i</name> <operator pos:start="105:16" pos:end="105:16">=</operator> <literal type="number" pos:start="105:18" pos:end="105:18">0</literal></expr>;</init> <condition pos:start="105:21" pos:end="105:38"><expr pos:start="105:21" pos:end="105:37"><name pos:start="105:21" pos:end="105:21">i</name> <operator pos:start="105:23" pos:end="105:23">&lt;</operator> <name pos:start="105:25" pos:end="105:37"><name pos:start="105:25" pos:end="105:25">n</name><operator pos:start="105:26" pos:end="105:27">-&gt;</operator><name pos:start="105:28" pos:end="105:37">max_queues</name></name></expr>;</condition> <incr pos:start="105:40" pos:end="105:42"><expr pos:start="105:40" pos:end="105:42"><name pos:start="105:40" pos:end="105:40">i</name><operator pos:start="105:41" pos:end="105:42">++</operator></expr></incr>)</control> <block pos:start="105:45" pos:end="109:9">{<block_content pos:start="107:13" pos:end="107:73">

            <expr_stmt pos:start="107:13" pos:end="107:73"><expr pos:start="107:13" pos:end="107:72"><call pos:start="107:13" pos:end="107:72"><name pos:start="107:13" pos:end="107:36">qemu_peer_using_vnet_hdr</name><argument_list pos:start="107:37" pos:end="107:72">(<argument pos:start="107:38" pos:end="107:65"><expr pos:start="107:38" pos:end="107:65"><call pos:start="107:38" pos:end="107:65"><name pos:start="107:38" pos:end="107:54">qemu_get_subqueue</name><argument_list pos:start="107:55" pos:end="107:65">(<argument pos:start="107:56" pos:end="107:61"><expr pos:start="107:56" pos:end="107:61"><name pos:start="107:56" pos:end="107:61"><name pos:start="107:56" pos:end="107:56">n</name><operator pos:start="107:57" pos:end="107:58">-&gt;</operator><name pos:start="107:59" pos:end="107:61">nic</name></name></expr></argument>, <argument pos:start="107:64" pos:end="107:64"><expr pos:start="107:64" pos:end="107:64"><name pos:start="107:64" pos:end="107:64">i</name></expr></argument>)</argument_list></call></expr></argument>, <argument pos:start="107:68" pos:end="107:71"><expr pos:start="107:68" pos:end="107:71"><name pos:start="107:68" pos:end="107:71">true</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></for>

        <expr_stmt pos:start="111:9" pos:end="111:56"><expr pos:start="111:9" pos:end="111:55"><name pos:start="111:9" pos:end="111:23"><name pos:start="111:9" pos:end="111:9">n</name><operator pos:start="111:10" pos:end="111:11">-&gt;</operator><name pos:start="111:12" pos:end="111:23">host_hdr_len</name></name> <operator pos:start="111:25" pos:end="111:25">=</operator> <sizeof pos:start="111:27" pos:end="111:55">sizeof<argument_list pos:start="111:33" pos:end="111:55">(<argument pos:start="111:34" pos:end="111:54"><expr pos:start="111:34" pos:end="111:54">struct <name pos:start="111:41" pos:end="111:54">virtio_net_hdr</name></expr></argument>)</argument_list></sizeof></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="113:7" pos:end="117:5">else <block pos:start="113:12" pos:end="117:5">{<block_content pos:start="115:9" pos:end="115:28">

        <expr_stmt pos:start="115:9" pos:end="115:28"><expr pos:start="115:9" pos:end="115:27"><name pos:start="115:9" pos:end="115:23"><name pos:start="115:9" pos:end="115:9">n</name><operator pos:start="115:10" pos:end="115:11">-&gt;</operator><name pos:start="115:12" pos:end="115:23">host_hdr_len</name></name> <operator pos:start="115:25" pos:end="115:25">=</operator> <literal type="number" pos:start="115:27" pos:end="115:27">0</literal></expr>;</expr_stmt>

    </block_content>}</block></else></if_stmt>



    <expr_stmt pos:start="121:5" pos:end="121:76"><expr pos:start="121:5" pos:end="121:75"><call pos:start="121:5" pos:end="121:75"><name pos:start="121:5" pos:end="121:28">qemu_format_nic_info_str</name><argument_list pos:start="121:29" pos:end="121:75">(<argument pos:start="121:30" pos:end="121:51"><expr pos:start="121:30" pos:end="121:51"><call pos:start="121:30" pos:end="121:51"><name pos:start="121:30" pos:end="121:43">qemu_get_queue</name><argument_list pos:start="121:44" pos:end="121:51">(<argument pos:start="121:45" pos:end="121:50"><expr pos:start="121:45" pos:end="121:50"><name pos:start="121:45" pos:end="121:50"><name pos:start="121:45" pos:end="121:45">n</name><operator pos:start="121:46" pos:end="121:47">-&gt;</operator><name pos:start="121:48" pos:end="121:50">nic</name></name></expr></argument>)</argument_list></call></expr></argument>, <argument pos:start="121:54" pos:end="121:74"><expr pos:start="121:54" pos:end="121:74"><name pos:start="121:54" pos:end="121:74"><name pos:start="121:54" pos:end="121:54">n</name><operator pos:start="121:55" pos:end="121:56">-&gt;</operator><name pos:start="121:57" pos:end="121:64">nic_conf</name><operator pos:start="121:65" pos:end="121:65">.</operator><name pos:start="121:66" pos:end="121:72">macaddr</name><operator pos:start="121:73" pos:end="121:73">.</operator><name pos:start="121:74" pos:end="121:74">a</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="125:5" pos:end="125:29"><expr pos:start="125:5" pos:end="125:28"><name pos:start="125:5" pos:end="125:13"><name pos:start="125:5" pos:end="125:5">n</name><operator pos:start="125:6" pos:end="125:7">-&gt;</operator><name pos:start="125:8" pos:end="125:10">vqs</name><index pos:start="125:11" pos:end="125:13">[<expr pos:start="125:12" pos:end="125:12"><literal type="number" pos:start="125:12" pos:end="125:12">0</literal></expr>]</index></name><operator pos:start="125:14" pos:end="125:14">.</operator><name pos:start="125:15" pos:end="125:24">tx_waiting</name> <operator pos:start="125:26" pos:end="125:26">=</operator> <literal type="number" pos:start="125:28" pos:end="125:28">0</literal></expr>;</expr_stmt>

    <expr_stmt pos:start="127:5" pos:end="127:38"><expr pos:start="127:5" pos:end="127:37"><name pos:start="127:5" pos:end="127:15"><name pos:start="127:5" pos:end="127:5">n</name><operator pos:start="127:6" pos:end="127:7">-&gt;</operator><name pos:start="127:8" pos:end="127:15">tx_burst</name></name> <operator pos:start="127:17" pos:end="127:17">=</operator> <name pos:start="127:19" pos:end="127:37"><name pos:start="127:19" pos:end="127:19">n</name><operator pos:start="127:20" pos:end="127:21">-&gt;</operator><name pos:start="127:22" pos:end="127:29">net_conf</name><operator pos:start="127:30" pos:end="127:30">.</operator><name pos:start="127:31" pos:end="127:37">txburst</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="129:5" pos:end="129:37"><expr pos:start="129:5" pos:end="129:36"><call pos:start="129:5" pos:end="129:36"><name pos:start="129:5" pos:end="129:30">virtio_net_set_mrg_rx_bufs</name><argument_list pos:start="129:31" pos:end="129:36">(<argument pos:start="129:32" pos:end="129:32"><expr pos:start="129:32" pos:end="129:32"><name pos:start="129:32" pos:end="129:32">n</name></expr></argument>, <argument pos:start="129:35" pos:end="129:35"><expr pos:start="129:35" pos:end="129:35"><literal type="number" pos:start="129:35" pos:end="129:35">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="131:5" pos:end="131:19"><expr pos:start="131:5" pos:end="131:18"><name pos:start="131:5" pos:end="131:14"><name pos:start="131:5" pos:end="131:5">n</name><operator pos:start="131:6" pos:end="131:7">-&gt;</operator><name pos:start="131:8" pos:end="131:14">promisc</name></name> <operator pos:start="131:16" pos:end="131:16">=</operator> <literal type="number" pos:start="131:18" pos:end="131:18">1</literal></expr>;</expr_stmt> <comment type="block" pos:start="131:21" pos:end="131:43">/* for compatibility */</comment>



    <expr_stmt pos:start="135:5" pos:end="135:64"><expr pos:start="135:5" pos:end="135:63"><name pos:start="135:5" pos:end="135:21"><name pos:start="135:5" pos:end="135:5">n</name><operator pos:start="135:6" pos:end="135:7">-&gt;</operator><name pos:start="135:8" pos:end="135:16">mac_table</name><operator pos:start="135:17" pos:end="135:17">.</operator><name pos:start="135:18" pos:end="135:21">macs</name></name> <operator pos:start="135:23" pos:end="135:23">=</operator> <call pos:start="135:25" pos:end="135:63"><name pos:start="135:25" pos:end="135:33">g_malloc0</name><argument_list pos:start="135:34" pos:end="135:63">(<argument pos:start="135:35" pos:end="135:62"><expr pos:start="135:35" pos:end="135:62"><name pos:start="135:35" pos:end="135:51">MAC_TABLE_ENTRIES</name> <operator pos:start="135:53" pos:end="135:53">*</operator> <name pos:start="135:55" pos:end="135:62">ETH_ALEN</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="139:5" pos:end="139:40"><expr pos:start="139:5" pos:end="139:39"><name pos:start="139:5" pos:end="139:12"><name pos:start="139:5" pos:end="139:5">n</name><operator pos:start="139:6" pos:end="139:7">-&gt;</operator><name pos:start="139:8" pos:end="139:12">vlans</name></name> <operator pos:start="139:14" pos:end="139:14">=</operator> <call pos:start="139:16" pos:end="139:39"><name pos:start="139:16" pos:end="139:24">g_malloc0</name><argument_list pos:start="139:25" pos:end="139:39">(<argument pos:start="139:26" pos:end="139:38"><expr pos:start="139:26" pos:end="139:38"><name pos:start="139:26" pos:end="139:33">MAX_VLAN</name> <operator pos:start="139:35" pos:end="139:36">&gt;&gt;</operator> <literal type="number" pos:start="139:38" pos:end="139:38">3</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="143:5" pos:end="143:32"><expr pos:start="143:5" pos:end="143:31"><name pos:start="143:5" pos:end="143:6">nc</name> <operator pos:start="143:8" pos:end="143:8">=</operator> <call pos:start="143:10" pos:end="143:31"><name pos:start="143:10" pos:end="143:23">qemu_get_queue</name><argument_list pos:start="143:24" pos:end="143:31">(<argument pos:start="143:25" pos:end="143:30"><expr pos:start="143:25" pos:end="143:30"><name pos:start="143:25" pos:end="143:30"><name pos:start="143:25" pos:end="143:25">n</name><operator pos:start="143:26" pos:end="143:27">-&gt;</operator><name pos:start="143:28" pos:end="143:30">nic</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="145:5" pos:end="145:36"><expr pos:start="145:5" pos:end="145:35"><name pos:start="145:5" pos:end="145:31"><name pos:start="145:5" pos:end="145:6">nc</name><operator pos:start="145:7" pos:end="145:8">-&gt;</operator><name pos:start="145:9" pos:end="145:31">rxfilter_notify_enabled</name></name> <operator pos:start="145:33" pos:end="145:33">=</operator> <literal type="number" pos:start="145:35" pos:end="145:35">1</literal></expr>;</expr_stmt>



    <expr_stmt pos:start="149:5" pos:end="149:18"><expr pos:start="149:5" pos:end="149:17"><name pos:start="149:5" pos:end="149:11"><name pos:start="149:5" pos:end="149:5">n</name><operator pos:start="149:6" pos:end="149:7">-&gt;</operator><name pos:start="149:8" pos:end="149:11">qdev</name></name> <operator pos:start="149:13" pos:end="149:13">=</operator> <name pos:start="149:15" pos:end="149:17">dev</name></expr>;</expr_stmt>

    <expr_stmt pos:start="151:5" pos:end="153:57"><expr pos:start="151:5" pos:end="153:56"><call pos:start="151:5" pos:end="153:56"><name pos:start="151:5" pos:end="151:19">register_savevm</name><argument_list pos:start="151:20" pos:end="153:56">(<argument pos:start="151:21" pos:end="151:23"><expr pos:start="151:21" pos:end="151:23"><name pos:start="151:21" pos:end="151:23">dev</name></expr></argument>, <argument pos:start="151:26" pos:end="151:37"><expr pos:start="151:26" pos:end="151:37"><literal type="string" pos:start="151:26" pos:end="151:37">"virtio-net"</literal></expr></argument>, <argument pos:start="151:40" pos:end="151:41"><expr pos:start="151:40" pos:end="151:41"><operator pos:start="151:40" pos:end="151:40">-</operator><literal type="number" pos:start="151:41" pos:end="151:41">1</literal></expr></argument>, <argument pos:start="151:44" pos:end="151:64"><expr pos:start="151:44" pos:end="151:64"><name pos:start="151:44" pos:end="151:64">VIRTIO_NET_VM_VERSION</name></expr></argument>,

                    <argument pos:start="153:21" pos:end="153:35"><expr pos:start="153:21" pos:end="153:35"><name pos:start="153:21" pos:end="153:35">virtio_net_save</name></expr></argument>, <argument pos:start="153:38" pos:end="153:52"><expr pos:start="153:38" pos:end="153:52"><name pos:start="153:38" pos:end="153:52">virtio_net_load</name></expr></argument>, <argument pos:start="153:55" pos:end="153:55"><expr pos:start="153:55" pos:end="153:55"><name pos:start="153:55" pos:end="153:55">n</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <expr_stmt pos:start="157:5" pos:end="157:72"><expr pos:start="157:5" pos:end="157:71"><call pos:start="157:5" pos:end="157:71"><name pos:start="157:5" pos:end="157:24">add_boot_device_path</name><argument_list pos:start="157:25" pos:end="157:71">(<argument pos:start="157:26" pos:end="157:46"><expr pos:start="157:26" pos:end="157:46"><name pos:start="157:26" pos:end="157:46"><name pos:start="157:26" pos:end="157:26">n</name><operator pos:start="157:27" pos:end="157:28">-&gt;</operator><name pos:start="157:29" pos:end="157:36">nic_conf</name><operator pos:start="157:37" pos:end="157:37">.</operator><name pos:start="157:38" pos:end="157:46">bootindex</name></name></expr></argument>, <argument pos:start="157:49" pos:end="157:51"><expr pos:start="157:49" pos:end="157:51"><name pos:start="157:49" pos:end="157:51">dev</name></expr></argument>, <argument pos:start="157:54" pos:end="157:70"><expr pos:start="157:54" pos:end="157:70"><literal type="string" pos:start="157:54" pos:end="157:70">"/ethernet-phy@0"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

</block_content>}</block></function>
</unit>
