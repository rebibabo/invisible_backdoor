<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/26763.c" pos:tabs="8"><function pos:start="1:1" pos:end="239:1"><type pos:start="1:1" pos:end="1:10"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:10">int</name></type> <name pos:start="1:12" pos:end="1:31">mpeg_decode_postinit</name><parameter_list pos:start="1:32" pos:end="1:54">(<parameter pos:start="1:33" pos:end="1:53"><decl pos:start="1:33" pos:end="1:53"><type pos:start="1:33" pos:end="1:48"><name pos:start="1:33" pos:end="1:46">AVCodecContext</name> <modifier pos:start="1:48" pos:end="1:48">*</modifier></type><name pos:start="1:49" pos:end="1:53">avctx</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="239:1">{<block_content pos:start="5:5" pos:end="237:13">

    <decl_stmt pos:start="5:5" pos:end="5:41"><decl pos:start="5:5" pos:end="5:40"><type pos:start="5:5" pos:end="5:18"><name pos:start="5:5" pos:end="5:16">Mpeg1Context</name> <modifier pos:start="5:18" pos:end="5:18">*</modifier></type><name pos:start="5:19" pos:end="5:20">s1</name>  <init pos:start="5:23" pos:end="5:40">= <expr pos:start="5:25" pos:end="5:40"><name pos:start="5:25" pos:end="5:40"><name pos:start="5:25" pos:end="5:29">avctx</name><operator pos:start="5:30" pos:end="5:31">-&gt;</operator><name pos:start="5:32" pos:end="5:40">priv_data</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:42"><decl pos:start="7:5" pos:end="7:41"><type pos:start="7:5" pos:end="7:20"><name pos:start="7:5" pos:end="7:18">MpegEncContext</name> <modifier pos:start="7:20" pos:end="7:20">*</modifier></type><name pos:start="7:21" pos:end="7:21">s</name> <init pos:start="7:23" pos:end="7:41">= <expr pos:start="7:25" pos:end="7:41"><operator pos:start="7:25" pos:end="7:25">&amp;</operator><name pos:start="7:26" pos:end="7:41"><name pos:start="7:26" pos:end="7:27">s1</name><operator pos:start="7:28" pos:end="7:29">-&gt;</operator><name pos:start="7:30" pos:end="7:41">mpeg_enc_ctx</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:32"><decl pos:start="9:5" pos:end="9:31"><type pos:start="9:5" pos:end="9:11"><name pos:start="9:5" pos:end="9:11">uint8_t</name></type> <name pos:start="9:13" pos:end="9:31"><name pos:start="9:13" pos:end="9:27">old_permutation</name><index pos:start="9:28" pos:end="9:31">[<expr pos:start="9:29" pos:end="9:30"><literal type="number" pos:start="9:29" pos:end="9:30">64</literal></expr>]</index></name></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:12"><decl pos:start="11:5" pos:end="11:11"><type pos:start="11:5" pos:end="11:7"><name pos:start="11:5" pos:end="11:7">int</name></type> <name pos:start="11:9" pos:end="11:11">ret</name></decl>;</decl_stmt>



    <if_stmt pos:start="15:5" pos:end="95:5"><if pos:start="15:5" pos:end="21:5">if <condition pos:start="15:8" pos:end="15:50">(<expr pos:start="15:9" pos:end="15:49"><name pos:start="15:9" pos:end="15:23"><name pos:start="15:9" pos:end="15:13">avctx</name><operator pos:start="15:14" pos:end="15:15">-&gt;</operator><name pos:start="15:16" pos:end="15:23">codec_id</name></name> <operator pos:start="15:25" pos:end="15:26">==</operator> <name pos:start="15:28" pos:end="15:49">AV_CODEC_ID_MPEG1VIDEO</name></expr>)</condition> <block pos:start="15:52" pos:end="21:5">{<block_content pos:start="19:9" pos:end="19:94">

        <comment type="line" pos:start="17:9" pos:end="17:24">// MPEG-1 aspect</comment>

        <expr_stmt pos:start="19:9" pos:end="19:94"><expr pos:start="19:9" pos:end="19:93"><name pos:start="19:9" pos:end="19:34"><name pos:start="19:9" pos:end="19:13">avctx</name><operator pos:start="19:14" pos:end="19:15">-&gt;</operator><name pos:start="19:16" pos:end="19:34">sample_aspect_ratio</name></name> <operator pos:start="19:36" pos:end="19:36">=</operator> <call pos:start="19:38" pos:end="19:93"><name pos:start="19:38" pos:end="19:43">av_d2q</name><argument_list pos:start="19:44" pos:end="19:93">(<argument pos:start="19:45" pos:end="19:87"><expr pos:start="19:45" pos:end="19:87"><literal type="number" pos:start="19:45" pos:end="19:47">1.0</literal> <operator pos:start="19:49" pos:end="19:49">/</operator> <name pos:start="19:51" pos:end="19:87"><name pos:start="19:51" pos:end="19:65">ff_mpeg1_aspect</name><index pos:start="19:66" pos:end="19:87">[<expr pos:start="19:67" pos:end="19:86"><name pos:start="19:67" pos:end="19:86"><name pos:start="19:67" pos:end="19:67">s</name><operator pos:start="19:68" pos:end="19:69">-&gt;</operator><name pos:start="19:70" pos:end="19:86">aspect_ratio_info</name></name></expr>]</index></name></expr></argument>, <argument pos:start="19:90" pos:end="19:92"><expr pos:start="19:90" pos:end="19:92"><literal type="number" pos:start="19:90" pos:end="19:92">255</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    </block_content>}</block></if> <else pos:start="21:7" pos:end="95:5">else <block pos:start="21:12" pos:end="95:5">{<block_content pos:start="25:9" pos:end="93:9"> <comment type="line" pos:start="21:14" pos:end="21:22">// MPEG-2</comment>

        <comment type="line" pos:start="23:9" pos:end="23:24">// MPEG-2 aspect</comment>

        <if_stmt pos:start="25:9" pos:end="93:9"><if pos:start="25:9" pos:end="87:9">if <condition pos:start="25:12" pos:end="25:37">(<expr pos:start="25:13" pos:end="25:36"><name pos:start="25:13" pos:end="25:32"><name pos:start="25:13" pos:end="25:13">s</name><operator pos:start="25:14" pos:end="25:15">-&gt;</operator><name pos:start="25:16" pos:end="25:32">aspect_ratio_info</name></name> <operator pos:start="25:34" pos:end="25:34">&gt;</operator> <literal type="number" pos:start="25:36" pos:end="25:36">1</literal></expr>)</condition> <block pos:start="25:39" pos:end="87:9">{<block_content pos:start="27:13" pos:end="85:13">

            <decl_stmt pos:start="27:13" pos:end="35:63"><decl pos:start="27:13" pos:end="35:62"><type pos:start="27:13" pos:end="27:22"><name pos:start="27:13" pos:end="27:22">AVRational</name></type> <name pos:start="27:24" pos:end="27:26">dar</name> <init pos:start="27:28" pos:end="35:62">=

                <macro pos:start="29:17" pos:end="35:62"><name pos:start="29:17" pos:end="29:24">av_mul_q</name><argument_list pos:start="29:25" pos:end="35:62">(<argument pos:start="29:26" pos:end="33:71">av_div_q(ff_mpeg2_aspect[s-&gt;aspect_ratio_info],

                                  (AVRational) { s1-&gt;pan_scan.width,

                                                 s1-&gt;pan_scan.height })</argument>,

                         <argument pos:start="35:26" pos:end="35:48">(AVRational) { s-&gt;width</argument>, <argument pos:start="35:51" pos:end="35:61">s-&gt;height }</argument>)</argument_list></macro></init></decl>;</decl_stmt>



            <comment type="block" pos:start="39:13" pos:end="45:37">/* We ignore the spec here and guess a bit as reality does not

             * match the spec, see for example res_change_ffmpeg_aspect.ts

             * and sequence-display-aspect.mpg.

             * issue1613, 621, 562 */</comment>

            <if_stmt pos:start="47:13" pos:end="85:13"><if pos:start="47:13" pos:end="59:13">if <condition pos:start="47:16" pos:end="51:56">(<expr pos:start="47:17" pos:end="51:55"><operator pos:start="47:17" pos:end="47:17">(</operator><name pos:start="47:18" pos:end="47:35"><name pos:start="47:18" pos:end="47:19">s1</name><operator pos:start="47:20" pos:end="47:21">-&gt;</operator><name pos:start="47:22" pos:end="47:29">pan_scan</name><operator pos:start="47:30" pos:end="47:30">.</operator><name pos:start="47:31" pos:end="47:35">width</name></name> <operator pos:start="47:37" pos:end="47:38">==</operator> <literal type="number" pos:start="47:40" pos:end="47:40">0</literal><operator pos:start="47:41" pos:end="47:41">)</operator> <operator pos:start="47:43" pos:end="47:44">||</operator> <operator pos:start="47:46" pos:end="47:46">(</operator><name pos:start="47:47" pos:end="47:65"><name pos:start="47:47" pos:end="47:48">s1</name><operator pos:start="47:49" pos:end="47:50">-&gt;</operator><name pos:start="47:51" pos:end="47:58">pan_scan</name><operator pos:start="47:59" pos:end="47:59">.</operator><name pos:start="47:60" pos:end="47:65">height</name></name> <operator pos:start="47:67" pos:end="47:68">==</operator> <literal type="number" pos:start="47:70" pos:end="47:70">0</literal><operator pos:start="47:71" pos:end="47:71">)</operator> <operator pos:start="47:73" pos:end="47:74">||</operator>

                <operator pos:start="49:17" pos:end="49:17">(</operator><macro pos:start="49:18" pos:end="49:53"><name pos:start="49:18" pos:end="49:25">av_cmp_q</name><argument_list pos:start="49:26" pos:end="49:53">(<argument pos:start="49:27" pos:end="49:29">dar</argument>, <argument pos:start="49:32" pos:end="49:47">(AVRational) { <literal type="number" pos:start="49:47" pos:end="49:47">4</literal></argument>, <argument pos:start="49:50" pos:end="49:52"><literal type="number" pos:start="49:50" pos:end="49:50">3</literal> }</argument>)</argument_list></macro> <operator pos:start="49:55" pos:end="49:56">&amp;&amp;</operator>

                 <macro pos:start="51:18" pos:end="51:54"><name pos:start="51:18" pos:end="51:25">av_cmp_q</name><argument_list pos:start="51:26" pos:end="51:54">(<argument pos:start="51:27" pos:end="51:29">dar</argument>, <argument pos:start="51:32" pos:end="51:48">(AVRational) { <literal type="number" pos:start="51:47" pos:end="51:48">16</literal></argument>, <argument pos:start="51:51" pos:end="51:53"><literal type="number" pos:start="51:51" pos:end="51:51">9</literal> }</argument>)</argument_list></macro><operator pos:start="51:55" pos:end="51:55">)</operator></expr>)</condition> <block pos:start="51:58" pos:end="59:13">{<block_content pos:start="53:17" pos:end="57:67">

                <expr_stmt pos:start="53:17" pos:end="57:67"><expr pos:start="53:17" pos:end="57:66"><name pos:start="53:17" pos:end="53:45"><name pos:start="53:17" pos:end="53:17">s</name><operator pos:start="53:18" pos:end="53:19">-&gt;</operator><name pos:start="53:20" pos:end="53:24">avctx</name><operator pos:start="53:25" pos:end="53:26">-&gt;</operator><name pos:start="53:27" pos:end="53:45">sample_aspect_ratio</name></name> <operator pos:start="53:47" pos:end="53:47">=</operator>

                    <macro pos:start="55:21" pos:end="57:66"><name pos:start="55:21" pos:end="55:28">av_div_q</name><argument_list pos:start="55:29" pos:end="57:66">(<argument pos:start="55:30" pos:end="55:66">ff_mpeg2_aspect[s-&gt;aspect_ratio_info]</argument>,

                             <argument pos:start="57:30" pos:end="57:52">(AVRational) { s-&gt;width</argument>, <argument pos:start="57:55" pos:end="57:65">s-&gt;height }</argument>)</argument_list></macro></expr>;</expr_stmt>

            </block_content>}</block></if> <else pos:start="59:15" pos:end="85:13">else <block pos:start="59:20" pos:end="85:13">{<block_content pos:start="61:17" pos:end="83:59">

                <expr_stmt pos:start="61:17" pos:end="65:87"><expr pos:start="61:17" pos:end="65:86"><name pos:start="61:17" pos:end="61:45"><name pos:start="61:17" pos:end="61:17">s</name><operator pos:start="61:18" pos:end="61:19">-&gt;</operator><name pos:start="61:20" pos:end="61:24">avctx</name><operator pos:start="61:25" pos:end="61:26">-&gt;</operator><name pos:start="61:27" pos:end="61:45">sample_aspect_ratio</name></name> <operator pos:start="61:47" pos:end="61:47">=</operator>

                    <macro pos:start="63:21" pos:end="65:86"><name pos:start="63:21" pos:end="63:28">av_div_q</name><argument_list pos:start="63:29" pos:end="65:86">(<argument pos:start="63:30" pos:end="63:66">ff_mpeg2_aspect[s-&gt;aspect_ratio_info]</argument>,

                             <argument pos:start="65:30" pos:end="65:62">(AVRational) { s1-&gt;pan_scan.width</argument>, <argument pos:start="65:65" pos:end="65:85">s1-&gt;pan_scan.height }</argument>)</argument_list></macro></expr>;</expr_stmt>

<comment type="line" pos:start="67:1" pos:end="67:29">// issue1613 4/3 16/9 -&gt; 16/9</comment>

<comment type="line" pos:start="69:1" pos:end="69:47">// res_change_ffmpeg_aspect.ts 4/3 225/44 -&gt;4/3</comment>

<comment type="line" pos:start="71:1" pos:end="71:43">// widescreen-issue562.mpg 4/3 16/9 -&gt; 16/9</comment>

<comment type="line" pos:start="73:1" pos:end="73:126">//                s-&gt;avctx-&gt;sample_aspect_ratio = av_mul_q(s-&gt;avctx-&gt;sample_aspect_ratio, (AVRational) {s-&gt;width, s-&gt;height});</comment>

                <expr_stmt pos:start="75:17" pos:end="79:67"><expr pos:start="75:17" pos:end="79:66"><call pos:start="75:17" pos:end="79:66"><name pos:start="75:17" pos:end="75:23">av_dlog</name><argument_list pos:start="75:24" pos:end="79:66">(<argument pos:start="75:25" pos:end="75:29"><expr pos:start="75:25" pos:end="75:29"><name pos:start="75:25" pos:end="75:29">avctx</name></expr></argument>, <argument pos:start="75:32" pos:end="75:42"><expr pos:start="75:32" pos:end="75:42"><literal type="string" pos:start="75:32" pos:end="75:42">"A %d/%d\n"</literal></expr></argument>,

                        <argument pos:start="77:25" pos:end="77:65"><expr pos:start="77:25" pos:end="77:65"><name pos:start="77:25" pos:end="77:61"><name pos:start="77:25" pos:end="77:39">ff_mpeg2_aspect</name><index pos:start="77:40" pos:end="77:61">[<expr pos:start="77:41" pos:end="77:60"><name pos:start="77:41" pos:end="77:60"><name pos:start="77:41" pos:end="77:41">s</name><operator pos:start="77:42" pos:end="77:43">-&gt;</operator><name pos:start="77:44" pos:end="77:60">aspect_ratio_info</name></name></expr>]</index></name><operator pos:start="77:62" pos:end="77:62">.</operator><name pos:start="77:63" pos:end="77:65">num</name></expr></argument>,

                        <argument pos:start="79:25" pos:end="79:65"><expr pos:start="79:25" pos:end="79:65"><name pos:start="79:25" pos:end="79:61"><name pos:start="79:25" pos:end="79:39">ff_mpeg2_aspect</name><index pos:start="79:40" pos:end="79:61">[<expr pos:start="79:41" pos:end="79:60"><name pos:start="79:41" pos:end="79:60"><name pos:start="79:41" pos:end="79:41">s</name><operator pos:start="79:42" pos:end="79:43">-&gt;</operator><name pos:start="79:44" pos:end="79:60">aspect_ratio_info</name></name></expr>]</index></name><operator pos:start="79:62" pos:end="79:62">.</operator><name pos:start="79:63" pos:end="79:65">den</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

                <expr_stmt pos:start="81:17" pos:end="83:59"><expr pos:start="81:17" pos:end="83:58"><call pos:start="81:17" pos:end="83:58"><name pos:start="81:17" pos:end="81:23">av_dlog</name><argument_list pos:start="81:24" pos:end="83:58">(<argument pos:start="81:25" pos:end="81:29"><expr pos:start="81:25" pos:end="81:29"><name pos:start="81:25" pos:end="81:29">avctx</name></expr></argument>, <argument pos:start="81:32" pos:end="81:42"><expr pos:start="81:32" pos:end="81:42"><literal type="string" pos:start="81:32" pos:end="81:42">"B %d/%d\n"</literal></expr></argument>, <argument pos:start="81:45" pos:end="81:77"><expr pos:start="81:45" pos:end="81:77"><name pos:start="81:45" pos:end="81:77"><name pos:start="81:45" pos:end="81:45">s</name><operator pos:start="81:46" pos:end="81:47">-&gt;</operator><name pos:start="81:48" pos:end="81:52">avctx</name><operator pos:start="81:53" pos:end="81:54">-&gt;</operator><name pos:start="81:55" pos:end="81:73">sample_aspect_ratio</name><operator pos:start="81:74" pos:end="81:74">.</operator><name pos:start="81:75" pos:end="81:77">num</name></name></expr></argument>,

                        <argument pos:start="83:25" pos:end="83:57"><expr pos:start="83:25" pos:end="83:57"><name pos:start="83:25" pos:end="83:57"><name pos:start="83:25" pos:end="83:25">s</name><operator pos:start="83:26" pos:end="83:27">-&gt;</operator><name pos:start="83:28" pos:end="83:32">avctx</name><operator pos:start="83:33" pos:end="83:34">-&gt;</operator><name pos:start="83:35" pos:end="83:53">sample_aspect_ratio</name><operator pos:start="83:54" pos:end="83:54">.</operator><name pos:start="83:55" pos:end="83:57">den</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            </block_content>}</block></else></if_stmt>

        </block_content>}</block></if> <else pos:start="87:11" pos:end="93:9">else <block pos:start="87:16" pos:end="93:9">{<block_content pos:start="89:13" pos:end="91:54">

            <expr_stmt pos:start="89:13" pos:end="91:54"><expr pos:start="89:13" pos:end="91:53"><name pos:start="89:13" pos:end="89:41"><name pos:start="89:13" pos:end="89:13">s</name><operator pos:start="89:14" pos:end="89:15">-&gt;</operator><name pos:start="89:16" pos:end="89:20">avctx</name><operator pos:start="89:21" pos:end="89:22">-&gt;</operator><name pos:start="89:23" pos:end="89:41">sample_aspect_ratio</name></name> <operator pos:start="89:43" pos:end="89:43">=</operator>

                <name pos:start="91:17" pos:end="91:53"><name pos:start="91:17" pos:end="91:31">ff_mpeg2_aspect</name><index pos:start="91:32" pos:end="91:53">[<expr pos:start="91:33" pos:end="91:52"><name pos:start="91:33" pos:end="91:52"><name pos:start="91:33" pos:end="91:33">s</name><operator pos:start="91:34" pos:end="91:35">-&gt;</operator><name pos:start="91:36" pos:end="91:52">aspect_ratio_info</name></name></expr>]</index></name></expr>;</expr_stmt>

        </block_content>}</block></else></if_stmt>

    </block_content>}</block></else></if_stmt> <comment type="line" pos:start="95:7" pos:end="95:15">// MPEG-2</comment>



    <expr_stmt pos:start="99:5" pos:end="99:56"><expr pos:start="99:5" pos:end="99:55"><call pos:start="99:5" pos:end="99:55"><name pos:start="99:5" pos:end="99:14">ff_set_sar</name><argument_list pos:start="99:15" pos:end="99:55">(<argument pos:start="99:16" pos:end="99:23"><expr pos:start="99:16" pos:end="99:23"><name pos:start="99:16" pos:end="99:23"><name pos:start="99:16" pos:end="99:16">s</name><operator pos:start="99:17" pos:end="99:18">-&gt;</operator><name pos:start="99:19" pos:end="99:23">avctx</name></name></expr></argument>, <argument pos:start="99:26" pos:end="99:54"><expr pos:start="99:26" pos:end="99:54"><name pos:start="99:26" pos:end="99:54"><name pos:start="99:26" pos:end="99:26">s</name><operator pos:start="99:27" pos:end="99:28">-&gt;</operator><name pos:start="99:29" pos:end="99:33">avctx</name><operator pos:start="99:34" pos:end="99:35">-&gt;</operator><name pos:start="99:36" pos:end="99:54">sample_aspect_ratio</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <if_stmt pos:start="103:5" pos:end="235:5"><if pos:start="103:5" pos:end="235:5">if <condition pos:start="103:8" pos:end="117:10">(<expr pos:start="103:9" pos:end="117:9"><operator pos:start="103:9" pos:end="103:9">(</operator><name pos:start="103:10" pos:end="103:35"><name pos:start="103:10" pos:end="103:11">s1</name><operator pos:start="103:12" pos:end="103:13">-&gt;</operator><name pos:start="103:14" pos:end="103:35">mpeg_enc_ctx_allocated</name></name> <operator pos:start="103:37" pos:end="103:38">==</operator> <literal type="number" pos:start="103:40" pos:end="103:40">0</literal><operator pos:start="103:41" pos:end="103:41">)</operator>                   <operator pos:start="103:61" pos:end="103:62">||</operator>

        <name pos:start="105:9" pos:end="105:26"><name pos:start="105:9" pos:end="105:13">avctx</name><operator pos:start="105:14" pos:end="105:15">-&gt;</operator><name pos:start="105:16" pos:end="105:26">coded_width</name></name>       <operator pos:start="105:34" pos:end="105:35">!=</operator> <name pos:start="105:37" pos:end="105:44"><name pos:start="105:37" pos:end="105:37">s</name><operator pos:start="105:38" pos:end="105:39">-&gt;</operator><name pos:start="105:40" pos:end="105:44">width</name></name>                <operator pos:start="105:61" pos:end="105:62">||</operator>

        <name pos:start="107:9" pos:end="107:27"><name pos:start="107:9" pos:end="107:13">avctx</name><operator pos:start="107:14" pos:end="107:15">-&gt;</operator><name pos:start="107:16" pos:end="107:27">coded_height</name></name>      <operator pos:start="107:34" pos:end="107:35">!=</operator> <name pos:start="107:37" pos:end="107:45"><name pos:start="107:37" pos:end="107:37">s</name><operator pos:start="107:38" pos:end="107:39">-&gt;</operator><name pos:start="107:40" pos:end="107:45">height</name></name>               <operator pos:start="107:61" pos:end="107:62">||</operator>

        <name pos:start="109:9" pos:end="109:22"><name pos:start="109:9" pos:end="109:10">s1</name><operator pos:start="109:11" pos:end="109:12">-&gt;</operator><name pos:start="109:13" pos:end="109:22">save_width</name></name>           <operator pos:start="109:34" pos:end="109:35">!=</operator> <name pos:start="109:37" pos:end="109:44"><name pos:start="109:37" pos:end="109:37">s</name><operator pos:start="109:38" pos:end="109:39">-&gt;</operator><name pos:start="109:40" pos:end="109:44">width</name></name>                <operator pos:start="109:61" pos:end="109:62">||</operator>

        <name pos:start="111:9" pos:end="111:23"><name pos:start="111:9" pos:end="111:10">s1</name><operator pos:start="111:11" pos:end="111:12">-&gt;</operator><name pos:start="111:13" pos:end="111:23">save_height</name></name>          <operator pos:start="111:34" pos:end="111:35">!=</operator> <name pos:start="111:37" pos:end="111:45"><name pos:start="111:37" pos:end="111:37">s</name><operator pos:start="111:38" pos:end="111:39">-&gt;</operator><name pos:start="111:40" pos:end="111:45">height</name></name>               <operator pos:start="111:61" pos:end="111:62">||</operator>

        <name pos:start="113:9" pos:end="113:28"><name pos:start="113:9" pos:end="113:10">s1</name><operator pos:start="113:11" pos:end="113:12">-&gt;</operator><name pos:start="113:13" pos:end="113:28">save_aspect_info</name></name>     <operator pos:start="113:34" pos:end="113:35">!=</operator> <name pos:start="113:37" pos:end="113:56"><name pos:start="113:37" pos:end="113:37">s</name><operator pos:start="113:38" pos:end="113:39">-&gt;</operator><name pos:start="113:40" pos:end="113:56">aspect_ratio_info</name></name>    <operator pos:start="113:61" pos:end="113:62">||</operator>

        <operator pos:start="115:9" pos:end="115:9">(</operator><name pos:start="115:10" pos:end="115:33"><name pos:start="115:10" pos:end="115:11">s1</name><operator pos:start="115:12" pos:end="115:13">-&gt;</operator><name pos:start="115:14" pos:end="115:33">save_progressive_seq</name></name> <operator pos:start="115:35" pos:end="115:36">!=</operator> <name pos:start="115:38" pos:end="115:60"><name pos:start="115:38" pos:end="115:38">s</name><operator pos:start="115:39" pos:end="115:40">-&gt;</operator><name pos:start="115:41" pos:end="115:60">progressive_sequence</name></name> <operator pos:start="115:62" pos:end="115:63">&amp;&amp;</operator> <call pos:start="115:65" pos:end="115:86"><name pos:start="115:65" pos:end="115:71">FFALIGN</name><argument_list pos:start="115:72" pos:end="115:86">(<argument pos:start="115:73" pos:end="115:81"><expr pos:start="115:73" pos:end="115:81"><name pos:start="115:73" pos:end="115:81"><name pos:start="115:73" pos:end="115:73">s</name><operator pos:start="115:74" pos:end="115:75">-&gt;</operator><name pos:start="115:76" pos:end="115:81">height</name></name></expr></argument>, <argument pos:start="115:84" pos:end="115:85"><expr pos:start="115:84" pos:end="115:85"><literal type="number" pos:start="115:84" pos:end="115:85">16</literal></expr></argument>)</argument_list></call> <operator pos:start="115:88" pos:end="115:89">!=</operator> <call pos:start="115:91" pos:end="115:112"><name pos:start="115:91" pos:end="115:97">FFALIGN</name><argument_list pos:start="115:98" pos:end="115:112">(<argument pos:start="115:99" pos:end="115:107"><expr pos:start="115:99" pos:end="115:107"><name pos:start="115:99" pos:end="115:107"><name pos:start="115:99" pos:end="115:99">s</name><operator pos:start="115:100" pos:end="115:101">-&gt;</operator><name pos:start="115:102" pos:end="115:107">height</name></name></expr></argument>, <argument pos:start="115:110" pos:end="115:111"><expr pos:start="115:110" pos:end="115:111"><literal type="number" pos:start="115:110" pos:end="115:111">32</literal></expr></argument>)</argument_list></call><operator pos:start="115:113" pos:end="115:113">)</operator> <operator pos:start="115:115" pos:end="115:116">||</operator>

        <literal type="number" pos:start="117:9" pos:end="117:9">0</literal></expr>)</condition> <block pos:start="117:12" pos:end="235:5">{<block_content pos:start="119:9" pos:end="233:39">

        <if_stmt pos:start="119:9" pos:end="131:9"><if pos:start="119:9" pos:end="131:9">if <condition pos:start="119:12" pos:end="119:39">(<expr pos:start="119:13" pos:end="119:38"><name pos:start="119:13" pos:end="119:38"><name pos:start="119:13" pos:end="119:14">s1</name><operator pos:start="119:15" pos:end="119:16">-&gt;</operator><name pos:start="119:17" pos:end="119:38">mpeg_enc_ctx_allocated</name></name></expr>)</condition> <block pos:start="119:41" pos:end="131:9">{<block_content pos:start="121:13" pos:end="129:43">

            <decl_stmt pos:start="121:13" pos:end="121:47"><decl pos:start="121:13" pos:end="121:46"><type pos:start="121:13" pos:end="121:24"><name pos:start="121:13" pos:end="121:24">ParseContext</name></type> <name pos:start="121:26" pos:end="121:27">pc</name> <init pos:start="121:29" pos:end="121:46">= <expr pos:start="121:31" pos:end="121:46"><name pos:start="121:31" pos:end="121:46"><name pos:start="121:31" pos:end="121:31">s</name><operator pos:start="121:32" pos:end="121:33">-&gt;</operator><name pos:start="121:34" pos:end="121:46">parse_context</name></name></expr></init></decl>;</decl_stmt>

            <expr_stmt pos:start="123:13" pos:end="123:40"><expr pos:start="123:13" pos:end="123:39"><name pos:start="123:13" pos:end="123:35"><name pos:start="123:13" pos:end="123:13">s</name><operator pos:start="123:14" pos:end="123:15">-&gt;</operator><name pos:start="123:16" pos:end="123:28">parse_context</name><operator pos:start="123:29" pos:end="123:29">.</operator><name pos:start="123:30" pos:end="123:35">buffer</name></name> <operator pos:start="123:37" pos:end="123:37">=</operator> <literal type="number" pos:start="123:39" pos:end="123:39">0</literal></expr>;</expr_stmt>

            <expr_stmt pos:start="125:13" pos:end="125:33"><expr pos:start="125:13" pos:end="125:32"><call pos:start="125:13" pos:end="125:32"><name pos:start="125:13" pos:end="125:29">ff_mpv_common_end</name><argument_list pos:start="125:30" pos:end="125:32">(<argument pos:start="125:31" pos:end="125:31"><expr pos:start="125:31" pos:end="125:31"><name pos:start="125:31" pos:end="125:31">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="127:13" pos:end="127:34"><expr pos:start="127:13" pos:end="127:33"><name pos:start="127:13" pos:end="127:28"><name pos:start="127:13" pos:end="127:13">s</name><operator pos:start="127:14" pos:end="127:15">-&gt;</operator><name pos:start="127:16" pos:end="127:28">parse_context</name></name> <operator pos:start="127:30" pos:end="127:30">=</operator> <name pos:start="127:32" pos:end="127:33">pc</name></expr>;</expr_stmt>

            <expr_stmt pos:start="129:13" pos:end="129:43"><expr pos:start="129:13" pos:end="129:42"><name pos:start="129:13" pos:end="129:38"><name pos:start="129:13" pos:end="129:14">s1</name><operator pos:start="129:15" pos:end="129:16">-&gt;</operator><name pos:start="129:17" pos:end="129:38">mpeg_enc_ctx_allocated</name></name> <operator pos:start="129:40" pos:end="129:40">=</operator> <literal type="number" pos:start="129:42" pos:end="129:42">0</literal></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>



        <expr_stmt pos:start="135:9" pos:end="135:60"><expr pos:start="135:9" pos:end="135:59"><name pos:start="135:9" pos:end="135:11">ret</name> <operator pos:start="135:13" pos:end="135:13">=</operator> <call pos:start="135:15" pos:end="135:59"><name pos:start="135:15" pos:end="135:31">ff_set_dimensions</name><argument_list pos:start="135:32" pos:end="135:59">(<argument pos:start="135:33" pos:end="135:37"><expr pos:start="135:33" pos:end="135:37"><name pos:start="135:33" pos:end="135:37">avctx</name></expr></argument>, <argument pos:start="135:40" pos:end="135:47"><expr pos:start="135:40" pos:end="135:47"><name pos:start="135:40" pos:end="135:47"><name pos:start="135:40" pos:end="135:40">s</name><operator pos:start="135:41" pos:end="135:42">-&gt;</operator><name pos:start="135:43" pos:end="135:47">width</name></name></expr></argument>, <argument pos:start="135:50" pos:end="135:58"><expr pos:start="135:50" pos:end="135:58"><name pos:start="135:50" pos:end="135:58"><name pos:start="135:50" pos:end="135:50">s</name><operator pos:start="135:51" pos:end="135:52">-&gt;</operator><name pos:start="135:53" pos:end="135:58">height</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="137:9" pos:end="139:23"><if pos:start="137:9" pos:end="139:23">if <condition pos:start="137:12" pos:end="137:20">(<expr pos:start="137:13" pos:end="137:19"><name pos:start="137:13" pos:end="137:15">ret</name> <operator pos:start="137:17" pos:end="137:17">&lt;</operator> <literal type="number" pos:start="137:19" pos:end="137:19">0</literal></expr>)</condition><block type="pseudo" pos:start="139:13" pos:end="139:23"><block_content pos:start="139:13" pos:end="139:23">

            <return pos:start="139:13" pos:end="139:23">return <expr pos:start="139:20" pos:end="139:22"><name pos:start="139:20" pos:end="139:22">ret</name></expr>;</return></block_content></block></if></if_stmt>



        <if_stmt pos:start="143:9" pos:end="153:9"><if pos:start="143:9" pos:end="147:9">if <condition pos:start="143:12" pos:end="143:69">(<expr pos:start="143:13" pos:end="143:68"><name pos:start="143:13" pos:end="143:27"><name pos:start="143:13" pos:end="143:17">avctx</name><operator pos:start="143:18" pos:end="143:19">-&gt;</operator><name pos:start="143:20" pos:end="143:27">codec_id</name></name> <operator pos:start="143:29" pos:end="143:30">==</operator> <name pos:start="143:32" pos:end="143:53">AV_CODEC_ID_MPEG2VIDEO</name> <operator pos:start="143:55" pos:end="143:56">&amp;&amp;</operator> <name pos:start="143:58" pos:end="143:68"><name pos:start="143:58" pos:end="143:58">s</name><operator pos:start="143:59" pos:end="143:60">-&gt;</operator><name pos:start="143:61" pos:end="143:68">bit_rate</name></name></expr>)</condition> <block pos:start="143:71" pos:end="147:9">{<block_content pos:start="145:13" pos:end="145:45">

            <expr_stmt pos:start="145:13" pos:end="145:45"><expr pos:start="145:13" pos:end="145:44"><name pos:start="145:13" pos:end="145:30"><name pos:start="145:13" pos:end="145:17">avctx</name><operator pos:start="145:18" pos:end="145:19">-&gt;</operator><name pos:start="145:20" pos:end="145:30">rc_max_rate</name></name> <operator pos:start="145:32" pos:end="145:32">=</operator> <name pos:start="145:34" pos:end="145:44"><name pos:start="145:34" pos:end="145:34">s</name><operator pos:start="145:35" pos:end="145:36">-&gt;</operator><name pos:start="145:37" pos:end="145:44">bit_rate</name></name></expr>;</expr_stmt>

        </block_content>}</block></if> <if type="elseif" pos:start="147:11" pos:end="153:9">else if <condition pos:start="147:19" pos:end="149:74">(<expr pos:start="147:20" pos:end="149:73"><name pos:start="147:20" pos:end="147:34"><name pos:start="147:20" pos:end="147:24">avctx</name><operator pos:start="147:25" pos:end="147:26">-&gt;</operator><name pos:start="147:27" pos:end="147:34">codec_id</name></name> <operator pos:start="147:36" pos:end="147:37">==</operator> <name pos:start="147:39" pos:end="147:60">AV_CODEC_ID_MPEG1VIDEO</name> <operator pos:start="147:62" pos:end="147:63">&amp;&amp;</operator> <name pos:start="147:65" pos:end="147:75"><name pos:start="147:65" pos:end="147:65">s</name><operator pos:start="147:66" pos:end="147:67">-&gt;</operator><name pos:start="147:68" pos:end="147:75">bit_rate</name></name> <operator pos:start="147:77" pos:end="147:78">&amp;&amp;</operator>

                   <operator pos:start="149:20" pos:end="149:20">(</operator><name pos:start="149:21" pos:end="149:31"><name pos:start="149:21" pos:end="149:21">s</name><operator pos:start="149:22" pos:end="149:23">-&gt;</operator><name pos:start="149:24" pos:end="149:31">bit_rate</name></name> <operator pos:start="149:33" pos:end="149:34">!=</operator> <literal type="number" pos:start="149:36" pos:end="149:42">0x3FFFF</literal><operator pos:start="149:43" pos:end="149:43">*</operator><literal type="number" pos:start="149:44" pos:end="149:46">400</literal> <operator pos:start="149:48" pos:end="149:49">||</operator> <name pos:start="149:51" pos:end="149:62"><name pos:start="149:51" pos:end="149:51">s</name><operator pos:start="149:52" pos:end="149:53">-&gt;</operator><name pos:start="149:54" pos:end="149:62">vbv_delay</name></name> <operator pos:start="149:64" pos:end="149:65">!=</operator> <literal type="number" pos:start="149:67" pos:end="149:72">0xFFFF</literal><operator pos:start="149:73" pos:end="149:73">)</operator></expr>)</condition> <block pos:start="149:76" pos:end="153:9">{<block_content pos:start="151:13" pos:end="151:42">

            <expr_stmt pos:start="151:13" pos:end="151:42"><expr pos:start="151:13" pos:end="151:41"><name pos:start="151:13" pos:end="151:27"><name pos:start="151:13" pos:end="151:17">avctx</name><operator pos:start="151:18" pos:end="151:19">-&gt;</operator><name pos:start="151:20" pos:end="151:27">bit_rate</name></name> <operator pos:start="151:29" pos:end="151:29">=</operator> <name pos:start="151:31" pos:end="151:41"><name pos:start="151:31" pos:end="151:31">s</name><operator pos:start="151:32" pos:end="151:33">-&gt;</operator><name pos:start="151:34" pos:end="151:41">bit_rate</name></name></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>

        <expr_stmt pos:start="155:9" pos:end="155:56"><expr pos:start="155:9" pos:end="155:55"><name pos:start="155:9" pos:end="155:28"><name pos:start="155:9" pos:end="155:10">s1</name><operator pos:start="155:11" pos:end="155:12">-&gt;</operator><name pos:start="155:13" pos:end="155:28">save_aspect_info</name></name>     <operator pos:start="155:34" pos:end="155:34">=</operator> <name pos:start="155:36" pos:end="155:55"><name pos:start="155:36" pos:end="155:36">s</name><operator pos:start="155:37" pos:end="155:38">-&gt;</operator><name pos:start="155:39" pos:end="155:55">aspect_ratio_info</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="157:9" pos:end="157:44"><expr pos:start="157:9" pos:end="157:43"><name pos:start="157:9" pos:end="157:22"><name pos:start="157:9" pos:end="157:10">s1</name><operator pos:start="157:11" pos:end="157:12">-&gt;</operator><name pos:start="157:13" pos:end="157:22">save_width</name></name>           <operator pos:start="157:34" pos:end="157:34">=</operator> <name pos:start="157:36" pos:end="157:43"><name pos:start="157:36" pos:end="157:36">s</name><operator pos:start="157:37" pos:end="157:38">-&gt;</operator><name pos:start="157:39" pos:end="157:43">width</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="159:9" pos:end="159:45"><expr pos:start="159:9" pos:end="159:44"><name pos:start="159:9" pos:end="159:23"><name pos:start="159:9" pos:end="159:10">s1</name><operator pos:start="159:11" pos:end="159:12">-&gt;</operator><name pos:start="159:13" pos:end="159:23">save_height</name></name>          <operator pos:start="159:34" pos:end="159:34">=</operator> <name pos:start="159:36" pos:end="159:44"><name pos:start="159:36" pos:end="159:36">s</name><operator pos:start="159:37" pos:end="159:38">-&gt;</operator><name pos:start="159:39" pos:end="159:44">height</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="161:9" pos:end="161:59"><expr pos:start="161:9" pos:end="161:58"><name pos:start="161:9" pos:end="161:32"><name pos:start="161:9" pos:end="161:10">s1</name><operator pos:start="161:11" pos:end="161:12">-&gt;</operator><name pos:start="161:13" pos:end="161:32">save_progressive_seq</name></name> <operator pos:start="161:34" pos:end="161:34">=</operator> <name pos:start="161:36" pos:end="161:58"><name pos:start="161:36" pos:end="161:36">s</name><operator pos:start="161:37" pos:end="161:38">-&gt;</operator><name pos:start="161:39" pos:end="161:58">progressive_sequence</name></name></expr>;</expr_stmt>



        <comment type="block" pos:start="165:9" pos:end="167:40">/* low_delay may be forced, in this case we will have B-frames

         * that behave like P-frames. */</comment>

        <expr_stmt pos:start="169:9" pos:end="169:44"><expr pos:start="169:9" pos:end="169:43"><name pos:start="169:9" pos:end="169:27"><name pos:start="169:9" pos:end="169:13">avctx</name><operator pos:start="169:14" pos:end="169:15">-&gt;</operator><name pos:start="169:16" pos:end="169:27">has_b_frames</name></name> <operator pos:start="169:29" pos:end="169:29">=</operator> <operator pos:start="169:31" pos:end="169:31">!</operator><name pos:start="169:32" pos:end="169:43"><name pos:start="169:32" pos:end="169:32">s</name><operator pos:start="169:33" pos:end="169:34">-&gt;</operator><name pos:start="169:35" pos:end="169:43">low_delay</name></name></expr>;</expr_stmt>



        <if_stmt pos:start="173:9" pos:end="197:9"><if pos:start="173:9" pos:end="181:9">if <condition pos:start="173:12" pos:end="173:54">(<expr pos:start="173:13" pos:end="173:53"><name pos:start="173:13" pos:end="173:27"><name pos:start="173:13" pos:end="173:17">avctx</name><operator pos:start="173:18" pos:end="173:19">-&gt;</operator><name pos:start="173:20" pos:end="173:27">codec_id</name></name> <operator pos:start="173:29" pos:end="173:30">==</operator> <name pos:start="173:32" pos:end="173:53">AV_CODEC_ID_MPEG1VIDEO</name></expr>)</condition> <block pos:start="173:56" pos:end="181:9">{<block_content pos:start="177:13" pos:end="179:43">

            <comment type="line" pos:start="175:13" pos:end="175:25">// MPEG-1 fps</comment>

            <expr_stmt pos:start="177:13" pos:end="177:77"><expr pos:start="177:13" pos:end="177:76"><name pos:start="177:13" pos:end="177:28"><name pos:start="177:13" pos:end="177:17">avctx</name><operator pos:start="177:18" pos:end="177:19">-&gt;</operator><name pos:start="177:20" pos:end="177:28">framerate</name></name> <operator pos:start="177:30" pos:end="177:30">=</operator> <name pos:start="177:32" pos:end="177:76"><name pos:start="177:32" pos:end="177:55">ff_mpeg12_frame_rate_tab</name><index pos:start="177:56" pos:end="177:76">[<expr pos:start="177:57" pos:end="177:75"><name pos:start="177:57" pos:end="177:75"><name pos:start="177:57" pos:end="177:57">s</name><operator pos:start="177:58" pos:end="177:59">-&gt;</operator><name pos:start="177:60" pos:end="177:75">frame_rate_index</name></name></expr>]</index></name></expr>;</expr_stmt>

            <expr_stmt pos:start="179:13" pos:end="179:43"><expr pos:start="179:13" pos:end="179:42"><name pos:start="179:13" pos:end="179:34"><name pos:start="179:13" pos:end="179:17">avctx</name><operator pos:start="179:18" pos:end="179:19">-&gt;</operator><name pos:start="179:20" pos:end="179:34">ticks_per_frame</name></name>     <operator pos:start="179:40" pos:end="179:40">=</operator> <literal type="number" pos:start="179:42" pos:end="179:42">1</literal></expr>;</expr_stmt>

        </block_content>}</block></if> <else pos:start="181:11" pos:end="197:9">else <block pos:start="181:16" pos:end="197:9">{<block_content pos:start="185:13" pos:end="195:39"> <comment type="line" pos:start="181:18" pos:end="181:26">// MPEG-2</comment>

            <comment type="line" pos:start="183:13" pos:end="183:25">// MPEG-2 fps</comment>

            <expr_stmt pos:start="185:13" pos:end="193:31"><expr pos:start="185:13" pos:end="193:30"><call pos:start="185:13" pos:end="193:30"><name pos:start="185:13" pos:end="185:21">av_reduce</name><argument_list pos:start="185:22" pos:end="193:30">(<argument pos:start="185:23" pos:end="185:46"><expr pos:start="185:23" pos:end="185:46"><operator pos:start="185:23" pos:end="185:23">&amp;</operator><name pos:start="185:24" pos:end="185:46"><name pos:start="185:24" pos:end="185:24">s</name><operator pos:start="185:25" pos:end="185:26">-&gt;</operator><name pos:start="185:27" pos:end="185:31">avctx</name><operator pos:start="185:32" pos:end="185:33">-&gt;</operator><name pos:start="185:34" pos:end="185:42">framerate</name><operator pos:start="185:43" pos:end="185:43">.</operator><name pos:start="185:44" pos:end="185:46">num</name></name></expr></argument>,

                      <argument pos:start="187:23" pos:end="187:46"><expr pos:start="187:23" pos:end="187:46"><operator pos:start="187:23" pos:end="187:23">&amp;</operator><name pos:start="187:24" pos:end="187:46"><name pos:start="187:24" pos:end="187:24">s</name><operator pos:start="187:25" pos:end="187:26">-&gt;</operator><name pos:start="187:27" pos:end="187:31">avctx</name><operator pos:start="187:32" pos:end="187:33">-&gt;</operator><name pos:start="187:34" pos:end="187:42">framerate</name><operator pos:start="187:43" pos:end="187:43">.</operator><name pos:start="187:44" pos:end="187:46">den</name></name></expr></argument>,

                      <argument pos:start="189:23" pos:end="189:96"><expr pos:start="189:23" pos:end="189:96"><name pos:start="189:23" pos:end="189:67"><name pos:start="189:23" pos:end="189:46">ff_mpeg12_frame_rate_tab</name><index pos:start="189:47" pos:end="189:67">[<expr pos:start="189:48" pos:end="189:66"><name pos:start="189:48" pos:end="189:66"><name pos:start="189:48" pos:end="189:48">s</name><operator pos:start="189:49" pos:end="189:50">-&gt;</operator><name pos:start="189:51" pos:end="189:66">frame_rate_index</name></name></expr>]</index></name><operator pos:start="189:68" pos:end="189:68">.</operator><name pos:start="189:69" pos:end="189:71">num</name> <operator pos:start="189:73" pos:end="189:73">*</operator> <name pos:start="189:75" pos:end="189:96"><name pos:start="189:75" pos:end="189:76">s1</name><operator pos:start="189:77" pos:end="189:78">-&gt;</operator><name pos:start="189:79" pos:end="189:92">frame_rate_ext</name><operator pos:start="189:93" pos:end="189:93">.</operator><name pos:start="189:94" pos:end="189:96">num</name></name></expr></argument>,

                      <argument pos:start="191:23" pos:end="191:96"><expr pos:start="191:23" pos:end="191:96"><name pos:start="191:23" pos:end="191:67"><name pos:start="191:23" pos:end="191:46">ff_mpeg12_frame_rate_tab</name><index pos:start="191:47" pos:end="191:67">[<expr pos:start="191:48" pos:end="191:66"><name pos:start="191:48" pos:end="191:66"><name pos:start="191:48" pos:end="191:48">s</name><operator pos:start="191:49" pos:end="191:50">-&gt;</operator><name pos:start="191:51" pos:end="191:66">frame_rate_index</name></name></expr>]</index></name><operator pos:start="191:68" pos:end="191:68">.</operator><name pos:start="191:69" pos:end="191:71">den</name> <operator pos:start="191:73" pos:end="191:73">*</operator> <name pos:start="191:75" pos:end="191:96"><name pos:start="191:75" pos:end="191:76">s1</name><operator pos:start="191:77" pos:end="191:78">-&gt;</operator><name pos:start="191:79" pos:end="191:92">frame_rate_ext</name><operator pos:start="191:93" pos:end="191:93">.</operator><name pos:start="191:94" pos:end="191:96">den</name></name></expr></argument>,

                      <argument pos:start="193:23" pos:end="193:29"><expr pos:start="193:23" pos:end="193:29"><literal type="number" pos:start="193:23" pos:end="193:23">1</literal> <operator pos:start="193:25" pos:end="193:26">&lt;&lt;</operator> <literal type="number" pos:start="193:28" pos:end="193:29">30</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="195:13" pos:end="195:39"><expr pos:start="195:13" pos:end="195:38"><name pos:start="195:13" pos:end="195:34"><name pos:start="195:13" pos:end="195:17">avctx</name><operator pos:start="195:18" pos:end="195:19">-&gt;</operator><name pos:start="195:20" pos:end="195:34">ticks_per_frame</name></name> <operator pos:start="195:36" pos:end="195:36">=</operator> <literal type="number" pos:start="195:38" pos:end="195:38">2</literal></expr>;</expr_stmt>

        </block_content>}</block></else></if_stmt> <comment type="line" pos:start="197:11" pos:end="197:19">// MPEG-2</comment>



        <expr_stmt pos:start="201:9" pos:end="201:53"><expr pos:start="201:9" pos:end="201:52"><name pos:start="201:9" pos:end="201:22"><name pos:start="201:9" pos:end="201:13">avctx</name><operator pos:start="201:14" pos:end="201:15">-&gt;</operator><name pos:start="201:16" pos:end="201:22">pix_fmt</name></name> <operator pos:start="201:24" pos:end="201:24">=</operator> <call pos:start="201:26" pos:end="201:52"><name pos:start="201:26" pos:end="201:45">mpeg_get_pixelformat</name><argument_list pos:start="201:46" pos:end="201:52">(<argument pos:start="201:47" pos:end="201:51"><expr pos:start="201:47" pos:end="201:51"><name pos:start="201:47" pos:end="201:51">avctx</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="203:9" pos:end="203:40"><expr pos:start="203:9" pos:end="203:39"><call pos:start="203:9" pos:end="203:39"><name pos:start="203:9" pos:end="203:32">setup_hwaccel_for_pixfmt</name><argument_list pos:start="203:33" pos:end="203:39">(<argument pos:start="203:34" pos:end="203:38"><expr pos:start="203:34" pos:end="203:38"><name pos:start="203:34" pos:end="203:38">avctx</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <comment type="block" pos:start="207:9" pos:end="209:44">/* Quantization matrices may need reordering

         * if DCT permutation is changed. */</comment>

        <expr_stmt pos:start="211:9" pos:end="211:80"><expr pos:start="211:9" pos:end="211:79"><call pos:start="211:9" pos:end="211:79"><name pos:start="211:9" pos:end="211:14">memcpy</name><argument_list pos:start="211:15" pos:end="211:79">(<argument pos:start="211:16" pos:end="211:30"><expr pos:start="211:16" pos:end="211:30"><name pos:start="211:16" pos:end="211:30">old_permutation</name></expr></argument>, <argument pos:start="211:33" pos:end="211:56"><expr pos:start="211:33" pos:end="211:56"><name pos:start="211:33" pos:end="211:56"><name pos:start="211:33" pos:end="211:33">s</name><operator pos:start="211:34" pos:end="211:35">-&gt;</operator><name pos:start="211:36" pos:end="211:39">idsp</name><operator pos:start="211:40" pos:end="211:40">.</operator><name pos:start="211:41" pos:end="211:56">idct_permutation</name></name></expr></argument>, <argument pos:start="211:59" pos:end="211:78"><expr pos:start="211:59" pos:end="211:78"><literal type="number" pos:start="211:59" pos:end="211:60">64</literal> <operator pos:start="211:62" pos:end="211:62">*</operator> <sizeof pos:start="211:64" pos:end="211:78">sizeof<argument_list pos:start="211:70" pos:end="211:78">(<argument pos:start="211:71" pos:end="211:77"><expr pos:start="211:71" pos:end="211:77"><name pos:start="211:71" pos:end="211:77">uint8_t</name></expr></argument>)</argument_list></sizeof></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <expr_stmt pos:start="215:9" pos:end="215:28"><expr pos:start="215:9" pos:end="215:27"><call pos:start="215:9" pos:end="215:27"><name pos:start="215:9" pos:end="215:24">ff_mpv_idct_init</name><argument_list pos:start="215:25" pos:end="215:27">(<argument pos:start="215:26" pos:end="215:26"><expr pos:start="215:26" pos:end="215:26"><name pos:start="215:26" pos:end="215:26">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="217:9" pos:end="219:23"><if pos:start="217:9" pos:end="219:23">if <condition pos:start="217:12" pos:end="217:46">(<expr pos:start="217:13" pos:end="217:45"><operator pos:start="217:13" pos:end="217:13">(</operator><name pos:start="217:14" pos:end="217:16">ret</name> <operator pos:start="217:18" pos:end="217:18">=</operator> <call pos:start="217:20" pos:end="217:40"><name pos:start="217:20" pos:end="217:37">ff_mpv_common_init</name><argument_list pos:start="217:38" pos:end="217:40">(<argument pos:start="217:39" pos:end="217:39"><expr pos:start="217:39" pos:end="217:39"><name pos:start="217:39" pos:end="217:39">s</name></expr></argument>)</argument_list></call><operator pos:start="217:41" pos:end="217:41">)</operator> <operator pos:start="217:43" pos:end="217:43">&lt;</operator> <literal type="number" pos:start="217:45" pos:end="217:45">0</literal></expr>)</condition><block type="pseudo" pos:start="219:13" pos:end="219:23"><block_content pos:start="219:13" pos:end="219:23">

            <return pos:start="219:13" pos:end="219:23">return <expr pos:start="219:20" pos:end="219:22"><name pos:start="219:20" pos:end="219:22">ret</name></expr>;</return></block_content></block></if></if_stmt>



        <expr_stmt pos:start="223:9" pos:end="223:96"><expr pos:start="223:9" pos:end="223:95"><call pos:start="223:9" pos:end="223:95"><name pos:start="223:9" pos:end="223:28">quant_matrix_rebuild</name><argument_list pos:start="223:29" pos:end="223:95">(<argument pos:start="223:30" pos:end="223:44"><expr pos:start="223:30" pos:end="223:44"><name pos:start="223:30" pos:end="223:44"><name pos:start="223:30" pos:end="223:30">s</name><operator pos:start="223:31" pos:end="223:32">-&gt;</operator><name pos:start="223:33" pos:end="223:44">intra_matrix</name></name></expr></argument>,        <argument pos:start="223:54" pos:end="223:68"><expr pos:start="223:54" pos:end="223:68"><name pos:start="223:54" pos:end="223:68">old_permutation</name></expr></argument>, <argument pos:start="223:71" pos:end="223:94"><expr pos:start="223:71" pos:end="223:94"><name pos:start="223:71" pos:end="223:94"><name pos:start="223:71" pos:end="223:71">s</name><operator pos:start="223:72" pos:end="223:73">-&gt;</operator><name pos:start="223:74" pos:end="223:77">idsp</name><operator pos:start="223:78" pos:end="223:78">.</operator><name pos:start="223:79" pos:end="223:94">idct_permutation</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="225:9" pos:end="225:96"><expr pos:start="225:9" pos:end="225:95"><call pos:start="225:9" pos:end="225:95"><name pos:start="225:9" pos:end="225:28">quant_matrix_rebuild</name><argument_list pos:start="225:29" pos:end="225:95">(<argument pos:start="225:30" pos:end="225:44"><expr pos:start="225:30" pos:end="225:44"><name pos:start="225:30" pos:end="225:44"><name pos:start="225:30" pos:end="225:30">s</name><operator pos:start="225:31" pos:end="225:32">-&gt;</operator><name pos:start="225:33" pos:end="225:44">inter_matrix</name></name></expr></argument>,        <argument pos:start="225:54" pos:end="225:68"><expr pos:start="225:54" pos:end="225:68"><name pos:start="225:54" pos:end="225:68">old_permutation</name></expr></argument>, <argument pos:start="225:71" pos:end="225:94"><expr pos:start="225:71" pos:end="225:94"><name pos:start="225:71" pos:end="225:94"><name pos:start="225:71" pos:end="225:71">s</name><operator pos:start="225:72" pos:end="225:73">-&gt;</operator><name pos:start="225:74" pos:end="225:77">idsp</name><operator pos:start="225:78" pos:end="225:78">.</operator><name pos:start="225:79" pos:end="225:94">idct_permutation</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="227:9" pos:end="227:96"><expr pos:start="227:9" pos:end="227:95"><call pos:start="227:9" pos:end="227:95"><name pos:start="227:9" pos:end="227:28">quant_matrix_rebuild</name><argument_list pos:start="227:29" pos:end="227:95">(<argument pos:start="227:30" pos:end="227:51"><expr pos:start="227:30" pos:end="227:51"><name pos:start="227:30" pos:end="227:51"><name pos:start="227:30" pos:end="227:30">s</name><operator pos:start="227:31" pos:end="227:32">-&gt;</operator><name pos:start="227:33" pos:end="227:51">chroma_intra_matrix</name></name></expr></argument>, <argument pos:start="227:54" pos:end="227:68"><expr pos:start="227:54" pos:end="227:68"><name pos:start="227:54" pos:end="227:68">old_permutation</name></expr></argument>, <argument pos:start="227:71" pos:end="227:94"><expr pos:start="227:71" pos:end="227:94"><name pos:start="227:71" pos:end="227:94"><name pos:start="227:71" pos:end="227:71">s</name><operator pos:start="227:72" pos:end="227:73">-&gt;</operator><name pos:start="227:74" pos:end="227:77">idsp</name><operator pos:start="227:78" pos:end="227:78">.</operator><name pos:start="227:79" pos:end="227:94">idct_permutation</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <expr_stmt pos:start="229:9" pos:end="229:96"><expr pos:start="229:9" pos:end="229:95"><call pos:start="229:9" pos:end="229:95"><name pos:start="229:9" pos:end="229:28">quant_matrix_rebuild</name><argument_list pos:start="229:29" pos:end="229:95">(<argument pos:start="229:30" pos:end="229:51"><expr pos:start="229:30" pos:end="229:51"><name pos:start="229:30" pos:end="229:51"><name pos:start="229:30" pos:end="229:30">s</name><operator pos:start="229:31" pos:end="229:32">-&gt;</operator><name pos:start="229:33" pos:end="229:51">chroma_inter_matrix</name></name></expr></argument>, <argument pos:start="229:54" pos:end="229:68"><expr pos:start="229:54" pos:end="229:68"><name pos:start="229:54" pos:end="229:68">old_permutation</name></expr></argument>, <argument pos:start="229:71" pos:end="229:94"><expr pos:start="229:71" pos:end="229:94"><name pos:start="229:71" pos:end="229:94"><name pos:start="229:71" pos:end="229:71">s</name><operator pos:start="229:72" pos:end="229:73">-&gt;</operator><name pos:start="229:74" pos:end="229:77">idsp</name><operator pos:start="229:78" pos:end="229:78">.</operator><name pos:start="229:79" pos:end="229:94">idct_permutation</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>



        <expr_stmt pos:start="233:9" pos:end="233:39"><expr pos:start="233:9" pos:end="233:38"><name pos:start="233:9" pos:end="233:34"><name pos:start="233:9" pos:end="233:10">s1</name><operator pos:start="233:11" pos:end="233:12">-&gt;</operator><name pos:start="233:13" pos:end="233:34">mpeg_enc_ctx_allocated</name></name> <operator pos:start="233:36" pos:end="233:36">=</operator> <literal type="number" pos:start="233:38" pos:end="233:38">1</literal></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>

    <return pos:start="237:5" pos:end="237:13">return <expr pos:start="237:12" pos:end="237:12"><literal type="number" pos:start="237:12" pos:end="237:12">0</literal></expr>;</return>

</block_content>}</block></function>
</unit>
