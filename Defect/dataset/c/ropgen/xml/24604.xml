<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/24604.c" pos:tabs="8"><function pos:start="1:1" pos:end="63:1"><type pos:start="1:1" pos:end="1:11"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:11">void</name></type> <name pos:start="1:13" pos:end="1:37">virtio_ccw_device_plugged</name><parameter_list pos:start="1:38" pos:end="1:67">(<parameter pos:start="1:39" pos:end="1:52"><decl pos:start="1:39" pos:end="1:52"><type pos:start="1:39" pos:end="1:52"><name pos:start="1:39" pos:end="1:49">DeviceState</name> <modifier pos:start="1:51" pos:end="1:51">*</modifier></type><name pos:start="1:52" pos:end="1:52">d</name></decl></parameter>, <parameter pos:start="1:55" pos:end="1:66"><decl pos:start="1:55" pos:end="1:66"><type pos:start="1:55" pos:end="1:66"><name pos:start="1:55" pos:end="1:59">Error</name> <modifier pos:start="1:61" pos:end="1:61">*</modifier><modifier pos:start="1:62" pos:end="1:62">*</modifier></type><name pos:start="1:63" pos:end="1:66">errp</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="63:1">{<block_content pos:start="5:5" pos:end="61:44">

    <decl_stmt pos:start="5:5" pos:end="5:48"><decl pos:start="5:5" pos:end="5:47"><type pos:start="5:5" pos:end="5:21"><name pos:start="5:5" pos:end="5:19">VirtioCcwDevice</name> <modifier pos:start="5:21" pos:end="5:21">*</modifier></type><name pos:start="5:22" pos:end="5:24">dev</name> <init pos:start="5:26" pos:end="5:47">= <expr pos:start="5:28" pos:end="5:47"><call pos:start="5:28" pos:end="5:47"><name pos:start="5:28" pos:end="5:44">VIRTIO_CCW_DEVICE</name><argument_list pos:start="5:45" pos:end="5:47">(<argument pos:start="5:46" pos:end="5:46"><expr pos:start="5:46" pos:end="5:46"><name pos:start="5:46" pos:end="5:46">d</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:58"><decl pos:start="7:5" pos:end="7:57"><type pos:start="7:5" pos:end="7:18"><name pos:start="7:5" pos:end="7:16">VirtIODevice</name> <modifier pos:start="7:18" pos:end="7:18">*</modifier></type><name pos:start="7:19" pos:end="7:22">vdev</name> <init pos:start="7:24" pos:end="7:57">= <expr pos:start="7:26" pos:end="7:57"><call pos:start="7:26" pos:end="7:57"><name pos:start="7:26" pos:end="7:46">virtio_bus_get_device</name><argument_list pos:start="7:47" pos:end="7:57">(<argument pos:start="7:48" pos:end="7:56"><expr pos:start="7:48" pos:end="7:56"><operator pos:start="7:48" pos:end="7:48">&amp;</operator><name pos:start="7:49" pos:end="7:56"><name pos:start="7:49" pos:end="7:51">dev</name><operator pos:start="7:52" pos:end="7:53">-&gt;</operator><name pos:start="7:54" pos:end="7:56">bus</name></name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:39"><decl pos:start="9:5" pos:end="9:38"><type pos:start="9:5" pos:end="9:15"><name pos:start="9:5" pos:end="9:13">CcwDevice</name> <modifier pos:start="9:15" pos:end="9:15">*</modifier></type><name pos:start="9:16" pos:end="9:22">ccw_dev</name> <init pos:start="9:24" pos:end="9:38">= <expr pos:start="9:26" pos:end="9:38"><call pos:start="9:26" pos:end="9:38"><name pos:start="9:26" pos:end="9:35">CCW_DEVICE</name><argument_list pos:start="9:36" pos:end="9:38">(<argument pos:start="9:37" pos:end="9:37"><expr pos:start="9:37" pos:end="9:37"><name pos:start="9:37" pos:end="9:37">d</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:33"><decl pos:start="11:5" pos:end="11:32"><type pos:start="11:5" pos:end="11:14"><name pos:start="11:5" pos:end="11:12">SubchDev</name> <modifier pos:start="11:14" pos:end="11:14">*</modifier></type><name pos:start="11:15" pos:end="11:17">sch</name> <init pos:start="11:19" pos:end="11:32">= <expr pos:start="11:21" pos:end="11:32"><name pos:start="11:21" pos:end="11:32"><name pos:start="11:21" pos:end="11:27">ccw_dev</name><operator pos:start="11:28" pos:end="11:29">-&gt;</operator><name pos:start="11:30" pos:end="11:32">sch</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:40"><decl pos:start="13:5" pos:end="13:39"><type pos:start="13:5" pos:end="13:7"><name pos:start="13:5" pos:end="13:7">int</name></type> <name pos:start="13:9" pos:end="13:9">n</name> <init pos:start="13:11" pos:end="13:39">= <expr pos:start="13:13" pos:end="13:39"><call pos:start="13:13" pos:end="13:39"><name pos:start="13:13" pos:end="13:33">virtio_get_num_queues</name><argument_list pos:start="13:34" pos:end="13:39">(<argument pos:start="13:35" pos:end="13:38"><expr pos:start="13:35" pos:end="13:38"><name pos:start="13:35" pos:end="13:38">vdev</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="15:5" pos:end="15:42"><decl pos:start="15:5" pos:end="15:41"><type pos:start="15:5" pos:end="15:19"><name pos:start="15:5" pos:end="15:17">S390FLICState</name> <modifier pos:start="15:19" pos:end="15:19">*</modifier></type><name pos:start="15:20" pos:end="15:23">flic</name> <init pos:start="15:25" pos:end="15:41">= <expr pos:start="15:27" pos:end="15:41"><call pos:start="15:27" pos:end="15:41"><name pos:start="15:27" pos:end="15:39">s390_get_flic</name><argument_list pos:start="15:40" pos:end="15:41">()</argument_list></call></expr></init></decl>;</decl_stmt>



    <if_stmt pos:start="19:5" pos:end="23:5"><if pos:start="19:5" pos:end="23:5">if <condition pos:start="19:8" pos:end="19:69">(<expr pos:start="19:9" pos:end="19:68"><operator pos:start="19:9" pos:end="19:9">!</operator><call pos:start="19:10" pos:end="19:68"><name pos:start="19:10" pos:end="19:27">virtio_has_feature</name><argument_list pos:start="19:28" pos:end="19:68">(<argument pos:start="19:29" pos:end="19:47"><expr pos:start="19:29" pos:end="19:47"><name pos:start="19:29" pos:end="19:47"><name pos:start="19:29" pos:end="19:32">vdev</name><operator pos:start="19:33" pos:end="19:34">-&gt;</operator><name pos:start="19:35" pos:end="19:47">host_features</name></name></expr></argument>, <argument pos:start="19:50" pos:end="19:67"><expr pos:start="19:50" pos:end="19:67"><name pos:start="19:50" pos:end="19:67">VIRTIO_F_VERSION_1</name></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="19:71" pos:end="23:5">{<block_content pos:start="21:9" pos:end="21:25">

        <expr_stmt pos:start="21:9" pos:end="21:25"><expr pos:start="21:9" pos:end="21:24"><name pos:start="21:9" pos:end="21:20"><name pos:start="21:9" pos:end="21:11">dev</name><operator pos:start="21:12" pos:end="21:13">-&gt;</operator><name pos:start="21:14" pos:end="21:20">max_rev</name></name> <operator pos:start="21:22" pos:end="21:22">=</operator> <literal type="number" pos:start="21:24" pos:end="21:24">0</literal></expr>;</expr_stmt>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="27:5" pos:end="37:5"><if pos:start="27:5" pos:end="37:5">if <condition pos:start="27:8" pos:end="27:59">(<expr pos:start="27:9" pos:end="27:58"><call pos:start="27:9" pos:end="27:35"><name pos:start="27:9" pos:end="27:29">virtio_get_num_queues</name><argument_list pos:start="27:30" pos:end="27:35">(<argument pos:start="27:31" pos:end="27:34"><expr pos:start="27:31" pos:end="27:34"><name pos:start="27:31" pos:end="27:34">vdev</name></expr></argument>)</argument_list></call> <operator pos:start="27:37" pos:end="27:37">&gt;</operator> <name pos:start="27:39" pos:end="27:58">VIRTIO_CCW_QUEUE_MAX</name></expr>)</condition> <block pos:start="27:61" pos:end="37:5">{<block_content pos:start="29:9" pos:end="35:15">

        <expr_stmt pos:start="29:9" pos:end="33:41"><expr pos:start="29:9" pos:end="33:40"><call pos:start="29:9" pos:end="33:40"><name pos:start="29:9" pos:end="29:18">error_setg</name><argument_list pos:start="29:19" pos:end="33:40">(<argument pos:start="29:20" pos:end="29:23"><expr pos:start="29:20" pos:end="29:23"><name pos:start="29:20" pos:end="29:23">errp</name></expr></argument>, <argument pos:start="29:26" pos:end="31:41"><expr pos:start="29:26" pos:end="31:41"><literal type="string" pos:start="29:26" pos:end="29:55">"The number of virtqueues %d "</literal>

                   <literal type="string" pos:start="31:20" pos:end="31:41">"exceeds ccw limit %d"</literal></expr></argument>, <argument pos:start="31:44" pos:end="31:44"><expr pos:start="31:44" pos:end="31:44"><name pos:start="31:44" pos:end="31:44">n</name></expr></argument>,

                   <argument pos:start="33:20" pos:end="33:39"><expr pos:start="33:20" pos:end="33:39"><name pos:start="33:20" pos:end="33:39">VIRTIO_CCW_QUEUE_MAX</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <return pos:start="35:9" pos:end="35:15">return;</return>

    </block_content>}</block></if></if_stmt>

    <if_stmt pos:start="39:5" pos:end="49:5"><if pos:start="39:5" pos:end="49:5">if <condition pos:start="39:8" pos:end="39:69">(<expr pos:start="39:9" pos:end="39:68"><call pos:start="39:9" pos:end="39:35"><name pos:start="39:9" pos:end="39:29">virtio_get_num_queues</name><argument_list pos:start="39:30" pos:end="39:35">(<argument pos:start="39:31" pos:end="39:34"><expr pos:start="39:31" pos:end="39:34"><name pos:start="39:31" pos:end="39:34">vdev</name></expr></argument>)</argument_list></call> <operator pos:start="39:37" pos:end="39:37">&gt;</operator> <name pos:start="39:39" pos:end="39:68"><name pos:start="39:39" pos:end="39:42">flic</name><operator pos:start="39:43" pos:end="39:44">-&gt;</operator><name pos:start="39:45" pos:end="39:68">adapter_routes_max_batch</name></name></expr>)</condition> <block pos:start="39:71" pos:end="49:5">{<block_content pos:start="41:9" pos:end="47:15">

        <expr_stmt pos:start="41:9" pos:end="45:51"><expr pos:start="41:9" pos:end="45:50"><call pos:start="41:9" pos:end="45:50"><name pos:start="41:9" pos:end="41:18">error_setg</name><argument_list pos:start="41:19" pos:end="45:50">(<argument pos:start="41:20" pos:end="41:23"><expr pos:start="41:20" pos:end="41:23"><name pos:start="41:20" pos:end="41:23">errp</name></expr></argument>, <argument pos:start="41:26" pos:end="43:56"><expr pos:start="41:26" pos:end="43:56"><literal type="string" pos:start="41:26" pos:end="41:55">"The number of virtqueues %d "</literal>

                   <literal type="string" pos:start="43:20" pos:end="43:56">"exceeds flic adapter route limit %d"</literal></expr></argument>, <argument pos:start="43:59" pos:end="43:59"><expr pos:start="43:59" pos:end="43:59"><name pos:start="43:59" pos:end="43:59">n</name></expr></argument>,

                   <argument pos:start="45:20" pos:end="45:49"><expr pos:start="45:20" pos:end="45:49"><name pos:start="45:20" pos:end="45:49"><name pos:start="45:20" pos:end="45:23">flic</name><operator pos:start="45:24" pos:end="45:25">-&gt;</operator><name pos:start="45:26" pos:end="45:49">adapter_routes_max_batch</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <return pos:start="47:9" pos:end="47:15">return;</return>

    </block_content>}</block></if></if_stmt>



    <expr_stmt pos:start="53:5" pos:end="53:57"><expr pos:start="53:5" pos:end="53:56"><name pos:start="53:5" pos:end="53:20"><name pos:start="53:5" pos:end="53:7">sch</name><operator pos:start="53:8" pos:end="53:9">-&gt;</operator><name pos:start="53:10" pos:end="53:11">id</name><operator pos:start="53:12" pos:end="53:12">.</operator><name pos:start="53:13" pos:end="53:20">cu_model</name></name> <operator pos:start="53:22" pos:end="53:22">=</operator> <call pos:start="53:24" pos:end="53:56"><name pos:start="53:24" pos:end="53:45">virtio_bus_get_vdev_id</name><argument_list pos:start="53:46" pos:end="53:56">(<argument pos:start="53:47" pos:end="53:55"><expr pos:start="53:47" pos:end="53:55"><operator pos:start="53:47" pos:end="53:47">&amp;</operator><name pos:start="53:48" pos:end="53:55"><name pos:start="53:48" pos:end="53:50">dev</name><operator pos:start="53:51" pos:end="53:52">-&gt;</operator><name pos:start="53:53" pos:end="53:55">bus</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>





    <expr_stmt pos:start="59:5" pos:end="61:44"><expr pos:start="59:5" pos:end="61:43"><call pos:start="59:5" pos:end="61:43"><name pos:start="59:5" pos:end="59:25">css_generate_sch_crws</name><argument_list pos:start="59:26" pos:end="61:43">(<argument pos:start="59:27" pos:end="59:36"><expr pos:start="59:27" pos:end="59:36"><name pos:start="59:27" pos:end="59:36"><name pos:start="59:27" pos:end="59:29">sch</name><operator pos:start="59:30" pos:end="59:31">-&gt;</operator><name pos:start="59:32" pos:end="59:36">cssid</name></name></expr></argument>, <argument pos:start="59:39" pos:end="59:47"><expr pos:start="59:39" pos:end="59:47"><name pos:start="59:39" pos:end="59:47"><name pos:start="59:39" pos:end="59:41">sch</name><operator pos:start="59:42" pos:end="59:43">-&gt;</operator><name pos:start="59:44" pos:end="59:47">ssid</name></name></expr></argument>, <argument pos:start="59:50" pos:end="59:59"><expr pos:start="59:50" pos:end="59:59"><name pos:start="59:50" pos:end="59:59"><name pos:start="59:50" pos:end="59:52">sch</name><operator pos:start="59:53" pos:end="59:54">-&gt;</operator><name pos:start="59:55" pos:end="59:59">schid</name></name></expr></argument>,

                          <argument pos:start="61:27" pos:end="61:39"><expr pos:start="61:27" pos:end="61:39"><name pos:start="61:27" pos:end="61:39"><name pos:start="61:27" pos:end="61:27">d</name><operator pos:start="61:28" pos:end="61:29">-&gt;</operator><name pos:start="61:30" pos:end="61:39">hotplugged</name></name></expr></argument>, <argument pos:start="61:42" pos:end="61:42"><expr pos:start="61:42" pos:end="61:42"><literal type="number" pos:start="61:42" pos:end="61:42">1</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

</block_content>}</block></function>
</unit>
