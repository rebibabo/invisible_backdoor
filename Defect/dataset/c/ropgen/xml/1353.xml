<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/0/1353.c" pos:tabs="8"><macro pos:start="1:1" pos:end="3:68"><name pos:start="1:1" pos:end="1:32">address_space_translate_internal</name><argument_list pos:start="1:33" pos:end="3:68">(<argument pos:start="1:34" pos:end="1:56">AddressSpaceDispatch *d</argument>, <argument pos:start="1:59" pos:end="1:69">hwaddr addr</argument>, <argument pos:start="1:72" pos:end="1:83">hwaddr *xlat</argument>,

                                 <argument pos:start="3:34" pos:end="3:45">hwaddr *plen</argument>, <argument pos:start="3:48" pos:end="3:67">bool resolve_subpage</argument>)</argument_list></macro>

<block pos:start="5:1" pos:end="37:1">{<block_content pos:start="7:5" pos:end="35:19">

    <decl_stmt pos:start="7:5" pos:end="7:33"><decl pos:start="7:5" pos:end="7:32"><type pos:start="7:5" pos:end="7:25"><name pos:start="7:5" pos:end="7:23">MemoryRegionSection</name> <modifier pos:start="7:25" pos:end="7:25">*</modifier></type><name pos:start="7:26" pos:end="7:32">section</name></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:27"><decl pos:start="9:5" pos:end="9:15"><type pos:start="9:5" pos:end="9:10"><name pos:start="9:5" pos:end="9:10">Int128</name></type> <name pos:start="9:12" pos:end="9:15">diff</name></decl>, <decl pos:start="9:18" pos:end="9:26"><type ref="prev" pos:start="9:5" pos:end="9:10"/><name pos:start="9:18" pos:end="9:26">diff_page</name></decl>;</decl_stmt>



    <expr_stmt pos:start="13:5" pos:end="13:68"><expr pos:start="13:5" pos:end="13:67"><name pos:start="13:5" pos:end="13:11">section</name> <operator pos:start="13:13" pos:end="13:13">=</operator> <call pos:start="13:15" pos:end="13:67"><name pos:start="13:15" pos:end="13:41">address_space_lookup_region</name><argument_list pos:start="13:42" pos:end="13:67">(<argument pos:start="13:43" pos:end="13:43"><expr pos:start="13:43" pos:end="13:43"><name pos:start="13:43" pos:end="13:43">d</name></expr></argument>, <argument pos:start="13:46" pos:end="13:49"><expr pos:start="13:46" pos:end="13:49"><name pos:start="13:46" pos:end="13:49">addr</name></expr></argument>, <argument pos:start="13:52" pos:end="13:66"><expr pos:start="13:52" pos:end="13:66"><name pos:start="13:52" pos:end="13:66">resolve_subpage</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <comment type="block" pos:start="15:5" pos:end="15:51">/* Compute offset within MemoryRegionSection */</comment>

    <expr_stmt pos:start="17:5" pos:end="17:49"><expr pos:start="17:5" pos:end="17:48"><name pos:start="17:5" pos:end="17:8">addr</name> <operator pos:start="17:10" pos:end="17:11">-=</operator> <name pos:start="17:13" pos:end="17:48"><name pos:start="17:13" pos:end="17:19">section</name><operator pos:start="17:20" pos:end="17:21">-&gt;</operator><name pos:start="17:22" pos:end="17:48">offset_within_address_space</name></name></expr>;</expr_stmt>



    <comment type="block" pos:start="21:5" pos:end="21:44">/* Compute offset within MemoryRegion */</comment>

    <expr_stmt pos:start="23:5" pos:end="23:49"><expr pos:start="23:5" pos:end="23:48"><operator pos:start="23:5" pos:end="23:5">*</operator><name pos:start="23:6" pos:end="23:9">xlat</name> <operator pos:start="23:11" pos:end="23:11">=</operator> <name pos:start="23:13" pos:end="23:16">addr</name> <operator pos:start="23:18" pos:end="23:18">+</operator> <name pos:start="23:20" pos:end="23:48"><name pos:start="23:20" pos:end="23:26">section</name><operator pos:start="23:27" pos:end="23:28">-&gt;</operator><name pos:start="23:29" pos:end="23:48">offset_within_region</name></name></expr>;</expr_stmt>



    <expr_stmt pos:start="27:5" pos:end="27:85"><expr pos:start="27:5" pos:end="27:84"><name pos:start="27:5" pos:end="27:13">diff_page</name> <operator pos:start="27:15" pos:end="27:15">=</operator> <call pos:start="27:17" pos:end="27:84"><name pos:start="27:17" pos:end="27:29">int128_make64</name><argument_list pos:start="27:30" pos:end="27:84">(<argument pos:start="27:31" pos:end="27:83"><expr pos:start="27:31" pos:end="27:83"><operator pos:start="27:31" pos:end="27:31">(</operator><operator pos:start="27:32" pos:end="27:32">(</operator><name pos:start="27:33" pos:end="27:36">addr</name> <operator pos:start="27:38" pos:end="27:38">&amp;</operator> <name pos:start="27:40" pos:end="27:55">TARGET_PAGE_MASK</name><operator pos:start="27:56" pos:end="27:56">)</operator> <operator pos:start="27:58" pos:end="27:58">+</operator> <name pos:start="27:60" pos:end="27:75">TARGET_PAGE_SIZE</name><operator pos:start="27:76" pos:end="27:76">)</operator> <operator pos:start="27:78" pos:end="27:78">-</operator> <name pos:start="27:80" pos:end="27:83">addr</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="29:5" pos:end="29:62"><expr pos:start="29:5" pos:end="29:61"><name pos:start="29:5" pos:end="29:8">diff</name> <operator pos:start="29:10" pos:end="29:10">=</operator> <call pos:start="29:12" pos:end="29:61"><name pos:start="29:12" pos:end="29:21">int128_sub</name><argument_list pos:start="29:22" pos:end="29:61">(<argument pos:start="29:23" pos:end="29:39"><expr pos:start="29:23" pos:end="29:39"><name pos:start="29:23" pos:end="29:39"><name pos:start="29:23" pos:end="29:29">section</name><operator pos:start="29:30" pos:end="29:31">-&gt;</operator><name pos:start="29:32" pos:end="29:33">mr</name><operator pos:start="29:34" pos:end="29:35">-&gt;</operator><name pos:start="29:36" pos:end="29:39">size</name></name></expr></argument>, <argument pos:start="29:42" pos:end="29:60"><expr pos:start="29:42" pos:end="29:60"><call pos:start="29:42" pos:end="29:60"><name pos:start="29:42" pos:end="29:54">int128_make64</name><argument_list pos:start="29:55" pos:end="29:60">(<argument pos:start="29:56" pos:end="29:59"><expr pos:start="29:56" pos:end="29:59"><name pos:start="29:56" pos:end="29:59">addr</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="31:5" pos:end="31:39"><expr pos:start="31:5" pos:end="31:38"><name pos:start="31:5" pos:end="31:8">diff</name> <operator pos:start="31:10" pos:end="31:10">=</operator> <call pos:start="31:12" pos:end="31:38"><name pos:start="31:12" pos:end="31:21">int128_min</name><argument_list pos:start="31:22" pos:end="31:38">(<argument pos:start="31:23" pos:end="31:26"><expr pos:start="31:23" pos:end="31:26"><name pos:start="31:23" pos:end="31:26">diff</name></expr></argument>, <argument pos:start="31:29" pos:end="31:37"><expr pos:start="31:29" pos:end="31:37"><name pos:start="31:29" pos:end="31:37">diff_page</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="33:5" pos:end="33:65"><expr pos:start="33:5" pos:end="33:64"><operator pos:start="33:5" pos:end="33:5">*</operator><name pos:start="33:6" pos:end="33:9">plen</name> <operator pos:start="33:11" pos:end="33:11">=</operator> <call pos:start="33:13" pos:end="33:64"><name pos:start="33:13" pos:end="33:24">int128_get64</name><argument_list pos:start="33:25" pos:end="33:64">(<argument pos:start="33:26" pos:end="33:63"><expr pos:start="33:26" pos:end="33:63"><call pos:start="33:26" pos:end="33:63"><name pos:start="33:26" pos:end="33:35">int128_min</name><argument_list pos:start="33:36" pos:end="33:63">(<argument pos:start="33:37" pos:end="33:40"><expr pos:start="33:37" pos:end="33:40"><name pos:start="33:37" pos:end="33:40">diff</name></expr></argument>, <argument pos:start="33:43" pos:end="33:62"><expr pos:start="33:43" pos:end="33:62"><call pos:start="33:43" pos:end="33:62"><name pos:start="33:43" pos:end="33:55">int128_make64</name><argument_list pos:start="33:56" pos:end="33:62">(<argument pos:start="33:57" pos:end="33:61"><expr pos:start="33:57" pos:end="33:61"><operator pos:start="33:57" pos:end="33:57">*</operator><name pos:start="33:58" pos:end="33:61">plen</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <return pos:start="35:5" pos:end="35:19">return <expr pos:start="35:12" pos:end="35:18"><name pos:start="35:12" pos:end="35:18">section</name></expr>;</return>

</block_content>}</block>
</unit>
