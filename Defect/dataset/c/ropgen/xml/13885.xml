<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/13885.c" pos:tabs="8"><function pos:start="1:1" pos:end="133:1"><type pos:start="1:1" pos:end="1:10"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:10">int</name></type> <name pos:start="1:12" pos:end="1:25">v4l2_try_start</name><parameter_list pos:start="1:26" pos:end="1:48">(<parameter pos:start="1:27" pos:end="1:47"><decl pos:start="1:27" pos:end="1:47"><type pos:start="1:27" pos:end="1:42"><name pos:start="1:27" pos:end="1:40">AVCodecContext</name> <modifier pos:start="1:42" pos:end="1:42">*</modifier></type><name pos:start="1:43" pos:end="1:47">avctx</name></decl></parameter>)</parameter_list>

<block pos:start="3:1" pos:end="133:1">{<block_content pos:start="5:5" pos:end="131:13">

    <decl_stmt pos:start="5:5" pos:end="5:41"><decl pos:start="5:5" pos:end="5:40"><type pos:start="5:5" pos:end="5:20"><name pos:start="5:5" pos:end="5:18">V4L2m2mContext</name> <modifier pos:start="5:20" pos:end="5:20">*</modifier></type><name pos:start="5:21" pos:end="5:21">s</name> <init pos:start="5:23" pos:end="5:40">= <expr pos:start="5:25" pos:end="5:40"><name pos:start="5:25" pos:end="5:40"><name pos:start="5:25" pos:end="5:29">avctx</name><operator pos:start="5:30" pos:end="5:31">-&gt;</operator><name pos:start="5:32" pos:end="5:40">priv_data</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="7:5" pos:end="7:45"><decl pos:start="7:5" pos:end="7:44"><type pos:start="7:5" pos:end="7:22"><name pos:start="7:5" pos:end="7:15">V4L2Context</name> <modifier pos:start="7:17" pos:end="7:17">*</modifier><specifier pos:start="7:18" pos:end="7:22">const</specifier></type> <name pos:start="7:24" pos:end="7:30">capture</name> <init pos:start="7:32" pos:end="7:44">= <expr pos:start="7:34" pos:end="7:44"><operator pos:start="7:34" pos:end="7:34">&amp;</operator><name pos:start="7:35" pos:end="7:44"><name pos:start="7:35" pos:end="7:35">s</name><operator pos:start="7:36" pos:end="7:37">-&gt;</operator><name pos:start="7:38" pos:end="7:44">capture</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:43"><decl pos:start="9:5" pos:end="9:42"><type pos:start="9:5" pos:end="9:22"><name pos:start="9:5" pos:end="9:15">V4L2Context</name> <modifier pos:start="9:17" pos:end="9:17">*</modifier><specifier pos:start="9:18" pos:end="9:22">const</specifier></type> <name pos:start="9:24" pos:end="9:29">output</name> <init pos:start="9:31" pos:end="9:42">= <expr pos:start="9:33" pos:end="9:42"><operator pos:start="9:33" pos:end="9:33">&amp;</operator><name pos:start="9:34" pos:end="9:42"><name pos:start="9:34" pos:end="9:34">s</name><operator pos:start="9:35" pos:end="9:36">-&gt;</operator><name pos:start="9:37" pos:end="9:42">output</name></name></expr></init></decl>;</decl_stmt>

    <decl_stmt pos:start="11:5" pos:end="11:36"><decl pos:start="11:5" pos:end="11:35"><type pos:start="11:5" pos:end="11:25"><name pos:start="11:5" pos:end="11:25"><name pos:start="11:5" pos:end="11:10">struct</name> <name pos:start="11:12" pos:end="11:25">v4l2_selection</name></name></type> <name pos:start="11:27" pos:end="11:35">selection</name></decl>;</decl_stmt>

    <decl_stmt pos:start="13:5" pos:end="13:12"><decl pos:start="13:5" pos:end="13:11"><type pos:start="13:5" pos:end="13:7"><name pos:start="13:5" pos:end="13:7">int</name></type> <name pos:start="13:9" pos:end="13:11">ret</name></decl>;</decl_stmt>



    <comment type="block" pos:start="17:5" pos:end="17:37">/* 1. start the output process */</comment>

    <if_stmt pos:start="19:5" pos:end="31:5"><if pos:start="19:5" pos:end="31:5">if <condition pos:start="19:8" pos:end="19:26">(<expr pos:start="19:9" pos:end="19:25"><operator pos:start="19:9" pos:end="19:9">!</operator><name pos:start="19:10" pos:end="19:25"><name pos:start="19:10" pos:end="19:15">output</name><operator pos:start="19:16" pos:end="19:17">-&gt;</operator><name pos:start="19:18" pos:end="19:25">streamon</name></name></expr>)</condition> <block pos:start="19:28" pos:end="31:5">{<block_content pos:start="21:9" pos:end="29:9">

        <expr_stmt pos:start="21:9" pos:end="21:66"><expr pos:start="21:9" pos:end="21:65"><name pos:start="21:9" pos:end="21:11">ret</name> <operator pos:start="21:13" pos:end="21:13">=</operator> <call pos:start="21:15" pos:end="21:65"><name pos:start="21:15" pos:end="21:40">ff_v4l2_context_set_status</name><argument_list pos:start="21:41" pos:end="21:65">(<argument pos:start="21:42" pos:end="21:47"><expr pos:start="21:42" pos:end="21:47"><name pos:start="21:42" pos:end="21:47">output</name></expr></argument>, <argument pos:start="21:50" pos:end="21:64"><expr pos:start="21:50" pos:end="21:64"><name pos:start="21:50" pos:end="21:64">VIDIOC_STREAMON</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="23:9" pos:end="29:9"><if pos:start="23:9" pos:end="29:9">if <condition pos:start="23:12" pos:end="23:20">(<expr pos:start="23:13" pos:end="23:19"><name pos:start="23:13" pos:end="23:15">ret</name> <operator pos:start="23:17" pos:end="23:17">&lt;</operator> <literal type="number" pos:start="23:19" pos:end="23:19">0</literal></expr>)</condition> <block pos:start="23:22" pos:end="29:9">{<block_content pos:start="25:13" pos:end="27:23">

            <expr_stmt pos:start="25:13" pos:end="25:79"><expr pos:start="25:13" pos:end="25:78"><call pos:start="25:13" pos:end="25:78"><name pos:start="25:13" pos:end="25:18">av_log</name><argument_list pos:start="25:19" pos:end="25:78">(<argument pos:start="25:20" pos:end="25:24"><expr pos:start="25:20" pos:end="25:24"><name pos:start="25:20" pos:end="25:24">avctx</name></expr></argument>, <argument pos:start="25:27" pos:end="25:38"><expr pos:start="25:27" pos:end="25:38"><name pos:start="25:27" pos:end="25:38">AV_LOG_DEBUG</name></expr></argument>, <argument pos:start="25:41" pos:end="25:77"><expr pos:start="25:41" pos:end="25:77"><literal type="string" pos:start="25:41" pos:end="25:77">"VIDIOC_STREAMON on output context\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <return pos:start="27:13" pos:end="27:23">return <expr pos:start="27:20" pos:end="27:22"><name pos:start="27:20" pos:end="27:22">ret</name></expr>;</return>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></if></if_stmt>



    <if_stmt pos:start="35:5" pos:end="37:17"><if pos:start="35:5" pos:end="37:17">if <condition pos:start="35:8" pos:end="35:26">(<expr pos:start="35:9" pos:end="35:25"><name pos:start="35:9" pos:end="35:25"><name pos:start="35:9" pos:end="35:15">capture</name><operator pos:start="35:16" pos:end="35:17">-&gt;</operator><name pos:start="35:18" pos:end="35:25">streamon</name></name></expr>)</condition><block type="pseudo" pos:start="37:9" pos:end="37:17"><block_content pos:start="37:9" pos:end="37:17">

        <return pos:start="37:9" pos:end="37:17">return <expr pos:start="37:16" pos:end="37:16"><literal type="number" pos:start="37:16" pos:end="37:16">0</literal></expr>;</return></block_content></block></if></if_stmt>



    <comment type="block" pos:start="41:5" pos:end="41:35">/* 2. get the capture format */</comment>

    <expr_stmt pos:start="43:5" pos:end="43:41"><expr pos:start="43:5" pos:end="43:40"><name pos:start="43:5" pos:end="43:24"><name pos:start="43:5" pos:end="43:11">capture</name><operator pos:start="43:12" pos:end="43:13">-&gt;</operator><name pos:start="43:14" pos:end="43:19">format</name><operator pos:start="43:20" pos:end="43:20">.</operator><name pos:start="43:21" pos:end="43:24">type</name></name> <operator pos:start="43:26" pos:end="43:26">=</operator> <name pos:start="43:28" pos:end="43:40"><name pos:start="43:28" pos:end="43:34">capture</name><operator pos:start="43:35" pos:end="43:36">-&gt;</operator><name pos:start="43:37" pos:end="43:40">type</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="45:5" pos:end="45:55"><expr pos:start="45:5" pos:end="45:54"><name pos:start="45:5" pos:end="45:7">ret</name> <operator pos:start="45:9" pos:end="45:9">=</operator> <call pos:start="45:11" pos:end="45:54"><name pos:start="45:11" pos:end="45:15">ioctl</name><argument_list pos:start="45:16" pos:end="45:54">(<argument pos:start="45:17" pos:end="45:21"><expr pos:start="45:17" pos:end="45:21"><name pos:start="45:17" pos:end="45:21"><name pos:start="45:17" pos:end="45:17">s</name><operator pos:start="45:18" pos:end="45:19">-&gt;</operator><name pos:start="45:20" pos:end="45:21">fd</name></name></expr></argument>, <argument pos:start="45:24" pos:end="45:35"><expr pos:start="45:24" pos:end="45:35"><name pos:start="45:24" pos:end="45:35">VIDIOC_G_FMT</name></expr></argument>, <argument pos:start="45:38" pos:end="45:53"><expr pos:start="45:38" pos:end="45:53"><operator pos:start="45:38" pos:end="45:38">&amp;</operator><name pos:start="45:39" pos:end="45:53"><name pos:start="45:39" pos:end="45:45">capture</name><operator pos:start="45:46" pos:end="45:47">-&gt;</operator><name pos:start="45:48" pos:end="45:53">format</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="47:5" pos:end="53:5"><if pos:start="47:5" pos:end="53:5">if <condition pos:start="47:8" pos:end="47:12">(<expr pos:start="47:9" pos:end="47:11"><name pos:start="47:9" pos:end="47:11">ret</name></expr>)</condition> <block pos:start="47:14" pos:end="53:5">{<block_content pos:start="49:9" pos:end="51:19">

        <expr_stmt pos:start="49:9" pos:end="49:62"><expr pos:start="49:9" pos:end="49:61"><call pos:start="49:9" pos:end="49:61"><name pos:start="49:9" pos:end="49:14">av_log</name><argument_list pos:start="49:15" pos:end="49:61">(<argument pos:start="49:16" pos:end="49:20"><expr pos:start="49:16" pos:end="49:20"><name pos:start="49:16" pos:end="49:20">avctx</name></expr></argument>, <argument pos:start="49:23" pos:end="49:36"><expr pos:start="49:23" pos:end="49:36"><name pos:start="49:23" pos:end="49:36">AV_LOG_WARNING</name></expr></argument>, <argument pos:start="49:39" pos:end="49:60"><expr pos:start="49:39" pos:end="49:60"><literal type="string" pos:start="49:39" pos:end="49:60">"VIDIOC_G_FMT ioctl\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <return pos:start="51:9" pos:end="51:19">return <expr pos:start="51:16" pos:end="51:18"><name pos:start="51:16" pos:end="51:18">ret</name></expr>;</return>

    </block_content>}</block></if></if_stmt>



    <comment type="block" pos:start="57:5" pos:end="57:39">/* 2.1 update the AVCodecContext */</comment>

    <expr_stmt pos:start="59:5" pos:end="59:112"><expr pos:start="59:5" pos:end="59:111"><name pos:start="59:5" pos:end="59:18"><name pos:start="59:5" pos:end="59:9">avctx</name><operator pos:start="59:10" pos:end="59:11">-&gt;</operator><name pos:start="59:12" pos:end="59:18">pix_fmt</name></name> <operator pos:start="59:20" pos:end="59:20">=</operator> <call pos:start="59:22" pos:end="59:111"><name pos:start="59:22" pos:end="59:49">ff_v4l2_format_v4l2_to_avfmt</name><argument_list pos:start="59:50" pos:end="59:111">(<argument pos:start="59:51" pos:end="59:88"><expr pos:start="59:51" pos:end="59:88"><name pos:start="59:51" pos:end="59:88"><name pos:start="59:51" pos:end="59:57">capture</name><operator pos:start="59:58" pos:end="59:59">-&gt;</operator><name pos:start="59:60" pos:end="59:65">format</name><operator pos:start="59:66" pos:end="59:66">.</operator><name pos:start="59:67" pos:end="59:69">fmt</name><operator pos:start="59:70" pos:end="59:70">.</operator><name pos:start="59:71" pos:end="59:76">pix_mp</name><operator pos:start="59:77" pos:end="59:77">.</operator><name pos:start="59:78" pos:end="59:88">pixelformat</name></name></expr></argument>, <argument pos:start="59:91" pos:end="59:110"><expr pos:start="59:91" pos:end="59:110"><name pos:start="59:91" pos:end="59:110">AV_CODEC_ID_RAWVIDEO</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt pos:start="61:5" pos:end="61:41"><expr pos:start="61:5" pos:end="61:40"><name pos:start="61:5" pos:end="61:23"><name pos:start="61:5" pos:end="61:11">capture</name><operator pos:start="61:12" pos:end="61:13">-&gt;</operator><name pos:start="61:14" pos:end="61:23">av_pix_fmt</name></name> <operator pos:start="61:25" pos:end="61:25">=</operator> <name pos:start="61:27" pos:end="61:40"><name pos:start="61:27" pos:end="61:31">avctx</name><operator pos:start="61:32" pos:end="61:33">-&gt;</operator><name pos:start="61:34" pos:end="61:40">pix_fmt</name></name></expr>;</expr_stmt>



    <comment type="block" pos:start="65:5" pos:end="65:36">/* 3. set the crop parameters */</comment>

    <expr_stmt pos:start="67:5" pos:end="67:49"><expr pos:start="67:5" pos:end="67:48"><name pos:start="67:5" pos:end="67:18"><name pos:start="67:5" pos:end="67:13">selection</name><operator pos:start="67:14" pos:end="67:14">.</operator><name pos:start="67:15" pos:end="67:18">type</name></name> <operator pos:start="67:20" pos:end="67:20">=</operator> <name pos:start="67:22" pos:end="67:48">V4L2_BUF_TYPE_VIDEO_CAPTURE</name></expr>;</expr_stmt>

    <expr_stmt pos:start="69:5" pos:end="69:45"><expr pos:start="69:5" pos:end="69:44"><name pos:start="69:5" pos:end="69:22"><name pos:start="69:5" pos:end="69:13">selection</name><operator pos:start="69:14" pos:end="69:14">.</operator><name pos:start="69:15" pos:end="69:15">r</name><operator pos:start="69:16" pos:end="69:16">.</operator><name pos:start="69:17" pos:end="69:22">height</name></name> <operator pos:start="69:24" pos:end="69:24">=</operator> <name pos:start="69:26" pos:end="69:44"><name pos:start="69:26" pos:end="69:30">avctx</name><operator pos:start="69:31" pos:end="69:32">-&gt;</operator><name pos:start="69:33" pos:end="69:44">coded_height</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="71:5" pos:end="71:43"><expr pos:start="71:5" pos:end="71:42"><name pos:start="71:5" pos:end="71:21"><name pos:start="71:5" pos:end="71:13">selection</name><operator pos:start="71:14" pos:end="71:14">.</operator><name pos:start="71:15" pos:end="71:15">r</name><operator pos:start="71:16" pos:end="71:16">.</operator><name pos:start="71:17" pos:end="71:21">width</name></name> <operator pos:start="71:23" pos:end="71:23">=</operator> <name pos:start="71:25" pos:end="71:42"><name pos:start="71:25" pos:end="71:29">avctx</name><operator pos:start="71:30" pos:end="71:31">-&gt;</operator><name pos:start="71:32" pos:end="71:42">coded_width</name></name></expr>;</expr_stmt>

    <expr_stmt pos:start="73:5" pos:end="73:55"><expr pos:start="73:5" pos:end="73:54"><name pos:start="73:5" pos:end="73:7">ret</name> <operator pos:start="73:9" pos:end="73:9">=</operator> <call pos:start="73:11" pos:end="73:54"><name pos:start="73:11" pos:end="73:15">ioctl</name><argument_list pos:start="73:16" pos:end="73:54">(<argument pos:start="73:17" pos:end="73:21"><expr pos:start="73:17" pos:end="73:21"><name pos:start="73:17" pos:end="73:21"><name pos:start="73:17" pos:end="73:17">s</name><operator pos:start="73:18" pos:end="73:19">-&gt;</operator><name pos:start="73:20" pos:end="73:21">fd</name></name></expr></argument>, <argument pos:start="73:24" pos:end="73:41"><expr pos:start="73:24" pos:end="73:41"><name pos:start="73:24" pos:end="73:41">VIDIOC_S_SELECTION</name></expr></argument>, <argument pos:start="73:44" pos:end="73:53"><expr pos:start="73:44" pos:end="73:53"><operator pos:start="73:44" pos:end="73:44">&amp;</operator><name pos:start="73:45" pos:end="73:53">selection</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="75:5" pos:end="95:5"><if pos:start="75:5" pos:end="95:5">if <condition pos:start="75:8" pos:end="75:13">(<expr pos:start="75:9" pos:end="75:12"><operator pos:start="75:9" pos:end="75:9">!</operator><name pos:start="75:10" pos:end="75:12">ret</name></expr>)</condition> <block pos:start="75:15" pos:end="95:5">{<block_content pos:start="77:9" pos:end="93:9">

        <expr_stmt pos:start="77:9" pos:end="77:59"><expr pos:start="77:9" pos:end="77:58"><name pos:start="77:9" pos:end="77:11">ret</name> <operator pos:start="77:13" pos:end="77:13">=</operator> <call pos:start="77:15" pos:end="77:58"><name pos:start="77:15" pos:end="77:19">ioctl</name><argument_list pos:start="77:20" pos:end="77:58">(<argument pos:start="77:21" pos:end="77:25"><expr pos:start="77:21" pos:end="77:25"><name pos:start="77:21" pos:end="77:25"><name pos:start="77:21" pos:end="77:21">s</name><operator pos:start="77:22" pos:end="77:23">-&gt;</operator><name pos:start="77:24" pos:end="77:25">fd</name></name></expr></argument>, <argument pos:start="77:28" pos:end="77:45"><expr pos:start="77:28" pos:end="77:45"><name pos:start="77:28" pos:end="77:45">VIDIOC_G_SELECTION</name></expr></argument>, <argument pos:start="77:48" pos:end="77:57"><expr pos:start="77:48" pos:end="77:57"><operator pos:start="77:48" pos:end="77:48">&amp;</operator><name pos:start="77:49" pos:end="77:57">selection</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="79:9" pos:end="93:9"><if pos:start="79:9" pos:end="83:9">if <condition pos:start="79:12" pos:end="79:16">(<expr pos:start="79:13" pos:end="79:15"><name pos:start="79:13" pos:end="79:15">ret</name></expr>)</condition> <block pos:start="79:18" pos:end="83:9">{<block_content pos:start="81:13" pos:end="81:72">

            <expr_stmt pos:start="81:13" pos:end="81:72"><expr pos:start="81:13" pos:end="81:71"><call pos:start="81:13" pos:end="81:71"><name pos:start="81:13" pos:end="81:18">av_log</name><argument_list pos:start="81:19" pos:end="81:71">(<argument pos:start="81:20" pos:end="81:24"><expr pos:start="81:20" pos:end="81:24"><name pos:start="81:20" pos:end="81:24">avctx</name></expr></argument>, <argument pos:start="81:27" pos:end="81:40"><expr pos:start="81:27" pos:end="81:40"><name pos:start="81:27" pos:end="81:40">AV_LOG_WARNING</name></expr></argument>, <argument pos:start="81:43" pos:end="81:70"><expr pos:start="81:43" pos:end="81:70"><literal type="string" pos:start="81:43" pos:end="81:70">"VIDIOC_G_SELECTION ioctl\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></if> <else pos:start="83:11" pos:end="93:9">else <block pos:start="83:16" pos:end="93:9">{<block_content pos:start="85:13" pos:end="91:48">

            <expr_stmt pos:start="85:13" pos:end="85:102"><expr pos:start="85:13" pos:end="85:101"><call pos:start="85:13" pos:end="85:101"><name pos:start="85:13" pos:end="85:18">av_log</name><argument_list pos:start="85:19" pos:end="85:101">(<argument pos:start="85:20" pos:end="85:24"><expr pos:start="85:20" pos:end="85:24"><name pos:start="85:20" pos:end="85:24">avctx</name></expr></argument>, <argument pos:start="85:27" pos:end="85:38"><expr pos:start="85:27" pos:end="85:38"><name pos:start="85:27" pos:end="85:38">AV_LOG_DEBUG</name></expr></argument>, <argument pos:start="85:41" pos:end="85:61"><expr pos:start="85:41" pos:end="85:61"><literal type="string" pos:start="85:41" pos:end="85:61">"crop output %dx%d\n"</literal></expr></argument>, <argument pos:start="85:64" pos:end="85:80"><expr pos:start="85:64" pos:end="85:80"><name pos:start="85:64" pos:end="85:80"><name pos:start="85:64" pos:end="85:72">selection</name><operator pos:start="85:73" pos:end="85:73">.</operator><name pos:start="85:74" pos:end="85:74">r</name><operator pos:start="85:75" pos:end="85:75">.</operator><name pos:start="85:76" pos:end="85:80">width</name></name></expr></argument>, <argument pos:start="85:83" pos:end="85:100"><expr pos:start="85:83" pos:end="85:100"><name pos:start="85:83" pos:end="85:100"><name pos:start="85:83" pos:end="85:91">selection</name><operator pos:start="85:92" pos:end="85:92">.</operator><name pos:start="85:93" pos:end="85:93">r</name><operator pos:start="85:94" pos:end="85:94">.</operator><name pos:start="85:95" pos:end="85:100">height</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <comment type="block" pos:start="87:13" pos:end="87:56">/* update the size of the resulting frame */</comment>

            <expr_stmt pos:start="89:13" pos:end="89:49"><expr pos:start="89:13" pos:end="89:48"><name pos:start="89:13" pos:end="89:27"><name pos:start="89:13" pos:end="89:19">capture</name><operator pos:start="89:20" pos:end="89:21">-&gt;</operator><name pos:start="89:22" pos:end="89:27">height</name></name> <operator pos:start="89:29" pos:end="89:29">=</operator> <name pos:start="89:31" pos:end="89:48"><name pos:start="89:31" pos:end="89:39">selection</name><operator pos:start="89:40" pos:end="89:40">.</operator><name pos:start="89:41" pos:end="89:41">r</name><operator pos:start="89:42" pos:end="89:42">.</operator><name pos:start="89:43" pos:end="89:48">height</name></name></expr>;</expr_stmt>

            <expr_stmt pos:start="91:13" pos:end="91:48"><expr pos:start="91:13" pos:end="91:47"><name pos:start="91:13" pos:end="91:26"><name pos:start="91:13" pos:end="91:19">capture</name><operator pos:start="91:20" pos:end="91:21">-&gt;</operator><name pos:start="91:22" pos:end="91:26">width</name></name>  <operator pos:start="91:29" pos:end="91:29">=</operator> <name pos:start="91:31" pos:end="91:47"><name pos:start="91:31" pos:end="91:39">selection</name><operator pos:start="91:40" pos:end="91:40">.</operator><name pos:start="91:41" pos:end="91:41">r</name><operator pos:start="91:42" pos:end="91:42">.</operator><name pos:start="91:43" pos:end="91:47">width</name></name></expr>;</expr_stmt>

        </block_content>}</block></else></if_stmt>

    </block_content>}</block></if></if_stmt>



    <comment type="block" pos:start="99:5" pos:end="99:73">/* 4. init the capture context now that we have the capture format */</comment>

    <if_stmt pos:start="101:5" pos:end="113:5"><if pos:start="101:5" pos:end="113:5">if <condition pos:start="101:8" pos:end="101:26">(<expr pos:start="101:9" pos:end="101:25"><operator pos:start="101:9" pos:end="101:9">!</operator><name pos:start="101:10" pos:end="101:25"><name pos:start="101:10" pos:end="101:16">capture</name><operator pos:start="101:17" pos:end="101:18">-&gt;</operator><name pos:start="101:19" pos:end="101:25">buffers</name></name></expr>)</condition> <block pos:start="101:28" pos:end="113:5">{<block_content pos:start="103:9" pos:end="111:9">

        <expr_stmt pos:start="103:9" pos:end="103:44"><expr pos:start="103:9" pos:end="103:43"><name pos:start="103:9" pos:end="103:11">ret</name> <operator pos:start="103:13" pos:end="103:13">=</operator> <call pos:start="103:15" pos:end="103:43"><name pos:start="103:15" pos:end="103:34">ff_v4l2_context_init</name><argument_list pos:start="103:35" pos:end="103:43">(<argument pos:start="103:36" pos:end="103:42"><expr pos:start="103:36" pos:end="103:42"><name pos:start="103:36" pos:end="103:42">capture</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <if_stmt pos:start="105:9" pos:end="111:9"><if pos:start="105:9" pos:end="111:9">if <condition pos:start="105:12" pos:end="105:16">(<expr pos:start="105:13" pos:end="105:15"><name pos:start="105:13" pos:end="105:15">ret</name></expr>)</condition> <block pos:start="105:18" pos:end="111:9">{<block_content pos:start="107:13" pos:end="109:23">

            <expr_stmt pos:start="107:13" pos:end="107:74"><expr pos:start="107:13" pos:end="107:73"><call pos:start="107:13" pos:end="107:73"><name pos:start="107:13" pos:end="107:18">av_log</name><argument_list pos:start="107:19" pos:end="107:73">(<argument pos:start="107:20" pos:end="107:24"><expr pos:start="107:20" pos:end="107:24"><name pos:start="107:20" pos:end="107:24">avctx</name></expr></argument>, <argument pos:start="107:27" pos:end="107:38"><expr pos:start="107:27" pos:end="107:38"><name pos:start="107:27" pos:end="107:38">AV_LOG_DEBUG</name></expr></argument>, <argument pos:start="107:41" pos:end="107:72"><expr pos:start="107:41" pos:end="107:72"><literal type="string" pos:start="107:41" pos:end="107:72">"can't request output buffers\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <return pos:start="109:13" pos:end="109:23">return <expr pos:start="109:20" pos:end="109:22"><name pos:start="109:20" pos:end="109:22">ret</name></expr>;</return>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></if></if_stmt>



    <comment type="block" pos:start="117:5" pos:end="117:38">/* 5. start the capture process */</comment>

    <expr_stmt pos:start="119:5" pos:end="119:63"><expr pos:start="119:5" pos:end="119:62"><name pos:start="119:5" pos:end="119:7">ret</name> <operator pos:start="119:9" pos:end="119:9">=</operator> <call pos:start="119:11" pos:end="119:62"><name pos:start="119:11" pos:end="119:36">ff_v4l2_context_set_status</name><argument_list pos:start="119:37" pos:end="119:62">(<argument pos:start="119:38" pos:end="119:44"><expr pos:start="119:38" pos:end="119:44"><name pos:start="119:38" pos:end="119:44">capture</name></expr></argument>, <argument pos:start="119:47" pos:end="119:61"><expr pos:start="119:47" pos:end="119:61"><name pos:start="119:47" pos:end="119:61">VIDIOC_STREAMON</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="121:5" pos:end="127:5"><if pos:start="121:5" pos:end="127:5">if <condition pos:start="121:8" pos:end="121:12">(<expr pos:start="121:9" pos:end="121:11"><name pos:start="121:9" pos:end="121:11">ret</name></expr>)</condition> <block pos:start="121:14" pos:end="127:5">{<block_content pos:start="123:9" pos:end="125:19">

        <expr_stmt pos:start="123:9" pos:end="123:77"><expr pos:start="123:9" pos:end="123:76"><call pos:start="123:9" pos:end="123:76"><name pos:start="123:9" pos:end="123:14">av_log</name><argument_list pos:start="123:15" pos:end="123:76">(<argument pos:start="123:16" pos:end="123:20"><expr pos:start="123:16" pos:end="123:20"><name pos:start="123:16" pos:end="123:20">avctx</name></expr></argument>, <argument pos:start="123:23" pos:end="123:34"><expr pos:start="123:23" pos:end="123:34"><name pos:start="123:23" pos:end="123:34">AV_LOG_DEBUG</name></expr></argument>, <argument pos:start="123:37" pos:end="123:75"><expr pos:start="123:37" pos:end="123:75"><literal type="string" pos:start="123:37" pos:end="123:75">"VIDIOC_STREAMON, on capture context\n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        <return pos:start="125:9" pos:end="125:19">return <expr pos:start="125:16" pos:end="125:18"><name pos:start="125:16" pos:end="125:18">ret</name></expr>;</return>

    </block_content>}</block></if></if_stmt>



    <return pos:start="131:5" pos:end="131:13">return <expr pos:start="131:12" pos:end="131:12"><literal type="number" pos:start="131:12" pos:end="131:12">0</literal></expr>;</return>

</block_content>}</block></function>
</unit>
