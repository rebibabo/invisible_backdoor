<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" xmlns:pos="http://www.srcML.org/srcML/position" revision="1.0.0" language="C" filename="dataset/ropgen/aug/1/24132.c" pos:tabs="8"><function pos:start="1:1" pos:end="121:1"><type pos:start="1:1" pos:end="1:10"><specifier pos:start="1:1" pos:end="1:6">static</specifier> <name pos:start="1:8" pos:end="1:10">int</name></type> <name pos:start="1:12" pos:end="1:29">mov_write_moov_tag</name><parameter_list pos:start="1:30" pos:end="3:49">(<parameter pos:start="1:31" pos:end="1:45"><decl pos:start="1:31" pos:end="1:45"><type pos:start="1:31" pos:end="1:45"><name pos:start="1:31" pos:end="1:41">AVIOContext</name> <modifier pos:start="1:43" pos:end="1:43">*</modifier></type><name pos:start="1:44" pos:end="1:45">pb</name></decl></parameter>, <parameter pos:start="1:48" pos:end="1:65"><decl pos:start="1:48" pos:end="1:65"><type pos:start="1:48" pos:end="1:65"><name pos:start="1:48" pos:end="1:60">MOVMuxContext</name> <modifier pos:start="1:62" pos:end="1:62">*</modifier></type><name pos:start="1:63" pos:end="1:65">mov</name></decl></parameter>,

                              <parameter pos:start="3:31" pos:end="3:48"><decl pos:start="3:31" pos:end="3:48"><type pos:start="3:31" pos:end="3:48"><name pos:start="3:31" pos:end="3:45">AVFormatContext</name> <modifier pos:start="3:47" pos:end="3:47">*</modifier></type><name pos:start="3:48" pos:end="3:48">s</name></decl></parameter>)</parameter_list>

<block pos:start="5:1" pos:end="121:1">{<block_content pos:start="7:5" pos:end="119:32">

    <decl_stmt pos:start="7:5" pos:end="7:10"><decl pos:start="7:5" pos:end="7:9"><type pos:start="7:5" pos:end="7:7"><name pos:start="7:5" pos:end="7:7">int</name></type> <name pos:start="7:9" pos:end="7:9">i</name></decl>;</decl_stmt>

    <decl_stmt pos:start="9:5" pos:end="9:32"><decl pos:start="9:5" pos:end="9:31"><type pos:start="9:5" pos:end="9:11"><name pos:start="9:5" pos:end="9:11">int64_t</name></type> <name pos:start="9:13" pos:end="9:15">pos</name> <init pos:start="9:17" pos:end="9:31">= <expr pos:start="9:19" pos:end="9:31"><call pos:start="9:19" pos:end="9:31"><name pos:start="9:19" pos:end="9:27">avio_tell</name><argument_list pos:start="9:28" pos:end="9:31">(<argument pos:start="9:29" pos:end="9:30"><expr pos:start="9:29" pos:end="9:30"><name pos:start="9:29" pos:end="9:30">pb</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

    <expr_stmt pos:start="11:5" pos:end="11:21"><expr pos:start="11:5" pos:end="11:20"><call pos:start="11:5" pos:end="11:20"><name pos:start="11:5" pos:end="11:13">avio_wb32</name><argument_list pos:start="11:14" pos:end="11:20">(<argument pos:start="11:15" pos:end="11:16"><expr pos:start="11:15" pos:end="11:16"><name pos:start="11:15" pos:end="11:16">pb</name></expr></argument>, <argument pos:start="11:19" pos:end="11:19"><expr pos:start="11:19" pos:end="11:19"><literal type="number" pos:start="11:19" pos:end="11:19">0</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt> <comment type="block" pos:start="11:23" pos:end="11:43">/* size placeholder*/</comment>

    <expr_stmt pos:start="13:5" pos:end="13:29"><expr pos:start="13:5" pos:end="13:28"><call pos:start="13:5" pos:end="13:28"><name pos:start="13:5" pos:end="13:16">ffio_wfourcc</name><argument_list pos:start="13:17" pos:end="13:28">(<argument pos:start="13:18" pos:end="13:19"><expr pos:start="13:18" pos:end="13:19"><name pos:start="13:18" pos:end="13:19">pb</name></expr></argument>, <argument pos:start="13:22" pos:end="13:27"><expr pos:start="13:22" pos:end="13:27"><literal type="string" pos:start="13:22" pos:end="13:27">"moov"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>



    <for pos:start="17:5" pos:end="35:5">for <control pos:start="17:9" pos:end="17:41">(<init pos:start="17:10" pos:end="17:15"><expr pos:start="17:10" pos:end="17:14"><name pos:start="17:10" pos:end="17:10">i</name> <operator pos:start="17:12" pos:end="17:12">=</operator> <literal type="number" pos:start="17:14" pos:end="17:14">0</literal></expr>;</init> <condition pos:start="17:17" pos:end="17:36"><expr pos:start="17:17" pos:end="17:35"><name pos:start="17:17" pos:end="17:17">i</name> <operator pos:start="17:19" pos:end="17:19">&lt;</operator> <name pos:start="17:21" pos:end="17:35"><name pos:start="17:21" pos:end="17:23">mov</name><operator pos:start="17:24" pos:end="17:25">-&gt;</operator><name pos:start="17:26" pos:end="17:35">nb_streams</name></name></expr>;</condition> <incr pos:start="17:38" pos:end="17:40"><expr pos:start="17:38" pos:end="17:40"><name pos:start="17:38" pos:end="17:38">i</name><operator pos:start="17:39" pos:end="17:40">++</operator></expr></incr>)</control> <block pos:start="17:43" pos:end="35:5">{<block_content pos:start="19:9" pos:end="33:42">

        <if_stmt pos:start="19:9" pos:end="21:21"><if pos:start="19:9" pos:end="21:21">if <condition pos:start="19:12" pos:end="19:78">(<expr pos:start="19:13" pos:end="19:77"><name pos:start="19:13" pos:end="19:26"><name pos:start="19:13" pos:end="19:15">mov</name><operator pos:start="19:16" pos:end="19:17">-&gt;</operator><name pos:start="19:18" pos:end="19:23">tracks</name><index pos:start="19:24" pos:end="19:26">[<expr pos:start="19:25" pos:end="19:25"><name pos:start="19:25" pos:end="19:25">i</name></expr>]</index></name><operator pos:start="19:27" pos:end="19:27">.</operator><name pos:start="19:28" pos:end="19:32">entry</name> <operator pos:start="19:34" pos:end="19:35">&lt;=</operator> <literal type="number" pos:start="19:37" pos:end="19:37">0</literal> <operator pos:start="19:39" pos:end="19:40">&amp;&amp;</operator> <operator pos:start="19:42" pos:end="19:42">!</operator><operator pos:start="19:43" pos:end="19:43">(</operator><name pos:start="19:44" pos:end="19:53"><name pos:start="19:44" pos:end="19:46">mov</name><operator pos:start="19:47" pos:end="19:48">-&gt;</operator><name pos:start="19:49" pos:end="19:53">flags</name></name> <operator pos:start="19:55" pos:end="19:55">&amp;</operator> <name pos:start="19:57" pos:end="19:76">FF_MOV_FLAG_FRAGMENT</name><operator pos:start="19:77" pos:end="19:77">)</operator></expr>)</condition><block type="pseudo" pos:start="21:13" pos:end="21:21"><block_content pos:start="21:13" pos:end="21:21">

            <continue pos:start="21:13" pos:end="21:21">continue;</continue></block_content></block></if></if_stmt>



        <expr_stmt pos:start="25:9" pos:end="25:44"><expr pos:start="25:9" pos:end="25:43"><name pos:start="25:9" pos:end="25:22"><name pos:start="25:9" pos:end="25:11">mov</name><operator pos:start="25:12" pos:end="25:13">-&gt;</operator><name pos:start="25:14" pos:end="25:19">tracks</name><index pos:start="25:20" pos:end="25:22">[<expr pos:start="25:21" pos:end="25:21"><name pos:start="25:21" pos:end="25:21">i</name></expr>]</index></name><operator pos:start="25:23" pos:end="25:23">.</operator><name pos:start="25:24" pos:end="25:27">time</name>     <operator pos:start="25:33" pos:end="25:33">=</operator> <name pos:start="25:35" pos:end="25:43"><name pos:start="25:35" pos:end="25:37">mov</name><operator pos:start="25:38" pos:end="25:39">-&gt;</operator><name pos:start="25:40" pos:end="25:43">time</name></name></expr>;</expr_stmt>

        <expr_stmt pos:start="27:9" pos:end="27:40"><expr pos:start="27:9" pos:end="27:39"><name pos:start="27:9" pos:end="27:22"><name pos:start="27:9" pos:end="27:11">mov</name><operator pos:start="27:12" pos:end="27:13">-&gt;</operator><name pos:start="27:14" pos:end="27:19">tracks</name><index pos:start="27:20" pos:end="27:22">[<expr pos:start="27:21" pos:end="27:21"><name pos:start="27:21" pos:end="27:21">i</name></expr>]</index></name><operator pos:start="27:23" pos:end="27:23">.</operator><name pos:start="27:24" pos:end="27:31">track_id</name> <operator pos:start="27:33" pos:end="27:33">=</operator> <name pos:start="27:35" pos:end="27:35">i</name> <operator pos:start="27:37" pos:end="27:37">+</operator> <literal type="number" pos:start="27:39" pos:end="27:39">1</literal></expr>;</expr_stmt>



        <if_stmt pos:start="31:9" pos:end="33:42"><if pos:start="31:9" pos:end="33:42">if <condition pos:start="31:12" pos:end="31:33">(<expr pos:start="31:13" pos:end="31:32"><name pos:start="31:13" pos:end="31:26"><name pos:start="31:13" pos:end="31:15">mov</name><operator pos:start="31:16" pos:end="31:17">-&gt;</operator><name pos:start="31:18" pos:end="31:23">tracks</name><index pos:start="31:24" pos:end="31:26">[<expr pos:start="31:25" pos:end="31:25"><name pos:start="31:25" pos:end="31:25">i</name></expr>]</index></name><operator pos:start="31:27" pos:end="31:27">.</operator><name pos:start="31:28" pos:end="31:32">entry</name></expr>)</condition><block type="pseudo" pos:start="33:13" pos:end="33:42"><block_content pos:start="33:13" pos:end="33:42">

            <expr_stmt pos:start="33:13" pos:end="33:42"><expr pos:start="33:13" pos:end="33:41"><call pos:start="33:13" pos:end="33:41"><name pos:start="33:13" pos:end="33:24">build_chunks</name><argument_list pos:start="33:25" pos:end="33:41">(<argument pos:start="33:26" pos:end="33:40"><expr pos:start="33:26" pos:end="33:40"><operator pos:start="33:26" pos:end="33:26">&amp;</operator><name pos:start="33:27" pos:end="33:40"><name pos:start="33:27" pos:end="33:29">mov</name><operator pos:start="33:30" pos:end="33:31">-&gt;</operator><name pos:start="33:32" pos:end="33:37">tracks</name><index pos:start="33:38" pos:end="33:40">[<expr pos:start="33:39" pos:end="33:39"><name pos:start="33:39" pos:end="33:39">i</name></expr>]</index></name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

    </block_content>}</block></for>



    <if_stmt pos:start="39:5" pos:end="47:9"><if pos:start="39:5" pos:end="47:9">if <condition pos:start="39:8" pos:end="39:27">(<expr pos:start="39:9" pos:end="39:26"><name pos:start="39:9" pos:end="39:26"><name pos:start="39:9" pos:end="39:11">mov</name><operator pos:start="39:12" pos:end="39:13">-&gt;</operator><name pos:start="39:14" pos:end="39:26">chapter_track</name></name></expr>)</condition><block type="pseudo" pos:start="41:9" pos:end="47:9"><block_content pos:start="41:9" pos:end="47:9">

        <for pos:start="41:9" pos:end="47:9">for <control pos:start="41:13" pos:end="41:43">(<init pos:start="41:14" pos:end="41:19"><expr pos:start="41:14" pos:end="41:18"><name pos:start="41:14" pos:end="41:14">i</name> <operator pos:start="41:16" pos:end="41:16">=</operator> <literal type="number" pos:start="41:18" pos:end="41:18">0</literal></expr>;</init> <condition pos:start="41:21" pos:end="41:38"><expr pos:start="41:21" pos:end="41:37"><name pos:start="41:21" pos:end="41:21">i</name> <operator pos:start="41:23" pos:end="41:23">&lt;</operator> <name pos:start="41:25" pos:end="41:37"><name pos:start="41:25" pos:end="41:25">s</name><operator pos:start="41:26" pos:end="41:27">-&gt;</operator><name pos:start="41:28" pos:end="41:37">nb_streams</name></name></expr>;</condition> <incr pos:start="41:40" pos:end="41:42"><expr pos:start="41:40" pos:end="41:42"><name pos:start="41:40" pos:end="41:40">i</name><operator pos:start="41:41" pos:end="41:42">++</operator></expr></incr>)</control> <block pos:start="41:45" pos:end="47:9">{<block_content pos:start="43:13" pos:end="45:79">

            <expr_stmt pos:start="43:13" pos:end="43:61"><expr pos:start="43:13" pos:end="43:60"><name pos:start="43:13" pos:end="43:26"><name pos:start="43:13" pos:end="43:15">mov</name><operator pos:start="43:16" pos:end="43:17">-&gt;</operator><name pos:start="43:18" pos:end="43:23">tracks</name><index pos:start="43:24" pos:end="43:26">[<expr pos:start="43:25" pos:end="43:25"><name pos:start="43:25" pos:end="43:25">i</name></expr>]</index></name><operator pos:start="43:27" pos:end="43:27">.</operator><name pos:start="43:28" pos:end="43:35">tref_tag</name> <operator pos:start="43:37" pos:end="43:37">=</operator> <call pos:start="43:39" pos:end="43:60"><name pos:start="43:39" pos:end="43:43">MKTAG</name><argument_list pos:start="43:44" pos:end="43:60">(<argument pos:start="43:45" pos:end="43:47"><expr pos:start="43:45" pos:end="43:47"><literal type="char" pos:start="43:45" pos:end="43:47">'c'</literal></expr></argument>,<argument pos:start="43:49" pos:end="43:51"><expr pos:start="43:49" pos:end="43:51"><literal type="char" pos:start="43:49" pos:end="43:51">'h'</literal></expr></argument>,<argument pos:start="43:53" pos:end="43:55"><expr pos:start="43:53" pos:end="43:55"><literal type="char" pos:start="43:53" pos:end="43:55">'a'</literal></expr></argument>,<argument pos:start="43:57" pos:end="43:59"><expr pos:start="43:57" pos:end="43:59"><literal type="char" pos:start="43:57" pos:end="43:59">'p'</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="45:13" pos:end="45:79"><expr pos:start="45:13" pos:end="45:78"><name pos:start="45:13" pos:end="45:26"><name pos:start="45:13" pos:end="45:15">mov</name><operator pos:start="45:16" pos:end="45:17">-&gt;</operator><name pos:start="45:18" pos:end="45:23">tracks</name><index pos:start="45:24" pos:end="45:26">[<expr pos:start="45:25" pos:end="45:25"><name pos:start="45:25" pos:end="45:25">i</name></expr>]</index></name><operator pos:start="45:27" pos:end="45:27">.</operator><name pos:start="45:28" pos:end="45:34">tref_id</name>  <operator pos:start="45:37" pos:end="45:37">=</operator> <name pos:start="45:39" pos:end="45:69"><name pos:start="45:39" pos:end="45:41">mov</name><operator pos:start="45:42" pos:end="45:43">-&gt;</operator><name pos:start="45:44" pos:end="45:49">tracks</name><index pos:start="45:50" pos:end="45:69">[<expr pos:start="45:51" pos:end="45:68"><name pos:start="45:51" pos:end="45:68"><name pos:start="45:51" pos:end="45:53">mov</name><operator pos:start="45:54" pos:end="45:55">-&gt;</operator><name pos:start="45:56" pos:end="45:68">chapter_track</name></name></expr>]</index></name><operator pos:start="45:70" pos:end="45:70">.</operator><name pos:start="45:71" pos:end="45:78">track_id</name></expr>;</expr_stmt>

        </block_content>}</block></for></block_content></block></if></if_stmt>

    <for pos:start="49:5" pos:end="61:5">for <control pos:start="49:9" pos:end="49:41">(<init pos:start="49:10" pos:end="49:15"><expr pos:start="49:10" pos:end="49:14"><name pos:start="49:10" pos:end="49:10">i</name> <operator pos:start="49:12" pos:end="49:12">=</operator> <literal type="number" pos:start="49:14" pos:end="49:14">0</literal></expr>;</init> <condition pos:start="49:17" pos:end="49:36"><expr pos:start="49:17" pos:end="49:35"><name pos:start="49:17" pos:end="49:17">i</name> <operator pos:start="49:19" pos:end="49:19">&lt;</operator> <name pos:start="49:21" pos:end="49:35"><name pos:start="49:21" pos:end="49:23">mov</name><operator pos:start="49:24" pos:end="49:25">-&gt;</operator><name pos:start="49:26" pos:end="49:35">nb_streams</name></name></expr>;</condition> <incr pos:start="49:38" pos:end="49:40"><expr pos:start="49:38" pos:end="49:40"><name pos:start="49:38" pos:end="49:38">i</name><operator pos:start="49:39" pos:end="49:40">++</operator></expr></incr>)</control> <block pos:start="49:43" pos:end="61:5">{<block_content pos:start="51:9" pos:end="59:9">

        <if_stmt pos:start="51:9" pos:end="59:9"><if pos:start="51:9" pos:end="59:9">if <condition pos:start="51:12" pos:end="51:57">(<expr pos:start="51:13" pos:end="51:56"><name pos:start="51:13" pos:end="51:26"><name pos:start="51:13" pos:end="51:15">mov</name><operator pos:start="51:16" pos:end="51:17">-&gt;</operator><name pos:start="51:18" pos:end="51:23">tracks</name><index pos:start="51:24" pos:end="51:26">[<expr pos:start="51:25" pos:end="51:25"><name pos:start="51:25" pos:end="51:25">i</name></expr>]</index></name><operator pos:start="51:27" pos:end="51:27">.</operator><name pos:start="51:28" pos:end="51:30">tag</name> <operator pos:start="51:32" pos:end="51:33">==</operator> <call pos:start="51:35" pos:end="51:56"><name pos:start="51:35" pos:end="51:39">MKTAG</name><argument_list pos:start="51:40" pos:end="51:56">(<argument pos:start="51:41" pos:end="51:43"><expr pos:start="51:41" pos:end="51:43"><literal type="char" pos:start="51:41" pos:end="51:43">'r'</literal></expr></argument>,<argument pos:start="51:45" pos:end="51:47"><expr pos:start="51:45" pos:end="51:47"><literal type="char" pos:start="51:45" pos:end="51:47">'t'</literal></expr></argument>,<argument pos:start="51:49" pos:end="51:51"><expr pos:start="51:49" pos:end="51:51"><literal type="char" pos:start="51:49" pos:end="51:51">'p'</literal></expr></argument>,<argument pos:start="51:53" pos:end="51:55"><expr pos:start="51:53" pos:end="51:55"><literal type="char" pos:start="51:53" pos:end="51:55">' '</literal></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="51:59" pos:end="59:9">{<block_content pos:start="53:13" pos:end="57:63">

            <expr_stmt pos:start="53:13" pos:end="53:61"><expr pos:start="53:13" pos:end="53:60"><name pos:start="53:13" pos:end="53:26"><name pos:start="53:13" pos:end="53:15">mov</name><operator pos:start="53:16" pos:end="53:17">-&gt;</operator><name pos:start="53:18" pos:end="53:23">tracks</name><index pos:start="53:24" pos:end="53:26">[<expr pos:start="53:25" pos:end="53:25"><name pos:start="53:25" pos:end="53:25">i</name></expr>]</index></name><operator pos:start="53:27" pos:end="53:27">.</operator><name pos:start="53:28" pos:end="53:35">tref_tag</name> <operator pos:start="53:37" pos:end="53:37">=</operator> <call pos:start="53:39" pos:end="53:60"><name pos:start="53:39" pos:end="53:43">MKTAG</name><argument_list pos:start="53:44" pos:end="53:60">(<argument pos:start="53:45" pos:end="53:47"><expr pos:start="53:45" pos:end="53:47"><literal type="char" pos:start="53:45" pos:end="53:47">'h'</literal></expr></argument>,<argument pos:start="53:49" pos:end="53:51"><expr pos:start="53:49" pos:end="53:51"><literal type="char" pos:start="53:49" pos:end="53:51">'i'</literal></expr></argument>,<argument pos:start="53:53" pos:end="53:55"><expr pos:start="53:53" pos:end="53:55"><literal type="char" pos:start="53:53" pos:end="53:55">'n'</literal></expr></argument>,<argument pos:start="53:57" pos:end="53:59"><expr pos:start="53:57" pos:end="53:59"><literal type="char" pos:start="53:57" pos:end="53:59">'t'</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>

            <expr_stmt pos:start="55:13" pos:end="57:63"><expr pos:start="55:13" pos:end="57:62"><name pos:start="55:13" pos:end="55:26"><name pos:start="55:13" pos:end="55:15">mov</name><operator pos:start="55:16" pos:end="55:17">-&gt;</operator><name pos:start="55:18" pos:end="55:23">tracks</name><index pos:start="55:24" pos:end="55:26">[<expr pos:start="55:25" pos:end="55:25"><name pos:start="55:25" pos:end="55:25">i</name></expr>]</index></name><operator pos:start="55:27" pos:end="55:27">.</operator><name pos:start="55:28" pos:end="55:34">tref_id</name> <operator pos:start="55:36" pos:end="55:36">=</operator>

                <name pos:start="57:17" pos:end="57:53"><name pos:start="57:17" pos:end="57:19">mov</name><operator pos:start="57:20" pos:end="57:21">-&gt;</operator><name pos:start="57:22" pos:end="57:27">tracks</name><index pos:start="57:28" pos:end="57:53">[<expr pos:start="57:29" pos:end="57:52"><name pos:start="57:29" pos:end="57:42"><name pos:start="57:29" pos:end="57:31">mov</name><operator pos:start="57:32" pos:end="57:33">-&gt;</operator><name pos:start="57:34" pos:end="57:39">tracks</name><index pos:start="57:40" pos:end="57:42">[<expr pos:start="57:41" pos:end="57:41"><name pos:start="57:41" pos:end="57:41">i</name></expr>]</index></name><operator pos:start="57:43" pos:end="57:43">.</operator><name pos:start="57:44" pos:end="57:52">src_track</name></expr>]</index></name><operator pos:start="57:54" pos:end="57:54">.</operator><name pos:start="57:55" pos:end="57:62">track_id</name></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></for>

    <for pos:start="63:5" pos:end="83:5">for <control pos:start="63:9" pos:end="63:41">(<init pos:start="63:10" pos:end="63:15"><expr pos:start="63:10" pos:end="63:14"><name pos:start="63:10" pos:end="63:10">i</name> <operator pos:start="63:12" pos:end="63:12">=</operator> <literal type="number" pos:start="63:14" pos:end="63:14">0</literal></expr>;</init> <condition pos:start="63:17" pos:end="63:36"><expr pos:start="63:17" pos:end="63:35"><name pos:start="63:17" pos:end="63:17">i</name> <operator pos:start="63:19" pos:end="63:19">&lt;</operator> <name pos:start="63:21" pos:end="63:35"><name pos:start="63:21" pos:end="63:23">mov</name><operator pos:start="63:24" pos:end="63:25">-&gt;</operator><name pos:start="63:26" pos:end="63:35">nb_streams</name></name></expr>;</condition> <incr pos:start="63:38" pos:end="63:40"><expr pos:start="63:38" pos:end="63:40"><name pos:start="63:38" pos:end="63:38">i</name><operator pos:start="63:39" pos:end="63:40">++</operator></expr></incr>)</control> <block pos:start="63:43" pos:end="83:5">{<block_content pos:start="65:9" pos:end="81:9">

        <if_stmt pos:start="65:9" pos:end="81:9"><if pos:start="65:9" pos:end="81:9">if <condition pos:start="65:12" pos:end="65:57">(<expr pos:start="65:13" pos:end="65:56"><name pos:start="65:13" pos:end="65:26"><name pos:start="65:13" pos:end="65:15">mov</name><operator pos:start="65:16" pos:end="65:17">-&gt;</operator><name pos:start="65:18" pos:end="65:23">tracks</name><index pos:start="65:24" pos:end="65:26">[<expr pos:start="65:25" pos:end="65:25"><name pos:start="65:25" pos:end="65:25">i</name></expr>]</index></name><operator pos:start="65:27" pos:end="65:27">.</operator><name pos:start="65:28" pos:end="65:30">tag</name> <operator pos:start="65:32" pos:end="65:33">==</operator> <call pos:start="65:35" pos:end="65:56"><name pos:start="65:35" pos:end="65:39">MKTAG</name><argument_list pos:start="65:40" pos:end="65:56">(<argument pos:start="65:41" pos:end="65:43"><expr pos:start="65:41" pos:end="65:43"><literal type="char" pos:start="65:41" pos:end="65:43">'t'</literal></expr></argument>,<argument pos:start="65:45" pos:end="65:47"><expr pos:start="65:45" pos:end="65:47"><literal type="char" pos:start="65:45" pos:end="65:47">'m'</literal></expr></argument>,<argument pos:start="65:49" pos:end="65:51"><expr pos:start="65:49" pos:end="65:51"><literal type="char" pos:start="65:49" pos:end="65:51">'c'</literal></expr></argument>,<argument pos:start="65:53" pos:end="65:55"><expr pos:start="65:53" pos:end="65:55"><literal type="char" pos:start="65:53" pos:end="65:55">'d'</literal></expr></argument>)</argument_list></call></expr>)</condition> <block pos:start="65:59" pos:end="81:9">{<block_content pos:start="67:13" pos:end="79:87">

            <decl_stmt pos:start="67:13" pos:end="67:51"><decl pos:start="67:13" pos:end="67:50"><type pos:start="67:13" pos:end="67:15"><name pos:start="67:13" pos:end="67:15">int</name></type> <name pos:start="67:17" pos:end="67:23">src_trk</name> <init pos:start="67:25" pos:end="67:50">= <expr pos:start="67:27" pos:end="67:50"><name pos:start="67:27" pos:end="67:40"><name pos:start="67:27" pos:end="67:29">mov</name><operator pos:start="67:30" pos:end="67:31">-&gt;</operator><name pos:start="67:32" pos:end="67:37">tracks</name><index pos:start="67:38" pos:end="67:40">[<expr pos:start="67:39" pos:end="67:39"><name pos:start="67:39" pos:end="67:39">i</name></expr>]</index></name><operator pos:start="67:41" pos:end="67:41">.</operator><name pos:start="67:42" pos:end="67:50">src_track</name></expr></init></decl>;</decl_stmt>

            <expr_stmt pos:start="69:13" pos:end="69:63"><expr pos:start="69:13" pos:end="69:62"><name pos:start="69:13" pos:end="69:32"><name pos:start="69:13" pos:end="69:15">mov</name><operator pos:start="69:16" pos:end="69:17">-&gt;</operator><name pos:start="69:18" pos:end="69:23">tracks</name><index pos:start="69:24" pos:end="69:32">[<expr pos:start="69:25" pos:end="69:31"><name pos:start="69:25" pos:end="69:31">src_trk</name></expr>]</index></name><operator pos:start="69:33" pos:end="69:33">.</operator><name pos:start="69:34" pos:end="69:41">tref_tag</name> <operator pos:start="69:43" pos:end="69:43">=</operator> <name pos:start="69:45" pos:end="69:58"><name pos:start="69:45" pos:end="69:47">mov</name><operator pos:start="69:48" pos:end="69:49">-&gt;</operator><name pos:start="69:50" pos:end="69:55">tracks</name><index pos:start="69:56" pos:end="69:58">[<expr pos:start="69:57" pos:end="69:57"><name pos:start="69:57" pos:end="69:57">i</name></expr>]</index></name><operator pos:start="69:59" pos:end="69:59">.</operator><name pos:start="69:60" pos:end="69:62">tag</name></expr>;</expr_stmt>

            <expr_stmt pos:start="71:13" pos:end="71:68"><expr pos:start="71:13" pos:end="71:67"><name pos:start="71:13" pos:end="71:32"><name pos:start="71:13" pos:end="71:15">mov</name><operator pos:start="71:16" pos:end="71:17">-&gt;</operator><name pos:start="71:18" pos:end="71:23">tracks</name><index pos:start="71:24" pos:end="71:32">[<expr pos:start="71:25" pos:end="71:31"><name pos:start="71:25" pos:end="71:31">src_trk</name></expr>]</index></name><operator pos:start="71:33" pos:end="71:33">.</operator><name pos:start="71:34" pos:end="71:40">tref_id</name>  <operator pos:start="71:43" pos:end="71:43">=</operator> <name pos:start="71:45" pos:end="71:58"><name pos:start="71:45" pos:end="71:47">mov</name><operator pos:start="71:48" pos:end="71:49">-&gt;</operator><name pos:start="71:50" pos:end="71:55">tracks</name><index pos:start="71:56" pos:end="71:58">[<expr pos:start="71:57" pos:end="71:57"><name pos:start="71:57" pos:end="71:57">i</name></expr>]</index></name><operator pos:start="71:59" pos:end="71:59">.</operator><name pos:start="71:60" pos:end="71:67">track_id</name></expr>;</expr_stmt>

            <comment type="line" pos:start="73:13" pos:end="73:72">//src_trk may have a different timescale than the tmcd track</comment>

            <expr_stmt pos:start="75:13" pos:end="79:87"><expr pos:start="75:13" pos:end="79:86"><name pos:start="75:13" pos:end="75:26"><name pos:start="75:13" pos:end="75:15">mov</name><operator pos:start="75:16" pos:end="75:17">-&gt;</operator><name pos:start="75:18" pos:end="75:23">tracks</name><index pos:start="75:24" pos:end="75:26">[<expr pos:start="75:25" pos:end="75:25"><name pos:start="75:25" pos:end="75:25">i</name></expr>]</index></name><operator pos:start="75:27" pos:end="75:27">.</operator><name pos:start="75:28" pos:end="75:41">track_duration</name> <operator pos:start="75:43" pos:end="75:43">=</operator> <call pos:start="75:45" pos:end="79:86"><name pos:start="75:45" pos:end="75:54">av_rescale</name><argument_list pos:start="75:55" pos:end="79:86">(<argument pos:start="75:56" pos:end="75:90"><expr pos:start="75:56" pos:end="75:90"><name pos:start="75:56" pos:end="75:75"><name pos:start="75:56" pos:end="75:58">mov</name><operator pos:start="75:59" pos:end="75:60">-&gt;</operator><name pos:start="75:61" pos:end="75:66">tracks</name><index pos:start="75:67" pos:end="75:75">[<expr pos:start="75:68" pos:end="75:74"><name pos:start="75:68" pos:end="75:74">src_trk</name></expr>]</index></name><operator pos:start="75:76" pos:end="75:76">.</operator><name pos:start="75:77" pos:end="75:90">track_duration</name></expr></argument>,

                                                       <argument pos:start="77:56" pos:end="77:79"><expr pos:start="77:56" pos:end="77:79"><name pos:start="77:56" pos:end="77:69"><name pos:start="77:56" pos:end="77:58">mov</name><operator pos:start="77:59" pos:end="77:60">-&gt;</operator><name pos:start="77:61" pos:end="77:66">tracks</name><index pos:start="77:67" pos:end="77:69">[<expr pos:start="77:68" pos:end="77:68"><name pos:start="77:68" pos:end="77:68">i</name></expr>]</index></name><operator pos:start="77:70" pos:end="77:70">.</operator><name pos:start="77:71" pos:end="77:79">timescale</name></expr></argument>,

                                                       <argument pos:start="79:56" pos:end="79:85"><expr pos:start="79:56" pos:end="79:85"><name pos:start="79:56" pos:end="79:75"><name pos:start="79:56" pos:end="79:58">mov</name><operator pos:start="79:59" pos:end="79:60">-&gt;</operator><name pos:start="79:61" pos:end="79:66">tracks</name><index pos:start="79:67" pos:end="79:75">[<expr pos:start="79:68" pos:end="79:74"><name pos:start="79:68" pos:end="79:74">src_trk</name></expr>]</index></name><operator pos:start="79:76" pos:end="79:76">.</operator><name pos:start="79:77" pos:end="79:85">timescale</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></for>



    <expr_stmt pos:start="87:5" pos:end="87:32"><expr pos:start="87:5" pos:end="87:31"><call pos:start="87:5" pos:end="87:31"><name pos:start="87:5" pos:end="87:22">mov_write_mvhd_tag</name><argument_list pos:start="87:23" pos:end="87:31">(<argument pos:start="87:24" pos:end="87:25"><expr pos:start="87:24" pos:end="87:25"><name pos:start="87:24" pos:end="87:25">pb</name></expr></argument>, <argument pos:start="87:28" pos:end="87:30"><expr pos:start="87:28" pos:end="87:30"><name pos:start="87:28" pos:end="87:30">mov</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <if_stmt pos:start="89:5" pos:end="91:36"><if pos:start="89:5" pos:end="91:36">if <condition pos:start="89:8" pos:end="89:49">(<expr pos:start="89:9" pos:end="89:48"><name pos:start="89:9" pos:end="89:17"><name pos:start="89:9" pos:end="89:11">mov</name><operator pos:start="89:12" pos:end="89:13">-&gt;</operator><name pos:start="89:14" pos:end="89:17">mode</name></name> <operator pos:start="89:19" pos:end="89:20">!=</operator> <name pos:start="89:22" pos:end="89:29">MODE_MOV</name> <operator pos:start="89:31" pos:end="89:32">&amp;&amp;</operator> <operator pos:start="89:34" pos:end="89:34">!</operator><name pos:start="89:35" pos:end="89:48"><name pos:start="89:35" pos:end="89:37">mov</name><operator pos:start="89:38" pos:end="89:39">-&gt;</operator><name pos:start="89:40" pos:end="89:48">iods_skip</name></name></expr>)</condition><block type="pseudo" pos:start="91:9" pos:end="91:36"><block_content pos:start="91:9" pos:end="91:36">

        <expr_stmt pos:start="91:9" pos:end="91:36"><expr pos:start="91:9" pos:end="91:35"><call pos:start="91:9" pos:end="91:35"><name pos:start="91:9" pos:end="91:26">mov_write_iods_tag</name><argument_list pos:start="91:27" pos:end="91:35">(<argument pos:start="91:28" pos:end="91:29"><expr pos:start="91:28" pos:end="91:29"><name pos:start="91:28" pos:end="91:29">pb</name></expr></argument>, <argument pos:start="91:32" pos:end="91:34"><expr pos:start="91:32" pos:end="91:34"><name pos:start="91:32" pos:end="91:34">mov</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>

    <for pos:start="93:5" pos:end="101:5">for <control pos:start="93:9" pos:end="93:41">(<init pos:start="93:10" pos:end="93:15"><expr pos:start="93:10" pos:end="93:14"><name pos:start="93:10" pos:end="93:10">i</name> <operator pos:start="93:12" pos:end="93:12">=</operator> <literal type="number" pos:start="93:14" pos:end="93:14">0</literal></expr>;</init> <condition pos:start="93:17" pos:end="93:36"><expr pos:start="93:17" pos:end="93:35"><name pos:start="93:17" pos:end="93:17">i</name> <operator pos:start="93:19" pos:end="93:19">&lt;</operator> <name pos:start="93:21" pos:end="93:35"><name pos:start="93:21" pos:end="93:23">mov</name><operator pos:start="93:24" pos:end="93:25">-&gt;</operator><name pos:start="93:26" pos:end="93:35">nb_streams</name></name></expr>;</condition> <incr pos:start="93:38" pos:end="93:40"><expr pos:start="93:38" pos:end="93:40"><name pos:start="93:38" pos:end="93:38">i</name><operator pos:start="93:39" pos:end="93:40">++</operator></expr></incr>)</control> <block pos:start="93:43" pos:end="101:5">{<block_content pos:start="95:9" pos:end="99:9">

        <if_stmt pos:start="95:9" pos:end="99:9"><if pos:start="95:9" pos:end="99:9">if <condition pos:start="95:12" pos:end="95:74">(<expr pos:start="95:13" pos:end="95:73"><name pos:start="95:13" pos:end="95:26"><name pos:start="95:13" pos:end="95:15">mov</name><operator pos:start="95:16" pos:end="95:17">-&gt;</operator><name pos:start="95:18" pos:end="95:23">tracks</name><index pos:start="95:24" pos:end="95:26">[<expr pos:start="95:25" pos:end="95:25"><name pos:start="95:25" pos:end="95:25">i</name></expr>]</index></name><operator pos:start="95:27" pos:end="95:27">.</operator><name pos:start="95:28" pos:end="95:32">entry</name> <operator pos:start="95:34" pos:end="95:34">&gt;</operator> <literal type="number" pos:start="95:36" pos:end="95:36">0</literal> <operator pos:start="95:38" pos:end="95:39">||</operator> <name pos:start="95:41" pos:end="95:50"><name pos:start="95:41" pos:end="95:43">mov</name><operator pos:start="95:44" pos:end="95:45">-&gt;</operator><name pos:start="95:46" pos:end="95:50">flags</name></name> <operator pos:start="95:52" pos:end="95:52">&amp;</operator> <name pos:start="95:54" pos:end="95:73">FF_MOV_FLAG_FRAGMENT</name></expr>)</condition> <block pos:start="95:76" pos:end="99:9">{<block_content pos:start="97:13" pos:end="97:101">

            <expr_stmt pos:start="97:13" pos:end="97:101"><expr pos:start="97:13" pos:end="97:100"><call pos:start="97:13" pos:end="97:100"><name pos:start="97:13" pos:end="97:30">mov_write_trak_tag</name><argument_list pos:start="97:31" pos:end="97:100">(<argument pos:start="97:32" pos:end="97:33"><expr pos:start="97:32" pos:end="97:33"><name pos:start="97:32" pos:end="97:33">pb</name></expr></argument>, <argument pos:start="97:36" pos:end="97:38"><expr pos:start="97:36" pos:end="97:38"><name pos:start="97:36" pos:end="97:38">mov</name></expr></argument>, <argument pos:start="97:41" pos:end="97:57"><expr pos:start="97:41" pos:end="97:57"><operator pos:start="97:41" pos:end="97:41">&amp;</operator><operator pos:start="97:42" pos:end="97:42">(</operator><name pos:start="97:43" pos:end="97:56"><name pos:start="97:43" pos:end="97:45">mov</name><operator pos:start="97:46" pos:end="97:47">-&gt;</operator><name pos:start="97:48" pos:end="97:53">tracks</name><index pos:start="97:54" pos:end="97:56">[<expr pos:start="97:55" pos:end="97:55"><name pos:start="97:55" pos:end="97:55">i</name></expr>]</index></name><operator pos:start="97:57" pos:end="97:57">)</operator></expr></argument>, <argument pos:start="97:60" pos:end="97:99"><expr pos:start="97:60" pos:end="97:99"><ternary pos:start="97:60" pos:end="97:99"><condition pos:start="97:60" pos:end="97:78"><expr pos:start="97:60" pos:end="97:76"><name pos:start="97:60" pos:end="97:60">i</name> <operator pos:start="97:62" pos:end="97:62">&lt;</operator> <name pos:start="97:64" pos:end="97:76"><name pos:start="97:64" pos:end="97:64">s</name><operator pos:start="97:65" pos:end="97:66">-&gt;</operator><name pos:start="97:67" pos:end="97:76">nb_streams</name></name></expr> ?</condition><then pos:start="97:80" pos:end="97:92"> <expr pos:start="97:80" pos:end="97:92"><name pos:start="97:80" pos:end="97:92"><name pos:start="97:80" pos:end="97:80">s</name><operator pos:start="97:81" pos:end="97:82">-&gt;</operator><name pos:start="97:83" pos:end="97:89">streams</name><index pos:start="97:90" pos:end="97:92">[<expr pos:start="97:91" pos:end="97:91"><name pos:start="97:91" pos:end="97:91">i</name></expr>]</index></name></expr> </then><else pos:start="97:94" pos:end="97:99">: <expr pos:start="97:96" pos:end="97:99"><name pos:start="97:96" pos:end="97:99">NULL</name></expr></else></ternary></expr></argument>)</argument_list></call></expr>;</expr_stmt>

        </block_content>}</block></if></if_stmt>

    </block_content>}</block></for>

    <if_stmt pos:start="103:5" pos:end="105:36"><if pos:start="103:5" pos:end="105:36">if <condition pos:start="103:8" pos:end="103:42">(<expr pos:start="103:9" pos:end="103:41"><name pos:start="103:9" pos:end="103:18"><name pos:start="103:9" pos:end="103:11">mov</name><operator pos:start="103:12" pos:end="103:13">-&gt;</operator><name pos:start="103:14" pos:end="103:18">flags</name></name> <operator pos:start="103:20" pos:end="103:20">&amp;</operator> <name pos:start="103:22" pos:end="103:41">FF_MOV_FLAG_FRAGMENT</name></expr>)</condition><block type="pseudo" pos:start="105:9" pos:end="105:36"><block_content pos:start="105:9" pos:end="105:36">

        <expr_stmt pos:start="105:9" pos:end="105:36"><expr pos:start="105:9" pos:end="105:35"><call pos:start="105:9" pos:end="105:35"><name pos:start="105:9" pos:end="105:26">mov_write_mvex_tag</name><argument_list pos:start="105:27" pos:end="105:35">(<argument pos:start="105:28" pos:end="105:29"><expr pos:start="105:28" pos:end="105:29"><name pos:start="105:28" pos:end="105:29">pb</name></expr></argument>, <argument pos:start="105:32" pos:end="105:34"><expr pos:start="105:32" pos:end="105:34"><name pos:start="105:32" pos:end="105:34">mov</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt> <comment type="block" pos:start="105:38" pos:end="105:82">/* QuickTime requires trak to precede this */</comment>



    <if_stmt pos:start="109:5" pos:end="115:39"><if pos:start="109:5" pos:end="111:38">if <condition pos:start="109:8" pos:end="109:30">(<expr pos:start="109:9" pos:end="109:29"><name pos:start="109:9" pos:end="109:17"><name pos:start="109:9" pos:end="109:11">mov</name><operator pos:start="109:12" pos:end="109:13">-&gt;</operator><name pos:start="109:14" pos:end="109:17">mode</name></name> <operator pos:start="109:19" pos:end="109:20">==</operator> <name pos:start="109:22" pos:end="109:29">MODE_PSP</name></expr>)</condition><block type="pseudo" pos:start="111:9" pos:end="111:38"><block_content pos:start="111:9" pos:end="111:38">

        <expr_stmt pos:start="111:9" pos:end="111:38"><expr pos:start="111:9" pos:end="111:37"><call pos:start="111:9" pos:end="111:37"><name pos:start="111:9" pos:end="111:30">mov_write_uuidusmt_tag</name><argument_list pos:start="111:31" pos:end="111:37">(<argument pos:start="111:32" pos:end="111:33"><expr pos:start="111:32" pos:end="111:33"><name pos:start="111:32" pos:end="111:33">pb</name></expr></argument>, <argument pos:start="111:36" pos:end="111:36"><expr pos:start="111:36" pos:end="111:36"><name pos:start="111:36" pos:end="111:36">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if>

    <else pos:start="113:5" pos:end="115:39">else<block type="pseudo" pos:start="115:9" pos:end="115:39"><block_content pos:start="115:9" pos:end="115:39">

        <expr_stmt pos:start="115:9" pos:end="115:39"><expr pos:start="115:9" pos:end="115:38"><call pos:start="115:9" pos:end="115:38"><name pos:start="115:9" pos:end="115:26">mov_write_udta_tag</name><argument_list pos:start="115:27" pos:end="115:38">(<argument pos:start="115:28" pos:end="115:29"><expr pos:start="115:28" pos:end="115:29"><name pos:start="115:28" pos:end="115:29">pb</name></expr></argument>, <argument pos:start="115:32" pos:end="115:34"><expr pos:start="115:32" pos:end="115:34"><name pos:start="115:32" pos:end="115:34">mov</name></expr></argument>, <argument pos:start="115:37" pos:end="115:37"><expr pos:start="115:37" pos:end="115:37"><name pos:start="115:37" pos:end="115:37">s</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></else></if_stmt>



    <return pos:start="119:5" pos:end="119:32">return <expr pos:start="119:12" pos:end="119:31"><call pos:start="119:12" pos:end="119:31"><name pos:start="119:12" pos:end="119:22">update_size</name><argument_list pos:start="119:23" pos:end="119:31">(<argument pos:start="119:24" pos:end="119:25"><expr pos:start="119:24" pos:end="119:25"><name pos:start="119:24" pos:end="119:25">pb</name></expr></argument>, <argument pos:start="119:28" pos:end="119:30"><expr pos:start="119:28" pos:end="119:30"><name pos:start="119:28" pos:end="119:30">pos</name></expr></argument>)</argument_list></call></expr>;</return>

</block_content>}</block></function>
</unit>
